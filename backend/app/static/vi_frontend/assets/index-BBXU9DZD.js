(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function $y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jf={exports:{}},Pi={};var Kb;function ZS(){if(Kb)return Pi;Kb=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:d}}return Pi.Fragment=a,Pi.jsx=s,Pi.jsxs=s,Pi}var Xb;function GS(){return Xb||(Xb=1,jf.exports=ZS()),jf.exports}var l=GS(),wf={exports:{}},ot={};var Jb;function PS(){if(Jb)return ot;Jb=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function I(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,_={};function q(w,Y,de){this.props=w,this.context=Y,this.refs=_,this.updater=de||E}q.prototype.isReactComponent={},q.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},q.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function D(){}D.prototype=q.prototype;function J(w,Y,de){this.props=w,this.context=Y,this.refs=_,this.updater=de||E}var U=J.prototype=new D;U.constructor=J,A(U,q.prototype),U.isPureReactComponent=!0;var T=Array.isArray;function G(){}var L={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ue(w,Y,de){var k=de.ref;return{$$typeof:e,type:w,key:Y,ref:k!==void 0?k:null,props:de}}function Ee(w,Y){return ue(w.type,Y,w.props)}function je(w){return typeof w=="object"&&w!==null&&w.$$typeof===e}function ie(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(de){return Y[de]})}var we=/\/+/g;function ke(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?ie(""+w.key):Y.toString(36)}function Te(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(G,G):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function M(w,Y,de,k,fe){var me=typeof w;(me==="undefined"||me==="boolean")&&(w=null);var ze=!1;if(w===null)ze=!0;else switch(me){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(w.$$typeof){case e:case a:ze=!0;break;case y:return ze=w._init,M(ze(w._payload),Y,de,k,fe)}}if(ze)return fe=fe(w),ze=k===""?"."+ke(w,0):k,T(fe)?(de="",ze!=null&&(de=ze.replace(we,"$&/")+"/"),M(fe,Y,de,"",function(Ue){return Ue})):fe!=null&&(je(fe)&&(fe=Ee(fe,de+(fe.key==null||w&&w.key===fe.key?"":(""+fe.key).replace(we,"$&/")+"/")+ze)),Y.push(fe)),1;ze=0;var qe=k===""?".":k+":";if(T(w))for(var ge=0;ge<w.length;ge++)k=w[ge],me=qe+ke(k,ge),ze+=M(k,Y,de,me,fe);else if(ge=I(w),typeof ge=="function")for(w=ge.call(w),ge=0;!(k=w.next()).done;)k=k.value,me=qe+ke(k,ge++),ze+=M(k,Y,de,me,fe);else if(me==="object"){if(typeof w.then=="function")return M(Te(w),Y,de,k,fe);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ze}function F(w,Y,de){if(w==null)return w;var k=[],fe=0;return M(w,k,"","",function(me){return Y.call(de,me,fe++)}),k}function ae(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(de){(w._status===0||w._status===-1)&&(w._status=1,w._result=de)},function(de){(w._status===0||w._status===-1)&&(w._status=2,w._result=de)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var xe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ce={map:F,forEach:function(w,Y,de){F(w,function(){Y.apply(this,arguments)},de)},count:function(w){var Y=0;return F(w,function(){Y++}),Y},toArray:function(w){return F(w,function(Y){return Y})||[]},only:function(w){if(!je(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ot.Activity=x,ot.Children=Ce,ot.Component=q,ot.Fragment=s,ot.Profiler=c,ot.PureComponent=J,ot.StrictMode=i,ot.Suspense=v,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ot.__COMPILER_RUNTIME={__proto__:null,c:function(w){return L.H.useMemoCache(w)}},ot.cache=function(w){return function(){return w.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(w,Y,de){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var k=A({},w.props),fe=w.key;if(Y!=null)for(me in Y.key!==void 0&&(fe=""+Y.key),Y)!ee.call(Y,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Y.ref===void 0||(k[me]=Y[me]);var me=arguments.length-2;if(me===1)k.children=de;else if(1<me){for(var ze=Array(me),qe=0;qe<me;qe++)ze[qe]=arguments[qe+2];k.children=ze}return ue(w.type,fe,k)},ot.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},ot.createElement=function(w,Y,de){var k,fe={},me=null;if(Y!=null)for(k in Y.key!==void 0&&(me=""+Y.key),Y)ee.call(Y,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(fe[k]=Y[k]);var ze=arguments.length-2;if(ze===1)fe.children=de;else if(1<ze){for(var qe=Array(ze),ge=0;ge<ze;ge++)qe[ge]=arguments[ge+2];fe.children=qe}if(w&&w.defaultProps)for(k in ze=w.defaultProps,ze)fe[k]===void 0&&(fe[k]=ze[k]);return ue(w,me,fe)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(w){return{$$typeof:h,render:w}},ot.isValidElement=je,ot.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:ae}},ot.memo=function(w,Y){return{$$typeof:p,type:w,compare:Y===void 0?null:Y}},ot.startTransition=function(w){var Y=L.T,de={};L.T=de;try{var k=w(),fe=L.S;fe!==null&&fe(de,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(G,xe)}catch(me){xe(me)}finally{Y!==null&&de.types!==null&&(Y.types=de.types),L.T=Y}},ot.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ot.use=function(w){return L.H.use(w)},ot.useActionState=function(w,Y,de){return L.H.useActionState(w,Y,de)},ot.useCallback=function(w,Y){return L.H.useCallback(w,Y)},ot.useContext=function(w){return L.H.useContext(w)},ot.useDebugValue=function(){},ot.useDeferredValue=function(w,Y){return L.H.useDeferredValue(w,Y)},ot.useEffect=function(w,Y){return L.H.useEffect(w,Y)},ot.useEffectEvent=function(w){return L.H.useEffectEvent(w)},ot.useId=function(){return L.H.useId()},ot.useImperativeHandle=function(w,Y,de){return L.H.useImperativeHandle(w,Y,de)},ot.useInsertionEffect=function(w,Y){return L.H.useInsertionEffect(w,Y)},ot.useLayoutEffect=function(w,Y){return L.H.useLayoutEffect(w,Y)},ot.useMemo=function(w,Y){return L.H.useMemo(w,Y)},ot.useOptimistic=function(w,Y){return L.H.useOptimistic(w,Y)},ot.useReducer=function(w,Y,de){return L.H.useReducer(w,Y,de)},ot.useRef=function(w){return L.H.useRef(w)},ot.useState=function(w){return L.H.useState(w)},ot.useSyncExternalStore=function(w,Y,de){return L.H.useSyncExternalStore(w,Y,de)},ot.useTransition=function(){return L.H.useTransition()},ot.version="19.2.0",ot}var Wb;function Bm(){return Wb||(Wb=1,wf.exports=PS()),wf.exports}var g=Bm();const pt=$y(g);var _f={exports:{}},Qi={},Ef={exports:{}},Cf={};var ev;function QS(){return ev||(ev=1,(function(e){function a(M,F){var ae=M.length;M.push(F);e:for(;0<ae;){var xe=ae-1>>>1,Ce=M[xe];if(0<c(Ce,F))M[xe]=F,M[ae]=Ce,ae=xe;else break e}}function s(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var F=M[0],ae=M.pop();if(ae!==F){M[0]=ae;e:for(var xe=0,Ce=M.length,w=Ce>>>1;xe<w;){var Y=2*(xe+1)-1,de=M[Y],k=Y+1,fe=M[k];if(0>c(de,ae))k<Ce&&0>c(fe,de)?(M[xe]=fe,M[k]=ae,xe=k):(M[xe]=de,M[Y]=ae,xe=Y);else if(k<Ce&&0>c(fe,ae))M[xe]=fe,M[k]=ae,xe=k;else break e}}return F}function c(M,F){var ae=M.sortIndex-F.sortIndex;return ae!==0?ae:M.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,h=f.now();e.unstable_now=function(){return f.now()-h}}var v=[],p=[],y=1,x=null,S=3,I=!1,E=!1,A=!1,_=!1,q=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function U(M){for(var F=s(p);F!==null;){if(F.callback===null)i(p);else if(F.startTime<=M)i(p),F.sortIndex=F.expirationTime,a(v,F);else break;F=s(p)}}function T(M){if(A=!1,U(M),!E)if(s(v)!==null)E=!0,G||(G=!0,ie());else{var F=s(p);F!==null&&Te(T,F.startTime-M)}}var G=!1,L=-1,ee=5,ue=-1;function Ee(){return _?!0:!(e.unstable_now()-ue<ee)}function je(){if(_=!1,G){var M=e.unstable_now();ue=M;var F=!0;try{e:{E=!1,A&&(A=!1,D(L),L=-1),I=!0;var ae=S;try{t:{for(U(M),x=s(v);x!==null&&!(x.expirationTime>M&&Ee());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,S=x.priorityLevel;var Ce=xe(x.expirationTime<=M);if(M=e.unstable_now(),typeof Ce=="function"){x.callback=Ce,U(M),F=!0;break t}x===s(v)&&i(v),U(M)}else i(v);x=s(v)}if(x!==null)F=!0;else{var w=s(p);w!==null&&Te(T,w.startTime-M),F=!1}}break e}finally{x=null,S=ae,I=!1}F=void 0}}finally{F?ie():G=!1}}}var ie;if(typeof J=="function")ie=function(){J(je)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ke=we.port2;we.port1.onmessage=je,ie=function(){ke.postMessage(null)}}else ie=function(){q(je,0)};function Te(M,F){L=q(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(M){switch(S){case 1:case 2:case 3:var F=3;break;default:F=S}var ae=S;S=F;try{return M()}finally{S=ae}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ae=S;S=M;try{return F()}finally{S=ae}},e.unstable_scheduleCallback=function(M,F,ae){var xe=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,M){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ae+Ce,M={id:y++,callback:F,priorityLevel:M,startTime:ae,expirationTime:Ce,sortIndex:-1},ae>xe?(M.sortIndex=ae,a(p,M),s(v)===null&&M===s(p)&&(A?(D(L),L=-1):A=!0,Te(T,ae-xe))):(M.sortIndex=Ce,a(v,M),E||I||(E=!0,G||(G=!0,ie()))),M},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(M){var F=S;return function(){var ae=S;S=F;try{return M.apply(this,arguments)}finally{S=ae}}}})(Cf)),Cf}var tv;function YS(){return tv||(tv=1,Ef.exports=QS()),Ef.exports}var Af={exports:{}},Jn={};var nv;function KS(){if(nv)return Jn;nv=1;var e=Bm();function a(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,p,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:v,containerInfo:p,implementation:y}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jn.createPortal=function(v,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(v,p,null,y)},Jn.flushSync=function(v){var p=f.T,y=i.p;try{if(f.T=null,i.p=2,v)return v()}finally{f.T=p,i.p=y,i.d.f()}},Jn.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(v,p))},Jn.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},Jn.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:I}):y==="script"&&i.d.X(v,{crossOrigin:x,integrity:S,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jn.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(v)},Jn.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin);i.d.L(v,y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jn.preloadModule=function(v,p){if(typeof v=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(v)},Jn.requestFormReset=function(v){i.d.r(v)},Jn.unstable_batchedUpdates=function(v,p){return v(p)},Jn.useFormState=function(v,p,y){return f.H.useFormState(v,p,y)},Jn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jn.version="19.2.0",Jn}var av;function XS(){if(av)return Af.exports;av=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),Af.exports=KS(),Af.exports}var sv;function JS(){if(sv)return Qi;sv=1;var e=YS(),a=Bm(),s=XS();function i(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(d(t)!==t)throw Error(i(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(i(188));return n!==t?null:t}for(var r=t,o=n;;){var u=r.return;if(u===null)break;var m=u.alternate;if(m===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===r)return v(u),t;if(m===o)return v(u),n;m=m.sibling}throw Error(i(188))}if(r.return!==o.return)r=u,o=m;else{for(var b=!1,N=u.child;N;){if(N===r){b=!0,r=u,o=m;break}if(N===o){b=!0,o=u,r=m;break}N=N.sibling}if(!b){for(N=m.child;N;){if(N===r){b=!0,r=m,o=u;break}if(N===o){b=!0,o=m,r=u;break}N=N.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),J=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=je&&t[je]||t["@@iterator"],typeof t=="function"?t:null)}var we=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===we?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case q:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case G:return"SuspenseList";case ue:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case J:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case U:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return n=t.displayName||null,n!==null?n:ke(t.type)||"Memo";case ee:n=t._payload,t=t._init;try{return ke(t(n))}catch{}}return null}var Te=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],Ce=-1;function w(t){return{current:t}}function Y(t){0>Ce||(t.current=xe[Ce],xe[Ce]=null,Ce--)}function de(t,n){Ce++,xe[Ce]=t.current,t.current=n}var k=w(null),fe=w(null),me=w(null),ze=w(null);function qe(t,n){switch(de(me,n),de(fe,t),de(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?yb(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=yb(n),t=xb(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(k),de(k,t)}function ge(){Y(k),Y(fe),Y(me)}function Ue(t){t.memoizedState!==null&&de(ze,t);var n=k.current,r=xb(n,t.type);n!==r&&(de(fe,t),de(k,r))}function Ie(t){fe.current===t&&(Y(k),Y(fe)),ze.current===t&&(Y(ze),Hi._currentValue=ae)}var Xe,lt;function De(t){if(Xe===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xe=n&&n[1]||"",lt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+t+lt}var Pe=!1;function ve(t,n){if(!t||Pe)return"";Pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ce){var re=ce}Reflect.construct(t,[],Se)}else{try{Se.call()}catch(ce){re=ce}t.call(Se.prototype)}}else{try{throw Error()}catch(ce){re=ce}(Se=t())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ce){if(ce&&re&&typeof ce.stack=="string")return[ce.stack,re.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],N=m[1];if(b&&N){var z=b.split(`
`),ne=N.split(`
`);for(u=o=0;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;for(;u<ne.length&&!ne[u].includes("DetermineComponentFrameRoot");)u++;if(o===z.length||u===ne.length)for(o=z.length-1,u=ne.length-1;1<=o&&0<=u&&z[o]!==ne[u];)u--;for(;1<=o&&0<=u;o--,u--)if(z[o]!==ne[u]){if(o!==1||u!==1)do if(o--,u--,0>u||z[o]!==ne[u]){var be=`
`+z[o].replace(" at new "," at ");return t.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",t.displayName)),be}while(1<=o&&0<=u);break}}}finally{Pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?De(r):""}function Ze(t,n){switch(t.tag){case 26:case 27:case 5:return De(t.type);case 16:return De("Lazy");case 13:return t.child!==n&&n!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return ve(t.type,!1);case 11:return ve(t.type.render,!1);case 1:return ve(t.type,!0);case 31:return De("Activity");default:return""}}function Ae(t){try{var n="",r=null;do n+=Ze(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Je=Object.prototype.hasOwnProperty,C=e.unstable_scheduleCallback,Q=e.unstable_cancelCallback,R=e.unstable_shouldYield,P=e.unstable_requestPaint,Z=e.unstable_now,le=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,se=e.unstable_NormalPriority,Le=e.unstable_LowPriority,He=e.unstable_IdlePriority,it=e.log,Gt=e.unstable_setDisableYieldValue,Ne=null,tt=null;function Pt(t){if(typeof it=="function"&&Gt(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Ne,t)}catch{}}var _t=Math.clz32?Math.clz32:Vn,It=Math.log,hn=Math.LN2;function Vn(t){return t>>>=0,t===0?32:31-(It(t)/hn|0)|0}var Zn=256,ct=262144,Gn=4194304;function Ln(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ta(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var N=o&134217727;return N!==0?(o=N&~m,o!==0?u=Ln(o):(b&=N,b!==0?u=Ln(b):r||(r=N&~t,r!==0&&(u=Ln(r))))):(N=o&~m,N!==0?u=Ln(N):b!==0?u=Ln(b):r||(r=o&~t,r!==0&&(u=Ln(r)))),u===0?0:n!==0&&n!==u&&(n&m)===0&&(m=u&-u,r=n&-n,m>=r||m===32&&(r&4194048)!==0)?n:u}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Qn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var t=Gn;return Gn<<=1,(Gn&62914560)===0&&(Gn=4194304),t}function W(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fe(t,n,r,o,u,m){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var N=t.entanglements,z=t.expirationTimes,ne=t.hiddenUpdates;for(r=b&~r;0<r;){var be=31-_t(r),Se=1<<be;N[be]=0,z[be]=-1;var re=ne[be];if(re!==null)for(ne[be]=null,be=0;be<re.length;be++){var ce=re[be];ce!==null&&(ce.lane&=-536870913)}r&=~Se}o!==0&&st(t,o,0),m!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function st(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function et(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-_t(r),u=1<<o;u&n|t[o]&n&&(t[o]|=n),r&=~u}}function Ke(t,n){var r=n&-n;return r=(r&42)!==0?1:Kt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Kt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ct(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vt(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:Hb(t.type))}function Qt(t,n){var r=F.p;try{return F.p=t,n()}finally{F.p=r}}var At=Math.random().toString(36).slice(2),ut="__reactFiber$"+At,bt="__reactProps$"+At,zt="__reactContainer$"+At,kt="__reactEvents$"+At,on="__reactListeners$"+At,pn="__reactHandles$"+At,en="__reactResources$"+At,Ot="__reactMarker$"+At;function yn(t){delete t[ut],delete t[bt],delete t[kt],delete t[on],delete t[pn]}function Et(t){var n=t[ut];if(n)return n;for(var r=t.parentNode;r;){if(n=r[zt]||r[ut]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Cb(t);t!==null;){if(r=t[ut])return r;t=Cb(t)}return n}t=r,r=t.parentNode}return null}function xn(t){if(t=t[ut]||t[zt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Yn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(i(33))}function kn(t){var n=t[en];return n||(n=t[en]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(t){t[Ot]=!0}var qs=new Set,ca={};function Nn(t,n){Kn(t,n),Kn(t+"Capture",n)}function Kn(t,n){for(ca[t]=n,t=0;t<n.length;t++)qs.add(n[t])}var Ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wa={},ua={};function Bn(t){return Je.call(ua,t)?!0:Je.call(Wa,t)?!1:Ja.test(t)?ua[t]=!0:(Wa[t]=!0,!1)}function tn(t,n,r){if(Bn(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function _a(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Xn(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function na(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function al(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(b){r=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Is(t){if(!t._valueTracker){var n=na(t)?"checked":"value";t._valueTracker=al(t,n,""+t[n])}}function yr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=na(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xr=/[\n"\\]/g;function Sn(t){return t.replace(xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Nr(t,n,r,o,u,m,b,N){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?bs(t,b,nn(n)):r!=null?bs(t,b,nn(r)):o!=null&&t.removeAttribute("value"),u==null&&m!=null&&(t.defaultChecked=!!m),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+nn(N):t.removeAttribute("name")}function $s(t,n,r,o,u,m,b,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Is(t);return}r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,N||n===t.value||(t.value=n),t.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=N?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Is(t)}function bs(t,n,r){n==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function cs(t,n,r,o){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&o&&(t[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function sl(t,n,r){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+nn(r):""}function rl(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(i(92));if(Te(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=nn(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Is(t)}function es(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sr(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||aa.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function vs(t,n,r){if(n!=null&&typeof n!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&r[u]!==o&&Sr(t,u,o)}else for(var m in n)n.hasOwnProperty(m)&&Sr(t,m,n[m])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ys(t){return oi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ea(){}var Ma=null;function wr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ts=null,fa=null;function ll(t){var n=xn(t);if(n&&(t=n.stateNode)){var r=t[bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Nr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var u=o[bt]||null;if(!u)throw Error(i(90));Nr(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&yr(o)}break e;case"textarea":sl(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&cs(t,!!r.multiple,n,!1)}}}var _r=!1;function il(t,n,r){if(_r)return t(n,r);_r=!0;try{var o=t(n);return o}finally{if(_r=!1,(ts!==null||fa!==null)&&(lc(),ts&&(n=ts,t=fa,fa=ts=null,ll(n),t)))for(n=0;n<t.length;n++)ll(t[n])}}function jn(t,n){var r=t.stateNode;if(r===null)return null;var o=r[bt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(sa)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){xs=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{xs=!1}var qn=null,O=null,$=null;function he(){if($)return $;var t,n=O,r=n.length,o,u="value"in qn?qn.value:qn.textContent,m=u.length;for(t=0;t<r&&n[t]===u[t];t++);var b=r-t;for(o=1;o<=b&&n[r-o]===u[m-o];o++);return $=u.slice(t,1<o?1-o:void 0)}function Me(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function rt(){return!0}function wt(){return!1}function dt(t){function n(r,o,u,m,b){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(r=t[N],this[N]=r?r(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rt:wt,this.isPropagationStopped=wt,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var j={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H=dt(j),K=x({},j,{view:0,detail:0}),pe=dt(K),Ve,Ut,$t,Ua=x({},K,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$t&&($t&&t.type==="mousemove"?(Ve=t.screenX-$t.screenX,Ut=t.screenY-$t.screenY):Ut=Ve=0,$t=t),Ve)},movementY:function(t){return"movementY"in t?t.movementY:Ut}}),ns=dt(Ua),Fs=x({},Ua,{dataTransfer:0}),ol=dt(Fs),wo=x({},K,{relatedTarget:0}),ci=dt(wo),Eu=x({},j,{animationName:0,elapsedTime:0,pseudoElement:0}),cl=dt(Eu),Y0=x({},j,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K0=dt(Y0),X0=x({},j,{data:0}),jh=dt(X0),J0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tN(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=eN[t])?!!n[t]:!1}function Cu(){return tN}var nN=x({},K,{key:function(t){if(t.key){var n=J0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Me(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(t){return t.type==="keypress"?Me(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Me(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aN=dt(nN),sN=x({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wh=dt(sN),rN=x({},K,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),lN=dt(rN),iN=x({},j,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=dt(iN),cN=x({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uN=dt(cN),dN=x({},j,{newState:0,oldState:0}),fN=dt(dN),mN=[9,13,27,32],Au=sa&&"CompositionEvent"in window,ui=null;sa&&"documentMode"in document&&(ui=document.documentMode);var hN=sa&&"TextEvent"in window&&!ui,_h=sa&&(!Au||ui&&8<ui&&11>=ui),Eh=" ",Ch=!1;function Ah(t,n){switch(t){case"keyup":return mN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function pN(t,n){switch(t){case"compositionend":return Oh(n);case"keypress":return n.which!==32?null:(Ch=!0,Eh);case"textInput":return t=n.data,t===Eh&&Ch?null:t;default:return null}}function gN(t,n){if(ul)return t==="compositionend"||!Au&&Ah(t,n)?(t=he(),$=O=qn=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _h&&n.locale!=="ko"?null:n.data;default:return null}}var bN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!bN[t.type]:n==="textarea"}function Th(t,n,r,o){ts?fa?fa.push(o):fa=[o]:ts=o,n=mc(n,"onChange"),0<n.length&&(r=new H("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var di=null,fi=null;function vN(t){mb(t,0)}function _o(t){var n=Yn(t);if(yr(n))return t}function Dh(t,n){if(t==="change")return n}var zh=!1;if(sa){var Ou;if(sa){var Ru="oninput"in document;if(!Ru){var kh=document.createElement("div");kh.setAttribute("oninput","return;"),Ru=typeof kh.oninput=="function"}Ou=Ru}else Ou=!1;zh=Ou&&(!document.documentMode||9<document.documentMode)}function Mh(){di&&(di.detachEvent("onpropertychange",Uh),fi=di=null)}function Uh(t){if(t.propertyName==="value"&&_o(fi)){var n=[];Th(n,fi,t,wr(t)),il(vN,n)}}function yN(t,n,r){t==="focusin"?(Mh(),di=n,fi=r,di.attachEvent("onpropertychange",Uh)):t==="focusout"&&Mh()}function xN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _o(fi)}function NN(t,n){if(t==="click")return _o(n)}function SN(t,n){if(t==="input"||t==="change")return _o(n)}function jN(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ca=typeof Object.is=="function"?Object.is:jN;function mi(t,n){if(Ca(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!Je.call(n,u)||!Ca(t[u],n[u]))return!1}return!0}function Lh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bh(t,n){var r=Lh(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lh(r)}}function qh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ih(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gs(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=gs(t.document)}return n}function Tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var wN=sa&&"documentMode"in document&&11>=document.documentMode,dl=null,Du=null,hi=null,zu=!1;function $h(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zu||dl==null||dl!==gs(o)||(o=dl,"selectionStart"in o&&Tu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hi&&mi(hi,o)||(hi=o,o=mc(Du,"onSelect"),0<o.length&&(n=new H("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=dl)))}function Er(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var fl={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},ku={},Fh={};sa&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Cr(t){if(ku[t])return ku[t];if(!fl[t])return t;var n=fl[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Fh)return ku[t]=n[r];return t}var Hh=Cr("animationend"),Vh=Cr("animationiteration"),Zh=Cr("animationstart"),_N=Cr("transitionrun"),EN=Cr("transitionstart"),CN=Cr("transitioncancel"),Gh=Cr("transitionend"),Ph=new Map,Mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mu.push("scrollEnd");function as(t,n){Ph.set(t,n),Nn(n,[t])}var Eo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},La=[],ml=0,Uu=0;function Co(){for(var t=ml,n=Uu=ml=0;n<t;){var r=La[n];La[n++]=null;var o=La[n];La[n++]=null;var u=La[n];La[n++]=null;var m=La[n];if(La[n++]=null,o!==null&&u!==null){var b=o.pending;b===null?u.next=u:(u.next=b.next,b.next=u),o.pending=u}m!==0&&Qh(r,u,m)}}function Ao(t,n,r,o){La[ml++]=t,La[ml++]=n,La[ml++]=r,La[ml++]=o,Uu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Lu(t,n,r,o){return Ao(t,n,r,o),Oo(t)}function Ar(t,n){return Ao(t,null,null,n),Oo(t)}function Qh(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var u=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(u=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,u&&n!==null&&(u=31-_t(r),t=m.hiddenUpdates,o=t[u],o===null?t[u]=[n]:o.push(n),n.lane=r|536870912),m):null}function Oo(t){if(50<Ui)throw Ui=0,Gd=null,Error(i(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var hl={};function AN(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(t,n,r,o){return new AN(t,n,r,o)}function Bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ns(t,n){var r=t.alternate;return r===null?(r=Aa(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Yh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ro(t,n,r,o,u,m){var b=0;if(o=t,typeof t=="function")Bu(t)&&(b=1);else if(typeof t=="string")b=zS(t,r,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ue:return t=Aa(31,r,n,u),t.elementType=ue,t.lanes=m,t;case A:return Or(r.children,u,m,n);case _:b=8,u|=24;break;case q:return t=Aa(12,r,n,u|2),t.elementType=q,t.lanes=m,t;case T:return t=Aa(13,r,n,u),t.elementType=T,t.lanes=m,t;case G:return t=Aa(19,r,n,u),t.elementType=G,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:b=10;break e;case D:b=9;break e;case U:b=11;break e;case L:b=14;break e;case ee:b=16,o=null;break e}b=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return n=Aa(b,r,n,u),n.elementType=t,n.type=o,n.lanes=m,n}function Or(t,n,r,o){return t=Aa(7,t,o,n),t.lanes=r,t}function qu(t,n,r){return t=Aa(6,t,null,n),t.lanes=r,t}function Kh(t){var n=Aa(18,null,null,0);return n.stateNode=t,n}function Iu(t,n,r){return n=Aa(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xh=new WeakMap;function Ba(t,n){if(typeof t=="object"&&t!==null){var r=Xh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ae(n)},Xh.set(t,n),n)}return{value:t,source:n,stack:Ae(n)}}var pl=[],gl=0,To=null,pi=0,qa=[],Ia=0,Hs=null,us=1,ds="";function Ss(t,n){pl[gl++]=pi,pl[gl++]=To,To=t,pi=n}function Jh(t,n,r){qa[Ia++]=us,qa[Ia++]=ds,qa[Ia++]=Hs,Hs=t;var o=us;t=ds;var u=32-_t(o)-1;o&=~(1<<u),r+=1;var m=32-_t(n)+u;if(30<m){var b=u-u%5;m=(o&(1<<b)-1).toString(32),o>>=b,u-=b,us=1<<32-_t(n)+u|r<<u|o,ds=m+t}else us=1<<m|r<<u|o,ds=t}function $u(t){t.return!==null&&(Ss(t,1),Jh(t,1,0))}function Fu(t){for(;t===To;)To=pl[--gl],pl[gl]=null,pi=pl[--gl],pl[gl]=null;for(;t===Hs;)Hs=qa[--Ia],qa[Ia]=null,ds=qa[--Ia],qa[Ia]=null,us=qa[--Ia],qa[Ia]=null}function Wh(t,n){qa[Ia++]=us,qa[Ia++]=ds,qa[Ia++]=Hs,us=n.id,ds=n.overflow,Hs=t}var In=null,Xt=null,jt=!1,Vs=null,$a=!1,Hu=Error(i(519));function Zs(t){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gi(Ba(n,t)),Hu}function ep(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[ut]=t,n[bt]=o,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<Bi.length;r++)xt(Bi[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),$s(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),rl(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||bb(n.textContent,r)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Ea),n=!0):n=!1,n||Zs(t,!0)}function tp(t){for(In=t.return;In;)switch(In.tag){case 5:case 31:case 13:$a=!1;return;case 27:case 3:$a=!0;return;default:In=In.return}}function bl(t){if(t!==In)return!1;if(!jt)return tp(t),jt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||of(t.type,t.memoizedProps)),r=!r),r&&Xt&&Zs(t),tp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Xt=Eb(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Xt=Eb(t)}else n===27?(n=Xt,rr(t.type)?(t=mf,mf=null,Xt=t):Xt=n):Xt=In?Ha(t.stateNode.nextSibling):null;return!0}function Rr(){Xt=In=null,jt=!1}function Vu(){var t=Vs;return t!==null&&(ba===null?ba=t:ba.push.apply(ba,t),Vs=null),t}function gi(t){Vs===null?Vs=[t]:Vs.push(t)}var Zu=w(null),Tr=null,js=null;function Gs(t,n,r){de(Zu,n._currentValue),n._currentValue=r}function ws(t){t._currentValue=Zu.current,Y(Zu)}function Gu(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function Pu(t,n,r,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var m=u.dependencies;if(m!==null){var b=u.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=u;for(var z=0;z<n.length;z++)if(N.context===n[z]){m.lanes|=r,N=m.alternate,N!==null&&(N.lanes|=r),Gu(m.return,r,t),o||(b=null);break e}m=N.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(i(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),Gu(b,r,t),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===t){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function vl(t,n,r,o){t=null;for(var u=n,m=!1;u!==null;){if(!m){if((u.flags&524288)!==0)m=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var N=u.type;Ca(u.pendingProps.value,b.value)||(t!==null?t.push(N):t=[N])}}else if(u===ze.current){if(b=u.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Hi):t=[Hi])}u=u.return}t!==null&&Pu(n,t,r,o),n.flags|=262144}function Do(t){for(t=t.firstContext;t!==null;){if(!Ca(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Tr=t,js=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $n(t){return np(Tr,t)}function zo(t,n){return Tr===null&&Dr(t),np(t,n)}function np(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},js===null){if(t===null)throw Error(i(308));js=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else js=js.next=n;return r}var ON=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},RN=e.unstable_scheduleCallback,TN=e.unstable_NormalPriority,wn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new ON,data:new Map,refCount:0}}function bi(t){t.refCount--,t.refCount===0&&RN(TN,function(){t.controller.abort()})}var vi=null,Yu=0,yl=0,xl=null;function DN(t,n){if(vi===null){var r=vi=[];Yu=0,yl=Jd(),xl={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Yu++,n.then(ap,ap),n}function ap(){if(--Yu===0&&vi!==null){xl!==null&&(xl.status="fulfilled");var t=vi;vi=null,yl=0,xl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zN(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var sp=M.S;M.S=function(t,n){$g=Z(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&DN(t,n),sp!==null&&sp(t,n)};var zr=w(null);function Ku(){var t=zr.current;return t!==null?t:Zt.pooledCache}function ko(t,n){n===null?de(zr,zr.current):de(zr,n.pool)}function rp(){var t=Ku();return t===null?null:{parent:wn._currentValue,pool:t}}var Nl=Error(i(460)),Xu=Error(i(474)),Mo=Error(i(542)),Uo={then:function(){}};function lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ip(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ea,Ea),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t;default:if(typeof n.status=="string")n.then(Ea,Ea);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t}throw Mr=n,Nl}}function kr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Mr=r,Nl):r}}var Mr=null;function op(){if(Mr===null)throw Error(i(459));var t=Mr;return Mr=null,t}function cp(t){if(t===Nl||t===Mo)throw Error(i(483))}var Sl=null,yi=0;function Lo(t){var n=yi;return yi+=1,Sl===null&&(Sl=[]),ip(Sl,t,n)}function xi(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bo(t,n){throw n.$$typeof===S?Error(i(525)):(t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function up(t){function n(V,B){if(t){var te=V.deletions;te===null?(V.deletions=[B],V.flags|=16):te.push(B)}}function r(V,B){if(!t)return null;for(;B!==null;)n(V,B),B=B.sibling;return null}function o(V){for(var B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function u(V,B){return V=Ns(V,B),V.index=0,V.sibling=null,V}function m(V,B,te){return V.index=te,t?(te=V.alternate,te!==null?(te=te.index,te<B?(V.flags|=67108866,B):te):(V.flags|=67108866,B)):(V.flags|=1048576,B)}function b(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function N(V,B,te,ye){return B===null||B.tag!==6?(B=qu(te,V.mode,ye),B.return=V,B):(B=u(B,te),B.return=V,B)}function z(V,B,te,ye){var We=te.type;return We===A?be(V,B,te.props.children,ye,te.key):B!==null&&(B.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===ee&&kr(We)===B.type)?(B=u(B,te.props),xi(B,te),B.return=V,B):(B=Ro(te.type,te.key,te.props,null,V.mode,ye),xi(B,te),B.return=V,B)}function ne(V,B,te,ye){return B===null||B.tag!==4||B.stateNode.containerInfo!==te.containerInfo||B.stateNode.implementation!==te.implementation?(B=Iu(te,V.mode,ye),B.return=V,B):(B=u(B,te.children||[]),B.return=V,B)}function be(V,B,te,ye,We){return B===null||B.tag!==7?(B=Or(te,V.mode,ye,We),B.return=V,B):(B=u(B,te),B.return=V,B)}function Se(V,B,te){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=qu(""+B,V.mode,te),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return te=Ro(B.type,B.key,B.props,null,V.mode,te),xi(te,B),te.return=V,te;case E:return B=Iu(B,V.mode,te),B.return=V,B;case ee:return B=kr(B),Se(V,B,te)}if(Te(B)||ie(B))return B=Or(B,V.mode,te,null),B.return=V,B;if(typeof B.then=="function")return Se(V,Lo(B),te);if(B.$$typeof===J)return Se(V,zo(V,B),te);Bo(V,B)}return null}function re(V,B,te,ye){var We=B!==null?B.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return We!==null?null:N(V,B,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return te.key===We?z(V,B,te,ye):null;case E:return te.key===We?ne(V,B,te,ye):null;case ee:return te=kr(te),re(V,B,te,ye)}if(Te(te)||ie(te))return We!==null?null:be(V,B,te,ye,null);if(typeof te.then=="function")return re(V,B,Lo(te),ye);if(te.$$typeof===J)return re(V,B,zo(V,te),ye);Bo(V,te)}return null}function ce(V,B,te,ye,We){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return V=V.get(te)||null,N(B,V,""+ye,We);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case I:return V=V.get(ye.key===null?te:ye.key)||null,z(B,V,ye,We);case E:return V=V.get(ye.key===null?te:ye.key)||null,ne(B,V,ye,We);case ee:return ye=kr(ye),ce(V,B,te,ye,We)}if(Te(ye)||ie(ye))return V=V.get(te)||null,be(B,V,ye,We,null);if(typeof ye.then=="function")return ce(V,B,te,Lo(ye),We);if(ye.$$typeof===J)return ce(V,B,te,zo(B,ye),We);Bo(B,ye)}return null}function Ge(V,B,te,ye){for(var We=null,Rt=null,Qe=B,ht=B=0,St=null;Qe!==null&&ht<te.length;ht++){Qe.index>ht?(St=Qe,Qe=null):St=Qe.sibling;var Tt=re(V,Qe,te[ht],ye);if(Tt===null){Qe===null&&(Qe=St);break}t&&Qe&&Tt.alternate===null&&n(V,Qe),B=m(Tt,B,ht),Rt===null?We=Tt:Rt.sibling=Tt,Rt=Tt,Qe=St}if(ht===te.length)return r(V,Qe),jt&&Ss(V,ht),We;if(Qe===null){for(;ht<te.length;ht++)Qe=Se(V,te[ht],ye),Qe!==null&&(B=m(Qe,B,ht),Rt===null?We=Qe:Rt.sibling=Qe,Rt=Qe);return jt&&Ss(V,ht),We}for(Qe=o(Qe);ht<te.length;ht++)St=ce(Qe,V,ht,te[ht],ye),St!==null&&(t&&St.alternate!==null&&Qe.delete(St.key===null?ht:St.key),B=m(St,B,ht),Rt===null?We=St:Rt.sibling=St,Rt=St);return t&&Qe.forEach(function(ur){return n(V,ur)}),jt&&Ss(V,ht),We}function at(V,B,te,ye){if(te==null)throw Error(i(151));for(var We=null,Rt=null,Qe=B,ht=B=0,St=null,Tt=te.next();Qe!==null&&!Tt.done;ht++,Tt=te.next()){Qe.index>ht?(St=Qe,Qe=null):St=Qe.sibling;var ur=re(V,Qe,Tt.value,ye);if(ur===null){Qe===null&&(Qe=St);break}t&&Qe&&ur.alternate===null&&n(V,Qe),B=m(ur,B,ht),Rt===null?We=ur:Rt.sibling=ur,Rt=ur,Qe=St}if(Tt.done)return r(V,Qe),jt&&Ss(V,ht),We;if(Qe===null){for(;!Tt.done;ht++,Tt=te.next())Tt=Se(V,Tt.value,ye),Tt!==null&&(B=m(Tt,B,ht),Rt===null?We=Tt:Rt.sibling=Tt,Rt=Tt);return jt&&Ss(V,ht),We}for(Qe=o(Qe);!Tt.done;ht++,Tt=te.next())Tt=ce(Qe,V,ht,Tt.value,ye),Tt!==null&&(t&&Tt.alternate!==null&&Qe.delete(Tt.key===null?ht:Tt.key),B=m(Tt,B,ht),Rt===null?We=Tt:Rt.sibling=Tt,Rt=Tt);return t&&Qe.forEach(function(VS){return n(V,VS)}),jt&&Ss(V,ht),We}function Vt(V,B,te,ye){if(typeof te=="object"&&te!==null&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case I:e:{for(var We=te.key;B!==null;){if(B.key===We){if(We=te.type,We===A){if(B.tag===7){r(V,B.sibling),ye=u(B,te.props.children),ye.return=V,V=ye;break e}}else if(B.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===ee&&kr(We)===B.type){r(V,B.sibling),ye=u(B,te.props),xi(ye,te),ye.return=V,V=ye;break e}r(V,B);break}else n(V,B);B=B.sibling}te.type===A?(ye=Or(te.props.children,V.mode,ye,te.key),ye.return=V,V=ye):(ye=Ro(te.type,te.key,te.props,null,V.mode,ye),xi(ye,te),ye.return=V,V=ye)}return b(V);case E:e:{for(We=te.key;B!==null;){if(B.key===We)if(B.tag===4&&B.stateNode.containerInfo===te.containerInfo&&B.stateNode.implementation===te.implementation){r(V,B.sibling),ye=u(B,te.children||[]),ye.return=V,V=ye;break e}else{r(V,B);break}else n(V,B);B=B.sibling}ye=Iu(te,V.mode,ye),ye.return=V,V=ye}return b(V);case ee:return te=kr(te),Vt(V,B,te,ye)}if(Te(te))return Ge(V,B,te,ye);if(ie(te)){if(We=ie(te),typeof We!="function")throw Error(i(150));return te=We.call(te),at(V,B,te,ye)}if(typeof te.then=="function")return Vt(V,B,Lo(te),ye);if(te.$$typeof===J)return Vt(V,B,zo(V,te),ye);Bo(V,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,B!==null&&B.tag===6?(r(V,B.sibling),ye=u(B,te),ye.return=V,V=ye):(r(V,B),ye=qu(te,V.mode,ye),ye.return=V,V=ye),b(V)):r(V,B)}return function(V,B,te,ye){try{yi=0;var We=Vt(V,B,te,ye);return Sl=null,We}catch(Qe){if(Qe===Nl||Qe===Mo)throw Qe;var Rt=Aa(29,Qe,null,V.mode);return Rt.lanes=ye,Rt.return=V,Rt}finally{}}}var Ur=up(!0),dp=up(!1),Ps=!1;function Ju(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Dt&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=Oo(t),Qh(t,null,r),n}return Ao(t,o,n,r),Oo(t)}function Ni(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,et(t,r)}}function ed(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?u=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?u=m=n:m=m.next=n}else u=m=n;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var td=!1;function Si(){if(td){var t=xl;if(t!==null)throw t}}function ji(t,n,r,o){td=!1;var u=t.updateQueue;Ps=!1;var m=u.firstBaseUpdate,b=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var z=N,ne=z.next;z.next=null,b===null?m=ne:b.next=ne,b=z;var be=t.alternate;be!==null&&(be=be.updateQueue,N=be.lastBaseUpdate,N!==b&&(N===null?be.firstBaseUpdate=ne:N.next=ne,be.lastBaseUpdate=z))}if(m!==null){var Se=u.baseState;b=0,be=ne=z=null,N=m;do{var re=N.lane&-536870913,ce=re!==N.lane;if(ce?(Nt&re)===re:(o&re)===re){re!==0&&re===yl&&(td=!0),be!==null&&(be=be.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ge=t,at=N;re=n;var Vt=r;switch(at.tag){case 1:if(Ge=at.payload,typeof Ge=="function"){Se=Ge.call(Vt,Se,re);break e}Se=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=at.payload,re=typeof Ge=="function"?Ge.call(Vt,Se,re):Ge,re==null)break e;Se=x({},Se,re);break e;case 2:Ps=!0}}re=N.callback,re!==null&&(t.flags|=64,ce&&(t.flags|=8192),ce=u.callbacks,ce===null?u.callbacks=[re]:ce.push(re))}else ce={lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},be===null?(ne=be=ce,z=Se):be=be.next=ce,b|=re;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;ce=N,N=ce.next,ce.next=null,u.lastBaseUpdate=ce,u.shared.pending=null}}while(!0);be===null&&(z=Se),u.baseState=z,u.firstBaseUpdate=ne,u.lastBaseUpdate=be,m===null&&(u.shared.lanes=0),er|=b,t.lanes=b,t.memoizedState=Se}}function fp(t,n){if(typeof t!="function")throw Error(i(191,t));t.call(n)}function mp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fp(r[t],n)}var jl=w(null),qo=w(0);function hp(t,n){t=zs,de(qo,t),de(jl,n),zs=t|n.baseLanes}function nd(){de(qo,zs),de(jl,jl.current)}function ad(){zs=qo.current,Y(jl),Y(qo)}var Oa=w(null),Fa=null;function Ks(t){var n=t.alternate;de(gn,gn.current&1),de(Oa,t),Fa===null&&(n===null||jl.current!==null||n.memoizedState!==null)&&(Fa=t)}function sd(t){de(gn,gn.current),de(Oa,t),Fa===null&&(Fa=t)}function pp(t){t.tag===22?(de(gn,gn.current),de(Oa,t),Fa===null&&(Fa=t)):Xs()}function Xs(){de(gn,gn.current),de(Oa,Oa.current)}function Ra(t){Y(Oa),Fa===t&&(Fa=null),Y(gn)}var gn=w(0);function Io(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||df(r)||ff(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _s=0,ft=null,Ft=null,_n=null,$o=!1,wl=!1,Lr=!1,Fo=0,wi=0,_l=null,kN=0;function dn(){throw Error(i(321))}function rd(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ca(t[r],n[r]))return!1;return!0}function ld(t,n,r,o,u,m){return _s=m,ft=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Jp:Nd,Lr=!1,m=r(o,u),Lr=!1,wl&&(m=bp(n,r,o,u)),gp(t),m}function gp(t){M.H=Ci;var n=Ft!==null&&Ft.next!==null;if(_s=0,_n=Ft=ft=null,$o=!1,wi=0,_l=null,n)throw Error(i(300));t===null||En||(t=t.dependencies,t!==null&&Do(t)&&(En=!0))}function bp(t,n,r,o){ft=t;var u=0;do{if(wl&&(_l=null),wi=0,wl=!1,25<=u)throw Error(i(301));if(u+=1,_n=Ft=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=Wp,m=n(r,o)}while(wl);return m}function MN(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?_i(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(ft.flags|=1024),n}function id(){var t=Fo!==0;return Fo=0,t}function od(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function cd(t){if($o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$o=!1}_s=0,_n=Ft=ft=null,wl=!1,wi=Fo=0,_l=null}function ra(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ft.memoizedState=_n=t:_n=_n.next=t,_n}function bn(){if(Ft===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=_n===null?ft.memoizedState:_n.next;if(n!==null)_n=n,Ft=t;else{if(t===null)throw ft.alternate===null?Error(i(467)):Error(i(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},_n===null?ft.memoizedState=_n=t:_n=_n.next=t}return _n}function Ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _i(t){var n=wi;return wi+=1,_l===null&&(_l=[]),t=ip(_l,t,n),n=ft,(_n===null?n.memoizedState:_n.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Jp:Nd),t}function Vo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _i(t);if(t.$$typeof===J)return $n(t)}throw Error(i(438,String(t)))}function ud(t){var n=null,r=ft.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=ft.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ho(),ft.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=Ee;return n.index++,r}function Es(t,n){return typeof n=="function"?n(t):n}function Zo(t){var n=bn();return dd(n,Ft,t)}function dd(t,n,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=t.baseQueue,m=o.pending;if(m!==null){if(u!==null){var b=u.next;u.next=m.next,m.next=b}n.baseQueue=u=m,o.pending=null}if(m=t.baseState,u===null)t.memoizedState=m;else{n=u.next;var N=b=null,z=null,ne=n,be=!1;do{var Se=ne.lane&-536870913;if(Se!==ne.lane?(Nt&Se)===Se:(_s&Se)===Se){var re=ne.revertLane;if(re===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),Se===yl&&(be=!0);else if((_s&re)===re){ne=ne.next,re===yl&&(be=!0);continue}else Se={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},z===null?(N=z=Se,b=m):z=z.next=Se,ft.lanes|=re,er|=re;Se=ne.action,Lr&&r(m,Se),m=ne.hasEagerState?ne.eagerState:r(m,Se)}else re={lane:Se,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},z===null?(N=z=re,b=m):z=z.next=re,ft.lanes|=Se,er|=Se;ne=ne.next}while(ne!==null&&ne!==n);if(z===null?b=m:z.next=N,!Ca(m,t.memoizedState)&&(En=!0,be&&(r=xl,r!==null)))throw r;t.memoizedState=m,t.baseState=b,t.baseQueue=z,o.lastRenderedState=m}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function fd(t){var n=bn(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,u=r.pending,m=n.memoizedState;if(u!==null){r.pending=null;var b=u=u.next;do m=t(m,b.action),b=b.next;while(b!==u);Ca(m,n.memoizedState)||(En=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function vp(t,n,r){var o=ft,u=bn(),m=jt;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=n();var b=!Ca((Ft||u).memoizedState,r);if(b&&(u.memoizedState=r,En=!0),u=u.queue,pd(Np.bind(null,o,u,t),[t]),u.getSnapshot!==n||b||_n!==null&&_n.memoizedState.tag&1){if(o.flags|=2048,El(9,{destroy:void 0},xp.bind(null,o,u,r,n),null),Zt===null)throw Error(i(349));m||(_s&127)!==0||yp(o,n,r)}return r}function yp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ft.updateQueue,n===null?(n=Ho(),ft.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function xp(t,n,r,o){n.value=r,n.getSnapshot=o,Sp(n)&&jp(t)}function Np(t,n,r){return r(function(){Sp(n)&&jp(t)})}function Sp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ca(t,r)}catch{return!0}}function jp(t){var n=Ar(t,2);n!==null&&va(n,t,2)}function md(t){var n=ra();if(typeof t=="function"){var r=t;if(t=r(),Lr){Pt(!0);try{r()}finally{Pt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},n}function wp(t,n,r,o){return t.baseState=r,dd(t,Ft,typeof o=="function"?o:Es)}function UN(t,n,r,o,u){if(Qo(t))throw Error(i(485));if(t=n.action,t!==null){var m={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};M.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,_p(n,m)):(m.next=r.next,n.pending=r.next=m)}}function _p(t,n){var r=n.action,o=n.payload,u=t.state;if(n.isTransition){var m=M.T,b={};M.T=b;try{var N=r(u,o),z=M.S;z!==null&&z(b,N),Ep(t,n,N)}catch(ne){hd(t,n,ne)}finally{m!==null&&b.types!==null&&(m.types=b.types),M.T=m}}else try{m=r(u,o),Ep(t,n,m)}catch(ne){hd(t,n,ne)}}function Ep(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Cp(t,n,o)},function(o){return hd(t,n,o)}):Cp(t,n,r)}function Cp(t,n,r){n.status="fulfilled",n.value=r,Ap(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_p(t,r)))}function hd(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ap(n),n=n.next;while(n!==o)}t.action=null}function Ap(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Op(t,n){return n}function Rp(t,n){if(jt){var r=Zt.formState;if(r!==null){e:{var o=ft;if(jt){if(Xt){t:{for(var u=Xt,m=$a;u.nodeType!==8;){if(!m){u=null;break t}if(u=Ha(u.nextSibling),u===null){u=null;break t}}m=u.data,u=m==="F!"||m==="F"?u:null}if(u){Xt=Ha(u.nextSibling),o=u.data==="F!";break e}}Zs(o)}o=!1}o&&(n=r[0])}}return r=ra(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},r.queue=o,r=Yp.bind(null,ft,o),o.dispatch=r,o=md(!1),m=xd.bind(null,ft,!1,o.queue),o=ra(),u={state:n,dispatch:null,action:t,pending:null},o.queue=u,r=UN.bind(null,ft,u,m,r),u.dispatch=r,o.memoizedState=t,[n,r,!1]}function Tp(t){var n=bn();return Dp(n,Ft,t)}function Dp(t,n,r){if(n=dd(t,n,Op)[0],t=Zo(Es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=_i(n)}catch(b){throw b===Nl?Mo:b}else o=n;n=bn();var u=n.queue,m=u.dispatch;return r!==n.memoizedState&&(ft.flags|=2048,El(9,{destroy:void 0},LN.bind(null,u,r),null)),[o,m,t]}function LN(t,n){t.action=n}function zp(t){var n=bn(),r=Ft;if(r!==null)return Dp(n,r,t);bn(),n=n.memoizedState,r=bn();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function El(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=ft.updateQueue,n===null&&(n=Ho(),ft.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function kp(){return bn().memoizedState}function Go(t,n,r,o){var u=ra();ft.flags|=t,u.memoizedState=El(1|n,{destroy:void 0},r,o===void 0?null:o)}function Po(t,n,r,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState.inst;Ft!==null&&o!==null&&rd(o,Ft.memoizedState.deps)?u.memoizedState=El(n,m,r,o):(ft.flags|=t,u.memoizedState=El(1|n,m,r,o))}function Mp(t,n){Go(8390656,8,t,n)}function pd(t,n){Po(2048,8,t,n)}function BN(t){ft.flags|=4;var n=ft.updateQueue;if(n===null)n=Ho(),ft.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Up(t){var n=bn().memoizedState;return BN({ref:n,nextImpl:t}),function(){if((Dt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Lp(t,n){return Po(4,2,t,n)}function Bp(t,n){return Po(4,4,t,n)}function qp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ip(t,n,r){r=r!=null?r.concat([t]):null,Po(4,4,qp.bind(null,n,t),r)}function gd(){}function $p(t,n){var r=bn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&rd(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Fp(t,n){var r=bn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&rd(n,o[1]))return o[0];if(o=t(),Lr){Pt(!0);try{t()}finally{Pt(!1)}}return r.memoizedState=[o,n],o}function bd(t,n,r){return r===void 0||(_s&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Hg(),ft.lanes|=t,er|=t,r)}function Hp(t,n,r,o){return Ca(r,n)?r:jl.current!==null?(t=bd(t,r,o),Ca(t,n)||(En=!0),t):(_s&42)===0||(_s&1073741824)!==0&&(Nt&261930)===0?(En=!0,t.memoizedState=r):(t=Hg(),ft.lanes|=t,er|=t,n)}function Vp(t,n,r,o,u){var m=F.p;F.p=m!==0&&8>m?m:8;var b=M.T,N={};M.T=N,xd(t,!1,n,r);try{var z=u(),ne=M.S;if(ne!==null&&ne(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var be=zN(z,o);Ei(t,n,be,za(t))}else Ei(t,n,o,za(t))}catch(Se){Ei(t,n,{then:function(){},status:"rejected",reason:Se},za())}finally{F.p=m,b!==null&&N.types!==null&&(b.types=N.types),M.T=b}}function qN(){}function vd(t,n,r,o){if(t.tag!==5)throw Error(i(476));var u=Zp(t).queue;Vp(t,u,n,ae,r===null?qN:function(){return Gp(t),r(o)})}function Zp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:ae},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gp(t){var n=Zp(t);n.next===null&&(n=t.alternate.memoizedState),Ei(t,n.next.queue,{},za())}function yd(){return $n(Hi)}function Pp(){return bn().memoizedState}function Qp(){return bn().memoizedState}function IN(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=za();t=Qs(r);var o=Ys(n,t,r);o!==null&&(va(o,n,r),Ni(o,n,r)),n={cache:Qu()},t.payload=n;return}n=n.return}}function $N(t,n,r){var o=za();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qo(t)?Kp(n,r):(r=Lu(t,n,r,o),r!==null&&(va(r,t,o),Xp(r,n,o)))}function Yp(t,n,r){var o=za();Ei(t,n,r,o)}function Ei(t,n,r,o){var u={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qo(t))Kp(n,u);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,N=m(b,r);if(u.hasEagerState=!0,u.eagerState=N,Ca(N,b))return Ao(t,n,u,0),Zt===null&&Co(),!1}catch{}finally{}if(r=Lu(t,n,u,o),r!==null)return va(r,t,o),Xp(r,n,o),!0}return!1}function xd(t,n,r,o){if(o={lane:2,revertLane:Jd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qo(t)){if(n)throw Error(i(479))}else n=Lu(t,r,o,2),n!==null&&va(n,t,2)}function Qo(t){var n=t.alternate;return t===ft||n!==null&&n===ft}function Kp(t,n){wl=$o=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,et(t,r)}}var Ci={readContext:$n,use:Vo,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Ci.useEffectEvent=dn;var Jp={readContext:$n,use:Vo,useCallback:function(t,n){return ra().memoizedState=[t,n===void 0?null:n],t},useContext:$n,useEffect:Mp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Go(4194308,4,qp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Go(4194308,4,t,n)},useInsertionEffect:function(t,n){Go(4,2,t,n)},useMemo:function(t,n){var r=ra();n=n===void 0?null:n;var o=t();if(Lr){Pt(!0);try{t()}finally{Pt(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=ra();if(r!==void 0){var u=r(n);if(Lr){Pt(!0);try{r(n)}finally{Pt(!1)}}}else u=n;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=$N.bind(null,ft,t),[o.memoizedState,t]},useRef:function(t){var n=ra();return t={current:t},n.memoizedState=t},useState:function(t){t=md(t);var n=t.queue,r=Yp.bind(null,ft,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:gd,useDeferredValue:function(t,n){var r=ra();return bd(r,t,n)},useTransition:function(){var t=md(!1);return t=Vp.bind(null,ft,t.queue,!0,!1),ra().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=ft,u=ra();if(jt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),Zt===null)throw Error(i(349));(Nt&127)!==0||yp(o,n,r)}u.memoizedState=r;var m={value:r,getSnapshot:n};return u.queue=m,Mp(Np.bind(null,o,m,t),[t]),o.flags|=2048,El(9,{destroy:void 0},xp.bind(null,o,m,r,n),null),r},useId:function(){var t=ra(),n=Zt.identifierPrefix;if(jt){var r=ds,o=us;r=(o&~(1<<32-_t(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kN++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:yd,useFormState:Rp,useActionState:Rp,useOptimistic:function(t){var n=ra();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xd.bind(null,ft,!0,r),r.dispatch=n,[t,n]},useMemoCache:ud,useCacheRefresh:function(){return ra().memoizedState=IN.bind(null,ft)},useEffectEvent:function(t){var n=ra(),r={impl:t};return n.memoizedState=r,function(){if((Dt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Nd={readContext:$n,use:Vo,useCallback:$p,useContext:$n,useEffect:pd,useImperativeHandle:Ip,useInsertionEffect:Lp,useLayoutEffect:Bp,useMemo:Fp,useReducer:Zo,useRef:kp,useState:function(){return Zo(Es)},useDebugValue:gd,useDeferredValue:function(t,n){var r=bn();return Hp(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Zo(Es)[0],n=bn().memoizedState;return[typeof t=="boolean"?t:_i(t),n]},useSyncExternalStore:vp,useId:Pp,useHostTransitionStatus:yd,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var r=bn();return wp(r,Ft,t,n)},useMemoCache:ud,useCacheRefresh:Qp};Nd.useEffectEvent=Up;var Wp={readContext:$n,use:Vo,useCallback:$p,useContext:$n,useEffect:pd,useImperativeHandle:Ip,useInsertionEffect:Lp,useLayoutEffect:Bp,useMemo:Fp,useReducer:fd,useRef:kp,useState:function(){return fd(Es)},useDebugValue:gd,useDeferredValue:function(t,n){var r=bn();return Ft===null?bd(r,t,n):Hp(r,Ft.memoizedState,t,n)},useTransition:function(){var t=fd(Es)[0],n=bn().memoizedState;return[typeof t=="boolean"?t:_i(t),n]},useSyncExternalStore:vp,useId:Pp,useHostTransitionStatus:yd,useFormState:zp,useActionState:zp,useOptimistic:function(t,n){var r=bn();return Ft!==null?wp(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ud,useCacheRefresh:Qp};Wp.useEffectEvent=Up;function Sd(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jd={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=za(),u=Qs(o);u.payload=n,r!=null&&(u.callback=r),n=Ys(t,u,o),n!==null&&(va(n,t,o),Ni(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=za(),u=Qs(o);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Ys(t,u,o),n!==null&&(va(n,t,o),Ni(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=za(),o=Qs(r);o.tag=2,n!=null&&(o.callback=n),n=Ys(t,o,r),n!==null&&(va(n,t,r),Ni(n,t,r))}};function eg(t,n,r,o,u,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):n.prototype&&n.prototype.isPureReactComponent?!mi(r,o)||!mi(u,m):!0}function tg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&jd.enqueueReplaceState(n,n.state,null)}function Br(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function ng(t){Eo(t)}function ag(t){console.error(t)}function sg(t){Eo(t)}function Yo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function rg(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function wd(t,n,r){return r=Qs(r),r.tag=3,r.payload={element:null},r.callback=function(){Yo(t,n)},r}function lg(t){return t=Qs(t),t.tag=3,t}function ig(t,n,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var m=o.value;t.payload=function(){return u(m)},t.callback=function(){rg(n,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){rg(n,r,o),typeof u!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function FN(t,n,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&vl(n,r,u,!0),r=Oa.current,r!==null){switch(r.tag){case 31:case 13:return Fa===null?ic():r.alternate===null&&fn===0&&(fn=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===Uo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Yd(t,o,u)),!1;case 22:return r.flags|=65536,o===Uo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Yd(t,o,u)),!1}throw Error(i(435,r.tag))}return Yd(t,o,u),ic(),!1}if(jt)return n=Oa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==Hu&&(t=Error(i(422),{cause:o}),gi(Ba(t,r)))):(o!==Hu&&(n=Error(i(423),{cause:o}),gi(Ba(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=Ba(o,r),u=wd(t.stateNode,o,u),ed(t,u),fn!==4&&(fn=2)),!1;var m=Error(i(520),{cause:o});if(m=Ba(m,r),Mi===null?Mi=[m]:Mi.push(m),fn!==4&&(fn=2),n===null)return!0;o=Ba(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=wd(r.stateNode,o,t),ed(r,t),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tr===null||!tr.has(m))))return r.flags|=65536,u&=-u,r.lanes|=u,u=lg(u),ig(u,t,r,o),ed(r,u),!1}r=r.return}while(r!==null);return!1}var _d=Error(i(461)),En=!1;function Fn(t,n,r,o){n.child=t===null?dp(n,null,r,o):Ur(n,t.child,r,o)}function og(t,n,r,o,u){r=r.render;var m=n.ref;if("ref"in o){var b={};for(var N in o)N!=="ref"&&(b[N]=o[N])}else b=o;return Dr(n),o=ld(t,n,r,b,m,u),N=id(),t!==null&&!En?(od(t,n,u),Cs(t,n,u)):(jt&&N&&$u(n),n.flags|=1,Fn(t,n,o,u),n.child)}function cg(t,n,r,o,u){if(t===null){var m=r.type;return typeof m=="function"&&!Bu(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,ug(t,n,m,o,u)):(t=Ro(r.type,null,o,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!zd(t,u)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:mi,r(b,o)&&t.ref===n.ref)return Cs(t,n,u)}return n.flags|=1,t=Ns(m,o),t.ref=n.ref,t.return=n,n.child=t}function ug(t,n,r,o,u){if(t!==null){var m=t.memoizedProps;if(mi(m,o)&&t.ref===n.ref)if(En=!1,n.pendingProps=o=m,zd(t,u))(t.flags&131072)!==0&&(En=!0);else return n.lanes=t.lanes,Cs(t,n,u)}return Ed(t,n,r,o,u)}function dg(t,n,r,o){var u=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=n.child=t.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~m}else o=0,n.child=null;return fg(t,n,m,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ko(n,m!==null?m.cachePool:null),m!==null?hp(n,m):nd(),pp(n);else return o=n.lanes=536870912,fg(t,n,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(ko(n,m.cachePool),hp(n,m),Xs(),n.memoizedState=null):(t!==null&&ko(n,null),nd(),Xs());return Fn(t,n,u,r),n.child}function Ai(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fg(t,n,r,o,u){var m=Ku();return m=m===null?null:{parent:wn._currentValue,pool:m},n.memoizedState={baseLanes:r,cachePool:m},t!==null&&ko(n,null),nd(),pp(n),t!==null&&vl(t,n,o,!0),n.childLanes=u,null}function Ko(t,n){return n=Jo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function mg(t,n,r){return Ur(n,t.child,null,r),t=Ko(n,n.pendingProps),t.flags|=2,Ra(n),n.memoizedState=null,t}function HN(t,n,r){var o=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(jt){if(o.mode==="hidden")return t=Ko(n,o),n.lanes=536870912,Ai(null,t);if(sd(n),(t=Xt)?(t=_b(t,$a),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:us,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},r=Kh(t),r.return=n,n.child=r,In=n,Xt=null)):t=null,t===null)throw Zs(n);return n.lanes=536870912,null}return Ko(n,o)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(sd(n),u)if(n.flags&256)n.flags&=-257,n=mg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(i(558));else if(En||vl(t,n,r,!1),u=(r&t.childLanes)!==0,En||u){if(o=Zt,o!==null&&(b=Ke(o,r),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ar(t,b),va(o,t,b),_d;ic(),n=mg(t,n,r)}else t=m.treeContext,Xt=Ha(b.nextSibling),In=n,jt=!0,Vs=null,$a=!1,t!==null&&Wh(n,t),n=Ko(n,o),n.flags|=4096;return n}return t=Ns(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ed(t,n,r,o,u){return Dr(n),r=ld(t,n,r,o,void 0,u),o=id(),t!==null&&!En?(od(t,n,u),Cs(t,n,u)):(jt&&o&&$u(n),n.flags|=1,Fn(t,n,r,u),n.child)}function hg(t,n,r,o,u,m){return Dr(n),n.updateQueue=null,r=bp(n,o,r,u),gp(t),o=id(),t!==null&&!En?(od(t,n,m),Cs(t,n,m)):(jt&&o&&$u(n),n.flags|=1,Fn(t,n,r,m),n.child)}function pg(t,n,r,o,u){if(Dr(n),n.stateNode===null){var m=hl,b=r.contextType;typeof b=="object"&&b!==null&&(m=$n(b)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Ju(n),b=r.contextType,m.context=typeof b=="object"&&b!==null?$n(b):hl,m.state=n.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(Sd(n,r,b,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&jd.enqueueReplaceState(m,m.state,null),ji(n,o,m,u),Si(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var N=n.memoizedProps,z=Br(r,N);m.props=z;var ne=m.context,be=r.contextType;b=hl,typeof be=="object"&&be!==null&&(b=$n(be));var Se=r.getDerivedStateFromProps;be=typeof Se=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,be||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||ne!==b)&&tg(n,m,o,b),Ps=!1;var re=n.memoizedState;m.state=re,ji(n,o,m,u),Si(),ne=n.memoizedState,N||re!==ne||Ps?(typeof Se=="function"&&(Sd(n,r,Se,o),ne=n.memoizedState),(z=Ps||eg(n,r,z,o,re,ne,b))?(be||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ne),m.props=o,m.state=ne,m.context=b,o=z):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Wu(t,n),b=n.memoizedProps,be=Br(r,b),m.props=be,Se=n.pendingProps,re=m.context,ne=r.contextType,z=hl,typeof ne=="object"&&ne!==null&&(z=$n(ne)),N=r.getDerivedStateFromProps,(ne=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Se||re!==z)&&tg(n,m,o,z),Ps=!1,re=n.memoizedState,m.state=re,ji(n,o,m,u),Si();var ce=n.memoizedState;b!==Se||re!==ce||Ps||t!==null&&t.dependencies!==null&&Do(t.dependencies)?(typeof N=="function"&&(Sd(n,r,N,o),ce=n.memoizedState),(be=Ps||eg(n,r,be,o,re,ce,z)||t!==null&&t.dependencies!==null&&Do(t.dependencies))?(ne||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ce,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ce,z)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=z,o=be):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Xo(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Ur(n,t.child,null,u),n.child=Ur(n,null,r,u)):Fn(t,n,r,u),n.memoizedState=m.state,t=n.child):t=Cs(t,n,u),t}function gg(t,n,r,o){return Rr(),n.flags|=256,Fn(t,n,r,o),n.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:rp()}}function Od(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Da),t}function bg(t,n,r){var o=n.pendingProps,u=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(gn.current&2)!==0),b&&(u=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(u?Ks(n):Xs(),(t=Xt)?(t=_b(t,$a),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:us,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},r=Kh(t),r.return=n,n.child=r,In=n,Xt=null)):t=null,t===null)throw Zs(n);return ff(t)?n.lanes=32:n.lanes=536870912,null}var N=o.children;return o=o.fallback,u?(Xs(),u=n.mode,N=Jo({mode:"hidden",children:N},u),o=Or(o,u,r,null),N.return=n,o.return=n,N.sibling=o,n.child=N,o=n.child,o.memoizedState=Ad(r),o.childLanes=Od(t,b,r),n.memoizedState=Cd,Ai(null,o)):(Ks(n),Rd(n,N))}var z=t.memoizedState;if(z!==null&&(N=z.dehydrated,N!==null)){if(m)n.flags&256?(Ks(n),n.flags&=-257,n=Td(t,n,r)):n.memoizedState!==null?(Xs(),n.child=t.child,n.flags|=128,n=null):(Xs(),N=o.fallback,u=n.mode,o=Jo({mode:"visible",children:o.children},u),N=Or(N,u,r,null),N.flags|=2,o.return=n,N.return=n,o.sibling=N,n.child=o,Ur(n,t.child,null,r),o=n.child,o.memoizedState=Ad(r),o.childLanes=Od(t,b,r),n.memoizedState=Cd,n=Ai(null,o));else if(Ks(n),ff(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var ne=b.dgst;b=ne,o=Error(i(419)),o.stack="",o.digest=b,gi({value:o,source:null,stack:null}),n=Td(t,n,r)}else if(En||vl(t,n,r,!1),b=(r&t.childLanes)!==0,En||b){if(b=Zt,b!==null&&(o=Ke(b,r),o!==0&&o!==z.retryLane))throw z.retryLane=o,Ar(t,o),va(b,t,o),_d;df(N)||ic(),n=Td(t,n,r)}else df(N)?(n.flags|=192,n.child=t.child,n=null):(t=z.treeContext,Xt=Ha(N.nextSibling),In=n,jt=!0,Vs=null,$a=!1,t!==null&&Wh(n,t),n=Rd(n,o.children),n.flags|=4096);return n}return u?(Xs(),N=o.fallback,u=n.mode,z=t.child,ne=z.sibling,o=Ns(z,{mode:"hidden",children:o.children}),o.subtreeFlags=z.subtreeFlags&65011712,ne!==null?N=Ns(ne,N):(N=Or(N,u,r,null),N.flags|=2),N.return=n,o.return=n,o.sibling=N,n.child=o,Ai(null,o),o=n.child,N=t.child.memoizedState,N===null?N=Ad(r):(u=N.cachePool,u!==null?(z=wn._currentValue,u=u.parent!==z?{parent:z,pool:z}:u):u=rp(),N={baseLanes:N.baseLanes|r,cachePool:u}),o.memoizedState=N,o.childLanes=Od(t,b,r),n.memoizedState=Cd,Ai(t.child,o)):(Ks(n),r=t.child,t=r.sibling,r=Ns(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=r,n.memoizedState=null,r)}function Rd(t,n){return n=Jo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Jo(t,n){return t=Aa(22,t,null,n),t.lanes=0,t}function Td(t,n,r){return Ur(n,t.child,null,r),t=Rd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vg(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Gu(t.return,n,r)}function Dd(t,n,r,o,u,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=r,b.tailMode=u,b.treeForkCount=m)}function yg(t,n,r){var o=n.pendingProps,u=o.revealOrder,m=o.tail;o=o.children;var b=gn.current,N=(b&2)!==0;if(N?(b=b&1|2,n.flags|=128):b&=1,de(gn,b),Fn(t,n,o,r),o=jt?pi:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,r,n);else if(t.tag===19)vg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Io(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Dd(n,!1,u,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Io(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}Dd(n,!0,r,null,m,o);break;case"together":Dd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Cs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(vl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,r=Ns(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ns(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function zd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Do(t)))}function VN(t,n,r){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),Gs(n,wn,t.memoizedState.cache),Rr();break;case 27:case 5:Ue(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:Gs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sd(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ks(n),n.flags|=128,null):(r&n.child.childLanes)!==0?bg(t,n,r):(Ks(n),t=Cs(t,n,r),t!==null?t.sibling:null);Ks(n);break;case 19:var u=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(vl(t,n,r,!1),o=(r&n.childLanes)!==0),u){if(o)return yg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),de(gn,gn.current),o)break;return null;case 22:return n.lanes=0,dg(t,n,r,n.pendingProps);case 24:Gs(n,wn,t.memoizedState.cache)}return Cs(t,n,r)}function xg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)En=!0;else{if(!zd(t,r)&&(n.flags&128)===0)return En=!1,VN(t,n,r);En=(t.flags&131072)!==0}else En=!1,jt&&(n.flags&1048576)!==0&&Jh(n,pi,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=kr(n.elementType),n.type=t,typeof t=="function")Bu(t)?(o=Br(t,o),n.tag=1,n=pg(null,n,t,o,r)):(n.tag=0,n=Ed(null,n,t,o,r));else{if(t!=null){var u=t.$$typeof;if(u===U){n.tag=11,n=og(null,n,t,o,r);break e}else if(u===L){n.tag=14,n=cg(null,n,t,o,r);break e}}throw n=ke(t)||t,Error(i(306,n,""))}}return n;case 0:return Ed(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,u=Br(o,n.pendingProps),pg(t,n,o,u,r);case 3:e:{if(qe(n,n.stateNode.containerInfo),t===null)throw Error(i(387));o=n.pendingProps;var m=n.memoizedState;u=m.element,Wu(t,n),ji(n,o,null,r);var b=n.memoizedState;if(o=b.cache,Gs(n,wn,o),o!==m.cache&&Pu(n,[wn],r,!0),Si(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=gg(t,n,o,r);break e}else if(o!==u){u=Ba(Error(i(424)),n),gi(u),n=gg(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xt=Ha(t.firstChild),In=n,jt=!0,Vs=null,$a=!0,r=dp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Rr(),o===u){n=Cs(t,n,r);break e}Fn(t,n,o,r)}n=n.child}return n;case 26:return Xo(t,n),t===null?(r=Tb(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,t=n.pendingProps,o=hc(me.current).createElement(r),o[ut]=n,o[bt]=t,Hn(o,r,t),Mt(o),n.stateNode=o):n.memoizedState=Tb(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ue(n),t===null&&jt&&(o=n.stateNode=Ab(n.type,n.pendingProps,me.current),In=n,$a=!0,u=Xt,rr(n.type)?(mf=u,Xt=Ha(o.firstChild)):Xt=u),Fn(t,n,n.pendingProps.children,r),Xo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((u=o=Xt)&&(o=xS(o,n.type,n.pendingProps,$a),o!==null?(n.stateNode=o,In=n,Xt=Ha(o.firstChild),$a=!1,u=!0):u=!1),u||Zs(n)),Ue(n),u=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,of(u,m)?o=null:b!==null&&of(u,b)&&(n.flags|=32),n.memoizedState!==null&&(u=ld(t,n,MN,null,null,r),Hi._currentValue=u),Xo(t,n),Fn(t,n,o,r),n.child;case 6:return t===null&&jt&&((t=r=Xt)&&(r=NS(r,n.pendingProps,$a),r!==null?(n.stateNode=r,In=n,Xt=null,t=!0):t=!1),t||Zs(n)),null;case 13:return bg(t,n,r);case 4:return qe(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ur(n,null,o,r):Fn(t,n,o,r),n.child;case 11:return og(t,n,n.type,n.pendingProps,r);case 7:return Fn(t,n,n.pendingProps,r),n.child;case 8:return Fn(t,n,n.pendingProps.children,r),n.child;case 12:return Fn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Gs(n,n.type,o.value),Fn(t,n,o.children,r),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,Dr(n),u=$n(u),o=o(u),n.flags|=1,Fn(t,n,o,r),n.child;case 14:return cg(t,n,n.type,n.pendingProps,r);case 15:return ug(t,n,n.type,n.pendingProps,r);case 19:return yg(t,n,r);case 31:return HN(t,n,r);case 22:return dg(t,n,r,n.pendingProps);case 24:return Dr(n),o=$n(wn),t===null?(u=Ku(),u===null&&(u=Zt,m=Qu(),u.pooledCache=m,m.refCount++,m!==null&&(u.pooledCacheLanes|=r),u=m),n.memoizedState={parent:o,cache:u},Ju(n),Gs(n,wn,u)):((t.lanes&r)!==0&&(Wu(t,n),ji(n,null,null,r),Si()),u=t.memoizedState,m=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Gs(n,wn,o)):(o=m.cache,Gs(n,wn,o),o!==u.cache&&Pu(n,[wn],r,!0))),Fn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function As(t){t.flags|=4}function kd(t,n,r,o,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Pg())t.flags|=8192;else throw Mr=Uo,Xu}else t.flags&=-16777217}function Ng(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ub(n))if(Pg())t.flags|=8192;else throw Mr=Uo,Xu}function Wo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?X():536870912,t.lanes|=n,Rl|=n)}function Oi(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function ZN(t,n,r){var o=n.pendingProps;switch(Fu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ws(wn),ge(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bl(n)?As(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vu())),Jt(n),null;case 26:var u=n.type,m=n.memoizedState;return t===null?(As(n),m!==null?(Jt(n),Ng(n,m)):(Jt(n),kd(n,u,null,o,r))):m?m!==t.memoizedState?(As(n),Jt(n),Ng(n,m)):(Jt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&As(n),Jt(n),kd(n,u,t,o,r)),null;case 27:if(Ie(n),r=me.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&As(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return Jt(n),null}t=k.current,bl(n)?ep(n):(t=Ab(u,o,r),n.stateNode=t,As(n))}return Jt(n),null;case 5:if(Ie(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&As(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return Jt(n),null}if(m=k.current,bl(n))ep(n);else{var b=hc(me.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(u,{is:o.is}):b.createElement(u)}}m[ut]=n,m[bt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(Hn(m,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&As(n)}}return Jt(n),kd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&As(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(i(166));if(t=me.current,bl(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,u=In,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[ut]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||bb(t.nodeValue,r)),t||Zs(n,!0)}else t=hc(t).createTextNode(o),t[ut]=n,n.stateNode=t}return Jt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=bl(n),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[ut]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),t=!1}else r=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Ra(n),n):(Ra(n),null);if((n.flags&128)!==0)throw Error(i(558))}return Jt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=bl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(i(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[ut]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),u=!1}else u=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Ra(n),n):(Ra(n),null)}return Ra(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wo(n,n.updateQueue),Jt(n),null);case 4:return ge(),t===null&&nf(n.stateNode.containerInfo),Jt(n),null;case 10:return ws(n.type),Jt(n),null;case 19:if(Y(gn),o=n.memoizedState,o===null)return Jt(n),null;if(u=(n.flags&128)!==0,m=o.rendering,m===null)if(u)Oi(o,!1);else{if(fn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Io(t),m!==null){for(n.flags|=128,Oi(o,!1),t=m.updateQueue,n.updateQueue=t,Wo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Yh(r,t),r=r.sibling;return de(gn,gn.current&1|2),jt&&Ss(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Z()>sc&&(n.flags|=128,u=!0,Oi(o,!1),n.lanes=4194304)}else{if(!u)if(t=Io(m),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Wo(n,t),Oi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!jt)return Jt(n),null}else 2*Z()-o.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,u=!0,Oi(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Z(),t.sibling=null,r=gn.current,de(gn,u?r&1|2:r&1),jt&&Ss(n,o.treeForkCount),t):(Jt(n),null);case 22:case 23:return Ra(n),ad(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Wo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Y(zr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ws(wn),Jt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function GN(t,n){switch(Fu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ws(wn),ge(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ie(n),null;case 31:if(n.memoizedState!==null){if(Ra(n),n.alternate===null)throw Error(i(340));Rr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ra(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Rr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(gn),null;case 4:return ge(),null;case 10:return ws(n.type),null;case 22:case 23:return Ra(n),ad(),t!==null&&Y(zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ws(wn),null;case 25:return null;default:return null}}function Sg(t,n){switch(Fu(n),n.tag){case 3:ws(wn),ge();break;case 26:case 27:case 5:Ie(n);break;case 4:ge();break;case 31:n.memoizedState!==null&&Ra(n);break;case 13:Ra(n);break;case 19:Y(gn);break;case 10:ws(n.type);break;case 22:case 23:Ra(n),ad(),t!==null&&Y(zr);break;case 24:ws(wn)}}function Ri(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&t)===t){o=void 0;var m=r.create,b=r.inst;o=m(),b.destroy=o}r=r.next}while(r!==u)}}catch(N){Bt(n,n.return,N)}}function Js(t,n,r){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&t)===t){var b=o.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,u=n;var z=r,ne=N;try{ne()}catch(be){Bt(u,z,be)}}}o=o.next}while(o!==m)}}catch(be){Bt(n,n.return,be)}}function jg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{mp(n,r)}catch(o){Bt(t,t.return,o)}}}function wg(t,n,r){r.props=Br(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Bt(t,n,o)}}function Ti(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(u){Bt(t,n,u)}}function fs(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){Bt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Bt(t,n,u)}else r.current=null}function _g(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){Bt(t,t.return,u)}}function Md(t,n,r){try{var o=t.stateNode;hS(o,t.type,r,n),o[bt]=n}catch(u){Bt(t,t.return,u)}}function Eg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function Ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ld(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ea));else if(o!==4&&(o===27&&rr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ld(t,n,r),t=t.sibling;t!==null;)Ld(t,n,r),t=t.sibling}function ec(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&rr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function Cg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Hn(n,o,r),n[ut]=t,n[bt]=r}catch(m){Bt(t,t.return,m)}}var Os=!1,Cn=!1,Bd=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function PN(t,n){if(t=t.containerInfo,rf=Nc,t=Ih(t),Tu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var b=0,N=-1,z=-1,ne=0,be=0,Se=t,re=null;t:for(;;){for(var ce;Se!==r||u!==0&&Se.nodeType!==3||(N=b+u),Se!==m||o!==0&&Se.nodeType!==3||(z=b+o),Se.nodeType===3&&(b+=Se.nodeValue.length),(ce=Se.firstChild)!==null;)re=Se,Se=ce;for(;;){if(Se===t)break t;if(re===r&&++ne===u&&(N=b),re===m&&++be===o&&(z=b),(ce=Se.nextSibling)!==null)break;Se=re,re=Se.parentNode}Se=ce}r=N===-1||z===-1?null:{start:N,end:z}}else r=null}r=r||{start:0,end:0}}else r=null;for(lf={focusedElem:t,selectionRange:r},Nc=!1,Mn=n;Mn!==null;)if(n=Mn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Mn=t;else for(;Mn!==null;){switch(n=Mn,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=n,u=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var Ge=Br(r.type,u);t=o.getSnapshotBeforeUpdate(Ge,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(at){Bt(r,r.return,at)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)uf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=n.sibling,t!==null){t.return=n.return,Mn=t;break}Mn=n.return}}function Og(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ts(t,r),o&4&&Ri(5,r);break;case 1:if(Ts(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(b){Bt(r,r.return,b)}else{var u=Br(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Bt(r,r.return,b)}}o&64&&jg(r),o&512&&Ti(r,r.return);break;case 3:if(Ts(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{mp(t,n)}catch(b){Bt(r,r.return,b)}}break;case 27:n===null&&o&4&&Cg(r);case 26:case 5:Ts(t,r),n===null&&o&4&&_g(r),o&512&&Ti(r,r.return);break;case 12:Ts(t,r);break;case 31:Ts(t,r),o&4&&Dg(t,r);break;case 13:Ts(t,r),o&4&&zg(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=nS.bind(null,r),SS(t,r))));break;case 22:if(o=r.memoizedState!==null||Os,!o){n=n!==null&&n.memoizedState!==null||Cn,u=Os;var m=Cn;Os=o,(Cn=n)&&!m?Ds(t,r,(r.subtreeFlags&8772)!==0):Ts(t,r),Os=u,Cn=m}break;case 30:break;default:Ts(t,r)}}function Rg(t){var n=t.alternate;n!==null&&(t.alternate=null,Rg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&yn(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var an=null,ha=!1;function Rs(t,n,r){for(r=r.child;r!==null;)Tg(t,n,r),r=r.sibling}function Tg(t,n,r){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ne,r)}catch{}switch(r.tag){case 26:Cn||fs(r,n),Rs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Cn||fs(r,n);var o=an,u=ha;rr(r.type)&&(an=r.stateNode,ha=!1),Rs(t,n,r),Ii(r.stateNode),an=o,ha=u;break;case 5:Cn||fs(r,n);case 6:if(o=an,u=ha,an=null,Rs(t,n,r),an=o,ha=u,an!==null)if(ha)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(r.stateNode)}catch(m){Bt(r,n,m)}else try{an.removeChild(r.stateNode)}catch(m){Bt(r,n,m)}break;case 18:an!==null&&(ha?(t=an,jb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Bl(t)):jb(an,r.stateNode));break;case 4:o=an,u=ha,an=r.stateNode.containerInfo,ha=!0,Rs(t,n,r),an=o,ha=u;break;case 0:case 11:case 14:case 15:Js(2,r,n),Cn||Js(4,r,n),Rs(t,n,r);break;case 1:Cn||(fs(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&wg(r,n,o)),Rs(t,n,r);break;case 21:Rs(t,n,r);break;case 22:Cn=(o=Cn)||r.memoizedState!==null,Rs(t,n,r),Cn=o;break;default:Rs(t,n,r)}}function Dg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Bl(t)}catch(r){Bt(n,n.return,r)}}}function zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){Bt(n,n.return,r)}}function QN(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ag),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ag),n;default:throw Error(i(435,t.tag))}}function tc(t,n){var r=QN(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var u=aS.bind(null,t,o);o.then(u,u)}})}function pa(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],m=t,b=n,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(rr(N.type)){an=N.stateNode,ha=!1;break e}break;case 5:an=N.stateNode,ha=!1;break e;case 3:case 4:an=N.stateNode.containerInfo,ha=!0;break e}N=N.return}if(an===null)throw Error(i(160));Tg(m,b,u),an=null,ha=!1,m=u.alternate,m!==null&&(m.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)kg(n,t),n=n.sibling}var ss=null;function kg(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pa(n,t),ga(t),o&4&&(Js(3,t,t.return),Ri(3,t),Js(5,t,t.return));break;case 1:pa(n,t),ga(t),o&512&&(Cn||r===null||fs(r,r.return)),o&64&&Os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=ss;if(pa(n,t),ga(t),o&512&&(Cn||r===null||fs(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":m=u.getElementsByTagName("title")[0],(!m||m[Ot]||m[ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=u.createElement(o),u.head.insertBefore(m,u.querySelector("head > title"))),Hn(m,o,r),m[ut]=t,Mt(m),o=m;break e;case"link":var b=kb("link","href",u).get(o+(r.href||""));if(b){for(var N=0;N<b.length;N++)if(m=b[N],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(N,1);break t}}m=u.createElement(o),Hn(m,o,r),u.head.appendChild(m);break;case"meta":if(b=kb("meta","content",u).get(o+(r.content||""))){for(N=0;N<b.length;N++)if(m=b[N],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(N,1);break t}}m=u.createElement(o),Hn(m,o,r),u.head.appendChild(m);break;default:throw Error(i(468,o))}m[ut]=t,Mt(m),o=m}t.stateNode=o}else Mb(u,t.type,t.stateNode);else t.stateNode=zb(u,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?Mb(u,t.type,t.stateNode):zb(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Md(t,t.memoizedProps,r.memoizedProps)}break;case 27:pa(n,t),ga(t),o&512&&(Cn||r===null||fs(r,r.return)),r!==null&&o&4&&Md(t,t.memoizedProps,r.memoizedProps);break;case 5:if(pa(n,t),ga(t),o&512&&(Cn||r===null||fs(r,r.return)),t.flags&32){u=t.stateNode;try{es(u,"")}catch(Ge){Bt(t,t.return,Ge)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Md(t,u,r!==null?r.memoizedProps:u)),o&1024&&(Bd=!0);break;case 6:if(pa(n,t),ga(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Ge){Bt(t,t.return,Ge)}}break;case 3:if(bc=null,u=ss,ss=pc(n.containerInfo),pa(n,t),ss=u,ga(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(Ge){Bt(t,t.return,Ge)}Bd&&(Bd=!1,Mg(t));break;case 4:o=ss,ss=pc(t.stateNode.containerInfo),pa(n,t),ga(t),ss=o;break;case 12:pa(n,t),ga(t);break;case 31:pa(n,t),ga(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 13:pa(n,t),ga(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=Z()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 22:u=t.memoizedState!==null;var z=r!==null&&r.memoizedState!==null,ne=Os,be=Cn;if(Os=ne||u,Cn=be||z,pa(n,t),Cn=be,Os=ne,ga(t),o&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||z||Os||Cn||qr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){z=r=n;try{if(m=z.stateNode,u)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=z.stateNode;var Se=z.memoizedProps.style,re=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;N.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ge){Bt(z,z.return,Ge)}}}else if(n.tag===6){if(r===null){z=n;try{z.stateNode.nodeValue=u?"":z.memoizedProps}catch(Ge){Bt(z,z.return,Ge)}}}else if(n.tag===18){if(r===null){z=n;try{var ce=z.stateNode;u?wb(ce,!0):wb(z.stateNode,!1)}catch(Ge){Bt(z,z.return,Ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(t,r))));break;case 19:pa(n,t),ga(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 30:break;case 21:break;default:pa(n,t),ga(t)}}function ga(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Eg(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var u=r.stateNode,m=Ud(t);ec(t,m,u);break;case 5:var b=r.stateNode;r.flags&32&&(es(b,""),r.flags&=-33);var N=Ud(t);ec(t,N,b);break;case 3:case 4:var z=r.stateNode.containerInfo,ne=Ud(t);Ld(t,ne,z);break;default:throw Error(i(161))}}catch(be){Bt(t,t.return,be)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Mg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ts(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Og(t,n.alternate,n),n=n.sibling}function qr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Js(4,n,n.return),qr(n);break;case 1:fs(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&wg(n,n.return,r),qr(n);break;case 27:Ii(n.stateNode);case 26:case 5:fs(n,n.return),qr(n);break;case 22:n.memoizedState===null&&qr(n);break;case 30:qr(n);break;default:qr(n)}t=t.sibling}}function Ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ds(u,m,r),Ri(4,m);break;case 1:if(Ds(u,m,r),o=m,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ne){Bt(o,o.return,ne)}if(o=m,u=o.updateQueue,u!==null){var N=o.stateNode;try{var z=u.shared.hiddenCallbacks;if(z!==null)for(u.shared.hiddenCallbacks=null,u=0;u<z.length;u++)fp(z[u],N)}catch(ne){Bt(o,o.return,ne)}}r&&b&64&&jg(m),Ti(m,m.return);break;case 27:Cg(m);case 26:case 5:Ds(u,m,r),r&&o===null&&b&4&&_g(m),Ti(m,m.return);break;case 12:Ds(u,m,r);break;case 31:Ds(u,m,r),r&&b&4&&Dg(u,m);break;case 13:Ds(u,m,r),r&&b&4&&zg(u,m);break;case 22:m.memoizedState===null&&Ds(u,m,r),Ti(m,m.return);break;case 30:break;default:Ds(u,m,r)}n=n.sibling}}function qd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&bi(r))}function Id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&bi(t))}function rs(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ug(t,n,r,o),n=n.sibling}function Ug(t,n,r,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:rs(t,n,r,o),u&2048&&Ri(9,n);break;case 1:rs(t,n,r,o);break;case 3:rs(t,n,r,o),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&bi(t)));break;case 12:if(u&2048){rs(t,n,r,o),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,N=m.onPostCommit;typeof N=="function"&&N(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Bt(n,n.return,z)}}else rs(t,n,r,o);break;case 31:rs(t,n,r,o);break;case 13:rs(t,n,r,o);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?rs(t,n,r,o):Di(t,n):m._visibility&2?rs(t,n,r,o):(m._visibility|=2,Cl(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),u&2048&&qd(b,n);break;case 24:rs(t,n,r,o),u&2048&&Id(n.alternate,n);break;default:rs(t,n,r,o)}}function Cl(t,n,r,o,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,b=n,N=r,z=o,ne=b.flags;switch(b.tag){case 0:case 11:case 15:Cl(m,b,N,z,u),Ri(8,b);break;case 23:break;case 22:var be=b.stateNode;b.memoizedState!==null?be._visibility&2?Cl(m,b,N,z,u):Di(m,b):(be._visibility|=2,Cl(m,b,N,z,u)),u&&ne&2048&&qd(b.alternate,b);break;case 24:Cl(m,b,N,z,u),u&&ne&2048&&Id(b.alternate,b);break;default:Cl(m,b,N,z,u)}n=n.sibling}}function Di(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,u=o.flags;switch(o.tag){case 22:Di(r,o),u&2048&&qd(o.alternate,o);break;case 24:Di(r,o),u&2048&&Id(o.alternate,o);break;default:Di(r,o)}n=n.sibling}}var zi=8192;function Al(t,n,r){if(t.subtreeFlags&zi)for(t=t.child;t!==null;)Lg(t,n,r),t=t.sibling}function Lg(t,n,r){switch(t.tag){case 26:Al(t,n,r),t.flags&zi&&t.memoizedState!==null&&kS(r,ss,t.memoizedState,t.memoizedProps);break;case 5:Al(t,n,r);break;case 3:case 4:var o=ss;ss=pc(t.stateNode.containerInfo),Al(t,n,r),ss=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=zi,zi=16777216,Al(t,n,r),zi=o):Al(t,n,r));break;default:Al(t,n,r)}}function Bg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ki(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Mn=o,Ig(o,t)}Bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qg(t),t=t.sibling}function qg(t){switch(t.tag){case 0:case 11:case 15:ki(t),t.flags&2048&&Js(9,t,t.return);break;case 3:ki(t);break;case 12:ki(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):ki(t);break;default:ki(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Mn=o,Ig(o,t)}Bg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Js(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Ig(t,n){for(;Mn!==null;){var r=Mn;switch(r.tag){case 0:case 11:case 15:Js(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:bi(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Mn=o;else e:for(r=t;Mn!==null;){o=Mn;var u=o.sibling,m=o.return;if(Rg(o),o===r){Mn=null;break e}if(u!==null){u.return=m,Mn=u;break e}Mn=m}}}var YN={getCacheForType:function(t){var n=$n(wn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return $n(wn).controller.signal}},KN=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Zt=null,yt=null,Nt=0,Lt=0,Ta=null,Ws=!1,Ol=!1,$d=!1,zs=0,fn=0,er=0,Ir=0,Fd=0,Da=0,Rl=0,Mi=null,ba=null,Hd=!1,ac=0,$g=0,sc=1/0,rc=null,tr=null,Rn=0,nr=null,Tl=null,ks=0,Vd=0,Zd=null,Fg=null,Ui=0,Gd=null;function za(){return(Dt&2)!==0&&Nt!==0?Nt&-Nt:M.T!==null?Jd():vt()}function Hg(){if(Da===0)if((Nt&536870912)===0||jt){var t=ct;ct<<=1,(ct&3932160)===0&&(ct=262144),Da=t}else Da=536870912;return t=Oa.current,t!==null&&(t.flags|=32),Da}function va(t,n,r){(t===Zt&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)&&(Dl(t,0),ar(t,Nt,Da,!1)),Oe(t,r),((Dt&2)===0||t!==Zt)&&(t===Zt&&((Dt&2)===0&&(Ir|=r),fn===4&&ar(t,Nt,Da,!1)),ms(t))}function Vg(t,n,r){if((Dt&6)!==0)throw Error(i(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),u=o?WN(t,n):Qd(t,n,!0),m=o;do{if(u===0){Ol&&!o&&ar(t,n,0,!1);break}else{if(r=t.current.alternate,m&&!XN(r)){u=Qd(t,n,!1),m=!1;continue}if(u===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var N=t;u=Mi;var z=N.current.memoizedState.isDehydrated;if(z&&(Dl(N,b).flags|=256),b=Qd(N,b,!1),b!==2){if($d&&!z){N.errorRecoveryDisabledLanes|=m,Ir|=m,u=4;break e}m=ba,ba=u,m!==null&&(ba===null?ba=m:ba.push.apply(ba,m))}u=b}if(m=!1,u!==2)continue}}if(u===1){Dl(t,0),ar(t,n,0,!0);break}e:{switch(o=t,m=u,m){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:ar(o,n,Da,!Ws);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(u=ac+300-Z(),10<u)){if(ar(o,n,Da,!Ws),ta(o,0,!0)!==0)break e;ks=n,o.timeoutHandle=Nb(Zg.bind(null,o,r,ba,rc,Hd,n,Da,Ir,Rl,Ws,m,"Throttled",-0,0),u);break e}Zg(o,r,ba,rc,Hd,n,Da,Ir,Rl,Ws,m,null,-0,0)}}break}while(!0);ms(t)}function Zg(t,n,r,o,u,m,b,N,z,ne,be,Se,re,ce){if(t.timeoutHandle=-1,Se=n.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},Lg(n,m,Se);var Ge=(m&62914560)===m?ac-Z():(m&4194048)===m?$g-Z():0;if(Ge=MS(Se,Ge),Ge!==null){ks=m,t.cancelPendingCommit=Ge(Wg.bind(null,t,n,m,r,o,u,b,N,z,be,Se,null,re,ce)),ar(t,m,b,!ne);return}}Wg(t,n,m,r,o,u,b,N,z)}function XN(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],m=u.getSnapshot;u=u.value;try{if(!Ca(m(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(t,n,r,o){n&=~Fd,n&=~Ir,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var u=n;0<u;){var m=31-_t(u),b=1<<m;o[m]=-1,u&=~b}r!==0&&st(t,r,n)}function lc(){return(Dt&6)===0?(Li(0),!1):!0}function Pd(){if(yt!==null){if(Lt===0)var t=yt.return;else t=yt,js=Tr=null,cd(t),Sl=null,yi=0,t=yt;for(;t!==null;)Sg(t.alternate,t),t=t.return;yt=null}}function Dl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,bS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ks=0,Pd(),Zt=t,yt=r=Ns(t.current,null),Nt=n,Lt=0,Ta=null,Ws=!1,Ol=Pn(t,n),$d=!1,Rl=Da=Fd=Ir=er=fn=0,ba=Mi=null,Hd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var u=31-_t(o),m=1<<u;n|=t[u],o&=~m}return zs=n,Co(),r}function Gg(t,n){ft=null,M.H=Ci,n===Nl||n===Mo?(n=op(),Lt=3):n===Xu?(n=op(),Lt=4):Lt=n===_d?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ta=n,yt===null&&(fn=1,Yo(t,Ba(n,t.current)))}function Pg(){var t=Oa.current;return t===null?!0:(Nt&4194048)===Nt?Fa===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===Fa:!1}function Qg(){var t=M.H;return M.H=Ci,t===null?Ci:t}function Yg(){var t=M.A;return M.A=YN,t}function ic(){fn=4,Ws||(Nt&4194048)!==Nt&&Oa.current!==null||(Ol=!0),(er&134217727)===0&&(Ir&134217727)===0||Zt===null||ar(Zt,Nt,Da,!1)}function Qd(t,n,r){var o=Dt;Dt|=2;var u=Qg(),m=Yg();(Zt!==t||Nt!==n)&&(rc=null,Dl(t,n)),n=!1;var b=fn;e:do try{if(Lt!==0&&yt!==null){var N=yt,z=Ta;switch(Lt){case 8:Pd(),b=6;break e;case 3:case 2:case 9:case 6:Oa.current===null&&(n=!0);var ne=Lt;if(Lt=0,Ta=null,zl(t,N,z,ne),r&&Ol){b=0;break e}break;default:ne=Lt,Lt=0,Ta=null,zl(t,N,z,ne)}}JN(),b=fn;break}catch(be){Gg(t,be)}while(!0);return n&&t.shellSuspendCounter++,js=Tr=null,Dt=o,M.H=u,M.A=m,yt===null&&(Zt=null,Nt=0,Co()),b}function JN(){for(;yt!==null;)Kg(yt)}function WN(t,n){var r=Dt;Dt|=2;var o=Qg(),u=Yg();Zt!==t||Nt!==n?(rc=null,sc=Z()+500,Dl(t,n)):Ol=Pn(t,n);e:do try{if(Lt!==0&&yt!==null){n=yt;var m=Ta;t:switch(Lt){case 1:Lt=0,Ta=null,zl(t,n,m,1);break;case 2:case 9:if(lp(m)){Lt=0,Ta=null,Xg(n);break}n=function(){Lt!==2&&Lt!==9||Zt!==t||(Lt=7),ms(t)},m.then(n,n);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:lp(m)?(Lt=0,Ta=null,Xg(n)):(Lt=0,Ta=null,zl(t,n,m,7));break;case 5:var b=null;switch(yt.tag){case 26:b=yt.memoizedState;case 5:case 27:var N=yt;if(b?Ub(b):N.stateNode.complete){Lt=0,Ta=null;var z=N.sibling;if(z!==null)yt=z;else{var ne=N.return;ne!==null?(yt=ne,oc(ne)):yt=null}break t}}Lt=0,Ta=null,zl(t,n,m,5);break;case 6:Lt=0,Ta=null,zl(t,n,m,6);break;case 8:Pd(),fn=6;break e;default:throw Error(i(462))}}eS();break}catch(be){Gg(t,be)}while(!0);return js=Tr=null,M.H=o,M.A=u,Dt=r,yt!==null?0:(Zt=null,Nt=0,Co(),fn)}function eS(){for(;yt!==null&&!R();)Kg(yt)}function Kg(t){var n=xg(t.alternate,t,zs);t.memoizedProps=t.pendingProps,n===null?oc(t):yt=n}function Xg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=hg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=hg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:cd(n);default:Sg(r,n),n=yt=Yh(n,zs),n=xg(r,n,zs)}t.memoizedProps=t.pendingProps,n===null?oc(t):yt=n}function zl(t,n,r,o){js=Tr=null,cd(n),Sl=null,yi=0;var u=n.return;try{if(FN(t,u,n,r,Nt)){fn=1,Yo(t,Ba(r,t.current)),yt=null;return}}catch(m){if(u!==null)throw yt=u,m;fn=1,Yo(t,Ba(r,t.current)),yt=null;return}n.flags&32768?(jt||o===1?t=!0:Ol||(Nt&536870912)!==0?t=!1:(Ws=t=!0,(o===2||o===9||o===3||o===6)&&(o=Oa.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jg(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Jg(n,Ws);return}t=n.return;var r=ZN(n.alternate,n,zs);if(r!==null){yt=r;return}if(n=n.sibling,n!==null){yt=n;return}yt=n=t}while(n!==null);fn===0&&(fn=5)}function Jg(t,n){do{var r=GN(t.alternate,t);if(r!==null){r.flags&=32767,yt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){yt=t;return}yt=t=r}while(t!==null);fn=6,yt=null}function Wg(t,n,r,o,u,m,b,N,z){t.cancelPendingCommit=null;do cc();while(Rn!==0);if((Dt&6)!==0)throw Error(i(327));if(n!==null){if(n===t.current)throw Error(i(177));if(m=n.lanes|n.childLanes,m|=Uu,Fe(t,r,m,b,N,z),t===Zt&&(yt=Zt=null,Nt=0),Tl=n,nr=t,ks=r,Vd=m,Zd=u,Fg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sS(se,function(){return sb(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,u=F.p,F.p=2,b=Dt,Dt|=4;try{PN(t,n,r)}finally{Dt=b,F.p=u,M.T=o}}Rn=1,eb(),tb(),nb()}}function eb(){if(Rn===1){Rn=0;var t=nr,n=Tl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var o=F.p;F.p=2;var u=Dt;Dt|=4;try{kg(n,t);var m=lf,b=Ih(t.containerInfo),N=m.focusedElem,z=m.selectionRange;if(b!==N&&N&&N.ownerDocument&&qh(N.ownerDocument.documentElement,N)){if(z!==null&&Tu(N)){var ne=z.start,be=z.end;if(be===void 0&&(be=ne),"selectionStart"in N)N.selectionStart=ne,N.selectionEnd=Math.min(be,N.value.length);else{var Se=N.ownerDocument||document,re=Se&&Se.defaultView||window;if(re.getSelection){var ce=re.getSelection(),Ge=N.textContent.length,at=Math.min(z.start,Ge),Vt=z.end===void 0?at:Math.min(z.end,Ge);!ce.extend&&at>Vt&&(b=Vt,Vt=at,at=b);var V=Bh(N,at),B=Bh(N,Vt);if(V&&B&&(ce.rangeCount!==1||ce.anchorNode!==V.node||ce.anchorOffset!==V.offset||ce.focusNode!==B.node||ce.focusOffset!==B.offset)){var te=Se.createRange();te.setStart(V.node,V.offset),ce.removeAllRanges(),at>Vt?(ce.addRange(te),ce.extend(B.node,B.offset)):(te.setEnd(B.node,B.offset),ce.addRange(te))}}}}for(Se=[],ce=N;ce=ce.parentNode;)ce.nodeType===1&&Se.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Se.length;N++){var ye=Se[N];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Nc=!!rf,lf=rf=null}finally{Dt=u,F.p=o,M.T=r}}t.current=n,Rn=2}}function tb(){if(Rn===2){Rn=0;var t=nr,n=Tl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var o=F.p;F.p=2;var u=Dt;Dt|=4;try{Og(t,n.alternate,n)}finally{Dt=u,F.p=o,M.T=r}}Rn=3}}function nb(){if(Rn===4||Rn===3){Rn=0,P();var t=nr,n=Tl,r=ks,o=Fg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Rn=5:(Rn=0,Tl=nr=null,ab(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(tr=null),Ct(r),n=n.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ne,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=M.T,u=F.p,F.p=2,M.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var N=o[b];m(N.value,{componentStack:N.stack})}}finally{M.T=n,F.p=u}}(ks&3)!==0&&cc(),ms(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Gd?Ui++:(Ui=0,Gd=t):Ui=0,Li(0)}}function ab(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,bi(n)))}function cc(){return eb(),tb(),nb(),sb()}function sb(){if(Rn!==5)return!1;var t=nr,n=Vd;Vd=0;var r=Ct(ks),o=M.T,u=F.p;try{F.p=32>r?32:r,M.T=null,r=Zd,Zd=null;var m=nr,b=ks;if(Rn=0,Tl=nr=null,ks=0,(Dt&6)!==0)throw Error(i(331));var N=Dt;if(Dt|=4,qg(m.current),Ug(m,m.current,b,r),Dt=N,Li(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ne,m)}catch{}return!0}finally{F.p=u,M.T=o,ab(t,n)}}function rb(t,n,r){n=Ba(r,n),n=wd(t.stateNode,n,2),t=Ys(t,n,2),t!==null&&(Oe(t,2),ms(t))}function Bt(t,n,r){if(t.tag===3)rb(t,t,r);else for(;n!==null;){if(n.tag===3){rb(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(tr===null||!tr.has(o))){t=Ba(r,t),r=lg(2),o=Ys(n,r,2),o!==null&&(ig(r,o,n,t),Oe(o,2),ms(o));break}}n=n.return}}function Yd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new KN;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(r)||($d=!0,u.add(r),t=tS.bind(null,t,n,r),n.then(t,t))}function tS(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(Nt&r)===r&&(fn===4||fn===3&&(Nt&62914560)===Nt&&300>Z()-ac?(Dt&2)===0&&Dl(t,0):Fd|=r,Rl===Nt&&(Rl=0)),ms(t)}function lb(t,n){n===0&&(n=X()),t=Ar(t,n),t!==null&&(Oe(t,n),ms(t))}function nS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),lb(t,r)}function aS(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(n),lb(t,r)}function sS(t,n){return C(t,n)}var uc=null,kl=null,Kd=!1,dc=!1,Xd=!1,sr=0;function ms(t){t!==kl&&t.next===null&&(kl===null?uc=kl=t:kl=kl.next=t),dc=!0,Kd||(Kd=!0,lS())}function Li(t,n){if(!Xd&&dc){Xd=!0;do for(var r=!1,o=uc;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var m=0;else{var b=o.suspendedLanes,N=o.pingedLanes;m=(1<<31-_t(42|t)+1)-1,m&=u&~(b&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,ub(o,m))}else m=Nt,m=ta(o,o===Zt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Pn(o,m)||(r=!0,ub(o,m));o=o.next}while(r);Xd=!1}}function rS(){ib()}function ib(){dc=Kd=!1;var t=0;sr!==0&&gS()&&(t=sr);for(var n=Z(),r=null,o=uc;o!==null;){var u=o.next,m=ob(o,n);m===0?(o.next=null,r===null?uc=u:r.next=u,u===null&&(kl=r)):(r=o,(t!==0||(m&3)!==0)&&(dc=!0)),o=u}Rn!==0&&Rn!==5||Li(t),sr!==0&&(sr=0)}function ob(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-_t(m),N=1<<b,z=u[b];z===-1?((N&r)===0||(N&o)!==0)&&(u[b]=Qn(N,n)):z<=n&&(t.expiredLanes|=N),m&=~N}if(n=Zt,r=Nt,r=ta(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Q(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Pn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Q(o),Ct(r)){case 2:case 8:r=Be;break;case 32:r=se;break;case 268435456:r=He;break;default:r=se}return o=cb.bind(null,t),r=C(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Q(o),t.callbackPriority=2,t.callbackNode=null,2}function cb(t,n){if(Rn!==0&&Rn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var o=Nt;return o=ta(t,t===Zt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vg(t,o,n),ob(t,Z()),t.callbackNode!=null&&t.callbackNode===r?cb.bind(null,t):null)}function ub(t,n){if(cc())return null;Vg(t,n,!0)}function lS(){vS(function(){(Dt&6)!==0?C(Re,rS):ib()})}function Jd(){if(sr===0){var t=yl;t===0&&(t=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),sr=t}return sr}function db(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ys(""+t)}function fb(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function iS(t,n,r,o,u){if(n==="submit"&&r&&r.stateNode===u){var m=db((u[bt]||null).action),b=o.submitter;b&&(n=(n=b[bt]||null)?db(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var N=new H("action","action",null,o,u);t.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(sr!==0){var z=b?fb(u,b):new FormData(u);vd(r,{pending:!0,data:z,method:u.method,action:m},null,z)}}else typeof m=="function"&&(N.preventDefault(),z=b?fb(u,b):new FormData(u),vd(r,{pending:!0,data:z,method:u.method,action:m},m,z))},currentTarget:u}]})}}for(var Wd=0;Wd<Mu.length;Wd++){var ef=Mu[Wd],oS=ef.toLowerCase(),cS=ef[0].toUpperCase()+ef.slice(1);as(oS,"on"+cS)}as(Hh,"onAnimationEnd"),as(Vh,"onAnimationIteration"),as(Zh,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(_N,"onTransitionRun"),as(EN,"onTransitionStart"),as(CN,"onTransitionCancel"),as(Gh,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bi));function mb(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],u=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var b=o.length-1;0<=b;b--){var N=o[b],z=N.instance,ne=N.currentTarget;if(N=N.listener,z!==m&&u.isPropagationStopped())break e;m=N,u.currentTarget=ne;try{m(u)}catch(be){Eo(be)}u.currentTarget=null,m=z}else for(b=0;b<o.length;b++){if(N=o[b],z=N.instance,ne=N.currentTarget,N=N.listener,z!==m&&u.isPropagationStopped())break e;m=N,u.currentTarget=ne;try{m(u)}catch(be){Eo(be)}u.currentTarget=null,m=z}}}}function xt(t,n){var r=n[kt];r===void 0&&(r=n[kt]=new Set);var o=t+"__bubble";r.has(o)||(hb(n,t,2,!1),r.add(o))}function tf(t,n,r){var o=0;n&&(o|=4),hb(r,t,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[fc]){t[fc]=!0,qs.forEach(function(r){r!=="selectionchange"&&(uS.has(r)||tf(r,!1,t),tf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,tf("selectionchange",!1,n))}}function hb(t,n,r,o){switch(Hb(n)){case 2:var u=BS;break;case 8:u=qS;break;default:u=vf}r=u.bind(null,n,r,t),u=void 0,!xs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function af(t,n,r,o,u){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var N=o.stateNode.containerInfo;if(N===u)break;if(b===4)for(b=o.return;b!==null;){var z=b.tag;if((z===3||z===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;N!==null;){if(b=Et(N),b===null)return;if(z=b.tag,z===5||z===6||z===26||z===27){o=m=b;continue e}N=N.parentNode}}o=o.return}il(function(){var ne=m,be=wr(r),Se=[];e:{var re=Ph.get(t);if(re!==void 0){var ce=H,Ge=t;switch(t){case"keypress":if(Me(r)===0)break e;case"keydown":case"keyup":ce=aN;break;case"focusin":Ge="focus",ce=ci;break;case"focusout":Ge="blur",ce=ci;break;case"beforeblur":case"afterblur":ce=ci;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=lN;break;case Hh:case Vh:case Zh:ce=cl;break;case Gh:ce=oN;break;case"scroll":case"scrollend":ce=pe;break;case"wheel":ce=uN;break;case"copy":case"cut":case"paste":ce=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=wh;break;case"toggle":case"beforetoggle":ce=fN}var at=(n&4)!==0,Vt=!at&&(t==="scroll"||t==="scrollend"),V=at?re!==null?re+"Capture":null:re;at=[];for(var B=ne,te;B!==null;){var ye=B;if(te=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||te===null||V===null||(ye=jn(B,V),ye!=null&&at.push(qi(B,ye,te))),Vt)break;B=B.return}0<at.length&&(re=new ce(re,Ge,null,r,be),Se.push({event:re,listeners:at}))}}if((n&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",re&&r!==Ma&&(Ge=r.relatedTarget||r.fromElement)&&(Et(Ge)||Ge[zt]))break e;if((ce||re)&&(re=be.window===be?be:(re=be.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(Ge=r.relatedTarget||r.toElement,ce=ne,Ge=Ge?Et(Ge):null,Ge!==null&&(Vt=d(Ge),at=Ge.tag,Ge!==Vt||at!==5&&at!==27&&at!==6)&&(Ge=null)):(ce=null,Ge=ne),ce!==Ge)){if(at=ns,ye="onMouseLeave",V="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(at=wh,ye="onPointerLeave",V="onPointerEnter",B="pointer"),Vt=ce==null?re:Yn(ce),te=Ge==null?re:Yn(Ge),re=new at(ye,B+"leave",ce,r,be),re.target=Vt,re.relatedTarget=te,ye=null,Et(be)===ne&&(at=new at(V,B+"enter",Ge,r,be),at.target=te,at.relatedTarget=Vt,ye=at),Vt=ye,ce&&Ge)t:{for(at=dS,V=ce,B=Ge,te=0,ye=V;ye;ye=at(ye))te++;ye=0;for(var We=B;We;We=at(We))ye++;for(;0<te-ye;)V=at(V),te--;for(;0<ye-te;)B=at(B),ye--;for(;te--;){if(V===B||B!==null&&V===B.alternate){at=V;break t}V=at(V),B=at(B)}at=null}else at=null;ce!==null&&pb(Se,re,ce,at,!1),Ge!==null&&Vt!==null&&pb(Se,Vt,Ge,at,!0)}}e:{if(re=ne?Yn(ne):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var Rt=Dh;else if(Rh(re))if(zh)Rt=SN;else{Rt=xN;var Qe=yN}else ce=re.nodeName,!ce||ce.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&da(ne.elementType)&&(Rt=Dh):Rt=NN;if(Rt&&(Rt=Rt(t,ne))){Th(Se,Rt,r,be);break e}Qe&&Qe(t,re,ne),t==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&bs(re,"number",re.value)}switch(Qe=ne?Yn(ne):window,t){case"focusin":(Rh(Qe)||Qe.contentEditable==="true")&&(dl=Qe,Du=ne,hi=null);break;case"focusout":hi=Du=dl=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,$h(Se,r,be);break;case"selectionchange":if(wN)break;case"keydown":case"keyup":$h(Se,r,be)}var ht;if(Au)e:{switch(t){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else ul?Ah(t,r)&&(St="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(St="onCompositionStart");St&&(_h&&r.locale!=="ko"&&(ul||St!=="onCompositionStart"?St==="onCompositionEnd"&&ul&&(ht=he()):(qn=be,O="value"in qn?qn.value:qn.textContent,ul=!0)),Qe=mc(ne,St),0<Qe.length&&(St=new jh(St,t,null,r,be),Se.push({event:St,listeners:Qe}),ht?St.data=ht:(ht=Oh(r),ht!==null&&(St.data=ht)))),(ht=hN?pN(t,r):gN(t,r))&&(St=mc(ne,"onBeforeInput"),0<St.length&&(Qe=new jh("onBeforeInput","beforeinput",null,r,be),Se.push({event:Qe,listeners:St}),Qe.data=ht)),iS(Se,t,ne,r,be)}mb(Se,n)})}function qi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function mc(t,n){for(var r=n+"Capture",o=[];t!==null;){var u=t,m=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||m===null||(u=jn(t,r),u!=null&&o.unshift(qi(t,u,m)),u=jn(t,n),u!=null&&o.push(qi(t,u,m))),t.tag===3)return o;t=t.return}return[]}function dS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pb(t,n,r,o,u){for(var m=n._reactName,b=[];r!==null&&r!==o;){var N=r,z=N.alternate,ne=N.stateNode;if(N=N.tag,z!==null&&z===o)break;N!==5&&N!==26&&N!==27||ne===null||(z=ne,u?(ne=jn(r,m),ne!=null&&b.unshift(qi(r,ne,z))):u||(ne=jn(r,m),ne!=null&&b.push(qi(r,ne,z)))),r=r.return}b.length!==0&&t.push({event:n,listeners:b})}var fS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function gb(t){return(typeof t=="string"?t:""+t).replace(fS,`
`).replace(mS,"")}function bb(t,n){return n=gb(n),gb(t)===n}function Ht(t,n,r,o,u,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||es(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&es(t,""+o);break;case"className":_a(t,"class",o);break;case"tabIndex":_a(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(t,r,o);break;case"style":vs(t,o,m);break;case"data":if(n!=="object"){_a(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ys(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&Ht(t,n,"name",u.name,u,null),Ht(t,n,"formEncType",u.formEncType,u,null),Ht(t,n,"formMethod",u.formMethod,u,null),Ht(t,n,"formTarget",u.formTarget,u,null)):(Ht(t,n,"encType",u.encType,u,null),Ht(t,n,"method",u.method,u,null),Ht(t,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ys(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Ea);break;case"onScroll":o!=null&&xt("scroll",t);break;case"onScrollEnd":o!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ys(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":xt("beforetoggle",t),xt("toggle",t),tn(t,"popover",o);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=jr.get(r)||r,tn(t,r,o))}}function sf(t,n,r,o,u,m){switch(r){case"style":vs(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?es(t,o):(typeof o=="number"||typeof o=="bigint")&&es(t,""+o);break;case"onScroll":o!=null&&xt("scroll",t);break;case"onScrollEnd":o!=null&&xt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),m=t[bt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(n,m,u),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,u);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):tn(t,r,o)}}}function Hn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var o=!1,u=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ht(t,n,m,b,r,null)}}u&&Ht(t,n,"srcSet",r.srcSet,r,null),o&&Ht(t,n,"src",r.src,r,null);return;case"input":xt("invalid",t);var N=m=b=u=null,z=null,ne=null;for(o in r)if(r.hasOwnProperty(o)){var be=r[o];if(be!=null)switch(o){case"name":u=be;break;case"type":b=be;break;case"checked":z=be;break;case"defaultChecked":ne=be;break;case"value":m=be;break;case"defaultValue":N=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,n));break;default:Ht(t,n,o,be,r,null)}}$s(t,m,N,z,ne,b,u,!1);return;case"select":xt("invalid",t),o=b=m=null;for(u in r)if(r.hasOwnProperty(u)&&(N=r[u],N!=null))switch(u){case"value":m=N;break;case"defaultValue":b=N;break;case"multiple":o=N;default:Ht(t,n,u,N,r,null)}n=m,r=b,t.multiple=!!o,n!=null?cs(t,!!o,n,!1):r!=null&&cs(t,!!o,r,!0);return;case"textarea":xt("invalid",t),m=u=o=null;for(b in r)if(r.hasOwnProperty(b)&&(N=r[b],N!=null))switch(b){case"value":o=N;break;case"defaultValue":u=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:Ht(t,n,b,N,r,null)}rl(t,o,u,m);return;case"option":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ht(t,n,z,o,r,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(o=0;o<Bi.length;o++)xt(Bi[o],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in r)if(r.hasOwnProperty(ne)&&(o=r[ne],o!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ht(t,n,ne,o,r,null)}return;default:if(da(n)){for(be in r)r.hasOwnProperty(be)&&(o=r[be],o!==void 0&&sf(t,n,be,o,r,void 0));return}}for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null&&Ht(t,n,N,o,r,null))}function hS(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,m=null,b=null,N=null,z=null,ne=null,be=null;for(ce in r){var Se=r[ce];if(r.hasOwnProperty(ce)&&Se!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":z=Se;default:o.hasOwnProperty(ce)||Ht(t,n,ce,null,o,Se)}}for(var re in o){var ce=o[re];if(Se=r[re],o.hasOwnProperty(re)&&(ce!=null||Se!=null))switch(re){case"type":m=ce;break;case"name":u=ce;break;case"checked":ne=ce;break;case"defaultChecked":be=ce;break;case"value":b=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,n));break;default:ce!==Se&&Ht(t,n,re,ce,o,Se)}}Nr(t,b,N,z,ne,be,m,u);return;case"select":ce=b=N=re=null;for(m in r)if(z=r[m],r.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":ce=z;default:o.hasOwnProperty(m)||Ht(t,n,m,null,o,z)}for(u in o)if(m=o[u],z=r[u],o.hasOwnProperty(u)&&(m!=null||z!=null))switch(u){case"value":re=m;break;case"defaultValue":N=m;break;case"multiple":b=m;default:m!==z&&Ht(t,n,u,m,o,z)}n=N,r=b,o=ce,re!=null?cs(t,!!r,re,!1):!!o!=!!r&&(n!=null?cs(t,!!r,n,!0):cs(t,!!r,r?[]:"",!1));return;case"textarea":ce=re=null;for(N in r)if(u=r[N],r.hasOwnProperty(N)&&u!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ht(t,n,N,null,o,u)}for(b in o)if(u=o[b],m=r[b],o.hasOwnProperty(b)&&(u!=null||m!=null))switch(b){case"value":re=u;break;case"defaultValue":ce=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==m&&Ht(t,n,b,u,o,m)}sl(t,re,ce);return;case"option":for(var Ge in r)if(re=r[Ge],r.hasOwnProperty(Ge)&&re!=null&&!o.hasOwnProperty(Ge))switch(Ge){case"selected":t.selected=!1;break;default:Ht(t,n,Ge,null,o,re)}for(z in o)if(re=o[z],ce=r[z],o.hasOwnProperty(z)&&re!==ce&&(re!=null||ce!=null))switch(z){case"selected":t.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Ht(t,n,z,re,o,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in r)re=r[at],r.hasOwnProperty(at)&&re!=null&&!o.hasOwnProperty(at)&&Ht(t,n,at,null,o,re);for(ne in o)if(re=o[ne],ce=r[ne],o.hasOwnProperty(ne)&&re!==ce&&(re!=null||ce!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,n));break;default:Ht(t,n,ne,re,o,ce)}return;default:if(da(n)){for(var Vt in r)re=r[Vt],r.hasOwnProperty(Vt)&&re!==void 0&&!o.hasOwnProperty(Vt)&&sf(t,n,Vt,void 0,o,re);for(be in o)re=o[be],ce=r[be],!o.hasOwnProperty(be)||re===ce||re===void 0&&ce===void 0||sf(t,n,be,re,o,ce);return}}for(var V in r)re=r[V],r.hasOwnProperty(V)&&re!=null&&!o.hasOwnProperty(V)&&Ht(t,n,V,null,o,re);for(Se in o)re=o[Se],ce=r[Se],!o.hasOwnProperty(Se)||re===ce||re==null&&ce==null||Ht(t,n,Se,re,o,ce)}function vb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var u=r[o],m=u.transferSize,b=u.initiatorType,N=u.duration;if(m&&N&&vb(b)){for(b=0,N=u.responseEnd,o+=1;o<r.length;o++){var z=r[o],ne=z.startTime;if(ne>N)break;var be=z.transferSize,Se=z.initiatorType;be&&vb(Se)&&(z=z.responseEnd,b+=be*(z<N?1:(N-ne)/(z-ne)))}if(--o,n+=8*(m+b)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rf=null,lf=null;function hc(t){return t.nodeType===9?t:t.ownerDocument}function yb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xb(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function gS(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,Sb=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof Sb<"u"?function(t){return Sb.resolve(null).then(t).catch(yS)}:Nb;function yS(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function jb(t,n){var r=n,o=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(u),Bl(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Ii(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ii(r);for(var m=r.firstChild;m;){var b=m.nextSibling,N=m.nodeName;m[Ot]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=b}}else r==="body"&&Ii(t.ownerDocument.body);r=u}while(r);Bl(n)}function wb(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function uf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":uf(r),yn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function xS(t,n,r,o){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ot])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Ha(t.nextSibling),t===null)break}return null}function NS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ha(t.nextSibling),t===null))return null;return t}function _b(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ha(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$?"||t.data==="$~"}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function SS(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ha(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var mf=null;function Eb(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Ha(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Cb(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function Ab(t,n,r){switch(n=hc(r),t){case"html":if(t=n.documentElement,!t)throw Error(i(452));return t;case"head":if(t=n.head,!t)throw Error(i(453));return t;case"body":if(t=n.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ii(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);yn(t)}var Va=new Map,Ob=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ms=F.d;F.d={f:jS,r:wS,D:_S,C:ES,L:CS,m:AS,X:RS,S:OS,M:TS};function jS(){var t=Ms.f(),n=lc();return t||n}function wS(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?Gp(n):Ms.r(t)}var Ml=typeof document>"u"?null:document;function Rb(t,n,r){var o=Ml;if(o&&typeof n=="string"&&n){var u=Sn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Ob.has(u)||(Ob.add(u),t={rel:t,crossOrigin:r,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),Hn(n,"link",t),Mt(n),o.head.appendChild(n)))}}function _S(t){Ms.D(t),Rb("dns-prefetch",t,null)}function ES(t,n){Ms.C(t,n),Rb("preconnect",t,n)}function CS(t,n,r){Ms.L(t,n,r);var o=Ml;if(o&&t&&n){var u='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Sn(r.imageSizes)+'"]')):u+='[href="'+Sn(t)+'"]';var m=u;switch(n){case"style":m=Ul(t);break;case"script":m=Ll(t)}Va.has(m)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Va.set(m,t),o.querySelector(u)!==null||n==="style"&&o.querySelector($i(m))||n==="script"&&o.querySelector(Fi(m))||(n=o.createElement("link"),Hn(n,"link",t),Mt(n),o.head.appendChild(n)))}}function AS(t,n){Ms.m(t,n);var r=Ml;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Sn(o)+'"][href="'+Sn(t)+'"]',m=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ll(t)}if(!Va.has(m)&&(t=x({rel:"modulepreload",href:t},n),Va.set(m,t),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Fi(m)))return}o=r.createElement("link"),Hn(o,"link",t),Mt(o),r.head.appendChild(o)}}}function OS(t,n,r){Ms.S(t,n,r);var o=Ml;if(o&&t){var u=kn(o).hoistableStyles,m=Ul(t);n=n||"default";var b=u.get(m);if(!b){var N={loading:0,preload:null};if(b=o.querySelector($i(m)))N.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Va.get(m))&&hf(t,r);var z=b=o.createElement("link");Mt(z),Hn(z,"link",t),z._p=new Promise(function(ne,be){z.onload=ne,z.onerror=be}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,gc(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:N},u.set(m,b)}}}function RS(t,n){Ms.X(t,n);var r=Ml;if(r&&t){var o=kn(r).hoistableScripts,u=Ll(t),m=o.get(u);m||(m=r.querySelector(Fi(u)),m||(t=x({src:t,async:!0},n),(n=Va.get(u))&&pf(t,n),m=r.createElement("script"),Mt(m),Hn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function TS(t,n){Ms.M(t,n);var r=Ml;if(r&&t){var o=kn(r).hoistableScripts,u=Ll(t),m=o.get(u);m||(m=r.querySelector(Fi(u)),m||(t=x({src:t,async:!0,type:"module"},n),(n=Va.get(u))&&pf(t,n),m=r.createElement("script"),Mt(m),Hn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function Tb(t,n,r,o){var u=(u=me.current)?pc(u):null;if(!u)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ul(r.href),r=kn(u).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ul(r.href);var m=kn(u).hoistableStyles,b=m.get(t);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=u.querySelector($i(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Va.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Va.set(t,r),m||DS(u,t,r,b.state))),n&&o===null)throw Error(i(528,""));return b}if(n&&o!==null)throw Error(i(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ll(r),r=kn(u).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ul(t){return'href="'+Sn(t)+'"'}function $i(t){return'link[rel="stylesheet"]['+t+"]"}function Db(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function DS(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Hn(n,"link",r),Mt(n),t.head.appendChild(n))}function Ll(t){return'[src="'+Sn(t)+'"]'}function Fi(t){return"script[async]"+t}function zb(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Sn(r.href)+'"]');if(o)return n.instance=o,Mt(o),o;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Mt(o),Hn(o,"style",u),gc(o,r.precedence,t),n.instance=o;case"stylesheet":u=Ul(r.href);var m=t.querySelector($i(u));if(m)return n.state.loading|=4,n.instance=m,Mt(m),m;o=Db(r),(u=Va.get(u))&&hf(o,u),m=(t.ownerDocument||t).createElement("link"),Mt(m);var b=m;return b._p=new Promise(function(N,z){b.onload=N,b.onerror=z}),Hn(m,"link",o),n.state.loading|=4,gc(m,r.precedence,t),n.instance=m;case"script":return m=Ll(r.src),(u=t.querySelector(Fi(m)))?(n.instance=u,Mt(u),u):(o=r,(u=Va.get(m))&&(o=x({},r),pf(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),Mt(u),Hn(u,"link",o),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,t));return n.instance}function gc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,m=u,b=0;b<o.length;b++){var N=o[b];if(N.dataset.precedence===n)m=N;else if(m!==u)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bc=null;function kb(t,n,r){if(bc===null){var o=new Map,u=bc=new Map;u.set(r,o)}else u=bc,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var m=r[u];if(!(m[Ot]||m[ut]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var N=o.get(b);N?N.push(m):o.set(b,[m])}}return o}function Mb(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function zS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ub(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kS(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=Ul(o.href),m=n.querySelector($i(u));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=m,Mt(m);return}m=n.ownerDocument||n,o=Db(o),(u=Va.get(u))&&hf(o,u),m=m.createElement("link"),Mt(m);var b=m;b._p=new Promise(function(N,z){b.onload=N,b.onerror=z}),Hn(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=vc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var gf=0;function MS(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&gf===0&&(gf=62500*pS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>gf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,n.forEach(US,t),yc=null,vc.call(t))}function US(t,n){if(!(n.state.loading&4)){var r=yc.get(t);if(r)var o=r.get(null);else{r=new Map,yc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<u.length;m++){var b=u[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}u=n.instance,b=u.getAttribute("data-precedence"),m=r.get(b)||o,m===o&&r.set(null,u),r.set(b,u),this.count++,o=vc.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),m?m.parentNode.insertBefore(u,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Hi={$$typeof:J,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function LS(t,n,r,o,u,m,b,N,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=W(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W(0),this.hiddenUpdates=W(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Lb(t,n,r,o,u,m,b,N,z,ne,be,Se){return t=new LS(t,n,r,b,z,ne,be,Se,N),n=1,m===!0&&(n|=24),m=Aa(3,null,null,n),t.current=m,m.stateNode=t,n=Qu(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},Ju(m),t}function Bb(t){return t?(t=hl,t):hl}function qb(t,n,r,o,u,m){u=Bb(u),o.context===null?o.context=u:o.pendingContext=u,o=Qs(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Ys(t,o,n),r!==null&&(va(r,t,n),Ni(r,t,n))}function Ib(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function bf(t,n){Ib(t,n),(t=t.alternate)&&Ib(t,n)}function $b(t){if(t.tag===13||t.tag===31){var n=Ar(t,67108864);n!==null&&va(n,t,67108864),bf(t,67108864)}}function Fb(t){if(t.tag===13||t.tag===31){var n=za();n=Kt(n);var r=Ar(t,n);r!==null&&va(r,t,n),bf(t,n)}}var Nc=!0;function BS(t,n,r,o){var u=M.T;M.T=null;var m=F.p;try{F.p=2,vf(t,n,r,o)}finally{F.p=m,M.T=u}}function qS(t,n,r,o){var u=M.T;M.T=null;var m=F.p;try{F.p=8,vf(t,n,r,o)}finally{F.p=m,M.T=u}}function vf(t,n,r,o){if(Nc){var u=yf(o);if(u===null)af(t,n,o,Sc,r),Vb(t,o);else if($S(u,t,n,r,o))o.stopPropagation();else if(Vb(t,o),n&4&&-1<IS.indexOf(t)){for(;u!==null;){var m=xn(u);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Ln(m.pendingLanes);if(b!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var z=1<<31-_t(b);N.entanglements[1]|=z,b&=~z}ms(m),(Dt&6)===0&&(sc=Z()+500,Li(0))}}break;case 31:case 13:N=Ar(m,2),N!==null&&va(N,m,2),lc(),bf(m,2)}if(m=yf(o),m===null&&af(t,n,o,Sc,r),m===u)break;u=m}u!==null&&o.stopPropagation()}else af(t,n,o,null,r)}}function yf(t){return t=wr(t),xf(t)}var Sc=null;function xf(t){if(Sc=null,t=Et(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function Hb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case Re:return 2;case Be:return 8;case se:case Le:return 32;case He:return 268435456;default:return 32}default:return 32}}var Nf=!1,lr=null,ir=null,or=null,Vi=new Map,Zi=new Map,cr=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vb(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Vi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(n.pointerId)}}function Gi(t,n,r,o,u,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[u]},n!==null&&(n=xn(n),n!==null&&$b(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function $S(t,n,r,o,u){switch(n){case"focusin":return lr=Gi(lr,t,n,r,o,u),!0;case"dragenter":return ir=Gi(ir,t,n,r,o,u),!0;case"mouseover":return or=Gi(or,t,n,r,o,u),!0;case"pointerover":var m=u.pointerId;return Vi.set(m,Gi(Vi.get(m)||null,t,n,r,o,u)),!0;case"gotpointercapture":return m=u.pointerId,Zi.set(m,Gi(Zi.get(m)||null,t,n,r,o,u)),!0}return!1}function Zb(t){var n=Et(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,Qt(t.priority,function(){Fb(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,Qt(t.priority,function(){Fb(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=yf(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ma=o,r.target.dispatchEvent(o),Ma=null}else return n=xn(r),n!==null&&$b(n),t.blockedOn=r,!1;n.shift()}return!0}function Gb(t,n,r){jc(t)&&r.delete(n)}function FS(){Nf=!1,lr!==null&&jc(lr)&&(lr=null),ir!==null&&jc(ir)&&(ir=null),or!==null&&jc(or)&&(or=null),Vi.forEach(Gb),Zi.forEach(Gb)}function wc(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FS)))}var _c=null;function Pb(t){_c!==t&&(_c=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_c===t&&(_c=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],u=t[n+2];if(typeof o!="function"){if(xf(o||r)===null)continue;break}var m=xn(r);m!==null&&(t.splice(n,3),n-=3,vd(m,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function Bl(t){function n(z){return wc(z,t)}lr!==null&&wc(lr,t),ir!==null&&wc(ir,t),or!==null&&wc(or,t),Vi.forEach(n),Zi.forEach(n);for(var r=0;r<cr.length;r++){var o=cr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)Zb(r),r.blockedOn===null&&cr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],b=u[bt]||null;if(typeof m=="function")b||Pb(r);else if(b){var N=null;if(m&&m.hasAttribute("formAction")){if(u=m,b=m[bt]||null)N=b.formAction;else if(xf(u)!==null)continue}else N=b.action;typeof N=="function"?r[o+1]=N:(r.splice(o,3),o-=3),Pb(r)}}}function Qb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Sf(t){this._internalRoot=t}Ec.prototype.render=Sf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));var r=n.current,o=za();qb(r,o,t,n,null,null)},Ec.prototype.unmount=Sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qb(t.current,2,null,t,null,null),lc(),n[zt]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=vt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<cr.length&&n!==0&&n<cr[r].priority;r++);cr.splice(r,0,t),r===0&&Zb(t)}};var Yb=a.version;if(Yb!=="19.2.0")throw Error(i(527,Yb,"19.2.0"));F.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var HS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Ne=Cc.inject(HS),tt=Cc}catch{}}return Qi.createRoot=function(t,n){if(!c(t))throw Error(i(299));var r=!1,o="",u=ng,m=ag,b=sg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Lb(t,1,!1,null,null,r,o,null,u,m,b,Qb),t[zt]=n.current,nf(t),new Sf(n)},Qi.hydrateRoot=function(t,n,r){if(!c(t))throw Error(i(299));var o=!1,u="",m=ng,b=ag,N=sg,z=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.formState!==void 0&&(z=r.formState)),n=Lb(t,1,!0,n,r??null,o,u,z,m,b,N,Qb),n.context=Bb(null),r=n.current,o=za(),o=Kt(o),u=Qs(o),u.callback=null,Ys(r,u,o),r=o,n.current.lanes=r,Oe(n,r),ms(n),t[zt]=n.current,nf(t),new Ec(n)},Qi.version="19.2.0",Qi}var rv;function WS(){if(rv)return _f.exports;rv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),_f.exports=JS(),_f.exports}var ej=WS();const tj=$y(ej);var lv="popstate";function nj(e={}){function a(i,c){let{pathname:d,search:f,hash:h}=i.location;return lm("",{pathname:d,search:f,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(i,c){return typeof c=="string"?c:ro(c)}return sj(a,s,null,e)}function rn(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Qa(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function aj(){return Math.random().toString(36).substring(2,10)}function iv(e,a){return{usr:e.state,key:e.key,idx:a}}function lm(e,a,s=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Jl(a):a,state:s,key:a&&a.key||i||aj()}}function ro({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Jl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let i=e.indexOf("?");i>=0&&(a.search=e.substring(i),e=e.substring(0,i)),e&&(a.pathname=e)}return a}function sj(e,a,s,i={}){let{window:c=document.defaultView,v5Compat:d=!1}=i,f=c.history,h="POP",v=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function x(){h="POP";let _=y(),q=_==null?null:_-p;p=_,v&&v({action:h,location:A.location,delta:q})}function S(_,q){h="PUSH";let D=lm(A.location,_,q);p=y()+1;let J=iv(D,p),U=A.createHref(D);try{f.pushState(J,"",U)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;c.location.assign(U)}d&&v&&v({action:h,location:A.location,delta:1})}function I(_,q){h="REPLACE";let D=lm(A.location,_,q);p=y();let J=iv(D,p),U=A.createHref(D);f.replaceState(J,"",U),d&&v&&v({action:h,location:A.location,delta:0})}function E(_){return rj(_)}let A={get action(){return h},get location(){return e(c,f)},listen(_){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(lv,x),v=_,()=>{c.removeEventListener(lv,x),v=null}},createHref(_){return a(c,_)},createURL:E,encodeLocation(_){let q=E(_);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:I,go(_){return f.go(_)}};return A}function rj(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),rn(s,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:ro(e);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function Fy(e,a,s="/"){return lj(e,a,s,!1)}function lj(e,a,s,i){let c=typeof a=="string"?Jl(a):a,d=Bs(c.pathname||"/",s);if(d==null)return null;let f=Hy(e);ij(f);let h=null;for(let v=0;h==null&&v<f.length;++v){let p=vj(d);h=gj(f[v],p,i)}return h}function Hy(e,a=[],s=[],i="",c=!1){let d=(f,h,v=c,p)=>{let y={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&v)return;rn(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let x=Ls([i,y.relativePath]),S=s.concat(y);f.children&&f.children.length>0&&(rn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Hy(f.children,a,S,x,v)),!(f.path==null&&!f.index)&&a.push({path:x,score:hj(x,f.index),routesMeta:S})};return e.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))d(f,h);else for(let v of Vy(f.path))d(f,h,!0,v)}),a}function Vy(e){let a=e.split("/");if(a.length===0)return[];let[s,...i]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let f=Vy(i.join("/")),h=[];return h.push(...f.map(v=>v===""?d:[d,v].join("/"))),c&&h.push(...f),h.map(v=>e.startsWith("/")&&v===""?"/":v)}function ij(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:pj(a.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var oj=/^:[\w-]+$/,cj=3,uj=2,dj=1,fj=10,mj=-2,ov=e=>e==="*";function hj(e,a){let s=e.split("/"),i=s.length;return s.some(ov)&&(i+=mj),a&&(i+=uj),s.filter(c=>!ov(c)).reduce((c,d)=>c+(oj.test(d)?cj:d===""?dj:fj),i)}function pj(e,a){return e.length===a.length&&e.slice(0,-1).every((i,c)=>i===a[c])?e[e.length-1]-a[a.length-1]:0}function gj(e,a,s=!1){let{routesMeta:i}=e,c={},d="/",f=[];for(let h=0;h<i.length;++h){let v=i[h],p=h===i.length-1,y=d==="/"?a:a.slice(d.length)||"/",x=lo({path:v.relativePath,caseSensitive:v.caseSensitive,end:p},y),S=v.route;if(!x&&p&&s&&!i[i.length-1].route.index&&(x=lo({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!x)return null;Object.assign(c,x.params),f.push({params:c,pathname:Ls([d,x.pathname]),pathnameBase:Sj(Ls([d,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(d=Ls([d,x.pathnameBase]))}return f}function lo(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,i]=bj(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:x},S)=>{if(y==="*"){let E=h[S]||"";f=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const I=h[S];return x&&!I?p[y]=void 0:p[y]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:f,pattern:e}}function bj(e,a=!1,s=!0){Qa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,v)=>(i.push({paramName:h,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),i]}function vj(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Qa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function Bs(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,i=e.charAt(s);return i&&i!=="/"?null:e.slice(s)||"/"}function yj(e,a="/"){let{pathname:s,search:i="",hash:c=""}=typeof e=="string"?Jl(e):e;return{pathname:s?s.startsWith("/")?s:xj(s,a):a,search:jj(i),hash:wj(c)}}function xj(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Of(e,a,s,i){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nj(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function qm(e){let a=Nj(e);return a.map((s,i)=>i===a.length-1?s.pathname:s.pathnameBase)}function Im(e,a,s,i=!1){let c;typeof e=="string"?c=Jl(e):(c={...e},rn(!c.pathname||!c.pathname.includes("?"),Of("?","pathname","search",c)),rn(!c.pathname||!c.pathname.includes("#"),Of("#","pathname","hash",c)),rn(!c.search||!c.search.includes("#"),Of("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,h;if(f==null)h=s;else{let x=a.length-1;if(!i&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),x-=1;c.pathname=S.join("/")}h=x>=0?a[x]:"/"}let v=yj(c,h),p=f&&f!=="/"&&f.endsWith("/"),y=(d||f===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(p||y)&&(v.pathname+="/"),v}var Ls=e=>e.join("/").replace(/\/\/+/g,"/"),Sj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _j(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zy=["POST","PUT","PATCH","DELETE"];new Set(Zy);var Ej=["GET",...Zy];new Set(Ej);var Wl=g.createContext(null);Wl.displayName="DataRouter";var su=g.createContext(null);su.displayName="DataRouterState";g.createContext(!1);var Gy=g.createContext({isTransitioning:!1});Gy.displayName="ViewTransition";var Cj=g.createContext(new Map);Cj.displayName="Fetchers";var Aj=g.createContext(null);Aj.displayName="Await";var Ya=g.createContext(null);Ya.displayName="Navigation";var ho=g.createContext(null);ho.displayName="Location";var Ka=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ka.displayName="Route";var $m=g.createContext(null);$m.displayName="RouteError";function Oj(e,{relative:a}={}){rn(ei(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=g.useContext(Ya),{hash:c,pathname:d,search:f}=po(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:Ls([s,d])),i.createHref({pathname:h,search:f,hash:c})}function ei(){return g.useContext(ho)!=null}function oa(){return rn(ei(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(ho).location}var Py="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qy(e){g.useContext(Ya).static||g.useLayoutEffect(e)}function Wr(){let{isDataRoute:e}=g.useContext(Ka);return e?Zj():Rj()}function Rj(){rn(ei(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Wl),{basename:a,navigator:s}=g.useContext(Ya),{matches:i}=g.useContext(Ka),{pathname:c}=oa(),d=JSON.stringify(qm(i)),f=g.useRef(!1);return Qy(()=>{f.current=!0}),g.useCallback((v,p={})=>{if(Qa(f.current,Py),!f.current)return;if(typeof v=="number"){s.go(v);return}let y=Im(v,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Ls([a,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[a,s,d,c,e])}var Tj=g.createContext(null);function Dj(e){let a=g.useContext(Ka).outlet;return g.useMemo(()=>a&&g.createElement(Tj.Provider,{value:e},a),[a,e])}function zj(){let{matches:e}=g.useContext(Ka),a=e[e.length-1];return a?a.params:{}}function po(e,{relative:a}={}){let{matches:s}=g.useContext(Ka),{pathname:i}=oa(),c=JSON.stringify(qm(s));return g.useMemo(()=>Im(e,JSON.parse(c),i,a==="path"),[e,c,i,a])}function kj(e,a){return Yy(e,a)}function Yy(e,a,s,i,c){rn(ei(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=g.useContext(Ya),{matches:f}=g.useContext(Ka),h=f[f.length-1],v=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let D=x&&x.path||"";Ky(p,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=oa(),I;if(a){let D=typeof a=="string"?Jl(a):a;rn(y==="/"||D.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${D.pathname}" was given in the \`location\` prop.`),I=D}else I=S;let E=I.pathname||"/",A=E;if(y!=="/"){let D=y.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let _=Fy(e,{pathname:A});Qa(x||_!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Qa(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=qj(_&&_.map(D=>Object.assign({},D,{params:Object.assign({},v,D.params),pathname:Ls([y,d.encodeLocation?d.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:Ls([y,d.encodeLocation?d.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,s,i,c);return a&&q?g.createElement(ho.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},q):q}function Mj(){let e=Vj(),a=_j(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:d},"ErrorBoundary")," or"," ",g.createElement("code",{style:d},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),s?g.createElement("pre",{style:c},s):null,f)}var Uj=g.createElement(Mj,null),Lj=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(Ka.Provider,{value:this.props.routeContext},g.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bj({routeContext:e,match:a,children:s}){let i=g.useContext(Wl);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(Ka.Provider,{value:e},s)}function qj(e,a=[],s=null,i=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,f=s?.errors;if(f!=null){let p=d.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);rn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,v=-1;if(s)for(let p=0;p<d.length;p++){let y=d[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=p),y.route.id){let{loaderData:x,errors:S}=s,I=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||I){h=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((p,y,x)=>{let S,I=!1,E=null,A=null;s&&(S=f&&y.route.id?f[y.route.id]:void 0,E=y.route.errorElement||Uj,h&&(v<0&&x===0?(Ky("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,A=null):v===x&&(I=!0,A=y.route.hydrateFallbackElement||null)));let _=a.concat(d.slice(0,x+1)),q=()=>{let D;return S?D=E:I?D=A:y.route.Component?D=g.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=p,g.createElement(Bj,{match:y,routeContext:{outlet:p,matches:_,isDataRoute:s!=null},children:D})};return s&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?g.createElement(Lj,{location:s.location,revalidation:s.revalidation,component:E,error:S,children:q(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:i}):q()},null)}function Fm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ij(e){let a=g.useContext(Wl);return rn(a,Fm(e)),a}function $j(e){let a=g.useContext(su);return rn(a,Fm(e)),a}function Fj(e){let a=g.useContext(Ka);return rn(a,Fm(e)),a}function Hm(e){let a=Fj(e),s=a.matches[a.matches.length-1];return rn(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Hj(){return Hm("useRouteId")}function Vj(){let e=g.useContext($m),a=$j("useRouteError"),s=Hm("useRouteError");return e!==void 0?e:a.errors?.[s]}function Zj(){let{router:e}=Ij("useNavigate"),a=Hm("useNavigate"),s=g.useRef(!1);return Qy(()=>{s.current=!0}),g.useCallback(async(c,d={})=>{Qa(s.current,Py),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var cv={};function Ky(e,a,s){!a&&!cv[e]&&(cv[e]=!0,Qa(!1,s))}g.memo(Gj);function Gj({routes:e,future:a,state:s,unstable_onError:i}){return Yy(e,void 0,s,i,a)}function pr({to:e,replace:a,state:s,relative:i}){rn(ei(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=g.useContext(Ya);Qa(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=g.useContext(Ka),{pathname:f}=oa(),h=Wr(),v=Im(e,qm(d),f,i==="path"),p=JSON.stringify(v);return g.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:i})},[h,p,i,a,s]),null}function Xy(e){return Dj(e.context)}function cn(e){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pj({basename:e="/",children:a=null,location:s,navigationType:i="POP",navigator:c,static:d=!1}){rn(!ei(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:f,navigator:c,static:d,future:{}}),[f,c,d]);typeof s=="string"&&(s=Jl(s));let{pathname:v="/",search:p="",hash:y="",state:x=null,key:S="default"}=s,I=g.useMemo(()=>{let E=Bs(v,f);return E==null?null:{location:{pathname:E,search:p,hash:y,state:x,key:S},navigationType:i}},[f,v,p,y,x,S,i]);return Qa(I!=null,`<Router basename="${f}"> is not able to match the URL "${v}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:g.createElement(Ya.Provider,{value:h},g.createElement(ho.Provider,{children:a,value:I}))}function Qj({children:e,location:a}){return kj(im(e),a)}function im(e,a=[]){let s=[];return g.Children.forEach(e,(i,c)=>{if(!g.isValidElement(i))return;let d=[...a,c];if(i.type===g.Fragment){s.push.apply(s,im(i.props.children,d));return}rn(i.type===cn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=im(i.props.children,d)),s.push(f)}),s}var Lc="get",Bc="application/x-www-form-urlencoded";function ru(e){return e!=null&&typeof e.tagName=="string"}function Yj(e){return ru(e)&&e.tagName.toLowerCase()==="button"}function Kj(e){return ru(e)&&e.tagName.toLowerCase()==="form"}function Xj(e){return ru(e)&&e.tagName.toLowerCase()==="input"}function Jj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wj(e,a){return e.button===0&&(!a||a==="_self")&&!Jj(e)}function om(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let i=e[s];return a.concat(Array.isArray(i)?i.map(c=>[s,c]):[[s,i]])},[]))}function ew(e,a){let s=om(e);return a&&a.forEach((i,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var Ac=null;function tw(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rf(e){return e!=null&&!nw.has(e)?(Qa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):e}function aw(e,a){let s,i,c,d,f;if(Kj(e)){let h=e.getAttribute("action");i=h?Bs(h,a):null,s=e.getAttribute("method")||Lc,c=Rf(e.getAttribute("enctype"))||Bc,d=new FormData(e)}else if(Yj(e)||Xj(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=e.getAttribute("formaction")||h.getAttribute("action");if(i=v?Bs(v,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||Lc,c=Rf(e.getAttribute("formenctype"))||Rf(h.getAttribute("enctype"))||Bc,d=new FormData(h,e),!tw()){let{name:p,type:y,value:x}=e;if(y==="image"){let S=p?`${p}.`:"";d.append(`${S}x`,"0"),d.append(`${S}y`,"0")}else p&&d.append(p,x)}}else{if(ru(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Lc,i=null,c=Bc,f=e}return d&&c==="text/plain"&&(f=d,d=void 0),{action:i,method:s.toLowerCase(),encType:c,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vm(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function sw(e,a,s){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${s}`:a&&Bs(i.pathname,a)==="/"?i.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function rw(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iw(e,a,s){let i=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let f=await rw(d,s);return f.links?f.links():[]}return[]}));return dw(i.flat(1).filter(lw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function uv(e,a,s,i,c,d){let f=(v,p)=>s[p]?v.route.id!==s[p].route.id:!0,h=(v,p)=>s[p].pathname!==v.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==v.params["*"];return d==="assets"?a.filter((v,p)=>f(v,p)||h(v,p)):d==="data"?a.filter((v,p)=>{let y=i.routes[v.route.id];if(!y||!y.hasLoader)return!1;if(f(v,p)||h(v,p))return!0;if(v.route.shouldRevalidate){let x=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ow(e,a,{includeHydrateFallback:s}={}){return cw(e.map(i=>{let c=a.routes[i.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function cw(e){return[...new Set(e)]}function uw(e){let a={},s=Object.keys(e).sort();for(let i of s)a[i]=e[i];return a}function dw(e,a){let s=new Set;return new Set(a),e.reduce((i,c)=>{let d=JSON.stringify(uw(c));return s.has(d)||(s.add(d),i.push({key:d,link:c})),i},[])}function Jy(){let e=g.useContext(Wl);return Vm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fw(){let e=g.useContext(su);return Vm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Zm=g.createContext(void 0);Zm.displayName="FrameworkContext";function Wy(){let e=g.useContext(Zm);return Vm(e,"You must render this element inside a <HydratedRouter> element"),e}function mw(e,a){let s=g.useContext(Zm),[i,c]=g.useState(!1),[d,f]=g.useState(!1),{onFocus:h,onBlur:v,onMouseEnter:p,onMouseLeave:y,onTouchStart:x}=a,S=g.useRef(null);g.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let A=q=>{q.forEach(D=>{f(D.isIntersecting)})},_=new IntersectionObserver(A,{threshold:.5});return S.current&&_.observe(S.current),()=>{_.disconnect()}}},[e]),g.useEffect(()=>{if(i){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[i]);let I=()=>{c(!0)},E=()=>{c(!1),f(!1)};return s?e!=="intent"?[d,S,{}]:[d,S,{onFocus:Yi(h,I),onBlur:Yi(v,E),onMouseEnter:Yi(p,I),onMouseLeave:Yi(y,E),onTouchStart:Yi(x,I)}]:[!1,S,{}]}function Yi(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function hw({page:e,...a}){let{router:s}=Jy(),i=g.useMemo(()=>Fy(s.routes,e,s.basename),[s.routes,e,s.basename]);return i?g.createElement(gw,{page:e,matches:i,...a}):null}function pw(e){let{manifest:a,routeModules:s}=Wy(),[i,c]=g.useState([]);return g.useEffect(()=>{let d=!1;return iw(e,a,s).then(f=>{d||c(f)}),()=>{d=!0}},[e,a,s]),i}function gw({page:e,matches:a,...s}){let i=oa(),{manifest:c,routeModules:d}=Wy(),{basename:f}=Jy(),{loaderData:h,matches:v}=fw(),p=g.useMemo(()=>uv(e,a,v,c,i,"data"),[e,a,v,c,i]),y=g.useMemo(()=>uv(e,a,v,c,i,"assets"),[e,a,v,c,i]),x=g.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,A=!1;if(a.forEach(q=>{let D=c.routes[q.route.id];!D||!D.hasLoader||(!p.some(J=>J.route.id===q.route.id)&&q.route.id in h&&d[q.route.id]?.shouldRevalidate||D.hasClientLoader?A=!0:E.add(q.route.id))}),E.size===0)return[];let _=sw(e,f,"data");return A&&E.size>0&&_.searchParams.set("_routes",a.filter(q=>E.has(q.route.id)).map(q=>q.route.id).join(",")),[_.pathname+_.search]},[f,h,i,c,p,a,e,d]),S=g.useMemo(()=>ow(y,c),[y,c]),I=pw(y);return g.createElement(g.Fragment,null,x.map(E=>g.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),S.map(E=>g.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),I.map(({key:E,link:A})=>g.createElement("link",{key:E,nonce:s.nonce,...A})))}function bw(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ex&&(window.__reactRouterVersion="7.9.5")}catch{}function vw({basename:e,children:a,window:s}){let i=g.useRef();i.current==null&&(i.current=nj({window:s,v5Compat:!0}));let c=i.current,[d,f]=g.useState({action:c.action,location:c.location}),h=g.useCallback(v=>{g.startTransition(()=>f(v))},[f]);return g.useLayoutEffect(()=>c.listen(h),[c,h]),g.createElement(Pj,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var tx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fc=g.forwardRef(function({onClick:a,discover:s="render",prefetch:i="none",relative:c,reloadDocument:d,replace:f,state:h,target:v,to:p,preventScrollReset:y,viewTransition:x,...S},I){let{basename:E}=g.useContext(Ya),A=typeof p=="string"&&tx.test(p),_,q=!1;if(typeof p=="string"&&A&&(_=p,ex))try{let ue=new URL(window.location.href),Ee=p.startsWith("//")?new URL(ue.protocol+p):new URL(p),je=Bs(Ee.pathname,E);Ee.origin===ue.origin&&je!=null?p=je+Ee.search+Ee.hash:q=!0}catch{Qa(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=Oj(p,{relative:c}),[J,U,T]=mw(i,S),G=Nw(p,{replace:f,state:h,target:v,preventScrollReset:y,relative:c,viewTransition:x});function L(ue){a&&a(ue),ue.defaultPrevented||G(ue)}let ee=g.createElement("a",{...S,...T,href:_||D,onClick:q||d?a:L,ref:bw(I,U),target:v,"data-discover":!A&&s==="render"?"true":void 0});return J&&!A?g.createElement(g.Fragment,null,ee,g.createElement(hw,{page:D})):ee});Fc.displayName="Link";var nx=g.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:i="",end:c=!1,style:d,to:f,viewTransition:h,children:v,...p},y){let x=po(f,{relative:p.relative}),S=oa(),I=g.useContext(su),{navigator:E,basename:A}=g.useContext(Ya),_=I!=null&&Ew(x)&&h===!0,q=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,D=S.pathname,J=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;s||(D=D.toLowerCase(),J=J?J.toLowerCase():null,q=q.toLowerCase()),J&&A&&(J=Bs(J,A)||J);const U=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let T=D===q||!c&&D.startsWith(q)&&D.charAt(U)==="/",G=J!=null&&(J===q||!c&&J.startsWith(q)&&J.charAt(q.length)==="/"),L={isActive:T,isPending:G,isTransitioning:_},ee=T?a:void 0,ue;typeof i=="function"?ue=i(L):ue=[i,T?"active":null,G?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof d=="function"?d(L):d;return g.createElement(Fc,{...p,"aria-current":ee,className:ue,ref:y,style:Ee,to:f,viewTransition:h},typeof v=="function"?v(L):v)});nx.displayName="NavLink";var yw=g.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:c,state:d,method:f=Lc,action:h,onSubmit:v,relative:p,preventScrollReset:y,viewTransition:x,...S},I)=>{let E=ww(),A=_w(h,{relative:p}),_=f.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&tx.test(h),D=J=>{if(v&&v(J),J.defaultPrevented)return;J.preventDefault();let U=J.nativeEvent.submitter,T=U?.getAttribute("formmethod")||f;E(U||J.currentTarget,{fetcherKey:a,method:T,navigate:s,replace:c,state:d,relative:p,preventScrollReset:y,viewTransition:x})};return g.createElement("form",{ref:I,method:_,action:A,onSubmit:i?v:D,...S,"data-discover":!q&&e==="render"?"true":void 0})});yw.displayName="Form";function xw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ax(e){let a=g.useContext(Wl);return rn(a,xw(e)),a}function Nw(e,{target:a,replace:s,state:i,preventScrollReset:c,relative:d,viewTransition:f}={}){let h=Wr(),v=oa(),p=po(e,{relative:d});return g.useCallback(y=>{if(Wj(y,a)){y.preventDefault();let x=s!==void 0?s:ro(v)===ro(p);h(e,{replace:x,state:i,preventScrollReset:c,relative:d,viewTransition:f})}},[v,h,p,s,i,a,e,c,d,f])}function sx(e){Qa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=g.useRef(om(e)),s=g.useRef(!1),i=oa(),c=g.useMemo(()=>ew(i.search,s.current?null:a.current),[i.search]),d=Wr(),f=g.useCallback((h,v)=>{const p=om(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,v)},[d,c]);return[c,f]}var Sw=0,jw=()=>`__${String(++Sw)}__`;function ww(){let{router:e}=ax("useSubmit"),{basename:a}=g.useContext(Ya),s=Hj();return g.useCallback(async(i,c={})=>{let{action:d,method:f,encType:h,formData:v,body:p}=aw(i,a);if(c.navigate===!1){let y=c.fetcherKey||jw();await e.fetch(y,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:p,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:p,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function _w(e,{relative:a}={}){let{basename:s}=g.useContext(Ya),i=g.useContext(Ka);rn(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),d={...po(e||".",{relative:a})},f=oa();if(e==null){d.search=f.search;let h=new URLSearchParams(d.search),v=h.getAll("index");if(v.some(y=>y==="")){h.delete("index"),v.filter(x=>x).forEach(x=>h.append("index",x));let y=h.toString();d.search=y?`?${y}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:Ls([s,d.pathname])),ro(d)}function Ew(e,{relative:a}={}){let s=g.useContext(Gy);rn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ax("useViewTransitionState"),c=po(e,{relative:a});if(!s.isTransitioning)return!1;let d=Bs(s.currentLocation.pathname,i)||s.currentLocation.pathname,f=Bs(s.nextLocation.pathname,i)||s.nextLocation.pathname;return lo(c.pathname,f)!=null||lo(c.pathname,d)!=null}var ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cw={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},Aw=class{#e=Cw;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},Fr=new Aw;function Ow(e){setTimeout(e,0)}var Gr=typeof window>"u"||"Deno"in globalThis;function ia(){}function Rw(e,a){return typeof e=="function"?e(a):e}function cm(e){return typeof e=="number"&&e>=0&&e!==1/0}function rx(e,a){return Math.max(e+(a||0)-Date.now(),0)}function gr(e,a){return typeof e=="function"?e(a):e}function Za(e,a){return typeof e=="function"?e(a):e}function dv(e,a){const{type:s="all",exact:i,fetchStatus:c,predicate:d,queryKey:f,stale:h}=e;if(f){if(i){if(a.queryHash!==Gm(f,a.options))return!1}else if(!io(a.queryKey,f))return!1}if(s!=="all"){const v=a.isActive();if(s==="active"&&!v||s==="inactive"&&v)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function fv(e,a){const{exact:s,status:i,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(Pr(a.options.mutationKey)!==Pr(d))return!1}else if(!io(a.options.mutationKey,d))return!1}return!(i&&a.state.status!==i||c&&!c(a))}function Gm(e,a){return(a?.queryKeyHashFn||Pr)(e)}function Pr(e){return JSON.stringify(e,(a,s)=>um(s)?Object.keys(s).sort().reduce((i,c)=>(i[c]=s[c],i),{}):s)}function io(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>io(e[s],a[s])):!1}var Tw=Object.prototype.hasOwnProperty;function lx(e,a){if(e===a)return e;const s=mv(e)&&mv(a);if(!s&&!(um(e)&&um(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),f=d.length,h=s?new Array(f):{};let v=0;for(let p=0;p<f;p++){const y=s?p:d[p],x=e[y],S=a[y];if(x===S){h[y]=x,(s?p<c:Tw.call(e,y))&&v++;continue}if(x===null||S===null||typeof x!="object"||typeof S!="object"){h[y]=S;continue}const I=lx(x,S);h[y]=I,I===x&&v++}return c===f&&v===c?e:h}function Hc(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function mv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function um(e){if(!hv(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!hv(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dw(e){return new Promise(a=>{Fr.setTimeout(a,e)})}function dm(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?lx(e,a):a}function zw(e,a,s=0){const i=[...e,a];return s&&i.length>s?i.slice(1):i}function kw(e,a,s=0){const i=[a,...e];return s&&i.length>s?i.slice(0,-1):i}var Pm=Symbol();function ix(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Pm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ox(e,a){return typeof e=="function"?e(...a):!!e}var Mw=class extends ti{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Gr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Qm=new Mw;function fm(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function i(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},s.reject=c=>{i({status:"rejected",reason:c}),a(c)},s}var Uw=Ow;function Lw(){let e=[],a=0,s=h=>{h()},i=h=>{h()},c=Uw;const d=h=>{a?e.push(h):c(()=>{s(h)})},f=()=>{const h=e;e=[],h.length&&c(()=>{i(()=>{h.forEach(v=>{s(v)})})})};return{batch:h=>{let v;a++;try{v=h()}finally{a--,a||f()}return v},batchCalls:h=>(...v)=>{d(()=>{h(...v)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{c=h}}}var Tn=Lw(),Bw=class extends ti{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Gr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Vc=new Bw;function qw(e){return Math.min(1e3*2**e,3e4)}function cx(e){return(e??"online")==="online"?Vc.isOnline():!0}var mm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ux(e){let a=!1,s=0,i;const c=fm(),d=()=>c.status!=="pending",f=A=>{if(!d()){const _=new mm(A);S(_),e.onCancel?.(_)}},h=()=>{a=!0},v=()=>{a=!1},p=()=>Qm.isFocused()&&(e.networkMode==="always"||Vc.isOnline())&&e.canRun(),y=()=>cx(e.networkMode)&&e.canRun(),x=A=>{d()||(i?.(),c.resolve(A))},S=A=>{d()||(i?.(),c.reject(A))},I=()=>new Promise(A=>{i=_=>{(d()||p())&&A(_)},e.onPause?.()}).then(()=>{i=void 0,d()||e.onContinue?.()}),E=()=>{if(d())return;let A;const _=s===0?e.initialPromise:void 0;try{A=_??e.fn()}catch(q){A=Promise.reject(q)}Promise.resolve(A).then(x).catch(q=>{if(d())return;const D=e.retry??(Gr?0:3),J=e.retryDelay??qw,U=typeof J=="function"?J(s,q):J,T=D===!0||typeof D=="number"&&s<D||typeof D=="function"&&D(s,q);if(a||!T){S(q);return}s++,e.onFail?.(s,q),Dw(U).then(()=>p()?void 0:I()).then(()=>{a?S(q):E()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:h,continueRetry:v,canStart:y,start:()=>(y()?E():I().then(E),c)}}var dx=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cm(this.gcTime)&&(this.#e=Fr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Fr.clearTimeout(this.#e),this.#e=void 0)}},Iw=class extends dx{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=gv(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=gv(this.options);a.data!==void 0&&(this.setState(pv(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=dm(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(ia).catch(ia):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Za(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rx(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(v=>v.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=ix(this.options,a),p=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(y),y})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},f=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return i(h),h})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=ux({initialPromise:a?.initialPromise,fn:f.fetchFn,onCancel:h=>{h instanceof mm&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,v)=>{this.#r({type:"failed",failureCount:h,error:v})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof mm){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...fx(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,...pv(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),Tn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function fx(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cx(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pv(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gv(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var $w=class extends ti{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=fm(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),bv(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#N(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Za(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),a._defaulted&&!Hc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&vv(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),i&&(this.#t!==s||Za(this.options.enabled,this.#t)!==Za(a.enabled,this.#t)||gr(this.options.staleTime,this.#t)!==gr(a.staleTime,this.#t))&&this.#g();const c=this.#b();i&&(this.#t!==s||Za(this.options.enabled,this.#t)!==Za(a.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return Hw(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),a?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#S();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(ia)),a}#g(){this.#x();const e=gr(this.options.staleTime,this.#t);if(Gr||this.#s.isStale||!cm(e))return;const s=rx(this.#s.dataUpdatedAt,e)+1;this.#c=Fr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#b(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#N(),this.#o=e,!(Gr||Za(this.options.enabled,this.#t)===!1||!cm(this.#o)||this.#o===0)&&(this.#u=Fr.setInterval(()=>{(this.options.refetchIntervalInBackground||Qm.isFocused())&&this.#d()},this.#o))}#y(){this.#g(),this.#v(this.#b())}#x(){this.#c&&(Fr.clearTimeout(this.#c),this.#c=void 0)}#N(){this.#u&&(Fr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,i=this.options,c=this.#s,d=this.#a,f=this.#l,v=e!==s?e.state:this.#n,{state:p}=e;let y={...p},x=!1,S;if(a._optimisticResults){const ee=this.hasListeners(),ue=!ee&&bv(e,a),Ee=ee&&vv(e,s,a,i);(ue||Ee)&&(y={...y,...fx(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:I,errorUpdatedAt:E,status:A}=y;S=y.data;let _=!1;if(a.placeholderData!==void 0&&S===void 0&&A==="pending"){let ee;c?.isPlaceholderData&&a.placeholderData===f?.placeholderData?(ee=c.data,_=!0):ee=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,ee!==void 0&&(A="success",S=dm(c?.data,ee,a),x=!0)}if(a.select&&S!==void 0&&!_)if(c&&S===d?.data&&a.select===this.#p)S=this.#f;else try{this.#p=a.select,S=a.select(S),S=dm(c?.data,S,a),this.#f=S,this.#r=null}catch(ee){this.#r=ee}this.#r&&(I=this.#r,S=this.#f,E=Date.now(),A="error");const q=y.fetchStatus==="fetching",D=A==="pending",J=A==="error",U=D&&q,T=S!==void 0,L={status:A,fetchStatus:y.fetchStatus,isPending:D,isSuccess:A==="success",isError:J,isInitialLoading:U,isLoading:U,data:S,dataUpdatedAt:y.dataUpdatedAt,error:I,errorUpdatedAt:E,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>v.dataUpdateCount||y.errorUpdateCount>v.errorUpdateCount,isFetching:q,isRefetching:q&&!D,isLoadingError:J&&!T,isPaused:y.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:J&&T,isStale:Ym(e,a),refetch:this.refetch,promise:this.#i,isEnabled:Za(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const ee=je=>{L.status==="error"?je.reject(L.error):L.data!==void 0&&je.resolve(L.data)},ue=()=>{const je=this.#i=L.promise=fm();ee(je)},Ee=this.#i;switch(Ee.status){case"pending":e.queryHash===s.queryHash&&ee(Ee);break;case"fulfilled":(L.status==="error"||L.data!==Ee.value)&&ue();break;case"rejected":(L.status!=="error"||L.error!==Ee.reason)&&ue();break}}return L}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Hc(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(f=>{const h=f;return this.#s[h]!==e[h]&&d.has(h)})};this.#j({listeners:s()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){Tn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Fw(e,a){return Za(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function bv(e,a){return Fw(e,a)||e.state.data!==void 0&&hm(e,a,a.refetchOnMount)}function hm(e,a,s){if(Za(a.enabled,e)!==!1&&gr(a.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&Ym(e,a)}return!1}function vv(e,a,s,i){return(e!==a||Za(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Ym(e,s)}function Ym(e,a){return Za(a.enabled,e)!==!1&&e.isStaleByTime(gr(a.staleTime,e))}function Hw(e,a){return!Hc(e.getCurrentResult(),a)}function yv(e){return{onFetch:(a,s)=>{const i=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],f=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},v=0;const p=async()=>{let y=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(a.signal.aborted?y=!0:a.signal.addEventListener("abort",()=>{y=!0}),a.signal)})},S=ix(a.options,a.fetchOptions),I=async(E,A,_)=>{if(y)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const D=(()=>{const G={client:a.client,queryKey:a.queryKey,pageParam:A,direction:_?"backward":"forward",meta:a.options.meta};return x(G),G})(),J=await S(D),{maxPages:U}=a.options,T=_?kw:zw;return{pages:T(E.pages,J,U),pageParams:T(E.pageParams,A,U)}};if(c&&d.length){const E=c==="backward",A=E?Vw:xv,_={pages:d,pageParams:f},q=A(i,_);h=await I(_,q,E)}else{const E=e??d.length;do{const A=v===0?f[0]??i.initialPageParam:xv(i,h);if(v>0&&A==null)break;h=await I(h,A),v++}while(v<E)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function xv(e,{pages:a,pageParams:s}){const i=a.length-1;return a.length>0?e.getNextPageParam(a[i],a,s[i],s):void 0}function Vw(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var Zw=class extends dx{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||mx(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=ux({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,f)=>{this.#a({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#s.canStart();try{if(i)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const f=await this.options.onMutate?.(e,s);f!==this.state.context&&this.#a({type:"pending",context:f,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Tn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function mx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gw=class extends ti{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const i=new Zw({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(i),i}add(e){this.#e.add(e);const a=Oc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=Oc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=Oc(e);if(typeof a=="string"){const i=this.#t.get(a)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const a=Oc(e);return typeof a=="string"?this.#t.get(a)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Tn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>fv(a,s))}findAll(e={}){return this.getAll().filter(a=>fv(e,a))}notify(e){Tn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return Tn.batch(()=>Promise.all(e.map(a=>a.continue().catch(ia))))}};function Oc(e){return e.options.scope?.id}var Pw=class extends ti{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),Hc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&Pr(s.mutationKey)!==Pr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??mx();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){Tn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,i,c),this.#s.onSettled?.(a.data,null,s,i,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,i,c),this.#s.onSettled?.(void 0,a.error,s,i,c))}this.listeners.forEach(s=>{s(this.#t)})})}},Qw=class extends ti{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const i=a.queryKey,c=a.queryHash??Gm(i,a);let d=this.get(c);return d||(d=new Iw({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>dv(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>dv(e,s)):a}notify(e){Tn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){Tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Yw=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new Qw,this.#t=e.mutationCache||new Gw,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Qm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Vc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(gr(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const i=s.data;return[a,i]})}setQueryData(e,a,s){const i=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(i.queryHash)?.state.data,f=Rw(a,d);if(f!==void 0)return this.#e.build(this,i).setData(f,{...s,manual:!0})}setQueriesData(e,a,s){return Tn.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;Tn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return Tn.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},i=Tn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(i).then(ia).catch(ia)}invalidateQueries(e,a={}){return Tn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},i=Tn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(ia)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(i).then(ia)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(gr(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ia).catch(ia)}fetchInfiniteQuery(e){return e.behavior=yv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ia).catch(ia)}ensureInfiniteQueryData(e){return e.behavior=yv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(Pr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(i=>{io(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(Pr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(i=>{io(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Gm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Pm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},hx=g.createContext(void 0),Km=e=>{const a=g.useContext(hx);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},Kw=({client:e,children:a})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(hx.Provider,{value:e,children:a})),px=g.createContext(!1),Xw=()=>g.useContext(px);px.Provider;function Jw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ww=g.createContext(Jw()),e_=()=>g.useContext(Ww),t_=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},n_=e=>{g.useEffect(()=>{e.clearReset()},[e])},a_=({result:e,errorResetBoundary:a,throwOnError:s,query:i,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||ox(s,[e.error,i])),s_=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>s(i(...c)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},r_=(e,a)=>e.isLoading&&e.isFetching&&!a,l_=(e,a)=>e?.suspense&&a.isPending,Nv=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function i_(e,a,s){const i=Xw(),c=e_(),d=Km(),f=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",s_(f),t_(f,c),n_(c);const h=!d.getQueryCache().get(f.queryHash),[v]=g.useState(()=>new a(d,f)),p=v.getOptimisticResult(f),y=!i&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(x=>{const S=y?v.subscribe(Tn.batchCalls(x)):ia;return v.updateResult(),S},[v,y]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),g.useEffect(()=>{v.setOptions(f)},[f,v]),l_(f,p))throw Nv(f,v,c);if(a_({result:p,errorResetBoundary:c,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(f,p),f.experimental_prefetchInRender&&!Gr&&r_(p,i)&&(h?Nv(f,v,c):d.getQueryCache().get(f.queryHash)?.promise)?.catch(ia).finally(()=>{v.updateResult()}),f.notifyOnChangeProps?p:v.trackResult(p)}function Qr(e,a){return i_(e,$w)}function o_(e,a){const s=Km(),[i]=g.useState(()=>new Pw(s,e));g.useEffect(()=>{i.setOptions(e)},[i,e]);const c=g.useSyncExternalStore(g.useCallback(f=>i.subscribe(Tn.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=g.useCallback((f,h)=>{i.mutate(f,h).catch(ia)},[i]);if(c.error&&ox(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var go=e=>e.type==="checkbox",Hr=e=>e instanceof Date,xa=e=>e==null;const gx=e=>typeof e=="object";var An=e=>!xa(e)&&!Array.isArray(e)&&gx(e)&&!Hr(e),c_=e=>An(e)&&e.target?go(e.target)?e.target.checked:e.target.value:e,u_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,d_=(e,a)=>e.has(u_(a)),f_=e=>{const a=e.constructor&&e.constructor.prototype;return An(a)&&a.hasOwnProperty("isPrototypeOf")},Xm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sn(e){let a;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(Xm&&(e instanceof Blob||i))&&(s||An(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!f_(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=sn(e[c]));else return e;return a}var lu=e=>/^\w*$/.test(e),Wt=e=>e===void 0,iu=e=>Array.isArray(e)?e.filter(Boolean):[],Jm=e=>iu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(e,a,s)=>{if(!a||!An(e))return s;const i=(lu(a)?[a]:Jm(a)).reduce((c,d)=>xa(c)?c:c[d],e);return Wt(i)||i===e?Wt(e[a])?s:e[a]:i},ps=e=>typeof e=="boolean",qt=(e,a,s)=>{let i=-1;const c=lu(a)?[a]:Jm(a),d=c.length,f=d-1;for(;++i<d;){const h=c[i];let v=s;if(i!==f){const p=e[h];v=An(p)||Array.isArray(p)?p:isNaN(+c[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=v,e=e[h]}};const Sv={BLUR:"blur",FOCUS_OUT:"focusout"},Ga={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Us={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bx=pt.createContext(null);bx.displayName="HookFormContext";const vx=()=>pt.useContext(bx);var m_=(e,a,s,i=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const f=d;return a._proxyFormState[f]!==Ga.all&&(a._proxyFormState[f]=!i||Ga.all),e[f]}});return c};const Wm=typeof window<"u"?pt.useLayoutEffect:pt.useEffect;var ka=e=>typeof e=="string",pm=(e,a,s,i,c)=>ka(e)?(i&&a.watch.add(e),$e(s,e,c)):Array.isArray(e)?e.map(d=>(i&&a.watch.add(d),$e(s,d))):(i&&(a.watchAll=!0),s),gm=e=>xa(e)||!gx(e);function ls(e,a,s=new WeakSet){if(gm(e)||gm(a))return e===a;if(Hr(e)&&Hr(a))return e.getTime()===a.getTime();const i=Object.keys(e),c=Object.keys(a);if(i.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of i){const f=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(Hr(f)&&Hr(h)||An(f)&&An(h)||Array.isArray(f)&&Array.isArray(h)?!ls(f,h,s):f!==h)return!1}}return!0}function Ki(e){const a=vx(),{control:s=a.control,name:i,defaultValue:c,disabled:d,exact:f,compute:h}=e||{},v=pt.useRef(c),p=pt.useRef(h),y=pt.useRef(void 0),x=pt.useRef(s),S=pt.useRef(i);p.current=h;const[I,E]=pt.useState(()=>{const U=s._getWatch(i,v.current);return p.current?p.current(U):U}),A=pt.useCallback(U=>{const T=pm(i,s._names,U||s._formValues,!1,v.current);return p.current?p.current(T):T},[s._formValues,s._names,i]),_=pt.useCallback(U=>{if(!d){const T=pm(i,s._names,U||s._formValues,!1,v.current);if(p.current){const G=p.current(T);ls(G,y.current)||(E(G),y.current=G)}else E(T)}},[s._formValues,s._names,d,i]);Wm(()=>((x.current!==s||!ls(S.current,i))&&(x.current=s,S.current=i,_()),s._subscribe({name:i,formState:{values:!0},exact:f,callback:U=>{_(U.values)}})),[s,f,i,_]),pt.useEffect(()=>s._removeUnmounted());const q=x.current!==s,D=S.current,J=pt.useMemo(()=>{if(d)return null;const U=!q&&!ls(D,i);return q||U?A():null},[d,q,i,D,A]);return J!==null?J:I}var eh=(e,a,s,i,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:c||!0}}:{},Na=e=>Array.isArray(e)?e:[e],jv=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function yx(e,a){const s={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],d=a[i];if(c&&An(c)&&d){const f=yx(c,d);An(f)&&(s[i]=f)}else e[i]&&(s[i]=d)}return s}var Wn=e=>An(e)&&!Object.keys(e).length,th=e=>e.type==="file",is=e=>typeof e=="function",Zc=e=>{if(!Xm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},xx=e=>e.type==="select-multiple",nh=e=>e.type==="radio",h_=e=>nh(e)||go(e),Tf=e=>Zc(e)&&e.isConnected;function p_(e,a){const s=a.slice(0,-1).length;let i=0;for(;i<s;)e=Wt(e)?i++:e[a[i++]];return e}function g_(e){for(const a in e)if(e.hasOwnProperty(a)&&!Wt(e[a]))return!1;return!0}function vn(e,a){const s=Array.isArray(a)?a:lu(a)?[a]:Jm(a),i=s.length===1?e:p_(e,s),c=s.length-1,d=s[c];return i&&delete i[d],c!==0&&(An(i)&&Wn(i)||Array.isArray(i)&&g_(i))&&vn(e,s.slice(0,-1)),e}var b_=e=>{for(const a in e)if(is(e[a]))return!0;return!1};function Nx(e){return Array.isArray(e)||An(e)&&!b_(e)}function bm(e,a={}){for(const s in e)Nx(e[s])?(a[s]=Array.isArray(e[s])?[]:{},bm(e[s],a[s])):Wt(e[s])||(a[s]=!0);return a}function Vl(e,a,s){s||(s=bm(a));for(const i in e)Nx(e[i])?Wt(a)||gm(s[i])?s[i]=bm(e[i],Array.isArray(e[i])?[]:{}):Vl(e[i],xa(a)?{}:a[i],s[i]):s[i]=!ls(e[i],a[i]);return s}const wv={value:!1,isValid:!1},_v={value:!0,isValid:!0};var Sx=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wt(e[0].attributes.value)?Wt(e[0].value)||e[0].value===""?_v:{value:e[0].value,isValid:!0}:_v:wv}return wv},jx=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:i})=>Wt(e)?e:a?e===""?NaN:e&&+e:s&&ka(e)?new Date(e):i?i(e):e;const Ev={isValid:!1,value:null};var wx=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,Ev):Ev;function Cv(e){const a=e.ref;return th(a)?a.files:nh(a)?wx(e.refs).value:xx(a)?[...a.selectedOptions].map(({value:s})=>s):go(a)?Sx(e.refs).value:jx(Wt(a.value)?e.ref.value:a.value,e)}var v_=(e,a,s,i)=>{const c={};for(const d of e){const f=$e(a,d);f&&qt(c,d,f._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:i}},Gc=e=>e instanceof RegExp,Xi=e=>Wt(e)?e:Gc(e)?e.source:An(e)?Gc(e.value)?e.value.source:e.value:e,Zl=e=>({isOnSubmit:!e||e===Ga.onSubmit,isOnBlur:e===Ga.onBlur,isOnChange:e===Ga.onChange,isOnAll:e===Ga.all,isOnTouch:e===Ga.onTouched});const Av="AsyncFunction";var y_=e=>!!e&&!!e.validate&&!!(is(e.validate)&&e.validate.constructor.name===Av||An(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===Av)),x_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vm=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Pl=(e,a,s,i)=>{for(const c of s||Object.keys(e)){const d=$e(e,c);if(d){const{_f:f,...h}=d;if(f){if(f.refs&&f.refs[0]&&a(f.refs[0],c)&&!i)return!0;if(f.ref&&a(f.ref,f.name)&&!i)return!0;if(Pl(h,a))break}else if(An(h)&&Pl(h,a))break}}};function Ov(e,a,s){const i=$e(e,s);if(i||lu(s))return{error:i,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),f=$e(a,d),h=$e(e,d);if(f&&!Array.isArray(f)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var N_=(e,a,s,i)=>{s(e);const{name:c,...d}=e;return Wn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(f=>a[f]===(!i||Ga.all))},S_=(e,a,s)=>!e||!a||e===a||Na(e).some(i=>i&&(s?i===a:i.startsWith(a)||a.startsWith(i))),j_=(e,a,s,i,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?i.isOnBlur:c.isOnBlur)?!e:(s?i.isOnChange:c.isOnChange)?e:!0,w_=(e,a)=>!iu($e(e,a)).length&&vn(e,a),_x=(e,a,s)=>{const i=Na($e(e,s));return qt(i,"root",a[s]),qt(e,s,i),e};function Rv(e,a,s="validate"){if(ka(e)||Array.isArray(e)&&e.every(ka)||ps(e)&&!e)return{type:s,message:ka(e)?e:"",ref:a}}var ql=e=>An(e)&&!Gc(e)?e:{value:e,message:""},ym=async(e,a,s,i,c,d)=>{const{ref:f,refs:h,required:v,maxLength:p,minLength:y,min:x,max:S,pattern:I,validate:E,name:A,valueAsNumber:_,mount:q}=e._f,D=$e(s,A);if(!q||a.has(A))return{};const J=h?h[0]:f,U=ie=>{c&&J.reportValidity&&(J.setCustomValidity(ps(ie)?"":ie||""),J.reportValidity())},T={},G=nh(f),L=go(f),ee=G||L,ue=(_||th(f))&&Wt(f.value)&&Wt(D)||Zc(f)&&f.value===""||D===""||Array.isArray(D)&&!D.length,Ee=eh.bind(null,A,i,T),je=(ie,we,ke,Te=Us.maxLength,M=Us.minLength)=>{const F=ie?we:ke;T[A]={type:ie?Te:M,message:F,ref:f,...Ee(ie?Te:M,F)}};if(d?!Array.isArray(D)||!D.length:v&&(!ee&&(ue||xa(D))||ps(D)&&!D||L&&!Sx(h).isValid||G&&!wx(h).isValid)){const{value:ie,message:we}=ka(v)?{value:!!v,message:v}:ql(v);if(ie&&(T[A]={type:Us.required,message:we,ref:J,...Ee(Us.required,we)},!i))return U(we),T}if(!ue&&(!xa(x)||!xa(S))){let ie,we;const ke=ql(S),Te=ql(x);if(!xa(D)&&!isNaN(D)){const M=f.valueAsNumber||D&&+D;xa(ke.value)||(ie=M>ke.value),xa(Te.value)||(we=M<Te.value)}else{const M=f.valueAsDate||new Date(D),F=Ce=>new Date(new Date().toDateString()+" "+Ce),ae=f.type=="time",xe=f.type=="week";ka(ke.value)&&D&&(ie=ae?F(D)>F(ke.value):xe?D>ke.value:M>new Date(ke.value)),ka(Te.value)&&D&&(we=ae?F(D)<F(Te.value):xe?D<Te.value:M<new Date(Te.value))}if((ie||we)&&(je(!!ie,ke.message,Te.message,Us.max,Us.min),!i))return U(T[A].message),T}if((p||y)&&!ue&&(ka(D)||d&&Array.isArray(D))){const ie=ql(p),we=ql(y),ke=!xa(ie.value)&&D.length>+ie.value,Te=!xa(we.value)&&D.length<+we.value;if((ke||Te)&&(je(ke,ie.message,we.message),!i))return U(T[A].message),T}if(I&&!ue&&ka(D)){const{value:ie,message:we}=ql(I);if(Gc(ie)&&!D.match(ie)&&(T[A]={type:Us.pattern,message:we,ref:f,...Ee(Us.pattern,we)},!i))return U(we),T}if(E){if(is(E)){const ie=await E(D,s),we=Rv(ie,J);if(we&&(T[A]={...we,...Ee(Us.validate,we.message)},!i))return U(we.message),T}else if(An(E)){let ie={};for(const we in E){if(!Wn(ie)&&!i)break;const ke=Rv(await E[we](D,s),J,we);ke&&(ie={...ke,...Ee(we,ke.message)},U(ke.message),i&&(T[A]=ie))}if(!Wn(ie)&&(T[A]={ref:J,...ie},!i))return T}}return U(!0),T};const __={mode:Ga.onSubmit,reValidateMode:Ga.onChange,shouldFocusError:!0};function E_(e={}){let a={...__,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:is(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},i={},c=An(a.defaultValues)||An(a.values)?sn(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:sn(c),f={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,p=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...y};const S={array:jv(),state:jv()},I=a.criteriaMode===Ga.all,E=C=>Q=>{clearTimeout(p),p=setTimeout(C,Q)},A=async C=>{if(!a.disabled&&(y.isValid||x.isValid||C)){const Q=a.resolver?Wn((await L()).errors):await ue(i,!0);Q!==s.isValid&&S.state.next({isValid:Q})}},_=(C,Q)=>{!a.disabled&&(y.isValidating||y.validatingFields||x.isValidating||x.validatingFields)&&((C||Array.from(h.mount)).forEach(R=>{R&&(Q?qt(s.validatingFields,R,Q):vn(s.validatingFields,R))}),S.state.next({validatingFields:s.validatingFields,isValidating:!Wn(s.validatingFields)}))},q=(C,Q=[],R,P,Z=!0,le=!0)=>{if(P&&R&&!a.disabled){if(f.action=!0,le&&Array.isArray($e(i,C))){const Re=R($e(i,C),P.argA,P.argB);Z&&qt(i,C,Re)}if(le&&Array.isArray($e(s.errors,C))){const Re=R($e(s.errors,C),P.argA,P.argB);Z&&qt(s.errors,C,Re),w_(s.errors,C)}if((y.touchedFields||x.touchedFields)&&le&&Array.isArray($e(s.touchedFields,C))){const Re=R($e(s.touchedFields,C),P.argA,P.argB);Z&&qt(s.touchedFields,C,Re)}(y.dirtyFields||x.dirtyFields)&&(s.dirtyFields=Vl(c,d)),S.state.next({name:C,isDirty:je(C,Q),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else qt(d,C,Q)},D=(C,Q)=>{qt(s.errors,C,Q),S.state.next({errors:s.errors})},J=C=>{s.errors=C,S.state.next({errors:s.errors,isValid:!1})},U=(C,Q,R,P)=>{const Z=$e(i,C);if(Z){const le=$e(d,C,Wt(R)?$e(c,C):R);Wt(le)||P&&P.defaultChecked||Q?qt(d,C,Q?le:Cv(Z._f)):ke(C,le),f.mount&&A()}},T=(C,Q,R,P,Z)=>{let le=!1,Re=!1;const Be={name:C};if(!a.disabled){if(!R||P){(y.isDirty||x.isDirty)&&(Re=s.isDirty,s.isDirty=Be.isDirty=je(),le=Re!==Be.isDirty);const se=ls($e(c,C),Q);Re=!!$e(s.dirtyFields,C),se?vn(s.dirtyFields,C):qt(s.dirtyFields,C,!0),Be.dirtyFields=s.dirtyFields,le=le||(y.dirtyFields||x.dirtyFields)&&Re!==!se}if(R){const se=$e(s.touchedFields,C);se||(qt(s.touchedFields,C,R),Be.touchedFields=s.touchedFields,le=le||(y.touchedFields||x.touchedFields)&&se!==R)}le&&Z&&S.state.next(Be)}return le?Be:{}},G=(C,Q,R,P)=>{const Z=$e(s.errors,C),le=(y.isValid||x.isValid)&&ps(Q)&&s.isValid!==Q;if(a.delayError&&R?(v=E(()=>D(C,R)),v(a.delayError)):(clearTimeout(p),v=null,R?qt(s.errors,C,R):vn(s.errors,C)),(R?!ls(Z,R):Z)||!Wn(P)||le){const Re={...P,...le&&ps(Q)?{isValid:Q}:{},errors:s.errors,name:C};s={...s,...Re},S.state.next(Re)}},L=async C=>{_(C,!0);const Q=await a.resolver(d,a.context,v_(C||h.mount,i,a.criteriaMode,a.shouldUseNativeValidation));return _(C),Q},ee=async C=>{const{errors:Q}=await L(C);if(C)for(const R of C){const P=$e(Q,R);P?qt(s.errors,R,P):vn(s.errors,R)}else s.errors=Q;return Q},ue=async(C,Q,R={valid:!0})=>{for(const P in C){const Z=C[P];if(Z){const{_f:le,...Re}=Z;if(le){const Be=h.array.has(le.name),se=Z._f&&y_(Z._f);se&&y.validatingFields&&_([le.name],!0);const Le=await ym(Z,h.disabled,d,I,a.shouldUseNativeValidation&&!Q,Be);if(se&&y.validatingFields&&_([le.name]),Le[le.name]&&(R.valid=!1,Q))break;!Q&&($e(Le,le.name)?Be?_x(s.errors,Le,le.name):qt(s.errors,le.name,Le[le.name]):vn(s.errors,le.name))}!Wn(Re)&&await ue(Re,Q,R)}}return R.valid},Ee=()=>{for(const C of h.unMount){const Q=$e(i,C);Q&&(Q._f.refs?Q._f.refs.every(R=>!Tf(R)):!Tf(Q._f.ref))&&ze(C)}h.unMount=new Set},je=(C,Q)=>!a.disabled&&(C&&Q&&qt(d,C,Q),!ls(Ce(),c)),ie=(C,Q,R)=>pm(C,h,{...f.mount?d:Wt(Q)?c:ka(C)?{[C]:Q}:Q},R,Q),we=C=>iu($e(f.mount?d:c,C,a.shouldUnregister?$e(c,C,[]):[])),ke=(C,Q,R={})=>{const P=$e(i,C);let Z=Q;if(P){const le=P._f;le&&(!le.disabled&&qt(d,C,jx(Q,le)),Z=Zc(le.ref)&&xa(Q)?"":Q,xx(le.ref)?[...le.ref.options].forEach(Re=>Re.selected=Z.includes(Re.value)):le.refs?go(le.ref)?le.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(Z)?Re.checked=!!Z.find(Be=>Be===Re.value):Re.checked=Z===Re.value||!!Z)}):le.refs.forEach(Re=>Re.checked=Re.value===Z):th(le.ref)?le.ref.value="":(le.ref.value=Z,le.ref.type||S.state.next({name:C,values:sn(d)})))}(R.shouldDirty||R.shouldTouch)&&T(C,Z,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&xe(C)},Te=(C,Q,R)=>{for(const P in Q){if(!Q.hasOwnProperty(P))return;const Z=Q[P],le=C+"."+P,Re=$e(i,le);(h.array.has(C)||An(Z)||Re&&!Re._f)&&!Hr(Z)?Te(le,Z,R):ke(le,Z,R)}},M=(C,Q,R={})=>{const P=$e(i,C),Z=h.array.has(C),le=sn(Q);qt(d,C,le),Z?(S.array.next({name:C,values:sn(d)}),(y.isDirty||y.dirtyFields||x.isDirty||x.dirtyFields)&&R.shouldDirty&&S.state.next({name:C,dirtyFields:Vl(c,d),isDirty:je(C,le)})):P&&!P._f&&!xa(le)?Te(C,le,R):ke(C,le,R),vm(C,h)&&S.state.next({...s,name:C}),S.state.next({name:f.mount?C:void 0,values:sn(d)})},F=async C=>{f.mount=!0;const Q=C.target;let R=Q.name,P=!0;const Z=$e(i,R),le=se=>{P=Number.isNaN(se)||Hr(se)&&isNaN(se.getTime())||ls(se,$e(d,R,se))},Re=Zl(a.mode),Be=Zl(a.reValidateMode);if(Z){let se,Le;const He=Q.type?Cv(Z._f):c_(C),it=C.type===Sv.BLUR||C.type===Sv.FOCUS_OUT,Gt=!x_(Z._f)&&!a.resolver&&!$e(s.errors,R)&&!Z._f.deps||j_(it,$e(s.touchedFields,R),s.isSubmitted,Be,Re),Ne=vm(R,h,it);qt(d,R,He),it?(!Q||!Q.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(C),v&&v(0)):Z._f.onChange&&Z._f.onChange(C);const tt=T(R,He,it),Pt=!Wn(tt)||Ne;if(!it&&S.state.next({name:R,type:C.type,values:sn(d)}),Gt)return(y.isValid||x.isValid)&&(a.mode==="onBlur"?it&&A():it||A()),Pt&&S.state.next({name:R,...Ne?{}:tt});if(!it&&Ne&&S.state.next({...s}),a.resolver){const{errors:_t}=await L([R]);if(le(He),P){const It=Ov(s.errors,i,R),hn=Ov(_t,i,It.name||R);se=hn.error,R=hn.name,Le=Wn(_t)}}else _([R],!0),se=(await ym(Z,h.disabled,d,I,a.shouldUseNativeValidation))[R],_([R]),le(He),P&&(se?Le=!1:(y.isValid||x.isValid)&&(Le=await ue(i,!0)));P&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&xe(Z._f.deps),G(R,Le,se,tt))}},ae=(C,Q)=>{if($e(s.errors,Q)&&C.focus)return C.focus(),1},xe=async(C,Q={})=>{let R,P;const Z=Na(C);if(a.resolver){const le=await ee(Wt(C)?C:Z);R=Wn(le),P=C?!Z.some(Re=>$e(le,Re)):R}else C?(P=(await Promise.all(Z.map(async le=>{const Re=$e(i,le);return await ue(Re&&Re._f?{[le]:Re}:Re)}))).every(Boolean),!(!P&&!s.isValid)&&A()):P=R=await ue(i);return S.state.next({...!ka(C)||(y.isValid||x.isValid)&&R!==s.isValid?{}:{name:C},...a.resolver||!C?{isValid:R}:{},errors:s.errors}),Q.shouldFocus&&!P&&Pl(i,ae,C?Z:h.mount),P},Ce=(C,Q)=>{let R={...f.mount?d:c};return Q&&(R=yx(Q.dirtyFields?s.dirtyFields:s.touchedFields,R)),Wt(C)?R:ka(C)?$e(R,C):C.map(P=>$e(R,P))},w=(C,Q)=>({invalid:!!$e((Q||s).errors,C),isDirty:!!$e((Q||s).dirtyFields,C),error:$e((Q||s).errors,C),isValidating:!!$e(s.validatingFields,C),isTouched:!!$e((Q||s).touchedFields,C)}),Y=C=>{C&&Na(C).forEach(Q=>vn(s.errors,Q)),S.state.next({errors:C?s.errors:{}})},de=(C,Q,R)=>{const P=($e(i,C,{_f:{}})._f||{}).ref,Z=$e(s.errors,C)||{},{ref:le,message:Re,type:Be,...se}=Z;qt(s.errors,C,{...se,...Q,ref:P}),S.state.next({name:C,errors:s.errors,isValid:!1}),R&&R.shouldFocus&&P&&P.focus&&P.focus()},k=(C,Q)=>is(C)?S.state.subscribe({next:R=>"values"in R&&C(ie(void 0,Q),R)}):ie(C,Q,!0),fe=C=>S.state.subscribe({next:Q=>{S_(C.name,Q.name,C.exact)&&N_(Q,C.formState||y,Ze,C.reRenderRoot)&&C.callback({values:{...d},...s,...Q,defaultValues:c})}}).unsubscribe,me=C=>(f.mount=!0,x={...x,...C.formState},fe({...C,formState:x})),ze=(C,Q={})=>{for(const R of C?Na(C):h.mount)h.mount.delete(R),h.array.delete(R),Q.keepValue||(vn(i,R),vn(d,R)),!Q.keepError&&vn(s.errors,R),!Q.keepDirty&&vn(s.dirtyFields,R),!Q.keepTouched&&vn(s.touchedFields,R),!Q.keepIsValidating&&vn(s.validatingFields,R),!a.shouldUnregister&&!Q.keepDefaultValue&&vn(c,R);S.state.next({values:sn(d)}),S.state.next({...s,...Q.keepDirty?{isDirty:je()}:{}}),!Q.keepIsValid&&A()},qe=({disabled:C,name:Q})=>{(ps(C)&&f.mount||C||h.disabled.has(Q))&&(C?h.disabled.add(Q):h.disabled.delete(Q))},ge=(C,Q={})=>{let R=$e(i,C);const P=ps(Q.disabled)||ps(a.disabled);return qt(i,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...Q}}),h.mount.add(C),R?qe({disabled:ps(Q.disabled)?Q.disabled:a.disabled,name:C}):U(C,!0,Q.value),{...P?{disabled:Q.disabled||a.disabled}:{},...a.progressive?{required:!!Q.required,min:Xi(Q.min),max:Xi(Q.max),minLength:Xi(Q.minLength),maxLength:Xi(Q.maxLength),pattern:Xi(Q.pattern)}:{},name:C,onChange:F,onBlur:F,ref:Z=>{if(Z){ge(C,Q),R=$e(i,C);const le=Wt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,Re=h_(le),Be=R._f.refs||[];if(Re?Be.find(se=>se===le):le===R._f.ref)return;qt(i,C,{_f:{...R._f,...Re?{refs:[...Be.filter(Tf),le,...Array.isArray($e(c,C))?[{}]:[]],ref:{type:le.type,name:C}}:{ref:le}}}),U(C,!1,void 0,le)}else R=$e(i,C,{}),R._f&&(R._f.mount=!1),(a.shouldUnregister||Q.shouldUnregister)&&!(d_(h.array,C)&&f.action)&&h.unMount.add(C)}}},Ue=()=>a.shouldFocusError&&Pl(i,ae,h.mount),Ie=C=>{ps(C)&&(S.state.next({disabled:C}),Pl(i,(Q,R)=>{const P=$e(i,R);P&&(Q.disabled=P._f.disabled||C,Array.isArray(P._f.refs)&&P._f.refs.forEach(Z=>{Z.disabled=P._f.disabled||C}))},0,!1))},Xe=(C,Q)=>async R=>{let P;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let Z=sn(d);if(S.state.next({isSubmitting:!0}),a.resolver){const{errors:le,values:Re}=await L();s.errors=le,Z=sn(Re)}else await ue(i);if(h.disabled.size)for(const le of h.disabled)vn(Z,le);if(vn(s.errors,"root"),Wn(s.errors)){S.state.next({errors:{}});try{await C(Z,R)}catch(le){P=le}}else Q&&await Q({...s.errors},R),Ue(),setTimeout(Ue);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wn(s.errors)&&!P,submitCount:s.submitCount+1,errors:s.errors}),P)throw P},lt=(C,Q={})=>{$e(i,C)&&(Wt(Q.defaultValue)?M(C,sn($e(c,C))):(M(C,Q.defaultValue),qt(c,C,sn(Q.defaultValue))),Q.keepTouched||vn(s.touchedFields,C),Q.keepDirty||(vn(s.dirtyFields,C),s.isDirty=Q.defaultValue?je(C,sn($e(c,C))):je()),Q.keepError||(vn(s.errors,C),y.isValid&&A()),S.state.next({...s}))},De=(C,Q={})=>{const R=C?sn(C):c,P=sn(R),Z=Wn(C),le=Z?c:P;if(Q.keepDefaultValues||(c=R),!Q.keepValues){if(Q.keepDirtyValues){const Re=new Set([...h.mount,...Object.keys(Vl(c,d))]);for(const Be of Array.from(Re))$e(s.dirtyFields,Be)?qt(le,Be,$e(d,Be)):M(Be,$e(le,Be))}else{if(Xm&&Wt(C))for(const Re of h.mount){const Be=$e(i,Re);if(Be&&Be._f){const se=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(Zc(se)){const Le=se.closest("form");if(Le){Le.reset();break}}}}if(Q.keepFieldsRef)for(const Re of h.mount)M(Re,$e(le,Re));else i={}}d=a.shouldUnregister?Q.keepDefaultValues?sn(c):{}:sn(le),S.array.next({values:{...le}}),S.state.next({values:{...le}})}h={mount:Q.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!y.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues||!a.shouldUnregister&&!Wn(le),f.watch=!!a.shouldUnregister,S.state.next({submitCount:Q.keepSubmitCount?s.submitCount:0,isDirty:Z?!1:Q.keepDirty?s.isDirty:!!(Q.keepDefaultValues&&!ls(C,c)),isSubmitted:Q.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Z?{}:Q.keepDirtyValues?Q.keepDefaultValues&&d?Vl(c,d):s.dirtyFields:Q.keepDefaultValues&&C?Vl(c,C):Q.keepDirty?s.dirtyFields:{},touchedFields:Q.keepTouched?s.touchedFields:{},errors:Q.keepErrors?s.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Pe=(C,Q)=>De(is(C)?C(d):C,Q),ve=(C,Q={})=>{const R=$e(i,C),P=R&&R._f;if(P){const Z=P.refs?P.refs[0]:P.ref;Z.focus&&(Z.focus(),Q.shouldSelect&&is(Z.select)&&Z.select())}},Ze=C=>{s={...s,...C}},Je={control:{register:ge,unregister:ze,getFieldState:w,handleSubmit:Xe,setError:de,_subscribe:fe,_runSchema:L,_focusError:Ue,_getWatch:ie,_getDirty:je,_setValid:A,_setFieldArray:q,_setDisabledField:qe,_setErrors:J,_getFieldArray:we,_reset:De,_resetDefaultValues:()=>is(a.defaultValues)&&a.defaultValues().then(C=>{Pe(C,a.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:Ee,_disableForm:Ie,_subjects:S,_proxyFormState:y,get _fields(){return i},get _formValues(){return d},get _state(){return f},set _state(C){f=C},get _defaultValues(){return c},get _names(){return h},set _names(C){h=C},get _formState(){return s},get _options(){return a},set _options(C){a={...a,...C}}},subscribe:me,trigger:xe,register:ge,handleSubmit:Xe,watch:k,setValue:M,getValues:Ce,reset:Pe,resetField:lt,clearErrors:Y,unregister:ze,setError:de,setFocus:ve,getFieldState:w};return{...Je,formControl:Je}}var dr=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},Df=(e,a,s={})=>s.shouldFocus||Wt(s.shouldFocus)?s.focusName||`${e}.${Wt(s.focusIndex)?a:s.focusIndex}.`:"",zf=(e,a)=>[...e,...Na(a)],kf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Mf(e,a,s){return[...e.slice(0,a),...Na(s),...e.slice(a)]}var Uf=(e,a,s)=>Array.isArray(e)?(Wt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],Lf=(e,a)=>[...Na(a),...Na(e)];function C_(e,a){let s=0;const i=[...e];for(const c of a)i.splice(c-s,1),s++;return iu(i).length?i:[]}var Bf=(e,a)=>Wt(a)?[]:C_(e,Na(a).sort((s,i)=>s-i)),qf=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},Tv=(e,a,s)=>(e[a]=s,e);function A_(e){const a=vx(),{control:s=a.control,name:i,keyName:c="id",shouldUnregister:d,rules:f}=e,[h,v]=pt.useState(s._getFieldArray(i)),p=pt.useRef(s._getFieldArray(i).map(dr)),y=pt.useRef(!1);s._names.array.add(i),pt.useMemo(()=>f&&h.length>=0&&s.register(i,f),[s,i,h.length,f]),Wm(()=>s._subjects.array.subscribe({next:({values:U,name:T})=>{if(T===i||!T){const G=$e(U,i);Array.isArray(G)&&(v(G),p.current=G.map(dr))}}}).unsubscribe,[s,i]);const x=pt.useCallback(U=>{y.current=!0,s._setFieldArray(i,U)},[s,i]),S=(U,T)=>{const G=Na(sn(U)),L=zf(s._getFieldArray(i),G);s._names.focus=Df(i,L.length-1,T),p.current=zf(p.current,G.map(dr)),x(L),v(L),s._setFieldArray(i,L,zf,{argA:kf(U)})},I=(U,T)=>{const G=Na(sn(U)),L=Lf(s._getFieldArray(i),G);s._names.focus=Df(i,0,T),p.current=Lf(p.current,G.map(dr)),x(L),v(L),s._setFieldArray(i,L,Lf,{argA:kf(U)})},E=U=>{const T=Bf(s._getFieldArray(i),U);p.current=Bf(p.current,U),x(T),v(T),!Array.isArray($e(s._fields,i))&&qt(s._fields,i,void 0),s._setFieldArray(i,T,Bf,{argA:U})},A=(U,T,G)=>{const L=Na(sn(T)),ee=Mf(s._getFieldArray(i),U,L);s._names.focus=Df(i,U,G),p.current=Mf(p.current,U,L.map(dr)),x(ee),v(ee),s._setFieldArray(i,ee,Mf,{argA:U,argB:kf(T)})},_=(U,T)=>{const G=s._getFieldArray(i);qf(G,U,T),qf(p.current,U,T),x(G),v(G),s._setFieldArray(i,G,qf,{argA:U,argB:T},!1)},q=(U,T)=>{const G=s._getFieldArray(i);Uf(G,U,T),Uf(p.current,U,T),x(G),v(G),s._setFieldArray(i,G,Uf,{argA:U,argB:T},!1)},D=(U,T)=>{const G=sn(T),L=Tv(s._getFieldArray(i),U,G);p.current=[...L].map((ee,ue)=>!ee||ue===U?dr():p.current[ue]),x(L),v([...L]),s._setFieldArray(i,L,Tv,{argA:U,argB:G},!0,!1)},J=U=>{const T=Na(sn(U));p.current=T.map(dr),x([...T]),v([...T]),s._setFieldArray(i,[...T],G=>G,{},!0,!1)};return pt.useEffect(()=>{if(s._state.action=!1,vm(i,s._names)&&s._subjects.state.next({...s._formState}),y.current&&(!Zl(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!Zl(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([i]).then(U=>{const T=$e(U.errors,i),G=$e(s._formState.errors,i);(G?!T&&G.type||T&&(G.type!==T.type||G.message!==T.message):T&&T.type)&&(T?qt(s._formState.errors,i,T):vn(s._formState.errors,i),s._subjects.state.next({errors:s._formState.errors}))});else{const U=$e(s._fields,i);U&&U._f&&!(Zl(s._options.reValidateMode).isOnSubmit&&Zl(s._options.mode).isOnSubmit)&&ym(U,s._names.disabled,s._formValues,s._options.criteriaMode===Ga.all,s._options.shouldUseNativeValidation,!0).then(T=>!Wn(T)&&s._subjects.state.next({errors:_x(s._formState.errors,T,i)}))}s._subjects.state.next({name:i,values:sn(s._formValues)}),s._names.focus&&Pl(s._fields,(U,T)=>{if(s._names.focus&&T.startsWith(s._names.focus)&&U.focus)return U.focus(),1}),s._names.focus="",s._setValid(),y.current=!1},[h,i,s]),pt.useEffect(()=>(!$e(s._formValues,i)&&s._setFieldArray(i),()=>{const U=(T,G)=>{const L=$e(s._fields,T);L&&L._f&&(L._f.mount=G)};s._options.shouldUnregister||d?s.unregister(i):U(i,!1)}),[i,s,c,d]),{swap:pt.useCallback(_,[x,i,s]),move:pt.useCallback(q,[x,i,s]),prepend:pt.useCallback(I,[x,i,s]),append:pt.useCallback(S,[x,i,s]),remove:pt.useCallback(E,[x,i,s]),insert:pt.useCallback(A,[x,i,s]),update:pt.useCallback(D,[x,i,s]),replace:pt.useCallback(J,[x,i,s]),fields:pt.useMemo(()=>h.map((U,T)=>({...U,[c]:p.current[T]||dr()})),[h,c])}}function ou(e={}){const a=pt.useRef(void 0),s=pt.useRef(void 0),[i,c]=pt.useState({isDirty:!1,isValidating:!1,isLoading:is(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:is(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:i},e.defaultValues&&!is(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...h}=E_(e);a.current={...h,formState:i}}const d=a.current.control;return d._options=e,Wm(()=>{const f=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,f},[d]),pt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),pt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),pt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),pt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),pt.useEffect(()=>{if(d._proxyFormState.isDirty){const f=d._getDirty();f!==i.isDirty&&d._subjects.state.next({isDirty:f})}},[d,i.isDirty]),pt.useEffect(()=>{e.values&&!ls(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(f=>({...f}))):d._resetDefaultValues()},[d,e.values]),pt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=m_(i,d),a.current}function Ex(e,a){return function(){return e.apply(a,arguments)}}const{toString:O_}=Object.prototype,{getPrototypeOf:ah}=Object,{iterator:cu,toStringTag:Cx}=Symbol,uu=(e=>a=>{const s=O_.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),os=e=>(e=e.toLowerCase(),a=>uu(a)===e),du=e=>a=>typeof a===e,{isArray:ni}=Array,Yl=du("undefined");function bo(e){return e!==null&&!Yl(e)&&e.constructor!==null&&!Yl(e.constructor)&&Sa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ax=os("ArrayBuffer");function R_(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&Ax(e.buffer),a}const T_=du("string"),Sa=du("function"),Ox=du("number"),vo=e=>e!==null&&typeof e=="object",D_=e=>e===!0||e===!1,qc=e=>{if(uu(e)!=="object")return!1;const a=ah(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Cx in e)&&!(cu in e)},z_=e=>{if(!vo(e)||bo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},k_=os("Date"),M_=os("File"),U_=os("Blob"),L_=os("FileList"),B_=e=>vo(e)&&Sa(e.pipe),q_=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||Sa(e.append)&&((a=uu(e))==="formdata"||a==="object"&&Sa(e.toString)&&e.toString()==="[object FormData]"))},I_=os("URLSearchParams"),[$_,F_,H_,V_]=["ReadableStream","Request","Response","Headers"].map(os),Z_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yo(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let i,c;if(typeof e!="object"&&(e=[e]),ni(e))for(i=0,c=e.length;i<c;i++)a.call(null,e[i],i,e);else{if(bo(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let h;for(i=0;i<f;i++)h=d[i],a.call(null,e[h],h,e)}}function Rx(e,a){if(bo(e))return null;a=a.toLowerCase();const s=Object.keys(e);let i=s.length,c;for(;i-- >0;)if(c=s[i],a===c.toLowerCase())return c;return null}const Vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tx=e=>!Yl(e)&&e!==Vr;function xm(){const{caseless:e,skipUndefined:a}=Tx(this)&&this||{},s={},i=(c,d)=>{const f=e&&Rx(s,d)||d;qc(s[f])&&qc(c)?s[f]=xm(s[f],c):qc(c)?s[f]=xm({},c):ni(c)?s[f]=c.slice():(!a||!Yl(c))&&(s[f]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&yo(arguments[c],i);return s}const G_=(e,a,s,{allOwnKeys:i}={})=>(yo(a,(c,d)=>{s&&Sa(c)?e[d]=Ex(c,s):e[d]=c},{allOwnKeys:i}),e),P_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Q_=(e,a,s,i)=>{e.prototype=Object.create(a.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},Y_=(e,a,s,i)=>{let c,d,f;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!i||i(f,e,a))&&!h[f]&&(a[f]=e[f],h[f]=!0);e=s!==!1&&ah(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},K_=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const i=e.indexOf(a,s);return i!==-1&&i===s},X_=e=>{if(!e)return null;if(ni(e))return e;let a=e.length;if(!Ox(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},J_=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&ah(Uint8Array)),W_=(e,a)=>{const i=(e&&e[cu]).call(e);let c;for(;(c=i.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},e1=(e,a)=>{let s;const i=[];for(;(s=e.exec(a))!==null;)i.push(s);return i},t1=os("HTMLFormElement"),n1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,c){return i.toUpperCase()+c}),Dv=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),a1=os("RegExp"),Dx=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),i={};yo(s,(c,d)=>{let f;(f=a(c,d,e))!==!1&&(i[d]=f||c)}),Object.defineProperties(e,i)},s1=e=>{Dx(e,(a,s)=>{if(Sa(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=e[s];if(Sa(i)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},r1=(e,a)=>{const s={},i=c=>{c.forEach(d=>{s[d]=!0})};return ni(e)?i(e):i(String(e).split(a)),s},l1=()=>{},i1=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function o1(e){return!!(e&&Sa(e.append)&&e[Cx]==="FormData"&&e[cu])}const c1=e=>{const a=new Array(10),s=(i,c)=>{if(vo(i)){if(a.indexOf(i)>=0)return;if(bo(i))return i;if(!("toJSON"in i)){a[c]=i;const d=ni(i)?[]:{};return yo(i,(f,h)=>{const v=s(f,c+1);!Yl(v)&&(d[h]=v)}),a[c]=void 0,d}}return i};return s(e,0)},u1=os("AsyncFunction"),d1=e=>e&&(vo(e)||Sa(e))&&Sa(e.then)&&Sa(e.catch),zx=((e,a)=>e?setImmediate:a?((s,i)=>(Vr.addEventListener("message",({source:c,data:d})=>{c===Vr&&d===s&&i.length&&i.shift()()},!1),c=>{i.push(c),Vr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Sa(Vr.postMessage)),f1=typeof queueMicrotask<"u"?queueMicrotask.bind(Vr):typeof process<"u"&&process.nextTick||zx,m1=e=>e!=null&&Sa(e[cu]),oe={isArray:ni,isArrayBuffer:Ax,isBuffer:bo,isFormData:q_,isArrayBufferView:R_,isString:T_,isNumber:Ox,isBoolean:D_,isObject:vo,isPlainObject:qc,isEmptyObject:z_,isReadableStream:$_,isRequest:F_,isResponse:H_,isHeaders:V_,isUndefined:Yl,isDate:k_,isFile:M_,isBlob:U_,isRegExp:a1,isFunction:Sa,isStream:B_,isURLSearchParams:I_,isTypedArray:J_,isFileList:L_,forEach:yo,merge:xm,extend:G_,trim:Z_,stripBOM:P_,inherits:Q_,toFlatObject:Y_,kindOf:uu,kindOfTest:os,endsWith:K_,toArray:X_,forEachEntry:W_,matchAll:e1,isHTMLForm:t1,hasOwnProperty:Dv,hasOwnProp:Dv,reduceDescriptors:Dx,freezeMethods:s1,toObjectSet:r1,toCamelCase:n1,noop:l1,toFiniteNumber:i1,findKey:Rx,global:Vr,isContextDefined:Tx,isSpecCompliantForm:o1,toJSONObject:c1,isAsyncFn:u1,isThenable:d1,setImmediate:zx,asap:f1,isIterable:m1};function mt(e,a,s,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}oe.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const kx=mt.prototype,Mx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Mx[e]={value:e}});Object.defineProperties(mt,Mx);Object.defineProperty(kx,"isAxiosError",{value:!0});mt.from=(e,a,s,i,c,d)=>{const f=Object.create(kx);oe.toFlatObject(e,f,function(y){return y!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",v=a==null&&e?e.code:a;return mt.call(f,h,v,s,i,c),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",d&&Object.assign(f,d),f};const h1=null;function Nm(e){return oe.isPlainObject(e)||oe.isArray(e)}function Ux(e){return oe.endsWith(e,"[]")?e.slice(0,-2):e}function zv(e,a,s){return e?e.concat(a).map(function(c,d){return c=Ux(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function p1(e){return oe.isArray(e)&&!e.some(Nm)}const g1=oe.toFlatObject(oe,{},null,function(a){return/^is[A-Z]/.test(a)});function fu(e,a,s){if(!oe.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=oe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,_){return!oe.isUndefined(_[A])});const i=s.metaTokens,c=s.visitor||y,d=s.dots,f=s.indexes,v=(s.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(a);if(!oe.isFunction(c))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(oe.isDate(E))return E.toISOString();if(oe.isBoolean(E))return E.toString();if(!v&&oe.isBlob(E))throw new mt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(E)||oe.isTypedArray(E)?v&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,A,_){let q=E;if(E&&!_&&typeof E=="object"){if(oe.endsWith(A,"{}"))A=i?A:A.slice(0,-2),E=JSON.stringify(E);else if(oe.isArray(E)&&p1(E)||(oe.isFileList(E)||oe.endsWith(A,"[]"))&&(q=oe.toArray(E)))return A=Ux(A),q.forEach(function(J,U){!(oe.isUndefined(J)||J===null)&&a.append(f===!0?zv([A],U,d):f===null?A:A+"[]",p(J))}),!1}return Nm(E)?!0:(a.append(zv(_,A,d),p(E)),!1)}const x=[],S=Object.assign(g1,{defaultVisitor:y,convertValue:p,isVisitable:Nm});function I(E,A){if(!oe.isUndefined(E)){if(x.indexOf(E)!==-1)throw Error("Circular reference detected in "+A.join("."));x.push(E),oe.forEach(E,function(q,D){(!(oe.isUndefined(q)||q===null)&&c.call(a,q,oe.isString(D)?D.trim():D,A,S))===!0&&I(q,A?A.concat(D):[D])}),x.pop()}}if(!oe.isObject(e))throw new TypeError("data must be an object");return I(e),a}function kv(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return a[i]})}function sh(e,a){this._pairs=[],e&&fu(e,this,a)}const Lx=sh.prototype;Lx.append=function(a,s){this._pairs.push([a,s])};Lx.toString=function(a){const s=a?function(i){return a.call(this,i,kv)}:kv;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function b1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Bx(e,a,s){if(!a)return e;const i=s&&s.encode||b1;oe.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=oe.isURLSearchParams(a)?a.toString():new sh(a,s).toString(i),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class Mv{constructor(){this.handlers=[]}use(a,s,i){return this.handlers.push({fulfilled:a,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){oe.forEach(this.handlers,function(i){i!==null&&a(i)})}}const qx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v1=typeof URLSearchParams<"u"?URLSearchParams:sh,y1=typeof FormData<"u"?FormData:null,x1=typeof Blob<"u"?Blob:null,N1={isBrowser:!0,classes:{URLSearchParams:v1,FormData:y1,Blob:x1},protocols:["http","https","file","blob","url","data"]},rh=typeof window<"u"&&typeof document<"u",Sm=typeof navigator=="object"&&navigator||void 0,S1=rh&&(!Sm||["ReactNative","NativeScript","NS"].indexOf(Sm.product)<0),j1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w1=rh&&window.location.href||"http://localhost",_1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rh,hasStandardBrowserEnv:S1,hasStandardBrowserWebWorkerEnv:j1,navigator:Sm,origin:w1},Symbol.toStringTag,{value:"Module"})),ea={..._1,...N1};function E1(e,a){return fu(e,new ea.classes.URLSearchParams,{visitor:function(s,i,c,d){return ea.isNode&&oe.isBuffer(s)?(this.append(i,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function C1(e){return oe.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function A1(e){const a={},s=Object.keys(e);let i;const c=s.length;let d;for(i=0;i<c;i++)d=s[i],a[d]=e[d];return a}function Ix(e){function a(s,i,c,d){let f=s[d++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),v=d>=s.length;return f=!f&&oe.isArray(c)?c.length:f,v?(oe.hasOwnProp(c,f)?c[f]=[c[f],i]:c[f]=i,!h):((!c[f]||!oe.isObject(c[f]))&&(c[f]=[]),a(s,i,c[f],d)&&oe.isArray(c[f])&&(c[f]=A1(c[f])),!h)}if(oe.isFormData(e)&&oe.isFunction(e.entries)){const s={};return oe.forEachEntry(e,(i,c)=>{a(C1(i),c,s,0)}),s}return null}function O1(e,a,s){if(oe.isString(e))try{return(a||JSON.parse)(e),oe.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(e)}const xo={transitional:qx,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const i=s.getContentType()||"",c=i.indexOf("application/json")>-1,d=oe.isObject(a);if(d&&oe.isHTMLForm(a)&&(a=new FormData(a)),oe.isFormData(a))return c?JSON.stringify(Ix(a)):a;if(oe.isArrayBuffer(a)||oe.isBuffer(a)||oe.isStream(a)||oe.isFile(a)||oe.isBlob(a)||oe.isReadableStream(a))return a;if(oe.isArrayBufferView(a))return a.buffer;if(oe.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return E1(a,this.formSerializer).toString();if((h=oe.isFileList(a))||i.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return fu(h?{"files[]":a}:a,v&&new v,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),O1(a)):a}],transformResponse:[function(a){const s=this.transitional||xo.transitional,i=s&&s.forcedJSONParsing,c=this.responseType==="json";if(oe.isResponse(a)||oe.isReadableStream(a))return a;if(a&&oe.isString(a)&&(i&&!this.responseType||c)){const f=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?mt.from(h,mt.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ea.classes.FormData,Blob:ea.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],e=>{xo.headers[e]={}});const R1=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T1=e=>{const a={};let s,i,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),s=f.substring(0,c).trim().toLowerCase(),i=f.substring(c+1).trim(),!(!s||a[s]&&R1[s])&&(s==="set-cookie"?a[s]?a[s].push(i):a[s]=[i]:a[s]=a[s]?a[s]+", "+i:i)}),a},Uv=Symbol("internals");function Ji(e){return e&&String(e).trim().toLowerCase()}function Ic(e){return e===!1||e==null?e:oe.isArray(e)?e.map(Ic):String(e)}function D1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(e);)a[i[1]]=i[2];return a}const z1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function If(e,a,s,i,c){if(oe.isFunction(i))return i.call(this,a,s);if(c&&(a=s),!!oe.isString(a)){if(oe.isString(i))return a.indexOf(i)!==-1;if(oe.isRegExp(i))return i.test(a)}}function k1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,i)=>s.toUpperCase()+i)}function M1(e,a){const s=oe.toCamelCase(" "+a);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+s,{value:function(c,d,f){return this[i].call(this,a,c,d,f)},configurable:!0})})}let ja=class{constructor(a){a&&this.set(a)}set(a,s,i){const c=this;function d(h,v,p){const y=Ji(v);if(!y)throw new Error("header name must be a non-empty string");const x=oe.findKey(c,y);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||v]=Ic(h))}const f=(h,v)=>oe.forEach(h,(p,y)=>d(p,y,v));if(oe.isPlainObject(a)||a instanceof this.constructor)f(a,s);else if(oe.isString(a)&&(a=a.trim())&&!z1(a))f(T1(a),s);else if(oe.isObject(a)&&oe.isIterable(a)){let h={},v,p;for(const y of a){if(!oe.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[p=y[0]]=(v=h[p])?oe.isArray(v)?[...v,y[1]]:[v,y[1]]:y[1]}f(h,s)}else a!=null&&d(s,a,i);return this}get(a,s){if(a=Ji(a),a){const i=oe.findKey(this,a);if(i){const c=this[i];if(!s)return c;if(s===!0)return D1(c);if(oe.isFunction(s))return s.call(this,c,i);if(oe.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ji(a),a){const i=oe.findKey(this,a);return!!(i&&this[i]!==void 0&&(!s||If(this,this[i],i,s)))}return!1}delete(a,s){const i=this;let c=!1;function d(f){if(f=Ji(f),f){const h=oe.findKey(i,f);h&&(!s||If(i,i[h],h,s))&&(delete i[h],c=!0)}}return oe.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let i=s.length,c=!1;for(;i--;){const d=s[i];(!a||If(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,i={};return oe.forEach(this,(c,d)=>{const f=oe.findKey(i,d);if(f){s[f]=Ic(c),delete s[d];return}const h=a?k1(d):String(d).trim();h!==d&&delete s[d],s[h]=Ic(c),i[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return oe.forEach(this,(i,c)=>{i!=null&&i!==!1&&(s[c]=a&&oe.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const i=new this(a);return s.forEach(c=>i.set(c)),i}static accessor(a){const i=(this[Uv]=this[Uv]={accessors:{}}).accessors,c=this.prototype;function d(f){const h=Ji(f);i[h]||(M1(c,f),i[h]=!0)}return oe.isArray(a)?a.forEach(d):d(a),this}};ja.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(ja.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(i){this[s]=i}}});oe.freezeMethods(ja);function $f(e,a){const s=this||xo,i=a||s,c=ja.from(i.headers);let d=i.data;return oe.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function $x(e){return!!(e&&e.__CANCEL__)}function ai(e,a,s){mt.call(this,e??"canceled",mt.ERR_CANCELED,a,s),this.name="CanceledError"}oe.inherits(ai,mt,{__CANCEL__:!0});function Fx(e,a,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?e(s):a(new mt("Request failed with status code "+s.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function U1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function L1(e,a){e=e||10;const s=new Array(e),i=new Array(e);let c=0,d=0,f;return a=a!==void 0?a:1e3,function(v){const p=Date.now(),y=i[d];f||(f=p),s[c]=v,i[c]=p;let x=d,S=0;for(;x!==c;)S+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-f<a)return;const I=y&&p-y;return I?Math.round(S*1e3/I):void 0}}function B1(e,a){let s=0,i=1e3/a,c,d;const f=(p,y=Date.now())=>{s=y,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const y=Date.now(),x=y-s;x>=i?f(p,y):(c=p,d||(d=setTimeout(()=>{d=null,f(c)},i-x)))},()=>c&&f(c)]}const Pc=(e,a,s=3)=>{let i=0;const c=L1(50,250);return B1(d=>{const f=d.loaded,h=d.lengthComputable?d.total:void 0,v=f-i,p=c(v),y=f<=h;i=f;const x={loaded:f,total:h,progress:h?f/h:void 0,bytes:v,rate:p||void 0,estimated:p&&h&&y?(h-f)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},Lv=(e,a)=>{const s=e!=null;return[i=>a[0]({lengthComputable:s,total:e,loaded:i}),a[1]]},Bv=e=>(...a)=>oe.asap(()=>e(...a)),q1=ea.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,ea.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(ea.origin),ea.navigator&&/(msie|trident)/i.test(ea.navigator.userAgent)):()=>!0,I1=ea.hasStandardBrowserEnv?{write(e,a,s,i,c,d,f){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];oe.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),oe.isString(i)&&h.push(`path=${i}`),oe.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),oe.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function F1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function Hx(e,a,s){let i=!$1(a);return e&&(i||s==!1)?F1(e,a):a}const qv=e=>e instanceof ja?{...e}:e;function Yr(e,a){a=a||{};const s={};function i(p,y,x,S){return oe.isPlainObject(p)&&oe.isPlainObject(y)?oe.merge.call({caseless:S},p,y):oe.isPlainObject(y)?oe.merge({},y):oe.isArray(y)?y.slice():y}function c(p,y,x,S){if(oe.isUndefined(y)){if(!oe.isUndefined(p))return i(void 0,p,x,S)}else return i(p,y,x,S)}function d(p,y){if(!oe.isUndefined(y))return i(void 0,y)}function f(p,y){if(oe.isUndefined(y)){if(!oe.isUndefined(p))return i(void 0,p)}else return i(void 0,y)}function h(p,y,x){if(x in a)return i(p,y);if(x in e)return i(void 0,p)}const v={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(p,y,x)=>c(qv(p),qv(y),x,!0)};return oe.forEach(Object.keys({...e,...a}),function(y){const x=v[y]||c,S=x(e[y],a[y],y);oe.isUndefined(S)&&x!==h||(s[y]=S)}),s}const Vx=e=>{const a=Yr({},e);let{data:s,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:h}=a;if(a.headers=f=ja.from(f),a.url=Bx(Hx(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),oe.isFormData(s)){if(ea.hasStandardBrowserEnv||ea.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(oe.isFunction(s.getHeaders)){const v=s.getHeaders(),p=["content-type","content-length"];Object.entries(v).forEach(([y,x])=>{p.includes(y.toLowerCase())&&f.set(y,x)})}}if(ea.hasStandardBrowserEnv&&(i&&oe.isFunction(i)&&(i=i(a)),i||i!==!1&&q1(a.url))){const v=c&&d&&I1.read(d);v&&f.set(c,v)}return a},H1=typeof XMLHttpRequest<"u",V1=H1&&function(e){return new Promise(function(s,i){const c=Vx(e);let d=c.data;const f=ja.from(c.headers).normalize();let{responseType:h,onUploadProgress:v,onDownloadProgress:p}=c,y,x,S,I,E;function A(){I&&I(),E&&E(),c.cancelToken&&c.cancelToken.unsubscribe(y),c.signal&&c.signal.removeEventListener("abort",y)}let _=new XMLHttpRequest;_.open(c.method.toUpperCase(),c.url,!0),_.timeout=c.timeout;function q(){if(!_)return;const J=ja.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),T={data:!h||h==="text"||h==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:J,config:e,request:_};Fx(function(L){s(L),A()},function(L){i(L),A()},T),_=null}"onloadend"in _?_.onloadend=q:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(q)},_.onabort=function(){_&&(i(new mt("Request aborted",mt.ECONNABORTED,e,_)),_=null)},_.onerror=function(U){const T=U&&U.message?U.message:"Network Error",G=new mt(T,mt.ERR_NETWORK,e,_);G.event=U||null,i(G),_=null},_.ontimeout=function(){let U=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const T=c.transitional||qx;c.timeoutErrorMessage&&(U=c.timeoutErrorMessage),i(new mt(U,T.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,e,_)),_=null},d===void 0&&f.setContentType(null),"setRequestHeader"in _&&oe.forEach(f.toJSON(),function(U,T){_.setRequestHeader(T,U)}),oe.isUndefined(c.withCredentials)||(_.withCredentials=!!c.withCredentials),h&&h!=="json"&&(_.responseType=c.responseType),p&&([S,E]=Pc(p,!0),_.addEventListener("progress",S)),v&&_.upload&&([x,I]=Pc(v),_.upload.addEventListener("progress",x),_.upload.addEventListener("loadend",I)),(c.cancelToken||c.signal)&&(y=J=>{_&&(i(!J||J.type?new ai(null,e,_):J),_.abort(),_=null)},c.cancelToken&&c.cancelToken.subscribe(y),c.signal&&(c.signal.aborted?y():c.signal.addEventListener("abort",y)));const D=U1(c.url);if(D&&ea.protocols.indexOf(D)===-1){i(new mt("Unsupported protocol "+D+":",mt.ERR_BAD_REQUEST,e));return}_.send(d||null)})},Z1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let i=new AbortController,c;const d=function(p){if(!c){c=!0,h();const y=p instanceof Error?p:this.reason;i.abort(y instanceof mt?y:new ai(y instanceof Error?y.message:y))}};let f=a&&setTimeout(()=>{f=null,d(new mt(`timeout ${a} of ms exceeded`,mt.ETIMEDOUT))},a);const h=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:v}=i;return v.unsubscribe=()=>oe.asap(h),v}},G1=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let i=0,c;for(;i<s;)c=i+a,yield e.slice(i,c),i=c},P1=async function*(e,a){for await(const s of Q1(e))yield*G1(s,a)},Q1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:i}=await a.read();if(s)break;yield i}}finally{await a.cancel()}},Iv=(e,a,s,i)=>{const c=P1(e,a);let d=0,f,h=v=>{f||(f=!0,i&&i(v))};return new ReadableStream({async pull(v){try{const{done:p,value:y}=await c.next();if(p){h(),v.close();return}let x=y.byteLength;if(s){let S=d+=x;s(S)}v.enqueue(new Uint8Array(y))}catch(p){throw h(p),p}},cancel(v){return h(v),c.return()}},{highWaterMark:2})},$v=64*1024,{isFunction:Rc}=oe,Y1=(({Request:e,Response:a})=>({Request:e,Response:a}))(oe.global),{ReadableStream:Fv,TextEncoder:Hv}=oe.global,Vv=(e,...a)=>{try{return!!e(...a)}catch{return!1}},K1=e=>{e=oe.merge.call({skipUndefined:!0},Y1,e);const{fetch:a,Request:s,Response:i}=e,c=a?Rc(a):typeof fetch=="function",d=Rc(s),f=Rc(i);if(!c)return!1;const h=c&&Rc(Fv),v=c&&(typeof Hv=="function"?(E=>A=>E.encode(A))(new Hv):async E=>new Uint8Array(await new s(E).arrayBuffer())),p=d&&h&&Vv(()=>{let E=!1;const A=new s(ea.origin,{body:new Fv,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!A}),y=f&&h&&Vv(()=>oe.isReadableStream(new i("").body)),x={stream:y&&(E=>E.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!x[E]&&(x[E]=(A,_)=>{let q=A&&A[E];if(q)return q.call(A);throw new mt(`Response type '${E}' is not supported`,mt.ERR_NOT_SUPPORT,_)})});const S=async E=>{if(E==null)return 0;if(oe.isBlob(E))return E.size;if(oe.isSpecCompliantForm(E))return(await new s(ea.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(E)||oe.isArrayBuffer(E))return E.byteLength;if(oe.isURLSearchParams(E)&&(E=E+""),oe.isString(E))return(await v(E)).byteLength},I=async(E,A)=>{const _=oe.toFiniteNumber(E.getContentLength());return _??S(A)};return async E=>{let{url:A,method:_,data:q,signal:D,cancelToken:J,timeout:U,onDownloadProgress:T,onUploadProgress:G,responseType:L,headers:ee,withCredentials:ue="same-origin",fetchOptions:Ee}=Vx(E),je=a||fetch;L=L?(L+"").toLowerCase():"text";let ie=Z1([D,J&&J.toAbortSignal()],U),we=null;const ke=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let Te;try{if(G&&p&&_!=="get"&&_!=="head"&&(Te=await I(ee,q))!==0){let w=new s(A,{method:"POST",body:q,duplex:"half"}),Y;if(oe.isFormData(q)&&(Y=w.headers.get("content-type"))&&ee.setContentType(Y),w.body){const[de,k]=Lv(Te,Pc(Bv(G)));q=Iv(w.body,$v,de,k)}}oe.isString(ue)||(ue=ue?"include":"omit");const M=d&&"credentials"in s.prototype,F={...Ee,signal:ie,method:_.toUpperCase(),headers:ee.normalize().toJSON(),body:q,duplex:"half",credentials:M?ue:void 0};we=d&&new s(A,F);let ae=await(d?je(we,Ee):je(A,F));const xe=y&&(L==="stream"||L==="response");if(y&&(T||xe&&ke)){const w={};["status","statusText","headers"].forEach(fe=>{w[fe]=ae[fe]});const Y=oe.toFiniteNumber(ae.headers.get("content-length")),[de,k]=T&&Lv(Y,Pc(Bv(T),!0))||[];ae=new i(Iv(ae.body,$v,de,()=>{k&&k(),ke&&ke()}),w)}L=L||"text";let Ce=await x[oe.findKey(x,L)||"text"](ae,E);return!xe&&ke&&ke(),await new Promise((w,Y)=>{Fx(w,Y,{data:Ce,headers:ja.from(ae.headers),status:ae.status,statusText:ae.statusText,config:E,request:we})})}catch(M){throw ke&&ke(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,E,we),{cause:M.cause||M}):mt.from(M,M&&M.code,E,we)}}},X1=new Map,Zx=e=>{let a=e&&e.env||{};const{fetch:s,Request:i,Response:c}=a,d=[i,c,s];let f=d.length,h=f,v,p,y=X1;for(;h--;)v=d[h],p=y.get(v),p===void 0&&y.set(v,p=h?new Map:K1(a)),y=p;return p};Zx();const lh={http:h1,xhr:V1,fetch:{get:Zx}};oe.forEach(lh,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const Zv=e=>`- ${e}`,J1=e=>oe.isFunction(e)||e===null||e===!1;function W1(e,a){e=oe.isArray(e)?e:[e];const{length:s}=e;let i,c;const d={};for(let f=0;f<s;f++){i=e[f];let h;if(c=i,!J1(i)&&(c=lh[(h=String(i)).toLowerCase()],c===void 0))throw new mt(`Unknown adapter '${h}'`);if(c&&(oe.isFunction(c)||(c=c.get(a))))break;d[h||"#"+f]=c}if(!c){const f=Object.entries(d).map(([v,p])=>`adapter ${v} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?f.length>1?`since :
`+f.map(Zv).join(`
`):" "+Zv(f[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const Gx={getAdapter:W1,adapters:lh};function Ff(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ai(null,e)}function Gv(e){return Ff(e),e.headers=ja.from(e.headers),e.data=$f.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gx.getAdapter(e.adapter||xo.adapter,e)(e).then(function(i){return Ff(e),i.data=$f.call(e,e.transformResponse,i),i.headers=ja.from(i.headers),i},function(i){return $x(i)||(Ff(e),i&&i.response&&(i.response.data=$f.call(e,e.transformResponse,i.response),i.response.headers=ja.from(i.response.headers))),Promise.reject(i)})}const Px="1.13.2",mu={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{mu[e]=function(i){return typeof i===e||"a"+(a<1?"n ":" ")+e}});const Pv={};mu.transitional=function(a,s,i){function c(d,f){return"[Axios v"+Px+"] Transitional option '"+d+"'"+f+(i?". "+i:"")}return(d,f,h)=>{if(a===!1)throw new mt(c(f," has been removed"+(s?" in "+s:"")),mt.ERR_DEPRECATED);return s&&!Pv[f]&&(Pv[f]=!0,console.warn(c(f," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,f,h):!0}};mu.spelling=function(a){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${a}`),!0)};function eE(e,a,s){if(typeof e!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let c=i.length;for(;c-- >0;){const d=i[c],f=a[d];if(f){const h=e[d],v=h===void 0||f(h,d,e);if(v!==!0)throw new mt("option "+d+" must be "+v,mt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new mt("Unknown option "+d,mt.ERR_BAD_OPTION)}}const $c={assertOptions:eE,validators:mu},hs=$c.validators;let Zr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Mv,response:new Mv}}async request(a,s){try{return await this._request(a,s)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=Yr(this.defaults,s);const{transitional:i,paramsSerializer:c,headers:d}=s;i!==void 0&&$c.assertOptions(i,{silentJSONParsing:hs.transitional(hs.boolean),forcedJSONParsing:hs.transitional(hs.boolean),clarifyTimeoutError:hs.transitional(hs.boolean)},!1),c!=null&&(oe.isFunction(c)?s.paramsSerializer={serialize:c}:$c.assertOptions(c,{encode:hs.function,serialize:hs.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),$c.assertOptions(s,{baseUrl:hs.spelling("baseURL"),withXsrfToken:hs.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=d&&oe.merge(d.common,d[s.method]);d&&oe.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),s.headers=ja.concat(f,d);const h=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(s)===!1||(v=v&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let y,x=0,S;if(!v){const E=[Gv.bind(this),void 0];for(E.unshift(...h),E.push(...p),S=E.length,y=Promise.resolve(s);x<S;)y=y.then(E[x++],E[x++]);return y}S=h.length;let I=s;for(;x<S;){const E=h[x++],A=h[x++];try{I=E(I)}catch(_){A.call(this,_);break}}try{y=Gv.call(this,I)}catch(E){return Promise.reject(E)}for(x=0,S=p.length;x<S;)y=y.then(p[x++],p[x++]);return y}getUri(a){a=Yr(this.defaults,a);const s=Hx(a.baseURL,a.url,a.allowAbsoluteUrls);return Bx(s,a.params,a.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(a){Zr.prototype[a]=function(s,i){return this.request(Yr(i||{},{method:a,url:s,data:(i||{}).data}))}});oe.forEach(["post","put","patch"],function(a){function s(i){return function(d,f,h){return this.request(Yr(h||{},{method:a,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}Zr.prototype[a]=s(),Zr.prototype[a+"Form"]=s(!0)});let tE=class Qx{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const i=this;this.promise.then(c=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](c);i._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(h=>{i.subscribe(h),d=h}).then(c);return f.cancel=function(){i.unsubscribe(d)},f},a(function(d,f,h){i.reason||(i.reason=new ai(d,f,h),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=i=>{a.abort(i)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new Qx(function(c){a=c}),cancel:a}}};function nE(e){return function(s){return e.apply(null,s)}}function aE(e){return oe.isObject(e)&&e.isAxiosError===!0}const jm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jm).forEach(([e,a])=>{jm[a]=e});function Yx(e){const a=new Zr(e),s=Ex(Zr.prototype.request,a);return oe.extend(s,Zr.prototype,a,{allOwnKeys:!0}),oe.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return Yx(Yr(e,c))},s}const gt=Yx(xo);gt.Axios=Zr;gt.CanceledError=ai;gt.CancelToken=tE;gt.isCancel=$x;gt.VERSION=Px;gt.toFormData=fu;gt.AxiosError=mt;gt.Cancel=gt.CanceledError;gt.all=function(a){return Promise.all(a)};gt.spread=nE;gt.isAxiosError=aE;gt.mergeConfig=Yr;gt.AxiosHeaders=ja;gt.formToJSON=e=>Ix(oe.isHTMLForm(e)?new FormData(e):e);gt.getAdapter=Gx.getAdapter;gt.HttpStatusCode=jm;gt.default=gt;const{Axios:hD,AxiosError:pD,CanceledError:gD,isCancel:bD,CancelToken:vD,VERSION:yD,all:xD,Cancel:ND,isAxiosError:SD,spread:jD,toFormData:wD,AxiosHeaders:_D,HttpStatusCode:ED,formToJSON:CD,getAdapter:AD,mergeConfig:OD}=gt,sE="medileser:draft:v1",Qc="medileser:recovery:v1",Yc="medileser:recovery:intent",rE="vi.auth",lE="vi_auth",iE="medileser.selectedBank",oE=1440*60*1e3,ih=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>oE},Hf=e=>{const{userId:a,bankId:s,oiId:i,type:c,bancadaId:d,isNew:f}=e;if(!a||s==null)return null;const h=i!=null?String(i):"new",v=`${sE}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${v}:header`;const p=f?"new":d;return p==null?null:`${v}:bancada:${p}`},ao=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&Kx(s)},Vf=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:ih(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},hr=e=>{try{localStorage.removeItem(e)}catch{}},Kx=e=>{try{localStorage.setItem(Qc,JSON.stringify(e))}catch{}},Xx=()=>{try{const e=localStorage.getItem(Qc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:ih(a.ts)?(localStorage.removeItem(Qc),null):a}catch{return null}},cE=()=>{try{localStorage.removeItem(Qc)}catch{}},uE=e=>{const a=e.userId??null,s=e.bankId??null,i=e.oiId??null;if(!a||s==null||!i)return;const c=Xx(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:i,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${i}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};Kx(d)},dE=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(Yc,JSON.stringify(a))}catch{}},fE=()=>{try{const e=sessionStorage.getItem(Yc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:ih(a.ts)?(sessionStorage.removeItem(Yc),null):a}catch{return null}},Zf=()=>{try{sessionStorage.removeItem(Yc)}catch{}},mE=()=>{try{const e=localStorage.getItem(rE)??localStorage.getItem(lE);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),i=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:i!=null&&Number.isFinite(i)?i:null}}catch{}return{userId:null,bankId:null}},hE=()=>{try{const e=localStorage.getItem(iE);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},wm=(e,a)=>{const s=Xx();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const i=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=i==="/oi"||i==="/oi/"?`/oi/${s.oiId}?mode=edit`:i;return dE(s),{target:c,recovery:s}},Qv="http://127.0.0.1:8000",si="openOiId",hu="vi.currentOI",Jx="vi.auth",Wx="vi_auth",pE="medileser.selectedBank",gE="medileser:selectedBank",_m="medileser.pendingToast",No="medileser.pendingAction",bE="medileser:auth-expired",Em="medileser.sessionUserId",Cm="medileser.sessionBankId",e0=()=>typeof window<"u"?window.location.port==="5173"?Qv:window.location.origin:Qv,Ye=gt.create({baseURL:e0()}),t0=gt.create({baseURL:e0()}),n0=e=>{try{const a=localStorage.getItem(Jx)??localStorage.getItem(Wx);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ye.interceptors.request.use(n0);t0.interceptors.request.use(n0);function vE(){try{const e=sessionStorage.getItem(si);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const a0=()=>{try{const e=sessionStorage.getItem(hu);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function yE(e){try{sessionStorage.setItem(si,String(e))}catch{}}function s0(){try{sessionStorage.removeItem(si)}catch{}}async function So(){const e=vE();if(e)try{await t0.post(`/oi/${e}/close`)}catch{}finally{s0()}}function xE(e){try{sessionStorage.setItem(_m,e)}catch{}}function NE(){try{const e=sessionStorage.getItem(_m);return e?(sessionStorage.removeItem(_m),e):null}catch{return null}}function SE(e){try{sessionStorage.setItem(No,JSON.stringify(e))}catch{}}function jE(){try{const e=sessionStorage.getItem(No);return e?JSON.parse(e):null}catch{return null}}function Il(){try{sessionStorage.removeItem(No)}catch{}}function r0(){try{const e=sessionStorage.getItem(Em);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Yv(e){try{e==null?sessionStorage.removeItem(Em):sessionStorage.setItem(Em,String(e))}catch{}}function l0(){try{const e=sessionStorage.getItem(Cm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Kc(e){try{e==null?sessionStorage.removeItem(Cm):sessionStorage.setItem(Cm,String(e))}catch{}}function i0(e){const a=r0();if(e==null)return!1;if(a===null||a===e)return Yv(e),!1;try{const s=[];for(let i=0;i<sessionStorage.length;i+=1){const c=sessionStorage.key(i);c&&(c.startsWith("oi:")||c===si||c===hu||c===No)&&s.push(c)}s.forEach(i=>sessionStorage.removeItem(i))}catch{}return Yv(e),Kc(null),!0}function wE(e){const a=l0();if(e==null)return!1;if(a===null||a===e)return Kc(e),!1;try{const s=[];for(let i=0;i<sessionStorage.length;i+=1){const c=sessionStorage.key(i);c&&(c.startsWith("oi:")||c===si||c===hu||c===No)&&s.push(c)}s.forEach(i=>sessionStorage.removeItem(i))}catch{}return Kc(e),!0}function _E(){try{localStorage.removeItem(Jx),localStorage.removeItem(Wx),localStorage.removeItem(pE)}catch{}finally{try{window.dispatchEvent(new Event(gE))}catch{}}try{sessionStorage.removeItem(hu),sessionStorage.removeItem(si)}catch{}}let Kv=!1;async function o0(e){if(!Kv){Kv=!0;try{await So()}finally{_E();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(xE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,i=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${i}`)}}}}const no=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401)return!0;const i=e?.response?.data?.detail;return!!(typeof i=="string"&&/token requerido/i.test(i))},Gf=(e,a)=>{const s=a.match(e);if(!s)return null;const i=Number(s[1]);return Number.isFinite(i)?i:null},EE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),i=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:i,oiId:Gf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:i,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:i,oiId:Gf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:i,bancadaId:Gf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},CE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:i}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const f=c.toString(),h=p=>`${p}${f?`?${f}`:""}${i??""}`;let v=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??a0();p&&(v=h(`/oi/${p}`))}return v},AE=(e,a,s,i,c)=>{try{window.dispatchEvent(new CustomEvent(bE,{detail:{status:a,detail:e,url:s,method:i,pending:c}}))}catch{}};Ye.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),i=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&no(e)){const f=EE(e);f&&SE(f),AE(i,a,s,c,f);const h=CE(f),v=mE(),p=v.bankId??hE(),y=f?.oiId??a0();if(v.userId&&p!=null&&y){const x=f?.type==="save_bancada"?{type:"bancada",bancadaId:f.bancadaId??null,isNew:f.bancadaId==null}:void 0;uE({userId:v.userId,bankId:p,oiId:y,returnTo:h,modal:x})}await o0({returnTo:h,pending:!!f})}return Promise.reject(e)});const oh=async()=>{const{data:e}=await Ye.get("/catalogs");return e},pu="medileser.selectedBank",Xc="medileser:selectedBank";function Pa(e,a){if((a??"").toLowerCase()==="admin")return"admin";const i=(e??"").toLowerCase();return i==="admin"||i==="administrator"||i==="administrador"?"administrator":i==="technician"||i==="user"||i==="tecnico"||i==="tcnico"?"technician":"standard"}function Kl(e){return Pa(e)==="technician"}function ch(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function oo(){try{const e=localStorage.getItem(pu);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function c0(e){try{localStorage.setItem(pu,String(e))}finally{window.dispatchEvent(new Event(Xc))}}function u0(){try{localStorage.removeItem(pu)}finally{window.dispatchEvent(new Event(Xc))}}function OE(e){const a=()=>e(),s=i=>{i.key===pu&&e()};return window.addEventListener(Xc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Xc,a),window.removeEventListener("storage",s)}}async function RE(e,a){try{await Ye.put("/auth/password",{old_password:e,new_password:a})}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(i)}}async function TE(e){try{await So();const{data:a}=await Ye.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),i0(a.userId??null),!Kl(a.role)&&a.bancoId!=null&&Kc(a.bancoId),Kl(a.role)?u0():c0(0),a}catch(a){const s=a?.response?.status,i=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":i??a?.message??"Error de autenticacin";throw new Error(c)}}function Dn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",i=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??i??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Pa(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function d0(e){await So();const{data:a}=await Ye.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),i0(a.userId??null),wE(e),c0(e),a}function f0(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),u0();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function DE(){await So(),f0()}function co({label:e,inputId:a,className:s="",inputRef:i,helpText:c,...d}){const[f,h]=g.useState(!1),v=a||d.name||void 0,{ref:p,...y}=d,x=i??p;return l.jsxs("div",{className:s,children:[e&&l.jsx("label",{className:"form-label",htmlFor:v,children:e}),l.jsxs("div",{className:"input-group",children:[l.jsx("input",{...y,id:v,type:f?"text":"password",className:"form-control",ref:x}),l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>h(S=>!S),tabIndex:-1,"aria-label":f?"Ocultar contrasea":"Mostrar contrasea",children:l.jsx("i",{className:`ti ${f?"ti-eye-off":"ti-eye"}`})})]}),c&&l.jsx("div",{className:"form-text",children:c})]})}function ri({show:e=!0,label:a="Cargando..."}){return e?l.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[l.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),l.jsx("span",{className:"visually-hidden",children:a})]}):null}const m0=g.createContext(null);function zE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function kE({children:e}){const[a,s]=g.useState([]),i=g.useCallback(d=>{const f=Date.now()+Math.random(),{kind:h="info",duration:v=3500,...p}=d,y={id:f,kind:h,duration:v,...p};s(x=>[...x,y]),window.setTimeout(()=>{s(x=>x.filter(S=>S.id!==f))},v)},[]),c=d=>s(f=>f.filter(h=>h.id!==d));return l.jsxs(m0.Provider,{value:{push:i},children:[e,l.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>l.jsx("div",{className:`toast show align-items-center text-bg-${zE(d.kind)} border-0 mb-2`,role:"alert",children:l.jsxs("div",{className:"d-flex",children:[l.jsxs("div",{className:"toast-body",children:[d.title&&l.jsx("strong",{className:"me-2",children:d.title}),d.message]}),l.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function el(){const e=g.useContext(m0);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}const uh="medileser.theme",dh="adminator-theme",Am=new Set;function Xv(e){return e==="light"||e==="dark"}function ME(){try{const e=localStorage.getItem(uh);if(Xv(e))return e;const a=localStorage.getItem(dh);return Xv(a)?a:null}catch{return null}}function h0(){return ME()??"light"}function p0(e){if(typeof document>"u")return;const a=document.documentElement;a.setAttribute("data-theme",e),a.setAttribute("data-bs-theme",e),a.style.colorScheme=e}function UE(){const e=h0();try{localStorage.setItem(uh,e)}catch{}try{localStorage.setItem(dh,e)}catch{}return p0(e),e}function LE(e){try{localStorage.setItem(uh,e)}catch{}try{localStorage.setItem(dh,e)}catch{}p0(e),typeof window<"u"&&typeof window.dispatchEvent=="function"&&window.dispatchEvent(new CustomEvent("adminator:themeChanged",{detail:{theme:e}})),Am.forEach(a=>a(e))}function BE(e){return Am.add(e),()=>{Am.delete(e)}}function g0({className:e}){const a=g.useId(),[s,i]=g.useState(()=>h0());g.useEffect(()=>BE(i),[]);const c=s==="dark";return l.jsx("div",{className:`theme-toggle d-flex ai-c ${e??""}`.trim(),children:l.jsxs("div",{className:"form-check form-switch d-flex ai-c",style:{margin:0,padding:0},children:[l.jsxs("label",{className:"form-check-label me-2 text-nowrap c-grey-700",htmlFor:a,style:{fontSize:"12px",marginRight:"8px"},children:[l.jsx("i",{className:"ti-sun",style:{marginRight:"4px"}}),l.jsx("span",{className:"theme-label",children:"Claro"})]}),l.jsx("input",{className:"form-check-input",type:"checkbox",id:a,checked:c,onChange:d=>LE(d.target.checked?"dark":"light"),"aria-label":"Cambiar tema",style:{margin:0}}),l.jsxs("label",{className:"form-check-label ms-2 text-nowrap c-grey-700",htmlFor:a,style:{fontSize:"12px",marginLeft:"8px"},children:[l.jsx("span",{className:"theme-label",children:"Oscuro"}),l.jsx("i",{className:"ti-moon",style:{marginLeft:"4px"}})]})]})})}function qE(){const{register:e,handleSubmit:a}=ou({defaultValues:{username:"",password:""}}),{toast:s}=el(),i=new URLSearchParams(window.location.search),c=i.get("returnTo")??"",d=c.startsWith("/")?c:"/home",f=i.get("pending")==="1",[h,v]=g.useState(!1),p=g.useRef(d),[y,x]=g.useState(!1),[S,I]=g.useState(0),[E,A]=g.useState(!1),{data:_,isLoading:q,error:D,refetch:J}=Qr({queryKey:["catalogs"],queryFn:oh,enabled:y}),U=_?.bancos??[];g.useEffect(()=>{const ue=NE();ue&&s({kind:"error",message:ue})},[s]),g.useEffect(()=>{y&&(S>0||U.length>0&&I(U[0].id))},[S,U,y]);const T=async ue=>{try{v(!0);const Ee=r0(),je=await TE(ue),ie=Ee!=null&&je.userId&&Ee!==je.userId,we=wm(je.userId,je.bancoId??0);if(we.target?p.current=we.target:f||ie?p.current="/home":p.current=d,Kl(je.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(Ee){const je=Ee?.message??Ee?.response?.data?.detail??(typeof Ee=="string"?Ee:"Error de autenticacin");s({kind:"error",title:"Login",message:String(je)})}finally{v(!1)}},G=S>0&&!E&&!q,L=async()=>{if(G)try{A(!0);const ue=l0(),Ee=ue!=null&&ue!==S,je=await d0(S),ie=wm(je.userId,je.bancoId??S);ie.target?p.current=ie.target:(f||Ee)&&(p.current="/home"),window.location.replace(p.current)}catch(ue){const Ee=ue?.response?.data?.detail??ue?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(Ee)})}finally{A(!1)}},ee=()=>{f0(),x(!1),I(0)};return l.jsxs("div",{className:"vi-login",children:[l.jsx(ri,{show:h||E,label:E?"Guardando banco...":"Validando credenciales..."}),l.jsx("div",{className:"vi-login__theme",children:l.jsx(g0,{})}),l.jsxs("div",{className:"vi-login__split",children:[l.jsx("section",{className:"vi-login__left",children:l.jsx("div",{className:"text-center text-md-start",children:l.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),l.jsx("section",{className:"vi-login__right",children:l.jsx("div",{className:"card shadow-sm vi-login__card",children:l.jsxs("div",{className:"card-body p-4 p-md-5",children:[l.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),l.jsxs("form",{onSubmit:a(T),className:"row g-3",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),l.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),l.jsx("div",{className:"col-md-6",children:l.jsx(co,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),l.jsx("div",{className:"col-12 d-grid",children:l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||y,"aria-busy":h?"true":"false",children:h?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),y&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsx("div",{className:"modal-header",children:l.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),l.jsxs("div",{className:"modal-body",children:[l.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),l.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),l.jsx("select",{id:"bankId",className:"form-select",value:S||"",onChange:ue=>I(Number(ue.target.value)),disabled:q||E,children:U.map(ue=>l.jsx("option",{value:ue.id,children:ue.name},ue.id))}),D?l.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>J(),children:"Reintentar"})]}):null]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:ee,disabled:E,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary",disabled:!G,onClick:L,children:E?"Guardando...":"Continuar"})]})]})})})]})}const Jv=(e,a,s)=>{if(e&&"reportValidity"in e){const i=$e(s,a);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Om=(e,a)=>{for(const s in a.fields){const i=a.fields[s];i&&i.ref&&"reportValidity"in i.ref?Jv(i.ref,s,e):i&&i.refs&&i.refs.forEach(c=>Jv(c,s,e))}},Wv=(e,a)=>{a.shouldUseNativeValidation&&Om(e,a);const s={};for(const i in e){const c=$e(a.fields,i),d=Object.assign(e[i]||{},{ref:c&&c.ref});if(IE(a.names||Object.keys(e),i)){const f=Object.assign({},$e(s,i));qt(f,"root",d),qt(s,i,f)}else qt(s,i,d)}return s},IE=(e,a)=>{const s=ey(a);return e.some(i=>ey(i).match(`^${s}\\.\\d+`))};function ey(e){return e.replace(/\]|\[/g,"")}function _e(e,a,s){function i(h,v){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,v);for(const y in f.prototype)y in h||Object.defineProperty(h,y,{value:f.prototype[y].bind(h)});h._zod.constr=f,h._zod.def=v}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function f(h){var v;const p=s?.Parent?new d:this;i(p,h),(v=p._zod).deferred??(v.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class Ql extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class b0 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const v0={};function Kr(e){return v0}function $E(e){const a=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>a.indexOf(+i)===-1).map(([i,c])=>c)}function Rm(e,a){return typeof a=="bigint"?a.toString():a}function fh(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function mh(e){return e==null}function hh(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function FE(e,a){const s=(e.toString().split(".")[1]||"").length,i=a.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const v=i.match(/\d?e-(\d?)/);v?.[1]&&(c=Number.parseInt(v[1]))}const d=s>c?s:c,f=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return f%h/10**d}const ty=Symbol("evaluating");function Yt(e,a,s){let i;Object.defineProperty(e,a,{get(){if(i!==ty)return i===void 0&&(i=ty,i=s()),i},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function tl(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function nl(...e){const a={};for(const s of e){const i=Object.getOwnPropertyDescriptors(s);Object.assign(a,i)}return Object.defineProperties({},a)}function ny(e){return JSON.stringify(e)}const y0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Jc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const HE=fh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function uo(e){if(Jc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(Jc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function x0(e){return uo(e)?{...e}:Array.isArray(e)?[...e]:e}const VE=new Set(["string","number","symbol"]);function gu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vr(e,a,s){const i=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(i._zod.parent=e),i}function nt(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function ZE(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const GE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function PE(e,a){const s=e._zod.def,i=nl(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return tl(this,"shape",c),c},checks:[]});return vr(e,i)}function QE(e,a){const s=e._zod.def,i=nl(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return tl(this,"shape",c),c},checks:[]});return vr(e,i)}function YE(e,a){if(!uo(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=nl(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return tl(this,"shape",d),d},checks:[]});return vr(e,c)}function KE(e,a){if(!uo(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const i={...e._zod.def.shape,...a};return tl(this,"shape",i),i},checks:e._zod.def.checks};return vr(e,s)}function XE(e,a){const s=nl(e._zod.def,{get shape(){const i={...e._zod.def.shape,...a._zod.def.shape};return tl(this,"shape",i),i},get catchall(){return a._zod.def.catchall},checks:[]});return vr(e,s)}function JE(e,a,s){const i=nl(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const f in s){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);s[f]&&(d[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)d[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return tl(this,"shape",d),d},checks:[]});return vr(a,i)}function WE(e,a,s){const i=nl(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const f in s){if(!(f in d))throw new Error(`Unrecognized key: "${f}"`);s[f]&&(d[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)d[f]=new e({type:"nonoptional",innerType:c[f]});return tl(this,"shape",d),d},checks:[]});return vr(a,i)}function Gl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function N0(e,a){return a.map(s=>{var i;return(i=s).path??(i.path=[]),s.path.unshift(e),s})}function Tc(e){return typeof e=="string"?e:e?.message}function Xr(e,a,s){const i={...e,path:e.path??[]};if(!e.message){const c=Tc(e.inst?._zod.def?.error?.(e))??Tc(a?.error?.(e))??Tc(s.customError?.(e))??Tc(s.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,a?.reportInput||delete i.input,i}function ph(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function fo(...e){const[a,s,i]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:i}:{...a}}const S0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,Rm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},gh=_e("$ZodError",S0),bu=_e("$ZodError",S0,{Parent:Error});function eC(e,a=s=>s.message){const s={},i=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):i.push(a(c));return{formErrors:i,fieldErrors:s}}function tC(e,a=s=>s.message){const s={_errors:[]},i=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(f=>i({issues:f}));else if(d.code==="invalid_key")i({issues:d.issues});else if(d.code==="invalid_element")i({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let f=s,h=0;for(;h<d.path.length;){const v=d.path[h];h===d.path.length-1?(f[v]=f[v]||{_errors:[]},f[v]._errors.push(a(d))):f[v]=f[v]||{_errors:[]},f=f[v],h++}}};return i(e),s}const vu=e=>(a,s,i,c)=>{const d=i?Object.assign(i,{async:!1}):{async:!1},f=a._zod.run({value:s,issues:[]},d);if(f instanceof Promise)throw new Ql;if(f.issues.length){const h=new(c?.Err??e)(f.issues.map(v=>Xr(v,d,Kr())));throw y0(h,c?.callee),h}return f.value},nC=vu(bu),yu=e=>async(a,s,i,c)=>{const d=i?Object.assign(i,{async:!0}):{async:!0};let f=a._zod.run({value:s,issues:[]},d);if(f instanceof Promise&&(f=await f),f.issues.length){const h=new(c?.Err??e)(f.issues.map(v=>Xr(v,d,Kr())));throw y0(h,c?.callee),h}return f.value},aC=yu(bu),xu=e=>(a,s,i)=>{const c=i?{...i,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new Ql;return d.issues.length?{success:!1,error:new(e??gh)(d.issues.map(f=>Xr(f,c,Kr())))}:{success:!0,data:d.value}},sC=xu(bu),Nu=e=>async(a,s,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(f=>Xr(f,c,Kr())))}:{success:!0,data:d.value}},rC=Nu(bu),lC=e=>(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return vu(e)(a,s,c)},iC=e=>(a,s,i)=>vu(e)(a,s,i),oC=e=>async(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return yu(e)(a,s,c)},cC=e=>async(a,s,i)=>yu(e)(a,s,i),uC=e=>(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return xu(e)(a,s,c)},dC=e=>(a,s,i)=>xu(e)(a,s,i),fC=e=>async(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Nu(e)(a,s,c)},mC=e=>async(a,s,i)=>Nu(e)(a,s,i),hC=/^[cC][^\s-]{8,}$/,pC=/^[0-9a-z]+$/,gC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bC=/^[0-9a-vA-V]{20}$/,vC=/^[A-Za-z0-9]{27}$/,yC=/^[a-zA-Z0-9_-]{21}$/,xC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,NC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ay=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,SC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,jC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function wC(){return new RegExp(jC,"u")}const _C=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,CC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,AC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,j0=/^[A-Za-z0-9_-]*$/,RC=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,TC=/^\+(?:[0-9]){6,14}[0-9]$/,w0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",DC=new RegExp(`^${w0}$`);function _0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function zC(e){return new RegExp(`^${_0(e)}$`)}function kC(e){const a=_0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${a}(?:${s.join("|")})`;return new RegExp(`^${w0}T(?:${i})$`)}const MC=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},UC=/^-?\d+$/,LC=/^-?\d+(?:\.\d+)?/,BC=/^[^A-Z]*$/,qC=/^[^a-z]*$/,wa=_e("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),E0={number:"number",bigint:"bigint",object:"date"},C0=_e("$ZodCheckLessThan",(e,a)=>{wa.init(e,a);const s=E0[typeof a.value];e._zod.onattach.push(i=>{const c=i._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=i=>{(a.inclusive?i.value<=a.value:i.value<a.value)||i.issues.push({origin:s,code:"too_big",maximum:a.value,input:i.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),A0=_e("$ZodCheckGreaterThan",(e,a)=>{wa.init(e,a);const s=E0[typeof a.value];e._zod.onattach.push(i=>{const c=i._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=i=>{(a.inclusive?i.value>=a.value:i.value>a.value)||i.issues.push({origin:s,code:"too_small",minimum:a.value,input:i.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),IC=_e("$ZodCheckMultipleOf",(e,a)=>{wa.init(e,a),e._zod.onattach.push(s=>{var i;(i=s._zod.bag).multipleOf??(i.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):FE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),$C=_e("$ZodCheckNumberFormat",(e,a)=>{wa.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),i=s?"int":"number",[c,d]=GE[a.format];e._zod.onattach.push(f=>{const h=f._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=UC)}),e._zod.check=f=>{const h=f.value;if(s){if(!Number.isInteger(h)){f.issues.push({expected:i,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?f.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!a.abort}):f.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!a.abort});return}}h<c&&f.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&f.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),FC=_e("$ZodCheckMaxLength",(e,a)=>{var s;wa.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!mh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(i._zod.bag.maximum=a.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=a.maximum)return;const f=ph(c);i.issues.push({origin:f,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),HC=_e("$ZodCheckMinLength",(e,a)=>{var s;wa.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!mh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(i._zod.bag.minimum=a.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=a.minimum)return;const f=ph(c);i.issues.push({origin:f,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),VC=_e("$ZodCheckLengthEquals",(e,a)=>{var s;wa.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!mh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=i=>{const c=i.value,d=c.length;if(d===a.length)return;const f=ph(c),h=d>a.length;i.issues.push({origin:f,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!a.abort})}}),Su=_e("$ZodCheckStringFormat",(e,a)=>{var s,i;wa.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(i=e._zod).check??(i.check=()=>{})}),ZC=_e("$ZodCheckRegex",(e,a)=>{Su.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),GC=_e("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=BC),Su.init(e,a)}),PC=_e("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=qC),Su.init(e,a)}),QC=_e("$ZodCheckIncludes",(e,a)=>{wa.init(e,a);const s=gu(a.includes),i=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=i,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(i)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),YC=_e("$ZodCheckStartsWith",(e,a)=>{wa.init(e,a);const s=new RegExp(`^${gu(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=i=>{i.value.startsWith(a.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:i.value,inst:e,continue:!a.abort})}}),KC=_e("$ZodCheckEndsWith",(e,a)=>{wa.init(e,a);const s=new RegExp(`.*${gu(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=i=>{i.value.endsWith(a.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:i.value,inst:e,continue:!a.abort})}}),XC=_e("$ZodCheckOverwrite",(e,a)=>{wa.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class JC{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const i=a.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),d=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of d)this.content.push(f)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const WC={major:4,minor:1,patch:12},On=_e("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=WC;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const d of c._zod.onattach)d(e);if(i.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,h,v)=>{let p=Gl(f),y;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(f))continue}else if(p)continue;const S=f.issues.length,I=x._zod.check(f);if(I instanceof Promise&&v?.async===!1)throw new Ql;if(y||I instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await I,f.issues.length!==S&&(p||(p=Gl(f,S)))});else{if(f.issues.length===S)continue;p||(p=Gl(f,S))}}return y?y.then(()=>f):f},d=(f,h,v)=>{if(Gl(f))return f.aborted=!0,f;const p=c(h,i,v);if(p instanceof Promise){if(v.async===!1)throw new Ql;return p.then(y=>e._zod.parse(y,v))}return e._zod.parse(p,v)};e._zod.run=(f,h)=>{if(h.skipChecks)return e._zod.parse(f,h);if(h.direction==="backward"){const p=e._zod.parse({value:f.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(y=>d(y,f,h)):d(p,f,h)}const v=e._zod.parse(f,h);if(v instanceof Promise){if(h.async===!1)throw new Ql;return v.then(p=>c(p,i,h))}return c(v,i,h)}}e["~standard"]={validate:c=>{try{const d=sC(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return rC(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),bh=_e("$ZodString",(e,a)=>{On.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??MC(e._zod.bag),e._zod.parse=(s,i)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),ln=_e("$ZodStringFormat",(e,a)=>{Su.init(e,a),bh.init(e,a)}),eA=_e("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=NC),ln.init(e,a)}),tA=_e("$ZodUUID",(e,a)=>{if(a.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(i===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=ay(i))}else a.pattern??(a.pattern=ay());ln.init(e,a)}),nA=_e("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=SC),ln.init(e,a)}),aA=_e("$ZodURL",(e,a)=>{ln.init(e,a),e._zod.check=s=>{try{const i=s.value.trim(),c=new URL(i);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:RC.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=i;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),sA=_e("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=wC()),ln.init(e,a)}),rA=_e("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=yC),ln.init(e,a)}),lA=_e("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=hC),ln.init(e,a)}),iA=_e("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=pC),ln.init(e,a)}),oA=_e("$ZodULID",(e,a)=>{a.pattern??(a.pattern=gC),ln.init(e,a)}),cA=_e("$ZodXID",(e,a)=>{a.pattern??(a.pattern=bC),ln.init(e,a)}),uA=_e("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=vC),ln.init(e,a)}),dA=_e("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=kC(a)),ln.init(e,a)}),fA=_e("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=DC),ln.init(e,a)}),mA=_e("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=zC(a)),ln.init(e,a)}),hA=_e("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=xC),ln.init(e,a)}),pA=_e("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=_C),ln.init(e,a),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format="ipv4"})}),gA=_e("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=EC),ln.init(e,a),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),bA=_e("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=CC),ln.init(e,a)}),vA=_e("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=AC),ln.init(e,a),e._zod.check=s=>{const i=s.value.split("/");try{if(i.length!==2)throw new Error;const[c,d]=i;if(!d)throw new Error;const f=Number(d);if(`${f}`!==d)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function O0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const yA=_e("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=OC),ln.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{O0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function xA(e){if(!j0.test(e))return!1;const a=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return O0(s)}const NA=_e("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=j0),ln.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{xA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),SA=_e("$ZodE164",(e,a)=>{a.pattern??(a.pattern=TC),ln.init(e,a)});function jA(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[i]=s;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const wA=_e("$ZodJWT",(e,a)=>{ln.init(e,a),e._zod.check=s=>{jA(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),R0=_e("$ZodNumber",(e,a)=>{On.init(e,a),e._zod.pattern=e._zod.bag.pattern??LC,e._zod.parse=(s,i)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),_A=_e("$ZodNumber",(e,a)=>{$C.init(e,a),R0.init(e,a)}),EA=_e("$ZodUnknown",(e,a)=>{On.init(e,a),e._zod.parse=s=>s}),CA=_e("$ZodNever",(e,a)=>{On.init(e,a),e._zod.parse=(s,i)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function sy(e,a,s){e.issues.length&&a.issues.push(...N0(s,e.issues)),a.value[s]=e.value}const AA=_e("$ZodArray",(e,a)=>{On.init(e,a),e._zod.parse=(s,i)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let f=0;f<c.length;f++){const h=c[f],v=a.element._zod.run({value:h,issues:[]},i);v instanceof Promise?d.push(v.then(p=>sy(p,s,f))):sy(v,s,f)}return d.length?Promise.all(d).then(()=>s):s}});function Wc(e,a,s,i){e.issues.length&&a.issues.push(...N0(s,e.issues)),e.value===void 0?s in i&&(a.value[s]=void 0):a.value[s]=e.value}function T0(e){const a=Object.keys(e.shape);for(const i of a)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const s=ZE(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function D0(e,a,s,i,c,d){const f=[],h=c.keySet,v=c.catchall._zod,p=v.def.type;for(const y of Object.keys(a)){if(h.has(y))continue;if(p==="never"){f.push(y);continue}const x=v.run({value:a[y],issues:[]},i);x instanceof Promise?e.push(x.then(S=>Wc(S,s,y,a))):Wc(x,s,y,a)}return f.length&&s.issues.push({code:"unrecognized_keys",keys:f,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const OA=_e("$ZodObject",(e,a)=>{if(On.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const v={...h};return Object.defineProperty(a,"shape",{value:v}),v}})}const i=fh(()=>T0(a));Yt(e._zod,"propValues",()=>{const h=a.shape,v={};for(const p in h){const y=h[p]._zod;if(y.values){v[p]??(v[p]=new Set);for(const x of y.values)v[p].add(x)}}return v});const c=Jc,d=a.catchall;let f;e._zod.parse=(h,v)=>{f??(f=i.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const y=[],x=f.shape;for(const S of f.keys){const E=x[S]._zod.run({value:p[S],issues:[]},v);E instanceof Promise?y.push(E.then(A=>Wc(A,h,S,p))):Wc(E,h,S,p)}return d?D0(y,p,h,v,i.value,e):y.length?Promise.all(y).then(()=>h):h}}),RA=_e("$ZodObjectJIT",(e,a)=>{OA.init(e,a);const s=e._zod.parse,i=fh(()=>T0(a)),c=S=>{const I=new JC(["shape","payload","ctx"]),E=i.value,A=J=>{const U=ny(J);return`shape[${U}]._zod.run({ value: input[${U}], issues: [] }, ctx)`};I.write("const input = payload.value;");const _=Object.create(null);let q=0;for(const J of E.keys)_[J]=`key_${q++}`;I.write("const newResult = {};");for(const J of E.keys){const U=_[J],T=ny(J);I.write(`const ${U} = ${A(J)};`),I.write(`
        if (${U}.issues.length) {
          payload.issues = payload.issues.concat(${U}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        
        if (${U}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${U}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const D=I.compile();return(J,U)=>D(S,J,U)};let d;const f=Jc,h=!v0.jitless,p=h&&HE.value,y=a.catchall;let x;e._zod.parse=(S,I)=>{x??(x=i.value);const E=S.value;return f(E)?h&&p&&I?.async===!1&&I.jitless!==!0?(d||(d=c(a.shape)),S=d(S,I),y?D0([],E,S,I,x,e):S):s(S,I):(S.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),S)}});function ry(e,a,s,i){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!Gl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(f=>Xr(f,i,Kr())))}),a)}const TA=_e("$ZodUnion",(e,a)=>{On.init(e,a),Yt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Yt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Yt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Yt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>hh(d.source)).join("|")})$`)}});const s=a.options.length===1,i=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return i(c,d);let f=!1;const h=[];for(const v of a.options){const p=v._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),f=!0;else{if(p.issues.length===0)return p;h.push(p)}}return f?Promise.all(h).then(v=>ry(v,c,e,d)):ry(h,c,e,d)}}),DA=_e("$ZodIntersection",(e,a)=>{On.init(e,a),e._zod.parse=(s,i)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},i),f=a.right._zod.run({value:c,issues:[]},i);return d instanceof Promise||f instanceof Promise?Promise.all([d,f]).then(([v,p])=>ly(s,v,p)):ly(s,d,f)}});function Tm(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(uo(e)&&uo(a)){const s=Object.keys(a),i=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of i){const f=Tm(e[d],a[d]);if(!f.valid)return{valid:!1,mergeErrorPath:[d,...f.mergeErrorPath]};c[d]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let i=0;i<e.length;i++){const c=e[i],d=a[i],f=Tm(c,d);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};s.push(f.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function ly(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),Gl(e))return e;const i=Tm(a.value,s.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const zA=_e("$ZodEnum",(e,a)=>{On.init(e,a);const s=$E(a.entries),i=new Set(s);e._zod.values=i,e._zod.pattern=new RegExp(`^(${s.filter(c=>VE.has(typeof c)).map(c=>typeof c=="string"?gu(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:s,input:f,inst:e}),c}}),kA=_e("$ZodTransform",(e,a)=>{On.init(e,a),e._zod.parse=(s,i)=>{if(i.direction==="backward")throw new b0(e.constructor.name);const c=a.transform(s.value,s);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(s.value=f,s));if(c instanceof Promise)throw new Ql;return s.value=c,s}});function iy(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const MA=_e("$ZodOptional",(e,a)=>{On.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Yt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Yt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${hh(s.source)})?$`):void 0}),e._zod.parse=(s,i)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>iy(d,s.value)):iy(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,i)}}),UA=_e("$ZodNullable",(e,a)=>{On.init(e,a),Yt(e._zod,"optin",()=>a.innerType._zod.optin),Yt(e._zod,"optout",()=>a.innerType._zod.optout),Yt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${hh(s.source)}|null)$`):void 0}),Yt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,i)=>s.value===null?s:a.innerType._zod.run(s,i)}),LA=_e("$ZodDefault",(e,a)=>{On.init(e,a),e._zod.optin="optional",Yt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>oy(d,a)):oy(c,a)}});function oy(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const BA=_e("$ZodPrefault",(e,a)=>{On.init(e,a),e._zod.optin="optional",Yt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>(i.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,i))}),qA=_e("$ZodNonOptional",(e,a)=>{On.init(e,a),Yt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(i=>i!==void 0)):void 0}),e._zod.parse=(s,i)=>{const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>cy(d,e)):cy(c,e)}});function cy(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const IA=_e("$ZodCatch",(e,a)=>{On.init(e,a),Yt(e._zod,"optin",()=>a.innerType._zod.optin),Yt(e._zod,"optout",()=>a.innerType._zod.optout),Yt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(f=>Xr(f,i,Kr()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>Xr(d,i,Kr()))},input:s.value}),s.issues=[]),s)}}),$A=_e("$ZodPipe",(e,a)=>{On.init(e,a),Yt(e._zod,"values",()=>a.in._zod.values),Yt(e._zod,"optin",()=>a.in._zod.optin),Yt(e._zod,"optout",()=>a.out._zod.optout),Yt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,i)=>{if(i.direction==="backward"){const d=a.out._zod.run(s,i);return d instanceof Promise?d.then(f=>Dc(f,a.in,i)):Dc(d,a.in,i)}const c=a.in._zod.run(s,i);return c instanceof Promise?c.then(d=>Dc(d,a.out,i)):Dc(c,a.out,i)}});function Dc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const FA=_e("$ZodReadonly",(e,a)=>{On.init(e,a),Yt(e._zod,"propValues",()=>a.innerType._zod.propValues),Yt(e._zod,"values",()=>a.innerType._zod.values),Yt(e._zod,"optin",()=>a.innerType._zod.optin),Yt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(uy):uy(c)}});function uy(e){return e.value=Object.freeze(e.value),e}const HA=_e("$ZodCustom",(e,a)=>{wa.init(e,a),On.init(e,a),e._zod.parse=(s,i)=>s,e._zod.check=s=>{const i=s.value,c=a.fn(i);if(c instanceof Promise)return c.then(d=>dy(d,s,i,e));dy(c,s,i,e)}});function dy(e,a,s,i){if(!e){const c={code:"custom",input:s,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),a.issues.push(fo(c))}}class VA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const i=s[0];if(this._map.set(a,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const i={...this.get(s)??{}};delete i.id;const c={...i,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function ZA(){return new VA}const zc=ZA();function GA(e,a){return new e({type:"string",...nt(a)})}function PA(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...nt(a)})}function fy(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...nt(a)})}function QA(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...nt(a)})}function YA(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...nt(a)})}function KA(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...nt(a)})}function XA(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...nt(a)})}function JA(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...nt(a)})}function WA(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...nt(a)})}function eO(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...nt(a)})}function tO(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...nt(a)})}function nO(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...nt(a)})}function aO(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...nt(a)})}function sO(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...nt(a)})}function rO(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...nt(a)})}function lO(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...nt(a)})}function iO(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...nt(a)})}function oO(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...nt(a)})}function cO(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...nt(a)})}function uO(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...nt(a)})}function dO(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...nt(a)})}function fO(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...nt(a)})}function mO(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...nt(a)})}function hO(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...nt(a)})}function pO(e,a){return new e({type:"string",format:"date",check:"string_format",...nt(a)})}function gO(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...nt(a)})}function bO(e,a){return new e({type:"string",format:"duration",check:"string_format",...nt(a)})}function vO(e,a){return new e({type:"number",checks:[],...nt(a)})}function yO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...nt(a)})}function xO(e){return new e({type:"unknown"})}function NO(e,a){return new e({type:"never",...nt(a)})}function my(e,a){return new C0({check:"less_than",...nt(a),value:e,inclusive:!1})}function Pf(e,a){return new C0({check:"less_than",...nt(a),value:e,inclusive:!0})}function hy(e,a){return new A0({check:"greater_than",...nt(a),value:e,inclusive:!1})}function Qf(e,a){return new A0({check:"greater_than",...nt(a),value:e,inclusive:!0})}function py(e,a){return new IC({check:"multiple_of",...nt(a),value:e})}function z0(e,a){return new FC({check:"max_length",...nt(a),maximum:e})}function eu(e,a){return new HC({check:"min_length",...nt(a),minimum:e})}function k0(e,a){return new VC({check:"length_equals",...nt(a),length:e})}function SO(e,a){return new ZC({check:"string_format",format:"regex",...nt(a),pattern:e})}function jO(e){return new GC({check:"string_format",format:"lowercase",...nt(e)})}function wO(e){return new PC({check:"string_format",format:"uppercase",...nt(e)})}function _O(e,a){return new QC({check:"string_format",format:"includes",...nt(a),includes:e})}function EO(e,a){return new YC({check:"string_format",format:"starts_with",...nt(a),prefix:e})}function CO(e,a){return new KC({check:"string_format",format:"ends_with",...nt(a),suffix:e})}function jo(e){return new XC({check:"overwrite",tx:e})}function AO(e){return jo(a=>a.normalize(e))}function OO(){return jo(e=>e.trim())}function RO(){return jo(e=>e.toLowerCase())}function TO(){return jo(e=>e.toUpperCase())}function DO(e,a,s){return new e({type:"array",element:a,...nt(s)})}function zO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...nt(s)})}function kO(e){const a=MO(s=>(s.addIssue=i=>{if(typeof i=="string")s.issues.push(fo(i,s.value,a._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(fo(c))}},e(s.value,s)));return a}function MO(e,a){const s=new wa({check:"custom",...nt(a)});return s._zod.check=e,s}function gy(e,a){try{var s=e()}catch(i){return a(i)}return s&&s.then?s.then(void 0,a):s}function UO(e,a){for(var s={};e.length;){var i=e[0],c=i.code,d=i.message,f=i.path.join(".");if(!s[f])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];s[f]={message:h.message,type:h.code}}else s[f]={message:d,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(y){return y.errors.forEach(function(x){return e.push(x)})}),a){var v=s[f].types,p=v&&v[i.code];s[f]=eh(f,a,s,c,p?[].concat(p,i.message):i.message)}e.shift()}return s}function LO(e,a){for(var s={};e.length;){var i=e[0],c=i.code,d=i.message,f=i.path.join(".");if(!s[f])if(i.code==="invalid_union"&&i.errors.length>0){var h=i.errors[0][0];s[f]={message:h.message,type:h.code}}else s[f]={message:d,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(y){return y.forEach(function(x){return e.push(x)})}),a){var v=s[f].types,p=v&&v[i.code];s[f]=eh(f,a,s,c,p?[].concat(p,i.message):i.message)}e.shift()}return s}function BO(e,a,s){if(s===void 0&&(s={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,d){try{return Promise.resolve(gy(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](i,a)).then(function(f){return d.shouldUseNativeValidation&&Om({},d),{errors:{},values:s.raw?Object.assign({},i):f}})},function(f){if((function(h){return Array.isArray(h?.issues)})(f))return{values:{},errors:Wv(UO(f.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,d){try{return Promise.resolve(gy(function(){return Promise.resolve((s.mode==="sync"?nC:aC)(e,i,a)).then(function(f){return d.shouldUseNativeValidation&&Om({},d),{errors:{},values:s.raw?Object.assign({},i):f}})},function(f){if((function(h){return h instanceof gh})(f))return{values:{},errors:Wv(LO(f.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}const qO=_e("ZodISODateTime",(e,a)=>{dA.init(e,a),un.init(e,a)});function IO(e){return hO(qO,e)}const $O=_e("ZodISODate",(e,a)=>{fA.init(e,a),un.init(e,a)});function FO(e){return pO($O,e)}const HO=_e("ZodISOTime",(e,a)=>{mA.init(e,a),un.init(e,a)});function VO(e){return gO(HO,e)}const ZO=_e("ZodISODuration",(e,a)=>{hA.init(e,a),un.init(e,a)});function GO(e){return bO(ZO,e)}const PO=(e,a)=>{gh.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>tC(e,s)},flatten:{value:s=>eC(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,Rm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,Rm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Xa=_e("ZodError",PO,{Parent:Error}),QO=vu(Xa),YO=yu(Xa),KO=xu(Xa),XO=Nu(Xa),JO=lC(Xa),WO=iC(Xa),eR=oC(Xa),tR=cC(Xa),nR=uC(Xa),aR=dC(Xa),sR=fC(Xa),rR=mC(Xa),zn=_e("ZodType",(e,a)=>(On.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(nl(a,{checks:[...a.checks??[],...s.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(s,i)=>vr(e,s,i),e.brand=()=>e,e.register=((s,i)=>(s.add(e,i),e)),e.parse=(s,i)=>QO(e,s,i,{callee:e.parse}),e.safeParse=(s,i)=>KO(e,s,i),e.parseAsync=async(s,i)=>YO(e,s,i,{callee:e.parseAsync}),e.safeParseAsync=async(s,i)=>XO(e,s,i),e.spa=e.safeParseAsync,e.encode=(s,i)=>JO(e,s,i),e.decode=(s,i)=>WO(e,s,i),e.encodeAsync=async(s,i)=>eR(e,s,i),e.decodeAsync=async(s,i)=>tR(e,s,i),e.safeEncode=(s,i)=>nR(e,s,i),e.safeDecode=(s,i)=>aR(e,s,i),e.safeEncodeAsync=async(s,i)=>sR(e,s,i),e.safeDecodeAsync=async(s,i)=>rR(e,s,i),e.refine=(s,i)=>e.check(QR(s,i)),e.superRefine=s=>e.check(YR(s)),e.overwrite=s=>e.check(jo(s)),e.optional=()=>xy(e),e.nullable=()=>Ny(e),e.nullish=()=>xy(Ny(e)),e.nonoptional=s=>$R(e,s),e.array=()=>L0(e),e.or=s=>TR([e,s]),e.and=s=>zR(e,s),e.transform=s=>Sy(e,MR(s)),e.default=s=>BR(e,s),e.prefault=s=>IR(e,s),e.catch=s=>HR(e,s),e.pipe=s=>Sy(e,s),e.readonly=()=>GR(e),e.describe=s=>{const i=e.clone();return zc.add(i,{description:s}),i},Object.defineProperty(e,"description",{get(){return zc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return zc.get(e);const i=e.clone();return zc.add(i,s[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),M0=_e("_ZodString",(e,a)=>{bh.init(e,a),zn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...i)=>e.check(SO(...i)),e.includes=(...i)=>e.check(_O(...i)),e.startsWith=(...i)=>e.check(EO(...i)),e.endsWith=(...i)=>e.check(CO(...i)),e.min=(...i)=>e.check(eu(...i)),e.max=(...i)=>e.check(z0(...i)),e.length=(...i)=>e.check(k0(...i)),e.nonempty=(...i)=>e.check(eu(1,...i)),e.lowercase=i=>e.check(jO(i)),e.uppercase=i=>e.check(wO(i)),e.trim=()=>e.check(OO()),e.normalize=(...i)=>e.check(AO(...i)),e.toLowerCase=()=>e.check(RO()),e.toUpperCase=()=>e.check(TO())}),lR=_e("ZodString",(e,a)=>{bh.init(e,a),M0.init(e,a),e.email=s=>e.check(PA(iR,s)),e.url=s=>e.check(JA(oR,s)),e.jwt=s=>e.check(mO(jR,s)),e.emoji=s=>e.check(WA(cR,s)),e.guid=s=>e.check(fy(by,s)),e.uuid=s=>e.check(QA(kc,s)),e.uuidv4=s=>e.check(YA(kc,s)),e.uuidv6=s=>e.check(KA(kc,s)),e.uuidv7=s=>e.check(XA(kc,s)),e.nanoid=s=>e.check(eO(uR,s)),e.guid=s=>e.check(fy(by,s)),e.cuid=s=>e.check(tO(dR,s)),e.cuid2=s=>e.check(nO(fR,s)),e.ulid=s=>e.check(aO(mR,s)),e.base64=s=>e.check(uO(xR,s)),e.base64url=s=>e.check(dO(NR,s)),e.xid=s=>e.check(sO(hR,s)),e.ksuid=s=>e.check(rO(pR,s)),e.ipv4=s=>e.check(lO(gR,s)),e.ipv6=s=>e.check(iO(bR,s)),e.cidrv4=s=>e.check(oO(vR,s)),e.cidrv6=s=>e.check(cO(yR,s)),e.e164=s=>e.check(fO(SR,s)),e.datetime=s=>e.check(IO(s)),e.date=s=>e.check(FO(s)),e.time=s=>e.check(VO(s)),e.duration=s=>e.check(GO(s))});function tu(e){return GA(lR,e)}const un=_e("ZodStringFormat",(e,a)=>{ln.init(e,a),M0.init(e,a)}),iR=_e("ZodEmail",(e,a)=>{nA.init(e,a),un.init(e,a)}),by=_e("ZodGUID",(e,a)=>{eA.init(e,a),un.init(e,a)}),kc=_e("ZodUUID",(e,a)=>{tA.init(e,a),un.init(e,a)}),oR=_e("ZodURL",(e,a)=>{aA.init(e,a),un.init(e,a)}),cR=_e("ZodEmoji",(e,a)=>{sA.init(e,a),un.init(e,a)}),uR=_e("ZodNanoID",(e,a)=>{rA.init(e,a),un.init(e,a)}),dR=_e("ZodCUID",(e,a)=>{lA.init(e,a),un.init(e,a)}),fR=_e("ZodCUID2",(e,a)=>{iA.init(e,a),un.init(e,a)}),mR=_e("ZodULID",(e,a)=>{oA.init(e,a),un.init(e,a)}),hR=_e("ZodXID",(e,a)=>{cA.init(e,a),un.init(e,a)}),pR=_e("ZodKSUID",(e,a)=>{uA.init(e,a),un.init(e,a)}),gR=_e("ZodIPv4",(e,a)=>{pA.init(e,a),un.init(e,a)}),bR=_e("ZodIPv6",(e,a)=>{gA.init(e,a),un.init(e,a)}),vR=_e("ZodCIDRv4",(e,a)=>{bA.init(e,a),un.init(e,a)}),yR=_e("ZodCIDRv6",(e,a)=>{vA.init(e,a),un.init(e,a)}),xR=_e("ZodBase64",(e,a)=>{yA.init(e,a),un.init(e,a)}),NR=_e("ZodBase64URL",(e,a)=>{NA.init(e,a),un.init(e,a)}),SR=_e("ZodE164",(e,a)=>{SA.init(e,a),un.init(e,a)}),jR=_e("ZodJWT",(e,a)=>{wA.init(e,a),un.init(e,a)}),U0=_e("ZodNumber",(e,a)=>{R0.init(e,a),zn.init(e,a),e.gt=(i,c)=>e.check(hy(i,c)),e.gte=(i,c)=>e.check(Qf(i,c)),e.min=(i,c)=>e.check(Qf(i,c)),e.lt=(i,c)=>e.check(my(i,c)),e.lte=(i,c)=>e.check(Pf(i,c)),e.max=(i,c)=>e.check(Pf(i,c)),e.int=i=>e.check(vy(i)),e.safe=i=>e.check(vy(i)),e.positive=i=>e.check(hy(0,i)),e.nonnegative=i=>e.check(Qf(0,i)),e.negative=i=>e.check(my(0,i)),e.nonpositive=i=>e.check(Pf(0,i)),e.multipleOf=(i,c)=>e.check(py(i,c)),e.step=(i,c)=>e.check(py(i,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function la(e){return vO(U0,e)}const wR=_e("ZodNumberFormat",(e,a)=>{_A.init(e,a),U0.init(e,a)});function vy(e){return yO(wR,e)}const _R=_e("ZodUnknown",(e,a)=>{EA.init(e,a),zn.init(e,a)});function yy(){return xO(_R)}const ER=_e("ZodNever",(e,a)=>{CA.init(e,a),zn.init(e,a)});function CR(e){return NO(ER,e)}const AR=_e("ZodArray",(e,a)=>{AA.init(e,a),zn.init(e,a),e.element=a.element,e.min=(s,i)=>e.check(eu(s,i)),e.nonempty=s=>e.check(eu(1,s)),e.max=(s,i)=>e.check(z0(s,i)),e.length=(s,i)=>e.check(k0(s,i)),e.unwrap=()=>e.element});function L0(e,a){return DO(AR,e,a)}const OR=_e("ZodObject",(e,a)=>{RA.init(e,a),zn.init(e,a),Yt(e,"shape",()=>a.shape),e.keyof=()=>B0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:yy()}),e.loose=()=>e.clone({...e._zod.def,catchall:yy()}),e.strict=()=>e.clone({...e._zod.def,catchall:CR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>YE(e,s),e.safeExtend=s=>KE(e,s),e.merge=s=>XE(e,s),e.pick=s=>PE(e,s),e.omit=s=>QE(e,s),e.partial=(...s)=>JE(q0,e,s[0]),e.required=(...s)=>WE(I0,e,s[0])});function ju(e,a){const s={type:"object",shape:e??{},...nt(a)};return new OR(s)}const RR=_e("ZodUnion",(e,a)=>{TA.init(e,a),zn.init(e,a),e.options=a.options});function TR(e,a){return new RR({type:"union",options:e,...nt(a)})}const DR=_e("ZodIntersection",(e,a)=>{DA.init(e,a),zn.init(e,a)});function zR(e,a){return new DR({type:"intersection",left:e,right:a})}const Dm=_e("ZodEnum",(e,a)=>{zA.init(e,a),zn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(i,c)=>{const d={};for(const f of i)if(s.has(f))d[f]=a.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Dm({...a,checks:[],...nt(c),entries:d})},e.exclude=(i,c)=>{const d={...a.entries};for(const f of i)if(s.has(f))delete d[f];else throw new Error(`Key ${f} not found in enum`);return new Dm({...a,checks:[],...nt(c),entries:d})}});function B0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Dm({type:"enum",entries:s,...nt(a)})}const kR=_e("ZodTransform",(e,a)=>{kA.init(e,a),zn.init(e,a),e._zod.parse=(s,i)=>{if(i.direction==="backward")throw new b0(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(fo(d,s.value,a));else{const f=d;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=s.value),f.inst??(f.inst=e),s.issues.push(fo(f))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function MR(e){return new kR({type:"transform",transform:e})}const q0=_e("ZodOptional",(e,a)=>{MA.init(e,a),zn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function xy(e){return new q0({type:"optional",innerType:e})}const UR=_e("ZodNullable",(e,a)=>{UA.init(e,a),zn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function Ny(e){return new UR({type:"nullable",innerType:e})}const LR=_e("ZodDefault",(e,a)=>{LA.init(e,a),zn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function BR(e,a){return new LR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():x0(a)}})}const qR=_e("ZodPrefault",(e,a)=>{BA.init(e,a),zn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function IR(e,a){return new qR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():x0(a)}})}const I0=_e("ZodNonOptional",(e,a)=>{qA.init(e,a),zn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function $R(e,a){return new I0({type:"nonoptional",innerType:e,...nt(a)})}const FR=_e("ZodCatch",(e,a)=>{IA.init(e,a),zn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function HR(e,a){return new FR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const VR=_e("ZodPipe",(e,a)=>{$A.init(e,a),zn.init(e,a),e.in=a.in,e.out=a.out});function Sy(e,a){return new VR({type:"pipe",in:e,out:a})}const ZR=_e("ZodReadonly",(e,a)=>{FA.init(e,a),zn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function GR(e){return new ZR({type:"readonly",innerType:e})}const PR=_e("ZodCustom",(e,a)=>{HA.init(e,a),zn.init(e,a)});function QR(e,a={}){return zO(PR,e,a)}function YR(e){return kO(e)}const KR=["correlativo","no correlativo"],XR=ju({oi:tu().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:la(),alcance:la(),pma:la().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:B0(KR).default("correlativo")}),Yf=ju({c1:la().optional().nullable(),c2:la().optional().nullable(),c3:la().optional().nullable(),c4:la().optional().nullable(),c5:la().optional().nullable(),c6:la().optional().nullable(),c7:tu().optional().nullable(),c7_seconds:la().optional().nullable(),caudal:la().optional().nullable(),error:la().optional().nullable()}),JR=ju({medidor:tu().optional(),estado:la().int().min(0).max(5).default(0),q3:Yf.optional(),q2:Yf.optional(),q1:Yf.optional(),conformidad:tu().optional()});ju({estado:la().int().min(0).optional(),rows:la().int().min(1).default(15),rowsData:L0(JR)});function WR(e){return e===16?25.6:e===10?16:NaN}const eT=/^[A-Za-z0-9]{10}$/,tT=e=>(e??"").trim().toUpperCase(),mn=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},$l=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],zm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},jy=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}zm(a)}},Un=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function nT(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const i=s[1],c=s[2],d=parseInt(c,10)+a;return`${i}${d.toString().padStart(c.length,"0")}`}function wy(e,a,s){return e?s==="no correlativo"?e.slice(0,4):nT(e,a):""}function Kf(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let i=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,f=s[2]||0;i=c*60+d+f/1e3}else if(s.length===2)i=s[0]*60+(s[1]||0);else if(s.length===1)i=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),f=(c-d)*100;i=d*60+f}}return i}function Xf(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function Jf(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function aT(e,a,s,i){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||i==null)return"";const c=Math.abs(a),d=Math.abs(s),f=Math.abs(i),h=!(c>2.05||d>2.05||f>5.05),v=c<1.05||d<1.05||f<2.55,p=Math.sign(a),y=Math.sign(s),x=Math.sign(i),S=p>=0&&y>=0&&x>=0||p<=0&&y<=0&&x<=0,I=h&&v;return S?I?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const Fl=({val:e,isErr:a,warnThreshold:s,failThreshold:i})=>{const c=p=>{const y=Number(p.toFixed(1));return Object.is(y,-0)?"0.0":y.toFixed(1)};if(!a)return l.jsx("td",{className:"vi-surface-2",children:e==null||isNaN(e)?l.jsx("span",{className:"text-muted",children:"-"}):l.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),f=s??i??0,h=i??s??0;let v="vi-e-ok";return e==null||isNaN(e)?v="":h>0&&d>h?v="vi-e-error":f>0&&d>f&&(v="vi-e-warn"),l.jsx("td",{className:"vi-surface-2",children:e==null||isNaN(e)?l.jsx("span",{className:"text-muted",children:"-"}):l.jsx("span",{className:`vi-qe-value fw-bold ${v}`,children:c(e)})})};function sT({show:e,title:a,initial:s,onClose:i,onSubmit:c,onCancelWithDraft:d,numerationType:f,duplicateMap:h,onClearDuplicate:v,readOnly:p,draftStorageKey:y,draftMeta:x,isOnline:S,showRetry:I}){const E={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},A=p===!0,_=S!==!1,{register:q,control:D,handleSubmit:J,reset:U,setValue:T,getValues:G}=ou({defaultValues:E}),L=q("rows",{valueAsNumber:!0}),{fields:ee,replace:ue,append:Ee,remove:je}=A_({control:D,name:"rowsData"}),[ie,we]=g.useState(0),ke=g.useRef(0),Te=g.useRef(null),[M,F]=g.useState(0),ae=0,xe=5,Ce=()=>{if(M>=xe){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}F(X=>Math.min(X+1,xe))},w=()=>{if(M<=ae){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}F(X=>Math.max(X-1,ae))},Y=g.useRef(null),[de,k]=g.useState([]),fe=!!s?.version,me=g.useRef("rows"),ze=g.useRef(null),qe=g.useRef(null),ge=g.useRef(null),Ue=g.useRef(new Map),Ie=["c1","c2","c3","c4","c5","c6","c7"];g.useEffect(()=>{s?.rowsData?.length&&ee.forEach((X,W)=>{if(W===0)return;s.rowsData[W]?.medidor&&Ue.current.set(X.id,!0)})},[s,ee]);const Xe=g.useCallback(X=>{const W=X<0?0:X;we(W),requestAnimationFrame(()=>{const Oe=document.querySelector(`input.vi-medidor-input[data-row="${W}"]`);Oe&&(Oe.focus(),Oe.select())})},[]),lt=()=>(G("rowsData")??[]).slice(0,ee.length);g.useEffect(()=>{ke.current=ie},[ie]);const De=X=>{const W=X.target;if(!W)return;const Oe=W.tagName;if(Oe!=="INPUT"&&Oe!=="SELECT"&&Oe!=="TEXTAREA")return;const Fe=X.key;if(Fe==="Escape"){X.preventDefault(),Pn();return}if(Fe==="ArrowUp"||Fe==="ArrowDown"||Fe==="ArrowLeft"||Fe==="ArrowRight"||Fe==="Enter"){const Qt=W.name;if(!Qt||!Qt.startsWith("rowsData."))return;const At=Qt.match(/^rowsData\.(\d+)\.(.+)$/);if(!At)return;const ut=parseInt(At[1],10),bt=At[2],zt=X.currentTarget,kt=ee.length-1,on=(pn,en)=>{let Ot=pn+en;for(;Ot>=0&&Ot<=kt;){const yn=`[name="rowsData.${Ot}.${bt}"]`,Et=zt.querySelector(yn);if(Et&&!Et.disabled)return{index:Ot,el:Et};Ot+=en}return null};if(Fe==="ArrowUp"||Fe==="ArrowDown"){X.preventDefault();const en=on(ut,Fe==="ArrowUp"?-1:1);en&&jy(bt,en.el);return}if(Fe==="ArrowLeft"||Fe==="ArrowRight"){X.preventDefault();const pn=$l.indexOf(bt);if(pn===-1)return;const Ot=pn+(Fe==="ArrowRight"?1:-1);if(Ot<0||Ot>=$l.length)return;const yn=$l[Ot],Et=`[name="rowsData.${ut}.${yn}"]`,xn=zt.querySelector(Et);xn&&!xn.disabled&&zm(xn);return}if(Fe==="Enter"){X.preventDefault();const pn=$l.indexOf(bt);if(pn===-1)return;const en=on(ut,1);if(en){jy(bt,en.el);return}const Ot=pn+1;if(Ot<$l.length){const yn=$l[Ot];for(let Et=0;Et<=kt;Et++){const xn=`[name="rowsData.${Et}.${yn}"]`,Yn=zt.querySelector(xn);if(Yn&&!Yn.disabled){zm(Yn);return}}}Y.current&&Y.current.focus();return}}if(Fe!=="Tab")return;const st=X.currentTarget,et=Array.from(st.querySelectorAll("input, select, textarea")).filter(vt=>!vt.hasAttribute("disabled")),Ke=et.indexOf(W);if(Ke===-1)return;if(Fe==="Tab"&&X.shiftKey){Ke>0&&(X.preventDefault(),et[Ke-1].focus());return}const Ct=Ke+1;if(Ct<et.length){X.preventDefault(),et[Ct].focus();return}Y.current&&(X.preventDefault(),Y.current.focus())},Pe=(X,W)=>{ue(X),T("rows",X.length),we(Oe=>X.length===0?0:typeof W=="number"?Math.max(0,Math.min(W,X.length-1)):Math.min(Oe,X.length-1))},ve=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Ze=X=>X==null?"":typeof X=="number"?X:typeof X=="string"?X.replace(",","."):X,Ae=X=>{if(!X)return{};const W={...X};return["c1","c2","c3","c4","c5","c6"].forEach(Oe=>{W[Oe]=Ze(W[Oe])}),W},Je=()=>{const X=s?.rowsData?.length??s?.rows??15,W=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:X}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(Oe=>({medidor:Oe.medidor??"",estado:Oe.estado??0,q3:Ae(Oe.q3),q2:Ae(Oe.q2),q1:Ae(Oe.q1)}));return{rows:W.length,rowsData:W,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},C=g.useCallback(()=>{const X=G(),W=X.rowsData??[];return{estado:X.estado??0,rows:Number(X.rows??W.length),version:X.version??s?.version??null,rowsData:W,draftCreatedAt:X.draftCreatedAt??s?.draftCreatedAt??null,draftId:X.draftId??s?.draftId??null}},[G,s?.version,s?.draftCreatedAt,s?.draftId]),Q=X=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:X}:null,R=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,P=X=>X==null||X===""||typeof X=="number"&&Number.isNaN(X),Z=X=>X?Number(X.estado??0)!==0||X.medidor&&X.medidor.toString().trim()!==""?!0:Re(X):!1,le=X=>(X.rowsData??[]).some(Oe=>Z(Oe)),Re=X=>{const W=[X.q3,X.q2,X.q1];for(const Oe of W)if(Oe){for(const Fe of Ie)if(!P(Oe[Fe]))return!0}return!1},Be=X=>X?{...X,c4:null,c5:null}:{c4:null,c5:null},se=X=>{if(!X)return X;const W={...X};return P(W.c4)&&(W.c4=null),P(W.c5)&&(W.c5=null),W},Le=X=>{for(let W=0;W<X.length;W++){const Oe=X[W],Fe=Number(Oe.estado??0),st=Fe!==0;if(!Z(Oe))continue;if(!Oe.medidor||Oe.medidor.toString().trim()==="")return`La fila ${W+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Ke=[{name:"Q3 (Nominal)",block:Oe.q3},{name:"Q2 (Transicin)",block:Oe.q2},{name:"Q1 (Mnimo)",block:Oe.q1}],Kt=Ke.some(({block:Ct})=>Ct&&Ie.some(vt=>!P(Ct[vt])));if(Fe===0&&!Kt)return`La fila ${W+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!st)for(const{name:Ct,block:vt}of Ke){if(!vt||!Ie.some(ut=>!P(vt[ut])))continue;if(Ie.some(ut=>P(vt[ut])))return`La fila ${W+1} tiene datos incompletos en el bloque ${Ct}. Completa todos los campos o elimina la fila.`}}return null},He=X=>X==null||X===""?null:String(X).replace(/\./g,","),it=X=>{if(!X)return{};const W={...X};return["c1","c2","c3","c4","c5","c6","c7"].forEach(Oe=>{W[Oe]=He(W[Oe])}),W},Gt=X=>{const W=[];let Oe=null;const Fe=(et,Ke,Kt)=>{W[et]||(W[et]={}),W[et][Ke]=Kt,Oe||(Oe=`Fila ${et+1}: ${Kt}`)},st={};return X.forEach(et=>{const Ke=(et.medidor??"").trim();Ke&&(st[Ke]=(st[Ke]??0)+1)}),X.forEach((et,Ke)=>{const Kt=et.q3||{},Ct=et.q2||{},vt=et.q1||{},Qt=Kt.c4,At=Kt.c5,ut=Ct.c4,bt=Ct.c5,zt=vt.c4,kt=vt.c5;Qt!=null&&At!=null&&!Number.isNaN(Qt)&&!Number.isNaN(At)&&At<Qt&&Fe(Ke,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),ut!=null&&bt!=null&&!Number.isNaN(ut)&&!Number.isNaN(bt)&&bt<ut&&Fe(Ke,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),zt!=null&&kt!=null&&!Number.isNaN(zt)&&!Number.isNaN(kt)&&kt<zt&&Fe(Ke,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),At!=null&&ut!=null&&!Number.isNaN(At)&&!Number.isNaN(ut)&&ut<At&&Fe(Ke,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),bt!=null&&zt!=null&&!Number.isNaN(bt)&&!Number.isNaN(zt)&&zt<bt&&Fe(Ke,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const on=(et.medidor??"").trim();on&&st[on]>1&&Fe(Ke,"medidor_dup","Serie de medidor repetida."),on&&!eT.test(on)&&Fe(Ke,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:W,firstMessage:Oe}},Ne=X=>{if(A)return;const W=(X.rowsData??[]).slice(0,ee.length),Oe=Le(W);if(Oe){alert(Oe);return}const{rowErrors:Fe,firstMessage:st}=Gt(W);if(k(Fe),st){alert(st);return}const Ke=W.filter(Z).map(Ct=>{const vt=Number(Ct.estado??0),Qt=vt>=1&&vt<=4,At=vt===5&&!Re(Ct),ut=Qt||At,bt=se(Ct.q3),zt=se(Ct.q2),kt=se(Ct.q1),on=pn=>{if(ut){const en=Be(pn);return it(en)}return it(pn)};return{...Ct,q3:on(bt),q2:on(zt),q1:on(kt)}}),Kt={...X,rows:Ke.length,rowsData:Ke,version:X.version??s?.version??null};c(Kt)},tt=Ki({control:D,name:"rowsData.0"}),Pt=Ki({control:D,name:"rowsData"}),_t=Ki({control:D,name:"rowsData.0.q3.c7"}),It=Ki({control:D,name:"rowsData.0.q2.c7"}),hn=Ki({control:D,name:"rowsData.0.q1.c7"});g.useEffect(()=>{ee[0]&&(T("rowsData.0.q3.c7_seconds",Kf(_t)),T("rowsData.0.q2.c7_seconds",Kf(It)),T("rowsData.0.q1.c7_seconds",Kf(hn)))},[_t,It,hn,T,ee]),g.useEffect(()=>{const X=Pt??[],{rowErrors:W}=Gt(X);k(W)},[Pt]),g.useEffect(()=>{if(!tt||ee.length<=1)return;const X=Pt??[];ee.forEach((W,Oe)=>{if(Oe===0)return;const Fe=W.id;(Ue.current.get(Fe)??!1)||T(`rowsData.${Oe}.medidor`,wy(tt.medidor||"",Oe,f));const et=X[Oe]?.estado;(et==null||Number.isNaN(et))&&T(`rowsData.${Oe}.estado`,tt.estado),T(`rowsData.${Oe}.q3.c1`,tt.q3?.c1??null),T(`rowsData.${Oe}.q3.c2`,tt.q3?.c2??null),T(`rowsData.${Oe}.q3.c3`,tt.q3?.c3??null),T(`rowsData.${Oe}.q3.c6`,tt.q3?.c6??null),T(`rowsData.${Oe}.q3.c7`,tt.q3?.c7??""),T(`rowsData.${Oe}.q3.c7_seconds`,tt.q3?.c7_seconds??null),T(`rowsData.${Oe}.q2.c1`,tt.q2?.c1??null),T(`rowsData.${Oe}.q2.c2`,tt.q2?.c2??null),T(`rowsData.${Oe}.q2.c3`,tt.q2?.c3??null),T(`rowsData.${Oe}.q2.c6`,tt.q2?.c6??null),T(`rowsData.${Oe}.q2.c7`,tt.q2?.c7??""),T(`rowsData.${Oe}.q2.c7_seconds`,tt.q2?.c7_seconds??null),T(`rowsData.${Oe}.q1.c1`,tt.q1?.c1??null),T(`rowsData.${Oe}.q1.c2`,tt.q1?.c2??null),T(`rowsData.${Oe}.q1.c3`,tt.q1?.c3??null),T(`rowsData.${Oe}.q1.c6`,tt.q1?.c6??null),T(`rowsData.${Oe}.q1.c7`,tt.q1?.c7??""),T(`rowsData.${Oe}.q1.c7_seconds`,tt.q1?.c7_seconds??null)})},[tt,Pt,ee,T,f]),g.useEffect(()=>{we(X=>{const W=Math.max(ee.length-1,0);return X>W?W:X})},[ee.length]);const Vn=()=>{if(ee.length>=50){if(T("rows",50),Xe(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){Te.current&&(Te.current.focus(),Te.current.select());return}return}Ee(ve()),T("rows",ee.length+1),Xe(ee.length)},Zn=X=>{if(ee.length<=1)return;const W=Math.max(0,Math.min(X,ee.length-1));je(W),T("rows",Math.max(ee.length-1,1)),Xe(Math.max(0,W-(W===ee.length-1?1:0)))},ct=()=>{ee.length<=1||(je(ee.length-1),T("rows",Math.max(ee.length-1,1)),Xe(Math.max(0,ee.length-2)))},Gn=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const X=lt();if(!X.length)return;const W=X.map(()=>ve());Pe(W,0),Xe(0)},Ln=()=>{let X=Number(G("rows"));if((!Number.isFinite(X)||X<1)&&(X=1),X>50){const Fe=lt();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){T("rows",Fe.length),Te.current&&(Te.current.focus(),Te.current.select());return}X=50}const W=lt();if(X!==W.length&&!confirm(`La lista tendr ${X} filas. Quieres continuar?`)){T("rows",W.length),Te.current&&(Te.current.focus(),Te.current.select());return}if(X===W.length){T("rows",X);return}if(X>W.length){const Fe=Math.min(X,50)-W.length;if(Fe>0){const st=Array.from({length:Fe},()=>ve()),et=[...W,...st];Pe(et,ie),Xe(W.length)}else T("rows",W.length);return}const Oe=W.slice(0,X);Pe(Oe,Math.min(ie,X-1))},ta=X=>{X.key==="Enter"&&(X.preventDefault(),Ln(),Xe(0))},Pn=()=>{const X=G(),W=document.activeElement;if(Te.current&&W===Te.current)me.current="rows",ze.current="rows";else if(W&&W instanceof HTMLElement){const Oe=W.getAttribute("name");Oe&&Oe.startsWith("rowsData.")?(me.current="grid",ze.current=Oe):(me.current="grid",ze.current=null)}else me.current="grid",ze.current=null;if(y){const Oe=C();if(!le(Oe))hr(y),ge.current=null;else{const Fe=Q(Oe);if(Fe){const st=JSON.stringify(Fe);ao(y,Fe,R()),ge.current=st}}}d&&d(X),i()};g.useEffect(()=>{if(!e)return;const X=W=>{if(W.key==="Escape"){W.preventDefault(),Pn();return}if((W.key==="+"||W.key==="=")&&W.ctrlKey){W.preventDefault(),Vn();return}(W.key==="-"||W.key==="_")&&W.ctrlKey&&(W.preventDefault(),ct())};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[e,Vn,ct,Pn]),g.useEffect(()=>{const X=Je();U(X),Pe(X.rowsData,0),Ue.current.clear(),requestAnimationFrame(()=>{if(fe)Xe(0);else if(ze.current){const W=document.querySelector(`[name="${ze.current}"]`);if(W){W.focus(),"select"in W&&W.select?.();return}Xe(ke.current||0)}else Te.current&&(Te.current.focus(),Te.current.select())})},[s,U,ue,Xe,fe]),g.useEffect(()=>{if(!e||!y)return;const X=C();if(!le(X)){hr(y),ge.current=null;return}const W=Q(X);if(!W)return;const Oe=JSON.stringify(W);if(Oe!==ge.current)return qe.current&&window.clearTimeout(qe.current),qe.current=window.setTimeout(()=>{ao(y,W,R()),ge.current=Oe},400),()=>{qe.current&&window.clearTimeout(qe.current)}},[e,y,Pt,C]),g.useEffect(()=>{e&&requestAnimationFrame(()=>{if(fe)Xe(0);else if(ze.current){const X=document.querySelector(`[name="${ze.current}"]`);if(X){X.focus(),"select"in X&&X.select?.();return}Xe(ke.current||0)}else Te.current&&(Te.current.focus(),Te.current.select())})},[e,Xe,fe]);const Qn=de.some(X=>X&&Object.values(X).some(Boolean));return e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:X=>{X.target===X.currentTarget&&Pn()},children:[l.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (theme-aware) */
        .vi-spreadsheet {
          background-color: var(--vi-grid-bg);
          color: var(--vi-grid-text);
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: var(--vi-grid-head-bg);
          color: var(--vi-grid-head-text);
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet td.vi-at-valor {
          color: var(--vi-grid-text) !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: var(--vi-grid-row-index-text);
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: var(--vi-grid-row-index-bg); /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: var(--vi-grid-head-bg);
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: var(--vi-grid-base-row-bg) !important;
          color: var(--vi-grid-row-index-text) !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: var(--c-primary) !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: var(--vi-grid-active-bg) !important;
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: var(--vi-grid-input-bg);
          color: var(--vi-grid-active-text);
          border-color: var(--vi-grid-input-active-border);
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: var(--vi-grid-active-bg) !important;
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: var(--vi-grid-input-bg);
          border-color: var(--vi-grid-input-border);
          color: var(--vi-grid-input-text);
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: var(--vi-grid-disabled-bg);
          color: var(--vi-grid-disabled-text);
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: var(--vi-grid-at-fail-text) !important;
          background-color: var(--vi-grid-at-fail-bg);
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: var(--vi-grid-at-ok-text) !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: var(--vi-grid-e-ok); /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: var(--vi-grid-e-warn); /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: var(--vi-grid-e-error); /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: var(--vi-grid-input-active-bg) !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: var(--vi-grid-error-border) !important;
          background-color: var(--vi-grid-error-bg) !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),l.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:l.jsx("div",{className:"modal-content",children:l.jsxs("form",{onSubmit:J(Ne),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:a}),l.jsx("button",{type:"button",className:"btn-close",onClick:Pn,"aria-label":"Close"})]}),l.jsx("fieldset",{disabled:A,children:l.jsxs("div",{className:"modal-body p-2",children:[!_&&l.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),l.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[l.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[l.jsx("label",{className:"form-label mb-1",children:"Filas"}),l.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...L,ref:X=>{Te.current=X,L.ref(X)},onBlur:Ln,onKeyDown:ta})]}),l.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Vn,children:"+ Agregar Fila"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:ct,children:"- Quitar ltima fila"}),l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:Gn,children:"Limpiar Todo"})]}),l.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:Ce,children:"Aumentar tamao"}),l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:w,children:"Reducir tamao"})]}),l.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",ie+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),l.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:l.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${M}`,children:[l.jsxs("thead",{className:"vi-surface-2 sticky-top z-1",children:[l.jsxs("tr",{children:[l.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),l.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),l.jsx("th",{style:{width:"90px"},children:"Estado"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q3"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q2"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q1"}),l.jsx("th",{className:"bg-warning vi-text-contrast border-start vi-border vi-header-at",style:{width:"100px"},children:"Conformidad"}),l.jsx("th",{className:"vi-surface-2 vi-text vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),l.jsxs("tr",{style:{fontSize:"0.75rem"},children:[l.jsx("th",{className:"vi-row-index"}),l.jsx("th",{className:"vi-sticky-medidor"}),l.jsx("th",{}),l.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),l.jsx("th",{title:"T (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q3"}),l.jsx("th",{title:"U (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{className:"vi-min-width border-start vi-border",title:"V",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),l.jsx("th",{title:"AF (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q2"}),l.jsx("th",{title:"AG (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{className:"vi-min-width border-start vi-border",title:"AH",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),l.jsx("th",{title:"AR (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q1"}),l.jsx("th",{title:"AS (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{title:"AT (Conformidad)",className:"bg-warning vi-text-contrast vi-header-at",children:"Estado"}),l.jsx("th",{className:"vi-header-quitar"})]})]}),l.jsx("tbody",{onKeyDown:De,children:ee.map((X,W)=>{const Oe=W===0,Fe=Pt?.[W]||{},st=de[W]||{},et=Number(Fe.estado??0),Ke=et>=1&&et<=4,Kt=Fe.q3?.c6,Ct=Fe.q3?.c7_seconds,vt=Fe.q3?.c4,Qt=Fe.q3?.c5,At=Xf(Kt,Ct),ut=Jf(vt,Qt,Kt),bt=Fe.q2?.c6,zt=Fe.q2?.c7_seconds,kt=Fe.q2?.c4,on=Fe.q2?.c5,pn=Xf(bt,zt),en=Jf(kt,on,bt),Ot=Fe.q1?.c6,yn=Fe.q1?.c7_seconds,Et=Fe.q1?.c4,xn=Fe.q1?.c5,Yn=Xf(Ot,yn),kn=Jf(Et,xn,Ot),Mt=aT(Fe.estado,ut,en,kn),qs=[Oe?"vi-base-row":"",ie===W?"table-active":""].filter(Boolean).join(" "),ca=q(`rowsData.${W}.medidor`),Nn=tT(Fe.medidor??""),Kn=Nn?h?.[Nn]?.message:"",Ja=st.medidor_format||st.medidor_dup||Kn||"",Wa=!!Ja,ua=(Mt||"").toUpperCase(),Bn=ua==="NO CONFORME"?"vi-at-valor--fail":ua==="CONFORME"?"vi-at-valor--ok":"";return l.jsxs("tr",{className:qs,onMouseEnter:()=>we(W),onClick:()=>we(W),onFocusCapture:()=>we(W),children:[l.jsx("td",{className:"small vi-row-index",children:W+1}),l.jsx("td",{className:"vi-sticky-medidor",children:l.jsx("input",{"data-row":W,"data-row-id":X.id,...ca,size:1,style:{minWidth:"100%"},disabled:Ke,onInput:mn,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Wa?"vi-error-cell":""].filter(Boolean).join(" "),title:Ja||"",onChange:tn=>{const _a=G(`rowsData.${W}.medidor`);if(ca.onChange(tn),v?.(_a),W===0)return;const Xn=tn.currentTarget.value.trim();if(!Xn){Ue.current.delete(X.id);return}const nn=wy(tt?.medidor??"",W,f);nn&&nn===Xn?Ue.current.delete(X.id):Ue.current.set(X.id,!0)}})}),l.jsx("td",{children:l.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...q(`rowsData.${W}.estado`,{valueAsNumber:!0}),children:[l.jsx("option",{value:0,children:"0"}),l.jsx("option",{value:1,children:"1"}),l.jsx("option",{value:2,children:"2"}),l.jsx("option",{value:3,children:"3"}),l.jsx("option",{value:4,children:"4"}),l.jsx("option",{value:5,children:"5"})]})}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q3.c1`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q3.c2`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q3.c3`,{setValueAs:Un})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:mn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(st.q3_li?" vi-error-cell":""),title:st.q3_li||"",...q(`rowsData.${W}.q3.c4`,{setValueAs:Un})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:mn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(st.q3_lf?" vi-error-cell":""),title:st.q3_lf||"",...q(`rowsData.${W}.q3.c5`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q3.c6`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q3.c7`),placeholder:"m,ss,ms"})}),l.jsx(Fl,{val:At}),l.jsx(Fl,{val:ut,isErr:!0,warnThreshold:2,failThreshold:5}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q2.c1`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q2.c2`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q2.c3`,{setValueAs:Un})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:mn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(st.q2_li?" vi-error-cell":""),title:st.q2_li||"",...q(`rowsData.${W}.q2.c4`,{setValueAs:Un})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:mn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(st.q2_lf?" vi-error-cell":""),title:st.q2_lf||"",...q(`rowsData.${W}.q2.c5`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q2.c6`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q2.c7`),placeholder:"m,ss,ms"})}),l.jsx(Fl,{val:pn}),l.jsx(Fl,{val:en,isErr:!0,warnThreshold:2,failThreshold:5}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q1.c1`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q1.c2`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q1.c3`,{setValueAs:Un})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:mn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(st.q1_li?" vi-error-cell":""),title:st.q1_li||"",...q(`rowsData.${W}.q1.c4`,{setValueAs:Un})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:mn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(st.q1_lf?" vi-error-cell":""),title:st.q1_lf||"",...q(`rowsData.${W}.q1.c5`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q1.c6`,{setValueAs:Un})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:mn,disabled:!Oe||Ke,...q(`rowsData.${W}.q1.c7`),placeholder:"m,ss,ms"})}),l.jsx(Fl,{val:Yn}),l.jsx(Fl,{val:kn,isErr:!0,warnThreshold:5,failThreshold:5}),l.jsx("td",{className:`vi-surface-2 border-start fw-bold small text-center vi-at-valor ${Bn}`,children:Mt}),l.jsx("td",{className:"text-center align-middle vi-surface-2",children:l.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:tn=>{tn.stopPropagation(),Zn(W)},disabled:ee.length<=1,title:"Eliminar esta fila",children:""})})]},X.id)})})]})})]})}),l.jsxs("div",{className:"modal-footer py-1",children:[l.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Pn,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:Y,disabled:Qn||A,children:I&&_?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),l.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function wu({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:i="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[f,h]=g.useState(""),v=g.useRef(null),p=f.trim().length>0;if(g.useEffect(()=>{e&&(h(""),setTimeout(()=>v.current?.focus(),0))},[e]),g.useEffect(()=>{if(!e)return;const x=S=>{S.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const y=x=>{x.preventDefault(),p&&d(f.trim())};return l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:y,children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"mb-3",children:[l.jsx(co,{label:"Contrasea",inputId:"pwd",value:f,onChange:x=>h(x.target.value),inputRef:v,minLength:1,required:!0}),l.jsx("div",{className:"form-text",children:i})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:c,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function rT(e,a){try{const{data:s}=await Ye.put(`/oi/${e}`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function lT(e,a){try{const{data:s}=await Ye.patch(`/oi/${e}/code`,{code:a});return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar el codigo de la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function iT(e,a){try{const{data:s}=await Ye.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function oT(e){try{const{data:a}=await Ye.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function _y(e,a){try{const{data:s}=await Ye.post(`/oi/${e}/bancadas`,a);return s}catch(s){const i=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof i=="string"?c=i:i&&typeof i=="object"&&(c=i.message??i.detail??c);const d=s?.response?.data?.duplicates??(i&&typeof i=="object"?i.duplicates:void 0),f=new Error(c);throw f.status=s?.response?.status,Array.isArray(d)&&(f.duplicates=d),f}}async function cT(e,a){try{const{data:s}=await Ye.put(`/oi/bancadas/${e}`,a);return s}catch(s){const i=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof i=="string"?c=i:i&&typeof i=="object"&&(c=i.message??i.detail??c);const d=s?.response?.data?.duplicates??(i&&typeof i=="object"?i.duplicates:void 0),f=new Error(c);throw f.status=s?.response?.status,Array.isArray(d)&&(f.duplicates=d),f}}async function uT(e,a){try{const{data:s}=await Ye.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(i);throw c.status=s?.response?.status,c}}async function dT(e,a){try{const{data:s}=await Ye.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(i);throw c.status=s?.response?.status,c}}async function Ey(e){try{await Ye.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function $0(e,a){let s;try{s=await Ye.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let y=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const S=await x.text();try{const E=JSON.parse(S)?.detail;typeof E=="string"?y=E:Array.isArray(E)&&E.length>0?y=E.map(A=>String(A?.msg??"")).filter(Boolean).join(", "):S&&(y=S)}catch{S&&(y=S)}}catch{}else y=p?.response?.data?.detail??y;throw new Error(y)}const i=s.data,f=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(i),v=document.createElement("a");v.href=h,v.download=f,document.body.appendChild(v),v.click(),URL.revokeObjectURL(h),v.remove()}async function fT(e){await Ye.delete(`/oi/${e}`)}async function mT(e){try{const{data:a}=await Ye.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",i=new Error(s);throw i.status=a?.response?.status,i}}async function Mc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:i}=await Ye.delete(`/oi/${e}/lock`,s);return i}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function hT(e,a){try{const{data:s}=await Ye.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(i);throw c.status=s?.response?.status,c}}async function Wf(e){try{const{data:a}=await Ye.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function pT(e){try{const{data:a}=await Ye.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function gT(e){let a;try{a=await Ye.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(f){let h=f?.message??"No se pudo exportar el CSV";const v=f?.response?.data;if(v instanceof Blob)try{const y=await v.text();try{const S=JSON.parse(y)?.detail;typeof S=="string"?h=S:Array.isArray(S)&&S.length>0?h=S.map(I=>String(I?.msg??"")).filter(Boolean).join(", "):y&&(h=y)}catch{y&&(h=y)}}catch{}else h=f?.response?.data?.detail??h;const p=new Error(h);throw p.status=f?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function bT(){try{const{data:e}=await Ye.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function em(e){try{const{data:a}=await Ye.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const vh="vi.currentOI";function so(e){sessionStorage.setItem(vh,JSON.stringify(e))}function Cy(){const e=sessionStorage.getItem(vh);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function km(){sessionStorage.removeItem(vh)}const tm=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},nm=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},vT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:tm(e.q3),q2:tm(e.q2),q1:tm(e.q1)}),yT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:nm(e.q3),q2:nm(e.q2),q1:nm(e.q1)}),F0=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),xT=e=>e.reduce((a,s)=>a+(s.rows??0),0),NT=e=>JSON.parse(JSON.stringify(e)),Ay=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),Oy=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:F0(e),ST=(e,a)=>e==="view"&&a?"view":"edit",Ry=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${i.getFullYear()}-${c(i.getMonth()+1)}-${c(i.getDate())}T${c(i.getHours())}:${c(i.getMinutes())}`},jT=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},H0=e=>(e??"").trim().toUpperCase(),wT=e=>{const a={};e.forEach(i=>{const c=H0(i.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),i.bancada_item!=null&&!a[c].items.includes(i.bancada_item)&&a[c].items.push(i.bancada_item),i.bancada_id!=null&&!a[c].ids.includes(i.bancada_id)&&a[c].ids.push(i.bancada_id))});const s={};return Object.entries(a).forEach(([i,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,v)=>h-v).join(", ")} de esta misma OI.`),s[i]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},_T="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",ET=(e,a=!0)=>{const i=g.useContext(Ya)?.navigator;g.useEffect(()=>{if(!a||!i||typeof i.block!="function")return;const c=i.block(d=>{const f={...d,retry(){c(),d.retry()}};e(f)});return c},[i,e,a])},CT=e=>{const a=Ye.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},AT=()=>{const[e,a]=g.useState(typeof navigator<"u"?navigator.onLine:!0);return g.useEffect(()=>{const s=()=>a(!0),i=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",i),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}},[]),e},Uc=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function Ty(){const{toast:e}=el(),a=Wr(),s=oa(),{oiId:i}=zj(),[c,d]=sx(),f=AT(),{data:h}=Qr({queryKey:["catalogs"],queryFn:oh}),{register:v,handleSubmit:p,watch:y,formState:{errors:x},reset:S,getValues:I}=ou({resolver:BO(XR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),E=Dn(),A=E?.userId??null,_=E?.bancoId??oo(),q=Pa(E?.role,E?.username)!=="technician",D=Cy(),J=i?Number(i):null,U=Number.isFinite(J)?J:null,T=U!=null||(D?.id??null)!=null,G=(c.get("mode")||"").toLowerCase(),L=ST(G,T),ee=L==="view",ue=L==="edit",[Ee,je]=g.useState(!1),[ie,we]=g.useState(!1),[ke,Te]=g.useState(null),[M,F]=g.useState(null),[ae,xe]=g.useState(!1),Ce=ie||ee,[w,Y]=g.useState(!1),[de,k]=g.useState(null),[fe,me]=g.useState(null),[ze,qe]=g.useState(null),[ge,Ue]=g.useState(!1),[Ie,Xe]=g.useState(""),[lt,De]=g.useState(null),[Pe,ve]=g.useState("bancada"),[Ze,Ae]=g.useState(!1),[Je,C]=g.useState(!1),[Q,R]=g.useState(null),P=g.useRef([]),Z=g.useRef(null),le=g.useRef(!1),Re=g.useRef(!1),Be=g.useRef(!1),se=g.useRef(null),Le=g.useRef(!1),He=g.useRef(f),it=g.useRef(!1),Gt=g.useRef(!1),[Ne,tt]=g.useState(null),[Pt,_t]=g.useState(null),[It,hn]=g.useState([]),[Vn,Zn]=g.useState(!1),[ct,Gn]=g.useState(null),[Ln,ta]=g.useState(!1),[Pn,Qn]=g.useState(null),[X,W]=g.useState(0),[Oe,Fe]=g.useState({}),[st,et]=g.useState({}),Ke=s.state?.returnTo,Kt=()=>typeof Ke=="string"&&Ke?Ke:"/oi/list",Ct=O=>{const $=new URLSearchParams(c);$.set("mode",O),d($,{replace:!0})},vt="new",Qt=15,At=O=>O?`bancada-${O.id}`:vt,ut=O=>O==null?!1:typeof O=="string"?O.trim()!=="":typeof O=="number"?Number.isFinite(O):!0,bt=O=>O==="c7_seconds"||O==="caudal"||O==="error",zt=O=>O?Object.entries(O).some(([$,he])=>bt($)?!1:ut(he)):!1,kt=O=>!O||!Array.isArray(O.rowsData)?!1:O.rowsData.some($=>{if(!$)return!1;if(Number($.estado??0)!==0)return!0;const Me=$.medidor;return typeof Me=="string"&&Me.trim()!==""?!0:zt($.q3)||zt($.q2)||zt($.q1)}),on=(O=Qt)=>Array.from({length:O}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),pn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,en=O=>({draftId:pn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:Qt,rowsData:on(),version:null}),Ot=O=>{const $=new URLSearchParams(s.search);$.set("mode","edit");const he=s.pathname==="/oi"||s.pathname==="/oi/"?O?`/oi/${O}`:"/oi":s.pathname,Me=$.toString();return Me?`${he}?${Me}`:he},yn=(O,$)=>!O||!A||_==null?null:{version:1,ts:new Date().toISOString(),userId:A,bankId:_,oiId:O,oiCode:I("oi")??null,returnTo:Ot(O),mode:"edit",modal:$},Et=()=>{if(Vn)return ct?{type:"bancada",bancadaId:ct.id}:{type:"bancada",isNew:!0}},xn=O=>Hf({userId:A,bankId:_,oiId:O,type:"bancada",isNew:!0}),Yn=O=>{const $=xn(O);if(!$)return null;const he=Vf($);if(!he||!A||_==null||!O||he.userId!==A||he.bankId!==_||he.oiId!==O)return null;const Me=he?.data??null;return kt(Me)?Me:(hr($),null)},kn=(O,$)=>{const he=xn(O);if(!he)return;if(!$||!kt($)){hr(he);return}if(!A||_==null||!O)return;const Me={version:1,ts:new Date().toISOString(),userId:A,bankId:_,oiId:O,isNew:!0,data:$},rt=yn(O,{type:"bancada",isNew:!0});ao(he,Me,rt)},Mt=O=>Hf({userId:A,bankId:_,oiId:O,type:"header"}),qs=O=>{if(!O)return null;const $=Vf(O);return!$||!A||_==null||$.userId!==A||$.bankId!==_||Ne!=null&&$.oiId!==Ne?null:$?.data??null},ca=(O,$)=>{if(!O||!A||_==null)return;const he=Ne??0,Me={version:1,ts:new Date().toISOString(),userId:A,bankId:_,oiId:he,data:$},rt=yn(Ne,Et());ao(O,Me,rt)},Nn=O=>{O&&hr(O)},Kn=O=>{const $={};return O.q3!=null&&($.q3=Number(O.q3)),O.alcance!=null&&($.alcance=Number(O.alcance)),O.pma!=null&&($.pma=Number(O.pma)),O.numeration_type&&($.numeration_type=O.numeration_type),$},Ja=(O,$)=>Hf({userId:A,bankId:_,oiId:O,type:"bancada",bancadaId:$}),Wa=(O,$)=>{const he=Ja(O,$);if(!he)return null;const Me=Vf(he);if(!Me||!A||_==null||!O||!$||Me.userId!==A||Me.bankId!==_||Me.oiId!==O)return null;const rt=Me?.data??null;return kt(rt)?rt:(hr(he),null)},ua=(O,$,he)=>{const Me=Ja(O,$);if(!Me)return;if(!kt(he)){hr(Me);return}if(!A||_==null||!O||!$)return;const rt={version:1,ts:new Date().toISOString(),userId:A,bankId:_,oiId:O,bancadaId:$,data:he},wt=yn(O,{type:"bancada",bancadaId:$});ao(Me,rt,wt)},Bn=(O,$)=>{const he=Ja(O,$);he&&hr(he)},tn=Mt(Ne);g.useEffect(()=>{h&&S(O=>({...O,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,S]),g.useEffect(()=>{const O=Cy(),$=U??O?.id??null;if(!$){tt(null),hn([]),P.current=[],Z.current=null,Qn(null),W(0),_t(null),me(null),qe(null),Y(!1),we(!1),Te(null),F(null),xe(!1),k(null);return}(async()=>{try{const he=await Wf($);tt(he.id),so({id:he.id,code:he.code}),hn(he.bancadas??[]),P.current=NT(he.bancadas??[]),Z.current=he.updated_at??null,Qn(he.medidores_usuario??null),W(he.medidores_total_code??0),me(he.saved_at??null),qe(he.created_at??null),_t(he.updated_at??he.created_at);const Me={oi:he.code,q3:he.q3,alcance:he.alcance,pma:he.pma,numeration_type:he.numeration_type??"correlativo"};S(Me),Y(!1),we(he.read_only_for_current_user??!1),Te(he.locked_by_full_name??null),F(he.locked_by_user_id??null),xe((he.locked_by_user_id??null)===A),k(Me)}catch{km()}})()},[S,A,U]),g.useEffect(()=>{if(!Ne||st[vt])return;const O=Yn(Ne);O&&(et($=>({...$,[vt]:O})),e({kind:"info",message:"Se restauro un borrador local."}))},[Ne,st,e]),g.useEffect(()=>{if(!Ne||!A||!ue)return;let O=!1;return(async()=>{const $=he=>{we(he?.read_only_for_current_user??!1),Te(he?.locked_by_full_name??null),F(he?.locked_by_user_id??null),xe((he?.locked_by_user_id??null)===A)};try{const he=await mT(Ne);if(O)return;$(he)}catch(he){if(O)return;const Me=he?.status??he?.response?.status;let rt=null;try{const dt=await Wf(Ne);if(O)return;rt=dt.locked_by_full_name??null,$({read_only_for_current_user:!0,locked_by_full_name:rt,locked_by_user_id:dt.locked_by_user_id??null})}catch{we(!0),xe(!1)}const wt=rt?`La OI est? siendo editada por ${rt}. Se abre en modo lectura.`:he?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:Me===423||Me===409?"warning":"error",title:Me===423||Me===409?"OI bloqueada":"Error",message:wt}),we(!0),xe(!1),G!=="view"&&Ct("view")}})(),()=>{O=!0}},[Ne,A,ue]),g.useEffect(()=>()=>{Ne&&ae&&Mc(Ne).catch(()=>{})},[Ne,ae]),g.useEffect(()=>{Ne&&(!ae||Ce||!ue||yE(Ne))},[ae,Ne,Ce,ue]),g.useEffect(()=>{Re.current=!1,Be.current=!1,C(!1),Le.current=!1,Gt.current=!1},[Ne]),g.useEffect(()=>{if(!He.current&&f){if(!!!Dn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),He.current=f;return}(Be.current||Je)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}He.current=f},[f,Je,e]),g.useEffect(()=>{const O=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",O),()=>window.removeEventListener("medileser:auth-expired",O)},[e]),g.useEffect(()=>{const O=jE();if(!O){R(null),it.current=!1;return}const $=`${s.pathname}${s.search}`,he=O.route===$,Me=O.oiId==null||O.oiId===Ne;if(!he&&!Me){R(null),it.current=!1;return}R(O),O.type==="save_bancada"&&C(!0),O.type==="save_oi"&&(Be.current=!0),it.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),it.current=!0)},[s.pathname,s.search,Ne,e]);const _a=ue&&!Ce&&(w||!Ne);g.useEffect(()=>{if(!_a||Le.current)return;const O=qs(tn);if(!O)return;const $=I();S({...$,...O,numeration_type:O.numeration_type??$.numeration_type??"correlativo"}),Le.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[_a,tn,I,S,e]),g.useEffect(()=>{if(!_a)return;const O=y($=>{se.current&&window.clearTimeout(se.current),se.current=window.setTimeout(()=>{ca(tn,Kn($))},400)});return()=>{O.unsubscribe(),se.current&&window.clearTimeout(se.current)}},[y,_a,tn]);const Xn=g.useMemo(()=>Object.keys(st).length>0,[st]),nn=ue&&!Ce&&(ae||w||Xn);g.useEffect(()=>{if(!nn)return;const O=$=>{if(!le.current)return $.preventDefault(),$.returnValue="",""};return window.addEventListener("beforeunload",O),()=>window.removeEventListener("beforeunload",O)},[nn]),ET(O=>{if(!nn){O.retry();return}if(le.current){O.retry();return}if(O.location.pathname===s.pathname){O.retry();return}window.confirm(_T)&&O.retry()},nn),g.useEffect(()=>{if(!Ne||!ae||Ce||!ue)return;const O=()=>{if(le.current||Re.current)return;Re.current=!0;const he=Dn()?.token,Me=CT(`/oi/${Ne}/close`);fetch(Me,{method:"POST",headers:he?{Authorization:`Bearer ${he}`}:void 0,keepalive:!0}).catch(()=>{})},$=()=>{O()};return window.addEventListener("pagehide",$),()=>window.removeEventListener("pagehide",$)},[Ne,ae,Ce,ue]);const na=y("pma"),al=g.useMemo(()=>WR(Number(na)),[na]),Is=y("numeration_type")??"correlativo",yr=async O=>{try{je(!0);const $=Dn();if(!$)throw new Error("Sesin no vlida");const he=$.bancoId;if(he==null)throw new Error("Debe seleccionar un banco para crear una OI.");const Me={code:O.oi,q3:Number(O.q3),alcance:Number(O.alcance),pma:Number(O.pma),banco_id:he,tech_number:$.techNumber,numeration_type:O.numeration_type??"correlativo"},rt=await oT(Me);return tt(rt.id),_t(rt.updated_at??rt.created_at),Qn(rt.medidores_usuario??0),W(rt.medidores_total_code??0),me(rt.saved_at??null),qe(rt.created_at??null),so({id:rt.id,code:rt.code}),k(O),Be.current=!1,Nn(Mt(null)),Nn(Mt(rt.id)),Il(),R(null),e({kind:"success",title:"OI creada",message:`${rt.code} (#${rt.id})`}),!0}catch($){return Uc($)?(Be.current=!0,ca(tn,Kn(O)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):no($)?(Be.current=!0,ca(tn,Kn(O)),!1):(e({kind:"error",title:"Error",message:$?.message??"Error creando OI"}),!1)}finally{je(!1)}},gs=async O=>{if(!Ne)return!1;if(Ce)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(je(!0),!Ne)throw new Error("No hay OI seleccionada para actualizar.");const $=O.oi?.trim(),he=O.numeration_type??"correlativo",Me=de?.numeration_type??"correlativo",rt=!de||Number(O.q3)!==Number(de.q3)||Number(O.alcance)!==Number(de.alcance)||Number(O.pma)!==Number(de.pma)||he!==Me,wt=q&&!!$&&$!==(de?.oi??""),dt=!wt||rt,j=K=>{_t(K.updated_at??K.created_at),me(K.saved_at??null),qe(K.created_at??null),K.code&&so({id:K.id,code:K.code}),F(K.locked_by_user_id??null),Te(K.locked_by_full_name??null),we(K.read_only_for_current_user??!1),xe((K.locked_by_user_id??null)===A)};let H=null;if(dt){if(!Pt)throw new Error("No se pudo determinar la version actual de la OI. Recargue la pagina e intentelo de nuevo.");const K={q3:Number(O.q3),alcance:Number(O.alcance),pma:Number(O.pma),numeration_type:he,updated_at:Pt};H=await rT(Ne,K),j(H)}if(wt&&$)try{const K=await lT(Ne,$);H=K,j(K)}catch(K){if(Uc(K)||no(K))throw K;const pe=K?.status??K?.response?.status;return e(pe===409?{kind:"error",title:"Conflicto",message:"Ya existe una OI con ese codigo."}:pe===403?{kind:"error",title:"No autorizado",message:"No autorizado."}:pe===422||pe===400?{kind:"error",title:"Formato",message:"Formato de OI invalido. Debe ser OI-####-YYYY."}:{kind:"error",title:"Error",message:K?.message??"Error actualizando OI"}),!1}return H?(k({...O,oi:H.code,numeration_type:he}),Y(!1),Be.current=!1,Nn(tn),Il(),R(null),e({kind:"success",title:"OI actualizada",message:H.code??O.oi}),!0):(Y(!1),Be.current=!1,Nn(tn),Il(),R(null),e({kind:"success",title:"OI actualizada",message:O.oi}),!0)}catch($){if(Uc($))return Be.current=!0,ca(tn,Kn(O)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(no($))return Be.current=!0,ca(tn,Kn(O)),!1;const he=$?.status??$?.response?.status;return e(he===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:$?.message??"Error actualizando OI"}),!1}finally{je(!1)}},xr=!!Ne&&w&&!Ce,Sn=()=>Fe({}),Nr=O=>{const $=H0(O);$&&Fe(he=>{if(!he[$])return he;const Me={...he};return delete Me[$],Me})},$s=()=>{if(Ce){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!Ne)return;Sn(),C(!1);const O=Yn(Ne),$=O??en();et(he=>({...he,[vt]:$})),kn(Ne,$),O&&e({kind:"info",message:"Se restauro un borrador local."}),Gn(null),Zn(!0)},bs=O=>{if(Ce&&!ee){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}Sn(),C(!1);const $=Wa(Ne,O.id);if($){const he=At(O);et(Me=>({...Me,[he]:$})),e({kind:"info",message:"Se restauro un borrador local."})}Gn(O),Zn(!0)};g.useEffect(()=>{if(!Ne||Gt.current)return;const O=fE();if(O&&!(!A||_==null)&&!(O.userId!==A||O.bankId!==_)&&O.oiId===Ne){if(O.modal?.type==="bancada"){if(O.modal.isNew){Gt.current=!0,Zf(),$s();return}if(O.modal.bancadaId){const $=It.find(he=>he.id===O.modal?.bancadaId);if(!$)return;Gt.current=!0,Zf(),bs($);return}}Gt.current=!0,Zf()}},[A,_,It,Ne,$s,bs]);const cs=g.useMemo(()=>{const O=At(ct),$=st[O];if($){const rt=$.version??ct?.updated_at??ct?.created_at??null;return{...$,version:rt}}if(!ct)return;const Me=F0(ct).map(vT);return{estado:ct.estado,rows:Me.length||ct.rows,rowsData:Me,version:ct.updated_at??ct.created_at??null}},[ct,st]),sl=async O=>{if(Ne){if(Ce){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}Sn(),C(!1);try{je(!0);const $=O.draftCreatedAt??st[vt]?.draftCreatedAt,he={estado:Number(O.estado??0),rows:Number(O.rowsData.length),rows_data:O.rowsData.map(yT)};if(ct){const Me=O.version??ct.updated_at??ct.created_at??null;if(!Me)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const rt={...he,updated_at:Me},wt=await cT(ct.id,rt);hn(dt=>dt.map(j=>j.id===wt.id?wt:j)),_t(wt.updated_at??wt.created_at??Pt),Qn(null),Bn(Ne,ct.id),et(dt=>{const j=`bancada-${ct.id}`,{[j]:H,...K}=dt;return K}),e({kind:"success",message:"Bancada actualizada"})}else{$&&(he.draft_created_at=$);const Me=await _y(Ne,he);hn(rt=>[...rt,Me]),_t(Me.updated_at??Me.created_at??Pt),Qn(null),et(rt=>{const{new:wt,...dt}=rt;return dt}),kn(Ne,null),e({kind:"success",message:"Bancada agregada"})}try{const Me=await em(Ne);Qn(Me.medidores_usuario??null),W(Me.medidores_total_code??X),me(Me.saved_at??null),qe(Me.created_at??null)}catch{}F(E?.userId??M),Te(E?.fullName??ke),xe(A!==null),we(!1),Zn(!1),Gn(null),Il(),R(null),C(!1)}catch($){if(Uc($)){ct?ua(Ne,ct.id,O):kn(Ne,O),C(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(no($)){ct?ua(Ne,ct.id,O):kn(Ne,O),C(!0);return}const he=$?.status??$?.response?.status;if(he===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(he===400){const Me=Array.isArray($?.duplicates)?$.duplicates:Array.isArray($?.response?.data?.duplicates)?$.response.data.duplicates:[];Me.length>0&&Fe(wT(Me)),e({kind:"warning",title:"Validacion",message:$?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:$?.message??"Error guardando bancada"})}finally{je(!1)}}},rl=async O=>{if(confirm(`Eliminar bancada #${O.item}?`)){if(Ce){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(je(!0),!Ne)throw new Error("No hay OI cargada.");await Ey(O.id),hn(he=>he.filter(Me=>Me.id!==O.id)),Qn(null),et(he=>{const Me=`bancada-${O.id}`,{[Me]:rt,...wt}=he;return wt}),Bn(Ne,O.id);const $=await em(Ne);_t($.updated_at??$.created_at??null),me($.saved_at??null),qe($.created_at??null),F($.locked_by_user_id??null),Te($.locked_by_full_name??null),we($.read_only_for_current_user??!1),xe(($.locked_by_user_id??null)===A),Qn($.medidores_usuario??null),W($.medidores_total_code??X),e({kind:"success",message:`Bancada #${O.item} eliminada`})}catch($){e({kind:"error",title:"Error",message:$?.message??"Error eliminando bancada"})}finally{je(!1)}}},es=()=>{if(!Ne){e({kind:"warning",message:"Primero guarda el OI."});return}ta(!0)},aa=async O=>{if(Ne)try{je(!0),await $0(Ne,O),e({kind:"success",message:"Excel generado"})}catch($){e({kind:"error",title:"Error",message:$?.message??"Error generando Excel"})}finally{je(!1)}},Sr=()=>{if(!Ne||!q)return;const O=fe??ze;ve("oi"),De(null),Xe(Ry(O)),Ue(!0)},vs=O=>{if(!q)return;ve("bancada"),De(O);const $=O.saved_at??O.created_at??fe??ze;Xe(Ry($)),Ue(!0)},da=async()=>{if(!Ne||!q)return;const O=jT(Ie);if(!O){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Pe==="bancada"&&!lt))try{je(!0),Pe==="oi"?await hT(Ne,{saved_at:O,propagate_to_bancadas:!0}):lt&&await uT(lt.id,{saved_at:O});const $=await Wf(Ne);if(hn($.bancadas??[]),Qn($.medidores_usuario??null),W($.medidores_total_code??0),me($.saved_at??null),qe($.created_at??null),_t($.updated_at??$.created_at),Te($.locked_by_full_name??null),F($.locked_by_user_id??null),we($.read_only_for_current_user??!1),xe(($.locked_by_user_id??null)===A),!w){const he={oi:$.code,q3:$.q3,alcance:$.alcance,pma:$.pma,numeration_type:$.numeration_type??"correlativo"};S(he),k(he)}Ue(!1),De(null),Xe(""),ve("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch($){e({kind:"error",title:"Error",message:$?.message??"Error actualizando fecha"})}finally{je(!1)}},jr=O=>{Sn(),C(!1);const $=At(ct);let he={...O};if(!ct){const Me=st[vt];he.draftCreatedAt||(he.draftCreatedAt=Me?.draftCreatedAt??new Date().toISOString()),he.draftId||(he.draftId=Me?.draftId??pn())}et(Me=>({...Me,[$]:he})),ct?ua(Ne,ct.id,he):kn(Ne,he),Zn(!1)},oi=()=>{if(Ce){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const O=I();k({...O,numeration_type:O.numeration_type??"correlativo"}),Y(!0)},ys=()=>{!Ne||ue||Ct("edit")},Ea=()=>{de&&S(de),Y(!1),Be.current=!1,Nn(tn),Il(),R(null)},Ma=()=>{Ne&&(kn(Ne,null),Object.keys(st).forEach(O=>{if(!O.startsWith("bancada-"))return;const $=Number(O.replace("bancada-",""));Number.isFinite($)&&Bn(Ne,$)})),Nn(Mt(Ne)),Nn(Mt(null)),cE(),Be.current=!1,C(!1),Il(),R(null),km(),s0(),tt(null),hn([]),P.current=[],et({}),Y(!1),k(null),_t(null),me(null),qe(null),we(!1),Te(null),F(null),xe(!1),Qn(null),W(0),Zn(!1),Gn(null),ta(!1),Ue(!1),Ae(!1),Xe(""),De(null),ve("bancada"),S({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},wr=()=>{Re.current=!0,le.current=!0,Ma(),a(Kt())},ts=async()=>{if(!Ne)return!0;const O=P.current??[];if(O.length===0&&It.length===0)return!0;const $=new Map(O.map(Me=>[Me.id,Me])),he=new Map(It.map(Me=>[Me.id,Me]));try{for(const wt of It)$.has(wt.id)||await Ey(wt.id);for(const wt of It){const dt=$.get(wt.id);if(!dt||Ay(dt)===Ay(wt))continue;const j=Oy(dt),H=j.length||dt.rows||1,K=wt.updated_at??wt.created_at??dt.updated_at??dt.created_at;if(!K)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await dT(wt.id,{medidor:dt.medidor??null,estado:dt.estado??0,rows:H,rows_data:j,current_updated_at:K,restore_updated_at:dt.updated_at??null,restore_saved_at:dt.saved_at??null})}for(const wt of O)if(!he.has(wt.id)){const dt=Oy(wt),j=dt.length||wt.rows||1;await _y(Ne,{estado:wt.estado??0,rows:j,rows_data:dt})}const Me=await em(Ne),rt=Me.updated_at??Me.created_at;await iT(Ne,{current_updated_at:rt,restore_updated_at:Z.current})}catch(Me){return e({kind:"error",title:"Error",message:Me?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},fa=()=>{Ee||Ae(!0)},ll=async()=>{if(!Ee){Ae(!1),je(!0);try{if(!await ts())return;Ne&&ae&&await Mc(Ne,"cancel")}catch{}finally{je(!1)}Re.current=!0,le.current=!0,Ma(),e({kind:"info",message:"Edicion cancelada"}),a(Kt())}},_r=async()=>{if(Ee)return;Ae(!1);let O=!0;if((w||!Ne)&&(O=!1,await p(async he=>{O=Ne?await gs(he):await yr(he)})()),!!O){je(!0);try{Ne&&ae&&await Mc(Ne)}catch{}finally{je(!1)}Re.current=!0,le.current=!0,Ma(),e({kind:"info",message:"Cambios guardados"}),a(Kt())}},il=async()=>{if(!Ee){je(!0);try{Ne&&ae&&await Mc(Ne)}catch{}finally{je(!1)}Re.current=!0,le.current=!0,Ma(),e({kind:"info",message:"OI cerrada"}),a(Kt())}},jn=g.useMemo(()=>xT(It),[It]),sa=Pn??jn,xs=O=>{if(!O)return"-";const he=/([zZ]|[+-]\d{2}:?\d{2})$/.test(O)?O:`${O}Z`,Me=new Date(he);return Number.isNaN(Me.getTime())?O:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(Me)},ma=ct?Ja(Ne,ct.id):xn(Ne),qn=A&&_!=null&&Ne?{userId:A,bankId:_,oiId:Ne,bancadaId:ct?.id??null,isNew:!ct,returnTo:Ot(Ne),oiCode:I("oi")??null}:null;return l.jsxs("div",{className:"oi-page vi-oi-light",children:[l.jsx(ri,{show:Ee}),!f&&l.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),Q&&l.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[l.jsx("h1",{className:"h3",children:"Formulario OI"}),l.jsxs("div",{className:"d-flex gap-2",children:[Ne&&q&&l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:Sr,disabled:Ee,children:"Editar fecha guardado"}),Ne&&ee&&l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:ys,disabled:Ee,children:"Editar"})]})]}),Ce&&l.jsx("div",{className:"alert alert-warning mt-2",children:ee?"Modo lectura. Use Editar para modificar.":ke?`Esta OI est siendo editada por ${ke}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),l.jsxs("form",{onSubmit:p(xr?gs:yr),className:`row g-3 mt-1 ${xr?"vi-form-editing":"vi-form-readonly"}`,children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),l.jsx("input",{id:"oi",className:`form-control ${Ne&&!(q&&w&&!Ce)?"vi-locked":""}`,...v("oi"),disabled:Ne?!(q&&w&&!Ce):!1}),x.oi&&l.jsx("div",{className:"text-danger small",children:x.oi.message}),q?null:l.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el codigo de OI."})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),l.jsx("select",{id:"q3",className:"form-select",...v("q3",{valueAsNumber:!0}),disabled:!!Ne&&!w||Ce,children:h?.q3.map(O=>l.jsx("option",{value:O,children:O},O))})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),l.jsx("select",{id:"alcance",className:"form-select",...v("alcance",{valueAsNumber:!0}),disabled:!!Ne&&!w||Ce,children:h?.alcance.map(O=>l.jsx("option",{value:O,children:O},O))})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),l.jsx("select",{id:"pma",className:"form-select",...v("pma",{valueAsNumber:!0}),disabled:!!Ne&&!w||Ce,children:h?.pma.map(O=>l.jsx("option",{value:O,children:O},O))}),l.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),l.jsx("input",{id:"presion",className:"form-control",value:isNaN(al)?"":al,disabled:!0})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),l.jsxs("select",{id:"numeration_type",className:"form-select",...v("numeration_type"),disabled:!!Ne&&!w||Ce,children:[l.jsx("option",{value:"correlativo",children:"Correlativo"}),l.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),l.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),l.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[l.jsx("button",{className:"btn btn-primary",disabled:Ee||!!Ne&&(!w||Ce),children:Ne?xr?"Guardar cambios":"OI guardada":"Guardar OI"}),Ne&&!w&&ue&&l.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:oi,disabled:Ee||Ce,children:"Editar OI"}),Ne&&w&&ue&&l.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Ea,disabled:Ee,children:"Cancelar edicion"}),ee&&l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:wr,disabled:Ee,children:"Volver al listado"}),l.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:es,disabled:!Ne||Ee||w,children:"Generar Excel"}),ue&&l.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:il,disabled:!Ne||w||Ee,children:"Cerrar OI"}),ue&&l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:fa,disabled:Ee,children:"Cancelar"})]})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{className:"card vi-card-table mt-3",children:[l.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),l.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",sa," | Total OI: ",X]})]}),l.jsx("button",{className:"btn btn-primary",onClick:$s,disabled:!Ne||Ee||w||Ce,children:"Agregar Bancada"})]}),l.jsx("div",{className:"card-body p-0",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"vi-col-60",children:"Item"}),l.jsx("th",{children:"# Medidor"}),l.jsx("th",{children:"Medidores"}),l.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),l.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),l.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),l.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[It.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),It.map(O=>{const $=O.rows_data?.[0]?.medidor||O.medidor||"",he=O.rows_data?.[(O.rows_data?.length||0)-1]?.medidor||"",Me=$&&he&&$!==he?`${$} ... ${he}`:$;return l.jsxs("tr",{children:[l.jsx("td",{children:O.item}),l.jsx("td",{children:Me}),l.jsx("td",{children:O.rows}),l.jsx("td",{children:xs(O.created_at)}),l.jsx("td",{children:xs(O.saved_at)}),l.jsx("td",{children:xs(O.updated_at??O.created_at)}),l.jsxs("td",{className:"text-end",children:[q?l.jsx("button",{className:"btn btn-sm btn-outline-auto me-2",onClick:()=>vs(O),disabled:Ee||w||ie,"aria-label":`Editar fecha guardado bancada #${O.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>bs(O),disabled:Ee||w||!ee&&Ce,"aria-label":`${ee?"Ver":"Editar"} bancada #${O.item}`,title:ee?"Ver":"Editar",children:ee?"Ver":"Editar"}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>rl(O),disabled:Ee||w||Ce,"aria-label":`Eliminar bancada #${O.item}`,title:"Eliminar",children:""})]})]},O.id)})]})]})})})]}),Vn&&l.jsx(sT,{show:Vn,title:ct?`Editar bancada #${ct.item}`:"Nueva bancada",initial:cs,onClose:()=>{Sn(),Zn(!1)},onSubmit:sl,onCancelWithDraft:jr,numerationType:Is,readOnly:Ce,duplicateMap:Oe,onClearDuplicate:Nr,draftStorageKey:ma,draftMeta:qn,isOnline:f,showRetry:Je}),Ze&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:O=>{O.target===O.currentTarget&&Ae(!1)},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Ae(!1)})]}),l.jsx("div",{className:"modal-body",children:l.jsx("p",{children:"Estas seguro de descartar cambios?"})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:ll,disabled:Ee,children:"Descartar cambios"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:_r,disabled:Ee,children:"Guardar cambios y volver al listado"})]})]})})}),ge&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:O=>{O.target===O.currentTarget&&(Ue(!1),De(null),ve("bancada"))},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:O=>{O.preventDefault(),da()},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{Ue(!1),De(null),ve("bancada")}})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),l.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:Ie,onChange:O=>Xe(O.target.value),required:!0}),l.jsx("div",{className:"form-text",children:Pe==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>{Ue(!1),De(null),ve("bancada")},children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ee||!Ie,children:"Guardar"})]})]})})}),l.jsx(wu,{show:Ln,title:"Contrasea para proteger Excel",onClose:()=>ta(!1),onConfirm:O=>{ta(!1),aa(O)}})]})}function OT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e==="/logistica/log01/history"?"logistica_history":e==="/logistica/log01/excel"?"logistica":e==="/logistica/log02/pdfs"?"logistica_pdfs":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function RT(){const e=Dn(),a=oa(),s=e?.token??null,[i,c]=g.useState(()=>!!s);if(g.useEffect(()=>{if(!s){c(!1);return}let S=!1;return c(!0),Ye.get("/auth/me").then(()=>{S||c(!1)}).catch(async I=>{if(S)return;if(I?.response?.status===401){await o0();return}c(!1)}),()=>{S=!0}},[s]),!s)return l.jsx(pr,{to:"/login",replace:!0});if(i)return l.jsx(ri,{show:!0});const d=e,f=Pa(d.role,d.username),h=ch(d),v=Kl(f),p=oo(),y=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(v&&y&&!(p&&p>0)&&a.pathname!=="/home")return l.jsx(pr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return l.jsx(pr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(f==="admin"||f==="administrator"))return l.jsx(pr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const S=OT(a.pathname),I=d.allowedModules;if(S&&Array.isArray(I)&&!I.includes(S))return l.jsx(pr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return l.jsx(Xy,{})}const TT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),DT=.9;function yh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*DT}rem)`}}function ya({to:e,icon:a,label:s,depth:i,collapsed:c}){return l.jsx("li",{className:"vi-sidebar-item",children:l.jsxs(nx,{to:e,end:!0,className:TT,style:yh(i,c),title:s,"aria-label":s,children:[l.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function Dy({icon:e,label:a,depth:s,collapsed:i}){return l.jsx("li",{className:"vi-sidebar-item",children:l.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:yh(s,i),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[l.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function $r({groupKey:e,icon:a,label:s,depth:i,collapsed:c,open:d,active:f,onToggle:h,children:v}){const p=`sidebar-group-${e}`,y=d?"ti-angle-down":"ti-angle-right";return l.jsxs("li",{className:"vi-sidebar-item",children:[l.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(f?" active":""),style:yh(i,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[l.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:l.jsx("i",{className:`ti ${y}`})})]}),!c&&d&&l.jsx("ul",{id:p,className:"list-unstyled mb-0",children:v})]})}function zT({collapsed:e,onToggleSidebar:a}){const s=oa(),i=Dn(),c=!!i,d=Pa(i?.role,i?.username),f=ch(i),h=d==="admin"||d==="administrator",v=i?.allowedModules,p=xe=>f||!Array.isArray(v)||v.includes(xe),y=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),S=c&&p("tools_historial_ac"),I=c&&p("tools_consol_correlativo"),E=c&&p("tools_consol_no_correlativo"),A=c&&p("oi_formulario"),_=c&&p("oi_listado"),q=c&&h&&p("users_admin"),D=c&&p("future_ot"),J=c&&p("logistica"),U=c&&p("logistica_history"),T=c&&p("logistica_pdfs"),G=J||U||T,L=c&&p("future_smart"),ee=I||E,ue=y||x||S,Ee=A||_||D,je=ue||Ee||ee,ie=g.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[we,ke]=g.useState(()=>{const xe=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!xe)return ie;try{const Ce=JSON.parse(xe),w={...ie};return Object.keys(w).forEach(Y=>{typeof Ce[Y]=="boolean"&&(w[Y]=Ce[Y])}),w}catch{return ie}}),Te=s.pathname;g.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(we))},[we]);const M=g.useMemo(()=>{const xe=Ce=>!!lo({path:Ce,end:!0},Te);return{vimaToLista:xe("/oi/tools/vima-to-lista"),actualizacionBases:xe("/oi/tools/actualizacion-base"),formatoAcHistory:xe("/oi/tools/formato-ac/history"),consolidacionCorrelativo:xe("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:xe("/oi/tools/consolidacion/no-correlativo"),registroOi:xe("/oi"),listadoOi:xe("/oi/list"),users:xe("/users"),password:xe("/password"),permisos:xe("/admin/permisos"),log01Excel:xe("/logistica/log01/excel"),log01History:xe("/logistica/log01/history"),log02Pdfs:xe("/logistica/log02/pdfs")}},[Te]),F=g.useMemo(()=>({oi_consolidacion:M.consolidacionCorrelativo||M.consolidacionNoCorrelativo,oi_formato_ac:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory,oi_verificacion:M.registroOi||M.listadoOi,oi:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory||M.consolidacionCorrelativo||M.consolidacionNoCorrelativo||M.registroOi||M.listadoOi,usuarios:M.users||M.password,logistica:M.log01Excel||M.log01History||M.log02Pdfs,administrar:M.permisos}),[M]);function ae(xe){ke(Ce=>({...Ce,[xe]:!Ce[xe]}))}return l.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[l.jsxs("div",{className:"vi-sidebar__header",children:[l.jsxs("div",{className:"vi-sidebar__brand",children:[l.jsx("img",{className:"vi-brand-logo",src:"/medileser/loading.png",alt:"Medileser",draggable:!1}),l.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&l.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:l.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),l.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&l.jsx(ya,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),je&&l.jsxs($r,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:we.oi,active:F.oi,onToggle:ae,children:[ue&&l.jsxs($r,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:we.oi_formato_ac,active:F.oi_formato_ac,onToggle:ae,children:[y&&l.jsx(ya,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&l.jsx(ya,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),S&&l.jsx(ya,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),ee&&l.jsxs($r,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:we.oi_consolidacion,active:F.oi_consolidacion,onToggle:ae,children:[I&&l.jsx(ya,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),E&&l.jsx(ya,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),Ee&&l.jsxs($r,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:we.oi_verificacion,active:F.oi_verificacion,onToggle:ae,children:[D&&l.jsx(Dy,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),A&&l.jsx(ya,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),_&&l.jsx(ya,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),G&&l.jsxs($r,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:we.logistica,active:F.logistica,onToggle:ae,children:[J&&l.jsx(ya,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacion Excel",depth:1,collapsed:e}),U&&l.jsx(ya,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e}),T&&l.jsx(ya,{to:"/logistica/log02/pdfs",icon:"ti-filter",label:"Filtrado de Cert.PDFs",depth:1,collapsed:e})]}),L&&l.jsx(Dy,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),l.jsxs($r,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:we.usuarios,active:F.usuarios,onToggle:ae,children:[q&&l.jsx(ya,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&l.jsx(ya,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),f&&l.jsx($r,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:we.administrar,active:F.administrar,onToggle:ae,children:l.jsx(ya,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function kT({sidebarCollapsed:e,onToggleSidebar:a}){const s=Dn(),i=s?.username??s?.user??"",c=s?Kl(s.role):!1,[d,f]=g.useState(()=>oo());g.useEffect(()=>OE(()=>f(oo())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",v=async()=>{try{await DE()}finally{location.assign("/login")}};return l.jsxs("header",{className:"navbar navbar-expand vi-surface border-bottom vi-border sticky-top vi-topbar px-3",children:[a&&l.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:l.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),l.jsx("div",{className:"me-auto"}),l.jsxs("div",{className:"d-flex align-items-center gap-3",children:[l.jsx(g0,{}),s&&l.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",l.jsx("strong",{children:i||"?"}),c&&l.jsxs(l.Fragment,{children:["  ",h,s.techNumber?l.jsxs(l.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&l.jsx("button",{className:"btn btn-sm btn-outline-auto",onClick:v,children:"Cerrar sesin"})]})]})}function MT(){const a=oa().pathname==="/home",[s,i]=g.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>i(d=>!d);return g.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),l.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[l.jsx(zT,{collapsed:s,onToggleSidebar:c}),l.jsxs("div",{className:"vi-main",children:[l.jsx(kT,{sidebarCollapsed:s,onToggleSidebar:c}),l.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:l.jsx(Xy,{})})]})]})}function UT(){const{toast:e}=el(),a=Wr(),s=oa(),[,i]=sx(),[c,d]=g.useState(()=>new URLSearchParams(s.search).get("q")??""),[f,h]=g.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[v,p]=g.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[y,x]=g.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[S,I]=g.useState(()=>{const se=new URLSearchParams(s.search).get("pageSize"),Le=se?Number(se):20;return Number.isFinite(Le)&&Le>0?Le:20}),[E,A]=g.useState(()=>{const se=new URLSearchParams(s.search).get("page"),Le=se?Number(se):1;return Number.isFinite(Le)&&Le>0?Math.floor(Le):1}),[_,q]=g.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),D=(E-1)*S,J=g.useRef(!1);g.useEffect(()=>{if(!J.current){J.current=!0;return}const se=setTimeout(()=>{h(c.trim()),A(1)},300);return()=>clearTimeout(se)},[c]),g.useEffect(()=>{const se=new URLSearchParams,Le=c.trim();Le&&se.set("q",Le),v&&se.set("dateFrom",v),y&&se.set("dateTo",y),_&&se.set("responsableTech",_),E!==1&&se.set("page",String(E)),S!==20&&se.set("pageSize",String(S));const He=s.search.startsWith("?")?s.search.slice(1):s.search;se.toString()!==He&&i(se,{replace:!0})},[v,y,s.search,E,S,_,c,i]);const{data:U,isLoading:T,isError:G,error:L,refetch:ee,isFetching:ue}=Qr({queryKey:["oi","list",{search:f,dateFrom:v,dateTo:y,responsableTech:_,pageSize:S,offset:D}],queryFn:()=>pT({q:f||void 0,dateFrom:v||void 0,dateTo:y||void 0,responsableTechNumber:_?Number(_):void 0,limit:S,offset:D}),placeholderData:se=>se}),Ee=Dn(),je=Pa(Ee?.role,Ee?.username)!=="technician",{data:ie=[],isFetching:we,isError:ke,error:Te}=Qr({queryKey:["oi","responsables"],queryFn:bT,enabled:je,staleTime:6e4,retry:!1}),M=ke?Te?.message??"No se pudo cargar responsables":"",F=se=>{if(!se)return"-";const Le=se.endsWith("Z")?se:`${se}Z`,He=new Date(Le),it=Gt=>Gt.toString().padStart(2,"0");return`${it(He.getDate())}/${it(He.getMonth()+1)}/${He.getFullYear()} ${it(He.getHours())}:${it(He.getMinutes())}`},xe=U?.items??[],Ce=U?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},w=U?.total??0,Y=U?.limit??S,de=Y>0?Math.ceil(w/Y):1,k=10;let fe=1,me=de;if(de>k){const se=Math.floor(k/2);fe=Math.max(1,E-se),me=fe+k-1,me>de&&(me=de,fe=Math.max(1,me-k+1))}const[ze,qe]=g.useState(!1),[ge,Ue]=g.useState(null),[Ie,Xe]=g.useState(!1),[lt,De]=g.useState(!1),Pe=T||ue||Ie||lt,ve=()=>`${s.pathname}${s.search}`,Ze=(se,Le)=>{try{so({id:se,code:Le}),e({kind:"success",message:`OI ${Le} cargada`}),a(`/oi/${se}?mode=view`,{state:{returnTo:ve()}})}catch(He){e({kind:"error",title:"Error",message:He?.message??"No se pudo abrir el OI"})}},Ae=(se,Le)=>{try{so({id:se,code:Le}),e({kind:"success",message:`OI ${Le} cargada`}),a(`/oi/${se}?mode=edit`,{state:{returnTo:ve()}})}catch(He){e({kind:"error",title:"Error",message:He?.message??"No se pudo abrir el OI"})}},Je=async()=>{try{await So()}finally{km(),a("/oi?mode=edit",{state:{returnTo:ve()}})}},C=async(se,Le)=>{if(confirm(`Ests seguro de ELIMINAR la ${Le}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await fT(se),e({kind:"success",title:"Eliminado",message:`Se elimin ${Le} correctamente.`}),ee()}catch(He){e({kind:"error",title:"Error",message:He.message||"No se pudo eliminar la OI"})}},Q=se=>{Ue(se),qe(!0)},R=async se=>{if(ge)try{Xe(!0),await $0(ge,se),e({kind:"success",message:"Excel generado"})}catch(Le){e({kind:"error",title:"Error",message:Le?.message??"No se pudo generar el Excel"})}finally{Xe(!1)}},P=async()=>{try{De(!0);const{blob:se,filename:Le}=await gT({q:f||void 0,dateFrom:v||void 0,dateTo:y||void 0,responsableTechNumber:_?Number(_):void 0}),He=URL.createObjectURL(se),it=document.createElement("a");it.href=He,it.download=Le,document.body.appendChild(it),it.click(),URL.revokeObjectURL(He),it.remove()}catch(se){const Le=se?.status,He=se?.message??"No se pudo exportar el CSV";e(Le===403?{kind:"error",title:"No autorizado",message:He}:{kind:"error",title:"Error",message:He})}finally{De(!1)}},Z=()=>{d(""),h(""),p(""),x(""),A(1),q("")},le=w===0?0:D+1,Re=w===0?0:Math.min(D+xe.length,w),Be=w===0?"0 registros":`Mostrando ${le}-${Re} de ${w} registros`;return l.jsxs("div",{children:[l.jsx(ri,{show:Pe}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[l.jsxs("div",{className:"d-flex align-items-center gap-2",children:[l.jsx("button",{className:"btn btn-primary",onClick:Je,disabled:Pe,title:"Nueva OI",children:"Nueva OI"}),l.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),l.jsxs("div",{className:"d-flex gap-2",children:[je&&l.jsx("button",{className:"btn btn-outline-auto",onClick:P,disabled:Pe,children:lt?"Exportando...":"Exportar CSV"}),l.jsx("button",{className:"btn btn-outline-auto",onClick:Z,disabled:Pe,children:"Limpiar filtros"}),l.jsx("button",{className:"btn btn-outline-auto",onClick:()=>ee(),disabled:Pe,children:"Recargar"})]})]}),G&&l.jsx("div",{className:"alert alert-danger",children:L?.message??"Error cargando listado"}),l.jsxs("div",{className:"card vi-card-table",children:[l.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"h6 mb-0",children:"Registros"}),l.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",Ce.medidores_resultado," | OI unicas: ",Ce.oi_unicas," | Medidores (Total OI): ",Ce.medidores_total_oi_unicas]})]}),l.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:se=>{d(se.target.value),A(1)},"aria-label":"Buscar por codigo de OI o medidor"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:se=>{p(se.target.value),A(1)},"aria-label":"Filtrar desde fecha"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:se=>{x(se.target.value),A(1)},"aria-label":"Filtrar hasta fecha"}),je&&l.jsxs("div",{className:"d-flex flex-column",children:[l.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:se=>{q(se.target.value),A(1)},disabled:Pe||we,"aria-label":"Filtrar por responsable",title:"Responsable",children:[l.jsx("option",{value:"",children:"Responsable: Todos"}),ie.map(se=>l.jsx("option",{value:String(se.tech_number),children:se.full_name},se.tech_number))]}),M?l.jsx("small",{className:"text-danger",children:M}):null]}),l.jsxs("div",{className:"d-flex align-items-center",children:[l.jsx("span",{className:"me-1 small",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:S,onChange:se=>{const Le=Number(se.target.value)||20;I(Le),A(1)},"aria-label":"Registros por pgina",children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"})]})]})]})]}),l.jsxs("div",{className:"card-body p-0",children:[l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"ID"}),l.jsx("th",{children:"OI"}),l.jsx("th",{children:"Medidores"}),l.jsx("th",{children:"Q3"}),l.jsx("th",{children:"Alcance"}),l.jsx("th",{children:"PMA"}),l.jsx("th",{children:"Banco"}),l.jsx("th",{children:"Tcnico"}),l.jsx("th",{children:"Responsable"}),l.jsx("th",{children:"Creacin"}),l.jsx("th",{children:"Guardado"}),l.jsx("th",{children:"lt. mod."}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[!Pe&&xe.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:w>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),xe.map(se=>l.jsxs("tr",{children:[l.jsx("td",{children:se.id}),l.jsx("td",{children:se.code}),l.jsx("td",{title:"Mi registro / Total OI",children:`${se.medidores_usuario??0} / ${se.medidores_total_code??0}`}),l.jsx("td",{children:se.q3}),l.jsx("td",{children:se.alcance}),l.jsx("td",{children:se.pma}),l.jsx("td",{children:se.banco_id}),l.jsx("td",{children:se.tech_number}),l.jsx("td",{children:se.creator_name}),l.jsx("td",{children:F(se.created_at)}),l.jsx("td",{children:F(se.saved_at)}),l.jsx("td",{children:F(se.updated_at)}),l.jsxs("td",{className:"text-end",children:[l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ze(se.id,se.code),disabled:Pe,title:"Ver OI","aria-label":`Ver OI ${se.code}`,children:"Ver"}),l.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>Ae(se.id,se.code),disabled:Pe,title:"Editar OI","aria-label":`Editar OI ${se.code}`,children:"Editar"}),l.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>Q(se.id),disabled:Pe,title:"Descargar Excel","aria-label":`Descargar Excel ${se.code}`,children:"Excel"}),je&&l.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>C(se.id,se.code),disabled:Pe,title:"Eliminar OI (Solo Admin)",children:""})]})]},se.id))]})]})}),de>1&&l.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${E===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(se=>Math.max(1,se-1)),disabled:E===1,children:""})}),Array.from({length:me-fe+1},(se,Le)=>{const He=fe+Le;return l.jsx("li",{className:`page-item ${He===E?"active":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(He),children:He})},He)}),l.jsx("li",{className:`page-item ${E===de?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(se=>Math.min(de,se+1)),disabled:E===de,children:"Siguiente"})})]})})]})]}),l.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:l.jsx("small",{className:"text-muted",children:Be})}),l.jsx(wu,{show:ze,title:"Contrasea para proteger Excel",onClose:()=>{qe(!1),Ue(null)},onConfirm:se=>{qe(!1),R(se)}})]})}async function LT(e){return(await Ye.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function BT(){const{toast:e}=el(),a=Dn(),s=Pa(a?.role,a?.username),i=s==="admin"||s==="administrator",c=ch(a),[d,f]=g.useState(!1),[h,v]=g.useState(null),[p,y]=g.useState(!1),[x,S]=g.useState(""),[I,E]=g.useState(""),[A,_]=g.useState(""),[q,D]=g.useState(20),[J,U]=g.useState(1),T=(J-1)*q,G=g.useRef(!1);g.useEffect(()=>{if(!G.current){G.current=!0;return}const Ae=setTimeout(()=>{E(x.trim()),U(1)},250);return()=>clearTimeout(Ae)},[x]);const{data:L,refetch:ee,isLoading:ue,isFetching:Ee,error:je}=Qr({queryKey:["users",{search:I,roleFilter:A,pageSize:q,offset:T}],queryFn:()=>LT({q:I||void 0,role:A||void 0,limit:q,offset:T}),enabled:i,placeholderData:Ae=>Ae}),{register:ie,handleSubmit:we,reset:ke}=ou(),Te=()=>{v(null),ke({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),f(!0)},M=Ae=>{v(Ae),ke({username:Ae.username,password:"",first_name:Ae.first_name,last_name:Ae.last_name,role:Pa(Ae.role,Ae.username),tech_number:Ae.tech_number}),f(!0)},F=()=>{f(!1),v(null),ke()},ae=async Ae=>{try{y(!0),await Ye.post("/auth/users",{...Ae,tech_number:Number(Ae.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),F(),ee()}catch(Je){e({kind:"error",title:"Error",message:Je.response?.data?.detail||"Error al crear"})}finally{y(!1)}},xe=async Ae=>{if(!h)return;const Je=String(Ae.password||"").trim();try{if(y(!0),c){const C={username:String(Ae.username||"").trim(),first_name:String(Ae.first_name||"").trim(),last_name:String(Ae.last_name||"").trim(),role:Ae.role,tech_number:Number(Ae.tech_number)};Je&&(C.password=Je),await Ye.put(`/auth/users/${h.id}`,C),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!Je){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Ye.put(`/auth/users/${h.id}/password`,{new_password:Je}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}F(),ee()}catch(C){const Q=C?.response?.data?.detail||C?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:Q})}finally{y(!1)}},Ce=async Ae=>{if(confirm(`Eliminar usuario? ${Ae.username}?
Esto solo es posible si no tiene registros.`))try{y(!0),await Ye.delete(`/auth/users/${Ae.id}`),e({kind:"success",message:"Usuario eliminado"}),ee()}catch(Je){e({kind:"error",title:"No se puede eliminar",message:Je.response?.data?.detail||Je.message})}finally{y(!1)}},w=g.useMemo(()=>L?.items??[],[L]),Y=L?.total??0,de=L?.limit??q,k=de>0?Math.ceil(Y/de):1,fe=10;let me=1,ze=k;if(k>fe){const Ae=Math.floor(fe/2);me=Math.max(1,J-Ae),ze=me+fe-1,ze>k&&(ze=k,me=Math.max(1,ze-fe+1))}const qe=Y===0?0:T+1,ge=Y===0?0:Math.min(T+w.length,Y),Ue=Y===0?"0 registros":`Mostrando ${qe}-${ge} de ${Y} registros`,Ie=ue||Ee||p,Xe=()=>{S(""),E(""),_(""),U(1),D(20)},lt=!!h,De=lt&&!c,Pe=!lt||!c,ve=(h?.username??"").toLowerCase()==="admin",Ze=lt?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return i?l.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[l.jsx(ri,{show:Ie}),l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[l.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),l.jsx("button",{className:"btn btn-primary",onClick:Te,disabled:Ie,children:"+ Nuevo Usuario"})]}),l.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[l.jsxs("div",{style:{minWidth:260},children:[l.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:Ae=>{S(Ae.target.value),U(1)}})]}),l.jsxs("div",{style:{minWidth:220},children:[l.jsx("label",{className:"form-label small mb-1",children:"Rol"}),l.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:Ae=>{_(Ae.target.value),U(1)},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"admin",children:"admin"}),l.jsx("option",{value:"administrator",children:"administrator"}),l.jsx("option",{value:"technician",children:"technician"}),l.jsx("option",{value:"standard",children:"standard"}),l.jsx("option",{value:"user",children:"user (legacy)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:q,onChange:Ae=>{const Je=Number(Ae.target.value)||20;D(Je),U(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Xe,disabled:Ie,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>ee(),disabled:Ie,children:"Recargar"})]})]}),je?l.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,l.jsx("div",{className:"card shadow-sm",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover align-middle mb-0",children:[l.jsx("thead",{className:"vi-surface-2",children:l.jsxs("tr",{children:[l.jsx("th",{children:"Usuario"}),l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Rol"}),l.jsx("th",{children:"N Tcnico"}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[w.map(Ae=>l.jsxs("tr",{children:[l.jsx("td",{className:"fw-bold",children:Ae.username}),l.jsxs("td",{children:[Ae.first_name," ",Ae.last_name]}),l.jsx("td",{children:(()=>{const Je=Pa(Ae.role,Ae.username),C=Ae.username.toLowerCase()==="admin"?"Superusuario":Je==="administrator"?"Administrador":Je==="technician"?"Tcnico":"Estndar",Q=Ae.username.toLowerCase()==="admin"?"bg-danger":Je==="administrator"?"bg-warning vi-text-contrast":Je==="technician"?"bg-info vi-text-contrast":"bg-secondary";return l.jsx("span",{className:`badge ${Q}`,children:C})})()}),l.jsx("td",{children:Ae.tech_number}),l.jsxs("td",{className:"text-end",children:[l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${Ae.username}`,disabled:Ie||Ae.username==="admin"||!c&&Pa(Ae.role,Ae.username)==="administrator",onClick:()=>M(Ae),children:l.jsx("i",{className:"ti ti-edit"})}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${Ae.username}`,disabled:Ie||Ae.username==="admin"||!c&&Pa(Ae.role,Ae.username)==="administrator",onClick:()=>Ce(Ae),children:l.jsx("i",{className:"ti ti-trash"})})]})]},Ae.id)),w.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),k>1&&l.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${J===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>U(Ae=>Math.max(1,Ae-1)),disabled:J===1,children:"Anterior"})}),Array.from({length:ze-me+1},(Ae,Je)=>{const C=me+Je;return l.jsx("li",{className:`page-item ${C===J?"active":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>U(C),children:C})},C)}),l.jsx("li",{className:`page-item ${J===k?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>U(Ae=>Math.min(k,Ae+1)),disabled:J===k,children:"Siguiente"})})]})}),l.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:l.jsx("small",{className:"text-muted",children:Ue})}),d&&l.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:we(lt?xe:ae),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:lt?"Actualizar Usuario":"Nuevo Usuario"}),l.jsx("button",{type:"button",className:"btn-close",onClick:F})]}),l.jsxs("div",{className:"modal-body row g-3",children:[l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Usuario"}),l.jsx("input",{className:"form-control",disabled:De,...ie("username",{required:!0})})]}),l.jsx("div",{className:"col-6",children:l.jsx(co,{label:"Contrasea",...ie("password",{required:Pe}),autoComplete:"new-password",helpText:Ze})}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Nombre"}),l.jsx("input",{className:"form-control",disabled:De,...ie("first_name",{required:!0})})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Apellido"}),l.jsx("input",{className:"form-control",disabled:De,...ie("last_name",{required:!0})})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Rol"}),l.jsxs("select",{className:"form-select",disabled:De,...ie("role"),children:[ve?l.jsx("option",{value:"admin",children:"Superusuario"}):null,l.jsx("option",{value:"technician",children:"Tecnico"}),l.jsx("option",{value:"standard",children:"Estandar"}),c?l.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"N Tecnico"}),l.jsx("input",{type:"number",className:"form-control",disabled:De,...ie("tech_number",{required:!0})}),l.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:F,disabled:Ie,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ie,children:lt?"Actualizar":"Guardar"})]})]})})})]}):l.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function qT(){const{toast:e}=el(),[a,s]=g.useState(""),[i,c]=g.useState(""),[d,f]=g.useState(!1),h=a.trim().length>0&&i.trim().length>0,v=async p=>{if(p.preventDefault(),!!h)try{f(!0),await RE(a.trim(),i.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(y){e({kind:"error",title:"Error",message:y?.message??"No se pudo cambiar la contrasea"})}finally{f(!1)}};return l.jsx("div",{className:"container py-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"card shadow-sm",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),l.jsxs("form",{onSubmit:v,children:[l.jsxs("div",{className:"card-body",children:[l.jsx("div",{className:"mb-3",children:l.jsx(co,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),l.jsx("div",{className:"mb-3",children:l.jsx(co,{label:"Nueva contrasea",inputId:"newPwd",value:i,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),l.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function IT(e){return(await Ye.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function $T(e,a){const{data:s}=await Ye.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const Mm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"logistica_history",label:"Historial de consolidaciones",path:"/logistica/log01/history"},{id:"logistica_pdfs",label:"Filtrado de Cert.PDFs",path:"/logistica/log02/pdfs"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],zy=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica","logistica_history","logistica_pdfs"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function ky(e){const a=new Set(Mm.map(c=>c.id)),s=new Set,i=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),i.push(d))}return i}const My="admin_permisos:collapsed_groups";function FT(){const e=Km(),{toast:a}=el(),[s,i]=g.useState(""),[c,d]=g.useState(""),[f,h]=g.useState(""),[v,p]=g.useState(20),[y,x]=g.useState(1),S=(y-1)*v,I=g.useRef(!1);g.useEffect(()=>{if(!I.current){I.current=!0;return}const k=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(k)},[s]);const{data:E,isLoading:A,error:_,refetch:q}=Qr({queryKey:["admin","permisos",{search:c,roleFilter:f,pageSize:v,offset:S}],queryFn:()=>IT({q:c||void 0,role:f||void 0,limit:v,offset:S}),placeholderData:k=>k}),[D,J]=g.useState(null),[U,T]=g.useState([]),G=(D?.username??"").toLowerCase()==="admin",[L,ee]=g.useState(()=>{const k=Object.fromEntries(zy.map(fe=>[fe.id,!0]));try{const fe=localStorage.getItem(My);if(!fe)return k;const me=JSON.parse(fe);return!me||typeof me!="object"?k:{...k,...me}}catch{return k}}),ue=(k,fe)=>{ee(me=>{const ze={...me,[k]:fe};try{localStorage.setItem(My,JSON.stringify(ze))}catch{}return ze})},Ee=k=>{J(k),T(ky(k.allowedModules??[]))},je=()=>{J(null),T([])},ie=o_({mutationFn:async k=>$T(k.userId,k.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),je()},onError:k=>{const fe=k?.response?.data?.detail??k?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(fe)})}}),we=g.useMemo(()=>E?.items??[],[E]),ke=E?.total??0,Te=E?.limit??v,M=Te>0?Math.ceil(ke/Te):1,F=ke===0?0:S+1,ae=ke===0?0:Math.min(S+we.length,ke),xe=ke===0?"0 registros":`Mostrando ${F}-${ae} de ${ke} registros`,Ce=k=>{T(fe=>{const me=new Set(fe);return me.has(k)?me.delete(k):me.add(k),Array.from(me)})},w=k=>{T(fe=>{const me=new Set(fe),ze=k.moduleIds.filter(ge=>Mm.some(Ue=>Ue.id===ge));if(ze.length>0&&ze.every(ge=>me.has(ge)))for(const ge of ze)me.delete(ge);else for(const ge of ze)me.add(ge);return Array.from(me)})},Y=()=>{D&&ie.mutate({userId:D.id,allowedModules:ky(U)})},de=()=>{i(""),d(""),h(""),x(1),p(20)};return l.jsxs("div",{className:"container-fluid",children:[l.jsx(ri,{show:ie.isPending,label:"Guardando permisos..."}),l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),l.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),l.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[l.jsxs("div",{style:{minWidth:260},children:[l.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:k=>{i(k.target.value),x(1)}})]}),l.jsxs("div",{style:{minWidth:220},children:[l.jsx("label",{className:"form-label small mb-1",children:"Rol"}),l.jsxs("select",{className:"form-select form-select-sm",value:f,onChange:k=>{h(k.target.value),x(1)},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"admin",children:"admin"}),l.jsx("option",{value:"administrator",children:"administrator"}),l.jsx("option",{value:"technician",children:"technician"}),l.jsx("option",{value:"standard",children:"standard"}),l.jsx("option",{value:"user",children:"user (legacy)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:v,onChange:k=>{const fe=Number(k.target.value)||20;p(fe),x(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:de,disabled:A||ie.isPending,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>q(),disabled:A||ie.isPending,children:"Recargar"})]})]}),A?l.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):_?l.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm align-middle",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Usuario"}),l.jsx("th",{children:"Rol"}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[we.map(k=>l.jsxs("tr",{children:[l.jsx("td",{children:k.username}),l.jsx("td",{children:k.role}),l.jsx("td",{className:"text-end",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Ee(k),disabled:(k.username??"").toLowerCase()==="admin",children:"Editar"})})]},k.id)),we.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),l.jsx("div",{className:"d-flex justify-content-end mt-2",children:l.jsx("small",{className:"text-muted",children:xe})}),M>1&&l.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${y===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.max(1,k-1)),disabled:y===1,children:""})}),l.jsx("li",{className:"page-item disabled",children:l.jsxs("span",{className:"page-link",children:["Pgina ",y," / ",M]})}),l.jsx("li",{className:`page-item ${y===M?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.min(M,k+1)),disabled:y===M,children:"Siguiente"})})]})})]})})}),D&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:k=>{k.target===k.currentTarget&&je()},children:l.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",D.username]}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:je})]}),l.jsxs("div",{className:"modal-body",children:[G?l.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",l.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,zy.map(k=>{const fe=k.moduleIds.map(Ue=>Mm.find(Ie=>Ie.id===Ue)).filter(Boolean),me=fe.filter(Ue=>U.includes(Ue.id)).length,ze=fe.length>0&&me===fe.length,qe=me>0&&!ze,ge=!!L[k.id];return l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[l.jsxs("div",{className:"form-check mb-0",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${D.id}-${k.id}`,checked:ze,ref:Ue=>{Ue&&(Ue.indeterminate=qe)},onChange:()=>w(k),disabled:ie.isPending||G}),l.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${D.id}-${k.id}`,children:[k.label,l.jsxs("span",{className:"text-muted ms-2 small",children:["(",me,"/",fe.length,")"]})]})]}),l.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Acciones ${k.label}`,children:l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>ue(k.id,!ge),disabled:ie.isPending,children:ge?"Expandir":"Contraer"})})]}),!ge&&l.jsx("div",{className:"mt-2 ms-4 ps-3 border-start border-2 border-light",children:l.jsx("div",{className:"row",children:fe.map(Ue=>l.jsx("div",{className:"col-md-6 mb-2",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${D.id}-${Ue.id}`,checked:U.includes(Ue.id),onChange:()=>Ce(Ue.id),disabled:ie.isPending||G}),l.jsxs("label",{className:"form-check-label",htmlFor:`perm-${D.id}-${Ue.id}`,children:[Ue.label," ",l.jsxs("span",{className:"text-muted",children:["(",Ue.path,")"]})]})]})},Ue.id))})})]},k.id)}),l.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:je,disabled:ie.isPending,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:Y,disabled:ie.isPending||G,children:"Guardar"})]})]})})})]})}function HT(e){const a=Ye.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function VT(e,a){return Ye.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function ZT(e,a){return Ye.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function Uy(e,a,s){const i=HT(`/integrations/vima-to-lista/progress/${e}`),c=Dn()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const f=d.body.getReader(),h=new TextDecoder("utf-8");let v="";for(;;){const{value:p,done:y}=await f.read();if(y)break;v+=h.decode(p,{stream:!0});let x;for(;(x=v.indexOf(`
`))>=0;){const S=v.slice(0,x).trim();if(v=v.slice(x+1),!!S)try{a(JSON.parse(S))}catch{}}}}function V0(e){return`${e.name}::${e.size}::${e.lastModified}`}function GT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function nu(e){return GT(e.name)}function PT(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function xh(e,a){const s=PT(a);if(!s)return e;const i=s.filter(c=>c.startsWith("."));return i.length===0?e:e.filter(c=>i.some(d=>c.name.toLowerCase().endsWith(d)))}function QT(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],i=[],c=[],d=new Set(e.map(nu));for(const f of a){const h=nu(f);if(d.has(h)){c.push(f);continue}d.add(h),s.push(f),i.push(f)}return{merged:s,added:i,duplicates:c}}function mo({label:e,accept:a,disabled:s=!1,file:i,onChange:c}){const d=g.useRef(null),f=g.useRef(0),[h,v]=g.useState(!1),p=()=>{s||d.current?.click()},y=()=>{s||(d.current&&(d.current.value=""),c(null))},x=_=>{c(_.target.files?.[0]??null),_.currentTarget.value=""},S=_=>{_.preventDefault(),_.stopPropagation(),!s&&(f.current+=1,v(!0))},I=_=>{_.preventDefault(),_.stopPropagation()},E=_=>{_.preventDefault(),_.stopPropagation(),!s&&(f.current=Math.max(0,f.current-1),f.current===0&&v(!1))},A=_=>{if(_.preventDefault(),_.stopPropagation(),f.current=0,v(!1),s)return;const q=_.dataTransfer?.files?Array.from(_.dataTransfer.files):[],J=xh(q,a)[0]??null;J&&(d.current&&(d.current.value=""),c(J))};return l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:e}),l.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),l.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:S,onDragOver:I,onDragLeave:E,onDrop:A,"aria-disabled":s?"true":"false",children:l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:y,disabled:s||!i,children:"Eliminar"}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:i?i.name:"No se ha seleccionado ningn archivo."})]})})]})}const YT={status:"estado",progress:"progreso",complete:"completado",error:"error"},KT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},XT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function Z0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function Xl(e){if(!e)return"";const a=e.toLowerCase();return Z0(YT[a]??e)}function Jr(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return Z0(KT[a]??li(s))}function li(e){if(!e)return"";let a=e;for(const[s,i]of XT)a=a.replace(s,i);return a}function JT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function WT(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}function e2(){const[e,a]=g.useState(null),[s,i]=g.useState(null),[c,d]=g.useState(""),[f,h]=g.useState(11),[v,p]=g.useState(11),[y,x]=g.useState(!0),[S,I]=g.useState(!0),[E,A]=g.useState(!0),[_,q]=g.useState(!0),[D,J]=g.useState(!1),[U,T]=g.useState(""),[G,L]=g.useState(null),[ee,ue]=g.useState(null),[Ee,je]=g.useState(null),[ie,we]=g.useState([]),[ke,Te]=g.useState(""),M=g.useRef(null),F=g.useRef(null),[ae,xe]=g.useState(!1),[Ce,w]=g.useState(!1),[Y,de]=g.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),k=g.useMemo(()=>!!e&&!!s&&!G,[e,s,G]);function fe(De){we(ve=>[De,...ve].slice(0,200));const Pe=typeof De.percent=="number"?De.percent:typeof De.progress=="number"?De.progress:null;Pe!=null&&Number.isFinite(Pe)&&je(Math.max(0,Math.min(100,Pe)))}function me(){M.current?.abort(),M.current=null}function ze(){G&&me()}function qe(De,Pe){if(!e||!s)throw new Error("Faltan archivos");const ve=new FormData;ve.append("vima_file",e),ve.append("lista_file",s);const Ze=(Pe??c).trim();return Ze&&ve.append("vima_password",Ze),ve.append("vima_start_row",String(f)),ve.append("lista_start_row",String(v)),ve.append("require_all_g_to_n",y?"true":"false"),ve.append("incremental",S?"true":"false"),ve.append("strict_incremental",E?"true":"false"),ve.append("replicate_merges",_?"true":"false"),ve.append("update_existing_periodo",D?"true":"false"),U.trim()&&ve.append("oi_pattern",U.trim()),ve.append("operation_id",De),ve}function ge(){F.current=null,w(!1)}function Ue(De,Pe){F.current=De,de(Pe),w(!0)}function Ie(De,Pe){if(!gt.isAxiosError(De)){Te(String(De));return}const ve=De;if(ve.code==="ERR_CANCELED")return;const Ze=ve.response?.headers?.["x-code"],Ae=ve.response?.data?.detail??ve.message;if(Ze==="PASSWORD_REQUIRED"){Te(""),Ue(Pe,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Ze==="WRONG_PASSWORD"){Te(""),Ue(Pe,"Contrasea incorrecta. Intenta nuevamente.");return}Te(String(Ae))}async function Xe(De){Te(""),ue(null),we([]),je(0);const Pe=crypto.randomUUID();M.current=new AbortController,Uy(Pe,fe,M.current.signal).catch(()=>{}),L("dry");try{const ve=qe(Pe,De?.passwordOverride),Ze=await VT(ve,M.current.signal);ue(Ze.data)}catch(ve){Ie(ve,"dry")}finally{me(),L(null)}}async function lt(De){Te(""),we([]),je(0);const Pe=crypto.randomUUID();M.current=new AbortController,Uy(Pe,fe,M.current.signal).catch(()=>{}),L("upload");try{const ve=qe(Pe,De?.passwordOverride),Ze=await ZT(ve,M.current.signal),Ae=Ze.headers?.["content-disposition"],Je=JT(Ae)??"LISTA_SALIDA.xlsx";WT(Ze.data,Je)}catch(ve){Ie(ve,"upload")}finally{me(),L(null)}}return l.jsxs("div",{className:"container-fluid",children:[l.jsxs("div",{className:"row gap-20",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),l.jsx("div",{className:"mB-15",children:l.jsx(mo,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!G})}),l.jsx("div",{className:"mB-15",children:l.jsx(mo,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:i,disabled:!!G})}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),l.jsx("input",{className:"form-control",type:"password",value:c,onChange:De=>d(De.target.value),placeholder:"(opcional)"})]}),ae?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),l.jsx("input",{className:"form-control",type:"number",value:f,onChange:De=>h(Number(De.target.value))})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),l.jsx("input",{className:"form-control",type:"number",value:v,onChange:De=>p(Number(De.target.value))})]})]}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),l.jsx("input",{className:"form-control",value:U,onChange:De=>T(De.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),l.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),l.jsxs("div",{className:"row mT-10",children:[l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:y,onChange:De=>x(De.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:_,onChange:De=>q(De.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:S,onChange:De=>I(De.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:E,onChange:De=>A(De.target.checked),disabled:!S}),l.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:D,onChange:De=>J(De.target.checked),disabled:!S}),l.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,ke&&l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:ke}),l.jsx("div",{className:"d-flex justify-content-end mT-10",children:l.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>xe(De=>!De),disabled:!!G,children:ae?"Menos Opciones":"Ms Opciones"})}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary",disabled:!k,onClick:()=>void lt(),children:G==="upload"?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger",disabled:!G,onClick:ze,children:"Cancelar"}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!k,onClick:()=>void Xe(),children:G==="dry"?"Analizando...":"Analizar"})]}),ee&&l.jsxs("div",{className:"mT-20",children:[l.jsx("h5",{className:"c-grey-900",children:"Resumen"}),l.jsxs("ul",{className:"mB-0",children:[l.jsxs("li",{children:["Filas a copiar: ",l.jsx("b",{children:ee.would_copy})]}),l.jsxs("li",{children:["Fila inicio escritura (LISTA): ",l.jsx("b",{children:ee.start_write_row})]}),l.jsxs("li",{children:["ltimo OI en LISTA: ",l.jsx("b",{children:String(ee.last_oi_in_lista??"-")})]}),l.jsxs("li",{children:["Primer OI a copiar: ",l.jsx("b",{children:String(ee.first_oi_to_copy??"-")})]}),l.jsxs("li",{children:["ltimo OI a copiar: ",l.jsx("b",{children:String(ee.last_oi_to_copy??"-")})]})]})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),G?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Ee??0}%`},"aria-valuenow":Ee??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:ie.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:ie.map((De,Pe)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:Xl(De.type)})," ",De.stage?l.jsxs("span",{className:"text-muted",children:["[",Jr(De.stage),"]"]}):null,typeof De.percent=="number"?l.jsxs("span",{className:"text-muted",children:["  ",De.percent.toFixed(1),"%"]}):null]}),l.jsx("div",{className:"text-muted",children:li(De.message??De.detail??"")}),De.code?l.jsxs("div",{className:"text-muted",children:["Cdigo: ",De.code]}):null]},Pe))})})]})})]}),l.jsx(wu,{show:Ce,title:"Archivo protegido",confirmLabel:"Continuar",helpText:Y,onClose:ge,onConfirm:De=>{d(De),w(!1);const Pe=F.current;F.current=null,Pe&&(Pe==="dry"?Xe({passwordOverride:De}):lt({passwordOverride:De}))}})]})}function au(e){const a=e,s=String(a?.name||""),i=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(i)||/abort/i.test(i)}function ii(e){const a=Ye.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function Nh(e,a){if(!e.body)return;const s=e.body.getReader(),i=new TextDecoder("utf-8");let c="";try{for(;;){let f;try{f=await s.read()}catch(y){if(au(y))return;throw y}const{value:h,done:v}=f;if(v)break;if(!h||h.length===0)continue;c+=i.decode(h,{stream:!0});let p;for(;(p=c.indexOf(`
`))>=0;){const y=c.slice(0,p).trim();if(c=c.slice(p+1),!!y)try{const x=JSON.parse(y);x&&x.progress!=null&&x.percent==null&&(x.percent=x.progress),x&&x.percent!=null&&x.progress==null&&(x.progress=x.percent),a(x)}catch{}}}const d=c.trim();if(d)try{const f=JSON.parse(d);f&&f.progress!=null&&f.percent==null&&(f.percent=f.progress),f&&f.percent!=null&&f.progress==null&&(f.progress=f.percent),a(f)}catch{}}catch(d){if(au(d))return;throw d}}function br(e,a,s){const i=new Error(e);return a!=null&&(i.status=a),s&&(i.code=s),i}async function Sh(e,a,s){const i=ii(`/integrations/vima-to-lista/progress/${e}`),c=Dn()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw br(`No se pudo abrir el stream (${d.status})`,d.status,f)}await Nh(d,a)}async function t2(e,a,s){const i=ii(`/logistica/log01/progress/${e}`),c=Dn()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const y=d.headers.get("X-Code")??void 0;throw br(`No se pudo abrir el stream (${d.status})`,d.status,y)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw br("Stream no es NDJSON",d.status);if(!d.body)throw br("Stream sin body",d.status);const h=d.body.getReader(),v=new TextDecoder("utf-8");let p="";try{for(;;){let x;try{x=await h.read()}catch(A){if(au(A))return;throw A}const{value:S,done:I}=x;if(I)break;if(!S||S.length===0)continue;p+=v.decode(S,{stream:!0});let E;for(;(E=p.indexOf(`
`))>=0;){const A=p.slice(0,E).trim();if(p=p.slice(E+1),!!A)try{a(JSON.parse(A))}catch{}}}const y=p.trim();if(y)try{a(JSON.parse(y))}catch{}}catch(y){if(au(y))return;throw y}}async function n2(e,a,s){const i=ii("/bases/actualizar/dry-run-upload"),c=Dn()?.token,d=await fetch(i,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const v=await d.json();v?.detail&&(h=String(v.detail))}catch{}throw br(h,d.status,f)}await Nh(d,a)}async function a2(e,a){return Ye.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function s2(e,a){return Ye.post("/logistica/log01/start",e,{signal:a})}async function r2(e,a,s){const i=ii(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Dn()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw br(`No se pudo hacer poll (${d.status})`,d.status,f)}return await d.json()}async function l2(e,a){return Ye.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function i2(e){await Ye.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function Um(e={}){const{limit:a=20,offset:s=0,include_deleted:i=!1,q:c,dateFrom:d,dateTo:f,source:h,status:v}=e,p={limit:a,offset:s,include_deleted:i};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),f&&f.trim()&&(p.dateTo=f.trim()),h&&h.trim()&&(p.source=h.trim()),v&&v.trim()&&(p.status=v.trim());const{data:y}=await Ye.get("/logistica/log01/history",{params:p});return y}async function o2(e,a,s){return Ye.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:i=>i===200})}async function c2(e,a){await Ye.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function u2(){return(await Ye.get("/logistica/log02/explorador/roots")).data}async function d2(e){return(await Ye.get("/logistica/log02/explorador/listar",{params:{path:e}})).data}async function f2(e){return(await Ye.post("/logistica/log02/validar-rutas-unc",e)).data}async function m2(e,a){return(await Ye.post("/logistica/log02/copiar-conformes/start",e,{signal:a})).data}async function h2(e,a,s){const i=ii(`/logistica/log02/copiar-conformes/progress/${e}`),c=Dn()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw br(`No se pudo abrir el stream (${d.status})`,d.status,f)}await Nh(d,a)}async function p2(e,a,s){const i=ii(`/logistica/log02/copiar-conformes/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Dn()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw br(`No se pudo hacer poll (${d.status})`,d.status,f)}return await d.json()}async function g2(e){return(await Ye.post(`/logistica/log02/copiar-conformes/cancel/${encodeURIComponent(e)}`)).data}async function b2(e,a){return(await Ye.get(`/logistica/log02/copiar-conformes/reporte/${encodeURIComponent(e)}`,{params:{format:a},responseType:"blob"})).data}async function v2(e={}){const{limit:a=20,offset:s=0,q:i,dateFrom:c,dateTo:d,origin:f}=e,h={limit:a,offset:s};i&&i.trim()&&(h.q=i.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),f&&f.trim()&&(h.origin=f.trim());const{data:v}=await Ye.get("/oi/tools/formato-ac/history",{params:h});return v}async function y2(e,a){return Ye.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function G0(){const{data:e}=await Ye.get("/merge/config/upload-limits");return e}async function P0(e,a,s){return Ye.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function Q0(e){await Ye.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function x2(e){const{data:a}=await Ye.post("/tools/files/upload",e);return a}async function N2(e){const{data:a}=await Ye.post("/tools/excel/inspect",e);return a}async function S2(e){const{data:a}=await Ye.post("/tools/excel/update",e);return a}async function j2(e){const{data:a}=await Ye.post("/tools/excel/change-password",e);return a}async function w2(e){const{data:a}=await Ye.post("/tools/excel/validate",e);return a}function _2({show:e,disabled:a=!1,title:s,accept:i,files:c,onClose:d,onAddFiles:f,onRemoveFile:h,onRemoveAll:v}){const p=g.useRef(null),y=g.useRef(0),[x,S]=g.useState(!1),[I,E]=g.useState("");g.useEffect(()=>{if(!e)return;const L=ee=>{ee.key==="Escape"&&d()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e,d]),g.useEffect(()=>{e||S(!1)},[e]),g.useEffect(()=>{e&&E("")},[e]);const A=g.useCallback(L=>{const ee=xh(L,i);if(ee.length===0)return;const ue=new Set(c.map(nu)),Ee=new Set(ue),je=[],ie=[];for(const we of ee){const ke=nu(we);if(Ee.has(ke)){ie.push(we);continue}Ee.add(ke),je.push(we)}if(ie.length>0){const we=Array.from(new Set(ie.map(Te=>Te.name))),ke=ie.length;if(we.length===1){const Te=ke===1?"Se omiti 1 archivo duplicado":`Se omitieron ${ke} archivos duplicados`;E(`${Te}: "${we[0]}".`)}else E(`Se omitieron ${ke} archivos duplicados: ${we.join(", ")}.`)}je.length>0&&f(je)},[i,c,f]);if(g.useEffect(()=>{if(!e)return;const L=ue=>{ue.preventDefault(),ue.stopPropagation()},ee=ue=>{if(ue.preventDefault(),ue.stopPropagation(),a)return;const Ee=ue.dataTransfer?.files?Array.from(ue.dataTransfer.files):[];A(Ee)};return window.addEventListener("dragover",L,!0),window.addEventListener("drop",ee,!0),()=>{window.removeEventListener("dragover",L,!0),window.removeEventListener("drop",ee,!0)}},[e,a,A]),!e)return null;const _=()=>{a||p.current?.click()},q=L=>{const ee=L.target.files?Array.from(L.target.files):[];A(ee),L.currentTarget.value=""},D=()=>{a||(p.current&&(p.current.value=""),v())},J=L=>{L.preventDefault(),L.stopPropagation(),!a&&(y.current+=1,S(!0))},U=L=>{L.preventDefault(),L.stopPropagation()},T=L=>{L.preventDefault(),L.stopPropagation(),!a&&(y.current=Math.max(0,y.current-1),y.current===0&&S(!1))},G=L=>{if(L.preventDefault(),L.stopPropagation(),y.current=0,S(!1),a)return;const ee=L.dataTransfer?.files?Array.from(L.dataTransfer.files):[];A(ee)};return l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:L=>{L.target===L.currentTarget&&d()},children:l.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),l.jsxs("div",{className:"modal-body",children:[l.jsx("input",{ref:p,className:"d-none",type:"file",accept:i,multiple:!0,onChange:q,disabled:a}),I?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[l.jsx("div",{children:I}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>E("")})]}):null,l.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:J,onDragOver:U,onDragLeave:T,onDrop:G,"aria-disabled":a?"true":"false",children:[l.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",l.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:_,disabled:a,children:"selecciona desde tu equipo"}),"."]}),i?l.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",i]}):null]}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[l.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:_,disabled:a,children:"Agregar ms"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:D,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:l.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:l.jsx("ul",{className:"list-group",children:c.map(L=>{const ee=V0(L);return l.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[l.jsx("div",{className:"text-truncate",style:{minWidth:0},children:L.name}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(ee),disabled:a,children:"Eliminar"})]},ee)})})})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:d,children:"Cerrar"})})]})})})}function E2(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(i=>i.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function _u({label:e,title:a,accept:s,disabled:i=!1,fullDropArea:c=!1,files:d,setFiles:f}){const[h,v]=g.useState(!1),[p,y]=g.useState(!1),[x,S]=g.useState(""),I=g.useRef(0),E=g.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),A=d.length===0?"Agregar archivos":"Modificar/agregar archivos",_=G=>{const L=xh(G,s);L.length!==0&&f(ee=>{const{merged:ue,duplicates:Ee}=QT(ee,L);return Ee.length>0&&S(E2(Ee)),ue})},q=G=>{G.preventDefault(),G.stopPropagation(),!i&&(I.current+=1,y(!0))},D=G=>{G.preventDefault(),G.stopPropagation()},J=G=>{G.preventDefault(),G.stopPropagation(),!i&&(I.current=Math.max(0,I.current-1),I.current===0&&y(!1))},U=G=>{if(G.preventDefault(),G.stopPropagation(),I.current=0,y(!1),i)return;const L=G.dataTransfer?.files?Array.from(G.dataTransfer.files):[];_(L)},T=l.jsxs(l.Fragment,{children:[l.jsx("label",{className:"form-label",children:e}),l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>v(!0),disabled:i,children:A}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:E})]}),x?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[l.jsx("div",{children:x}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>S("")})]}):null]});return l.jsxs(l.Fragment,{children:[c?l.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:q,onDragOver:D,onDragLeave:J,onDrop:U,"aria-disabled":i?"true":"false",children:T}):l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:e}),l.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:q,onDragOver:D,onDragLeave:J,onDrop:U,"aria-disabled":i?"true":"false",children:l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>v(!0),disabled:i,children:A}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:E})]})}),x?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[l.jsx("div",{children:x}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>S("")})]}):null]}),l.jsx(_2,{show:h,disabled:i,title:a,accept:s,files:d,onClose:()=>v(!1),onAddFiles:_,onRemoveFile:G=>f(L=>L.filter(ee=>V0(ee)!==G)),onRemoveAll:()=>f([])})]})}function C2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function A2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function O2(e){if(!gt.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,i=a.response?.data;if(i instanceof Blob)try{const d=await i.text(),f=JSON.parse(d);return{detail:String(f?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=i?.detail??a.message;return{detail:String(c),code:s}}function R2(){const[e,a]=g.useState(null),[s,i]=g.useState([]),[c,d]=g.useState(""),[f,h]=g.useState(""),[v,p]=g.useState("^OI-(\\d+)-(\\d{4})$"),[y,x]=g.useState(9),[S,I]=g.useState("ERROR FINAL"),[E,A]=g.useState(!0),[_,q]=g.useState(!1),[D,J]=g.useState(!1),[U,T]=g.useState(null),[G,L]=g.useState(null),[ee,ue]=g.useState([]),[Ee,je]=g.useState(""),ie=g.useRef(null),we=g.useRef(null),[ke,Te]=g.useState(!1),[M,F]=g.useState(!1),[ae,xe]=g.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Ce=g.useMemo(()=>!!e&&s.length>0&&!U,[e,s,U]);function w(ge){ue(Ie=>[ge,...Ie].slice(0,200));const Ue=typeof ge.percent=="number"?ge.percent:typeof ge.progress=="number"?ge.progress:null;Ue!=null&&Number.isFinite(Ue)&&L(Math.max(0,Math.min(100,Ue)))}function Y(){ie.current?.abort(),ie.current=null}function de(){U&&Y()}function k(ge,Ue){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const Ie=new FormData;Ie.append("base_file",e);for(const lt of s)Ie.append("oi_files",lt);const Xe=(Ue??c).trim();return Xe&&Ie.append("default_password",Xe),f.trim()&&Ie.append("per_file_passwords_json",f.trim()),v.trim()&&Ie.append("oi_pattern",v.trim()),Ie.append("oi_start_row",String(y)),S.trim()&&Ie.append("base_sheet",S.trim()),ge&&Ie.append("operation_id",ge),Ie}function fe(){we.current=null,F(!1)}function me(ge,Ue){we.current=ge,xe(Ue),F(!0)}async function ze(ge){je(""),ue([]),L(0),ie.current=new AbortController,T("dry");try{const Ue=k(void 0,ge?.passwordOverride);await n2(Ue,w,ie.current.signal)}catch(Ue){if(Ue?.name==="AbortError")return;const Ie=Ue?.code,Xe=String(Ue?.message??Ue);if(Ie==="PASSWORD_REQUIRED"){je(""),me("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ie==="WRONG_PASSWORD"){je(""),me("dry","Contrasea incorrecta. Intenta nuevamente.");return}else je(Xe)}finally{Y(),T(null)}}async function qe(ge){je(""),ue([]),L(0);const Ue=crypto.randomUUID();ie.current=new AbortController,Sh(Ue,w,ie.current.signal).catch(()=>{}),T("upload");try{const Ie=k(Ue,ge?.passwordOverride);Ie.append("replicate_merges",E?"true":"false"),Ie.append("replicate_row_heights",_?"true":"false"),Ie.append("replicate_col_widths",D?"true":"false");const Xe=await a2(Ie,ie.current.signal),lt=Xe.headers["content-disposition"],De=Xe.headers["x-file-name"],Pe=C2(lt)??De??"base_actualizada.xlsx";A2(Xe.data,Pe)}catch(Ie){if(gt.isAxiosError(Ie)&&Ie.code==="ERR_CANCELED")return;const{detail:Xe,code:lt}=await O2(Ie);if(lt==="PASSWORD_REQUIRED"){je(""),me("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(lt==="WRONG_PASSWORD"){je(""),me("upload","Contrasea incorrecta. Intenta nuevamente.");return}else je(Xe)}finally{Y(),T(null)}}return l.jsxs("div",{className:"container-fluid",children:[l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),l.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(mo,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!U})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx(_u,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:i,disabled:!!U})}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:c,onChange:ge=>d(ge.target.value),disabled:!!U})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),l.jsx("input",{className:"form-control",value:S,onChange:ge=>I(ge.target.value),disabled:!!U})]}),ke?l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),l.jsx("input",{className:"form-control",value:v,onChange:ge=>p(ge.target.value),disabled:!!U})]}):null,l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio OI"}),l.jsx("input",{className:"form-control",type:"number",min:1,value:y,onChange:ge=>x(Number(ge.target.value||9)),disabled:!!U})]}),l.jsxs("div",{className:"col-12 mB-15",children:[l.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),l.jsx("textarea",{className:"form-control",rows:4,value:f,onChange:ge=>h(ge.target.value),disabled:!!U,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),ke?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:E,onChange:ge=>A(ge.target.checked),disabled:!!U}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:_,onChange:ge=>q(ge.target.checked),disabled:!!U}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:D,onChange:ge=>J(ge.target.checked),disabled:!!U}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),Ee&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:Ee}),l.jsx("div",{className:"d-flex justify-content-end mT-10",children:l.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Te(ge=>!ge),disabled:!!U,children:ke?"Menos Opciones":"Ms Opciones"})}),l.jsxs("div",{className:"d-flex gap-10 mT-15",children:[l.jsx("button",{className:"btn btn-primary",disabled:!Ce,onClick:()=>void qe(),children:U==="upload"?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger",disabled:!U,onClick:de,children:"Cancelar"}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!Ce,onClick:()=>void ze(),children:U==="dry"?"Analizando...":"Analizar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),U?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${G??0}%`},"aria-valuenow":G??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:ee.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:ee.map((ge,Ue)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:Xl(ge.type)})," ",ge.stage?l.jsxs("span",{className:"text-muted",children:["[",Jr(ge.stage),"]"]}):null,typeof ge.percent=="number"?l.jsxs("span",{className:"text-muted",children:["  ",ge.percent.toFixed(1),"%"]}):null]}),l.jsx("div",{className:"text-muted",children:li(ge.message??ge.detail??"")}),ge.code?l.jsxs("div",{className:"text-muted",children:["Cdigo: ",ge.code]}):null]},Ue))})})]})})]}),l.jsx(wu,{show:M,title:"Archivo protegido",confirmLabel:"Continuar",helpText:ae,onClose:fe,onConfirm:ge=>{d(ge),F(!1);const Ue=we.current;we.current=null,Ue&&(Ue==="dry"?ze({passwordOverride:ge}):qe({passwordOverride:ge}))}})]})}const T2="America/Lima";function D2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function z2(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}function k2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:T2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function M2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function U2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function L2(){const[e,a]=g.useState([]),[s,i]=g.useState(0),[c,d]=g.useState(!1),[f,h]=g.useState(""),[v,p]=g.useState(0),[y,x]=g.useState(""),[S,I]=g.useState(""),[E,A]=g.useState(""),[_,q]=g.useState(""),[D,J]=g.useState(20),[U,T]=g.useState(1),[G,L]=g.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),ee=g.useMemo(()=>(U-1)*D,[U,D]);g.useEffect(()=>{let F=!1;return d(!0),h(""),v2({limit:D,offset:ee,q:G.q||void 0,dateFrom:G.dateFrom||void 0,dateTo:G.dateTo||void 0,origin:G.origin||void 0}).then(ae=>{F||(a(Array.isArray(ae?.items)?ae.items:[]),i(typeof ae?.total=="number"?ae.total:0))}).catch(ae=>{if(F)return;const xe=ae,Ce=xe.response?.data?.detail||xe.message||"No se pudo cargar historial.";h(Ce)}).finally(()=>{F||d(!1)}),()=>{F=!0}},[G,ee,D,v]);const ue=()=>{L({q:y.trim(),dateFrom:S.trim(),dateTo:E.trim(),origin:_.trim()}),T(1)},Ee=()=>{x(""),I(""),A(""),q(""),L({q:"",dateFrom:"",dateTo:"",origin:""}),T(1),p(F=>F+1)},je=()=>p(F=>F+1),ie=async F=>{try{h("");const ae=await y2(F),xe=ae.headers["content-disposition"],Ce=ae.headers["x-file-name"],w=D2(xe)??Ce??"formato_ac.xlsx";z2(ae.data,w)}catch(ae){const xe=ae;if(gt.isCancel(xe))return;const Ce=xe.response?.data?.detail||xe.message||"No se pudo descargar.";h(Ce)}},we=s===0?0:ee+1,ke=s===0?0:Math.min(ee+e.length,s),Te=U>1,M=ee+e.length<s;return l.jsx("div",{className:"container-fluid",children:l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:l.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),f?l.jsx("div",{className:"alert alert-danger",role:"alert",children:f}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:F=>{F.preventDefault(),ue()},children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:y,onChange:F=>x(F.target.value),onKeyDown:F=>{F.key==="Enter"&&ue()},placeholder:"Operacion o usuario..."})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha desde"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:S,onChange:F=>I(F.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha hasta"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:E,onChange:F=>A(F.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:F=>q(F.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),l.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:D,onChange:F=>{const ae=Number(F.target.value);J(Number.isFinite(ae)?ae:20),T(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Ee,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:je,children:"Recargar"})]})]}),l.jsxs("div",{className:"mT-15",children:[c?l.jsx("div",{className:"text-muted",children:"Cargando historial..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),l.jsx("tbody",{children:e.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(F=>{const ae=F.created_by_full_name||F.created_by_username||"N/D";return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:F.operation_id}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:k2(F.created_at)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:ae}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:U2(F.origin)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("span",{className:M2(F.status),children:F.status})}),l.jsx("td",{children:l.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void ie(F.id),children:"Descargar"})})})]},F.id)})})]})}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[l.jsxs("div",{className:"small text-muted",children:["Mostrando ",we,"-",ke," de ",s," registros"]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>T(F=>Math.max(1,F-1)),disabled:!Te||c,children:"Anterior"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>T(F=>F+1),disabled:!M||c,children:"Siguiente"})]})]})]})]})})})})}function B2(){return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),l.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6 mB-15",children:l.jsx("div",{className:"card h-100",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:"Correlativo"}),l.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),l.jsx(Fc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),l.jsx("div",{className:"col-md-6 mB-15",children:l.jsx("div",{className:"card h-100",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:"No correlativo"}),l.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),l.jsx(Fc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function q2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function I2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function $2(e){if(!gt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function F2(){const[e,a]=g.useState(null),[s,i]=g.useState(null),[c,d]=g.useState([]),[f,h]=g.useState(!1),[v,p]=g.useState(""),[y,x]=g.useState(null),[S,I]=g.useState([]),E=g.useRef(null),A=g.useRef(null),_=g.useMemo(()=>!!s&&c.length>0&&!f,[s,c,f]);g.useEffect(()=>{G0().then(a).catch(()=>a(null))},[]);function q(T){I(L=>[T,...L].slice(0,200));const G=typeof T.percent=="number"?T.percent:typeof T.progress=="number"?T.progress:null;G!=null&&Number.isFinite(G)&&x(Math.max(0,Math.min(100,G)))}function D(){E.current?.abort(),E.current=null}function J(){if(!f)return;const T=A.current;T&&Q0(T).catch(()=>{}),q({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function U(){if(p(""),I([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const T=new FormData;T.append("master",s);for(const L of c)T.append("technicians",L);const G=crypto.randomUUID();A.current=G,T.append("operation_id",G),E.current=new AbortController,h(!0);try{const L=E.current?.signal;Sh(G,q,L).catch(()=>{});const ee=await P0(T,"correlativo",L),ue=ee.headers["content-disposition"],Ee=q2(ue)??"consolidado_correlativo.xlsx";I2(ee.data,Ee)}catch(L){if(gt.isAxiosError(L)&&L.code==="ERR_CANCELED"||gt.isAxiosError(L)&&(L.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const ee=await $2(L);q({type:"error",stage:"error",detail:ee}),p(ee)}finally{A.current=null,h(!1),D()}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),l.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&l.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",l.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",l.jsx("b",{children:e.max_tech_files})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(mo,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:i,disabled:f})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx(_u,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:f})})]}),v&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:v}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary mT-10",disabled:!_,onClick:U,children:f?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!f,onClick:J,children:"Cancelar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),f?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${y??0}%`},"aria-valuenow":y??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:S.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:S.map((T,G)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:Xl(T.type)})," ",T.stage?l.jsxs("span",{className:"text-muted",children:["[",Jr(T.stage),"]"]}):null]}),l.jsx("div",{className:"text-muted",children:li(T.message??T.detail??"")})]},G))})})]})})]})})}function H2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function V2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function Z2(e){if(!gt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function G2(){const[e,a]=g.useState(null),[s,i]=g.useState(null),[c,d]=g.useState([]),[f,h]=g.useState(!1),[v,p]=g.useState(""),[y,x]=g.useState(null),[S,I]=g.useState([]),E=g.useRef(null),A=g.useRef(null),_=g.useMemo(()=>!!s&&c.length>0&&!f,[s,c,f]);g.useEffect(()=>{G0().then(a).catch(()=>a(null))},[]);function q(T){I(L=>[T,...L].slice(0,200));const G=typeof T.percent=="number"?T.percent:typeof T.progress=="number"?T.progress:null;G!=null&&Number.isFinite(G)&&x(Math.max(0,Math.min(100,G)))}function D(){E.current?.abort(),E.current=null}function J(){if(!f)return;const T=A.current;T&&Q0(T).catch(()=>{}),q({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function U(){if(p(""),I([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const T=new FormData;T.append("master",s);for(const L of c)T.append("technicians",L);const G=crypto.randomUUID();A.current=G,T.append("operation_id",G),E.current=new AbortController,h(!0);try{const L=E.current?.signal;Sh(G,q,L).catch(()=>{});const ee=await P0(T,"no-correlativo",L),ue=ee.headers["content-disposition"],Ee=H2(ue)??"consolidado_no_correlativo.xlsx";V2(ee.data,Ee)}catch(L){if(gt.isAxiosError(L)&&L.code==="ERR_CANCELED"||gt.isAxiosError(L)&&(L.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const ee=await Z2(L);q({type:"error",stage:"error",detail:ee}),p(ee)}finally{A.current=null,h(!1),D()}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),l.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&l.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",l.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",l.jsx("b",{children:e.max_tech_files})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(mo,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:i,disabled:f})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx(_u,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:f})})]}),v&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:v}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary mT-10",disabled:!_,onClick:U,children:f?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!f,onClick:J,children:"Cancelar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),f?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${y??0}%`},"aria-valuenow":y??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:S.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:S.map((T,G)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:Xl(T.type)})," ",T.stage?l.jsxs("span",{className:"text-muted",children:["[",Jr(T.stage),"]"]}):null]}),l.jsx("div",{className:"text-muted",children:li(T.message??T.detail??"")})]},G))})})]})})]})})}async function Wi(e){if(!gt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function P2(){const[e,a]=g.useState(null),[s,i]=g.useState(""),[c,d]=g.useState(""),[f,h]=g.useState(""),[v,p]=g.useState("ERROR FINAL"),[y,x]=g.useState(""),[S,I]=g.useState("same_password"),[E,A]=g.useState(""),[_,q]=g.useState([{cell:"A1",value:""}]),[D,J]=g.useState(""),[U,T]=g.useState("no_password"),[G,L]=g.useState(""),[ee,ue]=g.useState("ERROR FINAL"),[Ee,je]=g.useState(1),[ie,we]=g.useState(""),[ke,Te]=g.useState(""),[M,F]=g.useState(""),[ae,xe]=g.useState(null),[Ce,w]=g.useState(""),[Y,de]=g.useState(null),[k,fe]=g.useState([]),[me,ze]=g.useState(null),qe=g.useMemo(()=>c.trim().length>0,[c]);function ge(ve){fe(Ze=>[ve,...Ze].slice(0,200))}function Ue(){w(""),fe([]),de(0),ze(null)}async function Ie(){if(Ue(),!e){w("Selecciona un archivo para subir.");return}xe("upload");try{ge({type:"status",stage:"upload",message:"Subiendo archivo..."}),de(30);const ve=new FormData;ve.append("file",e),s.trim()&&ve.append("suggested_name",s.trim());const Ze=await x2(ve);d(Ze.relative_path),ze(Ze),ge({type:"complete",stage:"upload",message:"Archivo subido."}),de(100)}catch(ve){const Ze=await Wi(ve);w(Ze),ge({type:"error",stage:"upload",detail:Ze})}finally{xe(null)}}async function Xe(){if(Ue(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}xe("inspect");try{ge({type:"status",stage:"inspect",message:"Inspeccionando..."}),de(50);const ve=await N2({file_path:c.trim(),open_password:f.trim()||null});ze(ve),ge({type:"complete",stage:"inspect",message:"Inspeccin completada."}),de(100)}catch(ve){const Ze=await Wi(ve);w(Ze),ge({type:"error",stage:"inspect",detail:Ze})}finally{xe(null)}}async function lt(){if(Ue(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}if(!v.trim()){w("Ingresa el nombre de la hoja.");return}const ve=_.map(Ze=>({cell:Ze.cell.trim(),value:Ze.value})).filter(Ze=>Ze.cell);if(ve.length===0){w("Agrega al menos una edicin.");return}xe("update");try{ge({type:"status",stage:"update",message:"Aplicando ediciones..."}),de(50);const Ze=await S2({file_path:c.trim(),edits:ve.map(Ae=>({sheet:v.trim(),cell:Ae.cell,value:Ae.value})),open_password:y.trim()||null,save_mode:S,new_password:S==="new_password"&&E.trim()||null});ze(Ze),ge({type:"complete",stage:"update",message:"Actualizacin completada."}),de(100)}catch(Ze){const Ae=await Wi(Ze);w(Ae),ge({type:"error",stage:"update",detail:Ae})}finally{xe(null)}}async function De(){if(Ue(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}if(!D.trim()){w("Ingresa la contrasea de apertura (open_password).");return}if(U==="new_password"&&!G.trim()){w("Ingresa la nueva contrasea.");return}xe("change-password");try{ge({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),de(50);const ve=await j2({file_path:c.trim(),open_password:D.trim(),mode:U,new_password:U==="new_password"?G.trim():null});ze(ve),ge({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),de(100)}catch(ve){const Ze=await Wi(ve);w(Ze),ge({type:"error",stage:"change-password",detail:Ze})}finally{xe(null)}}async function Pe(){if(Ue(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}let ve={};if(ke.trim())try{ve=JSON.parse(ke)}catch{w("type_rules debe ser JSON vlido.");return}const Ze=ie.split(",").map(Ae=>Ae.trim()).filter(Boolean);xe("validate");try{ge({type:"status",stage:"validate",message:"Validando..."}),de(50);const Ae=await w2({file_path:c.trim(),sheet:ee.trim()||null,header_row:Ee,required_columns:Ze,type_rules:ve,open_password:M.trim()||null});ze(Ae),ge({type:"complete",stage:"validate",message:"Validacin completada."}),de(100)}catch(Ae){const Je=await Wi(Ae);w(Je),ge({type:"error",stage:"validate",detail:Je})}finally{xe(null)}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),l.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-8 mB-10",children:l.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!ae,onChange:ve=>a(ve.target.files?.[0]??null)})}),l.jsx("div",{className:"col-md-4 mB-10",children:l.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!ae,onChange:ve=>i(ve.target.value)})})]}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!!ae||!e,onClick:Ie,children:ae==="upload"?"Subiendo...":"Subir"})]})}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"file_path"}),l.jsx("input",{className:"form-control",value:c,disabled:!!ae,onChange:ve=>d(ve.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),l.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"2) Inspect"}),l.jsxs("div",{className:"row align-items-end",children:[l.jsxs("div",{className:"col-md-8 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:f,disabled:!!ae,onChange:ve=>h(ve.target.value)})]}),l.jsx("div",{className:"col-md-4 mB-10",children:l.jsx("button",{className:"btn btn-primary w-100",disabled:!!ae||!qe,onClick:Xe,children:ae==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"Hoja"}),l.jsx("input",{className:"form-control",value:v,disabled:!!ae,onChange:ve=>p(ve.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:y,disabled:!!ae,onChange:ve=>x(ve.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"save_mode"}),l.jsxs("select",{className:"form-select",value:S,disabled:!!ae,onChange:ve=>I(ve.target.value),children:[l.jsx("option",{value:"same_password",children:"same_password"}),l.jsx("option",{value:"no_password",children:"no_password"}),l.jsx("option",{value:"new_password",children:"new_password"})]})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"new_password"}),l.jsx("input",{className:"form-control",type:"password",value:E,disabled:!!ae||S!=="new_password",onChange:ve=>A(ve.target.value),placeholder:S==="new_password"?"Requerido":""})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsx("label",{className:"form-label",children:"Ediciones"}),_.map((ve,Ze)=>l.jsxs("div",{className:"row g-2 mB-10",children:[l.jsx("div",{className:"col-md-3",children:l.jsx("input",{className:"form-control",value:ve.cell,disabled:!!ae,onChange:Ae=>{const Je=_.slice();Je[Ze]={...Je[Ze],cell:Ae.target.value},q(Je)},placeholder:"Celda (A1)"})}),l.jsx("div",{className:"col-md-7",children:l.jsx("input",{className:"form-control",value:ve.value,disabled:!!ae,onChange:Ae=>{const Je=_.slice();Je[Ze]={...Je[Ze],value:Ae.target.value},q(Je)},placeholder:"Valor"})}),l.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto w-100",disabled:!!ae,onClick:()=>q(Ae=>[...Ae,{cell:"A1",value:""}]),children:"+"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!ae||_.length===1,onClick:()=>q(Ae=>Ae.filter((Je,C)=>C!==Ze)),children:""})]})]},Ze))]}),l.jsx("button",{className:"btn btn-primary",disabled:!!ae||!qe,onClick:lt,children:ae==="update"?"Actualizando...":"Update"})]})}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"4) Change password"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password"}),l.jsx("input",{className:"form-control",type:"password",value:D,disabled:!!ae,onChange:ve=>J(ve.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"mode"}),l.jsxs("select",{className:"form-select",value:U,disabled:!!ae,onChange:ve=>T(ve.target.value),children:[l.jsx("option",{value:"no_password",children:"no_password"}),l.jsx("option",{value:"new_password",children:"new_password"})]})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"new_password"}),l.jsx("input",{className:"form-control",type:"password",value:G,disabled:!!ae||U!=="new_password",onChange:ve=>L(ve.target.value),placeholder:U==="new_password"?"Requerido":""})]}),l.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:l.jsx("button",{className:"btn btn-primary w-100",disabled:!!ae||!qe,onClick:De,children:ae==="change-password"?"Procesando...":"Change password"})})]})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"5) Validate"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"sheet (opcional)"}),l.jsx("input",{className:"form-control",value:ee,disabled:!!ae,onChange:ve=>ue(ve.target.value)})]}),l.jsxs("div",{className:"col-md-3 mB-10",children:[l.jsx("label",{className:"form-label",children:"header_row"}),l.jsx("input",{className:"form-control",type:"number",min:1,value:Ee,disabled:!!ae,onChange:ve=>je(Number(ve.target.value||1))})]}),l.jsxs("div",{className:"col-md-3 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:M,disabled:!!ae,onChange:ve=>F(ve.target.value)})]}),l.jsxs("div",{className:"col-12 mB-10",children:[l.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),l.jsx("input",{className:"form-control",value:ie,disabled:!!ae,onChange:ve=>we(ve.target.value),placeholder:"ColA, ColB, ColC"})]}),l.jsxs("div",{className:"col-12 mB-10",children:[l.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),l.jsx("textarea",{className:"form-control",rows:3,value:ke,disabled:!!ae,onChange:ve=>Te(ve.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),l.jsx("button",{className:"btn btn-primary",disabled:!!ae||!qe,onClick:Pe,children:ae==="validate"?"Validando...":"Validate"})]})}),Ce&&l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Ce})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),ae?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Y??0}%`},"aria-valuenow":Y??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:k.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:k.map((ve,Ze)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:ve.type})," ",ve.stage?l.jsxs("span",{className:"text-muted",children:["[",ve.stage,"]"]}):null]}),l.jsx("div",{className:"text-muted",children:ve.message??ve.detail??""})]},Ze))})}),l.jsx("hr",{className:"mY-15"}),l.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),me?l.jsx("pre",{className:"vi-surface-2 p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(me,null,2)}):l.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function Q2(){const e=oa(),a=Wr(),{toast:s}=el(),i=Dn(),c=Kl(i?.role),d=oo(),f=c&&!(d&&d>0),{data:h,isLoading:v,error:p}=Qr({queryKey:["catalogs"],queryFn:oh,enabled:f}),y=h?.bancos??[],[x,S]=g.useState(()=>d&&d>0?d:0),[I,E]=g.useState(!1),A=g.useMemo(()=>y.find(J=>J.id===x)?.name??null,[y,x]);g.useEffect(()=>{const D=e.state;D?.toast&&(s({kind:D.toast.kind??"info",title:D.toast.title,message:D.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),g.useEffect(()=>{f&&(x>0||y.length>0&&S(y[0].id))},[x,y,f]);const _=x>0&&!I,q=async()=>{if(_)try{E(!0);const D=await d0(x),J=wm(D.userId,D.bancoId??x);if(J.target){a(J.target,{replace:!0});return}s({kind:"success",title:"Banco",message:A?`Banco seleccionado: ${A}`:"Banco seleccionado."})}catch(D){const J=D?.response?.data?.detail??D?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(J)})}finally{E(!1)}};return l.jsxs("div",{className:"vi-home",children:[l.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),f&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsx("div",{className:"modal-header",children:l.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),l.jsxs("div",{className:"modal-body",children:[l.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),l.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),l.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:D=>S(Number(D.target.value)),disabled:v||I,children:y.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))}),p?l.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-primary",disabled:!_,onClick:q,children:I?"Guardando...":"Continuar"})})]})})})]})}const eo=(...e)=>{};function Y2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function K2(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}async function X2(e,a){let s=null,i=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{i=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!i}function J2(){const[e,a]=g.useState([]),[s,i]=g.useState(""),[c,d]=g.useState([]),[f,h]=g.useState(0),[v,p]=g.useState("Listo para procesar"),[y,x]=g.useState(!1),[S,I]=g.useState(""),[E,A]=g.useState(!1),[_,q]=g.useState(null),[D,J]=g.useState(null),[U,T]=g.useState(!1);function G(R){const P=R?.series_duplicates_eliminated??R?.detail?.series_duplicates_eliminated??R?.series_duplcates_eliminated;return typeof P=="number"?P:null}const L={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function ee(R){const P=String(R??"").trim().toUpperCase();return P?L[P]??P:""}function ue(R){if(!R)return"";let P=li(R);P=P.replace(/\bERROR\b/gi,"Error");for(const[Z,le]of Object.entries(L))P=P.replace(new RegExp(`\\b${Z}\\b`,"g"),le);return P}function Ee(R,P){const Z=ee(R),le=ue(P);return le?Z&&!le.toLowerCase().includes(Z.toLowerCase())?`${Z}: ${le}`:le:Z||"N/D"}function je(R,P,Z){const le=String(Z??"").trim();if(le)return le;const Re=Number(R);if(!Number.isFinite(Re)||Re<=0)return"N/D";const Be=Number(P);return Number.isFinite(Be)&&Be>0?`OI-${String(Re).padStart(4,"0")}-${String(Be).padStart(4,"0")}`:`OI-${String(Re).padStart(4,"0")}`}function ie(R){const P=R?.rows_total_read??R?.totals_input?.rows_read;return typeof P=="number"?P:null}const we=g.useMemo(()=>(Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[]).filter(P=>P?.status==="OK"&&String(P?.source??"").toUpperCase()==="BASES").slice().sort((P,Z)=>{const le=Number(P?.oi_year),Re=Number(Z?.oi_year),Be=Number.isFinite(le)&&le>0,se=Number.isFinite(Re)&&Re>0;if(Be&&se&&le!==Re)return le-Re;if(Be&&!se)return-1;if(!Be&&se)return 1;const Le=Number(P?.oi_num),He=Number(Z?.oi_num),it=Number.isFinite(Le),Gt=Number.isFinite(He);if(it&&Gt&&Le!==He)return Le-He;if(it&&!Gt)return-1;if(!it&&Gt)return 1;const Ne=String(P?.oi_tag??P?.oi??P?.oi_num??"").toUpperCase(),tt=String(Z?.oi_tag??Z?.oi??Z?.oi_num??"").toUpperCase();return Ne.localeCompare(tt)}),[D]),ke=g.useMemo(()=>(Array.isArray(D?.files_rejected)?D.files_rejected:[]).slice().sort((P,Z)=>{const le=String(P?.oi??P?.filename??"").toUpperCase(),Re=String(Z?.oi??Z?.filename??"").toUpperCase();return le.localeCompare(Re)}),[D]),Te=g.useMemo(()=>{const R=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),P=D?.by_source;if(P&&typeof P=="object")return P;const Z={BASES:R(),GASELAG:R()},le=Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[];for(const Be of le){if(Be?.status!=="OK")continue;const Le=String(Be?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";Z[Le].files_ok+=1,Z[Le].rows_read+=Number(Be?.rows_read??0)||0,Z[Le].conformes+=Number(Be?.conformes??0)||0,Z[Le].no_conformes+=Number(Be?.no_conformes??0)||0,Z[Le].rows_ignored_invalid_estado+=Number(Be?.rows_ignored_invalid_estado??0)||0}const Re=Array.isArray(D?.files_rejected)?D.files_rejected:[];for(const Be of Re){const Le=String(Be?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";Z[Le].files_error+=1}for(const Be of["BASES","GASELAG"])Z[Be].files_total=Z[Be].files_ok+Z[Be].files_error;return Z},[D]),M=g.useRef(null),F=g.useRef(null),ae=g.useRef(null),xe=g.useRef(!1),Ce=g.useRef(null),w=g.useRef(null),Y=g.useRef(null),de=g.useRef(!1),k=g.useRef(!1),fe=g.useRef(-1),me=g.useRef(-1),ze=g.useRef(!1);function qe(){return Ce.current||(Ce.current=crypto.randomUUID()),Ce.current}function ge(R){const P=`${Xl(R.type)}  ${Jr(R.stage)}  ${ue(R.message??R.detail??"")}`;if(p(P),d(Z=>{const le=[R,...Z];if(!ze.current&&R.stage==="cancelled"){ze.current=!0;const Re=le.filter(He=>He.stage==="file_done"||He.stage==="file_error").length,Be=le.filter(He=>He.stage==="file_done").length,se=le.filter(He=>He.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Re} (OK: ${Be}, Rechazados: ${se}). No se gener resultado final.`},...le]}return le}),R.type==="complete"){const Z=R.result??null;J(Z)}typeof R.progress=="number"&&h(Math.round(R.progress)),typeof R.percent=="number"&&h(Math.round(R.percent)),!xe.current&&(R.type==="complete"||R.stage==="cancelled"||R.stage==="failed")&&(xe.current=!0,R.type==="complete"?(A(!0),q(Ce.current)):(A(!1),q(null),Ce.current=null),x(!1),lt("terminal_event"),De())}function Ue(R){return typeof R.cursor!="number"?!1:R.cursor<=me.current?!0:(me.current=R.cursor,R.cursor>fe.current&&(fe.current=R.cursor),!1)}function Ie(R){xe.current||Ue(R)||ge(R)}function Xe(R,P){const Z=new FormData;Z.append("operation_id",R),Z.append("source","AUTO"),s.trim()&&Z.append("output_filename",s.trim());for(const le of P)Z.append("files",le);return Z}function lt(R){F.current&&(ae.current=R,F.current.abort(),F.current=null)}function De(R){k.current&&(k.current=!1,w.current!=null&&(window.clearTimeout(w.current),w.current=null),Y.current?.abort(),Y.current=null,de.current=!1)}function Pe(R){k.current&&(w.current!=null&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>{ve()},R))}async function ve(){if(!k.current||de.current)return;const R=Ce.current;if(!R){De();return}de.current=!0;try{const P=await r2(R,fe.current,Y.current?.signal);eo("[LOG01] poll cursor =",fe.current,"->",P.cursor_next),fe.current=P.cursor_next;for(const Z of P.events)Ie(Z);if(P.done&&P.events.length===0){De("done");return}}catch(P){P?.name}finally{de.current=!1,k.current&&Pe(350)}}function Ze(R){k.current||(k.current=!0,Y.current=new AbortController,Pe(0))}function Ae(){M.current?.abort(),M.current=null}async function Je(){if(!y)return;const R=Ce.current;if(R)try{await i2(R)}catch(P){const Z=P;gt.isCancel(Z)||I(Z.response?.data?.detail||Z.message||"No se pudo cancelar la operacion")}Ae()}async function C(){I(""),d([]),J(null),h(0),p("Listo para procesar"),A(!1),q(null),ae.current=null,xe.current=!1,ze.current=!1,fe.current=-1,me.current=-1,De();const R=[...e];if(!R.length){I("Debes seleccionar al menos 1 Excel.");return}Ce.current=null;const P=qe();let Z=null,le=null;const Re=new Promise((Le,He)=>{Z=Le,le=He});F.current=new AbortController,M.current=new AbortController,t2(P,Le=>{if(Le.type==="hello"){Z&&(Z(),Z=null);return}Ie(Le)},F.current.signal).then(()=>{xe.current||Ze()}).catch(Le=>{Le?.name==="AbortError"?eo("[LOG01] progress stream aborted (reason) =",ae.current):(le&&(le(Le),le=null),Ze())}),x(!0);try{await X2(Re,1800)?eo("[LOG01] hello received"):Ze("hello_timeout");const He=Xe(P,R);eo("[LOG01] operation_id(start) =",P),await s2(He,M.current.signal)}catch(Le){const He=Le;if(gt.isCancel(He))return;const it=He.response?.data?.detail||He.message||"Error inesperado";I(it),x(!1),Ae(),lt("start_failed"),De(),Ce.current=null}finally{Ae()}}async function Q(){const R=_??Ce.current;if(!R){I("No hay resultado disponible.");return}try{I(""),eo("[LOG01] operation_id(result) =",R);const P=await l2(R),Z=P.headers["content-disposition"],le=P.headers["x-file-name"],Re=Y2(Z)??le??"BD_CONSOLIDADO.xlsx";K2(P.data,Re)}catch(P){const Z=P;if(gt.isCancel(Z))return;const le=Z.response?.data?.detail||Z.message||"No se pudo descargar.";I(le)}}return l.jsx("div",{className:"container-fluid",children:l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),S&&l.jsx("div",{className:"alert alert-danger",role:"alert",children:S}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-12 mB-15",children:[l.jsx(_u,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:y}),l.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),l.jsx("input",{className:"form-control",value:s,onChange:R=>i(R.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:y})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),l.jsxs("div",{className:"vi-log01-actions",children:[l.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:C,disabled:y,children:y?"Procesando...":"Consolidar"}),y?l.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Je(),children:"Cancelar"}):null,!y&&E?l.jsx(l.Fragment,{children:l.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void Q(),children:"Descargar Excel"})}):null]})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),y?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress",children:l.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${f}%`},"aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":100,children:[f,"%"]})}),l.jsx("div",{className:"mT-10 text-muted",children:v})]}),!y&&D?l.jsxs("div",{className:"mT-20",children:[l.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),l.jsx("div",{className:"bd p-10",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("div",{className:"small text-muted",children:"Archivos"}),l.jsxs("div",{className:"small",children:["Total: ",l.jsx("strong",{children:D.files_total??"N/D"}),"  OK:"," ",l.jsx("strong",{children:D.files_ok??"N/D"}),"  Rechazados:"," ",l.jsx("strong",{children:D.files_error??"N/D"})]}),l.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),l.jsx("tbody",{children:["BASES","GASELAG"].map(R=>{const P=Te?.[R]??{},Z=P?.files_total??Number(P?.files_ok??0)+Number(P?.files_error??0);return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:R})}),l.jsxs("td",{style:{whiteSpace:"nowrap"},children:[l.jsx("strong",{children:Z??0})," ",l.jsxs("span",{className:"text-muted",children:["(OK: ",P?.files_ok??0,"  Rech: ",P?.files_error??0,")"]})]}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:P?.rows_read??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:P?.conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:P?.no_conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:P?.rows_ignored_invalid_estado??0})})]},R)})})]})}),l.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),we.length>0?l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),l.jsx("tbody",{children:we.map((R,P)=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:je(R?.oi_num,R?.oi_year,R?.oi_tag??R?.oi)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:R?.rows_read??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:R?.conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:R?.no_conformes??0})})]},P))})]})}):l.jsx("div",{className:"small text-muted",children:"N/D"}),Number(Te?.GASELAG?.rows_read??0)>0?l.jsxs("div",{className:"mT-10 small",children:[l.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",l.jsx("strong",{children:Te.GASELAG.rows_read??0}),"  Conformes:"," ",l.jsx("strong",{children:Te.GASELAG.conformes??0}),"  No conformes:"," ",l.jsx("strong",{children:Te.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",l.jsx("strong",{children:Te.GASELAG.rows_ignored_invalid_estado??0})]}):null,l.jsxs("div",{className:"col-12 mT-10 p-0",children:[l.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),l.jsxs("div",{className:"small",children:["Registros ledos:"," ",l.jsx("strong",{children:D.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",l.jsx("strong",{children:D.totals_input?.conformes??"N/D"}),"  No conformes:"," ",l.jsx("strong",{children:D.totals_input?.no_conformes??"N/D"})]})]})]}),l.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[ke.length>0?l.jsxs("div",{className:"mT-15",children:[l.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),l.jsx("tbody",{children:ke.map((R,P)=>{const Z=Ee(R?.code,R?.detail),le=String(R?.source??"").toUpperCase();let Re=R?.filename??"N/D";if(le==="BASES"){const Be=Number(R?.oi_num),se=je(Be,R?.oi_year,R?.oi_tag??R?.oi);se!=="N/D"&&(Re=`${se} / ${Re}`)}else le==="GASELAG"&&(Re=`GASELAG / ${Re}`);return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:Re}),l.jsx("td",{children:Z})]},P)})})]})})]}):null,l.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),l.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",l.jsx("strong",{children:D.series_total_dedup??"N/D"}),"  Conformes finales:"," ",l.jsx("strong",{children:D.series_conformes??"N/D"}),"  No conformes finales:"," ",l.jsx("strong",{children:D.series_no_conformes_final??"N/D"})]}),l.jsx("div",{className:"mT-10",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>T(R=>!R),children:U?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),U?l.jsxs("div",{className:"mT-10",children:[l.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),l.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",l.jsx("strong",{children:ie(D)??"N/D"})," "," Duplicados eliminados:"," ",l.jsx("strong",{children:G(D)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",l.jsx("strong",{children:(()=>{const R=ie(D),P=G(D);if(typeof R=="number"&&typeof P=="number")return R-P;const Z=D.series_total_dedup;return typeof Z=="number"?Z:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&l.jsxs("div",{className:"mT-20",children:[l.jsx("h6",{className:"c-grey-900",children:"Eventos"}),l.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((R,P)=>{const Z=String(R.message??""),le=String(R.code??""),Re=String(R.detail??""),Be=ue(Z||Re||""),se=Be.toLowerCase(),Le=ee(le),He=ue(Re),it=[];Le&&!se.includes(Le.toLowerCase())&&it.push(Le),He&&!se.includes(He.toLowerCase())&&it.push(He);const Gt=it.join("  ");return l.jsxs("div",{className:"small",children:[Xl(R.type),"  ",Be,Gt?l.jsxs("span",{className:"text-muted",children:[" (",Gt,")"]}):null]},P)})})]})]})})})})}const W2="America/Lima";function eD(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function tD(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}function nD(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:W2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function am(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function Ly(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function aD(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning vi-text-contrast":"badge bg-secondary"}function sD(){const e=Wr(),a=Dn(),s=Pa(a?.role,a?.username),i=s==="admin"||s==="administrator",[c,d]=g.useState([]),[f,h]=g.useState(0),[v,p]=g.useState(!1),[y,x]=g.useState(""),[S,I]=g.useState(0),[E,A]=g.useState(""),[_,q]=g.useState(""),[D,J]=g.useState(""),[U,T]=g.useState(""),[G,L]=g.useState(""),[ee,ue]=g.useState(20),[Ee,je]=g.useState(1),[ie,we]=g.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),ke=g.useMemo(()=>(Ee-1)*ee,[Ee,ee]);g.useEffect(()=>{let k=!1;return p(!0),x(""),Um({limit:ee,offset:ke,include_deleted:!1,q:ie.q||void 0,dateFrom:ie.dateFrom||void 0,dateTo:ie.dateTo||void 0,source:ie.source||void 0,status:ie.status||void 0}).then(fe=>{k||(d(Array.isArray(fe?.items)?fe.items:[]),h(typeof fe?.total=="number"?fe.total:0))}).catch(fe=>{if(k)return;const me=fe,ze=me.response?.data?.detail||me.message||"No se pudo cargar historial.";x(ze)}).finally(()=>{k||p(!1)}),()=>{k=!0}},[ie,ke,ee,S]);const Te=()=>{we({q:E.trim(),dateFrom:_.trim(),dateTo:D.trim(),source:U.trim(),status:G.trim()}),je(1)},M=()=>{A(""),q(""),J(""),T(""),L(""),we({q:"",dateFrom:"",dateTo:"",source:"",status:""}),je(1),I(k=>k+1)},F=()=>I(k=>k+1),ae=async(k,fe)=>{try{x("");const me=await o2(k,fe),ze=me.headers["content-disposition"],qe=me.headers["x-file-name"],ge=eD(ze)??qe??`${fe}.bin`;tD(me.data,ge)}catch(me){const ze=me;if(gt.isCancel(ze))return;const qe=ze.response?.data?.detail||ze.message||"No se pudo descargar.";x(qe)}},xe=async k=>{if(i&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await c2(k),F()}catch(fe){const me=fe;if(gt.isCancel(me))return;const ze=me.response?.data?.detail||me.message||"No se pudo eliminar.";x(ze)}},Ce=f===0?0:ke+1,w=f===0?0:Math.min(ke+c.length,f),Y=Ee>1,de=ke+c.length<f;return l.jsx("div",{className:"container-fluid",children:l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[l.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),y?l.jsx("div",{className:"alert alert-danger",role:"alert",children:y}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:k=>{k.preventDefault(),Te()},children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:E,onChange:k=>A(k.target.value),onKeyDown:k=>{k.key==="Enter"&&Te()},placeholder:"Usuario, serie inicial, serie final..."})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha desde"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:_,onChange:k=>q(k.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha hasta"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:D,onChange:k=>J(k.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsxs("select",{className:"form-select form-select-sm",value:U,onChange:k=>T(k.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"AUTO",children:"AUTO"}),l.jsx("option",{value:"BASES",children:"BASES"}),l.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Estado"}),l.jsxs("select",{className:"form-select form-select-sm",value:G,onChange:k=>L(k.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),l.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),l.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),l.jsxs("div",{className:"col-md-1",children:[l.jsx("label",{className:"form-label",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:ee,onChange:k=>{const fe=Number(k.target.value);ue(Number.isFinite(fe)?fe:20),je(1)},children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:v,children:"Buscar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:M,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:F,children:"Recargar"})]})]}),l.jsxs("div",{className:"mT-15",children:[v?l.jsx("div",{className:"text-muted",children:"Cargando historial..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),l.jsx("tbody",{children:c.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(k=>{const fe=k.summary_json,me=Ly(fe,"serie_ini"),ze=Ly(fe,"serie_fin"),qe=am(fe,"series_total_dedup"),ge=am(fe,"series_conformes"),Ue=am(fe,"series_no_conformes_final"),Ie=k.created_by_full_name||k.created_by_username||"N/D";return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:nD(k.created_at)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:Ie}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("span",{className:aD(k.status),children:k.status})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:me}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:ze}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:qe})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:ge})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:Ue})}),l.jsx("td",{children:l.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void ae(k.id,"excel"),children:"Excel"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void ae(k.id,"no-conforme"),children:"No conforme"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void ae(k.id,"manifiesto"),children:"Manifiesto"}),i?l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void xe(k.id),children:"Eliminar"}):null]})})]},k.id)})})]})}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[l.jsxs("div",{className:"small text-muted",children:["Mostrando ",Ce,"-",w," de ",f]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>je(k=>Math.max(1,k-1)),disabled:!Y||v,children:"Anterior"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>je(k=>k+1),disabled:!de||v,children:"Siguiente"})]})]})]})]})})})})}function Hl(e){return e===!0?"badge bg-success":e===!1?"badge bg-danger":"badge bg-secondary"}const sm=250,rm="medileser_log02_rutas_v1",Lm="America/Lima",mr=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugProgress")==="1",rD="[log02-copy-progress]",By=2e3,lD=500;function fr(...e){mr&&console.log(rD,...e)}function qy(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:Lm,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function Iy(e){const a=e,s=String(a?.name||""),i=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(i)||/abort/i.test(i)}function iD(e){const a=e;if(!a)return!1;const s=(a.tagName||"").toLowerCase();return!!(s==="input"||s==="textarea"||s==="select"||a.isContentEditable)}async function to(e){const a=(e||"").trim();if(a)try{await navigator.clipboard.writeText(a);return}catch{const s=document.createElement("textarea");s.value=a,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}}function oD(){const[e,a]=g.useState([""]),[s,i]=g.useState(""),[c,d]=g.useState("consolidate"),[f,h]=g.useState(0),[v,p]=g.useState("0"),[y,x]=g.useState(!1),[S,I]=g.useState(!1),[E,A]=g.useState(""),[_,q]=g.useState(null),[D,J]=g.useState(!1),[U,T]=g.useState(!1),[G,L]=g.useState(!1),[ee,ue]=g.useState(""),[Ee,je]=g.useState([]),[ie,we]=g.useState(null),[ke,Te]=g.useState(""),[M,F]=g.useState(""),[ae,xe]=g.useState(""),[Ce,w]=g.useState(""),[Y,de]=g.useState("COMPLETADO"),[k,fe]=g.useState(!1),[me,ze]=g.useState(""),[qe,ge]=g.useState(0),[Ue,Ie]=g.useState(""),[Xe,lt]=g.useState(""),[De,Pe]=g.useState(""),[ve,Ze]=g.useState([]),[Ae,Je]=g.useState([]),[C,Q]=g.useState(null),R=g.useRef(null),P=g.useRef(!1),Z=g.useRef(!1),le=g.useRef(null),Re=g.useRef(null),Be=g.useRef(!1),se=g.useRef(!1),Le=g.useRef(-1),He=g.useRef(-1),it=g.useRef(""),Gt=g.useRef(null),Ne=g.useRef(!1),tt=g.useRef(""),Pt=g.useRef(0),_t=g.useRef(!0),It=g.useRef(""),[hn,Vn]=g.useState(!1),[Zn,ct]=g.useState("origen"),[Gn,Ln]=g.useState(null),[ta,Pn]=g.useState([]),[Qn,X]=g.useState(""),[W,Oe]=g.useState(""),[Fe,st]=g.useState([]),[et,Ke]=g.useState(!1),[Kt,Ct]=g.useState(""),[vt,Qt]=g.useState(""),[At,ut]=g.useState(""),[bt,zt]=g.useState(""),[kt,on]=g.useState(1),[pn,en]=g.useState(!1),[Ot,yn]=g.useState([]),Et=g.useMemo(()=>{const j=At.trim().toLocaleLowerCase();return j?Fe.filter(H=>(H.name||"").toLocaleLowerCase().includes(j)):Fe},[Fe,At]);g.useEffect(()=>{if(!hn)return;if(!Et.length){vt&&Qt("");return}vt&&Et.some(H=>H.path===vt)||Qt(Et[0].path)},[hn,Et,vt]),g.useEffect(()=>{try{const j=localStorage.getItem(rm);if(!j)return;const H=JSON.parse(j),K=Array.isArray(H.origenes)?H.origenes:[],pe=typeof H?.destino=="string"?H.destino:"",Ve=H?.output_mode==="keep_structure"?"keep_structure":"consolidate",Ut=typeof H?.group_size=="number"&&Number.isFinite(H.group_size)?H.group_size:0;K.length&&a(K),pe&&i(pe),d(Ve),h(Math.max(0,Math.trunc(Ut)))}catch{}},[]),g.useEffect(()=>{try{const j={origenes:e,destino:s,output_mode:c,group_size:Math.max(0,Math.trunc(f||0))};localStorage.setItem(rm,JSON.stringify(j))}catch{}},[e,s,c,f]),g.useEffect(()=>(_t.current=!0,()=>{_t.current=!1,It.current="",aa("unmount"),da("unmount")}),[]);function xn(){a([""]),i(""),q(null),A(""),J(!1),we(null),d("consolidate"),h(0),Q(null),Ze([]),Je([]),lt(""),Ie(""),ge(0),Pe(""),ze(""),on(1),yn([]),en(!1);try{localStorage.removeItem(rm)}catch{}}function Yn(){a(j=>{const H=new Set,K=[];for(const pe of j){const Ve=(pe||"").trim();if(!Ve)continue;const Ut=Ve.toLowerCase();H.has(Ut)||(H.add(Ut),K.push(Ve))}return K.length?K:[""]})}function kn(){J(!0),Ln(null),nn("origen")}function Mt(j){J(!0),Ln(j),nn("origen")}function qs(){J(!0),Ln(null),nn("destino")}async function ca(j=5){ue(""),L(!0);try{const H=await Um({limit:j,offset:0,include_deleted:!1,status:"COMPLETADO"}),K=Array.isArray(H?.items)?H.items:[];if(je(K),ie?.id&&K.length){const pe=K.find(Ve=>Ve.id===ie.id);pe&&we(pe)}}catch(H){const K=H,pe=K.response?.data?.detail||K.message||"No se pudo cargar las corridas.";ue(pe),je([])}finally{L(!1)}}async function Nn(){ue(""),L(!0);try{const j=await Um({limit:20,offset:0,include_deleted:!1,q:ke.trim()||void 0,dateFrom:M.trim()||void 0,dateTo:ae.trim()||void 0,source:Ce.trim()||void 0,status:Y.trim()||void 0}),H=Array.isArray(j?.items)?j.items:[];je(H)}catch(j){const H=j,K=H.response?.data?.detail||H.message||"No se pudo cargar las corridas.";ue(K),je([])}finally{L(!1)}}function Kn(){T(!0),ca(5)}function Ja(j){we(j),T(!1),on(H=>H<3?3:H)}const Wa=g.useMemo(()=>e.map(j=>(j??"").trim()),[e]),ua=g.useMemo(()=>Wa.filter(j=>j),[Wa]),Bn=g.useMemo(()=>(s??"").trim(),[s]),tn=g.useMemo(()=>ua.length>0&&!!Bn,[ua.length,Bn]);function _a(j,H){a(K=>{const pe=K.slice();return pe[j]=H,pe})}function Xn(j){a(H=>{if(H.length<=1)return[""];const K=H.slice();return K.splice(j,1),K})}g.useEffect(()=>{if(!hn)return;function j(K){try{const pe=document.querySelector(`[data-folder-idx="${K}"]`);pe&&(pe.focus(),pe.scrollIntoView({block:"nearest"}))}catch{}}const H=K=>{if(K.key==="Escape"){K.preventDefault(),Vn(!1);return}if(!iD(K.target)){if(K.key==="ArrowDown"||K.key==="ArrowUp"){if(!Et.length)return;K.preventDefault();const pe=Et.findIndex(Ua=>Ua.path===vt),Ve=pe>=0?pe:0,Ut=K.key==="ArrowDown"?Math.min(Et.length-1,Ve+1):Math.max(0,Ve-1),$t=Et[Ut];if(!$t)return;Qt($t.path),requestAnimationFrame(()=>j(Ut));return}if(K.key==="Enter"){if(!vt)return;const pe=Et.find(Ve=>Ve.path===vt);if(!pe)return;K.preventDefault(),na(pe.path);return}}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[hn,vt,et]);async function nn(j){ct(j),Ct(""),Vn(!0),ut("");try{const K=(await u2()).roots||[];Pn(K);const pe=K[0]||"";X(pe),Oe(pe),zt(pe),pe?await na(pe):(st([]),Ct("No hay rutas raz configuradas para el explorador. Configure VI_LOG02_UNC_ROOTS en el servidor."))}catch(H){const K=H,pe=K.response?.data?.detail||K.message||"No se pudo cargar las rutas raz.";Ct(pe),st([])}}async function na(j){if(Ct(""),!j){st([]);return}try{Ke(!0),Qt("");const H=await d2(j);Oe(H.path),zt(H.path);const K=H.folders||[];st(K),Qt(K[0]?.path||"")}catch(H){const K=H,pe=K.response?.data?.detail||K.message||"No se pudo listar la carpeta.";Ct(pe),st([])}finally{Ke(!1)}}function al(j){const H=(j||"").replace(/[\\\/]+$/,""),K=H.startsWith("\\\\"),pe=H.split("\\").filter($t=>$t.length>0);if(pe.length===0)return[];const Ve=[];if(K){const $t=pe[0]||"",Ua=pe[1]||"";if($t){const ns=`\\\\${$t}`;Ve.push({label:`\\\\${$t}`,path:ns})}if($t&&Ua){let ns=`\\\\${$t}\\${Ua}`;Ve.push({label:Ua,path:ns});for(let Fs=2;Fs<pe.length;Fs++)ns=`${ns}\\${pe[Fs]}`,Ve.push({label:pe[Fs],path:ns})}return Ve}let Ut=pe[0];Ve.push({label:pe[0],path:pe[0]});for(let $t=1;$t<pe.length;$t++)Ut=`${Ut}\\${pe[$t]}`,Ve.push({label:pe[$t],path:Ut});return Ve}async function Is(){const j=(bt||"").trim();j&&await na(j)}async function yr(){const j=(W||"").trim();j&&await to(j)}function gs(){const j=(W||"").replace(/[\\\/]+$/,""),H=j.lastIndexOf("\\");if(H<=0)return;const K=j.slice(0,H);na(K)}function xr(j){const H=(j??W??"").trim();H&&(Zn==="destino"?i(H):a(K=>{const pe=H.trim();if(!pe)return K;const Ve=K.slice();return Gn!==null&&Gn>=0&&Gn<Ve.length?(Ve[Gn]=pe,Ve):Ve.map($t=>($t||"").trim().toLowerCase()).includes(pe.toLowerCase())?Ve:Ve.length===1&&!(Ve[0]||"").trim()?[pe]:[...Ve,pe]}),Ln(null),Vn(!1))}function Sn(){const j=(W||"").trim();j&&xr(j)}async function Nr(){A(""),q(null),J(!0);const j=Bn,H=ua;if(!H.length){A("Debes ingresar al menos una ruta de origen.");return}if(!j){A("Debes ingresar una ruta de destino.");return}try{I(!0);const K=await f2({rutas_origen:H,ruta_destino:j});q(K),K.ok?on(pe=>pe<2?2:pe):A("Validacin incompleta: revisa los detalles de permisos y existencia.")}catch(K){const pe=K;if(gt.isCancel(pe))return;const Ve=pe.response?.data?.detail||pe.message||"No se pudo validar las rutas.";A(Ve)}finally{I(!1)}}const $s=g.useMemo(()=>!!_?.ok&&!!ie?.id&&!k,[_?.ok,ie?.id,k]);g.useEffect(()=>{on(j=>k||_?.ok&&ie?.id&&j<3?3:_?.ok&&!ie?.id&&j<2?2:j)},[_?.ok,ie?.id,k]);function bs(j){const H=j?.cursor;if(typeof H=="number"&&Number.isFinite(H))return H;if(typeof H=="string"){const K=Number(H);if(Number.isFinite(K))return K}return null}function cs(j){return j==null?!1:j<=He.current?!0:(He.current=j,j>Le.current&&(Le.current=j),!1)}function sl(j){const H=j?.progress??j?.percent,K=typeof H=="number"?H:typeof H=="string"?Number(H):NaN;if(Number.isFinite(K)){const pe=Math.max(0,Math.min(100,K));ge(Ve=>(mr&&Ve!==pe&&fr("setCopyProgress",{prev:Ve,next:pe}),pe))}}function rl(j){const H=String(j?.type||"");if(sl(j),H==="status"||H==="progress"){const K=j?.stage?String(j.stage):H;if(K&&Ie(K),typeof j?.message=="string"&&j.message&&lt(j.message),K){const pe=K.toLowerCase();(pe==="cancelado"||pe==="cancelled")&&(P.current=!0,It.current="",fe(!1),aa("cancelled"),da("cancelled"))}return}if(H==="oi"){typeof j?.oi=="string"&&Pe(j.oi);return}if(H==="oi_warn"){const K=String(j?.oi||""),pe=String(j?.message||""),Ve=j?.code?String(j.code):void 0;K&&pe&&Ze(Ut=>[...Ut,{oi:K,code:Ve,message:pe}]);return}if(H==="oi_error"||H==="file_error"){const K=j?.oi?String(j.oi):void 0,pe=j?.file?String(j.file):void 0,Ve=String(j?.message||"Error");Je(Ut=>[...Ut,{oi:K,file:pe,message:Ve}]);return}if(H==="error"){const K=String(j?.message||"Fallo en el proceso.");Je(pe=>[...pe,{message:K}]),lt(K),Ie("error"),fe(!1),aa("error_event"),da("error_event");return}if(H==="complete"){Z.current=!0,typeof j?.message=="string"&&lt(j.message),Ie("completado"),ge(100),Q(j?.audit??null),fe(!1),aa("complete"),da("complete");return}}function es(j,H="stream"){const K=bs(j),pe=String(j?.type||""),Ve=j?.stage?String(j.stage):"";mr&&fr("event",{source:H,type:pe,stage:Ve,progress:j?.progress,percent:j?.percent,cursor:K});const Ut=He.current;if(cs(K)){mr&&fr("skip_event",{source:H,cursor:K,lastCursor:Ut});return}if(rl(j),pe==="status"||pe==="progress"||pe==="oi"||pe==="oi_warn"||pe==="oi_error"||pe==="file_error"||pe==="error"||pe==="complete"){const Ua=typeof j?.message=="string"?j.message:void 0,ns=typeof Ve=="string"&&Ve?sa(Ve):void 0,Fs=typeof j?.oi=="string"?j.oi:void 0,ol=j?.progress??j?.percent,wo=typeof ol=="number"?ol:typeof ol=="string"?Number(ol):NaN,ci=Number.isFinite(wo)?Math.max(0,Math.min(100,wo)):void 0;yn(Eu=>{const cl=[...Eu,{ts:Date.now(),source:H,type:pe,stage:ns,message:Ua,oi:Fs,progress:ci}];return cl.length>sm&&cl.splice(0,cl.length-sm),cl})}}function aa(j){if(mr&&fr("stop_polling",{reason:j,operationId:it.current}),!!se.current){se.current=!1,le.current!=null&&(window.clearTimeout(le.current),le.current=null);try{Re.current?.abort()}catch{}Re.current=null,Be.current=!1,it.current=""}}function Sr(){Gt.current!=null&&(window.clearTimeout(Gt.current),Gt.current=null)}function vs(j){mr&&fr("stream_closed",{reason:j,operationId:tt.current}),Ne.current=!1,tt.current="",Sr()}function da(j){mr&&fr("stop_stream",{reason:j,operationId:tt.current}),vs(j);try{R.current?.abort()}catch{}R.current=null}function jr(j){Ne.current&&(Sr(),Gt.current=window.setTimeout(()=>{if(!Ne.current)return;const H=Date.now()-Pt.current;if(H>=By){fr("stream_silent_fallback",{idleMs:H,operationId:j}),da("stream_silent"),!Z.current&&!P.current&&Ma(j,"stream_silent");return}jr(j)},By))}function oi(j){Pt.current=Date.now(),Ne.current&&jr(j)}function ys(j){se.current&&(le.current!=null&&window.clearTimeout(le.current),le.current=window.setTimeout(()=>{Ea()},j))}async function Ea(){if(!se.current||Be.current)return;const j=it.current;if(!j){aa("no_operation_id");return}if(It.current!==j){aa("operation_mismatch");return}Be.current=!0;try{const H=await p2(j,Le.current,Re.current?.signal);Le.current=H.cursor_next;for(const K of H.events||[])es(K,"poll");if(H.done&&(!H.events||H.events.length===0)){aa("done");return}}catch(H){if(P.current||Z.current)return;if(H?.name!=="AbortError"){const pe=H,Ve=pe.response?.data?.detail||pe.message||"No se pudo leer el progreso.";Je(Ut=>[...Ut,{message:Ve}]),Ie("error"),lt(Ve),fe(!1),aa("poll_error")}}finally{Be.current=!1,se.current&&ys(lD)}}function Ma(j,H){It.current===j&&(se.current||(se.current=!0,it.current=j,Re.current=new AbortController,Le.current=Math.max(Le.current,He.current),mr&&fr("start_polling",{operationId:j,reason:H}),ys(0)))}async function wr(){if(A(""),!_?.ok){A("Debes validar rutas correctamente antes de iniciar el copiado.");return}if(!ie?.id){A("Debes seleccionar una corrida de LOG-01 (Historial) para usar su manifiesto.");return}const j=ua,H=Bn;if(!j.length||!H){A("Completa orgenes y destino antes de iniciar.");return}P.current=!1,Z.current=!1,Je([]),Ze([]),Q(null),Ie("inicio"),lt("Iniciando copiado..."),ge(0),Pe(""),ze(""),yn([]),en(!1),da("reset"),aa("reset"),It.current="",Le.current=-1,He.current=-1,fe(!0);try{const pe=(await m2({run_id:ie.id,rutas_origen:j,ruta_destino:H,output_mode:c,group_size:Math.max(0,Math.trunc(f||0))})).operation_id;ze(pe),It.current=pe;const Ve=new AbortController;R.current=Ve,Ne.current=!0,tt.current=pe,Pt.current=Date.now(),jr(pe),h2(pe,$t=>{_t.current&&It.current===pe&&(oi(pe),es($t,"stream"))},Ve.signal).then(()=>{It.current===pe&&(vs("stream_closed"),!Z.current&&!P.current&&Ma(pe,"stream_closed"))}).catch($t=>{if(It.current===pe){if(Iy($t)||P.current||Z.current){vs("stream_aborted");return}vs("stream_error"),Ma(pe,"stream_error")}})}catch(K){if(P.current||Z.current||Iy(K))return;const pe=K,Ve=pe.response?.data?.detail||pe.message||"No se pudo iniciar/leer el progreso.";Je(Ut=>[...Ut,{message:Ve}]),Ie("error"),lt(Ve),da("start_error"),aa("start_error"),fe(!1)}}async function ts(){if(me){P.current=!0,It.current="";try{await g2(me)}catch{}try{R.current?.abort()}catch{}da("user_cancel"),aa("user_cancel"),fe(!1),Ie("cancelado"),lt("Cancelado por el usuario.")}}const fa=g.useMemo(()=>{if(!_)return null;const j=(_.origenes||[]).filter(pe=>pe.existe&&pe.lectura).length,H=(_.origenes||[]).length,K=!!(_.destino?.existe&&_.destino?.es_directorio&&_.destino?.lectura&&_.destino?.escritura);return{okOrigenes:j,totalOrigenes:H,okDestino:K}},[_]);async function ll(){if(!_)return;const j=[];j.push("LOG-02 - Resultado de validacin"),j.push("");for(const pe of _.origenes||[])j.push(`ORIGEN | ${pe.ruta} | existe=${pe.existe?"SI":"NO"} | lectura=${pe.lectura?"SI":"NO"} | detalle=${pe.detalle||""}`);const H=_.destino;j.push(`DESTINO | ${H?.ruta||""} | existe=${H?.existe?"SI":"NO"} | lectura=${H?.lectura?"SI":"NO"} | escritura=${H?.escritura?"SI":"NO"} | detalle=${H?.detalle||""}`);const K=j.join(`
`);await to(K)}async function _r(){const j=[];j.push("LOG-02 - Estado de copiado (PB-LOG-015)"),j.push(`operation_id: ${me||"N/D"}`),j.push(`progreso: ${Number.isFinite(qe)?qe.toFixed(0):"0"}%`),j.push(`estado: ${Ue||""}`),De&&j.push(`OI: ${De}`),Xe&&j.push(`mensaje: ${Xe}`),await to(j.join(`
`))}function il(j){const H=String(j||""),K=H.match(/(\d+)\s*\/\s*(\d+)\s*PDFs?/i),pe=H.match(/(\d+)\s*\/\s*(\d+)\s*(?:OIs?|OI)/i)||H.match(/\b(\d+)\s*\/\s*(\d+)\b/),Ve=K?{done:Number(K[1]),total:Number(K[2])}:null,Ut=pe?{done:Number(pe[1]),total:Number(pe[2])}:null;return{pdf:Ve,oi:Ut}}const jn=g.useMemo(()=>{const j=il(Xe||"");return{pdfDone:j.pdf?.done,pdfTotal:j.pdf?.total,oiDone:j.oi?.done,oiTotal:j.oi?.total}},[Xe]);function sa(j){const H=(j||"").trim();return H?Jr?Jr(H):H:""}async function xs(){const j=[];j.push("LOG-02 - Detalle en vivo (ltimos eventos)"),j.push("");for(const K of Ot.slice(-80)){const Ve=new Date(K.ts).toLocaleString("es-PE",{timeZone:Lm,hour12:!1});j.push(`${Ve} | ${K.source} | ${K.type}${K.stage?` | ${K.stage}`:""}${K.oi?` | oi=${K.oi}`:""}${typeof K.progress=="number"?` | ${Math.round(K.progress)}%`:""}${K.message?` | ${K.message}`:""}`)}const H=j.join(`
`);try{await navigator.clipboard.writeText(H)}catch{try{const K=document.createElement("textarea");K.value=H,document.body.appendChild(K),K.select(),document.execCommand("copy"),document.body.removeChild(K)}catch{}}}const ma=!!_?.ok,qn=!!_?.ok&&!!ie?.id,O=c!=="consolidate",$=Math.max(0,Math.trunc(f||0));g.useEffect(()=>{y||p(String($))},[$,y]),g.useEffect(()=>{O&&y&&(x(!1),p(String($)))},[O,y,$]);function he(j){j===2&&!ma||j===3&&!qn||on(j)}const Me=_?.ok?ie?.id?"":"Falta seleccionar corrida":"Falta validar rutas",[rt,wt]=g.useState(!1),dt=async j=>{const H=me;if(H)try{wt(!0);const K=await b2(H,j),pe=window.URL.createObjectURL(K),Ve=document.createElement("a");Ve.href=pe,Ve.download=`LOG02_AUDITORIA_${H}.${j}`,document.body.appendChild(Ve),Ve.click(),Ve.remove(),window.URL.revokeObjectURL(pe)}finally{wt(!1)}};return l.jsxs("div",{className:"container-fluid",children:[l.jsx("div",{className:"row",children:l.jsxs("div",{className:"col-12",children:[l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Filtrado de certificados PDF (LOG-02)"}),l.jsxs("div",{className:"text-muted small",children:["Este mdulo se orienta a ",l.jsx("strong",{children:"copiar"})," y ",l.jsx("strong",{children:"filtrar"})," certificados PDF desde una",l.jsx("strong",{children:" carpeta compartida"})," (no ZIP).",l.jsx("br",{}),"Configura las rutas UNC y valida accesos antes de iniciar el filtrado."]}),E?l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:E}):null,l.jsxs("div",{className:"vi-wizard-header mT-15",children:[l.jsxs("ul",{className:"nav nav-pills vi-stepper",role:"tablist","aria-label":"Flujo LOG-02",children:[l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(kt===1?"active":""),onClick:()=>he(1),children:[l.jsx("span",{className:"vi-step-num",children:"1"})," Rutas"]})}),l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(kt===2?"active":""),onClick:()=>he(2),disabled:!ma,title:ma?"":"Primero valida rutas",children:[l.jsx("span",{className:"vi-step-num",children:"2"})," Corrida LOG-01"]})}),l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(kt===3?"active":""),onClick:()=>he(3),disabled:!qn,title:qn?"":"Falta validar rutas o elegir corrida",children:[l.jsx("span",{className:"vi-step-num",children:"3"})," Ejecucin"]})})]}),l.jsxs("div",{className:"small text-muted mT-5",children:["Flujo recomendado: ",l.jsx("strong",{children:"1) Validar rutas"}),"  ",l.jsx("strong",{children:"2) Elegir corrida"})," "," ",l.jsx("strong",{children:"3) Iniciar copiado"}),"."]})]}),l.jsxs("div",{className:"accordion vi-wizard mT-15",id:"log02Wizard",children:[l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step1Head",children:l.jsx("button",{className:"accordion-button "+(kt===1?"":"collapsed"),type:"button",onClick:()=>he(1),children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"1"}),l.jsx("span",{className:"vi-step-title",children:"Rutas UNC"}),_?.ok?l.jsx("span",{className:"badge bg-success",children:"OK"}):_?l.jsx("span",{className:"badge bg-danger",children:"Revisar"}):l.jsx("span",{className:"badge bg-secondary",children:"Pendiente"})]})})}),l.jsx("div",{id:"log02Step1",className:"accordion-collapse collapse "+(kt===1?"show":""),"aria-labelledby":"log02Step1Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:l.jsxs("div",{className:"row g-3",children:[l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"vi-card",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Rutas UNC"}),l.jsxs("div",{className:"row g-2",children:[l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Rutas origen (UNC)  lectura"}),e.map((j,H)=>l.jsx("div",{className:"mB-10",children:l.jsxs("div",{className:"d-flex gap-10 align-items-center",children:[l.jsxs("div",{className:"flex-grow-1",children:[l.jsx("input",{className:"form-control form-control-sm"+(D&&!Wa[H]?" is-invalid":""),value:j,onChange:K=>_a(H,K.target.value),placeholder:"\\\\SERVIDOR\\Compartido\\Certificados",disabled:S}),D&&!Wa[H]?l.jsx("div",{className:"small text-danger mT-5",children:"Requerido"}):null]}),l.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones origen",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void to((j||"").trim()),disabled:S||!(j||"").trim(),title:"Copiar ruta",style:{minWidth:84},children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Mt(H),disabled:S,title:"Elegir carpeta",style:{minWidth:84},children:(j||"").trim()?"Editar":"Agregar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Xn(H),disabled:S,title:"Quitar ruta",style:{minWidth:52},children:""})]})]})},H)),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:kn,disabled:S,title:"Agregar origen",children:"Agregar origen"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Yn,disabled:S,title:"Quitar duplicados (solo UI)",children:"Quitar duplicados"})]}),l.jsxs("div",{className:"small text-muted",children:["Nota: estas rutas deben ser accesibles ",l.jsx("strong",{children:"desde el servidor"})," donde corre el backend."]})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Ruta destino (UNC)  lectura y escritura"}),l.jsxs("div",{className:"d-flex gap-10 mB-10",children:[l.jsxs("div",{className:"flex-grow-1",children:[l.jsx("input",{className:"form-control form-control-sm "+(D&&!Bn?"is-invalid":""),value:s,onChange:j=>i(j.target.value),placeholder:"\\\\SERVIDOR\\Compartido\\Salida_LOG02",disabled:S}),D&&!Bn?l.jsx("div",{className:"small text-danger mT-5",children:"Destino requerido."}):null]}),l.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones destino",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void to(Bn),disabled:S||!Bn,title:"Copiar ruta",style:{minWidth:84},children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:qs,disabled:S,title:"Elegir carpeta",style:{minWidth:84},children:Bn?"Editar":"Agregar"})]})]}),l.jsxs("div",{className:"mT-5",children:[l.jsx("div",{className:"small text-muted mB-5",children:tn?"Listo para validar.":"Completa orgenes y destino."}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void Nr(),disabled:S||!tn,children:S?"Validando...":"Validar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:xn,disabled:S,title:"Limpia orgenes y destino",children:"Limpiar rutas"})]})]})]})]})]})}),l.jsx("div",{className:"col-12",children:_?l.jsxs("div",{className:"vi-card",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado de validacin"}),fa?l.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center mB-10",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["Orgenes OK: ",l.jsx("strong",{children:fa.okOrigenes})," / ",fa.totalOrigenes]}),l.jsxs("span",{className:fa.okDestino?"badge bg-success":"badge bg-danger",children:["Destino: ",fa.okDestino?"OK":"No OK"]}),_.ok?null:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void ll(),children:"Copiar detalle"})]}):null,l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),l.jsx("th",{children:"Ruta"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Existe"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Lectura"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Escritura"}),l.jsx("th",{children:"Detalle"})]})}),l.jsxs("tbody",{children:[_.origenes.map((j,H)=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:"Origen"})}),l.jsx("td",{style:{wordBreak:"break-all"},children:j.ruta||"N/D"}),l.jsx("td",{children:l.jsx("span",{className:Hl(j.existe),children:j.existe?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:Hl(j.lectura),children:j.lectura?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:Hl(null),children:""})}),l.jsx("td",{children:j.detalle||""})]},`o-${H}`)),l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:"Destino"})}),l.jsx("td",{style:{wordBreak:"break-all"},children:_.destino.ruta||"N/D"}),l.jsx("td",{children:l.jsx("span",{className:Hl(_.destino.existe),children:_.destino.existe?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:Hl(_.destino.lectura),children:_.destino.lectura?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:Hl(!!_.destino.escritura),children:_.destino.escritura?"S":"No"})}),l.jsx("td",{children:_.destino.detalle||""})]})]})]})}),_.ok?l.jsx("div",{className:"alert alert-success mT-15",role:"alert",children:"Rutas validadas correctamente. Puedes continuar con la siguiente fase."}):l.jsx("div",{className:"alert alert-warning mT-15",role:"alert",children:"Hay rutas con problemas. Corrige existencia/permisos y vuelve a validar."})]}):l.jsx("div",{className:"vi-callout small",children:"An no has validado las rutas. Ejecuta Validar para continuar al paso 2."})})]})})})]}),l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step2Head",children:l.jsx("button",{className:"accordion-button "+(kt===2?"":"collapsed"),type:"button",onClick:()=>he(2),disabled:!ma,children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"2"}),l.jsx("span",{className:"vi-step-title",children:"Corrida LOG-01"}),ie?.id?l.jsx("span",{className:"badge bg-success",children:"Seleccionada"}):ma?l.jsx("span",{className:"badge bg-warning vi-text-contrast",children:"Pendiente"}):l.jsx("span",{className:"badge bg-secondary",children:"Bloqueado"})]})})}),l.jsx("div",{id:"log02Step2",className:"accordion-collapse collapse "+(kt===2?"show":""),"aria-labelledby":"log02Step2Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:ma?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between gap-10",children:[l.jsxs("div",{className:"vi-card flex-grow-1",children:[l.jsx("div",{className:"small text-muted",children:"Corrida seleccionada"}),ie?.id?l.jsx("div",{className:"mT-5",children:l.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["#",ie.id]}),ie?.created_at?l.jsx("span",{className:"small text-muted",children:qy(ie.created_at)}):null,ie?.source?l.jsx("span",{className:"small text-muted",children:ie.source}):null,ie?.status?l.jsx("span",{className:"small text-muted",children:ie.status}):null]})}):l.jsx("div",{className:"text-muted small mT-5",children:"An no se ha elegido una corrida."})]}),l.jsx("div",{className:"d-flex gap-10",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Kn,disabled:k,children:ie?.id?"Cambiar corrida":"Elegir corrida"})})]}),ie?.id?null:l.jsx("div",{className:"vi-callout mT-10 small",children:"Debes seleccionar una corrida de LOG-01 (historial) para usar su manifiesto y NO CONFORME."})]}):l.jsx("div",{className:"vi-callout small",children:"Valida rutas para habilitar este paso."})})})]}),l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step3Head",children:l.jsx("button",{className:"accordion-button "+(kt===3?"":"collapsed"),type:"button",onClick:()=>he(3),disabled:!qn,children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"3"}),l.jsx("span",{className:"vi-step-title",children:"Ejecucin"}),k?l.jsx("span",{className:"badge bg-primary",children:"En progreso"}):C?l.jsx("span",{className:"badge bg-success",children:"Completado"}):qn?l.jsx("span",{className:"badge bg-secondary",children:"Listo"}):l.jsx("span",{className:"badge bg-secondary",children:"Bloqueado"})]})})}),l.jsx("div",{id:"log02Step3",className:"accordion-collapse collapse "+(kt===3?"show":""),"aria-labelledby":"log02Step3Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:qn?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"vi-card mB-10",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Salida de copiado"}),l.jsxs("div",{className:"row g-2",children:[l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",id:"log02-out-consolidate",name:"log02-output-mode",checked:c==="consolidate",disabled:k,onChange:()=>d("consolidate")}),l.jsxs("label",{className:"form-check-label",htmlFor:"log02-out-consolidate",children:[l.jsx("strong",{children:"Consolidar en una sola carpeta"}),l.jsxs("span",{className:"text-muted small",children:[" ","(se crea <SERIE_INICIAL>_AL_<SERIE_FINAL>)"]})]})]})}),l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",id:"log02-out-keep",name:"log02-output-mode",checked:c==="keep_structure",disabled:k,onChange:()=>d("keep_structure")}),l.jsx("label",{className:"form-check-label",htmlFor:"log02-out-keep",children:l.jsx("strong",{children:"Mantener estructura de carpetas"})})]})}),l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label mT-10",children:"Agrupar en subcarpetas por N"}),l.jsx("input",{type:"number",min:0,step:1,className:"form-control form-control-sm",value:y?v:$,disabled:k||O,onChange:j=>{const H=j.target.value;if(p(H),H==="")return;const K=Number(H),pe=Number.isFinite(K)?Math.max(0,Math.trunc(K)):0;h(pe)},onFocus:()=>{x(!0),p($===0?"":String($))},onBlur:()=>{x(!1);const j=(v||"").trim();if(!j){h(0),p("0");return}const H=Number(j),K=Number.isFinite(H)?Math.max(0,Math.trunc(H)):0;h(K),p(String(K))},placeholder:"0"}),l.jsx("div",{className:"small text-muted",children:O?"Disponible solo en modo Consolidar.":$===0?"N=0: no se crean subcarpetas.":`Se crean subcarpetas de ${$} PDFs (ltimo grupo puede ser menor).`})]})]})]}),l.jsxs("div",{className:"d-flex flex-wrap gap-10 mB-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void wr(),disabled:!$s,title:Me,children:k?"Copiando...":"Iniciar copiado"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void ts(),disabled:!k||!me,children:"Cancelar"})]}),l.jsxs("div",{className:"mT-10",children:[l.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),k?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null,me?l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["op: ",l.jsx("strong",{children:me})]}):null,l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto ms-auto",onClick:()=>void _r(),disabled:!Ue&&!Xe&&!me,title:"Copiar estado del progreso",children:"Copiar estado"})]}),l.jsxs("div",{className:"d-flex flex-wrap gap-10 mB-5",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["PDFs: ",jn.pdfDone??""," / ",jn.pdfTotal??""]}),l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["OIs: ",jn.oiDone??""," / ",jn.oiTotal??""]}),ve.length?l.jsxs("span",{className:"badge bg-warning vi-text-contrast",children:["Advertencias: ",ve.length]}):null,Ae.length?l.jsxs("span",{className:"badge bg-danger",children:["Errores: ",Ae.length]}):null]}),l.jsxs("div",{className:"small text-muted",children:[l.jsx("strong",{children:Ue?sa(Ue):k?"En progreso":""}),Xe?l.jsxs("span",{children:["  ",Xe]}):null]}),l.jsxs("div",{className:"small text-muted",children:[De?`OI actual: ${De}`:"OI actual: ",jn.pdfDone!=null&&jn.pdfTotal!=null?l.jsxs("span",{children:["  ",jn.pdfDone,"/",jn.pdfTotal," PDFs"]}):null,jn.oiDone!=null&&jn.oiTotal!=null?l.jsxs("span",{children:["  ",jn.oiDone,"/",jn.oiTotal," OIs"]}):null]}),l.jsx("div",{className:"progress vi-progress",children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Math.max(0,Math.min(100,qe))}%`},"aria-valuenow":qe,"aria-valuemin":0,"aria-valuemax":100,children:l.jsxs("span",{className:"vi-progress-label",children:[qe.toFixed(0),"%"]})})})]}),l.jsx("div",{className:"accordion mT-10",id:"log02LiveLog",children:l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02LiveLogHead",children:l.jsxs("button",{className:"accordion-button vi-acc-sm "+(pn?"":"collapsed"),type:"button",onClick:()=>en(j=>!j),children:["Detalle en vivo ",Ot.length?`(${Ot.length})`:""]})}),l.jsx("div",{id:"log02LiveLogBody",className:"accordion-collapse collapse "+(pn?"show":""),"aria-labelledby":"log02LiveLogHead",children:l.jsxs("div",{className:"accordion-body p-0",children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between gap-10 p-10",children:[l.jsxs("div",{className:"small text-muted",children:["ltimos eventos (mx ",sm,")"]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void xs(),disabled:!Ot.length,children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>yn([]),disabled:!Ot.length,children:"Limpiar"})]})]}),l.jsx("div",{className:"vi-logbox",children:Ot.length?Ot.slice(-80).map((j,H)=>{const Ve=`${new Date(j.ts).toLocaleString("es-PE",{timeZone:Lm,hour12:!1})} | ${j.source} | ${j.type}${j.stage?` | ${j.stage}`:""}${j.oi?` | oi=${j.oi}`:""}${typeof j.progress=="number"?` | ${Math.round(j.progress)}%`:""}${j.message?` | ${j.message}`:""}`;return l.jsx("div",{className:"vi-logline",children:Ve},`le-${H}`)}):l.jsx("div",{className:"small text-muted",children:"Sin eventos an."})})]})})]})}),Ae.length?l.jsxs("div",{className:"alert alert-danger mT-10",role:"alert",children:[l.jsx("strong",{children:"Se detectaron errores:"}),l.jsx("ul",{className:"mB-0 mT-5",children:Ae.slice(-8).map((j,H)=>l.jsxs("li",{children:[j.oi?`[${j.oi}] `:"",j.file?`${j.file}: `:"",j.message]},`ce-${H}`))})]}):null,ve.length?l.jsxs("div",{className:"alert alert-warning mT-10",role:"alert",children:[l.jsx("strong",{children:"Advertencias:"}),l.jsx("ul",{className:"mB-0 mT-5",children:ve.slice(-8).map((j,H)=>l.jsxs("li",{children:["[",j.oi,"] ",j.code?`${j.code}: `:"",j.message]},`cw-${H}`))})]}):null,C?l.jsxs("div",{className:"mT-15",children:[l.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-10 mB-10",children:[l.jsx("h6",{className:"c-grey-900 mB-0",children:"Auditora de copiado"}),l.jsxs("div",{className:"d-flex gap-5",children:[l.jsx("button",{className:"btn btn-sm btn-outline-light",disabled:rt||!me,onClick:()=>dt("csv"),children:"Descargar CSV"}),l.jsx("button",{className:"btn btn-sm btn-outline-light",disabled:rt||!me,onClick:()=>dt("xlsx"),children:"Descargar Excel"})]})]}),l.jsxs("div",{className:"row g-2",children:[l.jsx("div",{className:"col-12 col-md-4",children:l.jsxs("div",{className:"alert alert-light mB-0",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Total OIs:"})," ",C?.total_ois??"N/D"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"OIs OK:"})," ",C?.ois_ok??"N/D"]})]})}),l.jsx("div",{className:"col-12 col-md-8",children:l.jsx("div",{className:"alert alert-light mB-0",children:l.jsxs("div",{className:"d-flex flex-wrap gap-10",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"PDF detectados:"})," ",C?.archivos?.pdf_detectados??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"PDF copiados:"})," ",C?.archivos?.pdf_copiados??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Omitidos NO CONFORME:"})," ",C?.archivos?.pdf_omitidos_no_conforme??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"No PDF omitidos:"})," ",C?.archivos?.archivos_no_pdf_omitidos??"N/D"]})]})})})]}),C?.ois_faltantes?.length||C?.ois_duplicadas?.length||C?.destinos_duplicados?.length||C?.series_duplicadas?.length||C?.series_faltantes?.length?l.jsxs("div",{className:"mT-10",children:[C?.ois_faltantes?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"OIs sin carpeta:"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.ois_faltantes.slice(0,10).map((j,H)=>l.jsxs("li",{children:[j?.oi,"  ",j?.detalle||""]},`of-${H}`))})]}):null,C?.ois_duplicadas?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"OIs con mltiples carpetas (duplicadas):"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.ois_duplicadas.slice(0,10).map((j,H)=>l.jsxs("li",{children:[j?.oi,"  ",Array.isArray(j?.carpetas)?j.carpetas.join(" | "):""]},`od-${H}`))})]}):null,C?.destinos_duplicados?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Destinos ya existentes:"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.destinos_duplicados.slice(0,10).map((j,H)=>l.jsxs("li",{children:[j?.oi,"  ",j?.destino||""]},`dd-${H}`))})]}):null,C?.series_duplicadas?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Series duplicadas (mismo nombre de PDF):"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.series_duplicadas.slice(0,12).map((j,H)=>l.jsxs("li",{children:[l.jsx("strong",{children:j?.oi}),"  ",j?.serie," (",Array.isArray(j?.files)?j.files.length:0," archivo(s))"]},`sd-${H}`))}),C.series_duplicadas.length>12?l.jsxs("div",{className:"small text-muted mT-5",children:["Mostrando 12 de ",C.series_duplicadas.length,". Revisa el audit JSON para el detalle completo."]}):null]}):null,C?.series_faltantes?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Series faltantes (conforme en manifiesto, sin PDF):"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.series_faltantes.slice(0,12).map((j,H)=>l.jsxs("li",{children:[l.jsx("strong",{children:j?.oi}),"  ",j?.count," faltante(s)"]},`sf-${H}`))}),C.series_faltantes.length>12?l.jsxs("div",{className:"small text-muted mT-5",children:["Mostrando 12 de ",C.series_faltantes.length,". Revisa el audit JSON para el detalle completo."]}):null]}):null]}):null]}):null]}):l.jsx("div",{className:"vi-callout small",children:"Valida rutas y selecciona una corrida para habilitar la ejecucin."})})})]})]})]}),k?l.jsx("div",{className:"vi-sticky-actions",children:l.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-10 vi-sticky-actions-row",children:[l.jsxs("div",{className:"small vi-sticky-progress",children:[l.jsx("strong",{children:Ue?sa(Ue):"En progreso"}),De?l.jsxs("span",{children:["  OI: ",De]}):null,l.jsxs("span",{className:"text-muted",children:["  ",qe.toFixed(0),"%"]})]}),l.jsxs("div",{className:"d-flex gap-10 vi-sticky-buttons",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void ts(),disabled:!me,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>en(!0),children:"Ver detalle"})]})]})}):null]})}),U?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Seleccionar corrida de LOG-01 (Historial)"}),l.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>T(!1),children:l.jsx("span",{"aria-hidden":"true",children:""})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"text-muted small mB-10",children:["Por defecto se cargan las ",l.jsx("strong",{children:"ltimas 5 corridas completadas"}),". Puedes usar filtros si lo necesitas."]}),ee?l.jsx("div",{className:"alert alert-danger",role:"alert",children:ee}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:j=>{j.preventDefault(),Nn()},children:[l.jsxs("div",{className:"col-12 col-md-4",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:ke,onChange:j=>Te(j.target.value),placeholder:"Serie / OI / usuario..."})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Desde"}),l.jsx("input",{className:"form-control form-control-sm",type:"date",value:M,onChange:j=>F(j.target.value)})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Hasta"}),l.jsx("input",{className:"form-control form-control-sm",type:"date",value:ae,onChange:j=>xe(j.target.value)})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsx("input",{className:"form-control form-control-sm",value:Ce,onChange:j=>w(j.target.value),placeholder:"AUTO/BASES/..."})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Estado"}),l.jsx("input",{className:"form-control form-control-sm",value:Y,onChange:j=>de(j.target.value),placeholder:"COMPLETADO"})]}),l.jsxs("div",{className:"col-12 d-flex gap-10",children:[l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:G,children:G?"Buscando...":"Aplicar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>{Te(""),F(""),xe(""),w(""),de("COMPLETADO"),ca(5)},disabled:G,children:"Ver ltimas 5 exitosas"})]})]}),l.jsx("hr",{}),G?l.jsx("div",{className:"text-muted small",children:"Cargando corridas..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{width:90},children:"ID"}),l.jsx("th",{children:"Creado"}),l.jsx("th",{style:{width:120},children:"Origen"}),l.jsx("th",{style:{width:140},children:"Estado"}),l.jsx("th",{style:{width:120}})]})}),l.jsx("tbody",{children:Ee.length?Ee.map(j=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{children:l.jsxs("strong",{children:["#",j.id]})}),l.jsx("td",{children:qy(j.created_at)}),l.jsx("td",{children:j.source||"N/D"}),l.jsx("td",{children:j.status||"N/D"}),l.jsx("td",{children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Ja(j),children:"Usar"})})]},j.id)):l.jsx("tr",{className:"small",children:l.jsx("td",{colSpan:5,className:"text-muted",children:"Sin resultados."})})})]})})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>T(!1),children:"Cerrar"})})]})})}),l.jsx("div",{className:"modal-backdrop fade show"})]}):null,hn?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:Zn==="destino"?"Elegir carpeta de destino":"Elegir carpeta de origen"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Vn(!1)})]}),l.jsxs("div",{className:"modal-body",children:[Kt?l.jsx("div",{className:"alert alert-danger",role:"alert",children:Kt}):null,l.jsxs("div",{className:"row g-2",children:[l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label",children:"Raz"}),l.jsx("select",{className:"form-control form-control-sm",value:Qn,onChange:j=>{const H=j.target.value;X(H),na(H)},disabled:!ta.length,children:ta.length?ta.map(j=>l.jsx("option",{value:j,children:j},j)):l.jsx("option",{value:"",children:"Sin races"})})]}),l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label",children:"Carpeta actual"}),l.jsx("input",{className:"form-control form-control-sm",value:W,readOnly:!0})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsx("label",{className:"form-label mB-5",children:"Navegacin"}),l.jsxs("div",{className:"p-10 vi-surface-2 border vi-border rounded",children:[l.jsx("div",{className:"d-flex flex-wrap align-items-center gap-10",children:al(W).map((j,H,K)=>l.jsxs("span",{className:"small d-inline-flex align-items-center",children:[l.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:()=>void na(j.path),disabled:et,title:`Ir a: ${j.path}`,children:j.label}),H<K.length-1?l.jsx("span",{className:"text-muted mX-5",children:"/"}):null]},`${j.path}-${H}`))}),l.jsx("div",{className:"small vi-text-muted mT-5",children:"Tip: Click en una seccin para saltar a esa carpeta."})]})]}),l.jsxs("div",{className:"row g-2 mT-10",children:[l.jsxs("div",{className:"col-12 col-md-8",children:[l.jsx("label",{className:"form-label",children:"Ir a ruta"}),l.jsxs("div",{className:"input-group input-group-sm",children:[l.jsx("input",{className:"form-control",value:bt,onChange:j=>zt(j.target.value),onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),Is())},placeholder:"Pega una ruta (UNC o local) dentro de las races permitidas",disabled:et}),l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>void Is(),disabled:et||!bt.trim(),children:"Ir"})]})]}),l.jsxs("div",{className:"col-12 col-md-4",children:[l.jsx("label",{className:"form-label",children:"Acciones"}),l.jsx("div",{className:"d-flex align-items-end",style:{minHeight:31},children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void yr(),disabled:!W||et,title:"Copiar la ruta actual al portapapeles",children:"Copiar ruta"})})]})]}),l.jsxs("div",{className:"d-flex gap-10 mT-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:gs,disabled:!W||et,children:"Subir nivel"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:Sn,disabled:!W||et,children:"Seleccionar carpeta"})]}),l.jsx("hr",{}),l.jsx("div",{className:"row g-2 mB-10",children:l.jsxs("div",{className:"col-12 col-md-8",children:[l.jsx("label",{className:"form-label",children:"Buscar subcarpeta"}),l.jsx("input",{className:"form-control form-control-sm",value:At,onChange:j=>ut(j.target.value),placeholder:"Filtrar por nombre",disabled:et}),l.jsxs("div",{className:"form-text",children:["Mostrando ",Et.length," de ",Fe.length]})]})}),et?l.jsx("div",{className:"text-muted small",children:"Cargando carpetas..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{children:"Subcarpetas"}),l.jsx("th",{style:{width:120}})]})}),l.jsx("tbody",{children:Et.length?Et.map((j,H)=>l.jsxs("tr",{className:"small"+(vt===j.path?" table-active":""),role:"button",tabIndex:0,"data-folder-idx":H,title:"Click para seleccionar  Doble click para entrar",style:{cursor:et?"default":"pointer"},onClick:K=>{et||(Qt(j.path),K.currentTarget.focus())},onDoubleClick:()=>{et||na(j.path)},onKeyDown:K=>{if(!et){if(K.key==="Enter"){K.preventDefault(),na(j.path);return}if(K.key===" "||K.key==="Spacebar"){K.preventDefault(),Qt(j.path);return}}},children:[l.jsx("td",{style:{wordBreak:"break-all"},children:j.name}),l.jsx("td",{children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:K=>{K.stopPropagation(),na(j.path)},disabled:et,children:"Entrar"})})]},j.path)):l.jsx("tr",{className:"small",children:l.jsx("td",{colSpan:2,className:"text-muted",children:"Sin resultados para el filtro, o sin subcarpetas/permisos para listar."})})})]})})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>Vn(!1),children:"Cerrar"})})]})})}),l.jsx("div",{className:"modal-backdrop fade show",onClick:()=>Vn(!1)})]}):null]})}function cD(){const e=Dn();return l.jsx(l.Fragment,{children:l.jsxs(Qj,{children:[l.jsx(cn,{path:"/login",element:e?.token?l.jsx(pr,{to:"/home",replace:!0}):l.jsx(qE,{})}),l.jsx(cn,{element:l.jsx(RT,{}),children:l.jsxs(cn,{element:l.jsx(MT,{}),children:[l.jsx(cn,{path:"/",element:l.jsx(pr,{to:"/home",replace:!0})}),l.jsx(cn,{path:"/home",element:l.jsx(Q2,{})}),l.jsx(cn,{path:"/oi",element:l.jsx(Ty,{})}),l.jsx(cn,{path:"/oi/:oiId",element:l.jsx(Ty,{})}),l.jsx(cn,{path:"/oi/list",element:l.jsx(UT,{})}),l.jsx(cn,{path:"/users",element:l.jsx(BT,{})}),l.jsx(cn,{path:"/password",element:l.jsx(qT,{})}),l.jsx(cn,{path:"/admin/permisos",element:l.jsx(FT,{})}),l.jsx(cn,{path:"/logistica/log01/excel",element:l.jsx(J2,{})}),l.jsx(cn,{path:"/logistica/log01/history",element:l.jsx(sD,{})}),l.jsx(cn,{path:"/logistica/log02/pdfs",element:l.jsx(oD,{})}),l.jsx(cn,{path:"/oi/tools/vima-to-lista",element:l.jsx(e2,{})}),l.jsx(cn,{path:"/oi/tools/actualizacion-base",element:l.jsx(R2,{})}),l.jsx(cn,{path:"/oi/tools/formato-ac/history",element:l.jsx(L2,{})}),l.jsx(cn,{path:"/oi/tools/consolidacion",element:l.jsx(B2,{})}),l.jsx(cn,{path:"/oi/tools/consolidacion/correlativo",element:l.jsx(F2,{})}),l.jsx(cn,{path:"/oi/tools/consolidacion/no-correlativo",element:l.jsx(G2,{})}),l.jsx(cn,{path:"/oi/tools/excel",element:l.jsx(P2,{})})]})}),l.jsx(cn,{path:"*",element:l.jsx(pr,{to:e?.token?"/home":"/login",replace:!0})})]})})}const uD=new Yw;UE();tj.createRoot(document.getElementById("root")).render(l.jsx(pt.StrictMode,{children:l.jsx(Kw,{client:uD,children:l.jsx(vw,{children:l.jsx(kE,{children:l.jsx(cD,{})})})})}));
