(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();function pb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uf={exports:{}},Ei={};var Ty;function w_(){if(Ty)return Ei;Ty=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,o,d){var m=null;if(d!==void 0&&(m=""+d),o.key!==void 0&&(m=""+o.key),"key"in o){d={};for(var h in o)h!=="key"&&(d[h]=o[h])}else d=o;return o=d.ref,{$$typeof:e,type:l,key:m,ref:o!==void 0?o:null,props:d}}return Ei.Fragment=a,Ei.jsx=s,Ei.jsxs=s,Ei}var Dy;function N_(){return Dy||(Dy=1,uf.exports=w_()),uf.exports}var c=N_(),df={exports:{}},We={};var zy;function E_(){if(zy)return We;zy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function U(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function k(j,Q,ce){this.props=j,this.context=Q,this.refs=N,this.updater=ce||E}k.prototype.isReactComponent={},k.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=k.prototype;function P(j,Q,ce){this.props=j,this.context=Q,this.refs=N,this.updater=ce||E}var R=P.prototype=new D;R.constructor=P,O(R,k.prototype),R.isPureReactComponent=!0;var C=Array.isArray;function X(){}var q={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function oe(j,Q,ce){var xe=ce.ref;return{$$typeof:e,type:j,key:Q,ref:xe!==void 0?xe:null,props:ce}}function we(j,Q){return oe(j.type,Q,j.props)}function Se(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function de(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ce){return Q[ce]})}var me=/\/+/g;function Ae(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?de(""+j.key):Q.toString(36)}function Ee(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(X,X):(j.status="pending",j.then(function(Q){j.status==="pending"&&(j.status="fulfilled",j.value=Q)},function(Q){j.status==="pending"&&(j.status="rejected",j.reason=Q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function B(j,Q,ce,xe,De){var Re=typeof j;(Re==="undefined"||Re==="boolean")&&(j=null);var Me=!1;if(j===null)Me=!0;else switch(Re){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(j.$$typeof){case e:case a:Me=!0;break;case v:return Me=j._init,B(Me(j._payload),Q,ce,xe,De)}}if(Me)return De=De(j),Me=xe===""?"."+Ae(j,0):xe,C(De)?(ce="",Me!=null&&(ce=Me.replace(me,"$&/")+"/"),B(De,Q,ce,"",function(qe){return qe})):De!=null&&(Se(De)&&(De=we(De,ce+(De.key==null||j&&j.key===De.key?"":(""+De.key).replace(me,"$&/")+"/")+Me)),Q.push(De)),1;Me=0;var Ie=xe===""?".":xe+":";if(C(j))for(var ye=0;ye<j.length;ye++)xe=j[ye],Re=Ie+Ae(xe,ye),Me+=B(xe,Q,ce,Re,De);else if(ye=U(j),typeof ye=="function")for(j=ye.call(j),ye=0;!(xe=j.next()).done;)xe=xe.value,Re=Ie+Ae(xe,ye++),Me+=B(xe,Q,ce,Re,De);else if(Re==="object"){if(typeof j.then=="function")return B(Ee(j),Q,ce,xe,De);throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(j,Q,ce){if(j==null)return j;var xe=[],De=0;return B(j,xe,"","",function(Re){return Q.call(ce,Re,De++)}),xe}function ae(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(ce){(j._status===0||j._status===-1)&&(j._status=1,j._result=ce)},function(ce){(j._status===0||j._status===-1)&&(j._status=2,j._result=ce)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var Ce=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Oe={map:se,forEach:function(j,Q,ce){se(j,function(){Q.apply(this,arguments)},ce)},count:function(j){var Q=0;return se(j,function(){Q++}),Q},toArray:function(j){return se(j,function(Q){return Q})||[]},only:function(j){if(!Se(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return We.Activity=x,We.Children=Oe,We.Component=k,We.Fragment=s,We.Profiler=o,We.PureComponent=P,We.StrictMode=l,We.Suspense=y,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,We.__COMPILER_RUNTIME={__proto__:null,c:function(j){return q.H.useMemoCache(j)}},We.cache=function(j){return function(){return j.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(j,Q,ce){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var xe=O({},j.props),De=j.key;if(Q!=null)for(Re in Q.key!==void 0&&(De=""+Q.key),Q)!J.call(Q,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Q.ref===void 0||(xe[Re]=Q[Re]);var Re=arguments.length-2;if(Re===1)xe.children=ce;else if(1<Re){for(var Me=Array(Re),Ie=0;Ie<Re;Ie++)Me[Ie]=arguments[Ie+2];xe.children=Me}return oe(j.type,De,xe)},We.createContext=function(j){return j={$$typeof:m,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},We.createElement=function(j,Q,ce){var xe,De={},Re=null;if(Q!=null)for(xe in Q.key!==void 0&&(Re=""+Q.key),Q)J.call(Q,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(De[xe]=Q[xe]);var Me=arguments.length-2;if(Me===1)De.children=ce;else if(1<Me){for(var Ie=Array(Me),ye=0;ye<Me;ye++)Ie[ye]=arguments[ye+2];De.children=Ie}if(j&&j.defaultProps)for(xe in Me=j.defaultProps,Me)De[xe]===void 0&&(De[xe]=Me[xe]);return oe(j,Re,De)},We.createRef=function(){return{current:null}},We.forwardRef=function(j){return{$$typeof:h,render:j}},We.isValidElement=Se,We.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ae}},We.memo=function(j,Q){return{$$typeof:p,type:j,compare:Q===void 0?null:Q}},We.startTransition=function(j){var Q=q.T,ce={};q.T=ce;try{var xe=j(),De=q.S;De!==null&&De(ce,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(X,Ce)}catch(Re){Ce(Re)}finally{Q!==null&&ce.types!==null&&(Q.types=ce.types),q.T=Q}},We.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},We.use=function(j){return q.H.use(j)},We.useActionState=function(j,Q,ce){return q.H.useActionState(j,Q,ce)},We.useCallback=function(j,Q){return q.H.useCallback(j,Q)},We.useContext=function(j){return q.H.useContext(j)},We.useDebugValue=function(){},We.useDeferredValue=function(j,Q){return q.H.useDeferredValue(j,Q)},We.useEffect=function(j,Q){return q.H.useEffect(j,Q)},We.useEffectEvent=function(j){return q.H.useEffectEvent(j)},We.useId=function(){return q.H.useId()},We.useImperativeHandle=function(j,Q,ce){return q.H.useImperativeHandle(j,Q,ce)},We.useInsertionEffect=function(j,Q){return q.H.useInsertionEffect(j,Q)},We.useLayoutEffect=function(j,Q){return q.H.useLayoutEffect(j,Q)},We.useMemo=function(j,Q){return q.H.useMemo(j,Q)},We.useOptimistic=function(j,Q){return q.H.useOptimistic(j,Q)},We.useReducer=function(j,Q,ce){return q.H.useReducer(j,Q,ce)},We.useRef=function(j){return q.H.useRef(j)},We.useState=function(j){return q.H.useState(j)},We.useSyncExternalStore=function(j,Q,ce){return q.H.useSyncExternalStore(j,Q,ce)},We.useTransition=function(){return q.H.useTransition()},We.version="19.2.0",We}var My;function Sm(){return My||(My=1,df.exports=E_()),df.exports}var b=Sm();const rt=pb(b);var ff={exports:{}},ji={},mf={exports:{}},hf={};var ky;function j_(){return ky||(ky=1,(function(e){function a(B,se){var ae=B.length;B.push(se);e:for(;0<ae;){var Ce=ae-1>>>1,Oe=B[Ce];if(0<o(Oe,se))B[Ce]=se,B[ae]=Oe,ae=Ce;else break e}}function s(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var se=B[0],ae=B.pop();if(ae!==se){B[0]=ae;e:for(var Ce=0,Oe=B.length,j=Oe>>>1;Ce<j;){var Q=2*(Ce+1)-1,ce=B[Q],xe=Q+1,De=B[xe];if(0>o(ce,ae))xe<Oe&&0>o(De,ce)?(B[Ce]=De,B[xe]=ae,Ce=xe):(B[Ce]=ce,B[Q]=ae,Ce=Q);else if(xe<Oe&&0>o(De,ae))B[Ce]=De,B[xe]=ae,Ce=xe;else break e}}return se}function o(B,se){var ae=B.sortIndex-se.sortIndex;return ae!==0?ae:B.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var y=[],p=[],v=1,x=null,_=3,U=!1,E=!1,O=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var se=s(p);se!==null;){if(se.callback===null)l(p);else if(se.startTime<=B)l(p),se.sortIndex=se.expirationTime,a(y,se);else break;se=s(p)}}function C(B){if(O=!1,R(B),!E)if(s(y)!==null)E=!0,X||(X=!0,de());else{var se=s(p);se!==null&&Ee(C,se.startTime-B)}}var X=!1,q=-1,J=5,oe=-1;function we(){return N?!0:!(e.unstable_now()-oe<J)}function Se(){if(N=!1,X){var B=e.unstable_now();oe=B;var se=!0;try{e:{E=!1,O&&(O=!1,D(q),q=-1),U=!0;var ae=_;try{t:{for(R(B),x=s(y);x!==null&&!(x.expirationTime>B&&we());){var Ce=x.callback;if(typeof Ce=="function"){x.callback=null,_=x.priorityLevel;var Oe=Ce(x.expirationTime<=B);if(B=e.unstable_now(),typeof Oe=="function"){x.callback=Oe,R(B),se=!0;break t}x===s(y)&&l(y),R(B)}else l(y);x=s(y)}if(x!==null)se=!0;else{var j=s(p);j!==null&&Ee(C,j.startTime-B),se=!1}}break e}finally{x=null,_=ae,U=!1}se=void 0}}finally{se?de():X=!1}}}var de;if(typeof P=="function")de=function(){P(Se)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ae=me.port2;me.port1.onmessage=Se,de=function(){Ae.postMessage(null)}}else de=function(){k(Se,0)};function Ee(B,se){q=k(function(){B(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(B){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var ae=_;_=se;try{return B()}finally{_=ae}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(B,se){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=_;_=B;try{return se()}finally{_=ae}},e.unstable_scheduleCallback=function(B,se,ae){var Ce=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ce+ae:Ce):ae=Ce,B){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ae+Oe,B={id:v++,callback:se,priorityLevel:B,startTime:ae,expirationTime:Oe,sortIndex:-1},ae>Ce?(B.sortIndex=ae,a(p,B),s(y)===null&&B===s(p)&&(O?(D(q),q=-1):O=!0,Ee(C,ae-Ce))):(B.sortIndex=Oe,a(y,B),E||U||(E=!0,X||(X=!0,de()))),B},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(B){var se=_;return function(){var ae=_;_=se;try{return B.apply(this,arguments)}finally{_=ae}}}})(hf)),hf}var Uy;function A_(){return Uy||(Uy=1,mf.exports=j_()),mf.exports}var pf={exports:{}},Rn={};var qy;function O_(){if(qy)return Rn;qy=1;var e=Sm();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(y,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:p,implementation:v}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Rn.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(y,p,null,v)},Rn.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},Rn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},Rn.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Rn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:U}):v==="script"&&l.d.X(y,{crossOrigin:x,integrity:_,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Rn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},Rn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Rn.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},Rn.requestFormReset=function(y){l.d.r(y)},Rn.unstable_batchedUpdates=function(y,p){return y(p)},Rn.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},Rn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Rn.version="19.2.0",Rn}var By;function C_(){if(By)return pf.exports;By=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),pf.exports=O_(),pf.exports}var Ly;function R_(){if(Ly)return ji;Ly=1;var e=A_(),a=Sm(),s=C_();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,i=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return y(u),t;if(f===i)return y(u),n;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var g=!1,S=u.child;S;){if(S===r){g=!0,r=u,i=f;break}if(S===i){g=!0,i=u,r=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===r){g=!0,r=f,i=u;break}if(S===i){g=!0,i=f,r=u;break}S=S.sibling}if(!g)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),P=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),we=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=Se&&t[Se]||t["@@iterator"],typeof t=="function"?t:null)}var me=Symbol.for("react.client.reference");function Ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case C:return"Suspense";case X:return"SuspenseList";case oe:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case P:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case R:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return n=t.displayName||null,n!==null?n:Ae(t.type)||"Memo";case J:n=t._payload,t=t._init;try{return Ae(t(n))}catch{}}return null}var Ee=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Ce=[],Oe=-1;function j(t){return{current:t}}function Q(t){0>Oe||(t.current=Ce[Oe],Ce[Oe]=null,Oe--)}function ce(t,n){Oe++,Ce[Oe]=t.current,t.current=n}var xe=j(null),De=j(null),Re=j(null),Me=j(null);function Ie(t,n){switch(ce(Re,n),ce(De,t),ce(xe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ey(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ey(n),t=ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(xe),ce(xe,t)}function ye(){Q(xe),Q(De),Q(Re)}function qe(t){t.memoizedState!==null&&ce(Me,t);var n=xe.current,r=ty(n,t.type);n!==r&&(ce(De,t),ce(xe,r))}function Ge(t){De.current===t&&(Q(xe),Q(De)),Me.current===t&&(Q(Me),Si._currentValue=ae)}var Ne,Ye;function Le(t){if(Ne===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ne=n&&n[1]||"",Ye=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+t+Ye}var Xe=!1;function je(t,n){if(!t||Xe)return"";Xe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(K){var Z=K}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(K){Z=K}t.call(ue.prototype)}}else{try{throw Error()}catch(K){Z=K}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(K){if(K&&Z&&typeof K.stack=="string")return[K.stack,Z.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),g=f[0],S=f[1];if(g&&S){var T=g.split(`
`),V=S.split(`
`);for(u=i=0;i<T.length&&!T[i].includes("DetermineComponentFrameRoot");)i++;for(;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;if(i===T.length||u===V.length)for(i=T.length-1,u=V.length-1;1<=i&&0<=u&&T[i]!==V[u];)u--;for(;1<=i&&0<=u;i--,u--)if(T[i]!==V[u]){if(i!==1||u!==1)do if(i--,u--,0>u||T[i]!==V[u]){var ne=`
`+T[i].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=i&&0<=u);break}}}finally{Xe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Le(r):""}function W(t,n){switch(t.tag){case 26:case 27:case 5:return Le(t.type);case 16:return Le("Lazy");case 13:return t.child!==n&&n!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return je(t.type,!1);case 11:return je(t.type.render,!1);case 1:return je(t.type,!0);case 31:return Le("Activity");default:return""}}function pe(t){try{var n="",r=null;do n+=W(t,r),r=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var _e=Object.prototype.hasOwnProperty,w=e.unstable_scheduleCallback,M=e.unstable_cancelCallback,$=e.unstable_shouldYield,ge=e.unstable_requestPaint,te=e.unstable_now,le=e.unstable_getCurrentPriorityLevel,Te=e.unstable_ImmediatePriority,Ke=e.unstable_UserBlockingPriority,ee=e.unstable_NormalPriority,Ve=e.unstable_LowPriority,ot=e.unstable_IdlePriority,xt=e.log,In=e.unstable_setDisableYieldValue,he=null,Pe=null;function Zt(t){if(typeof xt=="function"&&In(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(he,t)}catch{}}var St=Math.clz32?Math.clz32:Ya,Sn=Math.log,Mn=Math.LN2;function Ya(t){return t>>>=0,t===0?32:31-(Sn(t)/Mn|0)|0}var na=256,at=262144,ja=4194304;function da(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Aa(t,n,r){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=da(i):(g&=S,g!==0?u=da(g):r||(r=S&~t,r!==0&&(u=da(r))))):(S=i&~f,S!==0?u=da(S):g!==0?u=da(g):r||(r=i&~t,r!==0&&(u=da(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function $n(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var t=ja;return ja<<=1,(ja&62914560)===0&&(ja=4194304),t}function G(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ve(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ue(t,n,r,i,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,T=t.expirationTimes,V=t.hiddenUpdates;for(r=g&~r;0<r;){var ne=31-St(r),ue=1<<ne;S[ne]=0,T[ne]=-1;var Z=V[ne];if(Z!==null)for(V[ne]=null,ne=0;ne<Z.length;ne++){var K=Z[ne];K!==null&&(K.lane&=-536870913)}r&=~ue}i!==0&&Je(t,i,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Je(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-St(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|r&261930}function lt(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var i=31-St(r),u=1<<i;u&n|t[i]&n&&(t[i]|=n),r&=~u}}function $e(t,n){var r=n&-n;return r=(r&42)!==0?1:Gt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Gt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rt(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Ny(t.type))}function pn(t,n){var r=se.p;try{return se.p=t,n()}finally{se.p=r}}var Et=Math.random().toString(36).slice(2),it="__reactFiber$"+Et,gt="__reactProps$"+Et,kt="__reactContainer$"+Et,un="__reactEvents$"+Et,_n="__reactListeners$"+Et,gn="__reactHandles$"+Et,dn="__reactResources$"+Et,Lt="__reactMarker$"+Et;function kn(t){delete t[it],delete t[gt],delete t[un],delete t[_n],delete t[gn]}function Wt(t){var n=t[it];if(n)return n;for(var r=t.parentNode;r;){if(n=r[kt]||r[it]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=oy(t);t!==null;){if(r=t[it])return r;t=oy(t)}return n}t=r,r=t.parentNode}return null}function yn(t){if(t=t[it]||t[kt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Cn(t){var n=t[dn];return n||(n=t[dn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[Lt]=!0}var Tr=new Set,Oa={};function wn(t,n){Vn(t,n),Vn(t+"Capture",n)}function Vn(t,n){for(Oa[t]=n,t=0;t<n.length;t++)Tr.add(n[t])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dr={},Pa={};function Qs(t){return _e.call(Pa,t)?!0:_e.call(Dr,t)?!1:Ka.test(t)?Pa[t]=!0:(Dr[t]=!0,!1)}function en(t,n,r){if(Qs(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ca(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Zn(t,n,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+i)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eo(t,n,r){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ml(t){if(!t._valueTracker){var n=zl(t)?"checked":"value";t._valueTracker=eo(t,n,""+t[n])}}function kl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return t&&(i=zl(t)?t.checked?"true":"false":t.value),t=i,t!==r?(n.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ul=/[\n"\\]/g;function vn(t){return t.replace(Ul,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ql(t,n,r,i,u,f,g,S){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ks(t,g,tn(n)):r!=null?Ks(t,g,tn(r)):i!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+tn(S):t.removeAttribute("name")}function zr(t,n,r,i,u,f,g,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ml(t);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=S?t.checked:!!i,t.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ml(t)}function Ks(t,n,r){n==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ps(t,n,r,i){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&i&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function to(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function no(t,n,r,i){if(n==null){if(i!=null){if(r!=null)throw Error(l(92));if(Ee(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,i=t.textContent,i===r&&i!==""&&i!==null&&(t.value=i),Ml(t)}function gs(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ao(t,n,r){var i=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,r):typeof r!="number"||r===0||ou.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function so(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&r[u]!==i&&ao(t,u,i)}else for(var f in n)n.hasOwnProperty(f)&&ao(t,f,n[f])}function Bl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(t){return uu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ra(){}var ys=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,bs=null;function ro(t){var n=yn(t);if(n&&(t=n.stateNode)){var r=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ql(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==t&&i.form===t.form){var u=i[gt]||null;if(!u)throw Error(l(90));ql(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)i=r[n],i.form===t.form&&kl(i)}break e;case"textarea":to(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ps(t,!!r.multiple,n,!1)}}}var Il=!1;function lo(t,n,r){if(Il)return t(n,r);Il=!0;try{var i=t(n);return i}finally{if(Il=!1,(vs!==null||bs!==null)&&(Vo(),vs&&(n=vs,t=bs,bs=vs=null,ro(n),t)))for(n=0;n<t.length;n++)ro(t[n])}}function Ps(t,n){var r=t.stateNode;if(r===null)return null;var i=r[gt]||null;if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Ta)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Xs=!1}var La=null,A=null,I=null;function re(){if(I)return I;var t,n=A,r=n.length,i,u="value"in La?La.value:La.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(i=1;i<=g&&n[r-i]===u[f-i];i++);return I=u.slice(t,1<i?1-i:void 0)}function be(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function et(){return!0}function jt(){return!1}function ct(t){function n(r,i,u,f,g){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?et:jt,this.isPropagationStopped=jt,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=et)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=et)},persist:function(){},isPersistent:et}),n}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=ct(Nn),Ia=x({},Nn,{view:0,detail:0}),Sx=ct(Ia),du,fu,$l,io=x({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(du=t.screenX-$l.screenX,fu=t.screenY-$l.screenY):fu=du=0,$l=t),du)},movementY:function(t){return"movementY"in t?t.movementY:fu}}),ah=ct(io),_x=x({},io,{dataTransfer:0}),wx=ct(_x),Nx=x({},Ia,{relatedTarget:0}),mu=ct(Nx),Ex=x({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),jx=ct(Ex),Ax=x({},Nn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ox=ct(Ax),Cx=x({},Nn,{data:0}),sh=ct(Cx),Rx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zx(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Dx[t])?!!n[t]:!1}function hu(){return zx}var Mx=x({},Ia,{key:function(t){if(t.key){var n=Rx[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=be(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(t){return t.type==="keypress"?be(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?be(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kx=ct(Mx),Ux=x({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=ct(Ux),qx=x({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),Bx=ct(qx),Lx=x({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=ct(Lx),$x=x({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fx=ct($x),Hx=x({},Nn,{newState:0,oldState:0}),Vx=ct(Hx),Zx=[9,13,27,32],pu=Ta&&"CompositionEvent"in window,Fl=null;Ta&&"documentMode"in document&&(Fl=document.documentMode);var Gx=Ta&&"TextEvent"in window&&!Fl,lh=Ta&&(!pu||Fl&&8<Fl&&11>=Fl),ih=" ",oh=!1;function ch(t,n){switch(t){case"keyup":return Zx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function Qx(t,n){switch(t){case"compositionend":return uh(n);case"keypress":return n.which!==32?null:(oh=!0,ih);case"textInput":return t=n.data,t===ih&&oh?null:t;default:return null}}function Yx(t,n){if(kr)return t==="compositionend"||!pu&&ch(t,n)?(t=re(),I=A=La=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return lh&&n.locale!=="ko"?null:n.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Kx[t.type]:n==="textarea"}function fh(t,n,r,i){vs?bs?bs.push(i):bs=[i]:vs=i,n=Xo(n,"onChange"),0<n.length&&(r=new Ws("onChange","change",null,r,i),t.push({event:r,listeners:n}))}var Hl=null,Vl=null;function Px(t){Yg(t,0)}function oo(t){var n=Hn(t);if(kl(n))return t}function mh(t,n){if(t==="change")return n}var hh=!1;if(Ta){var gu;if(Ta){var yu="oninput"in document;if(!yu){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),yu=typeof ph.oninput=="function"}gu=yu}else gu=!1;hh=gu&&(!document.documentMode||9<document.documentMode)}function gh(){Hl&&(Hl.detachEvent("onpropertychange",yh),Vl=Hl=null)}function yh(t){if(t.propertyName==="value"&&oo(Vl)){var n=[];fh(n,Vl,t,Ll(t)),lo(Px,n)}}function Xx(t,n,r){t==="focusin"?(gh(),Hl=n,Vl=r,Hl.attachEvent("onpropertychange",yh)):t==="focusout"&&gh()}function Jx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oo(Vl)}function Wx(t,n){if(t==="click")return oo(n)}function eS(t,n){if(t==="input"||t==="change")return oo(n)}function tS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var aa=typeof Object.is=="function"?Object.is:tS;function Zl(t,n){if(aa(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!_e.call(n,u)||!aa(t[u],n[u]))return!1}return!0}function vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bh(t,n){var r=vh(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=n&&i>=n)return{node:r,offset:n-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vh(r)}}function xh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ys(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ys(t.document)}return n}function vu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nS=Ta&&"documentMode"in document&&11>=document.documentMode,Ur=null,bu=null,Gl=null,xu=!1;function _h(t,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xu||Ur==null||Ur!==Ys(i)||(i=Ur,"selectionStart"in i&&vu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gl&&Zl(Gl,i)||(Gl=i,i=Xo(bu,"onSelect"),0<i.length&&(n=new Ws("onSelect","select",null,n,r),t.push({event:n,listeners:i}),n.target=Ur)))}function er(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var qr={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},Su={},wh={};Ta&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function tr(t){if(Su[t])return Su[t];if(!qr[t])return t;var n=qr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in wh)return Su[t]=n[r];return t}var Nh=tr("animationend"),Eh=tr("animationiteration"),jh=tr("animationstart"),aS=tr("transitionrun"),sS=tr("transitionstart"),rS=tr("transitioncancel"),Ah=tr("transitionend"),Oh=new Map,_u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_u.push("scrollEnd");function Da(t,n){Oh.set(t,n),wn(n,[t])}var co=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fa=[],Br=0,wu=0;function uo(){for(var t=Br,n=wu=Br=0;n<t;){var r=fa[n];fa[n++]=null;var i=fa[n];fa[n++]=null;var u=fa[n];fa[n++]=null;var f=fa[n];if(fa[n++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}f!==0&&Ch(r,u,f)}}function fo(t,n,r,i){fa[Br++]=t,fa[Br++]=n,fa[Br++]=r,fa[Br++]=i,wu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Nu(t,n,r,i){return fo(t,n,r,i),mo(t)}function nr(t,n){return fo(t,null,null,n),mo(t)}function Ch(t,n,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-St(r),t=f.hiddenUpdates,i=t[u],i===null?t[u]=[n]:i.push(n),n.lane=r|536870912),f):null}function mo(t){if(50<hi)throw hi=0,zd=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Lr={};function lS(t,n,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(t,n,r,i){return new lS(t,n,r,i)}function Eu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xa(t,n){var r=t.alternate;return r===null?(r=sa(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Rh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ho(t,n,r,i,u,f){var g=0;if(i=t,typeof t=="function")Eu(t)&&(g=1);else if(typeof t=="string")g=d_(t,r,xe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case oe:return t=sa(31,r,n,u),t.elementType=oe,t.lanes=f,t;case O:return ar(r.children,u,f,n);case N:g=8,u|=24;break;case k:return t=sa(12,r,n,u|2),t.elementType=k,t.lanes=f,t;case C:return t=sa(13,r,n,u),t.elementType=C,t.lanes=f,t;case X:return t=sa(19,r,n,u),t.elementType=X,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:g=10;break e;case D:g=9;break e;case R:g=11;break e;case q:g=14;break e;case J:g=16,i=null;break e}g=29,r=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=sa(g,r,n,u),n.elementType=t,n.type=i,n.lanes=f,n}function ar(t,n,r,i){return t=sa(7,t,i,n),t.lanes=r,t}function ju(t,n,r){return t=sa(6,t,null,n),t.lanes=r,t}function Th(t){var n=sa(18,null,null,0);return n.stateNode=t,n}function Au(t,n,r){return n=sa(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dh=new WeakMap;function ma(t,n){if(typeof t=="object"&&t!==null){var r=Dh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:pe(n)},Dh.set(t,n),n)}return{value:t,source:n,stack:pe(n)}}var Ir=[],$r=0,po=null,Ql=0,ha=[],pa=0,xs=null,$a=1,Fa="";function Ja(t,n){Ir[$r++]=Ql,Ir[$r++]=po,po=t,Ql=n}function zh(t,n,r){ha[pa++]=$a,ha[pa++]=Fa,ha[pa++]=xs,xs=t;var i=$a;t=Fa;var u=32-St(i)-1;i&=~(1<<u),r+=1;var f=32-St(n)+u;if(30<f){var g=u-u%5;f=(i&(1<<g)-1).toString(32),i>>=g,u-=g,$a=1<<32-St(n)+u|r<<u|i,Fa=f+t}else $a=1<<f|r<<u|i,Fa=t}function Ou(t){t.return!==null&&(Ja(t,1),zh(t,1,0))}function Cu(t){for(;t===po;)po=Ir[--$r],Ir[$r]=null,Ql=Ir[--$r],Ir[$r]=null;for(;t===xs;)xs=ha[--pa],ha[pa]=null,Fa=ha[--pa],ha[pa]=null,$a=ha[--pa],ha[pa]=null}function Mh(t,n){ha[pa++]=$a,ha[pa++]=Fa,ha[pa++]=xs,$a=n.id,Fa=n.overflow,xs=t}var En=null,Ut=null,pt=!1,Ss=null,ga=!1,Ru=Error(l(519));function _s(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(ma(n,t)),Ru}function kh(t){var n=t.stateNode,r=t.type,i=t.memoizedProps;switch(n[it]=t,n[gt]=i,r){case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":case"embed":dt("load",n);break;case"video":case"audio":for(r=0;r<gi.length;r++)dt(gi[r],n);break;case"source":dt("error",n);break;case"img":case"image":case"link":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"input":dt("invalid",n),zr(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":dt("invalid",n);break;case"textarea":dt("invalid",n),no(n,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||i.suppressHydrationWarning===!0||Jg(n.textContent,r)?(i.popover!=null&&(dt("beforetoggle",n),dt("toggle",n)),i.onScroll!=null&&dt("scroll",n),i.onScrollEnd!=null&&dt("scrollend",n),i.onClick!=null&&(n.onclick=Ra),n=!0):n=!1,n||_s(t,!0)}function Uh(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:En=En.return}}function Fr(t){if(t!==En)return!1;if(!pt)return Uh(t),pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Yd(t.type,t.memoizedProps)),r=!r),r&&Ut&&_s(t),Uh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=iy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=iy(t)}else n===27?(n=Ut,Us(t.type)?(t=Wd,Wd=null,Ut=t):Ut=n):Ut=En?va(t.stateNode.nextSibling):null;return!0}function sr(){Ut=En=null,pt=!1}function Tu(){var t=Ss;return t!==null&&(Kn===null?Kn=t:Kn.push.apply(Kn,t),Ss=null),t}function Yl(t){Ss===null?Ss=[t]:Ss.push(t)}var Du=j(null),rr=null,Wa=null;function ws(t,n,r){ce(Du,n._currentValue),n._currentValue=r}function es(t){t._currentValue=Du.current,Q(Du)}function zu(t,n,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===r)break;t=t.return}}function Mu(t,n,r,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var T=0;T<n.length;T++)if(S.context===n[T]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),zu(f.return,r,t),i||(g=null);break e}f=S.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),zu(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Hr(t,n,r,i){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var S=u.type;aa(u.pendingProps.value,g.value)||(t!==null?t.push(S):t=[S])}}else if(u===Me.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Si):t=[Si])}u=u.return}t!==null&&Mu(n,t,r,i),n.flags|=262144}function go(t){for(t=t.firstContext;t!==null;){if(!aa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){rr=t,Wa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jn(t){return qh(rr,t)}function yo(t,n){return rr===null&&lr(t),qh(t,n)}function qh(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wa===null){if(t===null)throw Error(l(308));Wa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wa=Wa.next=n;return r}var iS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},oS=e.unstable_scheduleCallback,cS=e.unstable_NormalPriority,nn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ku(){return{controller:new iS,data:new Map,refCount:0}}function Kl(t){t.refCount--,t.refCount===0&&oS(cS,function(){t.controller.abort()})}var Pl=null,Uu=0,Vr=0,Zr=null;function uS(t,n){if(Pl===null){var r=Pl=[];Uu=0,Vr=Ld(),Zr={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Uu++,n.then(Bh,Bh),n}function Bh(){if(--Uu===0&&Pl!==null){Zr!==null&&(Zr.status="fulfilled");var t=Pl;Pl=null,Vr=0,Zr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dS(t,n){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var Lh=B.S;B.S=function(t,n){_g=te(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uS(t,n),Lh!==null&&Lh(t,n)};var ir=j(null);function qu(){var t=ir.current;return t!==null?t:Dt.pooledCache}function vo(t,n){n===null?ce(ir,ir.current):ce(ir,n.pool)}function Ih(){var t=qu();return t===null?null:{parent:nn._currentValue,pool:t}}var Gr=Error(l(460)),Bu=Error(l(474)),bo=Error(l(542)),xo={then:function(){}};function $h(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ra,Ra),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vh(t),t;default:if(typeof n.status=="string")n.then(Ra,Ra);else{if(t=Dt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vh(t),t}throw cr=n,Gr}}function or(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(cr=r,Gr):r}}var cr=null;function Hh(){if(cr===null)throw Error(l(459));var t=cr;return cr=null,t}function Vh(t){if(t===Gr||t===bo)throw Error(l(483))}var Qr=null,Xl=0;function So(t){var n=Xl;return Xl+=1,Qr===null&&(Qr=[]),Fh(Qr,t,n)}function Jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function _o(t,n){throw n.$$typeof===_?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zh(t){function n(L,z){if(t){var H=L.deletions;H===null?(L.deletions=[z],L.flags|=16):H.push(z)}}function r(L,z){if(!t)return null;for(;z!==null;)n(L,z),z=z.sibling;return null}function i(L){for(var z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function u(L,z){return L=Xa(L,z),L.index=0,L.sibling=null,L}function f(L,z,H){return L.index=H,t?(H=L.alternate,H!==null?(H=H.index,H<z?(L.flags|=67108866,z):H):(L.flags|=67108866,z)):(L.flags|=1048576,z)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,z,H,ie){return z===null||z.tag!==6?(z=ju(H,L.mode,ie),z.return=L,z):(z=u(z,H),z.return=L,z)}function T(L,z,H,ie){var Fe=H.type;return Fe===O?ne(L,z,H.props.children,ie,H.key):z!==null&&(z.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===J&&or(Fe)===z.type)?(z=u(z,H.props),Jl(z,H),z.return=L,z):(z=ho(H.type,H.key,H.props,null,L.mode,ie),Jl(z,H),z.return=L,z)}function V(L,z,H,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Au(H,L.mode,ie),z.return=L,z):(z=u(z,H.children||[]),z.return=L,z)}function ne(L,z,H,ie,Fe){return z===null||z.tag!==7?(z=ar(H,L.mode,ie,Fe),z.return=L,z):(z=u(z,H),z.return=L,z)}function ue(L,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ju(""+z,L.mode,H),z.return=L,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return H=ho(z.type,z.key,z.props,null,L.mode,H),Jl(H,z),H.return=L,H;case E:return z=Au(z,L.mode,H),z.return=L,z;case J:return z=or(z),ue(L,z,H)}if(Ee(z)||de(z))return z=ar(z,L.mode,H,null),z.return=L,z;if(typeof z.then=="function")return ue(L,So(z),H);if(z.$$typeof===P)return ue(L,yo(L,z),H);_o(L,z)}return null}function Z(L,z,H,ie){var Fe=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Fe!==null?null:S(L,z,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case U:return H.key===Fe?T(L,z,H,ie):null;case E:return H.key===Fe?V(L,z,H,ie):null;case J:return H=or(H),Z(L,z,H,ie)}if(Ee(H)||de(H))return Fe!==null?null:ne(L,z,H,ie,null);if(typeof H.then=="function")return Z(L,z,So(H),ie);if(H.$$typeof===P)return Z(L,z,yo(L,H),ie);_o(L,H)}return null}function K(L,z,H,ie,Fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return L=L.get(H)||null,S(z,L,""+ie,Fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return L=L.get(ie.key===null?H:ie.key)||null,T(z,L,ie,Fe);case E:return L=L.get(ie.key===null?H:ie.key)||null,V(z,L,ie,Fe);case J:return ie=or(ie),K(L,z,H,ie,Fe)}if(Ee(ie)||de(ie))return L=L.get(H)||null,ne(z,L,ie,Fe,null);if(typeof ie.then=="function")return K(L,z,H,So(ie),Fe);if(ie.$$typeof===P)return K(L,z,H,yo(z,ie),Fe);_o(z,ie)}return null}function ke(L,z,H,ie){for(var Fe=null,yt=null,Be=z,st=z=0,ht=null;Be!==null&&st<H.length;st++){Be.index>st?(ht=Be,Be=null):ht=Be.sibling;var vt=Z(L,Be,H[st],ie);if(vt===null){Be===null&&(Be=ht);break}t&&Be&&vt.alternate===null&&n(L,Be),z=f(vt,z,st),yt===null?Fe=vt:yt.sibling=vt,yt=vt,Be=ht}if(st===H.length)return r(L,Be),pt&&Ja(L,st),Fe;if(Be===null){for(;st<H.length;st++)Be=ue(L,H[st],ie),Be!==null&&(z=f(Be,z,st),yt===null?Fe=Be:yt.sibling=Be,yt=Be);return pt&&Ja(L,st),Fe}for(Be=i(Be);st<H.length;st++)ht=K(Be,L,st,H[st],ie),ht!==null&&(t&&ht.alternate!==null&&Be.delete(ht.key===null?st:ht.key),z=f(ht,z,st),yt===null?Fe=ht:yt.sibling=ht,yt=ht);return t&&Be.forEach(function($s){return n(L,$s)}),pt&&Ja(L,st),Fe}function Ze(L,z,H,ie){if(H==null)throw Error(l(151));for(var Fe=null,yt=null,Be=z,st=z=0,ht=null,vt=H.next();Be!==null&&!vt.done;st++,vt=H.next()){Be.index>st?(ht=Be,Be=null):ht=Be.sibling;var $s=Z(L,Be,vt.value,ie);if($s===null){Be===null&&(Be=ht);break}t&&Be&&$s.alternate===null&&n(L,Be),z=f($s,z,st),yt===null?Fe=$s:yt.sibling=$s,yt=$s,Be=ht}if(vt.done)return r(L,Be),pt&&Ja(L,st),Fe;if(Be===null){for(;!vt.done;st++,vt=H.next())vt=ue(L,vt.value,ie),vt!==null&&(z=f(vt,z,st),yt===null?Fe=vt:yt.sibling=vt,yt=vt);return pt&&Ja(L,st),Fe}for(Be=i(Be);!vt.done;st++,vt=H.next())vt=K(Be,L,st,vt.value,ie),vt!==null&&(t&&vt.alternate!==null&&Be.delete(vt.key===null?st:vt.key),z=f(vt,z,st),yt===null?Fe=vt:yt.sibling=vt,yt=vt);return t&&Be.forEach(function(__){return n(L,__)}),pt&&Ja(L,st),Fe}function Ct(L,z,H,ie){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case U:e:{for(var Fe=H.key;z!==null;){if(z.key===Fe){if(Fe=H.type,Fe===O){if(z.tag===7){r(L,z.sibling),ie=u(z,H.props.children),ie.return=L,L=ie;break e}}else if(z.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===J&&or(Fe)===z.type){r(L,z.sibling),ie=u(z,H.props),Jl(ie,H),ie.return=L,L=ie;break e}r(L,z);break}else n(L,z);z=z.sibling}H.type===O?(ie=ar(H.props.children,L.mode,ie,H.key),ie.return=L,L=ie):(ie=ho(H.type,H.key,H.props,null,L.mode,ie),Jl(ie,H),ie.return=L,L=ie)}return g(L);case E:e:{for(Fe=H.key;z!==null;){if(z.key===Fe)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){r(L,z.sibling),ie=u(z,H.children||[]),ie.return=L,L=ie;break e}else{r(L,z);break}else n(L,z);z=z.sibling}ie=Au(H,L.mode,ie),ie.return=L,L=ie}return g(L);case J:return H=or(H),Ct(L,z,H,ie)}if(Ee(H))return ke(L,z,H,ie);if(de(H)){if(Fe=de(H),typeof Fe!="function")throw Error(l(150));return H=Fe.call(H),Ze(L,z,H,ie)}if(typeof H.then=="function")return Ct(L,z,So(H),ie);if(H.$$typeof===P)return Ct(L,z,yo(L,H),ie);_o(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(r(L,z.sibling),ie=u(z,H),ie.return=L,L=ie):(r(L,z),ie=ju(H,L.mode,ie),ie.return=L,L=ie),g(L)):r(L,z)}return function(L,z,H,ie){try{Xl=0;var Fe=Ct(L,z,H,ie);return Qr=null,Fe}catch(Be){if(Be===Gr||Be===bo)throw Be;var yt=sa(29,Be,null,L.mode);return yt.lanes=ie,yt.return=L,yt}finally{}}}var ur=Zh(!0),Gh=Zh(!1),Ns=!1;function Lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(bt&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=mo(t),Ch(t,null,r),n}return fo(t,i,n,r),mo(t)}function Wl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,lt(t,r)}}function $u(t,n){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Fu=!1;function ei(){if(Fu){var t=Zr;if(t!==null)throw t}}function ti(t,n,r,i){Fu=!1;var u=t.updateQueue;Ns=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,V=T.next;T.next=null,g===null?f=V:g.next=V,g=T;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==g&&(S===null?ne.firstBaseUpdate=V:S.next=V,ne.lastBaseUpdate=T))}if(f!==null){var ue=u.baseState;g=0,ne=V=T=null,S=f;do{var Z=S.lane&-536870913,K=Z!==S.lane;if(K?(mt&Z)===Z:(i&Z)===Z){Z!==0&&Z===Vr&&(Fu=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ke=t,Ze=S;Z=n;var Ct=r;switch(Ze.tag){case 1:if(ke=Ze.payload,typeof ke=="function"){ue=ke.call(Ct,ue,Z);break e}ue=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ze.payload,Z=typeof ke=="function"?ke.call(Ct,ue,Z):ke,Z==null)break e;ue=x({},ue,Z);break e;case 2:Ns=!0}}Z=S.callback,Z!==null&&(t.flags|=64,K&&(t.flags|=8192),K=u.callbacks,K===null?u.callbacks=[Z]:K.push(Z))}else K={lane:Z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(V=ne=K,T=ue):ne=ne.next=K,g|=Z;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;K=S,S=K.next,K.next=null,u.lastBaseUpdate=K,u.shared.pending=null}}while(!0);ne===null&&(T=ue),u.baseState=T,u.firstBaseUpdate=V,u.lastBaseUpdate=ne,f===null&&(u.shared.lanes=0),Ts|=g,t.lanes=g,t.memoizedState=ue}}function Qh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Yh(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qh(r[t],n)}var Yr=j(null),wo=j(0);function Kh(t,n){t=cs,ce(wo,t),ce(Yr,n),cs=t|n.baseLanes}function Hu(){ce(wo,cs),ce(Yr,Yr.current)}function Vu(){cs=wo.current,Q(Yr),Q(wo)}var ra=j(null),ya=null;function As(t){var n=t.alternate;ce(Pt,Pt.current&1),ce(ra,t),ya===null&&(n===null||Yr.current!==null||n.memoizedState!==null)&&(ya=t)}function Zu(t){ce(Pt,Pt.current),ce(ra,t),ya===null&&(ya=t)}function Ph(t){t.tag===22?(ce(Pt,Pt.current),ce(ra,t),ya===null&&(ya=t)):Os()}function Os(){ce(Pt,Pt.current),ce(ra,ra.current)}function la(t){Q(ra),ya===t&&(ya=null),Q(Pt)}var Pt=j(0);function No(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Xd(r)||Jd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,tt=null,At=null,an=null,Eo=!1,Kr=!1,dr=!1,jo=0,ni=0,Pr=null,fS=0;function Qt(){throw Error(l(321))}function Gu(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!aa(t[r],n[r]))return!1;return!0}function Qu(t,n,r,i,u,f){return ts=f,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?zp:od,dr=!1,f=r(i,u),dr=!1,Kr&&(f=Jh(n,r,i,u)),Xh(t),f}function Xh(t){B.H=ri;var n=At!==null&&At.next!==null;if(ts=0,an=At=tt=null,Eo=!1,ni=0,Pr=null,n)throw Error(l(300));t===null||sn||(t=t.dependencies,t!==null&&go(t)&&(sn=!0))}function Jh(t,n,r,i){tt=t;var u=0;do{if(Kr&&(Pr=null),ni=0,Kr=!1,25<=u)throw Error(l(301));if(u+=1,an=At=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Mp,f=n(r,i)}while(Kr);return f}function mS(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?ai(n):n,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(tt.flags|=1024),n}function Yu(){var t=jo!==0;return jo=0,t}function Ku(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Pu(t){if(Eo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Eo=!1}ts=0,an=At=tt=null,Kr=!1,ni=jo=0,Pr=null}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?tt.memoizedState=an=t:an=an.next=t,an}function Xt(){if(At===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var n=an===null?tt.memoizedState:an.next;if(n!==null)an=n,At=t;else{if(t===null)throw tt.alternate===null?Error(l(467)):Error(l(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},an===null?tt.memoizedState=an=t:an=an.next=t}return an}function Ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ai(t){var n=ni;return ni+=1,Pr===null&&(Pr=[]),t=Fh(Pr,t,n),n=tt,(an===null?n.memoizedState:an.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?zp:od),t}function Oo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ai(t);if(t.$$typeof===P)return jn(t)}throw Error(l(438,String(t)))}function Xu(t){var n=null,r=tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=tt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ao(),tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),i=0;i<t;i++)r[i]=we;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function Co(t){var n=Xt();return Ju(n,At,t)}function Ju(t,n,r){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=t.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,i.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var S=g=null,T=null,V=n,ne=!1;do{var ue=V.lane&-536870913;if(ue!==V.lane?(mt&ue)===ue:(ts&ue)===ue){var Z=V.revertLane;if(Z===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ue===Vr&&(ne=!0);else if((ts&Z)===Z){V=V.next,Z===Vr&&(ne=!0);continue}else ue={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},T===null?(S=T=ue,g=f):T=T.next=ue,tt.lanes|=Z,Ts|=Z;ue=V.action,dr&&r(f,ue),f=V.hasEagerState?V.eagerState:r(f,ue)}else Z={lane:ue,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},T===null?(S=T=Z,g=f):T=T.next=Z,tt.lanes|=ue,Ts|=ue;V=V.next}while(V!==null&&V!==n);if(T===null?g=f:T.next=S,!aa(f,t.memoizedState)&&(sn=!0,ne&&(r=Zr,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=T,i.lastRenderedState=f}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Wu(t){var n=Xt(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var i=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);aa(f,n.memoizedState)||(sn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,i]}function Wh(t,n,r){var i=tt,u=Xt(),f=pt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var g=!aa((At||u).memoizedState,r);if(g&&(u.memoizedState=r,sn=!0),u=u.queue,nd(np.bind(null,i,u,t),[t]),u.getSnapshot!==n||g||an!==null&&an.memoizedState.tag&1){if(i.flags|=2048,Xr(9,{destroy:void 0},tp.bind(null,i,u,r,n),null),Dt===null)throw Error(l(349));f||(ts&127)!==0||ep(i,n,r)}return r}function ep(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=tt.updateQueue,n===null?(n=Ao(),tt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function tp(t,n,r,i){n.value=r,n.getSnapshot=i,ap(n)&&sp(t)}function np(t,n,r){return r(function(){ap(n)&&sp(t)})}function ap(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!aa(t,r)}catch{return!0}}function sp(t){var n=nr(t,2);n!==null&&Pn(n,t,2)}function ed(t){var n=Un();if(typeof t=="function"){var r=t;if(t=r(),dr){Zt(!0);try{r()}finally{Zt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function rp(t,n,r,i){return t.baseState=r,Ju(t,At,typeof i=="function"?i:ns)}function hS(t,n,r,i,u){if(Do(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?r(!0):f.isTransition=!1,i(f),r=n.pending,r===null?(f.next=n.pending=f,lp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lp(t,n){var r=n.action,i=n.payload,u=t.state;if(n.isTransition){var f=B.T,g={};B.T=g;try{var S=r(u,i),T=B.S;T!==null&&T(g,S),ip(t,n,S)}catch(V){td(t,n,V)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=r(u,i),ip(t,n,f)}catch(V){td(t,n,V)}}function ip(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){op(t,n,i)},function(i){return td(t,n,i)}):op(t,n,r)}function op(t,n,r){n.status="fulfilled",n.value=r,cp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,lp(t,r)))}function td(t,n,r){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,cp(n),n=n.next;while(n!==i)}t.action=null}function cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function dp(t,n){if(pt){var r=Dt.formState;if(r!==null){e:{var i=tt;if(pt){if(Ut){t:{for(var u=Ut,f=ga;u.nodeType!==8;){if(!f){u=null;break t}if(u=va(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ut=va(u.nextSibling),i=u.data==="F!";break e}}_s(i)}i=!1}i&&(n=r[0])}}return r=Un(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},r.queue=i,r=Rp.bind(null,tt,i),i.dispatch=r,i=ed(!1),f=id.bind(null,tt,!1,i.queue),i=Un(),u={state:n,dispatch:null,action:t,pending:null},i.queue=u,r=hS.bind(null,tt,u,f,r),u.dispatch=r,i.memoizedState=t,[n,r,!1]}function fp(t){var n=Xt();return mp(n,At,t)}function mp(t,n,r){if(n=Ju(t,n,up)[0],t=Co(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=ai(n)}catch(g){throw g===Gr?bo:g}else i=n;n=Xt();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(tt.flags|=2048,Xr(9,{destroy:void 0},pS.bind(null,u,r),null)),[i,f,t]}function pS(t,n){t.action=n}function hp(t){var n=Xt(),r=At;if(r!==null)return mp(n,r,t);Xt(),n=n.memoizedState,r=Xt();var i=r.queue.dispatch;return r.memoizedState=t,[n,i,!1]}function Xr(t,n,r,i){return t={tag:t,create:r,deps:i,inst:n,next:null},n=tt.updateQueue,n===null&&(n=Ao(),tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,n.lastEffect=t),t}function pp(){return Xt().memoizedState}function Ro(t,n,r,i){var u=Un();tt.flags|=t,u.memoizedState=Xr(1|n,{destroy:void 0},r,i===void 0?null:i)}function To(t,n,r,i){var u=Xt();i=i===void 0?null:i;var f=u.memoizedState.inst;At!==null&&i!==null&&Gu(i,At.memoizedState.deps)?u.memoizedState=Xr(n,f,r,i):(tt.flags|=t,u.memoizedState=Xr(1|n,f,r,i))}function gp(t,n){Ro(8390656,8,t,n)}function nd(t,n){To(2048,8,t,n)}function gS(t){tt.flags|=4;var n=tt.updateQueue;if(n===null)n=Ao(),tt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function yp(t){var n=Xt().memoizedState;return gS({ref:n,nextImpl:t}),function(){if((bt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function vp(t,n){return To(4,2,t,n)}function bp(t,n){return To(4,4,t,n)}function xp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sp(t,n,r){r=r!=null?r.concat([t]):null,To(4,4,xp.bind(null,n,t),r)}function ad(){}function _p(t,n){var r=Xt();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&Gu(n,i[1])?i[0]:(r.memoizedState=[t,n],t)}function wp(t,n){var r=Xt();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&Gu(n,i[1]))return i[0];if(i=t(),dr){Zt(!0);try{t()}finally{Zt(!1)}}return r.memoizedState=[i,n],i}function sd(t,n,r){return r===void 0||(ts&1073741824)!==0&&(mt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ng(),tt.lanes|=t,Ts|=t,r)}function Np(t,n,r,i){return aa(r,n)?r:Yr.current!==null?(t=sd(t,r,i),aa(t,n)||(sn=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(mt&261930)===0?(sn=!0,t.memoizedState=r):(t=Ng(),tt.lanes|=t,Ts|=t,n)}function Ep(t,n,r,i,u){var f=se.p;se.p=f!==0&&8>f?f:8;var g=B.T,S={};B.T=S,id(t,!1,n,r);try{var T=u(),V=B.S;if(V!==null&&V(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var ne=dS(T,i);si(t,n,ne,ca(t))}else si(t,n,i,ca(t))}catch(ue){si(t,n,{then:function(){},status:"rejected",reason:ue},ca())}finally{se.p=f,g!==null&&S.types!==null&&(g.types=S.types),B.T=g}}function yS(){}function rd(t,n,r,i){if(t.tag!==5)throw Error(l(476));var u=jp(t).queue;Ep(t,u,n,ae,r===null?yS:function(){return Ap(t),r(i)})}function jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ae},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ap(t){var n=jp(t);n.next===null&&(n=t.alternate.memoizedState),si(t,n.next.queue,{},ca())}function ld(){return jn(Si)}function Op(){return Xt().memoizedState}function Cp(){return Xt().memoizedState}function vS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ca();t=Es(r);var i=js(n,t,r);i!==null&&(Pn(i,n,r),Wl(i,n,r)),n={cache:ku()},t.payload=n;return}n=n.return}}function bS(t,n,r){var i=ca();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Do(t)?Tp(n,r):(r=Nu(t,n,r,i),r!==null&&(Pn(r,t,i),Dp(r,n,i)))}function Rp(t,n,r){var i=ca();si(t,n,r,i)}function si(t,n,r,i){var u={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Do(t))Tp(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,r);if(u.hasEagerState=!0,u.eagerState=S,aa(S,g))return fo(t,n,u,0),Dt===null&&uo(),!1}catch{}finally{}if(r=Nu(t,n,u,i),r!==null)return Pn(r,t,i),Dp(r,n,i),!0}return!1}function id(t,n,r,i){if(i={lane:2,revertLane:Ld(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Do(t)){if(n)throw Error(l(479))}else n=Nu(t,r,i,2),n!==null&&Pn(n,t,2)}function Do(t){var n=t.alternate;return t===tt||n!==null&&n===tt}function Tp(t,n){Kr=Eo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Dp(t,n,r){if((r&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,lt(t,r)}}var ri={readContext:jn,use:Oo,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};ri.useEffectEvent=Qt;var zp={readContext:jn,use:Oo,useCallback:function(t,n){return Un().memoizedState=[t,n===void 0?null:n],t},useContext:jn,useEffect:gp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ro(4194308,4,xp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ro(4194308,4,t,n)},useInsertionEffect:function(t,n){Ro(4,2,t,n)},useMemo:function(t,n){var r=Un();n=n===void 0?null:n;var i=t();if(dr){Zt(!0);try{t()}finally{Zt(!1)}}return r.memoizedState=[i,n],i},useReducer:function(t,n,r){var i=Un();if(r!==void 0){var u=r(n);if(dr){Zt(!0);try{r(n)}finally{Zt(!1)}}}else u=n;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=bS.bind(null,tt,t),[i.memoizedState,t]},useRef:function(t){var n=Un();return t={current:t},n.memoizedState=t},useState:function(t){t=ed(t);var n=t.queue,r=Rp.bind(null,tt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ad,useDeferredValue:function(t,n){var r=Un();return sd(r,t,n)},useTransition:function(){var t=ed(!1);return t=Ep.bind(null,tt,t.queue,!0,!1),Un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var i=tt,u=Un();if(pt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Dt===null)throw Error(l(349));(mt&127)!==0||ep(i,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,gp(np.bind(null,i,f,t),[t]),i.flags|=2048,Xr(9,{destroy:void 0},tp.bind(null,i,f,r,n),null),r},useId:function(){var t=Un(),n=Dt.identifierPrefix;if(pt){var r=Fa,i=$a;r=(i&~(1<<32-St(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=jo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=fS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ld,useFormState:dp,useActionState:dp,useOptimistic:function(t){var n=Un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=id.bind(null,tt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Xu,useCacheRefresh:function(){return Un().memoizedState=vS.bind(null,tt)},useEffectEvent:function(t){var n=Un(),r={impl:t};return n.memoizedState=r,function(){if((bt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},od={readContext:jn,use:Oo,useCallback:_p,useContext:jn,useEffect:nd,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:bp,useMemo:wp,useReducer:Co,useRef:pp,useState:function(){return Co(ns)},useDebugValue:ad,useDeferredValue:function(t,n){var r=Xt();return Np(r,At.memoizedState,t,n)},useTransition:function(){var t=Co(ns)[0],n=Xt().memoizedState;return[typeof t=="boolean"?t:ai(t),n]},useSyncExternalStore:Wh,useId:Op,useHostTransitionStatus:ld,useFormState:fp,useActionState:fp,useOptimistic:function(t,n){var r=Xt();return rp(r,At,t,n)},useMemoCache:Xu,useCacheRefresh:Cp};od.useEffectEvent=yp;var Mp={readContext:jn,use:Oo,useCallback:_p,useContext:jn,useEffect:nd,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:bp,useMemo:wp,useReducer:Wu,useRef:pp,useState:function(){return Wu(ns)},useDebugValue:ad,useDeferredValue:function(t,n){var r=Xt();return At===null?sd(r,t,n):Np(r,At.memoizedState,t,n)},useTransition:function(){var t=Wu(ns)[0],n=Xt().memoizedState;return[typeof t=="boolean"?t:ai(t),n]},useSyncExternalStore:Wh,useId:Op,useHostTransitionStatus:ld,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var r=Xt();return At!==null?rp(r,At,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:Cp};Mp.useEffectEvent=yp;function cd(t,n,r,i){n=t.memoizedState,r=r(i,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ud={enqueueSetState:function(t,n,r){t=t._reactInternals;var i=ca(),u=Es(i);u.payload=n,r!=null&&(u.callback=r),n=js(t,u,i),n!==null&&(Pn(n,t,i),Wl(n,t,i))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var i=ca(),u=Es(i);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=js(t,u,i),n!==null&&(Pn(n,t,i),Wl(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ca(),i=Es(r);i.tag=2,n!=null&&(i.callback=n),n=js(t,i,r),n!==null&&(Pn(n,t,r),Wl(n,t,r))}};function kp(t,n,r,i,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zl(r,i)||!Zl(u,f):!0}function Up(t,n,r,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==t&&ud.enqueueReplaceState(n,n.state,null)}function fr(t,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function qp(t){co(t)}function Bp(t){console.error(t)}function Lp(t){co(t)}function zo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Ip(t,n,r){try{var i=t.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function dd(t,n,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){zo(t,n)},r}function $p(t){return t=Es(t),t.tag=3,t}function Fp(t,n,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;t.payload=function(){return u(f)},t.callback=function(){Ip(n,r,i)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ip(n,r,i),typeof u!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function xS(t,n,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&Hr(n,r,u,!0),r=ra.current,r!==null){switch(r.tag){case 31:case 13:return ya===null?Zo():r.alternate===null&&Yt===0&&(Yt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===xo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),Ud(t,i,u)),!1;case 22:return r.flags|=65536,i===xo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),Ud(t,i,u)),!1}throw Error(l(435,r.tag))}return Ud(t,i,u),Zo(),!1}if(pt)return n=ra.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==Ru&&(t=Error(l(422),{cause:i}),Yl(ma(t,r)))):(i!==Ru&&(n=Error(l(423),{cause:i}),Yl(ma(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=ma(i,r),u=dd(t.stateNode,i,u),$u(t,u),Yt!==4&&(Yt=2)),!1;var f=Error(l(520),{cause:i});if(f=ma(f,r),mi===null?mi=[f]:mi.push(f),Yt!==4&&(Yt=2),n===null)return!0;i=ma(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=dd(r.stateNode,i,t),$u(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=$p(u),Fp(u,t,r,i),$u(r,u),!1}r=r.return}while(r!==null);return!1}var fd=Error(l(461)),sn=!1;function An(t,n,r,i){n.child=t===null?Gh(n,null,r,i):ur(n,t.child,r,i)}function Hp(t,n,r,i,u){r=r.render;var f=n.ref;if("ref"in i){var g={};for(var S in i)S!=="ref"&&(g[S]=i[S])}else g=i;return lr(n),i=Qu(t,n,r,g,f,u),S=Yu(),t!==null&&!sn?(Ku(t,n,u),as(t,n,u)):(pt&&S&&Ou(n),n.flags|=1,An(t,n,i,u),n.child)}function Vp(t,n,r,i,u){if(t===null){var f=r.type;return typeof f=="function"&&!Eu(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Zp(t,n,f,i,u)):(t=ho(r.type,null,i,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!xd(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(g,i)&&t.ref===n.ref)return as(t,n,u)}return n.flags|=1,t=Xa(f,i),t.ref=n.ref,t.return=n,n.child=t}function Zp(t,n,r,i,u){if(t!==null){var f=t.memoizedProps;if(Zl(f,i)&&t.ref===n.ref)if(sn=!1,n.pendingProps=i=f,xd(t,u))(t.flags&131072)!==0&&(sn=!0);else return n.lanes=t.lanes,as(t,n,u)}return md(t,n,r,i,u)}function Gp(t,n,r,i){var u=i.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(i=n.child=t.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return Qp(t,n,f,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vo(n,f!==null?f.cachePool:null),f!==null?Kh(n,f):Hu(),Ph(n);else return i=n.lanes=536870912,Qp(t,n,f!==null?f.baseLanes|r:r,r,i)}else f!==null?(vo(n,f.cachePool),Kh(n,f),Os(),n.memoizedState=null):(t!==null&&vo(n,null),Hu(),Os());return An(t,n,u,r),n.child}function li(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(t,n,r,i,u){var f=qu();return f=f===null?null:{parent:nn._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&vo(n,null),Hu(),Ph(n),t!==null&&Hr(t,n,i,!0),n.childLanes=u,null}function Mo(t,n){return n=Uo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yp(t,n,r){return ur(n,t.child,null,r),t=Mo(n,n.pendingProps),t.flags|=2,la(n),n.memoizedState=null,t}function SS(t,n,r){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(pt){if(i.mode==="hidden")return t=Mo(n,i),n.lanes=536870912,li(null,t);if(Zu(n),(t=Ut)?(t=ly(t,ga),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:$a,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},r=Th(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw _s(n);return n.lanes=536870912,null}return Mo(n,i)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Zu(n),u)if(n.flags&256)n.flags&=-257,n=Yp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(sn||Hr(t,n,r,!1),u=(r&t.childLanes)!==0,sn||u){if(i=Dt,i!==null&&(g=$e(i,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,nr(t,g),Pn(i,t,g),fd;Zo(),n=Yp(t,n,r)}else t=f.treeContext,Ut=va(g.nextSibling),En=n,pt=!0,Ss=null,ga=!1,t!==null&&Mh(n,t),n=Mo(n,i),n.flags|=4096;return n}return t=Xa(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ko(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function md(t,n,r,i,u){return lr(n),r=Qu(t,n,r,i,void 0,u),i=Yu(),t!==null&&!sn?(Ku(t,n,u),as(t,n,u)):(pt&&i&&Ou(n),n.flags|=1,An(t,n,r,u),n.child)}function Kp(t,n,r,i,u,f){return lr(n),n.updateQueue=null,r=Jh(n,i,r,u),Xh(t),i=Yu(),t!==null&&!sn?(Ku(t,n,f),as(t,n,f)):(pt&&i&&Ou(n),n.flags|=1,An(t,n,r,f),n.child)}function Pp(t,n,r,i,u){if(lr(n),n.stateNode===null){var f=Lr,g=r.contextType;typeof g=="object"&&g!==null&&(f=jn(g)),f=new r(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ud,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},Lu(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?jn(g):Lr,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(cd(n,r,g,i),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&ud.enqueueReplaceState(f,f.state,null),ti(n,i,f,u),ei(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,T=fr(r,S);f.props=T;var V=f.context,ne=r.contextType;g=Lr,typeof ne=="object"&&ne!==null&&(g=jn(ne));var ue=r.getDerivedStateFromProps;ne=typeof ue=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,ne||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||V!==g)&&Up(n,f,i,g),Ns=!1;var Z=n.memoizedState;f.state=Z,ti(n,i,f,u),ei(),V=n.memoizedState,S||Z!==V||Ns?(typeof ue=="function"&&(cd(n,r,ue,i),V=n.memoizedState),(T=Ns||kp(n,r,T,i,Z,V,g))?(ne||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=V),f.props=i,f.state=V,f.context=g,i=T):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,Iu(t,n),g=n.memoizedProps,ne=fr(r,g),f.props=ne,ue=n.pendingProps,Z=f.context,V=r.contextType,T=Lr,typeof V=="object"&&V!==null&&(T=jn(V)),S=r.getDerivedStateFromProps,(V=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==ue||Z!==T)&&Up(n,f,i,T),Ns=!1,Z=n.memoizedState,f.state=Z,ti(n,i,f,u),ei();var K=n.memoizedState;g!==ue||Z!==K||Ns||t!==null&&t.dependencies!==null&&go(t.dependencies)?(typeof S=="function"&&(cd(n,r,S,i),K=n.memoizedState),(ne=Ns||kp(n,r,ne,i,Z,K,T)||t!==null&&t.dependencies!==null&&go(t.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,K,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,K,T)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&Z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Z===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=K),f.props=i,f.state=K,f.context=T,i=ne):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&Z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Z===t.memoizedState||(n.flags|=1024),i=!1)}return f=i,ko(t,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&i?(n.child=ur(n,t.child,null,u),n.child=ur(n,null,r,u)):An(t,n,r,u),n.memoizedState=f.state,t=n.child):t=as(t,n,u),t}function Xp(t,n,r,i){return sr(),n.flags|=256,An(t,n,r,i),n.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Ih()}}function gd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=oa),t}function Jp(t,n,r){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(pt){if(u?As(n):Os(),(t=Ut)?(t=ly(t,ga),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:$a,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},r=Th(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw _s(n);return Jd(t)?n.lanes=32:n.lanes=536870912,null}var S=i.children;return i=i.fallback,u?(Os(),u=n.mode,S=Uo({mode:"hidden",children:S},u),i=ar(i,u,r,null),S.return=n,i.return=n,S.sibling=i,n.child=S,i=n.child,i.memoizedState=pd(r),i.childLanes=gd(t,g,r),n.memoizedState=hd,li(null,i)):(As(n),yd(n,S))}var T=t.memoizedState;if(T!==null&&(S=T.dehydrated,S!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=vd(t,n,r)):n.memoizedState!==null?(Os(),n.child=t.child,n.flags|=128,n=null):(Os(),S=i.fallback,u=n.mode,i=Uo({mode:"visible",children:i.children},u),S=ar(S,u,r,null),S.flags|=2,i.return=n,S.return=n,i.sibling=S,n.child=i,ur(n,t.child,null,r),i=n.child,i.memoizedState=pd(r),i.childLanes=gd(t,g,r),n.memoizedState=hd,n=li(null,i));else if(As(n),Jd(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var V=g.dgst;g=V,i=Error(l(419)),i.stack="",i.digest=g,Yl({value:i,source:null,stack:null}),n=vd(t,n,r)}else if(sn||Hr(t,n,r,!1),g=(r&t.childLanes)!==0,sn||g){if(g=Dt,g!==null&&(i=$e(g,r),i!==0&&i!==T.retryLane))throw T.retryLane=i,nr(t,i),Pn(g,t,i),fd;Xd(S)||Zo(),n=vd(t,n,r)}else Xd(S)?(n.flags|=192,n.child=t.child,n=null):(t=T.treeContext,Ut=va(S.nextSibling),En=n,pt=!0,Ss=null,ga=!1,t!==null&&Mh(n,t),n=yd(n,i.children),n.flags|=4096);return n}return u?(Os(),S=i.fallback,u=n.mode,T=t.child,V=T.sibling,i=Xa(T,{mode:"hidden",children:i.children}),i.subtreeFlags=T.subtreeFlags&65011712,V!==null?S=Xa(V,S):(S=ar(S,u,r,null),S.flags|=2),S.return=n,i.return=n,i.sibling=S,n.child=i,li(null,i),i=n.child,S=t.child.memoizedState,S===null?S=pd(r):(u=S.cachePool,u!==null?(T=nn._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Ih(),S={baseLanes:S.baseLanes|r,cachePool:u}),i.memoizedState=S,i.childLanes=gd(t,g,r),n.memoizedState=hd,li(t.child,i)):(As(n),r=t.child,t=r.sibling,r=Xa(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function yd(t,n){return n=Uo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Uo(t,n){return t=sa(22,t,null,n),t.lanes=0,t}function vd(t,n,r){return ur(n,t.child,null,r),t=yd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wp(t,n,r){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),zu(t.return,n,r)}function bd(t,n,r,i,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=r,g.tailMode=u,g.treeForkCount=f)}function eg(t,n,r){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var g=Pt.current,S=(g&2)!==0;if(S?(g=g&1|2,n.flags|=128):g&=1,ce(Pt,g),An(t,n,i,r),i=pt?Ql:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wp(t,r,n);else if(t.tag===19)Wp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&No(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),bd(n,!1,u,r,f,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&No(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}bd(n,!0,r,null,f,i);break;case"together":bd(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Hr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=Xa(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xa(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function xd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&go(t)))}function _S(t,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ws(n,nn,t.memoizedState.cache),sr();break;case 27:case 5:qe(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zu(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(As(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jp(t,n,r):(As(n),t=as(t,n,r),t!==null?t.sibling:null);As(n);break;case 19:var u=(t.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||(Hr(t,n,r,!1),i=(r&n.childLanes)!==0),u){if(i)return eg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ce(Pt,Pt.current),i)break;return null;case 22:return n.lanes=0,Gp(t,n,r,n.pendingProps);case 24:ws(n,nn,t.memoizedState.cache)}return as(t,n,r)}function tg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)sn=!0;else{if(!xd(t,r)&&(n.flags&128)===0)return sn=!1,_S(t,n,r);sn=(t.flags&131072)!==0}else sn=!1,pt&&(n.flags&1048576)!==0&&zh(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=or(n.elementType),n.type=t,typeof t=="function")Eu(t)?(i=fr(t,i),n.tag=1,n=Pp(null,n,t,i,r)):(n.tag=0,n=md(null,n,t,i,r));else{if(t!=null){var u=t.$$typeof;if(u===R){n.tag=11,n=Hp(null,n,t,i,r);break e}else if(u===q){n.tag=14,n=Vp(null,n,t,i,r);break e}}throw n=Ae(t)||t,Error(l(306,n,""))}}return n;case 0:return md(t,n,n.type,n.pendingProps,r);case 1:return i=n.type,u=fr(i,n.pendingProps),Pp(t,n,i,u,r);case 3:e:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,Iu(t,n),ti(n,i,null,r);var g=n.memoizedState;if(i=g.cache,ws(n,nn,i),i!==f.cache&&Mu(n,[nn],r,!0),ei(),i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(t,n,i,r);break e}else if(i!==u){u=ma(Error(l(424)),n),Yl(u),n=Xp(t,n,i,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ut=va(t.firstChild),En=n,pt=!0,Ss=null,ga=!0,r=Gh(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sr(),i===u){n=as(t,n,r);break e}An(t,n,i,r)}n=n.child}return n;case 26:return ko(t,n),t===null?(r=fy(n.type,null,n.pendingProps,null))?n.memoizedState=r:pt||(r=n.type,t=n.pendingProps,i=Jo(Re.current).createElement(r),i[it]=n,i[gt]=t,On(i,r,t),Tt(i),n.stateNode=i):n.memoizedState=fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qe(n),t===null&&pt&&(i=n.stateNode=cy(n.type,n.pendingProps,Re.current),En=n,ga=!0,u=Ut,Us(n.type)?(Wd=u,Ut=va(i.firstChild)):Ut=u),An(t,n,n.pendingProps.children,r),ko(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&pt&&((u=i=Ut)&&(i=JS(i,n.type,n.pendingProps,ga),i!==null?(n.stateNode=i,En=n,Ut=va(i.firstChild),ga=!1,u=!0):u=!1),u||_s(n)),qe(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,i=f.children,Yd(u,f)?i=null:g!==null&&Yd(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Qu(t,n,mS,null,null,r),Si._currentValue=u),ko(t,n),An(t,n,i,r),n.child;case 6:return t===null&&pt&&((t=r=Ut)&&(r=WS(r,n.pendingProps,ga),r!==null?(n.stateNode=r,En=n,Ut=null,t=!0):t=!1),t||_s(n)),null;case 13:return Jp(t,n,r);case 4:return Ie(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=ur(n,null,i,r):An(t,n,i,r),n.child;case 11:return Hp(t,n,n.type,n.pendingProps,r);case 7:return An(t,n,n.pendingProps,r),n.child;case 8:return An(t,n,n.pendingProps.children,r),n.child;case 12:return An(t,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,ws(n,n.type,i.value),An(t,n,i.children,r),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,lr(n),u=jn(u),i=i(u),n.flags|=1,An(t,n,i,r),n.child;case 14:return Vp(t,n,n.type,n.pendingProps,r);case 15:return Zp(t,n,n.type,n.pendingProps,r);case 19:return eg(t,n,r);case 31:return SS(t,n,r);case 22:return Gp(t,n,r,n.pendingProps);case 24:return lr(n),i=jn(nn),t===null?(u=qu(),u===null&&(u=Dt,f=ku(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:i,cache:u},Lu(n),ws(n,nn,u)):((t.lanes&r)!==0&&(Iu(t,n),ti(n,null,null,r),ei()),u=t.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ws(n,nn,i)):(i=f.cache,ws(n,nn,i),i!==u.cache&&Mu(n,[nn],r,!0))),An(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ss(t){t.flags|=4}function Sd(t,n,r,i,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Og())t.flags|=8192;else throw cr=xo,Bu}else t.flags&=-16777217}function ng(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yy(n))if(Og())t.flags|=8192;else throw cr=xo,Bu}function qo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?F():536870912,t.lanes|=n,tl|=n)}function ii(t,n){if(!pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=r,n}function wS(t,n,r){var i=n.pendingProps;switch(Cu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return qt(n),null;case 3:return r=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),es(nn),ye(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fr(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tu())),qt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(qt(n),ng(n,f)):(qt(n),Sd(n,u,null,i,r))):f?f!==t.memoizedState?(ss(n),qt(n),ng(n,f)):(qt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&ss(n),qt(n),Sd(n,u,t,i,r)),null;case 27:if(Ge(n),r=Re.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return qt(n),null}t=xe.current,Fr(n)?kh(n):(t=cy(u,i,r),n.stateNode=t,ss(n))}return qt(n),null;case 5:if(Ge(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return qt(n),null}if(f=xe.current,Fr(n))kh(n);else{var g=Jo(Re.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?g.createElement(u,{is:i.is}):g.createElement(u)}}f[it]=n,f[gt]=i;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(On(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ss(n)}}return qt(n),Sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=Re.current,Fr(n)){if(t=n.stateNode,r=n.memoizedProps,i=null,u=En,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[it]=n,t=!!(t.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Jg(t.nodeValue,r)),t||_s(n,!0)}else t=Jo(t).createTextNode(i),t[it]=n,n.stateNode=t}return qt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(i=Fr(n),r!==null){if(t===null){if(!i)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[it]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),t=!1}else r=Tu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(la(n),n):(la(n),null);if((n.flags&128)!==0)throw Error(l(558))}return qt(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Fr(n),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[it]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),u=!1}else u=Tu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(la(n),n):(la(n),null)}return la(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,t=t!==null&&t.memoizedState!==null,r&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),qo(n,n.updateQueue),qt(n),null);case 4:return ye(),t===null&&Hd(n.stateNode.containerInfo),qt(n),null;case 10:return es(n.type),qt(n),null;case 19:if(Q(Pt),i=n.memoizedState,i===null)return qt(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)ii(i,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=No(t),f!==null){for(n.flags|=128,ii(i,!1),t=f.updateQueue,n.updateQueue=t,qo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Rh(r,t),r=r.sibling;return ce(Pt,Pt.current&1|2),pt&&Ja(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&te()>Fo&&(n.flags|=128,u=!0,ii(i,!1),n.lanes=4194304)}else{if(!u)if(t=No(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,qo(n,t),ii(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!pt)return qt(n),null}else 2*te()-i.renderingStartTime>Fo&&r!==536870912&&(n.flags|=128,u=!0,ii(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(t=i.last,t!==null?t.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,r=Pt.current,ce(Pt,u?r&1|2:r&1),pt&&Ja(n,i.treeForkCount),t):(qt(n),null);case 22:case 23:return la(n),Vu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),r=n.updateQueue,r!==null&&qo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),t!==null&&Q(ir),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(nn),qt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function NS(t,n){switch(Cu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(nn),ye(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ge(n),null;case 31:if(n.memoizedState!==null){if(la(n),n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(la(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Pt),null;case 4:return ye(),null;case 10:return es(n.type),null;case 22:case 23:return la(n),Vu(),t!==null&&Q(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(nn),null;case 25:return null;default:return null}}function ag(t,n){switch(Cu(n),n.tag){case 3:es(nn),ye();break;case 26:case 27:case 5:Ge(n);break;case 4:ye();break;case 31:n.memoizedState!==null&&la(n);break;case 13:la(n);break;case 19:Q(Pt);break;case 10:es(n.type);break;case 22:case 23:la(n),Vu(),t!==null&&Q(ir);break;case 24:es(nn)}}function oi(t,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&t)===t){i=void 0;var f=r.create,g=r.inst;i=f(),g.destroy=i}r=r.next}while(r!==u)}}catch(S){wt(n,n.return,S)}}function Cs(t,n,r){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&t)===t){var g=i.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,u=n;var T=r,V=S;try{V()}catch(ne){wt(u,T,ne)}}}i=i.next}while(i!==f)}}catch(ne){wt(n,n.return,ne)}}function sg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Yh(n,r)}catch(i){wt(t,t.return,i)}}}function rg(t,n,r){r.props=fr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(i){wt(t,n,i)}}function ci(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(u){wt(t,n,u)}}function Ha(t,n){var r=t.ref,i=t.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){wt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){wt(t,n,u)}else r.current=null}function lg(t){var n=t.type,r=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){wt(t,t.return,u)}}function _d(t,n,r){try{var i=t.stateNode;GS(i,t.type,r,n),i[gt]=n}catch(u){wt(t,t.return,u)}}function ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ra));else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Nd(t,n,r),t=t.sibling;t!==null;)Nd(t,n,r),t=t.sibling}function Bo(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Bo(t,n,r),t=t.sibling;t!==null;)Bo(t,n,r),t=t.sibling}function og(t){var n=t.stateNode,r=t.memoizedProps;try{for(var i=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);On(n,i,r),n[it]=t,n[gt]=r}catch(f){wt(t,t.return,f)}}var rs=!1,rn=!1,Ed=!1,cg=typeof WeakSet=="function"?WeakSet:Set,bn=null;function ES(t,n){if(t=t.containerInfo,Gd=rc,t=Sh(t),vu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,S=-1,T=-1,V=0,ne=0,ue=t,Z=null;t:for(;;){for(var K;ue!==r||u!==0&&ue.nodeType!==3||(S=g+u),ue!==f||i!==0&&ue.nodeType!==3||(T=g+i),ue.nodeType===3&&(g+=ue.nodeValue.length),(K=ue.firstChild)!==null;)Z=ue,ue=K;for(;;){if(ue===t)break t;if(Z===r&&++V===u&&(S=g),Z===f&&++ne===i&&(T=g),(K=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=K}r=S===-1||T===-1?null:{start:S,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qd={focusedElem:t,selectionRange:r},rc=!1,bn=n;bn!==null;)if(n=bn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,bn=t;else for(;bn!==null;){switch(n=bn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var ke=fr(r.type,u);t=i.getSnapshotBeforeUpdate(ke,f),i.__reactInternalSnapshotBeforeUpdate=t}catch(Ze){wt(r,r.return,Ze)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Pd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,bn=t;break}bn=n.return}}function ug(t,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:is(t,r),i&4&&oi(5,r);break;case 1:if(is(t,r),i&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){wt(r,r.return,g)}else{var u=fr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){wt(r,r.return,g)}}i&64&&sg(r),i&512&&ci(r,r.return);break;case 3:if(is(t,r),i&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Yh(t,n)}catch(g){wt(r,r.return,g)}}break;case 27:n===null&&i&4&&og(r);case 26:case 5:is(t,r),n===null&&i&4&&lg(r),i&512&&ci(r,r.return);break;case 12:is(t,r);break;case 31:is(t,r),i&4&&mg(t,r);break;case 13:is(t,r),i&4&&hg(t,r),i&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=MS.bind(null,r),e_(t,r))));break;case 22:if(i=r.memoizedState!==null||rs,!i){n=n!==null&&n.memoizedState!==null||rn,u=rs;var f=rn;rs=i,(rn=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):is(t,r),rs=u,rn=f}break;case 30:break;default:is(t,r)}}function dg(t){var n=t.alternate;n!==null&&(t.alternate=null,dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&kn(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Gn=!1;function ls(t,n,r){for(r=r.child;r!==null;)fg(t,n,r),r=r.sibling}function fg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(he,r)}catch{}switch(r.tag){case 26:rn||Ha(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rn||Ha(r,n);var i=It,u=Gn;Us(r.type)&&(It=r.stateNode,Gn=!1),ls(t,n,r),vi(r.stateNode),It=i,Gn=u;break;case 5:rn||Ha(r,n);case 6:if(i=It,u=Gn,It=null,ls(t,n,r),It=i,Gn=u,It!==null)if(Gn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(r.stateNode)}catch(f){wt(r,n,f)}else try{It.removeChild(r.stateNode)}catch(f){wt(r,n,f)}break;case 18:It!==null&&(Gn?(t=It,sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),cl(t)):sy(It,r.stateNode));break;case 4:i=It,u=Gn,It=r.stateNode.containerInfo,Gn=!0,ls(t,n,r),It=i,Gn=u;break;case 0:case 11:case 14:case 15:Cs(2,r,n),rn||Cs(4,r,n),ls(t,n,r);break;case 1:rn||(Ha(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&rg(r,n,i)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:rn=(i=rn)||r.memoizedState!==null,ls(t,n,r),rn=i;break;default:ls(t,n,r)}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cl(t)}catch(r){wt(n,n.return,r)}}}function hg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(r){wt(n,n.return,r)}}function jS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cg),n;default:throw Error(l(435,t.tag))}}function Lo(t,n){var r=jS(t);n.forEach(function(i){if(!r.has(i)){r.add(i);var u=kS.bind(null,t,i);i.then(u,u)}})}function Qn(t,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=t,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 27:if(Us(S.type)){It=S.stateNode,Gn=!1;break e}break;case 5:It=S.stateNode,Gn=!1;break e;case 3:case 4:It=S.stateNode.containerInfo,Gn=!0;break e}S=S.return}if(It===null)throw Error(l(160));fg(f,g,u),It=null,Gn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)pg(n,t),n=n.sibling}var za=null;function pg(t,n){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qn(n,t),Yn(t),i&4&&(Cs(3,t,t.return),oi(3,t),Cs(5,t,t.return));break;case 1:Qn(n,t),Yn(t),i&512&&(rn||r===null||Ha(r,r.return)),i&64&&rs&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=za;if(Qn(n,t),Yn(t),i&512&&(rn||r===null||Ha(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=t.memoizedState,r===null)if(i===null)if(t.stateNode===null){e:{i=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Lt]||f[it]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),On(f,i,r),f[it]=t,Tt(f),i=f;break e;case"link":var g=py("link","href",u).get(i+(r.href||""));if(g){for(var S=0;S<g.length;S++)if(f=g[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(S,1);break t}}f=u.createElement(i),On(f,i,r),u.head.appendChild(f);break;case"meta":if(g=py("meta","content",u).get(i+(r.content||""))){for(S=0;S<g.length;S++)if(f=g[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(S,1);break t}}f=u.createElement(i),On(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[it]=t,Tt(f),i=f}t.stateNode=i}else gy(u,t.type,t.stateNode);else t.stateNode=hy(u,i,t.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?gy(u,t.type,t.stateNode):hy(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&_d(t,t.memoizedProps,r.memoizedProps)}break;case 27:Qn(n,t),Yn(t),i&512&&(rn||r===null||Ha(r,r.return)),r!==null&&i&4&&_d(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Qn(n,t),Yn(t),i&512&&(rn||r===null||Ha(r,r.return)),t.flags&32){u=t.stateNode;try{gs(u,"")}catch(ke){wt(t,t.return,ke)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,_d(t,u,r!==null?r.memoizedProps:u)),i&1024&&(Ed=!0);break;case 6:if(Qn(n,t),Yn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,r=t.stateNode;try{r.nodeValue=i}catch(ke){wt(t,t.return,ke)}}break;case 3:if(tc=null,u=za,za=Wo(n.containerInfo),Qn(n,t),za=u,Yn(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{cl(n.containerInfo)}catch(ke){wt(t,t.return,ke)}Ed&&(Ed=!1,gg(t));break;case 4:i=za,za=Wo(t.stateNode.containerInfo),Qn(n,t),Yn(t),za=i;break;case 12:Qn(n,t),Yn(t);break;case 31:Qn(n,t),Yn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Lo(t,i)));break;case 13:Qn(n,t),Yn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($o=te()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Lo(t,i)));break;case 22:u=t.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,V=rs,ne=rn;if(rs=V||u,rn=ne||T,Qn(n,t),rn=ne,rs=V,Yn(t),i&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||T||rs||rn||mr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){T=r=n;try{if(f=T.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=T.stateNode;var ue=T.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;S.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ke){wt(T,T.return,ke)}}}else if(n.tag===6){if(r===null){T=n;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(ke){wt(T,T.return,ke)}}}else if(n.tag===18){if(r===null){T=n;try{var K=T.stateNode;u?ry(K,!0):ry(T.stateNode,!1)}catch(ke){wt(T,T.return,ke)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Lo(t,r))));break;case 19:Qn(n,t),Yn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Lo(t,i)));break;case 30:break;case 21:break;default:Qn(n,t),Yn(t)}}function Yn(t){var n=t.flags;if(n&2){try{for(var r,i=t.return;i!==null;){if(ig(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=wd(t);Bo(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(gs(g,""),r.flags&=-33);var S=wd(t);Bo(t,S,g);break;case 3:case 4:var T=r.stateNode.containerInfo,V=wd(t);Nd(t,V,T);break;default:throw Error(l(161))}}catch(ne){wt(t,t.return,ne)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ug(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),mr(n);break;case 1:Ha(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&rg(n,n.return,r),mr(n);break;case 27:vi(n.stateNode);case 26:case 5:Ha(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:os(u,f,r),oi(4,f);break;case 1:if(os(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(V){wt(i,i.return,V)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Qh(T[u],S)}catch(V){wt(i,i.return,V)}}r&&g&64&&sg(f),ci(f,f.return);break;case 27:og(f);case 26:case 5:os(u,f,r),r&&i===null&&g&4&&lg(f),ci(f,f.return);break;case 12:os(u,f,r);break;case 31:os(u,f,r),r&&g&4&&mg(u,f);break;case 13:os(u,f,r),r&&g&4&&hg(u,f);break;case 22:f.memoizedState===null&&os(u,f,r),ci(f,f.return);break;case 30:break;default:os(u,f,r)}n=n.sibling}}function jd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Kl(r))}function Ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kl(t))}function Ma(t,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(t,n,r,i),n=n.sibling}function yg(t,n,r,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ma(t,n,r,i),u&2048&&oi(9,n);break;case 1:Ma(t,n,r,i);break;case 3:Ma(t,n,r,i),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kl(t)));break;case 12:if(u&2048){Ma(t,n,r,i),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,S=f.onPostCommit;typeof S=="function"&&S(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){wt(n,n.return,T)}}else Ma(t,n,r,i);break;case 31:Ma(t,n,r,i);break;case 13:Ma(t,n,r,i);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ma(t,n,r,i):ui(t,n):f._visibility&2?Ma(t,n,r,i):(f._visibility|=2,Jr(t,n,r,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&jd(g,n);break;case 24:Ma(t,n,r,i),u&2048&&Ad(n.alternate,n);break;default:Ma(t,n,r,i)}}function Jr(t,n,r,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,S=r,T=i,V=g.flags;switch(g.tag){case 0:case 11:case 15:Jr(f,g,S,T,u),oi(8,g);break;case 23:break;case 22:var ne=g.stateNode;g.memoizedState!==null?ne._visibility&2?Jr(f,g,S,T,u):ui(f,g):(ne._visibility|=2,Jr(f,g,S,T,u)),u&&V&2048&&jd(g.alternate,g);break;case 24:Jr(f,g,S,T,u),u&&V&2048&&Ad(g.alternate,g);break;default:Jr(f,g,S,T,u)}n=n.sibling}}function ui(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,i=n,u=i.flags;switch(i.tag){case 22:ui(r,i),u&2048&&jd(i.alternate,i);break;case 24:ui(r,i),u&2048&&Ad(i.alternate,i);break;default:ui(r,i)}n=n.sibling}}var di=8192;function Wr(t,n,r){if(t.subtreeFlags&di)for(t=t.child;t!==null;)vg(t,n,r),t=t.sibling}function vg(t,n,r){switch(t.tag){case 26:Wr(t,n,r),t.flags&di&&t.memoizedState!==null&&f_(r,za,t.memoizedState,t.memoizedProps);break;case 5:Wr(t,n,r);break;case 3:case 4:var i=za;za=Wo(t.stateNode.containerInfo),Wr(t,n,r),za=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=di,di=16777216,Wr(t,n,r),di=i):Wr(t,n,r));break;default:Wr(t,n,r)}}function bg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];bn=i,Sg(i,t)}bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 0:case 11:case 15:fi(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:fi(t);break;case 12:fi(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Io(t)):fi(t);break;default:fi(t)}}function Io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];bn=i,Sg(i,t)}bg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Io(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Io(n));break;default:Io(n)}t=t.sibling}}function Sg(t,n){for(;bn!==null;){var r=bn;switch(r.tag){case 0:case 11:case 15:Cs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Kl(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,bn=i;else e:for(r=t;bn!==null;){i=bn;var u=i.sibling,f=i.return;if(dg(i),i===r){bn=null;break e}if(u!==null){u.return=f,bn=u;break e}bn=f}}}var AS={getCacheForType:function(t){var n=jn(nn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return jn(nn).controller.signal}},OS=typeof WeakMap=="function"?WeakMap:Map,bt=0,Dt=null,ut=null,mt=0,_t=0,ia=null,Rs=!1,el=!1,Od=!1,cs=0,Yt=0,Ts=0,hr=0,Cd=0,oa=0,tl=0,mi=null,Kn=null,Rd=!1,$o=0,_g=0,Fo=1/0,Ho=null,Ds=null,fn=0,zs=null,nl=null,us=0,Td=0,Dd=null,wg=null,hi=0,zd=null;function ca(){return(bt&2)!==0&&mt!==0?mt&-mt:B.T!==null?Ld():Rt()}function Ng(){if(oa===0)if((mt&536870912)===0||pt){var t=at;at<<=1,(at&3932160)===0&&(at=262144),oa=t}else oa=536870912;return t=ra.current,t!==null&&(t.flags|=32),oa}function Pn(t,n,r){(t===Dt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(al(t,0),Ms(t,mt,oa,!1)),ve(t,r),((bt&2)===0||t!==Dt)&&(t===Dt&&((bt&2)===0&&(hr|=r),Yt===4&&Ms(t,mt,oa,!1)),Va(t))}function Eg(t,n,r){if((bt&6)!==0)throw Error(l(327));var i=!r&&(n&127)===0&&(n&t.expiredLanes)===0||$n(t,n),u=i?TS(t,n):kd(t,n,!0),f=i;do{if(u===0){el&&!i&&Ms(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!CS(r)){u=kd(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var S=t;u=mi;var T=S.current.memoizedState.isDehydrated;if(T&&(al(S,g).flags|=256),g=kd(S,g,!1),g!==2){if(Od&&!T){S.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Kn,Kn=u,f!==null&&(Kn===null?Kn=f:Kn.push.apply(Kn,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){al(t,0),Ms(t,n,0,!0);break}e:{switch(i=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ms(i,n,oa,!Rs);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=$o+300-te(),10<u)){if(Ms(i,n,oa,!Rs),Aa(i,0,!0)!==0)break e;us=n,i.timeoutHandle=ny(jg.bind(null,i,r,Kn,Ho,Rd,n,oa,hr,tl,Rs,f,"Throttled",-0,0),u);break e}jg(i,r,Kn,Ho,Rd,n,oa,hr,tl,Rs,f,null,-0,0)}}break}while(!0);Va(t)}function jg(t,n,r,i,u,f,g,S,T,V,ne,ue,Z,K){if(t.timeoutHandle=-1,ue=n.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ra},vg(n,f,ue);var ke=(f&62914560)===f?$o-te():(f&4194048)===f?_g-te():0;if(ke=m_(ue,ke),ke!==null){us=f,t.cancelPendingCommit=ke(Mg.bind(null,t,n,f,r,i,u,g,S,T,ne,ue,null,Z,K)),Ms(t,f,g,!V);return}}Mg(t,n,f,r,i,u,g,S,T)}function CS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!aa(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,r,i){n&=~Cd,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var u=n;0<u;){var f=31-St(u),g=1<<f;i[f]=-1,u&=~g}r!==0&&Je(t,r,n)}function Vo(){return(bt&6)===0?(pi(0),!1):!0}function Md(){if(ut!==null){if(_t===0)var t=ut.return;else t=ut,Wa=rr=null,Pu(t),Qr=null,Xl=0,t=ut;for(;t!==null;)ag(t.alternate,t),t=t.return;ut=null}}function al(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,KS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,Md(),Dt=t,ut=r=Xa(t.current,null),mt=n,_t=0,ia=null,Rs=!1,el=$n(t,n),Od=!1,tl=oa=Cd=hr=Ts=Yt=0,Kn=mi=null,Rd=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var u=31-St(i),f=1<<u;n|=t[u],i&=~f}return cs=n,uo(),r}function Ag(t,n){tt=null,B.H=ri,n===Gr||n===bo?(n=Hh(),_t=3):n===Bu?(n=Hh(),_t=4):_t=n===fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ia=n,ut===null&&(Yt=1,zo(t,ma(n,t.current)))}function Og(){var t=ra.current;return t===null?!0:(mt&4194048)===mt?ya===null:(mt&62914560)===mt||(mt&536870912)!==0?t===ya:!1}function Cg(){var t=B.H;return B.H=ri,t===null?ri:t}function Rg(){var t=B.A;return B.A=AS,t}function Zo(){Yt=4,Rs||(mt&4194048)!==mt&&ra.current!==null||(el=!0),(Ts&134217727)===0&&(hr&134217727)===0||Dt===null||Ms(Dt,mt,oa,!1)}function kd(t,n,r){var i=bt;bt|=2;var u=Cg(),f=Rg();(Dt!==t||mt!==n)&&(Ho=null,al(t,n)),n=!1;var g=Yt;e:do try{if(_t!==0&&ut!==null){var S=ut,T=ia;switch(_t){case 8:Md(),g=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(n=!0);var V=_t;if(_t=0,ia=null,sl(t,S,T,V),r&&el){g=0;break e}break;default:V=_t,_t=0,ia=null,sl(t,S,T,V)}}RS(),g=Yt;break}catch(ne){Ag(t,ne)}while(!0);return n&&t.shellSuspendCounter++,Wa=rr=null,bt=i,B.H=u,B.A=f,ut===null&&(Dt=null,mt=0,uo()),g}function RS(){for(;ut!==null;)Tg(ut)}function TS(t,n){var r=bt;bt|=2;var i=Cg(),u=Rg();Dt!==t||mt!==n?(Ho=null,Fo=te()+500,al(t,n)):el=$n(t,n);e:do try{if(_t!==0&&ut!==null){n=ut;var f=ia;t:switch(_t){case 1:_t=0,ia=null,sl(t,n,f,1);break;case 2:case 9:if($h(f)){_t=0,ia=null,Dg(n);break}n=function(){_t!==2&&_t!==9||Dt!==t||(_t=7),Va(t)},f.then(n,n);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:$h(f)?(_t=0,ia=null,Dg(n)):(_t=0,ia=null,sl(t,n,f,7));break;case 5:var g=null;switch(ut.tag){case 26:g=ut.memoizedState;case 5:case 27:var S=ut;if(g?yy(g):S.stateNode.complete){_t=0,ia=null;var T=S.sibling;if(T!==null)ut=T;else{var V=S.return;V!==null?(ut=V,Go(V)):ut=null}break t}}_t=0,ia=null,sl(t,n,f,5);break;case 6:_t=0,ia=null,sl(t,n,f,6);break;case 8:Md(),Yt=6;break e;default:throw Error(l(462))}}DS();break}catch(ne){Ag(t,ne)}while(!0);return Wa=rr=null,B.H=i,B.A=u,bt=r,ut!==null?0:(Dt=null,mt=0,uo(),Yt)}function DS(){for(;ut!==null&&!$();)Tg(ut)}function Tg(t){var n=tg(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?Go(t):ut=n}function Dg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Kp(r,n,n.pendingProps,n.type,void 0,mt);break;case 11:n=Kp(r,n,n.pendingProps,n.type.render,n.ref,mt);break;case 5:Pu(n);default:ag(r,n),n=ut=Rh(n,cs),n=tg(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?Go(t):ut=n}function sl(t,n,r,i){Wa=rr=null,Pu(n),Qr=null,Xl=0;var u=n.return;try{if(xS(t,u,n,r,mt)){Yt=1,zo(t,ma(r,t.current)),ut=null;return}}catch(f){if(u!==null)throw ut=u,f;Yt=1,zo(t,ma(r,t.current)),ut=null;return}n.flags&32768?(pt||i===1?t=!0:el||(mt&536870912)!==0?t=!1:(Rs=t=!0,(i===2||i===9||i===3||i===6)&&(i=ra.current,i!==null&&i.tag===13&&(i.flags|=16384))),zg(n,t)):Go(n)}function Go(t){var n=t;do{if((n.flags&32768)!==0){zg(n,Rs);return}t=n.return;var r=wS(n.alternate,n,cs);if(r!==null){ut=r;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=t}while(n!==null);Yt===0&&(Yt=5)}function zg(t,n){do{var r=NS(t.alternate,t);if(r!==null){r.flags&=32767,ut=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ut=t;return}ut=t=r}while(t!==null);Yt=6,ut=null}function Mg(t,n,r,i,u,f,g,S,T){t.cancelPendingCommit=null;do Qo();while(fn!==0);if((bt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=wu,Ue(t,r,f,g,S,T),t===Dt&&(ut=Dt=null,mt=0),nl=n,zs=t,us=r,Td=f,Dd=u,wg=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,US(ee,function(){return Lg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,u=se.p,se.p=2,g=bt,bt|=4;try{ES(t,n,r)}finally{bt=g,se.p=u,B.T=i}}fn=1,kg(),Ug(),qg()}}function kg(){if(fn===1){fn=0;var t=zs,n=nl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var i=se.p;se.p=2;var u=bt;bt|=4;try{pg(n,t);var f=Qd,g=Sh(t.containerInfo),S=f.focusedElem,T=f.selectionRange;if(g!==S&&S&&S.ownerDocument&&xh(S.ownerDocument.documentElement,S)){if(T!==null&&vu(S)){var V=T.start,ne=T.end;if(ne===void 0&&(ne=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min(ne,S.value.length);else{var ue=S.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var K=Z.getSelection(),ke=S.textContent.length,Ze=Math.min(T.start,ke),Ct=T.end===void 0?Ze:Math.min(T.end,ke);!K.extend&&Ze>Ct&&(g=Ct,Ct=Ze,Ze=g);var L=bh(S,Ze),z=bh(S,Ct);if(L&&z&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var H=ue.createRange();H.setStart(L.node,L.offset),K.removeAllRanges(),Ze>Ct?(K.addRange(H),K.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),K.addRange(H))}}}}for(ue=[],K=S;K=K.parentNode;)K.nodeType===1&&ue.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ue.length;S++){var ie=ue[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}rc=!!Gd,Qd=Gd=null}finally{bt=u,se.p=i,B.T=r}}t.current=n,fn=2}}function Ug(){if(fn===2){fn=0;var t=zs,n=nl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var i=se.p;se.p=2;var u=bt;bt|=4;try{ug(t,n.alternate,n)}finally{bt=u,se.p=i,B.T=r}}fn=3}}function qg(){if(fn===4||fn===3){fn=0,ge();var t=zs,n=nl,r=us,i=wg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?fn=5:(fn=0,nl=zs=null,Bg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ds=null),zt(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(he,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=B.T,u=se.p,se.p=2,B.T=null;try{for(var f=t.onRecoverableError,g=0;g<i.length;g++){var S=i[g];f(S.value,{componentStack:S.stack})}}finally{B.T=n,se.p=u}}(us&3)!==0&&Qo(),Va(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===zd?hi++:(hi=0,zd=t):hi=0,pi(0)}}function Bg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Kl(n)))}function Qo(){return kg(),Ug(),qg(),Lg()}function Lg(){if(fn!==5)return!1;var t=zs,n=Td;Td=0;var r=zt(us),i=B.T,u=se.p;try{se.p=32>r?32:r,B.T=null,r=Dd,Dd=null;var f=zs,g=us;if(fn=0,nl=zs=null,us=0,(bt&6)!==0)throw Error(l(331));var S=bt;if(bt|=4,xg(f.current),yg(f,f.current,g,r),bt=S,pi(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(he,f)}catch{}return!0}finally{se.p=u,B.T=i,Bg(t,n)}}function Ig(t,n,r){n=ma(r,n),n=dd(t.stateNode,n,2),t=js(t,n,2),t!==null&&(ve(t,2),Va(t))}function wt(t,n,r){if(t.tag===3)Ig(t,t,r);else for(;n!==null;){if(n.tag===3){Ig(n,t,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ds===null||!Ds.has(i))){t=ma(r,t),r=$p(2),i=js(n,r,2),i!==null&&(Fp(r,i,n,t),ve(i,2),Va(i));break}}n=n.return}}function Ud(t,n,r){var i=t.pingCache;if(i===null){i=t.pingCache=new OS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(r)||(Od=!0,u.add(r),t=zS.bind(null,t,n,r),n.then(t,t))}function zS(t,n,r){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Dt===t&&(mt&r)===r&&(Yt===4||Yt===3&&(mt&62914560)===mt&&300>te()-$o?(bt&2)===0&&al(t,0):Cd|=r,tl===mt&&(tl=0)),Va(t)}function $g(t,n){n===0&&(n=F()),t=nr(t,n),t!==null&&(ve(t,n),Va(t))}function MS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),$g(t,r)}function kS(t,n){var r=0;switch(t.tag){case 31:case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),$g(t,r)}function US(t,n){return w(t,n)}var Yo=null,rl=null,qd=!1,Ko=!1,Bd=!1,ks=0;function Va(t){t!==rl&&t.next===null&&(rl===null?Yo=rl=t:rl=rl.next=t),Ko=!0,qd||(qd=!0,BS())}function pi(t,n){if(!Bd&&Ko){Bd=!0;do for(var r=!1,i=Yo;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var g=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=u&~(g&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Zg(i,f))}else f=mt,f=Aa(i,i===Dt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||$n(i,f)||(r=!0,Zg(i,f));i=i.next}while(r);Bd=!1}}function qS(){Fg()}function Fg(){Ko=qd=!1;var t=0;ks!==0&&YS()&&(t=ks);for(var n=te(),r=null,i=Yo;i!==null;){var u=i.next,f=Hg(i,n);f===0?(i.next=null,r===null?Yo=u:r.next=u,u===null&&(rl=r)):(r=i,(t!==0||(f&3)!==0)&&(Ko=!0)),i=u}fn!==0&&fn!==5||pi(t),ks!==0&&(ks=0)}function Hg(t,n){for(var r=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-St(f),S=1<<g,T=u[g];T===-1?((S&r)===0||(S&i)!==0)&&(u[g]=Fn(S,n)):T<=n&&(t.expiredLanes|=S),f&=~S}if(n=Dt,r=mt,r=Aa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,r===0||t===n&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&M(i),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||$n(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(i!==null&&M(i),zt(r)){case 2:case 8:r=Ke;break;case 32:r=ee;break;case 268435456:r=ot;break;default:r=ee}return i=Vg.bind(null,t),r=w(r,i),t.callbackPriority=n,t.callbackNode=r,n}return i!==null&&i!==null&&M(i),t.callbackPriority=2,t.callbackNode=null,2}function Vg(t,n){if(fn!==0&&fn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Qo()&&t.callbackNode!==r)return null;var i=mt;return i=Aa(t,t===Dt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Eg(t,i,n),Hg(t,te()),t.callbackNode!=null&&t.callbackNode===r?Vg.bind(null,t):null)}function Zg(t,n){if(Qo())return null;Eg(t,n,!0)}function BS(){PS(function(){(bt&6)!==0?w(Te,qS):Fg()})}function Ld(){if(ks===0){var t=Vr;t===0&&(t=na,na<<=1,(na&261888)===0&&(na=256)),ks=t}return ks}function Gg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mr(""+t)}function Qg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function LS(t,n,r,i,u){if(n==="submit"&&r&&r.stateNode===u){var f=Gg((u[gt]||null).action),g=i.submitter;g&&(n=(n=g[gt]||null)?Gg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var S=new Ws("action","action",null,i,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ks!==0){var T=g?Qg(u,g):new FormData(u);rd(r,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=g?Qg(u,g):new FormData(u),rd(r,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var Id=0;Id<_u.length;Id++){var $d=_u[Id],IS=$d.toLowerCase(),$S=$d[0].toUpperCase()+$d.slice(1);Da(IS,"on"+$S)}Da(Nh,"onAnimationEnd"),Da(Eh,"onAnimationIteration"),Da(jh,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(aS,"onTransitionRun"),Da(sS,"onTransitionStart"),Da(rS,"onTransitionCancel"),Da(Ah,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gi));function Yg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var g=i.length-1;0<=g;g--){var S=i[g],T=S.instance,V=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=V;try{f(u)}catch(ne){co(ne)}u.currentTarget=null,f=T}else for(g=0;g<i.length;g++){if(S=i[g],T=S.instance,V=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=V;try{f(u)}catch(ne){co(ne)}u.currentTarget=null,f=T}}}}function dt(t,n){var r=n[un];r===void 0&&(r=n[un]=new Set);var i=t+"__bubble";r.has(i)||(Kg(n,t,2,!1),r.add(i))}function Fd(t,n,r){var i=0;n&&(i|=4),Kg(r,t,i,n)}var Po="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[Po]){t[Po]=!0,Tr.forEach(function(r){r!=="selectionchange"&&(FS.has(r)||Fd(r,!1,t),Fd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Po]||(n[Po]=!0,Fd("selectionchange",!1,n))}}function Kg(t,n,r,i){switch(Ny(n)){case 2:var u=g_;break;case 8:u=y_;break;default:u=sf}r=u.bind(null,n,r,t),u=void 0,!Xs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Vd(t,n,r,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var S=i.stateNode.containerInfo;if(S===u)break;if(g===4)for(g=i.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;S!==null;){if(g=Wt(S),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){i=f=g;continue e}S=S.parentNode}}i=i.return}lo(function(){var V=f,ne=Ll(r),ue=[];e:{var Z=Oh.get(t);if(Z!==void 0){var K=Ws,ke=t;switch(t){case"keypress":if(be(r)===0)break e;case"keydown":case"keyup":K=kx;break;case"focusin":ke="focus",K=mu;break;case"focusout":ke="blur",K=mu;break;case"beforeblur":case"afterblur":K=mu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Bx;break;case Nh:case Eh:case jh:K=jx;break;case Ah:K=Ix;break;case"scroll":case"scrollend":K=Sx;break;case"wheel":K=Fx;break;case"copy":case"cut":case"paste":K=Ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=rh;break;case"toggle":case"beforetoggle":K=Vx}var Ze=(n&4)!==0,Ct=!Ze&&(t==="scroll"||t==="scrollend"),L=Ze?Z!==null?Z+"Capture":null:Z;Ze=[];for(var z=V,H;z!==null;){var ie=z;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||L===null||(ie=Ps(z,L),ie!=null&&Ze.push(yi(z,ie,H))),Ct)break;z=z.return}0<Ze.length&&(Z=new K(Z,ke,null,r,ne),ue.push({event:Z,listeners:Ze}))}}if((n&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",Z&&r!==ys&&(ke=r.relatedTarget||r.fromElement)&&(Wt(ke)||ke[kt]))break e;if((K||Z)&&(Z=ne.window===ne?ne:(Z=ne.ownerDocument)?Z.defaultView||Z.parentWindow:window,K?(ke=r.relatedTarget||r.toElement,K=V,ke=ke?Wt(ke):null,ke!==null&&(Ct=d(ke),Ze=ke.tag,ke!==Ct||Ze!==5&&Ze!==27&&Ze!==6)&&(ke=null)):(K=null,ke=V),K!==ke)){if(Ze=ah,ie="onMouseLeave",L="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Ze=rh,ie="onPointerLeave",L="onPointerEnter",z="pointer"),Ct=K==null?Z:Hn(K),H=ke==null?Z:Hn(ke),Z=new Ze(ie,z+"leave",K,r,ne),Z.target=Ct,Z.relatedTarget=H,ie=null,Wt(ne)===V&&(Ze=new Ze(L,z+"enter",ke,r,ne),Ze.target=H,Ze.relatedTarget=Ct,ie=Ze),Ct=ie,K&&ke)t:{for(Ze=HS,L=K,z=ke,H=0,ie=L;ie;ie=Ze(ie))H++;ie=0;for(var Fe=z;Fe;Fe=Ze(Fe))ie++;for(;0<H-ie;)L=Ze(L),H--;for(;0<ie-H;)z=Ze(z),ie--;for(;H--;){if(L===z||z!==null&&L===z.alternate){Ze=L;break t}L=Ze(L),z=Ze(z)}Ze=null}else Ze=null;K!==null&&Pg(ue,Z,K,Ze,!1),ke!==null&&Ct!==null&&Pg(ue,Ct,ke,Ze,!0)}}e:{if(Z=V?Hn(V):window,K=Z.nodeName&&Z.nodeName.toLowerCase(),K==="select"||K==="input"&&Z.type==="file")var yt=mh;else if(dh(Z))if(hh)yt=eS;else{yt=Jx;var Be=Xx}else K=Z.nodeName,!K||K.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?V&&Bl(V.elementType)&&(yt=mh):yt=Wx;if(yt&&(yt=yt(t,V))){fh(ue,yt,r,ne);break e}Be&&Be(t,Z,V),t==="focusout"&&V&&Z.type==="number"&&V.memoizedProps.value!=null&&Ks(Z,"number",Z.value)}switch(Be=V?Hn(V):window,t){case"focusin":(dh(Be)||Be.contentEditable==="true")&&(Ur=Be,bu=V,Gl=null);break;case"focusout":Gl=bu=Ur=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,_h(ue,r,ne);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":_h(ue,r,ne)}var st;if(pu)e:{switch(t){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else kr?ch(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(lh&&r.locale!=="ko"&&(kr||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&kr&&(st=re()):(La=ne,A="value"in La?La.value:La.textContent,kr=!0)),Be=Xo(V,ht),0<Be.length&&(ht=new sh(ht,t,null,r,ne),ue.push({event:ht,listeners:Be}),st?ht.data=st:(st=uh(r),st!==null&&(ht.data=st)))),(st=Gx?Qx(t,r):Yx(t,r))&&(ht=Xo(V,"onBeforeInput"),0<ht.length&&(Be=new sh("onBeforeInput","beforeinput",null,r,ne),ue.push({event:Be,listeners:ht}),Be.data=st)),LS(ue,t,V,r,ne)}Yg(ue,n)})}function yi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Xo(t,n){for(var r=n+"Capture",i=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ps(t,r),u!=null&&i.unshift(yi(t,u,f)),u=Ps(t,n),u!=null&&i.push(yi(t,u,f))),t.tag===3)return i;t=t.return}return[]}function HS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pg(t,n,r,i,u){for(var f=n._reactName,g=[];r!==null&&r!==i;){var S=r,T=S.alternate,V=S.stateNode;if(S=S.tag,T!==null&&T===i)break;S!==5&&S!==26&&S!==27||V===null||(T=V,u?(V=Ps(r,f),V!=null&&g.unshift(yi(r,V,T))):u||(V=Ps(r,f),V!=null&&g.push(yi(r,V,T)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var VS=/\r\n?/g,ZS=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(VS,`
`).replace(ZS,"")}function Jg(t,n){return n=Xg(n),Xg(t)===n}function Ot(t,n,r,i,u,f){switch(r){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||gs(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&gs(t,""+i);break;case"className":Ca(t,"class",i);break;case"tabIndex":Ca(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ca(t,r,i);break;case"style":so(t,i,f);break;case"data":if(n!=="object"){Ca(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=Mr(""+i),t.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ot(t,n,"name",u.name,u,null),Ot(t,n,"formEncType",u.formEncType,u,null),Ot(t,n,"formMethod",u.formMethod,u,null),Ot(t,n,"formTarget",u.formTarget,u,null)):(Ot(t,n,"encType",u.encType,u,null),Ot(t,n,"method",u.method,u,null),Ot(t,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=Mr(""+i),t.setAttribute(r,i);break;case"onClick":i!=null&&(t.onclick=Ra);break;case"onScroll":i!=null&&dt("scroll",t);break;case"onScrollEnd":i!=null&&dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}r=Mr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""+i):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":i===!0?t.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,i):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(r,i):t.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(r):t.setAttribute(r,i);break;case"popover":dt("beforetoggle",t),dt("toggle",t),en(t,"popover",i);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":en(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,en(t,r,i))}}function Zd(t,n,r,i,u,f){switch(r){case"style":so(t,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof i=="string"?gs(t,i):(typeof i=="number"||typeof i=="bigint")&&gs(t,""+i);break;case"onScroll":i!=null&&dt("scroll",t);break;case"onScrollEnd":i!=null&&dt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,i,u);break e}r in t?t[r]=i:i===!0?t.setAttribute(r,""):en(t,r,i)}}}function On(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",t),dt("load",t);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ot(t,n,f,g,r,null)}}u&&Ot(t,n,"srcSet",r.srcSet,r,null),i&&Ot(t,n,"src",r.src,r,null);return;case"input":dt("invalid",t);var S=f=g=u=null,T=null,V=null;for(i in r)if(r.hasOwnProperty(i)){var ne=r[i];if(ne!=null)switch(i){case"name":u=ne;break;case"type":g=ne;break;case"checked":T=ne;break;case"defaultChecked":V=ne;break;case"value":f=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(l(137,n));break;default:Ot(t,n,i,ne,r,null)}}zr(t,f,S,T,V,g,u,!1);return;case"select":dt("invalid",t),i=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":g=S;break;case"multiple":i=S;default:Ot(t,n,u,S,r,null)}n=f,r=g,t.multiple=!!i,n!=null?ps(t,!!i,n,!1):r!=null&&ps(t,!!i,r,!0);return;case"textarea":dt("invalid",t),f=u=i=null;for(g in r)if(r.hasOwnProperty(g)&&(S=r[g],S!=null))switch(g){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ot(t,n,g,S,r,null)}no(t,i,u,f);return;case"option":for(T in r)if(r.hasOwnProperty(T)&&(i=r[T],i!=null))switch(T){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ot(t,n,T,i,r,null)}return;case"dialog":dt("beforetoggle",t),dt("toggle",t),dt("cancel",t),dt("close",t);break;case"iframe":case"object":dt("load",t);break;case"video":case"audio":for(i=0;i<gi.length;i++)dt(gi[i],t);break;case"image":dt("error",t),dt("load",t);break;case"details":dt("toggle",t);break;case"embed":case"source":case"link":dt("error",t),dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in r)if(r.hasOwnProperty(V)&&(i=r[V],i!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ot(t,n,V,i,r,null)}return;default:if(Bl(n)){for(ne in r)r.hasOwnProperty(ne)&&(i=r[ne],i!==void 0&&Zd(t,n,ne,i,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(i=r[S],i!=null&&Ot(t,n,S,i,r,null))}function GS(t,n,r,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,S=null,T=null,V=null,ne=null;for(K in r){var ue=r[K];if(r.hasOwnProperty(K)&&ue!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":T=ue;default:i.hasOwnProperty(K)||Ot(t,n,K,null,i,ue)}}for(var Z in i){var K=i[Z];if(ue=r[Z],i.hasOwnProperty(Z)&&(K!=null||ue!=null))switch(Z){case"type":f=K;break;case"name":u=K;break;case"checked":V=K;break;case"defaultChecked":ne=K;break;case"value":g=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,n));break;default:K!==ue&&Ot(t,n,Z,K,i,ue)}}ql(t,g,S,T,V,ne,f,u);return;case"select":K=g=S=Z=null;for(f in r)if(T=r[f],r.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":K=T;default:i.hasOwnProperty(f)||Ot(t,n,f,null,i,T)}for(u in i)if(f=i[u],T=r[u],i.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":Z=f;break;case"defaultValue":S=f;break;case"multiple":g=f;default:f!==T&&Ot(t,n,u,f,i,T)}n=S,r=g,i=K,Z!=null?ps(t,!!r,Z,!1):!!i!=!!r&&(n!=null?ps(t,!!r,n,!0):ps(t,!!r,r?[]:"",!1));return;case"textarea":K=Z=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ot(t,n,S,null,i,u)}for(g in i)if(u=i[g],f=r[g],i.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":Z=u;break;case"defaultValue":K=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ot(t,n,g,u,i,f)}to(t,Z,K);return;case"option":for(var ke in r)if(Z=r[ke],r.hasOwnProperty(ke)&&Z!=null&&!i.hasOwnProperty(ke))switch(ke){case"selected":t.selected=!1;break;default:Ot(t,n,ke,null,i,Z)}for(T in i)if(Z=i[T],K=r[T],i.hasOwnProperty(T)&&Z!==K&&(Z!=null||K!=null))switch(T){case"selected":t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Ot(t,n,T,Z,i,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in r)Z=r[Ze],r.hasOwnProperty(Ze)&&Z!=null&&!i.hasOwnProperty(Ze)&&Ot(t,n,Ze,null,i,Z);for(V in i)if(Z=i[V],K=r[V],i.hasOwnProperty(V)&&Z!==K&&(Z!=null||K!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,n));break;default:Ot(t,n,V,Z,i,K)}return;default:if(Bl(n)){for(var Ct in r)Z=r[Ct],r.hasOwnProperty(Ct)&&Z!==void 0&&!i.hasOwnProperty(Ct)&&Zd(t,n,Ct,void 0,i,Z);for(ne in i)Z=i[ne],K=r[ne],!i.hasOwnProperty(ne)||Z===K||Z===void 0&&K===void 0||Zd(t,n,ne,Z,i,K);return}}for(var L in r)Z=r[L],r.hasOwnProperty(L)&&Z!=null&&!i.hasOwnProperty(L)&&Ot(t,n,L,null,i,Z);for(ue in i)Z=i[ue],K=r[ue],!i.hasOwnProperty(ue)||Z===K||Z==null&&K==null||Ot(t,n,ue,Z,i,K)}function Wg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var u=r[i],f=u.transferSize,g=u.initiatorType,S=u.duration;if(f&&S&&Wg(g)){for(g=0,S=u.responseEnd,i+=1;i<r.length;i++){var T=r[i],V=T.startTime;if(V>S)break;var ne=T.transferSize,ue=T.initiatorType;ne&&Wg(ue)&&(T=T.responseEnd,g+=ne*(T<S?1:(S-V)/(T-V)))}if(--i,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Qd=null;function Jo(t){return t.nodeType===9?t:t.ownerDocument}function ey(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function YS(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(XS)}:ny;function XS(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function sy(t,n){var r=n,i=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(i===0){t.removeChild(u),cl(n);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")vi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,vi(r);for(var f=r.firstChild;f;){var g=f.nextSibling,S=f.nodeName;f[Lt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&vi(t.ownerDocument.body);r=u}while(r);cl(n)}function ry(t,n){var r=t;t=0;do{var i=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=i}while(r)}function Pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Pd(r),kn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function JS(t,n,r,i){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Lt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=va(t.nextSibling),t===null)break}return null}function WS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=va(t.nextSibling),t===null))return null;return t}function ly(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=va(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function e_(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var i=function(){n(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function va(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Wd=null;function iy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return va(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function cy(t,n,r){switch(n=Jo(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function vi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);kn(t)}var ba=new Map,uy=new Set;function Wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=se.d;se.d={f:t_,r:n_,D:a_,C:s_,L:r_,m:l_,X:o_,S:i_,M:c_};function t_(){var t=ds.f(),n=Vo();return t||n}function n_(t){var n=yn(t);n!==null&&n.tag===5&&n.type==="form"?Ap(n):ds.r(t)}var ll=typeof document>"u"?null:document;function dy(t,n,r){var i=ll;if(i&&typeof n=="string"&&n){var u=vn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),uy.has(u)||(uy.add(u),t={rel:t,crossOrigin:r,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),On(n,"link",t),Tt(n),i.head.appendChild(n)))}}function a_(t){ds.D(t),dy("dns-prefetch",t,null)}function s_(t,n){ds.C(t,n),dy("preconnect",t,n)}function r_(t,n,r){ds.L(t,n,r);var i=ll;if(i&&t&&n){var u='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+vn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+vn(r.imageSizes)+'"]')):u+='[href="'+vn(t)+'"]';var f=u;switch(n){case"style":f=il(t);break;case"script":f=ol(t)}ba.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ba.set(f,t),i.querySelector(u)!==null||n==="style"&&i.querySelector(bi(f))||n==="script"&&i.querySelector(xi(f))||(n=i.createElement("link"),On(n,"link",t),Tt(n),i.head.appendChild(n)))}}function l_(t,n){ds.m(t,n);var r=ll;if(r&&t){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+vn(i)+'"][href="'+vn(t)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ol(t)}if(!ba.has(f)&&(t=x({rel:"modulepreload",href:t},n),ba.set(f,t),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xi(f)))return}i=r.createElement("link"),On(i,"link",t),Tt(i),r.head.appendChild(i)}}}function i_(t,n,r){ds.S(t,n,r);var i=ll;if(i&&t){var u=Cn(i).hoistableStyles,f=il(t);n=n||"default";var g=u.get(f);if(!g){var S={loading:0,preload:null};if(g=i.querySelector(bi(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ba.get(f))&&ef(t,r);var T=g=i.createElement("link");Tt(T),On(T,"link",t),T._p=new Promise(function(V,ne){T.onload=V,T.onerror=ne}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ec(g,n,i)}g={type:"stylesheet",instance:g,count:1,state:S},u.set(f,g)}}}function o_(t,n){ds.X(t,n);var r=ll;if(r&&t){var i=Cn(r).hoistableScripts,u=ol(t),f=i.get(u);f||(f=r.querySelector(xi(u)),f||(t=x({src:t,async:!0},n),(n=ba.get(u))&&tf(t,n),f=r.createElement("script"),Tt(f),On(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function c_(t,n){ds.M(t,n);var r=ll;if(r&&t){var i=Cn(r).hoistableScripts,u=ol(t),f=i.get(u);f||(f=r.querySelector(xi(u)),f||(t=x({src:t,async:!0,type:"module"},n),(n=ba.get(u))&&tf(t,n),f=r.createElement("script"),Tt(f),On(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function fy(t,n,r,i){var u=(u=Re.current)?Wo(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=il(r.href),r=Cn(u).hoistableStyles,i=r.get(n),i||(i={type:"style",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=il(r.href);var f=Cn(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(bi(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ba.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ba.set(t,r),f||u_(u,t,r,g.state))),n&&i===null)throw Error(l(528,""));return g}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ol(r),r=Cn(u).hoistableScripts,i=r.get(n),i||(i={type:"script",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function il(t){return'href="'+vn(t)+'"'}function bi(t){return'link[rel="stylesheet"]['+t+"]"}function my(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function u_(t,n,r,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),On(n,"link",r),Tt(n),t.head.appendChild(n))}function ol(t){return'[src="'+vn(t)+'"]'}function xi(t){return"script[async]"+t}function hy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+vn(r.href)+'"]');if(i)return n.instance=i,Tt(i),i;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Tt(i),On(i,"style",u),ec(i,r.precedence,t),n.instance=i;case"stylesheet":u=il(r.href);var f=t.querySelector(bi(u));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;i=my(r),(u=ba.get(u))&&ef(i,u),f=(t.ownerDocument||t).createElement("link"),Tt(f);var g=f;return g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),On(f,"link",i),n.state.loading|=4,ec(f,r.precedence,t),n.instance=f;case"script":return f=ol(r.src),(u=t.querySelector(xi(f)))?(n.instance=u,Tt(u),u):(i=r,(u=ba.get(f))&&(i=x({},r),tf(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),Tt(u),On(u,"link",i),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,ec(i,r.precedence,t));return n.instance}function ec(t,n,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,g=0;g<i.length;g++){var S=i[g];if(S.dataset.precedence===n)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function py(t,n,r){if(tc===null){var i=new Map,u=tc=new Map;u.set(r,i)}else u=tc,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(t))return i;for(i.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[Lt]||f[it]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var S=i.get(g);S?S.push(f):i.set(g,[f])}}return i}function gy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function d_(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function f_(t,n,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=il(i.href),f=n.querySelector(bi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=nc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,i=my(i),(u=ba.get(u))&&ef(i,u),f=f.createElement("link"),Tt(f);var g=f;g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),On(f,"link",i),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=nc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var nf=0;function m_(t,n){return t.stylesheets&&t.count===0&&sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var i=setTimeout(function(){if(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*QS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ac=null;function sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ac=new Map,n.forEach(h_,t),ac=null,nc.call(t))}function h_(t,n){if(!(n.state.loading&4)){var r=ac.get(t);if(r)var i=r.get(null);else{r=new Map,ac.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),i=g)}i&&r.set(null,i)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||i,f===i&&r.set(null,u),r.set(g,u),this.count++,i=nc.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Si={$$typeof:P,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function p_(t,n,r,i,u,f,g,S,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=G(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.hiddenUpdates=G(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vy(t,n,r,i,u,f,g,S,T,V,ne,ue){return t=new p_(t,n,r,g,T,V,ne,ue,S),n=1,f===!0&&(n|=24),f=sa(3,null,null,n),t.current=f,f.stateNode=t,n=ku(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:n},Lu(f),t}function by(t){return t?(t=Lr,t):Lr}function xy(t,n,r,i,u,f){u=by(u),i.context===null?i.context=u:i.pendingContext=u,i=Es(n),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=js(t,i,n),r!==null&&(Pn(r,t,n),Wl(r,t,n))}function Sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function af(t,n){Sy(t,n),(t=t.alternate)&&Sy(t,n)}function _y(t){if(t.tag===13||t.tag===31){var n=nr(t,67108864);n!==null&&Pn(n,t,67108864),af(t,67108864)}}function wy(t){if(t.tag===13||t.tag===31){var n=ca();n=Gt(n);var r=nr(t,n);r!==null&&Pn(r,t,n),af(t,n)}}var rc=!0;function g_(t,n,r,i){var u=B.T;B.T=null;var f=se.p;try{se.p=2,sf(t,n,r,i)}finally{se.p=f,B.T=u}}function y_(t,n,r,i){var u=B.T;B.T=null;var f=se.p;try{se.p=8,sf(t,n,r,i)}finally{se.p=f,B.T=u}}function sf(t,n,r,i){if(rc){var u=rf(i);if(u===null)Vd(t,n,i,lc,r),Ey(t,i);else if(b_(u,t,n,r,i))i.stopPropagation();else if(Ey(t,i),n&4&&-1<v_.indexOf(t)){for(;u!==null;){var f=yn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=da(f.pendingLanes);if(g!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var T=1<<31-St(g);S.entanglements[1]|=T,g&=~T}Va(f),(bt&6)===0&&(Fo=te()+500,pi(0))}}break;case 31:case 13:S=nr(f,2),S!==null&&Pn(S,f,2),Vo(),af(f,2)}if(f=rf(i),f===null&&Vd(t,n,i,lc,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Vd(t,n,i,null,r)}}function rf(t){return t=Ll(t),lf(t)}var lc=null;function lf(t){if(lc=null,t=Wt(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return lc=t,null}function Ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case Te:return 2;case Ke:return 8;case ee:case Ve:return 32;case ot:return 268435456;default:return 32}default:return 32}}var of=!1,qs=null,Bs=null,Ls=null,_i=new Map,wi=new Map,Is=[],v_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":_i.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(n.pointerId)}}function Ni(t,n,r,i,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=yn(n),n!==null&&_y(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function b_(t,n,r,i,u){switch(n){case"focusin":return qs=Ni(qs,t,n,r,i,u),!0;case"dragenter":return Bs=Ni(Bs,t,n,r,i,u),!0;case"mouseover":return Ls=Ni(Ls,t,n,r,i,u),!0;case"pointerover":var f=u.pointerId;return _i.set(f,Ni(_i.get(f)||null,t,n,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,wi.set(f,Ni(wi.get(f)||null,t,n,r,i,u)),!0}return!1}function jy(t){var n=Wt(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,pn(t.priority,function(){wy(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,pn(t.priority,function(){wy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);ys=i,r.target.dispatchEvent(i),ys=null}else return n=yn(r),n!==null&&_y(n),t.blockedOn=r,!1;n.shift()}return!0}function Ay(t,n,r){ic(t)&&r.delete(n)}function x_(){of=!1,qs!==null&&ic(qs)&&(qs=null),Bs!==null&&ic(Bs)&&(Bs=null),Ls!==null&&ic(Ls)&&(Ls=null),_i.forEach(Ay),wi.forEach(Ay)}function oc(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,x_)))}var cc=null;function Oy(t){cc!==t&&(cc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cc===t&&(cc=null);for(var n=0;n<t.length;n+=3){var r=t[n],i=t[n+1],u=t[n+2];if(typeof i!="function"){if(lf(i||r)===null)continue;break}var f=yn(r);f!==null&&(t.splice(n,3),n-=3,rd(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function cl(t){function n(T){return oc(T,t)}qs!==null&&oc(qs,t),Bs!==null&&oc(Bs,t),Ls!==null&&oc(Ls,t),_i.forEach(n),wi.forEach(n);for(var r=0;r<Is.length;r++){var i=Is[r];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Is.length&&(r=Is[0],r.blockedOn===null);)jy(r),r.blockedOn===null&&Is.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],g=u[gt]||null;if(typeof f=="function")g||Oy(r);else if(g){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[gt]||null)S=g.formAction;else if(lf(u)!==null)continue}else S=g.action;typeof S=="function"?r[i+1]=S:(r.splice(i,3),i-=3),Oy(r)}}}function Cy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function cf(t){this._internalRoot=t}uc.prototype.render=cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,i=ca();xy(r,i,t,n,null,null)},uc.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xy(t.current,2,null,t,null,null),Vo(),n[kt]=null}};function uc(t){this._internalRoot=t}uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Rt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Is.length&&n!==0&&n<Is[r].priority;r++);Is.splice(r,0,t),r===0&&jy(t)}};var Ry=a.version;if(Ry!=="19.2.0")throw Error(l(527,Ry,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var S_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{he=dc.inject(S_),Pe=dc}catch{}}return ji.createRoot=function(t,n){if(!o(t))throw Error(l(299));var r=!1,i="",u=qp,f=Bp,g=Lp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=vy(t,1,!1,null,null,r,i,null,u,f,g,Cy),t[kt]=n.current,Hd(t),new cf(n)},ji.hydrateRoot=function(t,n,r){if(!o(t))throw Error(l(299));var i=!1,u="",f=qp,g=Bp,S=Lp,T=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(T=r.formState)),n=vy(t,1,!0,n,r??null,i,u,T,f,g,S,Cy),n.context=by(null),r=n.current,i=ca(),i=Gt(i),u=Es(i),u.callback=null,js(r,u,i),r=i,n.current.lanes=r,ve(n,r),Va(n),t[kt]=n.current,Hd(t),new uc(n)},ji.version="19.2.0",ji}var Iy;function T_(){if(Iy)return ff.exports;Iy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),ff.exports=R_(),ff.exports}var D_=T_();const z_=pb(D_);var $y="popstate";function M_(e={}){function a(l,o){let{pathname:d,search:m,hash:h}=l.location;return Qf("",{pathname:d,search:m,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(l,o){return typeof o=="string"?o:ki(o)}return U_(a,s,null,e)}function Ft(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function _a(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function k_(){return Math.random().toString(36).substring(2,10)}function Fy(e,a){return{usr:e.state,key:e.key,idx:a}}function Qf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Nl(a):a,state:s,key:a&&a.key||l||k_()}}function ki({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Nl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function U_(e,a,s,l={}){let{window:o=document.defaultView,v5Compat:d=!1}=l,m=o.history,h="POP",y=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function x(){h="POP";let N=v(),k=N==null?null:N-p;p=N,y&&y({action:h,location:O.location,delta:k})}function _(N,k){h="PUSH";let D=Qf(O.location,N,k);p=v()+1;let P=Fy(D,p),R=O.createHref(D);try{m.pushState(P,"",R)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;o.location.assign(R)}d&&y&&y({action:h,location:O.location,delta:1})}function U(N,k){h="REPLACE";let D=Qf(O.location,N,k);p=v();let P=Fy(D,p),R=O.createHref(D);m.replaceState(P,"",R),d&&y&&y({action:h,location:O.location,delta:0})}function E(N){return q_(N)}let O={get action(){return h},get location(){return e(o,m)},listen(N){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener($y,x),y=N,()=>{o.removeEventListener($y,x),y=null}},createHref(N){return a(o,N)},createURL:E,encodeLocation(N){let k=E(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:U,go(N){return m.go(N)}};return O}function q_(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:ki(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function gb(e,a,s="/"){return B_(e,a,s,!1)}function B_(e,a,s,l){let o=typeof a=="string"?Nl(a):a,d=hs(o.pathname||"/",s);if(d==null)return null;let m=yb(e);L_(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let p=P_(d);h=Y_(m[y],p,l)}return h}function yb(e,a=[],s=[],l="",o=!1){let d=(m,h,y=o,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&y)return;Ft(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=ms([l,v.relativePath]),_=s.concat(v);m.children&&m.children.length>0&&(Ft(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),yb(m.children,a,_,x,y)),!(m.path==null&&!m.index)&&a.push({path:x,score:G_(x,m.index),routesMeta:_})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let y of vb(m.path))d(m,h,!0,y)}),a}function vb(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,o=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return o?[d,""]:[d];let m=vb(l.join("/")),h=[];return h.push(...m.map(y=>y===""?d:[d,y].join("/"))),o&&h.push(...m),h.map(y=>e.startsWith("/")&&y===""?"/":y)}function L_(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:Q_(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var I_=/^:[\w-]+$/,$_=3,F_=2,H_=1,V_=10,Z_=-2,Hy=e=>e==="*";function G_(e,a){let s=e.split("/"),l=s.length;return s.some(Hy)&&(l+=Z_),a&&(l+=F_),s.filter(o=>!Hy(o)).reduce((o,d)=>o+(I_.test(d)?$_:d===""?H_:V_),l)}function Q_(e,a){return e.length===a.length&&e.slice(0,-1).every((l,o)=>l===a[o])?e[e.length-1]-a[a.length-1]:0}function Y_(e,a,s=!1){let{routesMeta:l}=e,o={},d="/",m=[];for(let h=0;h<l.length;++h){let y=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",x=Ui({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),_=y.route;if(!x&&p&&s&&!l[l.length-1].route.index&&(x=Ui({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(o,x.params),m.push({params:o,pathname:ms([d,x.pathname]),pathnameBase:ew(ms([d,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(d=ms([d,x.pathnameBase]))}return m}function Ui(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=K_(e.path,e.caseSensitive,e.end),o=a.match(s);if(!o)return null;let d=o[0],m=d.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},_)=>{if(v==="*"){let E=h[_]||"";m=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const U=h[_];return x&&!U?p[v]=void 0:p[v]=(U||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function K_(e,a=!1,s=!0){_a(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(l.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),l]}function P_(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return _a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function hs(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function X_(e,a="/"){let{pathname:s,search:l="",hash:o=""}=typeof e=="string"?Nl(e):e;return{pathname:s?s.startsWith("/")?s:J_(s,a):a,search:tw(l),hash:nw(o)}}function J_(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function gf(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W_(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function _m(e){let a=W_(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function wm(e,a,s,l=!1){let o;typeof e=="string"?o=Nl(e):(o={...e},Ft(!o.pathname||!o.pathname.includes("?"),gf("?","pathname","search",o)),Ft(!o.pathname||!o.pathname.includes("#"),gf("#","pathname","hash",o)),Ft(!o.search||!o.search.includes("#"),gf("#","search","hash",o)));let d=e===""||o.pathname==="",m=d?"/":o.pathname,h;if(m==null)h=s;else{let x=a.length-1;if(!l&&m.startsWith("..")){let _=m.split("/");for(;_[0]==="..";)_.shift(),x-=1;o.pathname=_.join("/")}h=x>=0?a[x]:"/"}let y=X_(o,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),ew=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bb=["POST","PUT","PATCH","DELETE"];new Set(bb);var sw=["GET",...bb];new Set(sw);var El=b.createContext(null);El.displayName="DataRouter";var Ic=b.createContext(null);Ic.displayName="DataRouterState";b.createContext(!1);var xb=b.createContext({isTransitioning:!1});xb.displayName="ViewTransition";var rw=b.createContext(new Map);rw.displayName="Fetchers";var lw=b.createContext(null);lw.displayName="Await";var wa=b.createContext(null);wa.displayName="Navigation";var Hi=b.createContext(null);Hi.displayName="Location";var Na=b.createContext({outlet:null,matches:[],isDataRoute:!1});Na.displayName="Route";var Nm=b.createContext(null);Nm.displayName="RouteError";function iw(e,{relative:a}={}){Ft(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=b.useContext(wa),{hash:o,pathname:d,search:m}=Vi(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:ms([s,d])),l.createHref({pathname:h,search:m,hash:o})}function jl(){return b.useContext(Hi)!=null}function Ln(){return Ft(jl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Hi).location}var Sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _b(e){b.useContext(wa).static||b.useLayoutEffect(e)}function Al(){let{isDataRoute:e}=b.useContext(Na);return e?ww():ow()}function ow(){Ft(jl(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(El),{basename:a,navigator:s}=b.useContext(wa),{matches:l}=b.useContext(Na),{pathname:o}=Ln(),d=JSON.stringify(_m(l)),m=b.useRef(!1);return _b(()=>{m.current=!0}),b.useCallback((y,p={})=>{if(_a(m.current,Sb),!m.current)return;if(typeof y=="number"){s.go(y);return}let v=wm(y,JSON.parse(d),o,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:ms([a,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[a,s,d,o,e])}var cw=b.createContext(null);function uw(e){let a=b.useContext(Na).outlet;return b.useMemo(()=>a&&b.createElement(cw.Provider,{value:e},a),[a,e])}function dw(){let{matches:e}=b.useContext(Na),a=e[e.length-1];return a?a.params:{}}function Vi(e,{relative:a}={}){let{matches:s}=b.useContext(Na),{pathname:l}=Ln(),o=JSON.stringify(_m(s));return b.useMemo(()=>wm(e,JSON.parse(o),l,a==="path"),[e,o,l,a])}function fw(e,a){return wb(e,a)}function wb(e,a,s,l,o){Ft(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(wa),{matches:m}=b.useContext(Na),h=m[m.length-1],y=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let D=x&&x.path||"";Nb(p,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=Ln(),U;if(a){let D=typeof a=="string"?Nl(a):a;Ft(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),U=D}else U=_;let E=U.pathname||"/",O=E;if(v!=="/"){let D=v.replace(/^\//,"").split("/");O="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=gb(e,{pathname:O});_a(x||N!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),_a(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=yw(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},y,D.params),pathname:ms([v,d.encodeLocation?d.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:ms([v,d.encodeLocation?d.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),m,s,l,o);return a&&k?b.createElement(Hi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},k):k}function mw(){let e=_w(),a=aw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:o},s):null,m)}var hw=b.createElement(mw,null),pw=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Na.Provider,{value:this.props.routeContext},b.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gw({routeContext:e,match:a,children:s}){let l=b.useContext(El);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(Na.Provider,{value:e},s)}function yw(e,a=[],s=null,l=null,o=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,m=s?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);Ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,y=-1;if(s)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=p),v.route.id){let{loaderData:x,errors:_}=s,U=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||U){h=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((p,v,x)=>{let _,U=!1,E=null,O=null;s&&(_=m&&v.route.id?m[v.route.id]:void 0,E=v.route.errorElement||hw,h&&(y<0&&x===0?(Nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,O=null):y===x&&(U=!0,O=v.route.hydrateFallbackElement||null)));let N=a.concat(d.slice(0,x+1)),k=()=>{let D;return _?D=E:U?D=O:v.route.Component?D=b.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=p,b.createElement(gw,{match:v,routeContext:{outlet:p,matches:N,isDataRoute:s!=null},children:D})};return s&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(pw,{location:s.location,revalidation:s.revalidation,component:E,error:_,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:l}):k()},null)}function Em(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vw(e){let a=b.useContext(El);return Ft(a,Em(e)),a}function bw(e){let a=b.useContext(Ic);return Ft(a,Em(e)),a}function xw(e){let a=b.useContext(Na);return Ft(a,Em(e)),a}function jm(e){let a=xw(e),s=a.matches[a.matches.length-1];return Ft(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Sw(){return jm("useRouteId")}function _w(){let e=b.useContext(Nm),a=bw("useRouteError"),s=jm("useRouteError");return e!==void 0?e:a.errors?.[s]}function ww(){let{router:e}=vw("useNavigate"),a=jm("useNavigate"),s=b.useRef(!1);return _b(()=>{s.current=!0}),b.useCallback(async(o,d={})=>{_a(s.current,Sb),s.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:a,...d}))},[e,a])}var Vy={};function Nb(e,a,s){!a&&!Vy[e]&&(Vy[e]=!0,_a(!1,s))}b.memo(Nw);function Nw({routes:e,future:a,state:s,unstable_onError:l}){return wb(e,void 0,s,l,a)}function Vs({to:e,replace:a,state:s,relative:l}){Ft(jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(wa);_a(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(Na),{pathname:m}=Ln(),h=Al(),y=wm(e,_m(d),m,l==="path"),p=JSON.stringify(y);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function Eb(e){return uw(e.context)}function ln(e){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ew({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:o,static:d=!1}){Ft(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:o,static:d,future:{}}),[m,o,d]);typeof s=="string"&&(s=Nl(s));let{pathname:y="/",search:p="",hash:v="",state:x=null,key:_="default"}=s,U=b.useMemo(()=>{let E=hs(y,m);return E==null?null:{location:{pathname:E,search:p,hash:v,state:x,key:_},navigationType:l}},[m,y,p,v,x,_,l]);return _a(U!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:b.createElement(wa.Provider,{value:h},b.createElement(Hi.Provider,{children:a,value:U}))}function jw({children:e,location:a}){return fw(Yf(e),a)}function Yf(e,a=[]){let s=[];return b.Children.forEach(e,(l,o)=>{if(!b.isValidElement(l))return;let d=[...a,o];if(l.type===b.Fragment){s.push.apply(s,Yf(l.props.children,d));return}Ft(l.type===ln,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Yf(l.props.children,d)),s.push(m)}),s}var xc="get",Sc="application/x-www-form-urlencoded";function $c(e){return e!=null&&typeof e.tagName=="string"}function Aw(e){return $c(e)&&e.tagName.toLowerCase()==="button"}function Ow(e){return $c(e)&&e.tagName.toLowerCase()==="form"}function Cw(e){return $c(e)&&e.tagName.toLowerCase()==="input"}function Rw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tw(e,a){return e.button===0&&(!a||a==="_self")&&!Rw(e)}function Kf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(o=>[s,o]):[[s,l]])},[]))}function Dw(e,a){let s=Kf(e);return a&&a.forEach((l,o)=>{s.has(o)||a.getAll(o).forEach(d=>{s.append(o,d)})}),s}var fc=null;function zw(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var Mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(e){return e!=null&&!Mw.has(e)?(_a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):e}function kw(e,a){let s,l,o,d,m;if(Ow(e)){let h=e.getAttribute("action");l=h?hs(h,a):null,s=e.getAttribute("method")||xc,o=yf(e.getAttribute("enctype"))||Sc,d=new FormData(e)}else if(Aw(e)||Cw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||h.getAttribute("action");if(l=y?hs(y,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||xc,o=yf(e.getAttribute("formenctype"))||yf(h.getAttribute("enctype"))||Sc,d=new FormData(h,e),!zw()){let{name:p,type:v,value:x}=e;if(v==="image"){let _=p?`${p}.`:"";d.append(`${_}x`,"0"),d.append(`${_}y`,"0")}else p&&d.append(p,x)}}else{if($c(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=xc,l=null,o=Sc,m=e}return d&&o==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:o,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Am(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Uw(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&hs(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function qw(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Lw(e,a,s){let l=await Promise.all(e.map(async o=>{let d=a.routes[o.route.id];if(d){let m=await qw(d,s);return m.links?m.links():[]}return[]}));return Hw(l.flat(1).filter(Bw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zy(e,a,s,l,o,d){let m=(y,p)=>s[p]?y.route.id!==s[p].route.id:!0,h=(y,p)=>s[p].pathname!==y.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==y.params["*"];return d==="assets"?a.filter((y,p)=>m(y,p)||h(y,p)):d==="data"?a.filter((y,p)=>{let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(m(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Iw(e,a,{includeHydrateFallback:s}={}){return $w(e.map(l=>{let o=a.routes[l.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function $w(e){return[...new Set(e)]}function Fw(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function Hw(e,a){let s=new Set;return new Set(a),e.reduce((l,o)=>{let d=JSON.stringify(Fw(o));return s.has(d)||(s.add(d),l.push({key:d,link:o})),l},[])}function jb(){let e=b.useContext(El);return Am(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Vw(){let e=b.useContext(Ic);return Am(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Om=b.createContext(void 0);Om.displayName="FrameworkContext";function Ab(){let e=b.useContext(Om);return Am(e,"You must render this element inside a <HydratedRouter> element"),e}function Zw(e,a){let s=b.useContext(Om),[l,o]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=a,_=b.useRef(null);b.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let O=k=>{k.forEach(D=>{m(D.isIntersecting)})},N=new IntersectionObserver(O,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[e]),b.useEffect(()=>{if(l){let O=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(O)}}},[l]);let U=()=>{o(!0)},E=()=>{o(!1),m(!1)};return s?e!=="intent"?[d,_,{}]:[d,_,{onFocus:Ai(h,U),onBlur:Ai(y,E),onMouseEnter:Ai(p,U),onMouseLeave:Ai(v,E),onTouchStart:Ai(x,U)}]:[!1,_,{}]}function Ai(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function Gw({page:e,...a}){let{router:s}=jb(),l=b.useMemo(()=>gb(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?b.createElement(Yw,{page:e,matches:l,...a}):null}function Qw(e){let{manifest:a,routeModules:s}=Ab(),[l,o]=b.useState([]);return b.useEffect(()=>{let d=!1;return Lw(e,a,s).then(m=>{d||o(m)}),()=>{d=!0}},[e,a,s]),l}function Yw({page:e,matches:a,...s}){let l=Ln(),{manifest:o,routeModules:d}=Ab(),{basename:m}=jb(),{loaderData:h,matches:y}=Vw(),p=b.useMemo(()=>Zy(e,a,y,o,l,"data"),[e,a,y,o,l]),v=b.useMemo(()=>Zy(e,a,y,o,l,"assets"),[e,a,y,o,l]),x=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let E=new Set,O=!1;if(a.forEach(k=>{let D=o.routes[k.route.id];!D||!D.hasLoader||(!p.some(P=>P.route.id===k.route.id)&&k.route.id in h&&d[k.route.id]?.shouldRevalidate||D.hasClientLoader?O=!0:E.add(k.route.id))}),E.size===0)return[];let N=Uw(e,m,"data");return O&&E.size>0&&N.searchParams.set("_routes",a.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[m,h,l,o,p,a,e,d]),_=b.useMemo(()=>Iw(v,o),[v,o]),U=Qw(v);return b.createElement(b.Fragment,null,x.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),_.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),U.map(({key:E,link:O})=>b.createElement("link",{key:E,nonce:s.nonce,...O})))}function Kw(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ob&&(window.__reactRouterVersion="7.9.5")}catch{}function Pw({basename:e,children:a,window:s}){let l=b.useRef();l.current==null&&(l.current=M_({window:s,v5Compat:!0}));let o=l.current,[d,m]=b.useState({action:o.action,location:o.location}),h=b.useCallback(y=>{b.startTransition(()=>m(y))},[m]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.createElement(Ew,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:o})}var Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=b.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:o,reloadDocument:d,replace:m,state:h,target:y,to:p,preventScrollReset:v,viewTransition:x,..._},U){let{basename:E}=b.useContext(wa),O=typeof p=="string"&&Cb.test(p),N,k=!1;if(typeof p=="string"&&O&&(N=p,Ob))try{let oe=new URL(window.location.href),we=p.startsWith("//")?new URL(oe.protocol+p):new URL(p),Se=hs(we.pathname,E);we.origin===oe.origin&&Se!=null?p=Se+we.search+we.hash:k=!0}catch{_a(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=iw(p,{relative:o}),[P,R,C]=Zw(l,_),X=Ww(p,{replace:m,state:h,target:y,preventScrollReset:v,relative:o,viewTransition:x});function q(oe){a&&a(oe),oe.defaultPrevented||X(oe)}let J=b.createElement("a",{..._,...C,href:N||D,onClick:k||d?a:q,ref:Kw(U,R),target:y,"data-discover":!O&&s==="render"?"true":void 0});return P&&!O?b.createElement(b.Fragment,null,J,b.createElement(Gw,{page:D})):J});jc.displayName="Link";var Rb=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:o=!1,style:d,to:m,viewTransition:h,children:y,...p},v){let x=Vi(m,{relative:p.relative}),_=Ln(),U=b.useContext(Ic),{navigator:E,basename:O}=b.useContext(wa),N=U!=null&&sN(x)&&h===!0,k=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,D=_.pathname,P=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;s||(D=D.toLowerCase(),P=P?P.toLowerCase():null,k=k.toLowerCase()),P&&O&&(P=hs(P,O)||P);const R=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let C=D===k||!o&&D.startsWith(k)&&D.charAt(R)==="/",X=P!=null&&(P===k||!o&&P.startsWith(k)&&P.charAt(k.length)==="/"),q={isActive:C,isPending:X,isTransitioning:N},J=C?a:void 0,oe;typeof l=="function"?oe=l(q):oe=[l,C?"active":null,X?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let we=typeof d=="function"?d(q):d;return b.createElement(jc,{...p,"aria-current":J,className:oe,ref:v,style:we,to:m,viewTransition:h},typeof y=="function"?y(q):y)});Rb.displayName="NavLink";var Xw=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:o,state:d,method:m=xc,action:h,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:x,..._},U)=>{let E=nN(),O=aN(h,{relative:p}),N=m.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&Cb.test(h),D=P=>{if(y&&y(P),P.defaultPrevented)return;P.preventDefault();let R=P.nativeEvent.submitter,C=R?.getAttribute("formmethod")||m;E(R||P.currentTarget,{fetcherKey:a,method:C,navigate:s,replace:o,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:U,method:N,action:O,onSubmit:l?y:D,..._,"data-discover":!k&&e==="render"?"true":void 0})});Xw.displayName="Form";function Jw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(e){let a=b.useContext(El);return Ft(a,Jw(e)),a}function Ww(e,{target:a,replace:s,state:l,preventScrollReset:o,relative:d,viewTransition:m}={}){let h=Al(),y=Ln(),p=Vi(e,{relative:d});return b.useCallback(v=>{if(Tw(v,a)){v.preventDefault();let x=s!==void 0?s:ki(y)===ki(p);h(e,{replace:x,state:l,preventScrollReset:o,relative:d,viewTransition:m})}},[y,h,p,s,l,a,e,o,d,m])}function Db(e){_a(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Kf(e)),s=b.useRef(!1),l=Ln(),o=b.useMemo(()=>Dw(l.search,s.current?null:a.current),[l.search]),d=Al(),m=b.useCallback((h,y)=>{const p=Kf(typeof h=="function"?h(new URLSearchParams(o)):h);s.current=!0,d("?"+p,y)},[d,o]);return[o,m]}var eN=0,tN=()=>`__${String(++eN)}__`;function nN(){let{router:e}=Tb("useSubmit"),{basename:a}=b.useContext(wa),s=Sw();return b.useCallback(async(l,o={})=>{let{action:d,method:m,encType:h,formData:y,body:p}=kw(l,a);if(o.navigate===!1){let v=o.fetcherKey||tN();await e.fetch(v,s,o.action||d,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||m,formEncType:o.encType||h,flushSync:o.flushSync})}else await e.navigate(o.action||d,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||m,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,a,s])}function aN(e,{relative:a}={}){let{basename:s}=b.useContext(wa),l=b.useContext(Na);Ft(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),d={...Vi(e||".",{relative:a})},m=Ln();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:ms([s,d.pathname])),ki(d)}function sN(e,{relative:a}={}){let s=b.useContext(xb);Ft(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Tb("useViewTransitionState"),o=Vi(e,{relative:a});if(!s.isTransitioning)return!1;let d=hs(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=hs(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Ui(o.pathname,m)!=null||Ui(o.pathname,d)!=null}var Ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rN={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},lN=class{#e=rN;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},yr=new lN;function iN(e){setTimeout(e,0)}var Sr=typeof window>"u"||"Deno"in globalThis;function Bn(){}function oN(e,a){return typeof e=="function"?e(a):e}function Pf(e){return typeof e=="number"&&e>=0&&e!==1/0}function zb(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Zs(e,a){return typeof e=="function"?e(a):e}function xa(e,a){return typeof e=="function"?e(a):e}function Gy(e,a){const{type:s="all",exact:l,fetchStatus:o,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==Cm(m,a.options))return!1}else if(!qi(a.queryKey,m))return!1}if(s!=="all"){const y=a.isActive();if(s==="active"&&!y||s==="inactive"&&y)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||o&&o!==a.state.fetchStatus||d&&!d(a))}function Qy(e,a){const{exact:s,status:l,predicate:o,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(_r(a.options.mutationKey)!==_r(d))return!1}else if(!qi(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||o&&!o(a))}function Cm(e,a){return(a?.queryKeyHashFn||_r)(e)}function _r(e){return JSON.stringify(e,(a,s)=>Xf(s)?Object.keys(s).sort().reduce((l,o)=>(l[o]=s[o],l),{}):s)}function qi(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>qi(e[s],a[s])):!1}var cN=Object.prototype.hasOwnProperty;function Mb(e,a){if(e===a)return e;const s=Yy(e)&&Yy(a);if(!s&&!(Xf(e)&&Xf(a)))return a;const o=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),m=d.length,h=s?new Array(m):{};let y=0;for(let p=0;p<m;p++){const v=s?p:d[p],x=e[v],_=a[v];if(x===_){h[v]=x,(s?p<o:cN.call(e,v))&&y++;continue}if(x===null||_===null||typeof x!="object"||typeof _!="object"){h[v]=_;continue}const U=Mb(x,_);h[v]=U,U===x&&y++}return o===m&&y===o?e:h}function Ac(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function Yy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xf(e){if(!Ky(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!Ky(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ky(e){return Object.prototype.toString.call(e)==="[object Object]"}function uN(e){return new Promise(a=>{yr.setTimeout(a,e)})}function Jf(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?Mb(e,a):a}function dN(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function fN(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var Rm=Symbol();function kb(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Rm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ub(e,a){return typeof e=="function"?e(...a):!!e}var mN=class extends Ol{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Sr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Tm=new mN;function Wf(){let e,a;const s=new Promise((o,d)=>{e=o,a=d});s.status="pending",s.catch(()=>{});function l(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{l({status:"fulfilled",value:o}),e(o)},s.reject=o=>{l({status:"rejected",reason:o}),a(o)},s}var hN=iN;function pN(){let e=[],a=0,s=h=>{h()},l=h=>{h()},o=hN;const d=h=>{a?e.push(h):o(()=>{s(h)})},m=()=>{const h=e;e=[],h.length&&o(()=>{l(()=>{h.forEach(y=>{s(y)})})})};return{batch:h=>{let y;a++;try{y=h()}finally{a--,a||m()}return y},batchCalls:h=>(...y)=>{d(()=>{h(...y)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{o=h}}}var mn=pN(),gN=class extends Ol{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Sr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Oc=new gN;function yN(e){return Math.min(1e3*2**e,3e4)}function qb(e){return(e??"online")==="online"?Oc.isOnline():!0}var em=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Bb(e){let a=!1,s=0,l;const o=Wf(),d=()=>o.status!=="pending",m=O=>{if(!d()){const N=new em(O);_(N),e.onCancel?.(N)}},h=()=>{a=!0},y=()=>{a=!1},p=()=>Tm.isFocused()&&(e.networkMode==="always"||Oc.isOnline())&&e.canRun(),v=()=>qb(e.networkMode)&&e.canRun(),x=O=>{d()||(l?.(),o.resolve(O))},_=O=>{d()||(l?.(),o.reject(O))},U=()=>new Promise(O=>{l=N=>{(d()||p())&&O(N)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),E=()=>{if(d())return;let O;const N=s===0?e.initialPromise:void 0;try{O=N??e.fn()}catch(k){O=Promise.reject(k)}Promise.resolve(O).then(x).catch(k=>{if(d())return;const D=e.retry??(Sr?0:3),P=e.retryDelay??yN,R=typeof P=="function"?P(s,k):P,C=D===!0||typeof D=="number"&&s<D||typeof D=="function"&&D(s,k);if(a||!C){_(k);return}s++,e.onFail?.(s,k),uN(R).then(()=>p()?void 0:U()).then(()=>{a?_(k):E()})})};return{promise:o,status:()=>o.status,cancel:m,continue:()=>(l?.(),o),cancelRetry:h,continueRetry:y,canStart:v,start:()=>(v()?E():U().then(E),o)}}var Lb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pf(this.gcTime)&&(this.#e=yr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(yr.clearTimeout(this.#e),this.#e=void 0)}},vN=class extends Lb{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Xy(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Xy(this.options);a.data!==void 0&&(this.setState(Py(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=Jf(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(Bn).catch(Bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>xa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!zb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},o=()=>{const h=kb(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=Bb({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof em&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,y)=>{this.#r({type:"failed",failureCount:h,error:y})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof em){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Ib(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...Py(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),mn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Ib(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qb(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Py(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xy(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var bN=class extends Ol{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=Wf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Jy(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),a._defaulted&&!Ac(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Wy(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||xa(this.options.enabled,this.#t)!==xa(a.enabled,this.#t)||Zs(this.options.staleTime,this.#t)!==Zs(a.staleTime,this.#t))&&this.#g();const o=this.#y();l&&(this.#t!==s||xa(this.options.enabled,this.#t)!==xa(a.enabled,this.#t)||o!==this.#o)&&this.#v(o)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return SN(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#_();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(Bn)),a}#g(){this.#x();const e=Zs(this.options.staleTime,this.#t);if(Sr||this.#s.isStale||!Pf(e))return;const s=zb(this.#s.dataUpdatedAt,e)+1;this.#c=yr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#S(),this.#o=e,!(Sr||xa(this.options.enabled,this.#t)===!1||!Pf(this.#o)||this.#o===0)&&(this.#u=yr.setInterval(()=>{(this.options.refetchIntervalInBackground||Tm.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(yr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(yr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,o=this.#s,d=this.#a,m=this.#l,y=e!==s?e.state:this.#n,{state:p}=e;let v={...p},x=!1,_;if(a._optimisticResults){const J=this.hasListeners(),oe=!J&&Jy(e,a),we=J&&Wy(e,s,a,l);(oe||we)&&(v={...v,...Ib(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:U,errorUpdatedAt:E,status:O}=v;_=v.data;let N=!1;if(a.placeholderData!==void 0&&_===void 0&&O==="pending"){let J;o?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(J=o.data,N=!0):J=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,J!==void 0&&(O="success",_=Jf(o?.data,J,a),x=!0)}if(a.select&&_!==void 0&&!N)if(o&&_===d?.data&&a.select===this.#p)_=this.#f;else try{this.#p=a.select,_=a.select(_),_=Jf(o?.data,_,a),this.#f=_,this.#r=null}catch(J){this.#r=J}this.#r&&(U=this.#r,_=this.#f,E=Date.now(),O="error");const k=v.fetchStatus==="fetching",D=O==="pending",P=O==="error",R=D&&k,C=_!==void 0,q={status:O,fetchStatus:v.fetchStatus,isPending:D,isSuccess:O==="success",isError:P,isInitialLoading:R,isLoading:R,data:_,dataUpdatedAt:v.dataUpdatedAt,error:U,errorUpdatedAt:E,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>y.dataUpdateCount||v.errorUpdateCount>y.errorUpdateCount,isFetching:k,isRefetching:k&&!D,isLoadingError:P&&!C,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:P&&C,isStale:Dm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:xa(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const J=Se=>{q.status==="error"?Se.reject(q.error):q.data!==void 0&&Se.resolve(q.data)},oe=()=>{const Se=this.#i=q.promise=Wf();J(Se)},we=this.#i;switch(we.status){case"pending":e.queryHash===s.queryHash&&J(we);break;case"fulfilled":(q.status==="error"||q.data!==we.value)&&oe();break;case"rejected":(q.status!=="error"||q.error!==we.reason)&&oe();break}}return q}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Ac(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!this.#h.size)return!0;const d=new Set(o??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==e[h]&&d.has(h)})};this.#w({listeners:s()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#w(e){mn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function xN(e,a){return xa(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function Jy(e,a){return xN(e,a)||e.state.data!==void 0&&tm(e,a,a.refetchOnMount)}function tm(e,a,s){if(xa(a.enabled,e)!==!1&&Zs(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&Dm(e,a)}return!1}function Wy(e,a,s,l){return(e!==a||xa(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Dm(e,s)}function Dm(e,a){return xa(a.enabled,e)!==!1&&e.isStaleByTime(Zs(a.staleTime,e))}function SN(e,a){return!Ac(e.getCurrentResult(),a)}function ev(e){return{onFetch:(a,s)=>{const l=a.options,o=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},y=0;const p=async()=>{let v=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},_=kb(a.options,a.fetchOptions),U=async(E,O,N)=>{if(v)return Promise.reject();if(O==null&&E.pages.length)return Promise.resolve(E);const D=(()=>{const X={client:a.client,queryKey:a.queryKey,pageParam:O,direction:N?"backward":"forward",meta:a.options.meta};return x(X),X})(),P=await _(D),{maxPages:R}=a.options,C=N?fN:dN;return{pages:C(E.pages,P,R),pageParams:C(E.pageParams,O,R)}};if(o&&d.length){const E=o==="backward",O=E?_N:tv,N={pages:d,pageParams:m},k=O(l,N);h=await U(N,k,E)}else{const E=e??d.length;do{const O=y===0?m[0]??l.initialPageParam:tv(l,h);if(y>0&&O==null)break;h=await U(h,O),y++}while(y<E)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function tv(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function _N(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var wN=class extends Lb{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||$b(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Bb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",o=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,s);const m=await this.options.onMutate?.(e,s);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:o})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),mn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function $b(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var NN=class extends Ol{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new wN({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=mc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=mc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=mc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(o=>o.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=mc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){mn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Qy(a,s))}findAll(e={}){return this.getAll().filter(a=>Qy(e,a))}notify(e){mn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return mn.batch(()=>Promise.all(e.map(a=>a.continue().catch(Bn))))}};function mc(e){return e.options.scope?.id}var EN=class extends Ol{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),Ac(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&_r(s.mutationKey)!==_r(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??$b();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){mn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,o),this.#s.onSettled?.(a.data,null,s,l,o)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,o),this.#s.onSettled?.(void 0,a.error,s,l,o))}this.listeners.forEach(s=>{s(this.#t)})})}},jN=class extends Ol{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,o=a.queryHash??Cm(l,a);let d=this.get(o);return d||(d=new vN({client:e,queryKey:l,queryHash:o,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Gy(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Gy(e,s)):a}notify(e){mn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},AN=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new jN,this.#t=e.mutationCache||new NN,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Tm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Oc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Zs(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=oN(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...s,manual:!0})}setQueriesData(e,a,s){return mn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;mn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return mn.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=mn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(l).then(Bn).catch(Bn)}invalidateQueries(e,a={}){return mn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=mn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let d=o.fetch(void 0,s);return s.throwOnError||(d=d.catch(Bn)),o.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(Bn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Zs(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bn).catch(Bn)}fetchInfiniteQuery(e){return e.behavior=ev(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bn).catch(Bn)}ensureInfiniteQueryData(e){return e.behavior=ev(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(_r(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{qi(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(_r(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{qi(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Cm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Rm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Fb=b.createContext(void 0),zm=e=>{const a=b.useContext(Fb);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},ON=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(Fb.Provider,{value:e,children:a})),Hb=b.createContext(!1),CN=()=>b.useContext(Hb);Hb.Provider;function RN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var TN=b.createContext(RN()),DN=()=>b.useContext(TN),zN=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},MN=e=>{b.useEffect(()=>{e.clearReset()},[e])},kN=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:o})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(o&&e.data===void 0||Ub(s,[e.error,l])),UN=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...o)=>s(l(...o)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},qN=(e,a)=>e.isLoading&&e.isFetching&&!a,BN=(e,a)=>e?.suspense&&a.isPending,nv=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function LN(e,a,s){const l=CN(),o=DN(),d=zm(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",UN(m),zN(m,o),MN(o);const h=!d.getQueryCache().get(m.queryHash),[y]=b.useState(()=>new a(d,m)),p=y.getOptimisticResult(m),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const _=v?y.subscribe(mn.batchCalls(x)):Bn;return y.updateResult(),_},[y,v]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),b.useEffect(()=>{y.setOptions(m)},[m,y]),BN(m,p))throw nv(m,y,o);if(kN({result:p,errorResetBoundary:o,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!Sr&&qN(p,l)&&(h?nv(m,y,o):d.getQueryCache().get(m.queryHash)?.promise)?.catch(Bn).finally(()=>{y.updateResult()}),m.notifyOnChangeProps?p:y.trackResult(p)}function wr(e,a){return LN(e,bN)}function IN(e,a){const s=zm(),[l]=b.useState(()=>new EN(s,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const o=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(mn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(Bn)},[l]);if(o.error&&Ub(l.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:d,mutateAsync:o.mutate}}var Zi=e=>e.type==="checkbox",vr=e=>e instanceof Date,Xn=e=>e==null;const Vb=e=>typeof e=="object";var on=e=>!Xn(e)&&!Array.isArray(e)&&Vb(e)&&!vr(e),$N=e=>on(e)&&e.target?Zi(e.target)?e.target.checked:e.target.value:e,FN=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,HN=(e,a)=>e.has(FN(a)),VN=e=>{const a=e.constructor&&e.constructor.prototype;return on(a)&&a.hasOwnProperty("isPrototypeOf")},Mm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(Mm&&(e instanceof Blob||l))&&(s||on(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!VN(e))a=e;else for(const o in e)e.hasOwnProperty(o)&&(a[o]=$t(e[o]));else return e;return a}var Fc=e=>/^\w*$/.test(e),Bt=e=>e===void 0,Hc=e=>Array.isArray(e)?e.filter(Boolean):[],km=e=>Hc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,a,s)=>{if(!a||!on(e))return s;const l=(Fc(a)?[a]:km(a)).reduce((o,d)=>Xn(o)?o:o[d],e);return Bt(l)||l===e?Bt(e[a])?s:e[a]:l},Ga=e=>typeof e=="boolean",Nt=(e,a,s)=>{let l=-1;const o=Fc(a)?[a]:km(a),d=o.length,m=d-1;for(;++l<d;){const h=o[l];let y=s;if(l!==m){const p=e[h];y=on(p)||Array.isArray(p)?p:isNaN(+o[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=y,e=e[h]}};const av={BLUR:"blur",FOCUS_OUT:"focusout"},Sa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zb=rt.createContext(null);Zb.displayName="HookFormContext";const Gb=()=>rt.useContext(Zb);var ZN=(e,a,s,l=!0)=>{const o={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(o,d,{get:()=>{const m=d;return a._proxyFormState[m]!==Sa.all&&(a._proxyFormState[m]=!l||Sa.all),e[m]}});return o};const Um=typeof window<"u"?rt.useLayoutEffect:rt.useEffect;var ua=e=>typeof e=="string",nm=(e,a,s,l,o)=>ua(e)?(l&&a.watch.add(e),ze(s,e,o)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),ze(s,d))):(l&&(a.watchAll=!0),s),am=e=>Xn(e)||!Vb(e);function Ua(e,a,s=new WeakSet){if(am(e)||am(a))return e===a;if(vr(e)&&vr(a))return e.getTime()===a.getTime();const l=Object.keys(e),o=Object.keys(a);if(l.length!==o.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const m=e[d];if(!o.includes(d))return!1;if(d!=="ref"){const h=a[d];if(vr(m)&&vr(h)||on(m)&&on(h)||Array.isArray(m)&&Array.isArray(h)?!Ua(m,h,s):m!==h)return!1}}return!0}function Oi(e){const a=Gb(),{control:s=a.control,name:l,defaultValue:o,disabled:d,exact:m,compute:h}=e||{},y=rt.useRef(o),p=rt.useRef(h),v=rt.useRef(void 0),x=rt.useRef(s),_=rt.useRef(l);p.current=h;const[U,E]=rt.useState(()=>{const R=s._getWatch(l,y.current);return p.current?p.current(R):R}),O=rt.useCallback(R=>{const C=nm(l,s._names,R||s._formValues,!1,y.current);return p.current?p.current(C):C},[s._formValues,s._names,l]),N=rt.useCallback(R=>{if(!d){const C=nm(l,s._names,R||s._formValues,!1,y.current);if(p.current){const X=p.current(C);Ua(X,v.current)||(E(X),v.current=X)}else E(C)}},[s._formValues,s._names,d,l]);Um(()=>((x.current!==s||!Ua(_.current,l))&&(x.current=s,_.current=l,N()),s._subscribe({name:l,formState:{values:!0},exact:m,callback:R=>{N(R.values)}})),[s,m,l,N]),rt.useEffect(()=>s._removeUnmounted());const k=x.current!==s,D=_.current,P=rt.useMemo(()=>{if(d)return null;const R=!k&&!Ua(D,l);return k||R?O():null},[d,k,l,D,O]);return P!==null?P:U}var qm=(e,a,s,l,o)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:o||!0}}:{},Jn=e=>Array.isArray(e)?e:[e],sv=()=>{let e=[];return{get observers(){return e},next:o=>{for(const d of e)d.next&&d.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(d=>d!==o)}}),unsubscribe:()=>{e=[]}}};function Qb(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const o=e[l],d=a[l];if(o&&on(o)&&d){const m=Qb(o,d);on(m)&&(s[l]=m)}else e[l]&&(s[l]=d)}return s}var Tn=e=>on(e)&&!Object.keys(e).length,Bm=e=>e.type==="file",qa=e=>typeof e=="function",Cc=e=>{if(!Mm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},Yb=e=>e.type==="select-multiple",Lm=e=>e.type==="radio",GN=e=>Lm(e)||Zi(e),vf=e=>Cc(e)&&e.isConnected;function QN(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=Bt(e)?l++:e[a[l++]];return e}function YN(e){for(const a in e)if(e.hasOwnProperty(a)&&!Bt(e[a]))return!1;return!0}function Jt(e,a){const s=Array.isArray(a)?a:Fc(a)?[a]:km(a),l=s.length===1?e:QN(e,s),o=s.length-1,d=s[o];return l&&delete l[d],o!==0&&(on(l)&&Tn(l)||Array.isArray(l)&&YN(l))&&Jt(e,s.slice(0,-1)),e}var KN=e=>{for(const a in e)if(qa(e[a]))return!0;return!1};function Kb(e){return Array.isArray(e)||on(e)&&!KN(e)}function sm(e,a={}){for(const s in e)Kb(e[s])?(a[s]=Array.isArray(e[s])?[]:{},sm(e[s],a[s])):Bt(e[s])||(a[s]=!0);return a}function ml(e,a,s){s||(s=sm(a));for(const l in e)Kb(e[l])?Bt(a)||am(s[l])?s[l]=sm(e[l],Array.isArray(e[l])?[]:{}):ml(e[l],Xn(a)?{}:a[l],s[l]):s[l]=!Ua(e[l],a[l]);return s}const rv={value:!1,isValid:!1},lv={value:!0,isValid:!0};var Pb=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?lv:{value:e[0].value,isValid:!0}:lv:rv}return rv},Xb=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>Bt(e)?e:a?e===""?NaN:e&&+e:s&&ua(e)?new Date(e):l?l(e):e;const iv={isValid:!1,value:null};var Jb=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,iv):iv;function ov(e){const a=e.ref;return Bm(a)?a.files:Lm(a)?Jb(e.refs).value:Yb(a)?[...a.selectedOptions].map(({value:s})=>s):Zi(a)?Pb(e.refs).value:Xb(Bt(a.value)?e.ref.value:a.value,e)}var PN=(e,a,s,l)=>{const o={};for(const d of e){const m=ze(a,d);m&&Nt(o,d,m._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:l}},Rc=e=>e instanceof RegExp,Ci=e=>Bt(e)?e:Rc(e)?e.source:on(e)?Rc(e.value)?e.value.source:e.value:e,hl=e=>({isOnSubmit:!e||e===Sa.onSubmit,isOnBlur:e===Sa.onBlur,isOnChange:e===Sa.onChange,isOnAll:e===Sa.all,isOnTouch:e===Sa.onTouched});const cv="AsyncFunction";var XN=e=>!!e&&!!e.validate&&!!(qa(e.validate)&&e.validate.constructor.name===cv||on(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===cv)),JN=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rm=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const gl=(e,a,s,l)=>{for(const o of s||Object.keys(e)){const d=ze(e,o);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],o)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(gl(h,a))break}else if(on(h)&&gl(h,a))break}}};function uv(e,a,s){const l=ze(e,s);if(l||Fc(s))return{error:l,name:s};const o=s.split(".");for(;o.length;){const d=o.join("."),m=ze(a,d),h=ze(e,d);if(m&&!Array.isArray(m)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};o.pop()}return{name:s}}var WN=(e,a,s,l)=>{s(e);const{name:o,...d}=e;return Tn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||Sa.all))},e1=(e,a,s)=>!e||!a||e===a||Jn(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),t1=(e,a,s,l,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(a||e):(s?l.isOnBlur:o.isOnBlur)?!e:(s?l.isOnChange:o.isOnChange)?e:!0,n1=(e,a)=>!Hc(ze(e,a)).length&&Jt(e,a),Wb=(e,a,s)=>{const l=Jn(ze(e,s));return Nt(l,"root",a[s]),Nt(e,s,l),e};function dv(e,a,s="validate"){if(ua(e)||Array.isArray(e)&&e.every(ua)||Ga(e)&&!e)return{type:s,message:ua(e)?e:"",ref:a}}var ul=e=>on(e)&&!Rc(e)?e:{value:e,message:""},lm=async(e,a,s,l,o,d)=>{const{ref:m,refs:h,required:y,maxLength:p,minLength:v,min:x,max:_,pattern:U,validate:E,name:O,valueAsNumber:N,mount:k}=e._f,D=ze(s,O);if(!k||a.has(O))return{};const P=h?h[0]:m,R=de=>{o&&P.reportValidity&&(P.setCustomValidity(Ga(de)?"":de||""),P.reportValidity())},C={},X=Lm(m),q=Zi(m),J=X||q,oe=(N||Bm(m))&&Bt(m.value)&&Bt(D)||Cc(m)&&m.value===""||D===""||Array.isArray(D)&&!D.length,we=qm.bind(null,O,l,C),Se=(de,me,Ae,Ee=fs.maxLength,B=fs.minLength)=>{const se=de?me:Ae;C[O]={type:de?Ee:B,message:se,ref:m,...we(de?Ee:B,se)}};if(d?!Array.isArray(D)||!D.length:y&&(!J&&(oe||Xn(D))||Ga(D)&&!D||q&&!Pb(h).isValid||X&&!Jb(h).isValid)){const{value:de,message:me}=ua(y)?{value:!!y,message:y}:ul(y);if(de&&(C[O]={type:fs.required,message:me,ref:P,...we(fs.required,me)},!l))return R(me),C}if(!oe&&(!Xn(x)||!Xn(_))){let de,me;const Ae=ul(_),Ee=ul(x);if(!Xn(D)&&!isNaN(D)){const B=m.valueAsNumber||D&&+D;Xn(Ae.value)||(de=B>Ae.value),Xn(Ee.value)||(me=B<Ee.value)}else{const B=m.valueAsDate||new Date(D),se=Oe=>new Date(new Date().toDateString()+" "+Oe),ae=m.type=="time",Ce=m.type=="week";ua(Ae.value)&&D&&(de=ae?se(D)>se(Ae.value):Ce?D>Ae.value:B>new Date(Ae.value)),ua(Ee.value)&&D&&(me=ae?se(D)<se(Ee.value):Ce?D<Ee.value:B<new Date(Ee.value))}if((de||me)&&(Se(!!de,Ae.message,Ee.message,fs.max,fs.min),!l))return R(C[O].message),C}if((p||v)&&!oe&&(ua(D)||d&&Array.isArray(D))){const de=ul(p),me=ul(v),Ae=!Xn(de.value)&&D.length>+de.value,Ee=!Xn(me.value)&&D.length<+me.value;if((Ae||Ee)&&(Se(Ae,de.message,me.message),!l))return R(C[O].message),C}if(U&&!oe&&ua(D)){const{value:de,message:me}=ul(U);if(Rc(de)&&!D.match(de)&&(C[O]={type:fs.pattern,message:me,ref:m,...we(fs.pattern,me)},!l))return R(me),C}if(E){if(qa(E)){const de=await E(D,s),me=dv(de,P);if(me&&(C[O]={...me,...we(fs.validate,me.message)},!l))return R(me.message),C}else if(on(E)){let de={};for(const me in E){if(!Tn(de)&&!l)break;const Ae=dv(await E[me](D,s),P,me);Ae&&(de={...Ae,...we(me,Ae.message)},R(Ae.message),l&&(C[O]=de))}if(!Tn(de)&&(C[O]={ref:P,...de},!l))return C}}return R(!0),C};const a1={mode:Sa.onSubmit,reValidateMode:Sa.onChange,shouldFocusError:!0};function s1(e={}){let a={...a1,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:qa(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},o=on(a.defaultValues)||on(a.values)?$t(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:$t(o),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const _={array:sv(),state:sv()},U=a.criteriaMode===Sa.all,E=w=>M=>{clearTimeout(p),p=setTimeout(w,M)},O=async w=>{if(!a.disabled&&(v.isValid||x.isValid||w)){const M=a.resolver?Tn((await q()).errors):await oe(l,!0);M!==s.isValid&&_.state.next({isValid:M})}},N=(w,M)=>{!a.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((w||Array.from(h.mount)).forEach($=>{$&&(M?Nt(s.validatingFields,$,M):Jt(s.validatingFields,$))}),_.state.next({validatingFields:s.validatingFields,isValidating:!Tn(s.validatingFields)}))},k=(w,M=[],$,ge,te=!0,le=!0)=>{if(ge&&$&&!a.disabled){if(m.action=!0,le&&Array.isArray(ze(l,w))){const Te=$(ze(l,w),ge.argA,ge.argB);te&&Nt(l,w,Te)}if(le&&Array.isArray(ze(s.errors,w))){const Te=$(ze(s.errors,w),ge.argA,ge.argB);te&&Nt(s.errors,w,Te),n1(s.errors,w)}if((v.touchedFields||x.touchedFields)&&le&&Array.isArray(ze(s.touchedFields,w))){const Te=$(ze(s.touchedFields,w),ge.argA,ge.argB);te&&Nt(s.touchedFields,w,Te)}(v.dirtyFields||x.dirtyFields)&&(s.dirtyFields=ml(o,d)),_.state.next({name:w,isDirty:Se(w,M),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Nt(d,w,M)},D=(w,M)=>{Nt(s.errors,w,M),_.state.next({errors:s.errors})},P=w=>{s.errors=w,_.state.next({errors:s.errors,isValid:!1})},R=(w,M,$,ge)=>{const te=ze(l,w);if(te){const le=ze(d,w,Bt($)?ze(o,w):$);Bt(le)||ge&&ge.defaultChecked||M?Nt(d,w,M?le:ov(te._f)):Ae(w,le),m.mount&&O()}},C=(w,M,$,ge,te)=>{let le=!1,Te=!1;const Ke={name:w};if(!a.disabled){if(!$||ge){(v.isDirty||x.isDirty)&&(Te=s.isDirty,s.isDirty=Ke.isDirty=Se(),le=Te!==Ke.isDirty);const ee=Ua(ze(o,w),M);Te=!!ze(s.dirtyFields,w),ee?Jt(s.dirtyFields,w):Nt(s.dirtyFields,w,!0),Ke.dirtyFields=s.dirtyFields,le=le||(v.dirtyFields||x.dirtyFields)&&Te!==!ee}if($){const ee=ze(s.touchedFields,w);ee||(Nt(s.touchedFields,w,$),Ke.touchedFields=s.touchedFields,le=le||(v.touchedFields||x.touchedFields)&&ee!==$)}le&&te&&_.state.next(Ke)}return le?Ke:{}},X=(w,M,$,ge)=>{const te=ze(s.errors,w),le=(v.isValid||x.isValid)&&Ga(M)&&s.isValid!==M;if(a.delayError&&$?(y=E(()=>D(w,$)),y(a.delayError)):(clearTimeout(p),y=null,$?Nt(s.errors,w,$):Jt(s.errors,w)),($?!Ua(te,$):te)||!Tn(ge)||le){const Te={...ge,...le&&Ga(M)?{isValid:M}:{},errors:s.errors,name:w};s={...s,...Te},_.state.next(Te)}},q=async w=>{N(w,!0);const M=await a.resolver(d,a.context,PN(w||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return N(w),M},J=async w=>{const{errors:M}=await q(w);if(w)for(const $ of w){const ge=ze(M,$);ge?Nt(s.errors,$,ge):Jt(s.errors,$)}else s.errors=M;return M},oe=async(w,M,$={valid:!0})=>{for(const ge in w){const te=w[ge];if(te){const{_f:le,...Te}=te;if(le){const Ke=h.array.has(le.name),ee=te._f&&XN(te._f);ee&&v.validatingFields&&N([le.name],!0);const Ve=await lm(te,h.disabled,d,U,a.shouldUseNativeValidation&&!M,Ke);if(ee&&v.validatingFields&&N([le.name]),Ve[le.name]&&($.valid=!1,M))break;!M&&(ze(Ve,le.name)?Ke?Wb(s.errors,Ve,le.name):Nt(s.errors,le.name,Ve[le.name]):Jt(s.errors,le.name))}!Tn(Te)&&await oe(Te,M,$)}}return $.valid},we=()=>{for(const w of h.unMount){const M=ze(l,w);M&&(M._f.refs?M._f.refs.every($=>!vf($)):!vf(M._f.ref))&&Me(w)}h.unMount=new Set},Se=(w,M)=>!a.disabled&&(w&&M&&Nt(d,w,M),!Ua(Oe(),o)),de=(w,M,$)=>nm(w,h,{...m.mount?d:Bt(M)?o:ua(w)?{[w]:M}:M},$,M),me=w=>Hc(ze(m.mount?d:o,w,a.shouldUnregister?ze(o,w,[]):[])),Ae=(w,M,$={})=>{const ge=ze(l,w);let te=M;if(ge){const le=ge._f;le&&(!le.disabled&&Nt(d,w,Xb(M,le)),te=Cc(le.ref)&&Xn(M)?"":M,Yb(le.ref)?[...le.ref.options].forEach(Te=>Te.selected=te.includes(Te.value)):le.refs?Zi(le.ref)?le.refs.forEach(Te=>{(!Te.defaultChecked||!Te.disabled)&&(Array.isArray(te)?Te.checked=!!te.find(Ke=>Ke===Te.value):Te.checked=te===Te.value||!!te)}):le.refs.forEach(Te=>Te.checked=Te.value===te):Bm(le.ref)?le.ref.value="":(le.ref.value=te,le.ref.type||_.state.next({name:w,values:$t(d)})))}($.shouldDirty||$.shouldTouch)&&C(w,te,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&Ce(w)},Ee=(w,M,$)=>{for(const ge in M){if(!M.hasOwnProperty(ge))return;const te=M[ge],le=w+"."+ge,Te=ze(l,le);(h.array.has(w)||on(te)||Te&&!Te._f)&&!vr(te)?Ee(le,te,$):Ae(le,te,$)}},B=(w,M,$={})=>{const ge=ze(l,w),te=h.array.has(w),le=$t(M);Nt(d,w,le),te?(_.array.next({name:w,values:$t(d)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&$.shouldDirty&&_.state.next({name:w,dirtyFields:ml(o,d),isDirty:Se(w,le)})):ge&&!ge._f&&!Xn(le)?Ee(w,le,$):Ae(w,le,$),rm(w,h)&&_.state.next({...s,name:w}),_.state.next({name:m.mount?w:void 0,values:$t(d)})},se=async w=>{m.mount=!0;const M=w.target;let $=M.name,ge=!0;const te=ze(l,$),le=ee=>{ge=Number.isNaN(ee)||vr(ee)&&isNaN(ee.getTime())||Ua(ee,ze(d,$,ee))},Te=hl(a.mode),Ke=hl(a.reValidateMode);if(te){let ee,Ve;const ot=M.type?ov(te._f):$N(w),xt=w.type===av.BLUR||w.type===av.FOCUS_OUT,In=!JN(te._f)&&!a.resolver&&!ze(s.errors,$)&&!te._f.deps||t1(xt,ze(s.touchedFields,$),s.isSubmitted,Ke,Te),he=rm($,h,xt);Nt(d,$,ot),xt?(!M||!M.readOnly)&&(te._f.onBlur&&te._f.onBlur(w),y&&y(0)):te._f.onChange&&te._f.onChange(w);const Pe=C($,ot,xt),Zt=!Tn(Pe)||he;if(!xt&&_.state.next({name:$,type:w.type,values:$t(d)}),In)return(v.isValid||x.isValid)&&(a.mode==="onBlur"?xt&&O():xt||O()),Zt&&_.state.next({name:$,...he?{}:Pe});if(!xt&&he&&_.state.next({...s}),a.resolver){const{errors:St}=await q([$]);if(le(ot),ge){const Sn=uv(s.errors,l,$),Mn=uv(St,l,Sn.name||$);ee=Mn.error,$=Mn.name,Ve=Tn(St)}}else N([$],!0),ee=(await lm(te,h.disabled,d,U,a.shouldUseNativeValidation))[$],N([$]),le(ot),ge&&(ee?Ve=!1:(v.isValid||x.isValid)&&(Ve=await oe(l,!0)));ge&&(te._f.deps&&(!Array.isArray(te._f.deps)||te._f.deps.length>0)&&Ce(te._f.deps),X($,Ve,ee,Pe))}},ae=(w,M)=>{if(ze(s.errors,M)&&w.focus)return w.focus(),1},Ce=async(w,M={})=>{let $,ge;const te=Jn(w);if(a.resolver){const le=await J(Bt(w)?w:te);$=Tn(le),ge=w?!te.some(Te=>ze(le,Te)):$}else w?(ge=(await Promise.all(te.map(async le=>{const Te=ze(l,le);return await oe(Te&&Te._f?{[le]:Te}:Te)}))).every(Boolean),!(!ge&&!s.isValid)&&O()):ge=$=await oe(l);return _.state.next({...!ua(w)||(v.isValid||x.isValid)&&$!==s.isValid?{}:{name:w},...a.resolver||!w?{isValid:$}:{},errors:s.errors}),M.shouldFocus&&!ge&&gl(l,ae,w?te:h.mount),ge},Oe=(w,M)=>{let $={...m.mount?d:o};return M&&($=Qb(M.dirtyFields?s.dirtyFields:s.touchedFields,$)),Bt(w)?$:ua(w)?ze($,w):w.map(ge=>ze($,ge))},j=(w,M)=>({invalid:!!ze((M||s).errors,w),isDirty:!!ze((M||s).dirtyFields,w),error:ze((M||s).errors,w),isValidating:!!ze(s.validatingFields,w),isTouched:!!ze((M||s).touchedFields,w)}),Q=w=>{w&&Jn(w).forEach(M=>Jt(s.errors,M)),_.state.next({errors:w?s.errors:{}})},ce=(w,M,$)=>{const ge=(ze(l,w,{_f:{}})._f||{}).ref,te=ze(s.errors,w)||{},{ref:le,message:Te,type:Ke,...ee}=te;Nt(s.errors,w,{...ee,...M,ref:ge}),_.state.next({name:w,errors:s.errors,isValid:!1}),$&&$.shouldFocus&&ge&&ge.focus&&ge.focus()},xe=(w,M)=>qa(w)?_.state.subscribe({next:$=>"values"in $&&w(de(void 0,M),$)}):de(w,M,!0),De=w=>_.state.subscribe({next:M=>{e1(w.name,M.name,w.exact)&&WN(M,w.formState||v,W,w.reRenderRoot)&&w.callback({values:{...d},...s,...M,defaultValues:o})}}).unsubscribe,Re=w=>(m.mount=!0,x={...x,...w.formState},De({...w,formState:x})),Me=(w,M={})=>{for(const $ of w?Jn(w):h.mount)h.mount.delete($),h.array.delete($),M.keepValue||(Jt(l,$),Jt(d,$)),!M.keepError&&Jt(s.errors,$),!M.keepDirty&&Jt(s.dirtyFields,$),!M.keepTouched&&Jt(s.touchedFields,$),!M.keepIsValidating&&Jt(s.validatingFields,$),!a.shouldUnregister&&!M.keepDefaultValue&&Jt(o,$);_.state.next({values:$t(d)}),_.state.next({...s,...M.keepDirty?{isDirty:Se()}:{}}),!M.keepIsValid&&O()},Ie=({disabled:w,name:M})=>{(Ga(w)&&m.mount||w||h.disabled.has(M))&&(w?h.disabled.add(M):h.disabled.delete(M))},ye=(w,M={})=>{let $=ze(l,w);const ge=Ga(M.disabled)||Ga(a.disabled);return Nt(l,w,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:w}},name:w,mount:!0,...M}}),h.mount.add(w),$?Ie({disabled:Ga(M.disabled)?M.disabled:a.disabled,name:w}):R(w,!0,M.value),{...ge?{disabled:M.disabled||a.disabled}:{},...a.progressive?{required:!!M.required,min:Ci(M.min),max:Ci(M.max),minLength:Ci(M.minLength),maxLength:Ci(M.maxLength),pattern:Ci(M.pattern)}:{},name:w,onChange:se,onBlur:se,ref:te=>{if(te){ye(w,M),$=ze(l,w);const le=Bt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,Te=GN(le),Ke=$._f.refs||[];if(Te?Ke.find(ee=>ee===le):le===$._f.ref)return;Nt(l,w,{_f:{...$._f,...Te?{refs:[...Ke.filter(vf),le,...Array.isArray(ze(o,w))?[{}]:[]],ref:{type:le.type,name:w}}:{ref:le}}}),R(w,!1,void 0,le)}else $=ze(l,w,{}),$._f&&($._f.mount=!1),(a.shouldUnregister||M.shouldUnregister)&&!(HN(h.array,w)&&m.action)&&h.unMount.add(w)}}},qe=()=>a.shouldFocusError&&gl(l,ae,h.mount),Ge=w=>{Ga(w)&&(_.state.next({disabled:w}),gl(l,(M,$)=>{const ge=ze(l,$);ge&&(M.disabled=ge._f.disabled||w,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(te=>{te.disabled=ge._f.disabled||w}))},0,!1))},Ne=(w,M)=>async $=>{let ge;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let te=$t(d);if(_.state.next({isSubmitting:!0}),a.resolver){const{errors:le,values:Te}=await q();s.errors=le,te=$t(Te)}else await oe(l);if(h.disabled.size)for(const le of h.disabled)Jt(te,le);if(Jt(s.errors,"root"),Tn(s.errors)){_.state.next({errors:{}});try{await w(te,$)}catch(le){ge=le}}else M&&await M({...s.errors},$),qe(),setTimeout(qe);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Tn(s.errors)&&!ge,submitCount:s.submitCount+1,errors:s.errors}),ge)throw ge},Ye=(w,M={})=>{ze(l,w)&&(Bt(M.defaultValue)?B(w,$t(ze(o,w))):(B(w,M.defaultValue),Nt(o,w,$t(M.defaultValue))),M.keepTouched||Jt(s.touchedFields,w),M.keepDirty||(Jt(s.dirtyFields,w),s.isDirty=M.defaultValue?Se(w,$t(ze(o,w))):Se()),M.keepError||(Jt(s.errors,w),v.isValid&&O()),_.state.next({...s}))},Le=(w,M={})=>{const $=w?$t(w):o,ge=$t($),te=Tn(w),le=te?o:ge;if(M.keepDefaultValues||(o=$),!M.keepValues){if(M.keepDirtyValues){const Te=new Set([...h.mount,...Object.keys(ml(o,d))]);for(const Ke of Array.from(Te))ze(s.dirtyFields,Ke)?Nt(le,Ke,ze(d,Ke)):B(Ke,ze(le,Ke))}else{if(Mm&&Bt(w))for(const Te of h.mount){const Ke=ze(l,Te);if(Ke&&Ke._f){const ee=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(Cc(ee)){const Ve=ee.closest("form");if(Ve){Ve.reset();break}}}}if(M.keepFieldsRef)for(const Te of h.mount)B(Te,ze(le,Te));else l={}}d=a.shouldUnregister?M.keepDefaultValues?$t(o):{}:$t(le),_.array.next({values:{...le}}),_.state.next({values:{...le}})}h={mount:M.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!M.keepIsValid||!!M.keepDirtyValues||!a.shouldUnregister&&!Tn(le),m.watch=!!a.shouldUnregister,_.state.next({submitCount:M.keepSubmitCount?s.submitCount:0,isDirty:te?!1:M.keepDirty?s.isDirty:!!(M.keepDefaultValues&&!Ua(w,o)),isSubmitted:M.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:te?{}:M.keepDirtyValues?M.keepDefaultValues&&d?ml(o,d):s.dirtyFields:M.keepDefaultValues&&w?ml(o,w):M.keepDirty?s.dirtyFields:{},touchedFields:M.keepTouched?s.touchedFields:{},errors:M.keepErrors?s.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Xe=(w,M)=>Le(qa(w)?w(d):w,M),je=(w,M={})=>{const $=ze(l,w),ge=$&&$._f;if(ge){const te=ge.refs?ge.refs[0]:ge.ref;te.focus&&(te.focus(),M.shouldSelect&&qa(te.select)&&te.select())}},W=w=>{s={...s,...w}},_e={control:{register:ye,unregister:Me,getFieldState:j,handleSubmit:Ne,setError:ce,_subscribe:De,_runSchema:q,_focusError:qe,_getWatch:de,_getDirty:Se,_setValid:O,_setFieldArray:k,_setDisabledField:Ie,_setErrors:P,_getFieldArray:me,_reset:Le,_resetDefaultValues:()=>qa(a.defaultValues)&&a.defaultValues().then(w=>{Xe(w,a.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:we,_disableForm:Ge,_subjects:_,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(w){m=w},get _defaultValues(){return o},get _names(){return h},set _names(w){h=w},get _formState(){return s},get _options(){return a},set _options(w){a={...a,...w}}},subscribe:Re,trigger:Ce,register:ye,handleSubmit:Ne,watch:xe,setValue:B,getValues:Oe,reset:Xe,resetField:Ye,clearErrors:Q,unregister:Me,setError:ce,setFocus:je,getFieldState:j};return{..._e,formControl:_e}}var Fs=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},bf=(e,a,s={})=>s.shouldFocus||Bt(s.shouldFocus)?s.focusName||`${e}.${Bt(s.focusIndex)?a:s.focusIndex}.`:"",xf=(e,a)=>[...e,...Jn(a)],Sf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function _f(e,a,s){return[...e.slice(0,a),...Jn(s),...e.slice(a)]}var wf=(e,a,s)=>Array.isArray(e)?(Bt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],Nf=(e,a)=>[...Jn(a),...Jn(e)];function r1(e,a){let s=0;const l=[...e];for(const o of a)l.splice(o-s,1),s++;return Hc(l).length?l:[]}var Ef=(e,a)=>Bt(a)?[]:r1(e,Jn(a).sort((s,l)=>s-l)),jf=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},fv=(e,a,s)=>(e[a]=s,e);function l1(e){const a=Gb(),{control:s=a.control,name:l,keyName:o="id",shouldUnregister:d,rules:m}=e,[h,y]=rt.useState(s._getFieldArray(l)),p=rt.useRef(s._getFieldArray(l).map(Fs)),v=rt.useRef(!1);s._names.array.add(l),rt.useMemo(()=>m&&h.length>=0&&s.register(l,m),[s,l,h.length,m]),Um(()=>s._subjects.array.subscribe({next:({values:R,name:C})=>{if(C===l||!C){const X=ze(R,l);Array.isArray(X)&&(y(X),p.current=X.map(Fs))}}}).unsubscribe,[s,l]);const x=rt.useCallback(R=>{v.current=!0,s._setFieldArray(l,R)},[s,l]),_=(R,C)=>{const X=Jn($t(R)),q=xf(s._getFieldArray(l),X);s._names.focus=bf(l,q.length-1,C),p.current=xf(p.current,X.map(Fs)),x(q),y(q),s._setFieldArray(l,q,xf,{argA:Sf(R)})},U=(R,C)=>{const X=Jn($t(R)),q=Nf(s._getFieldArray(l),X);s._names.focus=bf(l,0,C),p.current=Nf(p.current,X.map(Fs)),x(q),y(q),s._setFieldArray(l,q,Nf,{argA:Sf(R)})},E=R=>{const C=Ef(s._getFieldArray(l),R);p.current=Ef(p.current,R),x(C),y(C),!Array.isArray(ze(s._fields,l))&&Nt(s._fields,l,void 0),s._setFieldArray(l,C,Ef,{argA:R})},O=(R,C,X)=>{const q=Jn($t(C)),J=_f(s._getFieldArray(l),R,q);s._names.focus=bf(l,R,X),p.current=_f(p.current,R,q.map(Fs)),x(J),y(J),s._setFieldArray(l,J,_f,{argA:R,argB:Sf(C)})},N=(R,C)=>{const X=s._getFieldArray(l);jf(X,R,C),jf(p.current,R,C),x(X),y(X),s._setFieldArray(l,X,jf,{argA:R,argB:C},!1)},k=(R,C)=>{const X=s._getFieldArray(l);wf(X,R,C),wf(p.current,R,C),x(X),y(X),s._setFieldArray(l,X,wf,{argA:R,argB:C},!1)},D=(R,C)=>{const X=$t(C),q=fv(s._getFieldArray(l),R,X);p.current=[...q].map((J,oe)=>!J||oe===R?Fs():p.current[oe]),x(q),y([...q]),s._setFieldArray(l,q,fv,{argA:R,argB:X},!0,!1)},P=R=>{const C=Jn($t(R));p.current=C.map(Fs),x([...C]),y([...C]),s._setFieldArray(l,[...C],X=>X,{},!0,!1)};return rt.useEffect(()=>{if(s._state.action=!1,rm(l,s._names)&&s._subjects.state.next({...s._formState}),v.current&&(!hl(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!hl(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(R=>{const C=ze(R.errors,l),X=ze(s._formState.errors,l);(X?!C&&X.type||C&&(X.type!==C.type||X.message!==C.message):C&&C.type)&&(C?Nt(s._formState.errors,l,C):Jt(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const R=ze(s._fields,l);R&&R._f&&!(hl(s._options.reValidateMode).isOnSubmit&&hl(s._options.mode).isOnSubmit)&&lm(R,s._names.disabled,s._formValues,s._options.criteriaMode===Sa.all,s._options.shouldUseNativeValidation,!0).then(C=>!Tn(C)&&s._subjects.state.next({errors:Wb(s._formState.errors,C,l)}))}s._subjects.state.next({name:l,values:$t(s._formValues)}),s._names.focus&&gl(s._fields,(R,C)=>{if(s._names.focus&&C.startsWith(s._names.focus)&&R.focus)return R.focus(),1}),s._names.focus="",s._setValid(),v.current=!1},[h,l,s]),rt.useEffect(()=>(!ze(s._formValues,l)&&s._setFieldArray(l),()=>{const R=(C,X)=>{const q=ze(s._fields,C);q&&q._f&&(q._f.mount=X)};s._options.shouldUnregister||d?s.unregister(l):R(l,!1)}),[l,s,o,d]),{swap:rt.useCallback(N,[x,l,s]),move:rt.useCallback(k,[x,l,s]),prepend:rt.useCallback(U,[x,l,s]),append:rt.useCallback(_,[x,l,s]),remove:rt.useCallback(E,[x,l,s]),insert:rt.useCallback(O,[x,l,s]),update:rt.useCallback(D,[x,l,s]),replace:rt.useCallback(P,[x,l,s]),fields:rt.useMemo(()=>h.map((R,C)=>({...R,[o]:p.current[C]||Fs()})),[h,o])}}function Vc(e={}){const a=rt.useRef(void 0),s=rt.useRef(void 0),[l,o]=rt.useState({isDirty:!1,isValidating:!1,isLoading:qa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:qa(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!qa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=s1(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,Um(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>o({...d._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),rt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),rt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),rt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),rt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),rt.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),rt.useEffect(()=>{e.values&&!Ua(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,o(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),rt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=ZN(l,d),a.current}function e0(e,a){return function(){return e.apply(a,arguments)}}const{toString:i1}=Object.prototype,{getPrototypeOf:Im}=Object,{iterator:Zc,toStringTag:t0}=Symbol,Gc=(e=>a=>{const s=i1.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ba=e=>(e=e.toLowerCase(),a=>Gc(a)===e),Qc=e=>a=>typeof a===e,{isArray:Cl}=Array,xl=Qc("undefined");function Gi(e){return e!==null&&!xl(e)&&e.constructor!==null&&!xl(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const n0=Ba("ArrayBuffer");function o1(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&n0(e.buffer),a}const c1=Qc("string"),Wn=Qc("function"),a0=Qc("number"),Qi=e=>e!==null&&typeof e=="object",u1=e=>e===!0||e===!1,_c=e=>{if(Gc(e)!=="object")return!1;const a=Im(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(t0 in e)&&!(Zc in e)},d1=e=>{if(!Qi(e)||Gi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},f1=Ba("Date"),m1=Ba("File"),h1=Ba("Blob"),p1=Ba("FileList"),g1=e=>Qi(e)&&Wn(e.pipe),y1=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((a=Gc(e))==="formdata"||a==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},v1=Ba("URLSearchParams"),[b1,x1,S1,_1]=["ReadableStream","Request","Response","Headers"].map(Ba),w1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yi(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,o;if(typeof e!="object"&&(e=[e]),Cl(e))for(l=0,o=e.length;l<o;l++)a.call(null,e[l],l,e);else{if(Gi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function s0(e,a){if(Gi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,o;for(;l-- >0;)if(o=s[l],a===o.toLowerCase())return o;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,r0=e=>!xl(e)&&e!==br;function im(){const{caseless:e,skipUndefined:a}=r0(this)&&this||{},s={},l=(o,d)=>{const m=e&&s0(s,d)||d;_c(s[m])&&_c(o)?s[m]=im(s[m],o):_c(o)?s[m]=im({},o):Cl(o)?s[m]=o.slice():(!a||!xl(o))&&(s[m]=o)};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&Yi(arguments[o],l);return s}const N1=(e,a,s,{allOwnKeys:l}={})=>(Yi(a,(o,d)=>{s&&Wn(o)?e[d]=e0(o,s):e[d]=o},{allOwnKeys:l}),e),E1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),j1=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},A1=(e,a,s,l)=>{let o,d,m;const h={};if(a=a||{},e==null)return a;do{for(o=Object.getOwnPropertyNames(e),d=o.length;d-- >0;)m=o[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=s!==!1&&Im(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},O1=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},C1=e=>{if(!e)return null;if(Cl(e))return e;let a=e.length;if(!a0(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},R1=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Im(Uint8Array)),T1=(e,a)=>{const l=(e&&e[Zc]).call(e);let o;for(;(o=l.next())&&!o.done;){const d=o.value;a.call(e,d[0],d[1])}},D1=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},z1=Ba("HTMLFormElement"),M1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,o){return l.toUpperCase()+o}),mv=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),k1=Ba("RegExp"),l0=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Yi(s,(o,d)=>{let m;(m=a(o,d,e))!==!1&&(l[d]=m||o)}),Object.defineProperties(e,l)},U1=e=>{l0(e,(a,s)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(Wn(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},q1=(e,a)=>{const s={},l=o=>{o.forEach(d=>{s[d]=!0})};return Cl(e)?l(e):l(String(e).split(a)),s},B1=()=>{},L1=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function I1(e){return!!(e&&Wn(e.append)&&e[t0]==="FormData"&&e[Zc])}const $1=e=>{const a=new Array(10),s=(l,o)=>{if(Qi(l)){if(a.indexOf(l)>=0)return;if(Gi(l))return l;if(!("toJSON"in l)){a[o]=l;const d=Cl(l)?[]:{};return Yi(l,(m,h)=>{const y=s(m,o+1);!xl(y)&&(d[h]=y)}),a[o]=void 0,d}}return l};return s(e,0)},F1=Ba("AsyncFunction"),H1=e=>e&&(Qi(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),i0=((e,a)=>e?setImmediate:a?((s,l)=>(br.addEventListener("message",({source:o,data:d})=>{o===br&&d===s&&l.length&&l.shift()()},!1),o=>{l.push(o),br.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Wn(br.postMessage)),V1=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||i0,Z1=e=>e!=null&&Wn(e[Zc]),Y={isArray:Cl,isArrayBuffer:n0,isBuffer:Gi,isFormData:y1,isArrayBufferView:o1,isString:c1,isNumber:a0,isBoolean:u1,isObject:Qi,isPlainObject:_c,isEmptyObject:d1,isReadableStream:b1,isRequest:x1,isResponse:S1,isHeaders:_1,isUndefined:xl,isDate:f1,isFile:m1,isBlob:h1,isRegExp:k1,isFunction:Wn,isStream:g1,isURLSearchParams:v1,isTypedArray:R1,isFileList:p1,forEach:Yi,merge:im,extend:N1,trim:w1,stripBOM:E1,inherits:j1,toFlatObject:A1,kindOf:Gc,kindOfTest:Ba,endsWith:O1,toArray:C1,forEachEntry:T1,matchAll:D1,isHTMLForm:z1,hasOwnProperty:mv,hasOwnProp:mv,reduceDescriptors:l0,freezeMethods:U1,toObjectSet:q1,toCamelCase:M1,noop:B1,toFiniteNumber:L1,findKey:s0,global:br,isContextDefined:r0,isSpecCompliantForm:I1,toJSONObject:$1,isAsyncFn:F1,isThenable:H1,setImmediate:i0,asap:V1,isIterable:Z1};function nt(e,a,s,l,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),o&&(this.response=o,this.status=o.status?o.status:null)}Y.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const o0=nt.prototype,c0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{c0[e]={value:e}});Object.defineProperties(nt,c0);Object.defineProperty(o0,"isAxiosError",{value:!0});nt.from=(e,a,s,l,o,d)=>{const m=Object.create(o0);Y.toFlatObject(e,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",y=a==null&&e?e.code:a;return nt.call(m,h,y,s,l,o),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const G1=null;function om(e){return Y.isPlainObject(e)||Y.isArray(e)}function u0(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function hv(e,a,s){return e?e.concat(a).map(function(o,d){return o=u0(o),!s&&d?"["+o+"]":o}).join(s?".":""):a}function Q1(e){return Y.isArray(e)&&!e.some(om)}const Y1=Y.toFlatObject(Y,{},null,function(a){return/^is[A-Z]/.test(a)});function Yc(e,a,s){if(!Y.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=Y.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,N){return!Y.isUndefined(N[O])});const l=s.metaTokens,o=s.visitor||v,d=s.dots,m=s.indexes,y=(s.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(a);if(!Y.isFunction(o))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(Y.isDate(E))return E.toISOString();if(Y.isBoolean(E))return E.toString();if(!y&&Y.isBlob(E))throw new nt("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(E)||Y.isTypedArray(E)?y&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function v(E,O,N){let k=E;if(E&&!N&&typeof E=="object"){if(Y.endsWith(O,"{}"))O=l?O:O.slice(0,-2),E=JSON.stringify(E);else if(Y.isArray(E)&&Q1(E)||(Y.isFileList(E)||Y.endsWith(O,"[]"))&&(k=Y.toArray(E)))return O=u0(O),k.forEach(function(P,R){!(Y.isUndefined(P)||P===null)&&a.append(m===!0?hv([O],R,d):m===null?O:O+"[]",p(P))}),!1}return om(E)?!0:(a.append(hv(N,O,d),p(E)),!1)}const x=[],_=Object.assign(Y1,{defaultVisitor:v,convertValue:p,isVisitable:om});function U(E,O){if(!Y.isUndefined(E)){if(x.indexOf(E)!==-1)throw Error("Circular reference detected in "+O.join("."));x.push(E),Y.forEach(E,function(k,D){(!(Y.isUndefined(k)||k===null)&&o.call(a,k,Y.isString(D)?D.trim():D,O,_))===!0&&U(k,O?O.concat(D):[D])}),x.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return U(e),a}function pv(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function $m(e,a){this._pairs=[],e&&Yc(e,this,a)}const d0=$m.prototype;d0.append=function(a,s){this._pairs.push([a,s])};d0.toString=function(a){const s=a?function(l){return a.call(this,l,pv)}:pv;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function K1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function f0(e,a,s){if(!a)return e;const l=s&&s.encode||K1;Y.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let d;if(o?d=o(a,s):d=Y.isURLSearchParams(a)?a.toString():new $m(a,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class gv{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){Y.forEach(this.handlers,function(l){l!==null&&a(l)})}}const m0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},P1=typeof URLSearchParams<"u"?URLSearchParams:$m,X1=typeof FormData<"u"?FormData:null,J1=typeof Blob<"u"?Blob:null,W1={isBrowser:!0,classes:{URLSearchParams:P1,FormData:X1,Blob:J1},protocols:["http","https","file","blob","url","data"]},Fm=typeof window<"u"&&typeof document<"u",cm=typeof navigator=="object"&&navigator||void 0,eE=Fm&&(!cm||["ReactNative","NativeScript","NS"].indexOf(cm.product)<0),tE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nE=Fm&&window.location.href||"http://localhost",aE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fm,hasStandardBrowserEnv:eE,hasStandardBrowserWebWorkerEnv:tE,navigator:cm,origin:nE},Symbol.toStringTag,{value:"Module"})),Dn={...aE,...W1};function sE(e,a){return Yc(e,new Dn.classes.URLSearchParams,{visitor:function(s,l,o,d){return Dn.isNode&&Y.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function rE(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function lE(e){const a={},s=Object.keys(e);let l;const o=s.length;let d;for(l=0;l<o;l++)d=s[l],a[d]=e[d];return a}function h0(e){function a(s,l,o,d){let m=s[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),y=d>=s.length;return m=!m&&Y.isArray(o)?o.length:m,y?(Y.hasOwnProp(o,m)?o[m]=[o[m],l]:o[m]=l,!h):((!o[m]||!Y.isObject(o[m]))&&(o[m]=[]),a(s,l,o[m],d)&&Y.isArray(o[m])&&(o[m]=lE(o[m])),!h)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const s={};return Y.forEachEntry(e,(l,o)=>{a(rE(l),o,s,0)}),s}return null}function iE(e,a,s){if(Y.isString(e))try{return(a||JSON.parse)(e),Y.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Ki={transitional:m0,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",o=l.indexOf("application/json")>-1,d=Y.isObject(a);if(d&&Y.isHTMLForm(a)&&(a=new FormData(a)),Y.isFormData(a))return o?JSON.stringify(h0(a)):a;if(Y.isArrayBuffer(a)||Y.isBuffer(a)||Y.isStream(a)||Y.isFile(a)||Y.isBlob(a)||Y.isReadableStream(a))return a;if(Y.isArrayBufferView(a))return a.buffer;if(Y.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return sE(a,this.formSerializer).toString();if((h=Y.isFileList(a))||l.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Yc(h?{"files[]":a}:a,y&&new y,this.formSerializer)}}return d||o?(s.setContentType("application/json",!1),iE(a)):a}],transformResponse:[function(a){const s=this.transitional||Ki.transitional,l=s&&s.forcedJSONParsing,o=this.responseType==="json";if(Y.isResponse(a)||Y.isReadableStream(a))return a;if(a&&Y.isString(a)&&(l&&!this.responseType||o)){const m=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?nt.from(h,nt.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dn.classes.FormData,Blob:Dn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{Ki.headers[e]={}});const oE=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cE=e=>{const a={};let s,l,o;return e&&e.split(`
`).forEach(function(m){o=m.indexOf(":"),s=m.substring(0,o).trim().toLowerCase(),l=m.substring(o+1).trim(),!(!s||a[s]&&oE[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},yv=Symbol("internals");function Ri(e){return e&&String(e).trim().toLowerCase()}function wc(e){return e===!1||e==null?e:Y.isArray(e)?e.map(wc):String(e)}function uE(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const dE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Af(e,a,s,l,o){if(Y.isFunction(l))return l.call(this,a,s);if(o&&(a=s),!!Y.isString(a)){if(Y.isString(l))return a.indexOf(l)!==-1;if(Y.isRegExp(l))return l.test(a)}}function fE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function mE(e,a){const s=Y.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(o,d,m){return this[l].call(this,a,o,d,m)},configurable:!0})})}let ea=class{constructor(a){a&&this.set(a)}set(a,s,l){const o=this;function d(h,y,p){const v=Ri(y);if(!v)throw new Error("header name must be a non-empty string");const x=Y.findKey(o,v);(!x||o[x]===void 0||p===!0||p===void 0&&o[x]!==!1)&&(o[x||y]=wc(h))}const m=(h,y)=>Y.forEach(h,(p,v)=>d(p,v,y));if(Y.isPlainObject(a)||a instanceof this.constructor)m(a,s);else if(Y.isString(a)&&(a=a.trim())&&!dE(a))m(cE(a),s);else if(Y.isObject(a)&&Y.isIterable(a)){let h={},y,p;for(const v of a){if(!Y.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(y=h[p])?Y.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}m(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ri(a),a){const l=Y.findKey(this,a);if(l){const o=this[l];if(!s)return o;if(s===!0)return uE(o);if(Y.isFunction(s))return s.call(this,o,l);if(Y.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ri(a),a){const l=Y.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||Af(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let o=!1;function d(m){if(m=Ri(m),m){const h=Y.findKey(l,m);h&&(!s||Af(l,l[h],h,s))&&(delete l[h],o=!0)}}return Y.isArray(a)?a.forEach(d):d(a),o}clear(a){const s=Object.keys(this);let l=s.length,o=!1;for(;l--;){const d=s[l];(!a||Af(this,this[d],d,a,!0))&&(delete this[d],o=!0)}return o}normalize(a){const s=this,l={};return Y.forEach(this,(o,d)=>{const m=Y.findKey(l,d);if(m){s[m]=wc(o),delete s[d];return}const h=a?fE(d):String(d).trim();h!==d&&delete s[d],s[h]=wc(o),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return Y.forEach(this,(l,o)=>{l!=null&&l!==!1&&(s[o]=a&&Y.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(o=>l.set(o)),l}static accessor(a){const l=(this[yv]=this[yv]={accessors:{}}).accessors,o=this.prototype;function d(m){const h=Ri(m);l[h]||(mE(o,m),l[h]=!0)}return Y.isArray(a)?a.forEach(d):d(a),this}};ea.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(ea.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});Y.freezeMethods(ea);function Of(e,a){const s=this||Ki,l=a||s,o=ea.from(l.headers);let d=l.data;return Y.forEach(e,function(h){d=h.call(s,d,o.normalize(),a?a.status:void 0)}),o.normalize(),d}function p0(e){return!!(e&&e.__CANCEL__)}function Rl(e,a,s){nt.call(this,e??"canceled",nt.ERR_CANCELED,a,s),this.name="CanceledError"}Y.inherits(Rl,nt,{__CANCEL__:!0});function g0(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new nt("Request failed with status code "+s.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function hE(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function pE(e,a){e=e||10;const s=new Array(e),l=new Array(e);let o=0,d=0,m;return a=a!==void 0?a:1e3,function(y){const p=Date.now(),v=l[d];m||(m=p),s[o]=y,l[o]=p;let x=d,_=0;for(;x!==o;)_+=s[x++],x=x%e;if(o=(o+1)%e,o===d&&(d=(d+1)%e),p-m<a)return;const U=v&&p-v;return U?Math.round(_*1e3/U):void 0}}function gE(e,a){let s=0,l=1e3/a,o,d;const m=(p,v=Date.now())=>{s=v,o=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),x=v-s;x>=l?m(p,v):(o=p,d||(d=setTimeout(()=>{d=null,m(o)},l-x)))},()=>o&&m(o)]}const Tc=(e,a,s=3)=>{let l=0;const o=pE(50,250);return gE(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,y=m-l,p=o(y),v=m<=h;l=m;const x={loaded:m,total:h,progress:h?m/h:void 0,bytes:y,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},vv=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},bv=e=>(...a)=>Y.asap(()=>e(...a)),yE=Dn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,Dn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(Dn.origin),Dn.navigator&&/(msie|trident)/i.test(Dn.navigator.userAgent)):()=>!0,vE=Dn.hasStandardBrowserEnv?{write(e,a,s,l,o,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];Y.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),Y.isString(l)&&h.push(`path=${l}`),Y.isString(o)&&h.push(`domain=${o}`),d===!0&&h.push("secure"),Y.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function bE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xE(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function y0(e,a,s){let l=!bE(a);return e&&(l||s==!1)?xE(e,a):a}const xv=e=>e instanceof ea?{...e}:e;function Nr(e,a){a=a||{};const s={};function l(p,v,x,_){return Y.isPlainObject(p)&&Y.isPlainObject(v)?Y.merge.call({caseless:_},p,v):Y.isPlainObject(v)?Y.merge({},v):Y.isArray(v)?v.slice():v}function o(p,v,x,_){if(Y.isUndefined(v)){if(!Y.isUndefined(p))return l(void 0,p,x,_)}else return l(p,v,x,_)}function d(p,v){if(!Y.isUndefined(v))return l(void 0,v)}function m(p,v){if(Y.isUndefined(v)){if(!Y.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,x){if(x in a)return l(p,v);if(x in e)return l(void 0,p)}const y={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,x)=>o(xv(p),xv(v),x,!0)};return Y.forEach(Object.keys({...e,...a}),function(v){const x=y[v]||o,_=x(e[v],a[v],v);Y.isUndefined(_)&&x!==h||(s[v]=_)}),s}const v0=e=>{const a=Nr({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:o,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=ea.from(m),a.url=f0(y0(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Y.isFormData(s)){if(Dn.hasStandardBrowserEnv||Dn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(Y.isFunction(s.getHeaders)){const y=s.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,x])=>{p.includes(v.toLowerCase())&&m.set(v,x)})}}if(Dn.hasStandardBrowserEnv&&(l&&Y.isFunction(l)&&(l=l(a)),l||l!==!1&&yE(a.url))){const y=o&&d&&vE.read(d);y&&m.set(o,y)}return a},SE=typeof XMLHttpRequest<"u",_E=SE&&function(e){return new Promise(function(s,l){const o=v0(e);let d=o.data;const m=ea.from(o.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:p}=o,v,x,_,U,E;function O(){U&&U(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function k(){if(!N)return;const P=ea.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),C={data:!h||h==="text"||h==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:P,config:e,request:N};g0(function(q){s(q),O()},function(q){l(q),O()},C),N=null}"onloadend"in N?N.onloadend=k:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(k)},N.onabort=function(){N&&(l(new nt("Request aborted",nt.ECONNABORTED,e,N)),N=null)},N.onerror=function(R){const C=R&&R.message?R.message:"Network Error",X=new nt(C,nt.ERR_NETWORK,e,N);X.event=R||null,l(X),N=null},N.ontimeout=function(){let R=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const C=o.transitional||m0;o.timeoutErrorMessage&&(R=o.timeoutErrorMessage),l(new nt(R,C.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,e,N)),N=null},d===void 0&&m.setContentType(null),"setRequestHeader"in N&&Y.forEach(m.toJSON(),function(R,C){N.setRequestHeader(C,R)}),Y.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),h&&h!=="json"&&(N.responseType=o.responseType),p&&([_,E]=Tc(p,!0),N.addEventListener("progress",_)),y&&N.upload&&([x,U]=Tc(y),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",U)),(o.cancelToken||o.signal)&&(v=P=>{N&&(l(!P||P.type?new Rl(null,e,N):P),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const D=hE(o.url);if(D&&Dn.protocols.indexOf(D)===-1){l(new nt("Unsupported protocol "+D+":",nt.ERR_BAD_REQUEST,e));return}N.send(d||null)})},wE=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,o;const d=function(p){if(!o){o=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof nt?v:new Rl(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new nt(`timeout ${a} of ms exceeded`,nt.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:y}=l;return y.unsubscribe=()=>Y.asap(h),y}},NE=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,o;for(;l<s;)o=l+a,yield e.slice(l,o),l=o},EE=async function*(e,a){for await(const s of jE(e))yield*NE(s,a)},jE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},Sv=(e,a,s,l)=>{const o=EE(e,a);let d=0,m,h=y=>{m||(m=!0,l&&l(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await o.next();if(p){h(),y.close();return}let x=v.byteLength;if(s){let _=d+=x;s(_)}y.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(y){return h(y),o.return()}},{highWaterMark:2})},_v=64*1024,{isFunction:hc}=Y,AE=(({Request:e,Response:a})=>({Request:e,Response:a}))(Y.global),{ReadableStream:wv,TextEncoder:Nv}=Y.global,Ev=(e,...a)=>{try{return!!e(...a)}catch{return!1}},OE=e=>{e=Y.merge.call({skipUndefined:!0},AE,e);const{fetch:a,Request:s,Response:l}=e,o=a?hc(a):typeof fetch=="function",d=hc(s),m=hc(l);if(!o)return!1;const h=o&&hc(wv),y=o&&(typeof Nv=="function"?(E=>O=>E.encode(O))(new Nv):async E=>new Uint8Array(await new s(E).arrayBuffer())),p=d&&h&&Ev(()=>{let E=!1;const O=new s(Dn.origin,{body:new wv,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!O}),v=m&&h&&Ev(()=>Y.isReadableStream(new l("").body)),x={stream:v&&(E=>E.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!x[E]&&(x[E]=(O,N)=>{let k=O&&O[E];if(k)return k.call(O);throw new nt(`Response type '${E}' is not supported`,nt.ERR_NOT_SUPPORT,N)})});const _=async E=>{if(E==null)return 0;if(Y.isBlob(E))return E.size;if(Y.isSpecCompliantForm(E))return(await new s(Dn.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(E)||Y.isArrayBuffer(E))return E.byteLength;if(Y.isURLSearchParams(E)&&(E=E+""),Y.isString(E))return(await y(E)).byteLength},U=async(E,O)=>{const N=Y.toFiniteNumber(E.getContentLength());return N??_(O)};return async E=>{let{url:O,method:N,data:k,signal:D,cancelToken:P,timeout:R,onDownloadProgress:C,onUploadProgress:X,responseType:q,headers:J,withCredentials:oe="same-origin",fetchOptions:we}=v0(E),Se=a||fetch;q=q?(q+"").toLowerCase():"text";let de=wE([D,P&&P.toAbortSignal()],R),me=null;const Ae=de&&de.unsubscribe&&(()=>{de.unsubscribe()});let Ee;try{if(X&&p&&N!=="get"&&N!=="head"&&(Ee=await U(J,k))!==0){let j=new s(O,{method:"POST",body:k,duplex:"half"}),Q;if(Y.isFormData(k)&&(Q=j.headers.get("content-type"))&&J.setContentType(Q),j.body){const[ce,xe]=vv(Ee,Tc(bv(X)));k=Sv(j.body,_v,ce,xe)}}Y.isString(oe)||(oe=oe?"include":"omit");const B=d&&"credentials"in s.prototype,se={...we,signal:de,method:N.toUpperCase(),headers:J.normalize().toJSON(),body:k,duplex:"half",credentials:B?oe:void 0};me=d&&new s(O,se);let ae=await(d?Se(me,we):Se(O,se));const Ce=v&&(q==="stream"||q==="response");if(v&&(C||Ce&&Ae)){const j={};["status","statusText","headers"].forEach(De=>{j[De]=ae[De]});const Q=Y.toFiniteNumber(ae.headers.get("content-length")),[ce,xe]=C&&vv(Q,Tc(bv(C),!0))||[];ae=new l(Sv(ae.body,_v,ce,()=>{xe&&xe(),Ae&&Ae()}),j)}q=q||"text";let Oe=await x[Y.findKey(x,q)||"text"](ae,E);return!Ce&&Ae&&Ae(),await new Promise((j,Q)=>{g0(j,Q,{data:Oe,headers:ea.from(ae.headers),status:ae.status,statusText:ae.statusText,config:E,request:me})})}catch(B){throw Ae&&Ae(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,E,me),{cause:B.cause||B}):nt.from(B,B&&B.code,E,me)}}},CE=new Map,b0=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:o}=a,d=[l,o,s];let m=d.length,h=m,y,p,v=CE;for(;h--;)y=d[h],p=v.get(y),p===void 0&&v.set(y,p=h?new Map:OE(a)),v=p;return p};b0();const Hm={http:G1,xhr:_E,fetch:{get:b0}};Y.forEach(Hm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const jv=e=>`- ${e}`,RE=e=>Y.isFunction(e)||e===null||e===!1;function TE(e,a){e=Y.isArray(e)?e:[e];const{length:s}=e;let l,o;const d={};for(let m=0;m<s;m++){l=e[m];let h;if(o=l,!RE(l)&&(o=Hm[(h=String(l)).toLowerCase()],o===void 0))throw new nt(`Unknown adapter '${h}'`);if(o&&(Y.isFunction(o)||(o=o.get(a))))break;d[h||"#"+m]=o}if(!o){const m=Object.entries(d).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?m.length>1?`since :
`+m.map(jv).join(`
`):" "+jv(m[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return o}const x0={getAdapter:TE,adapters:Hm};function Cf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rl(null,e)}function Av(e){return Cf(e),e.headers=ea.from(e.headers),e.data=Of.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),x0.getAdapter(e.adapter||Ki.adapter,e)(e).then(function(l){return Cf(e),l.data=Of.call(e,e.transformResponse,l),l.headers=ea.from(l.headers),l},function(l){return p0(l)||(Cf(e),l&&l.response&&(l.response.data=Of.call(e,e.transformResponse,l.response),l.response.headers=ea.from(l.response.headers))),Promise.reject(l)})}const S0="1.13.2",Kc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Kc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Ov={};Kc.transitional=function(a,s,l){function o(d,m){return"[Axios v"+S0+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new nt(o(m," has been removed"+(s?" in "+s:"")),nt.ERR_DEPRECATED);return s&&!Ov[m]&&(Ov[m]=!0,console.warn(o(m," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,m,h):!0}};Kc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function DE(e,a,s){if(typeof e!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let o=l.length;for(;o-- >0;){const d=l[o],m=a[d];if(m){const h=e[d],y=h===void 0||m(h,d,e);if(y!==!0)throw new nt("option "+d+" must be "+y,nt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new nt("Unknown option "+d,nt.ERR_BAD_OPTION)}}const Nc={assertOptions:DE,validators:Kc},Za=Nc.validators;let xr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new gv,response:new gv}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=Nr(this.defaults,s);const{transitional:l,paramsSerializer:o,headers:d}=s;l!==void 0&&Nc.assertOptions(l,{silentJSONParsing:Za.transitional(Za.boolean),forcedJSONParsing:Za.transitional(Za.boolean),clarifyTimeoutError:Za.transitional(Za.boolean)},!1),o!=null&&(Y.isFunction(o)?s.paramsSerializer={serialize:o}:Nc.assertOptions(o,{encode:Za.function,serialize:Za.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Nc.assertOptions(s,{baseUrl:Za.spelling("baseURL"),withXsrfToken:Za.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=d&&Y.merge(d.common,d[s.method]);d&&Y.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),s.headers=ea.concat(m,d);const h=[];let y=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(s)===!1||(y=y&&O.synchronous,h.unshift(O.fulfilled,O.rejected))});const p=[];this.interceptors.response.forEach(function(O){p.push(O.fulfilled,O.rejected)});let v,x=0,_;if(!y){const E=[Av.bind(this),void 0];for(E.unshift(...h),E.push(...p),_=E.length,v=Promise.resolve(s);x<_;)v=v.then(E[x++],E[x++]);return v}_=h.length;let U=s;for(;x<_;){const E=h[x++],O=h[x++];try{U=E(U)}catch(N){O.call(this,N);break}}try{v=Av.call(this,U)}catch(E){return Promise.reject(E)}for(x=0,_=p.length;x<_;)v=v.then(p[x++],p[x++]);return v}getUri(a){a=Nr(this.defaults,a);const s=y0(a.baseURL,a.url,a.allowAbsoluteUrls);return f0(s,a.params,a.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(a){xr.prototype[a]=function(s,l){return this.request(Nr(l||{},{method:a,url:s,data:(l||{}).data}))}});Y.forEach(["post","put","patch"],function(a){function s(l){return function(d,m,h){return this.request(Nr(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}xr.prototype[a]=s(),xr.prototype[a+"Form"]=s(!0)});let zE=class _0{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(o=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](o);l._listeners=null}),this.promise.then=o=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(o);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new Rl(d,m,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new _0(function(o){a=o}),cancel:a}}};function ME(e){return function(s){return e.apply(null,s)}}function kE(e){return Y.isObject(e)&&e.isAxiosError===!0}const um={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(um).forEach(([e,a])=>{um[a]=e});function w0(e){const a=new xr(e),s=e0(xr.prototype.request,a);return Y.extend(s,xr.prototype,a,{allOwnKeys:!0}),Y.extend(s,a,null,{allOwnKeys:!0}),s.create=function(o){return w0(Nr(e,o))},s}const ft=w0(Ki);ft.Axios=xr;ft.CanceledError=Rl;ft.CancelToken=zE;ft.isCancel=p0;ft.VERSION=S0;ft.toFormData=Yc;ft.AxiosError=nt;ft.Cancel=ft.CanceledError;ft.all=function(a){return Promise.all(a)};ft.spread=ME;ft.isAxiosError=kE;ft.mergeConfig=Nr;ft.AxiosHeaders=ea;ft.formToJSON=e=>h0(Y.isHTMLForm(e)?new FormData(e):e);ft.getAdapter=x0.getAdapter;ft.HttpStatusCode=um;ft.default=ft;const{Axios:d2,AxiosError:f2,CanceledError:m2,isCancel:h2,CancelToken:p2,VERSION:g2,all:y2,Cancel:v2,isAxiosError:b2,spread:x2,toFormData:S2,AxiosHeaders:_2,HttpStatusCode:w2,formToJSON:N2,getAdapter:E2,mergeConfig:j2}=ft,UE="medileser:draft:v1",Dc="medileser:recovery:v1",zc="medileser:recovery:intent",qE="vi.auth",BE="vi_auth",LE="medileser.selectedBank",IE=1440*60*1e3,Vm=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>IE},Rf=e=>{const{userId:a,bankId:s,oiId:l,type:o,bancadaId:d,isNew:m}=e;if(!a||s==null)return null;const h=l!=null?String(l):"new",y=`${UE}:u${a}:b${s}:oi:${h}`;if(o==="header")return`${y}:header`;const p=m?"new":d;return p==null?null:`${y}:bancada:${p}`},zi=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&N0(s)},Tf=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:Vm(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Hs=e=>{try{localStorage.removeItem(e)}catch{}},N0=e=>{try{localStorage.setItem(Dc,JSON.stringify(e))}catch{}},E0=()=>{try{const e=localStorage.getItem(Dc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Vm(a.ts)?(localStorage.removeItem(Dc),null):a}catch{return null}},$E=()=>{try{localStorage.removeItem(Dc)}catch{}},FE=e=>{const a=e.userId??null,s=e.bankId??null,l=e.oiId??null;if(!a||s==null||!l)return;const o=E0(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:l,oiCode:e.oiCode??o?.oiCode??null,returnTo:e.returnTo??o?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??o?.modal};N0(d)},HE=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(zc,JSON.stringify(a))}catch{}},VE=()=>{try{const e=sessionStorage.getItem(zc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Vm(a.ts)?(sessionStorage.removeItem(zc),null):a}catch{return null}},Df=()=>{try{sessionStorage.removeItem(zc)}catch{}},ZE=()=>{try{const e=localStorage.getItem(qE)??localStorage.getItem(BE);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},GE=()=>{try{const e=localStorage.getItem(LE);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},dm=(e,a)=>{const s=E0();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const l=s.returnTo||`/oi/${s.oiId}?mode=edit`,o=l==="/oi"||l==="/oi/"?`/oi/${s.oiId}?mode=edit`:l;return HE(s),{target:o,recovery:s}},Cv="http://127.0.0.1:8000",Tl="openOiId",Pc="vi.currentOI",j0="vi.auth",A0="vi_auth",QE="medileser.selectedBank",YE="medileser:selectedBank",fm="medileser.pendingToast",Pi="medileser.pendingAction",KE="medileser:auth-expired",mm="medileser.sessionUserId",hm="medileser.sessionBankId",O0=()=>typeof window<"u"?window.location.port==="5173"?Cv:window.location.origin:Cv,Qe=ft.create({baseURL:O0()}),C0=ft.create({baseURL:O0()}),R0=e=>{try{const a=localStorage.getItem(j0)??localStorage.getItem(A0);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Qe.interceptors.request.use(R0);C0.interceptors.request.use(R0);function PE(){try{const e=sessionStorage.getItem(Tl);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const T0=()=>{try{const e=sessionStorage.getItem(Pc);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function XE(e){try{sessionStorage.setItem(Tl,String(e))}catch{}}function D0(){try{sessionStorage.removeItem(Tl)}catch{}}async function Xi(){const e=PE();if(e)try{await C0.post(`/oi/${e}/close`)}catch{}finally{D0()}}function JE(e){try{sessionStorage.setItem(fm,e)}catch{}}function WE(){try{const e=sessionStorage.getItem(fm);return e?(sessionStorage.removeItem(fm),e):null}catch{return null}}function ej(e){try{sessionStorage.setItem(Pi,JSON.stringify(e))}catch{}}function tj(){try{const e=sessionStorage.getItem(Pi);return e?JSON.parse(e):null}catch{return null}}function Ti(){try{sessionStorage.removeItem(Pi)}catch{}}function z0(){try{const e=sessionStorage.getItem(mm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Rv(e){try{e==null?sessionStorage.removeItem(mm):sessionStorage.setItem(mm,String(e))}catch{}}function M0(){try{const e=sessionStorage.getItem(hm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Mc(e){try{e==null?sessionStorage.removeItem(hm):sessionStorage.setItem(hm,String(e))}catch{}}function k0(e){const a=z0();if(e==null)return!1;if(a===null||a===e)return Rv(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const o=sessionStorage.key(l);o&&(o.startsWith("oi:")||o===Tl||o===Pc||o===Pi)&&s.push(o)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Rv(e),Mc(null),!0}function nj(e){const a=M0();if(e==null)return!1;if(a===null||a===e)return Mc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const o=sessionStorage.key(l);o&&(o.startsWith("oi:")||o===Tl||o===Pc||o===Pi)&&s.push(o)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Mc(e),!0}function aj(){try{localStorage.removeItem(j0),localStorage.removeItem(A0),localStorage.removeItem(QE)}catch{}finally{try{window.dispatchEvent(new Event(YE))}catch{}}try{sessionStorage.removeItem(Pc),sessionStorage.removeItem(Tl)}catch{}}let Tv=!1;async function U0(e){if(!Tv){Tv=!0;try{await Xi()}finally{aj();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(JE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const Ec=e=>{const a=e?.response?.status;if(a===401||a===403)return!0;const s=e?.response?.data?.detail;return!!(typeof s=="string"&&/token requerido/i.test(s))},zf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},sj=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:zf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:zf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:zf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},rj=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location,o=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&o.set("mode","edit");const m=o.toString(),h=p=>`${p}${m?`?${m}`:""}${l??""}`;let y=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??T0();p&&(y=h(`/oi/${p}`))}return y},lj=(e,a,s,l,o)=>{try{window.dispatchEvent(new CustomEvent(KE,{detail:{status:a,detail:e,url:s,method:l,pending:o}}))}catch{}};Qe.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,o=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&Ec(e)){const m=sj(e);m&&ej(m),lj(l,a,s,o,m);const h=rj(m),y=ZE(),p=y.bankId??GE(),v=m?.oiId??T0();if(y.userId&&p!=null&&v){const x=m?.type==="save_bancada"?{type:"bancada",bancadaId:m.bancadaId??null,isNew:m.bancadaId==null}:void 0;FE({userId:y.userId,bankId:p,oiId:v,returnTo:h,modal:x})}await U0({returnTo:h,pending:!!m})}return Promise.reject(e)});const Zm=async()=>{const{data:e}=await Qe.get("/catalogs");return e},Xc="medileser.selectedBank",kc="medileser:selectedBank";function Qa(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function Sl(e){return Qa(e)==="technician"}function Gm(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function Bi(){try{const e=localStorage.getItem(Xc);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function q0(e){try{localStorage.setItem(Xc,String(e))}finally{window.dispatchEvent(new Event(kc))}}function B0(){try{localStorage.removeItem(Xc)}finally{window.dispatchEvent(new Event(kc))}}function ij(e){const a=()=>e(),s=l=>{l.key===Xc&&e()};return window.addEventListener(kc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(kc,a),window.removeEventListener("storage",s)}}async function oj(e,a){try{await Qe.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function cj(e){try{await Xi();const{data:a}=await Qe.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),k0(a.userId??null),!Sl(a.role)&&a.bancoId!=null&&Mc(a.bancoId),Sl(a.role)?B0():q0(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,o=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(o)}}function zn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,o={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Qa(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules:void 0};return o.username&&o.token?o:null}catch{return null}}async function L0(e){await Xi();const{data:a}=await Qe.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),k0(a.userId??null),nj(e),q0(e),a}function I0(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),B0();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function uj(){await Xi(),I0()}function Li({label:e,inputId:a,className:s="",inputRef:l,helpText:o,...d}){const[m,h]=b.useState(!1),y=a||d.name||void 0,{ref:p,...v}=d,x=l??p;return c.jsxs("div",{className:s,children:[e&&c.jsx("label",{className:"form-label",htmlFor:y,children:e}),c.jsxs("div",{className:"input-group",children:[c.jsx("input",{...v,id:y,type:m?"text":"password",className:"form-control",ref:x}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(_=>!_),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:c.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),o&&c.jsx("div",{className:"form-text",children:o})]})}function Dl({show:e=!0,label:a="Cargando..."}){return e?c.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[c.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),c.jsx("span",{className:"visually-hidden",children:a})]}):null}const $0=b.createContext(null);function dj(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function fj({children:e}){const[a,s]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:y=3500,...p}=d,v={id:m,kind:h,duration:y,...p};s(x=>[...x,v]),window.setTimeout(()=>{s(x=>x.filter(_=>_.id!==m))},y)},[]),o=d=>s(m=>m.filter(h=>h.id!==d));return c.jsxs($0.Provider,{value:{push:l},children:[e,c.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>c.jsx("div",{className:`toast show align-items-center text-bg-${dj(d.kind)} border-0 mb-2`,role:"alert",children:c.jsxs("div",{className:"d-flex",children:[c.jsxs("div",{className:"toast-body",children:[d.title&&c.jsx("strong",{className:"me-2",children:d.title}),d.message]}),c.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>o(d.id)})]})},d.id))})]})}function Or(){const e=b.useContext($0);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function mj(){const{register:e,handleSubmit:a}=Vc({defaultValues:{username:"",password:""}}),{toast:s}=Or(),l=new URLSearchParams(window.location.search),o=l.get("returnTo")??"",d=o.startsWith("/")?o:"/home",m=l.get("pending")==="1",[h,y]=b.useState(!1),p=b.useRef(d),[v,x]=b.useState(!1),[_,U]=b.useState(0),[E,O]=b.useState(!1),{data:N,isLoading:k,error:D,refetch:P}=wr({queryKey:["catalogs"],queryFn:Zm,enabled:v}),R=N?.bancos??[];b.useEffect(()=>{const oe=WE();oe&&s({kind:"error",message:oe})},[s]),b.useEffect(()=>{v&&(_>0||R.length>0&&U(R[0].id))},[_,R,v]);const C=async oe=>{try{y(!0);const we=z0(),Se=await cj(oe),de=we!=null&&Se.userId&&we!==Se.userId,me=dm(Se.userId,Se.bancoId??0);if(me.target?p.current=me.target:m||de?p.current="/home":p.current=d,Sl(Se.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(we){const Se=we?.message??we?.response?.data?.detail??(typeof we=="string"?we:"Error de autenticacin");s({kind:"error",title:"Login",message:String(Se)})}finally{y(!1)}},X=_>0&&!E&&!k,q=async()=>{if(X)try{O(!0);const oe=M0(),we=oe!=null&&oe!==_,Se=await L0(_),de=dm(Se.userId,Se.bancoId??_);de.target?p.current=de.target:(m||we)&&(p.current="/home"),window.location.replace(p.current)}catch(oe){const we=oe?.response?.data?.detail??oe?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(we)})}finally{O(!1)}},J=()=>{I0(),x(!1),U(0)};return c.jsxs("div",{className:"vi-login",children:[c.jsx(Dl,{show:h||E,label:E?"Guardando banco...":"Validando credenciales..."}),c.jsxs("div",{className:"vi-login__split",children:[c.jsx("section",{className:"vi-login__left",children:c.jsx("div",{className:"text-center text-md-start",children:c.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),c.jsx("section",{className:"vi-login__right",children:c.jsx("div",{className:"card shadow-sm vi-login__card",children:c.jsxs("div",{className:"card-body p-4 p-md-5",children:[c.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),c.jsxs("form",{onSubmit:a(C),className:"row g-3",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),c.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),c.jsx("div",{className:"col-md-6",children:c.jsx(Li,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),c.jsx("div",{className:"col-12 d-grid",children:c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||v,"aria-busy":h?"true":"false",children:h?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),v&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),c.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),c.jsx("select",{id:"bankId",className:"form-select",value:_||"",onChange:oe=>U(Number(oe.target.value)),disabled:k||E,children:R.map(oe=>c.jsx("option",{value:oe.id,children:oe.name},oe.id))}),D?c.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>P(),children:"Reintentar"})]}):null]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:J,disabled:E,children:"Cancelar"}),c.jsx("button",{type:"button",className:"btn btn-primary",disabled:!X,onClick:q,children:E?"Guardando...":"Continuar"})]})]})})})]})}const Dv=(e,a,s)=>{if(e&&"reportValidity"in e){const l=ze(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},pm=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?Dv(l.ref,s,e):l&&l.refs&&l.refs.forEach(o=>Dv(o,s,e))}},zv=(e,a)=>{a.shouldUseNativeValidation&&pm(e,a);const s={};for(const l in e){const o=ze(a.fields,l),d=Object.assign(e[l]||{},{ref:o&&o.ref});if(hj(a.names||Object.keys(e),l)){const m=Object.assign({},ze(s,l));Nt(m,"root",d),Nt(s,l,m)}else Nt(s,l,d)}return s},hj=(e,a)=>{const s=Mv(a);return e.some(l=>Mv(l).match(`^${s}\\.\\d+`))};function Mv(e){return e.replace(/\]|\[/g,"")}function fe(e,a,s){function l(h,y){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,y);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=y}const o=s?.Parent??Object;class d extends o{}Object.defineProperty(d,"name",{value:e});function m(h){var y;const p=s?.Parent?new d:this;l(p,h),(y=p._zod).deferred??(y.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class yl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class F0 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const H0={};function Er(e){return H0}function pj(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,o])=>a.indexOf(+l)===-1).map(([l,o])=>o)}function gm(e,a){return typeof a=="bigint"?a.toString():a}function Qm(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Ym(e){return e==null}function Km(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function gj(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let o=(l.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(l)){const y=l.match(/\d?e-(\d?)/);y?.[1]&&(o=Number.parseInt(y[1]))}const d=s>o?s:o,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const kv=Symbol("evaluating");function Mt(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==kv)return l===void 0&&(l=kv,l=s()),l},set(o){Object.defineProperty(e,a,{value:o})},configurable:!0})}function Cr(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Rr(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function Uv(e){return JSON.stringify(e)}const V0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Uc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const yj=Qm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ii(e){if(Uc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(Uc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function Z0(e){return Ii(e)?{...e}:Array.isArray(e)?[...e]:e}const vj=new Set(["string","number","symbol"]);function Jc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gs(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function He(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function bj(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const xj={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Sj(e,a){const s=e._zod.def,l=Rr(e._zod.def,{get shape(){const o={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(o[d]=s.shape[d])}return Cr(this,"shape",o),o},checks:[]});return Gs(e,l)}function _j(e,a){const s=e._zod.def,l=Rr(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete o[d]}return Cr(this,"shape",o),o},checks:[]});return Gs(e,l)}function wj(e,a){if(!Ii(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Rr(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Cr(this,"shape",d),d},checks:[]});return Gs(e,o)}function Nj(e,a){if(!Ii(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Cr(this,"shape",l),l},checks:e._zod.def.checks};return Gs(e,s)}function Ej(e,a){const s=Rr(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Cr(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Gs(e,s)}function jj(e,a,s){const l=Rr(a._zod.def,{get shape(){const o=a._zod.def.shape,d={...o};if(s)for(const m in s){if(!(m in o))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=e?new e({type:"optional",innerType:o[m]}):o[m])}else for(const m in o)d[m]=e?new e({type:"optional",innerType:o[m]}):o[m];return Cr(this,"shape",d),d},checks:[]});return Gs(a,l)}function Aj(e,a,s){const l=Rr(a._zod.def,{get shape(){const o=a._zod.def.shape,d={...o};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=new e({type:"nonoptional",innerType:o[m]}))}else for(const m in o)d[m]=new e({type:"nonoptional",innerType:o[m]});return Cr(this,"shape",d),d},checks:[]});return Gs(a,l)}function pl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function G0(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function pc(e){return typeof e=="string"?e:e?.message}function jr(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const o=pc(e.inst?._zod.def?.error?.(e))??pc(a?.error?.(e))??pc(s.customError?.(e))??pc(s.localeError?.(e))??"Invalid input";l.message=o}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function Pm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function $i(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const Q0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,gm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Xm=fe("$ZodError",Q0),Wc=fe("$ZodError",Q0,{Parent:Error});function Oj(e,a=s=>s.message){const s={},l=[];for(const o of e.issues)o.path.length>0?(s[o.path[0]]=s[o.path[0]]||[],s[o.path[0]].push(a(o))):l.push(a(o));return{formErrors:l,fieldErrors:s}}function Cj(e,a=s=>s.message){const s={_errors:[]},l=o=>{for(const d of o.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let m=s,h=0;for(;h<d.path.length;){const y=d.path[h];h===d.path.length-1?(m[y]=m[y]||{_errors:[]},m[y]._errors.push(a(d))):m[y]=m[y]||{_errors:[]},m=m[y],h++}}};return l(e),s}const eu=e=>(a,s,l,o)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise)throw new yl;if(m.issues.length){const h=new(o?.Err??e)(m.issues.map(y=>jr(y,d,Er())));throw V0(h,o?.callee),h}return m.value},Rj=eu(Wc),tu=e=>async(a,s,l,o)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(o?.Err??e)(m.issues.map(y=>jr(y,d,Er())));throw V0(h,o?.callee),h}return m.value},Tj=tu(Wc),nu=e=>(a,s,l)=>{const o=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},o);if(d instanceof Promise)throw new yl;return d.issues.length?{success:!1,error:new(e??Xm)(d.issues.map(m=>jr(m,o,Er())))}:{success:!0,data:d.value}},Dj=nu(Wc),au=e=>async(a,s,l)=>{const o=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},o);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>jr(m,o,Er())))}:{success:!0,data:d.value}},zj=au(Wc),Mj=e=>(a,s,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return eu(e)(a,s,o)},kj=e=>(a,s,l)=>eu(e)(a,s,l),Uj=e=>async(a,s,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return tu(e)(a,s,o)},qj=e=>async(a,s,l)=>tu(e)(a,s,l),Bj=e=>(a,s,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return nu(e)(a,s,o)},Lj=e=>(a,s,l)=>nu(e)(a,s,l),Ij=e=>async(a,s,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return au(e)(a,s,o)},$j=e=>async(a,s,l)=>au(e)(a,s,l),Fj=/^[cC][^\s-]{8,}$/,Hj=/^[0-9a-z]+$/,Vj=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Zj=/^[0-9a-vA-V]{20}$/,Gj=/^[A-Za-z0-9]{27}$/,Qj=/^[a-zA-Z0-9_-]{21}$/,Yj=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Kj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,qv=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Pj=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Xj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Jj(){return new RegExp(Xj,"u")}const Wj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,tA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,nA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Y0=/^[A-Za-z0-9_-]*$/,sA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,rA=/^\+(?:[0-9]){6,14}[0-9]$/,K0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",lA=new RegExp(`^${K0}$`);function P0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function iA(e){return new RegExp(`^${P0(e)}$`)}function oA(e){const a=P0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${K0}T(?:${l})$`)}const cA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},uA=/^-?\d+$/,dA=/^-?\d+(?:\.\d+)?/,fA=/^[^A-Z]*$/,mA=/^[^a-z]*$/,ta=fe("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),X0={number:"number",bigint:"bigint",object:"date"},J0=fe("$ZodCheckLessThan",(e,a)=>{ta.init(e,a);const s=X0[typeof a.value];e._zod.onattach.push(l=>{const o=l._zod.bag,d=(a.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?o.maximum=a.value:o.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),W0=fe("$ZodCheckGreaterThan",(e,a)=>{ta.init(e,a);const s=X0[typeof a.value];e._zod.onattach.push(l=>{const o=l._zod.bag,d=(a.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?o.minimum=a.value:o.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),hA=fe("$ZodCheckMultipleOf",(e,a)=>{ta.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):gj(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),pA=fe("$ZodCheckNumberFormat",(e,a)=>{ta.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[o,d]=xj[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=o,h.maximum=d,s&&(h.pattern=uA)}),e._zod.check=m=>{const h=m.value;if(s){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<o&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),gA=fe("$ZodCheckMaxLength",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const o=l.value;return!Ym(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<o&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const o=l.value;if(o.length<=a.maximum)return;const m=Pm(o);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:o,inst:e,continue:!a.abort})}}),yA=fe("$ZodCheckMinLength",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const o=l.value;return!Ym(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>o&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const o=l.value;if(o.length>=a.minimum)return;const m=Pm(o);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:o,inst:e,continue:!a.abort})}}),vA=fe("$ZodCheckLengthEquals",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const o=l.value;return!Ym(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag;o.minimum=a.length,o.maximum=a.length,o.length=a.length}),e._zod.check=l=>{const o=l.value,d=o.length;if(d===a.length)return;const m=Pm(o),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),su=fe("$ZodCheckStringFormat",(e,a)=>{var s,l;ta.init(e,a),e._zod.onattach.push(o=>{const d=o._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=o=>{a.pattern.lastIndex=0,!a.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:a.format,input:o.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),bA=fe("$ZodCheckRegex",(e,a)=>{su.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),xA=fe("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=fA),su.init(e,a)}),SA=fe("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=mA),su.init(e,a)}),_A=fe("$ZodCheckIncludes",(e,a)=>{ta.init(e,a);const s=Jc(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=o=>{o.value.includes(a.includes,a.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:o.value,inst:e,continue:!a.abort})}}),wA=fe("$ZodCheckStartsWith",(e,a)=>{ta.init(e,a);const s=new RegExp(`^${Jc(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),NA=fe("$ZodCheckEndsWith",(e,a)=>{ta.init(e,a);const s=new RegExp(`.*${Jc(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),EA=fe("$ZodCheckOverwrite",(e,a)=>{ta.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class jA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),o=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(o)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,s=this?.args,o=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,o.join(`
`))}}const AA={major:4,minor:1,patch:12},cn=fe("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=AA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const o of l)for(const d of o._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(m,h,y)=>{let p=pl(m),v;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(m))continue}else if(p)continue;const _=m.issues.length,U=x._zod.check(m);if(U instanceof Promise&&y?.async===!1)throw new yl;if(v||U instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await U,m.issues.length!==_&&(p||(p=pl(m,_)))});else{if(m.issues.length===_)continue;p||(p=pl(m,_))}}return v?v.then(()=>m):m},d=(m,h,y)=>{if(pl(m))return m.aborted=!0,m;const p=o(h,l,y);if(p instanceof Promise){if(y.async===!1)throw new yl;return p.then(v=>e._zod.parse(v,y))}return e._zod.parse(p,y)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const y=e._zod.parse(m,h);if(y instanceof Promise){if(h.async===!1)throw new yl;return y.then(p=>o(p,l,h))}return o(y,l,h)}}e["~standard"]={validate:o=>{try{const d=Dj(e,o);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return zj(e,o).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Jm=fe("$ZodString",(e,a)=>{cn.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??cA(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Ht=fe("$ZodStringFormat",(e,a)=>{su.init(e,a),Jm.init(e,a)}),OA=fe("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=Kj),Ht.init(e,a)}),CA=fe("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=qv(l))}else a.pattern??(a.pattern=qv());Ht.init(e,a)}),RA=fe("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=Pj),Ht.init(e,a)}),TA=fe("$ZodURL",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),o=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(o.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:sA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=o.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),DA=fe("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=Jj()),Ht.init(e,a)}),zA=fe("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=Qj),Ht.init(e,a)}),MA=fe("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=Fj),Ht.init(e,a)}),kA=fe("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=Hj),Ht.init(e,a)}),UA=fe("$ZodULID",(e,a)=>{a.pattern??(a.pattern=Vj),Ht.init(e,a)}),qA=fe("$ZodXID",(e,a)=>{a.pattern??(a.pattern=Zj),Ht.init(e,a)}),BA=fe("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=Gj),Ht.init(e,a)}),LA=fe("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=oA(a)),Ht.init(e,a)}),IA=fe("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=lA),Ht.init(e,a)}),$A=fe("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=iA(a)),Ht.init(e,a)}),FA=fe("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=Yj),Ht.init(e,a)}),HA=fe("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=Wj),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),VA=fe("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=eA),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),ZA=fe("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=tA),Ht.init(e,a)}),GA=fe("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=nA),Ht.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[o,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${o}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function ex(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const QA=fe("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=aA),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{ex(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function YA(e){if(!Y0.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return ex(s)}const KA=fe("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=Y0),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{YA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),PA=fe("$ZodE164",(e,a)=>{a.pattern??(a.pattern=rA),Ht.init(e,a)});function XA(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const o=JSON.parse(atob(l));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||a&&(!("alg"in o)||o.alg!==a))}catch{return!1}}const JA=fe("$ZodJWT",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{XA(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),tx=fe("$ZodNumber",(e,a)=>{cn.init(e,a),e._zod.pattern=e._zod.bag.pattern??dA,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const o=s.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return s;const d=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...d?{received:d}:{}}),s}}),WA=fe("$ZodNumber",(e,a)=>{pA.init(e,a),tx.init(e,a)}),eO=fe("$ZodUnknown",(e,a)=>{cn.init(e,a),e._zod.parse=s=>s}),tO=fe("$ZodNever",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function Bv(e,a,s){e.issues.length&&a.issues.push(...G0(s,e.issues)),a.value[s]=e.value}const nO=fe("$ZodArray",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{const o=s.value;if(!Array.isArray(o))return s.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),s;s.value=Array(o.length);const d=[];for(let m=0;m<o.length;m++){const h=o[m],y=a.element._zod.run({value:h,issues:[]},l);y instanceof Promise?d.push(y.then(p=>Bv(p,s,m))):Bv(y,s,m)}return d.length?Promise.all(d).then(()=>s):s}});function qc(e,a,s,l){e.issues.length&&a.issues.push(...G0(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function nx(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=bj(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function ax(e,a,s,l,o,d){const m=[],h=o.keySet,y=o.catchall._zod,p=y.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const x=y.run({value:a[v],issues:[]},l);x instanceof Promise?e.push(x.then(_=>qc(_,s,v,a))):qc(x,s,v,a)}return m.length&&s.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const aO=fe("$ZodObject",(e,a)=>{if(cn.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const y={...h};return Object.defineProperty(a,"shape",{value:y}),y}})}const l=Qm(()=>nx(a));Mt(e._zod,"propValues",()=>{const h=a.shape,y={};for(const p in h){const v=h[p]._zod;if(v.values){y[p]??(y[p]=new Set);for(const x of v.values)y[p].add(x)}}return y});const o=Uc,d=a.catchall;let m;e._zod.parse=(h,y)=>{m??(m=l.value);const p=h.value;if(!o(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],x=m.shape;for(const _ of m.keys){const E=x[_]._zod.run({value:p[_],issues:[]},y);E instanceof Promise?v.push(E.then(O=>qc(O,h,_,p))):qc(E,h,_,p)}return d?ax(v,p,h,y,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),sO=fe("$ZodObjectJIT",(e,a)=>{aO.init(e,a);const s=e._zod.parse,l=Qm(()=>nx(a)),o=_=>{const U=new jA(["shape","payload","ctx"]),E=l.value,O=P=>{const R=Uv(P);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};U.write("const input = payload.value;");const N=Object.create(null);let k=0;for(const P of E.keys)N[P]=`key_${k++}`;U.write("const newResult = {};");for(const P of E.keys){const R=N[P],C=Uv(P);U.write(`const ${R} = ${O(P)};`),U.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${R}.value;
        }
        
      `)}U.write("payload.value = newResult;"),U.write("return payload;");const D=U.compile();return(P,R)=>D(_,P,R)};let d;const m=Uc,h=!H0.jitless,p=h&&yj.value,v=a.catchall;let x;e._zod.parse=(_,U)=>{x??(x=l.value);const E=_.value;return m(E)?h&&p&&U?.async===!1&&U.jitless!==!0?(d||(d=o(a.shape)),_=d(_,U),v?ax([],E,_,U,x,e):_):s(_,U):(_.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),_)}});function Lv(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const o=e.filter(d=>!pl(d));return o.length===1?(a.value=o[0].value,o[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(m=>jr(m,l,Er())))}),a)}const rO=fe("$ZodUnion",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Mt(e._zod,"optout",()=>a.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Mt(e._zod,"values",()=>{if(a.options.every(o=>o._zod.values))return new Set(a.options.flatMap(o=>Array.from(o._zod.values)))}),Mt(e._zod,"pattern",()=>{if(a.options.every(o=>o._zod.pattern)){const o=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${o.map(d=>Km(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(o,d)=>{if(s)return l(o,d);let m=!1;const h=[];for(const y of a.options){const p=y._zod.run({value:o.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(y=>Lv(y,o,e,d)):Lv(h,o,e,d)}}),lO=fe("$ZodIntersection",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{const o=s.value,d=a.left._zod.run({value:o,issues:[]},l),m=a.right._zod.run({value:o,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([y,p])=>Iv(s,y,p)):Iv(s,d,m)}});function ym(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(Ii(e)&&Ii(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),o={...e,...a};for(const d of l){const m=ym(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};o[d]=m.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const o=e[l],d=a[l],m=ym(o,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};s.push(m.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Iv(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),pl(e))return e;const l=ym(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const iO=fe("$ZodEnum",(e,a)=>{cn.init(e,a);const s=pj(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(o=>vj.has(typeof o)).map(o=>typeof o=="string"?Jc(o):o.toString()).join("|")})$`),e._zod.parse=(o,d)=>{const m=o.value;return l.has(m)||o.issues.push({code:"invalid_value",values:s,input:m,inst:e}),o}}),oO=fe("$ZodTransform",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new F0(e.constructor.name);const o=a.transform(s.value,s);if(l.async)return(o instanceof Promise?o:Promise.resolve(o)).then(m=>(s.value=m,s));if(o instanceof Promise)throw new yl;return s.value=o,s}});function $v(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const cO=fe("$ZodOptional",(e,a)=>{cn.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Km(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(d=>$v(d,s.value)):$v(o,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),uO=fe("$ZodNullable",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Km(s.source)}|null)$`):void 0}),Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),dO=fe("$ZodDefault",(e,a)=>{cn.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(d=>Fv(d,a)):Fv(o,a)}});function Fv(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const fO=fe("$ZodPrefault",(e,a)=>{cn.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),mO=fe("$ZodNonOptional",(e,a)=>{cn.init(e,a),Mt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(d=>Hv(d,e)):Hv(o,e)}});function Hv(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const hO=fe("$ZodCatch",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(m=>jr(m,l,Er()))},input:s.value}),s.issues=[]),s)):(s.value=o.value,o.issues.length&&(s.value=a.catchValue({...s,error:{issues:o.issues.map(d=>jr(d,l,Er()))},input:s.value}),s.issues=[]),s)}}),pO=fe("$ZodPipe",(e,a)=>{cn.init(e,a),Mt(e._zod,"values",()=>a.in._zod.values),Mt(e._zod,"optin",()=>a.in._zod.optin),Mt(e._zod,"optout",()=>a.out._zod.optout),Mt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(m=>gc(m,a.in,l)):gc(d,a.in,l)}const o=a.in._zod.run(s,l);return o instanceof Promise?o.then(d=>gc(d,a.out,l)):gc(o,a.out,l)}});function gc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const gO=fe("$ZodReadonly",(e,a)=>{cn.init(e,a),Mt(e._zod,"propValues",()=>a.innerType._zod.propValues),Mt(e._zod,"values",()=>a.innerType._zod.values),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(Vv):Vv(o)}});function Vv(e){return e.value=Object.freeze(e.value),e}const yO=fe("$ZodCustom",(e,a)=>{ta.init(e,a),cn.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,o=a.fn(l);if(o instanceof Promise)return o.then(d=>Zv(d,s,l,e));Zv(o,s,l,e)}});function Zv(e,a,s,l){if(!e){const o={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(o.params=l._zod.def.params),a.issues.push($i(o))}}class vO{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const o={...l,...this._map.get(a)};return Object.keys(o).length?o:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function bO(){return new vO}const yc=bO();function xO(e,a){return new e({type:"string",...He(a)})}function SO(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...He(a)})}function Gv(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...He(a)})}function _O(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...He(a)})}function wO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...He(a)})}function NO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...He(a)})}function EO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...He(a)})}function jO(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...He(a)})}function AO(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...He(a)})}function OO(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...He(a)})}function CO(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...He(a)})}function RO(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...He(a)})}function TO(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...He(a)})}function DO(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...He(a)})}function zO(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...He(a)})}function MO(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...He(a)})}function kO(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...He(a)})}function UO(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...He(a)})}function qO(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...He(a)})}function BO(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...He(a)})}function LO(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...He(a)})}function IO(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...He(a)})}function $O(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...He(a)})}function FO(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...He(a)})}function HO(e,a){return new e({type:"string",format:"date",check:"string_format",...He(a)})}function VO(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...He(a)})}function ZO(e,a){return new e({type:"string",format:"duration",check:"string_format",...He(a)})}function GO(e,a){return new e({type:"number",checks:[],...He(a)})}function QO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...He(a)})}function YO(e){return new e({type:"unknown"})}function KO(e,a){return new e({type:"never",...He(a)})}function Qv(e,a){return new J0({check:"less_than",...He(a),value:e,inclusive:!1})}function Mf(e,a){return new J0({check:"less_than",...He(a),value:e,inclusive:!0})}function Yv(e,a){return new W0({check:"greater_than",...He(a),value:e,inclusive:!1})}function kf(e,a){return new W0({check:"greater_than",...He(a),value:e,inclusive:!0})}function Kv(e,a){return new hA({check:"multiple_of",...He(a),value:e})}function sx(e,a){return new gA({check:"max_length",...He(a),maximum:e})}function Bc(e,a){return new yA({check:"min_length",...He(a),minimum:e})}function rx(e,a){return new vA({check:"length_equals",...He(a),length:e})}function PO(e,a){return new bA({check:"string_format",format:"regex",...He(a),pattern:e})}function XO(e){return new xA({check:"string_format",format:"lowercase",...He(e)})}function JO(e){return new SA({check:"string_format",format:"uppercase",...He(e)})}function WO(e,a){return new _A({check:"string_format",format:"includes",...He(a),includes:e})}function eC(e,a){return new wA({check:"string_format",format:"starts_with",...He(a),prefix:e})}function tC(e,a){return new NA({check:"string_format",format:"ends_with",...He(a),suffix:e})}function Ji(e){return new EA({check:"overwrite",tx:e})}function nC(e){return Ji(a=>a.normalize(e))}function aC(){return Ji(e=>e.trim())}function sC(){return Ji(e=>e.toLowerCase())}function rC(){return Ji(e=>e.toUpperCase())}function lC(e,a,s){return new e({type:"array",element:a,...He(s)})}function iC(e,a,s){return new e({type:"custom",check:"custom",fn:a,...He(s)})}function oC(e){const a=cC(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push($i(l,s.value,a._zod.def));else{const o=l;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=s.value),o.inst??(o.inst=a),o.continue??(o.continue=!a._zod.def.abort),s.issues.push($i(o))}},e(s.value,s)));return a}function cC(e,a){const s=new ta({check:"custom",...He(a)});return s._zod.check=e,s}function Pv(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function uC(e,a){for(var s={};e.length;){var l=e[0],o=l.code,d=l.message,m=l.path.join(".");if(!s[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:o};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),a){var y=s[m].types,p=y&&y[l.code];s[m]=qm(m,a,s,o,p?[].concat(p,l.message):l.message)}e.shift()}return s}function dC(e,a){for(var s={};e.length;){var l=e[0],o=l.code,d=l.message,m=l.path.join(".");if(!s[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:o};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(x){return e.push(x)})}),a){var y=s[m].types,p=y&&y[l.code];s[m]=qm(m,a,s,o,p?[].concat(p,l.message):l.message)}e.shift()}return s}function fC(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,o,d){try{return Promise.resolve(Pv(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&pm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:zv(uC(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,o,d){try{return Promise.resolve(Pv(function(){return Promise.resolve((s.mode==="sync"?Rj:Tj)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&pm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof Xm})(m))return{values:{},errors:zv(dC(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const mC=fe("ZodISODateTime",(e,a)=>{LA.init(e,a),Vt.init(e,a)});function hC(e){return FO(mC,e)}const pC=fe("ZodISODate",(e,a)=>{IA.init(e,a),Vt.init(e,a)});function gC(e){return HO(pC,e)}const yC=fe("ZodISOTime",(e,a)=>{$A.init(e,a),Vt.init(e,a)});function vC(e){return VO(yC,e)}const bC=fe("ZodISODuration",(e,a)=>{FA.init(e,a),Vt.init(e,a)});function xC(e){return ZO(bC,e)}const SC=(e,a)=>{Xm.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>Cj(e,s)},flatten:{value:s=>Oj(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,gm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,gm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ea=fe("ZodError",SC,{Parent:Error}),_C=eu(Ea),wC=tu(Ea),NC=nu(Ea),EC=au(Ea),jC=Mj(Ea),AC=kj(Ea),OC=Uj(Ea),CC=qj(Ea),RC=Bj(Ea),TC=Lj(Ea),DC=Ij(Ea),zC=$j(Ea),hn=fe("ZodType",(e,a)=>(cn.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Rr(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Gs(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>_C(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>NC(e,s,l),e.parseAsync=async(s,l)=>wC(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>EC(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>jC(e,s,l),e.decode=(s,l)=>AC(e,s,l),e.encodeAsync=async(s,l)=>OC(e,s,l),e.decodeAsync=async(s,l)=>CC(e,s,l),e.safeEncode=(s,l)=>RC(e,s,l),e.safeDecode=(s,l)=>TC(e,s,l),e.safeEncodeAsync=async(s,l)=>DC(e,s,l),e.safeDecodeAsync=async(s,l)=>zC(e,s,l),e.refine=(s,l)=>e.check(_R(s,l)),e.superRefine=s=>e.check(wR(s)),e.overwrite=s=>e.check(Ji(s)),e.optional=()=>eb(e),e.nullable=()=>tb(e),e.nullish=()=>eb(tb(e)),e.nonoptional=s=>pR(e,s),e.array=()=>ox(e),e.or=s=>rR([e,s]),e.and=s=>iR(e,s),e.transform=s=>nb(e,cR(s)),e.default=s=>fR(e,s),e.prefault=s=>hR(e,s),e.catch=s=>yR(e,s),e.pipe=s=>nb(e,s),e.readonly=()=>xR(e),e.describe=s=>{const l=e.clone();return yc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return yc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return yc.get(e);const l=e.clone();return yc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),lx=fe("_ZodString",(e,a)=>{Jm.init(e,a),hn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(PO(...l)),e.includes=(...l)=>e.check(WO(...l)),e.startsWith=(...l)=>e.check(eC(...l)),e.endsWith=(...l)=>e.check(tC(...l)),e.min=(...l)=>e.check(Bc(...l)),e.max=(...l)=>e.check(sx(...l)),e.length=(...l)=>e.check(rx(...l)),e.nonempty=(...l)=>e.check(Bc(1,...l)),e.lowercase=l=>e.check(XO(l)),e.uppercase=l=>e.check(JO(l)),e.trim=()=>e.check(aC()),e.normalize=(...l)=>e.check(nC(...l)),e.toLowerCase=()=>e.check(sC()),e.toUpperCase=()=>e.check(rC())}),MC=fe("ZodString",(e,a)=>{Jm.init(e,a),lx.init(e,a),e.email=s=>e.check(SO(kC,s)),e.url=s=>e.check(jO(UC,s)),e.jwt=s=>e.check($O(XC,s)),e.emoji=s=>e.check(AO(qC,s)),e.guid=s=>e.check(Gv(Xv,s)),e.uuid=s=>e.check(_O(vc,s)),e.uuidv4=s=>e.check(wO(vc,s)),e.uuidv6=s=>e.check(NO(vc,s)),e.uuidv7=s=>e.check(EO(vc,s)),e.nanoid=s=>e.check(OO(BC,s)),e.guid=s=>e.check(Gv(Xv,s)),e.cuid=s=>e.check(CO(LC,s)),e.cuid2=s=>e.check(RO(IC,s)),e.ulid=s=>e.check(TO($C,s)),e.base64=s=>e.check(BO(YC,s)),e.base64url=s=>e.check(LO(KC,s)),e.xid=s=>e.check(DO(FC,s)),e.ksuid=s=>e.check(zO(HC,s)),e.ipv4=s=>e.check(MO(VC,s)),e.ipv6=s=>e.check(kO(ZC,s)),e.cidrv4=s=>e.check(UO(GC,s)),e.cidrv6=s=>e.check(qO(QC,s)),e.e164=s=>e.check(IO(PC,s)),e.datetime=s=>e.check(hC(s)),e.date=s=>e.check(gC(s)),e.time=s=>e.check(vC(s)),e.duration=s=>e.check(xC(s))});function Lc(e){return xO(MC,e)}const Vt=fe("ZodStringFormat",(e,a)=>{Ht.init(e,a),lx.init(e,a)}),kC=fe("ZodEmail",(e,a)=>{RA.init(e,a),Vt.init(e,a)}),Xv=fe("ZodGUID",(e,a)=>{OA.init(e,a),Vt.init(e,a)}),vc=fe("ZodUUID",(e,a)=>{CA.init(e,a),Vt.init(e,a)}),UC=fe("ZodURL",(e,a)=>{TA.init(e,a),Vt.init(e,a)}),qC=fe("ZodEmoji",(e,a)=>{DA.init(e,a),Vt.init(e,a)}),BC=fe("ZodNanoID",(e,a)=>{zA.init(e,a),Vt.init(e,a)}),LC=fe("ZodCUID",(e,a)=>{MA.init(e,a),Vt.init(e,a)}),IC=fe("ZodCUID2",(e,a)=>{kA.init(e,a),Vt.init(e,a)}),$C=fe("ZodULID",(e,a)=>{UA.init(e,a),Vt.init(e,a)}),FC=fe("ZodXID",(e,a)=>{qA.init(e,a),Vt.init(e,a)}),HC=fe("ZodKSUID",(e,a)=>{BA.init(e,a),Vt.init(e,a)}),VC=fe("ZodIPv4",(e,a)=>{HA.init(e,a),Vt.init(e,a)}),ZC=fe("ZodIPv6",(e,a)=>{VA.init(e,a),Vt.init(e,a)}),GC=fe("ZodCIDRv4",(e,a)=>{ZA.init(e,a),Vt.init(e,a)}),QC=fe("ZodCIDRv6",(e,a)=>{GA.init(e,a),Vt.init(e,a)}),YC=fe("ZodBase64",(e,a)=>{QA.init(e,a),Vt.init(e,a)}),KC=fe("ZodBase64URL",(e,a)=>{KA.init(e,a),Vt.init(e,a)}),PC=fe("ZodE164",(e,a)=>{PA.init(e,a),Vt.init(e,a)}),XC=fe("ZodJWT",(e,a)=>{JA.init(e,a),Vt.init(e,a)}),ix=fe("ZodNumber",(e,a)=>{tx.init(e,a),hn.init(e,a),e.gt=(l,o)=>e.check(Yv(l,o)),e.gte=(l,o)=>e.check(kf(l,o)),e.min=(l,o)=>e.check(kf(l,o)),e.lt=(l,o)=>e.check(Qv(l,o)),e.lte=(l,o)=>e.check(Mf(l,o)),e.max=(l,o)=>e.check(Mf(l,o)),e.int=l=>e.check(Jv(l)),e.safe=l=>e.check(Jv(l)),e.positive=l=>e.check(Yv(0,l)),e.nonnegative=l=>e.check(kf(0,l)),e.negative=l=>e.check(Qv(0,l)),e.nonpositive=l=>e.check(Mf(0,l)),e.multipleOf=(l,o)=>e.check(Kv(l,o)),e.step=(l,o)=>e.check(Kv(l,o)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function qn(e){return GO(ix,e)}const JC=fe("ZodNumberFormat",(e,a)=>{WA.init(e,a),ix.init(e,a)});function Jv(e){return QO(JC,e)}const WC=fe("ZodUnknown",(e,a)=>{eO.init(e,a),hn.init(e,a)});function Wv(){return YO(WC)}const eR=fe("ZodNever",(e,a)=>{tO.init(e,a),hn.init(e,a)});function tR(e){return KO(eR,e)}const nR=fe("ZodArray",(e,a)=>{nO.init(e,a),hn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(Bc(s,l)),e.nonempty=s=>e.check(Bc(1,s)),e.max=(s,l)=>e.check(sx(s,l)),e.length=(s,l)=>e.check(rx(s,l)),e.unwrap=()=>e.element});function ox(e,a){return lC(nR,e,a)}const aR=fe("ZodObject",(e,a)=>{sO.init(e,a),hn.init(e,a),Mt(e,"shape",()=>a.shape),e.keyof=()=>cx(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Wv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Wv()}),e.strict=()=>e.clone({...e._zod.def,catchall:tR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>wj(e,s),e.safeExtend=s=>Nj(e,s),e.merge=s=>Ej(e,s),e.pick=s=>Sj(e,s),e.omit=s=>_j(e,s),e.partial=(...s)=>jj(ux,e,s[0]),e.required=(...s)=>Aj(dx,e,s[0])});function ru(e,a){const s={type:"object",shape:e??{},...He(a)};return new aR(s)}const sR=fe("ZodUnion",(e,a)=>{rO.init(e,a),hn.init(e,a),e.options=a.options});function rR(e,a){return new sR({type:"union",options:e,...He(a)})}const lR=fe("ZodIntersection",(e,a)=>{lO.init(e,a),hn.init(e,a)});function iR(e,a){return new lR({type:"intersection",left:e,right:a})}const vm=fe("ZodEnum",(e,a)=>{iO.init(e,a),hn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,o)=>{const d={};for(const m of l)if(s.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new vm({...a,checks:[],...He(o),entries:d})},e.exclude=(l,o)=>{const d={...a.entries};for(const m of l)if(s.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new vm({...a,checks:[],...He(o),entries:d})}});function cx(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new vm({type:"enum",entries:s,...He(a)})}const oR=fe("ZodTransform",(e,a)=>{oO.init(e,a),hn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new F0(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push($i(d,s.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=s.value),m.inst??(m.inst=e),s.issues.push($i(m))}};const o=a.transform(s.value,s);return o instanceof Promise?o.then(d=>(s.value=d,s)):(s.value=o,s)}});function cR(e){return new oR({type:"transform",transform:e})}const ux=fe("ZodOptional",(e,a)=>{cO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function eb(e){return new ux({type:"optional",innerType:e})}const uR=fe("ZodNullable",(e,a)=>{uO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function tb(e){return new uR({type:"nullable",innerType:e})}const dR=fe("ZodDefault",(e,a)=>{dO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function fR(e,a){return new dR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():Z0(a)}})}const mR=fe("ZodPrefault",(e,a)=>{fO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function hR(e,a){return new mR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():Z0(a)}})}const dx=fe("ZodNonOptional",(e,a)=>{mO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function pR(e,a){return new dx({type:"nonoptional",innerType:e,...He(a)})}const gR=fe("ZodCatch",(e,a)=>{hO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function yR(e,a){return new gR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const vR=fe("ZodPipe",(e,a)=>{pO.init(e,a),hn.init(e,a),e.in=a.in,e.out=a.out});function nb(e,a){return new vR({type:"pipe",in:e,out:a})}const bR=fe("ZodReadonly",(e,a)=>{gO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function xR(e){return new bR({type:"readonly",innerType:e})}const SR=fe("ZodCustom",(e,a)=>{yO.init(e,a),hn.init(e,a)});function _R(e,a={}){return iC(SR,e,a)}function wR(e){return oC(e)}const NR=["correlativo","no correlativo"],ER=ru({oi:Lc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:qn(),alcance:qn(),pma:qn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:cx(NR).default("correlativo")}),Uf=ru({c1:qn().optional().nullable(),c2:qn().optional().nullable(),c3:qn().optional().nullable(),c4:qn().optional().nullable(),c5:qn().optional().nullable(),c6:qn().optional().nullable(),c7:Lc().optional().nullable(),c7_seconds:qn().optional().nullable(),caudal:qn().optional().nullable(),error:qn().optional().nullable()}),jR=ru({medidor:Lc().optional(),estado:qn().int().min(0).max(5).default(0),q3:Uf.optional(),q2:Uf.optional(),q1:Uf.optional(),conformidad:Lc().optional()});ru({estado:qn().int().min(0).optional(),rows:qn().int().min(1).default(15),rowsData:ox(jR)});function AR(e){return e===16?25.6:e===10?16:NaN}const OR=/^[A-Za-z0-9]{10}$/,CR=e=>(e??"").trim().toUpperCase(),Kt=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},dl=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],bm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},ab=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}bm(a)}},xn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function RR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],o=s[2],d=parseInt(o,10)+a;return`${l}${d.toString().padStart(o.length,"0")}`}function sb(e,a,s){return e?s==="no correlativo"?e.slice(0,4):RR(e,a):""}function qf(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(o=>parseFloat(o)).filter(o=>!isNaN(o));let l=0;if(s.length>=3){const o=s[0]||0,d=s[1]||0,m=s[2]||0;l=o*60+d+m/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const o=parseFloat(a.replace(",","."));if(!isNaN(o)){const d=Math.floor(o),m=(o-d)*100;l=d*60+m}}return l}function Bf(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function Lf(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function TR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const o=Math.abs(a),d=Math.abs(s),m=Math.abs(l),h=!(o>2.05||d>2.05||m>5.05),y=o<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(s),x=Math.sign(l),_=p>=0&&v>=0&&x>=0||p<=0&&v<=0&&x<=0,U=h&&y;return _?U?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const fl=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const o=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return c.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?c.jsx("span",{className:"text-muted",children:"-"}):c.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=s??l??0,h=l??s??0;let y="vi-e-ok";return e==null||isNaN(e)?y="":h>0&&d>h?y="vi-e-error":m>0&&d>m&&(y="vi-e-warn"),c.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?c.jsx("span",{className:"text-muted",children:"-"}):c.jsx("span",{className:`vi-qe-value fw-bold ${y}`,children:o(e)})})};function DR({show:e,title:a,initial:s,onClose:l,onSubmit:o,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:y,readOnly:p,draftStorageKey:v,draftMeta:x,isOnline:_,showRetry:U}){const E={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},O=p===!0,N=_!==!1,{register:k,control:D,handleSubmit:P,reset:R,setValue:C,getValues:X}=Vc({defaultValues:E}),q=k("rows",{valueAsNumber:!0}),{fields:J,replace:oe,append:we,remove:Se}=l1({control:D,name:"rowsData"}),[de,me]=b.useState(0),Ae=b.useRef(0),Ee=b.useRef(null),[B,se]=b.useState(0),ae=0,Ce=5,Oe=()=>{if(B>=Ce){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}se(F=>Math.min(F+1,Ce))},j=()=>{if(B<=ae){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}se(F=>Math.max(F-1,ae))},Q=b.useRef(null),[ce,xe]=b.useState([]),De=!!s?.version,Re=b.useRef("rows"),Me=b.useRef(null),Ie=b.useRef(null),ye=b.useRef(null),qe=b.useRef(new Map),Ge=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{s?.rowsData?.length&&J.forEach((F,G)=>{if(G===0)return;s.rowsData[G]?.medidor&&qe.current.set(F.id,!0)})},[s,J]);const Ne=b.useCallback(F=>{const G=F<0?0:F;me(G),requestAnimationFrame(()=>{const ve=document.querySelector(`input.vi-medidor-input[data-row="${G}"]`);ve&&(ve.focus(),ve.select())})},[]),Ye=()=>(X("rowsData")??[]).slice(0,J.length);b.useEffect(()=>{Ae.current=de},[de]);const Le=F=>{const G=F.target;if(!G)return;const ve=G.tagName;if(ve!=="INPUT"&&ve!=="SELECT"&&ve!=="TEXTAREA")return;const Ue=F.key;if(Ue==="Escape"){F.preventDefault(),$n();return}if(Ue==="ArrowUp"||Ue==="ArrowDown"||Ue==="ArrowLeft"||Ue==="ArrowRight"||Ue==="Enter"){const pn=G.name;if(!pn||!pn.startsWith("rowsData."))return;const Et=pn.match(/^rowsData\.(\d+)\.(.+)$/);if(!Et)return;const it=parseInt(Et[1],10),gt=Et[2],kt=F.currentTarget,un=J.length-1,_n=(gn,dn)=>{let Lt=gn+dn;for(;Lt>=0&&Lt<=un;){const kn=`[name="rowsData.${Lt}.${gt}"]`,Wt=kt.querySelector(kn);if(Wt&&!Wt.disabled)return{index:Lt,el:Wt};Lt+=dn}return null};if(Ue==="ArrowUp"||Ue==="ArrowDown"){F.preventDefault();const dn=_n(it,Ue==="ArrowUp"?-1:1);dn&&ab(gt,dn.el);return}if(Ue==="ArrowLeft"||Ue==="ArrowRight"){F.preventDefault();const gn=dl.indexOf(gt);if(gn===-1)return;const Lt=gn+(Ue==="ArrowRight"?1:-1);if(Lt<0||Lt>=dl.length)return;const kn=dl[Lt],Wt=`[name="rowsData.${it}.${kn}"]`,yn=kt.querySelector(Wt);yn&&!yn.disabled&&bm(yn);return}if(Ue==="Enter"){F.preventDefault();const gn=dl.indexOf(gt);if(gn===-1)return;const dn=_n(it,1);if(dn){ab(gt,dn.el);return}const Lt=gn+1;if(Lt<dl.length){const kn=dl[Lt];for(let Wt=0;Wt<=un;Wt++){const yn=`[name="rowsData.${Wt}.${kn}"]`,Hn=kt.querySelector(yn);if(Hn&&!Hn.disabled){bm(Hn);return}}}Q.current&&Q.current.focus();return}}if(Ue!=="Tab")return;const Je=F.currentTarget,lt=Array.from(Je.querySelectorAll("input, select, textarea")).filter(Rt=>!Rt.hasAttribute("disabled")),$e=lt.indexOf(G);if($e===-1)return;if(Ue==="Tab"&&F.shiftKey){$e>0&&(F.preventDefault(),lt[$e-1].focus());return}const zt=$e+1;if(zt<lt.length){F.preventDefault(),lt[zt].focus();return}Q.current&&(F.preventDefault(),Q.current.focus())},Xe=(F,G)=>{oe(F),C("rows",F.length),me(ve=>F.length===0?0:typeof G=="number"?Math.max(0,Math.min(G,F.length-1)):Math.min(ve,F.length-1))},je=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),W=F=>F==null?"":typeof F=="number"?F:typeof F=="string"?F.replace(",","."):F,pe=F=>{if(!F)return{};const G={...F};return["c1","c2","c3","c4","c5","c6"].forEach(ve=>{G[ve]=W(G[ve])}),G},_e=()=>{const F=s?.rowsData?.length??s?.rows??15,G=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:F}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(ve=>({medidor:ve.medidor??"",estado:ve.estado??0,q3:pe(ve.q3),q2:pe(ve.q2),q1:pe(ve.q1)}));return{rows:G.length,rowsData:G,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},w=b.useCallback(()=>{const F=X(),G=F.rowsData??[];return{estado:F.estado??0,rows:Number(F.rows??G.length),version:F.version??s?.version??null,rowsData:G,draftCreatedAt:F.draftCreatedAt??s?.draftCreatedAt??null,draftId:F.draftId??s?.draftId??null}},[X,s?.version,s?.draftCreatedAt,s?.draftId]),M=F=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:F}:null,$=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,ge=F=>F==null||F===""||typeof F=="number"&&Number.isNaN(F),te=F=>F?Number(F.estado??0)!==0||F.medidor&&F.medidor.toString().trim()!==""?!0:Te(F):!1,le=F=>(F.rowsData??[]).some(ve=>te(ve)),Te=F=>{const G=[F.q3,F.q2,F.q1];for(const ve of G)if(ve){for(const Ue of Ge)if(!ge(ve[Ue]))return!0}return!1},Ke=F=>F?{...F,c4:null,c5:null}:{c4:null,c5:null},ee=F=>{if(!F)return F;const G={...F};return ge(G.c4)&&(G.c4=null),ge(G.c5)&&(G.c5=null),G},Ve=F=>{for(let G=0;G<F.length;G++){const ve=F[G],Ue=Number(ve.estado??0),Je=Ue!==0;if(!te(ve))continue;if(!ve.medidor||ve.medidor.toString().trim()==="")return`La fila ${G+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const $e=[{name:"Q3 (Nominal)",block:ve.q3},{name:"Q2 (Transicin)",block:ve.q2},{name:"Q1 (Mnimo)",block:ve.q1}],Gt=$e.some(({block:zt})=>zt&&Ge.some(Rt=>!ge(zt[Rt])));if(Ue===0&&!Gt)return`La fila ${G+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!Je)for(const{name:zt,block:Rt}of $e){if(!Rt||!Ge.some(it=>!ge(Rt[it])))continue;if(Ge.some(it=>ge(Rt[it])))return`La fila ${G+1} tiene datos incompletos en el bloque ${zt}. Completa todos los campos o elimina la fila.`}}return null},ot=F=>F==null||F===""?null:String(F).replace(/\./g,","),xt=F=>{if(!F)return{};const G={...F};return["c1","c2","c3","c4","c5","c6","c7"].forEach(ve=>{G[ve]=ot(G[ve])}),G},In=F=>{const G=[];let ve=null;const Ue=(lt,$e,Gt)=>{G[lt]||(G[lt]={}),G[lt][$e]=Gt,ve||(ve=`Fila ${lt+1}: ${Gt}`)},Je={};return F.forEach(lt=>{const $e=(lt.medidor??"").trim();$e&&(Je[$e]=(Je[$e]??0)+1)}),F.forEach((lt,$e)=>{const Gt=lt.q3||{},zt=lt.q2||{},Rt=lt.q1||{},pn=Gt.c4,Et=Gt.c5,it=zt.c4,gt=zt.c5,kt=Rt.c4,un=Rt.c5;pn!=null&&Et!=null&&!Number.isNaN(pn)&&!Number.isNaN(Et)&&Et<pn&&Ue($e,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),it!=null&&gt!=null&&!Number.isNaN(it)&&!Number.isNaN(gt)&&gt<it&&Ue($e,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),kt!=null&&un!=null&&!Number.isNaN(kt)&&!Number.isNaN(un)&&un<kt&&Ue($e,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),Et!=null&&it!=null&&!Number.isNaN(Et)&&!Number.isNaN(it)&&it<Et&&Ue($e,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),gt!=null&&kt!=null&&!Number.isNaN(gt)&&!Number.isNaN(kt)&&kt<gt&&Ue($e,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const _n=(lt.medidor??"").trim();_n&&Je[_n]>1&&Ue($e,"medidor_dup","Serie de medidor repetida."),_n&&!OR.test(_n)&&Ue($e,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:G,firstMessage:ve}},he=F=>{if(O)return;const G=(F.rowsData??[]).slice(0,J.length),ve=Ve(G);if(ve){alert(ve);return}const{rowErrors:Ue,firstMessage:Je}=In(G);if(xe(Ue),Je){alert(Je);return}const $e=G.filter(te).map(zt=>{const Rt=Number(zt.estado??0),pn=Rt>=1&&Rt<=4,Et=Rt===5&&!Te(zt),it=pn||Et,gt=ee(zt.q3),kt=ee(zt.q2),un=ee(zt.q1),_n=gn=>{if(it){const dn=Ke(gn);return xt(dn)}return xt(gn)};return{...zt,q3:_n(gt),q2:_n(kt),q1:_n(un)}}),Gt={...F,rows:$e.length,rowsData:$e,version:F.version??s?.version??null};o(Gt)},Pe=Oi({control:D,name:"rowsData.0"}),Zt=Oi({control:D,name:"rowsData"}),St=Oi({control:D,name:"rowsData.0.q3.c7"}),Sn=Oi({control:D,name:"rowsData.0.q2.c7"}),Mn=Oi({control:D,name:"rowsData.0.q1.c7"});b.useEffect(()=>{J[0]&&(C("rowsData.0.q3.c7_seconds",qf(St)),C("rowsData.0.q2.c7_seconds",qf(Sn)),C("rowsData.0.q1.c7_seconds",qf(Mn)))},[St,Sn,Mn,C,J]),b.useEffect(()=>{const F=Zt??[],{rowErrors:G}=In(F);xe(G)},[Zt]),b.useEffect(()=>{if(!Pe||J.length<=1)return;const F=Zt??[];J.forEach((G,ve)=>{if(ve===0)return;const Ue=G.id;(qe.current.get(Ue)??!1)||C(`rowsData.${ve}.medidor`,sb(Pe.medidor||"",ve,m));const lt=F[ve]?.estado;(lt==null||Number.isNaN(lt))&&C(`rowsData.${ve}.estado`,Pe.estado),C(`rowsData.${ve}.q3.c1`,Pe.q3?.c1??null),C(`rowsData.${ve}.q3.c2`,Pe.q3?.c2??null),C(`rowsData.${ve}.q3.c3`,Pe.q3?.c3??null),C(`rowsData.${ve}.q3.c6`,Pe.q3?.c6??null),C(`rowsData.${ve}.q3.c7`,Pe.q3?.c7??""),C(`rowsData.${ve}.q3.c7_seconds`,Pe.q3?.c7_seconds??null),C(`rowsData.${ve}.q2.c1`,Pe.q2?.c1??null),C(`rowsData.${ve}.q2.c2`,Pe.q2?.c2??null),C(`rowsData.${ve}.q2.c3`,Pe.q2?.c3??null),C(`rowsData.${ve}.q2.c6`,Pe.q2?.c6??null),C(`rowsData.${ve}.q2.c7`,Pe.q2?.c7??""),C(`rowsData.${ve}.q2.c7_seconds`,Pe.q2?.c7_seconds??null),C(`rowsData.${ve}.q1.c1`,Pe.q1?.c1??null),C(`rowsData.${ve}.q1.c2`,Pe.q1?.c2??null),C(`rowsData.${ve}.q1.c3`,Pe.q1?.c3??null),C(`rowsData.${ve}.q1.c6`,Pe.q1?.c6??null),C(`rowsData.${ve}.q1.c7`,Pe.q1?.c7??""),C(`rowsData.${ve}.q1.c7_seconds`,Pe.q1?.c7_seconds??null)})},[Pe,Zt,J,C,m]),b.useEffect(()=>{me(F=>{const G=Math.max(J.length-1,0);return F>G?G:F})},[J.length]);const Ya=()=>{if(J.length>=50){if(C("rows",50),Ne(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){Ee.current&&(Ee.current.focus(),Ee.current.select());return}return}we(je()),C("rows",J.length+1),Ne(J.length)},na=F=>{if(J.length<=1)return;const G=Math.max(0,Math.min(F,J.length-1));Se(G),C("rows",Math.max(J.length-1,1)),Ne(Math.max(0,G-(G===J.length-1?1:0)))},at=()=>{J.length<=1||(Se(J.length-1),C("rows",Math.max(J.length-1,1)),Ne(Math.max(0,J.length-2)))},ja=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const F=Ye();if(!F.length)return;const G=F.map(()=>je());Xe(G,0),Ne(0)},da=()=>{let F=Number(X("rows"));if((!Number.isFinite(F)||F<1)&&(F=1),F>50){const Ue=Ye();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){C("rows",Ue.length),Ee.current&&(Ee.current.focus(),Ee.current.select());return}F=50}const G=Ye();if(F!==G.length&&!confirm(`La lista tendr ${F} filas. Quieres continuar?`)){C("rows",G.length),Ee.current&&(Ee.current.focus(),Ee.current.select());return}if(F===G.length){C("rows",F);return}if(F>G.length){const Ue=Math.min(F,50)-G.length;if(Ue>0){const Je=Array.from({length:Ue},()=>je()),lt=[...G,...Je];Xe(lt,de),Ne(G.length)}else C("rows",G.length);return}const ve=G.slice(0,F);Xe(ve,Math.min(de,F-1))},Aa=F=>{F.key==="Enter"&&(F.preventDefault(),da(),Ne(0))},$n=()=>{const F=X(),G=document.activeElement;if(Ee.current&&G===Ee.current)Re.current="rows",Me.current="rows";else if(G&&G instanceof HTMLElement){const ve=G.getAttribute("name");ve&&ve.startsWith("rowsData.")?(Re.current="grid",Me.current=ve):(Re.current="grid",Me.current=null)}else Re.current="grid",Me.current=null;if(v){const ve=w();if(!le(ve))Hs(v),ye.current=null;else{const Ue=M(ve);if(Ue){const Je=JSON.stringify(Ue);zi(v,Ue,$()),ye.current=Je}}}d&&d(F),l()};b.useEffect(()=>{if(!e)return;const F=G=>{if(G.key==="Escape"){G.preventDefault(),$n();return}if((G.key==="+"||G.key==="=")&&G.ctrlKey){G.preventDefault(),Ya();return}(G.key==="-"||G.key==="_")&&G.ctrlKey&&(G.preventDefault(),at())};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[e,Ya,at,$n]),b.useEffect(()=>{const F=_e();R(F),Xe(F.rowsData,0),qe.current.clear(),requestAnimationFrame(()=>{if(De)Ne(0);else if(Me.current){const G=document.querySelector(`[name="${Me.current}"]`);if(G){G.focus(),"select"in G&&G.select?.();return}Ne(Ae.current||0)}else Ee.current&&(Ee.current.focus(),Ee.current.select())})},[s,R,oe,Ne,De]),b.useEffect(()=>{if(!e||!v)return;const F=w();if(!le(F)){Hs(v),ye.current=null;return}const G=M(F);if(!G)return;const ve=JSON.stringify(G);if(ve!==ye.current)return Ie.current&&window.clearTimeout(Ie.current),Ie.current=window.setTimeout(()=>{zi(v,G,$()),ye.current=ve},400),()=>{Ie.current&&window.clearTimeout(Ie.current)}},[e,v,Zt,w]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(De)Ne(0);else if(Me.current){const F=document.querySelector(`[name="${Me.current}"]`);if(F){F.focus(),"select"in F&&F.select?.();return}Ne(Ae.current||0)}else Ee.current&&(Ee.current.focus(),Ee.current.select())})},[e,Ne,De]);const Fn=ce.some(F=>F&&Object.values(F).some(Boolean));return e?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:F=>{F.target===F.currentTarget&&$n()},children:[c.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),c.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:c.jsx("div",{className:"modal-content",children:c.jsxs("form",{onSubmit:P(he),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",children:a}),c.jsx("button",{type:"button",className:"btn-close",onClick:$n,"aria-label":"Close"})]}),c.jsx("fieldset",{disabled:O,children:c.jsxs("div",{className:"modal-body p-2",children:[!N&&c.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),c.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[c.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[c.jsx("label",{className:"form-label mb-1",children:"Filas"}),c.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...q,ref:F=>{Ee.current=F,q.ref(F)},onBlur:da,onKeyDown:Aa})]}),c.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Ya,children:"+ Agregar Fila"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:at,children:"- Quitar ltima fila"}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ja,children:"Limpiar Todo"})]}),c.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Oe,children:"Aumentar tamao"}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:j,children:"Reducir tamao"})]}),c.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",de+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),c.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:c.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${B}`,children:[c.jsxs("thead",{className:"table-light sticky-top z-1",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),c.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),c.jsx("th",{style:{width:"90px"},children:"Estado"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),c.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),c.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),c.jsxs("tr",{style:{fontSize:"0.75rem"},children:[c.jsx("th",{className:"vi-row-index"}),c.jsx("th",{className:"vi-sticky-medidor"}),c.jsx("th",{}),c.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),c.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),c.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),c.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),c.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),c.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),c.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),c.jsx("th",{className:"vi-header-quitar"})]})]}),c.jsx("tbody",{onKeyDown:Le,children:J.map((F,G)=>{const ve=G===0,Ue=Zt?.[G]||{},Je=ce[G]||{},lt=Number(Ue.estado??0),$e=lt>=1&&lt<=4,Gt=Ue.q3?.c6,zt=Ue.q3?.c7_seconds,Rt=Ue.q3?.c4,pn=Ue.q3?.c5,Et=Bf(Gt,zt),it=Lf(Rt,pn,Gt),gt=Ue.q2?.c6,kt=Ue.q2?.c7_seconds,un=Ue.q2?.c4,_n=Ue.q2?.c5,gn=Bf(gt,kt),dn=Lf(un,_n,gt),Lt=Ue.q1?.c6,kn=Ue.q1?.c7_seconds,Wt=Ue.q1?.c4,yn=Ue.q1?.c5,Hn=Bf(Lt,kn),Cn=Lf(Wt,yn,Lt),Tt=TR(Ue.estado,it,dn,Cn),Tr=[ve?"vi-base-row":"",de===G?"table-active":""].filter(Boolean).join(" "),Oa=k(`rowsData.${G}.medidor`),wn=CR(Ue.medidor??""),Vn=wn?h?.[wn]?.message:"",Ka=Je.medidor_format||Je.medidor_dup||Vn||"",Dr=!!Ka,Pa=(Tt||"").toUpperCase(),Qs=Pa==="NO CONFORME"?"vi-at-valor--fail":Pa==="CONFORME"?"vi-at-valor--ok":"";return c.jsxs("tr",{className:Tr,onMouseEnter:()=>me(G),onClick:()=>me(G),onFocusCapture:()=>me(G),children:[c.jsx("td",{className:"small vi-row-index",children:G+1}),c.jsx("td",{className:"vi-sticky-medidor",children:c.jsx("input",{"data-row":G,"data-row-id":F.id,...Oa,size:1,style:{minWidth:"100%"},disabled:$e,onInput:Kt,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Dr?"vi-error-cell":""].filter(Boolean).join(" "),title:Ka||"",onChange:en=>{const Ca=X(`rowsData.${G}.medidor`);if(Oa.onChange(en),y?.(Ca),G===0)return;const Zn=en.currentTarget.value.trim();if(!Zn){qe.current.delete(F.id);return}const tn=sb(Pe?.medidor??"",G,m);tn&&tn===Zn?qe.current.delete(F.id):qe.current.set(F.id,!0)}})}),c.jsx("td",{children:c.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...k(`rowsData.${G}.estado`,{valueAsNumber:!0}),children:[c.jsx("option",{value:0,children:"0"}),c.jsx("option",{value:1,children:"1"}),c.jsx("option",{value:2,children:"2"}),c.jsx("option",{value:3,children:"3"}),c.jsx("option",{value:4,children:"4"}),c.jsx("option",{value:5,children:"5"})]})}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q3.c1`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q3.c2`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q3.c3`,{setValueAs:xn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:$e,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q3_li?" vi-error-cell":""),title:Je.q3_li||"",...k(`rowsData.${G}.q3.c4`,{setValueAs:xn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:$e,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q3_lf?" vi-error-cell":""),title:Je.q3_lf||"",...k(`rowsData.${G}.q3.c5`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q3.c6`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q3.c7`),placeholder:"m,ss,ms"})}),c.jsx(fl,{val:Et}),c.jsx(fl,{val:it,isErr:!0,warnThreshold:2,failThreshold:5}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q2.c1`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q2.c2`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q2.c3`,{setValueAs:xn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:$e,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q2_li?" vi-error-cell":""),title:Je.q2_li||"",...k(`rowsData.${G}.q2.c4`,{setValueAs:xn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:$e,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q2_lf?" vi-error-cell":""),title:Je.q2_lf||"",...k(`rowsData.${G}.q2.c5`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q2.c6`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q2.c7`),placeholder:"m,ss,ms"})}),c.jsx(fl,{val:gn}),c.jsx(fl,{val:dn,isErr:!0,warnThreshold:2,failThreshold:5}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q1.c1`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q1.c2`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q1.c3`,{setValueAs:xn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:$e,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q1_li?" vi-error-cell":""),title:Je.q1_li||"",...k(`rowsData.${G}.q1.c4`,{setValueAs:xn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:$e,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q1_lf?" vi-error-cell":""),title:Je.q1_lf||"",...k(`rowsData.${G}.q1.c5`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q1.c6`,{setValueAs:xn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!ve||$e,...k(`rowsData.${G}.q1.c7`),placeholder:"m,ss,ms"})}),c.jsx(fl,{val:Hn}),c.jsx(fl,{val:Cn,isErr:!0,warnThreshold:5,failThreshold:5}),c.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${Qs}`,children:Tt}),c.jsx("td",{className:"text-center align-middle bg-light",children:c.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:en=>{en.stopPropagation(),na(G)},disabled:J.length<=1,title:"Eliminar esta fila",children:""})})]},F.id)})})]})})]})}),c.jsxs("div",{className:"modal-footer py-1",children:[c.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:$n,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:Q,disabled:Fn||O,children:U&&N?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),c.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function Wi({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:o,onConfirm:d}){const[m,h]=b.useState(""),y=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>y.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const x=_=>{_.key==="Escape"&&o()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,o]),!e)return null;const v=x=>{x.preventDefault(),p&&d(m.trim())};return c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&o()},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:v,children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:o})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"mb-3",children:[c.jsx(Li,{label:"Contrasea",inputId:"pwd",value:m,onChange:x=>h(x.target.value),inputRef:y,minLength:1,required:!0}),c.jsx("div",{className:"form-text",children:l})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:o,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function zR(e,a){try{const{data:s}=await Qe.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",o=new Error(l);throw o.status=s?.response?.status,o}}async function MR(e,a){try{const{data:s}=await Qe.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",o=new Error(l);throw o.status=s?.response?.status,o}}async function kR(e){try{const{data:a}=await Qe.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function rb(e,a){try{const{data:s}=await Qe.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let o=s?.message??"No se puedo agregar la bancada";typeof l=="string"?o=l:l&&typeof l=="object"&&(o=l.message??l.detail??o);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(o);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function UR(e,a){try{const{data:s}=await Qe.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let o=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?o=l:l&&typeof l=="object"&&(o=l.message??l.detail??o);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(o);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function qR(e,a){try{const{data:s}=await Qe.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",o=new Error(l);throw o.status=s?.response?.status,o}}async function BR(e,a){try{const{data:s}=await Qe.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",o=new Error(l);throw o.status=s?.response?.status,o}}async function lb(e){try{await Qe.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function fx(e,a){let s;try{s=await Qe.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const _=await x.text();try{const E=JSON.parse(_)?.detail;typeof E=="string"?v=E:Array.isArray(E)&&E.length>0?v=E.map(O=>String(O?.msg??"")).filter(Boolean).join(", "):_&&(v=_)}catch{_&&(v=_)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=s.data,m=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),y=document.createElement("a");y.href=h,y.download=m,document.body.appendChild(y),y.click(),URL.revokeObjectURL(h),y.remove()}async function LR(e){await Qe.delete(`/oi/${e}`)}async function IR(e){try{const{data:a}=await Qe.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function bc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Qe.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",o=new Error(l);throw o.status=s?.response?.status,o}}async function $R(e,a){try{const{data:s}=await Qe.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",o=new Error(l);throw o.status=s?.response?.status,o}}async function If(e){try{const{data:a}=await Qe.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function FR(e){try{const{data:a}=await Qe.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function HR(e){let a;try{a=await Qe.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const y=m?.response?.data;if(y instanceof Blob)try{const v=await y.text();try{const _=JSON.parse(v)?.detail;typeof _=="string"?h=_:Array.isArray(_)&&_.length>0?h=_.map(U=>String(U?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function VR(){try{const{data:e}=await Qe.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function $f(e){try{const{data:a}=await Qe.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const Wm="vi.currentOI";function Mi(e){sessionStorage.setItem(Wm,JSON.stringify(e))}function ib(){const e=sessionStorage.getItem(Wm);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function xm(){sessionStorage.removeItem(Wm)}const Ff=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Hf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},ZR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Ff(e.q3),q2:Ff(e.q2),q1:Ff(e.q1)}),GR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Hf(e.q3),q2:Hf(e.q2),q1:Hf(e.q1)}),mx=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),QR=e=>e.reduce((a,s)=>a+(s.rows??0),0),YR=e=>JSON.parse(JSON.stringify(e)),ob=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),cb=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:mx(e),KR=(e,a)=>e==="view"&&a?"view":"edit",ub=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const o=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${o(l.getMonth()+1)}-${o(l.getDate())}T${o(l.getHours())}:${o(l.getMinutes())}`},PR=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},hx=e=>(e??"").trim().toUpperCase(),XR=e=>{const a={};e.forEach(l=>{const o=hx(l.medidor);o&&(a[o]||(a[o]={items:[],ids:[]}),l.bancada_item!=null&&!a[o].items.includes(l.bancada_item)&&a[o].items.push(l.bancada_item),l.bancada_id!=null&&!a[o].ids.includes(l.bancada_id)&&a[o].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,o])=>{let d="Este medidor existe en otra bancada de esta misma OI.";o.items.length>0&&(d=`Este medidor existe en la bancada #${[...o.items].sort((h,y)=>h-y).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:o.items[0],bancadaId:o.ids[0]}}),s},JR="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",WR=(e,a=!0)=>{const l=b.useContext(wa)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const o=l.block(d=>{const m={...d,retry(){o(),d.retry()}};e(m)});return o},[l,e,a])},eT=e=>{const a=Qe.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},tT=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Vf=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function db(){const{toast:e}=Or(),a=Al(),s=Ln(),{oiId:l}=dw(),[o,d]=Db(),m=tT(),{data:h}=wr({queryKey:["catalogs"],queryFn:Zm}),{register:y,handleSubmit:p,watch:v,formState:{errors:x},reset:_,getValues:U}=Vc({resolver:fC(ER),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),E=zn(),O=E?.userId??null,N=E?.bancoId??Bi(),k=Qa(E?.role,E?.username)!=="technician",D=ib(),P=l?Number(l):null,R=Number.isFinite(P)?P:null,C=R!=null||(D?.id??null)!=null,X=(o.get("mode")||"").toLowerCase(),q=KR(X,C),J=q==="view",oe=q==="edit",[we,Se]=b.useState(!1),[de,me]=b.useState(!1),[Ae,Ee]=b.useState(null),[B,se]=b.useState(null),[ae,Ce]=b.useState(!1),Oe=de||J,[j,Q]=b.useState(!1),[ce,xe]=b.useState(null),[De,Re]=b.useState(null),[Me,Ie]=b.useState(null),[ye,qe]=b.useState(!1),[Ge,Ne]=b.useState(""),[Ye,Le]=b.useState(null),[Xe,je]=b.useState("bancada"),[W,pe]=b.useState(!1),[_e,w]=b.useState(!1),[M,$]=b.useState(null),ge=b.useRef([]),te=b.useRef(null),le=b.useRef(!1),Te=b.useRef(!1),Ke=b.useRef(!1),ee=b.useRef(null),Ve=b.useRef(!1),ot=b.useRef(m),xt=b.useRef(!1),In=b.useRef(!1),[he,Pe]=b.useState(null),[Zt,St]=b.useState(null),[Sn,Mn]=b.useState([]),[Ya,na]=b.useState(!1),[at,ja]=b.useState(null),[da,Aa]=b.useState(!1),[$n,Fn]=b.useState(null),[F,G]=b.useState(0),[ve,Ue]=b.useState({}),[Je,lt]=b.useState({}),$e=s.state?.returnTo,Gt=()=>typeof $e=="string"&&$e?$e:"/oi/list",zt=A=>{const I=new URLSearchParams(o);I.set("mode",A),d(I,{replace:!0})},Rt="new",pn=15,Et=A=>A?`bancada-${A.id}`:Rt,it=A=>A==null?!1:typeof A=="string"?A.trim()!=="":typeof A=="number"?Number.isFinite(A):!0,gt=A=>A==="c7_seconds"||A==="caudal"||A==="error",kt=A=>A?Object.entries(A).some(([I,re])=>gt(I)?!1:it(re)):!1,un=A=>!A||!Array.isArray(A.rowsData)?!1:A.rowsData.some(I=>{if(!I)return!1;if(Number(I.estado??0)!==0)return!0;const be=I.medidor;return typeof be=="string"&&be.trim()!==""?!0:kt(I.q3)||kt(I.q2)||kt(I.q1)}),_n=(A=pn)=>Array.from({length:A}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),gn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,dn=A=>({draftId:gn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:pn,rowsData:_n(),version:null}),Lt=A=>{const I=new URLSearchParams(s.search);I.set("mode","edit");const re=s.pathname==="/oi"||s.pathname==="/oi/"?A?`/oi/${A}`:"/oi":s.pathname,be=I.toString();return be?`${re}?${be}`:re},kn=(A,I)=>!A||!O||N==null?null:{version:1,ts:new Date().toISOString(),userId:O,bankId:N,oiId:A,oiCode:U("oi")??null,returnTo:Lt(A),mode:"edit",modal:I},Wt=()=>{if(Ya)return at?{type:"bancada",bancadaId:at.id}:{type:"bancada",isNew:!0}},yn=A=>Rf({userId:O,bankId:N,oiId:A,type:"bancada",isNew:!0}),Hn=A=>{const I=yn(A);if(!I)return null;const re=Tf(I);if(!re||!O||N==null||!A||re.userId!==O||re.bankId!==N||re.oiId!==A)return null;const be=re?.data??null;return un(be)?be:(Hs(I),null)},Cn=(A,I)=>{const re=yn(A);if(!re)return;if(!I||!un(I)){Hs(re);return}if(!O||N==null||!A)return;const be={version:1,ts:new Date().toISOString(),userId:O,bankId:N,oiId:A,isNew:!0,data:I},et=kn(A,{type:"bancada",isNew:!0});zi(re,be,et)},Tt=A=>Rf({userId:O,bankId:N,oiId:A,type:"header"}),Tr=A=>{if(!A)return null;const I=Tf(A);return!I||!O||N==null||I.userId!==O||I.bankId!==N||he!=null&&I.oiId!==he?null:I?.data??null},Oa=(A,I)=>{if(!A||!O||N==null)return;const re=he??0,be={version:1,ts:new Date().toISOString(),userId:O,bankId:N,oiId:re,data:I},et=kn(he,Wt());zi(A,be,et)},wn=A=>{A&&Hs(A)},Vn=A=>{const I={};return A.q3!=null&&(I.q3=Number(A.q3)),A.alcance!=null&&(I.alcance=Number(A.alcance)),A.pma!=null&&(I.pma=Number(A.pma)),A.numeration_type&&(I.numeration_type=A.numeration_type),I},Ka=(A,I)=>Rf({userId:O,bankId:N,oiId:A,type:"bancada",bancadaId:I}),Dr=(A,I)=>{const re=Ka(A,I);if(!re)return null;const be=Tf(re);if(!be||!O||N==null||!A||!I||be.userId!==O||be.bankId!==N||be.oiId!==A)return null;const et=be?.data??null;return un(et)?et:(Hs(re),null)},Pa=(A,I,re)=>{const be=Ka(A,I);if(!be)return;if(!un(re)){Hs(be);return}if(!O||N==null||!A||!I)return;const et={version:1,ts:new Date().toISOString(),userId:O,bankId:N,oiId:A,bancadaId:I,data:re},jt=kn(A,{type:"bancada",bancadaId:I});zi(be,et,jt)},Qs=(A,I)=>{const re=Ka(A,I);re&&Hs(re)},en=Tt(he);b.useEffect(()=>{h&&_(A=>({...A,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,_]),b.useEffect(()=>{const A=ib(),I=R??A?.id??null;if(!I){Pe(null),Mn([]),ge.current=[],te.current=null,Fn(null),G(0),St(null),Re(null),Ie(null),Q(!1),me(!1),Ee(null),se(null),Ce(!1),xe(null);return}(async()=>{try{const re=await If(I);Pe(re.id),Mi({id:re.id,code:re.code}),Mn(re.bancadas??[]),ge.current=YR(re.bancadas??[]),te.current=re.updated_at??null,Fn(re.medidores_usuario??null),G(re.medidores_total_code??0),Re(re.saved_at??null),Ie(re.created_at??null),St(re.updated_at??re.created_at);const be={oi:re.code,q3:re.q3,alcance:re.alcance,pma:re.pma,numeration_type:re.numeration_type??"correlativo"};_(be),Q(!1),me(re.read_only_for_current_user??!1),Ee(re.locked_by_full_name??null),se(re.locked_by_user_id??null),Ce((re.locked_by_user_id??null)===O),xe(be)}catch{xm()}})()},[_,O,R]),b.useEffect(()=>{if(!he||Je[Rt])return;const A=Hn(he);A&&(lt(I=>({...I,[Rt]:A})),e({kind:"info",message:"Se restauro un borrador local."}))},[he,Je,e]),b.useEffect(()=>{if(!he||!O||!oe)return;let A=!1;return(async()=>{const I=re=>{me(re?.read_only_for_current_user??!1),Ee(re?.locked_by_full_name??null),se(re?.locked_by_user_id??null),Ce((re?.locked_by_user_id??null)===O)};try{const re=await IR(he);if(A)return;I(re)}catch(re){if(A)return;const be=re?.status??re?.response?.status;let et=null;try{const ct=await If(he);if(A)return;et=ct.locked_by_full_name??null,I({read_only_for_current_user:!0,locked_by_full_name:et,locked_by_user_id:ct.locked_by_user_id??null})}catch{me(!0),Ce(!1)}const jt=et?`La OI est? siendo editada por ${et}. Se abre en modo lectura.`:re?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:be===423||be===409?"warning":"error",title:be===423||be===409?"OI bloqueada":"Error",message:jt}),me(!0),Ce(!1),X!=="view"&&zt("view")}})(),()=>{A=!0}},[he,O,oe]),b.useEffect(()=>()=>{he&&ae&&bc(he).catch(()=>{})},[he,ae]),b.useEffect(()=>{he&&(!ae||Oe||!oe||XE(he))},[ae,he,Oe,oe]),b.useEffect(()=>{Te.current=!1,Ke.current=!1,w(!1),Ve.current=!1,In.current=!1},[he]),b.useEffect(()=>{if(!ot.current&&m){if(!!!zn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),ot.current=m;return}(Ke.current||_e)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}ot.current=m},[m,_e,e]),b.useEffect(()=>{const A=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",A),()=>window.removeEventListener("medileser:auth-expired",A)},[e]),b.useEffect(()=>{const A=tj();if(!A){$(null),xt.current=!1;return}const I=`${s.pathname}${s.search}`,re=A.route===I,be=A.oiId==null||A.oiId===he;if(!re&&!be){$(null),xt.current=!1;return}$(A),A.type==="save_bancada"&&w(!0),A.type==="save_oi"&&(Ke.current=!0),xt.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),xt.current=!0)},[s.pathname,s.search,he,e]);const Ca=oe&&!Oe&&(j||!he);b.useEffect(()=>{if(!Ca||Ve.current)return;const A=Tr(en);if(!A)return;const I=U();_({...I,...A,numeration_type:A.numeration_type??I.numeration_type??"correlativo"}),Ve.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Ca,en,U,_,e]),b.useEffect(()=>{if(!Ca)return;const A=v(I=>{ee.current&&window.clearTimeout(ee.current),ee.current=window.setTimeout(()=>{Oa(en,Vn(I))},400)});return()=>{A.unsubscribe(),ee.current&&window.clearTimeout(ee.current)}},[v,Ca,en]);const Zn=b.useMemo(()=>Object.keys(Je).length>0,[Je]),tn=oe&&!Oe&&(ae||j||Zn);b.useEffect(()=>{if(!tn)return;const A=I=>{if(!le.current)return I.preventDefault(),I.returnValue="",""};return window.addEventListener("beforeunload",A),()=>window.removeEventListener("beforeunload",A)},[tn]),WR(A=>{if(!tn){A.retry();return}if(le.current){A.retry();return}if(A.location.pathname===s.pathname){A.retry();return}window.confirm(JR)&&A.retry()},tn),b.useEffect(()=>{if(!he||!ae||Oe||!oe)return;const A=()=>{if(le.current||Te.current)return;Te.current=!0;const re=zn()?.token,be=eT(`/oi/${he}/close`);fetch(be,{method:"POST",headers:re?{Authorization:`Bearer ${re}`}:void 0,keepalive:!0}).catch(()=>{})},I=()=>{A()};return window.addEventListener("pagehide",I),()=>window.removeEventListener("pagehide",I)},[he,ae,Oe,oe]);const zl=v("pma"),eo=b.useMemo(()=>AR(Number(zl)),[zl]),Ml=v("numeration_type")??"correlativo",kl=async A=>{try{Se(!0);const I=zn();if(!I)throw new Error("Sesin no vlida");const re=I.bancoId;if(re==null)throw new Error("Debe seleccionar un banco para crear una OI.");const be={code:A.oi,q3:Number(A.q3),alcance:Number(A.alcance),pma:Number(A.pma),banco_id:re,tech_number:I.techNumber,numeration_type:A.numeration_type??"correlativo"},et=await kR(be);return Pe(et.id),St(et.updated_at??et.created_at),Fn(et.medidores_usuario??0),G(et.medidores_total_code??0),Re(et.saved_at??null),Ie(et.created_at??null),Mi({id:et.id,code:et.code}),xe(A),Ke.current=!1,wn(Tt(null)),wn(Tt(et.id)),Ti(),$(null),e({kind:"success",title:"OI creada",message:`${et.code} (#${et.id})`}),!0}catch(I){return Vf(I)?(Ke.current=!0,Oa(en,Vn(A)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):Ec(I)?(Ke.current=!0,Oa(en,Vn(A)),!1):(e({kind:"error",title:"Error",message:I?.message??"Error creando OI"}),!1)}finally{Se(!1)}},Ys=async A=>{if(!he)return!1;if(Oe)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(Se(!0),!he)throw new Error("No hay OI seleccionada para actualizar.");if(!Zt)throw new Error("No se pudo determinar la versin actual de la OI. Recargue la pgina e intntelo de nuevo.");const I=A.oi?.trim(),re={q3:Number(A.q3),alcance:Number(A.alcance),pma:Number(A.pma),numeration_type:A.numeration_type??"correlativo",updated_at:Zt};k&&I&&I!==(ce?.oi??"")&&(re.code=I);const be=await zR(he,re);return xe(A),St(be.updated_at??be.created_at),Re(be.saved_at??null),Ie(be.created_at??null),be.code&&Mi({id:be.id,code:be.code}),se(be.locked_by_user_id??null),Ee(be.locked_by_full_name??null),me(be.read_only_for_current_user??!1),Ce((be.locked_by_user_id??null)===O),Q(!1),Ke.current=!1,wn(en),Ti(),$(null),e({kind:"success",title:"OI actualizada",message:A.oi}),!0}catch(I){if(Vf(I))return Ke.current=!0,Oa(en,Vn(A)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(Ec(I))return Ke.current=!0,Oa(en,Vn(A)),!1;const re=I?.status??I?.response?.status;return e(re===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:I?.message??"Error actualizando OI"}),!1}finally{Se(!1)}},Ul=!!he&&j&&!Oe,vn=()=>Ue({}),ql=A=>{const I=hx(A);I&&Ue(re=>{if(!re[I])return re;const be={...re};return delete be[I],be})},zr=()=>{if(Oe){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!he)return;vn(),w(!1);const A=Hn(he),I=A??dn();lt(re=>({...re,[Rt]:I})),Cn(he,I),A&&e({kind:"info",message:"Se restauro un borrador local."}),ja(null),na(!0)},Ks=A=>{if(Oe&&!J){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}vn(),w(!1);const I=Dr(he,A.id);if(I){const re=Et(A);lt(be=>({...be,[re]:I})),e({kind:"info",message:"Se restauro un borrador local."})}ja(A),na(!0)};b.useEffect(()=>{if(!he||In.current)return;const A=VE();if(A&&!(!O||N==null)&&!(A.userId!==O||A.bankId!==N)&&A.oiId===he){if(A.modal?.type==="bancada"){if(A.modal.isNew){In.current=!0,Df(),zr();return}if(A.modal.bancadaId){const I=Sn.find(re=>re.id===A.modal?.bancadaId);if(!I)return;In.current=!0,Df(),Ks(I);return}}In.current=!0,Df()}},[O,N,Sn,he,zr,Ks]);const ps=b.useMemo(()=>{const A=Et(at),I=Je[A];if(I){const et=I.version??at?.updated_at??at?.created_at??null;return{...I,version:et}}if(!at)return;const be=mx(at).map(ZR);return{estado:at.estado,rows:be.length||at.rows,rowsData:be,version:at.updated_at??at.created_at??null}},[at,Je]),to=async A=>{if(he){if(Oe){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}vn(),w(!1);try{Se(!0);const I=A.draftCreatedAt??Je[Rt]?.draftCreatedAt,re={estado:Number(A.estado??0),rows:Number(A.rowsData.length),rows_data:A.rowsData.map(GR)};if(at){const be=A.version??at.updated_at??at.created_at??null;if(!be)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const et={...re,updated_at:be},jt=await UR(at.id,et);Mn(ct=>ct.map(Nn=>Nn.id===jt.id?jt:Nn)),St(jt.updated_at??jt.created_at??Zt),Fn(null),Qs(he,at.id),lt(ct=>{const Nn=`bancada-${at.id}`,{[Nn]:Ws,...Ia}=ct;return Ia}),e({kind:"success",message:"Bancada actualizada"})}else{I&&(re.draft_created_at=I);const be=await rb(he,re);Mn(et=>[...et,be]),St(be.updated_at??be.created_at??Zt),Fn(null),lt(et=>{const{new:jt,...ct}=et;return ct}),Cn(he,null),e({kind:"success",message:"Bancada agregada"})}try{const be=await $f(he);Fn(be.medidores_usuario??null),G(be.medidores_total_code??F),Re(be.saved_at??null),Ie(be.created_at??null)}catch{}se(E?.userId??B),Ee(E?.fullName??Ae),Ce(O!==null),me(!1),na(!1),ja(null),Ti(),$(null),w(!1)}catch(I){if(Vf(I)){at?Pa(he,at.id,A):Cn(he,A),w(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(Ec(I)){at?Pa(he,at.id,A):Cn(he,A),w(!0);return}const re=I?.status??I?.response?.status;if(re===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(re===400){const be=Array.isArray(I?.duplicates)?I.duplicates:Array.isArray(I?.response?.data?.duplicates)?I.response.data.duplicates:[];be.length>0&&Ue(XR(be)),e({kind:"warning",title:"Validacion",message:I?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:I?.message??"Error guardando bancada"})}finally{Se(!1)}}},no=async A=>{if(confirm(`Eliminar bancada #${A.item}?`)){if(Oe){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(Se(!0),!he)throw new Error("No hay OI cargada.");await lb(A.id),Mn(re=>re.filter(be=>be.id!==A.id)),Fn(null),lt(re=>{const be=`bancada-${A.id}`,{[be]:et,...jt}=re;return jt}),Qs(he,A.id);const I=await $f(he);St(I.updated_at??I.created_at??null),Re(I.saved_at??null),Ie(I.created_at??null),se(I.locked_by_user_id??null),Ee(I.locked_by_full_name??null),me(I.read_only_for_current_user??!1),Ce((I.locked_by_user_id??null)===O),Fn(I.medidores_usuario??null),G(I.medidores_total_code??F),e({kind:"success",message:`Bancada #${A.item} eliminada`})}catch(I){e({kind:"error",title:"Error",message:I?.message??"Error eliminando bancada"})}finally{Se(!1)}}},gs=()=>{if(!he){e({kind:"warning",message:"Primero guarda el OI."});return}Aa(!0)},ou=async A=>{if(he)try{Se(!0),await fx(he,A),e({kind:"success",message:"Excel generado"})}catch(I){e({kind:"error",title:"Error",message:I?.message??"Error generando Excel"})}finally{Se(!1)}},ao=()=>{if(!he||!k)return;const A=De??Me;je("oi"),Le(null),Ne(ub(A)),qe(!0)},so=A=>{if(!k)return;je("bancada"),Le(A);const I=A.saved_at??A.created_at??De??Me;Ne(ub(I)),qe(!0)},Bl=async()=>{if(!he||!k)return;const A=PR(Ge);if(!A){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Xe==="bancada"&&!Ye))try{Se(!0),Xe==="oi"?await $R(he,{saved_at:A,propagate_to_bancadas:!0}):Ye&&await qR(Ye.id,{saved_at:A});const I=await If(he);if(Mn(I.bancadas??[]),Fn(I.medidores_usuario??null),G(I.medidores_total_code??0),Re(I.saved_at??null),Ie(I.created_at??null),St(I.updated_at??I.created_at),Ee(I.locked_by_full_name??null),se(I.locked_by_user_id??null),me(I.read_only_for_current_user??!1),Ce((I.locked_by_user_id??null)===O),!j){const re={oi:I.code,q3:I.q3,alcance:I.alcance,pma:I.pma,numeration_type:I.numeration_type??"correlativo"};_(re),xe(re)}qe(!1),Le(null),Ne(""),je("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(I){e({kind:"error",title:"Error",message:I?.message??"Error actualizando fecha"})}finally{Se(!1)}},cu=A=>{vn(),w(!1);const I=Et(at);let re={...A};if(!at){const be=Je[Rt];re.draftCreatedAt||(re.draftCreatedAt=be?.draftCreatedAt??new Date().toISOString()),re.draftId||(re.draftId=be?.draftId??gn())}lt(be=>({...be,[I]:re})),at?Pa(he,at.id,re):Cn(he,re),na(!1)},uu=()=>{if(Oe){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const A=U();xe({...A,numeration_type:A.numeration_type??"correlativo"}),Q(!0)},Mr=()=>{!he||oe||zt("edit")},Ra=()=>{ce&&_(ce),Q(!1),Ke.current=!1,wn(en),Ti(),$(null)},ys=()=>{he&&(Cn(he,null),Object.keys(Je).forEach(A=>{if(!A.startsWith("bancada-"))return;const I=Number(A.replace("bancada-",""));Number.isFinite(I)&&Qs(he,I)})),wn(Tt(he)),wn(Tt(null)),$E(),Ke.current=!1,w(!1),Ti(),$(null),xm(),D0(),Pe(null),Mn([]),ge.current=[],lt({}),Q(!1),xe(null),St(null),Re(null),Ie(null),me(!1),Ee(null),se(null),Ce(!1),Fn(null),G(0),na(!1),ja(null),Aa(!1),qe(!1),pe(!1),Ne(""),Le(null),je("bancada"),_({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Ll=()=>{Te.current=!0,le.current=!0,ys(),a(Gt())},vs=async()=>{if(!he)return!0;const A=ge.current??[];if(A.length===0&&Sn.length===0)return!0;const I=new Map(A.map(be=>[be.id,be])),re=new Map(Sn.map(be=>[be.id,be]));try{for(const jt of Sn)I.has(jt.id)||await lb(jt.id);for(const jt of Sn){const ct=I.get(jt.id);if(!ct||ob(ct)===ob(jt))continue;const Nn=cb(ct),Ws=Nn.length||ct.rows||1,Ia=jt.updated_at??jt.created_at??ct.updated_at??ct.created_at;if(!Ia)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await BR(jt.id,{medidor:ct.medidor??null,estado:ct.estado??0,rows:Ws,rows_data:Nn,current_updated_at:Ia,restore_updated_at:ct.updated_at??null,restore_saved_at:ct.saved_at??null})}for(const jt of A)if(!re.has(jt.id)){const ct=cb(jt),Nn=ct.length||jt.rows||1;await rb(he,{estado:jt.estado??0,rows:Nn,rows_data:ct})}const be=await $f(he),et=be.updated_at??be.created_at;await MR(he,{current_updated_at:et,restore_updated_at:te.current})}catch(be){return e({kind:"error",title:"Error",message:be?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},bs=()=>{we||pe(!0)},ro=async()=>{if(!we){pe(!1),Se(!0);try{if(!await vs())return;he&&ae&&await bc(he,"cancel")}catch{}finally{Se(!1)}Te.current=!0,le.current=!0,ys(),e({kind:"info",message:"Edicion cancelada"}),a(Gt())}},Il=async()=>{if(we)return;pe(!1);let A=!0;if((j||!he)&&(A=!1,await p(async re=>{A=he?await Ys(re):await kl(re)})()),!!A){Se(!0);try{he&&ae&&await bc(he)}catch{}finally{Se(!1)}Te.current=!0,le.current=!0,ys(),e({kind:"info",message:"Cambios guardados"}),a(Gt())}},lo=async()=>{if(!we){Se(!0);try{he&&ae&&await bc(he)}catch{}finally{Se(!1)}Te.current=!0,le.current=!0,ys(),e({kind:"info",message:"OI cerrada"}),a(Gt())}},Ps=b.useMemo(()=>QR(Sn),[Sn]),Ta=$n??Ps,Xs=A=>{if(!A)return"-";const re=/([zZ]|[+-]\d{2}:?\d{2})$/.test(A)?A:`${A}Z`,be=new Date(re);return Number.isNaN(be.getTime())?A:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(be)},Js=at?Ka(he,at.id):yn(he),La=O&&N!=null&&he?{userId:O,bankId:N,oiId:he,bancadaId:at?.id??null,isNew:!at,returnTo:Lt(he),oiCode:U("oi")??null}:null;return c.jsxs("div",{className:"oi-page vi-oi-light",children:[c.jsx(Dl,{show:we}),!m&&c.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),M&&c.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[c.jsx("h1",{className:"h3",children:"Formulario OI"}),c.jsxs("div",{className:"d-flex gap-2",children:[he&&k&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ao,disabled:we,children:"Editar fecha guardado"}),he&&J&&c.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Mr,disabled:we,children:"Editar"})]})]}),Oe&&c.jsx("div",{className:"alert alert-warning mt-2",children:J?"Modo lectura. Use Editar para modificar.":Ae?`Esta OI est siendo editada por ${Ae}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),c.jsxs("form",{onSubmit:p(Ul?Ys:kl),className:`row g-3 mt-1 ${Ul?"vi-form-editing":"vi-form-readonly"}`,children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),c.jsx("input",{id:"oi",className:`form-control ${he&&!(k&&j&&!Oe)?"vi-locked":""}`,...y("oi"),disabled:he?!(k&&j&&!Oe):!1}),x.oi&&c.jsx("div",{className:"text-danger small",children:x.oi.message}),k?c.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el cdigo de OI."}):null]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),c.jsx("select",{id:"q3",className:"form-select",...y("q3",{valueAsNumber:!0}),disabled:!!he&&!j||Oe,children:h?.q3.map(A=>c.jsx("option",{value:A,children:A},A))})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),c.jsx("select",{id:"alcance",className:"form-select",...y("alcance",{valueAsNumber:!0}),disabled:!!he&&!j||Oe,children:h?.alcance.map(A=>c.jsx("option",{value:A,children:A},A))})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),c.jsx("select",{id:"pma",className:"form-select",...y("pma",{valueAsNumber:!0}),disabled:!!he&&!j||Oe,children:h?.pma.map(A=>c.jsx("option",{value:A,children:A},A))}),c.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),c.jsx("input",{id:"presion",className:"form-control",value:isNaN(eo)?"":eo,disabled:!0})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),c.jsxs("select",{id:"numeration_type",className:"form-select",...y("numeration_type"),disabled:!!he&&!j||Oe,children:[c.jsx("option",{value:"correlativo",children:"Correlativo"}),c.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),c.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),c.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[c.jsx("button",{className:"btn btn-primary",disabled:we||!!he&&(!j||Oe),children:he?Ul?"Guardar cambios":"OI guardada":"Guardar OI"}),he&&!j&&oe&&c.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:uu,disabled:we||Oe,children:"Editar OI"}),he&&j&&oe&&c.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Ra,disabled:we,children:"Cancelar edicion"}),J&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Ll,disabled:we,children:"Volver al listado"}),c.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:gs,disabled:!he||we||j,children:"Generar Excel"}),oe&&c.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:lo,disabled:!he||j||we,children:"Cerrar OI"}),oe&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:bs,disabled:we,children:"Cancelar"})]})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{className:"card vi-card-table mt-3",children:[c.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),c.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",Ta," | Total OI: ",F]})]}),c.jsx("button",{className:"btn btn-primary",onClick:zr,disabled:!he||we||j||Oe,children:"Agregar Bancada"})]}),c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"vi-col-60",children:"Item"}),c.jsx("th",{children:"# Medidor"}),c.jsx("th",{children:"Medidores"}),c.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),c.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),c.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),c.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[Sn.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),Sn.map(A=>{const I=A.rows_data?.[0]?.medidor||A.medidor||"",re=A.rows_data?.[(A.rows_data?.length||0)-1]?.medidor||"",be=I&&re&&I!==re?`${I} ... ${re}`:I;return c.jsxs("tr",{children:[c.jsx("td",{children:A.item}),c.jsx("td",{children:be}),c.jsx("td",{children:A.rows}),c.jsx("td",{children:Xs(A.created_at)}),c.jsx("td",{children:Xs(A.saved_at)}),c.jsx("td",{children:Xs(A.updated_at??A.created_at)}),c.jsxs("td",{className:"text-end",children:[k?c.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>so(A),disabled:we||j||de,"aria-label":`Editar fecha guardado bancada #${A.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ks(A),disabled:we||j||!J&&Oe,"aria-label":`${J?"Ver":"Editar"} bancada #${A.item}`,title:J?"Ver":"Editar",children:J?"Ver":"Editar"}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>no(A),disabled:we||j||Oe,"aria-label":`Eliminar bancada #${A.item}`,title:"Eliminar",children:""})]})]},A.id)})]})]})})})]}),Ya&&c.jsx(DR,{show:Ya,title:at?`Editar bancada #${at.item}`:"Nueva bancada",initial:ps,onClose:()=>{vn(),na(!1)},onSubmit:to,onCancelWithDraft:cu,numerationType:Ml,readOnly:Oe,duplicateMap:ve,onClearDuplicate:ql,draftStorageKey:Js,draftMeta:La,isOnline:m,showRetry:_e}),W&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:A=>{A.target===A.currentTarget&&pe(!1)},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>pe(!1)})]}),c.jsx("div",{className:"modal-body",children:c.jsx("p",{children:"Estas seguro de descartar cambios?"})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ro,disabled:we,children:"Descartar cambios"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:Il,disabled:we,children:"Guardar cambios y volver al listado"})]})]})})}),ye&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:A=>{A.target===A.currentTarget&&(qe(!1),Le(null),je("bancada"))},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:A=>{A.preventDefault(),Bl()},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{qe(!1),Le(null),je("bancada")}})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),c.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:Ge,onChange:A=>Ne(A.target.value),required:!0}),c.jsx("div",{className:"form-text",children:Xe==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{qe(!1),Le(null),je("bancada")},children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:we||!Ge,children:"Guardar"})]})]})})}),c.jsx(Wi,{show:da,title:"Contrasea para proteger Excel",onClose:()=>Aa(!1),onConfirm:A=>{Aa(!1),ou(A)}})]})}function nT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function aT(){const e=zn(),a=Ln(),s=e?.token??null,[l,o]=b.useState(()=>!!s);if(b.useEffect(()=>{if(!s){o(!1);return}let x=!1;return o(!0),Qe.get("/auth/me").then(()=>{x||o(!1)}).catch(async _=>{if(x)return;const U=_?.response?.status;if(U===401||U===403){await U0();return}o(!1)}),()=>{x=!0}},[s]),!s)return c.jsx(Vs,{to:"/login",replace:!0});if(l)return c.jsx(Dl,{show:!0});const d=e,m=Qa(d.role,d.username),h=Gm(d),y=Sl(m),p=Bi();if(y&&!(p&&p>0)&&a.pathname!=="/home")return c.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return c.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return c.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const x=nT(a.pathname),_=d.allowedModules;if(x&&Array.isArray(_)&&!_.includes(x))return c.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return c.jsx(Eb,{})}const sT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),rT=.9;function eh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*rT}rem)`}}function ka({to:e,icon:a,label:s,depth:l,collapsed:o}){return c.jsx("li",{className:"vi-sidebar-item",children:c.jsxs(Rb,{to:e,end:!0,className:sT,style:eh(l,o),title:s,"aria-label":s,children:[c.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function fb({icon:e,label:a,depth:s,collapsed:l}){return c.jsx("li",{className:"vi-sidebar-item",children:c.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:eh(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[c.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function pr({groupKey:e,icon:a,label:s,depth:l,collapsed:o,open:d,active:m,onToggle:h,children:y}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return c.jsxs("li",{className:"vi-sidebar-item",children:[c.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:eh(l,o),onClick:()=>{o||h(e)},"aria-expanded":!o&&d,"aria-controls":p,title:s,children:[c.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:c.jsx("i",{className:`ti ${v}`})})]}),!o&&d&&c.jsx("ul",{id:p,className:"list-unstyled mb-0",children:y})]})}function lT({collapsed:e,onToggleSidebar:a}){const s=Ln(),l=zn(),o=!!l,d=Qa(l?.role,l?.username),m=Gm(l),h=d==="admin"||d==="administrator",y=l?.allowedModules,p=Ee=>m||!Array.isArray(y)||y.includes(Ee),v=o&&p("tools_vima_lista"),x=o&&p("tools_actualizacion_bases"),_=o&&p("tools_consol_correlativo"),U=o&&p("tools_consol_no_correlativo"),E=o&&p("oi_formulario"),O=o&&p("oi_listado"),N=o&&h&&p("users_admin"),k=o&&p("future_ot"),D=o&&p("future_logistica"),P=o&&p("future_smart"),R=_||U,C=v||x,X=E||O||k,q=C||X||R,J=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[oe,we]=b.useState(()=>{const Ee=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!Ee)return J;try{const B=JSON.parse(Ee),se={...J};return Object.keys(se).forEach(ae=>{typeof B[ae]=="boolean"&&(se[ae]=B[ae])}),se}catch{return J}}),Se=s.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(oe))},[oe]);const de=b.useMemo(()=>{const Ee=B=>!!Ui({path:B,end:!0},Se);return{vimaToLista:Ee("/oi/tools/vima-to-lista"),actualizacionBases:Ee("/oi/tools/actualizacion-base"),consolidacionCorrelativo:Ee("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:Ee("/oi/tools/consolidacion/no-correlativo"),registroOi:Ee("/oi"),listadoOi:Ee("/oi/list"),users:Ee("/users"),password:Ee("/password"),permisos:Ee("/admin/permisos"),log01Excel:Ee("/logistica/log01/excel")}},[Se]),me=b.useMemo(()=>({oi_consolidacion:de.consolidacionCorrelativo||de.consolidacionNoCorrelativo,oi_formato_ac:de.vimaToLista||de.actualizacionBases,oi_verificacion:de.registroOi||de.listadoOi,oi:de.vimaToLista||de.actualizacionBases||de.consolidacionCorrelativo||de.consolidacionNoCorrelativo||de.registroOi||de.listadoOi,usuarios:de.users||de.password,logistica:de.log01Excel,administrar:de.permisos}),[de]);function Ae(Ee){we(B=>({...B,[Ee]:!B[Ee]}))}return c.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[c.jsxs("div",{className:"vi-sidebar__header",children:[c.jsxs("div",{className:"vi-sidebar__brand",children:[c.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),c.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&c.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:c.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),c.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!o&&c.jsx(ka,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),q&&c.jsxs(pr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:oe.oi,active:me.oi,onToggle:Ae,children:[C&&c.jsxs(pr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:oe.oi_formato_ac,active:me.oi_formato_ac,onToggle:Ae,children:[v&&c.jsx(ka,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&c.jsx(ka,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e})]}),R&&c.jsxs(pr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:oe.oi_consolidacion,active:me.oi_consolidacion,onToggle:Ae,children:[_&&c.jsx(ka,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),U&&c.jsx(ka,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),X&&c.jsxs(pr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:oe.oi_verificacion,active:me.oi_verificacion,onToggle:Ae,children:[k&&c.jsx(fb,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),E&&c.jsx(ka,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),O&&c.jsx(ka,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),D&&c.jsx(pr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:oe.logistica,active:me.logistica,onToggle:Ae,children:c.jsx(ka,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacin Excel",depth:1,collapsed:e})}),P&&c.jsx(fb,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),c.jsxs(pr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:oe.usuarios,active:me.usuarios,onToggle:Ae,children:[N&&c.jsx(ka,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),o&&c.jsx(ka,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&c.jsx(pr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:oe.administrar,active:me.administrar,onToggle:Ae,children:c.jsx(ka,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function iT({sidebarCollapsed:e,onToggleSidebar:a}){const s=zn(),l=s?.username??s?.user??"",o=s?Sl(s.role):!1,[d,m]=b.useState(()=>Bi());b.useEffect(()=>ij(()=>m(Bi())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",y=async()=>{try{await uj()}finally{location.assign("/login")}};return c.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&c.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:c.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),c.jsx("div",{className:"me-auto"}),c.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&c.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",c.jsx("strong",{children:l||"?"}),o&&c.jsxs(c.Fragment,{children:["  ",h,s.techNumber?c.jsxs(c.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&c.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:y,children:"Cerrar sesin"})]})]})}function oT(){const a=Ln().pathname==="/home",[s,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),o=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),c.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[c.jsx(lT,{collapsed:s,onToggleSidebar:o}),c.jsxs("div",{className:"vi-main",children:[c.jsx(iT,{sidebarCollapsed:s,onToggleSidebar:o}),c.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:c.jsx(Eb,{})})]})]})}function cT(){const{toast:e}=Or(),a=Al(),s=Ln(),[,l]=Db(),[o,d]=b.useState(()=>new URLSearchParams(s.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[y,p]=b.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[v,x]=b.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[_,U]=b.useState(()=>{const ee=new URLSearchParams(s.search).get("pageSize"),Ve=ee?Number(ee):20;return Number.isFinite(Ve)&&Ve>0?Ve:20}),[E,O]=b.useState(()=>{const ee=new URLSearchParams(s.search).get("page"),Ve=ee?Number(ee):1;return Number.isFinite(Ve)&&Ve>0?Math.floor(Ve):1}),[N,k]=b.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),D=(E-1)*_,P=b.useRef(!1);b.useEffect(()=>{if(!P.current){P.current=!0;return}const ee=setTimeout(()=>{h(o.trim()),O(1)},300);return()=>clearTimeout(ee)},[o]),b.useEffect(()=>{const ee=new URLSearchParams,Ve=o.trim();Ve&&ee.set("q",Ve),y&&ee.set("dateFrom",y),v&&ee.set("dateTo",v),N&&ee.set("responsableTech",N),E!==1&&ee.set("page",String(E)),_!==20&&ee.set("pageSize",String(_));const ot=s.search.startsWith("?")?s.search.slice(1):s.search;ee.toString()!==ot&&l(ee,{replace:!0})},[y,v,s.search,E,_,N,o,l]);const{data:R,isLoading:C,isError:X,error:q,refetch:J,isFetching:oe}=wr({queryKey:["oi","list",{search:m,dateFrom:y,dateTo:v,responsableTech:N,pageSize:_,offset:D}],queryFn:()=>FR({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:N?Number(N):void 0,limit:_,offset:D}),placeholderData:ee=>ee}),we=zn(),Se=Qa(we?.role,we?.username)!=="technician",{data:de=[],isFetching:me,isError:Ae,error:Ee}=wr({queryKey:["oi","responsables"],queryFn:VR,enabled:Se,staleTime:6e4,retry:!1}),B=Ae?Ee?.message??"No se pudo cargar responsables":"",se=ee=>{if(!ee)return"-";const Ve=ee.endsWith("Z")?ee:`${ee}Z`,ot=new Date(Ve),xt=In=>In.toString().padStart(2,"0");return`${xt(ot.getDate())}/${xt(ot.getMonth()+1)}/${ot.getFullYear()} ${xt(ot.getHours())}:${xt(ot.getMinutes())}`},Ce=R?.items??[],Oe=R?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},j=R?.total??0,Q=R?.limit??_,ce=Q>0?Math.ceil(j/Q):1,xe=10;let De=1,Re=ce;if(ce>xe){const ee=Math.floor(xe/2);De=Math.max(1,E-ee),Re=De+xe-1,Re>ce&&(Re=ce,De=Math.max(1,Re-xe+1))}const[Me,Ie]=b.useState(!1),[ye,qe]=b.useState(null),[Ge,Ne]=b.useState(!1),[Ye,Le]=b.useState(!1),Xe=C||oe||Ge||Ye,je=()=>`${s.pathname}${s.search}`,W=(ee,Ve)=>{try{Mi({id:ee,code:Ve}),e({kind:"success",message:`OI ${Ve} cargada`}),a(`/oi/${ee}?mode=view`,{state:{returnTo:je()}})}catch(ot){e({kind:"error",title:"Error",message:ot?.message??"No se pudo abrir el OI"})}},pe=(ee,Ve)=>{try{Mi({id:ee,code:Ve}),e({kind:"success",message:`OI ${Ve} cargada`}),a(`/oi/${ee}?mode=edit`,{state:{returnTo:je()}})}catch(ot){e({kind:"error",title:"Error",message:ot?.message??"No se pudo abrir el OI"})}},_e=async()=>{try{await Xi()}finally{xm(),a("/oi?mode=edit",{state:{returnTo:je()}})}},w=async(ee,Ve)=>{if(confirm(`Ests seguro de ELIMINAR la ${Ve}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await LR(ee),e({kind:"success",title:"Eliminado",message:`Se elimin ${Ve} correctamente.`}),J()}catch(ot){e({kind:"error",title:"Error",message:ot.message||"No se pudo eliminar la OI"})}},M=ee=>{qe(ee),Ie(!0)},$=async ee=>{if(ye)try{Ne(!0),await fx(ye,ee),e({kind:"success",message:"Excel generado"})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo generar el Excel"})}finally{Ne(!1)}},ge=async()=>{try{Le(!0);const{blob:ee,filename:Ve}=await HR({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:N?Number(N):void 0}),ot=URL.createObjectURL(ee),xt=document.createElement("a");xt.href=ot,xt.download=Ve,document.body.appendChild(xt),xt.click(),URL.revokeObjectURL(ot),xt.remove()}catch(ee){const Ve=ee?.status,ot=ee?.message??"No se pudo exportar el CSV";e(Ve===403?{kind:"error",title:"No autorizado",message:ot}:{kind:"error",title:"Error",message:ot})}finally{Le(!1)}},te=()=>{d(""),h(""),p(""),x(""),O(1),k("")},le=j===0?0:D+1,Te=j===0?0:Math.min(D+Ce.length,j),Ke=j===0?"0 registros":`Mostrando ${le}-${Te} de ${j} registros`;return c.jsxs("div",{children:[c.jsx(Dl,{show:Xe}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[c.jsxs("div",{className:"d-flex align-items-center gap-2",children:[c.jsx("button",{className:"btn btn-primary",onClick:_e,disabled:Xe,title:"Nueva OI",children:"Nueva OI"}),c.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),c.jsxs("div",{className:"d-flex gap-2",children:[Se&&c.jsx("button",{className:"btn btn-outline-secondary",onClick:ge,disabled:Xe,children:Ye?"Exportando...":"Exportar CSV"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:te,disabled:Xe,children:"Limpiar filtros"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>J(),disabled:Xe,children:"Recargar"})]})]}),X&&c.jsx("div",{className:"alert alert-danger",children:q?.message??"Error cargando listado"}),c.jsxs("div",{className:"card vi-card-table",children:[c.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"h6 mb-0",children:"Registros"}),c.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",Oe.medidores_resultado," | OI unicas: ",Oe.oi_unicas," | Medidores (Total OI): ",Oe.medidores_total_oi_unicas]})]}),c.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[c.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:o,onChange:ee=>{d(ee.target.value),O(1)},"aria-label":"Buscar por codigo de OI o medidor"}),c.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:ee=>{p(ee.target.value),O(1)},"aria-label":"Filtrar desde fecha"}),c.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:ee=>{x(ee.target.value),O(1)},"aria-label":"Filtrar hasta fecha"}),Se&&c.jsxs("div",{className:"d-flex flex-column",children:[c.jsxs("select",{className:"form-select form-select-sm",value:N,onChange:ee=>{k(ee.target.value),O(1)},disabled:Xe||me,"aria-label":"Filtrar por responsable",title:"Responsable",children:[c.jsx("option",{value:"",children:"Responsable: Todos"}),de.map(ee=>c.jsx("option",{value:String(ee.tech_number),children:ee.full_name},ee.tech_number))]}),B?c.jsx("small",{className:"text-danger",children:B}):null]}),c.jsxs("div",{className:"d-flex align-items-center",children:[c.jsx("span",{className:"me-1 small",children:"Mostrar"}),c.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:ee=>{const Ve=Number(ee.target.value)||20;U(Ve),O(1)},"aria-label":"Registros por pgina",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]})]}),c.jsxs("div",{className:"card-body p-0",children:[c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:"OI"}),c.jsx("th",{children:"Medidores"}),c.jsx("th",{children:"Q3"}),c.jsx("th",{children:"Alcance"}),c.jsx("th",{children:"PMA"}),c.jsx("th",{children:"Banco"}),c.jsx("th",{children:"Tcnico"}),c.jsx("th",{children:"Responsable"}),c.jsx("th",{children:"Creacin"}),c.jsx("th",{children:"Guardado"}),c.jsx("th",{children:"lt. mod."}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[!Xe&&Ce.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:j>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),Ce.map(ee=>c.jsxs("tr",{children:[c.jsx("td",{children:ee.id}),c.jsx("td",{children:ee.code}),c.jsx("td",{title:"Mi registro / Total OI",children:`${ee.medidores_usuario??0} / ${ee.medidores_total_code??0}`}),c.jsx("td",{children:ee.q3}),c.jsx("td",{children:ee.alcance}),c.jsx("td",{children:ee.pma}),c.jsx("td",{children:ee.banco_id}),c.jsx("td",{children:ee.tech_number}),c.jsx("td",{children:ee.creator_name}),c.jsx("td",{children:se(ee.created_at)}),c.jsx("td",{children:se(ee.saved_at)}),c.jsx("td",{children:se(ee.updated_at)}),c.jsxs("td",{className:"text-end",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>W(ee.id,ee.code),disabled:Xe,title:"Ver OI","aria-label":`Ver OI ${ee.code}`,children:"Ver"}),c.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>pe(ee.id,ee.code),disabled:Xe,title:"Editar OI","aria-label":`Editar OI ${ee.code}`,children:"Editar"}),c.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>M(ee.id),disabled:Xe,title:"Descargar Excel","aria-label":`Descargar Excel ${ee.code}`,children:"Excel"}),Se&&c.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>w(ee.id,ee.code),disabled:Xe,title:"Eliminar OI (Solo Admin)",children:""})]})]},ee.id))]})]})}),ce>1&&c.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:c.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[c.jsx("li",{className:`page-item ${E===1?"disabled":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>O(ee=>Math.max(1,ee-1)),disabled:E===1,children:""})}),Array.from({length:Re-De+1},(ee,Ve)=>{const ot=De+Ve;return c.jsx("li",{className:`page-item ${ot===E?"active":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>O(ot),children:ot})},ot)}),c.jsx("li",{className:`page-item ${E===ce?"disabled":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>O(ee=>Math.min(ce,ee+1)),disabled:E===ce,children:"Siguiente"})})]})})]})]}),c.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:c.jsx("small",{className:"text-muted",children:Ke})}),c.jsx(Wi,{show:Me,title:"Contrasea para proteger Excel",onClose:()=>{Ie(!1),qe(null)},onConfirm:ee=>{Ie(!1),$(ee)}})]})}function uT(){const{toast:e}=Or(),a=zn(),s=Qa(a?.role,a?.username),l=s==="admin"||s==="administrator",o=Gm(a),[d,m]=b.useState(!1),[h,y]=b.useState(!1),[p,v]=b.useState(null),{data:x,refetch:_,isLoading:U}=wr({queryKey:["users"],queryFn:async()=>(await Qe.get("/auth/users")).data,enabled:l}),{register:E,handleSubmit:O,reset:N}=Vc(),k=async R=>{try{y(!0),await Qe.post("/auth/users",{...R,tech_number:Number(R.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),m(!1),N(),_()}catch(C){e({kind:"error",title:"Error",message:C.response?.data?.detail||"Error al crear"})}finally{y(!1)}},D=async R=>{if(confirm(`Eliminar usuario ${R.username}?
Esto solo es posible si no tiene registros.`))try{y(!0),await Qe.delete(`/auth/users/${R.id}`),e({kind:"success",message:"Usuario eliminado"}),_()}catch(C){e({kind:"error",title:"No se puede eliminar",message:C.response?.data?.detail||C.message})}finally{y(!1)}},P=async R=>{if(p)try{y(!0),await Qe.put(`/auth/users/${p.id}/password`,{new_password:R}),e({kind:"success",message:`Contrasea de ${p.username} actualizada`}),v(null)}catch(C){e({kind:"error",message:C.response?.data?.detail||"Error actualizando clave"})}finally{y(!1)}};return l?c.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[c.jsx(Dl,{show:U||h}),c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[c.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),c.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:"+ Nuevo Usuario"})]}),c.jsx("div",{className:"card shadow-sm",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover align-middle mb-0",children:[c.jsx("thead",{className:"table-light",children:c.jsxs("tr",{children:[c.jsx("th",{children:"Usuario"}),c.jsx("th",{children:"Nombre"}),c.jsx("th",{children:"Rol"}),c.jsx("th",{children:"N Tcnico"}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[x?.map(R=>c.jsxs("tr",{children:[c.jsx("td",{className:"fw-bold",children:R.username}),c.jsxs("td",{children:[R.first_name," ",R.last_name]}),c.jsx("td",{children:(()=>{const C=Qa(R.role,R.username),X=R.username.toLowerCase()==="admin"?"Superusuario":C==="administrator"?"Administrador":C==="technician"?"Tcnico":"Estndar",q=R.username.toLowerCase()==="admin"?"bg-danger":C==="administrator"?"bg-warning text-dark":C==="technician"?"bg-info text-dark":"bg-secondary";return c.jsx("span",{className:`badge ${q}`,children:X})})()}),c.jsx("td",{children:R.tech_number}),c.jsxs("td",{className:"text-end",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Cambiar contrasea","aria-label":`Cambiar contrasea de ${R.username}`,disabled:R.username==="admin"||!o&&Qa(R.role,R.username)==="administrator",onClick:()=>v(R),children:c.jsx("i",{className:"ti ti-key"})}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${R.username}`,disabled:R.username==="admin"||!o&&Qa(R.role,R.username)==="administrator",onClick:()=>D(R),children:c.jsx("i",{className:"ti ti-trash"})})]})]},R.id)),x?.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),d&&c.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:O(k),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",children:"Nuevo Usuario"}),c.jsx("button",{type:"button",className:"btn-close",onClick:()=>m(!1)})]}),c.jsxs("div",{className:"modal-body row g-3",children:[c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Usuario"}),c.jsx("input",{className:"form-control",...E("username",{required:!0})})]}),c.jsx("div",{className:"col-6",children:c.jsx(Li,{label:"Contrasea",...E("password",{required:!0}),autoComplete:"new-password"})}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Nombre"}),c.jsx("input",{className:"form-control",...E("first_name",{required:!0})})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Apellido"}),c.jsx("input",{className:"form-control",...E("last_name",{required:!0})})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Rol"}),c.jsxs("select",{className:"form-select",...E("role"),children:[c.jsx("option",{value:"technician",children:"Tcnico"}),c.jsx("option",{value:"standard",children:"Estndar"}),o?c.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"N Tcnico"}),c.jsx("input",{type:"number",className:"form-control",...E("tech_number",{required:!0})}),c.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estndar)"})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})})}),c.jsx(Wi,{show:!!p,title:`Cambiar contrasea de ${p?.username}`,onClose:()=>v(null),onConfirm:P,confirmLabel:"Cambiar contrasea",helpText:"Esta accin cambia la contrasea de inicio de sesin del usuario."})]}):c.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function dT(){const{toast:e}=Or(),[a,s]=b.useState(""),[l,o]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,y=async p=>{if(p.preventDefault(),!!h)try{m(!0),await oj(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),o("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return c.jsx("div",{className:"container py-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"card shadow-sm",children:[c.jsx("div",{className:"card-header",children:c.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),c.jsxs("form",{onSubmit:y,children:[c.jsxs("div",{className:"card-body",children:[c.jsx("div",{className:"mb-3",children:c.jsx(Li,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),c.jsx("div",{className:"mb-3",children:c.jsx(Li,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>o(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),c.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),o("")},disabled:d,children:"Limpiar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function fT(){const{data:e}=await Qe.get("/admin/permisos");return e}async function mT(e,a){const{data:s}=await Qe.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const px=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"future_logistica",label:"Logstica (FUTURO)",path:"FUTURO"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}];function mb(e){const a=new Set(px.map(o=>o.id)),s=new Set,l=[];for(const o of e)!a.has(o)||s.has(o)||(s.add(o),l.push(o));return l}function hT(){const e=zm(),{toast:a}=Or(),{data:s,isLoading:l,error:o}=wr({queryKey:["admin","permisos"],queryFn:fT}),[d,m]=b.useState(null),[h,y]=b.useState([]),p=(d?.username??"").toLowerCase()==="admin",v=N=>{m(N),y(mb(N.allowedModules??[]))},x=()=>{m(null),y([])},_=IN({mutationFn:async N=>mT(N.userId,N.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),x()},onError:N=>{const k=N?.response?.data?.detail??N?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(k)})}}),U=b.useMemo(()=>s??[],[s]),E=N=>{y(k=>{const D=new Set(k);return D.has(N)?D.delete(N):D.add(N),Array.from(D)})},O=()=>{d&&_.mutate({userId:d.id,allowedModules:mb(h)})};return c.jsxs("div",{className:"container-fluid",children:[c.jsx(Dl,{show:_.isPending,label:"Guardando permisos..."}),c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),c.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),l?c.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):o?c.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm align-middle",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Usuario"}),c.jsx("th",{children:"Rol"}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[U.map(N=>c.jsxs("tr",{children:[c.jsx("td",{children:N.username}),c.jsx("td",{children:N.role}),c.jsx("td",{className:"text-end",children:c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>v(N),disabled:(N.username??"").toLowerCase()==="admin",children:"Editar"})})]},N.id)),U.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})})]})})}),d&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:N=>{N.target===N.currentTarget&&x()},children:c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",d.username]}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:x})]}),c.jsxs("div",{className:"modal-body",children:[p?c.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",c.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,c.jsx("div",{className:"row",children:px.map(N=>c.jsx("div",{className:"col-md-6 mb-2",children:c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${d.id}-${N.id}`,checked:h.includes(N.id),onChange:()=>E(N.id),disabled:_.isPending||p}),c.jsxs("label",{className:"form-check-label",htmlFor:`perm-${d.id}-${N.id}`,children:[N.label," ",c.jsxs("span",{className:"text-muted",children:["(",N.path,")"]})]})]})},N.id))}),c.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:x,disabled:_.isPending,children:"Cancelar"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:O,disabled:_.isPending||p,children:"Guardar"})]})]})})})]})}function pT(e){const a=Qe.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function gT(e,a){return Qe.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function yT(e,a){return Qe.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function hb(e,a,s){const l=pT(`/integrations/vima-to-lista/progress/${e}`),o=zn()?.token,d=await fetch(l,{method:"GET",headers:o?{Authorization:`Bearer ${o}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let y="";for(;;){const{value:p,done:v}=await m.read();if(v)break;y+=h.decode(p,{stream:!0});let x;for(;(x=y.indexOf(`
`))>=0;){const _=y.slice(0,x).trim();if(y=y.slice(x+1),!!_)try{a(JSON.parse(_))}catch{}}}}function vl(e){return`${e.name}::${e.size}::${e.lastModified}`}function vT(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function th(e,a){const s=vT(a);if(!s)return e;const l=s.filter(o=>o.startsWith("."));return l.length===0?e:e.filter(o=>l.some(d=>o.name.toLowerCase().endsWith(d)))}function bT(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],o=[],d=new Set(e.map(vl));for(const m of a){const h=vl(m);if(d.has(h)){o.push(m);continue}d.add(h),s.push(m),l.push(m)}return{merged:s,added:l,duplicates:o}}function Fi({label:e,accept:a,disabled:s=!1,file:l,onChange:o}){const d=b.useRef(null),m=b.useRef(0),[h,y]=b.useState(!1),p=()=>{s||d.current?.click()},v=()=>{s||(d.current&&(d.current.value=""),o(null))},x=N=>{o(N.target.files?.[0]??null),N.currentTarget.value=""},_=N=>{N.preventDefault(),N.stopPropagation(),!s&&(m.current+=1,y(!0))},U=N=>{N.preventDefault(),N.stopPropagation()},E=N=>{N.preventDefault(),N.stopPropagation(),!s&&(m.current=Math.max(0,m.current-1),m.current===0&&y(!1))},O=N=>{if(N.preventDefault(),N.stopPropagation(),m.current=0,y(!1),s)return;const k=N.dataTransfer?.files?Array.from(N.dataTransfer.files):[],P=th(k,a)[0]??null;P&&(d.current&&(d.current.value=""),o(P))};return c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:e}),c.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),c.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:_,onDragOver:U,onDragLeave:E,onDrop:O,"aria-disabled":s?"true":"false",children:c.jsxs("div",{className:"input-group",children:[c.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:s||!l,children:"Eliminar"}),c.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const xT={status:"estado",progress:"progreso",complete:"completado",error:"error"},ST={received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},_T=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function gx(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function _l(e){if(!e)return"";const a=e.toLowerCase();return gx(xT[a]??e)}function wl(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return gx(ST[a]??Ar(s))}function Ar(e){if(!e)return"";let a=e;for(const[s,l]of _T)a=a.replace(s,l);return a}function wT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function NT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function ET(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[o,d]=b.useState(""),[m,h]=b.useState(11),[y,p]=b.useState(11),[v,x]=b.useState(!0),[_,U]=b.useState(!0),[E,O]=b.useState(!0),[N,k]=b.useState(!0),[D,P]=b.useState(""),[R,C]=b.useState(null),[X,q]=b.useState(null),[J,oe]=b.useState(null),[we,Se]=b.useState([]),[de,me]=b.useState(""),Ae=b.useRef(null),Ee=b.useRef(null),[B,se]=b.useState(!1),[ae,Ce]=b.useState(!1),[Oe,j]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Q=b.useMemo(()=>!!e&&!!s&&!R,[e,s,R]);function ce(Ne){Se(Le=>[Ne,...Le].slice(0,200));const Ye=typeof Ne.percent=="number"?Ne.percent:typeof Ne.progress=="number"?Ne.progress:null;Ye!=null&&Number.isFinite(Ye)&&oe(Math.max(0,Math.min(100,Ye)))}function xe(){Ae.current?.abort(),Ae.current=null}function De(){R&&xe()}function Re(Ne,Ye){if(!e||!s)throw new Error("Faltan archivos");const Le=new FormData;Le.append("vima_file",e),Le.append("lista_file",s);const Xe=(Ye??o).trim();return Xe&&Le.append("vima_password",Xe),Le.append("vima_start_row",String(m)),Le.append("lista_start_row",String(y)),Le.append("require_all_g_to_n",v?"true":"false"),Le.append("incremental",_?"true":"false"),Le.append("strict_incremental",E?"true":"false"),Le.append("replicate_merges",N?"true":"false"),D.trim()&&Le.append("oi_pattern",D.trim()),Le.append("operation_id",Ne),Le}function Me(){Ee.current=null,Ce(!1)}function Ie(Ne,Ye){Ee.current=Ne,j(Ye),Ce(!0)}function ye(Ne,Ye){if(!ft.isAxiosError(Ne)){me(String(Ne));return}const Le=Ne;if(Le.code==="ERR_CANCELED")return;const Xe=Le.response?.headers?.["x-code"],je=Le.response?.data?.detail??Le.message;if(Xe==="PASSWORD_REQUIRED"){me(""),Ie(Ye,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Xe==="WRONG_PASSWORD"){me(""),Ie(Ye,"Contrasea incorrecta. Intenta nuevamente.");return}me(String(je))}async function qe(Ne){me(""),q(null),Se([]),oe(0);const Ye=crypto.randomUUID();Ae.current=new AbortController,hb(Ye,ce,Ae.current.signal).catch(()=>{}),C("dry");try{const Le=Re(Ye,Ne?.passwordOverride),Xe=await gT(Le,Ae.current.signal);q(Xe.data)}catch(Le){ye(Le,"dry")}finally{xe(),C(null)}}async function Ge(Ne){me(""),Se([]),oe(0);const Ye=crypto.randomUUID();Ae.current=new AbortController,hb(Ye,ce,Ae.current.signal).catch(()=>{}),C("upload");try{const Le=Re(Ye,Ne?.passwordOverride),Xe=await yT(Le,Ae.current.signal),je=Xe.headers?.["content-disposition"],W=wT(je)??"LISTA_SALIDA.xlsx";NT(Xe.data,W)}catch(Le){ye(Le,"upload")}finally{xe(),C(null)}}return c.jsxs("div",{className:"container-fluid",children:[c.jsxs("div",{className:"row gap-20",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),c.jsx("div",{className:"mB-15",children:c.jsx(Fi,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!R})}),c.jsx("div",{className:"mB-15",children:c.jsx(Fi,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!R})}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),c.jsx("input",{className:"form-control",type:"password",value:o,onChange:Ne=>d(Ne.target.value),placeholder:"(opcional)"})]}),B?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),c.jsx("input",{className:"form-control",type:"number",value:m,onChange:Ne=>h(Number(Ne.target.value))})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),c.jsx("input",{className:"form-control",type:"number",value:y,onChange:Ne=>p(Number(Ne.target.value))})]})]}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),c.jsx("input",{className:"form-control",value:D,onChange:Ne=>P(Ne.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),c.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),c.jsxs("div",{className:"row mT-10",children:[c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:Ne=>x(Ne.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:N,onChange:Ne=>k(Ne.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:_,onChange:Ne=>U(Ne.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:E,onChange:Ne=>O(Ne.target.checked),disabled:!_}),c.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})})]})]}):null,de&&c.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:de}),c.jsx("div",{className:"d-flex justify-content-end mT-10",children:c.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>se(Ne=>!Ne),disabled:!!R,children:B?"Menos Opciones":"Ms Opciones"})}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary",disabled:!Q,onClick:()=>void Ge(),children:R==="upload"?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger",disabled:!R,onClick:De,children:"Cancelar"}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!Q,onClick:()=>void qe(),children:R==="dry"?"Analizando...":"Analizar"})]}),X&&c.jsxs("div",{className:"mT-20",children:[c.jsx("h5",{className:"c-grey-900",children:"Resumen"}),c.jsxs("ul",{className:"mB-0",children:[c.jsxs("li",{children:["Filas a copiar: ",c.jsx("b",{children:X.would_copy})]}),c.jsxs("li",{children:["Fila inicio escritura (LISTA): ",c.jsx("b",{children:X.start_write_row})]}),c.jsxs("li",{children:["ltimo OI en LISTA: ",c.jsx("b",{children:String(X.last_oi_in_lista??"-")})]}),c.jsxs("li",{children:["Primer OI a copiar: ",c.jsx("b",{children:String(X.first_oi_to_copy??"-")})]}),c.jsxs("li",{children:["ltimo OI a copiar: ",c.jsx("b",{children:String(X.last_oi_to_copy??"-")})]})]})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),R?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${J??0}%`},"aria-valuenow":J??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:we.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:we.map((Ne,Ye)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:_l(Ne.type)})," ",Ne.stage?c.jsxs("span",{className:"text-muted",children:["[",wl(Ne.stage),"]"]}):null,typeof Ne.percent=="number"?c.jsxs("span",{className:"text-muted",children:["  ",Ne.percent.toFixed(1),"%"]}):null]}),c.jsx("div",{className:"text-muted",children:Ar(Ne.message??Ne.detail??"")}),Ne.code?c.jsxs("div",{className:"text-muted",children:["Cdigo: ",Ne.code]}):null]},Ye))})})]})})]}),c.jsx(Wi,{show:ae,title:"Archivo protegido",confirmLabel:"Continuar",helpText:Oe,onClose:Me,onConfirm:Ne=>{d(Ne),Ce(!1);const Ye=Ee.current;Ee.current=null,Ye&&(Ye==="dry"?qe({passwordOverride:Ne}):Ge({passwordOverride:Ne}))}})]})}const jT=(...e)=>{};function lu(e){const a=Qe.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function yx(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let o="";for(;;){const{value:d,done:m}=await s.read();if(m)break;o+=l.decode(d,{stream:!0});let h;for(;(h=o.indexOf(`
`))>=0;){const y=o.slice(0,h).trim();if(o=o.slice(h+1),!!y)try{a(JSON.parse(y))}catch{}}}}function bl(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function nh(e,a,s){const l=lu(`/integrations/vima-to-lista/progress/${e}`),o=zn()?.token,d=await fetch(l,{method:"GET",headers:{...o?{Authorization:`Bearer ${o}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw bl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await yx(d,a)}async function AT(e,a,s){const l=lu(`/logistica/log01/progress/${e}`),o=zn()?.token,d=await fetch(l,{method:"GET",headers:{...o?{Authorization:`Bearer ${o}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const x=d.headers.get("X-Code")??void 0;throw bl(`No se pudo abrir el stream (${d.status})`,d.status,x)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw bl("Stream no es NDJSON",d.status);if(!d.body)throw bl("Stream sin body",d.status);const h=d.body.getReader(),y=new TextDecoder("utf-8");let p="",v=!1;for(;;){const{value:x,done:_}=await h.read();if(_)break;!v&&x&&x.length&&(v=!0),p+=y.decode(x,{stream:!0});let U;for(;(U=p.indexOf(`
`))>=0;){const E=p.slice(0,U).trim();if(p=p.slice(U+1),!!E)try{const O=JSON.parse(E);jT("[LOG01] progress event =",O),a(O)}catch{}}}}async function OT(e,a,s){const l=lu("/bases/actualizar/dry-run-upload"),o=zn()?.token,d=await fetch(l,{method:"POST",headers:o?{Authorization:`Bearer ${o}`}:void 0,body:e,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const y=await d.json();y?.detail&&(h=String(y.detail))}catch{}throw bl(h,d.status,m)}await yx(d,a)}async function CT(e,a){return Qe.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function RT(e,a){return Qe.post("/logistica/log01/start",e,{signal:a})}async function TT(e,a,s){const l=lu(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),o=zn()?.token,d=await fetch(l,{method:"GET",headers:o?{Authorization:`Bearer ${o}`}:void 0,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw bl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function DT(e,a){return Qe.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function zT(e,a){return Qe.get(`/logistica/log01/result/${encodeURIComponent(e)}/no-conforme`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function MT(e,a){return Qe.get(`/logistica/log01/result/${encodeURIComponent(e)}/manifest`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function kT(e){await Qe.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function vx(){const{data:e}=await Qe.get("/merge/config/upload-limits");return e}async function bx(e,a,s){return Qe.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function xx(e){await Qe.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function UT(e){const{data:a}=await Qe.post("/tools/files/upload",e);return a}async function qT(e){const{data:a}=await Qe.post("/tools/excel/inspect",e);return a}async function BT(e){const{data:a}=await Qe.post("/tools/excel/update",e);return a}async function LT(e){const{data:a}=await Qe.post("/tools/excel/change-password",e);return a}async function IT(e){const{data:a}=await Qe.post("/tools/excel/validate",e);return a}function $T({show:e,disabled:a=!1,title:s,accept:l,files:o,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:y}){const p=b.useRef(null),v=b.useRef(0),[x,_]=b.useState(!1),[U,E]=b.useState("");if(b.useEffect(()=>{if(!e)return;const q=J=>{J.key==="Escape"&&d()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[e,d]),b.useEffect(()=>{e||_(!1)},[e]),b.useEffect(()=>{e&&E("")},[e]),!e)return null;const O=q=>{const J=th(q,l);if(J.length===0)return;const oe=new Set(o.map(vl)),we=new Set(oe),Se=[],de=[];for(const me of J){const Ae=vl(me);if(we.has(Ae)){de.push(me);continue}we.add(Ae),Se.push(me)}if(de.length>0){const me=Array.from(new Set(de.map(Ae=>Ae.name)));E(me.length===1?`El archivo "${me[0]}" ya se encuentra cargado.`:`Los archivos ya se encuentran cargados: ${me.join(", ")}.`)}Se.length>0&&m(Se)},N=()=>{a||p.current?.click()},k=q=>{const J=q.target.files?Array.from(q.target.files):[];O(J),q.currentTarget.value=""},D=()=>{a||(p.current&&(p.current.value=""),y())},P=q=>{q.preventDefault(),q.stopPropagation(),!a&&(v.current+=1,_(!0))},R=q=>{q.preventDefault(),q.stopPropagation()},C=q=>{q.preventDefault(),q.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&_(!1))},X=q=>{if(q.preventDefault(),q.stopPropagation(),v.current=0,_(!1),a)return;const J=q.dataTransfer?.files?Array.from(q.dataTransfer.files):[];O(J)};return c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:q=>{q.target===q.currentTarget&&d()},children:c.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),c.jsxs("div",{className:"modal-body",children:[c.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:k,disabled:a}),U?c.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[c.jsx("div",{children:U}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>E("")})]}):null,c.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:P,onDragOver:R,onDragLeave:C,onDrop:X,"aria-disabled":a?"true":"false",children:[c.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",c.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:N,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?c.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[c.jsx("div",{className:"text-muted",children:o.length===0?"No se han seleccionado archivos.":o.length===1?"1 archivo seleccionado":`${o.length} archivos seleccionados`}),c.jsxs("div",{className:"d-flex gap-10",children:[c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:N,disabled:a,children:"Agregar ms"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:D,disabled:a||o.length===0,children:"Eliminar todos"})]})]}),o.length===0?null:c.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:c.jsx("ul",{className:"list-group",children:o.map(q=>{const J=vl(q);return c.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[c.jsx("div",{className:"text-truncate",style:{minWidth:0},children:q.name}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(J),disabled:a,children:"Eliminar"})]},J)})})})]}),c.jsx("div",{className:"modal-footer",children:c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function FT(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(s=>s.name)));return a.length===1?`El archivo "${a[0]}" ya se encuentra cargado.`:`Los archivos ya se encuentran cargados: ${a.join(", ")}.`}function iu({label:e,title:a,accept:s,disabled:l=!1,files:o,setFiles:d}){const[m,h]=b.useState(!1),[y,p]=b.useState(!1),[v,x]=b.useState(""),_=b.useRef(0),U=b.useMemo(()=>o.length===0?"No se han seleccionado archivos.":o.length===1?"1 archivo seleccionado":`${o.length} archivos seleccionados`,[o.length]),E=o.length===0?"Agregar archivos":"Modificar/agregar archivos",O=R=>{const C=th(R,s);C.length!==0&&d(X=>{const{merged:q,duplicates:J}=bT(X,C);return J.length>0&&x(FT(J)),q})},N=R=>{R.preventDefault(),R.stopPropagation(),!l&&(_.current+=1,p(!0))},k=R=>{R.preventDefault(),R.stopPropagation()},D=R=>{R.preventDefault(),R.stopPropagation(),!l&&(_.current=Math.max(0,_.current-1),_.current===0&&p(!1))},P=R=>{if(R.preventDefault(),R.stopPropagation(),_.current=0,p(!1),l)return;const C=R.dataTransfer?.files?Array.from(R.dataTransfer.files):[];O(C)};return c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:e}),c.jsx("div",{className:`vi-file-drop-target${y?" is-dragover":""}`,onDragEnter:N,onDragOver:k,onDragLeave:D,onDrop:P,"aria-disabled":l?"true":"false",children:c.jsxs("div",{className:"input-group",children:[c.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>h(!0),disabled:l,children:E}),c.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:U})]})}),v?c.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[c.jsx("div",{children:v}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>x("")})]}):null,c.jsx($T,{show:m,disabled:l,title:a,accept:s,files:o,onClose:()=>h(!1),onAddFiles:O,onRemoveFile:R=>d(C=>C.filter(X=>vl(X)!==R)),onRemoveAll:()=>d([])})]})}function HT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function VT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function ZT(e){if(!ft.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const o=l?.detail??a.message;return{detail:String(o),code:s}}function GT(){const[e,a]=b.useState(null),[s,l]=b.useState([]),[o,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,x]=b.useState(9),[_,U]=b.useState("ERROR FINAL"),[E,O]=b.useState(!0),[N,k]=b.useState(!1),[D,P]=b.useState(!1),[R,C]=b.useState(null),[X,q]=b.useState(null),[J,oe]=b.useState([]),[we,Se]=b.useState(""),de=b.useRef(null),me=b.useRef(null),[Ae,Ee]=b.useState(!1),[B,se]=b.useState(!1),[ae,Ce]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Oe=b.useMemo(()=>!!e&&s.length>0&&!R,[e,s,R]);function j(ye){oe(Ge=>[ye,...Ge].slice(0,200));const qe=typeof ye.percent=="number"?ye.percent:typeof ye.progress=="number"?ye.progress:null;qe!=null&&Number.isFinite(qe)&&q(Math.max(0,Math.min(100,qe)))}function Q(){de.current?.abort(),de.current=null}function ce(){R&&Q()}function xe(ye,qe){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const Ge=new FormData;Ge.append("base_file",e);for(const Ye of s)Ge.append("oi_files",Ye);const Ne=(qe??o).trim();return Ne&&Ge.append("default_password",Ne),m.trim()&&Ge.append("per_file_passwords_json",m.trim()),y.trim()&&Ge.append("oi_pattern",y.trim()),Ge.append("oi_start_row",String(v)),_.trim()&&Ge.append("base_sheet",_.trim()),ye&&Ge.append("operation_id",ye),Ge}function De(){me.current=null,se(!1)}function Re(ye,qe){me.current=ye,Ce(qe),se(!0)}async function Me(ye){Se(""),oe([]),q(0),de.current=new AbortController,C("dry");try{const qe=xe(void 0,ye?.passwordOverride);await OT(qe,j,de.current.signal)}catch(qe){if(qe?.name==="AbortError")return;const Ge=qe?.code,Ne=String(qe?.message??qe);if(Ge==="PASSWORD_REQUIRED"){Se(""),Re("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ge==="WRONG_PASSWORD"){Se(""),Re("dry","Contrasea incorrecta. Intenta nuevamente.");return}else Se(Ne)}finally{Q(),C(null)}}async function Ie(ye){Se(""),oe([]),q(0);const qe=crypto.randomUUID();de.current=new AbortController,nh(qe,j,de.current.signal).catch(()=>{}),C("upload");try{const Ge=xe(qe,ye?.passwordOverride);Ge.append("replicate_merges",E?"true":"false"),Ge.append("replicate_row_heights",N?"true":"false"),Ge.append("replicate_col_widths",D?"true":"false");const Ne=await CT(Ge,de.current.signal),Ye=Ne.headers["content-disposition"],Le=Ne.headers["x-file-name"],Xe=HT(Ye)??Le??"base_actualizada.xlsx";VT(Ne.data,Xe)}catch(Ge){if(ft.isAxiosError(Ge)&&Ge.code==="ERR_CANCELED")return;const{detail:Ne,code:Ye}=await ZT(Ge);if(Ye==="PASSWORD_REQUIRED"){Se(""),Re("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ye==="WRONG_PASSWORD"){Se(""),Re("upload","Contrasea incorrecta. Intenta nuevamente.");return}else Se(Ne)}finally{Q(),C(null)}}return c.jsxs("div",{className:"container-fluid",children:[c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),c.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Fi,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!R})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(iu,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!R})}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:o,onChange:ye=>d(ye.target.value),disabled:!!R})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),c.jsx("input",{className:"form-control",value:_,onChange:ye=>U(ye.target.value),disabled:!!R})]}),Ae?c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),c.jsx("input",{className:"form-control",value:y,onChange:ye=>p(ye.target.value),disabled:!!R})]}):null,c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio OI"}),c.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:ye=>x(Number(ye.target.value||9)),disabled:!!R})]}),c.jsxs("div",{className:"col-12 mB-15",children:[c.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),c.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:ye=>h(ye.target.value),disabled:!!R,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),Ae?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:E,onChange:ye=>O(ye.target.checked),disabled:!!R}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:N,onChange:ye=>k(ye.target.checked),disabled:!!R}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:D,onChange:ye=>P(ye.target.checked),disabled:!!R}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),we&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:we}),c.jsx("div",{className:"d-flex justify-content-end mT-10",children:c.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Ee(ye=>!ye),disabled:!!R,children:Ae?"Menos Opciones":"Ms Opciones"})}),c.jsxs("div",{className:"d-flex gap-10 mT-15",children:[c.jsx("button",{className:"btn btn-primary",disabled:!Oe,onClick:()=>void Ie(),children:R==="upload"?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger",disabled:!R,onClick:ce,children:"Cancelar"}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!Oe,onClick:()=>void Me(),children:R==="dry"?"Analizando...":"Analizar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),R?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${X??0}%`},"aria-valuenow":X??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:J.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:J.map((ye,qe)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:_l(ye.type)})," ",ye.stage?c.jsxs("span",{className:"text-muted",children:["[",wl(ye.stage),"]"]}):null,typeof ye.percent=="number"?c.jsxs("span",{className:"text-muted",children:["  ",ye.percent.toFixed(1),"%"]}):null]}),c.jsx("div",{className:"text-muted",children:Ar(ye.message??ye.detail??"")}),ye.code?c.jsxs("div",{className:"text-muted",children:["Cdigo: ",ye.code]}):null]},qe))})})]})})]}),c.jsx(Wi,{show:B,title:"Archivo protegido",confirmLabel:"Continuar",helpText:ae,onClose:De,onConfirm:ye=>{d(ye),se(!1);const qe=me.current;me.current=null,qe&&(qe==="dry"?Me({passwordOverride:ye}):Ie({passwordOverride:ye}))}})]})}function QT(){return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),c.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6 mB-15",children:c.jsx("div",{className:"card h-100",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h5",{className:"card-title",children:"Correlativo"}),c.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),c.jsx(jc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),c.jsx("div",{className:"col-md-6 mB-15",children:c.jsx("div",{className:"card h-100",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h5",{className:"card-title",children:"No correlativo"}),c.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),c.jsx(jc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function YT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function KT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function PT(e){if(!ft.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function XT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[o,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,x]=b.useState(null),[_,U]=b.useState([]),E=b.useRef(null),O=b.useRef(null),N=b.useMemo(()=>!!s&&o.length>0&&!m,[s,o,m]);b.useEffect(()=>{vx().then(a).catch(()=>a(null))},[]);function k(C){U(q=>[C,...q].slice(0,200));const X=typeof C.percent=="number"?C.percent:typeof C.progress=="number"?C.progress:null;X!=null&&Number.isFinite(X)&&x(Math.max(0,Math.min(100,X)))}function D(){E.current?.abort(),E.current=null}function P(){if(!m)return;const C=O.current;C&&xx(C).catch(()=>{}),k({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function R(){if(p(""),U([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(o.length===0){p("Selecciona al menos un archivo de tcnico.");return}const C=new FormData;C.append("master",s);for(const q of o)C.append("technicians",q);const X=crypto.randomUUID();O.current=X,C.append("operation_id",X),E.current=new AbortController,h(!0);try{const q=E.current?.signal;nh(X,k,q).catch(()=>{});const J=await bx(C,"correlativo",q),oe=J.headers["content-disposition"],we=YT(oe)??"consolidado_correlativo.xlsx";KT(J.data,we)}catch(q){if(ft.isAxiosError(q)&&q.code==="ERR_CANCELED"||ft.isAxiosError(q)&&(q.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const J=await PT(q);k({type:"error",stage:"error",detail:J}),p(J)}finally{O.current=null,h(!1),D()}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),c.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&c.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",c.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",c.jsx("b",{children:e.max_tech_files})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Fi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(iu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:o,setFiles:d,disabled:m})})]}),y&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary mT-10",disabled:!N,onClick:R,children:m?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:P,children:"Cancelar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),m?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:_.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:_.map((C,X)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:_l(C.type)})," ",C.stage?c.jsxs("span",{className:"text-muted",children:["[",wl(C.stage),"]"]}):null]}),c.jsx("div",{className:"text-muted",children:Ar(C.message??C.detail??"")})]},X))})})]})})]})})}function JT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function WT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function e2(e){if(!ft.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function t2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[o,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,x]=b.useState(null),[_,U]=b.useState([]),E=b.useRef(null),O=b.useRef(null),N=b.useMemo(()=>!!s&&o.length>0&&!m,[s,o,m]);b.useEffect(()=>{vx().then(a).catch(()=>a(null))},[]);function k(C){U(q=>[C,...q].slice(0,200));const X=typeof C.percent=="number"?C.percent:typeof C.progress=="number"?C.progress:null;X!=null&&Number.isFinite(X)&&x(Math.max(0,Math.min(100,X)))}function D(){E.current?.abort(),E.current=null}function P(){if(!m)return;const C=O.current;C&&xx(C).catch(()=>{}),k({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function R(){if(p(""),U([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(o.length===0){p("Selecciona al menos un archivo de tcnico.");return}const C=new FormData;C.append("master",s);for(const q of o)C.append("technicians",q);const X=crypto.randomUUID();O.current=X,C.append("operation_id",X),E.current=new AbortController,h(!0);try{const q=E.current?.signal;nh(X,k,q).catch(()=>{});const J=await bx(C,"no-correlativo",q),oe=J.headers["content-disposition"],we=JT(oe)??"consolidado_no_correlativo.xlsx";WT(J.data,we)}catch(q){if(ft.isAxiosError(q)&&q.code==="ERR_CANCELED"||ft.isAxiosError(q)&&(q.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const J=await e2(q);k({type:"error",stage:"error",detail:J}),p(J)}finally{O.current=null,h(!1),D()}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),c.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&c.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",c.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",c.jsx("b",{children:e.max_tech_files})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Fi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(iu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:o,setFiles:d,disabled:m})})]}),y&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary mT-10",disabled:!N,onClick:R,children:m?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:P,children:"Cancelar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),m?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:_.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:_.map((C,X)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:_l(C.type)})," ",C.stage?c.jsxs("span",{className:"text-muted",children:["[",wl(C.stage),"]"]}):null]}),c.jsx("div",{className:"text-muted",children:Ar(C.message??C.detail??"")})]},X))})})]})})]})})}async function Di(e){if(!ft.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function n2(){const[e,a]=b.useState(null),[s,l]=b.useState(""),[o,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("ERROR FINAL"),[v,x]=b.useState(""),[_,U]=b.useState("same_password"),[E,O]=b.useState(""),[N,k]=b.useState([{cell:"A1",value:""}]),[D,P]=b.useState(""),[R,C]=b.useState("no_password"),[X,q]=b.useState(""),[J,oe]=b.useState("ERROR FINAL"),[we,Se]=b.useState(1),[de,me]=b.useState(""),[Ae,Ee]=b.useState(""),[B,se]=b.useState(""),[ae,Ce]=b.useState(null),[Oe,j]=b.useState(""),[Q,ce]=b.useState(null),[xe,De]=b.useState([]),[Re,Me]=b.useState(null),Ie=b.useMemo(()=>o.trim().length>0,[o]);function ye(je){De(W=>[je,...W].slice(0,200))}function qe(){j(""),De([]),ce(0),Me(null)}async function Ge(){if(qe(),!e){j("Selecciona un archivo para subir.");return}Ce("upload");try{ye({type:"status",stage:"upload",message:"Subiendo archivo..."}),ce(30);const je=new FormData;je.append("file",e),s.trim()&&je.append("suggested_name",s.trim());const W=await UT(je);d(W.relative_path),Me(W),ye({type:"complete",stage:"upload",message:"Archivo subido."}),ce(100)}catch(je){const W=await Di(je);j(W),ye({type:"error",stage:"upload",detail:W})}finally{Ce(null)}}async function Ne(){if(qe(),!Ie){j("Ingresa o sube un archivo para obtener file_path.");return}Ce("inspect");try{ye({type:"status",stage:"inspect",message:"Inspeccionando..."}),ce(50);const je=await qT({file_path:o.trim(),open_password:m.trim()||null});Me(je),ye({type:"complete",stage:"inspect",message:"Inspeccin completada."}),ce(100)}catch(je){const W=await Di(je);j(W),ye({type:"error",stage:"inspect",detail:W})}finally{Ce(null)}}async function Ye(){if(qe(),!Ie){j("Ingresa o sube un archivo para obtener file_path.");return}if(!y.trim()){j("Ingresa el nombre de la hoja.");return}const je=N.map(W=>({cell:W.cell.trim(),value:W.value})).filter(W=>W.cell);if(je.length===0){j("Agrega al menos una edicin.");return}Ce("update");try{ye({type:"status",stage:"update",message:"Aplicando ediciones..."}),ce(50);const W=await BT({file_path:o.trim(),edits:je.map(pe=>({sheet:y.trim(),cell:pe.cell,value:pe.value})),open_password:v.trim()||null,save_mode:_,new_password:_==="new_password"&&E.trim()||null});Me(W),ye({type:"complete",stage:"update",message:"Actualizacin completada."}),ce(100)}catch(W){const pe=await Di(W);j(pe),ye({type:"error",stage:"update",detail:pe})}finally{Ce(null)}}async function Le(){if(qe(),!Ie){j("Ingresa o sube un archivo para obtener file_path.");return}if(!D.trim()){j("Ingresa la contrasea de apertura (open_password).");return}if(R==="new_password"&&!X.trim()){j("Ingresa la nueva contrasea.");return}Ce("change-password");try{ye({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),ce(50);const je=await LT({file_path:o.trim(),open_password:D.trim(),mode:R,new_password:R==="new_password"?X.trim():null});Me(je),ye({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),ce(100)}catch(je){const W=await Di(je);j(W),ye({type:"error",stage:"change-password",detail:W})}finally{Ce(null)}}async function Xe(){if(qe(),!Ie){j("Ingresa o sube un archivo para obtener file_path.");return}let je={};if(Ae.trim())try{je=JSON.parse(Ae)}catch{j("type_rules debe ser JSON vlido.");return}const W=de.split(",").map(pe=>pe.trim()).filter(Boolean);Ce("validate");try{ye({type:"status",stage:"validate",message:"Validando..."}),ce(50);const pe=await IT({file_path:o.trim(),sheet:J.trim()||null,header_row:we,required_columns:W,type_rules:je,open_password:B.trim()||null});Me(pe),ye({type:"complete",stage:"validate",message:"Validacin completada."}),ce(100)}catch(pe){const _e=await Di(pe);j(_e),ye({type:"error",stage:"validate",detail:_e})}finally{Ce(null)}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),c.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-8 mB-10",children:c.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!ae,onChange:je=>a(je.target.files?.[0]??null)})}),c.jsx("div",{className:"col-md-4 mB-10",children:c.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!ae,onChange:je=>l(je.target.value)})})]}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!!ae||!e,onClick:Ge,children:ae==="upload"?"Subiendo...":"Subir"})]})}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"file_path"}),c.jsx("input",{className:"form-control",value:o,disabled:!!ae,onChange:je=>d(je.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),c.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"2) Inspect"}),c.jsxs("div",{className:"row align-items-end",children:[c.jsxs("div",{className:"col-md-8 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!ae,onChange:je=>h(je.target.value)})]}),c.jsx("div",{className:"col-md-4 mB-10",children:c.jsx("button",{className:"btn btn-primary w-100",disabled:!!ae||!Ie,onClick:Ne,children:ae==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"Hoja"}),c.jsx("input",{className:"form-control",value:y,disabled:!!ae,onChange:je=>p(je.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!ae,onChange:je=>x(je.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"save_mode"}),c.jsxs("select",{className:"form-select",value:_,disabled:!!ae,onChange:je=>U(je.target.value),children:[c.jsx("option",{value:"same_password",children:"same_password"}),c.jsx("option",{value:"no_password",children:"no_password"}),c.jsx("option",{value:"new_password",children:"new_password"})]})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"new_password"}),c.jsx("input",{className:"form-control",type:"password",value:E,disabled:!!ae||_!=="new_password",onChange:je=>O(je.target.value),placeholder:_==="new_password"?"Requerido":""})]})]}),c.jsxs("div",{className:"mT-10",children:[c.jsx("label",{className:"form-label",children:"Ediciones"}),N.map((je,W)=>c.jsxs("div",{className:"row g-2 mB-10",children:[c.jsx("div",{className:"col-md-3",children:c.jsx("input",{className:"form-control",value:je.cell,disabled:!!ae,onChange:pe=>{const _e=N.slice();_e[W]={..._e[W],cell:pe.target.value},k(_e)},placeholder:"Celda (A1)"})}),c.jsx("div",{className:"col-md-7",children:c.jsx("input",{className:"form-control",value:je.value,disabled:!!ae,onChange:pe=>{const _e=N.slice();_e[W]={..._e[W],value:pe.target.value},k(_e)},placeholder:"Valor"})}),c.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!ae,onClick:()=>k(pe=>[...pe,{cell:"A1",value:""}]),children:"+"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!ae||N.length===1,onClick:()=>k(pe=>pe.filter((_e,w)=>w!==W)),children:""})]})]},W))]}),c.jsx("button",{className:"btn btn-primary",disabled:!!ae||!Ie,onClick:Ye,children:ae==="update"?"Actualizando...":"Update"})]})}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"4) Change password"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password"}),c.jsx("input",{className:"form-control",type:"password",value:D,disabled:!!ae,onChange:je=>P(je.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"mode"}),c.jsxs("select",{className:"form-select",value:R,disabled:!!ae,onChange:je=>C(je.target.value),children:[c.jsx("option",{value:"no_password",children:"no_password"}),c.jsx("option",{value:"new_password",children:"new_password"})]})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"new_password"}),c.jsx("input",{className:"form-control",type:"password",value:X,disabled:!!ae||R!=="new_password",onChange:je=>q(je.target.value),placeholder:R==="new_password"?"Requerido":""})]}),c.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:c.jsx("button",{className:"btn btn-primary w-100",disabled:!!ae||!Ie,onClick:Le,children:ae==="change-password"?"Procesando...":"Change password"})})]})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"5) Validate"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"sheet (opcional)"}),c.jsx("input",{className:"form-control",value:J,disabled:!!ae,onChange:je=>oe(je.target.value)})]}),c.jsxs("div",{className:"col-md-3 mB-10",children:[c.jsx("label",{className:"form-label",children:"header_row"}),c.jsx("input",{className:"form-control",type:"number",min:1,value:we,disabled:!!ae,onChange:je=>Se(Number(je.target.value||1))})]}),c.jsxs("div",{className:"col-md-3 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:B,disabled:!!ae,onChange:je=>se(je.target.value)})]}),c.jsxs("div",{className:"col-12 mB-10",children:[c.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),c.jsx("input",{className:"form-control",value:de,disabled:!!ae,onChange:je=>me(je.target.value),placeholder:"ColA, ColB, ColC"})]}),c.jsxs("div",{className:"col-12 mB-10",children:[c.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),c.jsx("textarea",{className:"form-control",rows:3,value:Ae,disabled:!!ae,onChange:je=>Ee(je.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),c.jsx("button",{className:"btn btn-primary",disabled:!!ae||!Ie,onClick:Xe,children:ae==="validate"?"Validando...":"Validate"})]})}),Oe&&c.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Oe})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),ae?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Q??0}%`},"aria-valuenow":Q??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:xe.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:xe.map((je,W)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:je.type})," ",je.stage?c.jsxs("span",{className:"text-muted",children:["[",je.stage,"]"]}):null]}),c.jsx("div",{className:"text-muted",children:je.message??je.detail??""})]},W))})}),c.jsx("hr",{className:"mY-15"}),c.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),Re?c.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(Re,null,2)}):c.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function a2(){const e=Ln(),a=Al(),{toast:s}=Or(),l=zn(),o=Sl(l?.role),d=Bi(),m=o&&!(d&&d>0),{data:h,isLoading:y,error:p}=wr({queryKey:["catalogs"],queryFn:Zm,enabled:m}),v=h?.bancos??[],[x,_]=b.useState(()=>d&&d>0?d:0),[U,E]=b.useState(!1),O=b.useMemo(()=>v.find(P=>P.id===x)?.name??null,[v,x]);b.useEffect(()=>{const D=e.state;D?.toast&&(s({kind:D.toast.kind??"info",title:D.toast.title,message:D.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),b.useEffect(()=>{m&&(x>0||v.length>0&&_(v[0].id))},[x,v,m]);const N=x>0&&!U,k=async()=>{if(N)try{E(!0);const D=await L0(x),P=dm(D.userId,D.bancoId??x);if(P.target){a(P.target,{replace:!0});return}s({kind:"success",title:"Banco",message:O?`Banco seleccionado: ${O}`:"Banco seleccionado."})}catch(D){const P=D?.response?.data?.detail??D?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(P)})}finally{E(!1)}};return c.jsxs("div",{className:"vi-home",children:[c.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),c.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),c.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:D=>_(Number(D.target.value)),disabled:y||U,children:v.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))}),p?c.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),c.jsx("div",{className:"modal-footer",children:c.jsx("button",{type:"button",className:"btn btn-primary",disabled:!N,onClick:k,children:U?"Guardando...":"Continuar"})})]})})})]})}const gr=(...e)=>{};function Zf(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function Gf(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function s2(e,a){let s=null,l=!1;const o=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,o])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function r2(){const[e,a]=b.useState([]),[s,l]=b.useState(""),[o,d]=b.useState([]),[m,h]=b.useState(0),[y,p]=b.useState("Listo para procesar"),[v,x]=b.useState(!1),[_,U]=b.useState(""),[E,O]=b.useState(!1),[N,k]=b.useState(null),[D,P]=b.useState(null),[R,C]=b.useState(!1),X=b.useMemo(()=>(Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[]).filter(pe=>pe?.status==="OK"&&String(pe?.source??"").toUpperCase()==="BASES").slice().sort((pe,_e)=>{const w=Number(pe?.oi_num),M=Number(_e?.oi_num),$=Number.isFinite(w),ge=Number.isFinite(M);if($&&ge)return w-M;if($&&!ge)return-1;if(!$&&ge)return 1;const te=String(pe?.oi_num??pe?.oi??"").toUpperCase(),le=String(_e?.oi_num??_e?.oi??"").toUpperCase();return te.localeCompare(le)}),[D]),q=b.useMemo(()=>(Array.isArray(D?.files_rejected)?D.files_rejected:[]).slice().sort((pe,_e)=>{const w=String(pe?.oi??pe?.filename??"").toUpperCase(),M=String(_e?.oi??_e?.filename??"").toUpperCase();return w.localeCompare(M)}),[D]),J=b.useMemo(()=>{const W=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),pe=D?.by_source;if(pe&&typeof pe=="object")return pe;const _e={BASES:W(),GASELAG:W()},w=Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[];for(const $ of w){if($?.status!=="OK")continue;const te=String($?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";_e[te].files_ok+=1,_e[te].rows_read+=Number($?.rows_read??0)||0,_e[te].conformes+=Number($?.conformes??0)||0,_e[te].no_conformes+=Number($?.no_conformes??0)||0,_e[te].rows_ignored_invalid_estado+=Number($?.rows_ignored_invalid_estado??0)||0}const M=Array.isArray(D?.files_rejected)?D.files_rejected:[];for(const $ of M){const te=String($?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";_e[te].files_error+=1}for(const $ of["BASES","GASELAG"])_e[$].files_total=_e[$].files_ok+_e[$].files_error;return _e},[D]),oe=b.useRef(null),we=b.useRef(null),Se=b.useRef(null),de=b.useRef(!1),me=b.useRef(null),Ae=b.useRef(null),Ee=b.useRef(null),B=b.useRef(!1),se=b.useRef(!1),ae=b.useRef(-1),Ce=b.useRef(-1),Oe=b.useRef(!1);function j(){return me.current||(me.current=crypto.randomUUID()),me.current}function Q(W){const pe=`${_l(W.type)}  ${wl(W.stage)}  ${Ar(W.message??W.detail??"")}`;if(p(pe),d(_e=>{const w=[W,..._e];if(!Oe.current&&W.stage==="cancelled"){Oe.current=!0;const M=w.filter(le=>le.stage==="file_done"||le.stage==="file_error").length,$=w.filter(le=>le.stage==="file_done").length,ge=w.filter(le=>le.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${M} (OK: ${$}, Rechazados: ${ge}). No se gener resultado final.`},...w]}return w}),W.type==="complete"){const _e=W.result??null;P(_e)}typeof W.progress=="number"&&h(Math.round(W.progress)),typeof W.percent=="number"&&h(Math.round(W.percent)),!de.current&&(W.type==="complete"||W.stage==="cancelled"||W.stage==="failed")&&(de.current=!0,W.type==="complete"?(O(!0),k(me.current)):(O(!1),k(null),me.current=null),x(!1),Re("terminal_event"),Me())}function ce(W){return typeof W.cursor!="number"?!1:W.cursor<=Ce.current?!0:(Ce.current=W.cursor,W.cursor>ae.current&&(ae.current=W.cursor),!1)}function xe(W){de.current||ce(W)||Q(W)}function De(W,pe){const _e=new FormData;_e.append("operation_id",W),_e.append("source","AUTO"),s.trim()&&_e.append("output_filename",s.trim());for(const w of pe)_e.append("files",w);return _e}function Re(W){we.current&&(Se.current=W,we.current.abort(),we.current=null)}function Me(W){se.current&&(se.current=!1,Ae.current!=null&&(window.clearTimeout(Ae.current),Ae.current=null),Ee.current?.abort(),Ee.current=null,B.current=!1)}function Ie(W){se.current&&(Ae.current!=null&&window.clearTimeout(Ae.current),Ae.current=window.setTimeout(()=>{ye()},W))}async function ye(){if(!se.current||B.current)return;const W=me.current;if(!W){Me();return}B.current=!0;try{const pe=await TT(W,ae.current,Ee.current?.signal);gr("[LOG01] poll cursor =",ae.current,"->",pe.cursor_next),ae.current=pe.cursor_next;for(const _e of pe.events)xe(_e);if(pe.done&&pe.events.length===0){Me("done");return}}catch(pe){pe?.name}finally{B.current=!1,se.current&&Ie(350)}}function qe(W){se.current||(se.current=!0,Ee.current=new AbortController,Ie(0))}function Ge(){oe.current?.abort(),oe.current=null}async function Ne(){if(!v)return;const W=me.current;if(W)try{await kT(W)}catch(pe){const _e=pe;ft.isCancel(_e)||U(_e.response?.data?.detail||_e.message||"No se pudo cancelar la operacion")}Ge()}async function Ye(){U(""),d([]),P(null),h(0),p("Listo para procesar"),O(!1),k(null),Se.current=null,de.current=!1,Oe.current=!1,ae.current=-1,Ce.current=-1,Me();const W=[...e];if(!W.length){U("Debes seleccionar al menos 1 Excel.");return}me.current=null;const pe=j();let _e=null,w=null;const M=new Promise((te,le)=>{_e=te,w=le});we.current=new AbortController,oe.current=new AbortController,AT(pe,te=>{if(te.type==="hello"){_e&&(_e(),_e=null);return}xe(te)},we.current.signal).then(()=>{de.current||qe()}).catch(te=>{te?.name==="AbortError"?gr("[LOG01] progress stream aborted (reason) =",Se.current):(w&&(w(te),w=null),qe())}),x(!0);try{await s2(M,1800)?gr("[LOG01] hello received"):qe("hello_timeout");const le=De(pe,W);gr("[LOG01] operation_id(start) =",pe),await RT(le,oe.current.signal)}catch(te){const le=te;if(ft.isCancel(le))return;const Te=le.response?.data?.detail||le.message||"Error inesperado";U(Te),x(!1),Ge(),Re("start_failed"),Me(),me.current=null}finally{Ge()}}async function Le(){const W=N??me.current;if(!W){U("No hay resultado disponible.");return}try{U(""),gr("[LOG01] operation_id(result) =",W);const pe=await DT(W),_e=pe.headers["content-disposition"],w=pe.headers["x-file-name"],M=Zf(_e)??w??"BD_CONSOLIDADO.xlsx";Gf(pe.data,M)}catch(pe){const _e=pe;if(ft.isCancel(_e))return;const w=_e.response?.data?.detail||_e.message||"No se pudo descargar.";U(w)}}async function Xe(){const W=N??me.current;if(!W){U("No hay resultado disponible.");return}try{U(""),gr("[LOG01] operation_id(manifest) =",W);const pe=await MT(W),_e=pe.headers["content-disposition"],w=pe.headers["x-file-name"],M=Zf(_e)??w??"MANIFIESTO.json";Gf(pe.data,M)}catch(pe){const _e=pe;if(ft.isCancel(_e))return;const w=_e.response?.data?.detail||_e.message||"No se pudo descargar.";U(w)}}async function je(){const W=N??me.current;if(!W){U("No hay resultado disponible.");return}try{U(""),gr("[LOG01] operation_id(no_conforme) =",W);const pe=await zT(W),_e=pe.headers["content-disposition"],w=pe.headers["x-file-name"],M=Zf(_e)??w??"NO_CONFORME_FINAL.json";Gf(pe.data,M)}catch(pe){const _e=pe;if(ft.isCancel(_e))return;const w=_e.response?.data?.detail||_e.message||"No se pudo descargar.";U(w)}}return c.jsx("div",{className:"container-fluid",children:c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),_&&c.jsx("div",{className:"alert alert-danger",role:"alert",children:_}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-12 mB-15",children:[c.jsx(iu,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,disabled:v}),c.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),c.jsx("input",{className:"form-control",value:s,onChange:W=>l(W.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),c.jsxs("div",{className:"vi-log01-actions",children:[c.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:Ye,disabled:v,children:v?"Procesando...":"Consolidar"}),v?c.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Ne(),children:"Cancelar"}):null,!v&&E?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>void Xe(),children:"Manifiesto (JSON)"}),c.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>void je(),children:"No conforme (JSON)"}),c.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void Le(),children:"Descargar"})]}):null]})]})]}),c.jsxs("div",{className:"mT-10",children:[c.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),v?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress",children:c.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),c.jsx("div",{className:"mT-10 text-muted",children:y})]}),!v&&D?c.jsxs("div",{className:"mT-20",children:[c.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),c.jsx("div",{className:"bd p-10",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("div",{className:"small text-muted",children:"Archivos"}),c.jsxs("div",{className:"small",children:["Total: ",c.jsx("strong",{children:D.files_total??"N/D"}),"  OK:"," ",c.jsx("strong",{children:D.files_ok??"N/D"}),"  Rechazados:"," ",c.jsx("strong",{children:D.files_error??"N/D"})]}),c.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),c.jsx("tbody",{children:["BASES","GASELAG"].map(W=>{const pe=J?.[W]??{},_e=pe?.files_total??Number(pe?.files_ok??0)+Number(pe?.files_error??0);return c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:W})}),c.jsxs("td",{style:{whiteSpace:"nowrap"},children:[c.jsx("strong",{children:_e??0})," ",c.jsxs("span",{className:"text-muted",children:["(OK: ",pe?.files_ok??0,"  Rech: ",pe?.files_error??0,")"]})]}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:pe?.rows_read??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:pe?.conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:pe?.no_conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:pe?.rows_ignored_invalid_estado??0})})]},W)})})]})}),c.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),X.length>0?c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),c.jsx("tbody",{children:X.map((W,pe)=>c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:W?.oi_num?`OI-${W.oi_num}`:"N/D"}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:W?.rows_read??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:W?.conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:W?.no_conformes??0})})]},pe))})]})}):c.jsx("div",{className:"small text-muted",children:"N/D"}),Number(J?.GASELAG?.rows_read??0)>0?c.jsxs("div",{className:"mT-10 small",children:[c.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",c.jsx("strong",{children:J.GASELAG.rows_read??0}),"  Conformes:"," ",c.jsx("strong",{children:J.GASELAG.conformes??0}),"  No conformes:"," ",c.jsx("strong",{children:J.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",c.jsx("strong",{children:J.GASELAG.rows_ignored_invalid_estado??0})]}):null,q.length>0?c.jsxs("div",{className:"mT-15",children:[c.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),c.jsx("tbody",{children:q.map((W,pe)=>{const _e=String(W?.code??""),w=String(W?.detail??"");let M="";_e&&w?M=`(${_e}) ${w}`:_e?M=`(${_e})`:M=w||"N/D";const $=String(W?.source??"").toUpperCase();let ge=W?.filename??"N/D";if($==="BASES"){const te=Number(W?.oi_num);Number.isFinite(te)&&te>0&&(ge=`OI-${te} / ${ge}`)}else $==="GASELAG"&&(ge=`GASELAG / ${ge}`);return c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:ge}),c.jsx("td",{children:M})]},pe)})})]})})]}):null,c.jsxs("div",{className:"col-12 mT-10 p-0",children:[c.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),c.jsxs("div",{className:"small",children:["Registros ledos:"," ",c.jsx("strong",{children:D.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",c.jsx("strong",{children:D.totals_input?.conformes??"N/D"}),"  No conformes:"," ",c.jsx("strong",{children:D.totals_input?.no_conformes??"N/D"})]})]})]}),c.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[c.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),c.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",c.jsx("strong",{children:D.series_total_dedup??"N/D"}),"  Conformes finales:"," ",c.jsx("strong",{children:D.series_conformes??"N/D"}),"  No conformes finales:"," ",c.jsx("strong",{children:D.series_no_conformes_final??"N/D"})]}),c.jsx("div",{className:"mT-10",children:c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>C(W=>!W),children:R?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),R?c.jsxs("div",{className:"mT-10",children:[c.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),c.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",c.jsx("strong",{children:D.rows_total_read??D.totals_input?.rows_read??"N/D"})," "," Duplicados eliminados:"," ",c.jsx("strong",{children:D.series_duplicates_eliminated??D.detail?.series_duplicates_eliminated??"N/D"})," "," nicas = Ledos  Duplicados:"," ",c.jsx("strong",{children:(()=>{const W=D.technical?.rows_total_read??D.rows_total_read??D.totals_input?.rows_read,pe=D.technical?.series_duplicates_eliminated??D.detail?.series_duplicates_eliminated;if(typeof W=="number"&&typeof pe=="number")return W-pe;const _e=D.series_total_dedup;return typeof _e=="number"?_e:"N/D"})()})]})]}):null]})]})})]}):null,o.length>0&&c.jsxs("div",{className:"mT-20",children:[c.jsx("h6",{className:"c-grey-900",children:"Eventos"}),c.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:o.map((W,pe)=>{const _e=W.message??"",w=W.code??"",M=W.detail??"",$=Ar(_e||M||"");let ge="";return w?ge=`${w}${M?`  ${M}`:""}`:M&&_e&&(ge=M),c.jsxs("div",{className:"small",children:[_l(W.type),"  ",wl(W.stage)," "," ",$,ge?c.jsxs("span",{className:"text-muted",children:[" (",ge,")"]}):null]},pe)})})]})]})})})})}function l2(){const e=zn();return c.jsx(c.Fragment,{children:c.jsxs(jw,{children:[c.jsx(ln,{path:"/login",element:e?.token?c.jsx(Vs,{to:"/home",replace:!0}):c.jsx(mj,{})}),c.jsx(ln,{element:c.jsx(aT,{}),children:c.jsxs(ln,{element:c.jsx(oT,{}),children:[c.jsx(ln,{path:"/",element:c.jsx(Vs,{to:"/home",replace:!0})}),c.jsx(ln,{path:"/home",element:c.jsx(a2,{})}),c.jsx(ln,{path:"/oi",element:c.jsx(db,{})}),c.jsx(ln,{path:"/oi/:oiId",element:c.jsx(db,{})}),c.jsx(ln,{path:"/oi/list",element:c.jsx(cT,{})}),c.jsx(ln,{path:"/users",element:c.jsx(uT,{})}),c.jsx(ln,{path:"/password",element:c.jsx(dT,{})}),c.jsx(ln,{path:"/admin/permisos",element:c.jsx(hT,{})}),c.jsx(ln,{path:"/logistica/log01/excel",element:c.jsx(r2,{})}),c.jsx(ln,{path:"/oi/tools/vima-to-lista",element:c.jsx(ET,{})}),c.jsx(ln,{path:"/oi/tools/actualizacion-base",element:c.jsx(GT,{})}),c.jsx(ln,{path:"/oi/tools/consolidacion",element:c.jsx(QT,{})}),c.jsx(ln,{path:"/oi/tools/consolidacion/correlativo",element:c.jsx(XT,{})}),c.jsx(ln,{path:"/oi/tools/consolidacion/no-correlativo",element:c.jsx(t2,{})}),c.jsx(ln,{path:"/oi/tools/excel",element:c.jsx(n2,{})})]})}),c.jsx(ln,{path:"*",element:c.jsx(Vs,{to:e?.token?"/home":"/login",replace:!0})})]})})}const i2=new AN;z_.createRoot(document.getElementById("root")).render(c.jsx(rt.StrictMode,{children:c.jsx(ON,{client:i2,children:c.jsx(Pw,{children:c.jsx(fj,{children:c.jsx(l2,{})})})})}));
