(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function xv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var df={exports:{}},wi={};var zy;function CN(){if(zy)return wi;zy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:l,key:m,ref:c!==void 0?c:null,props:d}}return wi.Fragment=a,wi.jsx=s,wi.jsxs=s,wi}var My;function ON(){return My||(My=1,df.exports=CN()),df.exports}var o=ON(),ff={exports:{}},et={};var ky;function RN(){if(ky)return et;ky=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function q(w){return w===null||typeof w!="object"?null:(w=N&&w[N]||w["@@iterator"],typeof w=="function"?w:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function B(w,V,ce){this.props=w,this.context=V,this.refs=A,this.updater=ce||_}B.prototype.isReactComponent={},B.prototype.setState=function(w,V){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,V,"setState")},B.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function T(){}T.prototype=B.prototype;function J(w,V,ce){this.props=w,this.context=V,this.refs=A,this.updater=ce||_}var k=J.prototype=new T;k.constructor=J,j(k,B.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function $(){}var U={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function ie(w,V,ce){var z=ce.ref;return{$$typeof:e,type:w,key:V,ref:z!==void 0?z:null,props:ce}}function Ne(w,V){return ie(w.type,V,w.props)}function xe(w){return typeof w=="object"&&w!==null&&w.$$typeof===e}function fe(w){var V={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ce){return V[ce]})}var ve=/\/+/g;function De(w,V){return typeof w=="object"&&w!==null&&w.key!=null?fe(""+w.key):V.toString(36)}function Re(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then($,$):(w.status="pending",w.then(function(V){w.status==="pending"&&(w.status="fulfilled",w.value=V)},function(V){w.status==="pending"&&(w.status="rejected",w.reason=V)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function M(w,V,ce,z,oe){var he=typeof w;(he==="undefined"||he==="boolean")&&(w=null);var Te=!1;if(w===null)Te=!0;else switch(he){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(w.$$typeof){case e:case a:Te=!0;break;case v:return Te=w._init,M(Te(w._payload),V,ce,z,oe)}}if(Te)return oe=oe(w),Te=z===""?"."+De(w,0):z,O(oe)?(ce="",Te!=null&&(ce=Te.replace(ve,"$&/")+"/"),M(oe,V,ce,"",function(ke){return ke})):oe!=null&&(xe(oe)&&(oe=Ne(oe,ce+(oe.key==null||w&&w.key===oe.key?"":(""+oe.key).replace(ve,"$&/")+"/")+Te)),V.push(oe)),1;Te=0;var qe=z===""?".":z+":";if(O(w))for(var me=0;me<w.length;me++)z=w[me],he=qe+De(z,me),Te+=M(z,V,ce,he,oe);else if(me=q(w),typeof me=="function")for(w=me.call(w),me=0;!(z=w.next()).done;)z=z.value,he=qe+De(z,me++),Te+=M(z,V,ce,he,oe);else if(he==="object"){if(typeof w.then=="function")return M(Re(w),V,ce,z,oe);throw V=String(w),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Te}function I(w,V,ce){if(w==null)return w;var z=[],oe=0;return M(w,z,"","",function(he){return V.call(ce,he,oe++)}),z}function W(w){if(w._status===-1){var V=w._result;V=V(),V.then(function(ce){(w._status===0||w._status===-1)&&(w._status=1,w._result=ce)},function(ce){(w._status===0||w._status===-1)&&(w._status=2,w._result=ce)}),w._status===-1&&(w._status=0,w._result=V)}if(w._status===1)return w._result.default;throw w._result}var ge=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},we={map:I,forEach:function(w,V,ce){I(w,function(){V.apply(this,arguments)},ce)},count:function(w){var V=0;return I(w,function(){V++}),V},toArray:function(w){return I(w,function(V){return V})||[]},only:function(w){if(!xe(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return et.Activity=x,et.Children=we,et.Component=B,et.Fragment=s,et.Profiler=c,et.PureComponent=J,et.StrictMode=l,et.Suspense=g,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,et.__COMPILER_RUNTIME={__proto__:null,c:function(w){return U.H.useMemoCache(w)}},et.cache=function(w){return function(){return w.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(w,V,ce){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var z=j({},w.props),oe=w.key;if(V!=null)for(he in V.key!==void 0&&(oe=""+V.key),V)!Y.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(z[he]=V[he]);var he=arguments.length-2;if(he===1)z.children=ce;else if(1<he){for(var Te=Array(he),qe=0;qe<he;qe++)Te[qe]=arguments[qe+2];z.children=Te}return ie(w.type,oe,z)},et.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},et.createElement=function(w,V,ce){var z,oe={},he=null;if(V!=null)for(z in V.key!==void 0&&(he=""+V.key),V)Y.call(V,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(oe[z]=V[z]);var Te=arguments.length-2;if(Te===1)oe.children=ce;else if(1<Te){for(var qe=Array(Te),me=0;me<Te;me++)qe[me]=arguments[me+2];oe.children=qe}if(w&&w.defaultProps)for(z in Te=w.defaultProps,Te)oe[z]===void 0&&(oe[z]=Te[z]);return ie(w,he,oe)},et.createRef=function(){return{current:null}},et.forwardRef=function(w){return{$$typeof:h,render:w}},et.isValidElement=xe,et.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:W}},et.memo=function(w,V){return{$$typeof:p,type:w,compare:V===void 0?null:V}},et.startTransition=function(w){var V=U.T,ce={};U.T=ce;try{var z=w(),oe=U.S;oe!==null&&oe(ce,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then($,ge)}catch(he){ge(he)}finally{V!==null&&ce.types!==null&&(V.types=ce.types),U.T=V}},et.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},et.use=function(w){return U.H.use(w)},et.useActionState=function(w,V,ce){return U.H.useActionState(w,V,ce)},et.useCallback=function(w,V){return U.H.useCallback(w,V)},et.useContext=function(w){return U.H.useContext(w)},et.useDebugValue=function(){},et.useDeferredValue=function(w,V){return U.H.useDeferredValue(w,V)},et.useEffect=function(w,V){return U.H.useEffect(w,V)},et.useEffectEvent=function(w){return U.H.useEffectEvent(w)},et.useId=function(){return U.H.useId()},et.useImperativeHandle=function(w,V,ce){return U.H.useImperativeHandle(w,V,ce)},et.useInsertionEffect=function(w,V){return U.H.useInsertionEffect(w,V)},et.useLayoutEffect=function(w,V){return U.H.useLayoutEffect(w,V)},et.useMemo=function(w,V){return U.H.useMemo(w,V)},et.useOptimistic=function(w,V){return U.H.useOptimistic(w,V)},et.useReducer=function(w,V,ce){return U.H.useReducer(w,V,ce)},et.useRef=function(w){return U.H.useRef(w)},et.useState=function(w){return U.H.useState(w)},et.useSyncExternalStore=function(w,V,ce){return U.H.useSyncExternalStore(w,V,ce)},et.useTransition=function(){return U.H.useTransition()},et.version="19.2.0",et}var Uy;function wm(){return Uy||(Uy=1,ff.exports=RN()),ff.exports}var b=wm();const lt=xv(b);var mf={exports:{}},_i={},hf={exports:{}},pf={};var Ly;function TN(){return Ly||(Ly=1,(function(e){function a(M,I){var W=M.length;M.push(I);e:for(;0<W;){var ge=W-1>>>1,we=M[ge];if(0<c(we,I))M[ge]=I,M[W]=we,W=ge;else break e}}function s(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var I=M[0],W=M.pop();if(W!==I){M[0]=W;e:for(var ge=0,we=M.length,w=we>>>1;ge<w;){var V=2*(ge+1)-1,ce=M[V],z=V+1,oe=M[z];if(0>c(ce,W))z<we&&0>c(oe,ce)?(M[ge]=oe,M[z]=W,ge=z):(M[ge]=ce,M[V]=W,ge=V);else if(z<we&&0>c(oe,W))M[ge]=oe,M[z]=W,ge=z;else break e}}return I}function c(M,I){var W=M.sortIndex-I.sortIndex;return W!==0?W:M.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var g=[],p=[],v=1,x=null,N=3,q=!1,_=!1,j=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function k(M){for(var I=s(p);I!==null;){if(I.callback===null)l(p);else if(I.startTime<=M)l(p),I.sortIndex=I.expirationTime,a(g,I);else break;I=s(p)}}function O(M){if(j=!1,k(M),!_)if(s(g)!==null)_=!0,$||($=!0,fe());else{var I=s(p);I!==null&&Re(O,I.startTime-M)}}var $=!1,U=-1,Y=5,ie=-1;function Ne(){return A?!0:!(e.unstable_now()-ie<Y)}function xe(){if(A=!1,$){var M=e.unstable_now();ie=M;var I=!0;try{e:{_=!1,j&&(j=!1,T(U),U=-1),q=!0;var W=N;try{t:{for(k(M),x=s(g);x!==null&&!(x.expirationTime>M&&Ne());){var ge=x.callback;if(typeof ge=="function"){x.callback=null,N=x.priorityLevel;var we=ge(x.expirationTime<=M);if(M=e.unstable_now(),typeof we=="function"){x.callback=we,k(M),I=!0;break t}x===s(g)&&l(g),k(M)}else l(g);x=s(g)}if(x!==null)I=!0;else{var w=s(p);w!==null&&Re(O,w.startTime-M),I=!1}}break e}finally{x=null,N=W,q=!1}I=void 0}}finally{I?fe():$=!1}}}var fe;if(typeof J=="function")fe=function(){J(xe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,De=ve.port2;ve.port1.onmessage=xe,fe=function(){De.postMessage(null)}}else fe=function(){B(xe,0)};function Re(M,I){U=B(function(){M(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_next=function(M){switch(N){case 1:case 2:case 3:var I=3;break;default:I=N}var W=N;N=I;try{return M()}finally{N=W}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=N;N=M;try{return I()}finally{N=W}},e.unstable_scheduleCallback=function(M,I,W){var ge=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ge+W:ge):W=ge,M){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=W+we,M={id:v++,callback:I,priorityLevel:M,startTime:W,expirationTime:we,sortIndex:-1},W>ge?(M.sortIndex=W,a(p,M),s(g)===null&&M===s(p)&&(j?(T(U),U=-1):j=!0,Re(O,W-ge))):(M.sortIndex=we,a(g,M),_||q||(_=!0,$||($=!0,fe()))),M},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(M){var I=N;return function(){var W=N;N=I;try{return M.apply(this,arguments)}finally{N=W}}}})(pf)),pf}var By;function DN(){return By||(By=1,hf.exports=TN()),hf.exports}var gf={exports:{}},Dn={};var qy;function zN(){if(qy)return Dn;qy=1;var e=wm();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:p,implementation:v}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Dn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(g,p,null,v)},Dn.flushSync=function(g){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,g)return g()}finally{m.T=p,l.p=v,l.d.f()}},Dn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Dn.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Dn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:q}):v==="script"&&l.d.X(g,{crossOrigin:x,integrity:N,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Dn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Dn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(g,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Dn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Dn.requestFormReset=function(g){l.d.r(g)},Dn.unstable_batchedUpdates=function(g,p){return g(p)},Dn.useFormState=function(g,p,v){return m.H.useFormState(g,p,v)},Dn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var Iy;function MN(){if(Iy)return gf.exports;Iy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),gf.exports=zN(),gf.exports}var Fy;function kN(){if(Fy)return _i;Fy=1;var e=DN(),a=wm(),s=MN();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,i=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return g(u),t;if(f===i)return g(u),n;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var y=!1,S=u.child;S;){if(S===r){y=!0,r=u,i=f;break}if(S===i){y=!0,i=u,r=f;break}S=S.sibling}if(!y){for(S=f.child;S;){if(S===r){y=!0,r=f,i=u;break}if(S===i){y=!0,i=f,r=u;break}S=S.sibling}if(!y)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),J=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case B:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case $:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case J:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case k:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:De(t.type)||"Memo";case Y:n=t._payload,t=t._init;try{return De(t(n))}catch{}}return null}var Re=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ge=[],we=-1;function w(t){return{current:t}}function V(t){0>we||(t.current=ge[we],ge[we]=null,we--)}function ce(t,n){we++,ge[we]=t.current,t.current=n}var z=w(null),oe=w(null),he=w(null),Te=w(null);function qe(t,n){switch(ce(he,n),ce(oe,t),ce(z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ny(n),t=ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(z),ce(z,t)}function me(){V(z),V(oe),V(he)}function ke(t){t.memoizedState!==null&&ce(Te,t);var n=z.current,r=ay(n,t.type);n!==r&&(ce(oe,t),ce(z,r))}function Fe(t){oe.current===t&&(V(z),V(oe)),Te.current===t&&(V(Te),vi._currentValue=W)}var _e,Me;function le(t){if(_e===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);_e=n&&n[1]||"",Me=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+t+Me}var ze=!1;function de(t,n){if(!t||ze)return"";ze=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(re){var ee=re}Reflect.construct(t,[],be)}else{try{be.call()}catch(re){ee=re}t.call(be.prototype)}}else{try{throw Error()}catch(re){ee=re}(be=t())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),y=f[0],S=f[1];if(y&&S){var D=y.split(`
`),X=S.split(`
`);for(u=i=0;i<D.length&&!D[i].includes("DetermineComponentFrameRoot");)i++;for(;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;if(i===D.length||u===X.length)for(i=D.length-1,u=X.length-1;1<=i&&0<=u&&D[i]!==X[u];)u--;for(;1<=i&&0<=u;i--,u--)if(D[i]!==X[u]){if(i!==1||u!==1)do if(i--,u--,0>u||D[i]!==X[u]){var ue=`
`+D[i].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=i&&0<=u);break}}}finally{ze=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?le(r):""}function $e(t,n){switch(t.tag){case 26:case 27:case 5:return le(t.type);case 16:return le("Lazy");case 13:return t.child!==n&&n!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return de(t.type,!1);case 11:return de(t.type.render,!1);case 1:return de(t.type,!0);case 31:return le("Activity");default:return""}}function Ae(t){try{var n="",r=null;do n+=$e(t,r),r=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Xe=Object.prototype.hasOwnProperty,C=e.unstable_scheduleCallback,Z=e.unstable_cancelCallback,R=e.unstable_shouldYield,Q=e.unstable_requestPaint,G=e.unstable_now,se=e.unstable_getCurrentPriorityLevel,Oe=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,ne=e.unstable_NormalPriority,Ue=e.unstable_LowPriority,Ve=e.unstable_IdlePriority,it=e.log,Xt=e.unstable_setDisableYieldValue,je=null,Je=null;function Gt(t){if(typeof it=="function"&&Xt(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(je,t)}catch{}}var St=Math.clz32?Math.clz32:Pa,Nn=Math.log,kn=Math.LN2;function Pa(t){return t>>>=0,t===0?32:31-(Nn(t)/kn|0)|0}var aa=256,st=262144,Ca=4194304;function fa(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oa(t,n,r){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=fa(i):(y&=S,y!==0?u=fa(y):r||(r=S&~t,r!==0&&(u=fa(r))))):(S=i&~f,S!==0?u=fa(S):y!==0?u=fa(y):r||(r=i&~t,r!==0&&(u=fa(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function Fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $n(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var t=Ca;return Ca<<=1,(Ca&62914560)===0&&(Ca=4194304),t}function te(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ee(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function He(t,n,r,i,u,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,X=t.hiddenUpdates;for(r=y&~r;0<r;){var ue=31-St(r),be=1<<ue;S[ue]=0,D[ue]=-1;var ee=X[ue];if(ee!==null)for(X[ue]=null,ue=0;ue<ee.length;ue++){var re=ee[ue];re!==null&&(re.lane&=-536870913)}r&=~be}i!==0&&We(t,i,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function We(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-St(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|r&261930}function ot(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var i=31-St(r),u=1<<i;u&n|t[i]&n&&(t[i]|=n),r&=~u}}function Qe(t,n){var r=n&-n;return r=(r&42)!==0?1:Qt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Qt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rt(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:Ey(t.type))}function gn(t,n){var r=I.p;try{return I.p=t,n()}finally{I.p=r}}var jt=Math.random().toString(36).slice(2),ct="__reactFiber$"+jt,yt="__reactProps$"+jt,kt="__reactContainer$"+jt,dn="__reactEvents$"+jt,wn="__reactListeners$"+jt,yn="__reactHandles$"+jt,fn="__reactResources$"+jt,qt="__reactMarker$"+jt;function Un(t){delete t[ct],delete t[yt],delete t[dn],delete t[wn],delete t[yn]}function tn(t){var n=t[ct];if(n)return n;for(var r=t.parentNode;r;){if(n=r[kt]||r[ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=uy(t);t!==null;){if(r=t[ct])return r;t=uy(t)}return n}t=r,r=t.parentNode}return null}function bn(t){if(t=t[ct]||t[kt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Tn(t){var n=t[fn];return n||(n=t[fn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[qt]=!0}var Rr=new Set,Ra={};function _n(t,n){Vn(t,n),Vn(t+"Capture",n)}function Vn(t,n){for(Ra[t]=n,t=0;t<n.length;t++)Rr.add(n[t])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tr={},Ka={};function Qs(t){return Xe.call(Ka,t)?!0:Xe.call(Tr,t)?!1:Ya.test(t)?Ka[t]=!0:(Tr[t]=!0,!1)}function nn(t,n,r){if(Qs(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ta(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Zn(t,n,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+i)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wi(t,n,r){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Dl(t){if(!t._valueTracker){var n=Tl(t)?"checked":"value";t._valueTracker=Wi(t,n,""+t[n])}}function zl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return t&&(i=Tl(t)?t.checked?"true":"false":t.value),t=i,t!==r?(n.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ml=/[\n"\\]/g;function vn(t){return t.replace(Ml,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function kl(t,n,r,i,u,f,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ys(t,y,an(n)):r!=null?Ys(t,y,an(r)):i!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+an(S):t.removeAttribute("name")}function Dr(t,n,r,i,u,f,y,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Dl(t);return}r=r!=null?""+an(r):"",n=n!=null?""+an(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=S?t.checked:!!i,t.defaultChecked=!!i,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Dl(t)}function Ys(t,n,r){n==="number"&&Ps(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ps(t,n,r,i){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&i&&(t[r].defaultSelected=!0)}else{for(r=""+an(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function eo(t,n,r){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+an(r):""}function to(t,n,r,i){if(n==null){if(i!=null){if(r!=null)throw Error(l(92));if(Re(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),n=r}r=an(n),t.defaultValue=r,i=t.textContent,i===r&&i!==""&&i!==null&&(t.value=i),Dl(t)}function gs(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,n,r){var i=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ao(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&r[u]!==i&&no(t,u,i)}else for(var f in n)n.hasOwnProperty(f)&&no(t,f,n[f])}function Ul(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),du=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return du.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Da(){}var ys=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bs=null,vs=null;function so(t){var n=bn(t);if(n&&(t=n.stateNode)){var r=t[yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(kl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==t&&i.form===t.form){var u=i[yt]||null;if(!u)throw Error(l(90));kl(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)i=r[n],i.form===t.form&&zl(i)}break e;case"textarea":eo(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ps(t,!!r.multiple,n,!1)}}}var Bl=!1;function ro(t,n,r){if(Bl)return t(n,r);Bl=!0;try{var i=t(n);return i}finally{if(Bl=!1,(bs!==null||vs!==null)&&(Ho(),bs&&(n=bs,t=vs,vs=bs=null,so(n),t)))for(n=0;n<t.length;n++)so(t[n])}}function Ks(t,n){var r=t.stateNode;if(r===null)return null;var i=r[yt]||null;if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(za)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Xs=!1}var Ia=null,E=null,H=null;function pe(){if(H)return H;var t,n=E,r=n.length,i,u="value"in Ia?Ia.value:Ia.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var y=r-t;for(i=1;i<=y&&n[r-i]===u[f-i];i++);return H=u.slice(t,1<i?1-i:void 0)}function Ce(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function tt(){return!0}function Et(){return!1}function dt(t){function n(r,i,u,f,y){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?tt:Et,this.isPropagationStopped=Et,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=tt)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=tt)},persist:function(){},isPersistent:tt}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=dt(jn),Fa=x({},jn,{view:0,detail:0}),E0=dt(Fa),fu,mu,ql,lo=x({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(fu=t.screenX-ql.screenX,mu=t.screenY-ql.screenY):mu=fu=0,ql=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:mu}}),rh=dt(lo),A0=x({},lo,{dataTransfer:0}),C0=dt(A0),O0=x({},Fa,{relatedTarget:0}),hu=dt(O0),R0=x({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),T0=dt(R0),D0=x({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z0=dt(D0),M0=x({},jn,{data:0}),lh=dt(M0),k0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=L0[t])?!!n[t]:!1}function pu(){return B0}var q0=x({},Fa,{key:function(t){if(t.key){var n=k0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ce(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?U0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(t){return t.type==="keypress"?Ce(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ce(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I0=dt(q0),F0=x({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=dt(F0),$0=x({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),H0=dt($0),V0=x({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=dt(V0),G0=x({},lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=dt(G0),P0=x({},jn,{newState:0,oldState:0}),Y0=dt(P0),K0=[9,13,27,32],gu=za&&"CompositionEvent"in window,Il=null;za&&"documentMode"in document&&(Il=document.documentMode);var X0=za&&"TextEvent"in window&&!Il,oh=za&&(!gu||Il&&8<Il&&11>=Il),ch=" ",uh=!1;function dh(t,n){switch(t){case"keyup":return K0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function J0(t,n){switch(t){case"compositionend":return fh(n);case"keypress":return n.which!==32?null:(uh=!0,ch);case"textInput":return t=n.data,t===ch&&uh?null:t;default:return null}}function W0(t,n){if(Mr)return t==="compositionend"||!gu&&dh(t,n)?(t=pe(),H=E=Ia=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oh&&n.locale!=="ko"?null:n.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eS[t.type]:n==="textarea"}function hh(t,n,r,i){bs?vs?vs.push(i):vs=[i]:bs=i,n=Ko(n,"onChange"),0<n.length&&(r=new Ws("onChange","change",null,r,i),t.push({event:r,listeners:n}))}var Fl=null,$l=null;function tS(t){Kg(t,0)}function io(t){var n=Hn(t);if(zl(n))return t}function ph(t,n){if(t==="change")return n}var gh=!1;if(za){var yu;if(za){var bu="oninput"in document;if(!bu){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),bu=typeof yh.oninput=="function"}yu=bu}else yu=!1;gh=yu&&(!document.documentMode||9<document.documentMode)}function bh(){Fl&&(Fl.detachEvent("onpropertychange",vh),$l=Fl=null)}function vh(t){if(t.propertyName==="value"&&io($l)){var n=[];hh(n,$l,t,Ll(t)),ro(tS,n)}}function nS(t,n,r){t==="focusin"?(bh(),Fl=n,$l=r,Fl.attachEvent("onpropertychange",vh)):t==="focusout"&&bh()}function aS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io($l)}function sS(t,n){if(t==="click")return io(n)}function rS(t,n){if(t==="input"||t==="change")return io(n)}function lS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sa=typeof Object.is=="function"?Object.is:lS;function Hl(t,n){if(sa(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!Xe.call(n,u)||!sa(t[u],n[u]))return!1}return!0}function xh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sh(t,n){var r=xh(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=n&&i>=n)return{node:r,offset:n-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xh(r)}}function Nh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Nh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ps(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ps(t.document)}return n}function vu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var iS=za&&"documentMode"in document&&11>=document.documentMode,kr=null,xu=null,Vl=null,Su=!1;function _h(t,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Su||kr==null||kr!==Ps(i)||(i=kr,"selectionStart"in i&&vu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vl&&Hl(Vl,i)||(Vl=i,i=Ko(xu,"onSelect"),0<i.length&&(n=new Ws("onSelect","select",null,n,r),t.push({event:n,listeners:i}),n.target=kr)))}function er(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ur={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},Nu={},jh={};za&&(jh=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function tr(t){if(Nu[t])return Nu[t];if(!Ur[t])return t;var n=Ur[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in jh)return Nu[t]=n[r];return t}var Eh=tr("animationend"),Ah=tr("animationiteration"),Ch=tr("animationstart"),oS=tr("transitionrun"),cS=tr("transitionstart"),uS=tr("transitioncancel"),Oh=tr("transitionend"),Rh=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function Ma(t,n){Rh.set(t,n),_n(n,[t])}var oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ma=[],Lr=0,_u=0;function co(){for(var t=Lr,n=_u=Lr=0;n<t;){var r=ma[n];ma[n++]=null;var i=ma[n];ma[n++]=null;var u=ma[n];ma[n++]=null;var f=ma[n];if(ma[n++]=null,i!==null&&u!==null){var y=i.pending;y===null?u.next=u:(u.next=y.next,y.next=u),i.pending=u}f!==0&&Th(r,u,f)}}function uo(t,n,r,i){ma[Lr++]=t,ma[Lr++]=n,ma[Lr++]=r,ma[Lr++]=i,_u|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function ju(t,n,r,i){return uo(t,n,r,i),fo(t)}function nr(t,n){return uo(t,null,null,n),fo(t)}function Th(t,n,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-St(r),t=f.hiddenUpdates,i=t[u],i===null?t[u]=[n]:i.push(n),n.lane=r|536870912),f):null}function fo(t){if(50<fi)throw fi=0,Md=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Br={};function dS(t,n,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(t,n,r,i){return new dS(t,n,r,i)}function Eu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xa(t,n){var r=t.alternate;return r===null?(r=ra(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Dh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mo(t,n,r,i,u,f){var y=0;if(i=t,typeof t=="function")Eu(t)&&(y=1);else if(typeof t=="string")y=gN(t,r,z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=ra(31,r,n,u),t.elementType=ie,t.lanes=f,t;case j:return ar(r.children,u,f,n);case A:y=8,u|=24;break;case B:return t=ra(12,r,n,u|2),t.elementType=B,t.lanes=f,t;case O:return t=ra(13,r,n,u),t.elementType=O,t.lanes=f,t;case $:return t=ra(19,r,n,u),t.elementType=$,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:y=10;break e;case T:y=9;break e;case k:y=11;break e;case U:y=14;break e;case Y:y=16,i=null;break e}y=29,r=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=ra(y,r,n,u),n.elementType=t,n.type=i,n.lanes=f,n}function ar(t,n,r,i){return t=ra(7,t,i,n),t.lanes=r,t}function Au(t,n,r){return t=ra(6,t,null,n),t.lanes=r,t}function zh(t){var n=ra(18,null,null,0);return n.stateNode=t,n}function Cu(t,n,r){return n=ra(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Mh=new WeakMap;function ha(t,n){if(typeof t=="object"&&t!==null){var r=Mh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ae(n)},Mh.set(t,n),n)}return{value:t,source:n,stack:Ae(n)}}var qr=[],Ir=0,ho=null,Zl=0,pa=[],ga=0,xs=null,$a=1,Ha="";function Ja(t,n){qr[Ir++]=Zl,qr[Ir++]=ho,ho=t,Zl=n}function kh(t,n,r){pa[ga++]=$a,pa[ga++]=Ha,pa[ga++]=xs,xs=t;var i=$a;t=Ha;var u=32-St(i)-1;i&=~(1<<u),r+=1;var f=32-St(n)+u;if(30<f){var y=u-u%5;f=(i&(1<<y)-1).toString(32),i>>=y,u-=y,$a=1<<32-St(n)+u|r<<u|i,Ha=f+t}else $a=1<<f|r<<u|i,Ha=t}function Ou(t){t.return!==null&&(Ja(t,1),kh(t,1,0))}function Ru(t){for(;t===ho;)ho=qr[--Ir],qr[Ir]=null,Zl=qr[--Ir],qr[Ir]=null;for(;t===xs;)xs=pa[--ga],pa[ga]=null,Ha=pa[--ga],pa[ga]=null,$a=pa[--ga],pa[ga]=null}function Uh(t,n){pa[ga++]=$a,pa[ga++]=Ha,pa[ga++]=xs,$a=n.id,Ha=n.overflow,xs=t}var En=null,Ut=null,gt=!1,Ss=null,ya=!1,Tu=Error(l(519));function Ns(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(ha(n,t)),Tu}function Lh(t){var n=t.stateNode,r=t.type,i=t.memoizedProps;switch(n[ct]=t,n[yt]=i,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(r=0;r<hi.length;r++)mt(hi[r],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":mt("invalid",n),Dr(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":mt("invalid",n);break;case"textarea":mt("invalid",n),to(n,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||i.suppressHydrationWarning===!0||ey(n.textContent,r)?(i.popover!=null&&(mt("beforetoggle",n),mt("toggle",n)),i.onScroll!=null&&mt("scroll",n),i.onScrollEnd!=null&&mt("scrollend",n),i.onClick!=null&&(n.onclick=Da),n=!0):n=!1,n||Ns(t,!0)}function Bh(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:En=En.return}}function Fr(t){if(t!==En)return!1;if(!gt)return Bh(t),gt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Yd(t.type,t.memoizedProps)),r=!r),r&&Ut&&Ns(t),Bh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=cy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=cy(t)}else n===27?(n=Ut,Us(t.type)?(t=ef,ef=null,Ut=t):Ut=n):Ut=En?va(t.stateNode.nextSibling):null;return!0}function sr(){Ut=En=null,gt=!1}function Du(){var t=Ss;return t!==null&&(Yn===null?Yn=t:Yn.push.apply(Yn,t),Ss=null),t}function Gl(t){Ss===null?Ss=[t]:Ss.push(t)}var zu=w(null),rr=null,Wa=null;function ws(t,n,r){ce(zu,n._currentValue),n._currentValue=r}function es(t){t._currentValue=zu.current,V(zu)}function Mu(t,n,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===r)break;t=t.return}}function ku(t,n,r,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var D=0;D<n.length;D++)if(S.context===n[D]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Mu(f.return,r,t),i||(y=null);break e}f=S.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Mu(y,r,t),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===t){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function $r(t,n,r,i){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var S=u.type;sa(u.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(u===Te.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(vi):t=[vi])}u=u.return}t!==null&&ku(n,t,r,i),n.flags|=262144}function po(t){for(t=t.firstContext;t!==null;){if(!sa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){rr=t,Wa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return qh(rr,t)}function go(t,n){return rr===null&&lr(t),qh(t,n)}function qh(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wa===null){if(t===null)throw Error(l(308));Wa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wa=Wa.next=n;return r}var fS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},mS=e.unstable_scheduleCallback,hS=e.unstable_NormalPriority,sn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new fS,data:new Map,refCount:0}}function Ql(t){t.refCount--,t.refCount===0&&mS(hS,function(){t.controller.abort()})}var Pl=null,Lu=0,Hr=0,Vr=null;function pS(t,n){if(Pl===null){var r=Pl=[];Lu=0,Hr=Id(),Vr={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Lu++,n.then(Ih,Ih),n}function Ih(){if(--Lu===0&&Pl!==null){Vr!==null&&(Vr.status="fulfilled");var t=Pl;Pl=null,Hr=0,Vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function gS(t,n){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var Fh=M.S;M.S=function(t,n){_g=G(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pS(t,n),Fh!==null&&Fh(t,n)};var ir=w(null);function Bu(){var t=ir.current;return t!==null?t:Dt.pooledCache}function yo(t,n){n===null?ce(ir,ir.current):ce(ir,n.pool)}function $h(){var t=Bu();return t===null?null:{parent:sn._currentValue,pool:t}}var Zr=Error(l(460)),qu=Error(l(474)),bo=Error(l(542)),vo={then:function(){}};function Hh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Da,Da),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gh(t),t;default:if(typeof n.status=="string")n.then(Da,Da);else{if(t=Dt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gh(t),t}throw cr=n,Zr}}function or(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(cr=r,Zr):r}}var cr=null;function Zh(){if(cr===null)throw Error(l(459));var t=cr;return cr=null,t}function Gh(t){if(t===Zr||t===bo)throw Error(l(483))}var Gr=null,Yl=0;function xo(t){var n=Yl;return Yl+=1,Gr===null&&(Gr=[]),Vh(Gr,t,n)}function Kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function So(t,n){throw n.$$typeof===N?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qh(t){function n(F,L){if(t){var K=F.deletions;K===null?(F.deletions=[L],F.flags|=16):K.push(L)}}function r(F,L){if(!t)return null;for(;L!==null;)n(F,L),L=L.sibling;return null}function i(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function u(F,L){return F=Xa(F,L),F.index=0,F.sibling=null,F}function f(F,L,K){return F.index=K,t?(K=F.alternate,K!==null?(K=K.index,K<L?(F.flags|=67108866,L):K):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function y(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function S(F,L,K,ye){return L===null||L.tag!==6?(L=Au(K,F.mode,ye),L.return=F,L):(L=u(L,K),L.return=F,L)}function D(F,L,K,ye){var Pe=K.type;return Pe===j?ue(F,L,K.props.children,ye,K.key):L!==null&&(L.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Y&&or(Pe)===L.type)?(L=u(L,K.props),Kl(L,K),L.return=F,L):(L=mo(K.type,K.key,K.props,null,F.mode,ye),Kl(L,K),L.return=F,L)}function X(F,L,K,ye){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=Cu(K,F.mode,ye),L.return=F,L):(L=u(L,K.children||[]),L.return=F,L)}function ue(F,L,K,ye,Pe){return L===null||L.tag!==7?(L=ar(K,F.mode,ye,Pe),L.return=F,L):(L=u(L,K),L.return=F,L)}function be(F,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Au(""+L,F.mode,K),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return K=mo(L.type,L.key,L.props,null,F.mode,K),Kl(K,L),K.return=F,K;case _:return L=Cu(L,F.mode,K),L.return=F,L;case Y:return L=or(L),be(F,L,K)}if(Re(L)||fe(L))return L=ar(L,F.mode,K,null),L.return=F,L;if(typeof L.then=="function")return be(F,xo(L),K);if(L.$$typeof===J)return be(F,go(F,L),K);So(F,L)}return null}function ee(F,L,K,ye){var Pe=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Pe!==null?null:S(F,L,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return K.key===Pe?D(F,L,K,ye):null;case _:return K.key===Pe?X(F,L,K,ye):null;case Y:return K=or(K),ee(F,L,K,ye)}if(Re(K)||fe(K))return Pe!==null?null:ue(F,L,K,ye,null);if(typeof K.then=="function")return ee(F,L,xo(K),ye);if(K.$$typeof===J)return ee(F,L,go(F,K),ye);So(F,K)}return null}function re(F,L,K,ye,Pe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return F=F.get(K)||null,S(L,F,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case q:return F=F.get(ye.key===null?K:ye.key)||null,D(L,F,ye,Pe);case _:return F=F.get(ye.key===null?K:ye.key)||null,X(L,F,ye,Pe);case Y:return ye=or(ye),re(F,L,K,ye,Pe)}if(Re(ye)||fe(ye))return F=F.get(K)||null,ue(L,F,ye,Pe,null);if(typeof ye.then=="function")return re(F,L,K,xo(ye),Pe);if(ye.$$typeof===J)return re(F,L,K,go(L,ye),Pe);So(L,ye)}return null}function Ie(F,L,K,ye){for(var Pe=null,bt=null,Ze=L,rt=L=0,pt=null;Ze!==null&&rt<K.length;rt++){Ze.index>rt?(pt=Ze,Ze=null):pt=Ze.sibling;var vt=ee(F,Ze,K[rt],ye);if(vt===null){Ze===null&&(Ze=pt);break}t&&Ze&&vt.alternate===null&&n(F,Ze),L=f(vt,L,rt),bt===null?Pe=vt:bt.sibling=vt,bt=vt,Ze=pt}if(rt===K.length)return r(F,Ze),gt&&Ja(F,rt),Pe;if(Ze===null){for(;rt<K.length;rt++)Ze=be(F,K[rt],ye),Ze!==null&&(L=f(Ze,L,rt),bt===null?Pe=Ze:bt.sibling=Ze,bt=Ze);return gt&&Ja(F,rt),Pe}for(Ze=i(Ze);rt<K.length;rt++)pt=re(Ze,F,rt,K[rt],ye),pt!==null&&(t&&pt.alternate!==null&&Ze.delete(pt.key===null?rt:pt.key),L=f(pt,L,rt),bt===null?Pe=pt:bt.sibling=pt,bt=pt);return t&&Ze.forEach(function(Fs){return n(F,Fs)}),gt&&Ja(F,rt),Pe}function Ke(F,L,K,ye){if(K==null)throw Error(l(151));for(var Pe=null,bt=null,Ze=L,rt=L=0,pt=null,vt=K.next();Ze!==null&&!vt.done;rt++,vt=K.next()){Ze.index>rt?(pt=Ze,Ze=null):pt=Ze.sibling;var Fs=ee(F,Ze,vt.value,ye);if(Fs===null){Ze===null&&(Ze=pt);break}t&&Ze&&Fs.alternate===null&&n(F,Ze),L=f(Fs,L,rt),bt===null?Pe=Fs:bt.sibling=Fs,bt=Fs,Ze=pt}if(vt.done)return r(F,Ze),gt&&Ja(F,rt),Pe;if(Ze===null){for(;!vt.done;rt++,vt=K.next())vt=be(F,vt.value,ye),vt!==null&&(L=f(vt,L,rt),bt===null?Pe=vt:bt.sibling=vt,bt=vt);return gt&&Ja(F,rt),Pe}for(Ze=i(Ze);!vt.done;rt++,vt=K.next())vt=re(Ze,F,rt,vt.value,ye),vt!==null&&(t&&vt.alternate!==null&&Ze.delete(vt.key===null?rt:vt.key),L=f(vt,L,rt),bt===null?Pe=vt:bt.sibling=vt,bt=vt);return t&&Ze.forEach(function(AN){return n(F,AN)}),gt&&Ja(F,rt),Pe}function Ot(F,L,K,ye){if(typeof K=="object"&&K!==null&&K.type===j&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case q:e:{for(var Pe=K.key;L!==null;){if(L.key===Pe){if(Pe=K.type,Pe===j){if(L.tag===7){r(F,L.sibling),ye=u(L,K.props.children),ye.return=F,F=ye;break e}}else if(L.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Y&&or(Pe)===L.type){r(F,L.sibling),ye=u(L,K.props),Kl(ye,K),ye.return=F,F=ye;break e}r(F,L);break}else n(F,L);L=L.sibling}K.type===j?(ye=ar(K.props.children,F.mode,ye,K.key),ye.return=F,F=ye):(ye=mo(K.type,K.key,K.props,null,F.mode,ye),Kl(ye,K),ye.return=F,F=ye)}return y(F);case _:e:{for(Pe=K.key;L!==null;){if(L.key===Pe)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){r(F,L.sibling),ye=u(L,K.children||[]),ye.return=F,F=ye;break e}else{r(F,L);break}else n(F,L);L=L.sibling}ye=Cu(K,F.mode,ye),ye.return=F,F=ye}return y(F);case Y:return K=or(K),Ot(F,L,K,ye)}if(Re(K))return Ie(F,L,K,ye);if(fe(K)){if(Pe=fe(K),typeof Pe!="function")throw Error(l(150));return K=Pe.call(K),Ke(F,L,K,ye)}if(typeof K.then=="function")return Ot(F,L,xo(K),ye);if(K.$$typeof===J)return Ot(F,L,go(F,K),ye);So(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(r(F,L.sibling),ye=u(L,K),ye.return=F,F=ye):(r(F,L),ye=Au(K,F.mode,ye),ye.return=F,F=ye),y(F)):r(F,L)}return function(F,L,K,ye){try{Yl=0;var Pe=Ot(F,L,K,ye);return Gr=null,Pe}catch(Ze){if(Ze===Zr||Ze===bo)throw Ze;var bt=ra(29,Ze,null,F.mode);return bt.lanes=ye,bt.return=F,bt}finally{}}}var ur=Qh(!0),Ph=Qh(!1),_s=!1;function Iu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(xt&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=fo(t),Th(t,null,r),n}return uo(t,i,n,r),fo(t)}function Xl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,ot(t,r)}}function $u(t,n){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Hu=!1;function Jl(){if(Hu){var t=Vr;if(t!==null)throw t}}function Wl(t,n,r,i){Hu=!1;var u=t.updateQueue;_s=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var D=S,X=D.next;D.next=null,y===null?f=X:y.next=X,y=D;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,S=ue.lastBaseUpdate,S!==y&&(S===null?ue.firstBaseUpdate=X:S.next=X,ue.lastBaseUpdate=D))}if(f!==null){var be=u.baseState;y=0,ue=X=D=null,S=f;do{var ee=S.lane&-536870913,re=ee!==S.lane;if(re?(ht&ee)===ee:(i&ee)===ee){ee!==0&&ee===Hr&&(Hu=!0),ue!==null&&(ue=ue.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ie=t,Ke=S;ee=n;var Ot=r;switch(Ke.tag){case 1:if(Ie=Ke.payload,typeof Ie=="function"){be=Ie.call(Ot,be,ee);break e}be=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ke.payload,ee=typeof Ie=="function"?Ie.call(Ot,be,ee):Ie,ee==null)break e;be=x({},be,ee);break e;case 2:_s=!0}}ee=S.callback,ee!==null&&(t.flags|=64,re&&(t.flags|=8192),re=u.callbacks,re===null?u.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ue===null?(X=ue=re,D=be):ue=ue.next=re,y|=ee;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;re=S,S=re.next,re.next=null,u.lastBaseUpdate=re,u.shared.pending=null}}while(!0);ue===null&&(D=be),u.baseState=D,u.firstBaseUpdate=X,u.lastBaseUpdate=ue,f===null&&(u.shared.lanes=0),Ts|=y,t.lanes=y,t.memoizedState=be}}function Yh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Kh(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Yh(r[t],n)}var Qr=w(null),No=w(0);function Xh(t,n){t=cs,ce(No,t),ce(Qr,n),cs=t|n.baseLanes}function Vu(){ce(No,cs),ce(Qr,Qr.current)}function Zu(){cs=No.current,V(Qr),V(No)}var la=w(null),ba=null;function As(t){var n=t.alternate;ce(Jt,Jt.current&1),ce(la,t),ba===null&&(n===null||Qr.current!==null||n.memoizedState!==null)&&(ba=t)}function Gu(t){ce(Jt,Jt.current),ce(la,t),ba===null&&(ba=t)}function Jh(t){t.tag===22?(ce(Jt,Jt.current),ce(la,t),ba===null&&(ba=t)):Cs()}function Cs(){ce(Jt,Jt.current),ce(la,la.current)}function ia(t){V(la),ba===t&&(ba=null),V(Jt)}var Jt=w(0);function wo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Jd(r)||Wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,nt=null,At=null,rn=null,_o=!1,Pr=!1,dr=!1,jo=0,ei=0,Yr=null,yS=0;function Pt(){throw Error(l(321))}function Qu(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sa(t[r],n[r]))return!1;return!0}function Pu(t,n,r,i,u,f){return ts=f,nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?kp:cd,dr=!1,f=r(i,u),dr=!1,Pr&&(f=ep(n,r,i,u)),Wh(t),f}function Wh(t){M.H=ai;var n=At!==null&&At.next!==null;if(ts=0,rn=At=nt=null,_o=!1,ei=0,Yr=null,n)throw Error(l(300));t===null||ln||(t=t.dependencies,t!==null&&po(t)&&(ln=!0))}function ep(t,n,r,i){nt=t;var u=0;do{if(Pr&&(Yr=null),ei=0,Pr=!1,25<=u)throw Error(l(301));if(u+=1,rn=At=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Up,f=n(r,i)}while(Pr);return f}function bS(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?ti(n):n,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(nt.flags|=1024),n}function Yu(){var t=jo!==0;return jo=0,t}function Ku(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Xu(t){if(_o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_o=!1}ts=0,rn=At=nt=null,Pr=!1,ei=jo=0,Yr=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?nt.memoizedState=rn=t:rn=rn.next=t,rn}function Wt(){if(At===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var n=rn===null?nt.memoizedState:rn.next;if(n!==null)rn=n,At=t;else{if(t===null)throw nt.alternate===null?Error(l(467)):Error(l(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},rn===null?nt.memoizedState=rn=t:rn=rn.next=t}return rn}function Eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ti(t){var n=ei;return ei+=1,Yr===null&&(Yr=[]),t=Vh(Yr,t,n),n=nt,(rn===null?n.memoizedState:rn.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?kp:cd),t}function Ao(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ti(t);if(t.$$typeof===J)return An(t)}throw Error(l(438,String(t)))}function Ju(t){var n=null,r=nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=nt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Eo(),nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),i=0;i<t;i++)r[i]=Ne;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function Co(t){var n=Wt();return Wu(n,At,t)}function Wu(t,n,r){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=t.baseQueue,f=i.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}n.baseQueue=u=f,i.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var S=y=null,D=null,X=n,ue=!1;do{var be=X.lane&-536870913;if(be!==X.lane?(ht&be)===be:(ts&be)===be){var ee=X.revertLane;if(ee===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),be===Hr&&(ue=!0);else if((ts&ee)===ee){X=X.next,ee===Hr&&(ue=!0);continue}else be={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},D===null?(S=D=be,y=f):D=D.next=be,nt.lanes|=ee,Ts|=ee;be=X.action,dr&&r(f,be),f=X.hasEagerState?X.eagerState:r(f,be)}else ee={lane:be,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},D===null?(S=D=ee,y=f):D=D.next=ee,nt.lanes|=be,Ts|=be;X=X.next}while(X!==null&&X!==n);if(D===null?y=f:D.next=S,!sa(f,t.memoizedState)&&(ln=!0,ue&&(r=Vr,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=D,i.lastRenderedState=f}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function ed(t){var n=Wt(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var i=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=t(f,y.action),y=y.next;while(y!==u);sa(f,n.memoizedState)||(ln=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,i]}function tp(t,n,r){var i=nt,u=Wt(),f=gt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var y=!sa((At||u).memoizedState,r);if(y&&(u.memoizedState=r,ln=!0),u=u.queue,ad(sp.bind(null,i,u,t),[t]),u.getSnapshot!==n||y||rn!==null&&rn.memoizedState.tag&1){if(i.flags|=2048,Kr(9,{destroy:void 0},ap.bind(null,i,u,r,n),null),Dt===null)throw Error(l(349));f||(ts&127)!==0||np(i,n,r)}return r}function np(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=nt.updateQueue,n===null?(n=Eo(),nt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ap(t,n,r,i){n.value=r,n.getSnapshot=i,rp(n)&&lp(t)}function sp(t,n,r){return r(function(){rp(n)&&lp(t)})}function rp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sa(t,r)}catch{return!0}}function lp(t){var n=nr(t,2);n!==null&&Kn(n,t,2)}function td(t){var n=Ln();if(typeof t=="function"){var r=t;if(t=r(),dr){Gt(!0);try{r()}finally{Gt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function ip(t,n,r,i){return t.baseState=r,Wu(t,At,typeof i=="function"?i:ns)}function vS(t,n,r,i,u){if(To(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};M.T!==null?r(!0):f.isTransition=!1,i(f),r=n.pending,r===null?(f.next=n.pending=f,op(n,f)):(f.next=r.next,n.pending=r.next=f)}}function op(t,n){var r=n.action,i=n.payload,u=t.state;if(n.isTransition){var f=M.T,y={};M.T=y;try{var S=r(u,i),D=M.S;D!==null&&D(y,S),cp(t,n,S)}catch(X){nd(t,n,X)}finally{f!==null&&y.types!==null&&(f.types=y.types),M.T=f}}else try{f=r(u,i),cp(t,n,f)}catch(X){nd(t,n,X)}}function cp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){up(t,n,i)},function(i){return nd(t,n,i)}):up(t,n,r)}function up(t,n,r){n.status="fulfilled",n.value=r,dp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,op(t,r)))}function nd(t,n,r){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,dp(n),n=n.next;while(n!==i)}t.action=null}function dp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fp(t,n){return n}function mp(t,n){if(gt){var r=Dt.formState;if(r!==null){e:{var i=nt;if(gt){if(Ut){t:{for(var u=Ut,f=ya;u.nodeType!==8;){if(!f){u=null;break t}if(u=va(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ut=va(u.nextSibling),i=u.data==="F!";break e}}Ns(i)}i=!1}i&&(n=r[0])}}return r=Ln(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},r.queue=i,r=Dp.bind(null,nt,i),i.dispatch=r,i=td(!1),f=od.bind(null,nt,!1,i.queue),i=Ln(),u={state:n,dispatch:null,action:t,pending:null},i.queue=u,r=vS.bind(null,nt,u,f,r),u.dispatch=r,i.memoizedState=t,[n,r,!1]}function hp(t){var n=Wt();return pp(n,At,t)}function pp(t,n,r){if(n=Wu(t,n,fp)[0],t=Co(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=ti(n)}catch(y){throw y===Zr?bo:y}else i=n;n=Wt();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(nt.flags|=2048,Kr(9,{destroy:void 0},xS.bind(null,u,r),null)),[i,f,t]}function xS(t,n){t.action=n}function gp(t){var n=Wt(),r=At;if(r!==null)return pp(n,r,t);Wt(),n=n.memoizedState,r=Wt();var i=r.queue.dispatch;return r.memoizedState=t,[n,i,!1]}function Kr(t,n,r,i){return t={tag:t,create:r,deps:i,inst:n,next:null},n=nt.updateQueue,n===null&&(n=Eo(),nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,n.lastEffect=t),t}function yp(){return Wt().memoizedState}function Oo(t,n,r,i){var u=Ln();nt.flags|=t,u.memoizedState=Kr(1|n,{destroy:void 0},r,i===void 0?null:i)}function Ro(t,n,r,i){var u=Wt();i=i===void 0?null:i;var f=u.memoizedState.inst;At!==null&&i!==null&&Qu(i,At.memoizedState.deps)?u.memoizedState=Kr(n,f,r,i):(nt.flags|=t,u.memoizedState=Kr(1|n,f,r,i))}function bp(t,n){Oo(8390656,8,t,n)}function ad(t,n){Ro(2048,8,t,n)}function SS(t){nt.flags|=4;var n=nt.updateQueue;if(n===null)n=Eo(),nt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function vp(t){var n=Wt().memoizedState;return SS({ref:n,nextImpl:t}),function(){if((xt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function xp(t,n){return Ro(4,2,t,n)}function Sp(t,n){return Ro(4,4,t,n)}function Np(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function wp(t,n,r){r=r!=null?r.concat([t]):null,Ro(4,4,Np.bind(null,n,t),r)}function sd(){}function _p(t,n){var r=Wt();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&Qu(n,i[1])?i[0]:(r.memoizedState=[t,n],t)}function jp(t,n){var r=Wt();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&Qu(n,i[1]))return i[0];if(i=t(),dr){Gt(!0);try{t()}finally{Gt(!1)}}return r.memoizedState=[i,n],i}function rd(t,n,r){return r===void 0||(ts&1073741824)!==0&&(ht&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Eg(),nt.lanes|=t,Ts|=t,r)}function Ep(t,n,r,i){return sa(r,n)?r:Qr.current!==null?(t=rd(t,r,i),sa(t,n)||(ln=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(ht&261930)===0?(ln=!0,t.memoizedState=r):(t=Eg(),nt.lanes|=t,Ts|=t,n)}function Ap(t,n,r,i,u){var f=I.p;I.p=f!==0&&8>f?f:8;var y=M.T,S={};M.T=S,od(t,!1,n,r);try{var D=u(),X=M.S;if(X!==null&&X(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ue=gS(D,i);ni(t,n,ue,ua(t))}else ni(t,n,i,ua(t))}catch(be){ni(t,n,{then:function(){},status:"rejected",reason:be},ua())}finally{I.p=f,y!==null&&S.types!==null&&(y.types=S.types),M.T=y}}function NS(){}function ld(t,n,r,i){if(t.tag!==5)throw Error(l(476));var u=Cp(t).queue;Ap(t,u,n,W,r===null?NS:function(){return Op(t),r(i)})}function Cp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:W},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Op(t){var n=Cp(t);n.next===null&&(n=t.alternate.memoizedState),ni(t,n.next.queue,{},ua())}function id(){return An(vi)}function Rp(){return Wt().memoizedState}function Tp(){return Wt().memoizedState}function wS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ua();t=js(r);var i=Es(n,t,r);i!==null&&(Kn(i,n,r),Xl(i,n,r)),n={cache:Uu()},t.payload=n;return}n=n.return}}function _S(t,n,r){var i=ua();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},To(t)?zp(n,r):(r=ju(t,n,r,i),r!==null&&(Kn(r,t,i),Mp(r,n,i)))}function Dp(t,n,r){var i=ua();ni(t,n,r,i)}function ni(t,n,r,i){var u={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(To(t))zp(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,S=f(y,r);if(u.hasEagerState=!0,u.eagerState=S,sa(S,y))return uo(t,n,u,0),Dt===null&&co(),!1}catch{}finally{}if(r=ju(t,n,u,i),r!==null)return Kn(r,t,i),Mp(r,n,i),!0}return!1}function od(t,n,r,i){if(i={lane:2,revertLane:Id(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},To(t)){if(n)throw Error(l(479))}else n=ju(t,r,i,2),n!==null&&Kn(n,t,2)}function To(t){var n=t.alternate;return t===nt||n!==null&&n===nt}function zp(t,n){Pr=_o=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Mp(t,n,r){if((r&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,ot(t,r)}}var ai={readContext:An,use:Ao,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};ai.useEffectEvent=Pt;var kp={readContext:An,use:Ao,useCallback:function(t,n){return Ln().memoizedState=[t,n===void 0?null:n],t},useContext:An,useEffect:bp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Oo(4194308,4,Np.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Oo(4194308,4,t,n)},useInsertionEffect:function(t,n){Oo(4,2,t,n)},useMemo:function(t,n){var r=Ln();n=n===void 0?null:n;var i=t();if(dr){Gt(!0);try{t()}finally{Gt(!1)}}return r.memoizedState=[i,n],i},useReducer:function(t,n,r){var i=Ln();if(r!==void 0){var u=r(n);if(dr){Gt(!0);try{r(n)}finally{Gt(!1)}}}else u=n;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=_S.bind(null,nt,t),[i.memoizedState,t]},useRef:function(t){var n=Ln();return t={current:t},n.memoizedState=t},useState:function(t){t=td(t);var n=t.queue,r=Dp.bind(null,nt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:sd,useDeferredValue:function(t,n){var r=Ln();return rd(r,t,n)},useTransition:function(){var t=td(!1);return t=Ap.bind(null,nt,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var i=nt,u=Ln();if(gt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Dt===null)throw Error(l(349));(ht&127)!==0||np(i,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,bp(sp.bind(null,i,f,t),[t]),i.flags|=2048,Kr(9,{destroy:void 0},ap.bind(null,i,f,r,n),null),r},useId:function(){var t=Ln(),n=Dt.identifierPrefix;if(gt){var r=Ha,i=$a;r=(i&~(1<<32-St(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=jo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=yS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:id,useFormState:mp,useActionState:mp,useOptimistic:function(t){var n=Ln();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=od.bind(null,nt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ju,useCacheRefresh:function(){return Ln().memoizedState=wS.bind(null,nt)},useEffectEvent:function(t){var n=Ln(),r={impl:t};return n.memoizedState=r,function(){if((xt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},cd={readContext:An,use:Ao,useCallback:_p,useContext:An,useEffect:ad,useImperativeHandle:wp,useInsertionEffect:xp,useLayoutEffect:Sp,useMemo:jp,useReducer:Co,useRef:yp,useState:function(){return Co(ns)},useDebugValue:sd,useDeferredValue:function(t,n){var r=Wt();return Ep(r,At.memoizedState,t,n)},useTransition:function(){var t=Co(ns)[0],n=Wt().memoizedState;return[typeof t=="boolean"?t:ti(t),n]},useSyncExternalStore:tp,useId:Rp,useHostTransitionStatus:id,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var r=Wt();return ip(r,At,t,n)},useMemoCache:Ju,useCacheRefresh:Tp};cd.useEffectEvent=vp;var Up={readContext:An,use:Ao,useCallback:_p,useContext:An,useEffect:ad,useImperativeHandle:wp,useInsertionEffect:xp,useLayoutEffect:Sp,useMemo:jp,useReducer:ed,useRef:yp,useState:function(){return ed(ns)},useDebugValue:sd,useDeferredValue:function(t,n){var r=Wt();return At===null?rd(r,t,n):Ep(r,At.memoizedState,t,n)},useTransition:function(){var t=ed(ns)[0],n=Wt().memoizedState;return[typeof t=="boolean"?t:ti(t),n]},useSyncExternalStore:tp,useId:Rp,useHostTransitionStatus:id,useFormState:gp,useActionState:gp,useOptimistic:function(t,n){var r=Wt();return At!==null?ip(r,At,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:Tp};Up.useEffectEvent=vp;function ud(t,n,r,i){n=t.memoizedState,r=r(i,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dd={enqueueSetState:function(t,n,r){t=t._reactInternals;var i=ua(),u=js(i);u.payload=n,r!=null&&(u.callback=r),n=Es(t,u,i),n!==null&&(Kn(n,t,i),Xl(n,t,i))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var i=ua(),u=js(i);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Es(t,u,i),n!==null&&(Kn(n,t,i),Xl(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ua(),i=js(r);i.tag=2,n!=null&&(i.callback=n),n=Es(t,i,r),n!==null&&(Kn(n,t,r),Xl(n,t,r))}};function Lp(t,n,r,i,u,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,f,y):n.prototype&&n.prototype.isPureReactComponent?!Hl(r,i)||!Hl(u,f):!0}function Bp(t,n,r,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==t&&dd.enqueueReplaceState(n,n.state,null)}function fr(t,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function qp(t){oo(t)}function Ip(t){console.error(t)}function Fp(t){oo(t)}function Do(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function $p(t,n,r){try{var i=t.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function fd(t,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){Do(t,n)},r}function Hp(t){return t=js(t),t.tag=3,t}function Vp(t,n,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;t.payload=function(){return u(f)},t.callback=function(){$p(n,r,i)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$p(n,r,i),typeof u!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function jS(t,n,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&$r(n,r,u,!0),r=la.current,r!==null){switch(r.tag){case 31:case 13:return ba===null?Vo():r.alternate===null&&Yt===0&&(Yt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===vo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),Ld(t,i,u)),!1;case 22:return r.flags|=65536,i===vo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),Ld(t,i,u)),!1}throw Error(l(435,r.tag))}return Ld(t,i,u),Vo(),!1}if(gt)return n=la.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==Tu&&(t=Error(l(422),{cause:i}),Gl(ha(t,r)))):(i!==Tu&&(n=Error(l(423),{cause:i}),Gl(ha(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=ha(i,r),u=fd(t.stateNode,i,u),$u(t,u),Yt!==4&&(Yt=2)),!1;var f=Error(l(520),{cause:i});if(f=ha(f,r),di===null?di=[f]:di.push(f),Yt!==4&&(Yt=2),n===null)return!0;i=ha(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=fd(r.stateNode,i,t),$u(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Hp(u),Vp(u,t,r,i),$u(r,u),!1}r=r.return}while(r!==null);return!1}var md=Error(l(461)),ln=!1;function Cn(t,n,r,i){n.child=t===null?Ph(n,null,r,i):ur(n,t.child,r,i)}function Zp(t,n,r,i,u){r=r.render;var f=n.ref;if("ref"in i){var y={};for(var S in i)S!=="ref"&&(y[S]=i[S])}else y=i;return lr(n),i=Pu(t,n,r,y,f,u),S=Yu(),t!==null&&!ln?(Ku(t,n,u),as(t,n,u)):(gt&&S&&Ou(n),n.flags|=1,Cn(t,n,i,u),n.child)}function Gp(t,n,r,i,u){if(t===null){var f=r.type;return typeof f=="function"&&!Eu(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Qp(t,n,f,i,u)):(t=mo(r.type,null,i,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Sd(t,u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(y,i)&&t.ref===n.ref)return as(t,n,u)}return n.flags|=1,t=Xa(f,i),t.ref=n.ref,t.return=n,n.child=t}function Qp(t,n,r,i,u){if(t!==null){var f=t.memoizedProps;if(Hl(f,i)&&t.ref===n.ref)if(ln=!1,n.pendingProps=i=f,Sd(t,u))(t.flags&131072)!==0&&(ln=!0);else return n.lanes=t.lanes,as(t,n,u)}return hd(t,n,r,i,u)}function Pp(t,n,r,i){var u=i.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(i=n.child=t.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return Yp(t,n,f,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yo(n,f!==null?f.cachePool:null),f!==null?Xh(n,f):Vu(),Jh(n);else return i=n.lanes=536870912,Yp(t,n,f!==null?f.baseLanes|r:r,r,i)}else f!==null?(yo(n,f.cachePool),Xh(n,f),Cs(),n.memoizedState=null):(t!==null&&yo(n,null),Vu(),Cs());return Cn(t,n,u,r),n.child}function si(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yp(t,n,r,i,u){var f=Bu();return f=f===null?null:{parent:sn._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&yo(n,null),Vu(),Jh(n),t!==null&&$r(t,n,i,!0),n.childLanes=u,null}function zo(t,n){return n=ko({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Kp(t,n,r){return ur(n,t.child,null,r),t=zo(n,n.pendingProps),t.flags|=2,ia(n),n.memoizedState=null,t}function ES(t,n,r){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(gt){if(i.mode==="hidden")return t=zo(n,i),n.lanes=536870912,si(null,t);if(Gu(n),(t=Ut)?(t=oy(t,ya),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:$a,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},r=zh(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw Ns(n);return n.lanes=536870912,null}return zo(n,i)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Gu(n),u)if(n.flags&256)n.flags&=-257,n=Kp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(ln||$r(t,n,r,!1),u=(r&t.childLanes)!==0,ln||u){if(i=Dt,i!==null&&(y=Qe(i,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,nr(t,y),Kn(i,t,y),md;Vo(),n=Kp(t,n,r)}else t=f.treeContext,Ut=va(y.nextSibling),En=n,gt=!0,Ss=null,ya=!1,t!==null&&Uh(n,t),n=zo(n,i),n.flags|=4096;return n}return t=Xa(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Mo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function hd(t,n,r,i,u){return lr(n),r=Pu(t,n,r,i,void 0,u),i=Yu(),t!==null&&!ln?(Ku(t,n,u),as(t,n,u)):(gt&&i&&Ou(n),n.flags|=1,Cn(t,n,r,u),n.child)}function Xp(t,n,r,i,u,f){return lr(n),n.updateQueue=null,r=ep(n,i,r,u),Wh(t),i=Yu(),t!==null&&!ln?(Ku(t,n,f),as(t,n,f)):(gt&&i&&Ou(n),n.flags|=1,Cn(t,n,r,f),n.child)}function Jp(t,n,r,i,u){if(lr(n),n.stateNode===null){var f=Br,y=r.contextType;typeof y=="object"&&y!==null&&(f=An(y)),f=new r(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},Iu(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?An(y):Br,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(ud(n,r,y,i),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dd.enqueueReplaceState(f,f.state,null),Wl(n,i,f,u),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,D=fr(r,S);f.props=D;var X=f.context,ue=r.contextType;y=Br,typeof ue=="object"&&ue!==null&&(y=An(ue));var be=r.getDerivedStateFromProps;ue=typeof be=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,ue||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||X!==y)&&Bp(n,f,i,y),_s=!1;var ee=n.memoizedState;f.state=ee,Wl(n,i,f,u),Jl(),X=n.memoizedState,S||ee!==X||_s?(typeof be=="function"&&(ud(n,r,be,i),X=n.memoizedState),(D=_s||Lp(n,r,D,i,ee,X,y))?(ue||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=X),f.props=i,f.state=X,f.context=y,i=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,Fu(t,n),y=n.memoizedProps,ue=fr(r,y),f.props=ue,be=n.pendingProps,ee=f.context,X=r.contextType,D=Br,typeof X=="object"&&X!==null&&(D=An(X)),S=r.getDerivedStateFromProps,(X=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==be||ee!==D)&&Bp(n,f,i,D),_s=!1,ee=n.memoizedState,f.state=ee,Wl(n,i,f,u),Jl();var re=n.memoizedState;y!==be||ee!==re||_s||t!==null&&t.dependencies!==null&&po(t.dependencies)?(typeof S=="function"&&(ud(n,r,S,i),re=n.memoizedState),(ue=_s||Lp(n,r,ue,i,ee,re,D)||t!==null&&t.dependencies!==null&&po(t.dependencies))?(X||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,re,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,re,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=re),f.props=i,f.state=re,f.context=D,i=ue):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),i=!1)}return f=i,Mo(t,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&i?(n.child=ur(n,t.child,null,u),n.child=ur(n,null,r,u)):Cn(t,n,r,u),n.memoizedState=f.state,t=n.child):t=as(t,n,u),t}function Wp(t,n,r,i){return sr(),n.flags|=256,Cn(t,n,r,i),n.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:$h()}}function yd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=ca),t}function eg(t,n,r){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Jt.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(gt){if(u?As(n):Cs(),(t=Ut)?(t=oy(t,ya),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:$a,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},r=zh(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw Ns(n);return Wd(t)?n.lanes=32:n.lanes=536870912,null}var S=i.children;return i=i.fallback,u?(Cs(),u=n.mode,S=ko({mode:"hidden",children:S},u),i=ar(i,u,r,null),S.return=n,i.return=n,S.sibling=i,n.child=S,i=n.child,i.memoizedState=gd(r),i.childLanes=yd(t,y,r),n.memoizedState=pd,si(null,i)):(As(n),bd(n,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=vd(t,n,r)):n.memoizedState!==null?(Cs(),n.child=t.child,n.flags|=128,n=null):(Cs(),S=i.fallback,u=n.mode,i=ko({mode:"visible",children:i.children},u),S=ar(S,u,r,null),S.flags|=2,i.return=n,S.return=n,i.sibling=S,n.child=i,ur(n,t.child,null,r),i=n.child,i.memoizedState=gd(r),i.childLanes=yd(t,y,r),n.memoizedState=pd,n=si(null,i));else if(As(n),Wd(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var X=y.dgst;y=X,i=Error(l(419)),i.stack="",i.digest=y,Gl({value:i,source:null,stack:null}),n=vd(t,n,r)}else if(ln||$r(t,n,r,!1),y=(r&t.childLanes)!==0,ln||y){if(y=Dt,y!==null&&(i=Qe(y,r),i!==0&&i!==D.retryLane))throw D.retryLane=i,nr(t,i),Kn(y,t,i),md;Jd(S)||Vo(),n=vd(t,n,r)}else Jd(S)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Ut=va(S.nextSibling),En=n,gt=!0,Ss=null,ya=!1,t!==null&&Uh(n,t),n=bd(n,i.children),n.flags|=4096);return n}return u?(Cs(),S=i.fallback,u=n.mode,D=t.child,X=D.sibling,i=Xa(D,{mode:"hidden",children:i.children}),i.subtreeFlags=D.subtreeFlags&65011712,X!==null?S=Xa(X,S):(S=ar(S,u,r,null),S.flags|=2),S.return=n,i.return=n,i.sibling=S,n.child=i,si(null,i),i=n.child,S=t.child.memoizedState,S===null?S=gd(r):(u=S.cachePool,u!==null?(D=sn._currentValue,u=u.parent!==D?{parent:D,pool:D}:u):u=$h(),S={baseLanes:S.baseLanes|r,cachePool:u}),i.memoizedState=S,i.childLanes=yd(t,y,r),n.memoizedState=pd,si(t.child,i)):(As(n),r=t.child,t=r.sibling,r=Xa(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function bd(t,n){return n=ko({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ko(t,n){return t=ra(22,t,null,n),t.lanes=0,t}function vd(t,n,r){return ur(n,t.child,null,r),t=bd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tg(t,n,r){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),Mu(t.return,n,r)}function xd(t,n,r,i,u,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=i,y.tail=r,y.tailMode=u,y.treeForkCount=f)}function ng(t,n,r){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var y=Jt.current,S=(y&2)!==0;if(S?(y=y&1|2,n.flags|=128):y&=1,ce(Jt,y),Cn(t,n,i,r),i=gt?Zl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tg(t,r,n);else if(t.tag===19)tg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&wo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),xd(n,!1,u,r,f,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&wo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}xd(n,!0,r,null,f,i);break;case"together":xd(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(r&n.childLanes)===0)if(t!==null){if($r(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=Xa(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xa(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&po(t)))}function AS(t,n,r){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),ws(n,sn,t.memoizedState.cache),sr();break;case 27:case 5:ke(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Gu(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(As(n),n.flags|=128,null):(r&n.child.childLanes)!==0?eg(t,n,r):(As(n),t=as(t,n,r),t!==null?t.sibling:null);As(n);break;case 19:var u=(t.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||($r(t,n,r,!1),i=(r&n.childLanes)!==0),u){if(i)return ng(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ce(Jt,Jt.current),i)break;return null;case 22:return n.lanes=0,Pp(t,n,r,n.pendingProps);case 24:ws(n,sn,t.memoizedState.cache)}return as(t,n,r)}function ag(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)ln=!0;else{if(!Sd(t,r)&&(n.flags&128)===0)return ln=!1,AS(t,n,r);ln=(t.flags&131072)!==0}else ln=!1,gt&&(n.flags&1048576)!==0&&kh(n,Zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=or(n.elementType),n.type=t,typeof t=="function")Eu(t)?(i=fr(t,i),n.tag=1,n=Jp(null,n,t,i,r)):(n.tag=0,n=hd(null,n,t,i,r));else{if(t!=null){var u=t.$$typeof;if(u===k){n.tag=11,n=Zp(null,n,t,i,r);break e}else if(u===U){n.tag=14,n=Gp(null,n,t,i,r);break e}}throw n=De(t)||t,Error(l(306,n,""))}}return n;case 0:return hd(t,n,n.type,n.pendingProps,r);case 1:return i=n.type,u=fr(i,n.pendingProps),Jp(t,n,i,u,r);case 3:e:{if(qe(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,Fu(t,n),Wl(n,i,null,r);var y=n.memoizedState;if(i=y.cache,ws(n,sn,i),i!==f.cache&&ku(n,[sn],r,!0),Jl(),i=y.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(t,n,i,r);break e}else if(i!==u){u=ha(Error(l(424)),n),Gl(u),n=Wp(t,n,i,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ut=va(t.firstChild),En=n,gt=!0,Ss=null,ya=!0,r=Ph(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sr(),i===u){n=as(t,n,r);break e}Cn(t,n,i,r)}n=n.child}return n;case 26:return Mo(t,n),t===null?(r=hy(n.type,null,n.pendingProps,null))?n.memoizedState=r:gt||(r=n.type,t=n.pendingProps,i=Xo(he.current).createElement(r),i[ct]=n,i[yt]=t,On(i,r,t),Tt(i),n.stateNode=i):n.memoizedState=hy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ke(n),t===null&&gt&&(i=n.stateNode=dy(n.type,n.pendingProps,he.current),En=n,ya=!0,u=Ut,Us(n.type)?(ef=u,Ut=va(i.firstChild)):Ut=u),Cn(t,n,n.pendingProps.children,r),Mo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&gt&&((u=i=Ut)&&(i=aN(i,n.type,n.pendingProps,ya),i!==null?(n.stateNode=i,En=n,Ut=va(i.firstChild),ya=!1,u=!0):u=!1),u||Ns(n)),ke(n),u=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,i=f.children,Yd(u,f)?i=null:y!==null&&Yd(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Pu(t,n,bS,null,null,r),vi._currentValue=u),Mo(t,n),Cn(t,n,i,r),n.child;case 6:return t===null&&gt&&((t=r=Ut)&&(r=sN(r,n.pendingProps,ya),r!==null?(n.stateNode=r,En=n,Ut=null,t=!0):t=!1),t||Ns(n)),null;case 13:return eg(t,n,r);case 4:return qe(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=ur(n,null,i,r):Cn(t,n,i,r),n.child;case 11:return Zp(t,n,n.type,n.pendingProps,r);case 7:return Cn(t,n,n.pendingProps,r),n.child;case 8:return Cn(t,n,n.pendingProps.children,r),n.child;case 12:return Cn(t,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,ws(n,n.type,i.value),Cn(t,n,i.children,r),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,lr(n),u=An(u),i=i(u),n.flags|=1,Cn(t,n,i,r),n.child;case 14:return Gp(t,n,n.type,n.pendingProps,r);case 15:return Qp(t,n,n.type,n.pendingProps,r);case 19:return ng(t,n,r);case 31:return ES(t,n,r);case 22:return Pp(t,n,r,n.pendingProps);case 24:return lr(n),i=An(sn),t===null?(u=Bu(),u===null&&(u=Dt,f=Uu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:i,cache:u},Iu(n),ws(n,sn,u)):((t.lanes&r)!==0&&(Fu(t,n),Wl(n,null,null,r),Jl()),u=t.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ws(n,sn,i)):(i=f.cache,ws(n,sn,i),i!==u.cache&&ku(n,[sn],r,!0))),Cn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ss(t){t.flags|=4}function Nd(t,n,r,i,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Rg())t.flags|=8192;else throw cr=vo,qu}else t.flags&=-16777217}function sg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vy(n))if(Rg())t.flags|=8192;else throw cr=vo,qu}function Uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?P():536870912,t.lanes|=n,el|=n)}function ri(t,n){if(!gt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=r,n}function CS(t,n,r){var i=n.pendingProps;switch(Ru(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Lt(n),null;case 3:return r=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),es(sn),me(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fr(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Du())),Lt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(Lt(n),sg(n,f)):(Lt(n),Nd(n,u,null,i,r))):f?f!==t.memoizedState?(ss(n),Lt(n),sg(n,f)):(Lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&ss(n),Lt(n),Nd(n,u,t,i,r)),null;case 27:if(Fe(n),r=he.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Lt(n),null}t=z.current,Fr(n)?Lh(n):(t=dy(u,i,r),n.stateNode=t,ss(n))}return Lt(n),null;case 5:if(Fe(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Lt(n),null}if(f=z.current,Fr(n))Lh(n);else{var y=Xo(he.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?y.createElement("select",{is:i.is}):y.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?y.createElement(u,{is:i.is}):y.createElement(u)}}f[ct]=n,f[yt]=i;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(On(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ss(n)}}return Lt(n),Nd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=he.current,Fr(n)){if(t=n.stateNode,r=n.memoizedProps,i=null,u=En,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[ct]=n,t=!!(t.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||ey(t.nodeValue,r)),t||Ns(n,!0)}else t=Xo(t).createTextNode(i),t[ct]=n,n.stateNode=t}return Lt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(i=Fr(n),r!==null){if(t===null){if(!i)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[ct]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),t=!1}else r=Du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(ia(n),n):(ia(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Lt(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Fr(n),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ct]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),u=!1}else u=Du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(ia(n),n):(ia(n),null)}return ia(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,t=t!==null&&t.memoizedState!==null,r&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Uo(n,n.updateQueue),Lt(n),null);case 4:return me(),t===null&&Vd(n.stateNode.containerInfo),Lt(n),null;case 10:return es(n.type),Lt(n),null;case 19:if(V(Jt),i=n.memoizedState,i===null)return Lt(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)ri(i,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=wo(t),f!==null){for(n.flags|=128,ri(i,!1),t=f.updateQueue,n.updateQueue=t,Uo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Dh(r,t),r=r.sibling;return ce(Jt,Jt.current&1|2),gt&&Ja(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&G()>Fo&&(n.flags|=128,u=!0,ri(i,!1),n.lanes=4194304)}else{if(!u)if(t=wo(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Uo(n,t),ri(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!gt)return Lt(n),null}else 2*G()-i.renderingStartTime>Fo&&r!==536870912&&(n.flags|=128,u=!0,ri(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(t=i.last,t!==null?t.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=G(),t.sibling=null,r=Jt.current,ce(Jt,u?r&1|2:r&1),gt&&Ja(n,i.treeForkCount),t):(Lt(n),null);case 22:case 23:return ia(n),Zu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),r=n.updateQueue,r!==null&&Uo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),t!==null&&V(ir),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(sn),Lt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function OS(t,n){switch(Ru(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(sn),me(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Fe(n),null;case 31:if(n.memoizedState!==null){if(ia(n),n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ia(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return V(Jt),null;case 4:return me(),null;case 10:return es(n.type),null;case 22:case 23:return ia(n),Zu(),t!==null&&V(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(sn),null;case 25:return null;default:return null}}function rg(t,n){switch(Ru(n),n.tag){case 3:es(sn),me();break;case 26:case 27:case 5:Fe(n);break;case 4:me();break;case 31:n.memoizedState!==null&&ia(n);break;case 13:ia(n);break;case 19:V(Jt);break;case 10:es(n.type);break;case 22:case 23:ia(n),Zu(),t!==null&&V(ir);break;case 24:es(sn)}}function li(t,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&t)===t){i=void 0;var f=r.create,y=r.inst;i=f(),y.destroy=i}r=r.next}while(r!==u)}}catch(S){wt(n,n.return,S)}}function Os(t,n,r){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&t)===t){var y=i.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,u=n;var D=r,X=S;try{X()}catch(ue){wt(u,D,ue)}}}i=i.next}while(i!==f)}}catch(ue){wt(n,n.return,ue)}}function lg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Kh(n,r)}catch(i){wt(t,t.return,i)}}}function ig(t,n,r){r.props=fr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(i){wt(t,n,i)}}function ii(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(u){wt(t,n,u)}}function Va(t,n){var r=t.ref,i=t.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){wt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){wt(t,n,u)}else r.current=null}function og(t){var n=t.type,r=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){wt(t,t.return,u)}}function wd(t,n,r){try{var i=t.stateNode;XS(i,t.type,r,n),i[yt]=n}catch(u){wt(t,t.return,u)}}function cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Da));else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(jd(t,n,r),t=t.sibling;t!==null;)jd(t,n,r),t=t.sibling}function Lo(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Lo(t,n,r),t=t.sibling;t!==null;)Lo(t,n,r),t=t.sibling}function ug(t){var n=t.stateNode,r=t.memoizedProps;try{for(var i=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);On(n,i,r),n[ct]=t,n[yt]=r}catch(f){wt(t,t.return,f)}}var rs=!1,on=!1,Ed=!1,dg=typeof WeakSet=="function"?WeakSet:Set,xn=null;function RS(t,n){if(t=t.containerInfo,Qd=sc,t=wh(t),vu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,S=-1,D=-1,X=0,ue=0,be=t,ee=null;t:for(;;){for(var re;be!==r||u!==0&&be.nodeType!==3||(S=y+u),be!==f||i!==0&&be.nodeType!==3||(D=y+i),be.nodeType===3&&(y+=be.nodeValue.length),(re=be.firstChild)!==null;)ee=be,be=re;for(;;){if(be===t)break t;if(ee===r&&++X===u&&(S=y),ee===f&&++ue===i&&(D=y),(re=be.nextSibling)!==null)break;be=ee,ee=be.parentNode}be=re}r=S===-1||D===-1?null:{start:S,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pd={focusedElem:t,selectionRange:r},sc=!1,xn=n;xn!==null;)if(n=xn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xn=t;else for(;xn!==null;){switch(n=xn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var Ie=fr(r.type,u);t=i.getSnapshotBeforeUpdate(Ie,f),i.__reactInternalSnapshotBeforeUpdate=t}catch(Ke){wt(r,r.return,Ke)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Xd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,xn=t;break}xn=n.return}}function fg(t,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:is(t,r),i&4&&li(5,r);break;case 1:if(is(t,r),i&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){wt(r,r.return,y)}else{var u=fr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){wt(r,r.return,y)}}i&64&&lg(r),i&512&&ii(r,r.return);break;case 3:if(is(t,r),i&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kh(t,n)}catch(y){wt(r,r.return,y)}}break;case 27:n===null&&i&4&&ug(r);case 26:case 5:is(t,r),n===null&&i&4&&og(r),i&512&&ii(r,r.return);break;case 12:is(t,r);break;case 31:is(t,r),i&4&&pg(t,r);break;case 13:is(t,r),i&4&&gg(t,r),i&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=qS.bind(null,r),rN(t,r))));break;case 22:if(i=r.memoizedState!==null||rs,!i){n=n!==null&&n.memoizedState!==null||on,u=rs;var f=on;rs=i,(on=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):is(t,r),rs=u,on=f}break;case 30:break;default:is(t,r)}}function mg(t){var n=t.alternate;n!==null&&(t.alternate=null,mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Un(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Gn=!1;function ls(t,n,r){for(r=r.child;r!==null;)hg(t,n,r),r=r.sibling}function hg(t,n,r){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(je,r)}catch{}switch(r.tag){case 26:on||Va(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:on||Va(r,n);var i=It,u=Gn;Us(r.type)&&(It=r.stateNode,Gn=!1),ls(t,n,r),gi(r.stateNode),It=i,Gn=u;break;case 5:on||Va(r,n);case 6:if(i=It,u=Gn,It=null,ls(t,n,r),It=i,Gn=u,It!==null)if(Gn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(r.stateNode)}catch(f){wt(r,n,f)}else try{It.removeChild(r.stateNode)}catch(f){wt(r,n,f)}break;case 18:It!==null&&(Gn?(t=It,ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ol(t)):ly(It,r.stateNode));break;case 4:i=It,u=Gn,It=r.stateNode.containerInfo,Gn=!0,ls(t,n,r),It=i,Gn=u;break;case 0:case 11:case 14:case 15:Os(2,r,n),on||Os(4,r,n),ls(t,n,r);break;case 1:on||(Va(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&ig(r,n,i)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:on=(i=on)||r.memoizedState!==null,ls(t,n,r),on=i;break;default:ls(t,n,r)}}function pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(r){wt(n,n.return,r)}}}function gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(r){wt(n,n.return,r)}}function TS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dg),n;default:throw Error(l(435,t.tag))}}function Bo(t,n){var r=TS(t);n.forEach(function(i){if(!r.has(i)){r.add(i);var u=IS.bind(null,t,i);i.then(u,u)}})}function Qn(t,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=t,y=n,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Us(S.type)){It=S.stateNode,Gn=!1;break e}break;case 5:It=S.stateNode,Gn=!1;break e;case 3:case 4:It=S.stateNode.containerInfo,Gn=!0;break e}S=S.return}if(It===null)throw Error(l(160));hg(f,y,u),It=null,Gn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yg(n,t),n=n.sibling}var ka=null;function yg(t,n){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qn(n,t),Pn(t),i&4&&(Os(3,t,t.return),li(3,t),Os(5,t,t.return));break;case 1:Qn(n,t),Pn(t),i&512&&(on||r===null||Va(r,r.return)),i&64&&rs&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=ka;if(Qn(n,t),Pn(t),i&512&&(on||r===null||Va(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=t.memoizedState,r===null)if(i===null)if(t.stateNode===null){e:{i=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[qt]||f[ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),On(f,i,r),f[ct]=t,Tt(f),i=f;break e;case"link":var y=yy("link","href",u).get(i+(r.href||""));if(y){for(var S=0;S<y.length;S++)if(f=y[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(S,1);break t}}f=u.createElement(i),On(f,i,r),u.head.appendChild(f);break;case"meta":if(y=yy("meta","content",u).get(i+(r.content||""))){for(S=0;S<y.length;S++)if(f=y[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(S,1);break t}}f=u.createElement(i),On(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[ct]=t,Tt(f),i=f}t.stateNode=i}else by(u,t.type,t.stateNode);else t.stateNode=gy(u,i,t.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?by(u,t.type,t.stateNode):gy(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&wd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Qn(n,t),Pn(t),i&512&&(on||r===null||Va(r,r.return)),r!==null&&i&4&&wd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Qn(n,t),Pn(t),i&512&&(on||r===null||Va(r,r.return)),t.flags&32){u=t.stateNode;try{gs(u,"")}catch(Ie){wt(t,t.return,Ie)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,wd(t,u,r!==null?r.memoizedProps:u)),i&1024&&(Ed=!0);break;case 6:if(Qn(n,t),Pn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,r=t.stateNode;try{r.nodeValue=i}catch(Ie){wt(t,t.return,Ie)}}break;case 3:if(ec=null,u=ka,ka=Jo(n.containerInfo),Qn(n,t),ka=u,Pn(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(Ie){wt(t,t.return,Ie)}Ed&&(Ed=!1,bg(t));break;case 4:i=ka,ka=Jo(t.stateNode.containerInfo),Qn(n,t),Pn(t),ka=i;break;case 12:Qn(n,t),Pn(t);break;case 31:Qn(n,t),Pn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bo(t,i)));break;case 13:Qn(n,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Io=G()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bo(t,i)));break;case 22:u=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,X=rs,ue=on;if(rs=X||u,on=ue||D,Qn(n,t),on=ue,rs=X,Pn(t),i&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||D||rs||on||mr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=D.stateNode;var be=D.memoizedProps.style,ee=be!=null&&be.hasOwnProperty("display")?be.display:null;S.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ie){wt(D,D.return,Ie)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=u?"":D.memoizedProps}catch(Ie){wt(D,D.return,Ie)}}}else if(n.tag===18){if(r===null){D=n;try{var re=D.stateNode;u?iy(re,!0):iy(D.stateNode,!1)}catch(Ie){wt(D,D.return,Ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Bo(t,r))));break;case 19:Qn(n,t),Pn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bo(t,i)));break;case 30:break;case 21:break;default:Qn(n,t),Pn(t)}}function Pn(t){var n=t.flags;if(n&2){try{for(var r,i=t.return;i!==null;){if(cg(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=_d(t);Lo(t,f,u);break;case 5:var y=r.stateNode;r.flags&32&&(gs(y,""),r.flags&=-33);var S=_d(t);Lo(t,S,y);break;case 3:case 4:var D=r.stateNode.containerInfo,X=_d(t);jd(t,X,D);break;default:throw Error(l(161))}}catch(ue){wt(t,t.return,ue)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;bg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fg(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),mr(n);break;case 1:Va(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ig(n,n.return,r),mr(n);break;case 27:gi(n.stateNode);case 26:case 5:Va(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:os(u,f,r),li(4,f);break;case 1:if(os(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(X){wt(i,i.return,X)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var D=u.shared.hiddenCallbacks;if(D!==null)for(u.shared.hiddenCallbacks=null,u=0;u<D.length;u++)Yh(D[u],S)}catch(X){wt(i,i.return,X)}}r&&y&64&&lg(f),ii(f,f.return);break;case 27:ug(f);case 26:case 5:os(u,f,r),r&&i===null&&y&4&&og(f),ii(f,f.return);break;case 12:os(u,f,r);break;case 31:os(u,f,r),r&&y&4&&pg(u,f);break;case 13:os(u,f,r),r&&y&4&&gg(u,f);break;case 22:f.memoizedState===null&&os(u,f,r),ii(f,f.return);break;case 30:break;default:os(u,f,r)}n=n.sibling}}function Ad(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ql(r))}function Cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t))}function Ua(t,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vg(t,n,r,i),n=n.sibling}function vg(t,n,r,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ua(t,n,r,i),u&2048&&li(9,n);break;case 1:Ua(t,n,r,i);break;case 3:Ua(t,n,r,i),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t)));break;case 12:if(u&2048){Ua(t,n,r,i),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,S=f.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){wt(n,n.return,D)}}else Ua(t,n,r,i);break;case 31:Ua(t,n,r,i);break;case 13:Ua(t,n,r,i);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Ua(t,n,r,i):oi(t,n):f._visibility&2?Ua(t,n,r,i):(f._visibility|=2,Xr(t,n,r,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ad(y,n);break;case 24:Ua(t,n,r,i),u&2048&&Cd(n.alternate,n);break;default:Ua(t,n,r,i)}}function Xr(t,n,r,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,S=r,D=i,X=y.flags;switch(y.tag){case 0:case 11:case 15:Xr(f,y,S,D,u),li(8,y);break;case 23:break;case 22:var ue=y.stateNode;y.memoizedState!==null?ue._visibility&2?Xr(f,y,S,D,u):oi(f,y):(ue._visibility|=2,Xr(f,y,S,D,u)),u&&X&2048&&Ad(y.alternate,y);break;case 24:Xr(f,y,S,D,u),u&&X&2048&&Cd(y.alternate,y);break;default:Xr(f,y,S,D,u)}n=n.sibling}}function oi(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,i=n,u=i.flags;switch(i.tag){case 22:oi(r,i),u&2048&&Ad(i.alternate,i);break;case 24:oi(r,i),u&2048&&Cd(i.alternate,i);break;default:oi(r,i)}n=n.sibling}}var ci=8192;function Jr(t,n,r){if(t.subtreeFlags&ci)for(t=t.child;t!==null;)xg(t,n,r),t=t.sibling}function xg(t,n,r){switch(t.tag){case 26:Jr(t,n,r),t.flags&ci&&t.memoizedState!==null&&yN(r,ka,t.memoizedState,t.memoizedProps);break;case 5:Jr(t,n,r);break;case 3:case 4:var i=ka;ka=Jo(t.stateNode.containerInfo),Jr(t,n,r),ka=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ci,ci=16777216,Jr(t,n,r),ci=i):Jr(t,n,r));break;default:Jr(t,n,r)}}function Sg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ui(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];xn=i,wg(i,t)}Sg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ng(t),t=t.sibling}function Ng(t){switch(t.tag){case 0:case 11:case 15:ui(t),t.flags&2048&&Os(9,t,t.return);break;case 3:ui(t);break;case 12:ui(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qo(t)):ui(t);break;default:ui(t)}}function qo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];xn=i,wg(i,t)}Sg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Os(8,n,n.return),qo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,qo(n));break;default:qo(n)}t=t.sibling}}function wg(t,n){for(;xn!==null;){var r=xn;switch(r.tag){case 0:case 11:case 15:Os(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ql(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,xn=i;else e:for(r=t;xn!==null;){i=xn;var u=i.sibling,f=i.return;if(mg(i),i===r){xn=null;break e}if(u!==null){u.return=f,xn=u;break e}xn=f}}}var DS={getCacheForType:function(t){var n=An(sn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return An(sn).controller.signal}},zS=typeof WeakMap=="function"?WeakMap:Map,xt=0,Dt=null,ft=null,ht=0,Nt=0,oa=null,Rs=!1,Wr=!1,Od=!1,cs=0,Yt=0,Ts=0,hr=0,Rd=0,ca=0,el=0,di=null,Yn=null,Td=!1,Io=0,_g=0,Fo=1/0,$o=null,Ds=null,mn=0,zs=null,tl=null,us=0,Dd=0,zd=null,jg=null,fi=0,Md=null;function ua(){return(xt&2)!==0&&ht!==0?ht&-ht:M.T!==null?Id():Rt()}function Eg(){if(ca===0)if((ht&536870912)===0||gt){var t=st;st<<=1,(st&3932160)===0&&(st=262144),ca=t}else ca=536870912;return t=la.current,t!==null&&(t.flags|=32),ca}function Kn(t,n,r){(t===Dt&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)&&(nl(t,0),Ms(t,ht,ca,!1)),Ee(t,r),((xt&2)===0||t!==Dt)&&(t===Dt&&((xt&2)===0&&(hr|=r),Yt===4&&Ms(t,ht,ca,!1)),Za(t))}function Ag(t,n,r){if((xt&6)!==0)throw Error(l(327));var i=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Fn(t,n),u=i?US(t,n):Ud(t,n,!0),f=i;do{if(u===0){Wr&&!i&&Ms(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!MS(r)){u=Ud(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var S=t;u=di;var D=S.current.memoizedState.isDehydrated;if(D&&(nl(S,y).flags|=256),y=Ud(S,y,!1),y!==2){if(Od&&!D){S.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Yn,Yn=u,f!==null&&(Yn===null?Yn=f:Yn.push.apply(Yn,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){nl(t,0),Ms(t,n,0,!0);break}e:{switch(i=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ms(i,n,ca,!Rs);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Io+300-G(),10<u)){if(Ms(i,n,ca,!Rs),Oa(i,0,!0)!==0)break e;us=n,i.timeoutHandle=sy(Cg.bind(null,i,r,Yn,$o,Td,n,ca,hr,el,Rs,f,"Throttled",-0,0),u);break e}Cg(i,r,Yn,$o,Td,n,ca,hr,el,Rs,f,null,-0,0)}}break}while(!0);Za(t)}function Cg(t,n,r,i,u,f,y,S,D,X,ue,be,ee,re){if(t.timeoutHandle=-1,be=n.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},xg(n,f,be);var Ie=(f&62914560)===f?Io-G():(f&4194048)===f?_g-G():0;if(Ie=bN(be,Ie),Ie!==null){us=f,t.cancelPendingCommit=Ie(Ug.bind(null,t,n,f,r,i,u,y,S,D,ue,be,null,ee,re)),Ms(t,f,y,!X);return}}Ug(t,n,f,r,i,u,y,S,D)}function MS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!sa(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,r,i){n&=~Rd,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var u=n;0<u;){var f=31-St(u),y=1<<f;i[f]=-1,u&=~y}r!==0&&We(t,r,n)}function Ho(){return(xt&6)===0?(mi(0),!1):!0}function kd(){if(ft!==null){if(Nt===0)var t=ft.return;else t=ft,Wa=rr=null,Xu(t),Gr=null,Yl=0,t=ft;for(;t!==null;)rg(t.alternate,t),t=t.return;ft=null}}function nl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,eN(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,kd(),Dt=t,ft=r=Xa(t.current,null),ht=n,Nt=0,oa=null,Rs=!1,Wr=Fn(t,n),Od=!1,el=ca=Rd=hr=Ts=Yt=0,Yn=di=null,Td=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var u=31-St(i),f=1<<u;n|=t[u],i&=~f}return cs=n,co(),r}function Og(t,n){nt=null,M.H=ai,n===Zr||n===bo?(n=Zh(),Nt=3):n===qu?(n=Zh(),Nt=4):Nt=n===md?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,oa=n,ft===null&&(Yt=1,Do(t,ha(n,t.current)))}function Rg(){var t=la.current;return t===null?!0:(ht&4194048)===ht?ba===null:(ht&62914560)===ht||(ht&536870912)!==0?t===ba:!1}function Tg(){var t=M.H;return M.H=ai,t===null?ai:t}function Dg(){var t=M.A;return M.A=DS,t}function Vo(){Yt=4,Rs||(ht&4194048)!==ht&&la.current!==null||(Wr=!0),(Ts&134217727)===0&&(hr&134217727)===0||Dt===null||Ms(Dt,ht,ca,!1)}function Ud(t,n,r){var i=xt;xt|=2;var u=Tg(),f=Dg();(Dt!==t||ht!==n)&&($o=null,nl(t,n)),n=!1;var y=Yt;e:do try{if(Nt!==0&&ft!==null){var S=ft,D=oa;switch(Nt){case 8:kd(),y=6;break e;case 3:case 2:case 9:case 6:la.current===null&&(n=!0);var X=Nt;if(Nt=0,oa=null,al(t,S,D,X),r&&Wr){y=0;break e}break;default:X=Nt,Nt=0,oa=null,al(t,S,D,X)}}kS(),y=Yt;break}catch(ue){Og(t,ue)}while(!0);return n&&t.shellSuspendCounter++,Wa=rr=null,xt=i,M.H=u,M.A=f,ft===null&&(Dt=null,ht=0,co()),y}function kS(){for(;ft!==null;)zg(ft)}function US(t,n){var r=xt;xt|=2;var i=Tg(),u=Dg();Dt!==t||ht!==n?($o=null,Fo=G()+500,nl(t,n)):Wr=Fn(t,n);e:do try{if(Nt!==0&&ft!==null){n=ft;var f=oa;t:switch(Nt){case 1:Nt=0,oa=null,al(t,n,f,1);break;case 2:case 9:if(Hh(f)){Nt=0,oa=null,Mg(n);break}n=function(){Nt!==2&&Nt!==9||Dt!==t||(Nt=7),Za(t)},f.then(n,n);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:Hh(f)?(Nt=0,oa=null,Mg(n)):(Nt=0,oa=null,al(t,n,f,7));break;case 5:var y=null;switch(ft.tag){case 26:y=ft.memoizedState;case 5:case 27:var S=ft;if(y?vy(y):S.stateNode.complete){Nt=0,oa=null;var D=S.sibling;if(D!==null)ft=D;else{var X=S.return;X!==null?(ft=X,Zo(X)):ft=null}break t}}Nt=0,oa=null,al(t,n,f,5);break;case 6:Nt=0,oa=null,al(t,n,f,6);break;case 8:kd(),Yt=6;break e;default:throw Error(l(462))}}LS();break}catch(ue){Og(t,ue)}while(!0);return Wa=rr=null,M.H=i,M.A=u,xt=r,ft!==null?0:(Dt=null,ht=0,co(),Yt)}function LS(){for(;ft!==null&&!R();)zg(ft)}function zg(t){var n=ag(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?Zo(t):ft=n}function Mg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Xp(r,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=Xp(r,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Xu(n);default:rg(r,n),n=ft=Dh(n,cs),n=ag(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?Zo(t):ft=n}function al(t,n,r,i){Wa=rr=null,Xu(n),Gr=null,Yl=0;var u=n.return;try{if(jS(t,u,n,r,ht)){Yt=1,Do(t,ha(r,t.current)),ft=null;return}}catch(f){if(u!==null)throw ft=u,f;Yt=1,Do(t,ha(r,t.current)),ft=null;return}n.flags&32768?(gt||i===1?t=!0:Wr||(ht&536870912)!==0?t=!1:(Rs=t=!0,(i===2||i===9||i===3||i===6)&&(i=la.current,i!==null&&i.tag===13&&(i.flags|=16384))),kg(n,t)):Zo(n)}function Zo(t){var n=t;do{if((n.flags&32768)!==0){kg(n,Rs);return}t=n.return;var r=CS(n.alternate,n,cs);if(r!==null){ft=r;return}if(n=n.sibling,n!==null){ft=n;return}ft=n=t}while(n!==null);Yt===0&&(Yt=5)}function kg(t,n){do{var r=OS(t.alternate,t);if(r!==null){r.flags&=32767,ft=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ft=t;return}ft=t=r}while(t!==null);Yt=6,ft=null}function Ug(t,n,r,i,u,f,y,S,D){t.cancelPendingCommit=null;do Go();while(mn!==0);if((xt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=_u,He(t,r,f,y,S,D),t===Dt&&(ft=Dt=null,ht=0),tl=n,zs=t,us=r,Dd=f,zd=u,jg=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FS(ne,function(){return Fg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=M.T,M.T=null,u=I.p,I.p=2,y=xt,xt|=4;try{RS(t,n,r)}finally{xt=y,I.p=u,M.T=i}}mn=1,Lg(),Bg(),qg()}}function Lg(){if(mn===1){mn=0;var t=zs,n=tl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var i=I.p;I.p=2;var u=xt;xt|=4;try{yg(n,t);var f=Pd,y=wh(t.containerInfo),S=f.focusedElem,D=f.selectionRange;if(y!==S&&S&&S.ownerDocument&&Nh(S.ownerDocument.documentElement,S)){if(D!==null&&vu(S)){var X=D.start,ue=D.end;if(ue===void 0&&(ue=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(ue,S.value.length);else{var be=S.ownerDocument||document,ee=be&&be.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ie=S.textContent.length,Ke=Math.min(D.start,Ie),Ot=D.end===void 0?Ke:Math.min(D.end,Ie);!re.extend&&Ke>Ot&&(y=Ot,Ot=Ke,Ke=y);var F=Sh(S,Ke),L=Sh(S,Ot);if(F&&L&&(re.rangeCount!==1||re.anchorNode!==F.node||re.anchorOffset!==F.offset||re.focusNode!==L.node||re.focusOffset!==L.offset)){var K=be.createRange();K.setStart(F.node,F.offset),re.removeAllRanges(),Ke>Ot?(re.addRange(K),re.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),re.addRange(K))}}}}for(be=[],re=S;re=re.parentNode;)re.nodeType===1&&be.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<be.length;S++){var ye=be[S];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}sc=!!Qd,Pd=Qd=null}finally{xt=u,I.p=i,M.T=r}}t.current=n,mn=2}}function Bg(){if(mn===2){mn=0;var t=zs,n=tl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var i=I.p;I.p=2;var u=xt;xt|=4;try{fg(t,n.alternate,n)}finally{xt=u,I.p=i,M.T=r}}mn=3}}function qg(){if(mn===4||mn===3){mn=0,Q();var t=zs,n=tl,r=us,i=jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mn=5:(mn=0,tl=zs=null,Ig(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ds=null),zt(r),n=n.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(je,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=M.T,u=I.p,I.p=2,M.T=null;try{for(var f=t.onRecoverableError,y=0;y<i.length;y++){var S=i[y];f(S.value,{componentStack:S.stack})}}finally{M.T=n,I.p=u}}(us&3)!==0&&Go(),Za(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Md?fi++:(fi=0,Md=t):fi=0,mi(0)}}function Ig(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ql(n)))}function Go(){return Lg(),Bg(),qg(),Fg()}function Fg(){if(mn!==5)return!1;var t=zs,n=Dd;Dd=0;var r=zt(us),i=M.T,u=I.p;try{I.p=32>r?32:r,M.T=null,r=zd,zd=null;var f=zs,y=us;if(mn=0,tl=zs=null,us=0,(xt&6)!==0)throw Error(l(331));var S=xt;if(xt|=4,Ng(f.current),vg(f,f.current,y,r),xt=S,mi(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(je,f)}catch{}return!0}finally{I.p=u,M.T=i,Ig(t,n)}}function $g(t,n,r){n=ha(r,n),n=fd(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(Ee(t,2),Za(t))}function wt(t,n,r){if(t.tag===3)$g(t,t,r);else for(;n!==null;){if(n.tag===3){$g(n,t,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ds===null||!Ds.has(i))){t=ha(r,t),r=Hp(2),i=Es(n,r,2),i!==null&&(Vp(r,i,n,t),Ee(i,2),Za(i));break}}n=n.return}}function Ld(t,n,r){var i=t.pingCache;if(i===null){i=t.pingCache=new zS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(r)||(Od=!0,u.add(r),t=BS.bind(null,t,n,r),n.then(t,t))}function BS(t,n,r){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Dt===t&&(ht&r)===r&&(Yt===4||Yt===3&&(ht&62914560)===ht&&300>G()-Io?(xt&2)===0&&nl(t,0):Rd|=r,el===ht&&(el=0)),Za(t)}function Hg(t,n){n===0&&(n=P()),t=nr(t,n),t!==null&&(Ee(t,n),Za(t))}function qS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Hg(t,r)}function IS(t,n){var r=0;switch(t.tag){case 31:case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),Hg(t,r)}function FS(t,n){return C(t,n)}var Qo=null,sl=null,Bd=!1,Po=!1,qd=!1,ks=0;function Za(t){t!==sl&&t.next===null&&(sl===null?Qo=sl=t:sl=sl.next=t),Po=!0,Bd||(Bd=!0,HS())}function mi(t,n){if(!qd&&Po){qd=!0;do for(var r=!1,i=Qo;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var y=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=u&~(y&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Qg(i,f))}else f=ht,f=Oa(i,i===Dt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Fn(i,f)||(r=!0,Qg(i,f));i=i.next}while(r);qd=!1}}function $S(){Vg()}function Vg(){Po=Bd=!1;var t=0;ks!==0&&WS()&&(t=ks);for(var n=G(),r=null,i=Qo;i!==null;){var u=i.next,f=Zg(i,n);f===0?(i.next=null,r===null?Qo=u:r.next=u,u===null&&(sl=r)):(r=i,(t!==0||(f&3)!==0)&&(Po=!0)),i=u}mn!==0&&mn!==5||mi(t),ks!==0&&(ks=0)}function Zg(t,n){for(var r=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-St(f),S=1<<y,D=u[y];D===-1?((S&r)===0||(S&i)!==0)&&(u[y]=$n(S,n)):D<=n&&(t.expiredLanes|=S),f&=~S}if(n=Dt,r=ht,r=Oa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,r===0||t===n&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Z(i),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Fn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(i!==null&&Z(i),zt(r)){case 2:case 8:r=Le;break;case 32:r=ne;break;case 268435456:r=Ve;break;default:r=ne}return i=Gg.bind(null,t),r=C(r,i),t.callbackPriority=n,t.callbackNode=r,n}return i!==null&&i!==null&&Z(i),t.callbackPriority=2,t.callbackNode=null,2}function Gg(t,n){if(mn!==0&&mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Go()&&t.callbackNode!==r)return null;var i=ht;return i=Oa(t,t===Dt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Ag(t,i,n),Zg(t,G()),t.callbackNode!=null&&t.callbackNode===r?Gg.bind(null,t):null)}function Qg(t,n){if(Go())return null;Ag(t,n,!0)}function HS(){tN(function(){(xt&6)!==0?C(Oe,$S):Vg()})}function Id(){if(ks===0){var t=Hr;t===0&&(t=aa,aa<<=1,(aa&261888)===0&&(aa=256)),ks=t}return ks}function Pg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function Yg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function VS(t,n,r,i,u){if(n==="submit"&&r&&r.stateNode===u){var f=Pg((u[yt]||null).action),y=i.submitter;y&&(n=(n=y[yt]||null)?Pg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var S=new Ws("action","action",null,i,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ks!==0){var D=y?Yg(u,y):new FormData(u);ld(r,{pending:!0,data:D,method:u.method,action:f},null,D)}}else typeof f=="function"&&(S.preventDefault(),D=y?Yg(u,y):new FormData(u),ld(r,{pending:!0,data:D,method:u.method,action:f},f,D))},currentTarget:u}]})}}for(var Fd=0;Fd<wu.length;Fd++){var $d=wu[Fd],ZS=$d.toLowerCase(),GS=$d[0].toUpperCase()+$d.slice(1);Ma(ZS,"on"+GS)}Ma(Eh,"onAnimationEnd"),Ma(Ah,"onAnimationIteration"),Ma(Ch,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(oS,"onTransitionRun"),Ma(cS,"onTransitionStart"),Ma(uS,"onTransitionCancel"),Ma(Oh,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hi));function Kg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var y=i.length-1;0<=y;y--){var S=i[y],D=S.instance,X=S.currentTarget;if(S=S.listener,D!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=X;try{f(u)}catch(ue){oo(ue)}u.currentTarget=null,f=D}else for(y=0;y<i.length;y++){if(S=i[y],D=S.instance,X=S.currentTarget,S=S.listener,D!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=X;try{f(u)}catch(ue){oo(ue)}u.currentTarget=null,f=D}}}}function mt(t,n){var r=n[dn];r===void 0&&(r=n[dn]=new Set);var i=t+"__bubble";r.has(i)||(Xg(n,t,2,!1),r.add(i))}function Hd(t,n,r){var i=0;n&&(i|=4),Xg(r,t,i,n)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Yo]){t[Yo]=!0,Rr.forEach(function(r){r!=="selectionchange"&&(QS.has(r)||Hd(r,!1,t),Hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Yo]||(n[Yo]=!0,Hd("selectionchange",!1,n))}}function Xg(t,n,r,i){switch(Ey(n)){case 2:var u=SN;break;case 8:u=NN;break;default:u=rf}r=u.bind(null,n,r,t),u=void 0,!Xs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Zd(t,n,r,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var y=i.tag;if(y===3||y===4){var S=i.stateNode.containerInfo;if(S===u)break;if(y===4)for(y=i.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;S!==null;){if(y=tn(S),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){i=f=y;continue e}S=S.parentNode}}i=i.return}ro(function(){var X=f,ue=Ll(r),be=[];e:{var ee=Rh.get(t);if(ee!==void 0){var re=Ws,Ie=t;switch(t){case"keypress":if(Ce(r)===0)break e;case"keydown":case"keyup":re=I0;break;case"focusin":Ie="focus",re=hu;break;case"focusout":Ie="blur",re=hu;break;case"beforeblur":case"afterblur":re=hu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=H0;break;case Eh:case Ah:case Ch:re=T0;break;case Oh:re=Z0;break;case"scroll":case"scrollend":re=E0;break;case"wheel":re=Q0;break;case"copy":case"cut":case"paste":re=z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=ih;break;case"toggle":case"beforetoggle":re=Y0}var Ke=(n&4)!==0,Ot=!Ke&&(t==="scroll"||t==="scrollend"),F=Ke?ee!==null?ee+"Capture":null:ee;Ke=[];for(var L=X,K;L!==null;){var ye=L;if(K=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||K===null||F===null||(ye=Ks(L,F),ye!=null&&Ke.push(pi(L,ye,K))),Ot)break;L=L.return}0<Ke.length&&(ee=new re(ee,Ie,null,r,ue),be.push({event:ee,listeners:Ke}))}}if((n&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",ee&&r!==ys&&(Ie=r.relatedTarget||r.fromElement)&&(tn(Ie)||Ie[kt]))break e;if((re||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ie=r.relatedTarget||r.toElement,re=X,Ie=Ie?tn(Ie):null,Ie!==null&&(Ot=d(Ie),Ke=Ie.tag,Ie!==Ot||Ke!==5&&Ke!==27&&Ke!==6)&&(Ie=null)):(re=null,Ie=X),re!==Ie)){if(Ke=rh,ye="onMouseLeave",F="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ke=ih,ye="onPointerLeave",F="onPointerEnter",L="pointer"),Ot=re==null?ee:Hn(re),K=Ie==null?ee:Hn(Ie),ee=new Ke(ye,L+"leave",re,r,ue),ee.target=Ot,ee.relatedTarget=K,ye=null,tn(ue)===X&&(Ke=new Ke(F,L+"enter",Ie,r,ue),Ke.target=K,Ke.relatedTarget=Ot,ye=Ke),Ot=ye,re&&Ie)t:{for(Ke=PS,F=re,L=Ie,K=0,ye=F;ye;ye=Ke(ye))K++;ye=0;for(var Pe=L;Pe;Pe=Ke(Pe))ye++;for(;0<K-ye;)F=Ke(F),K--;for(;0<ye-K;)L=Ke(L),ye--;for(;K--;){if(F===L||L!==null&&F===L.alternate){Ke=F;break t}F=Ke(F),L=Ke(L)}Ke=null}else Ke=null;re!==null&&Jg(be,ee,re,Ke,!1),Ie!==null&&Ot!==null&&Jg(be,Ot,Ie,Ke,!0)}}e:{if(ee=X?Hn(X):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var bt=ph;else if(mh(ee))if(gh)bt=rS;else{bt=aS;var Ze=nS}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&Ul(X.elementType)&&(bt=ph):bt=sS;if(bt&&(bt=bt(t,X))){hh(be,bt,r,ue);break e}Ze&&Ze(t,ee,X),t==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Ys(ee,"number",ee.value)}switch(Ze=X?Hn(X):window,t){case"focusin":(mh(Ze)||Ze.contentEditable==="true")&&(kr=Ze,xu=X,Vl=null);break;case"focusout":Vl=xu=kr=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,_h(be,r,ue);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":_h(be,r,ue)}var rt;if(gu)e:{switch(t){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Mr?dh(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(oh&&r.locale!=="ko"&&(Mr||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mr&&(rt=pe()):(Ia=ue,E="value"in Ia?Ia.value:Ia.textContent,Mr=!0)),Ze=Ko(X,pt),0<Ze.length&&(pt=new lh(pt,t,null,r,ue),be.push({event:pt,listeners:Ze}),rt?pt.data=rt:(rt=fh(r),rt!==null&&(pt.data=rt)))),(rt=X0?J0(t,r):W0(t,r))&&(pt=Ko(X,"onBeforeInput"),0<pt.length&&(Ze=new lh("onBeforeInput","beforeinput",null,r,ue),be.push({event:Ze,listeners:pt}),Ze.data=rt)),VS(be,t,X,r,ue)}Kg(be,n)})}function pi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ko(t,n){for(var r=n+"Capture",i=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ks(t,r),u!=null&&i.unshift(pi(t,u,f)),u=Ks(t,n),u!=null&&i.push(pi(t,u,f))),t.tag===3)return i;t=t.return}return[]}function PS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jg(t,n,r,i,u){for(var f=n._reactName,y=[];r!==null&&r!==i;){var S=r,D=S.alternate,X=S.stateNode;if(S=S.tag,D!==null&&D===i)break;S!==5&&S!==26&&S!==27||X===null||(D=X,u?(X=Ks(r,f),X!=null&&y.unshift(pi(r,X,D))):u||(X=Ks(r,f),X!=null&&y.push(pi(r,X,D)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var YS=/\r\n?/g,KS=/\u0000|\uFFFD/g;function Wg(t){return(typeof t=="string"?t:""+t).replace(YS,`
`).replace(KS,"")}function ey(t,n){return n=Wg(n),Wg(t)===n}function Ct(t,n,r,i,u,f){switch(r){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||gs(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&gs(t,""+i);break;case"className":Ta(t,"class",i);break;case"tabIndex":Ta(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(t,r,i);break;case"style":ao(t,i,f);break;case"data":if(n!=="object"){Ta(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ct(t,n,"name",u.name,u,null),Ct(t,n,"formEncType",u.formEncType,u,null),Ct(t,n,"formMethod",u.formMethod,u,null),Ct(t,n,"formTarget",u.formTarget,u,null)):(Ct(t,n,"encType",u.encType,u,null),Ct(t,n,"method",u.method,u,null),Ct(t,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"onClick":i!=null&&(t.onclick=Da);break;case"onScroll":i!=null&&mt("scroll",t);break;case"onScrollEnd":i!=null&&mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}r=zr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""+i):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":i===!0?t.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,i):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(r,i):t.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(r):t.setAttribute(r,i);break;case"popover":mt("beforetoggle",t),mt("toggle",t),nn(t,"popover",i);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":nn(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,nn(t,r,i))}}function Gd(t,n,r,i,u,f){switch(r){case"style":ao(t,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof i=="string"?gs(t,i):(typeof i=="number"||typeof i=="bigint")&&gs(t,""+i);break;case"onScroll":i!=null&&mt("scroll",t);break;case"onScrollEnd":i!=null&&mt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[yt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,i,u);break e}r in t?t[r]=i:i===!0?t.setAttribute(r,""):nn(t,r,i)}}}function On(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",t),mt("load",t);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ct(t,n,f,y,r,null)}}u&&Ct(t,n,"srcSet",r.srcSet,r,null),i&&Ct(t,n,"src",r.src,r,null);return;case"input":mt("invalid",t);var S=f=y=u=null,D=null,X=null;for(i in r)if(r.hasOwnProperty(i)){var ue=r[i];if(ue!=null)switch(i){case"name":u=ue;break;case"type":y=ue;break;case"checked":D=ue;break;case"defaultChecked":X=ue;break;case"value":f=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(137,n));break;default:Ct(t,n,i,ue,r,null)}}Dr(t,f,S,D,X,y,u,!1);return;case"select":mt("invalid",t),i=y=f=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":y=S;break;case"multiple":i=S;default:Ct(t,n,u,S,r,null)}n=f,r=y,t.multiple=!!i,n!=null?ps(t,!!i,n,!1):r!=null&&ps(t,!!i,r,!0);return;case"textarea":mt("invalid",t),f=u=i=null;for(y in r)if(r.hasOwnProperty(y)&&(S=r[y],S!=null))switch(y){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ct(t,n,y,S,r,null)}to(t,i,u,f);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(i=r[D],i!=null))switch(D){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ct(t,n,D,i,r,null)}return;case"dialog":mt("beforetoggle",t),mt("toggle",t),mt("cancel",t),mt("close",t);break;case"iframe":case"object":mt("load",t);break;case"video":case"audio":for(i=0;i<hi.length;i++)mt(hi[i],t);break;case"image":mt("error",t),mt("load",t);break;case"details":mt("toggle",t);break;case"embed":case"source":case"link":mt("error",t),mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in r)if(r.hasOwnProperty(X)&&(i=r[X],i!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ct(t,n,X,i,r,null)}return;default:if(Ul(n)){for(ue in r)r.hasOwnProperty(ue)&&(i=r[ue],i!==void 0&&Gd(t,n,ue,i,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(i=r[S],i!=null&&Ct(t,n,S,i,r,null))}function XS(t,n,r,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,S=null,D=null,X=null,ue=null;for(re in r){var be=r[re];if(r.hasOwnProperty(re)&&be!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":D=be;default:i.hasOwnProperty(re)||Ct(t,n,re,null,i,be)}}for(var ee in i){var re=i[ee];if(be=r[ee],i.hasOwnProperty(ee)&&(re!=null||be!=null))switch(ee){case"type":f=re;break;case"name":u=re;break;case"checked":X=re;break;case"defaultChecked":ue=re;break;case"value":y=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(l(137,n));break;default:re!==be&&Ct(t,n,ee,re,i,be)}}kl(t,y,S,D,X,ue,f,u);return;case"select":re=y=S=ee=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":re=D;default:i.hasOwnProperty(f)||Ct(t,n,f,null,i,D)}for(u in i)if(f=i[u],D=r[u],i.hasOwnProperty(u)&&(f!=null||D!=null))switch(u){case"value":ee=f;break;case"defaultValue":S=f;break;case"multiple":y=f;default:f!==D&&Ct(t,n,u,f,i,D)}n=S,r=y,i=re,ee!=null?ps(t,!!r,ee,!1):!!i!=!!r&&(n!=null?ps(t,!!r,n,!0):ps(t,!!r,r?[]:"",!1));return;case"textarea":re=ee=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ct(t,n,S,null,i,u)}for(y in i)if(u=i[y],f=r[y],i.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":ee=u;break;case"defaultValue":re=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ct(t,n,y,u,i,f)}eo(t,ee,re);return;case"option":for(var Ie in r)if(ee=r[Ie],r.hasOwnProperty(Ie)&&ee!=null&&!i.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:Ct(t,n,Ie,null,i,ee)}for(D in i)if(ee=i[D],re=r[D],i.hasOwnProperty(D)&&ee!==re&&(ee!=null||re!=null))switch(D){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ct(t,n,D,ee,i,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in r)ee=r[Ke],r.hasOwnProperty(Ke)&&ee!=null&&!i.hasOwnProperty(Ke)&&Ct(t,n,Ke,null,i,ee);for(X in i)if(ee=i[X],re=r[X],i.hasOwnProperty(X)&&ee!==re&&(ee!=null||re!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,n));break;default:Ct(t,n,X,ee,i,re)}return;default:if(Ul(n)){for(var Ot in r)ee=r[Ot],r.hasOwnProperty(Ot)&&ee!==void 0&&!i.hasOwnProperty(Ot)&&Gd(t,n,Ot,void 0,i,ee);for(ue in i)ee=i[ue],re=r[ue],!i.hasOwnProperty(ue)||ee===re||ee===void 0&&re===void 0||Gd(t,n,ue,ee,i,re);return}}for(var F in r)ee=r[F],r.hasOwnProperty(F)&&ee!=null&&!i.hasOwnProperty(F)&&Ct(t,n,F,null,i,ee);for(be in i)ee=i[be],re=r[be],!i.hasOwnProperty(be)||ee===re||ee==null&&re==null||Ct(t,n,be,ee,i,re)}function ty(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var u=r[i],f=u.transferSize,y=u.initiatorType,S=u.duration;if(f&&S&&ty(y)){for(y=0,S=u.responseEnd,i+=1;i<r.length;i++){var D=r[i],X=D.startTime;if(X>S)break;var ue=D.transferSize,be=D.initiatorType;ue&&ty(be)&&(D=D.responseEnd,y+=ue*(D<S?1:(S-X)/(D-X)))}if(--i,n+=8*(f+y)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Pd=null;function Xo(t){return t.nodeType===9?t:t.ownerDocument}function ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function WS(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,eN=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,tN=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(t){return ry.resolve(null).then(t).catch(nN)}:sy;function nN(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function ly(t,n){var r=n,i=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(i===0){t.removeChild(u),ol(n);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")gi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,gi(r);for(var f=r.firstChild;f;){var y=f.nextSibling,S=f.nodeName;f[qt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&gi(t.ownerDocument.body);r=u}while(r);ol(n)}function iy(t,n){var r=t;t=0;do{var i=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=i}while(r)}function Xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Xd(r),Un(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function aN(t,n,r,i){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[qt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=va(t.nextSibling),t===null)break}return null}function sN(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=va(t.nextSibling),t===null))return null;return t}function oy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=va(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rN(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var i=function(){n(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function va(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var ef=null;function cy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return va(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function uy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function dy(t,n,r){switch(n=Xo(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function gi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Un(t)}var xa=new Map,fy=new Set;function Jo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=I.d;I.d={f:lN,r:iN,D:oN,C:cN,L:uN,m:dN,X:mN,S:fN,M:hN};function lN(){var t=ds.f(),n=Ho();return t||n}function iN(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?Op(n):ds.r(t)}var rl=typeof document>"u"?null:document;function my(t,n,r){var i=rl;if(i&&typeof n=="string"&&n){var u=vn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),fy.has(u)||(fy.add(u),t={rel:t,crossOrigin:r,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),On(n,"link",t),Tt(n),i.head.appendChild(n)))}}function oN(t){ds.D(t),my("dns-prefetch",t,null)}function cN(t,n){ds.C(t,n),my("preconnect",t,n)}function uN(t,n,r){ds.L(t,n,r);var i=rl;if(i&&t&&n){var u='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+vn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+vn(r.imageSizes)+'"]')):u+='[href="'+vn(t)+'"]';var f=u;switch(n){case"style":f=ll(t);break;case"script":f=il(t)}xa.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),xa.set(f,t),i.querySelector(u)!==null||n==="style"&&i.querySelector(yi(f))||n==="script"&&i.querySelector(bi(f))||(n=i.createElement("link"),On(n,"link",t),Tt(n),i.head.appendChild(n)))}}function dN(t,n){ds.m(t,n);var r=rl;if(r&&t){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+vn(i)+'"][href="'+vn(t)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!xa.has(f)&&(t=x({rel:"modulepreload",href:t},n),xa.set(f,t),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bi(f)))return}i=r.createElement("link"),On(i,"link",t),Tt(i),r.head.appendChild(i)}}}function fN(t,n,r){ds.S(t,n,r);var i=rl;if(i&&t){var u=Tn(i).hoistableStyles,f=ll(t);n=n||"default";var y=u.get(f);if(!y){var S={loading:0,preload:null};if(y=i.querySelector(yi(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=xa.get(f))&&tf(t,r);var D=y=i.createElement("link");Tt(D),On(D,"link",t),D._p=new Promise(function(X,ue){D.onload=X,D.onerror=ue}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wo(y,n,i)}y={type:"stylesheet",instance:y,count:1,state:S},u.set(f,y)}}}function mN(t,n){ds.X(t,n);var r=rl;if(r&&t){var i=Tn(r).hoistableScripts,u=il(t),f=i.get(u);f||(f=r.querySelector(bi(u)),f||(t=x({src:t,async:!0},n),(n=xa.get(u))&&nf(t,n),f=r.createElement("script"),Tt(f),On(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function hN(t,n){ds.M(t,n);var r=rl;if(r&&t){var i=Tn(r).hoistableScripts,u=il(t),f=i.get(u);f||(f=r.querySelector(bi(u)),f||(t=x({src:t,async:!0,type:"module"},n),(n=xa.get(u))&&nf(t,n),f=r.createElement("script"),Tt(f),On(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function hy(t,n,r,i){var u=(u=he.current)?Jo(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ll(r.href),r=Tn(u).hoistableStyles,i=r.get(n),i||(i={type:"style",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ll(r.href);var f=Tn(u).hoistableStyles,y=f.get(t);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=u.querySelector(yi(t)))&&!f._p&&(y.instance=f,y.state.loading=5),xa.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xa.set(t,r),f||pN(u,t,r,y.state))),n&&i===null)throw Error(l(528,""));return y}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Tn(u).hoistableScripts,i=r.get(n),i||(i={type:"script",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ll(t){return'href="'+vn(t)+'"'}function yi(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function pN(t,n,r,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),On(n,"link",r),Tt(n),t.head.appendChild(n))}function il(t){return'[src="'+vn(t)+'"]'}function bi(t){return"script[async]"+t}function gy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+vn(r.href)+'"]');if(i)return n.instance=i,Tt(i),i;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Tt(i),On(i,"style",u),Wo(i,r.precedence,t),n.instance=i;case"stylesheet":u=ll(r.href);var f=t.querySelector(yi(u));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;i=py(r),(u=xa.get(u))&&tf(i,u),f=(t.ownerDocument||t).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(S,D){y.onload=S,y.onerror=D}),On(f,"link",i),n.state.loading|=4,Wo(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(u=t.querySelector(bi(f)))?(n.instance=u,Tt(u),u):(i=r,(u=xa.get(f))&&(i=x({},r),nf(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),Tt(u),On(u,"link",i),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,Wo(i,r.precedence,t));return n.instance}function Wo(t,n,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,y=0;y<i.length;y++){var S=i[y];if(S.dataset.precedence===n)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ec=null;function yy(t,n,r){if(ec===null){var i=new Map,u=ec=new Map;u.set(r,i)}else u=ec,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(t))return i;for(i.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[qt]||f[ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var S=i.get(y);S?S.push(f):i.set(y,[f])}}return i}function by(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function gN(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function vy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yN(t,n,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=ll(i.href),f=n.querySelector(yi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=tc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,i=py(i),(u=xa.get(u))&&tf(i,u),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(S,D){y.onload=S,y.onerror=D}),On(f,"link",i),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=tc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var af=0;function bN(t,n){return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var i=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&af===0&&(af=62500*JS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>af?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nc=null;function ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nc=new Map,n.forEach(vN,t),nc=null,tc.call(t))}function vN(t,n){if(!(n.state.loading&4)){var r=nc.get(t);if(r)var i=r.get(null);else{r=new Map,nc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),i=y)}i&&r.set(null,i)}u=n.instance,y=u.getAttribute("data-precedence"),f=r.get(y)||i,f===i&&r.set(null,u),r.set(y,u),this.count++,i=tc.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var vi={$$typeof:J,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function xN(t,n,r,i,u,f,y,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.hiddenUpdates=te(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function xy(t,n,r,i,u,f,y,S,D,X,ue,be){return t=new xN(t,n,r,y,D,X,ue,be,S),n=1,f===!0&&(n|=24),f=ra(3,null,null,n),t.current=f,f.stateNode=t,n=Uu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:n},Iu(f),t}function Sy(t){return t?(t=Br,t):Br}function Ny(t,n,r,i,u,f){u=Sy(u),i.context===null?i.context=u:i.pendingContext=u,i=js(n),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Es(t,i,n),r!==null&&(Kn(r,t,n),Xl(r,t,n))}function wy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function sf(t,n){wy(t,n),(t=t.alternate)&&wy(t,n)}function _y(t){if(t.tag===13||t.tag===31){var n=nr(t,67108864);n!==null&&Kn(n,t,67108864),sf(t,67108864)}}function jy(t){if(t.tag===13||t.tag===31){var n=ua();n=Qt(n);var r=nr(t,n);r!==null&&Kn(r,t,n),sf(t,n)}}var sc=!0;function SN(t,n,r,i){var u=M.T;M.T=null;var f=I.p;try{I.p=2,rf(t,n,r,i)}finally{I.p=f,M.T=u}}function NN(t,n,r,i){var u=M.T;M.T=null;var f=I.p;try{I.p=8,rf(t,n,r,i)}finally{I.p=f,M.T=u}}function rf(t,n,r,i){if(sc){var u=lf(i);if(u===null)Zd(t,n,i,rc,r),Ay(t,i);else if(_N(u,t,n,r,i))i.stopPropagation();else if(Ay(t,i),n&4&&-1<wN.indexOf(t)){for(;u!==null;){var f=bn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=fa(f.pendingLanes);if(y!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var D=1<<31-St(y);S.entanglements[1]|=D,y&=~D}Za(f),(xt&6)===0&&(Fo=G()+500,mi(0))}}break;case 31:case 13:S=nr(f,2),S!==null&&Kn(S,f,2),Ho(),sf(f,2)}if(f=lf(i),f===null&&Zd(t,n,i,rc,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Zd(t,n,i,null,r)}}function lf(t){return t=Ll(t),of(t)}var rc=null;function of(t){if(rc=null,t=tn(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return rc=t,null}function Ey(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case Oe:return 2;case Le:return 8;case ne:case Ue:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var cf=!1,Ls=null,Bs=null,qs=null,xi=new Map,Si=new Map,Is=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":xi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(n.pointerId)}}function Ni(t,n,r,i,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=bn(n),n!==null&&_y(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function _N(t,n,r,i,u){switch(n){case"focusin":return Ls=Ni(Ls,t,n,r,i,u),!0;case"dragenter":return Bs=Ni(Bs,t,n,r,i,u),!0;case"mouseover":return qs=Ni(qs,t,n,r,i,u),!0;case"pointerover":var f=u.pointerId;return xi.set(f,Ni(xi.get(f)||null,t,n,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,Si.set(f,Ni(Si.get(f)||null,t,n,r,i,u)),!0}return!1}function Cy(t){var n=tn(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,gn(t.priority,function(){jy(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,gn(t.priority,function(){jy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=lf(t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);ys=i,r.target.dispatchEvent(i),ys=null}else return n=bn(r),n!==null&&_y(n),t.blockedOn=r,!1;n.shift()}return!0}function Oy(t,n,r){lc(t)&&r.delete(n)}function jN(){cf=!1,Ls!==null&&lc(Ls)&&(Ls=null),Bs!==null&&lc(Bs)&&(Bs=null),qs!==null&&lc(qs)&&(qs=null),xi.forEach(Oy),Si.forEach(Oy)}function ic(t,n){t.blockedOn===n&&(t.blockedOn=null,cf||(cf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jN)))}var oc=null;function Ry(t){oc!==t&&(oc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){oc===t&&(oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],i=t[n+1],u=t[n+2];if(typeof i!="function"){if(of(i||r)===null)continue;break}var f=bn(r);f!==null&&(t.splice(n,3),n-=3,ld(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function ol(t){function n(D){return ic(D,t)}Ls!==null&&ic(Ls,t),Bs!==null&&ic(Bs,t),qs!==null&&ic(qs,t),xi.forEach(n),Si.forEach(n);for(var r=0;r<Is.length;r++){var i=Is[r];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Is.length&&(r=Is[0],r.blockedOn===null);)Cy(r),r.blockedOn===null&&Is.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],y=u[yt]||null;if(typeof f=="function")y||Ry(r);else if(y){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[yt]||null)S=y.formAction;else if(of(u)!==null)continue}else S=y.action;typeof S=="function"?r[i+1]=S:(r.splice(i,3),i-=3),Ry(r)}}}function Ty(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function uf(t){this._internalRoot=t}cc.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,i=ua();Ny(r,i,t,n,null,null)},cc.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ny(t.current,2,null,t,null,null),Ho(),n[kt]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Rt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Is.length&&n!==0&&n<Is[r].priority;r++);Is.splice(r,0,t),r===0&&Cy(t)}};var Dy=a.version;if(Dy!=="19.2.0")throw Error(l(527,Dy,"19.2.0"));I.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var EN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{je=uc.inject(EN),Je=uc}catch{}}return _i.createRoot=function(t,n){if(!c(t))throw Error(l(299));var r=!1,i="",u=qp,f=Ip,y=Fp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=xy(t,1,!1,null,null,r,i,null,u,f,y,Ty),t[kt]=n.current,Vd(t),new uf(n)},_i.hydrateRoot=function(t,n,r){if(!c(t))throw Error(l(299));var i=!1,u="",f=qp,y=Ip,S=Fp,D=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=xy(t,1,!0,n,r??null,i,u,D,f,y,S,Ty),n.context=Sy(null),r=n.current,i=ua(),i=Qt(i),u=js(i),u.callback=null,Es(r,u,i),r=i,n.current.lanes=r,Ee(n,r),Za(n),t[kt]=n.current,Vd(t),new cc(n)},_i.version="19.2.0",_i}var $y;function UN(){if($y)return mf.exports;$y=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),mf.exports=kN(),mf.exports}var LN=UN();const BN=xv(LN);var Hy="popstate";function qN(e={}){function a(l,c){let{pathname:d,search:m,hash:h}=l.location;return Pf("",{pathname:d,search:m,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:Mi(c)}return FN(a,s,null,e)}function $t(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function _a(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function IN(){return Math.random().toString(36).substring(2,10)}function Vy(e,a){return{usr:e.state,key:e.key,idx:a}}function Pf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Nl(a):a,state:s,key:a&&a.key||l||IN()}}function Mi({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Nl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function FN(e,a,s,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,m=c.history,h="POP",g=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function x(){h="POP";let A=v(),B=A==null?null:A-p;p=A,g&&g({action:h,location:j.location,delta:B})}function N(A,B){h="PUSH";let T=Pf(j.location,A,B);p=v()+1;let J=Vy(T,p),k=j.createHref(T);try{m.pushState(J,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(k)}d&&g&&g({action:h,location:j.location,delta:1})}function q(A,B){h="REPLACE";let T=Pf(j.location,A,B);p=v();let J=Vy(T,p),k=j.createHref(T);m.replaceState(J,"",k),d&&g&&g({action:h,location:j.location,delta:0})}function _(A){return $N(A)}let j={get action(){return h},get location(){return e(c,m)},listen(A){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Hy,x),g=A,()=>{c.removeEventListener(Hy,x),g=null}},createHref(A){return a(c,A)},createURL:_,encodeLocation(A){let B=_(A);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:N,replace:q,go(A){return m.go(A)}};return j}function $N(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$t(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:Mi(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function Sv(e,a,s="/"){return HN(e,a,s,!1)}function HN(e,a,s,l){let c=typeof a=="string"?Nl(a):a,d=hs(c.pathname||"/",s);if(d==null)return null;let m=Nv(e);VN(m);let h=null;for(let g=0;h==null&&g<m.length;++g){let p=tw(d);h=WN(m[g],p,l)}return h}function Nv(e,a=[],s=[],l="",c=!1){let d=(m,h,g=c,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&g)return;$t(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=ms([l,v.relativePath]),N=s.concat(v);m.children&&m.children.length>0&&($t(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Nv(m.children,a,N,x,g)),!(m.path==null&&!m.index)&&a.push({path:x,score:XN(x,m.index),routesMeta:N})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let g of wv(m.path))d(m,h,!0,g)}),a}function wv(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let m=wv(l.join("/")),h=[];return h.push(...m.map(g=>g===""?d:[d,g].join("/"))),c&&h.push(...m),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function VN(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:JN(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var ZN=/^:[\w-]+$/,GN=3,QN=2,PN=1,YN=10,KN=-2,Zy=e=>e==="*";function XN(e,a){let s=e.split("/"),l=s.length;return s.some(Zy)&&(l+=KN),a&&(l+=QN),s.filter(c=>!Zy(c)).reduce((c,d)=>c+(ZN.test(d)?GN:d===""?PN:YN),l)}function JN(e,a){return e.length===a.length&&e.slice(0,-1).every((l,c)=>l===a[c])?e[e.length-1]-a[a.length-1]:0}function WN(e,a,s=!1){let{routesMeta:l}=e,c={},d="/",m=[];for(let h=0;h<l.length;++h){let g=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",x=ki({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),N=g.route;if(!x&&p&&s&&!l[l.length-1].route.index&&(x=ki({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:ms([d,x.pathname]),pathnameBase:rw(ms([d,x.pathnameBase])),route:N}),x.pathnameBase!=="/"&&(d=ms([d,x.pathnameBase]))}return m}function ki(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=ew(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},N)=>{if(v==="*"){let _=h[N]||"";m=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const q=h[N];return x&&!q?p[v]=void 0:p[v]=(q||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function ew(e,a=!1,s=!0){_a(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,g)=>(l.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function tw(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return _a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function hs(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function nw(e,a="/"){let{pathname:s,search:l="",hash:c=""}=typeof e=="string"?Nl(e):e;return{pathname:s?s.startsWith("/")?s:aw(s,a):a,search:lw(l),hash:iw(c)}}function aw(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function yf(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function _m(e){let a=sw(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function jm(e,a,s,l=!1){let c;typeof e=="string"?c=Nl(e):(c={...e},$t(!c.pathname||!c.pathname.includes("?"),yf("?","pathname","search",c)),$t(!c.pathname||!c.pathname.includes("#"),yf("#","pathname","hash",c)),$t(!c.search||!c.search.includes("#"),yf("#","search","hash",c)));let d=e===""||c.pathname==="",m=d?"/":c.pathname,h;if(m==null)h=s;else{let x=a.length-1;if(!l&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),x-=1;c.pathname=N.join("/")}h=x>=0?a[x]:"/"}let g=nw(c,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),rw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ow(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _v=["POST","PUT","PATCH","DELETE"];new Set(_v);var cw=["GET",..._v];new Set(cw);var wl=b.createContext(null);wl.displayName="DataRouter";var Ic=b.createContext(null);Ic.displayName="DataRouterState";b.createContext(!1);var jv=b.createContext({isTransitioning:!1});jv.displayName="ViewTransition";var uw=b.createContext(new Map);uw.displayName="Fetchers";var dw=b.createContext(null);dw.displayName="Await";var ja=b.createContext(null);ja.displayName="Navigation";var $i=b.createContext(null);$i.displayName="Location";var Ea=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var Em=b.createContext(null);Em.displayName="RouteError";function fw(e,{relative:a}={}){$t(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=b.useContext(ja),{hash:c,pathname:d,search:m}=Hi(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:ms([s,d])),l.createHref({pathname:h,search:m,hash:c})}function _l(){return b.useContext($i)!=null}function In(){return $t(_l(),"useLocation() may be used only in the context of a <Router> component."),b.useContext($i).location}var Ev="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Av(e){b.useContext(ja).static||b.useLayoutEffect(e)}function Er(){let{isDataRoute:e}=b.useContext(Ea);return e?Cw():mw()}function mw(){$t(_l(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(wl),{basename:a,navigator:s}=b.useContext(ja),{matches:l}=b.useContext(Ea),{pathname:c}=In(),d=JSON.stringify(_m(l)),m=b.useRef(!1);return Av(()=>{m.current=!0}),b.useCallback((g,p={})=>{if(_a(m.current,Ev),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=jm(g,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:ms([a,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[a,s,d,c,e])}var hw=b.createContext(null);function pw(e){let a=b.useContext(Ea).outlet;return b.useMemo(()=>a&&b.createElement(hw.Provider,{value:e},a),[a,e])}function gw(){let{matches:e}=b.useContext(Ea),a=e[e.length-1];return a?a.params:{}}function Hi(e,{relative:a}={}){let{matches:s}=b.useContext(Ea),{pathname:l}=In(),c=JSON.stringify(_m(s));return b.useMemo(()=>jm(e,JSON.parse(c),l,a==="path"),[e,c,l,a])}function yw(e,a){return Cv(e,a)}function Cv(e,a,s,l,c){$t(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(ja),{matches:m}=b.useContext(Ea),h=m[m.length-1],g=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let T=x&&x.path||"";Ov(p,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let N=In(),q;if(a){let T=typeof a=="string"?Nl(a):a;$t(v==="/"||T.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${T.pathname}" was given in the \`location\` prop.`),q=T}else q=N;let _=q.pathname||"/",j=_;if(v!=="/"){let T=v.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=Sv(e,{pathname:j});_a(x||A!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),_a(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Nw(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},g,T.params),pathname:ms([v,d.encodeLocation?d.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?v:ms([v,d.encodeLocation?d.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),m,s,l,c);return a&&B?b.createElement($i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},B):B}function bw(){let e=Aw(),a=ow(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:c},s):null,m)}var vw=b.createElement(bw,null),xw=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ea.Provider,{value:this.props.routeContext},b.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sw({routeContext:e,match:a,children:s}){let l=b.useContext(wl);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(Ea.Provider,{value:e},s)}function Nw(e,a=[],s=null,l=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,m=s?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);$t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,g=-1;if(s)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=p),v.route.id){let{loaderData:x,errors:N}=s,q=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!N||N[v.route.id]===void 0);if(v.route.lazy||q){h=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,v,x)=>{let N,q=!1,_=null,j=null;s&&(N=m&&v.route.id?m[v.route.id]:void 0,_=v.route.errorElement||vw,h&&(g<0&&x===0?(Ov("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,j=null):g===x&&(q=!0,j=v.route.hydrateFallbackElement||null)));let A=a.concat(d.slice(0,x+1)),B=()=>{let T;return N?T=_:q?T=j:v.route.Component?T=b.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=p,b.createElement(Sw,{match:v,routeContext:{outlet:p,matches:A,isDataRoute:s!=null},children:T})};return s&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(xw,{location:s.location,revalidation:s.revalidation,component:_,error:N,children:B(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:l}):B()},null)}function Am(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ww(e){let a=b.useContext(wl);return $t(a,Am(e)),a}function _w(e){let a=b.useContext(Ic);return $t(a,Am(e)),a}function jw(e){let a=b.useContext(Ea);return $t(a,Am(e)),a}function Cm(e){let a=jw(e),s=a.matches[a.matches.length-1];return $t(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Ew(){return Cm("useRouteId")}function Aw(){let e=b.useContext(Em),a=_w("useRouteError"),s=Cm("useRouteError");return e!==void 0?e:a.errors?.[s]}function Cw(){let{router:e}=ww("useNavigate"),a=Cm("useNavigate"),s=b.useRef(!1);return Av(()=>{s.current=!0}),b.useCallback(async(c,d={})=>{_a(s.current,Ev),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var Gy={};function Ov(e,a,s){!a&&!Gy[e]&&(Gy[e]=!0,_a(!1,s))}b.memo(Ow);function Ow({routes:e,future:a,state:s,unstable_onError:l}){return Cv(e,void 0,s,l,a)}function Vs({to:e,replace:a,state:s,relative:l}){$t(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(ja);_a(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(Ea),{pathname:m}=In(),h=Er(),g=jm(e,_m(d),m,l==="path"),p=JSON.stringify(g);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function Rv(e){return pw(e.context)}function Vt(e){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rw({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:c,static:d=!1}){$t(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof s=="string"&&(s=Nl(s));let{pathname:g="/",search:p="",hash:v="",state:x=null,key:N="default"}=s,q=b.useMemo(()=>{let _=hs(g,m);return _==null?null:{location:{pathname:_,search:p,hash:v,state:x,key:N},navigationType:l}},[m,g,p,v,x,N,l]);return _a(q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:b.createElement(ja.Provider,{value:h},b.createElement($i.Provider,{children:a,value:q}))}function Tw({children:e,location:a}){return yw(Yf(e),a)}function Yf(e,a=[]){let s=[];return b.Children.forEach(e,(l,c)=>{if(!b.isValidElement(l))return;let d=[...a,c];if(l.type===b.Fragment){s.push.apply(s,Yf(l.props.children,d));return}$t(l.type===Vt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Yf(l.props.children,d)),s.push(m)}),s}var vc="get",xc="application/x-www-form-urlencoded";function Fc(e){return e!=null&&typeof e.tagName=="string"}function Dw(e){return Fc(e)&&e.tagName.toLowerCase()==="button"}function zw(e){return Fc(e)&&e.tagName.toLowerCase()==="form"}function Mw(e){return Fc(e)&&e.tagName.toLowerCase()==="input"}function kw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Uw(e,a){return e.button===0&&(!a||a==="_self")&&!kw(e)}function Kf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function Lw(e,a){let s=Kf(e);return a&&a.forEach((l,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var dc=null;function Bw(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bf(e){return e!=null&&!qw.has(e)?(_a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):e}function Iw(e,a){let s,l,c,d,m;if(zw(e)){let h=e.getAttribute("action");l=h?hs(h,a):null,s=e.getAttribute("method")||vc,c=bf(e.getAttribute("enctype"))||xc,d=new FormData(e)}else if(Dw(e)||Mw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||h.getAttribute("action");if(l=g?hs(g,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||vc,c=bf(e.getAttribute("formenctype"))||bf(h.getAttribute("enctype"))||xc,d=new FormData(h,e),!Bw()){let{name:p,type:v,value:x}=e;if(v==="image"){let N=p?`${p}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else p&&d.append(p,x)}}else{if(Fc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=vc,l=null,c=xc,m=e}return d&&c==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Om(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Fw(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&hs(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function $w(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Vw(e,a,s){let l=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let m=await $w(d,s);return m.links?m.links():[]}return[]}));return Pw(l.flat(1).filter(Hw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Qy(e,a,s,l,c,d){let m=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,h=(g,p)=>s[p].pathname!==g.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==g.params["*"];return d==="assets"?a.filter((g,p)=>m(g,p)||h(g,p)):d==="data"?a.filter((g,p)=>{let v=l.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(m(g,p)||h(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Zw(e,a,{includeHydrateFallback:s}={}){return Gw(e.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Gw(e){return[...new Set(e)]}function Qw(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function Pw(e,a){let s=new Set;return new Set(a),e.reduce((l,c)=>{let d=JSON.stringify(Qw(c));return s.has(d)||(s.add(d),l.push({key:d,link:c})),l},[])}function Tv(){let e=b.useContext(wl);return Om(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Yw(){let e=b.useContext(Ic);return Om(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Rm=b.createContext(void 0);Rm.displayName="FrameworkContext";function Dv(){let e=b.useContext(Rm);return Om(e,"You must render this element inside a <HydratedRouter> element"),e}function Kw(e,a){let s=b.useContext(Rm),[l,c]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=a,N=b.useRef(null);b.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let j=B=>{B.forEach(T=>{m(T.isIntersecting)})},A=new IntersectionObserver(j,{threshold:.5});return N.current&&A.observe(N.current),()=>{A.disconnect()}}},[e]),b.useEffect(()=>{if(l){let j=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(j)}}},[l]);let q=()=>{c(!0)},_=()=>{c(!1),m(!1)};return s?e!=="intent"?[d,N,{}]:[d,N,{onFocus:ji(h,q),onBlur:ji(g,_),onMouseEnter:ji(p,q),onMouseLeave:ji(v,_),onTouchStart:ji(x,q)}]:[!1,N,{}]}function ji(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function Xw({page:e,...a}){let{router:s}=Tv(),l=b.useMemo(()=>Sv(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?b.createElement(Ww,{page:e,matches:l,...a}):null}function Jw(e){let{manifest:a,routeModules:s}=Dv(),[l,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return Vw(e,a,s).then(m=>{d||c(m)}),()=>{d=!0}},[e,a,s]),l}function Ww({page:e,matches:a,...s}){let l=In(),{manifest:c,routeModules:d}=Dv(),{basename:m}=Tv(),{loaderData:h,matches:g}=Yw(),p=b.useMemo(()=>Qy(e,a,g,c,l,"data"),[e,a,g,c,l]),v=b.useMemo(()=>Qy(e,a,g,c,l,"assets"),[e,a,g,c,l]),x=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let _=new Set,j=!1;if(a.forEach(B=>{let T=c.routes[B.route.id];!T||!T.hasLoader||(!p.some(J=>J.route.id===B.route.id)&&B.route.id in h&&d[B.route.id]?.shouldRevalidate||T.hasClientLoader?j=!0:_.add(B.route.id))}),_.size===0)return[];let A=Fw(e,m,"data");return j&&_.size>0&&A.searchParams.set("_routes",a.filter(B=>_.has(B.route.id)).map(B=>B.route.id).join(",")),[A.pathname+A.search]},[m,h,l,c,p,a,e,d]),N=b.useMemo(()=>Zw(v,c),[v,c]),q=Jw(v);return b.createElement(b.Fragment,null,x.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),N.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),q.map(({key:_,link:j})=>b.createElement("link",{key:_,nonce:s.nonce,...j})))}function e_(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zv&&(window.__reactRouterVersion="7.9.5")}catch{}function t_({basename:e,children:a,window:s}){let l=b.useRef();l.current==null&&(l.current=qN({window:s,v5Compat:!0}));let c=l.current,[d,m]=b.useState({action:c.action,location:c.location}),h=b.useCallback(g=>{b.startTransition(()=>m(g))},[m]);return b.useLayoutEffect(()=>c.listen(h),[c,h]),b.createElement(Rw,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var Mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=b.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:m,state:h,target:g,to:p,preventScrollReset:v,viewTransition:x,...N},q){let{basename:_}=b.useContext(ja),j=typeof p=="string"&&Mv.test(p),A,B=!1;if(typeof p=="string"&&j&&(A=p,zv))try{let ie=new URL(window.location.href),Ne=p.startsWith("//")?new URL(ie.protocol+p):new URL(p),xe=hs(Ne.pathname,_);Ne.origin===ie.origin&&xe!=null?p=xe+Ne.search+Ne.hash:B=!0}catch{_a(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=fw(p,{relative:c}),[J,k,O]=Kw(l,N),$=s_(p,{replace:m,state:h,target:g,preventScrollReset:v,relative:c,viewTransition:x});function U(ie){a&&a(ie),ie.defaultPrevented||$(ie)}let Y=b.createElement("a",{...N,...O,href:A||T,onClick:B||d?a:U,ref:e_(q,k),target:g,"data-discover":!j&&s==="render"?"true":void 0});return J&&!j?b.createElement(b.Fragment,null,Y,b.createElement(Xw,{page:T})):Y});jc.displayName="Link";var kv=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:h,children:g,...p},v){let x=Hi(m,{relative:p.relative}),N=In(),q=b.useContext(Ic),{navigator:_,basename:j}=b.useContext(ja),A=q!=null&&c_(x)&&h===!0,B=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,T=N.pathname,J=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;s||(T=T.toLowerCase(),J=J?J.toLowerCase():null,B=B.toLowerCase()),J&&j&&(J=hs(J,j)||J);const k=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let O=T===B||!c&&T.startsWith(B)&&T.charAt(k)==="/",$=J!=null&&(J===B||!c&&J.startsWith(B)&&J.charAt(B.length)==="/"),U={isActive:O,isPending:$,isTransitioning:A},Y=O?a:void 0,ie;typeof l=="function"?ie=l(U):ie=[l,O?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof d=="function"?d(U):d;return b.createElement(jc,{...p,"aria-current":Y,className:ie,ref:v,style:Ne,to:m,viewTransition:h},typeof g=="function"?g(U):g)});kv.displayName="NavLink";var n_=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:c,state:d,method:m=vc,action:h,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:x,...N},q)=>{let _=i_(),j=o_(h,{relative:p}),A=m.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&Mv.test(h),T=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let k=J.nativeEvent.submitter,O=k?.getAttribute("formmethod")||m;_(k||J.currentTarget,{fetcherKey:a,method:O,navigate:s,replace:c,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:q,method:A,action:j,onSubmit:l?g:T,...N,"data-discover":!B&&e==="render"?"true":void 0})});n_.displayName="Form";function a_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uv(e){let a=b.useContext(wl);return $t(a,a_(e)),a}function s_(e,{target:a,replace:s,state:l,preventScrollReset:c,relative:d,viewTransition:m}={}){let h=Er(),g=In(),p=Hi(e,{relative:d});return b.useCallback(v=>{if(Uw(v,a)){v.preventDefault();let x=s!==void 0?s:Mi(g)===Mi(p);h(e,{replace:x,state:l,preventScrollReset:c,relative:d,viewTransition:m})}},[g,h,p,s,l,a,e,c,d,m])}function Lv(e){_a(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Kf(e)),s=b.useRef(!1),l=In(),c=b.useMemo(()=>Lw(l.search,s.current?null:a.current),[l.search]),d=Er(),m=b.useCallback((h,g)=>{const p=Kf(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,g)},[d,c]);return[c,m]}var r_=0,l_=()=>`__${String(++r_)}__`;function i_(){let{router:e}=Uv("useSubmit"),{basename:a}=b.useContext(ja),s=Ew();return b.useCallback(async(l,c={})=>{let{action:d,method:m,encType:h,formData:g,body:p}=Iw(l,a);if(c.navigate===!1){let v=c.fetcherKey||l_();await e.fetch(v,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function o_(e,{relative:a}={}){let{basename:s}=b.useContext(ja),l=b.useContext(Ea);$t(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Hi(e||".",{relative:a})},m=In();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),g=h.getAll("index");if(g.some(v=>v==="")){h.delete("index"),g.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:ms([s,d.pathname])),Mi(d)}function c_(e,{relative:a}={}){let s=b.useContext(jv);$t(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Uv("useViewTransitionState"),c=Hi(e,{relative:a});if(!s.isTransitioning)return!1;let d=hs(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=hs(s.nextLocation.pathname,l)||s.nextLocation.pathname;return ki(c.pathname,m)!=null||ki(c.pathname,d)!=null}var jl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},u_={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},d_=class{#e=u_;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},gr=new d_;function f_(e){setTimeout(e,0)}var xr=typeof window>"u"||"Deno"in globalThis;function qn(){}function m_(e,a){return typeof e=="function"?e(a):e}function Xf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Bv(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Zs(e,a){return typeof e=="function"?e(a):e}function Sa(e,a){return typeof e=="function"?e(a):e}function Py(e,a){const{type:s="all",exact:l,fetchStatus:c,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==Tm(m,a.options))return!1}else if(!Ui(a.queryKey,m))return!1}if(s!=="all"){const g=a.isActive();if(s==="active"&&!g||s==="inactive"&&g)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function Yy(e,a){const{exact:s,status:l,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(Sr(a.options.mutationKey)!==Sr(d))return!1}else if(!Ui(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||c&&!c(a))}function Tm(e,a){return(a?.queryKeyHashFn||Sr)(e)}function Sr(e){return JSON.stringify(e,(a,s)=>Jf(s)?Object.keys(s).sort().reduce((l,c)=>(l[c]=s[c],l),{}):s)}function Ui(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>Ui(e[s],a[s])):!1}var h_=Object.prototype.hasOwnProperty;function qv(e,a){if(e===a)return e;const s=Ky(e)&&Ky(a);if(!s&&!(Jf(e)&&Jf(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),m=d.length,h=s?new Array(m):{};let g=0;for(let p=0;p<m;p++){const v=s?p:d[p],x=e[v],N=a[v];if(x===N){h[v]=x,(s?p<c:h_.call(e,v))&&g++;continue}if(x===null||N===null||typeof x!="object"||typeof N!="object"){h[v]=N;continue}const q=qv(x,N);h[v]=q,q===x&&g++}return c===m&&g===c?e:h}function Ec(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function Ky(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jf(e){if(!Xy(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!Xy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xy(e){return Object.prototype.toString.call(e)==="[object Object]"}function p_(e){return new Promise(a=>{gr.setTimeout(a,e)})}function Wf(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?qv(e,a):a}function g_(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function y_(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var Dm=Symbol();function Iv(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Dm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Fv(e,a){return typeof e=="function"?e(...a):!!e}var b_=class extends jl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zm=new b_;function em(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function l(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{l({status:"fulfilled",value:c}),e(c)},s.reject=c=>{l({status:"rejected",reason:c}),a(c)},s}var v_=f_;function x_(){let e=[],a=0,s=h=>{h()},l=h=>{h()},c=v_;const d=h=>{a?e.push(h):c(()=>{s(h)})},m=()=>{const h=e;e=[],h.length&&c(()=>{l(()=>{h.forEach(g=>{s(g)})})})};return{batch:h=>{let g;a++;try{g=h()}finally{a--,a||m()}return g},batchCalls:h=>(...g)=>{d(()=>{h(...g)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{c=h}}}var hn=x_(),S_=class extends jl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ac=new S_;function N_(e){return Math.min(1e3*2**e,3e4)}function $v(e){return(e??"online")==="online"?Ac.isOnline():!0}var tm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Hv(e){let a=!1,s=0,l;const c=em(),d=()=>c.status!=="pending",m=j=>{if(!d()){const A=new tm(j);N(A),e.onCancel?.(A)}},h=()=>{a=!0},g=()=>{a=!1},p=()=>zm.isFocused()&&(e.networkMode==="always"||Ac.isOnline())&&e.canRun(),v=()=>$v(e.networkMode)&&e.canRun(),x=j=>{d()||(l?.(),c.resolve(j))},N=j=>{d()||(l?.(),c.reject(j))},q=()=>new Promise(j=>{l=A=>{(d()||p())&&j(A)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),_=()=>{if(d())return;let j;const A=s===0?e.initialPromise:void 0;try{j=A??e.fn()}catch(B){j=Promise.reject(B)}Promise.resolve(j).then(x).catch(B=>{if(d())return;const T=e.retry??(xr?0:3),J=e.retryDelay??N_,k=typeof J=="function"?J(s,B):J,O=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,B);if(a||!O){N(B);return}s++,e.onFail?.(s,B),p_(k).then(()=>p()?void 0:q()).then(()=>{a?N(B):_()})})};return{promise:c,status:()=>c.status,cancel:m,continue:()=>(l?.(),c),cancelRetry:h,continueRetry:g,canStart:v,start:()=>(v()?_():q().then(_),c)}}var Vv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xf(this.gcTime)&&(this.#e=gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gr.clearTimeout(this.#e),this.#e=void 0)}},w_=class extends Vv{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Wy(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Wy(this.options);a.data!==void 0&&(this.setState(Jy(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=Wf(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Sa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Bv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=Iv(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=Hv({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof tm&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,g)=>{this.#r({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof tm){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Zv(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...Jy(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),hn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Zv(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$v(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Jy(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Wy(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var __=class extends jl{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=em(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),eb(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Ec(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&tb(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||Sa(this.options.enabled,this.#t)!==Sa(a.enabled,this.#t)||Zs(this.options.staleTime,this.#t)!==Zs(a.staleTime,this.#t))&&this.#g();const c=this.#y();l&&(this.#t!==s||Sa(this.options.enabled,this.#t)!==Sa(a.enabled,this.#t)||c!==this.#o)&&this.#b(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return E_(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#N();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(qn)),a}#g(){this.#x();const e=Zs(this.options.staleTime,this.#t);if(xr||this.#s.isStale||!Xf(e))return;const s=Bv(this.#s.dataUpdatedAt,e)+1;this.#c=gr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#o=e,!(xr||Sa(this.options.enabled,this.#t)===!1||!Xf(this.#o)||this.#o===0)&&(this.#u=gr.setInterval(()=>{(this.options.refetchIntervalInBackground||zm.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(gr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(gr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,c=this.#s,d=this.#a,m=this.#l,g=e!==s?e.state:this.#n,{state:p}=e;let v={...p},x=!1,N;if(a._optimisticResults){const Y=this.hasListeners(),ie=!Y&&eb(e,a),Ne=Y&&tb(e,s,a,l);(ie||Ne)&&(v={...v,...Zv(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:q,errorUpdatedAt:_,status:j}=v;N=v.data;let A=!1;if(a.placeholderData!==void 0&&N===void 0&&j==="pending"){let Y;c?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(Y=c.data,A=!0):Y=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,Y!==void 0&&(j="success",N=Wf(c?.data,Y,a),x=!0)}if(a.select&&N!==void 0&&!A)if(c&&N===d?.data&&a.select===this.#p)N=this.#f;else try{this.#p=a.select,N=a.select(N),N=Wf(c?.data,N,a),this.#f=N,this.#r=null}catch(Y){this.#r=Y}this.#r&&(q=this.#r,N=this.#f,_=Date.now(),j="error");const B=v.fetchStatus==="fetching",T=j==="pending",J=j==="error",k=T&&B,O=N!==void 0,U={status:j,fetchStatus:v.fetchStatus,isPending:T,isSuccess:j==="success",isError:J,isInitialLoading:k,isLoading:k,data:N,dataUpdatedAt:v.dataUpdatedAt,error:q,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:B,isRefetching:B&&!T,isLoadingError:J&&!O,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:J&&O,isStale:Mm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:Sa(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const Y=xe=>{U.status==="error"?xe.reject(U.error):U.data!==void 0&&xe.resolve(U.data)},ie=()=>{const xe=this.#i=U.promise=em();Y(xe)},Ne=this.#i;switch(Ne.status){case"pending":e.queryHash===s.queryHash&&Y(Ne);break;case"fulfilled":(U.status==="error"||U.data!==Ne.value)&&ie();break;case"rejected":(U.status!=="error"||U.error!==Ne.reason)&&ie();break}}return U}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Ec(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==e[h]&&d.has(h)})};this.#w({listeners:s()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(e){hn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function j_(e,a){return Sa(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function eb(e,a){return j_(e,a)||e.state.data!==void 0&&nm(e,a,a.refetchOnMount)}function nm(e,a,s){if(Sa(a.enabled,e)!==!1&&Zs(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&Mm(e,a)}return!1}function tb(e,a,s,l){return(e!==a||Sa(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Mm(e,s)}function Mm(e,a){return Sa(a.enabled,e)!==!1&&e.isStaleByTime(Zs(a.staleTime,e))}function E_(e,a){return!Ec(e.getCurrentResult(),a)}function nb(e){return{onFetch:(a,s)=>{const l=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const p=async()=>{let v=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},N=Iv(a.options,a.fetchOptions),q=async(_,j,A)=>{if(v)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const $={client:a.client,queryKey:a.queryKey,pageParam:j,direction:A?"backward":"forward",meta:a.options.meta};return x($),$})(),J=await N(T),{maxPages:k}=a.options,O=A?y_:g_;return{pages:O(_.pages,J,k),pageParams:O(_.pageParams,j,k)}};if(c&&d.length){const _=c==="backward",j=_?A_:ab,A={pages:d,pageParams:m},B=j(l,A);h=await q(A,B,_)}else{const _=e??d.length;do{const j=g===0?m[0]??l.initialPageParam:ab(l,h);if(g>0&&j==null)break;h=await q(h,j),g++}while(g<_)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function ab(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function A_(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var C_=class extends Vv{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Gv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Hv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const m=await this.options.onMutate?.(e,s);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),hn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Gv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var O_=class extends jl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new C_({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=fc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=fc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=fc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=fc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){hn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Yy(a,s))}findAll(e={}){return this.getAll().filter(a=>Yy(e,a))}notify(e){hn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return hn.batch(()=>Promise.all(e.map(a=>a.continue().catch(qn))))}};function fc(e){return e.options.scope?.id}var R_=class extends jl{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),Ec(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&Sr(s.mutationKey)!==Sr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Gv();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){hn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,c),this.#s.onSettled?.(a.data,null,s,l,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,c),this.#s.onSettled?.(void 0,a.error,s,l,c))}this.listeners.forEach(s=>{s(this.#t)})})}},T_=class extends jl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,c=a.queryHash??Tm(l,a);let d=this.get(c);return d||(d=new w_({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Py(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Py(e,s)):a}notify(e){hn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},D_=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new T_,this.#t=e.mutationCache||new O_,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=zm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Ac.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Zs(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=m_(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...s,manual:!0})}setQueriesData(e,a,s){return hn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;hn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return hn.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=hn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(l).then(qn).catch(qn)}invalidateQueries(e,a={}){return hn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=hn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(qn)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(qn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Zs(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qn).catch(qn)}fetchInfiniteQuery(e){return e.behavior=nb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qn).catch(qn)}ensureInfiniteQueryData(e){return e.behavior=nb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ac.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(Sr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{Ui(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(Sr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{Ui(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Tm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Dm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Qv=b.createContext(void 0),km=e=>{const a=b.useContext(Qv);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},z_=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Qv.Provider,{value:e,children:a})),Pv=b.createContext(!1),M_=()=>b.useContext(Pv);Pv.Provider;function k_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var U_=b.createContext(k_()),L_=()=>b.useContext(U_),B_=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},q_=e=>{b.useEffect(()=>{e.clearReset()},[e])},I_=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(c&&e.data===void 0||Fv(s,[e.error,l])),F_=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...c)=>s(l(...c)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$_=(e,a)=>e.isLoading&&e.isFetching&&!a,H_=(e,a)=>e?.suspense&&a.isPending,sb=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function V_(e,a,s){const l=M_(),c=L_(),d=km(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",F_(m),B_(m,c),q_(c);const h=!d.getQueryCache().get(m.queryHash),[g]=b.useState(()=>new a(d,m)),p=g.getOptimisticResult(m),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const N=v?g.subscribe(hn.batchCalls(x)):qn;return g.updateResult(),N},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),b.useEffect(()=>{g.setOptions(m)},[m,g]),H_(m,p))throw sb(m,g,c);if(I_({result:p,errorResetBoundary:c,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!xr&&$_(p,l)&&(h?sb(m,g,c):d.getQueryCache().get(m.queryHash)?.promise)?.catch(qn).finally(()=>{g.updateResult()}),m.notifyOnChangeProps?p:g.trackResult(p)}function Nr(e,a){return V_(e,__)}function Z_(e,a){const s=km(),[l]=b.useState(()=>new R_(s,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const c=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(hn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(qn)},[l]);if(c.error&&Fv(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var Vi=e=>e.type==="checkbox",yr=e=>e instanceof Date,Jn=e=>e==null;const Yv=e=>typeof e=="object";var cn=e=>!Jn(e)&&!Array.isArray(e)&&Yv(e)&&!yr(e),G_=e=>cn(e)&&e.target?Vi(e.target)?e.target.checked:e.target.value:e,Q_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,P_=(e,a)=>e.has(Q_(a)),Y_=e=>{const a=e.constructor&&e.constructor.prototype;return cn(a)&&a.hasOwnProperty("isPrototypeOf")},Um=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ft(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(Um&&(e instanceof Blob||l))&&(s||cn(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Y_(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=Ft(e[c]));else return e;return a}var $c=e=>/^\w*$/.test(e),Bt=e=>e===void 0,Hc=e=>Array.isArray(e)?e.filter(Boolean):[],Lm=e=>Hc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(e,a,s)=>{if(!a||!cn(e))return s;const l=($c(a)?[a]:Lm(a)).reduce((c,d)=>Jn(c)?c:c[d],e);return Bt(l)||l===e?Bt(e[a])?s:e[a]:l},Qa=e=>typeof e=="boolean",_t=(e,a,s)=>{let l=-1;const c=$c(a)?[a]:Lm(a),d=c.length,m=d-1;for(;++l<d;){const h=c[l];let g=s;if(l!==m){const p=e[h];g=cn(p)||Array.isArray(p)?p:isNaN(+c[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}};const rb={BLUR:"blur",FOCUS_OUT:"focusout"},Na={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Kv=lt.createContext(null);Kv.displayName="HookFormContext";const Xv=()=>lt.useContext(Kv);var K_=(e,a,s,l=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const m=d;return a._proxyFormState[m]!==Na.all&&(a._proxyFormState[m]=!l||Na.all),e[m]}});return c};const Bm=typeof window<"u"?lt.useLayoutEffect:lt.useEffect;var da=e=>typeof e=="string",am=(e,a,s,l,c)=>da(e)?(l&&a.watch.add(e),Be(s,e,c)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),Be(s,d))):(l&&(a.watchAll=!0),s),sm=e=>Jn(e)||!Yv(e);function La(e,a,s=new WeakSet){if(sm(e)||sm(a))return e===a;if(yr(e)&&yr(a))return e.getTime()===a.getTime();const l=Object.keys(e),c=Object.keys(a);if(l.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const m=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(yr(m)&&yr(h)||cn(m)&&cn(h)||Array.isArray(m)&&Array.isArray(h)?!La(m,h,s):m!==h)return!1}}return!0}function Ei(e){const a=Xv(),{control:s=a.control,name:l,defaultValue:c,disabled:d,exact:m,compute:h}=e||{},g=lt.useRef(c),p=lt.useRef(h),v=lt.useRef(void 0),x=lt.useRef(s),N=lt.useRef(l);p.current=h;const[q,_]=lt.useState(()=>{const k=s._getWatch(l,g.current);return p.current?p.current(k):k}),j=lt.useCallback(k=>{const O=am(l,s._names,k||s._formValues,!1,g.current);return p.current?p.current(O):O},[s._formValues,s._names,l]),A=lt.useCallback(k=>{if(!d){const O=am(l,s._names,k||s._formValues,!1,g.current);if(p.current){const $=p.current(O);La($,v.current)||(_($),v.current=$)}else _(O)}},[s._formValues,s._names,d,l]);Bm(()=>((x.current!==s||!La(N.current,l))&&(x.current=s,N.current=l,A()),s._subscribe({name:l,formState:{values:!0},exact:m,callback:k=>{A(k.values)}})),[s,m,l,A]),lt.useEffect(()=>s._removeUnmounted());const B=x.current!==s,T=N.current,J=lt.useMemo(()=>{if(d)return null;const k=!B&&!La(T,l);return B||k?j():null},[d,B,l,T,j]);return J!==null?J:q}var qm=(e,a,s,l,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:c||!0}}:{},Wn=e=>Array.isArray(e)?e:[e],lb=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function Jv(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],d=a[l];if(c&&cn(c)&&d){const m=Jv(c,d);cn(m)&&(s[l]=m)}else e[l]&&(s[l]=d)}return s}var zn=e=>cn(e)&&!Object.keys(e).length,Im=e=>e.type==="file",Ba=e=>typeof e=="function",Cc=e=>{if(!Um)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},Wv=e=>e.type==="select-multiple",Fm=e=>e.type==="radio",X_=e=>Fm(e)||Vi(e),vf=e=>Cc(e)&&e.isConnected;function J_(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=Bt(e)?l++:e[a[l++]];return e}function W_(e){for(const a in e)if(e.hasOwnProperty(a)&&!Bt(e[a]))return!1;return!0}function en(e,a){const s=Array.isArray(a)?a:$c(a)?[a]:Lm(a),l=s.length===1?e:J_(e,s),c=s.length-1,d=s[c];return l&&delete l[d],c!==0&&(cn(l)&&zn(l)||Array.isArray(l)&&W_(l))&&en(e,s.slice(0,-1)),e}var ej=e=>{for(const a in e)if(Ba(e[a]))return!0;return!1};function ex(e){return Array.isArray(e)||cn(e)&&!ej(e)}function rm(e,a={}){for(const s in e)ex(e[s])?(a[s]=Array.isArray(e[s])?[]:{},rm(e[s],a[s])):Bt(e[s])||(a[s]=!0);return a}function ml(e,a,s){s||(s=rm(a));for(const l in e)ex(e[l])?Bt(a)||sm(s[l])?s[l]=rm(e[l],Array.isArray(e[l])?[]:{}):ml(e[l],Jn(a)?{}:a[l],s[l]):s[l]=!La(e[l],a[l]);return s}const ib={value:!1,isValid:!1},ob={value:!0,isValid:!0};var tx=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?ob:{value:e[0].value,isValid:!0}:ob:ib}return ib},nx=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>Bt(e)?e:a?e===""?NaN:e&&+e:s&&da(e)?new Date(e):l?l(e):e;const cb={isValid:!1,value:null};var ax=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,cb):cb;function ub(e){const a=e.ref;return Im(a)?a.files:Fm(a)?ax(e.refs).value:Wv(a)?[...a.selectedOptions].map(({value:s})=>s):Vi(a)?tx(e.refs).value:nx(Bt(a.value)?e.ref.value:a.value,e)}var tj=(e,a,s,l)=>{const c={};for(const d of e){const m=Be(a,d);m&&_t(c,d,m._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:l}},Oc=e=>e instanceof RegExp,Ai=e=>Bt(e)?e:Oc(e)?e.source:cn(e)?Oc(e.value)?e.value.source:e.value:e,hl=e=>({isOnSubmit:!e||e===Na.onSubmit,isOnBlur:e===Na.onBlur,isOnChange:e===Na.onChange,isOnAll:e===Na.all,isOnTouch:e===Na.onTouched});const db="AsyncFunction";var nj=e=>!!e&&!!e.validate&&!!(Ba(e.validate)&&e.validate.constructor.name===db||cn(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===db)),aj=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lm=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const gl=(e,a,s,l)=>{for(const c of s||Object.keys(e)){const d=Be(e,c);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],c)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(gl(h,a))break}else if(cn(h)&&gl(h,a))break}}};function fb(e,a,s){const l=Be(e,s);if(l||$c(s))return{error:l,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),m=Be(a,d),h=Be(e,d);if(m&&!Array.isArray(m)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var sj=(e,a,s,l)=>{s(e);const{name:c,...d}=e;return zn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||Na.all))},rj=(e,a,s)=>!e||!a||e===a||Wn(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),lj=(e,a,s,l,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?l.isOnBlur:c.isOnBlur)?!e:(s?l.isOnChange:c.isOnChange)?e:!0,ij=(e,a)=>!Hc(Be(e,a)).length&&en(e,a),sx=(e,a,s)=>{const l=Wn(Be(e,s));return _t(l,"root",a[s]),_t(e,s,l),e};function mb(e,a,s="validate"){if(da(e)||Array.isArray(e)&&e.every(da)||Qa(e)&&!e)return{type:s,message:da(e)?e:"",ref:a}}var cl=e=>cn(e)&&!Oc(e)?e:{value:e,message:""},im=async(e,a,s,l,c,d)=>{const{ref:m,refs:h,required:g,maxLength:p,minLength:v,min:x,max:N,pattern:q,validate:_,name:j,valueAsNumber:A,mount:B}=e._f,T=Be(s,j);if(!B||a.has(j))return{};const J=h?h[0]:m,k=fe=>{c&&J.reportValidity&&(J.setCustomValidity(Qa(fe)?"":fe||""),J.reportValidity())},O={},$=Fm(m),U=Vi(m),Y=$||U,ie=(A||Im(m))&&Bt(m.value)&&Bt(T)||Cc(m)&&m.value===""||T===""||Array.isArray(T)&&!T.length,Ne=qm.bind(null,j,l,O),xe=(fe,ve,De,Re=fs.maxLength,M=fs.minLength)=>{const I=fe?ve:De;O[j]={type:fe?Re:M,message:I,ref:m,...Ne(fe?Re:M,I)}};if(d?!Array.isArray(T)||!T.length:g&&(!Y&&(ie||Jn(T))||Qa(T)&&!T||U&&!tx(h).isValid||$&&!ax(h).isValid)){const{value:fe,message:ve}=da(g)?{value:!!g,message:g}:cl(g);if(fe&&(O[j]={type:fs.required,message:ve,ref:J,...Ne(fs.required,ve)},!l))return k(ve),O}if(!ie&&(!Jn(x)||!Jn(N))){let fe,ve;const De=cl(N),Re=cl(x);if(!Jn(T)&&!isNaN(T)){const M=m.valueAsNumber||T&&+T;Jn(De.value)||(fe=M>De.value),Jn(Re.value)||(ve=M<Re.value)}else{const M=m.valueAsDate||new Date(T),I=we=>new Date(new Date().toDateString()+" "+we),W=m.type=="time",ge=m.type=="week";da(De.value)&&T&&(fe=W?I(T)>I(De.value):ge?T>De.value:M>new Date(De.value)),da(Re.value)&&T&&(ve=W?I(T)<I(Re.value):ge?T<Re.value:M<new Date(Re.value))}if((fe||ve)&&(xe(!!fe,De.message,Re.message,fs.max,fs.min),!l))return k(O[j].message),O}if((p||v)&&!ie&&(da(T)||d&&Array.isArray(T))){const fe=cl(p),ve=cl(v),De=!Jn(fe.value)&&T.length>+fe.value,Re=!Jn(ve.value)&&T.length<+ve.value;if((De||Re)&&(xe(De,fe.message,ve.message),!l))return k(O[j].message),O}if(q&&!ie&&da(T)){const{value:fe,message:ve}=cl(q);if(Oc(fe)&&!T.match(fe)&&(O[j]={type:fs.pattern,message:ve,ref:m,...Ne(fs.pattern,ve)},!l))return k(ve),O}if(_){if(Ba(_)){const fe=await _(T,s),ve=mb(fe,J);if(ve&&(O[j]={...ve,...Ne(fs.validate,ve.message)},!l))return k(ve.message),O}else if(cn(_)){let fe={};for(const ve in _){if(!zn(fe)&&!l)break;const De=mb(await _[ve](T,s),J,ve);De&&(fe={...De,...Ne(ve,De.message)},k(De.message),l&&(O[j]=fe))}if(!zn(fe)&&(O[j]={ref:J,...fe},!l))return O}}return k(!0),O};const oj={mode:Na.onSubmit,reValidateMode:Na.onChange,shouldFocusError:!0};function cj(e={}){let a={...oj,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ba(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},c=cn(a.defaultValues)||cn(a.values)?Ft(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:Ft(c),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const N={array:lb(),state:lb()},q=a.criteriaMode===Na.all,_=C=>Z=>{clearTimeout(p),p=setTimeout(C,Z)},j=async C=>{if(!a.disabled&&(v.isValid||x.isValid||C)){const Z=a.resolver?zn((await U()).errors):await ie(l,!0);Z!==s.isValid&&N.state.next({isValid:Z})}},A=(C,Z)=>{!a.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((C||Array.from(h.mount)).forEach(R=>{R&&(Z?_t(s.validatingFields,R,Z):en(s.validatingFields,R))}),N.state.next({validatingFields:s.validatingFields,isValidating:!zn(s.validatingFields)}))},B=(C,Z=[],R,Q,G=!0,se=!0)=>{if(Q&&R&&!a.disabled){if(m.action=!0,se&&Array.isArray(Be(l,C))){const Oe=R(Be(l,C),Q.argA,Q.argB);G&&_t(l,C,Oe)}if(se&&Array.isArray(Be(s.errors,C))){const Oe=R(Be(s.errors,C),Q.argA,Q.argB);G&&_t(s.errors,C,Oe),ij(s.errors,C)}if((v.touchedFields||x.touchedFields)&&se&&Array.isArray(Be(s.touchedFields,C))){const Oe=R(Be(s.touchedFields,C),Q.argA,Q.argB);G&&_t(s.touchedFields,C,Oe)}(v.dirtyFields||x.dirtyFields)&&(s.dirtyFields=ml(c,d)),N.state.next({name:C,isDirty:xe(C,Z),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else _t(d,C,Z)},T=(C,Z)=>{_t(s.errors,C,Z),N.state.next({errors:s.errors})},J=C=>{s.errors=C,N.state.next({errors:s.errors,isValid:!1})},k=(C,Z,R,Q)=>{const G=Be(l,C);if(G){const se=Be(d,C,Bt(R)?Be(c,C):R);Bt(se)||Q&&Q.defaultChecked||Z?_t(d,C,Z?se:ub(G._f)):De(C,se),m.mount&&j()}},O=(C,Z,R,Q,G)=>{let se=!1,Oe=!1;const Le={name:C};if(!a.disabled){if(!R||Q){(v.isDirty||x.isDirty)&&(Oe=s.isDirty,s.isDirty=Le.isDirty=xe(),se=Oe!==Le.isDirty);const ne=La(Be(c,C),Z);Oe=!!Be(s.dirtyFields,C),ne?en(s.dirtyFields,C):_t(s.dirtyFields,C,!0),Le.dirtyFields=s.dirtyFields,se=se||(v.dirtyFields||x.dirtyFields)&&Oe!==!ne}if(R){const ne=Be(s.touchedFields,C);ne||(_t(s.touchedFields,C,R),Le.touchedFields=s.touchedFields,se=se||(v.touchedFields||x.touchedFields)&&ne!==R)}se&&G&&N.state.next(Le)}return se?Le:{}},$=(C,Z,R,Q)=>{const G=Be(s.errors,C),se=(v.isValid||x.isValid)&&Qa(Z)&&s.isValid!==Z;if(a.delayError&&R?(g=_(()=>T(C,R)),g(a.delayError)):(clearTimeout(p),g=null,R?_t(s.errors,C,R):en(s.errors,C)),(R?!La(G,R):G)||!zn(Q)||se){const Oe={...Q,...se&&Qa(Z)?{isValid:Z}:{},errors:s.errors,name:C};s={...s,...Oe},N.state.next(Oe)}},U=async C=>{A(C,!0);const Z=await a.resolver(d,a.context,tj(C||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return A(C),Z},Y=async C=>{const{errors:Z}=await U(C);if(C)for(const R of C){const Q=Be(Z,R);Q?_t(s.errors,R,Q):en(s.errors,R)}else s.errors=Z;return Z},ie=async(C,Z,R={valid:!0})=>{for(const Q in C){const G=C[Q];if(G){const{_f:se,...Oe}=G;if(se){const Le=h.array.has(se.name),ne=G._f&&nj(G._f);ne&&v.validatingFields&&A([se.name],!0);const Ue=await im(G,h.disabled,d,q,a.shouldUseNativeValidation&&!Z,Le);if(ne&&v.validatingFields&&A([se.name]),Ue[se.name]&&(R.valid=!1,Z))break;!Z&&(Be(Ue,se.name)?Le?sx(s.errors,Ue,se.name):_t(s.errors,se.name,Ue[se.name]):en(s.errors,se.name))}!zn(Oe)&&await ie(Oe,Z,R)}}return R.valid},Ne=()=>{for(const C of h.unMount){const Z=Be(l,C);Z&&(Z._f.refs?Z._f.refs.every(R=>!vf(R)):!vf(Z._f.ref))&&Te(C)}h.unMount=new Set},xe=(C,Z)=>!a.disabled&&(C&&Z&&_t(d,C,Z),!La(we(),c)),fe=(C,Z,R)=>am(C,h,{...m.mount?d:Bt(Z)?c:da(C)?{[C]:Z}:Z},R,Z),ve=C=>Hc(Be(m.mount?d:c,C,a.shouldUnregister?Be(c,C,[]):[])),De=(C,Z,R={})=>{const Q=Be(l,C);let G=Z;if(Q){const se=Q._f;se&&(!se.disabled&&_t(d,C,nx(Z,se)),G=Cc(se.ref)&&Jn(Z)?"":Z,Wv(se.ref)?[...se.ref.options].forEach(Oe=>Oe.selected=G.includes(Oe.value)):se.refs?Vi(se.ref)?se.refs.forEach(Oe=>{(!Oe.defaultChecked||!Oe.disabled)&&(Array.isArray(G)?Oe.checked=!!G.find(Le=>Le===Oe.value):Oe.checked=G===Oe.value||!!G)}):se.refs.forEach(Oe=>Oe.checked=Oe.value===G):Im(se.ref)?se.ref.value="":(se.ref.value=G,se.ref.type||N.state.next({name:C,values:Ft(d)})))}(R.shouldDirty||R.shouldTouch)&&O(C,G,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&ge(C)},Re=(C,Z,R)=>{for(const Q in Z){if(!Z.hasOwnProperty(Q))return;const G=Z[Q],se=C+"."+Q,Oe=Be(l,se);(h.array.has(C)||cn(G)||Oe&&!Oe._f)&&!yr(G)?Re(se,G,R):De(se,G,R)}},M=(C,Z,R={})=>{const Q=Be(l,C),G=h.array.has(C),se=Ft(Z);_t(d,C,se),G?(N.array.next({name:C,values:Ft(d)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&R.shouldDirty&&N.state.next({name:C,dirtyFields:ml(c,d),isDirty:xe(C,se)})):Q&&!Q._f&&!Jn(se)?Re(C,se,R):De(C,se,R),lm(C,h)&&N.state.next({...s,name:C}),N.state.next({name:m.mount?C:void 0,values:Ft(d)})},I=async C=>{m.mount=!0;const Z=C.target;let R=Z.name,Q=!0;const G=Be(l,R),se=ne=>{Q=Number.isNaN(ne)||yr(ne)&&isNaN(ne.getTime())||La(ne,Be(d,R,ne))},Oe=hl(a.mode),Le=hl(a.reValidateMode);if(G){let ne,Ue;const Ve=Z.type?ub(G._f):G_(C),it=C.type===rb.BLUR||C.type===rb.FOCUS_OUT,Xt=!aj(G._f)&&!a.resolver&&!Be(s.errors,R)&&!G._f.deps||lj(it,Be(s.touchedFields,R),s.isSubmitted,Le,Oe),je=lm(R,h,it);_t(d,R,Ve),it?(!Z||!Z.readOnly)&&(G._f.onBlur&&G._f.onBlur(C),g&&g(0)):G._f.onChange&&G._f.onChange(C);const Je=O(R,Ve,it),Gt=!zn(Je)||je;if(!it&&N.state.next({name:R,type:C.type,values:Ft(d)}),Xt)return(v.isValid||x.isValid)&&(a.mode==="onBlur"?it&&j():it||j()),Gt&&N.state.next({name:R,...je?{}:Je});if(!it&&je&&N.state.next({...s}),a.resolver){const{errors:St}=await U([R]);if(se(Ve),Q){const Nn=fb(s.errors,l,R),kn=fb(St,l,Nn.name||R);ne=kn.error,R=kn.name,Ue=zn(St)}}else A([R],!0),ne=(await im(G,h.disabled,d,q,a.shouldUseNativeValidation))[R],A([R]),se(Ve),Q&&(ne?Ue=!1:(v.isValid||x.isValid)&&(Ue=await ie(l,!0)));Q&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&ge(G._f.deps),$(R,Ue,ne,Je))}},W=(C,Z)=>{if(Be(s.errors,Z)&&C.focus)return C.focus(),1},ge=async(C,Z={})=>{let R,Q;const G=Wn(C);if(a.resolver){const se=await Y(Bt(C)?C:G);R=zn(se),Q=C?!G.some(Oe=>Be(se,Oe)):R}else C?(Q=(await Promise.all(G.map(async se=>{const Oe=Be(l,se);return await ie(Oe&&Oe._f?{[se]:Oe}:Oe)}))).every(Boolean),!(!Q&&!s.isValid)&&j()):Q=R=await ie(l);return N.state.next({...!da(C)||(v.isValid||x.isValid)&&R!==s.isValid?{}:{name:C},...a.resolver||!C?{isValid:R}:{},errors:s.errors}),Z.shouldFocus&&!Q&&gl(l,W,C?G:h.mount),Q},we=(C,Z)=>{let R={...m.mount?d:c};return Z&&(R=Jv(Z.dirtyFields?s.dirtyFields:s.touchedFields,R)),Bt(C)?R:da(C)?Be(R,C):C.map(Q=>Be(R,Q))},w=(C,Z)=>({invalid:!!Be((Z||s).errors,C),isDirty:!!Be((Z||s).dirtyFields,C),error:Be((Z||s).errors,C),isValidating:!!Be(s.validatingFields,C),isTouched:!!Be((Z||s).touchedFields,C)}),V=C=>{C&&Wn(C).forEach(Z=>en(s.errors,Z)),N.state.next({errors:C?s.errors:{}})},ce=(C,Z,R)=>{const Q=(Be(l,C,{_f:{}})._f||{}).ref,G=Be(s.errors,C)||{},{ref:se,message:Oe,type:Le,...ne}=G;_t(s.errors,C,{...ne,...Z,ref:Q}),N.state.next({name:C,errors:s.errors,isValid:!1}),R&&R.shouldFocus&&Q&&Q.focus&&Q.focus()},z=(C,Z)=>Ba(C)?N.state.subscribe({next:R=>"values"in R&&C(fe(void 0,Z),R)}):fe(C,Z,!0),oe=C=>N.state.subscribe({next:Z=>{rj(C.name,Z.name,C.exact)&&sj(Z,C.formState||v,$e,C.reRenderRoot)&&C.callback({values:{...d},...s,...Z,defaultValues:c})}}).unsubscribe,he=C=>(m.mount=!0,x={...x,...C.formState},oe({...C,formState:x})),Te=(C,Z={})=>{for(const R of C?Wn(C):h.mount)h.mount.delete(R),h.array.delete(R),Z.keepValue||(en(l,R),en(d,R)),!Z.keepError&&en(s.errors,R),!Z.keepDirty&&en(s.dirtyFields,R),!Z.keepTouched&&en(s.touchedFields,R),!Z.keepIsValidating&&en(s.validatingFields,R),!a.shouldUnregister&&!Z.keepDefaultValue&&en(c,R);N.state.next({values:Ft(d)}),N.state.next({...s,...Z.keepDirty?{isDirty:xe()}:{}}),!Z.keepIsValid&&j()},qe=({disabled:C,name:Z})=>{(Qa(C)&&m.mount||C||h.disabled.has(Z))&&(C?h.disabled.add(Z):h.disabled.delete(Z))},me=(C,Z={})=>{let R=Be(l,C);const Q=Qa(Z.disabled)||Qa(a.disabled);return _t(l,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...Z}}),h.mount.add(C),R?qe({disabled:Qa(Z.disabled)?Z.disabled:a.disabled,name:C}):k(C,!0,Z.value),{...Q?{disabled:Z.disabled||a.disabled}:{},...a.progressive?{required:!!Z.required,min:Ai(Z.min),max:Ai(Z.max),minLength:Ai(Z.minLength),maxLength:Ai(Z.maxLength),pattern:Ai(Z.pattern)}:{},name:C,onChange:I,onBlur:I,ref:G=>{if(G){me(C,Z),R=Be(l,C);const se=Bt(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,Oe=X_(se),Le=R._f.refs||[];if(Oe?Le.find(ne=>ne===se):se===R._f.ref)return;_t(l,C,{_f:{...R._f,...Oe?{refs:[...Le.filter(vf),se,...Array.isArray(Be(c,C))?[{}]:[]],ref:{type:se.type,name:C}}:{ref:se}}}),k(C,!1,void 0,se)}else R=Be(l,C,{}),R._f&&(R._f.mount=!1),(a.shouldUnregister||Z.shouldUnregister)&&!(P_(h.array,C)&&m.action)&&h.unMount.add(C)}}},ke=()=>a.shouldFocusError&&gl(l,W,h.mount),Fe=C=>{Qa(C)&&(N.state.next({disabled:C}),gl(l,(Z,R)=>{const Q=Be(l,R);Q&&(Z.disabled=Q._f.disabled||C,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(G=>{G.disabled=Q._f.disabled||C}))},0,!1))},_e=(C,Z)=>async R=>{let Q;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let G=Ft(d);if(N.state.next({isSubmitting:!0}),a.resolver){const{errors:se,values:Oe}=await U();s.errors=se,G=Ft(Oe)}else await ie(l);if(h.disabled.size)for(const se of h.disabled)en(G,se);if(en(s.errors,"root"),zn(s.errors)){N.state.next({errors:{}});try{await C(G,R)}catch(se){Q=se}}else Z&&await Z({...s.errors},R),ke(),setTimeout(ke);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zn(s.errors)&&!Q,submitCount:s.submitCount+1,errors:s.errors}),Q)throw Q},Me=(C,Z={})=>{Be(l,C)&&(Bt(Z.defaultValue)?M(C,Ft(Be(c,C))):(M(C,Z.defaultValue),_t(c,C,Ft(Z.defaultValue))),Z.keepTouched||en(s.touchedFields,C),Z.keepDirty||(en(s.dirtyFields,C),s.isDirty=Z.defaultValue?xe(C,Ft(Be(c,C))):xe()),Z.keepError||(en(s.errors,C),v.isValid&&j()),N.state.next({...s}))},le=(C,Z={})=>{const R=C?Ft(C):c,Q=Ft(R),G=zn(C),se=G?c:Q;if(Z.keepDefaultValues||(c=R),!Z.keepValues){if(Z.keepDirtyValues){const Oe=new Set([...h.mount,...Object.keys(ml(c,d))]);for(const Le of Array.from(Oe))Be(s.dirtyFields,Le)?_t(se,Le,Be(d,Le)):M(Le,Be(se,Le))}else{if(Um&&Bt(C))for(const Oe of h.mount){const Le=Be(l,Oe);if(Le&&Le._f){const ne=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(Cc(ne)){const Ue=ne.closest("form");if(Ue){Ue.reset();break}}}}if(Z.keepFieldsRef)for(const Oe of h.mount)M(Oe,Be(se,Oe));else l={}}d=a.shouldUnregister?Z.keepDefaultValues?Ft(c):{}:Ft(se),N.array.next({values:{...se}}),N.state.next({values:{...se}})}h={mount:Z.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues||!a.shouldUnregister&&!zn(se),m.watch=!!a.shouldUnregister,N.state.next({submitCount:Z.keepSubmitCount?s.submitCount:0,isDirty:G?!1:Z.keepDirty?s.isDirty:!!(Z.keepDefaultValues&&!La(C,c)),isSubmitted:Z.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:G?{}:Z.keepDirtyValues?Z.keepDefaultValues&&d?ml(c,d):s.dirtyFields:Z.keepDefaultValues&&C?ml(c,C):Z.keepDirty?s.dirtyFields:{},touchedFields:Z.keepTouched?s.touchedFields:{},errors:Z.keepErrors?s.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},ze=(C,Z)=>le(Ba(C)?C(d):C,Z),de=(C,Z={})=>{const R=Be(l,C),Q=R&&R._f;if(Q){const G=Q.refs?Q.refs[0]:Q.ref;G.focus&&(G.focus(),Z.shouldSelect&&Ba(G.select)&&G.select())}},$e=C=>{s={...s,...C}},Xe={control:{register:me,unregister:Te,getFieldState:w,handleSubmit:_e,setError:ce,_subscribe:oe,_runSchema:U,_focusError:ke,_getWatch:fe,_getDirty:xe,_setValid:j,_setFieldArray:B,_setDisabledField:qe,_setErrors:J,_getFieldArray:ve,_reset:le,_resetDefaultValues:()=>Ba(a.defaultValues)&&a.defaultValues().then(C=>{ze(C,a.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:Ne,_disableForm:Fe,_subjects:N,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(C){m=C},get _defaultValues(){return c},get _names(){return h},set _names(C){h=C},get _formState(){return s},get _options(){return a},set _options(C){a={...a,...C}}},subscribe:he,trigger:ge,register:me,handleSubmit:_e,watch:z,setValue:M,getValues:we,reset:ze,resetField:Me,clearErrors:V,unregister:Te,setError:ce,setFocus:de,getFieldState:w};return{...Xe,formControl:Xe}}var $s=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},xf=(e,a,s={})=>s.shouldFocus||Bt(s.shouldFocus)?s.focusName||`${e}.${Bt(s.focusIndex)?a:s.focusIndex}.`:"",Sf=(e,a)=>[...e,...Wn(a)],Nf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function wf(e,a,s){return[...e.slice(0,a),...Wn(s),...e.slice(a)]}var _f=(e,a,s)=>Array.isArray(e)?(Bt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],jf=(e,a)=>[...Wn(a),...Wn(e)];function uj(e,a){let s=0;const l=[...e];for(const c of a)l.splice(c-s,1),s++;return Hc(l).length?l:[]}var Ef=(e,a)=>Bt(a)?[]:uj(e,Wn(a).sort((s,l)=>s-l)),Af=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},hb=(e,a,s)=>(e[a]=s,e);function dj(e){const a=Xv(),{control:s=a.control,name:l,keyName:c="id",shouldUnregister:d,rules:m}=e,[h,g]=lt.useState(s._getFieldArray(l)),p=lt.useRef(s._getFieldArray(l).map($s)),v=lt.useRef(!1);s._names.array.add(l),lt.useMemo(()=>m&&h.length>=0&&s.register(l,m),[s,l,h.length,m]),Bm(()=>s._subjects.array.subscribe({next:({values:k,name:O})=>{if(O===l||!O){const $=Be(k,l);Array.isArray($)&&(g($),p.current=$.map($s))}}}).unsubscribe,[s,l]);const x=lt.useCallback(k=>{v.current=!0,s._setFieldArray(l,k)},[s,l]),N=(k,O)=>{const $=Wn(Ft(k)),U=Sf(s._getFieldArray(l),$);s._names.focus=xf(l,U.length-1,O),p.current=Sf(p.current,$.map($s)),x(U),g(U),s._setFieldArray(l,U,Sf,{argA:Nf(k)})},q=(k,O)=>{const $=Wn(Ft(k)),U=jf(s._getFieldArray(l),$);s._names.focus=xf(l,0,O),p.current=jf(p.current,$.map($s)),x(U),g(U),s._setFieldArray(l,U,jf,{argA:Nf(k)})},_=k=>{const O=Ef(s._getFieldArray(l),k);p.current=Ef(p.current,k),x(O),g(O),!Array.isArray(Be(s._fields,l))&&_t(s._fields,l,void 0),s._setFieldArray(l,O,Ef,{argA:k})},j=(k,O,$)=>{const U=Wn(Ft(O)),Y=wf(s._getFieldArray(l),k,U);s._names.focus=xf(l,k,$),p.current=wf(p.current,k,U.map($s)),x(Y),g(Y),s._setFieldArray(l,Y,wf,{argA:k,argB:Nf(O)})},A=(k,O)=>{const $=s._getFieldArray(l);Af($,k,O),Af(p.current,k,O),x($),g($),s._setFieldArray(l,$,Af,{argA:k,argB:O},!1)},B=(k,O)=>{const $=s._getFieldArray(l);_f($,k,O),_f(p.current,k,O),x($),g($),s._setFieldArray(l,$,_f,{argA:k,argB:O},!1)},T=(k,O)=>{const $=Ft(O),U=hb(s._getFieldArray(l),k,$);p.current=[...U].map((Y,ie)=>!Y||ie===k?$s():p.current[ie]),x(U),g([...U]),s._setFieldArray(l,U,hb,{argA:k,argB:$},!0,!1)},J=k=>{const O=Wn(Ft(k));p.current=O.map($s),x([...O]),g([...O]),s._setFieldArray(l,[...O],$=>$,{},!0,!1)};return lt.useEffect(()=>{if(s._state.action=!1,lm(l,s._names)&&s._subjects.state.next({...s._formState}),v.current&&(!hl(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!hl(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(k=>{const O=Be(k.errors,l),$=Be(s._formState.errors,l);($?!O&&$.type||O&&($.type!==O.type||$.message!==O.message):O&&O.type)&&(O?_t(s._formState.errors,l,O):en(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const k=Be(s._fields,l);k&&k._f&&!(hl(s._options.reValidateMode).isOnSubmit&&hl(s._options.mode).isOnSubmit)&&im(k,s._names.disabled,s._formValues,s._options.criteriaMode===Na.all,s._options.shouldUseNativeValidation,!0).then(O=>!zn(O)&&s._subjects.state.next({errors:sx(s._formState.errors,O,l)}))}s._subjects.state.next({name:l,values:Ft(s._formValues)}),s._names.focus&&gl(s._fields,(k,O)=>{if(s._names.focus&&O.startsWith(s._names.focus)&&k.focus)return k.focus(),1}),s._names.focus="",s._setValid(),v.current=!1},[h,l,s]),lt.useEffect(()=>(!Be(s._formValues,l)&&s._setFieldArray(l),()=>{const k=(O,$)=>{const U=Be(s._fields,O);U&&U._f&&(U._f.mount=$)};s._options.shouldUnregister||d?s.unregister(l):k(l,!1)}),[l,s,c,d]),{swap:lt.useCallback(A,[x,l,s]),move:lt.useCallback(B,[x,l,s]),prepend:lt.useCallback(q,[x,l,s]),append:lt.useCallback(N,[x,l,s]),remove:lt.useCallback(_,[x,l,s]),insert:lt.useCallback(j,[x,l,s]),update:lt.useCallback(T,[x,l,s]),replace:lt.useCallback(J,[x,l,s]),fields:lt.useMemo(()=>h.map((k,O)=>({...k,[c]:p.current[O]||$s()})),[h,c])}}function Vc(e={}){const a=lt.useRef(void 0),s=lt.useRef(void 0),[l,c]=lt.useState({isDirty:!1,isValidating:!1,isLoading:Ba(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ba(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!Ba(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=cj(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,Bm(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),lt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),lt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),lt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),lt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),lt.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),lt.useEffect(()=>{e.values&&!La(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),lt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=K_(l,d),a.current}function rx(e,a){return function(){return e.apply(a,arguments)}}const{toString:fj}=Object.prototype,{getPrototypeOf:$m}=Object,{iterator:Zc,toStringTag:lx}=Symbol,Gc=(e=>a=>{const s=fj.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),qa=e=>(e=e.toLowerCase(),a=>Gc(a)===e),Qc=e=>a=>typeof a===e,{isArray:El}=Array,vl=Qc("undefined");function Zi(e){return e!==null&&!vl(e)&&e.constructor!==null&&!vl(e.constructor)&&ea(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ix=qa("ArrayBuffer");function mj(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&ix(e.buffer),a}const hj=Qc("string"),ea=Qc("function"),ox=Qc("number"),Gi=e=>e!==null&&typeof e=="object",pj=e=>e===!0||e===!1,Sc=e=>{if(Gc(e)!=="object")return!1;const a=$m(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(lx in e)&&!(Zc in e)},gj=e=>{if(!Gi(e)||Zi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},yj=qa("Date"),bj=qa("File"),vj=qa("Blob"),xj=qa("FileList"),Sj=e=>Gi(e)&&ea(e.pipe),Nj=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||ea(e.append)&&((a=Gc(e))==="formdata"||a==="object"&&ea(e.toString)&&e.toString()==="[object FormData]"))},wj=qa("URLSearchParams"),[_j,jj,Ej,Aj]=["ReadableStream","Request","Response","Headers"].map(qa),Cj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qi(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),El(e))for(l=0,c=e.length;l<c;l++)a.call(null,e[l],l,e);else{if(Zi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function cx(e,a){if(Zi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],a===c.toLowerCase())return c;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ux=e=>!vl(e)&&e!==br;function om(){const{caseless:e,skipUndefined:a}=ux(this)&&this||{},s={},l=(c,d)=>{const m=e&&cx(s,d)||d;Sc(s[m])&&Sc(c)?s[m]=om(s[m],c):Sc(c)?s[m]=om({},c):El(c)?s[m]=c.slice():(!a||!vl(c))&&(s[m]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Qi(arguments[c],l);return s}const Oj=(e,a,s,{allOwnKeys:l}={})=>(Qi(a,(c,d)=>{s&&ea(c)?e[d]=rx(c,s):e[d]=c},{allOwnKeys:l}),e),Rj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tj=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},Dj=(e,a,s,l)=>{let c,d,m;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=s!==!1&&$m(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},zj=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},Mj=e=>{if(!e)return null;if(El(e))return e;let a=e.length;if(!ox(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},kj=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&$m(Uint8Array)),Uj=(e,a)=>{const l=(e&&e[Zc]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},Lj=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},Bj=qa("HTMLFormElement"),qj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),pb=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),Ij=qa("RegExp"),dx=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Qi(s,(c,d)=>{let m;(m=a(c,d,e))!==!1&&(l[d]=m||c)}),Object.defineProperties(e,l)},Fj=e=>{dx(e,(a,s)=>{if(ea(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(ea(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},$j=(e,a)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return El(e)?l(e):l(String(e).split(a)),s},Hj=()=>{},Vj=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function Zj(e){return!!(e&&ea(e.append)&&e[lx]==="FormData"&&e[Zc])}const Gj=e=>{const a=new Array(10),s=(l,c)=>{if(Gi(l)){if(a.indexOf(l)>=0)return;if(Zi(l))return l;if(!("toJSON"in l)){a[c]=l;const d=El(l)?[]:{};return Qi(l,(m,h)=>{const g=s(m,c+1);!vl(g)&&(d[h]=g)}),a[c]=void 0,d}}return l};return s(e,0)},Qj=qa("AsyncFunction"),Pj=e=>e&&(Gi(e)||ea(e))&&ea(e.then)&&ea(e.catch),fx=((e,a)=>e?setImmediate:a?((s,l)=>(br.addEventListener("message",({source:c,data:d})=>{c===br&&d===s&&l.length&&l.shift()()},!1),c=>{l.push(c),br.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ea(br.postMessage)),Yj=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||fx,Kj=e=>e!=null&&ea(e[Zc]),ae={isArray:El,isArrayBuffer:ix,isBuffer:Zi,isFormData:Nj,isArrayBufferView:mj,isString:hj,isNumber:ox,isBoolean:pj,isObject:Gi,isPlainObject:Sc,isEmptyObject:gj,isReadableStream:_j,isRequest:jj,isResponse:Ej,isHeaders:Aj,isUndefined:vl,isDate:yj,isFile:bj,isBlob:vj,isRegExp:Ij,isFunction:ea,isStream:Sj,isURLSearchParams:wj,isTypedArray:kj,isFileList:xj,forEach:Qi,merge:om,extend:Oj,trim:Cj,stripBOM:Rj,inherits:Tj,toFlatObject:Dj,kindOf:Gc,kindOfTest:qa,endsWith:zj,toArray:Mj,forEachEntry:Uj,matchAll:Lj,isHTMLForm:Bj,hasOwnProperty:pb,hasOwnProp:pb,reduceDescriptors:dx,freezeMethods:Fj,toObjectSet:$j,toCamelCase:qj,noop:Hj,toFiniteNumber:Vj,findKey:cx,global:br,isContextDefined:ux,isSpecCompliantForm:Zj,toJSONObject:Gj,isAsyncFn:Qj,isThenable:Pj,setImmediate:fx,asap:Yj,isIterable:Kj};function at(e,a,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}ae.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const mx=at.prototype,hx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hx[e]={value:e}});Object.defineProperties(at,hx);Object.defineProperty(mx,"isAxiosError",{value:!0});at.from=(e,a,s,l,c,d)=>{const m=Object.create(mx);ae.toFlatObject(e,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",g=a==null&&e?e.code:a;return at.call(m,h,g,s,l,c),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const Xj=null;function cm(e){return ae.isPlainObject(e)||ae.isArray(e)}function px(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function gb(e,a,s){return e?e.concat(a).map(function(c,d){return c=px(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function Jj(e){return ae.isArray(e)&&!e.some(cm)}const Wj=ae.toFlatObject(ae,{},null,function(a){return/^is[A-Z]/.test(a)});function Pc(e,a,s){if(!ae.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=ae.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,A){return!ae.isUndefined(A[j])});const l=s.metaTokens,c=s.visitor||v,d=s.dots,m=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(a);if(!ae.isFunction(c))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(ae.isDate(_))return _.toISOString();if(ae.isBoolean(_))return _.toString();if(!g&&ae.isBlob(_))throw new at("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(_)||ae.isTypedArray(_)?g&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,j,A){let B=_;if(_&&!A&&typeof _=="object"){if(ae.endsWith(j,"{}"))j=l?j:j.slice(0,-2),_=JSON.stringify(_);else if(ae.isArray(_)&&Jj(_)||(ae.isFileList(_)||ae.endsWith(j,"[]"))&&(B=ae.toArray(_)))return j=px(j),B.forEach(function(J,k){!(ae.isUndefined(J)||J===null)&&a.append(m===!0?gb([j],k,d):m===null?j:j+"[]",p(J))}),!1}return cm(_)?!0:(a.append(gb(A,j,d),p(_)),!1)}const x=[],N=Object.assign(Wj,{defaultVisitor:v,convertValue:p,isVisitable:cm});function q(_,j){if(!ae.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(_),ae.forEach(_,function(B,T){(!(ae.isUndefined(B)||B===null)&&c.call(a,B,ae.isString(T)?T.trim():T,j,N))===!0&&q(B,j?j.concat(T):[T])}),x.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return q(e),a}function yb(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Hm(e,a){this._pairs=[],e&&Pc(e,this,a)}const gx=Hm.prototype;gx.append=function(a,s){this._pairs.push([a,s])};gx.toString=function(a){const s=a?function(l){return a.call(this,l,yb)}:yb;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function e1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yx(e,a,s){if(!a)return e;const l=s&&s.encode||e1;ae.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=ae.isURLSearchParams(a)?a.toString():new Hm(a,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class bb{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ae.forEach(this.handlers,function(l){l!==null&&a(l)})}}const bx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t1=typeof URLSearchParams<"u"?URLSearchParams:Hm,n1=typeof FormData<"u"?FormData:null,a1=typeof Blob<"u"?Blob:null,s1={isBrowser:!0,classes:{URLSearchParams:t1,FormData:n1,Blob:a1},protocols:["http","https","file","blob","url","data"]},Vm=typeof window<"u"&&typeof document<"u",um=typeof navigator=="object"&&navigator||void 0,r1=Vm&&(!um||["ReactNative","NativeScript","NS"].indexOf(um.product)<0),l1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i1=Vm&&window.location.href||"http://localhost",o1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vm,hasStandardBrowserEnv:r1,hasStandardBrowserWebWorkerEnv:l1,navigator:um,origin:i1},Symbol.toStringTag,{value:"Module"})),Mn={...o1,...s1};function c1(e,a){return Pc(e,new Mn.classes.URLSearchParams,{visitor:function(s,l,c,d){return Mn.isNode&&ae.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function u1(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function d1(e){const a={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],a[d]=e[d];return a}function vx(e){function a(s,l,c,d){let m=s[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),g=d>=s.length;return m=!m&&ae.isArray(c)?c.length:m,g?(ae.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!h):((!c[m]||!ae.isObject(c[m]))&&(c[m]=[]),a(s,l,c[m],d)&&ae.isArray(c[m])&&(c[m]=d1(c[m])),!h)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const s={};return ae.forEachEntry(e,(l,c)=>{a(u1(l),c,s,0)}),s}return null}function f1(e,a,s){if(ae.isString(e))try{return(a||JSON.parse)(e),ae.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Pi={transitional:bx,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=ae.isObject(a);if(d&&ae.isHTMLForm(a)&&(a=new FormData(a)),ae.isFormData(a))return c?JSON.stringify(vx(a)):a;if(ae.isArrayBuffer(a)||ae.isBuffer(a)||ae.isStream(a)||ae.isFile(a)||ae.isBlob(a)||ae.isReadableStream(a))return a;if(ae.isArrayBufferView(a))return a.buffer;if(ae.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return c1(a,this.formSerializer).toString();if((h=ae.isFileList(a))||l.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Pc(h?{"files[]":a}:a,g&&new g,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),f1(a)):a}],transformResponse:[function(a){const s=this.transitional||Pi.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(ae.isResponse(a)||ae.isReadableStream(a))return a;if(a&&ae.isString(a)&&(l&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?at.from(h,at.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{Pi.headers[e]={}});const m1=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h1=e=>{const a={};let s,l,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!s||a[s]&&m1[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},vb=Symbol("internals");function Ci(e){return e&&String(e).trim().toLowerCase()}function Nc(e){return e===!1||e==null?e:ae.isArray(e)?e.map(Nc):String(e)}function p1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const g1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cf(e,a,s,l,c){if(ae.isFunction(l))return l.call(this,a,s);if(c&&(a=s),!!ae.isString(a)){if(ae.isString(l))return a.indexOf(l)!==-1;if(ae.isRegExp(l))return l.test(a)}}function y1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function b1(e,a){const s=ae.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,m){return this[l].call(this,a,c,d,m)},configurable:!0})})}let ta=class{constructor(a){a&&this.set(a)}set(a,s,l){const c=this;function d(h,g,p){const v=Ci(g);if(!v)throw new Error("header name must be a non-empty string");const x=ae.findKey(c,v);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||g]=Nc(h))}const m=(h,g)=>ae.forEach(h,(p,v)=>d(p,v,g));if(ae.isPlainObject(a)||a instanceof this.constructor)m(a,s);else if(ae.isString(a)&&(a=a.trim())&&!g1(a))m(h1(a),s);else if(ae.isObject(a)&&ae.isIterable(a)){let h={},g,p;for(const v of a){if(!ae.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(g=h[p])?ae.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}m(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ci(a),a){const l=ae.findKey(this,a);if(l){const c=this[l];if(!s)return c;if(s===!0)return p1(c);if(ae.isFunction(s))return s.call(this,c,l);if(ae.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ci(a),a){const l=ae.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||Cf(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let c=!1;function d(m){if(m=Ci(m),m){const h=ae.findKey(l,m);h&&(!s||Cf(l,l[h],h,s))&&(delete l[h],c=!0)}}return ae.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let l=s.length,c=!1;for(;l--;){const d=s[l];(!a||Cf(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,l={};return ae.forEach(this,(c,d)=>{const m=ae.findKey(l,d);if(m){s[m]=Nc(c),delete s[d];return}const h=a?y1(d):String(d).trim();h!==d&&delete s[d],s[h]=Nc(c),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return ae.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=a&&ae.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(c=>l.set(c)),l}static accessor(a){const l=(this[vb]=this[vb]={accessors:{}}).accessors,c=this.prototype;function d(m){const h=Ci(m);l[h]||(b1(c,m),l[h]=!0)}return ae.isArray(a)?a.forEach(d):d(a),this}};ta.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(ta.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});ae.freezeMethods(ta);function Of(e,a){const s=this||Pi,l=a||s,c=ta.from(l.headers);let d=l.data;return ae.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function xx(e){return!!(e&&e.__CANCEL__)}function Al(e,a,s){at.call(this,e??"canceled",at.ERR_CANCELED,a,s),this.name="CanceledError"}ae.inherits(Al,at,{__CANCEL__:!0});function Sx(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new at("Request failed with status code "+s.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function v1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function x1(e,a){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,m;return a=a!==void 0?a:1e3,function(g){const p=Date.now(),v=l[d];m||(m=p),s[c]=g,l[c]=p;let x=d,N=0;for(;x!==c;)N+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-m<a)return;const q=v&&p-v;return q?Math.round(N*1e3/q):void 0}}function S1(e,a){let s=0,l=1e3/a,c,d;const m=(p,v=Date.now())=>{s=v,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),x=v-s;x>=l?m(p,v):(c=p,d||(d=setTimeout(()=>{d=null,m(c)},l-x)))},()=>c&&m(c)]}const Rc=(e,a,s=3)=>{let l=0;const c=x1(50,250);return S1(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,g=m-l,p=c(g),v=m<=h;l=m;const x={loaded:m,total:h,progress:h?m/h:void 0,bytes:g,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},xb=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},Sb=e=>(...a)=>ae.asap(()=>e(...a)),N1=Mn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,Mn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,w1=Mn.hasStandardBrowserEnv?{write(e,a,s,l,c,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];ae.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),ae.isString(l)&&h.push(`path=${l}`),ae.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),ae.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function j1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function Nx(e,a,s){let l=!_1(a);return e&&(l||s==!1)?j1(e,a):a}const Nb=e=>e instanceof ta?{...e}:e;function wr(e,a){a=a||{};const s={};function l(p,v,x,N){return ae.isPlainObject(p)&&ae.isPlainObject(v)?ae.merge.call({caseless:N},p,v):ae.isPlainObject(v)?ae.merge({},v):ae.isArray(v)?v.slice():v}function c(p,v,x,N){if(ae.isUndefined(v)){if(!ae.isUndefined(p))return l(void 0,p,x,N)}else return l(p,v,x,N)}function d(p,v){if(!ae.isUndefined(v))return l(void 0,v)}function m(p,v){if(ae.isUndefined(v)){if(!ae.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,x){if(x in a)return l(p,v);if(x in e)return l(void 0,p)}const g={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,x)=>c(Nb(p),Nb(v),x,!0)};return ae.forEach(Object.keys({...e,...a}),function(v){const x=g[v]||c,N=x(e[v],a[v],v);ae.isUndefined(N)&&x!==h||(s[v]=N)}),s}const wx=e=>{const a=wr({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=ta.from(m),a.url=yx(Nx(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),ae.isFormData(s)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(ae.isFunction(s.getHeaders)){const g=s.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([v,x])=>{p.includes(v.toLowerCase())&&m.set(v,x)})}}if(Mn.hasStandardBrowserEnv&&(l&&ae.isFunction(l)&&(l=l(a)),l||l!==!1&&N1(a.url))){const g=c&&d&&w1.read(d);g&&m.set(c,g)}return a},E1=typeof XMLHttpRequest<"u",A1=E1&&function(e){return new Promise(function(s,l){const c=wx(e);let d=c.data;const m=ta.from(c.headers).normalize();let{responseType:h,onUploadProgress:g,onDownloadProgress:p}=c,v,x,N,q,_;function j(){q&&q(),_&&_(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let A=new XMLHttpRequest;A.open(c.method.toUpperCase(),c.url,!0),A.timeout=c.timeout;function B(){if(!A)return;const J=ta.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:J,config:e,request:A};Sx(function(U){s(U),j()},function(U){l(U),j()},O),A=null}"onloadend"in A?A.onloadend=B:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(B)},A.onabort=function(){A&&(l(new at("Request aborted",at.ECONNABORTED,e,A)),A=null)},A.onerror=function(k){const O=k&&k.message?k.message:"Network Error",$=new at(O,at.ERR_NETWORK,e,A);$.event=k||null,l($),A=null},A.ontimeout=function(){let k=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const O=c.transitional||bx;c.timeoutErrorMessage&&(k=c.timeoutErrorMessage),l(new at(k,O.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,e,A)),A=null},d===void 0&&m.setContentType(null),"setRequestHeader"in A&&ae.forEach(m.toJSON(),function(k,O){A.setRequestHeader(O,k)}),ae.isUndefined(c.withCredentials)||(A.withCredentials=!!c.withCredentials),h&&h!=="json"&&(A.responseType=c.responseType),p&&([N,_]=Rc(p,!0),A.addEventListener("progress",N)),g&&A.upload&&([x,q]=Rc(g),A.upload.addEventListener("progress",x),A.upload.addEventListener("loadend",q)),(c.cancelToken||c.signal)&&(v=J=>{A&&(l(!J||J.type?new Al(null,e,A):J),A.abort(),A=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const T=v1(c.url);if(T&&Mn.protocols.indexOf(T)===-1){l(new at("Unsupported protocol "+T+":",at.ERR_BAD_REQUEST,e));return}A.send(d||null)})},C1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,c;const d=function(p){if(!c){c=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof at?v:new Al(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new at(`timeout ${a} of ms exceeded`,at.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:g}=l;return g.unsubscribe=()=>ae.asap(h),g}},O1=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,c;for(;l<s;)c=l+a,yield e.slice(l,c),l=c},R1=async function*(e,a){for await(const s of T1(e))yield*O1(s,a)},T1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},wb=(e,a,s,l)=>{const c=R1(e,a);let d=0,m,h=g=>{m||(m=!0,l&&l(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await c.next();if(p){h(),g.close();return}let x=v.byteLength;if(s){let N=d+=x;s(N)}g.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(g){return h(g),c.return()}},{highWaterMark:2})},_b=64*1024,{isFunction:mc}=ae,D1=(({Request:e,Response:a})=>({Request:e,Response:a}))(ae.global),{ReadableStream:jb,TextEncoder:Eb}=ae.global,Ab=(e,...a)=>{try{return!!e(...a)}catch{return!1}},z1=e=>{e=ae.merge.call({skipUndefined:!0},D1,e);const{fetch:a,Request:s,Response:l}=e,c=a?mc(a):typeof fetch=="function",d=mc(s),m=mc(l);if(!c)return!1;const h=c&&mc(jb),g=c&&(typeof Eb=="function"?(_=>j=>_.encode(j))(new Eb):async _=>new Uint8Array(await new s(_).arrayBuffer())),p=d&&h&&Ab(()=>{let _=!1;const j=new s(Mn.origin,{body:new jb,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!j}),v=m&&h&&Ab(()=>ae.isReadableStream(new l("").body)),x={stream:v&&(_=>_.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!x[_]&&(x[_]=(j,A)=>{let B=j&&j[_];if(B)return B.call(j);throw new at(`Response type '${_}' is not supported`,at.ERR_NOT_SUPPORT,A)})});const N=async _=>{if(_==null)return 0;if(ae.isBlob(_))return _.size;if(ae.isSpecCompliantForm(_))return(await new s(Mn.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(_)||ae.isArrayBuffer(_))return _.byteLength;if(ae.isURLSearchParams(_)&&(_=_+""),ae.isString(_))return(await g(_)).byteLength},q=async(_,j)=>{const A=ae.toFiniteNumber(_.getContentLength());return A??N(j)};return async _=>{let{url:j,method:A,data:B,signal:T,cancelToken:J,timeout:k,onDownloadProgress:O,onUploadProgress:$,responseType:U,headers:Y,withCredentials:ie="same-origin",fetchOptions:Ne}=wx(_),xe=a||fetch;U=U?(U+"").toLowerCase():"text";let fe=C1([T,J&&J.toAbortSignal()],k),ve=null;const De=fe&&fe.unsubscribe&&(()=>{fe.unsubscribe()});let Re;try{if($&&p&&A!=="get"&&A!=="head"&&(Re=await q(Y,B))!==0){let w=new s(j,{method:"POST",body:B,duplex:"half"}),V;if(ae.isFormData(B)&&(V=w.headers.get("content-type"))&&Y.setContentType(V),w.body){const[ce,z]=xb(Re,Rc(Sb($)));B=wb(w.body,_b,ce,z)}}ae.isString(ie)||(ie=ie?"include":"omit");const M=d&&"credentials"in s.prototype,I={...Ne,signal:fe,method:A.toUpperCase(),headers:Y.normalize().toJSON(),body:B,duplex:"half",credentials:M?ie:void 0};ve=d&&new s(j,I);let W=await(d?xe(ve,Ne):xe(j,I));const ge=v&&(U==="stream"||U==="response");if(v&&(O||ge&&De)){const w={};["status","statusText","headers"].forEach(oe=>{w[oe]=W[oe]});const V=ae.toFiniteNumber(W.headers.get("content-length")),[ce,z]=O&&xb(V,Rc(Sb(O),!0))||[];W=new l(wb(W.body,_b,ce,()=>{z&&z(),De&&De()}),w)}U=U||"text";let we=await x[ae.findKey(x,U)||"text"](W,_);return!ge&&De&&De(),await new Promise((w,V)=>{Sx(w,V,{data:we,headers:ta.from(W.headers),status:W.status,statusText:W.statusText,config:_,request:ve})})}catch(M){throw De&&De(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,_,ve),{cause:M.cause||M}):at.from(M,M&&M.code,_,ve)}}},M1=new Map,_x=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:c}=a,d=[l,c,s];let m=d.length,h=m,g,p,v=M1;for(;h--;)g=d[h],p=v.get(g),p===void 0&&v.set(g,p=h?new Map:z1(a)),v=p;return p};_x();const Zm={http:Xj,xhr:A1,fetch:{get:_x}};ae.forEach(Zm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const Cb=e=>`- ${e}`,k1=e=>ae.isFunction(e)||e===null||e===!1;function U1(e,a){e=ae.isArray(e)?e:[e];const{length:s}=e;let l,c;const d={};for(let m=0;m<s;m++){l=e[m];let h;if(c=l,!k1(l)&&(c=Zm[(h=String(l)).toLowerCase()],c===void 0))throw new at(`Unknown adapter '${h}'`);if(c&&(ae.isFunction(c)||(c=c.get(a))))break;d[h||"#"+m]=c}if(!c){const m=Object.entries(d).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?m.length>1?`since :
`+m.map(Cb).join(`
`):" "+Cb(m[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const jx={getAdapter:U1,adapters:Zm};function Rf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Al(null,e)}function Ob(e){return Rf(e),e.headers=ta.from(e.headers),e.data=Of.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jx.getAdapter(e.adapter||Pi.adapter,e)(e).then(function(l){return Rf(e),l.data=Of.call(e,e.transformResponse,l),l.headers=ta.from(l.headers),l},function(l){return xx(l)||(Rf(e),l&&l.response&&(l.response.data=Of.call(e,e.transformResponse,l.response),l.response.headers=ta.from(l.response.headers))),Promise.reject(l)})}const Ex="1.13.2",Yc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Yc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Rb={};Yc.transitional=function(a,s,l){function c(d,m){return"[Axios v"+Ex+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new at(c(m," has been removed"+(s?" in "+s:"")),at.ERR_DEPRECATED);return s&&!Rb[m]&&(Rb[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,m,h):!0}};Yc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function L1(e,a,s){if(typeof e!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],m=a[d];if(m){const h=e[d],g=h===void 0||m(h,d,e);if(g!==!0)throw new at("option "+d+" must be "+g,at.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new at("Unknown option "+d,at.ERR_BAD_OPTION)}}const wc={assertOptions:L1,validators:Yc},Ga=wc.validators;let vr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new bb,response:new bb}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=wr(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&wc.assertOptions(l,{silentJSONParsing:Ga.transitional(Ga.boolean),forcedJSONParsing:Ga.transitional(Ga.boolean),clarifyTimeoutError:Ga.transitional(Ga.boolean)},!1),c!=null&&(ae.isFunction(c)?s.paramsSerializer={serialize:c}:wc.assertOptions(c,{encode:Ga.function,serialize:Ga.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),wc.assertOptions(s,{baseUrl:Ga.spelling("baseURL"),withXsrfToken:Ga.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=d&&ae.merge(d.common,d[s.method]);d&&ae.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),s.headers=ta.concat(m,d);const h=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(g=g&&j.synchronous,h.unshift(j.fulfilled,j.rejected))});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let v,x=0,N;if(!g){const _=[Ob.bind(this),void 0];for(_.unshift(...h),_.push(...p),N=_.length,v=Promise.resolve(s);x<N;)v=v.then(_[x++],_[x++]);return v}N=h.length;let q=s;for(;x<N;){const _=h[x++],j=h[x++];try{q=_(q)}catch(A){j.call(this,A);break}}try{v=Ob.call(this,q)}catch(_){return Promise.reject(_)}for(x=0,N=p.length;x<N;)v=v.then(p[x++],p[x++]);return v}getUri(a){a=wr(this.defaults,a);const s=Nx(a.baseURL,a.url,a.allowAbsoluteUrls);return yx(s,a.params,a.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(a){vr.prototype[a]=function(s,l){return this.request(wr(l||{},{method:a,url:s,data:(l||{}).data}))}});ae.forEach(["post","put","patch"],function(a){function s(l){return function(d,m,h){return this.request(wr(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}vr.prototype[a]=s(),vr.prototype[a+"Form"]=s(!0)});let B1=class Ax{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new Al(d,m,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new Ax(function(c){a=c}),cancel:a}}};function q1(e){return function(s){return e.apply(null,s)}}function I1(e){return ae.isObject(e)&&e.isAxiosError===!0}const dm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dm).forEach(([e,a])=>{dm[a]=e});function Cx(e){const a=new vr(e),s=rx(vr.prototype.request,a);return ae.extend(s,vr.prototype,a,{allOwnKeys:!0}),ae.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return Cx(wr(e,c))},s}const ut=Cx(Pi);ut.Axios=vr;ut.CanceledError=Al;ut.CancelToken=B1;ut.isCancel=xx;ut.VERSION=Ex;ut.toFormData=Pc;ut.AxiosError=at;ut.Cancel=ut.CanceledError;ut.all=function(a){return Promise.all(a)};ut.spread=q1;ut.isAxiosError=I1;ut.mergeConfig=wr;ut.AxiosHeaders=ta;ut.formToJSON=e=>vx(ae.isHTMLForm(e)?new FormData(e):e);ut.getAdapter=jx.getAdapter;ut.HttpStatusCode=dm;ut.default=ut;const{Axios:I2,AxiosError:F2,CanceledError:$2,isCancel:H2,CancelToken:V2,VERSION:Z2,all:G2,Cancel:Q2,isAxiosError:P2,spread:Y2,toFormData:K2,AxiosHeaders:X2,HttpStatusCode:J2,formToJSON:W2,getAdapter:eD,mergeConfig:tD}=ut,F1="medileser:draft:v1",Tc="medileser:recovery:v1",Dc="medileser:recovery:intent",$1="vi.auth",H1="vi_auth",V1="medileser.selectedBank",Z1=1440*60*1e3,Gm=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>Z1},Tf=e=>{const{userId:a,bankId:s,oiId:l,type:c,bancadaId:d,isNew:m}=e;if(!a||s==null)return null;const h=l!=null?String(l):"new",g=`${F1}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${g}:header`;const p=m?"new":d;return p==null?null:`${g}:bancada:${p}`},Di=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&Ox(s)},Df=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:Gm(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Hs=e=>{try{localStorage.removeItem(e)}catch{}},Ox=e=>{try{localStorage.setItem(Tc,JSON.stringify(e))}catch{}},Rx=()=>{try{const e=localStorage.getItem(Tc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Gm(a.ts)?(localStorage.removeItem(Tc),null):a}catch{return null}},G1=()=>{try{localStorage.removeItem(Tc)}catch{}},Q1=e=>{const a=e.userId??null,s=e.bankId??null,l=e.oiId??null;if(!a||s==null||!l)return;const c=Rx(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:l,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};Ox(d)},P1=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(Dc,JSON.stringify(a))}catch{}},Y1=()=>{try{const e=sessionStorage.getItem(Dc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Gm(a.ts)?(sessionStorage.removeItem(Dc),null):a}catch{return null}},zf=()=>{try{sessionStorage.removeItem(Dc)}catch{}},K1=()=>{try{const e=localStorage.getItem($1)??localStorage.getItem(H1);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},X1=()=>{try{const e=localStorage.getItem(V1);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},fm=(e,a)=>{const s=Rx();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const l=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=l==="/oi"||l==="/oi/"?`/oi/${s.oiId}?mode=edit`:l;return P1(s),{target:c,recovery:s}},Tb="http://127.0.0.1:8000",Cl="openOiId",Kc="vi.currentOI",Tx="vi.auth",Dx="vi_auth",J1="medileser.selectedBank",W1="medileser:selectedBank",mm="medileser.pendingToast",Yi="medileser.pendingAction",eE="medileser:auth-expired",hm="medileser.sessionUserId",pm="medileser.sessionBankId",zx=()=>typeof window<"u"?window.location.port==="5173"?Tb:window.location.origin:Tb,Ge=ut.create({baseURL:zx()}),Mx=ut.create({baseURL:zx()}),kx=e=>{try{const a=localStorage.getItem(Tx)??localStorage.getItem(Dx);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ge.interceptors.request.use(kx);Mx.interceptors.request.use(kx);function tE(){try{const e=sessionStorage.getItem(Cl);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const Ux=()=>{try{const e=sessionStorage.getItem(Kc);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function nE(e){try{sessionStorage.setItem(Cl,String(e))}catch{}}function Lx(){try{sessionStorage.removeItem(Cl)}catch{}}async function Ki(){const e=tE();if(e)try{await Mx.post(`/oi/${e}/close`)}catch{}finally{Lx()}}function aE(e){try{sessionStorage.setItem(mm,e)}catch{}}function sE(){try{const e=sessionStorage.getItem(mm);return e?(sessionStorage.removeItem(mm),e):null}catch{return null}}function rE(e){try{sessionStorage.setItem(Yi,JSON.stringify(e))}catch{}}function lE(){try{const e=sessionStorage.getItem(Yi);return e?JSON.parse(e):null}catch{return null}}function Oi(){try{sessionStorage.removeItem(Yi)}catch{}}function Bx(){try{const e=sessionStorage.getItem(hm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Db(e){try{e==null?sessionStorage.removeItem(hm):sessionStorage.setItem(hm,String(e))}catch{}}function qx(){try{const e=sessionStorage.getItem(pm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function zc(e){try{e==null?sessionStorage.removeItem(pm):sessionStorage.setItem(pm,String(e))}catch{}}function Ix(e){const a=Bx();if(e==null)return!1;if(a===null||a===e)return Db(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Cl||c===Kc||c===Yi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Db(e),zc(null),!0}function iE(e){const a=qx();if(e==null)return!1;if(a===null||a===e)return zc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Cl||c===Kc||c===Yi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return zc(e),!0}function oE(){try{localStorage.removeItem(Tx),localStorage.removeItem(Dx),localStorage.removeItem(J1)}catch{}finally{try{window.dispatchEvent(new Event(W1))}catch{}}try{sessionStorage.removeItem(Kc),sessionStorage.removeItem(Cl)}catch{}}let zb=!1;async function Fx(e){if(!zb){zb=!0;try{await Ki()}finally{oE();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(aE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const _c=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401)return!0;const l=e?.response?.data?.detail;return!!(typeof l=="string"&&/token requerido/i.test(l))},Mf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},cE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:Mf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:Mf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:Mf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},uE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const m=c.toString(),h=p=>`${p}${m?`?${m}`:""}${l??""}`;let g=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??Ux();p&&(g=h(`/oi/${p}`))}return g},dE=(e,a,s,l,c)=>{try{window.dispatchEvent(new CustomEvent(eE,{detail:{status:a,detail:e,url:s,method:l,pending:c}}))}catch{}};Ge.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&_c(e)){const m=cE(e);m&&rE(m),dE(l,a,s,c,m);const h=uE(m),g=K1(),p=g.bankId??X1(),v=m?.oiId??Ux();if(g.userId&&p!=null&&v){const x=m?.type==="save_bancada"?{type:"bancada",bancadaId:m.bancadaId??null,isNew:m.bancadaId==null}:void 0;Q1({userId:g.userId,bankId:p,oiId:v,returnTo:h,modal:x})}await Fx({returnTo:h,pending:!!m})}return Promise.reject(e)});const Qm=async()=>{const{data:e}=await Ge.get("/catalogs");return e},Xc="medileser.selectedBank",Mc="medileser:selectedBank";function wa(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function xl(e){return wa(e)==="technician"}function Pm(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function Li(){try{const e=localStorage.getItem(Xc);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function $x(e){try{localStorage.setItem(Xc,String(e))}finally{window.dispatchEvent(new Event(Mc))}}function Hx(){try{localStorage.removeItem(Xc)}finally{window.dispatchEvent(new Event(Mc))}}function fE(e){const a=()=>e(),s=l=>{l.key===Xc&&e()};return window.addEventListener(Mc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Mc,a),window.removeEventListener("storage",s)}}async function mE(e,a){try{await Ge.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function hE(e){try{await Ki();const{data:a}=await Ge.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),Ix(a.userId??null),!xl(a.role)&&a.bancoId!=null&&zc(a.bancoId),xl(a.role)?Hx():$x(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(c)}}function Rn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:wa(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function Vx(e){await Ki();const{data:a}=await Ge.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),Ix(a.userId??null),iE(e),$x(e),a}function Zx(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),Hx();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function pE(){await Ki(),Zx()}function Bi({label:e,inputId:a,className:s="",inputRef:l,helpText:c,...d}){const[m,h]=b.useState(!1),g=a||d.name||void 0,{ref:p,...v}=d,x=l??p;return o.jsxs("div",{className:s,children:[e&&o.jsx("label",{className:"form-label",htmlFor:g,children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("input",{...v,id:g,type:m?"text":"password",className:"form-control",ref:x}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(N=>!N),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:o.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),c&&o.jsx("div",{className:"form-text",children:c})]})}function Ol({show:e=!0,label:a="Cargando..."}){return e?o.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[o.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),o.jsx("span",{className:"visually-hidden",children:a})]}):null}const Gx=b.createContext(null);function gE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function yE({children:e}){const[a,s]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:g=3500,...p}=d,v={id:m,kind:h,duration:g,...p};s(x=>[...x,v]),window.setTimeout(()=>{s(x=>x.filter(N=>N.id!==m))},g)},[]),c=d=>s(m=>m.filter(h=>h.id!==d));return o.jsxs(Gx.Provider,{value:{push:l},children:[e,o.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>o.jsx("div",{className:`toast show align-items-center text-bg-${gE(d.kind)} border-0 mb-2`,role:"alert",children:o.jsxs("div",{className:"d-flex",children:[o.jsxs("div",{className:"toast-body",children:[d.title&&o.jsx("strong",{className:"me-2",children:d.title}),d.message]}),o.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function Ar(){const e=b.useContext(Gx);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function bE(){const{register:e,handleSubmit:a}=Vc({defaultValues:{username:"",password:""}}),{toast:s}=Ar(),l=new URLSearchParams(window.location.search),c=l.get("returnTo")??"",d=c.startsWith("/")?c:"/home",m=l.get("pending")==="1",[h,g]=b.useState(!1),p=b.useRef(d),[v,x]=b.useState(!1),[N,q]=b.useState(0),[_,j]=b.useState(!1),{data:A,isLoading:B,error:T,refetch:J}=Nr({queryKey:["catalogs"],queryFn:Qm,enabled:v}),k=A?.bancos??[];b.useEffect(()=>{const ie=sE();ie&&s({kind:"error",message:ie})},[s]),b.useEffect(()=>{v&&(N>0||k.length>0&&q(k[0].id))},[N,k,v]);const O=async ie=>{try{g(!0);const Ne=Bx(),xe=await hE(ie),fe=Ne!=null&&xe.userId&&Ne!==xe.userId,ve=fm(xe.userId,xe.bancoId??0);if(ve.target?p.current=ve.target:m||fe?p.current="/home":p.current=d,xl(xe.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(Ne){const xe=Ne?.message??Ne?.response?.data?.detail??(typeof Ne=="string"?Ne:"Error de autenticacin");s({kind:"error",title:"Login",message:String(xe)})}finally{g(!1)}},$=N>0&&!_&&!B,U=async()=>{if($)try{j(!0);const ie=qx(),Ne=ie!=null&&ie!==N,xe=await Vx(N),fe=fm(xe.userId,xe.bancoId??N);fe.target?p.current=fe.target:(m||Ne)&&(p.current="/home"),window.location.replace(p.current)}catch(ie){const Ne=ie?.response?.data?.detail??ie?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(Ne)})}finally{j(!1)}},Y=()=>{Zx(),x(!1),q(0)};return o.jsxs("div",{className:"vi-login",children:[o.jsx(Ol,{show:h||_,label:_?"Guardando banco...":"Validando credenciales..."}),o.jsxs("div",{className:"vi-login__split",children:[o.jsx("section",{className:"vi-login__left",children:o.jsx("div",{className:"text-center text-md-start",children:o.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),o.jsx("section",{className:"vi-login__right",children:o.jsx("div",{className:"card shadow-sm vi-login__card",children:o.jsxs("div",{className:"card-body p-4 p-md-5",children:[o.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),o.jsxs("form",{onSubmit:a(O),className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),o.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),o.jsx("div",{className:"col-md-6",children:o.jsx(Bi,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),o.jsx("div",{className:"col-12 d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||v,"aria-busy":h?"true":"false",children:h?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),v&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:N||"",onChange:ie=>q(Number(ie.target.value)),disabled:B||_,children:k.map(ie=>o.jsx("option",{value:ie.id,children:ie.name},ie.id))}),T?o.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>J(),children:"Reintentar"})]}):null]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Y,disabled:_,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!$,onClick:U,children:_?"Guardando...":"Continuar"})]})]})})})]})}const Mb=(e,a,s)=>{if(e&&"reportValidity"in e){const l=Be(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},gm=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?Mb(l.ref,s,e):l&&l.refs&&l.refs.forEach(c=>Mb(c,s,e))}},kb=(e,a)=>{a.shouldUseNativeValidation&&gm(e,a);const s={};for(const l in e){const c=Be(a.fields,l),d=Object.assign(e[l]||{},{ref:c&&c.ref});if(vE(a.names||Object.keys(e),l)){const m=Object.assign({},Be(s,l));_t(m,"root",d),_t(s,l,m)}else _t(s,l,d)}return s},vE=(e,a)=>{const s=Ub(a);return e.some(l=>Ub(l).match(`^${s}\\.\\d+`))};function Ub(e){return e.replace(/\]|\[/g,"")}function Se(e,a,s){function l(h,g){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,g);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=g}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function m(h){var g;const p=s?.Parent?new d:this;l(p,h),(g=p._zod).deferred??(g.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class yl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Qx extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const Px={};function _r(e){return Px}function xE(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,c])=>a.indexOf(+l)===-1).map(([l,c])=>c)}function ym(e,a){return typeof a=="bigint"?a.toString():a}function Ym(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Km(e){return e==null}function Xm(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function SE(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let c=(l.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(l)){const g=l.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const d=s>c?s:c,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const Lb=Symbol("evaluating");function Mt(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==Lb)return l===void 0&&(l=Lb,l=s()),l},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function Cr(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Or(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function Bb(e){return JSON.stringify(e)}const Yx="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function kc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const NE=Ym(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function qi(e){if(kc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(kc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function Kx(e){return qi(e)?{...e}:Array.isArray(e)?[...e]:e}const wE=new Set(["string","number","symbol"]);function Jc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gs(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function Ye(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function _E(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const jE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function EE(e,a){const s=e._zod.def,l=Or(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return Cr(this,"shape",c),c},checks:[]});return Gs(e,l)}function AE(e,a){const s=e._zod.def,l=Or(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return Cr(this,"shape",c),c},checks:[]});return Gs(e,l)}function CE(e,a){if(!qi(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Or(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Cr(this,"shape",d),d},checks:[]});return Gs(e,c)}function OE(e,a){if(!qi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Cr(this,"shape",l),l},checks:e._zod.def.checks};return Gs(e,s)}function RE(e,a){const s=Or(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Cr(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Gs(e,s)}function TE(e,a,s){const l=Or(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in c))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=e?new e({type:"optional",innerType:c[m]}):c[m])}else for(const m in c)d[m]=e?new e({type:"optional",innerType:c[m]}):c[m];return Cr(this,"shape",d),d},checks:[]});return Gs(a,l)}function DE(e,a,s){const l=Or(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=new e({type:"nonoptional",innerType:c[m]}))}else for(const m in c)d[m]=new e({type:"nonoptional",innerType:c[m]});return Cr(this,"shape",d),d},checks:[]});return Gs(a,l)}function pl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function Xx(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function hc(e){return typeof e=="string"?e:e?.message}function jr(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const c=hc(e.inst?._zod.def?.error?.(e))??hc(a?.error?.(e))??hc(s.customError?.(e))??hc(s.localeError?.(e))??"Invalid input";l.message=c}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function Jm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ii(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const Jx=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,ym,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Wm=Se("$ZodError",Jx),Wc=Se("$ZodError",Jx,{Parent:Error});function zE(e,a=s=>s.message){const s={},l=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):l.push(a(c));return{formErrors:l,fieldErrors:s}}function ME(e,a=s=>s.message){const s={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let m=s,h=0;for(;h<d.path.length;){const g=d.path[h];h===d.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(a(d))):m[g]=m[g]||{_errors:[]},m=m[g],h++}}};return l(e),s}const eu=e=>(a,s,l,c)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise)throw new yl;if(m.issues.length){const h=new(c?.Err??e)(m.issues.map(g=>jr(g,d,_r())));throw Yx(h,c?.callee),h}return m.value},kE=eu(Wc),tu=e=>async(a,s,l,c)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(c?.Err??e)(m.issues.map(g=>jr(g,d,_r())));throw Yx(h,c?.callee),h}return m.value},UE=tu(Wc),nu=e=>(a,s,l)=>{const c=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new yl;return d.issues.length?{success:!1,error:new(e??Wm)(d.issues.map(m=>jr(m,c,_r())))}:{success:!0,data:d.value}},LE=nu(Wc),au=e=>async(a,s,l)=>{const c=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>jr(m,c,_r())))}:{success:!0,data:d.value}},BE=au(Wc),qE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return eu(e)(a,s,c)},IE=e=>(a,s,l)=>eu(e)(a,s,l),FE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return tu(e)(a,s,c)},$E=e=>async(a,s,l)=>tu(e)(a,s,l),HE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return nu(e)(a,s,c)},VE=e=>(a,s,l)=>nu(e)(a,s,l),ZE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return au(e)(a,s,c)},GE=e=>async(a,s,l)=>au(e)(a,s,l),QE=/^[cC][^\s-]{8,}$/,PE=/^[0-9a-z]+$/,YE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,KE=/^[0-9a-vA-V]{20}$/,XE=/^[A-Za-z0-9]{27}$/,JE=/^[a-zA-Z0-9_-]{21}$/,WE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,eA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,qb=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,tA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,nA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function aA(){return new RegExp(nA,"u")}const sA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,lA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,iA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Wx=/^[A-Za-z0-9_-]*$/,cA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,uA=/^\+(?:[0-9]){6,14}[0-9]$/,e0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dA=new RegExp(`^${e0}$`);function t0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function fA(e){return new RegExp(`^${t0(e)}$`)}function mA(e){const a=t0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${e0}T(?:${l})$`)}const hA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},pA=/^-?\d+$/,gA=/^-?\d+(?:\.\d+)?/,yA=/^[^A-Z]*$/,bA=/^[^a-z]*$/,na=Se("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),n0={number:"number",bigint:"bigint",object:"date"},a0=Se("$ZodCheckLessThan",(e,a)=>{na.init(e,a);const s=n0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),s0=Se("$ZodCheckGreaterThan",(e,a)=>{na.init(e,a);const s=n0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),vA=Se("$ZodCheckMultipleOf",(e,a)=>{na.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):SE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),xA=Se("$ZodCheckNumberFormat",(e,a)=>{na.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[c,d]=jE[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=pA)}),e._zod.check=m=>{const h=m.value;if(s){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<c&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),SA=Se("$ZodCheckMaxLength",(e,a)=>{var s;na.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Km(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const c=l.value;if(c.length<=a.maximum)return;const m=Jm(c);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),NA=Se("$ZodCheckMinLength",(e,a)=>{var s;na.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Km(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const c=l.value;if(c.length>=a.minimum)return;const m=Jm(c);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),wA=Se("$ZodCheckLengthEquals",(e,a)=>{var s;na.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Km(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=l=>{const c=l.value,d=c.length;if(d===a.length)return;const m=Jm(c),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),su=Se("$ZodCheckStringFormat",(e,a)=>{var s,l;na.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),_A=Se("$ZodCheckRegex",(e,a)=>{su.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),jA=Se("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=yA),su.init(e,a)}),EA=Se("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=bA),su.init(e,a)}),AA=Se("$ZodCheckIncludes",(e,a)=>{na.init(e,a);const s=Jc(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),CA=Se("$ZodCheckStartsWith",(e,a)=>{na.init(e,a);const s=new RegExp(`^${Jc(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),OA=Se("$ZodCheckEndsWith",(e,a)=>{na.init(e,a);const s=new RegExp(`.*${Jc(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),RA=Se("$ZodCheckOverwrite",(e,a)=>{na.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class TA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),c=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(c)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const DA={major:4,minor:1,patch:12},un=Se("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=DA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const c of l)for(const d of c._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(m,h,g)=>{let p=pl(m),v;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(m))continue}else if(p)continue;const N=m.issues.length,q=x._zod.check(m);if(q instanceof Promise&&g?.async===!1)throw new yl;if(v||q instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await q,m.issues.length!==N&&(p||(p=pl(m,N)))});else{if(m.issues.length===N)continue;p||(p=pl(m,N))}}return v?v.then(()=>m):m},d=(m,h,g)=>{if(pl(m))return m.aborted=!0,m;const p=c(h,l,g);if(p instanceof Promise){if(g.async===!1)throw new yl;return p.then(v=>e._zod.parse(v,g))}return e._zod.parse(p,g)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const g=e._zod.parse(m,h);if(g instanceof Promise){if(h.async===!1)throw new yl;return g.then(p=>c(p,l,h))}return c(g,l,h)}}e["~standard"]={validate:c=>{try{const d=LE(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return BE(e,c).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),eh=Se("$ZodString",(e,a)=>{un.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??hA(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Ht=Se("$ZodStringFormat",(e,a)=>{su.init(e,a),eh.init(e,a)}),zA=Se("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=eA),Ht.init(e,a)}),MA=Se("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=qb(l))}else a.pattern??(a.pattern=qb());Ht.init(e,a)}),kA=Se("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=tA),Ht.init(e,a)}),UA=Se("$ZodURL",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),c=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:cA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),LA=Se("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=aA()),Ht.init(e,a)}),BA=Se("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=JE),Ht.init(e,a)}),qA=Se("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=QE),Ht.init(e,a)}),IA=Se("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=PE),Ht.init(e,a)}),FA=Se("$ZodULID",(e,a)=>{a.pattern??(a.pattern=YE),Ht.init(e,a)}),$A=Se("$ZodXID",(e,a)=>{a.pattern??(a.pattern=KE),Ht.init(e,a)}),HA=Se("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=XE),Ht.init(e,a)}),VA=Se("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=mA(a)),Ht.init(e,a)}),ZA=Se("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=dA),Ht.init(e,a)}),GA=Se("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=fA(a)),Ht.init(e,a)}),QA=Se("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=WE),Ht.init(e,a)}),PA=Se("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=sA),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),YA=Se("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=rA),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),KA=Se("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=lA),Ht.init(e,a)}),XA=Se("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=iA),Ht.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[c,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function r0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const JA=Se("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=oA),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{r0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function WA(e){if(!Wx.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return r0(s)}const eC=Se("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=Wx),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{WA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),tC=Se("$ZodE164",(e,a)=>{a.pattern??(a.pattern=uA),Ht.init(e,a)});function nC(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const c=JSON.parse(atob(l));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const aC=Se("$ZodJWT",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{nC(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),l0=Se("$ZodNumber",(e,a)=>{un.init(e,a),e._zod.pattern=e._zod.bag.pattern??gA,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),sC=Se("$ZodNumber",(e,a)=>{xA.init(e,a),l0.init(e,a)}),rC=Se("$ZodUnknown",(e,a)=>{un.init(e,a),e._zod.parse=s=>s}),lC=Se("$ZodNever",(e,a)=>{un.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function Ib(e,a,s){e.issues.length&&a.issues.push(...Xx(s,e.issues)),a.value[s]=e.value}const iC=Se("$ZodArray",(e,a)=>{un.init(e,a),e._zod.parse=(s,l)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let m=0;m<c.length;m++){const h=c[m],g=a.element._zod.run({value:h,issues:[]},l);g instanceof Promise?d.push(g.then(p=>Ib(p,s,m))):Ib(g,s,m)}return d.length?Promise.all(d).then(()=>s):s}});function Uc(e,a,s,l){e.issues.length&&a.issues.push(...Xx(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function i0(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=_E(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function o0(e,a,s,l,c,d){const m=[],h=c.keySet,g=c.catchall._zod,p=g.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const x=g.run({value:a[v],issues:[]},l);x instanceof Promise?e.push(x.then(N=>Uc(N,s,v,a))):Uc(x,s,v,a)}return m.length&&s.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const oC=Se("$ZodObject",(e,a)=>{if(un.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const g={...h};return Object.defineProperty(a,"shape",{value:g}),g}})}const l=Ym(()=>i0(a));Mt(e._zod,"propValues",()=>{const h=a.shape,g={};for(const p in h){const v=h[p]._zod;if(v.values){g[p]??(g[p]=new Set);for(const x of v.values)g[p].add(x)}}return g});const c=kc,d=a.catchall;let m;e._zod.parse=(h,g)=>{m??(m=l.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],x=m.shape;for(const N of m.keys){const _=x[N]._zod.run({value:p[N],issues:[]},g);_ instanceof Promise?v.push(_.then(j=>Uc(j,h,N,p))):Uc(_,h,N,p)}return d?o0(v,p,h,g,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),cC=Se("$ZodObjectJIT",(e,a)=>{oC.init(e,a);const s=e._zod.parse,l=Ym(()=>i0(a)),c=N=>{const q=new TA(["shape","payload","ctx"]),_=l.value,j=J=>{const k=Bb(J);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};q.write("const input = payload.value;");const A=Object.create(null);let B=0;for(const J of _.keys)A[J]=`key_${B++}`;q.write("const newResult = {};");for(const J of _.keys){const k=A[J],O=Bb(J);q.write(`const ${k} = ${j(J)};`),q.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${k}.value;
        }
        
      `)}q.write("payload.value = newResult;"),q.write("return payload;");const T=q.compile();return(J,k)=>T(N,J,k)};let d;const m=kc,h=!Px.jitless,p=h&&NE.value,v=a.catchall;let x;e._zod.parse=(N,q)=>{x??(x=l.value);const _=N.value;return m(_)?h&&p&&q?.async===!1&&q.jitless!==!0?(d||(d=c(a.shape)),N=d(N,q),v?o0([],_,N,q,x,e):N):s(N,q):(N.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),N)}});function Fb(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!pl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(m=>jr(m,l,_r())))}),a)}const uC=Se("$ZodUnion",(e,a)=>{un.init(e,a),Mt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Mt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Mt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Mt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>Xm(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return l(c,d);let m=!1;const h=[];for(const g of a.options){const p=g._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(g=>Fb(g,c,e,d)):Fb(h,c,e,d)}}),dC=Se("$ZodIntersection",(e,a)=>{un.init(e,a),e._zod.parse=(s,l)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},l),m=a.right._zod.run({value:c,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([g,p])=>$b(s,g,p)):$b(s,d,m)}});function bm(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(qi(e)&&qi(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of l){const m=bm(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};c[d]=m.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const c=e[l],d=a[l],m=bm(c,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};s.push(m.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function $b(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),pl(e))return e;const l=bm(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const fC=Se("$ZodEnum",(e,a)=>{un.init(e,a);const s=xE(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(c=>wE.has(typeof c)).map(c=>typeof c=="string"?Jc(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const m=c.value;return l.has(m)||c.issues.push({code:"invalid_value",values:s,input:m,inst:e}),c}}),mC=Se("$ZodTransform",(e,a)=>{un.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Qx(e.constructor.name);const c=a.transform(s.value,s);if(l.async)return(c instanceof Promise?c:Promise.resolve(c)).then(m=>(s.value=m,s));if(c instanceof Promise)throw new yl;return s.value=c,s}});function Hb(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const hC=Se("$ZodOptional",(e,a)=>{un.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Xm(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Hb(d,s.value)):Hb(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),pC=Se("$ZodNullable",(e,a)=>{un.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Xm(s.source)}|null)$`):void 0}),Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),gC=Se("$ZodDefault",(e,a)=>{un.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Vb(d,a)):Vb(c,a)}});function Vb(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const yC=Se("$ZodPrefault",(e,a)=>{un.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),bC=Se("$ZodNonOptional",(e,a)=>{un.init(e,a),Mt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Zb(d,e)):Zb(c,e)}});function Zb(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const vC=Se("$ZodCatch",(e,a)=>{un.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(m=>jr(m,l,_r()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>jr(d,l,_r()))},input:s.value}),s.issues=[]),s)}}),xC=Se("$ZodPipe",(e,a)=>{un.init(e,a),Mt(e._zod,"values",()=>a.in._zod.values),Mt(e._zod,"optin",()=>a.in._zod.optin),Mt(e._zod,"optout",()=>a.out._zod.optout),Mt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(m=>pc(m,a.in,l)):pc(d,a.in,l)}const c=a.in._zod.run(s,l);return c instanceof Promise?c.then(d=>pc(d,a.out,l)):pc(c,a.out,l)}});function pc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const SC=Se("$ZodReadonly",(e,a)=>{un.init(e,a),Mt(e._zod,"propValues",()=>a.innerType._zod.propValues),Mt(e._zod,"values",()=>a.innerType._zod.values),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(Gb):Gb(c)}});function Gb(e){return e.value=Object.freeze(e.value),e}const NC=Se("$ZodCustom",(e,a)=>{na.init(e,a),un.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,c=a.fn(l);if(c instanceof Promise)return c.then(d=>Qb(d,s,l,e));Qb(c,s,l,e)}});function Qb(e,a,s,l){if(!e){const c={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(c.params=l._zod.def.params),a.issues.push(Ii(c))}}class wC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const c={...l,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function _C(){return new wC}const gc=_C();function jC(e,a){return new e({type:"string",...Ye(a)})}function EC(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ye(a)})}function Pb(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ye(a)})}function AC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ye(a)})}function CC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ye(a)})}function OC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ye(a)})}function RC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ye(a)})}function TC(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ye(a)})}function DC(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ye(a)})}function zC(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ye(a)})}function MC(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ye(a)})}function kC(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ye(a)})}function UC(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ye(a)})}function LC(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ye(a)})}function BC(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ye(a)})}function qC(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ye(a)})}function IC(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ye(a)})}function FC(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ye(a)})}function $C(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ye(a)})}function HC(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ye(a)})}function VC(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ye(a)})}function ZC(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ye(a)})}function GC(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ye(a)})}function QC(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ye(a)})}function PC(e,a){return new e({type:"string",format:"date",check:"string_format",...Ye(a)})}function YC(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ye(a)})}function KC(e,a){return new e({type:"string",format:"duration",check:"string_format",...Ye(a)})}function XC(e,a){return new e({type:"number",checks:[],...Ye(a)})}function JC(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ye(a)})}function WC(e){return new e({type:"unknown"})}function eO(e,a){return new e({type:"never",...Ye(a)})}function Yb(e,a){return new a0({check:"less_than",...Ye(a),value:e,inclusive:!1})}function kf(e,a){return new a0({check:"less_than",...Ye(a),value:e,inclusive:!0})}function Kb(e,a){return new s0({check:"greater_than",...Ye(a),value:e,inclusive:!1})}function Uf(e,a){return new s0({check:"greater_than",...Ye(a),value:e,inclusive:!0})}function Xb(e,a){return new vA({check:"multiple_of",...Ye(a),value:e})}function c0(e,a){return new SA({check:"max_length",...Ye(a),maximum:e})}function Lc(e,a){return new NA({check:"min_length",...Ye(a),minimum:e})}function u0(e,a){return new wA({check:"length_equals",...Ye(a),length:e})}function tO(e,a){return new _A({check:"string_format",format:"regex",...Ye(a),pattern:e})}function nO(e){return new jA({check:"string_format",format:"lowercase",...Ye(e)})}function aO(e){return new EA({check:"string_format",format:"uppercase",...Ye(e)})}function sO(e,a){return new AA({check:"string_format",format:"includes",...Ye(a),includes:e})}function rO(e,a){return new CA({check:"string_format",format:"starts_with",...Ye(a),prefix:e})}function lO(e,a){return new OA({check:"string_format",format:"ends_with",...Ye(a),suffix:e})}function Xi(e){return new RA({check:"overwrite",tx:e})}function iO(e){return Xi(a=>a.normalize(e))}function oO(){return Xi(e=>e.trim())}function cO(){return Xi(e=>e.toLowerCase())}function uO(){return Xi(e=>e.toUpperCase())}function dO(e,a,s){return new e({type:"array",element:a,...Ye(s)})}function fO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...Ye(s)})}function mO(e){const a=hO(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push(Ii(l,s.value,a._zod.def));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(Ii(c))}},e(s.value,s)));return a}function hO(e,a){const s=new na({check:"custom",...Ye(a)});return s._zod.check=e,s}function Jb(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function pO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),a){var g=s[m].types,p=g&&g[l.code];s[m]=qm(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function gO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(x){return e.push(x)})}),a){var g=s[m].types,p=g&&g[l.code];s[m]=qm(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function yO(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,c,d){try{return Promise.resolve(Jb(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&gm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:kb(pO(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,c,d){try{return Promise.resolve(Jb(function(){return Promise.resolve((s.mode==="sync"?kE:UE)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&gm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof Wm})(m))return{values:{},errors:kb(gO(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const bO=Se("ZodISODateTime",(e,a)=>{VA.init(e,a),Zt.init(e,a)});function vO(e){return QC(bO,e)}const xO=Se("ZodISODate",(e,a)=>{ZA.init(e,a),Zt.init(e,a)});function SO(e){return PC(xO,e)}const NO=Se("ZodISOTime",(e,a)=>{GA.init(e,a),Zt.init(e,a)});function wO(e){return YC(NO,e)}const _O=Se("ZodISODuration",(e,a)=>{QA.init(e,a),Zt.init(e,a)});function jO(e){return KC(_O,e)}const EO=(e,a)=>{Wm.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>ME(e,s)},flatten:{value:s=>zE(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,ym,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,ym,2)}},isEmpty:{get(){return e.issues.length===0}}})},Aa=Se("ZodError",EO,{Parent:Error}),AO=eu(Aa),CO=tu(Aa),OO=nu(Aa),RO=au(Aa),TO=qE(Aa),DO=IE(Aa),zO=FE(Aa),MO=$E(Aa),kO=HE(Aa),UO=VE(Aa),LO=ZE(Aa),BO=GE(Aa),pn=Se("ZodType",(e,a)=>(un.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Or(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Gs(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>AO(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>OO(e,s,l),e.parseAsync=async(s,l)=>CO(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>RO(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>TO(e,s,l),e.decode=(s,l)=>DO(e,s,l),e.encodeAsync=async(s,l)=>zO(e,s,l),e.decodeAsync=async(s,l)=>MO(e,s,l),e.safeEncode=(s,l)=>kO(e,s,l),e.safeDecode=(s,l)=>UO(e,s,l),e.safeEncodeAsync=async(s,l)=>LO(e,s,l),e.safeDecodeAsync=async(s,l)=>BO(e,s,l),e.refine=(s,l)=>e.check(AR(s,l)),e.superRefine=s=>e.check(CR(s)),e.overwrite=s=>e.check(Xi(s)),e.optional=()=>nv(e),e.nullable=()=>av(e),e.nullish=()=>nv(av(e)),e.nonoptional=s=>xR(e,s),e.array=()=>m0(e),e.or=s=>uR([e,s]),e.and=s=>fR(e,s),e.transform=s=>sv(e,hR(s)),e.default=s=>yR(e,s),e.prefault=s=>vR(e,s),e.catch=s=>NR(e,s),e.pipe=s=>sv(e,s),e.readonly=()=>jR(e),e.describe=s=>{const l=e.clone();return gc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return gc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return gc.get(e);const l=e.clone();return gc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),d0=Se("_ZodString",(e,a)=>{eh.init(e,a),pn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(tO(...l)),e.includes=(...l)=>e.check(sO(...l)),e.startsWith=(...l)=>e.check(rO(...l)),e.endsWith=(...l)=>e.check(lO(...l)),e.min=(...l)=>e.check(Lc(...l)),e.max=(...l)=>e.check(c0(...l)),e.length=(...l)=>e.check(u0(...l)),e.nonempty=(...l)=>e.check(Lc(1,...l)),e.lowercase=l=>e.check(nO(l)),e.uppercase=l=>e.check(aO(l)),e.trim=()=>e.check(oO()),e.normalize=(...l)=>e.check(iO(...l)),e.toLowerCase=()=>e.check(cO()),e.toUpperCase=()=>e.check(uO())}),qO=Se("ZodString",(e,a)=>{eh.init(e,a),d0.init(e,a),e.email=s=>e.check(EC(IO,s)),e.url=s=>e.check(TC(FO,s)),e.jwt=s=>e.check(GC(nR,s)),e.emoji=s=>e.check(DC($O,s)),e.guid=s=>e.check(Pb(Wb,s)),e.uuid=s=>e.check(AC(yc,s)),e.uuidv4=s=>e.check(CC(yc,s)),e.uuidv6=s=>e.check(OC(yc,s)),e.uuidv7=s=>e.check(RC(yc,s)),e.nanoid=s=>e.check(zC(HO,s)),e.guid=s=>e.check(Pb(Wb,s)),e.cuid=s=>e.check(MC(VO,s)),e.cuid2=s=>e.check(kC(ZO,s)),e.ulid=s=>e.check(UC(GO,s)),e.base64=s=>e.check(HC(WO,s)),e.base64url=s=>e.check(VC(eR,s)),e.xid=s=>e.check(LC(QO,s)),e.ksuid=s=>e.check(BC(PO,s)),e.ipv4=s=>e.check(qC(YO,s)),e.ipv6=s=>e.check(IC(KO,s)),e.cidrv4=s=>e.check(FC(XO,s)),e.cidrv6=s=>e.check($C(JO,s)),e.e164=s=>e.check(ZC(tR,s)),e.datetime=s=>e.check(vO(s)),e.date=s=>e.check(SO(s)),e.time=s=>e.check(wO(s)),e.duration=s=>e.check(jO(s))});function Bc(e){return jC(qO,e)}const Zt=Se("ZodStringFormat",(e,a)=>{Ht.init(e,a),d0.init(e,a)}),IO=Se("ZodEmail",(e,a)=>{kA.init(e,a),Zt.init(e,a)}),Wb=Se("ZodGUID",(e,a)=>{zA.init(e,a),Zt.init(e,a)}),yc=Se("ZodUUID",(e,a)=>{MA.init(e,a),Zt.init(e,a)}),FO=Se("ZodURL",(e,a)=>{UA.init(e,a),Zt.init(e,a)}),$O=Se("ZodEmoji",(e,a)=>{LA.init(e,a),Zt.init(e,a)}),HO=Se("ZodNanoID",(e,a)=>{BA.init(e,a),Zt.init(e,a)}),VO=Se("ZodCUID",(e,a)=>{qA.init(e,a),Zt.init(e,a)}),ZO=Se("ZodCUID2",(e,a)=>{IA.init(e,a),Zt.init(e,a)}),GO=Se("ZodULID",(e,a)=>{FA.init(e,a),Zt.init(e,a)}),QO=Se("ZodXID",(e,a)=>{$A.init(e,a),Zt.init(e,a)}),PO=Se("ZodKSUID",(e,a)=>{HA.init(e,a),Zt.init(e,a)}),YO=Se("ZodIPv4",(e,a)=>{PA.init(e,a),Zt.init(e,a)}),KO=Se("ZodIPv6",(e,a)=>{YA.init(e,a),Zt.init(e,a)}),XO=Se("ZodCIDRv4",(e,a)=>{KA.init(e,a),Zt.init(e,a)}),JO=Se("ZodCIDRv6",(e,a)=>{XA.init(e,a),Zt.init(e,a)}),WO=Se("ZodBase64",(e,a)=>{JA.init(e,a),Zt.init(e,a)}),eR=Se("ZodBase64URL",(e,a)=>{eC.init(e,a),Zt.init(e,a)}),tR=Se("ZodE164",(e,a)=>{tC.init(e,a),Zt.init(e,a)}),nR=Se("ZodJWT",(e,a)=>{aC.init(e,a),Zt.init(e,a)}),f0=Se("ZodNumber",(e,a)=>{l0.init(e,a),pn.init(e,a),e.gt=(l,c)=>e.check(Kb(l,c)),e.gte=(l,c)=>e.check(Uf(l,c)),e.min=(l,c)=>e.check(Uf(l,c)),e.lt=(l,c)=>e.check(Yb(l,c)),e.lte=(l,c)=>e.check(kf(l,c)),e.max=(l,c)=>e.check(kf(l,c)),e.int=l=>e.check(ev(l)),e.safe=l=>e.check(ev(l)),e.positive=l=>e.check(Kb(0,l)),e.nonnegative=l=>e.check(Uf(0,l)),e.negative=l=>e.check(Yb(0,l)),e.nonpositive=l=>e.check(kf(0,l)),e.multipleOf=(l,c)=>e.check(Xb(l,c)),e.step=(l,c)=>e.check(Xb(l,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function Bn(e){return XC(f0,e)}const aR=Se("ZodNumberFormat",(e,a)=>{sC.init(e,a),f0.init(e,a)});function ev(e){return JC(aR,e)}const sR=Se("ZodUnknown",(e,a)=>{rC.init(e,a),pn.init(e,a)});function tv(){return WC(sR)}const rR=Se("ZodNever",(e,a)=>{lC.init(e,a),pn.init(e,a)});function lR(e){return eO(rR,e)}const iR=Se("ZodArray",(e,a)=>{iC.init(e,a),pn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(Lc(s,l)),e.nonempty=s=>e.check(Lc(1,s)),e.max=(s,l)=>e.check(c0(s,l)),e.length=(s,l)=>e.check(u0(s,l)),e.unwrap=()=>e.element});function m0(e,a){return dO(iR,e,a)}const oR=Se("ZodObject",(e,a)=>{cC.init(e,a),pn.init(e,a),Mt(e,"shape",()=>a.shape),e.keyof=()=>h0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:tv()}),e.loose=()=>e.clone({...e._zod.def,catchall:tv()}),e.strict=()=>e.clone({...e._zod.def,catchall:lR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>CE(e,s),e.safeExtend=s=>OE(e,s),e.merge=s=>RE(e,s),e.pick=s=>EE(e,s),e.omit=s=>AE(e,s),e.partial=(...s)=>TE(p0,e,s[0]),e.required=(...s)=>DE(g0,e,s[0])});function ru(e,a){const s={type:"object",shape:e??{},...Ye(a)};return new oR(s)}const cR=Se("ZodUnion",(e,a)=>{uC.init(e,a),pn.init(e,a),e.options=a.options});function uR(e,a){return new cR({type:"union",options:e,...Ye(a)})}const dR=Se("ZodIntersection",(e,a)=>{dC.init(e,a),pn.init(e,a)});function fR(e,a){return new dR({type:"intersection",left:e,right:a})}const vm=Se("ZodEnum",(e,a)=>{fC.init(e,a),pn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,c)=>{const d={};for(const m of l)if(s.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new vm({...a,checks:[],...Ye(c),entries:d})},e.exclude=(l,c)=>{const d={...a.entries};for(const m of l)if(s.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new vm({...a,checks:[],...Ye(c),entries:d})}});function h0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new vm({type:"enum",entries:s,...Ye(a)})}const mR=Se("ZodTransform",(e,a)=>{mC.init(e,a),pn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Qx(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(Ii(d,s.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=s.value),m.inst??(m.inst=e),s.issues.push(Ii(m))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function hR(e){return new mR({type:"transform",transform:e})}const p0=Se("ZodOptional",(e,a)=>{hC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function nv(e){return new p0({type:"optional",innerType:e})}const pR=Se("ZodNullable",(e,a)=>{pC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function av(e){return new pR({type:"nullable",innerType:e})}const gR=Se("ZodDefault",(e,a)=>{gC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function yR(e,a){return new gR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():Kx(a)}})}const bR=Se("ZodPrefault",(e,a)=>{yC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function vR(e,a){return new bR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():Kx(a)}})}const g0=Se("ZodNonOptional",(e,a)=>{bC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function xR(e,a){return new g0({type:"nonoptional",innerType:e,...Ye(a)})}const SR=Se("ZodCatch",(e,a)=>{vC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function NR(e,a){return new SR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const wR=Se("ZodPipe",(e,a)=>{xC.init(e,a),pn.init(e,a),e.in=a.in,e.out=a.out});function sv(e,a){return new wR({type:"pipe",in:e,out:a})}const _R=Se("ZodReadonly",(e,a)=>{SC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function jR(e){return new _R({type:"readonly",innerType:e})}const ER=Se("ZodCustom",(e,a)=>{NC.init(e,a),pn.init(e,a)});function AR(e,a={}){return fO(ER,e,a)}function CR(e){return mO(e)}const OR=["correlativo","no correlativo"],RR=ru({oi:Bc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:Bn(),alcance:Bn(),pma:Bn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:h0(OR).default("correlativo")}),Lf=ru({c1:Bn().optional().nullable(),c2:Bn().optional().nullable(),c3:Bn().optional().nullable(),c4:Bn().optional().nullable(),c5:Bn().optional().nullable(),c6:Bn().optional().nullable(),c7:Bc().optional().nullable(),c7_seconds:Bn().optional().nullable(),caudal:Bn().optional().nullable(),error:Bn().optional().nullable()}),TR=ru({medidor:Bc().optional(),estado:Bn().int().min(0).max(5).default(0),q3:Lf.optional(),q2:Lf.optional(),q1:Lf.optional(),conformidad:Bc().optional()});ru({estado:Bn().int().min(0).optional(),rows:Bn().int().min(1).default(15),rowsData:m0(TR)});function DR(e){return e===16?25.6:e===10?16:NaN}const zR=/^[A-Za-z0-9]{10}$/,MR=e=>(e??"").trim().toUpperCase(),Kt=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},ul=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],xm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},rv=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}xm(a)}},Sn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function kR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],c=s[2],d=parseInt(c,10)+a;return`${l}${d.toString().padStart(c.length,"0")}`}function lv(e,a,s){return e?s==="no correlativo"?e.slice(0,4):kR(e,a):""}function Bf(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let l=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,m=s[2]||0;l=c*60+d+m/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),m=(c-d)*100;l=d*60+m}}return l}function qf(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function If(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function UR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const c=Math.abs(a),d=Math.abs(s),m=Math.abs(l),h=!(c>2.05||d>2.05||m>5.05),g=c<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(s),x=Math.sign(l),N=p>=0&&v>=0&&x>=0||p<=0&&v<=0&&x<=0,q=h&&g;return N?q?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const dl=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const c=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=s??l??0,h=l??s??0;let g="vi-e-ok";return e==null||isNaN(e)?g="":h>0&&d>h?g="vi-e-error":m>0&&d>m&&(g="vi-e-warn"),o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:`vi-qe-value fw-bold ${g}`,children:c(e)})})};function LR({show:e,title:a,initial:s,onClose:l,onSubmit:c,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:g,readOnly:p,draftStorageKey:v,draftMeta:x,isOnline:N,showRetry:q}){const _={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},j=p===!0,A=N!==!1,{register:B,control:T,handleSubmit:J,reset:k,setValue:O,getValues:$}=Vc({defaultValues:_}),U=B("rows",{valueAsNumber:!0}),{fields:Y,replace:ie,append:Ne,remove:xe}=dj({control:T,name:"rowsData"}),[fe,ve]=b.useState(0),De=b.useRef(0),Re=b.useRef(null),[M,I]=b.useState(0),W=0,ge=5,we=()=>{if(M>=ge){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}I(P=>Math.min(P+1,ge))},w=()=>{if(M<=W){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}I(P=>Math.max(P-1,W))},V=b.useRef(null),[ce,z]=b.useState([]),oe=!!s?.version,he=b.useRef("rows"),Te=b.useRef(null),qe=b.useRef(null),me=b.useRef(null),ke=b.useRef(new Map),Fe=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{s?.rowsData?.length&&Y.forEach((P,te)=>{if(te===0)return;s.rowsData[te]?.medidor&&ke.current.set(P.id,!0)})},[s,Y]);const _e=b.useCallback(P=>{const te=P<0?0:P;ve(te),requestAnimationFrame(()=>{const Ee=document.querySelector(`input.vi-medidor-input[data-row="${te}"]`);Ee&&(Ee.focus(),Ee.select())})},[]),Me=()=>($("rowsData")??[]).slice(0,Y.length);b.useEffect(()=>{De.current=fe},[fe]);const le=P=>{const te=P.target;if(!te)return;const Ee=te.tagName;if(Ee!=="INPUT"&&Ee!=="SELECT"&&Ee!=="TEXTAREA")return;const He=P.key;if(He==="Escape"){P.preventDefault(),Fn();return}if(He==="ArrowUp"||He==="ArrowDown"||He==="ArrowLeft"||He==="ArrowRight"||He==="Enter"){const gn=te.name;if(!gn||!gn.startsWith("rowsData."))return;const jt=gn.match(/^rowsData\.(\d+)\.(.+)$/);if(!jt)return;const ct=parseInt(jt[1],10),yt=jt[2],kt=P.currentTarget,dn=Y.length-1,wn=(yn,fn)=>{let qt=yn+fn;for(;qt>=0&&qt<=dn;){const Un=`[name="rowsData.${qt}.${yt}"]`,tn=kt.querySelector(Un);if(tn&&!tn.disabled)return{index:qt,el:tn};qt+=fn}return null};if(He==="ArrowUp"||He==="ArrowDown"){P.preventDefault();const fn=wn(ct,He==="ArrowUp"?-1:1);fn&&rv(yt,fn.el);return}if(He==="ArrowLeft"||He==="ArrowRight"){P.preventDefault();const yn=ul.indexOf(yt);if(yn===-1)return;const qt=yn+(He==="ArrowRight"?1:-1);if(qt<0||qt>=ul.length)return;const Un=ul[qt],tn=`[name="rowsData.${ct}.${Un}"]`,bn=kt.querySelector(tn);bn&&!bn.disabled&&xm(bn);return}if(He==="Enter"){P.preventDefault();const yn=ul.indexOf(yt);if(yn===-1)return;const fn=wn(ct,1);if(fn){rv(yt,fn.el);return}const qt=yn+1;if(qt<ul.length){const Un=ul[qt];for(let tn=0;tn<=dn;tn++){const bn=`[name="rowsData.${tn}.${Un}"]`,Hn=kt.querySelector(bn);if(Hn&&!Hn.disabled){xm(Hn);return}}}V.current&&V.current.focus();return}}if(He!=="Tab")return;const We=P.currentTarget,ot=Array.from(We.querySelectorAll("input, select, textarea")).filter(Rt=>!Rt.hasAttribute("disabled")),Qe=ot.indexOf(te);if(Qe===-1)return;if(He==="Tab"&&P.shiftKey){Qe>0&&(P.preventDefault(),ot[Qe-1].focus());return}const zt=Qe+1;if(zt<ot.length){P.preventDefault(),ot[zt].focus();return}V.current&&(P.preventDefault(),V.current.focus())},ze=(P,te)=>{ie(P),O("rows",P.length),ve(Ee=>P.length===0?0:typeof te=="number"?Math.max(0,Math.min(te,P.length-1)):Math.min(Ee,P.length-1))},de=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),$e=P=>P==null?"":typeof P=="number"?P:typeof P=="string"?P.replace(",","."):P,Ae=P=>{if(!P)return{};const te={...P};return["c1","c2","c3","c4","c5","c6"].forEach(Ee=>{te[Ee]=$e(te[Ee])}),te},Xe=()=>{const P=s?.rowsData?.length??s?.rows??15,te=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:P}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(Ee=>({medidor:Ee.medidor??"",estado:Ee.estado??0,q3:Ae(Ee.q3),q2:Ae(Ee.q2),q1:Ae(Ee.q1)}));return{rows:te.length,rowsData:te,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},C=b.useCallback(()=>{const P=$(),te=P.rowsData??[];return{estado:P.estado??0,rows:Number(P.rows??te.length),version:P.version??s?.version??null,rowsData:te,draftCreatedAt:P.draftCreatedAt??s?.draftCreatedAt??null,draftId:P.draftId??s?.draftId??null}},[$,s?.version,s?.draftCreatedAt,s?.draftId]),Z=P=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:P}:null,R=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,Q=P=>P==null||P===""||typeof P=="number"&&Number.isNaN(P),G=P=>P?Number(P.estado??0)!==0||P.medidor&&P.medidor.toString().trim()!==""?!0:Oe(P):!1,se=P=>(P.rowsData??[]).some(Ee=>G(Ee)),Oe=P=>{const te=[P.q3,P.q2,P.q1];for(const Ee of te)if(Ee){for(const He of Fe)if(!Q(Ee[He]))return!0}return!1},Le=P=>P?{...P,c4:null,c5:null}:{c4:null,c5:null},ne=P=>{if(!P)return P;const te={...P};return Q(te.c4)&&(te.c4=null),Q(te.c5)&&(te.c5=null),te},Ue=P=>{for(let te=0;te<P.length;te++){const Ee=P[te],He=Number(Ee.estado??0),We=He!==0;if(!G(Ee))continue;if(!Ee.medidor||Ee.medidor.toString().trim()==="")return`La fila ${te+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Qe=[{name:"Q3 (Nominal)",block:Ee.q3},{name:"Q2 (Transicin)",block:Ee.q2},{name:"Q1 (Mnimo)",block:Ee.q1}],Qt=Qe.some(({block:zt})=>zt&&Fe.some(Rt=>!Q(zt[Rt])));if(He===0&&!Qt)return`La fila ${te+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!We)for(const{name:zt,block:Rt}of Qe){if(!Rt||!Fe.some(ct=>!Q(Rt[ct])))continue;if(Fe.some(ct=>Q(Rt[ct])))return`La fila ${te+1} tiene datos incompletos en el bloque ${zt}. Completa todos los campos o elimina la fila.`}}return null},Ve=P=>P==null||P===""?null:String(P).replace(/\./g,","),it=P=>{if(!P)return{};const te={...P};return["c1","c2","c3","c4","c5","c6","c7"].forEach(Ee=>{te[Ee]=Ve(te[Ee])}),te},Xt=P=>{const te=[];let Ee=null;const He=(ot,Qe,Qt)=>{te[ot]||(te[ot]={}),te[ot][Qe]=Qt,Ee||(Ee=`Fila ${ot+1}: ${Qt}`)},We={};return P.forEach(ot=>{const Qe=(ot.medidor??"").trim();Qe&&(We[Qe]=(We[Qe]??0)+1)}),P.forEach((ot,Qe)=>{const Qt=ot.q3||{},zt=ot.q2||{},Rt=ot.q1||{},gn=Qt.c4,jt=Qt.c5,ct=zt.c4,yt=zt.c5,kt=Rt.c4,dn=Rt.c5;gn!=null&&jt!=null&&!Number.isNaN(gn)&&!Number.isNaN(jt)&&jt<gn&&He(Qe,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),ct!=null&&yt!=null&&!Number.isNaN(ct)&&!Number.isNaN(yt)&&yt<ct&&He(Qe,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),kt!=null&&dn!=null&&!Number.isNaN(kt)&&!Number.isNaN(dn)&&dn<kt&&He(Qe,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),jt!=null&&ct!=null&&!Number.isNaN(jt)&&!Number.isNaN(ct)&&ct<jt&&He(Qe,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),yt!=null&&kt!=null&&!Number.isNaN(yt)&&!Number.isNaN(kt)&&kt<yt&&He(Qe,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const wn=(ot.medidor??"").trim();wn&&We[wn]>1&&He(Qe,"medidor_dup","Serie de medidor repetida."),wn&&!zR.test(wn)&&He(Qe,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:te,firstMessage:Ee}},je=P=>{if(j)return;const te=(P.rowsData??[]).slice(0,Y.length),Ee=Ue(te);if(Ee){alert(Ee);return}const{rowErrors:He,firstMessage:We}=Xt(te);if(z(He),We){alert(We);return}const Qe=te.filter(G).map(zt=>{const Rt=Number(zt.estado??0),gn=Rt>=1&&Rt<=4,jt=Rt===5&&!Oe(zt),ct=gn||jt,yt=ne(zt.q3),kt=ne(zt.q2),dn=ne(zt.q1),wn=yn=>{if(ct){const fn=Le(yn);return it(fn)}return it(yn)};return{...zt,q3:wn(yt),q2:wn(kt),q1:wn(dn)}}),Qt={...P,rows:Qe.length,rowsData:Qe,version:P.version??s?.version??null};c(Qt)},Je=Ei({control:T,name:"rowsData.0"}),Gt=Ei({control:T,name:"rowsData"}),St=Ei({control:T,name:"rowsData.0.q3.c7"}),Nn=Ei({control:T,name:"rowsData.0.q2.c7"}),kn=Ei({control:T,name:"rowsData.0.q1.c7"});b.useEffect(()=>{Y[0]&&(O("rowsData.0.q3.c7_seconds",Bf(St)),O("rowsData.0.q2.c7_seconds",Bf(Nn)),O("rowsData.0.q1.c7_seconds",Bf(kn)))},[St,Nn,kn,O,Y]),b.useEffect(()=>{const P=Gt??[],{rowErrors:te}=Xt(P);z(te)},[Gt]),b.useEffect(()=>{if(!Je||Y.length<=1)return;const P=Gt??[];Y.forEach((te,Ee)=>{if(Ee===0)return;const He=te.id;(ke.current.get(He)??!1)||O(`rowsData.${Ee}.medidor`,lv(Je.medidor||"",Ee,m));const ot=P[Ee]?.estado;(ot==null||Number.isNaN(ot))&&O(`rowsData.${Ee}.estado`,Je.estado),O(`rowsData.${Ee}.q3.c1`,Je.q3?.c1??null),O(`rowsData.${Ee}.q3.c2`,Je.q3?.c2??null),O(`rowsData.${Ee}.q3.c3`,Je.q3?.c3??null),O(`rowsData.${Ee}.q3.c6`,Je.q3?.c6??null),O(`rowsData.${Ee}.q3.c7`,Je.q3?.c7??""),O(`rowsData.${Ee}.q3.c7_seconds`,Je.q3?.c7_seconds??null),O(`rowsData.${Ee}.q2.c1`,Je.q2?.c1??null),O(`rowsData.${Ee}.q2.c2`,Je.q2?.c2??null),O(`rowsData.${Ee}.q2.c3`,Je.q2?.c3??null),O(`rowsData.${Ee}.q2.c6`,Je.q2?.c6??null),O(`rowsData.${Ee}.q2.c7`,Je.q2?.c7??""),O(`rowsData.${Ee}.q2.c7_seconds`,Je.q2?.c7_seconds??null),O(`rowsData.${Ee}.q1.c1`,Je.q1?.c1??null),O(`rowsData.${Ee}.q1.c2`,Je.q1?.c2??null),O(`rowsData.${Ee}.q1.c3`,Je.q1?.c3??null),O(`rowsData.${Ee}.q1.c6`,Je.q1?.c6??null),O(`rowsData.${Ee}.q1.c7`,Je.q1?.c7??""),O(`rowsData.${Ee}.q1.c7_seconds`,Je.q1?.c7_seconds??null)})},[Je,Gt,Y,O,m]),b.useEffect(()=>{ve(P=>{const te=Math.max(Y.length-1,0);return P>te?te:P})},[Y.length]);const Pa=()=>{if(Y.length>=50){if(O("rows",50),_e(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){Re.current&&(Re.current.focus(),Re.current.select());return}return}Ne(de()),O("rows",Y.length+1),_e(Y.length)},aa=P=>{if(Y.length<=1)return;const te=Math.max(0,Math.min(P,Y.length-1));xe(te),O("rows",Math.max(Y.length-1,1)),_e(Math.max(0,te-(te===Y.length-1?1:0)))},st=()=>{Y.length<=1||(xe(Y.length-1),O("rows",Math.max(Y.length-1,1)),_e(Math.max(0,Y.length-2)))},Ca=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const P=Me();if(!P.length)return;const te=P.map(()=>de());ze(te,0),_e(0)},fa=()=>{let P=Number($("rows"));if((!Number.isFinite(P)||P<1)&&(P=1),P>50){const He=Me();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){O("rows",He.length),Re.current&&(Re.current.focus(),Re.current.select());return}P=50}const te=Me();if(P!==te.length&&!confirm(`La lista tendr ${P} filas. Quieres continuar?`)){O("rows",te.length),Re.current&&(Re.current.focus(),Re.current.select());return}if(P===te.length){O("rows",P);return}if(P>te.length){const He=Math.min(P,50)-te.length;if(He>0){const We=Array.from({length:He},()=>de()),ot=[...te,...We];ze(ot,fe),_e(te.length)}else O("rows",te.length);return}const Ee=te.slice(0,P);ze(Ee,Math.min(fe,P-1))},Oa=P=>{P.key==="Enter"&&(P.preventDefault(),fa(),_e(0))},Fn=()=>{const P=$(),te=document.activeElement;if(Re.current&&te===Re.current)he.current="rows",Te.current="rows";else if(te&&te instanceof HTMLElement){const Ee=te.getAttribute("name");Ee&&Ee.startsWith("rowsData.")?(he.current="grid",Te.current=Ee):(he.current="grid",Te.current=null)}else he.current="grid",Te.current=null;if(v){const Ee=C();if(!se(Ee))Hs(v),me.current=null;else{const He=Z(Ee);if(He){const We=JSON.stringify(He);Di(v,He,R()),me.current=We}}}d&&d(P),l()};b.useEffect(()=>{if(!e)return;const P=te=>{if(te.key==="Escape"){te.preventDefault(),Fn();return}if((te.key==="+"||te.key==="=")&&te.ctrlKey){te.preventDefault(),Pa();return}(te.key==="-"||te.key==="_")&&te.ctrlKey&&(te.preventDefault(),st())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,Pa,st,Fn]),b.useEffect(()=>{const P=Xe();k(P),ze(P.rowsData,0),ke.current.clear(),requestAnimationFrame(()=>{if(oe)_e(0);else if(Te.current){const te=document.querySelector(`[name="${Te.current}"]`);if(te){te.focus(),"select"in te&&te.select?.();return}_e(De.current||0)}else Re.current&&(Re.current.focus(),Re.current.select())})},[s,k,ie,_e,oe]),b.useEffect(()=>{if(!e||!v)return;const P=C();if(!se(P)){Hs(v),me.current=null;return}const te=Z(P);if(!te)return;const Ee=JSON.stringify(te);if(Ee!==me.current)return qe.current&&window.clearTimeout(qe.current),qe.current=window.setTimeout(()=>{Di(v,te,R()),me.current=Ee},400),()=>{qe.current&&window.clearTimeout(qe.current)}},[e,v,Gt,C]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(oe)_e(0);else if(Te.current){const P=document.querySelector(`[name="${Te.current}"]`);if(P){P.focus(),"select"in P&&P.select?.();return}_e(De.current||0)}else Re.current&&(Re.current.focus(),Re.current.select())})},[e,_e,oe]);const $n=ce.some(P=>P&&Object.values(P).some(Boolean));return e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:P=>{P.target===P.currentTarget&&Fn()},children:[o.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),o.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:o.jsx("div",{className:"modal-content",children:o.jsxs("form",{onSubmit:J(je),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close",onClick:Fn,"aria-label":"Close"})]}),o.jsx("fieldset",{disabled:j,children:o.jsxs("div",{className:"modal-body p-2",children:[!A&&o.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),o.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[o.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[o.jsx("label",{className:"form-label mb-1",children:"Filas"}),o.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...U,ref:P=>{Re.current=P,U.ref(P)},onBlur:fa,onKeyDown:Oa})]}),o.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Pa,children:"+ Agregar Fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:st,children:"- Quitar ltima fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ca,children:"Limpiar Todo"})]}),o.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:we,children:"Aumentar tamao"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:w,children:"Reducir tamao"})]}),o.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",fe+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),o.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:o.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${M}`,children:[o.jsxs("thead",{className:"table-light sticky-top z-1",children:[o.jsxs("tr",{children:[o.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),o.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),o.jsx("th",{style:{width:"90px"},children:"Estado"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),o.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),o.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),o.jsxs("tr",{style:{fontSize:"0.75rem"},children:[o.jsx("th",{className:"vi-row-index"}),o.jsx("th",{className:"vi-sticky-medidor"}),o.jsx("th",{}),o.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),o.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),o.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),o.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),o.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),o.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),o.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),o.jsx("th",{className:"vi-header-quitar"})]})]}),o.jsx("tbody",{onKeyDown:le,children:Y.map((P,te)=>{const Ee=te===0,He=Gt?.[te]||{},We=ce[te]||{},ot=Number(He.estado??0),Qe=ot>=1&&ot<=4,Qt=He.q3?.c6,zt=He.q3?.c7_seconds,Rt=He.q3?.c4,gn=He.q3?.c5,jt=qf(Qt,zt),ct=If(Rt,gn,Qt),yt=He.q2?.c6,kt=He.q2?.c7_seconds,dn=He.q2?.c4,wn=He.q2?.c5,yn=qf(yt,kt),fn=If(dn,wn,yt),qt=He.q1?.c6,Un=He.q1?.c7_seconds,tn=He.q1?.c4,bn=He.q1?.c5,Hn=qf(qt,Un),Tn=If(tn,bn,qt),Tt=UR(He.estado,ct,fn,Tn),Rr=[Ee?"vi-base-row":"",fe===te?"table-active":""].filter(Boolean).join(" "),Ra=B(`rowsData.${te}.medidor`),_n=MR(He.medidor??""),Vn=_n?h?.[_n]?.message:"",Ya=We.medidor_format||We.medidor_dup||Vn||"",Tr=!!Ya,Ka=(Tt||"").toUpperCase(),Qs=Ka==="NO CONFORME"?"vi-at-valor--fail":Ka==="CONFORME"?"vi-at-valor--ok":"";return o.jsxs("tr",{className:Rr,onMouseEnter:()=>ve(te),onClick:()=>ve(te),onFocusCapture:()=>ve(te),children:[o.jsx("td",{className:"small vi-row-index",children:te+1}),o.jsx("td",{className:"vi-sticky-medidor",children:o.jsx("input",{"data-row":te,"data-row-id":P.id,...Ra,size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Kt,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Tr?"vi-error-cell":""].filter(Boolean).join(" "),title:Ya||"",onChange:nn=>{const Ta=$(`rowsData.${te}.medidor`);if(Ra.onChange(nn),g?.(Ta),te===0)return;const Zn=nn.currentTarget.value.trim();if(!Zn){ke.current.delete(P.id);return}const an=lv(Je?.medidor??"",te,m);an&&an===Zn?ke.current.delete(P.id):ke.current.set(P.id,!0)}})}),o.jsx("td",{children:o.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...B(`rowsData.${te}.estado`,{valueAsNumber:!0}),children:[o.jsx("option",{value:0,children:"0"}),o.jsx("option",{value:1,children:"1"}),o.jsx("option",{value:2,children:"2"}),o.jsx("option",{value:3,children:"3"}),o.jsx("option",{value:4,children:"4"}),o.jsx("option",{value:5,children:"5"})]})}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c1`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c2`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c3`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q3_li?" vi-error-cell":""),title:We.q3_li||"",...B(`rowsData.${te}.q3.c4`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q3_lf?" vi-error-cell":""),title:We.q3_lf||"",...B(`rowsData.${te}.q3.c5`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c6`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:jt}),o.jsx(dl,{val:ct,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c1`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c2`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c3`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q2_li?" vi-error-cell":""),title:We.q2_li||"",...B(`rowsData.${te}.q2.c4`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q2_lf?" vi-error-cell":""),title:We.q2_lf||"",...B(`rowsData.${te}.q2.c5`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c6`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:yn}),o.jsx(dl,{val:fn,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c1`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c2`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c3`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q1_li?" vi-error-cell":""),title:We.q1_li||"",...B(`rowsData.${te}.q1.c4`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q1_lf?" vi-error-cell":""),title:We.q1_lf||"",...B(`rowsData.${te}.q1.c5`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c6`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:Hn}),o.jsx(dl,{val:Tn,isErr:!0,warnThreshold:5,failThreshold:5}),o.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${Qs}`,children:Tt}),o.jsx("td",{className:"text-center align-middle bg-light",children:o.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:nn=>{nn.stopPropagation(),aa(te)},disabled:Y.length<=1,title:"Eliminar esta fila",children:""})})]},P.id)})})]})})]})}),o.jsxs("div",{className:"modal-footer py-1",children:[o.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Fn,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:V,disabled:$n||j,children:q&&A?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),o.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function lu({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[m,h]=b.useState(""),g=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>g.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const x=N=>{N.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const v=x=>{x.preventDefault(),p&&d(m.trim())};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:v,children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx(Bi,{label:"Contrasea",inputId:"pwd",value:m,onChange:x=>h(x.target.value),inputRef:g,minLength:1,required:!0}),o.jsx("div",{className:"form-text",children:l})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:c,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function BR(e,a){try{const{data:s}=await Ge.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function qR(e,a){try{const{data:s}=await Ge.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function IR(e){try{const{data:a}=await Ge.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function iv(e,a){try{const{data:s}=await Ge.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function FR(e,a){try{const{data:s}=await Ge.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function $R(e,a){try{const{data:s}=await Ge.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function HR(e,a){try{const{data:s}=await Ge.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function ov(e){try{await Ge.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function y0(e,a){let s;try{s=await Ge.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const N=await x.text();try{const _=JSON.parse(N)?.detail;typeof _=="string"?v=_:Array.isArray(_)&&_.length>0?v=_.map(j=>String(j?.msg??"")).filter(Boolean).join(", "):N&&(v=N)}catch{N&&(v=N)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=s.data,m=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),g=document.createElement("a");g.href=h,g.download=m,document.body.appendChild(g),g.click(),URL.revokeObjectURL(h),g.remove()}async function VR(e){await Ge.delete(`/oi/${e}`)}async function ZR(e){try{const{data:a}=await Ge.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function bc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Ge.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function GR(e,a){try{const{data:s}=await Ge.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(l);throw c.status=s?.response?.status,c}}async function Ff(e){try{const{data:a}=await Ge.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function QR(e){try{const{data:a}=await Ge.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function PR(e){let a;try{a=await Ge.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const g=m?.response?.data;if(g instanceof Blob)try{const v=await g.text();try{const N=JSON.parse(v)?.detail;typeof N=="string"?h=N:Array.isArray(N)&&N.length>0?h=N.map(q=>String(q?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function YR(){try{const{data:e}=await Ge.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function $f(e){try{const{data:a}=await Ge.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const th="vi.currentOI";function zi(e){sessionStorage.setItem(th,JSON.stringify(e))}function cv(){const e=sessionStorage.getItem(th);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Sm(){sessionStorage.removeItem(th)}const Hf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Vf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},KR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Hf(e.q3),q2:Hf(e.q2),q1:Hf(e.q1)}),XR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Vf(e.q3),q2:Vf(e.q2),q1:Vf(e.q1)}),b0=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),JR=e=>e.reduce((a,s)=>a+(s.rows??0),0),WR=e=>JSON.parse(JSON.stringify(e)),uv=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),dv=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:b0(e),eT=(e,a)=>e==="view"&&a?"view":"edit",fv=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}T${c(l.getHours())}:${c(l.getMinutes())}`},tT=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},v0=e=>(e??"").trim().toUpperCase(),nT=e=>{const a={};e.forEach(l=>{const c=v0(l.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),l.bancada_item!=null&&!a[c].items.includes(l.bancada_item)&&a[c].items.push(l.bancada_item),l.bancada_id!=null&&!a[c].ids.includes(l.bancada_id)&&a[c].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,g)=>h-g).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},aT="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",sT=(e,a=!0)=>{const l=b.useContext(ja)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const c=l.block(d=>{const m={...d,retry(){c(),d.retry()}};e(m)});return c},[l,e,a])},rT=e=>{const a=Ge.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},lT=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Zf=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function mv(){const{toast:e}=Ar(),a=Er(),s=In(),{oiId:l}=gw(),[c,d]=Lv(),m=lT(),{data:h}=Nr({queryKey:["catalogs"],queryFn:Qm}),{register:g,handleSubmit:p,watch:v,formState:{errors:x},reset:N,getValues:q}=Vc({resolver:yO(RR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),_=Rn(),j=_?.userId??null,A=_?.bancoId??Li(),B=wa(_?.role,_?.username)!=="technician",T=cv(),J=l?Number(l):null,k=Number.isFinite(J)?J:null,O=k!=null||(T?.id??null)!=null,$=(c.get("mode")||"").toLowerCase(),U=eT($,O),Y=U==="view",ie=U==="edit",[Ne,xe]=b.useState(!1),[fe,ve]=b.useState(!1),[De,Re]=b.useState(null),[M,I]=b.useState(null),[W,ge]=b.useState(!1),we=fe||Y,[w,V]=b.useState(!1),[ce,z]=b.useState(null),[oe,he]=b.useState(null),[Te,qe]=b.useState(null),[me,ke]=b.useState(!1),[Fe,_e]=b.useState(""),[Me,le]=b.useState(null),[ze,de]=b.useState("bancada"),[$e,Ae]=b.useState(!1),[Xe,C]=b.useState(!1),[Z,R]=b.useState(null),Q=b.useRef([]),G=b.useRef(null),se=b.useRef(!1),Oe=b.useRef(!1),Le=b.useRef(!1),ne=b.useRef(null),Ue=b.useRef(!1),Ve=b.useRef(m),it=b.useRef(!1),Xt=b.useRef(!1),[je,Je]=b.useState(null),[Gt,St]=b.useState(null),[Nn,kn]=b.useState([]),[Pa,aa]=b.useState(!1),[st,Ca]=b.useState(null),[fa,Oa]=b.useState(!1),[Fn,$n]=b.useState(null),[P,te]=b.useState(0),[Ee,He]=b.useState({}),[We,ot]=b.useState({}),Qe=s.state?.returnTo,Qt=()=>typeof Qe=="string"&&Qe?Qe:"/oi/list",zt=E=>{const H=new URLSearchParams(c);H.set("mode",E),d(H,{replace:!0})},Rt="new",gn=15,jt=E=>E?`bancada-${E.id}`:Rt,ct=E=>E==null?!1:typeof E=="string"?E.trim()!=="":typeof E=="number"?Number.isFinite(E):!0,yt=E=>E==="c7_seconds"||E==="caudal"||E==="error",kt=E=>E?Object.entries(E).some(([H,pe])=>yt(H)?!1:ct(pe)):!1,dn=E=>!E||!Array.isArray(E.rowsData)?!1:E.rowsData.some(H=>{if(!H)return!1;if(Number(H.estado??0)!==0)return!0;const Ce=H.medidor;return typeof Ce=="string"&&Ce.trim()!==""?!0:kt(H.q3)||kt(H.q2)||kt(H.q1)}),wn=(E=gn)=>Array.from({length:E}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),yn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,fn=E=>({draftId:yn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:gn,rowsData:wn(),version:null}),qt=E=>{const H=new URLSearchParams(s.search);H.set("mode","edit");const pe=s.pathname==="/oi"||s.pathname==="/oi/"?E?`/oi/${E}`:"/oi":s.pathname,Ce=H.toString();return Ce?`${pe}?${Ce}`:pe},Un=(E,H)=>!E||!j||A==null?null:{version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,oiCode:q("oi")??null,returnTo:qt(E),mode:"edit",modal:H},tn=()=>{if(Pa)return st?{type:"bancada",bancadaId:st.id}:{type:"bancada",isNew:!0}},bn=E=>Tf({userId:j,bankId:A,oiId:E,type:"bancada",isNew:!0}),Hn=E=>{const H=bn(E);if(!H)return null;const pe=Df(H);if(!pe||!j||A==null||!E||pe.userId!==j||pe.bankId!==A||pe.oiId!==E)return null;const Ce=pe?.data??null;return dn(Ce)?Ce:(Hs(H),null)},Tn=(E,H)=>{const pe=bn(E);if(!pe)return;if(!H||!dn(H)){Hs(pe);return}if(!j||A==null||!E)return;const Ce={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,isNew:!0,data:H},tt=Un(E,{type:"bancada",isNew:!0});Di(pe,Ce,tt)},Tt=E=>Tf({userId:j,bankId:A,oiId:E,type:"header"}),Rr=E=>{if(!E)return null;const H=Df(E);return!H||!j||A==null||H.userId!==j||H.bankId!==A||je!=null&&H.oiId!==je?null:H?.data??null},Ra=(E,H)=>{if(!E||!j||A==null)return;const pe=je??0,Ce={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:pe,data:H},tt=Un(je,tn());Di(E,Ce,tt)},_n=E=>{E&&Hs(E)},Vn=E=>{const H={};return E.q3!=null&&(H.q3=Number(E.q3)),E.alcance!=null&&(H.alcance=Number(E.alcance)),E.pma!=null&&(H.pma=Number(E.pma)),E.numeration_type&&(H.numeration_type=E.numeration_type),H},Ya=(E,H)=>Tf({userId:j,bankId:A,oiId:E,type:"bancada",bancadaId:H}),Tr=(E,H)=>{const pe=Ya(E,H);if(!pe)return null;const Ce=Df(pe);if(!Ce||!j||A==null||!E||!H||Ce.userId!==j||Ce.bankId!==A||Ce.oiId!==E)return null;const tt=Ce?.data??null;return dn(tt)?tt:(Hs(pe),null)},Ka=(E,H,pe)=>{const Ce=Ya(E,H);if(!Ce)return;if(!dn(pe)){Hs(Ce);return}if(!j||A==null||!E||!H)return;const tt={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,bancadaId:H,data:pe},Et=Un(E,{type:"bancada",bancadaId:H});Di(Ce,tt,Et)},Qs=(E,H)=>{const pe=Ya(E,H);pe&&Hs(pe)},nn=Tt(je);b.useEffect(()=>{h&&N(E=>({...E,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,N]),b.useEffect(()=>{const E=cv(),H=k??E?.id??null;if(!H){Je(null),kn([]),Q.current=[],G.current=null,$n(null),te(0),St(null),he(null),qe(null),V(!1),ve(!1),Re(null),I(null),ge(!1),z(null);return}(async()=>{try{const pe=await Ff(H);Je(pe.id),zi({id:pe.id,code:pe.code}),kn(pe.bancadas??[]),Q.current=WR(pe.bancadas??[]),G.current=pe.updated_at??null,$n(pe.medidores_usuario??null),te(pe.medidores_total_code??0),he(pe.saved_at??null),qe(pe.created_at??null),St(pe.updated_at??pe.created_at);const Ce={oi:pe.code,q3:pe.q3,alcance:pe.alcance,pma:pe.pma,numeration_type:pe.numeration_type??"correlativo"};N(Ce),V(!1),ve(pe.read_only_for_current_user??!1),Re(pe.locked_by_full_name??null),I(pe.locked_by_user_id??null),ge((pe.locked_by_user_id??null)===j),z(Ce)}catch{Sm()}})()},[N,j,k]),b.useEffect(()=>{if(!je||We[Rt])return;const E=Hn(je);E&&(ot(H=>({...H,[Rt]:E})),e({kind:"info",message:"Se restauro un borrador local."}))},[je,We,e]),b.useEffect(()=>{if(!je||!j||!ie)return;let E=!1;return(async()=>{const H=pe=>{ve(pe?.read_only_for_current_user??!1),Re(pe?.locked_by_full_name??null),I(pe?.locked_by_user_id??null),ge((pe?.locked_by_user_id??null)===j)};try{const pe=await ZR(je);if(E)return;H(pe)}catch(pe){if(E)return;const Ce=pe?.status??pe?.response?.status;let tt=null;try{const dt=await Ff(je);if(E)return;tt=dt.locked_by_full_name??null,H({read_only_for_current_user:!0,locked_by_full_name:tt,locked_by_user_id:dt.locked_by_user_id??null})}catch{ve(!0),ge(!1)}const Et=tt?`La OI est? siendo editada por ${tt}. Se abre en modo lectura.`:pe?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:Ce===423||Ce===409?"warning":"error",title:Ce===423||Ce===409?"OI bloqueada":"Error",message:Et}),ve(!0),ge(!1),$!=="view"&&zt("view")}})(),()=>{E=!0}},[je,j,ie]),b.useEffect(()=>()=>{je&&W&&bc(je).catch(()=>{})},[je,W]),b.useEffect(()=>{je&&(!W||we||!ie||nE(je))},[W,je,we,ie]),b.useEffect(()=>{Oe.current=!1,Le.current=!1,C(!1),Ue.current=!1,Xt.current=!1},[je]),b.useEffect(()=>{if(!Ve.current&&m){if(!!!Rn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Ve.current=m;return}(Le.current||Xe)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Ve.current=m},[m,Xe,e]),b.useEffect(()=>{const E=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",E),()=>window.removeEventListener("medileser:auth-expired",E)},[e]),b.useEffect(()=>{const E=lE();if(!E){R(null),it.current=!1;return}const H=`${s.pathname}${s.search}`,pe=E.route===H,Ce=E.oiId==null||E.oiId===je;if(!pe&&!Ce){R(null),it.current=!1;return}R(E),E.type==="save_bancada"&&C(!0),E.type==="save_oi"&&(Le.current=!0),it.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),it.current=!0)},[s.pathname,s.search,je,e]);const Ta=ie&&!we&&(w||!je);b.useEffect(()=>{if(!Ta||Ue.current)return;const E=Rr(nn);if(!E)return;const H=q();N({...H,...E,numeration_type:E.numeration_type??H.numeration_type??"correlativo"}),Ue.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Ta,nn,q,N,e]),b.useEffect(()=>{if(!Ta)return;const E=v(H=>{ne.current&&window.clearTimeout(ne.current),ne.current=window.setTimeout(()=>{Ra(nn,Vn(H))},400)});return()=>{E.unsubscribe(),ne.current&&window.clearTimeout(ne.current)}},[v,Ta,nn]);const Zn=b.useMemo(()=>Object.keys(We).length>0,[We]),an=ie&&!we&&(W||w||Zn);b.useEffect(()=>{if(!an)return;const E=H=>{if(!se.current)return H.preventDefault(),H.returnValue="",""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[an]),sT(E=>{if(!an){E.retry();return}if(se.current){E.retry();return}if(E.location.pathname===s.pathname){E.retry();return}window.confirm(aT)&&E.retry()},an),b.useEffect(()=>{if(!je||!W||we||!ie)return;const E=()=>{if(se.current||Oe.current)return;Oe.current=!0;const pe=Rn()?.token,Ce=rT(`/oi/${je}/close`);fetch(Ce,{method:"POST",headers:pe?{Authorization:`Bearer ${pe}`}:void 0,keepalive:!0}).catch(()=>{})},H=()=>{E()};return window.addEventListener("pagehide",H),()=>window.removeEventListener("pagehide",H)},[je,W,we,ie]);const Tl=v("pma"),Wi=b.useMemo(()=>DR(Number(Tl)),[Tl]),Dl=v("numeration_type")??"correlativo",zl=async E=>{try{xe(!0);const H=Rn();if(!H)throw new Error("Sesin no vlida");const pe=H.bancoId;if(pe==null)throw new Error("Debe seleccionar un banco para crear una OI.");const Ce={code:E.oi,q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),banco_id:pe,tech_number:H.techNumber,numeration_type:E.numeration_type??"correlativo"},tt=await IR(Ce);return Je(tt.id),St(tt.updated_at??tt.created_at),$n(tt.medidores_usuario??0),te(tt.medidores_total_code??0),he(tt.saved_at??null),qe(tt.created_at??null),zi({id:tt.id,code:tt.code}),z(E),Le.current=!1,_n(Tt(null)),_n(Tt(tt.id)),Oi(),R(null),e({kind:"success",title:"OI creada",message:`${tt.code} (#${tt.id})`}),!0}catch(H){return Zf(H)?(Le.current=!0,Ra(nn,Vn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):_c(H)?(Le.current=!0,Ra(nn,Vn(E)),!1):(e({kind:"error",title:"Error",message:H?.message??"Error creando OI"}),!1)}finally{xe(!1)}},Ps=async E=>{if(!je)return!1;if(we)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(xe(!0),!je)throw new Error("No hay OI seleccionada para actualizar.");if(!Gt)throw new Error("No se pudo determinar la versin actual de la OI. Recargue la pgina e intntelo de nuevo.");const H=E.oi?.trim(),pe={q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),numeration_type:E.numeration_type??"correlativo",updated_at:Gt};B&&H&&H!==(ce?.oi??"")&&(pe.code=H);const Ce=await BR(je,pe);return z(E),St(Ce.updated_at??Ce.created_at),he(Ce.saved_at??null),qe(Ce.created_at??null),Ce.code&&zi({id:Ce.id,code:Ce.code}),I(Ce.locked_by_user_id??null),Re(Ce.locked_by_full_name??null),ve(Ce.read_only_for_current_user??!1),ge((Ce.locked_by_user_id??null)===j),V(!1),Le.current=!1,_n(nn),Oi(),R(null),e({kind:"success",title:"OI actualizada",message:E.oi}),!0}catch(H){if(Zf(H))return Le.current=!0,Ra(nn,Vn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(_c(H))return Le.current=!0,Ra(nn,Vn(E)),!1;const pe=H?.status??H?.response?.status;return e(pe===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:H?.message??"Error actualizando OI"}),!1}finally{xe(!1)}},Ml=!!je&&w&&!we,vn=()=>He({}),kl=E=>{const H=v0(E);H&&He(pe=>{if(!pe[H])return pe;const Ce={...pe};return delete Ce[H],Ce})},Dr=()=>{if(we){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!je)return;vn(),C(!1);const E=Hn(je),H=E??fn();ot(pe=>({...pe,[Rt]:H})),Tn(je,H),E&&e({kind:"info",message:"Se restauro un borrador local."}),Ca(null),aa(!0)},Ys=E=>{if(we&&!Y){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}vn(),C(!1);const H=Tr(je,E.id);if(H){const pe=jt(E);ot(Ce=>({...Ce,[pe]:H})),e({kind:"info",message:"Se restauro un borrador local."})}Ca(E),aa(!0)};b.useEffect(()=>{if(!je||Xt.current)return;const E=Y1();if(E&&!(!j||A==null)&&!(E.userId!==j||E.bankId!==A)&&E.oiId===je){if(E.modal?.type==="bancada"){if(E.modal.isNew){Xt.current=!0,zf(),Dr();return}if(E.modal.bancadaId){const H=Nn.find(pe=>pe.id===E.modal?.bancadaId);if(!H)return;Xt.current=!0,zf(),Ys(H);return}}Xt.current=!0,zf()}},[j,A,Nn,je,Dr,Ys]);const ps=b.useMemo(()=>{const E=jt(st),H=We[E];if(H){const tt=H.version??st?.updated_at??st?.created_at??null;return{...H,version:tt}}if(!st)return;const Ce=b0(st).map(KR);return{estado:st.estado,rows:Ce.length||st.rows,rowsData:Ce,version:st.updated_at??st.created_at??null}},[st,We]),eo=async E=>{if(je){if(we){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}vn(),C(!1);try{xe(!0);const H=E.draftCreatedAt??We[Rt]?.draftCreatedAt,pe={estado:Number(E.estado??0),rows:Number(E.rowsData.length),rows_data:E.rowsData.map(XR)};if(st){const Ce=E.version??st.updated_at??st.created_at??null;if(!Ce)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const tt={...pe,updated_at:Ce},Et=await FR(st.id,tt);kn(dt=>dt.map(jn=>jn.id===Et.id?Et:jn)),St(Et.updated_at??Et.created_at??Gt),$n(null),Qs(je,st.id),ot(dt=>{const jn=`bancada-${st.id}`,{[jn]:Ws,...Fa}=dt;return Fa}),e({kind:"success",message:"Bancada actualizada"})}else{H&&(pe.draft_created_at=H);const Ce=await iv(je,pe);kn(tt=>[...tt,Ce]),St(Ce.updated_at??Ce.created_at??Gt),$n(null),ot(tt=>{const{new:Et,...dt}=tt;return dt}),Tn(je,null),e({kind:"success",message:"Bancada agregada"})}try{const Ce=await $f(je);$n(Ce.medidores_usuario??null),te(Ce.medidores_total_code??P),he(Ce.saved_at??null),qe(Ce.created_at??null)}catch{}I(_?.userId??M),Re(_?.fullName??De),ge(j!==null),ve(!1),aa(!1),Ca(null),Oi(),R(null),C(!1)}catch(H){if(Zf(H)){st?Ka(je,st.id,E):Tn(je,E),C(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(_c(H)){st?Ka(je,st.id,E):Tn(je,E),C(!0);return}const pe=H?.status??H?.response?.status;if(pe===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(pe===400){const Ce=Array.isArray(H?.duplicates)?H.duplicates:Array.isArray(H?.response?.data?.duplicates)?H.response.data.duplicates:[];Ce.length>0&&He(nT(Ce)),e({kind:"warning",title:"Validacion",message:H?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:H?.message??"Error guardando bancada"})}finally{xe(!1)}}},to=async E=>{if(confirm(`Eliminar bancada #${E.item}?`)){if(we){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(xe(!0),!je)throw new Error("No hay OI cargada.");await ov(E.id),kn(pe=>pe.filter(Ce=>Ce.id!==E.id)),$n(null),ot(pe=>{const Ce=`bancada-${E.id}`,{[Ce]:tt,...Et}=pe;return Et}),Qs(je,E.id);const H=await $f(je);St(H.updated_at??H.created_at??null),he(H.saved_at??null),qe(H.created_at??null),I(H.locked_by_user_id??null),Re(H.locked_by_full_name??null),ve(H.read_only_for_current_user??!1),ge((H.locked_by_user_id??null)===j),$n(H.medidores_usuario??null),te(H.medidores_total_code??P),e({kind:"success",message:`Bancada #${E.item} eliminada`})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error eliminando bancada"})}finally{xe(!1)}}},gs=()=>{if(!je){e({kind:"warning",message:"Primero guarda el OI."});return}Oa(!0)},cu=async E=>{if(je)try{xe(!0),await y0(je,E),e({kind:"success",message:"Excel generado"})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error generando Excel"})}finally{xe(!1)}},no=()=>{if(!je||!B)return;const E=oe??Te;de("oi"),le(null),_e(fv(E)),ke(!0)},ao=E=>{if(!B)return;de("bancada"),le(E);const H=E.saved_at??E.created_at??oe??Te;_e(fv(H)),ke(!0)},Ul=async()=>{if(!je||!B)return;const E=tT(Fe);if(!E){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(ze==="bancada"&&!Me))try{xe(!0),ze==="oi"?await GR(je,{saved_at:E,propagate_to_bancadas:!0}):Me&&await $R(Me.id,{saved_at:E});const H=await Ff(je);if(kn(H.bancadas??[]),$n(H.medidores_usuario??null),te(H.medidores_total_code??0),he(H.saved_at??null),qe(H.created_at??null),St(H.updated_at??H.created_at),Re(H.locked_by_full_name??null),I(H.locked_by_user_id??null),ve(H.read_only_for_current_user??!1),ge((H.locked_by_user_id??null)===j),!w){const pe={oi:H.code,q3:H.q3,alcance:H.alcance,pma:H.pma,numeration_type:H.numeration_type??"correlativo"};N(pe),z(pe)}ke(!1),le(null),_e(""),de("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error actualizando fecha"})}finally{xe(!1)}},uu=E=>{vn(),C(!1);const H=jt(st);let pe={...E};if(!st){const Ce=We[Rt];pe.draftCreatedAt||(pe.draftCreatedAt=Ce?.draftCreatedAt??new Date().toISOString()),pe.draftId||(pe.draftId=Ce?.draftId??yn())}ot(Ce=>({...Ce,[H]:pe})),st?Ka(je,st.id,pe):Tn(je,pe),aa(!1)},du=()=>{if(we){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const E=q();z({...E,numeration_type:E.numeration_type??"correlativo"}),V(!0)},zr=()=>{!je||ie||zt("edit")},Da=()=>{ce&&N(ce),V(!1),Le.current=!1,_n(nn),Oi(),R(null)},ys=()=>{je&&(Tn(je,null),Object.keys(We).forEach(E=>{if(!E.startsWith("bancada-"))return;const H=Number(E.replace("bancada-",""));Number.isFinite(H)&&Qs(je,H)})),_n(Tt(je)),_n(Tt(null)),G1(),Le.current=!1,C(!1),Oi(),R(null),Sm(),Lx(),Je(null),kn([]),Q.current=[],ot({}),V(!1),z(null),St(null),he(null),qe(null),ve(!1),Re(null),I(null),ge(!1),$n(null),te(0),aa(!1),Ca(null),Oa(!1),ke(!1),Ae(!1),_e(""),le(null),de("bancada"),N({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Ll=()=>{Oe.current=!0,se.current=!0,ys(),a(Qt())},bs=async()=>{if(!je)return!0;const E=Q.current??[];if(E.length===0&&Nn.length===0)return!0;const H=new Map(E.map(Ce=>[Ce.id,Ce])),pe=new Map(Nn.map(Ce=>[Ce.id,Ce]));try{for(const Et of Nn)H.has(Et.id)||await ov(Et.id);for(const Et of Nn){const dt=H.get(Et.id);if(!dt||uv(dt)===uv(Et))continue;const jn=dv(dt),Ws=jn.length||dt.rows||1,Fa=Et.updated_at??Et.created_at??dt.updated_at??dt.created_at;if(!Fa)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await HR(Et.id,{medidor:dt.medidor??null,estado:dt.estado??0,rows:Ws,rows_data:jn,current_updated_at:Fa,restore_updated_at:dt.updated_at??null,restore_saved_at:dt.saved_at??null})}for(const Et of E)if(!pe.has(Et.id)){const dt=dv(Et),jn=dt.length||Et.rows||1;await iv(je,{estado:Et.estado??0,rows:jn,rows_data:dt})}const Ce=await $f(je),tt=Ce.updated_at??Ce.created_at;await qR(je,{current_updated_at:tt,restore_updated_at:G.current})}catch(Ce){return e({kind:"error",title:"Error",message:Ce?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},vs=()=>{Ne||Ae(!0)},so=async()=>{if(!Ne){Ae(!1),xe(!0);try{if(!await bs())return;je&&W&&await bc(je,"cancel")}catch{}finally{xe(!1)}Oe.current=!0,se.current=!0,ys(),e({kind:"info",message:"Edicion cancelada"}),a(Qt())}},Bl=async()=>{if(Ne)return;Ae(!1);let E=!0;if((w||!je)&&(E=!1,await p(async pe=>{E=je?await Ps(pe):await zl(pe)})()),!!E){xe(!0);try{je&&W&&await bc(je)}catch{}finally{xe(!1)}Oe.current=!0,se.current=!0,ys(),e({kind:"info",message:"Cambios guardados"}),a(Qt())}},ro=async()=>{if(!Ne){xe(!0);try{je&&W&&await bc(je)}catch{}finally{xe(!1)}Oe.current=!0,se.current=!0,ys(),e({kind:"info",message:"OI cerrada"}),a(Qt())}},Ks=b.useMemo(()=>JR(Nn),[Nn]),za=Fn??Ks,Xs=E=>{if(!E)return"-";const pe=/([zZ]|[+-]\d{2}:?\d{2})$/.test(E)?E:`${E}Z`,Ce=new Date(pe);return Number.isNaN(Ce.getTime())?E:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(Ce)},Js=st?Ya(je,st.id):bn(je),Ia=j&&A!=null&&je?{userId:j,bankId:A,oiId:je,bancadaId:st?.id??null,isNew:!st,returnTo:qt(je),oiCode:q("oi")??null}:null;return o.jsxs("div",{className:"oi-page vi-oi-light",children:[o.jsx(Ol,{show:Ne}),!m&&o.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),Z&&o.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsx("h1",{className:"h3",children:"Formulario OI"}),o.jsxs("div",{className:"d-flex gap-2",children:[je&&B&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:no,disabled:Ne,children:"Editar fecha guardado"}),je&&Y&&o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:zr,disabled:Ne,children:"Editar"})]})]}),we&&o.jsx("div",{className:"alert alert-warning mt-2",children:Y?"Modo lectura. Use Editar para modificar.":De?`Esta OI est siendo editada por ${De}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),o.jsxs("form",{onSubmit:p(Ml?Ps:zl),className:`row g-3 mt-1 ${Ml?"vi-form-editing":"vi-form-readonly"}`,children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),o.jsx("input",{id:"oi",className:`form-control ${je&&!(B&&w&&!we)?"vi-locked":""}`,...g("oi"),disabled:je?!(B&&w&&!we):!1}),x.oi&&o.jsx("div",{className:"text-danger small",children:x.oi.message}),B?o.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el cdigo de OI."}):null]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),o.jsx("select",{id:"q3",className:"form-select",...g("q3",{valueAsNumber:!0}),disabled:!!je&&!w||we,children:h?.q3.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),o.jsx("select",{id:"alcance",className:"form-select",...g("alcance",{valueAsNumber:!0}),disabled:!!je&&!w||we,children:h?.alcance.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),o.jsx("select",{id:"pma",className:"form-select",...g("pma",{valueAsNumber:!0}),disabled:!!je&&!w||we,children:h?.pma.map(E=>o.jsx("option",{value:E,children:E},E))}),o.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),o.jsx("input",{id:"presion",className:"form-control",value:isNaN(Wi)?"":Wi,disabled:!0})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),o.jsxs("select",{id:"numeration_type",className:"form-select",...g("numeration_type"),disabled:!!je&&!w||we,children:[o.jsx("option",{value:"correlativo",children:"Correlativo"}),o.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),o.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),o.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",disabled:Ne||!!je&&(!w||we),children:je?Ml?"Guardar cambios":"OI guardada":"Guardar OI"}),je&&!w&&ie&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:du,disabled:Ne||we,children:"Editar OI"}),je&&w&&ie&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Da,disabled:Ne,children:"Cancelar edicion"}),Y&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Ll,disabled:Ne,children:"Volver al listado"}),o.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:gs,disabled:!je||Ne||w,children:"Generar Excel"}),ie&&o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:ro,disabled:!je||w||Ne,children:"Cerrar OI"}),ie&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:vs,disabled:Ne,children:"Cancelar"})]})]}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"card vi-card-table mt-3",children:[o.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),o.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",za," | Total OI: ",P]})]}),o.jsx("button",{className:"btn btn-primary",onClick:Dr,disabled:!je||Ne||w||we,children:"Agregar Bancada"})]}),o.jsx("div",{className:"card-body p-0",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"vi-col-60",children:"Item"}),o.jsx("th",{children:"# Medidor"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),o.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),o.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),o.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[Nn.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),Nn.map(E=>{const H=E.rows_data?.[0]?.medidor||E.medidor||"",pe=E.rows_data?.[(E.rows_data?.length||0)-1]?.medidor||"",Ce=H&&pe&&H!==pe?`${H} ... ${pe}`:H;return o.jsxs("tr",{children:[o.jsx("td",{children:E.item}),o.jsx("td",{children:Ce}),o.jsx("td",{children:E.rows}),o.jsx("td",{children:Xs(E.created_at)}),o.jsx("td",{children:Xs(E.saved_at)}),o.jsx("td",{children:Xs(E.updated_at??E.created_at)}),o.jsxs("td",{className:"text-end",children:[B?o.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>ao(E),disabled:Ne||w||fe,"aria-label":`Editar fecha guardado bancada #${E.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ys(E),disabled:Ne||w||!Y&&we,"aria-label":`${Y?"Ver":"Editar"} bancada #${E.item}`,title:Y?"Ver":"Editar",children:Y?"Ver":"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>to(E),disabled:Ne||w||we,"aria-label":`Eliminar bancada #${E.item}`,title:"Eliminar",children:""})]})]},E.id)})]})]})})})]}),Pa&&o.jsx(LR,{show:Pa,title:st?`Editar bancada #${st.item}`:"Nueva bancada",initial:ps,onClose:()=>{vn(),aa(!1)},onSubmit:eo,onCancelWithDraft:uu,numerationType:Dl,readOnly:we,duplicateMap:Ee,onClearDuplicate:kl,draftStorageKey:Js,draftMeta:Ia,isOnline:m,showRetry:Xe}),$e&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:E=>{E.target===E.currentTarget&&Ae(!1)},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Ae(!1)})]}),o.jsx("div",{className:"modal-body",children:o.jsx("p",{children:"Estas seguro de descartar cambios?"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:so,disabled:Ne,children:"Descartar cambios"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:Bl,disabled:Ne,children:"Guardar cambios y volver al listado"})]})]})})}),me&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:E=>{E.target===E.currentTarget&&(ke(!1),le(null),de("bancada"))},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:E=>{E.preventDefault(),Ul()},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{ke(!1),le(null),de("bancada")}})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),o.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:Fe,onChange:E=>_e(E.target.value),required:!0}),o.jsx("div",{className:"form-text",children:ze==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{ke(!1),le(null),de("bancada")},children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ne||!Fe,children:"Guardar"})]})]})})}),o.jsx(lu,{show:fa,title:"Contrasea para proteger Excel",onClose:()=>Oa(!1),onConfirm:E=>{Oa(!1),cu(E)}})]})}function iT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e==="/logistica/log01/history"?"logistica_history":e==="/logistica/log01/excel"?"logistica":e==="/logistica/log02/pdfs"?"logistica_pdfs":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function oT(){const e=Rn(),a=In(),s=e?.token??null,[l,c]=b.useState(()=>!!s);if(b.useEffect(()=>{if(!s){c(!1);return}let N=!1;return c(!0),Ge.get("/auth/me").then(()=>{N||c(!1)}).catch(async q=>{if(N)return;if(q?.response?.status===401){await Fx();return}c(!1)}),()=>{N=!0}},[s]),!s)return o.jsx(Vs,{to:"/login",replace:!0});if(l)return o.jsx(Ol,{show:!0});const d=e,m=wa(d.role,d.username),h=Pm(d),g=xl(m),p=Li(),v=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(g&&v&&!(p&&p>0)&&a.pathname!=="/home")return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const N=iT(a.pathname),q=d.allowedModules;if(N&&Array.isArray(q)&&!q.includes(N))return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return o.jsx(Rv,{})}const cT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),uT=.9;function nh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*uT}rem)`}}function Xn({to:e,icon:a,label:s,depth:l,collapsed:c}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs(kv,{to:e,end:!0,className:cT,style:nh(l,c),title:s,"aria-label":s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function hv({icon:e,label:a,depth:s,collapsed:l}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:nh(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[o.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function pr({groupKey:e,icon:a,label:s,depth:l,collapsed:c,open:d,active:m,onToggle:h,children:g}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return o.jsxs("li",{className:"vi-sidebar-item",children:[o.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:nh(l,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:o.jsx("i",{className:`ti ${v}`})})]}),!c&&d&&o.jsx("ul",{id:p,className:"list-unstyled mb-0",children:g})]})}function dT({collapsed:e,onToggleSidebar:a}){const s=In(),l=Rn(),c=!!l,d=wa(l?.role,l?.username),m=Pm(l),h=d==="admin"||d==="administrator",g=l?.allowedModules,p=ge=>m||!Array.isArray(g)||g.includes(ge),v=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),N=c&&p("tools_historial_ac"),q=c&&p("tools_consol_correlativo"),_=c&&p("tools_consol_no_correlativo"),j=c&&p("oi_formulario"),A=c&&p("oi_listado"),B=c&&h&&p("users_admin"),T=c&&p("future_ot"),J=c&&p("logistica"),k=c&&p("logistica_history"),O=c&&p("logistica_pdfs"),$=J||k||O,U=c&&p("future_smart"),Y=q||_,ie=v||x||N,Ne=j||A||T,xe=ie||Ne||Y,fe=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[ve,De]=b.useState(()=>{const ge=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!ge)return fe;try{const we=JSON.parse(ge),w={...fe};return Object.keys(w).forEach(V=>{typeof we[V]=="boolean"&&(w[V]=we[V])}),w}catch{return fe}}),Re=s.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(ve))},[ve]);const M=b.useMemo(()=>{const ge=we=>!!ki({path:we,end:!0},Re);return{vimaToLista:ge("/oi/tools/vima-to-lista"),actualizacionBases:ge("/oi/tools/actualizacion-base"),formatoAcHistory:ge("/oi/tools/formato-ac/history"),consolidacionCorrelativo:ge("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:ge("/oi/tools/consolidacion/no-correlativo"),registroOi:ge("/oi"),listadoOi:ge("/oi/list"),users:ge("/users"),password:ge("/password"),permisos:ge("/admin/permisos"),log01Excel:ge("/logistica/log01/excel"),log01History:ge("/logistica/log01/history"),log02Pdfs:ge("/logistica/log02/pdfs")}},[Re]),I=b.useMemo(()=>({oi_consolidacion:M.consolidacionCorrelativo||M.consolidacionNoCorrelativo,oi_formato_ac:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory,oi_verificacion:M.registroOi||M.listadoOi,oi:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory||M.consolidacionCorrelativo||M.consolidacionNoCorrelativo||M.registroOi||M.listadoOi,usuarios:M.users||M.password,logistica:M.log01Excel||M.log01History||M.log02Pdfs,administrar:M.permisos}),[M]);function W(ge){De(we=>({...we,[ge]:!we[ge]}))}return o.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[o.jsxs("div",{className:"vi-sidebar__header",children:[o.jsxs("div",{className:"vi-sidebar__brand",children:[o.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),o.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&o.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),o.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&o.jsx(Xn,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),xe&&o.jsxs(pr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:ve.oi,active:I.oi,onToggle:W,children:[ie&&o.jsxs(pr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:ve.oi_formato_ac,active:I.oi_formato_ac,onToggle:W,children:[v&&o.jsx(Xn,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&o.jsx(Xn,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),N&&o.jsx(Xn,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),Y&&o.jsxs(pr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:ve.oi_consolidacion,active:I.oi_consolidacion,onToggle:W,children:[q&&o.jsx(Xn,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),_&&o.jsx(Xn,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),Ne&&o.jsxs(pr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:ve.oi_verificacion,active:I.oi_verificacion,onToggle:W,children:[T&&o.jsx(hv,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),j&&o.jsx(Xn,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),A&&o.jsx(Xn,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),$&&o.jsxs(pr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:ve.logistica,active:I.logistica,onToggle:W,children:[J&&o.jsx(Xn,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacion Excel",depth:1,collapsed:e}),k&&o.jsx(Xn,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e}),O&&o.jsx(Xn,{to:"/logistica/log02/pdfs",icon:"ti-filter",label:"Filtrado de Cert.PDFs",depth:1,collapsed:e})]}),U&&o.jsx(hv,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),o.jsxs(pr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:ve.usuarios,active:I.usuarios,onToggle:W,children:[B&&o.jsx(Xn,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&o.jsx(Xn,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&o.jsx(pr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:ve.administrar,active:I.administrar,onToggle:W,children:o.jsx(Xn,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function fT({sidebarCollapsed:e,onToggleSidebar:a}){const s=Rn(),l=s?.username??s?.user??"",c=s?xl(s.role):!1,[d,m]=b.useState(()=>Li());b.useEffect(()=>fE(()=>m(Li())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",g=async()=>{try{await pE()}finally{location.assign("/login")}};return o.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&o.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),o.jsx("div",{className:"me-auto"}),o.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&o.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",o.jsx("strong",{children:l||"?"}),c&&o.jsxs(o.Fragment,{children:["  ",h,s.techNumber?o.jsxs(o.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:g,children:"Cerrar sesin"})]})]})}function mT(){const a=In().pathname==="/home",[s,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),o.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[o.jsx(dT,{collapsed:s,onToggleSidebar:c}),o.jsxs("div",{className:"vi-main",children:[o.jsx(fT,{sidebarCollapsed:s,onToggleSidebar:c}),o.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:o.jsx(Rv,{})})]})]})}function hT(){const{toast:e}=Ar(),a=Er(),s=In(),[,l]=Lv(),[c,d]=b.useState(()=>new URLSearchParams(s.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[g,p]=b.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[v,x]=b.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[N,q]=b.useState(()=>{const ne=new URLSearchParams(s.search).get("pageSize"),Ue=ne?Number(ne):20;return Number.isFinite(Ue)&&Ue>0?Ue:20}),[_,j]=b.useState(()=>{const ne=new URLSearchParams(s.search).get("page"),Ue=ne?Number(ne):1;return Number.isFinite(Ue)&&Ue>0?Math.floor(Ue):1}),[A,B]=b.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),T=(_-1)*N,J=b.useRef(!1);b.useEffect(()=>{if(!J.current){J.current=!0;return}const ne=setTimeout(()=>{h(c.trim()),j(1)},300);return()=>clearTimeout(ne)},[c]),b.useEffect(()=>{const ne=new URLSearchParams,Ue=c.trim();Ue&&ne.set("q",Ue),g&&ne.set("dateFrom",g),v&&ne.set("dateTo",v),A&&ne.set("responsableTech",A),_!==1&&ne.set("page",String(_)),N!==20&&ne.set("pageSize",String(N));const Ve=s.search.startsWith("?")?s.search.slice(1):s.search;ne.toString()!==Ve&&l(ne,{replace:!0})},[g,v,s.search,_,N,A,c,l]);const{data:k,isLoading:O,isError:$,error:U,refetch:Y,isFetching:ie}=Nr({queryKey:["oi","list",{search:m,dateFrom:g,dateTo:v,responsableTech:A,pageSize:N,offset:T}],queryFn:()=>QR({q:m||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0,limit:N,offset:T}),placeholderData:ne=>ne}),Ne=Rn(),xe=wa(Ne?.role,Ne?.username)!=="technician",{data:fe=[],isFetching:ve,isError:De,error:Re}=Nr({queryKey:["oi","responsables"],queryFn:YR,enabled:xe,staleTime:6e4,retry:!1}),M=De?Re?.message??"No se pudo cargar responsables":"",I=ne=>{if(!ne)return"-";const Ue=ne.endsWith("Z")?ne:`${ne}Z`,Ve=new Date(Ue),it=Xt=>Xt.toString().padStart(2,"0");return`${it(Ve.getDate())}/${it(Ve.getMonth()+1)}/${Ve.getFullYear()} ${it(Ve.getHours())}:${it(Ve.getMinutes())}`},ge=k?.items??[],we=k?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},w=k?.total??0,V=k?.limit??N,ce=V>0?Math.ceil(w/V):1,z=10;let oe=1,he=ce;if(ce>z){const ne=Math.floor(z/2);oe=Math.max(1,_-ne),he=oe+z-1,he>ce&&(he=ce,oe=Math.max(1,he-z+1))}const[Te,qe]=b.useState(!1),[me,ke]=b.useState(null),[Fe,_e]=b.useState(!1),[Me,le]=b.useState(!1),ze=O||ie||Fe||Me,de=()=>`${s.pathname}${s.search}`,$e=(ne,Ue)=>{try{zi({id:ne,code:Ue}),e({kind:"success",message:`OI ${Ue} cargada`}),a(`/oi/${ne}?mode=view`,{state:{returnTo:de()}})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo abrir el OI"})}},Ae=(ne,Ue)=>{try{zi({id:ne,code:Ue}),e({kind:"success",message:`OI ${Ue} cargada`}),a(`/oi/${ne}?mode=edit`,{state:{returnTo:de()}})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo abrir el OI"})}},Xe=async()=>{try{await Ki()}finally{Sm(),a("/oi?mode=edit",{state:{returnTo:de()}})}},C=async(ne,Ue)=>{if(confirm(`Ests seguro de ELIMINAR la ${Ue}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await VR(ne),e({kind:"success",title:"Eliminado",message:`Se elimin ${Ue} correctamente.`}),Y()}catch(Ve){e({kind:"error",title:"Error",message:Ve.message||"No se pudo eliminar la OI"})}},Z=ne=>{ke(ne),qe(!0)},R=async ne=>{if(me)try{_e(!0),await y0(me,ne),e({kind:"success",message:"Excel generado"})}catch(Ue){e({kind:"error",title:"Error",message:Ue?.message??"No se pudo generar el Excel"})}finally{_e(!1)}},Q=async()=>{try{le(!0);const{blob:ne,filename:Ue}=await PR({q:m||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0}),Ve=URL.createObjectURL(ne),it=document.createElement("a");it.href=Ve,it.download=Ue,document.body.appendChild(it),it.click(),URL.revokeObjectURL(Ve),it.remove()}catch(ne){const Ue=ne?.status,Ve=ne?.message??"No se pudo exportar el CSV";e(Ue===403?{kind:"error",title:"No autorizado",message:Ve}:{kind:"error",title:"Error",message:Ve})}finally{le(!1)}},G=()=>{d(""),h(""),p(""),x(""),j(1),B("")},se=w===0?0:T+1,Oe=w===0?0:Math.min(T+ge.length,w),Le=w===0?"0 registros":`Mostrando ${se}-${Oe} de ${w} registros`;return o.jsxs("div",{children:[o.jsx(Ol,{show:ze}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",onClick:Xe,disabled:ze,title:"Nueva OI",children:"Nueva OI"}),o.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),o.jsxs("div",{className:"d-flex gap-2",children:[xe&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:Q,disabled:ze,children:Me?"Exportando...":"Exportar CSV"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:G,disabled:ze,children:"Limpiar filtros"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>Y(),disabled:ze,children:"Recargar"})]})]}),$&&o.jsx("div",{className:"alert alert-danger",children:U?.message??"Error cargando listado"}),o.jsxs("div",{className:"card vi-card-table",children:[o.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Registros"}),o.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",we.medidores_resultado," | OI unicas: ",we.oi_unicas," | Medidores (Total OI): ",we.medidores_total_oi_unicas]})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:ne=>{d(ne.target.value),j(1)},"aria-label":"Buscar por codigo de OI o medidor"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:g,onChange:ne=>{p(ne.target.value),j(1)},"aria-label":"Filtrar desde fecha"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:ne=>{x(ne.target.value),j(1)},"aria-label":"Filtrar hasta fecha"}),xe&&o.jsxs("div",{className:"d-flex flex-column",children:[o.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:ne=>{B(ne.target.value),j(1)},disabled:ze||ve,"aria-label":"Filtrar por responsable",title:"Responsable",children:[o.jsx("option",{value:"",children:"Responsable: Todos"}),fe.map(ne=>o.jsx("option",{value:String(ne.tech_number),children:ne.full_name},ne.tech_number))]}),M?o.jsx("small",{className:"text-danger",children:M}):null]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("span",{className:"me-1 small",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:N,onChange:ne=>{const Ue=Number(ne.target.value)||20;q(Ue),j(1)},"aria-label":"Registros por pgina",children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"})]})]})]})]}),o.jsxs("div",{className:"card-body p-0",children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ID"}),o.jsx("th",{children:"OI"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{children:"Q3"}),o.jsx("th",{children:"Alcance"}),o.jsx("th",{children:"PMA"}),o.jsx("th",{children:"Banco"}),o.jsx("th",{children:"Tcnico"}),o.jsx("th",{children:"Responsable"}),o.jsx("th",{children:"Creacin"}),o.jsx("th",{children:"Guardado"}),o.jsx("th",{children:"lt. mod."}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[!ze&&ge.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:w>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),ge.map(ne=>o.jsxs("tr",{children:[o.jsx("td",{children:ne.id}),o.jsx("td",{children:ne.code}),o.jsx("td",{title:"Mi registro / Total OI",children:`${ne.medidores_usuario??0} / ${ne.medidores_total_code??0}`}),o.jsx("td",{children:ne.q3}),o.jsx("td",{children:ne.alcance}),o.jsx("td",{children:ne.pma}),o.jsx("td",{children:ne.banco_id}),o.jsx("td",{children:ne.tech_number}),o.jsx("td",{children:ne.creator_name}),o.jsx("td",{children:I(ne.created_at)}),o.jsx("td",{children:I(ne.saved_at)}),o.jsx("td",{children:I(ne.updated_at)}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>$e(ne.id,ne.code),disabled:ze,title:"Ver OI","aria-label":`Ver OI ${ne.code}`,children:"Ver"}),o.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>Ae(ne.id,ne.code),disabled:ze,title:"Editar OI","aria-label":`Editar OI ${ne.code}`,children:"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>Z(ne.id),disabled:ze,title:"Descargar Excel","aria-label":`Descargar Excel ${ne.code}`,children:"Excel"}),xe&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>C(ne.id,ne.code),disabled:ze,title:"Eliminar OI (Solo Admin)",children:""})]})]},ne.id))]})]})}),ce>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${_===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(ne=>Math.max(1,ne-1)),disabled:_===1,children:""})}),Array.from({length:he-oe+1},(ne,Ue)=>{const Ve=oe+Ue;return o.jsx("li",{className:`page-item ${Ve===_?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(Ve),children:Ve})},Ve)}),o.jsx("li",{className:`page-item ${_===ce?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(ne=>Math.min(ce,ne+1)),disabled:_===ce,children:"Siguiente"})})]})})]})]}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:Le})}),o.jsx(lu,{show:Te,title:"Contrasea para proteger Excel",onClose:()=>{qe(!1),ke(null)},onConfirm:ne=>{qe(!1),R(ne)}})]})}async function pT(e){return(await Ge.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function gT(){const{toast:e}=Ar(),a=Rn(),s=wa(a?.role,a?.username),l=s==="admin"||s==="administrator",c=Pm(a),[d,m]=b.useState(!1),[h,g]=b.useState(null),[p,v]=b.useState(!1),[x,N]=b.useState(""),[q,_]=b.useState(""),[j,A]=b.useState(""),[B,T]=b.useState(20),[J,k]=b.useState(1),O=(J-1)*B,$=b.useRef(!1);b.useEffect(()=>{if(!$.current){$.current=!0;return}const Ae=setTimeout(()=>{_(x.trim()),k(1)},250);return()=>clearTimeout(Ae)},[x]);const{data:U,refetch:Y,isLoading:ie,isFetching:Ne,error:xe}=Nr({queryKey:["users",{search:q,roleFilter:j,pageSize:B,offset:O}],queryFn:()=>pT({q:q||void 0,role:j||void 0,limit:B,offset:O}),enabled:l,placeholderData:Ae=>Ae}),{register:fe,handleSubmit:ve,reset:De}=Vc(),Re=()=>{g(null),De({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),m(!0)},M=Ae=>{g(Ae),De({username:Ae.username,password:"",first_name:Ae.first_name,last_name:Ae.last_name,role:wa(Ae.role,Ae.username),tech_number:Ae.tech_number}),m(!0)},I=()=>{m(!1),g(null),De()},W=async Ae=>{try{v(!0),await Ge.post("/auth/users",{...Ae,tech_number:Number(Ae.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),I(),Y()}catch(Xe){e({kind:"error",title:"Error",message:Xe.response?.data?.detail||"Error al crear"})}finally{v(!1)}},ge=async Ae=>{if(!h)return;const Xe=String(Ae.password||"").trim();try{if(v(!0),c){const C={username:String(Ae.username||"").trim(),first_name:String(Ae.first_name||"").trim(),last_name:String(Ae.last_name||"").trim(),role:Ae.role,tech_number:Number(Ae.tech_number)};Xe&&(C.password=Xe),await Ge.put(`/auth/users/${h.id}`,C),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!Xe){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Ge.put(`/auth/users/${h.id}/password`,{new_password:Xe}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}I(),Y()}catch(C){const Z=C?.response?.data?.detail||C?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:Z})}finally{v(!1)}},we=async Ae=>{if(confirm(`Eliminar usuario? ${Ae.username}?
Esto solo es posible si no tiene registros.`))try{v(!0),await Ge.delete(`/auth/users/${Ae.id}`),e({kind:"success",message:"Usuario eliminado"}),Y()}catch(Xe){e({kind:"error",title:"No se puede eliminar",message:Xe.response?.data?.detail||Xe.message})}finally{v(!1)}},w=b.useMemo(()=>U?.items??[],[U]),V=U?.total??0,ce=U?.limit??B,z=ce>0?Math.ceil(V/ce):1,oe=10;let he=1,Te=z;if(z>oe){const Ae=Math.floor(oe/2);he=Math.max(1,J-Ae),Te=he+oe-1,Te>z&&(Te=z,he=Math.max(1,Te-oe+1))}const qe=V===0?0:O+1,me=V===0?0:Math.min(O+w.length,V),ke=V===0?"0 registros":`Mostrando ${qe}-${me} de ${V} registros`,Fe=ie||Ne||p,_e=()=>{N(""),_(""),A(""),k(1),T(20)},Me=!!h,le=Me&&!c,ze=!Me||!c,de=(h?.username??"").toLowerCase()==="admin",$e=Me?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return l?o.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[o.jsx(Ol,{show:Fe}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),o.jsx("button",{className:"btn btn-primary",onClick:Re,disabled:Fe,children:"+ Nuevo Usuario"})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[o.jsxs("div",{style:{minWidth:260},children:[o.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:Ae=>{N(Ae.target.value),k(1)}})]}),o.jsxs("div",{style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Rol"}),o.jsxs("select",{className:"form-select form-select-sm",value:j,onChange:Ae=>{A(Ae.target.value),k(1)},children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"admin"}),o.jsx("option",{value:"administrator",children:"administrator"}),o.jsx("option",{value:"technician",children:"technician"}),o.jsx("option",{value:"standard",children:"standard"}),o.jsx("option",{value:"user",children:"user (legacy)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:B,onChange:Ae=>{const Xe=Number(Ae.target.value)||20;T(Xe),k(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:_e,disabled:Fe,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>Y(),disabled:Fe,children:"Recargar"})]})]}),xe?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,o.jsx("div",{className:"card shadow-sm",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover align-middle mb-0",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Nombre"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{children:"N Tcnico"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[w.map(Ae=>o.jsxs("tr",{children:[o.jsx("td",{className:"fw-bold",children:Ae.username}),o.jsxs("td",{children:[Ae.first_name," ",Ae.last_name]}),o.jsx("td",{children:(()=>{const Xe=wa(Ae.role,Ae.username),C=Ae.username.toLowerCase()==="admin"?"Superusuario":Xe==="administrator"?"Administrador":Xe==="technician"?"Tcnico":"Estndar",Z=Ae.username.toLowerCase()==="admin"?"bg-danger":Xe==="administrator"?"bg-warning text-dark":Xe==="technician"?"bg-info text-dark":"bg-secondary";return o.jsx("span",{className:`badge ${Z}`,children:C})})()}),o.jsx("td",{children:Ae.tech_number}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${Ae.username}`,disabled:Fe||Ae.username==="admin"||!c&&wa(Ae.role,Ae.username)==="administrator",onClick:()=>M(Ae),children:o.jsx("i",{className:"ti ti-edit"})}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${Ae.username}`,disabled:Fe||Ae.username==="admin"||!c&&wa(Ae.role,Ae.username)==="administrator",onClick:()=>we(Ae),children:o.jsx("i",{className:"ti ti-trash"})})]})]},Ae.id)),w.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),z>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${J===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(Ae=>Math.max(1,Ae-1)),disabled:J===1,children:"Anterior"})}),Array.from({length:Te-he+1},(Ae,Xe)=>{const C=he+Xe;return o.jsx("li",{className:`page-item ${C===J?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(C),children:C})},C)}),o.jsx("li",{className:`page-item ${J===z?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(Ae=>Math.min(z,Ae+1)),disabled:J===z,children:"Siguiente"})})]})}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:ke})}),d&&o.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:ve(Me?ge:W),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:Me?"Actualizar Usuario":"Nuevo Usuario"}),o.jsx("button",{type:"button",className:"btn-close",onClick:I})]}),o.jsxs("div",{className:"modal-body row g-3",children:[o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Usuario"}),o.jsx("input",{className:"form-control",disabled:le,...fe("username",{required:!0})})]}),o.jsx("div",{className:"col-6",children:o.jsx(Bi,{label:"Contrasea",...fe("password",{required:ze}),autoComplete:"new-password",helpText:$e})}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Nombre"}),o.jsx("input",{className:"form-control",disabled:le,...fe("first_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Apellido"}),o.jsx("input",{className:"form-control",disabled:le,...fe("last_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Rol"}),o.jsxs("select",{className:"form-select",disabled:le,...fe("role"),children:[de?o.jsx("option",{value:"admin",children:"Superusuario"}):null,o.jsx("option",{value:"technician",children:"Tecnico"}),o.jsx("option",{value:"standard",children:"Estandar"}),c?o.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"N Tecnico"}),o.jsx("input",{type:"number",className:"form-control",disabled:le,...fe("tech_number",{required:!0})}),o.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:I,disabled:Fe,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Fe,children:Me?"Actualizar":"Guardar"})]})]})})})]}):o.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function yT(){const{toast:e}=Ar(),[a,s]=b.useState(""),[l,c]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,g=async p=>{if(p.preventDefault(),!!h)try{m(!0),await mE(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return o.jsx("div",{className:"container py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"card shadow-sm",children:[o.jsx("div",{className:"card-header",children:o.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),o.jsxs("form",{onSubmit:g,children:[o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"mb-3",children:o.jsx(Bi,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),o.jsx("div",{className:"mb-3",children:o.jsx(Bi,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),o.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function bT(e){return(await Ge.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function vT(e,a){const{data:s}=await Ge.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const Nm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"logistica_history",label:"Historial de consolidaciones",path:"/logistica/log01/history"},{id:"logistica_pdfs",label:"Filtrado de Cert.PDFs",path:"/logistica/log02/pdfs"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],pv=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica","logistica_history","logistica_pdfs"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function gv(e){const a=new Set(Nm.map(c=>c.id)),s=new Set,l=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),l.push(d))}return l}const yv="admin_permisos:collapsed_groups";function xT(){const e=km(),{toast:a}=Ar(),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState(20),[v,x]=b.useState(1),N=(v-1)*g,q=b.useRef(!1);b.useEffect(()=>{if(!q.current){q.current=!0;return}const z=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(z)},[s]);const{data:_,isLoading:j,error:A,refetch:B}=Nr({queryKey:["admin","permisos",{search:c,roleFilter:m,pageSize:g,offset:N}],queryFn:()=>bT({q:c||void 0,role:m||void 0,limit:g,offset:N}),placeholderData:z=>z}),[T,J]=b.useState(null),[k,O]=b.useState([]),$=(T?.username??"").toLowerCase()==="admin",[U,Y]=b.useState(()=>{const z=Object.fromEntries(pv.map(oe=>[oe.id,!0]));try{const oe=localStorage.getItem(yv);if(!oe)return z;const he=JSON.parse(oe);return!he||typeof he!="object"?z:{...z,...he}}catch{return z}}),ie=(z,oe)=>{Y(he=>{const Te={...he,[z]:oe};try{localStorage.setItem(yv,JSON.stringify(Te))}catch{}return Te})},Ne=z=>{J(z),O(gv(z.allowedModules??[]))},xe=()=>{J(null),O([])},fe=Z_({mutationFn:async z=>vT(z.userId,z.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),xe()},onError:z=>{const oe=z?.response?.data?.detail??z?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(oe)})}}),ve=b.useMemo(()=>_?.items??[],[_]),De=_?.total??0,Re=_?.limit??g,M=Re>0?Math.ceil(De/Re):1,I=De===0?0:N+1,W=De===0?0:Math.min(N+ve.length,De),ge=De===0?"0 registros":`Mostrando ${I}-${W} de ${De} registros`,we=z=>{O(oe=>{const he=new Set(oe);return he.has(z)?he.delete(z):he.add(z),Array.from(he)})},w=z=>{O(oe=>{const he=new Set(oe),Te=z.moduleIds.filter(me=>Nm.some(ke=>ke.id===me));if(Te.length>0&&Te.every(me=>he.has(me)))for(const me of Te)he.delete(me);else for(const me of Te)he.add(me);return Array.from(he)})},V=()=>{T&&fe.mutate({userId:T.id,allowedModules:gv(k)})},ce=()=>{l(""),d(""),h(""),x(1),p(20)};return o.jsxs("div",{className:"container-fluid",children:[o.jsx(Ol,{show:fe.isPending,label:"Guardando permisos..."}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),o.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),o.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[o.jsxs("div",{style:{minWidth:260},children:[o.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:z=>{l(z.target.value),x(1)}})]}),o.jsxs("div",{style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Rol"}),o.jsxs("select",{className:"form-select form-select-sm",value:m,onChange:z=>{h(z.target.value),x(1)},children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"admin"}),o.jsx("option",{value:"administrator",children:"administrator"}),o.jsx("option",{value:"technician",children:"technician"}),o.jsx("option",{value:"standard",children:"standard"}),o.jsx("option",{value:"user",children:"user (legacy)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:g,onChange:z=>{const oe=Number(z.target.value)||20;p(oe),x(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:ce,disabled:j||fe.isPending,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>B(),disabled:j||fe.isPending,children:"Recargar"})]})]}),j?o.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):A?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[ve.map(z=>o.jsxs("tr",{children:[o.jsx("td",{children:z.username}),o.jsx("td",{children:z.role}),o.jsx("td",{className:"text-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Ne(z),disabled:(z.username??"").toLowerCase()==="admin",children:"Editar"})})]},z.id)),ve.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),o.jsx("div",{className:"d-flex justify-content-end mt-2",children:o.jsx("small",{className:"text-muted",children:ge})}),M>1&&o.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${v===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(z=>Math.max(1,z-1)),disabled:v===1,children:""})}),o.jsx("li",{className:"page-item disabled",children:o.jsxs("span",{className:"page-link",children:["Pgina ",v," / ",M]})}),o.jsx("li",{className:`page-item ${v===M?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(z=>Math.min(M,z+1)),disabled:v===M,children:"Siguiente"})})]})})]})})}),T&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:z=>{z.target===z.currentTarget&&xe()},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",T.username]}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:xe})]}),o.jsxs("div",{className:"modal-body",children:[$?o.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",o.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,pv.map(z=>{const oe=z.moduleIds.map(ke=>Nm.find(Fe=>Fe.id===ke)).filter(Boolean),he=oe.filter(ke=>k.includes(ke.id)).length,Te=oe.length>0&&he===oe.length,qe=he>0&&!Te,me=!!U[z.id];return o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsxs("div",{className:"form-check mb-0",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${T.id}-${z.id}`,checked:Te,ref:ke=>{ke&&(ke.indeterminate=qe)},onChange:()=>w(z),disabled:fe.isPending||$}),o.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${T.id}-${z.id}`,children:[z.label,o.jsxs("span",{className:"text-muted ms-2 small",children:["(",he,"/",oe.length,")"]})]})]}),o.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Acciones ${z.label}`,children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>ie(z.id,!me),disabled:fe.isPending,children:me?"Expandir":"Contraer"})})]}),!me&&o.jsx("div",{className:"mt-2 ms-4 ps-3 border-start border-2 border-light",children:o.jsx("div",{className:"row",children:oe.map(ke=>o.jsx("div",{className:"col-md-6 mb-2",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${T.id}-${ke.id}`,checked:k.includes(ke.id),onChange:()=>we(ke.id),disabled:fe.isPending||$}),o.jsxs("label",{className:"form-check-label",htmlFor:`perm-${T.id}-${ke.id}`,children:[ke.label," ",o.jsxs("span",{className:"text-muted",children:["(",ke.path,")"]})]})]})},ke.id))})})]},z.id)}),o.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:xe,disabled:fe.isPending,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:V,disabled:fe.isPending||$,children:"Guardar"})]})]})})})]})}function ST(e){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function NT(e,a){return Ge.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function wT(e,a){return Ge.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function bv(e,a,s){const l=ST(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let g="";for(;;){const{value:p,done:v}=await m.read();if(v)break;g+=h.decode(p,{stream:!0});let x;for(;(x=g.indexOf(`
`))>=0;){const N=g.slice(0,x).trim();if(g=g.slice(x+1),!!N)try{a(JSON.parse(N))}catch{}}}}function x0(e){return`${e.name}::${e.size}::${e.lastModified}`}function _T(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function qc(e){return _T(e.name)}function jT(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function ah(e,a){const s=jT(a);if(!s)return e;const l=s.filter(c=>c.startsWith("."));return l.length===0?e:e.filter(c=>l.some(d=>c.name.toLowerCase().endsWith(d)))}function ET(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],c=[],d=new Set(e.map(qc));for(const m of a){const h=qc(m);if(d.has(h)){c.push(m);continue}d.add(h),s.push(m),l.push(m)}return{merged:s,added:l,duplicates:c}}function Fi({label:e,accept:a,disabled:s=!1,file:l,onChange:c}){const d=b.useRef(null),m=b.useRef(0),[h,g]=b.useState(!1),p=()=>{s||d.current?.click()},v=()=>{s||(d.current&&(d.current.value=""),c(null))},x=A=>{c(A.target.files?.[0]??null),A.currentTarget.value=""},N=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current+=1,g(!0))},q=A=>{A.preventDefault(),A.stopPropagation()},_=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current=Math.max(0,m.current-1),m.current===0&&g(!1))},j=A=>{if(A.preventDefault(),A.stopPropagation(),m.current=0,g(!1),s)return;const B=A.dataTransfer?.files?Array.from(A.dataTransfer.files):[],J=ah(B,a)[0]??null;J&&(d.current&&(d.current.value=""),c(J))};return o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),o.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:N,onDragOver:q,onDragLeave:_,onDrop:j,"aria-disabled":s?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:s||!l,children:"Eliminar"}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const AT={status:"estado",progress:"progreso",complete:"completado",error:"error"},CT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},OT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function S0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function Sl(e){if(!e)return"";const a=e.toLowerCase();return S0(AT[a]??e)}function Ji(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return S0(CT[a]??Rl(s))}function Rl(e){if(!e)return"";let a=e;for(const[s,l]of OT)a=a.replace(s,l);return a}function RT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function TT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function DT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState(""),[m,h]=b.useState(11),[g,p]=b.useState(11),[v,x]=b.useState(!0),[N,q]=b.useState(!0),[_,j]=b.useState(!0),[A,B]=b.useState(!0),[T,J]=b.useState(!1),[k,O]=b.useState(""),[$,U]=b.useState(null),[Y,ie]=b.useState(null),[Ne,xe]=b.useState(null),[fe,ve]=b.useState([]),[De,Re]=b.useState(""),M=b.useRef(null),I=b.useRef(null),[W,ge]=b.useState(!1),[we,w]=b.useState(!1),[V,ce]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),z=b.useMemo(()=>!!e&&!!s&&!$,[e,s,$]);function oe(le){ve(de=>[le,...de].slice(0,200));const ze=typeof le.percent=="number"?le.percent:typeof le.progress=="number"?le.progress:null;ze!=null&&Number.isFinite(ze)&&xe(Math.max(0,Math.min(100,ze)))}function he(){M.current?.abort(),M.current=null}function Te(){$&&he()}function qe(le,ze){if(!e||!s)throw new Error("Faltan archivos");const de=new FormData;de.append("vima_file",e),de.append("lista_file",s);const $e=(ze??c).trim();return $e&&de.append("vima_password",$e),de.append("vima_start_row",String(m)),de.append("lista_start_row",String(g)),de.append("require_all_g_to_n",v?"true":"false"),de.append("incremental",N?"true":"false"),de.append("strict_incremental",_?"true":"false"),de.append("replicate_merges",A?"true":"false"),de.append("update_existing_periodo",T?"true":"false"),k.trim()&&de.append("oi_pattern",k.trim()),de.append("operation_id",le),de}function me(){I.current=null,w(!1)}function ke(le,ze){I.current=le,ce(ze),w(!0)}function Fe(le,ze){if(!ut.isAxiosError(le)){Re(String(le));return}const de=le;if(de.code==="ERR_CANCELED")return;const $e=de.response?.headers?.["x-code"],Ae=de.response?.data?.detail??de.message;if($e==="PASSWORD_REQUIRED"){Re(""),ke(ze,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if($e==="WRONG_PASSWORD"){Re(""),ke(ze,"Contrasea incorrecta. Intenta nuevamente.");return}Re(String(Ae))}async function _e(le){Re(""),ie(null),ve([]),xe(0);const ze=crypto.randomUUID();M.current=new AbortController,bv(ze,oe,M.current.signal).catch(()=>{}),U("dry");try{const de=qe(ze,le?.passwordOverride),$e=await NT(de,M.current.signal);ie($e.data)}catch(de){Fe(de,"dry")}finally{he(),U(null)}}async function Me(le){Re(""),ve([]),xe(0);const ze=crypto.randomUUID();M.current=new AbortController,bv(ze,oe,M.current.signal).catch(()=>{}),U("upload");try{const de=qe(ze,le?.passwordOverride),$e=await wT(de,M.current.signal),Ae=$e.headers?.["content-disposition"],Xe=RT(Ae)??"LISTA_SALIDA.xlsx";TT($e.data,Xe)}catch(de){Fe(de,"upload")}finally{he(),U(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row gap-20",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),o.jsx("div",{className:"mB-15",children:o.jsx(Fi,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!$})}),o.jsx("div",{className:"mB-15",children:o.jsx(Fi,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!$})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:le=>d(le.target.value),placeholder:"(opcional)"})]}),W?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),o.jsx("input",{className:"form-control",type:"number",value:m,onChange:le=>h(Number(le.target.value))})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),o.jsx("input",{className:"form-control",type:"number",value:g,onChange:le=>p(Number(le.target.value))})]})]}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),o.jsx("input",{className:"form-control",value:k,onChange:le=>O(le.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),o.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),o.jsxs("div",{className:"row mT-10",children:[o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:le=>x(le.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:A,onChange:le=>B(le.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:N,onChange:le=>q(le.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:_,onChange:le=>j(le.target.checked),disabled:!N}),o.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:T,onChange:le=>J(le.target.checked),disabled:!N}),o.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,De&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:De}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>ge(le=>!le),disabled:!!$,children:W?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary",disabled:!z,onClick:()=>void Me(),children:$==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!$,onClick:Te,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!z,onClick:()=>void _e(),children:$==="dry"?"Analizando...":"Analizar"})]}),Y&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h5",{className:"c-grey-900",children:"Resumen"}),o.jsxs("ul",{className:"mB-0",children:[o.jsxs("li",{children:["Filas a copiar: ",o.jsx("b",{children:Y.would_copy})]}),o.jsxs("li",{children:["Fila inicio escritura (LISTA): ",o.jsx("b",{children:Y.start_write_row})]}),o.jsxs("li",{children:["ltimo OI en LISTA: ",o.jsx("b",{children:String(Y.last_oi_in_lista??"-")})]}),o.jsxs("li",{children:["Primer OI a copiar: ",o.jsx("b",{children:String(Y.first_oi_to_copy??"-")})]}),o.jsxs("li",{children:["ltimo OI a copiar: ",o.jsx("b",{children:String(Y.last_oi_to_copy??"-")})]})]})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),$?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Ne??0}%`},"aria-valuenow":Ne??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:fe.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:fe.map((le,ze)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Sl(le.type)})," ",le.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(le.stage),"]"]}):null,typeof le.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",le.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Rl(le.message??le.detail??"")}),le.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",le.code]}):null]},ze))})})]})})]}),o.jsx(lu,{show:we,title:"Archivo protegido",confirmLabel:"Continuar",helpText:V,onClose:me,onConfirm:le=>{d(le),w(!1);const ze=I.current;I.current=null,ze&&(ze==="dry"?_e({passwordOverride:le}):Me({passwordOverride:le}))}})]})}const zT=(...e)=>{};function iu(e){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function N0(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let c="";for(;;){const{value:d,done:m}=await s.read();if(m)break;c+=l.decode(d,{stream:!0});let h;for(;(h=c.indexOf(`
`))>=0;){const g=c.slice(0,h).trim();if(c=c.slice(h+1),!!g)try{a(JSON.parse(g))}catch{}}}}function bl(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function sh(e,a,s){const l=iu(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw bl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await N0(d,a)}async function MT(e,a,s){const l=iu(`/logistica/log01/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const x=d.headers.get("X-Code")??void 0;throw bl(`No se pudo abrir el stream (${d.status})`,d.status,x)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw bl("Stream no es NDJSON",d.status);if(!d.body)throw bl("Stream sin body",d.status);const h=d.body.getReader(),g=new TextDecoder("utf-8");let p="",v=!1;for(;;){const{value:x,done:N}=await h.read();if(N)break;!v&&x&&x.length&&(v=!0),p+=g.decode(x,{stream:!0});let q;for(;(q=p.indexOf(`
`))>=0;){const _=p.slice(0,q).trim();if(p=p.slice(q+1),!!_)try{const j=JSON.parse(_);zT("[LOG01] progress event =",j),a(j)}catch{}}}}async function kT(e,a,s){const l=iu("/bases/actualizar/dry-run-upload"),c=Rn()?.token,d=await fetch(l,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const g=await d.json();g?.detail&&(h=String(g.detail))}catch{}throw bl(h,d.status,m)}await N0(d,a)}async function UT(e,a){return Ge.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function LT(e,a){return Ge.post("/logistica/log01/start",e,{signal:a})}async function BT(e,a,s){const l=iu(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw bl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function qT(e,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function IT(e){await Ge.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function FT(e={}){const{limit:a=20,offset:s=0,include_deleted:l=!1,q:c,dateFrom:d,dateTo:m,source:h,status:g}=e,p={limit:a,offset:s,include_deleted:l};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),m&&m.trim()&&(p.dateTo=m.trim()),h&&h.trim()&&(p.source=h.trim()),g&&g.trim()&&(p.status=g.trim());const{data:v}=await Ge.get("/logistica/log01/history",{params:p});return v}async function $T(e,a,s){return Ge.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:l=>l===200})}async function HT(e,a){await Ge.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function VT(){return(await Ge.get("/logistica/log02/explorador/roots")).data}async function ZT(e){return(await Ge.get("/logistica/log02/explorador/listar",{params:{path:e}})).data}async function GT(e){return(await Ge.post("/logistica/log02/validar-rutas-unc",e)).data}async function QT(e={}){const{limit:a=20,offset:s=0,q:l,dateFrom:c,dateTo:d,origin:m}=e,h={limit:a,offset:s};l&&l.trim()&&(h.q=l.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),m&&m.trim()&&(h.origin=m.trim());const{data:g}=await Ge.get("/oi/tools/formato-ac/history",{params:h});return g}async function PT(e,a){return Ge.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function w0(){const{data:e}=await Ge.get("/merge/config/upload-limits");return e}async function _0(e,a,s){return Ge.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function j0(e){await Ge.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function YT(e){const{data:a}=await Ge.post("/tools/files/upload",e);return a}async function KT(e){const{data:a}=await Ge.post("/tools/excel/inspect",e);return a}async function XT(e){const{data:a}=await Ge.post("/tools/excel/update",e);return a}async function JT(e){const{data:a}=await Ge.post("/tools/excel/change-password",e);return a}async function WT(e){const{data:a}=await Ge.post("/tools/excel/validate",e);return a}function e2({show:e,disabled:a=!1,title:s,accept:l,files:c,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:g}){const p=b.useRef(null),v=b.useRef(0),[x,N]=b.useState(!1),[q,_]=b.useState("");b.useEffect(()=>{if(!e)return;const U=Y=>{Y.key==="Escape"&&d()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e,d]),b.useEffect(()=>{e||N(!1)},[e]),b.useEffect(()=>{e&&_("")},[e]);const j=b.useCallback(U=>{const Y=ah(U,l);if(Y.length===0)return;const ie=new Set(c.map(qc)),Ne=new Set(ie),xe=[],fe=[];for(const ve of Y){const De=qc(ve);if(Ne.has(De)){fe.push(ve);continue}Ne.add(De),xe.push(ve)}if(fe.length>0){const ve=Array.from(new Set(fe.map(Re=>Re.name))),De=fe.length;if(ve.length===1){const Re=De===1?"Se omiti 1 archivo duplicado":`Se omitieron ${De} archivos duplicados`;_(`${Re}: "${ve[0]}".`)}else _(`Se omitieron ${De} archivos duplicados: ${ve.join(", ")}.`)}xe.length>0&&m(xe)},[l,c,m]);if(b.useEffect(()=>{if(!e)return;const U=ie=>{ie.preventDefault(),ie.stopPropagation()},Y=ie=>{if(ie.preventDefault(),ie.stopPropagation(),a)return;const Ne=ie.dataTransfer?.files?Array.from(ie.dataTransfer.files):[];j(Ne)};return window.addEventListener("dragover",U,!0),window.addEventListener("drop",Y,!0),()=>{window.removeEventListener("dragover",U,!0),window.removeEventListener("drop",Y,!0)}},[e,a,j]),!e)return null;const A=()=>{a||p.current?.click()},B=U=>{const Y=U.target.files?Array.from(U.target.files):[];j(Y),U.currentTarget.value=""},T=()=>{a||(p.current&&(p.current.value=""),g())},J=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current+=1,N(!0))},k=U=>{U.preventDefault(),U.stopPropagation()},O=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&N(!1))},$=U=>{if(U.preventDefault(),U.stopPropagation(),v.current=0,N(!1),a)return;const Y=U.dataTransfer?.files?Array.from(U.dataTransfer.files):[];j(Y)};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:U=>{U.target===U.currentTarget&&d()},children:o.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:B,disabled:a}),q?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[o.jsx("div",{children:q}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>_("")})]}):null,o.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:J,onDragOver:k,onDragLeave:O,onDrop:$,"aria-disabled":a?"true":"false",children:[o.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",o.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:A,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?o.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[o.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:A,disabled:a,children:"Agregar ms"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:T,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:o.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:o.jsx("ul",{className:"list-group",children:c.map(U=>{const Y=x0(U);return o.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[o.jsx("div",{className:"text-truncate",style:{minWidth:0},children:U.name}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(Y),disabled:a,children:"Eliminar"})]},Y)})})})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function t2(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(l=>l.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function ou({label:e,title:a,accept:s,disabled:l=!1,fullDropArea:c=!1,files:d,setFiles:m}){const[h,g]=b.useState(!1),[p,v]=b.useState(!1),[x,N]=b.useState(""),q=b.useRef(0),_=b.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),j=d.length===0?"Agregar archivos":"Modificar/agregar archivos",A=$=>{const U=ah($,s);U.length!==0&&m(Y=>{const{merged:ie,duplicates:Ne}=ET(Y,U);return Ne.length>0&&N(t2(Ne)),ie})},B=$=>{$.preventDefault(),$.stopPropagation(),!l&&(q.current+=1,v(!0))},T=$=>{$.preventDefault(),$.stopPropagation()},J=$=>{$.preventDefault(),$.stopPropagation(),!l&&(q.current=Math.max(0,q.current-1),q.current===0&&v(!1))},k=$=>{if($.preventDefault(),$.stopPropagation(),q.current=0,v(!1),l)return;const U=$.dataTransfer?.files?Array.from($.dataTransfer.files):[];A(U)},O=o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"form-label",children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:j}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>N("")})]}):null]});return o.jsxs(o.Fragment,{children:[c?o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:J,onDrop:k,"aria-disabled":l?"true":"false",children:O}):o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:J,onDrop:k,"aria-disabled":l?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:j}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]})}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>N("")})]}):null]}),o.jsx(e2,{show:h,disabled:l,title:a,accept:s,files:d,onClose:()=>g(!1),onAddFiles:A,onRemoveFile:$=>m(U=>U.filter(Y=>x0(Y)!==$)),onRemoveAll:()=>m([])})]})}function n2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function a2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function s2(e){if(!ut.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=l?.detail??a.message;return{detail:String(c),code:s}}function r2(){const[e,a]=b.useState(null),[s,l]=b.useState([]),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,x]=b.useState(9),[N,q]=b.useState("ERROR FINAL"),[_,j]=b.useState(!0),[A,B]=b.useState(!1),[T,J]=b.useState(!1),[k,O]=b.useState(null),[$,U]=b.useState(null),[Y,ie]=b.useState([]),[Ne,xe]=b.useState(""),fe=b.useRef(null),ve=b.useRef(null),[De,Re]=b.useState(!1),[M,I]=b.useState(!1),[W,ge]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),we=b.useMemo(()=>!!e&&s.length>0&&!k,[e,s,k]);function w(me){ie(Fe=>[me,...Fe].slice(0,200));const ke=typeof me.percent=="number"?me.percent:typeof me.progress=="number"?me.progress:null;ke!=null&&Number.isFinite(ke)&&U(Math.max(0,Math.min(100,ke)))}function V(){fe.current?.abort(),fe.current=null}function ce(){k&&V()}function z(me,ke){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const Fe=new FormData;Fe.append("base_file",e);for(const Me of s)Fe.append("oi_files",Me);const _e=(ke??c).trim();return _e&&Fe.append("default_password",_e),m.trim()&&Fe.append("per_file_passwords_json",m.trim()),g.trim()&&Fe.append("oi_pattern",g.trim()),Fe.append("oi_start_row",String(v)),N.trim()&&Fe.append("base_sheet",N.trim()),me&&Fe.append("operation_id",me),Fe}function oe(){ve.current=null,I(!1)}function he(me,ke){ve.current=me,ge(ke),I(!0)}async function Te(me){xe(""),ie([]),U(0),fe.current=new AbortController,O("dry");try{const ke=z(void 0,me?.passwordOverride);await kT(ke,w,fe.current.signal)}catch(ke){if(ke?.name==="AbortError")return;const Fe=ke?.code,_e=String(ke?.message??ke);if(Fe==="PASSWORD_REQUIRED"){xe(""),he("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Fe==="WRONG_PASSWORD"){xe(""),he("dry","Contrasea incorrecta. Intenta nuevamente.");return}else xe(_e)}finally{V(),O(null)}}async function qe(me){xe(""),ie([]),U(0);const ke=crypto.randomUUID();fe.current=new AbortController,sh(ke,w,fe.current.signal).catch(()=>{}),O("upload");try{const Fe=z(ke,me?.passwordOverride);Fe.append("replicate_merges",_?"true":"false"),Fe.append("replicate_row_heights",A?"true":"false"),Fe.append("replicate_col_widths",T?"true":"false");const _e=await UT(Fe,fe.current.signal),Me=_e.headers["content-disposition"],le=_e.headers["x-file-name"],ze=n2(Me)??le??"base_actualizada.xlsx";a2(_e.data,ze)}catch(Fe){if(ut.isAxiosError(Fe)&&Fe.code==="ERR_CANCELED")return;const{detail:_e,code:Me}=await s2(Fe);if(Me==="PASSWORD_REQUIRED"){xe(""),he("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Me==="WRONG_PASSWORD"){xe(""),he("upload","Contrasea incorrecta. Intenta nuevamente.");return}else xe(_e)}finally{V(),O(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),o.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Fi,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!k})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(ou,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!k})}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:me=>d(me.target.value),disabled:!!k})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),o.jsx("input",{className:"form-control",value:N,onChange:me=>q(me.target.value),disabled:!!k})]}),De?o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),o.jsx("input",{className:"form-control",value:g,onChange:me=>p(me.target.value),disabled:!!k})]}):null,o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio OI"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:me=>x(Number(me.target.value||9)),disabled:!!k})]}),o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),o.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:me=>h(me.target.value),disabled:!!k,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),De?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:_,onChange:me=>j(me.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:A,onChange:me=>B(me.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:T,onChange:me=>J(me.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),Ne&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:Ne}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Re(me=>!me),disabled:!!k,children:De?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-15",children:[o.jsx("button",{className:"btn btn-primary",disabled:!we,onClick:()=>void qe(),children:k==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!k,onClick:ce,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!we,onClick:()=>void Te(),children:k==="dry"?"Analizando...":"Analizar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),k?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${$??0}%`},"aria-valuenow":$??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:Y.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:Y.map((me,ke)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Sl(me.type)})," ",me.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(me.stage),"]"]}):null,typeof me.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",me.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Rl(me.message??me.detail??"")}),me.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",me.code]}):null]},ke))})})]})})]}),o.jsx(lu,{show:M,title:"Archivo protegido",confirmLabel:"Continuar",helpText:W,onClose:oe,onConfirm:me=>{d(me),I(!1);const ke=ve.current;ve.current=null,ke&&(ke==="dry"?Te({passwordOverride:me}):qe({passwordOverride:me}))}})]})}const l2="America/Lima";function i2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function o2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function c2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:l2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function u2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function d2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function f2(){const[e,a]=b.useState([]),[s,l]=b.useState(0),[c,d]=b.useState(!1),[m,h]=b.useState(""),[g,p]=b.useState(0),[v,x]=b.useState(""),[N,q]=b.useState(""),[_,j]=b.useState(""),[A,B]=b.useState(""),[T,J]=b.useState(20),[k,O]=b.useState(1),[$,U]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),Y=b.useMemo(()=>(k-1)*T,[k,T]);b.useEffect(()=>{let I=!1;return d(!0),h(""),QT({limit:T,offset:Y,q:$.q||void 0,dateFrom:$.dateFrom||void 0,dateTo:$.dateTo||void 0,origin:$.origin||void 0}).then(W=>{I||(a(Array.isArray(W?.items)?W.items:[]),l(typeof W?.total=="number"?W.total:0))}).catch(W=>{if(I)return;const ge=W,we=ge.response?.data?.detail||ge.message||"No se pudo cargar historial.";h(we)}).finally(()=>{I||d(!1)}),()=>{I=!0}},[$,Y,T,g]);const ie=()=>{U({q:v.trim(),dateFrom:N.trim(),dateTo:_.trim(),origin:A.trim()}),O(1)},Ne=()=>{x(""),q(""),j(""),B(""),U({q:"",dateFrom:"",dateTo:"",origin:""}),O(1),p(I=>I+1)},xe=()=>p(I=>I+1),fe=async I=>{try{h("");const W=await PT(I),ge=W.headers["content-disposition"],we=W.headers["x-file-name"],w=i2(ge)??we??"formato_ac.xlsx";o2(W.data,w)}catch(W){const ge=W;if(ut.isCancel(ge))return;const we=ge.response?.data?.detail||ge.message||"No se pudo descargar.";h(we)}},ve=s===0?0:Y+1,De=s===0?0:Math.min(Y+e.length,s),Re=k>1,M=Y+e.length<s;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),m?o.jsx("div",{className:"alert alert-danger",role:"alert",children:m}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:I=>{I.preventDefault(),ie()},children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:v,onChange:I=>x(I.target.value),onKeyDown:I=>{I.key==="Enter"&&ie()},placeholder:"Operacion o usuario..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:N,onChange:I=>q(I.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:_,onChange:I=>j(I.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:I=>B(I.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),o.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:T,onChange:I=>{const W=Number(I.target.value);J(Number.isFinite(W)?W:20),O(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Ne,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:xe,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[c?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(I=>{const W=I.created_by_full_name||I.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:I.operation_id}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:c2(I.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:W}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:d2(I.origin)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:u2(I.status),children:I.status})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void fe(I.id),children:"Descargar"})})})]},I.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",ve,"-",De," de ",s," registros"]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>Math.max(1,I-1)),disabled:!Re||c,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>I+1),disabled:!M||c,children:"Siguiente"})]})]})]})]})})})})}function m2(){return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),o.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),o.jsx(jc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"No correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),o.jsx(jc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function h2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function p2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function g2(e){if(!ut.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function y2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[N,q]=b.useState([]),_=b.useRef(null),j=b.useRef(null),A=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{w0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const $=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;$!=null&&Number.isFinite($)&&x(Math.max(0,Math.min(100,$)))}function T(){_.current?.abort(),_.current=null}function J(){if(!m)return;const O=j.current;O&&j0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function k(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const $=crypto.randomUUID();j.current=$,O.append("operation_id",$),_.current=new AbortController,h(!0);try{const U=_.current?.signal;sh($,B,U).catch(()=>{});const Y=await _0(O,"correlativo",U),ie=Y.headers["content-disposition"],Ne=h2(ie)??"consolidado_correlativo.xlsx";p2(Y.data,Ne)}catch(U){if(ut.isAxiosError(U)&&U.code==="ERR_CANCELED"||ut.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const Y=await g2(U);B({type:"error",stage:"error",detail:Y}),p(Y)}finally{j.current=null,h(!1),T()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Fi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(ou,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),g&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:k,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:J,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:N.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:N.map((O,$)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Sl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Rl(O.message??O.detail??"")})]},$))})})]})})]})})}function b2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function v2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function x2(e){if(!ut.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function S2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[N,q]=b.useState([]),_=b.useRef(null),j=b.useRef(null),A=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{w0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const $=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;$!=null&&Number.isFinite($)&&x(Math.max(0,Math.min(100,$)))}function T(){_.current?.abort(),_.current=null}function J(){if(!m)return;const O=j.current;O&&j0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function k(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const $=crypto.randomUUID();j.current=$,O.append("operation_id",$),_.current=new AbortController,h(!0);try{const U=_.current?.signal;sh($,B,U).catch(()=>{});const Y=await _0(O,"no-correlativo",U),ie=Y.headers["content-disposition"],Ne=b2(ie)??"consolidado_no_correlativo.xlsx";v2(Y.data,Ne)}catch(U){if(ut.isAxiosError(U)&&U.code==="ERR_CANCELED"||ut.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const Y=await x2(U);B({type:"error",stage:"error",detail:Y}),p(Y)}finally{j.current=null,h(!1),T()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Fi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(ou,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),g&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:k,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:J,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:N.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:N.map((O,$)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Sl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Rl(O.message??O.detail??"")})]},$))})})]})})]})})}async function Ri(e){if(!ut.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function N2(){const[e,a]=b.useState(null),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState("ERROR FINAL"),[v,x]=b.useState(""),[N,q]=b.useState("same_password"),[_,j]=b.useState(""),[A,B]=b.useState([{cell:"A1",value:""}]),[T,J]=b.useState(""),[k,O]=b.useState("no_password"),[$,U]=b.useState(""),[Y,ie]=b.useState("ERROR FINAL"),[Ne,xe]=b.useState(1),[fe,ve]=b.useState(""),[De,Re]=b.useState(""),[M,I]=b.useState(""),[W,ge]=b.useState(null),[we,w]=b.useState(""),[V,ce]=b.useState(null),[z,oe]=b.useState([]),[he,Te]=b.useState(null),qe=b.useMemo(()=>c.trim().length>0,[c]);function me(de){oe($e=>[de,...$e].slice(0,200))}function ke(){w(""),oe([]),ce(0),Te(null)}async function Fe(){if(ke(),!e){w("Selecciona un archivo para subir.");return}ge("upload");try{me({type:"status",stage:"upload",message:"Subiendo archivo..."}),ce(30);const de=new FormData;de.append("file",e),s.trim()&&de.append("suggested_name",s.trim());const $e=await YT(de);d($e.relative_path),Te($e),me({type:"complete",stage:"upload",message:"Archivo subido."}),ce(100)}catch(de){const $e=await Ri(de);w($e),me({type:"error",stage:"upload",detail:$e})}finally{ge(null)}}async function _e(){if(ke(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}ge("inspect");try{me({type:"status",stage:"inspect",message:"Inspeccionando..."}),ce(50);const de=await KT({file_path:c.trim(),open_password:m.trim()||null});Te(de),me({type:"complete",stage:"inspect",message:"Inspeccin completada."}),ce(100)}catch(de){const $e=await Ri(de);w($e),me({type:"error",stage:"inspect",detail:$e})}finally{ge(null)}}async function Me(){if(ke(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}if(!g.trim()){w("Ingresa el nombre de la hoja.");return}const de=A.map($e=>({cell:$e.cell.trim(),value:$e.value})).filter($e=>$e.cell);if(de.length===0){w("Agrega al menos una edicin.");return}ge("update");try{me({type:"status",stage:"update",message:"Aplicando ediciones..."}),ce(50);const $e=await XT({file_path:c.trim(),edits:de.map(Ae=>({sheet:g.trim(),cell:Ae.cell,value:Ae.value})),open_password:v.trim()||null,save_mode:N,new_password:N==="new_password"&&_.trim()||null});Te($e),me({type:"complete",stage:"update",message:"Actualizacin completada."}),ce(100)}catch($e){const Ae=await Ri($e);w(Ae),me({type:"error",stage:"update",detail:Ae})}finally{ge(null)}}async function le(){if(ke(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}if(!T.trim()){w("Ingresa la contrasea de apertura (open_password).");return}if(k==="new_password"&&!$.trim()){w("Ingresa la nueva contrasea.");return}ge("change-password");try{me({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),ce(50);const de=await JT({file_path:c.trim(),open_password:T.trim(),mode:k,new_password:k==="new_password"?$.trim():null});Te(de),me({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),ce(100)}catch(de){const $e=await Ri(de);w($e),me({type:"error",stage:"change-password",detail:$e})}finally{ge(null)}}async function ze(){if(ke(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}let de={};if(De.trim())try{de=JSON.parse(De)}catch{w("type_rules debe ser JSON vlido.");return}const $e=fe.split(",").map(Ae=>Ae.trim()).filter(Boolean);ge("validate");try{me({type:"status",stage:"validate",message:"Validando..."}),ce(50);const Ae=await WT({file_path:c.trim(),sheet:Y.trim()||null,header_row:Ne,required_columns:$e,type_rules:de,open_password:M.trim()||null});Te(Ae),me({type:"complete",stage:"validate",message:"Validacin completada."}),ce(100)}catch(Ae){const Xe=await Ri(Ae);w(Xe),me({type:"error",stage:"validate",detail:Xe})}finally{ge(null)}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),o.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-8 mB-10",children:o.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!W,onChange:de=>a(de.target.files?.[0]??null)})}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!W,onChange:de=>l(de.target.value)})})]}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!!W||!e,onClick:Fe,children:W==="upload"?"Subiendo...":"Subir"})]})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"file_path"}),o.jsx("input",{className:"form-control",value:c,disabled:!!W,onChange:de=>d(de.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),o.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"2) Inspect"}),o.jsxs("div",{className:"row align-items-end",children:[o.jsxs("div",{className:"col-md-8 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!W,onChange:de=>h(de.target.value)})]}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!W||!qe,onClick:_e,children:W==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"Hoja"}),o.jsx("input",{className:"form-control",value:g,disabled:!!W,onChange:de=>p(de.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!W,onChange:de=>x(de.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"save_mode"}),o.jsxs("select",{className:"form-select",value:N,disabled:!!W,onChange:de=>q(de.target.value),children:[o.jsx("option",{value:"same_password",children:"same_password"}),o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:_,disabled:!!W||N!=="new_password",onChange:de=>j(de.target.value),placeholder:N==="new_password"?"Requerido":""})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsx("label",{className:"form-label",children:"Ediciones"}),A.map((de,$e)=>o.jsxs("div",{className:"row g-2 mB-10",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("input",{className:"form-control",value:de.cell,disabled:!!W,onChange:Ae=>{const Xe=A.slice();Xe[$e]={...Xe[$e],cell:Ae.target.value},B(Xe)},placeholder:"Celda (A1)"})}),o.jsx("div",{className:"col-md-7",children:o.jsx("input",{className:"form-control",value:de.value,disabled:!!W,onChange:Ae=>{const Xe=A.slice();Xe[$e]={...Xe[$e],value:Ae.target.value},B(Xe)},placeholder:"Valor"})}),o.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!W,onClick:()=>B(Ae=>[...Ae,{cell:"A1",value:""}]),children:"+"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!W||A.length===1,onClick:()=>B(Ae=>Ae.filter((Xe,C)=>C!==$e)),children:""})]})]},$e))]}),o.jsx("button",{className:"btn btn-primary",disabled:!!W||!qe,onClick:Me,children:W==="update"?"Actualizando...":"Update"})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"4) Change password"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password"}),o.jsx("input",{className:"form-control",type:"password",value:T,disabled:!!W,onChange:de=>J(de.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"mode"}),o.jsxs("select",{className:"form-select",value:k,disabled:!!W,onChange:de=>O(de.target.value),children:[o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:$,disabled:!!W||k!=="new_password",onChange:de=>U(de.target.value),placeholder:k==="new_password"?"Requerido":""})]}),o.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!W||!qe,onClick:le,children:W==="change-password"?"Procesando...":"Change password"})})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"5) Validate"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"sheet (opcional)"}),o.jsx("input",{className:"form-control",value:Y,disabled:!!W,onChange:de=>ie(de.target.value)})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"header_row"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:Ne,disabled:!!W,onChange:de=>xe(Number(de.target.value||1))})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:M,disabled:!!W,onChange:de=>I(de.target.value)})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),o.jsx("input",{className:"form-control",value:fe,disabled:!!W,onChange:de=>ve(de.target.value),placeholder:"ColA, ColB, ColC"})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),o.jsx("textarea",{className:"form-control",rows:3,value:De,disabled:!!W,onChange:de=>Re(de.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),o.jsx("button",{className:"btn btn-primary",disabled:!!W||!qe,onClick:ze,children:W==="validate"?"Validando...":"Validate"})]})}),we&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:we})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),W?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${V??0}%`},"aria-valuenow":V??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:z.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:z.map((de,$e)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:de.type})," ",de.stage?o.jsxs("span",{className:"text-muted",children:["[",de.stage,"]"]}):null]}),o.jsx("div",{className:"text-muted",children:de.message??de.detail??""})]},$e))})}),o.jsx("hr",{className:"mY-15"}),o.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),he?o.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(he,null,2)}):o.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function w2(){const e=In(),a=Er(),{toast:s}=Ar(),l=Rn(),c=xl(l?.role),d=Li(),m=c&&!(d&&d>0),{data:h,isLoading:g,error:p}=Nr({queryKey:["catalogs"],queryFn:Qm,enabled:m}),v=h?.bancos??[],[x,N]=b.useState(()=>d&&d>0?d:0),[q,_]=b.useState(!1),j=b.useMemo(()=>v.find(J=>J.id===x)?.name??null,[v,x]);b.useEffect(()=>{const T=e.state;T?.toast&&(s({kind:T.toast.kind??"info",title:T.toast.title,message:T.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),b.useEffect(()=>{m&&(x>0||v.length>0&&N(v[0].id))},[x,v,m]);const A=x>0&&!q,B=async()=>{if(A)try{_(!0);const T=await Vx(x),J=fm(T.userId,T.bancoId??x);if(J.target){a(J.target,{replace:!0});return}s({kind:"success",title:"Banco",message:j?`Banco seleccionado: ${j}`:"Banco seleccionado."})}catch(T){const J=T?.response?.data?.detail??T?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(J)})}finally{_(!1)}};return o.jsxs("div",{className:"vi-home",children:[o.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:T=>N(Number(T.target.value)),disabled:g||q,children:v.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))}),p?o.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!A,onClick:B,children:q?"Guardando...":"Continuar"})})]})})})]})}const Ti=(...e)=>{};function _2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function j2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function E2(e,a){let s=null,l=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function A2(){const[e,a]=b.useState([]),[s,l]=b.useState(""),[c,d]=b.useState([]),[m,h]=b.useState(0),[g,p]=b.useState("Listo para procesar"),[v,x]=b.useState(!1),[N,q]=b.useState(""),[_,j]=b.useState(!1),[A,B]=b.useState(null),[T,J]=b.useState(null),[k,O]=b.useState(!1);function $(R){const Q=R?.series_duplicates_eliminated??R?.detail?.series_duplicates_eliminated??R?.series_duplcates_eliminated;return typeof Q=="number"?Q:null}const U={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function Y(R){const Q=String(R??"").trim().toUpperCase();return Q?U[Q]??Q:""}function ie(R){if(!R)return"";let Q=Rl(R);Q=Q.replace(/\bERROR\b/gi,"Error");for(const[G,se]of Object.entries(U))Q=Q.replace(new RegExp(`\\b${G}\\b`,"g"),se);return Q}function Ne(R,Q){const G=Y(R),se=ie(Q);return se?G&&!se.toLowerCase().includes(G.toLowerCase())?`${G}: ${se}`:se:G||"N/D"}function xe(R,Q,G){const se=String(G??"").trim();if(se)return se;const Oe=Number(R);if(!Number.isFinite(Oe)||Oe<=0)return"N/D";const Le=Number(Q);return Number.isFinite(Le)&&Le>0?`OI-${String(Oe).padStart(4,"0")}-${String(Le).padStart(4,"0")}`:`OI-${String(Oe).padStart(4,"0")}`}function fe(R){const Q=R?.rows_total_read??R?.totals_input?.rows_read;return typeof Q=="number"?Q:null}const ve=b.useMemo(()=>(Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[]).filter(Q=>Q?.status==="OK"&&String(Q?.source??"").toUpperCase()==="BASES").slice().sort((Q,G)=>{const se=Number(Q?.oi_year),Oe=Number(G?.oi_year),Le=Number.isFinite(se)&&se>0,ne=Number.isFinite(Oe)&&Oe>0;if(Le&&ne&&se!==Oe)return se-Oe;if(Le&&!ne)return-1;if(!Le&&ne)return 1;const Ue=Number(Q?.oi_num),Ve=Number(G?.oi_num),it=Number.isFinite(Ue),Xt=Number.isFinite(Ve);if(it&&Xt&&Ue!==Ve)return Ue-Ve;if(it&&!Xt)return-1;if(!it&&Xt)return 1;const je=String(Q?.oi_tag??Q?.oi??Q?.oi_num??"").toUpperCase(),Je=String(G?.oi_tag??G?.oi??G?.oi_num??"").toUpperCase();return je.localeCompare(Je)}),[T]),De=b.useMemo(()=>(Array.isArray(T?.files_rejected)?T.files_rejected:[]).slice().sort((Q,G)=>{const se=String(Q?.oi??Q?.filename??"").toUpperCase(),Oe=String(G?.oi??G?.filename??"").toUpperCase();return se.localeCompare(Oe)}),[T]),Re=b.useMemo(()=>{const R=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),Q=T?.by_source;if(Q&&typeof Q=="object")return Q;const G={BASES:R(),GASELAG:R()},se=Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[];for(const Le of se){if(Le?.status!=="OK")continue;const Ue=String(Le?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";G[Ue].files_ok+=1,G[Ue].rows_read+=Number(Le?.rows_read??0)||0,G[Ue].conformes+=Number(Le?.conformes??0)||0,G[Ue].no_conformes+=Number(Le?.no_conformes??0)||0,G[Ue].rows_ignored_invalid_estado+=Number(Le?.rows_ignored_invalid_estado??0)||0}const Oe=Array.isArray(T?.files_rejected)?T.files_rejected:[];for(const Le of Oe){const Ue=String(Le?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";G[Ue].files_error+=1}for(const Le of["BASES","GASELAG"])G[Le].files_total=G[Le].files_ok+G[Le].files_error;return G},[T]),M=b.useRef(null),I=b.useRef(null),W=b.useRef(null),ge=b.useRef(!1),we=b.useRef(null),w=b.useRef(null),V=b.useRef(null),ce=b.useRef(!1),z=b.useRef(!1),oe=b.useRef(-1),he=b.useRef(-1),Te=b.useRef(!1);function qe(){return we.current||(we.current=crypto.randomUUID()),we.current}function me(R){const Q=`${Sl(R.type)}  ${Ji(R.stage)}  ${ie(R.message??R.detail??"")}`;if(p(Q),d(G=>{const se=[R,...G];if(!Te.current&&R.stage==="cancelled"){Te.current=!0;const Oe=se.filter(Ve=>Ve.stage==="file_done"||Ve.stage==="file_error").length,Le=se.filter(Ve=>Ve.stage==="file_done").length,ne=se.filter(Ve=>Ve.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Oe} (OK: ${Le}, Rechazados: ${ne}). No se gener resultado final.`},...se]}return se}),R.type==="complete"){const G=R.result??null;J(G)}typeof R.progress=="number"&&h(Math.round(R.progress)),typeof R.percent=="number"&&h(Math.round(R.percent)),!ge.current&&(R.type==="complete"||R.stage==="cancelled"||R.stage==="failed")&&(ge.current=!0,R.type==="complete"?(j(!0),B(we.current)):(j(!1),B(null),we.current=null),x(!1),Me("terminal_event"),le())}function ke(R){return typeof R.cursor!="number"?!1:R.cursor<=he.current?!0:(he.current=R.cursor,R.cursor>oe.current&&(oe.current=R.cursor),!1)}function Fe(R){ge.current||ke(R)||me(R)}function _e(R,Q){const G=new FormData;G.append("operation_id",R),G.append("source","AUTO"),s.trim()&&G.append("output_filename",s.trim());for(const se of Q)G.append("files",se);return G}function Me(R){I.current&&(W.current=R,I.current.abort(),I.current=null)}function le(R){z.current&&(z.current=!1,w.current!=null&&(window.clearTimeout(w.current),w.current=null),V.current?.abort(),V.current=null,ce.current=!1)}function ze(R){z.current&&(w.current!=null&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>{de()},R))}async function de(){if(!z.current||ce.current)return;const R=we.current;if(!R){le();return}ce.current=!0;try{const Q=await BT(R,oe.current,V.current?.signal);Ti("[LOG01] poll cursor =",oe.current,"->",Q.cursor_next),oe.current=Q.cursor_next;for(const G of Q.events)Fe(G);if(Q.done&&Q.events.length===0){le("done");return}}catch(Q){Q?.name}finally{ce.current=!1,z.current&&ze(350)}}function $e(R){z.current||(z.current=!0,V.current=new AbortController,ze(0))}function Ae(){M.current?.abort(),M.current=null}async function Xe(){if(!v)return;const R=we.current;if(R)try{await IT(R)}catch(Q){const G=Q;ut.isCancel(G)||q(G.response?.data?.detail||G.message||"No se pudo cancelar la operacion")}Ae()}async function C(){q(""),d([]),J(null),h(0),p("Listo para procesar"),j(!1),B(null),W.current=null,ge.current=!1,Te.current=!1,oe.current=-1,he.current=-1,le();const R=[...e];if(!R.length){q("Debes seleccionar al menos 1 Excel.");return}we.current=null;const Q=qe();let G=null,se=null;const Oe=new Promise((Ue,Ve)=>{G=Ue,se=Ve});I.current=new AbortController,M.current=new AbortController,MT(Q,Ue=>{if(Ue.type==="hello"){G&&(G(),G=null);return}Fe(Ue)},I.current.signal).then(()=>{ge.current||$e()}).catch(Ue=>{Ue?.name==="AbortError"?Ti("[LOG01] progress stream aborted (reason) =",W.current):(se&&(se(Ue),se=null),$e())}),x(!0);try{await E2(Oe,1800)?Ti("[LOG01] hello received"):$e("hello_timeout");const Ve=_e(Q,R);Ti("[LOG01] operation_id(start) =",Q),await LT(Ve,M.current.signal)}catch(Ue){const Ve=Ue;if(ut.isCancel(Ve))return;const it=Ve.response?.data?.detail||Ve.message||"Error inesperado";q(it),x(!1),Ae(),Me("start_failed"),le(),we.current=null}finally{Ae()}}async function Z(){const R=A??we.current;if(!R){q("No hay resultado disponible.");return}try{q(""),Ti("[LOG01] operation_id(result) =",R);const Q=await qT(R),G=Q.headers["content-disposition"],se=Q.headers["x-file-name"],Oe=_2(G)??se??"BD_CONSOLIDADO.xlsx";j2(Q.data,Oe)}catch(Q){const G=Q;if(ut.isCancel(G))return;const se=G.response?.data?.detail||G.message||"No se pudo descargar.";q(se)}}return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),N&&o.jsx("div",{className:"alert alert-danger",role:"alert",children:N}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx(ou,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:v}),o.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),o.jsx("input",{className:"form-control",value:s,onChange:R=>l(R.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),o.jsxs("div",{className:"vi-log01-actions",children:[o.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:C,disabled:v,children:v?"Procesando...":"Consolidar"}),v?o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Xe(),children:"Cancelar"}):null,!v&&_?o.jsx(o.Fragment,{children:o.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void Z(),children:"Descargar Excel"})}):null]})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),v?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),o.jsx("div",{className:"mT-10 text-muted",children:g})]}),!v&&T?o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),o.jsx("div",{className:"bd p-10",children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("div",{className:"small text-muted",children:"Archivos"}),o.jsxs("div",{className:"small",children:["Total: ",o.jsx("strong",{children:T.files_total??"N/D"}),"  OK:"," ",o.jsx("strong",{children:T.files_ok??"N/D"}),"  Rechazados:"," ",o.jsx("strong",{children:T.files_error??"N/D"})]}),o.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),o.jsx("tbody",{children:["BASES","GASELAG"].map(R=>{const Q=Re?.[R]??{},G=Q?.files_total??Number(Q?.files_ok??0)+Number(Q?.files_error??0);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R})}),o.jsxs("td",{style:{whiteSpace:"nowrap"},children:[o.jsx("strong",{children:G??0})," ",o.jsxs("span",{className:"text-muted",children:["(OK: ",Q?.files_ok??0,"  Rech: ",Q?.files_error??0,")"]})]}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.no_conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.rows_ignored_invalid_estado??0})})]},R)})})]})}),o.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),ve.length>0?o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),o.jsx("tbody",{children:ve.map((R,Q)=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:xe(R?.oi_num,R?.oi_year,R?.oi_tag??R?.oi)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.no_conformes??0})})]},Q))})]})}):o.jsx("div",{className:"small text-muted",children:"N/D"}),Number(Re?.GASELAG?.rows_read??0)>0?o.jsxs("div",{className:"mT-10 small",children:[o.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",o.jsx("strong",{children:Re.GASELAG.rows_read??0}),"  Conformes:"," ",o.jsx("strong",{children:Re.GASELAG.conformes??0}),"  No conformes:"," ",o.jsx("strong",{children:Re.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",o.jsx("strong",{children:Re.GASELAG.rows_ignored_invalid_estado??0})]}):null,o.jsxs("div",{className:"col-12 mT-10 p-0",children:[o.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),o.jsxs("div",{className:"small",children:["Registros ledos:"," ",o.jsx("strong",{children:T.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",o.jsx("strong",{children:T.totals_input?.conformes??"N/D"}),"  No conformes:"," ",o.jsx("strong",{children:T.totals_input?.no_conformes??"N/D"})]})]})]}),o.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[De.length>0?o.jsxs("div",{className:"mT-15",children:[o.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),o.jsx("tbody",{children:De.map((R,Q)=>{const G=Ne(R?.code,R?.detail),se=String(R?.source??"").toUpperCase();let Oe=R?.filename??"N/D";if(se==="BASES"){const Le=Number(R?.oi_num),ne=xe(Le,R?.oi_year,R?.oi_tag??R?.oi);ne!=="N/D"&&(Oe=`${ne} / ${Oe}`)}else se==="GASELAG"&&(Oe=`GASELAG / ${Oe}`);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:Oe}),o.jsx("td",{children:G})]},Q)})})]})})]}):null,o.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),o.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",o.jsx("strong",{children:T.series_total_dedup??"N/D"}),"  Conformes finales:"," ",o.jsx("strong",{children:T.series_conformes??"N/D"}),"  No conformes finales:"," ",o.jsx("strong",{children:T.series_no_conformes_final??"N/D"})]}),o.jsx("div",{className:"mT-10",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(R=>!R),children:k?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),k?o.jsxs("div",{className:"mT-10",children:[o.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),o.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",o.jsx("strong",{children:fe(T)??"N/D"})," "," Duplicados eliminados:"," ",o.jsx("strong",{children:$(T)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",o.jsx("strong",{children:(()=>{const R=fe(T),Q=$(T);if(typeof R=="number"&&typeof Q=="number")return R-Q;const G=T.series_total_dedup;return typeof G=="number"?G:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Eventos"}),o.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((R,Q)=>{const G=String(R.message??""),se=String(R.code??""),Oe=String(R.detail??""),Le=ie(G||Oe||""),ne=Le.toLowerCase(),Ue=Y(se),Ve=ie(Oe),it=[];Ue&&!ne.includes(Ue.toLowerCase())&&it.push(Ue),Ve&&!ne.includes(Ve.toLowerCase())&&it.push(Ve);const Xt=it.join("  ");return o.jsxs("div",{className:"small",children:[Sl(R.type),"  ",Le,Xt?o.jsxs("span",{className:"text-muted",children:[" (",Xt,")"]}):null]},Q)})})]})]})})})})}const C2="America/Lima";function O2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function R2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function T2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:C2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function Gf(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function vv(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function D2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning text-dark":"badge bg-secondary"}function z2(){const e=Er(),a=Rn(),s=wa(a?.role,a?.username),l=s==="admin"||s==="administrator",[c,d]=b.useState([]),[m,h]=b.useState(0),[g,p]=b.useState(!1),[v,x]=b.useState(""),[N,q]=b.useState(0),[_,j]=b.useState(""),[A,B]=b.useState(""),[T,J]=b.useState(""),[k,O]=b.useState(""),[$,U]=b.useState(""),[Y,ie]=b.useState(20),[Ne,xe]=b.useState(1),[fe,ve]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),De=b.useMemo(()=>(Ne-1)*Y,[Ne,Y]);b.useEffect(()=>{let z=!1;return p(!0),x(""),FT({limit:Y,offset:De,include_deleted:!1,q:fe.q||void 0,dateFrom:fe.dateFrom||void 0,dateTo:fe.dateTo||void 0,source:fe.source||void 0,status:fe.status||void 0}).then(oe=>{z||(d(Array.isArray(oe?.items)?oe.items:[]),h(typeof oe?.total=="number"?oe.total:0))}).catch(oe=>{if(z)return;const he=oe,Te=he.response?.data?.detail||he.message||"No se pudo cargar historial.";x(Te)}).finally(()=>{z||p(!1)}),()=>{z=!0}},[fe,De,Y,N]);const Re=()=>{ve({q:_.trim(),dateFrom:A.trim(),dateTo:T.trim(),source:k.trim(),status:$.trim()}),xe(1)},M=()=>{j(""),B(""),J(""),O(""),U(""),ve({q:"",dateFrom:"",dateTo:"",source:"",status:""}),xe(1),q(z=>z+1)},I=()=>q(z=>z+1),W=async(z,oe)=>{try{x("");const he=await $T(z,oe),Te=he.headers["content-disposition"],qe=he.headers["x-file-name"],me=O2(Te)??qe??`${oe}.bin`;R2(he.data,me)}catch(he){const Te=he;if(ut.isCancel(Te))return;const qe=Te.response?.data?.detail||Te.message||"No se pudo descargar.";x(qe)}},ge=async z=>{if(l&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await HT(z),I()}catch(oe){const he=oe;if(ut.isCancel(he))return;const Te=he.response?.data?.detail||he.message||"No se pudo eliminar.";x(Te)}},we=m===0?0:De+1,w=m===0?0:Math.min(De+c.length,m),V=Ne>1,ce=De+c.length<m;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),v?o.jsx("div",{className:"alert alert-danger",role:"alert",children:v}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:z=>{z.preventDefault(),Re()},children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:_,onChange:z=>j(z.target.value),onKeyDown:z=>{z.key==="Enter"&&Re()},placeholder:"Usuario, serie inicial, serie final..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:A,onChange:z=>B(z.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:T,onChange:z=>J(z.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:k,onChange:z=>O(z.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"AUTO",children:"AUTO"}),o.jsx("option",{value:"BASES",children:"BASES"}),o.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Estado"}),o.jsxs("select",{className:"form-select form-select-sm",value:$,onChange:z=>U(z.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),o.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),o.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),o.jsxs("div",{className:"col-md-1",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:Y,onChange:z=>{const oe=Number(z.target.value);ie(Number.isFinite(oe)?oe:20),xe(1)},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:g,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:M,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:I,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[g?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:c.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(z=>{const oe=z.summary_json,he=vv(oe,"serie_ini"),Te=vv(oe,"serie_fin"),qe=Gf(oe,"series_total_dedup"),me=Gf(oe,"series_conformes"),ke=Gf(oe,"series_no_conformes_final"),Fe=z.created_by_full_name||z.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:T2(z.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:Fe}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:D2(z.status),children:z.status})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:he}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:Te}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:qe})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:me})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:ke})}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void W(z.id,"excel"),children:"Excel"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void W(z.id,"no-conforme"),children:"No conforme"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void W(z.id,"manifiesto"),children:"Manifiesto"}),l?o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void ge(z.id),children:"Eliminar"}):null]})})]},z.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",we,"-",w," de ",m]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>xe(z=>Math.max(1,z-1)),disabled:!V||g,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>xe(z=>z+1),disabled:!ce||g,children:"Siguiente"})]})]})]})]})})})})}function fl(e){return e===!0?"badge bg-success":e===!1?"badge bg-danger":"badge bg-secondary"}const Qf="medileser_log02_rutas_v1";function M2(){const[e,a]=b.useState([""]),[s,l]=b.useState(""),[c,d]=b.useState(!1),[m,h]=b.useState(""),[g,p]=b.useState(null),[v,x]=b.useState(!1),[N,q]=b.useState(!1),[_,j]=b.useState("origen"),[A,B]=b.useState(null),[T,J]=b.useState([]),[k,O]=b.useState(""),[$,U]=b.useState(""),[Y,ie]=b.useState([]),[Ne,xe]=b.useState(!1),[fe,ve]=b.useState("");b.useEffect(()=>{try{const _e=localStorage.getItem(Qf);if(!_e)return;const Me=JSON.parse(_e),le=Array.isArray(Me.origenes)?Me.origenes:[],ze=typeof Me?.destino=="string"?Me.destino:"";le.length&&a(le),ze&&l(ze)}catch{}},[]),b.useEffect(()=>{try{const _e={origenes:e,destino:s};localStorage.setItem(Qf,JSON.stringify(_e))}catch{}},[e,s]);function De(){a([""]),l(""),p(null),h(""),x(!1);try{localStorage.removeItem(Qf)}catch{}}function Re(){a(_e=>{const Me=new Set,le=[];for(const ze of _e){const de=(ze||"").trim();if(!de)continue;const $e=de.toLowerCase();Me.has($e)||(Me.add($e),le.push(de))}return le.length?le:[""]})}function M(){x(!0),B(null),oe("origen")}function I(_e){x(!0),B(_e),oe("origen")}function W(){x(!0),B(null),oe("destino")}const ge=b.useMemo(()=>e.map(_e=>(_e??"").trim()),[e]),we=b.useMemo(()=>ge.filter(_e=>_e),[ge]),w=b.useMemo(()=>(s??"").trim(),[s]),V=b.useMemo(()=>we.length>0&&!!w,[we.length,w]);function ce(_e,Me){a(le=>{const ze=le.slice();return ze[_e]=Me,ze})}function z(_e){a(Me=>{if(Me.length<=1)return[""];const le=Me.slice();return le.splice(_e,1),le})}async function oe(_e){j(_e),ve(""),q(!0);try{const le=(await VT()).roots||[];J(le);const ze=le[0]||"";O(ze),U(ze),ze?await he(ze):(ie([]),ve("No hay rutas raz configuradas para el explorador. Configure VI_LOG02_UNC_ROOTS en el servidor."))}catch(Me){const le=Me,ze=le.response?.data?.detail||le.message||"No se pudo cargar las rutas raz.";ve(ze),ie([])}}async function he(_e){if(ve(""),!_e){ie([]);return}try{xe(!0);const Me=await ZT(_e);U(Me.path),ie(Me.folders||[])}catch(Me){const le=Me,ze=le.response?.data?.detail||le.message||"No se pudo listar la carpeta.";ve(ze),ie([])}finally{xe(!1)}}function Te(){const _e=($||"").replace(/[\\\/]+$/,""),Me=_e.lastIndexOf("\\");if(Me<=0)return;const le=_e.slice(0,Me);he(le)}function qe(){$&&(_==="destino"?l($):a(_e=>{const Me=$.trim();if(!Me)return _e;const le=_e.slice();return A!==null&&A>=0&&A<le.length?(le[A]=Me,le):le.map(de=>(de||"").trim().toLowerCase()).includes(Me.toLowerCase())?le:le.length===1&&!(le[0]||"").trim()?[Me]:[...le,Me]}),B(null))}async function me(){h(""),p(null),x(!0);const _e=w,Me=we;if(!Me.length){h("Debes ingresar al menos una ruta de origen.");return}if(!_e){h("Debes ingresar una ruta de destino.");return}try{d(!0);const le=await GT({rutas_origen:Me,ruta_destino:_e});p(le),le.ok||h("Validacin incompleta: revisa los detalles de permisos y existencia.")}catch(le){const ze=le;if(ut.isCancel(ze))return;const de=ze.response?.data?.detail||ze.message||"No se pudo validar las rutas.";h(de)}finally{d(!1)}}const ke=b.useMemo(()=>{if(!g)return null;const _e=(g.origenes||[]).filter(ze=>ze.existe&&ze.lectura).length,Me=(g.origenes||[]).length,le=!!(g.destino?.existe&&g.destino?.es_directorio&&g.destino?.lectura&&g.destino?.escritura);return{okOrigenes:_e,totalOrigenes:Me,okDestino:le}},[g]);async function Fe(){if(!g)return;const _e=[];_e.push("LOG-02 - Resultado de validacin"),_e.push("");for(const ze of g.origenes||[])_e.push(`ORIGEN | ${ze.ruta} | existe=${ze.existe?"SI":"NO"} | lectura=${ze.lectura?"SI":"NO"} | detalle=${ze.detalle||""}`);const Me=g.destino;_e.push(`DESTINO | ${Me?.ruta||""} | existe=${Me?.existe?"SI":"NO"} | lectura=${Me?.lectura?"SI":"NO"} | escritura=${Me?.escritura?"SI":"NO"} | detalle=${Me?.detalle||""}`);const le=_e.join(`
`);try{await navigator.clipboard.writeText(le)}catch{try{const ze=document.createElement("textarea");ze.value=le,document.body.appendChild(ze),ze.select(),document.execCommand("copy"),document.body.removeChild(ze)}catch{}}}return o.jsxs("div",{className:"container-fluid",children:[o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Filtrado de certificados PDF (LOG-02)"}),o.jsxs("div",{className:"text-muted small",children:["Este mdulo se orienta a ",o.jsx("strong",{children:"copiar"})," y ",o.jsx("strong",{children:"filtrar"})," certificados PDF desde una",o.jsx("strong",{children:" carpeta compartida"})," (no ZIP).",o.jsx("br",{}),"Configura las rutas UNC y valida accesos antes de iniciar el filtrado."]}),m?o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:m}):null,o.jsxs("div",{className:"mT-15",children:[o.jsx("h6",{className:"c-grey-900 mB-10",children:"Rutas UNC"}),o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Rutas origen (UNC)  lectura"}),e.map((_e,Me)=>o.jsxs("div",{className:"d-flex gap-10 mB-10",children:[o.jsx("input",{className:"form-control form-control-sm"+(v&&!ge[Me]?" is-invalid":""),value:_e,onChange:le=>ce(Me,le.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Certificados",disabled:c}),v&&!ge[Me]?o.jsx("div",{className:"small text-danger mT-5",children:"Requerido"}):null,o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>I(Me),disabled:c,title:"Elegir carpeta",children:(_e||"").trim()?"Editar":"Agregar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>z(Me),disabled:c,title:"Quitar ruta",style:{width:44,textAlign:"center"},children:""})]},Me)),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:M,disabled:c,title:"Agregar origen",children:"Agregar origen"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Re,disabled:c,title:"Quitar duplicados (solo UI)",children:"Quitar duplicados"})]}),o.jsxs("div",{className:"small text-muted",children:["Nota: estas rutas deben ser accesibles ",o.jsx("strong",{children:"desde el servidor"})," donde corre el backend."]})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Ruta destino (UNC)  lectura y escritura"}),o.jsxs("div",{className:"d-flex gap-10 mB-10",children:[o.jsx("input",{className:"form-control form-control-sm "+(v&&!w?"is-invalid":""),value:s,onChange:_e=>l(_e.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Salida_LOG02",disabled:c}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:W,disabled:c,title:"Editar carpeta",children:w?"Editar":"Agregar"}),"                  "]}),v&&!w?o.jsx("div",{className:"small text-danger mT-5",children:"Destino requerido."}):null,o.jsxs("div",{className:"mT-5",children:[o.jsx("div",{className:"small text-muted mB-5",children:V?"Listo para validar.":"Completa orgenes y destino."}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void me(),disabled:c||!V,children:c?"Validando...":"Validar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:De,disabled:c,title:"Limpia orgenes y destino",children:"Limpiar rutas"})]})]})]})]})]}),g?o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado de validacin"}),ke?o.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center mB-10",children:[o.jsxs("span",{className:"badge bg-light text-dark",children:["Orgenes OK: ",o.jsx("strong",{children:ke.okOrigenes})," / ",ke.totalOrigenes]}),o.jsxs("span",{className:ke.okDestino?"badge bg-success":"badge bg-danger",children:["Destino: ",ke.okDestino?"OK":"No OK"]}),g.ok?null:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void Fe(),children:"Copiar detalle"})]}):null,o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),o.jsx("th",{children:"Ruta"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Existe"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Lectura"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Escritura"}),o.jsx("th",{children:"Detalle"})]})}),o.jsxs("tbody",{children:[g.origenes.map((_e,Me)=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:"Origen"})}),o.jsx("td",{style:{wordBreak:"break-all"},children:_e.ruta||"N/D"}),o.jsx("td",{children:o.jsx("span",{className:fl(_e.existe),children:_e.existe?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:fl(_e.lectura),children:_e.lectura?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:fl(null),children:""})}),o.jsx("td",{children:_e.detalle||""})]},`o-${Me}`)),o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:"Destino"})}),o.jsx("td",{style:{wordBreak:"break-all"},children:g.destino.ruta||"N/D"}),o.jsx("td",{children:o.jsx("span",{className:fl(g.destino.existe),children:g.destino.existe?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:fl(g.destino.lectura),children:g.destino.lectura?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:fl(!!g.destino.escritura),children:g.destino.escritura?"S":"No"})}),o.jsx("td",{children:g.destino.detalle||""})]})]})]})}),g.ok?o.jsx("div",{className:"alert alert-success mT-15",role:"alert",children:"Rutas validadas correctamente. Puedes continuar con la siguiente fase."}):o.jsx("div",{className:"alert alert-warning mT-15",role:"alert",children:"Hay rutas con problemas. Corrige existencia/permisos y vuelve a validar."})]}):null]})})}),N?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:_==="destino"?"Elegir carpeta de destino":"Elegir carpeta de origen"}),o.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>q(!1),children:o.jsx("span",{"aria-hidden":"true",children:""})})]}),o.jsxs("div",{className:"modal-body",children:[fe?o.jsx("div",{className:"alert alert-danger",role:"alert",children:fe}):null,o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("label",{className:"form-label",children:"Raz"}),o.jsx("select",{className:"form-control form-control-sm",value:k,onChange:_e=>{const Me=_e.target.value;O(Me),he(Me)},disabled:!T.length,children:T.length?T.map(_e=>o.jsx("option",{value:_e,children:_e},_e)):o.jsx("option",{value:"",children:"Sin races"})})]}),o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("label",{className:"form-label",children:"Carpeta actual"}),o.jsx("input",{className:"form-control form-control-sm",value:$,readOnly:!0})]})]}),o.jsxs("div",{className:"d-flex gap-10 mT-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Te,disabled:!$||Ne,children:"Subir nivel"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:qe,disabled:!$||Ne,children:"Seleccionar esta carpeta"})]}),o.jsx("hr",{}),Ne?o.jsx("div",{className:"text-muted small",children:"Cargando carpetas..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{children:"Subcarpetas"}),o.jsx("th",{style:{width:120}})]})}),o.jsx("tbody",{children:Y.length?Y.map(_e=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{wordBreak:"break-all"},children:_e.name}),o.jsx("td",{children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>void he(_e.path),children:"Entrar"})})]},_e.path)):o.jsx("tr",{className:"small",children:o.jsx("td",{colSpan:2,className:"text-muted",children:"Sin subcarpetas o sin permisos para listar."})})})]})})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>q(!1),children:"Cerrar"})})]})})}),o.jsx("div",{className:"modal-backdrop fade show"})]}):null]})}function k2(){const e=Rn();return o.jsx(o.Fragment,{children:o.jsxs(Tw,{children:[o.jsx(Vt,{path:"/login",element:e?.token?o.jsx(Vs,{to:"/home",replace:!0}):o.jsx(bE,{})}),o.jsx(Vt,{element:o.jsx(oT,{}),children:o.jsxs(Vt,{element:o.jsx(mT,{}),children:[o.jsx(Vt,{path:"/",element:o.jsx(Vs,{to:"/home",replace:!0})}),o.jsx(Vt,{path:"/home",element:o.jsx(w2,{})}),o.jsx(Vt,{path:"/oi",element:o.jsx(mv,{})}),o.jsx(Vt,{path:"/oi/:oiId",element:o.jsx(mv,{})}),o.jsx(Vt,{path:"/oi/list",element:o.jsx(hT,{})}),o.jsx(Vt,{path:"/users",element:o.jsx(gT,{})}),o.jsx(Vt,{path:"/password",element:o.jsx(yT,{})}),o.jsx(Vt,{path:"/admin/permisos",element:o.jsx(xT,{})}),o.jsx(Vt,{path:"/logistica/log01/excel",element:o.jsx(A2,{})}),o.jsx(Vt,{path:"/logistica/log01/history",element:o.jsx(z2,{})}),o.jsx(Vt,{path:"/logistica/log02/pdfs",element:o.jsx(M2,{})}),o.jsx(Vt,{path:"/oi/tools/vima-to-lista",element:o.jsx(DT,{})}),o.jsx(Vt,{path:"/oi/tools/actualizacion-base",element:o.jsx(r2,{})}),o.jsx(Vt,{path:"/oi/tools/formato-ac/history",element:o.jsx(f2,{})}),o.jsx(Vt,{path:"/oi/tools/consolidacion",element:o.jsx(m2,{})}),o.jsx(Vt,{path:"/oi/tools/consolidacion/correlativo",element:o.jsx(y2,{})}),o.jsx(Vt,{path:"/oi/tools/consolidacion/no-correlativo",element:o.jsx(S2,{})}),o.jsx(Vt,{path:"/oi/tools/excel",element:o.jsx(N2,{})})]})}),o.jsx(Vt,{path:"*",element:o.jsx(Vs,{to:e?.token?"/home":"/login",replace:!0})})]})})}const U2=new D_;BN.createRoot(document.getElementById("root")).render(o.jsx(lt.StrictMode,{children:o.jsx(z_,{client:U2,children:o.jsx(t_,{children:o.jsx(yE,{children:o.jsx(k2,{})})})})}));
