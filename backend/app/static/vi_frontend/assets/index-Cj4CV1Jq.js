(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function vv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var df={exports:{}},wi={};var Dy;function AN(){if(Dy)return wi;Dy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:l,key:m,ref:c!==void 0?c:null,props:d}}return wi.Fragment=a,wi.jsx=s,wi.jsxs=s,wi}var zy;function CN(){return zy||(zy=1,df.exports=AN()),df.exports}var o=CN(),ff={exports:{}},We={};var My;function ON(){if(My)return We;My=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function q(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function B(N,I,ce){this.props=N,this.context=I,this.refs=A,this.updater=ce||_}B.prototype.isReactComponent={},B.prototype.setState=function(N,I){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,I,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function R(){}R.prototype=B.prototype;function W(N,I,ce){this.props=N,this.context=I,this.refs=A,this.updater=ce||_}var M=W.prototype=new R;M.constructor=W,j(M,B.prototype),M.isPureReactComponent=!0;var O=Array.isArray;function V(){}var U={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function oe(N,I,ce){var k=ce.ref;return{$$typeof:e,type:N,key:I,ref:k!==void 0?k:null,props:ce}}function Ne(N,I){return oe(N.type,I,N.props)}function ve(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function fe(N){var I={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ce){return I[ce]})}var Se=/\/+/g;function Oe(N,I){return typeof N=="object"&&N!==null&&N.key!=null?fe(""+N.key):I.toString(36)}function Ae(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(V,V):(N.status="pending",N.then(function(I){N.status==="pending"&&(N.status="fulfilled",N.value=I)},function(I){N.status==="pending"&&(N.status="rejected",N.reason=I)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function z(N,I,ce,k,de){var ye=typeof N;(ye==="undefined"||ye==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(ye){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case e:case a:Re=!0;break;case v:return Re=N._init,z(Re(N._payload),I,ce,k,de)}}if(Re)return de=de(N),Re=k===""?"."+Oe(N,0):k,O(de)?(ce="",Re!=null&&(ce=Re.replace(Se,"$&/")+"/"),z(de,I,ce,"",function(De){return De})):de!=null&&(ve(de)&&(de=Ne(de,ce+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(Se,"$&/")+"/")+Re)),I.push(de)),1;Re=0;var Ue=k===""?".":k+":";if(O(N))for(var me=0;me<N.length;me++)k=N[me],ye=Ue+Oe(k,me),Re+=z(k,I,ce,ye,de);else if(me=q(N),typeof me=="function")for(N=me.call(N),me=0;!(k=N.next()).done;)k=k.value,ye=Ue+Oe(k,me++),Re+=z(k,I,ce,ye,de);else if(ye==="object"){if(typeof N.then=="function")return z(Ae(N),I,ce,k,de);throw I=String(N),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Re}function F(N,I,ce){if(N==null)return N;var k=[],de=0;return z(N,k,"","",function(ye){return I.call(ce,ye,de++)}),k}function ee(N){if(N._status===-1){var I=N._result;I=I(),I.then(function(ce){(N._status===0||N._status===-1)&&(N._status=1,N._result=ce)},function(ce){(N._status===0||N._status===-1)&&(N._status=2,N._result=ce)}),N._status===-1&&(N._status=0,N._result=I)}if(N._status===1)return N._result.default;throw N._result}var P=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},le={map:F,forEach:function(N,I,ce){F(N,function(){I.apply(this,arguments)},ce)},count:function(N){var I=0;return F(N,function(){I++}),I},toArray:function(N){return F(N,function(I){return I})||[]},only:function(N){if(!ve(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return We.Activity=x,We.Children=le,We.Component=B,We.Fragment=s,We.Profiler=c,We.PureComponent=W,We.StrictMode=l,We.Suspense=g,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,We.__COMPILER_RUNTIME={__proto__:null,c:function(N){return U.H.useMemoCache(N)}},We.cache=function(N){return function(){return N.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(N,I,ce){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var k=j({},N.props),de=N.key;if(I!=null)for(ye in I.key!==void 0&&(de=""+I.key),I)!K.call(I,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&I.ref===void 0||(k[ye]=I[ye]);var ye=arguments.length-2;if(ye===1)k.children=ce;else if(1<ye){for(var Re=Array(ye),Ue=0;Ue<ye;Ue++)Re[Ue]=arguments[Ue+2];k.children=Re}return oe(N.type,de,k)},We.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},We.createElement=function(N,I,ce){var k,de={},ye=null;if(I!=null)for(k in I.key!==void 0&&(ye=""+I.key),I)K.call(I,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(de[k]=I[k]);var Re=arguments.length-2;if(Re===1)de.children=ce;else if(1<Re){for(var Ue=Array(Re),me=0;me<Re;me++)Ue[me]=arguments[me+2];de.children=Ue}if(N&&N.defaultProps)for(k in Re=N.defaultProps,Re)de[k]===void 0&&(de[k]=Re[k]);return oe(N,ye,de)},We.createRef=function(){return{current:null}},We.forwardRef=function(N){return{$$typeof:h,render:N}},We.isValidElement=ve,We.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ee}},We.memo=function(N,I){return{$$typeof:p,type:N,compare:I===void 0?null:I}},We.startTransition=function(N){var I=U.T,ce={};U.T=ce;try{var k=N(),de=U.S;de!==null&&de(ce,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(V,P)}catch(ye){P(ye)}finally{I!==null&&ce.types!==null&&(I.types=ce.types),U.T=I}},We.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},We.use=function(N){return U.H.use(N)},We.useActionState=function(N,I,ce){return U.H.useActionState(N,I,ce)},We.useCallback=function(N,I){return U.H.useCallback(N,I)},We.useContext=function(N){return U.H.useContext(N)},We.useDebugValue=function(){},We.useDeferredValue=function(N,I){return U.H.useDeferredValue(N,I)},We.useEffect=function(N,I){return U.H.useEffect(N,I)},We.useEffectEvent=function(N){return U.H.useEffectEvent(N)},We.useId=function(){return U.H.useId()},We.useImperativeHandle=function(N,I,ce){return U.H.useImperativeHandle(N,I,ce)},We.useInsertionEffect=function(N,I){return U.H.useInsertionEffect(N,I)},We.useLayoutEffect=function(N,I){return U.H.useLayoutEffect(N,I)},We.useMemo=function(N,I){return U.H.useMemo(N,I)},We.useOptimistic=function(N,I){return U.H.useOptimistic(N,I)},We.useReducer=function(N,I,ce){return U.H.useReducer(N,I,ce)},We.useRef=function(N){return U.H.useRef(N)},We.useState=function(N){return U.H.useState(N)},We.useSyncExternalStore=function(N,I,ce){return U.H.useSyncExternalStore(N,I,ce)},We.useTransition=function(){return U.H.useTransition()},We.version="19.2.0",We}var ky;function Nm(){return ky||(ky=1,ff.exports=ON()),ff.exports}var b=Nm();const rt=vv(b);var mf={exports:{}},_i={},hf={exports:{}},pf={};var Uy;function RN(){return Uy||(Uy=1,(function(e){function a(z,F){var ee=z.length;z.push(F);e:for(;0<ee;){var P=ee-1>>>1,le=z[P];if(0<c(le,F))z[P]=F,z[ee]=le,ee=P;else break e}}function s(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var F=z[0],ee=z.pop();if(ee!==F){z[0]=ee;e:for(var P=0,le=z.length,N=le>>>1;P<N;){var I=2*(P+1)-1,ce=z[I],k=I+1,de=z[k];if(0>c(ce,ee))k<le&&0>c(de,ce)?(z[P]=de,z[k]=ee,P=k):(z[P]=ce,z[I]=ee,P=I);else if(k<le&&0>c(de,ee))z[P]=de,z[k]=ee,P=k;else break e}}return F}function c(z,F){var ee=z.sortIndex-F.sortIndex;return ee!==0?ee:z.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var g=[],p=[],v=1,x=null,w=3,q=!1,_=!1,j=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var F=s(p);F!==null;){if(F.callback===null)l(p);else if(F.startTime<=z)l(p),F.sortIndex=F.expirationTime,a(g,F);else break;F=s(p)}}function O(z){if(j=!1,M(z),!_)if(s(g)!==null)_=!0,V||(V=!0,fe());else{var F=s(p);F!==null&&Ae(O,F.startTime-z)}}var V=!1,U=-1,K=5,oe=-1;function Ne(){return A?!0:!(e.unstable_now()-oe<K)}function ve(){if(A=!1,V){var z=e.unstable_now();oe=z;var F=!0;try{e:{_=!1,j&&(j=!1,R(U),U=-1),q=!0;var ee=w;try{t:{for(M(z),x=s(g);x!==null&&!(x.expirationTime>z&&Ne());){var P=x.callback;if(typeof P=="function"){x.callback=null,w=x.priorityLevel;var le=P(x.expirationTime<=z);if(z=e.unstable_now(),typeof le=="function"){x.callback=le,M(z),F=!0;break t}x===s(g)&&l(g),M(z)}else l(g);x=s(g)}if(x!==null)F=!0;else{var N=s(p);N!==null&&Ae(O,N.startTime-z),F=!1}}break e}finally{x=null,w=ee,q=!1}F=void 0}}finally{F?fe():V=!1}}}var fe;if(typeof W=="function")fe=function(){W(ve)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Oe=Se.port2;Se.port1.onmessage=ve,fe=function(){Oe.postMessage(null)}}else fe=function(){B(ve,0)};function Ae(z,F){U=B(function(){z(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(z){switch(w){case 1:case 2:case 3:var F=3;break;default:F=w}var ee=w;w=F;try{return z()}finally{w=ee}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=w;w=z;try{return F()}finally{w=ee}},e.unstable_scheduleCallback=function(z,F,ee){var P=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?P+ee:P):ee=P,z){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ee+le,z={id:v++,callback:F,priorityLevel:z,startTime:ee,expirationTime:le,sortIndex:-1},ee>P?(z.sortIndex=ee,a(p,z),s(g)===null&&z===s(p)&&(j?(R(U),U=-1):j=!0,Ae(O,ee-P))):(z.sortIndex=le,a(g,z),_||q||(_=!0,V||(V=!0,fe()))),z},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(z){var F=w;return function(){var ee=w;w=F;try{return z.apply(this,arguments)}finally{w=ee}}}})(pf)),pf}var Ly;function TN(){return Ly||(Ly=1,hf.exports=RN()),hf.exports}var gf={exports:{}},Dn={};var By;function DN(){if(By)return Dn;By=1;var e=Nm();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:p,implementation:v}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Dn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(g,p,null,v)},Dn.flushSync=function(g){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,g)return g()}finally{m.T=p,l.p=v,l.d.f()}},Dn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Dn.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Dn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:q}):v==="script"&&l.d.X(g,{crossOrigin:x,integrity:w,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Dn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Dn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(g,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Dn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Dn.requestFormReset=function(g){l.d.r(g)},Dn.unstable_batchedUpdates=function(g,p){return g(p)},Dn.useFormState=function(g,p,v){return m.H.useFormState(g,p,v)},Dn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var qy;function zN(){if(qy)return gf.exports;qy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),gf.exports=DN(),gf.exports}var Iy;function MN(){if(Iy)return _i;Iy=1;var e=TN(),a=Nm(),s=zN();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,i=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return g(u),t;if(f===i)return g(u),n;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var y=!1,S=u.child;S;){if(S===r){y=!0,r=u,i=f;break}if(S===i){y=!0,i=u,r=f;break}S=S.sibling}if(!y){for(S=f.child;S;){if(S===r){y=!0,r=f,i=u;break}if(S===i){y=!0,i=f,r=u;break}S=S.sibling}if(!y)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),W=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=ve&&t[ve]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case B:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList";case oe:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case W:return t.displayName||"Context";case R:return(t._context.displayName||"Context")+".Consumer";case M:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case K:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var Ae=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},P=[],le=-1;function N(t){return{current:t}}function I(t){0>le||(t.current=P[le],P[le]=null,le--)}function ce(t,n){le++,P[le]=t.current,t.current=n}var k=N(null),de=N(null),ye=N(null),Re=N(null);function Ue(t,n){switch(ce(ye,n),ce(de,t),ce(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ty(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ty(n),t=ny(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}I(k),ce(k,t)}function me(){I(k),I(de),I(ye)}function De(t){t.memoizedState!==null&&ce(Re,t);var n=k.current,r=ny(n,t.type);n!==r&&(ce(de,t),ce(k,r))}function qe(t){de.current===t&&(I(k),I(de)),Re.current===t&&(I(Re),vi._currentValue=ee)}var Ye,ut;function Te(t){if(Ye===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ye=n&&n[1]||"",ut=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+t+ut}var He=!1;function ge(t,n){if(!t||He)return"";He=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ie){var te=ie}Reflect.construct(t,[],be)}else{try{be.call()}catch(ie){te=ie}t.call(be.prototype)}}else{try{throw Error()}catch(ie){te=ie}(be=t())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),y=f[0],S=f[1];if(y&&S){var D=y.split(`
`),J=S.split(`
`);for(u=i=0;i<D.length&&!D[i].includes("DetermineComponentFrameRoot");)i++;for(;u<J.length&&!J[u].includes("DetermineComponentFrameRoot");)u++;if(i===D.length||u===J.length)for(i=D.length-1,u=J.length-1;1<=i&&0<=u&&D[i]!==J[u];)u--;for(;1<=i&&0<=u;i--,u--)if(D[i]!==J[u]){if(i!==1||u!==1)do if(i--,u--,0>u||D[i]!==J[u]){var ue=`
`+D[i].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=i&&0<=u);break}}}finally{He=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Te(r):""}function Fe(t,n){switch(t.tag){case 26:case 27:case 5:return Te(t.type);case 16:return Te("Lazy");case 13:return t.child!==n&&n!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return ge(t.type,!1);case 11:return ge(t.type.render,!1);case 1:return ge(t.type,!0);case 31:return Te("Activity");default:return""}}function je(t){try{var n="",r=null;do n+=Fe(t,r),r=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ke=Object.prototype.hasOwnProperty,C=e.unstable_scheduleCallback,Z=e.unstable_cancelCallback,T=e.unstable_shouldYield,Q=e.unstable_requestPaint,G=e.unstable_now,re=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,Me=e.unstable_UserBlockingPriority,ae=e.unstable_NormalPriority,ze=e.unstable_LowPriority,Ie=e.unstable_IdlePriority,lt=e.log,Xt=e.unstable_setDisableYieldValue,we=null,Xe=null;function Gt(t){if(typeof lt=="function"&&Xt(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(we,t)}catch{}}var St=Math.clz32?Math.clz32:Pa,Nn=Math.log,kn=Math.LN2;function Pa(t){return t>>>=0,t===0?32:31-(Nn(t)/kn|0)|0}var aa=256,at=262144,Ca=4194304;function fa(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oa(t,n,r){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=fa(i):(y&=S,y!==0?u=fa(y):r||(r=S&~t,r!==0&&(u=fa(r))))):(S=i&~f,S!==0?u=fa(S):y!==0?u=fa(y):r||(r=i&~t,r!==0&&(u=fa(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function Fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $n(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(){var t=Ca;return Ca<<=1,(Ca&62914560)===0&&(Ca=4194304),t}function ne(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function _e(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Be(t,n,r,i,u,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,J=t.hiddenUpdates;for(r=y&~r;0<r;){var ue=31-St(r),be=1<<ue;S[ue]=0,D[ue]=-1;var te=J[ue];if(te!==null)for(J[ue]=null,ue=0;ue<te.length;ue++){var ie=te[ue];ie!==null&&(ie.lane&=-536870913)}r&=~be}i!==0&&Je(t,i,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Je(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-St(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|r&261930}function it(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var i=31-St(r),u=1<<i;u&n|t[i]&n&&(t[i]|=n),r&=~u}}function Ze(t,n){var r=n&-n;return r=(r&42)!==0?1:Qt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Qt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rt(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:jy(t.type))}function gn(t,n){var r=F.p;try{return F.p=t,n()}finally{F.p=r}}var jt=Math.random().toString(36).slice(2),ot="__reactFiber$"+jt,yt="__reactProps$"+jt,kt="__reactContainer$"+jt,dn="__reactEvents$"+jt,wn="__reactListeners$"+jt,yn="__reactHandles$"+jt,fn="__reactResources$"+jt,qt="__reactMarker$"+jt;function Un(t){delete t[ot],delete t[yt],delete t[dn],delete t[wn],delete t[yn]}function tn(t){var n=t[ot];if(n)return n;for(var r=t.parentNode;r;){if(n=r[kt]||r[ot]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=cy(t);t!==null;){if(r=t[ot])return r;t=cy(t)}return n}t=r,r=t.parentNode}return null}function bn(t){if(t=t[ot]||t[kt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Tn(t){var n=t[fn];return n||(n=t[fn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[qt]=!0}var Rr=new Set,Ra={};function _n(t,n){Vn(t,n),Vn(t+"Capture",n)}function Vn(t,n){for(Ra[t]=n,t=0;t<n.length;t++)Rr.add(n[t])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tr={},Ka={};function Qs(t){return Ke.call(Ka,t)?!0:Ke.call(Tr,t)?!1:Ya.test(t)?Ka[t]=!0:(Tr[t]=!0,!1)}function nn(t,n,r){if(Qs(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ta(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Zn(t,n,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+i)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wi(t,n,r){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Dl(t){if(!t._valueTracker){var n=Tl(t)?"checked":"value";t._valueTracker=Wi(t,n,""+t[n])}}function zl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return t&&(i=Tl(t)?t.checked?"true":"false":t.value),t=i,t!==r?(n.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ml=/[\n"\\]/g;function vn(t){return t.replace(Ml,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function kl(t,n,r,i,u,f,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ys(t,y,an(n)):r!=null?Ys(t,y,an(r)):i!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+an(S):t.removeAttribute("name")}function Dr(t,n,r,i,u,f,y,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Dl(t);return}r=r!=null?""+an(r):"",n=n!=null?""+an(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=S?t.checked:!!i,t.defaultChecked=!!i,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Dl(t)}function Ys(t,n,r){n==="number"&&Ps(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ps(t,n,r,i){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&i&&(t[r].defaultSelected=!0)}else{for(r=""+an(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function eo(t,n,r){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+an(r):""}function to(t,n,r,i){if(n==null){if(i!=null){if(r!=null)throw Error(l(92));if(Ae(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),n=r}r=an(n),t.defaultValue=r,i=t.textContent,i===r&&i!==""&&i!==null&&(t.value=i),Dl(t)}function gs(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,n,r){var i=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ao(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&r[u]!==i&&no(t,u,i)}else for(var f in n)n.hasOwnProperty(f)&&no(t,f,n[f])}function Ul(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),du=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return du.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Da(){}var ys=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bs=null,vs=null;function so(t){var n=bn(t);if(n&&(t=n.stateNode)){var r=t[yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(kl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==t&&i.form===t.form){var u=i[yt]||null;if(!u)throw Error(l(90));kl(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)i=r[n],i.form===t.form&&zl(i)}break e;case"textarea":eo(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ps(t,!!r.multiple,n,!1)}}}var Bl=!1;function ro(t,n,r){if(Bl)return t(n,r);Bl=!0;try{var i=t(n);return i}finally{if(Bl=!1,(bs!==null||vs!==null)&&(Ho(),bs&&(n=bs,t=vs,vs=bs=null,so(n),t)))for(n=0;n<t.length;n++)so(t[n])}}function Ks(t,n){var r=t.stateNode;if(r===null)return null;var i=r[yt]||null;if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(za)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Xs=!1}var Ia=null,E=null,H=null;function he(){if(H)return H;var t,n=E,r=n.length,i,u="value"in Ia?Ia.value:Ia.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var y=r-t;for(i=1;i<=y&&n[r-i]===u[f-i];i++);return H=u.slice(t,1<i?1-i:void 0)}function Ee(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function et(){return!0}function Et(){return!1}function dt(t){function n(r,i,u,f,y){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?et:Et,this.isPropagationStopped=Et,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=et)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=et)},persist:function(){},isPersistent:et}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=dt(jn),Fa=x({},jn,{view:0,detail:0}),j0=dt(Fa),fu,mu,ql,lo=x({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(fu=t.screenX-ql.screenX,mu=t.screenY-ql.screenY):mu=fu=0,ql=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:mu}}),sh=dt(lo),E0=x({},lo,{dataTransfer:0}),A0=dt(E0),C0=x({},Fa,{relatedTarget:0}),hu=dt(C0),O0=x({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),R0=dt(O0),T0=x({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D0=dt(T0),z0=x({},jn,{data:0}),rh=dt(z0),M0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=U0[t])?!!n[t]:!1}function pu(){return L0}var B0=x({},Fa,{key:function(t){if(t.key){var n=M0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ee(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(t){return t.type==="keypress"?Ee(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ee(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q0=dt(B0),I0=x({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=dt(I0),F0=x({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),$0=dt(F0),H0=x({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=dt(H0),Z0=x({},lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=dt(Z0),Q0=x({},jn,{newState:0,oldState:0}),P0=dt(Q0),Y0=[9,13,27,32],gu=za&&"CompositionEvent"in window,Il=null;za&&"documentMode"in document&&(Il=document.documentMode);var K0=za&&"TextEvent"in window&&!Il,ih=za&&(!gu||Il&&8<Il&&11>=Il),oh=" ",ch=!1;function uh(t,n){switch(t){case"keyup":return Y0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function X0(t,n){switch(t){case"compositionend":return dh(n);case"keypress":return n.which!==32?null:(ch=!0,oh);case"textInput":return t=n.data,t===oh&&ch?null:t;default:return null}}function J0(t,n){if(Mr)return t==="compositionend"||!gu&&uh(t,n)?(t=he(),H=E=Ia=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ih&&n.locale!=="ko"?null:n.data;default:return null}}var W0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!W0[t.type]:n==="textarea"}function mh(t,n,r,i){bs?vs?vs.push(i):vs=[i]:bs=i,n=Ko(n,"onChange"),0<n.length&&(r=new Ws("onChange","change",null,r,i),t.push({event:r,listeners:n}))}var Fl=null,$l=null;function eS(t){Yg(t,0)}function io(t){var n=Hn(t);if(zl(n))return t}function hh(t,n){if(t==="change")return n}var ph=!1;if(za){var yu;if(za){var bu="oninput"in document;if(!bu){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),bu=typeof gh.oninput=="function"}yu=bu}else yu=!1;ph=yu&&(!document.documentMode||9<document.documentMode)}function yh(){Fl&&(Fl.detachEvent("onpropertychange",bh),$l=Fl=null)}function bh(t){if(t.propertyName==="value"&&io($l)){var n=[];mh(n,$l,t,Ll(t)),ro(eS,n)}}function tS(t,n,r){t==="focusin"?(yh(),Fl=n,$l=r,Fl.attachEvent("onpropertychange",bh)):t==="focusout"&&yh()}function nS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io($l)}function aS(t,n){if(t==="click")return io(n)}function sS(t,n){if(t==="input"||t==="change")return io(n)}function rS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sa=typeof Object.is=="function"?Object.is:rS;function Hl(t,n){if(sa(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!Ke.call(n,u)||!sa(t[u],n[u]))return!1}return!0}function vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xh(t,n){var r=vh(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=n&&i>=n)return{node:r,offset:n-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vh(r)}}function Sh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ps(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ps(t.document)}return n}function vu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lS=za&&"documentMode"in document&&11>=document.documentMode,kr=null,xu=null,Vl=null,Su=!1;function wh(t,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Su||kr==null||kr!==Ps(i)||(i=kr,"selectionStart"in i&&vu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vl&&Hl(Vl,i)||(Vl=i,i=Ko(xu,"onSelect"),0<i.length&&(n=new Ws("onSelect","select",null,n,r),t.push({event:n,listeners:i}),n.target=kr)))}function er(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ur={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},Nu={},_h={};za&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function tr(t){if(Nu[t])return Nu[t];if(!Ur[t])return t;var n=Ur[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in _h)return Nu[t]=n[r];return t}var jh=tr("animationend"),Eh=tr("animationiteration"),Ah=tr("animationstart"),iS=tr("transitionrun"),oS=tr("transitionstart"),cS=tr("transitioncancel"),Ch=tr("transitionend"),Oh=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function Ma(t,n){Oh.set(t,n),_n(n,[t])}var oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ma=[],Lr=0,_u=0;function co(){for(var t=Lr,n=_u=Lr=0;n<t;){var r=ma[n];ma[n++]=null;var i=ma[n];ma[n++]=null;var u=ma[n];ma[n++]=null;var f=ma[n];if(ma[n++]=null,i!==null&&u!==null){var y=i.pending;y===null?u.next=u:(u.next=y.next,y.next=u),i.pending=u}f!==0&&Rh(r,u,f)}}function uo(t,n,r,i){ma[Lr++]=t,ma[Lr++]=n,ma[Lr++]=r,ma[Lr++]=i,_u|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function ju(t,n,r,i){return uo(t,n,r,i),fo(t)}function nr(t,n){return uo(t,null,null,n),fo(t)}function Rh(t,n,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-St(r),t=f.hiddenUpdates,i=t[u],i===null?t[u]=[n]:i.push(n),n.lane=r|536870912),f):null}function fo(t){if(50<fi)throw fi=0,Md=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Br={};function uS(t,n,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(t,n,r,i){return new uS(t,n,r,i)}function Eu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xa(t,n){var r=t.alternate;return r===null?(r=ra(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Th(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mo(t,n,r,i,u,f){var y=0;if(i=t,typeof t=="function")Eu(t)&&(y=1);else if(typeof t=="string")y=pN(t,r,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case oe:return t=ra(31,r,n,u),t.elementType=oe,t.lanes=f,t;case j:return ar(r.children,u,f,n);case A:y=8,u|=24;break;case B:return t=ra(12,r,n,u|2),t.elementType=B,t.lanes=f,t;case O:return t=ra(13,r,n,u),t.elementType=O,t.lanes=f,t;case V:return t=ra(19,r,n,u),t.elementType=V,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:y=10;break e;case R:y=9;break e;case M:y=11;break e;case U:y=14;break e;case K:y=16,i=null;break e}y=29,r=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=ra(y,r,n,u),n.elementType=t,n.type=i,n.lanes=f,n}function ar(t,n,r,i){return t=ra(7,t,i,n),t.lanes=r,t}function Au(t,n,r){return t=ra(6,t,null,n),t.lanes=r,t}function Dh(t){var n=ra(18,null,null,0);return n.stateNode=t,n}function Cu(t,n,r){return n=ra(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zh=new WeakMap;function ha(t,n){if(typeof t=="object"&&t!==null){var r=zh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:je(n)},zh.set(t,n),n)}return{value:t,source:n,stack:je(n)}}var qr=[],Ir=0,ho=null,Zl=0,pa=[],ga=0,xs=null,$a=1,Ha="";function Ja(t,n){qr[Ir++]=Zl,qr[Ir++]=ho,ho=t,Zl=n}function Mh(t,n,r){pa[ga++]=$a,pa[ga++]=Ha,pa[ga++]=xs,xs=t;var i=$a;t=Ha;var u=32-St(i)-1;i&=~(1<<u),r+=1;var f=32-St(n)+u;if(30<f){var y=u-u%5;f=(i&(1<<y)-1).toString(32),i>>=y,u-=y,$a=1<<32-St(n)+u|r<<u|i,Ha=f+t}else $a=1<<f|r<<u|i,Ha=t}function Ou(t){t.return!==null&&(Ja(t,1),Mh(t,1,0))}function Ru(t){for(;t===ho;)ho=qr[--Ir],qr[Ir]=null,Zl=qr[--Ir],qr[Ir]=null;for(;t===xs;)xs=pa[--ga],pa[ga]=null,Ha=pa[--ga],pa[ga]=null,$a=pa[--ga],pa[ga]=null}function kh(t,n){pa[ga++]=$a,pa[ga++]=Ha,pa[ga++]=xs,$a=n.id,Ha=n.overflow,xs=t}var En=null,Ut=null,gt=!1,Ss=null,ya=!1,Tu=Error(l(519));function Ns(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(ha(n,t)),Tu}function Uh(t){var n=t.stateNode,r=t.type,i=t.memoizedProps;switch(n[ot]=t,n[yt]=i,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(r=0;r<hi.length;r++)mt(hi[r],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":mt("invalid",n),Dr(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":mt("invalid",n);break;case"textarea":mt("invalid",n),to(n,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||i.suppressHydrationWarning===!0||Wg(n.textContent,r)?(i.popover!=null&&(mt("beforetoggle",n),mt("toggle",n)),i.onScroll!=null&&mt("scroll",n),i.onScrollEnd!=null&&mt("scrollend",n),i.onClick!=null&&(n.onclick=Da),n=!0):n=!1,n||Ns(t,!0)}function Lh(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:En=En.return}}function Fr(t){if(t!==En)return!1;if(!gt)return Lh(t),gt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Yd(t.type,t.memoizedProps)),r=!r),r&&Ut&&Ns(t),Lh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=oy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=oy(t)}else n===27?(n=Ut,Us(t.type)?(t=ef,ef=null,Ut=t):Ut=n):Ut=En?va(t.stateNode.nextSibling):null;return!0}function sr(){Ut=En=null,gt=!1}function Du(){var t=Ss;return t!==null&&(Yn===null?Yn=t:Yn.push.apply(Yn,t),Ss=null),t}function Gl(t){Ss===null?Ss=[t]:Ss.push(t)}var zu=N(null),rr=null,Wa=null;function ws(t,n,r){ce(zu,n._currentValue),n._currentValue=r}function es(t){t._currentValue=zu.current,I(zu)}function Mu(t,n,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===r)break;t=t.return}}function ku(t,n,r,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var D=0;D<n.length;D++)if(S.context===n[D]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Mu(f.return,r,t),i||(y=null);break e}f=S.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Mu(y,r,t),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===t){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function $r(t,n,r,i){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var S=u.type;sa(u.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(u===Re.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(vi):t=[vi])}u=u.return}t!==null&&ku(n,t,r,i),n.flags|=262144}function po(t){for(t=t.firstContext;t!==null;){if(!sa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){rr=t,Wa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return Bh(rr,t)}function go(t,n){return rr===null&&lr(t),Bh(t,n)}function Bh(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wa===null){if(t===null)throw Error(l(308));Wa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wa=Wa.next=n;return r}var dS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},fS=e.unstable_scheduleCallback,mS=e.unstable_NormalPriority,sn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new dS,data:new Map,refCount:0}}function Ql(t){t.refCount--,t.refCount===0&&fS(mS,function(){t.controller.abort()})}var Pl=null,Lu=0,Hr=0,Vr=null;function hS(t,n){if(Pl===null){var r=Pl=[];Lu=0,Hr=Id(),Vr={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Lu++,n.then(qh,qh),n}function qh(){if(--Lu===0&&Pl!==null){Vr!==null&&(Vr.status="fulfilled");var t=Pl;Pl=null,Hr=0,Vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pS(t,n){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var Ih=z.S;z.S=function(t,n){wg=G(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hS(t,n),Ih!==null&&Ih(t,n)};var ir=N(null);function Bu(){var t=ir.current;return t!==null?t:Dt.pooledCache}function yo(t,n){n===null?ce(ir,ir.current):ce(ir,n.pool)}function Fh(){var t=Bu();return t===null?null:{parent:sn._currentValue,pool:t}}var Zr=Error(l(460)),qu=Error(l(474)),bo=Error(l(542)),vo={then:function(){}};function $h(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Da,Da),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zh(t),t;default:if(typeof n.status=="string")n.then(Da,Da);else{if(t=Dt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zh(t),t}throw cr=n,Zr}}function or(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(cr=r,Zr):r}}var cr=null;function Vh(){if(cr===null)throw Error(l(459));var t=cr;return cr=null,t}function Zh(t){if(t===Zr||t===bo)throw Error(l(483))}var Gr=null,Yl=0;function xo(t){var n=Yl;return Yl+=1,Gr===null&&(Gr=[]),Hh(Gr,t,n)}function Kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function So(t,n){throw n.$$typeof===w?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gh(t){function n($,L){if(t){var X=$.deletions;X===null?($.deletions=[L],$.flags|=16):X.push(L)}}function r($,L){if(!t)return null;for(;L!==null;)n($,L),L=L.sibling;return null}function i($){for(var L=new Map;$!==null;)$.key!==null?L.set($.key,$):L.set($.index,$),$=$.sibling;return L}function u($,L){return $=Xa($,L),$.index=0,$.sibling=null,$}function f($,L,X){return $.index=X,t?(X=$.alternate,X!==null?(X=X.index,X<L?($.flags|=67108866,L):X):($.flags|=67108866,L)):($.flags|=1048576,L)}function y($){return t&&$.alternate===null&&($.flags|=67108866),$}function S($,L,X,pe){return L===null||L.tag!==6?(L=Au(X,$.mode,pe),L.return=$,L):(L=u(L,X),L.return=$,L)}function D($,L,X,pe){var Ge=X.type;return Ge===j?ue($,L,X.props.children,pe,X.key):L!==null&&(L.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===K&&or(Ge)===L.type)?(L=u(L,X.props),Kl(L,X),L.return=$,L):(L=mo(X.type,X.key,X.props,null,$.mode,pe),Kl(L,X),L.return=$,L)}function J($,L,X,pe){return L===null||L.tag!==4||L.stateNode.containerInfo!==X.containerInfo||L.stateNode.implementation!==X.implementation?(L=Cu(X,$.mode,pe),L.return=$,L):(L=u(L,X.children||[]),L.return=$,L)}function ue($,L,X,pe,Ge){return L===null||L.tag!==7?(L=ar(X,$.mode,pe,Ge),L.return=$,L):(L=u(L,X),L.return=$,L)}function be($,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Au(""+L,$.mode,X),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return X=mo(L.type,L.key,L.props,null,$.mode,X),Kl(X,L),X.return=$,X;case _:return L=Cu(L,$.mode,X),L.return=$,L;case K:return L=or(L),be($,L,X)}if(Ae(L)||fe(L))return L=ar(L,$.mode,X,null),L.return=$,L;if(typeof L.then=="function")return be($,xo(L),X);if(L.$$typeof===W)return be($,go($,L),X);So($,L)}return null}function te($,L,X,pe){var Ge=L!==null?L.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ge!==null?null:S($,L,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return X.key===Ge?D($,L,X,pe):null;case _:return X.key===Ge?J($,L,X,pe):null;case K:return X=or(X),te($,L,X,pe)}if(Ae(X)||fe(X))return Ge!==null?null:ue($,L,X,pe,null);if(typeof X.then=="function")return te($,L,xo(X),pe);if(X.$$typeof===W)return te($,L,go($,X),pe);So($,X)}return null}function ie($,L,X,pe,Ge){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return $=$.get(X)||null,S(L,$,""+pe,Ge);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case q:return $=$.get(pe.key===null?X:pe.key)||null,D(L,$,pe,Ge);case _:return $=$.get(pe.key===null?X:pe.key)||null,J(L,$,pe,Ge);case K:return pe=or(pe),ie($,L,X,pe,Ge)}if(Ae(pe)||fe(pe))return $=$.get(X)||null,ue(L,$,pe,Ge,null);if(typeof pe.then=="function")return ie($,L,X,xo(pe),Ge);if(pe.$$typeof===W)return ie($,L,X,go(L,pe),Ge);So(L,pe)}return null}function Le($,L,X,pe){for(var Ge=null,bt=null,$e=L,st=L=0,pt=null;$e!==null&&st<X.length;st++){$e.index>st?(pt=$e,$e=null):pt=$e.sibling;var vt=te($,$e,X[st],pe);if(vt===null){$e===null&&($e=pt);break}t&&$e&&vt.alternate===null&&n($,$e),L=f(vt,L,st),bt===null?Ge=vt:bt.sibling=vt,bt=vt,$e=pt}if(st===X.length)return r($,$e),gt&&Ja($,st),Ge;if($e===null){for(;st<X.length;st++)$e=be($,X[st],pe),$e!==null&&(L=f($e,L,st),bt===null?Ge=$e:bt.sibling=$e,bt=$e);return gt&&Ja($,st),Ge}for($e=i($e);st<X.length;st++)pt=ie($e,$,st,X[st],pe),pt!==null&&(t&&pt.alternate!==null&&$e.delete(pt.key===null?st:pt.key),L=f(pt,L,st),bt===null?Ge=pt:bt.sibling=pt,bt=pt);return t&&$e.forEach(function(Fs){return n($,Fs)}),gt&&Ja($,st),Ge}function Pe($,L,X,pe){if(X==null)throw Error(l(151));for(var Ge=null,bt=null,$e=L,st=L=0,pt=null,vt=X.next();$e!==null&&!vt.done;st++,vt=X.next()){$e.index>st?(pt=$e,$e=null):pt=$e.sibling;var Fs=te($,$e,vt.value,pe);if(Fs===null){$e===null&&($e=pt);break}t&&$e&&Fs.alternate===null&&n($,$e),L=f(Fs,L,st),bt===null?Ge=Fs:bt.sibling=Fs,bt=Fs,$e=pt}if(vt.done)return r($,$e),gt&&Ja($,st),Ge;if($e===null){for(;!vt.done;st++,vt=X.next())vt=be($,vt.value,pe),vt!==null&&(L=f(vt,L,st),bt===null?Ge=vt:bt.sibling=vt,bt=vt);return gt&&Ja($,st),Ge}for($e=i($e);!vt.done;st++,vt=X.next())vt=ie($e,$,st,vt.value,pe),vt!==null&&(t&&vt.alternate!==null&&$e.delete(vt.key===null?st:vt.key),L=f(vt,L,st),bt===null?Ge=vt:bt.sibling=vt,bt=vt);return t&&$e.forEach(function(EN){return n($,EN)}),gt&&Ja($,st),Ge}function Ot($,L,X,pe){if(typeof X=="object"&&X!==null&&X.type===j&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case q:e:{for(var Ge=X.key;L!==null;){if(L.key===Ge){if(Ge=X.type,Ge===j){if(L.tag===7){r($,L.sibling),pe=u(L,X.props.children),pe.return=$,$=pe;break e}}else if(L.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===K&&or(Ge)===L.type){r($,L.sibling),pe=u(L,X.props),Kl(pe,X),pe.return=$,$=pe;break e}r($,L);break}else n($,L);L=L.sibling}X.type===j?(pe=ar(X.props.children,$.mode,pe,X.key),pe.return=$,$=pe):(pe=mo(X.type,X.key,X.props,null,$.mode,pe),Kl(pe,X),pe.return=$,$=pe)}return y($);case _:e:{for(Ge=X.key;L!==null;){if(L.key===Ge)if(L.tag===4&&L.stateNode.containerInfo===X.containerInfo&&L.stateNode.implementation===X.implementation){r($,L.sibling),pe=u(L,X.children||[]),pe.return=$,$=pe;break e}else{r($,L);break}else n($,L);L=L.sibling}pe=Cu(X,$.mode,pe),pe.return=$,$=pe}return y($);case K:return X=or(X),Ot($,L,X,pe)}if(Ae(X))return Le($,L,X,pe);if(fe(X)){if(Ge=fe(X),typeof Ge!="function")throw Error(l(150));return X=Ge.call(X),Pe($,L,X,pe)}if(typeof X.then=="function")return Ot($,L,xo(X),pe);if(X.$$typeof===W)return Ot($,L,go($,X),pe);So($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,L!==null&&L.tag===6?(r($,L.sibling),pe=u(L,X),pe.return=$,$=pe):(r($,L),pe=Au(X,$.mode,pe),pe.return=$,$=pe),y($)):r($,L)}return function($,L,X,pe){try{Yl=0;var Ge=Ot($,L,X,pe);return Gr=null,Ge}catch($e){if($e===Zr||$e===bo)throw $e;var bt=ra(29,$e,null,$.mode);return bt.lanes=pe,bt.return=$,bt}finally{}}}var ur=Gh(!0),Qh=Gh(!1),_s=!1;function Iu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(xt&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=fo(t),Rh(t,null,r),n}return uo(t,i,n,r),fo(t)}function Xl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,it(t,r)}}function $u(t,n){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Hu=!1;function Jl(){if(Hu){var t=Vr;if(t!==null)throw t}}function Wl(t,n,r,i){Hu=!1;var u=t.updateQueue;_s=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var D=S,J=D.next;D.next=null,y===null?f=J:y.next=J,y=D;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,S=ue.lastBaseUpdate,S!==y&&(S===null?ue.firstBaseUpdate=J:S.next=J,ue.lastBaseUpdate=D))}if(f!==null){var be=u.baseState;y=0,ue=J=D=null,S=f;do{var te=S.lane&-536870913,ie=te!==S.lane;if(ie?(ht&te)===te:(i&te)===te){te!==0&&te===Hr&&(Hu=!0),ue!==null&&(ue=ue.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Le=t,Pe=S;te=n;var Ot=r;switch(Pe.tag){case 1:if(Le=Pe.payload,typeof Le=="function"){be=Le.call(Ot,be,te);break e}be=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Pe.payload,te=typeof Le=="function"?Le.call(Ot,be,te):Le,te==null)break e;be=x({},be,te);break e;case 2:_s=!0}}te=S.callback,te!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ue===null?(J=ue=ie,D=be):ue=ue.next=ie,y|=te;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;ie=S,S=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);ue===null&&(D=be),u.baseState=D,u.firstBaseUpdate=J,u.lastBaseUpdate=ue,f===null&&(u.shared.lanes=0),Ts|=y,t.lanes=y,t.memoizedState=be}}function Ph(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Yh(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Ph(r[t],n)}var Qr=N(null),No=N(0);function Kh(t,n){t=cs,ce(No,t),ce(Qr,n),cs=t|n.baseLanes}function Vu(){ce(No,cs),ce(Qr,Qr.current)}function Zu(){cs=No.current,I(Qr),I(No)}var la=N(null),ba=null;function As(t){var n=t.alternate;ce(Jt,Jt.current&1),ce(la,t),ba===null&&(n===null||Qr.current!==null||n.memoizedState!==null)&&(ba=t)}function Gu(t){ce(Jt,Jt.current),ce(la,t),ba===null&&(ba=t)}function Xh(t){t.tag===22?(ce(Jt,Jt.current),ce(la,t),ba===null&&(ba=t)):Cs()}function Cs(){ce(Jt,Jt.current),ce(la,la.current)}function ia(t){I(la),ba===t&&(ba=null),I(Jt)}var Jt=N(0);function wo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Jd(r)||Wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,tt=null,At=null,rn=null,_o=!1,Pr=!1,dr=!1,jo=0,ei=0,Yr=null,gS=0;function Pt(){throw Error(l(321))}function Qu(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sa(t[r],n[r]))return!1;return!0}function Pu(t,n,r,i,u,f){return ts=f,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?Mp:cd,dr=!1,f=r(i,u),dr=!1,Pr&&(f=Wh(n,r,i,u)),Jh(t),f}function Jh(t){z.H=ai;var n=At!==null&&At.next!==null;if(ts=0,rn=At=tt=null,_o=!1,ei=0,Yr=null,n)throw Error(l(300));t===null||ln||(t=t.dependencies,t!==null&&po(t)&&(ln=!0))}function Wh(t,n,r,i){tt=t;var u=0;do{if(Pr&&(Yr=null),ei=0,Pr=!1,25<=u)throw Error(l(301));if(u+=1,rn=At=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=kp,f=n(r,i)}while(Pr);return f}function yS(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?ti(n):n,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(tt.flags|=1024),n}function Yu(){var t=jo!==0;return jo=0,t}function Ku(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Xu(t){if(_o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_o=!1}ts=0,rn=At=tt=null,Pr=!1,ei=jo=0,Yr=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?tt.memoizedState=rn=t:rn=rn.next=t,rn}function Wt(){if(At===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var n=rn===null?tt.memoizedState:rn.next;if(n!==null)rn=n,At=t;else{if(t===null)throw tt.alternate===null?Error(l(467)):Error(l(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},rn===null?tt.memoizedState=rn=t:rn=rn.next=t}return rn}function Eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ti(t){var n=ei;return ei+=1,Yr===null&&(Yr=[]),t=Hh(Yr,t,n),n=tt,(rn===null?n.memoizedState:rn.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?Mp:cd),t}function Ao(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ti(t);if(t.$$typeof===W)return An(t)}throw Error(l(438,String(t)))}function Ju(t){var n=null,r=tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=tt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Eo(),tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),i=0;i<t;i++)r[i]=Ne;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function Co(t){var n=Wt();return Wu(n,At,t)}function Wu(t,n,r){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=t.baseQueue,f=i.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}n.baseQueue=u=f,i.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var S=y=null,D=null,J=n,ue=!1;do{var be=J.lane&-536870913;if(be!==J.lane?(ht&be)===be:(ts&be)===be){var te=J.revertLane;if(te===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),be===Hr&&(ue=!0);else if((ts&te)===te){J=J.next,te===Hr&&(ue=!0);continue}else be={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(S=D=be,y=f):D=D.next=be,tt.lanes|=te,Ts|=te;be=J.action,dr&&r(f,be),f=J.hasEagerState?J.eagerState:r(f,be)}else te={lane:be,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(S=D=te,y=f):D=D.next=te,tt.lanes|=be,Ts|=be;J=J.next}while(J!==null&&J!==n);if(D===null?y=f:D.next=S,!sa(f,t.memoizedState)&&(ln=!0,ue&&(r=Vr,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=D,i.lastRenderedState=f}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function ed(t){var n=Wt(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var i=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=t(f,y.action),y=y.next;while(y!==u);sa(f,n.memoizedState)||(ln=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,i]}function ep(t,n,r){var i=tt,u=Wt(),f=gt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var y=!sa((At||u).memoizedState,r);if(y&&(u.memoizedState=r,ln=!0),u=u.queue,ad(ap.bind(null,i,u,t),[t]),u.getSnapshot!==n||y||rn!==null&&rn.memoizedState.tag&1){if(i.flags|=2048,Kr(9,{destroy:void 0},np.bind(null,i,u,r,n),null),Dt===null)throw Error(l(349));f||(ts&127)!==0||tp(i,n,r)}return r}function tp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=tt.updateQueue,n===null?(n=Eo(),tt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function np(t,n,r,i){n.value=r,n.getSnapshot=i,sp(n)&&rp(t)}function ap(t,n,r){return r(function(){sp(n)&&rp(t)})}function sp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sa(t,r)}catch{return!0}}function rp(t){var n=nr(t,2);n!==null&&Kn(n,t,2)}function td(t){var n=Ln();if(typeof t=="function"){var r=t;if(t=r(),dr){Gt(!0);try{r()}finally{Gt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function lp(t,n,r,i){return t.baseState=r,Wu(t,At,typeof i=="function"?i:ns)}function bS(t,n,r,i,u){if(To(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};z.T!==null?r(!0):f.isTransition=!1,i(f),r=n.pending,r===null?(f.next=n.pending=f,ip(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ip(t,n){var r=n.action,i=n.payload,u=t.state;if(n.isTransition){var f=z.T,y={};z.T=y;try{var S=r(u,i),D=z.S;D!==null&&D(y,S),op(t,n,S)}catch(J){nd(t,n,J)}finally{f!==null&&y.types!==null&&(f.types=y.types),z.T=f}}else try{f=r(u,i),op(t,n,f)}catch(J){nd(t,n,J)}}function op(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){cp(t,n,i)},function(i){return nd(t,n,i)}):cp(t,n,r)}function cp(t,n,r){n.status="fulfilled",n.value=r,up(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ip(t,r)))}function nd(t,n,r){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,up(n),n=n.next;while(n!==i)}t.action=null}function up(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dp(t,n){return n}function fp(t,n){if(gt){var r=Dt.formState;if(r!==null){e:{var i=tt;if(gt){if(Ut){t:{for(var u=Ut,f=ya;u.nodeType!==8;){if(!f){u=null;break t}if(u=va(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ut=va(u.nextSibling),i=u.data==="F!";break e}}Ns(i)}i=!1}i&&(n=r[0])}}return r=Ln(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},r.queue=i,r=Tp.bind(null,tt,i),i.dispatch=r,i=td(!1),f=od.bind(null,tt,!1,i.queue),i=Ln(),u={state:n,dispatch:null,action:t,pending:null},i.queue=u,r=bS.bind(null,tt,u,f,r),u.dispatch=r,i.memoizedState=t,[n,r,!1]}function mp(t){var n=Wt();return hp(n,At,t)}function hp(t,n,r){if(n=Wu(t,n,dp)[0],t=Co(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=ti(n)}catch(y){throw y===Zr?bo:y}else i=n;n=Wt();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(tt.flags|=2048,Kr(9,{destroy:void 0},vS.bind(null,u,r),null)),[i,f,t]}function vS(t,n){t.action=n}function pp(t){var n=Wt(),r=At;if(r!==null)return hp(n,r,t);Wt(),n=n.memoizedState,r=Wt();var i=r.queue.dispatch;return r.memoizedState=t,[n,i,!1]}function Kr(t,n,r,i){return t={tag:t,create:r,deps:i,inst:n,next:null},n=tt.updateQueue,n===null&&(n=Eo(),tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,n.lastEffect=t),t}function gp(){return Wt().memoizedState}function Oo(t,n,r,i){var u=Ln();tt.flags|=t,u.memoizedState=Kr(1|n,{destroy:void 0},r,i===void 0?null:i)}function Ro(t,n,r,i){var u=Wt();i=i===void 0?null:i;var f=u.memoizedState.inst;At!==null&&i!==null&&Qu(i,At.memoizedState.deps)?u.memoizedState=Kr(n,f,r,i):(tt.flags|=t,u.memoizedState=Kr(1|n,f,r,i))}function yp(t,n){Oo(8390656,8,t,n)}function ad(t,n){Ro(2048,8,t,n)}function xS(t){tt.flags|=4;var n=tt.updateQueue;if(n===null)n=Eo(),tt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function bp(t){var n=Wt().memoizedState;return xS({ref:n,nextImpl:t}),function(){if((xt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function vp(t,n){return Ro(4,2,t,n)}function xp(t,n){return Ro(4,4,t,n)}function Sp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Np(t,n,r){r=r!=null?r.concat([t]):null,Ro(4,4,Sp.bind(null,n,t),r)}function sd(){}function wp(t,n){var r=Wt();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&Qu(n,i[1])?i[0]:(r.memoizedState=[t,n],t)}function _p(t,n){var r=Wt();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&Qu(n,i[1]))return i[0];if(i=t(),dr){Gt(!0);try{t()}finally{Gt(!1)}}return r.memoizedState=[i,n],i}function rd(t,n,r){return r===void 0||(ts&1073741824)!==0&&(ht&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=jg(),tt.lanes|=t,Ts|=t,r)}function jp(t,n,r,i){return sa(r,n)?r:Qr.current!==null?(t=rd(t,r,i),sa(t,n)||(ln=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(ht&261930)===0?(ln=!0,t.memoizedState=r):(t=jg(),tt.lanes|=t,Ts|=t,n)}function Ep(t,n,r,i,u){var f=F.p;F.p=f!==0&&8>f?f:8;var y=z.T,S={};z.T=S,od(t,!1,n,r);try{var D=u(),J=z.S;if(J!==null&&J(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ue=pS(D,i);ni(t,n,ue,ua(t))}else ni(t,n,i,ua(t))}catch(be){ni(t,n,{then:function(){},status:"rejected",reason:be},ua())}finally{F.p=f,y!==null&&S.types!==null&&(y.types=S.types),z.T=y}}function SS(){}function ld(t,n,r,i){if(t.tag!==5)throw Error(l(476));var u=Ap(t).queue;Ep(t,u,n,ee,r===null?SS:function(){return Cp(t),r(i)})}function Ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ee},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Cp(t){var n=Ap(t);n.next===null&&(n=t.alternate.memoizedState),ni(t,n.next.queue,{},ua())}function id(){return An(vi)}function Op(){return Wt().memoizedState}function Rp(){return Wt().memoizedState}function NS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ua();t=js(r);var i=Es(n,t,r);i!==null&&(Kn(i,n,r),Xl(i,n,r)),n={cache:Uu()},t.payload=n;return}n=n.return}}function wS(t,n,r){var i=ua();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},To(t)?Dp(n,r):(r=ju(t,n,r,i),r!==null&&(Kn(r,t,i),zp(r,n,i)))}function Tp(t,n,r){var i=ua();ni(t,n,r,i)}function ni(t,n,r,i){var u={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(To(t))Dp(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,S=f(y,r);if(u.hasEagerState=!0,u.eagerState=S,sa(S,y))return uo(t,n,u,0),Dt===null&&co(),!1}catch{}finally{}if(r=ju(t,n,u,i),r!==null)return Kn(r,t,i),zp(r,n,i),!0}return!1}function od(t,n,r,i){if(i={lane:2,revertLane:Id(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},To(t)){if(n)throw Error(l(479))}else n=ju(t,r,i,2),n!==null&&Kn(n,t,2)}function To(t){var n=t.alternate;return t===tt||n!==null&&n===tt}function Dp(t,n){Pr=_o=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function zp(t,n,r){if((r&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,it(t,r)}}var ai={readContext:An,use:Ao,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};ai.useEffectEvent=Pt;var Mp={readContext:An,use:Ao,useCallback:function(t,n){return Ln().memoizedState=[t,n===void 0?null:n],t},useContext:An,useEffect:yp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Oo(4194308,4,Sp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Oo(4194308,4,t,n)},useInsertionEffect:function(t,n){Oo(4,2,t,n)},useMemo:function(t,n){var r=Ln();n=n===void 0?null:n;var i=t();if(dr){Gt(!0);try{t()}finally{Gt(!1)}}return r.memoizedState=[i,n],i},useReducer:function(t,n,r){var i=Ln();if(r!==void 0){var u=r(n);if(dr){Gt(!0);try{r(n)}finally{Gt(!1)}}}else u=n;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=wS.bind(null,tt,t),[i.memoizedState,t]},useRef:function(t){var n=Ln();return t={current:t},n.memoizedState=t},useState:function(t){t=td(t);var n=t.queue,r=Tp.bind(null,tt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:sd,useDeferredValue:function(t,n){var r=Ln();return rd(r,t,n)},useTransition:function(){var t=td(!1);return t=Ep.bind(null,tt,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var i=tt,u=Ln();if(gt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Dt===null)throw Error(l(349));(ht&127)!==0||tp(i,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,yp(ap.bind(null,i,f,t),[t]),i.flags|=2048,Kr(9,{destroy:void 0},np.bind(null,i,f,r,n),null),r},useId:function(){var t=Ln(),n=Dt.identifierPrefix;if(gt){var r=Ha,i=$a;r=(i&~(1<<32-St(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=jo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=gS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:id,useFormState:fp,useActionState:fp,useOptimistic:function(t){var n=Ln();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=od.bind(null,tt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ju,useCacheRefresh:function(){return Ln().memoizedState=NS.bind(null,tt)},useEffectEvent:function(t){var n=Ln(),r={impl:t};return n.memoizedState=r,function(){if((xt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},cd={readContext:An,use:Ao,useCallback:wp,useContext:An,useEffect:ad,useImperativeHandle:Np,useInsertionEffect:vp,useLayoutEffect:xp,useMemo:_p,useReducer:Co,useRef:gp,useState:function(){return Co(ns)},useDebugValue:sd,useDeferredValue:function(t,n){var r=Wt();return jp(r,At.memoizedState,t,n)},useTransition:function(){var t=Co(ns)[0],n=Wt().memoizedState;return[typeof t=="boolean"?t:ti(t),n]},useSyncExternalStore:ep,useId:Op,useHostTransitionStatus:id,useFormState:mp,useActionState:mp,useOptimistic:function(t,n){var r=Wt();return lp(r,At,t,n)},useMemoCache:Ju,useCacheRefresh:Rp};cd.useEffectEvent=bp;var kp={readContext:An,use:Ao,useCallback:wp,useContext:An,useEffect:ad,useImperativeHandle:Np,useInsertionEffect:vp,useLayoutEffect:xp,useMemo:_p,useReducer:ed,useRef:gp,useState:function(){return ed(ns)},useDebugValue:sd,useDeferredValue:function(t,n){var r=Wt();return At===null?rd(r,t,n):jp(r,At.memoizedState,t,n)},useTransition:function(){var t=ed(ns)[0],n=Wt().memoizedState;return[typeof t=="boolean"?t:ti(t),n]},useSyncExternalStore:ep,useId:Op,useHostTransitionStatus:id,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var r=Wt();return At!==null?lp(r,At,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:Rp};kp.useEffectEvent=bp;function ud(t,n,r,i){n=t.memoizedState,r=r(i,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dd={enqueueSetState:function(t,n,r){t=t._reactInternals;var i=ua(),u=js(i);u.payload=n,r!=null&&(u.callback=r),n=Es(t,u,i),n!==null&&(Kn(n,t,i),Xl(n,t,i))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var i=ua(),u=js(i);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Es(t,u,i),n!==null&&(Kn(n,t,i),Xl(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ua(),i=js(r);i.tag=2,n!=null&&(i.callback=n),n=Es(t,i,r),n!==null&&(Kn(n,t,r),Xl(n,t,r))}};function Up(t,n,r,i,u,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,f,y):n.prototype&&n.prototype.isPureReactComponent?!Hl(r,i)||!Hl(u,f):!0}function Lp(t,n,r,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==t&&dd.enqueueReplaceState(n,n.state,null)}function fr(t,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function Bp(t){oo(t)}function qp(t){console.error(t)}function Ip(t){oo(t)}function Do(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Fp(t,n,r){try{var i=t.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function fd(t,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){Do(t,n)},r}function $p(t){return t=js(t),t.tag=3,t}function Hp(t,n,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;t.payload=function(){return u(f)},t.callback=function(){Fp(n,r,i)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Fp(n,r,i),typeof u!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function _S(t,n,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&$r(n,r,u,!0),r=la.current,r!==null){switch(r.tag){case 31:case 13:return ba===null?Vo():r.alternate===null&&Yt===0&&(Yt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===vo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),Ld(t,i,u)),!1;case 22:return r.flags|=65536,i===vo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),Ld(t,i,u)),!1}throw Error(l(435,r.tag))}return Ld(t,i,u),Vo(),!1}if(gt)return n=la.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==Tu&&(t=Error(l(422),{cause:i}),Gl(ha(t,r)))):(i!==Tu&&(n=Error(l(423),{cause:i}),Gl(ha(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=ha(i,r),u=fd(t.stateNode,i,u),$u(t,u),Yt!==4&&(Yt=2)),!1;var f=Error(l(520),{cause:i});if(f=ha(f,r),di===null?di=[f]:di.push(f),Yt!==4&&(Yt=2),n===null)return!0;i=ha(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=fd(r.stateNode,i,t),$u(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=$p(u),Hp(u,t,r,i),$u(r,u),!1}r=r.return}while(r!==null);return!1}var md=Error(l(461)),ln=!1;function Cn(t,n,r,i){n.child=t===null?Qh(n,null,r,i):ur(n,t.child,r,i)}function Vp(t,n,r,i,u){r=r.render;var f=n.ref;if("ref"in i){var y={};for(var S in i)S!=="ref"&&(y[S]=i[S])}else y=i;return lr(n),i=Pu(t,n,r,y,f,u),S=Yu(),t!==null&&!ln?(Ku(t,n,u),as(t,n,u)):(gt&&S&&Ou(n),n.flags|=1,Cn(t,n,i,u),n.child)}function Zp(t,n,r,i,u){if(t===null){var f=r.type;return typeof f=="function"&&!Eu(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Gp(t,n,f,i,u)):(t=mo(r.type,null,i,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Sd(t,u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(y,i)&&t.ref===n.ref)return as(t,n,u)}return n.flags|=1,t=Xa(f,i),t.ref=n.ref,t.return=n,n.child=t}function Gp(t,n,r,i,u){if(t!==null){var f=t.memoizedProps;if(Hl(f,i)&&t.ref===n.ref)if(ln=!1,n.pendingProps=i=f,Sd(t,u))(t.flags&131072)!==0&&(ln=!0);else return n.lanes=t.lanes,as(t,n,u)}return hd(t,n,r,i,u)}function Qp(t,n,r,i){var u=i.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(i=n.child=t.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return Pp(t,n,f,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yo(n,f!==null?f.cachePool:null),f!==null?Kh(n,f):Vu(),Xh(n);else return i=n.lanes=536870912,Pp(t,n,f!==null?f.baseLanes|r:r,r,i)}else f!==null?(yo(n,f.cachePool),Kh(n,f),Cs(),n.memoizedState=null):(t!==null&&yo(n,null),Vu(),Cs());return Cn(t,n,u,r),n.child}function si(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Pp(t,n,r,i,u){var f=Bu();return f=f===null?null:{parent:sn._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&yo(n,null),Vu(),Xh(n),t!==null&&$r(t,n,i,!0),n.childLanes=u,null}function zo(t,n){return n=ko({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yp(t,n,r){return ur(n,t.child,null,r),t=zo(n,n.pendingProps),t.flags|=2,ia(n),n.memoizedState=null,t}function jS(t,n,r){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(gt){if(i.mode==="hidden")return t=zo(n,i),n.lanes=536870912,si(null,t);if(Gu(n),(t=Ut)?(t=iy(t,ya),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:$a,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},r=Dh(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw Ns(n);return n.lanes=536870912,null}return zo(n,i)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Gu(n),u)if(n.flags&256)n.flags&=-257,n=Yp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(ln||$r(t,n,r,!1),u=(r&t.childLanes)!==0,ln||u){if(i=Dt,i!==null&&(y=Ze(i,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,nr(t,y),Kn(i,t,y),md;Vo(),n=Yp(t,n,r)}else t=f.treeContext,Ut=va(y.nextSibling),En=n,gt=!0,Ss=null,ya=!1,t!==null&&kh(n,t),n=zo(n,i),n.flags|=4096;return n}return t=Xa(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Mo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function hd(t,n,r,i,u){return lr(n),r=Pu(t,n,r,i,void 0,u),i=Yu(),t!==null&&!ln?(Ku(t,n,u),as(t,n,u)):(gt&&i&&Ou(n),n.flags|=1,Cn(t,n,r,u),n.child)}function Kp(t,n,r,i,u,f){return lr(n),n.updateQueue=null,r=Wh(n,i,r,u),Jh(t),i=Yu(),t!==null&&!ln?(Ku(t,n,f),as(t,n,f)):(gt&&i&&Ou(n),n.flags|=1,Cn(t,n,r,f),n.child)}function Xp(t,n,r,i,u){if(lr(n),n.stateNode===null){var f=Br,y=r.contextType;typeof y=="object"&&y!==null&&(f=An(y)),f=new r(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},Iu(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?An(y):Br,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(ud(n,r,y,i),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dd.enqueueReplaceState(f,f.state,null),Wl(n,i,f,u),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,D=fr(r,S);f.props=D;var J=f.context,ue=r.contextType;y=Br,typeof ue=="object"&&ue!==null&&(y=An(ue));var be=r.getDerivedStateFromProps;ue=typeof be=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,ue||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||J!==y)&&Lp(n,f,i,y),_s=!1;var te=n.memoizedState;f.state=te,Wl(n,i,f,u),Jl(),J=n.memoizedState,S||te!==J||_s?(typeof be=="function"&&(ud(n,r,be,i),J=n.memoizedState),(D=_s||Up(n,r,D,i,te,J,y))?(ue||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=J),f.props=i,f.state=J,f.context=y,i=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,Fu(t,n),y=n.memoizedProps,ue=fr(r,y),f.props=ue,be=n.pendingProps,te=f.context,J=r.contextType,D=Br,typeof J=="object"&&J!==null&&(D=An(J)),S=r.getDerivedStateFromProps,(J=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==be||te!==D)&&Lp(n,f,i,D),_s=!1,te=n.memoizedState,f.state=te,Wl(n,i,f,u),Jl();var ie=n.memoizedState;y!==be||te!==ie||_s||t!==null&&t.dependencies!==null&&po(t.dependencies)?(typeof S=="function"&&(ud(n,r,S,i),ie=n.memoizedState),(ue=_s||Up(n,r,ue,i,te,ie,D)||t!==null&&t.dependencies!==null&&po(t.dependencies))?(J||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,ie,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,ie,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&te===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&te===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=ie),f.props=i,f.state=ie,f.context=D,i=ue):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&te===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&te===t.memoizedState||(n.flags|=1024),i=!1)}return f=i,Mo(t,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&i?(n.child=ur(n,t.child,null,u),n.child=ur(n,null,r,u)):Cn(t,n,r,u),n.memoizedState=f.state,t=n.child):t=as(t,n,u),t}function Jp(t,n,r,i){return sr(),n.flags|=256,Cn(t,n,r,i),n.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:Fh()}}function yd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=ca),t}function Wp(t,n,r){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Jt.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(gt){if(u?As(n):Cs(),(t=Ut)?(t=iy(t,ya),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:$a,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},r=Dh(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw Ns(n);return Wd(t)?n.lanes=32:n.lanes=536870912,null}var S=i.children;return i=i.fallback,u?(Cs(),u=n.mode,S=ko({mode:"hidden",children:S},u),i=ar(i,u,r,null),S.return=n,i.return=n,S.sibling=i,n.child=S,i=n.child,i.memoizedState=gd(r),i.childLanes=yd(t,y,r),n.memoizedState=pd,si(null,i)):(As(n),bd(n,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=vd(t,n,r)):n.memoizedState!==null?(Cs(),n.child=t.child,n.flags|=128,n=null):(Cs(),S=i.fallback,u=n.mode,i=ko({mode:"visible",children:i.children},u),S=ar(S,u,r,null),S.flags|=2,i.return=n,S.return=n,i.sibling=S,n.child=i,ur(n,t.child,null,r),i=n.child,i.memoizedState=gd(r),i.childLanes=yd(t,y,r),n.memoizedState=pd,n=si(null,i));else if(As(n),Wd(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var J=y.dgst;y=J,i=Error(l(419)),i.stack="",i.digest=y,Gl({value:i,source:null,stack:null}),n=vd(t,n,r)}else if(ln||$r(t,n,r,!1),y=(r&t.childLanes)!==0,ln||y){if(y=Dt,y!==null&&(i=Ze(y,r),i!==0&&i!==D.retryLane))throw D.retryLane=i,nr(t,i),Kn(y,t,i),md;Jd(S)||Vo(),n=vd(t,n,r)}else Jd(S)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Ut=va(S.nextSibling),En=n,gt=!0,Ss=null,ya=!1,t!==null&&kh(n,t),n=bd(n,i.children),n.flags|=4096);return n}return u?(Cs(),S=i.fallback,u=n.mode,D=t.child,J=D.sibling,i=Xa(D,{mode:"hidden",children:i.children}),i.subtreeFlags=D.subtreeFlags&65011712,J!==null?S=Xa(J,S):(S=ar(S,u,r,null),S.flags|=2),S.return=n,i.return=n,i.sibling=S,n.child=i,si(null,i),i=n.child,S=t.child.memoizedState,S===null?S=gd(r):(u=S.cachePool,u!==null?(D=sn._currentValue,u=u.parent!==D?{parent:D,pool:D}:u):u=Fh(),S={baseLanes:S.baseLanes|r,cachePool:u}),i.memoizedState=S,i.childLanes=yd(t,y,r),n.memoizedState=pd,si(t.child,i)):(As(n),r=t.child,t=r.sibling,r=Xa(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function bd(t,n){return n=ko({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ko(t,n){return t=ra(22,t,null,n),t.lanes=0,t}function vd(t,n,r){return ur(n,t.child,null,r),t=bd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function eg(t,n,r){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),Mu(t.return,n,r)}function xd(t,n,r,i,u,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=i,y.tail=r,y.tailMode=u,y.treeForkCount=f)}function tg(t,n,r){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var y=Jt.current,S=(y&2)!==0;if(S?(y=y&1|2,n.flags|=128):y&=1,ce(Jt,y),Cn(t,n,i,r),i=gt?Zl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eg(t,r,n);else if(t.tag===19)eg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&wo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),xd(n,!1,u,r,f,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&wo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}xd(n,!0,r,null,f,i);break;case"together":xd(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(r&n.childLanes)===0)if(t!==null){if($r(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=Xa(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xa(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&po(t)))}function ES(t,n,r){switch(n.tag){case 3:Ue(n,n.stateNode.containerInfo),ws(n,sn,t.memoizedState.cache),sr();break;case 27:case 5:De(n);break;case 4:Ue(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Gu(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(As(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Wp(t,n,r):(As(n),t=as(t,n,r),t!==null?t.sibling:null);As(n);break;case 19:var u=(t.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||($r(t,n,r,!1),i=(r&n.childLanes)!==0),u){if(i)return tg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ce(Jt,Jt.current),i)break;return null;case 22:return n.lanes=0,Qp(t,n,r,n.pendingProps);case 24:ws(n,sn,t.memoizedState.cache)}return as(t,n,r)}function ng(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)ln=!0;else{if(!Sd(t,r)&&(n.flags&128)===0)return ln=!1,ES(t,n,r);ln=(t.flags&131072)!==0}else ln=!1,gt&&(n.flags&1048576)!==0&&Mh(n,Zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=or(n.elementType),n.type=t,typeof t=="function")Eu(t)?(i=fr(t,i),n.tag=1,n=Xp(null,n,t,i,r)):(n.tag=0,n=hd(null,n,t,i,r));else{if(t!=null){var u=t.$$typeof;if(u===M){n.tag=11,n=Vp(null,n,t,i,r);break e}else if(u===U){n.tag=14,n=Zp(null,n,t,i,r);break e}}throw n=Oe(t)||t,Error(l(306,n,""))}}return n;case 0:return hd(t,n,n.type,n.pendingProps,r);case 1:return i=n.type,u=fr(i,n.pendingProps),Xp(t,n,i,u,r);case 3:e:{if(Ue(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,Fu(t,n),Wl(n,i,null,r);var y=n.memoizedState;if(i=y.cache,ws(n,sn,i),i!==f.cache&&ku(n,[sn],r,!0),Jl(),i=y.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(t,n,i,r);break e}else if(i!==u){u=ha(Error(l(424)),n),Gl(u),n=Jp(t,n,i,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ut=va(t.firstChild),En=n,gt=!0,Ss=null,ya=!0,r=Qh(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sr(),i===u){n=as(t,n,r);break e}Cn(t,n,i,r)}n=n.child}return n;case 26:return Mo(t,n),t===null?(r=my(n.type,null,n.pendingProps,null))?n.memoizedState=r:gt||(r=n.type,t=n.pendingProps,i=Xo(ye.current).createElement(r),i[ot]=n,i[yt]=t,On(i,r,t),Tt(i),n.stateNode=i):n.memoizedState=my(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return De(n),t===null&&gt&&(i=n.stateNode=uy(n.type,n.pendingProps,ye.current),En=n,ya=!0,u=Ut,Us(n.type)?(ef=u,Ut=va(i.firstChild)):Ut=u),Cn(t,n,n.pendingProps.children,r),Mo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&gt&&((u=i=Ut)&&(i=nN(i,n.type,n.pendingProps,ya),i!==null?(n.stateNode=i,En=n,Ut=va(i.firstChild),ya=!1,u=!0):u=!1),u||Ns(n)),De(n),u=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,i=f.children,Yd(u,f)?i=null:y!==null&&Yd(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Pu(t,n,yS,null,null,r),vi._currentValue=u),Mo(t,n),Cn(t,n,i,r),n.child;case 6:return t===null&&gt&&((t=r=Ut)&&(r=aN(r,n.pendingProps,ya),r!==null?(n.stateNode=r,En=n,Ut=null,t=!0):t=!1),t||Ns(n)),null;case 13:return Wp(t,n,r);case 4:return Ue(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=ur(n,null,i,r):Cn(t,n,i,r),n.child;case 11:return Vp(t,n,n.type,n.pendingProps,r);case 7:return Cn(t,n,n.pendingProps,r),n.child;case 8:return Cn(t,n,n.pendingProps.children,r),n.child;case 12:return Cn(t,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,ws(n,n.type,i.value),Cn(t,n,i.children,r),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,lr(n),u=An(u),i=i(u),n.flags|=1,Cn(t,n,i,r),n.child;case 14:return Zp(t,n,n.type,n.pendingProps,r);case 15:return Gp(t,n,n.type,n.pendingProps,r);case 19:return tg(t,n,r);case 31:return jS(t,n,r);case 22:return Qp(t,n,r,n.pendingProps);case 24:return lr(n),i=An(sn),t===null?(u=Bu(),u===null&&(u=Dt,f=Uu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:i,cache:u},Iu(n),ws(n,sn,u)):((t.lanes&r)!==0&&(Fu(t,n),Wl(n,null,null,r),Jl()),u=t.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ws(n,sn,i)):(i=f.cache,ws(n,sn,i),i!==u.cache&&ku(n,[sn],r,!0))),Cn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ss(t){t.flags|=4}function Nd(t,n,r,i,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Og())t.flags|=8192;else throw cr=vo,qu}else t.flags&=-16777217}function ag(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!by(n))if(Og())t.flags|=8192;else throw cr=vo,qu}function Uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Y():536870912,t.lanes|=n,el|=n)}function ri(t,n){if(!gt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=r,n}function AS(t,n,r){var i=n.pendingProps;switch(Ru(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Lt(n),null;case 3:return r=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),es(sn),me(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fr(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Du())),Lt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(Lt(n),ag(n,f)):(Lt(n),Nd(n,u,null,i,r))):f?f!==t.memoizedState?(ss(n),Lt(n),ag(n,f)):(Lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&ss(n),Lt(n),Nd(n,u,t,i,r)),null;case 27:if(qe(n),r=ye.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Lt(n),null}t=k.current,Fr(n)?Uh(n):(t=uy(u,i,r),n.stateNode=t,ss(n))}return Lt(n),null;case 5:if(qe(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Lt(n),null}if(f=k.current,Fr(n))Uh(n);else{var y=Xo(ye.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?y.createElement("select",{is:i.is}):y.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?y.createElement(u,{is:i.is}):y.createElement(u)}}f[ot]=n,f[yt]=i;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(On(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ss(n)}}return Lt(n),Nd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=ye.current,Fr(n)){if(t=n.stateNode,r=n.memoizedProps,i=null,u=En,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[ot]=n,t=!!(t.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Wg(t.nodeValue,r)),t||Ns(n,!0)}else t=Xo(t).createTextNode(i),t[ot]=n,n.stateNode=t}return Lt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(i=Fr(n),r!==null){if(t===null){if(!i)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[ot]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),t=!1}else r=Du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(ia(n),n):(ia(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Lt(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Fr(n),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ot]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),u=!1}else u=Du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(ia(n),n):(ia(n),null)}return ia(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,t=t!==null&&t.memoizedState!==null,r&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Uo(n,n.updateQueue),Lt(n),null);case 4:return me(),t===null&&Vd(n.stateNode.containerInfo),Lt(n),null;case 10:return es(n.type),Lt(n),null;case 19:if(I(Jt),i=n.memoizedState,i===null)return Lt(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)ri(i,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=wo(t),f!==null){for(n.flags|=128,ri(i,!1),t=f.updateQueue,n.updateQueue=t,Uo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Th(r,t),r=r.sibling;return ce(Jt,Jt.current&1|2),gt&&Ja(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&G()>Fo&&(n.flags|=128,u=!0,ri(i,!1),n.lanes=4194304)}else{if(!u)if(t=wo(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Uo(n,t),ri(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!gt)return Lt(n),null}else 2*G()-i.renderingStartTime>Fo&&r!==536870912&&(n.flags|=128,u=!0,ri(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(t=i.last,t!==null?t.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=G(),t.sibling=null,r=Jt.current,ce(Jt,u?r&1|2:r&1),gt&&Ja(n,i.treeForkCount),t):(Lt(n),null);case 22:case 23:return ia(n),Zu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),r=n.updateQueue,r!==null&&Uo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),t!==null&&I(ir),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(sn),Lt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function CS(t,n){switch(Ru(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(sn),me(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return qe(n),null;case 31:if(n.memoizedState!==null){if(ia(n),n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ia(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return I(Jt),null;case 4:return me(),null;case 10:return es(n.type),null;case 22:case 23:return ia(n),Zu(),t!==null&&I(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(sn),null;case 25:return null;default:return null}}function sg(t,n){switch(Ru(n),n.tag){case 3:es(sn),me();break;case 26:case 27:case 5:qe(n);break;case 4:me();break;case 31:n.memoizedState!==null&&ia(n);break;case 13:ia(n);break;case 19:I(Jt);break;case 10:es(n.type);break;case 22:case 23:ia(n),Zu(),t!==null&&I(ir);break;case 24:es(sn)}}function li(t,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&t)===t){i=void 0;var f=r.create,y=r.inst;i=f(),y.destroy=i}r=r.next}while(r!==u)}}catch(S){wt(n,n.return,S)}}function Os(t,n,r){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&t)===t){var y=i.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,u=n;var D=r,J=S;try{J()}catch(ue){wt(u,D,ue)}}}i=i.next}while(i!==f)}}catch(ue){wt(n,n.return,ue)}}function rg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Yh(n,r)}catch(i){wt(t,t.return,i)}}}function lg(t,n,r){r.props=fr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(i){wt(t,n,i)}}function ii(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(u){wt(t,n,u)}}function Va(t,n){var r=t.ref,i=t.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){wt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){wt(t,n,u)}else r.current=null}function ig(t){var n=t.type,r=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){wt(t,t.return,u)}}function wd(t,n,r){try{var i=t.stateNode;KS(i,t.type,r,n),i[yt]=n}catch(u){wt(t,t.return,u)}}function og(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Da));else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(jd(t,n,r),t=t.sibling;t!==null;)jd(t,n,r),t=t.sibling}function Lo(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Lo(t,n,r),t=t.sibling;t!==null;)Lo(t,n,r),t=t.sibling}function cg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var i=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);On(n,i,r),n[ot]=t,n[yt]=r}catch(f){wt(t,t.return,f)}}var rs=!1,on=!1,Ed=!1,ug=typeof WeakSet=="function"?WeakSet:Set,xn=null;function OS(t,n){if(t=t.containerInfo,Qd=sc,t=Nh(t),vu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,S=-1,D=-1,J=0,ue=0,be=t,te=null;t:for(;;){for(var ie;be!==r||u!==0&&be.nodeType!==3||(S=y+u),be!==f||i!==0&&be.nodeType!==3||(D=y+i),be.nodeType===3&&(y+=be.nodeValue.length),(ie=be.firstChild)!==null;)te=be,be=ie;for(;;){if(be===t)break t;if(te===r&&++J===u&&(S=y),te===f&&++ue===i&&(D=y),(ie=be.nextSibling)!==null)break;be=te,te=be.parentNode}be=ie}r=S===-1||D===-1?null:{start:S,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pd={focusedElem:t,selectionRange:r},sc=!1,xn=n;xn!==null;)if(n=xn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xn=t;else for(;xn!==null;){switch(n=xn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var Le=fr(r.type,u);t=i.getSnapshotBeforeUpdate(Le,f),i.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){wt(r,r.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Xd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,xn=t;break}xn=n.return}}function dg(t,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:is(t,r),i&4&&li(5,r);break;case 1:if(is(t,r),i&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){wt(r,r.return,y)}else{var u=fr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){wt(r,r.return,y)}}i&64&&rg(r),i&512&&ii(r,r.return);break;case 3:if(is(t,r),i&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Yh(t,n)}catch(y){wt(r,r.return,y)}}break;case 27:n===null&&i&4&&cg(r);case 26:case 5:is(t,r),n===null&&i&4&&ig(r),i&512&&ii(r,r.return);break;case 12:is(t,r);break;case 31:is(t,r),i&4&&hg(t,r);break;case 13:is(t,r),i&4&&pg(t,r),i&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=BS.bind(null,r),sN(t,r))));break;case 22:if(i=r.memoizedState!==null||rs,!i){n=n!==null&&n.memoizedState!==null||on,u=rs;var f=on;rs=i,(on=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):is(t,r),rs=u,on=f}break;case 30:break;default:is(t,r)}}function fg(t){var n=t.alternate;n!==null&&(t.alternate=null,fg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Un(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Gn=!1;function ls(t,n,r){for(r=r.child;r!==null;)mg(t,n,r),r=r.sibling}function mg(t,n,r){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(we,r)}catch{}switch(r.tag){case 26:on||Va(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:on||Va(r,n);var i=It,u=Gn;Us(r.type)&&(It=r.stateNode,Gn=!1),ls(t,n,r),gi(r.stateNode),It=i,Gn=u;break;case 5:on||Va(r,n);case 6:if(i=It,u=Gn,It=null,ls(t,n,r),It=i,Gn=u,It!==null)if(Gn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(r.stateNode)}catch(f){wt(r,n,f)}else try{It.removeChild(r.stateNode)}catch(f){wt(r,n,f)}break;case 18:It!==null&&(Gn?(t=It,ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ol(t)):ry(It,r.stateNode));break;case 4:i=It,u=Gn,It=r.stateNode.containerInfo,Gn=!0,ls(t,n,r),It=i,Gn=u;break;case 0:case 11:case 14:case 15:Os(2,r,n),on||Os(4,r,n),ls(t,n,r);break;case 1:on||(Va(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&lg(r,n,i)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:on=(i=on)||r.memoizedState!==null,ls(t,n,r),on=i;break;default:ls(t,n,r)}}function hg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(r){wt(n,n.return,r)}}}function pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(r){wt(n,n.return,r)}}function RS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ug),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ug),n;default:throw Error(l(435,t.tag))}}function Bo(t,n){var r=RS(t);n.forEach(function(i){if(!r.has(i)){r.add(i);var u=qS.bind(null,t,i);i.then(u,u)}})}function Qn(t,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=t,y=n,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Us(S.type)){It=S.stateNode,Gn=!1;break e}break;case 5:It=S.stateNode,Gn=!1;break e;case 3:case 4:It=S.stateNode.containerInfo,Gn=!0;break e}S=S.return}if(It===null)throw Error(l(160));mg(f,y,u),It=null,Gn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gg(n,t),n=n.sibling}var ka=null;function gg(t,n){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qn(n,t),Pn(t),i&4&&(Os(3,t,t.return),li(3,t),Os(5,t,t.return));break;case 1:Qn(n,t),Pn(t),i&512&&(on||r===null||Va(r,r.return)),i&64&&rs&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=ka;if(Qn(n,t),Pn(t),i&512&&(on||r===null||Va(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=t.memoizedState,r===null)if(i===null)if(t.stateNode===null){e:{i=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[qt]||f[ot]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),On(f,i,r),f[ot]=t,Tt(f),i=f;break e;case"link":var y=gy("link","href",u).get(i+(r.href||""));if(y){for(var S=0;S<y.length;S++)if(f=y[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(S,1);break t}}f=u.createElement(i),On(f,i,r),u.head.appendChild(f);break;case"meta":if(y=gy("meta","content",u).get(i+(r.content||""))){for(S=0;S<y.length;S++)if(f=y[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(S,1);break t}}f=u.createElement(i),On(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[ot]=t,Tt(f),i=f}t.stateNode=i}else yy(u,t.type,t.stateNode);else t.stateNode=py(u,i,t.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?yy(u,t.type,t.stateNode):py(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&wd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Qn(n,t),Pn(t),i&512&&(on||r===null||Va(r,r.return)),r!==null&&i&4&&wd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Qn(n,t),Pn(t),i&512&&(on||r===null||Va(r,r.return)),t.flags&32){u=t.stateNode;try{gs(u,"")}catch(Le){wt(t,t.return,Le)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,wd(t,u,r!==null?r.memoizedProps:u)),i&1024&&(Ed=!0);break;case 6:if(Qn(n,t),Pn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,r=t.stateNode;try{r.nodeValue=i}catch(Le){wt(t,t.return,Le)}}break;case 3:if(ec=null,u=ka,ka=Jo(n.containerInfo),Qn(n,t),ka=u,Pn(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(Le){wt(t,t.return,Le)}Ed&&(Ed=!1,yg(t));break;case 4:i=ka,ka=Jo(t.stateNode.containerInfo),Qn(n,t),Pn(t),ka=i;break;case 12:Qn(n,t),Pn(t);break;case 31:Qn(n,t),Pn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bo(t,i)));break;case 13:Qn(n,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Io=G()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bo(t,i)));break;case 22:u=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,J=rs,ue=on;if(rs=J||u,on=ue||D,Qn(n,t),on=ue,rs=J,Pn(t),i&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||D||rs||on||mr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=D.stateNode;var be=D.memoizedProps.style,te=be!=null&&be.hasOwnProperty("display")?be.display:null;S.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Le){wt(D,D.return,Le)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=u?"":D.memoizedProps}catch(Le){wt(D,D.return,Le)}}}else if(n.tag===18){if(r===null){D=n;try{var ie=D.stateNode;u?ly(ie,!0):ly(D.stateNode,!1)}catch(Le){wt(D,D.return,Le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Bo(t,r))));break;case 19:Qn(n,t),Pn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bo(t,i)));break;case 30:break;case 21:break;default:Qn(n,t),Pn(t)}}function Pn(t){var n=t.flags;if(n&2){try{for(var r,i=t.return;i!==null;){if(og(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=_d(t);Lo(t,f,u);break;case 5:var y=r.stateNode;r.flags&32&&(gs(y,""),r.flags&=-33);var S=_d(t);Lo(t,S,y);break;case 3:case 4:var D=r.stateNode.containerInfo,J=_d(t);jd(t,J,D);break;default:throw Error(l(161))}}catch(ue){wt(t,t.return,ue)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function yg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dg(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),mr(n);break;case 1:Va(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&lg(n,n.return,r),mr(n);break;case 27:gi(n.stateNode);case 26:case 5:Va(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:os(u,f,r),li(4,f);break;case 1:if(os(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(J){wt(i,i.return,J)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var D=u.shared.hiddenCallbacks;if(D!==null)for(u.shared.hiddenCallbacks=null,u=0;u<D.length;u++)Ph(D[u],S)}catch(J){wt(i,i.return,J)}}r&&y&64&&rg(f),ii(f,f.return);break;case 27:cg(f);case 26:case 5:os(u,f,r),r&&i===null&&y&4&&ig(f),ii(f,f.return);break;case 12:os(u,f,r);break;case 31:os(u,f,r),r&&y&4&&hg(u,f);break;case 13:os(u,f,r),r&&y&4&&pg(u,f);break;case 22:f.memoizedState===null&&os(u,f,r),ii(f,f.return);break;case 30:break;default:os(u,f,r)}n=n.sibling}}function Ad(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ql(r))}function Cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t))}function Ua(t,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bg(t,n,r,i),n=n.sibling}function bg(t,n,r,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ua(t,n,r,i),u&2048&&li(9,n);break;case 1:Ua(t,n,r,i);break;case 3:Ua(t,n,r,i),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t)));break;case 12:if(u&2048){Ua(t,n,r,i),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,S=f.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){wt(n,n.return,D)}}else Ua(t,n,r,i);break;case 31:Ua(t,n,r,i);break;case 13:Ua(t,n,r,i);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Ua(t,n,r,i):oi(t,n):f._visibility&2?Ua(t,n,r,i):(f._visibility|=2,Xr(t,n,r,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ad(y,n);break;case 24:Ua(t,n,r,i),u&2048&&Cd(n.alternate,n);break;default:Ua(t,n,r,i)}}function Xr(t,n,r,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,S=r,D=i,J=y.flags;switch(y.tag){case 0:case 11:case 15:Xr(f,y,S,D,u),li(8,y);break;case 23:break;case 22:var ue=y.stateNode;y.memoizedState!==null?ue._visibility&2?Xr(f,y,S,D,u):oi(f,y):(ue._visibility|=2,Xr(f,y,S,D,u)),u&&J&2048&&Ad(y.alternate,y);break;case 24:Xr(f,y,S,D,u),u&&J&2048&&Cd(y.alternate,y);break;default:Xr(f,y,S,D,u)}n=n.sibling}}function oi(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,i=n,u=i.flags;switch(i.tag){case 22:oi(r,i),u&2048&&Ad(i.alternate,i);break;case 24:oi(r,i),u&2048&&Cd(i.alternate,i);break;default:oi(r,i)}n=n.sibling}}var ci=8192;function Jr(t,n,r){if(t.subtreeFlags&ci)for(t=t.child;t!==null;)vg(t,n,r),t=t.sibling}function vg(t,n,r){switch(t.tag){case 26:Jr(t,n,r),t.flags&ci&&t.memoizedState!==null&&gN(r,ka,t.memoizedState,t.memoizedProps);break;case 5:Jr(t,n,r);break;case 3:case 4:var i=ka;ka=Jo(t.stateNode.containerInfo),Jr(t,n,r),ka=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ci,ci=16777216,Jr(t,n,r),ci=i):Jr(t,n,r));break;default:Jr(t,n,r)}}function xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ui(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];xn=i,Ng(i,t)}xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 0:case 11:case 15:ui(t),t.flags&2048&&Os(9,t,t.return);break;case 3:ui(t);break;case 12:ui(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qo(t)):ui(t);break;default:ui(t)}}function qo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];xn=i,Ng(i,t)}xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Os(8,n,n.return),qo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,qo(n));break;default:qo(n)}t=t.sibling}}function Ng(t,n){for(;xn!==null;){var r=xn;switch(r.tag){case 0:case 11:case 15:Os(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ql(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,xn=i;else e:for(r=t;xn!==null;){i=xn;var u=i.sibling,f=i.return;if(fg(i),i===r){xn=null;break e}if(u!==null){u.return=f,xn=u;break e}xn=f}}}var TS={getCacheForType:function(t){var n=An(sn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return An(sn).controller.signal}},DS=typeof WeakMap=="function"?WeakMap:Map,xt=0,Dt=null,ft=null,ht=0,Nt=0,oa=null,Rs=!1,Wr=!1,Od=!1,cs=0,Yt=0,Ts=0,hr=0,Rd=0,ca=0,el=0,di=null,Yn=null,Td=!1,Io=0,wg=0,Fo=1/0,$o=null,Ds=null,mn=0,zs=null,tl=null,us=0,Dd=0,zd=null,_g=null,fi=0,Md=null;function ua(){return(xt&2)!==0&&ht!==0?ht&-ht:z.T!==null?Id():Rt()}function jg(){if(ca===0)if((ht&536870912)===0||gt){var t=at;at<<=1,(at&3932160)===0&&(at=262144),ca=t}else ca=536870912;return t=la.current,t!==null&&(t.flags|=32),ca}function Kn(t,n,r){(t===Dt&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)&&(nl(t,0),Ms(t,ht,ca,!1)),_e(t,r),((xt&2)===0||t!==Dt)&&(t===Dt&&((xt&2)===0&&(hr|=r),Yt===4&&Ms(t,ht,ca,!1)),Za(t))}function Eg(t,n,r){if((xt&6)!==0)throw Error(l(327));var i=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Fn(t,n),u=i?kS(t,n):Ud(t,n,!0),f=i;do{if(u===0){Wr&&!i&&Ms(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!zS(r)){u=Ud(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var S=t;u=di;var D=S.current.memoizedState.isDehydrated;if(D&&(nl(S,y).flags|=256),y=Ud(S,y,!1),y!==2){if(Od&&!D){S.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Yn,Yn=u,f!==null&&(Yn===null?Yn=f:Yn.push.apply(Yn,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){nl(t,0),Ms(t,n,0,!0);break}e:{switch(i=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ms(i,n,ca,!Rs);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Io+300-G(),10<u)){if(Ms(i,n,ca,!Rs),Oa(i,0,!0)!==0)break e;us=n,i.timeoutHandle=ay(Ag.bind(null,i,r,Yn,$o,Td,n,ca,hr,el,Rs,f,"Throttled",-0,0),u);break e}Ag(i,r,Yn,$o,Td,n,ca,hr,el,Rs,f,null,-0,0)}}break}while(!0);Za(t)}function Ag(t,n,r,i,u,f,y,S,D,J,ue,be,te,ie){if(t.timeoutHandle=-1,be=n.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},vg(n,f,be);var Le=(f&62914560)===f?Io-G():(f&4194048)===f?wg-G():0;if(Le=yN(be,Le),Le!==null){us=f,t.cancelPendingCommit=Le(kg.bind(null,t,n,f,r,i,u,y,S,D,ue,be,null,te,ie)),Ms(t,f,y,!J);return}}kg(t,n,f,r,i,u,y,S,D)}function zS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!sa(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,r,i){n&=~Rd,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var u=n;0<u;){var f=31-St(u),y=1<<f;i[f]=-1,u&=~y}r!==0&&Je(t,r,n)}function Ho(){return(xt&6)===0?(mi(0),!1):!0}function kd(){if(ft!==null){if(Nt===0)var t=ft.return;else t=ft,Wa=rr=null,Xu(t),Gr=null,Yl=0,t=ft;for(;t!==null;)sg(t.alternate,t),t=t.return;ft=null}}function nl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,WS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,kd(),Dt=t,ft=r=Xa(t.current,null),ht=n,Nt=0,oa=null,Rs=!1,Wr=Fn(t,n),Od=!1,el=ca=Rd=hr=Ts=Yt=0,Yn=di=null,Td=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var u=31-St(i),f=1<<u;n|=t[u],i&=~f}return cs=n,co(),r}function Cg(t,n){tt=null,z.H=ai,n===Zr||n===bo?(n=Vh(),Nt=3):n===qu?(n=Vh(),Nt=4):Nt=n===md?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,oa=n,ft===null&&(Yt=1,Do(t,ha(n,t.current)))}function Og(){var t=la.current;return t===null?!0:(ht&4194048)===ht?ba===null:(ht&62914560)===ht||(ht&536870912)!==0?t===ba:!1}function Rg(){var t=z.H;return z.H=ai,t===null?ai:t}function Tg(){var t=z.A;return z.A=TS,t}function Vo(){Yt=4,Rs||(ht&4194048)!==ht&&la.current!==null||(Wr=!0),(Ts&134217727)===0&&(hr&134217727)===0||Dt===null||Ms(Dt,ht,ca,!1)}function Ud(t,n,r){var i=xt;xt|=2;var u=Rg(),f=Tg();(Dt!==t||ht!==n)&&($o=null,nl(t,n)),n=!1;var y=Yt;e:do try{if(Nt!==0&&ft!==null){var S=ft,D=oa;switch(Nt){case 8:kd(),y=6;break e;case 3:case 2:case 9:case 6:la.current===null&&(n=!0);var J=Nt;if(Nt=0,oa=null,al(t,S,D,J),r&&Wr){y=0;break e}break;default:J=Nt,Nt=0,oa=null,al(t,S,D,J)}}MS(),y=Yt;break}catch(ue){Cg(t,ue)}while(!0);return n&&t.shellSuspendCounter++,Wa=rr=null,xt=i,z.H=u,z.A=f,ft===null&&(Dt=null,ht=0,co()),y}function MS(){for(;ft!==null;)Dg(ft)}function kS(t,n){var r=xt;xt|=2;var i=Rg(),u=Tg();Dt!==t||ht!==n?($o=null,Fo=G()+500,nl(t,n)):Wr=Fn(t,n);e:do try{if(Nt!==0&&ft!==null){n=ft;var f=oa;t:switch(Nt){case 1:Nt=0,oa=null,al(t,n,f,1);break;case 2:case 9:if($h(f)){Nt=0,oa=null,zg(n);break}n=function(){Nt!==2&&Nt!==9||Dt!==t||(Nt=7),Za(t)},f.then(n,n);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:$h(f)?(Nt=0,oa=null,zg(n)):(Nt=0,oa=null,al(t,n,f,7));break;case 5:var y=null;switch(ft.tag){case 26:y=ft.memoizedState;case 5:case 27:var S=ft;if(y?by(y):S.stateNode.complete){Nt=0,oa=null;var D=S.sibling;if(D!==null)ft=D;else{var J=S.return;J!==null?(ft=J,Zo(J)):ft=null}break t}}Nt=0,oa=null,al(t,n,f,5);break;case 6:Nt=0,oa=null,al(t,n,f,6);break;case 8:kd(),Yt=6;break e;default:throw Error(l(462))}}US();break}catch(ue){Cg(t,ue)}while(!0);return Wa=rr=null,z.H=i,z.A=u,xt=r,ft!==null?0:(Dt=null,ht=0,co(),Yt)}function US(){for(;ft!==null&&!T();)Dg(ft)}function Dg(t){var n=ng(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?Zo(t):ft=n}function zg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Kp(r,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=Kp(r,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Xu(n);default:sg(r,n),n=ft=Th(n,cs),n=ng(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?Zo(t):ft=n}function al(t,n,r,i){Wa=rr=null,Xu(n),Gr=null,Yl=0;var u=n.return;try{if(_S(t,u,n,r,ht)){Yt=1,Do(t,ha(r,t.current)),ft=null;return}}catch(f){if(u!==null)throw ft=u,f;Yt=1,Do(t,ha(r,t.current)),ft=null;return}n.flags&32768?(gt||i===1?t=!0:Wr||(ht&536870912)!==0?t=!1:(Rs=t=!0,(i===2||i===9||i===3||i===6)&&(i=la.current,i!==null&&i.tag===13&&(i.flags|=16384))),Mg(n,t)):Zo(n)}function Zo(t){var n=t;do{if((n.flags&32768)!==0){Mg(n,Rs);return}t=n.return;var r=AS(n.alternate,n,cs);if(r!==null){ft=r;return}if(n=n.sibling,n!==null){ft=n;return}ft=n=t}while(n!==null);Yt===0&&(Yt=5)}function Mg(t,n){do{var r=CS(t.alternate,t);if(r!==null){r.flags&=32767,ft=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ft=t;return}ft=t=r}while(t!==null);Yt=6,ft=null}function kg(t,n,r,i,u,f,y,S,D){t.cancelPendingCommit=null;do Go();while(mn!==0);if((xt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=_u,Be(t,r,f,y,S,D),t===Dt&&(ft=Dt=null,ht=0),tl=n,zs=t,us=r,Dd=f,zd=u,_g=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,IS(ae,function(){return Ig(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=z.T,z.T=null,u=F.p,F.p=2,y=xt,xt|=4;try{OS(t,n,r)}finally{xt=y,F.p=u,z.T=i}}mn=1,Ug(),Lg(),Bg()}}function Ug(){if(mn===1){mn=0;var t=zs,n=tl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var i=F.p;F.p=2;var u=xt;xt|=4;try{gg(n,t);var f=Pd,y=Nh(t.containerInfo),S=f.focusedElem,D=f.selectionRange;if(y!==S&&S&&S.ownerDocument&&Sh(S.ownerDocument.documentElement,S)){if(D!==null&&vu(S)){var J=D.start,ue=D.end;if(ue===void 0&&(ue=J),"selectionStart"in S)S.selectionStart=J,S.selectionEnd=Math.min(ue,S.value.length);else{var be=S.ownerDocument||document,te=be&&be.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Le=S.textContent.length,Pe=Math.min(D.start,Le),Ot=D.end===void 0?Pe:Math.min(D.end,Le);!ie.extend&&Pe>Ot&&(y=Ot,Ot=Pe,Pe=y);var $=xh(S,Pe),L=xh(S,Ot);if($&&L&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==L.node||ie.focusOffset!==L.offset)){var X=be.createRange();X.setStart($.node,$.offset),ie.removeAllRanges(),Pe>Ot?(ie.addRange(X),ie.extend(L.node,L.offset)):(X.setEnd(L.node,L.offset),ie.addRange(X))}}}}for(be=[],ie=S;ie=ie.parentNode;)ie.nodeType===1&&be.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<be.length;S++){var pe=be[S];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}sc=!!Qd,Pd=Qd=null}finally{xt=u,F.p=i,z.T=r}}t.current=n,mn=2}}function Lg(){if(mn===2){mn=0;var t=zs,n=tl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var i=F.p;F.p=2;var u=xt;xt|=4;try{dg(t,n.alternate,n)}finally{xt=u,F.p=i,z.T=r}}mn=3}}function Bg(){if(mn===4||mn===3){mn=0,Q();var t=zs,n=tl,r=us,i=_g;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mn=5:(mn=0,tl=zs=null,qg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ds=null),zt(r),n=n.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(we,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=z.T,u=F.p,F.p=2,z.T=null;try{for(var f=t.onRecoverableError,y=0;y<i.length;y++){var S=i[y];f(S.value,{componentStack:S.stack})}}finally{z.T=n,F.p=u}}(us&3)!==0&&Go(),Za(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Md?fi++:(fi=0,Md=t):fi=0,mi(0)}}function qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ql(n)))}function Go(){return Ug(),Lg(),Bg(),Ig()}function Ig(){if(mn!==5)return!1;var t=zs,n=Dd;Dd=0;var r=zt(us),i=z.T,u=F.p;try{F.p=32>r?32:r,z.T=null,r=zd,zd=null;var f=zs,y=us;if(mn=0,tl=zs=null,us=0,(xt&6)!==0)throw Error(l(331));var S=xt;if(xt|=4,Sg(f.current),bg(f,f.current,y,r),xt=S,mi(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(we,f)}catch{}return!0}finally{F.p=u,z.T=i,qg(t,n)}}function Fg(t,n,r){n=ha(r,n),n=fd(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(_e(t,2),Za(t))}function wt(t,n,r){if(t.tag===3)Fg(t,t,r);else for(;n!==null;){if(n.tag===3){Fg(n,t,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ds===null||!Ds.has(i))){t=ha(r,t),r=$p(2),i=Es(n,r,2),i!==null&&(Hp(r,i,n,t),_e(i,2),Za(i));break}}n=n.return}}function Ld(t,n,r){var i=t.pingCache;if(i===null){i=t.pingCache=new DS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(r)||(Od=!0,u.add(r),t=LS.bind(null,t,n,r),n.then(t,t))}function LS(t,n,r){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Dt===t&&(ht&r)===r&&(Yt===4||Yt===3&&(ht&62914560)===ht&&300>G()-Io?(xt&2)===0&&nl(t,0):Rd|=r,el===ht&&(el=0)),Za(t)}function $g(t,n){n===0&&(n=Y()),t=nr(t,n),t!==null&&(_e(t,n),Za(t))}function BS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),$g(t,r)}function qS(t,n){var r=0;switch(t.tag){case 31:case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),$g(t,r)}function IS(t,n){return C(t,n)}var Qo=null,sl=null,Bd=!1,Po=!1,qd=!1,ks=0;function Za(t){t!==sl&&t.next===null&&(sl===null?Qo=sl=t:sl=sl.next=t),Po=!0,Bd||(Bd=!0,$S())}function mi(t,n){if(!qd&&Po){qd=!0;do for(var r=!1,i=Qo;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var y=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=u&~(y&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Gg(i,f))}else f=ht,f=Oa(i,i===Dt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Fn(i,f)||(r=!0,Gg(i,f));i=i.next}while(r);qd=!1}}function FS(){Hg()}function Hg(){Po=Bd=!1;var t=0;ks!==0&&JS()&&(t=ks);for(var n=G(),r=null,i=Qo;i!==null;){var u=i.next,f=Vg(i,n);f===0?(i.next=null,r===null?Qo=u:r.next=u,u===null&&(sl=r)):(r=i,(t!==0||(f&3)!==0)&&(Po=!0)),i=u}mn!==0&&mn!==5||mi(t),ks!==0&&(ks=0)}function Vg(t,n){for(var r=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-St(f),S=1<<y,D=u[y];D===-1?((S&r)===0||(S&i)!==0)&&(u[y]=$n(S,n)):D<=n&&(t.expiredLanes|=S),f&=~S}if(n=Dt,r=ht,r=Oa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,r===0||t===n&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Z(i),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Fn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(i!==null&&Z(i),zt(r)){case 2:case 8:r=Me;break;case 32:r=ae;break;case 268435456:r=Ie;break;default:r=ae}return i=Zg.bind(null,t),r=C(r,i),t.callbackPriority=n,t.callbackNode=r,n}return i!==null&&i!==null&&Z(i),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,n){if(mn!==0&&mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Go()&&t.callbackNode!==r)return null;var i=ht;return i=Oa(t,t===Dt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Eg(t,i,n),Vg(t,G()),t.callbackNode!=null&&t.callbackNode===r?Zg.bind(null,t):null)}function Gg(t,n){if(Go())return null;Eg(t,n,!0)}function $S(){eN(function(){(xt&6)!==0?C(Ce,FS):Hg()})}function Id(){if(ks===0){var t=Hr;t===0&&(t=aa,aa<<=1,(aa&261888)===0&&(aa=256)),ks=t}return ks}function Qg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function Pg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function HS(t,n,r,i,u){if(n==="submit"&&r&&r.stateNode===u){var f=Qg((u[yt]||null).action),y=i.submitter;y&&(n=(n=y[yt]||null)?Qg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var S=new Ws("action","action",null,i,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ks!==0){var D=y?Pg(u,y):new FormData(u);ld(r,{pending:!0,data:D,method:u.method,action:f},null,D)}}else typeof f=="function"&&(S.preventDefault(),D=y?Pg(u,y):new FormData(u),ld(r,{pending:!0,data:D,method:u.method,action:f},f,D))},currentTarget:u}]})}}for(var Fd=0;Fd<wu.length;Fd++){var $d=wu[Fd],VS=$d.toLowerCase(),ZS=$d[0].toUpperCase()+$d.slice(1);Ma(VS,"on"+ZS)}Ma(jh,"onAnimationEnd"),Ma(Eh,"onAnimationIteration"),Ma(Ah,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(iS,"onTransitionRun"),Ma(oS,"onTransitionStart"),Ma(cS,"onTransitionCancel"),Ma(Ch,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hi));function Yg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var y=i.length-1;0<=y;y--){var S=i[y],D=S.instance,J=S.currentTarget;if(S=S.listener,D!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=J;try{f(u)}catch(ue){oo(ue)}u.currentTarget=null,f=D}else for(y=0;y<i.length;y++){if(S=i[y],D=S.instance,J=S.currentTarget,S=S.listener,D!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=J;try{f(u)}catch(ue){oo(ue)}u.currentTarget=null,f=D}}}}function mt(t,n){var r=n[dn];r===void 0&&(r=n[dn]=new Set);var i=t+"__bubble";r.has(i)||(Kg(n,t,2,!1),r.add(i))}function Hd(t,n,r){var i=0;n&&(i|=4),Kg(r,t,i,n)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Yo]){t[Yo]=!0,Rr.forEach(function(r){r!=="selectionchange"&&(GS.has(r)||Hd(r,!1,t),Hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Yo]||(n[Yo]=!0,Hd("selectionchange",!1,n))}}function Kg(t,n,r,i){switch(jy(n)){case 2:var u=xN;break;case 8:u=SN;break;default:u=rf}r=u.bind(null,n,r,t),u=void 0,!Xs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Zd(t,n,r,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var y=i.tag;if(y===3||y===4){var S=i.stateNode.containerInfo;if(S===u)break;if(y===4)for(y=i.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;S!==null;){if(y=tn(S),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){i=f=y;continue e}S=S.parentNode}}i=i.return}ro(function(){var J=f,ue=Ll(r),be=[];e:{var te=Oh.get(t);if(te!==void 0){var ie=Ws,Le=t;switch(t){case"keypress":if(Ee(r)===0)break e;case"keydown":case"keyup":ie=q0;break;case"focusin":Le="focus",ie=hu;break;case"focusout":Le="blur",ie=hu;break;case"beforeblur":case"afterblur":ie=hu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=A0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$0;break;case jh:case Eh:case Ah:ie=R0;break;case Ch:ie=V0;break;case"scroll":case"scrollend":ie=j0;break;case"wheel":ie=G0;break;case"copy":case"cut":case"paste":ie=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=lh;break;case"toggle":case"beforetoggle":ie=P0}var Pe=(n&4)!==0,Ot=!Pe&&(t==="scroll"||t==="scrollend"),$=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var L=J,X;L!==null;){var pe=L;if(X=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||X===null||$===null||(pe=Ks(L,$),pe!=null&&Pe.push(pi(L,pe,X))),Ot)break;L=L.return}0<Pe.length&&(te=new ie(te,Le,null,r,ue),be.push({event:te,listeners:Pe}))}}if((n&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",te&&r!==ys&&(Le=r.relatedTarget||r.fromElement)&&(tn(Le)||Le[kt]))break e;if((ie||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Le=r.relatedTarget||r.toElement,ie=J,Le=Le?tn(Le):null,Le!==null&&(Ot=d(Le),Pe=Le.tag,Le!==Ot||Pe!==5&&Pe!==27&&Pe!==6)&&(Le=null)):(ie=null,Le=J),ie!==Le)){if(Pe=sh,pe="onMouseLeave",$="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=lh,pe="onPointerLeave",$="onPointerEnter",L="pointer"),Ot=ie==null?te:Hn(ie),X=Le==null?te:Hn(Le),te=new Pe(pe,L+"leave",ie,r,ue),te.target=Ot,te.relatedTarget=X,pe=null,tn(ue)===J&&(Pe=new Pe($,L+"enter",Le,r,ue),Pe.target=X,Pe.relatedTarget=Ot,pe=Pe),Ot=pe,ie&&Le)t:{for(Pe=QS,$=ie,L=Le,X=0,pe=$;pe;pe=Pe(pe))X++;pe=0;for(var Ge=L;Ge;Ge=Pe(Ge))pe++;for(;0<X-pe;)$=Pe($),X--;for(;0<pe-X;)L=Pe(L),pe--;for(;X--;){if($===L||L!==null&&$===L.alternate){Pe=$;break t}$=Pe($),L=Pe(L)}Pe=null}else Pe=null;ie!==null&&Xg(be,te,ie,Pe,!1),Le!==null&&Ot!==null&&Xg(be,Ot,Le,Pe,!0)}}e:{if(te=J?Hn(J):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var bt=hh;else if(fh(te))if(ph)bt=sS;else{bt=nS;var $e=tS}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Ul(J.elementType)&&(bt=hh):bt=aS;if(bt&&(bt=bt(t,J))){mh(be,bt,r,ue);break e}$e&&$e(t,te,J),t==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Ys(te,"number",te.value)}switch($e=J?Hn(J):window,t){case"focusin":(fh($e)||$e.contentEditable==="true")&&(kr=$e,xu=J,Vl=null);break;case"focusout":Vl=xu=kr=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,wh(be,r,ue);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":wh(be,r,ue)}var st;if(gu)e:{switch(t){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Mr?uh(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(ih&&r.locale!=="ko"&&(Mr||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mr&&(st=he()):(Ia=ue,E="value"in Ia?Ia.value:Ia.textContent,Mr=!0)),$e=Ko(J,pt),0<$e.length&&(pt=new rh(pt,t,null,r,ue),be.push({event:pt,listeners:$e}),st?pt.data=st:(st=dh(r),st!==null&&(pt.data=st)))),(st=K0?X0(t,r):J0(t,r))&&(pt=Ko(J,"onBeforeInput"),0<pt.length&&($e=new rh("onBeforeInput","beforeinput",null,r,ue),be.push({event:$e,listeners:pt}),$e.data=st)),HS(be,t,J,r,ue)}Yg(be,n)})}function pi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ko(t,n){for(var r=n+"Capture",i=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ks(t,r),u!=null&&i.unshift(pi(t,u,f)),u=Ks(t,n),u!=null&&i.push(pi(t,u,f))),t.tag===3)return i;t=t.return}return[]}function QS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xg(t,n,r,i,u){for(var f=n._reactName,y=[];r!==null&&r!==i;){var S=r,D=S.alternate,J=S.stateNode;if(S=S.tag,D!==null&&D===i)break;S!==5&&S!==26&&S!==27||J===null||(D=J,u?(J=Ks(r,f),J!=null&&y.unshift(pi(r,J,D))):u||(J=Ks(r,f),J!=null&&y.push(pi(r,J,D)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var PS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(PS,`
`).replace(YS,"")}function Wg(t,n){return n=Jg(n),Jg(t)===n}function Ct(t,n,r,i,u,f){switch(r){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||gs(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&gs(t,""+i);break;case"className":Ta(t,"class",i);break;case"tabIndex":Ta(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(t,r,i);break;case"style":ao(t,i,f);break;case"data":if(n!=="object"){Ta(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ct(t,n,"name",u.name,u,null),Ct(t,n,"formEncType",u.formEncType,u,null),Ct(t,n,"formMethod",u.formMethod,u,null),Ct(t,n,"formTarget",u.formTarget,u,null)):(Ct(t,n,"encType",u.encType,u,null),Ct(t,n,"method",u.method,u,null),Ct(t,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"onClick":i!=null&&(t.onclick=Da);break;case"onScroll":i!=null&&mt("scroll",t);break;case"onScrollEnd":i!=null&&mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}r=zr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""+i):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":i===!0?t.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,i):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(r,i):t.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(r):t.setAttribute(r,i);break;case"popover":mt("beforetoggle",t),mt("toggle",t),nn(t,"popover",i);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":nn(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,nn(t,r,i))}}function Gd(t,n,r,i,u,f){switch(r){case"style":ao(t,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof i=="string"?gs(t,i):(typeof i=="number"||typeof i=="bigint")&&gs(t,""+i);break;case"onScroll":i!=null&&mt("scroll",t);break;case"onScrollEnd":i!=null&&mt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[yt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,i,u);break e}r in t?t[r]=i:i===!0?t.setAttribute(r,""):nn(t,r,i)}}}function On(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",t),mt("load",t);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ct(t,n,f,y,r,null)}}u&&Ct(t,n,"srcSet",r.srcSet,r,null),i&&Ct(t,n,"src",r.src,r,null);return;case"input":mt("invalid",t);var S=f=y=u=null,D=null,J=null;for(i in r)if(r.hasOwnProperty(i)){var ue=r[i];if(ue!=null)switch(i){case"name":u=ue;break;case"type":y=ue;break;case"checked":D=ue;break;case"defaultChecked":J=ue;break;case"value":f=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(137,n));break;default:Ct(t,n,i,ue,r,null)}}Dr(t,f,S,D,J,y,u,!1);return;case"select":mt("invalid",t),i=y=f=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":y=S;break;case"multiple":i=S;default:Ct(t,n,u,S,r,null)}n=f,r=y,t.multiple=!!i,n!=null?ps(t,!!i,n,!1):r!=null&&ps(t,!!i,r,!0);return;case"textarea":mt("invalid",t),f=u=i=null;for(y in r)if(r.hasOwnProperty(y)&&(S=r[y],S!=null))switch(y){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ct(t,n,y,S,r,null)}to(t,i,u,f);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(i=r[D],i!=null))switch(D){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ct(t,n,D,i,r,null)}return;case"dialog":mt("beforetoggle",t),mt("toggle",t),mt("cancel",t),mt("close",t);break;case"iframe":case"object":mt("load",t);break;case"video":case"audio":for(i=0;i<hi.length;i++)mt(hi[i],t);break;case"image":mt("error",t),mt("load",t);break;case"details":mt("toggle",t);break;case"embed":case"source":case"link":mt("error",t),mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in r)if(r.hasOwnProperty(J)&&(i=r[J],i!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ct(t,n,J,i,r,null)}return;default:if(Ul(n)){for(ue in r)r.hasOwnProperty(ue)&&(i=r[ue],i!==void 0&&Gd(t,n,ue,i,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(i=r[S],i!=null&&Ct(t,n,S,i,r,null))}function KS(t,n,r,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,S=null,D=null,J=null,ue=null;for(ie in r){var be=r[ie];if(r.hasOwnProperty(ie)&&be!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":D=be;default:i.hasOwnProperty(ie)||Ct(t,n,ie,null,i,be)}}for(var te in i){var ie=i[te];if(be=r[te],i.hasOwnProperty(te)&&(ie!=null||be!=null))switch(te){case"type":f=ie;break;case"name":u=ie;break;case"checked":J=ie;break;case"defaultChecked":ue=ie;break;case"value":y=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(l(137,n));break;default:ie!==be&&Ct(t,n,te,ie,i,be)}}kl(t,y,S,D,J,ue,f,u);return;case"select":ie=y=S=te=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":ie=D;default:i.hasOwnProperty(f)||Ct(t,n,f,null,i,D)}for(u in i)if(f=i[u],D=r[u],i.hasOwnProperty(u)&&(f!=null||D!=null))switch(u){case"value":te=f;break;case"defaultValue":S=f;break;case"multiple":y=f;default:f!==D&&Ct(t,n,u,f,i,D)}n=S,r=y,i=ie,te!=null?ps(t,!!r,te,!1):!!i!=!!r&&(n!=null?ps(t,!!r,n,!0):ps(t,!!r,r?[]:"",!1));return;case"textarea":ie=te=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ct(t,n,S,null,i,u)}for(y in i)if(u=i[y],f=r[y],i.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":te=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ct(t,n,y,u,i,f)}eo(t,te,ie);return;case"option":for(var Le in r)if(te=r[Le],r.hasOwnProperty(Le)&&te!=null&&!i.hasOwnProperty(Le))switch(Le){case"selected":t.selected=!1;break;default:Ct(t,n,Le,null,i,te)}for(D in i)if(te=i[D],ie=r[D],i.hasOwnProperty(D)&&te!==ie&&(te!=null||ie!=null))switch(D){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Ct(t,n,D,te,i,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in r)te=r[Pe],r.hasOwnProperty(Pe)&&te!=null&&!i.hasOwnProperty(Pe)&&Ct(t,n,Pe,null,i,te);for(J in i)if(te=i[J],ie=r[J],i.hasOwnProperty(J)&&te!==ie&&(te!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,n));break;default:Ct(t,n,J,te,i,ie)}return;default:if(Ul(n)){for(var Ot in r)te=r[Ot],r.hasOwnProperty(Ot)&&te!==void 0&&!i.hasOwnProperty(Ot)&&Gd(t,n,Ot,void 0,i,te);for(ue in i)te=i[ue],ie=r[ue],!i.hasOwnProperty(ue)||te===ie||te===void 0&&ie===void 0||Gd(t,n,ue,te,i,ie);return}}for(var $ in r)te=r[$],r.hasOwnProperty($)&&te!=null&&!i.hasOwnProperty($)&&Ct(t,n,$,null,i,te);for(be in i)te=i[be],ie=r[be],!i.hasOwnProperty(be)||te===ie||te==null&&ie==null||Ct(t,n,be,te,i,ie)}function ey(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var u=r[i],f=u.transferSize,y=u.initiatorType,S=u.duration;if(f&&S&&ey(y)){for(y=0,S=u.responseEnd,i+=1;i<r.length;i++){var D=r[i],J=D.startTime;if(J>S)break;var ue=D.transferSize,be=D.initiatorType;ue&&ey(be)&&(D=D.responseEnd,y+=ue*(D<S?1:(S-J)/(D-J)))}if(--i,n+=8*(f+y)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Pd=null;function Xo(t){return t.nodeType===9?t:t.ownerDocument}function ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ny(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function JS(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var ay=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,eN=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(t){return sy.resolve(null).then(t).catch(tN)}:ay;function tN(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function ry(t,n){var r=n,i=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(i===0){t.removeChild(u),ol(n);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")gi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,gi(r);for(var f=r.firstChild;f;){var y=f.nextSibling,S=f.nodeName;f[qt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&gi(t.ownerDocument.body);r=u}while(r);ol(n)}function ly(t,n){var r=t;t=0;do{var i=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=i}while(r)}function Xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Xd(r),Un(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function nN(t,n,r,i){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[qt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=va(t.nextSibling),t===null)break}return null}function aN(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=va(t.nextSibling),t===null))return null;return t}function iy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=va(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sN(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var i=function(){n(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function va(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var ef=null;function oy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return va(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function uy(t,n,r){switch(n=Xo(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function gi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Un(t)}var xa=new Map,dy=new Set;function Jo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=F.d;F.d={f:rN,r:lN,D:iN,C:oN,L:cN,m:uN,X:fN,S:dN,M:mN};function rN(){var t=ds.f(),n=Ho();return t||n}function lN(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?Cp(n):ds.r(t)}var rl=typeof document>"u"?null:document;function fy(t,n,r){var i=rl;if(i&&typeof n=="string"&&n){var u=vn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),dy.has(u)||(dy.add(u),t={rel:t,crossOrigin:r,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),On(n,"link",t),Tt(n),i.head.appendChild(n)))}}function iN(t){ds.D(t),fy("dns-prefetch",t,null)}function oN(t,n){ds.C(t,n),fy("preconnect",t,n)}function cN(t,n,r){ds.L(t,n,r);var i=rl;if(i&&t&&n){var u='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+vn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+vn(r.imageSizes)+'"]')):u+='[href="'+vn(t)+'"]';var f=u;switch(n){case"style":f=ll(t);break;case"script":f=il(t)}xa.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),xa.set(f,t),i.querySelector(u)!==null||n==="style"&&i.querySelector(yi(f))||n==="script"&&i.querySelector(bi(f))||(n=i.createElement("link"),On(n,"link",t),Tt(n),i.head.appendChild(n)))}}function uN(t,n){ds.m(t,n);var r=rl;if(r&&t){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+vn(i)+'"][href="'+vn(t)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!xa.has(f)&&(t=x({rel:"modulepreload",href:t},n),xa.set(f,t),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bi(f)))return}i=r.createElement("link"),On(i,"link",t),Tt(i),r.head.appendChild(i)}}}function dN(t,n,r){ds.S(t,n,r);var i=rl;if(i&&t){var u=Tn(i).hoistableStyles,f=ll(t);n=n||"default";var y=u.get(f);if(!y){var S={loading:0,preload:null};if(y=i.querySelector(yi(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=xa.get(f))&&tf(t,r);var D=y=i.createElement("link");Tt(D),On(D,"link",t),D._p=new Promise(function(J,ue){D.onload=J,D.onerror=ue}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wo(y,n,i)}y={type:"stylesheet",instance:y,count:1,state:S},u.set(f,y)}}}function fN(t,n){ds.X(t,n);var r=rl;if(r&&t){var i=Tn(r).hoistableScripts,u=il(t),f=i.get(u);f||(f=r.querySelector(bi(u)),f||(t=x({src:t,async:!0},n),(n=xa.get(u))&&nf(t,n),f=r.createElement("script"),Tt(f),On(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function mN(t,n){ds.M(t,n);var r=rl;if(r&&t){var i=Tn(r).hoistableScripts,u=il(t),f=i.get(u);f||(f=r.querySelector(bi(u)),f||(t=x({src:t,async:!0,type:"module"},n),(n=xa.get(u))&&nf(t,n),f=r.createElement("script"),Tt(f),On(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function my(t,n,r,i){var u=(u=ye.current)?Jo(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ll(r.href),r=Tn(u).hoistableStyles,i=r.get(n),i||(i={type:"style",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ll(r.href);var f=Tn(u).hoistableStyles,y=f.get(t);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=u.querySelector(yi(t)))&&!f._p&&(y.instance=f,y.state.loading=5),xa.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xa.set(t,r),f||hN(u,t,r,y.state))),n&&i===null)throw Error(l(528,""));return y}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Tn(u).hoistableScripts,i=r.get(n),i||(i={type:"script",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ll(t){return'href="'+vn(t)+'"'}function yi(t){return'link[rel="stylesheet"]['+t+"]"}function hy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function hN(t,n,r,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),On(n,"link",r),Tt(n),t.head.appendChild(n))}function il(t){return'[src="'+vn(t)+'"]'}function bi(t){return"script[async]"+t}function py(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+vn(r.href)+'"]');if(i)return n.instance=i,Tt(i),i;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Tt(i),On(i,"style",u),Wo(i,r.precedence,t),n.instance=i;case"stylesheet":u=ll(r.href);var f=t.querySelector(yi(u));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;i=hy(r),(u=xa.get(u))&&tf(i,u),f=(t.ownerDocument||t).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(S,D){y.onload=S,y.onerror=D}),On(f,"link",i),n.state.loading|=4,Wo(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(u=t.querySelector(bi(f)))?(n.instance=u,Tt(u),u):(i=r,(u=xa.get(f))&&(i=x({},r),nf(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),Tt(u),On(u,"link",i),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,Wo(i,r.precedence,t));return n.instance}function Wo(t,n,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,y=0;y<i.length;y++){var S=i[y];if(S.dataset.precedence===n)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ec=null;function gy(t,n,r){if(ec===null){var i=new Map,u=ec=new Map;u.set(r,i)}else u=ec,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(t))return i;for(i.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[qt]||f[ot]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var S=i.get(y);S?S.push(f):i.set(y,[f])}}return i}function yy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function pN(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function by(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function gN(t,n,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=ll(i.href),f=n.querySelector(yi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=tc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,i=hy(i),(u=xa.get(u))&&tf(i,u),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(S,D){y.onload=S,y.onerror=D}),On(f,"link",i),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=tc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var af=0;function yN(t,n){return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var i=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&af===0&&(af=62500*XS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>af?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nc=null;function ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nc=new Map,n.forEach(bN,t),nc=null,tc.call(t))}function bN(t,n){if(!(n.state.loading&4)){var r=nc.get(t);if(r)var i=r.get(null);else{r=new Map,nc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),i=y)}i&&r.set(null,i)}u=n.instance,y=u.getAttribute("data-precedence"),f=r.get(y)||i,f===i&&r.set(null,u),r.set(y,u),this.count++,i=tc.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var vi={$$typeof:W,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function vN(t,n,r,i,u,f,y,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function vy(t,n,r,i,u,f,y,S,D,J,ue,be){return t=new vN(t,n,r,y,D,J,ue,be,S),n=1,f===!0&&(n|=24),f=ra(3,null,null,n),t.current=f,f.stateNode=t,n=Uu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:n},Iu(f),t}function xy(t){return t?(t=Br,t):Br}function Sy(t,n,r,i,u,f){u=xy(u),i.context===null?i.context=u:i.pendingContext=u,i=js(n),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Es(t,i,n),r!==null&&(Kn(r,t,n),Xl(r,t,n))}function Ny(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function sf(t,n){Ny(t,n),(t=t.alternate)&&Ny(t,n)}function wy(t){if(t.tag===13||t.tag===31){var n=nr(t,67108864);n!==null&&Kn(n,t,67108864),sf(t,67108864)}}function _y(t){if(t.tag===13||t.tag===31){var n=ua();n=Qt(n);var r=nr(t,n);r!==null&&Kn(r,t,n),sf(t,n)}}var sc=!0;function xN(t,n,r,i){var u=z.T;z.T=null;var f=F.p;try{F.p=2,rf(t,n,r,i)}finally{F.p=f,z.T=u}}function SN(t,n,r,i){var u=z.T;z.T=null;var f=F.p;try{F.p=8,rf(t,n,r,i)}finally{F.p=f,z.T=u}}function rf(t,n,r,i){if(sc){var u=lf(i);if(u===null)Zd(t,n,i,rc,r),Ey(t,i);else if(wN(u,t,n,r,i))i.stopPropagation();else if(Ey(t,i),n&4&&-1<NN.indexOf(t)){for(;u!==null;){var f=bn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=fa(f.pendingLanes);if(y!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var D=1<<31-St(y);S.entanglements[1]|=D,y&=~D}Za(f),(xt&6)===0&&(Fo=G()+500,mi(0))}}break;case 31:case 13:S=nr(f,2),S!==null&&Kn(S,f,2),Ho(),sf(f,2)}if(f=lf(i),f===null&&Zd(t,n,i,rc,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Zd(t,n,i,null,r)}}function lf(t){return t=Ll(t),of(t)}var rc=null;function of(t){if(rc=null,t=tn(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return rc=t,null}function jy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case Ce:return 2;case Me:return 8;case ae:case ze:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var cf=!1,Ls=null,Bs=null,qs=null,xi=new Map,Si=new Map,Is=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":xi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(n.pointerId)}}function Ni(t,n,r,i,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=bn(n),n!==null&&wy(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function wN(t,n,r,i,u){switch(n){case"focusin":return Ls=Ni(Ls,t,n,r,i,u),!0;case"dragenter":return Bs=Ni(Bs,t,n,r,i,u),!0;case"mouseover":return qs=Ni(qs,t,n,r,i,u),!0;case"pointerover":var f=u.pointerId;return xi.set(f,Ni(xi.get(f)||null,t,n,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,Si.set(f,Ni(Si.get(f)||null,t,n,r,i,u)),!0}return!1}function Ay(t){var n=tn(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,gn(t.priority,function(){_y(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,gn(t.priority,function(){_y(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=lf(t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);ys=i,r.target.dispatchEvent(i),ys=null}else return n=bn(r),n!==null&&wy(n),t.blockedOn=r,!1;n.shift()}return!0}function Cy(t,n,r){lc(t)&&r.delete(n)}function _N(){cf=!1,Ls!==null&&lc(Ls)&&(Ls=null),Bs!==null&&lc(Bs)&&(Bs=null),qs!==null&&lc(qs)&&(qs=null),xi.forEach(Cy),Si.forEach(Cy)}function ic(t,n){t.blockedOn===n&&(t.blockedOn=null,cf||(cf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_N)))}var oc=null;function Oy(t){oc!==t&&(oc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){oc===t&&(oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],i=t[n+1],u=t[n+2];if(typeof i!="function"){if(of(i||r)===null)continue;break}var f=bn(r);f!==null&&(t.splice(n,3),n-=3,ld(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function ol(t){function n(D){return ic(D,t)}Ls!==null&&ic(Ls,t),Bs!==null&&ic(Bs,t),qs!==null&&ic(qs,t),xi.forEach(n),Si.forEach(n);for(var r=0;r<Is.length;r++){var i=Is[r];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Is.length&&(r=Is[0],r.blockedOn===null);)Ay(r),r.blockedOn===null&&Is.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],y=u[yt]||null;if(typeof f=="function")y||Oy(r);else if(y){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[yt]||null)S=y.formAction;else if(of(u)!==null)continue}else S=y.action;typeof S=="function"?r[i+1]=S:(r.splice(i,3),i-=3),Oy(r)}}}function Ry(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function uf(t){this._internalRoot=t}cc.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,i=ua();Sy(r,i,t,n,null,null)},cc.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Sy(t.current,2,null,t,null,null),Ho(),n[kt]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Rt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Is.length&&n!==0&&n<Is[r].priority;r++);Is.splice(r,0,t),r===0&&Ay(t)}};var Ty=a.version;if(Ty!=="19.2.0")throw Error(l(527,Ty,"19.2.0"));F.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var jN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{we=uc.inject(jN),Xe=uc}catch{}}return _i.createRoot=function(t,n){if(!c(t))throw Error(l(299));var r=!1,i="",u=Bp,f=qp,y=Ip;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=vy(t,1,!1,null,null,r,i,null,u,f,y,Ry),t[kt]=n.current,Vd(t),new uf(n)},_i.hydrateRoot=function(t,n,r){if(!c(t))throw Error(l(299));var i=!1,u="",f=Bp,y=qp,S=Ip,D=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=vy(t,1,!0,n,r??null,i,u,D,f,y,S,Ry),n.context=xy(null),r=n.current,i=ua(),i=Qt(i),u=js(i),u.callback=null,Es(r,u,i),r=i,n.current.lanes=r,_e(n,r),Za(n),t[kt]=n.current,Vd(t),new cc(n)},_i.version="19.2.0",_i}var Fy;function kN(){if(Fy)return mf.exports;Fy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),mf.exports=MN(),mf.exports}var UN=kN();const LN=vv(UN);var $y="popstate";function BN(e={}){function a(l,c){let{pathname:d,search:m,hash:h}=l.location;return Qf("",{pathname:d,search:m,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:Mi(c)}return IN(a,s,null,e)}function $t(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function _a(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function qN(){return Math.random().toString(36).substring(2,10)}function Hy(e,a){return{usr:e.state,key:e.key,idx:a}}function Qf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Nl(a):a,state:s,key:a&&a.key||l||qN()}}function Mi({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Nl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function IN(e,a,s,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,m=c.history,h="POP",g=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function x(){h="POP";let A=v(),B=A==null?null:A-p;p=A,g&&g({action:h,location:j.location,delta:B})}function w(A,B){h="PUSH";let R=Qf(j.location,A,B);p=v()+1;let W=Hy(R,p),M=j.createHref(R);try{m.pushState(W,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(M)}d&&g&&g({action:h,location:j.location,delta:1})}function q(A,B){h="REPLACE";let R=Qf(j.location,A,B);p=v();let W=Hy(R,p),M=j.createHref(R);m.replaceState(W,"",M),d&&g&&g({action:h,location:j.location,delta:0})}function _(A){return FN(A)}let j={get action(){return h},get location(){return e(c,m)},listen(A){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener($y,x),g=A,()=>{c.removeEventListener($y,x),g=null}},createHref(A){return a(c,A)},createURL:_,encodeLocation(A){let B=_(A);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:q,go(A){return m.go(A)}};return j}function FN(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$t(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:Mi(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function xv(e,a,s="/"){return $N(e,a,s,!1)}function $N(e,a,s,l){let c=typeof a=="string"?Nl(a):a,d=hs(c.pathname||"/",s);if(d==null)return null;let m=Sv(e);HN(m);let h=null;for(let g=0;h==null&&g<m.length;++g){let p=ew(d);h=JN(m[g],p,l)}return h}function Sv(e,a=[],s=[],l="",c=!1){let d=(m,h,g=c,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&g)return;$t(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=ms([l,v.relativePath]),w=s.concat(v);m.children&&m.children.length>0&&($t(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Sv(m.children,a,w,x,g)),!(m.path==null&&!m.index)&&a.push({path:x,score:KN(x,m.index),routesMeta:w})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let g of Nv(m.path))d(m,h,!0,g)}),a}function Nv(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let m=Nv(l.join("/")),h=[];return h.push(...m.map(g=>g===""?d:[d,g].join("/"))),c&&h.push(...m),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function HN(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:XN(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var VN=/^:[\w-]+$/,ZN=3,GN=2,QN=1,PN=10,YN=-2,Vy=e=>e==="*";function KN(e,a){let s=e.split("/"),l=s.length;return s.some(Vy)&&(l+=YN),a&&(l+=GN),s.filter(c=>!Vy(c)).reduce((c,d)=>c+(VN.test(d)?ZN:d===""?QN:PN),l)}function XN(e,a){return e.length===a.length&&e.slice(0,-1).every((l,c)=>l===a[c])?e[e.length-1]-a[a.length-1]:0}function JN(e,a,s=!1){let{routesMeta:l}=e,c={},d="/",m=[];for(let h=0;h<l.length;++h){let g=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",x=ki({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),w=g.route;if(!x&&p&&s&&!l[l.length-1].route.index&&(x=ki({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:ms([d,x.pathname]),pathnameBase:sw(ms([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=ms([d,x.pathnameBase]))}return m}function ki(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=WN(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},w)=>{if(v==="*"){let _=h[w]||"";m=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const q=h[w];return x&&!q?p[v]=void 0:p[v]=(q||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function WN(e,a=!1,s=!0){_a(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,g)=>(l.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function ew(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return _a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function hs(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function tw(e,a="/"){let{pathname:s,search:l="",hash:c=""}=typeof e=="string"?Nl(e):e;return{pathname:s?s.startsWith("/")?s:nw(s,a):a,search:rw(l),hash:lw(c)}}function nw(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function yf(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aw(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function wm(e){let a=aw(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function _m(e,a,s,l=!1){let c;typeof e=="string"?c=Nl(e):(c={...e},$t(!c.pathname||!c.pathname.includes("?"),yf("?","pathname","search",c)),$t(!c.pathname||!c.pathname.includes("#"),yf("#","pathname","hash",c)),$t(!c.search||!c.search.includes("#"),yf("#","search","hash",c)));let d=e===""||c.pathname==="",m=d?"/":c.pathname,h;if(m==null)h=s;else{let x=a.length-1;if(!l&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),x-=1;c.pathname=w.join("/")}h=x>=0?a[x]:"/"}let g=tw(c,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),sw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wv=["POST","PUT","PATCH","DELETE"];new Set(wv);var ow=["GET",...wv];new Set(ow);var wl=b.createContext(null);wl.displayName="DataRouter";var Ic=b.createContext(null);Ic.displayName="DataRouterState";b.createContext(!1);var _v=b.createContext({isTransitioning:!1});_v.displayName="ViewTransition";var cw=b.createContext(new Map);cw.displayName="Fetchers";var uw=b.createContext(null);uw.displayName="Await";var ja=b.createContext(null);ja.displayName="Navigation";var $i=b.createContext(null);$i.displayName="Location";var Ea=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var jm=b.createContext(null);jm.displayName="RouteError";function dw(e,{relative:a}={}){$t(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=b.useContext(ja),{hash:c,pathname:d,search:m}=Hi(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:ms([s,d])),l.createHref({pathname:h,search:m,hash:c})}function _l(){return b.useContext($i)!=null}function In(){return $t(_l(),"useLocation() may be used only in the context of a <Router> component."),b.useContext($i).location}var jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ev(e){b.useContext(ja).static||b.useLayoutEffect(e)}function Er(){let{isDataRoute:e}=b.useContext(Ea);return e?Aw():fw()}function fw(){$t(_l(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(wl),{basename:a,navigator:s}=b.useContext(ja),{matches:l}=b.useContext(Ea),{pathname:c}=In(),d=JSON.stringify(wm(l)),m=b.useRef(!1);return Ev(()=>{m.current=!0}),b.useCallback((g,p={})=>{if(_a(m.current,jv),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=_m(g,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:ms([a,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[a,s,d,c,e])}var mw=b.createContext(null);function hw(e){let a=b.useContext(Ea).outlet;return b.useMemo(()=>a&&b.createElement(mw.Provider,{value:e},a),[a,e])}function pw(){let{matches:e}=b.useContext(Ea),a=e[e.length-1];return a?a.params:{}}function Hi(e,{relative:a}={}){let{matches:s}=b.useContext(Ea),{pathname:l}=In(),c=JSON.stringify(wm(s));return b.useMemo(()=>_m(e,JSON.parse(c),l,a==="path"),[e,c,l,a])}function gw(e,a){return Av(e,a)}function Av(e,a,s,l,c){$t(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(ja),{matches:m}=b.useContext(Ea),h=m[m.length-1],g=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let R=x&&x.path||"";Cv(p,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=In(),q;if(a){let R=typeof a=="string"?Nl(a):a;$t(v==="/"||R.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${R.pathname}" was given in the \`location\` prop.`),q=R}else q=w;let _=q.pathname||"/",j=_;if(v!=="/"){let R=v.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=xv(e,{pathname:j});_a(x||A!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),_a(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Sw(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},g,R.params),pathname:ms([v,d.encodeLocation?d.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:ms([v,d.encodeLocation?d.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),m,s,l,c);return a&&B?b.createElement($i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},B):B}function yw(){let e=Ew(),a=iw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:c},s):null,m)}var bw=b.createElement(yw,null),vw=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ea.Provider,{value:this.props.routeContext},b.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xw({routeContext:e,match:a,children:s}){let l=b.useContext(wl);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(Ea.Provider,{value:e},s)}function Sw(e,a=[],s=null,l=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,m=s?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);$t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,g=-1;if(s)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=p),v.route.id){let{loaderData:x,errors:w}=s,q=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||q){h=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,v,x)=>{let w,q=!1,_=null,j=null;s&&(w=m&&v.route.id?m[v.route.id]:void 0,_=v.route.errorElement||bw,h&&(g<0&&x===0?(Cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,j=null):g===x&&(q=!0,j=v.route.hydrateFallbackElement||null)));let A=a.concat(d.slice(0,x+1)),B=()=>{let R;return w?R=_:q?R=j:v.route.Component?R=b.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=p,b.createElement(xw,{match:v,routeContext:{outlet:p,matches:A,isDataRoute:s!=null},children:R})};return s&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(vw,{location:s.location,revalidation:s.revalidation,component:_,error:w,children:B(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:l}):B()},null)}function Em(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nw(e){let a=b.useContext(wl);return $t(a,Em(e)),a}function ww(e){let a=b.useContext(Ic);return $t(a,Em(e)),a}function _w(e){let a=b.useContext(Ea);return $t(a,Em(e)),a}function Am(e){let a=_w(e),s=a.matches[a.matches.length-1];return $t(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function jw(){return Am("useRouteId")}function Ew(){let e=b.useContext(jm),a=ww("useRouteError"),s=Am("useRouteError");return e!==void 0?e:a.errors?.[s]}function Aw(){let{router:e}=Nw("useNavigate"),a=Am("useNavigate"),s=b.useRef(!1);return Ev(()=>{s.current=!0}),b.useCallback(async(c,d={})=>{_a(s.current,jv),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var Zy={};function Cv(e,a,s){!a&&!Zy[e]&&(Zy[e]=!0,_a(!1,s))}b.memo(Cw);function Cw({routes:e,future:a,state:s,unstable_onError:l}){return Av(e,void 0,s,l,a)}function Vs({to:e,replace:a,state:s,relative:l}){$t(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(ja);_a(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(Ea),{pathname:m}=In(),h=Er(),g=_m(e,wm(d),m,l==="path"),p=JSON.stringify(g);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function Ov(e){return hw(e.context)}function Vt(e){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ow({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:c,static:d=!1}){$t(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof s=="string"&&(s=Nl(s));let{pathname:g="/",search:p="",hash:v="",state:x=null,key:w="default"}=s,q=b.useMemo(()=>{let _=hs(g,m);return _==null?null:{location:{pathname:_,search:p,hash:v,state:x,key:w},navigationType:l}},[m,g,p,v,x,w,l]);return _a(q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:b.createElement(ja.Provider,{value:h},b.createElement($i.Provider,{children:a,value:q}))}function Rw({children:e,location:a}){return gw(Pf(e),a)}function Pf(e,a=[]){let s=[];return b.Children.forEach(e,(l,c)=>{if(!b.isValidElement(l))return;let d=[...a,c];if(l.type===b.Fragment){s.push.apply(s,Pf(l.props.children,d));return}$t(l.type===Vt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Pf(l.props.children,d)),s.push(m)}),s}var vc="get",xc="application/x-www-form-urlencoded";function Fc(e){return e!=null&&typeof e.tagName=="string"}function Tw(e){return Fc(e)&&e.tagName.toLowerCase()==="button"}function Dw(e){return Fc(e)&&e.tagName.toLowerCase()==="form"}function zw(e){return Fc(e)&&e.tagName.toLowerCase()==="input"}function Mw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kw(e,a){return e.button===0&&(!a||a==="_self")&&!Mw(e)}function Yf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function Uw(e,a){let s=Yf(e);return a&&a.forEach((l,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var dc=null;function Lw(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var Bw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bf(e){return e!=null&&!Bw.has(e)?(_a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):e}function qw(e,a){let s,l,c,d,m;if(Dw(e)){let h=e.getAttribute("action");l=h?hs(h,a):null,s=e.getAttribute("method")||vc,c=bf(e.getAttribute("enctype"))||xc,d=new FormData(e)}else if(Tw(e)||zw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||h.getAttribute("action");if(l=g?hs(g,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||vc,c=bf(e.getAttribute("formenctype"))||bf(h.getAttribute("enctype"))||xc,d=new FormData(h,e),!Lw()){let{name:p,type:v,value:x}=e;if(v==="image"){let w=p?`${p}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else p&&d.append(p,x)}}else{if(Fc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=vc,l=null,c=xc,m=e}return d&&c==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cm(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Iw(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&hs(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function Fw(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $w(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hw(e,a,s){let l=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let m=await Fw(d,s);return m.links?m.links():[]}return[]}));return Qw(l.flat(1).filter($w).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Gy(e,a,s,l,c,d){let m=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,h=(g,p)=>s[p].pathname!==g.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==g.params["*"];return d==="assets"?a.filter((g,p)=>m(g,p)||h(g,p)):d==="data"?a.filter((g,p)=>{let v=l.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(m(g,p)||h(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Vw(e,a,{includeHydrateFallback:s}={}){return Zw(e.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Zw(e){return[...new Set(e)]}function Gw(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function Qw(e,a){let s=new Set;return new Set(a),e.reduce((l,c)=>{let d=JSON.stringify(Gw(c));return s.has(d)||(s.add(d),l.push({key:d,link:c})),l},[])}function Rv(){let e=b.useContext(wl);return Cm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Pw(){let e=b.useContext(Ic);return Cm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Om=b.createContext(void 0);Om.displayName="FrameworkContext";function Tv(){let e=b.useContext(Om);return Cm(e,"You must render this element inside a <HydratedRouter> element"),e}function Yw(e,a){let s=b.useContext(Om),[l,c]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=a,w=b.useRef(null);b.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let j=B=>{B.forEach(R=>{m(R.isIntersecting)})},A=new IntersectionObserver(j,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[e]),b.useEffect(()=>{if(l){let j=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(j)}}},[l]);let q=()=>{c(!0)},_=()=>{c(!1),m(!1)};return s?e!=="intent"?[d,w,{}]:[d,w,{onFocus:ji(h,q),onBlur:ji(g,_),onMouseEnter:ji(p,q),onMouseLeave:ji(v,_),onTouchStart:ji(x,q)}]:[!1,w,{}]}function ji(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function Kw({page:e,...a}){let{router:s}=Rv(),l=b.useMemo(()=>xv(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?b.createElement(Jw,{page:e,matches:l,...a}):null}function Xw(e){let{manifest:a,routeModules:s}=Tv(),[l,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return Hw(e,a,s).then(m=>{d||c(m)}),()=>{d=!0}},[e,a,s]),l}function Jw({page:e,matches:a,...s}){let l=In(),{manifest:c,routeModules:d}=Tv(),{basename:m}=Rv(),{loaderData:h,matches:g}=Pw(),p=b.useMemo(()=>Gy(e,a,g,c,l,"data"),[e,a,g,c,l]),v=b.useMemo(()=>Gy(e,a,g,c,l,"assets"),[e,a,g,c,l]),x=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let _=new Set,j=!1;if(a.forEach(B=>{let R=c.routes[B.route.id];!R||!R.hasLoader||(!p.some(W=>W.route.id===B.route.id)&&B.route.id in h&&d[B.route.id]?.shouldRevalidate||R.hasClientLoader?j=!0:_.add(B.route.id))}),_.size===0)return[];let A=Iw(e,m,"data");return j&&_.size>0&&A.searchParams.set("_routes",a.filter(B=>_.has(B.route.id)).map(B=>B.route.id).join(",")),[A.pathname+A.search]},[m,h,l,c,p,a,e,d]),w=b.useMemo(()=>Vw(v,c),[v,c]),q=Xw(v);return b.createElement(b.Fragment,null,x.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),w.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),q.map(({key:_,link:j})=>b.createElement("link",{key:_,nonce:s.nonce,...j})))}function Ww(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dv&&(window.__reactRouterVersion="7.9.5")}catch{}function e_({basename:e,children:a,window:s}){let l=b.useRef();l.current==null&&(l.current=BN({window:s,v5Compat:!0}));let c=l.current,[d,m]=b.useState({action:c.action,location:c.location}),h=b.useCallback(g=>{b.startTransition(()=>m(g))},[m]);return b.useLayoutEffect(()=>c.listen(h),[c,h]),b.createElement(Ow,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=b.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:m,state:h,target:g,to:p,preventScrollReset:v,viewTransition:x,...w},q){let{basename:_}=b.useContext(ja),j=typeof p=="string"&&zv.test(p),A,B=!1;if(typeof p=="string"&&j&&(A=p,Dv))try{let oe=new URL(window.location.href),Ne=p.startsWith("//")?new URL(oe.protocol+p):new URL(p),ve=hs(Ne.pathname,_);Ne.origin===oe.origin&&ve!=null?p=ve+Ne.search+Ne.hash:B=!0}catch{_a(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=dw(p,{relative:c}),[W,M,O]=Yw(l,w),V=a_(p,{replace:m,state:h,target:g,preventScrollReset:v,relative:c,viewTransition:x});function U(oe){a&&a(oe),oe.defaultPrevented||V(oe)}let K=b.createElement("a",{...w,...O,href:A||R,onClick:B||d?a:U,ref:Ww(q,M),target:g,"data-discover":!j&&s==="render"?"true":void 0});return W&&!j?b.createElement(b.Fragment,null,K,b.createElement(Kw,{page:R})):K});jc.displayName="Link";var Mv=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:h,children:g,...p},v){let x=Hi(m,{relative:p.relative}),w=In(),q=b.useContext(Ic),{navigator:_,basename:j}=b.useContext(ja),A=q!=null&&o_(x)&&h===!0,B=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,R=w.pathname,W=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;s||(R=R.toLowerCase(),W=W?W.toLowerCase():null,B=B.toLowerCase()),W&&j&&(W=hs(W,j)||W);const M=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let O=R===B||!c&&R.startsWith(B)&&R.charAt(M)==="/",V=W!=null&&(W===B||!c&&W.startsWith(B)&&W.charAt(B.length)==="/"),U={isActive:O,isPending:V,isTransitioning:A},K=O?a:void 0,oe;typeof l=="function"?oe=l(U):oe=[l,O?"active":null,V?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof d=="function"?d(U):d;return b.createElement(jc,{...p,"aria-current":K,className:oe,ref:v,style:Ne,to:m,viewTransition:h},typeof g=="function"?g(U):g)});Mv.displayName="NavLink";var t_=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:c,state:d,method:m=vc,action:h,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:x,...w},q)=>{let _=l_(),j=i_(h,{relative:p}),A=m.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&zv.test(h),R=W=>{if(g&&g(W),W.defaultPrevented)return;W.preventDefault();let M=W.nativeEvent.submitter,O=M?.getAttribute("formmethod")||m;_(M||W.currentTarget,{fetcherKey:a,method:O,navigate:s,replace:c,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:q,method:A,action:j,onSubmit:l?g:R,...w,"data-discover":!B&&e==="render"?"true":void 0})});t_.displayName="Form";function n_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kv(e){let a=b.useContext(wl);return $t(a,n_(e)),a}function a_(e,{target:a,replace:s,state:l,preventScrollReset:c,relative:d,viewTransition:m}={}){let h=Er(),g=In(),p=Hi(e,{relative:d});return b.useCallback(v=>{if(kw(v,a)){v.preventDefault();let x=s!==void 0?s:Mi(g)===Mi(p);h(e,{replace:x,state:l,preventScrollReset:c,relative:d,viewTransition:m})}},[g,h,p,s,l,a,e,c,d,m])}function Uv(e){_a(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Yf(e)),s=b.useRef(!1),l=In(),c=b.useMemo(()=>Uw(l.search,s.current?null:a.current),[l.search]),d=Er(),m=b.useCallback((h,g)=>{const p=Yf(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,g)},[d,c]);return[c,m]}var s_=0,r_=()=>`__${String(++s_)}__`;function l_(){let{router:e}=kv("useSubmit"),{basename:a}=b.useContext(ja),s=jw();return b.useCallback(async(l,c={})=>{let{action:d,method:m,encType:h,formData:g,body:p}=qw(l,a);if(c.navigate===!1){let v=c.fetcherKey||r_();await e.fetch(v,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function i_(e,{relative:a}={}){let{basename:s}=b.useContext(ja),l=b.useContext(Ea);$t(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Hi(e||".",{relative:a})},m=In();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),g=h.getAll("index");if(g.some(v=>v==="")){h.delete("index"),g.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:ms([s,d.pathname])),Mi(d)}function o_(e,{relative:a}={}){let s=b.useContext(_v);$t(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=kv("useViewTransitionState"),c=Hi(e,{relative:a});if(!s.isTransitioning)return!1;let d=hs(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=hs(s.nextLocation.pathname,l)||s.nextLocation.pathname;return ki(c.pathname,m)!=null||ki(c.pathname,d)!=null}var jl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},c_={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},u_=class{#e=c_;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},gr=new u_;function d_(e){setTimeout(e,0)}var xr=typeof window>"u"||"Deno"in globalThis;function qn(){}function f_(e,a){return typeof e=="function"?e(a):e}function Kf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Lv(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Zs(e,a){return typeof e=="function"?e(a):e}function Sa(e,a){return typeof e=="function"?e(a):e}function Qy(e,a){const{type:s="all",exact:l,fetchStatus:c,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==Rm(m,a.options))return!1}else if(!Ui(a.queryKey,m))return!1}if(s!=="all"){const g=a.isActive();if(s==="active"&&!g||s==="inactive"&&g)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function Py(e,a){const{exact:s,status:l,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(Sr(a.options.mutationKey)!==Sr(d))return!1}else if(!Ui(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||c&&!c(a))}function Rm(e,a){return(a?.queryKeyHashFn||Sr)(e)}function Sr(e){return JSON.stringify(e,(a,s)=>Xf(s)?Object.keys(s).sort().reduce((l,c)=>(l[c]=s[c],l),{}):s)}function Ui(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>Ui(e[s],a[s])):!1}var m_=Object.prototype.hasOwnProperty;function Bv(e,a){if(e===a)return e;const s=Yy(e)&&Yy(a);if(!s&&!(Xf(e)&&Xf(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),m=d.length,h=s?new Array(m):{};let g=0;for(let p=0;p<m;p++){const v=s?p:d[p],x=e[v],w=a[v];if(x===w){h[v]=x,(s?p<c:m_.call(e,v))&&g++;continue}if(x===null||w===null||typeof x!="object"||typeof w!="object"){h[v]=w;continue}const q=Bv(x,w);h[v]=q,q===x&&g++}return c===m&&g===c?e:h}function Ec(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function Yy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xf(e){if(!Ky(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!Ky(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ky(e){return Object.prototype.toString.call(e)==="[object Object]"}function h_(e){return new Promise(a=>{gr.setTimeout(a,e)})}function Jf(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?Bv(e,a):a}function p_(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function g_(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var Tm=Symbol();function qv(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Tm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Iv(e,a){return typeof e=="function"?e(...a):!!e}var y_=class extends jl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Dm=new y_;function Wf(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function l(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{l({status:"fulfilled",value:c}),e(c)},s.reject=c=>{l({status:"rejected",reason:c}),a(c)},s}var b_=d_;function v_(){let e=[],a=0,s=h=>{h()},l=h=>{h()},c=b_;const d=h=>{a?e.push(h):c(()=>{s(h)})},m=()=>{const h=e;e=[],h.length&&c(()=>{l(()=>{h.forEach(g=>{s(g)})})})};return{batch:h=>{let g;a++;try{g=h()}finally{a--,a||m()}return g},batchCalls:h=>(...g)=>{d(()=>{h(...g)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{c=h}}}var hn=v_(),x_=class extends jl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ac=new x_;function S_(e){return Math.min(1e3*2**e,3e4)}function Fv(e){return(e??"online")==="online"?Ac.isOnline():!0}var em=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function $v(e){let a=!1,s=0,l;const c=Wf(),d=()=>c.status!=="pending",m=j=>{if(!d()){const A=new em(j);w(A),e.onCancel?.(A)}},h=()=>{a=!0},g=()=>{a=!1},p=()=>Dm.isFocused()&&(e.networkMode==="always"||Ac.isOnline())&&e.canRun(),v=()=>Fv(e.networkMode)&&e.canRun(),x=j=>{d()||(l?.(),c.resolve(j))},w=j=>{d()||(l?.(),c.reject(j))},q=()=>new Promise(j=>{l=A=>{(d()||p())&&j(A)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),_=()=>{if(d())return;let j;const A=s===0?e.initialPromise:void 0;try{j=A??e.fn()}catch(B){j=Promise.reject(B)}Promise.resolve(j).then(x).catch(B=>{if(d())return;const R=e.retry??(xr?0:3),W=e.retryDelay??S_,M=typeof W=="function"?W(s,B):W,O=R===!0||typeof R=="number"&&s<R||typeof R=="function"&&R(s,B);if(a||!O){w(B);return}s++,e.onFail?.(s,B),h_(M).then(()=>p()?void 0:q()).then(()=>{a?w(B):_()})})};return{promise:c,status:()=>c.status,cancel:m,continue:()=>(l?.(),c),cancelRetry:h,continueRetry:g,canStart:v,start:()=>(v()?_():q().then(_),c)}}var Hv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kf(this.gcTime)&&(this.#e=gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gr.clearTimeout(this.#e),this.#e=void 0)}},N_=class extends Hv{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Jy(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Jy(this.options);a.data!==void 0&&(this.setState(Xy(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=Jf(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Sa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Lv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=qv(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=$v({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof em&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,g)=>{this.#r({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof em){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Vv(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...Xy(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),hn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Vv(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fv(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Xy(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Jy(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var w_=class extends jl{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=Wf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Wy(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Ec(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&eb(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||Sa(this.options.enabled,this.#t)!==Sa(a.enabled,this.#t)||Zs(this.options.staleTime,this.#t)!==Zs(a.staleTime,this.#t))&&this.#g();const c=this.#y();l&&(this.#t!==s||Sa(this.options.enabled,this.#t)!==Sa(a.enabled,this.#t)||c!==this.#o)&&this.#b(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return j_(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#N();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(qn)),a}#g(){this.#x();const e=Zs(this.options.staleTime,this.#t);if(xr||this.#s.isStale||!Kf(e))return;const s=Lv(this.#s.dataUpdatedAt,e)+1;this.#c=gr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#o=e,!(xr||Sa(this.options.enabled,this.#t)===!1||!Kf(this.#o)||this.#o===0)&&(this.#u=gr.setInterval(()=>{(this.options.refetchIntervalInBackground||Dm.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(gr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(gr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,c=this.#s,d=this.#a,m=this.#l,g=e!==s?e.state:this.#n,{state:p}=e;let v={...p},x=!1,w;if(a._optimisticResults){const K=this.hasListeners(),oe=!K&&Wy(e,a),Ne=K&&eb(e,s,a,l);(oe||Ne)&&(v={...v,...Vv(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:q,errorUpdatedAt:_,status:j}=v;w=v.data;let A=!1;if(a.placeholderData!==void 0&&w===void 0&&j==="pending"){let K;c?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(K=c.data,A=!0):K=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,K!==void 0&&(j="success",w=Jf(c?.data,K,a),x=!0)}if(a.select&&w!==void 0&&!A)if(c&&w===d?.data&&a.select===this.#p)w=this.#f;else try{this.#p=a.select,w=a.select(w),w=Jf(c?.data,w,a),this.#f=w,this.#r=null}catch(K){this.#r=K}this.#r&&(q=this.#r,w=this.#f,_=Date.now(),j="error");const B=v.fetchStatus==="fetching",R=j==="pending",W=j==="error",M=R&&B,O=w!==void 0,U={status:j,fetchStatus:v.fetchStatus,isPending:R,isSuccess:j==="success",isError:W,isInitialLoading:M,isLoading:M,data:w,dataUpdatedAt:v.dataUpdatedAt,error:q,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:B,isRefetching:B&&!R,isLoadingError:W&&!O,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:W&&O,isStale:zm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:Sa(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const K=ve=>{U.status==="error"?ve.reject(U.error):U.data!==void 0&&ve.resolve(U.data)},oe=()=>{const ve=this.#i=U.promise=Wf();K(ve)},Ne=this.#i;switch(Ne.status){case"pending":e.queryHash===s.queryHash&&K(Ne);break;case"fulfilled":(U.status==="error"||U.data!==Ne.value)&&oe();break;case"rejected":(U.status!=="error"||U.error!==Ne.reason)&&oe();break}}return U}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Ec(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==e[h]&&d.has(h)})};this.#w({listeners:s()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(e){hn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function __(e,a){return Sa(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function Wy(e,a){return __(e,a)||e.state.data!==void 0&&tm(e,a,a.refetchOnMount)}function tm(e,a,s){if(Sa(a.enabled,e)!==!1&&Zs(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&zm(e,a)}return!1}function eb(e,a,s,l){return(e!==a||Sa(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&zm(e,s)}function zm(e,a){return Sa(a.enabled,e)!==!1&&e.isStaleByTime(Zs(a.staleTime,e))}function j_(e,a){return!Ec(e.getCurrentResult(),a)}function tb(e){return{onFetch:(a,s)=>{const l=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const p=async()=>{let v=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},w=qv(a.options,a.fetchOptions),q=async(_,j,A)=>{if(v)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const R=(()=>{const V={client:a.client,queryKey:a.queryKey,pageParam:j,direction:A?"backward":"forward",meta:a.options.meta};return x(V),V})(),W=await w(R),{maxPages:M}=a.options,O=A?g_:p_;return{pages:O(_.pages,W,M),pageParams:O(_.pageParams,j,M)}};if(c&&d.length){const _=c==="backward",j=_?E_:nb,A={pages:d,pageParams:m},B=j(l,A);h=await q(A,B,_)}else{const _=e??d.length;do{const j=g===0?m[0]??l.initialPageParam:nb(l,h);if(g>0&&j==null)break;h=await q(h,j),g++}while(g<_)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function nb(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function E_(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var A_=class extends Hv{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Zv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=$v({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const m=await this.options.onMutate?.(e,s);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),hn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Zv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var C_=class extends jl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new A_({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=fc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=fc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=fc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=fc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){hn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Py(a,s))}findAll(e={}){return this.getAll().filter(a=>Py(e,a))}notify(e){hn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return hn.batch(()=>Promise.all(e.map(a=>a.continue().catch(qn))))}};function fc(e){return e.options.scope?.id}var O_=class extends jl{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),Ec(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&Sr(s.mutationKey)!==Sr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Zv();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){hn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,c),this.#s.onSettled?.(a.data,null,s,l,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,c),this.#s.onSettled?.(void 0,a.error,s,l,c))}this.listeners.forEach(s=>{s(this.#t)})})}},R_=class extends jl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,c=a.queryHash??Rm(l,a);let d=this.get(c);return d||(d=new N_({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Qy(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Qy(e,s)):a}notify(e){hn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},T_=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new R_,this.#t=e.mutationCache||new C_,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Dm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Ac.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Zs(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=f_(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...s,manual:!0})}setQueriesData(e,a,s){return hn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;hn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return hn.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=hn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(l).then(qn).catch(qn)}invalidateQueries(e,a={}){return hn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=hn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(qn)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(qn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Zs(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qn).catch(qn)}fetchInfiniteQuery(e){return e.behavior=tb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qn).catch(qn)}ensureInfiniteQueryData(e){return e.behavior=tb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ac.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(Sr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{Ui(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(Sr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{Ui(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Rm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Tm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Gv=b.createContext(void 0),Mm=e=>{const a=b.useContext(Gv);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},D_=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Gv.Provider,{value:e,children:a})),Qv=b.createContext(!1),z_=()=>b.useContext(Qv);Qv.Provider;function M_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var k_=b.createContext(M_()),U_=()=>b.useContext(k_),L_=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},B_=e=>{b.useEffect(()=>{e.clearReset()},[e])},q_=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(c&&e.data===void 0||Iv(s,[e.error,l])),I_=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...c)=>s(l(...c)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},F_=(e,a)=>e.isLoading&&e.isFetching&&!a,$_=(e,a)=>e?.suspense&&a.isPending,ab=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function H_(e,a,s){const l=z_(),c=U_(),d=Mm(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",I_(m),L_(m,c),B_(c);const h=!d.getQueryCache().get(m.queryHash),[g]=b.useState(()=>new a(d,m)),p=g.getOptimisticResult(m),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const w=v?g.subscribe(hn.batchCalls(x)):qn;return g.updateResult(),w},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),b.useEffect(()=>{g.setOptions(m)},[m,g]),$_(m,p))throw ab(m,g,c);if(q_({result:p,errorResetBoundary:c,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!xr&&F_(p,l)&&(h?ab(m,g,c):d.getQueryCache().get(m.queryHash)?.promise)?.catch(qn).finally(()=>{g.updateResult()}),m.notifyOnChangeProps?p:g.trackResult(p)}function Nr(e,a){return H_(e,w_)}function V_(e,a){const s=Mm(),[l]=b.useState(()=>new O_(s,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const c=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(hn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(qn)},[l]);if(c.error&&Iv(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var Vi=e=>e.type==="checkbox",yr=e=>e instanceof Date,Jn=e=>e==null;const Pv=e=>typeof e=="object";var cn=e=>!Jn(e)&&!Array.isArray(e)&&Pv(e)&&!yr(e),Z_=e=>cn(e)&&e.target?Vi(e.target)?e.target.checked:e.target.value:e,G_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Q_=(e,a)=>e.has(G_(a)),P_=e=>{const a=e.constructor&&e.constructor.prototype;return cn(a)&&a.hasOwnProperty("isPrototypeOf")},km=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ft(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(km&&(e instanceof Blob||l))&&(s||cn(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!P_(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=Ft(e[c]));else return e;return a}var $c=e=>/^\w*$/.test(e),Bt=e=>e===void 0,Hc=e=>Array.isArray(e)?e.filter(Boolean):[],Um=e=>Hc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,a,s)=>{if(!a||!cn(e))return s;const l=($c(a)?[a]:Um(a)).reduce((c,d)=>Jn(c)?c:c[d],e);return Bt(l)||l===e?Bt(e[a])?s:e[a]:l},Qa=e=>typeof e=="boolean",_t=(e,a,s)=>{let l=-1;const c=$c(a)?[a]:Um(a),d=c.length,m=d-1;for(;++l<d;){const h=c[l];let g=s;if(l!==m){const p=e[h];g=cn(p)||Array.isArray(p)?p:isNaN(+c[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}};const sb={BLUR:"blur",FOCUS_OUT:"focusout"},Na={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yv=rt.createContext(null);Yv.displayName="HookFormContext";const Kv=()=>rt.useContext(Yv);var Y_=(e,a,s,l=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const m=d;return a._proxyFormState[m]!==Na.all&&(a._proxyFormState[m]=!l||Na.all),e[m]}});return c};const Lm=typeof window<"u"?rt.useLayoutEffect:rt.useEffect;var da=e=>typeof e=="string",nm=(e,a,s,l,c)=>da(e)?(l&&a.watch.add(e),ke(s,e,c)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),ke(s,d))):(l&&(a.watchAll=!0),s),am=e=>Jn(e)||!Pv(e);function La(e,a,s=new WeakSet){if(am(e)||am(a))return e===a;if(yr(e)&&yr(a))return e.getTime()===a.getTime();const l=Object.keys(e),c=Object.keys(a);if(l.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const m=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(yr(m)&&yr(h)||cn(m)&&cn(h)||Array.isArray(m)&&Array.isArray(h)?!La(m,h,s):m!==h)return!1}}return!0}function Ei(e){const a=Kv(),{control:s=a.control,name:l,defaultValue:c,disabled:d,exact:m,compute:h}=e||{},g=rt.useRef(c),p=rt.useRef(h),v=rt.useRef(void 0),x=rt.useRef(s),w=rt.useRef(l);p.current=h;const[q,_]=rt.useState(()=>{const M=s._getWatch(l,g.current);return p.current?p.current(M):M}),j=rt.useCallback(M=>{const O=nm(l,s._names,M||s._formValues,!1,g.current);return p.current?p.current(O):O},[s._formValues,s._names,l]),A=rt.useCallback(M=>{if(!d){const O=nm(l,s._names,M||s._formValues,!1,g.current);if(p.current){const V=p.current(O);La(V,v.current)||(_(V),v.current=V)}else _(O)}},[s._formValues,s._names,d,l]);Lm(()=>((x.current!==s||!La(w.current,l))&&(x.current=s,w.current=l,A()),s._subscribe({name:l,formState:{values:!0},exact:m,callback:M=>{A(M.values)}})),[s,m,l,A]),rt.useEffect(()=>s._removeUnmounted());const B=x.current!==s,R=w.current,W=rt.useMemo(()=>{if(d)return null;const M=!B&&!La(R,l);return B||M?j():null},[d,B,l,R,j]);return W!==null?W:q}var Bm=(e,a,s,l,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:c||!0}}:{},Wn=e=>Array.isArray(e)?e:[e],rb=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function Xv(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],d=a[l];if(c&&cn(c)&&d){const m=Xv(c,d);cn(m)&&(s[l]=m)}else e[l]&&(s[l]=d)}return s}var zn=e=>cn(e)&&!Object.keys(e).length,qm=e=>e.type==="file",Ba=e=>typeof e=="function",Cc=e=>{if(!km)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},Jv=e=>e.type==="select-multiple",Im=e=>e.type==="radio",K_=e=>Im(e)||Vi(e),vf=e=>Cc(e)&&e.isConnected;function X_(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=Bt(e)?l++:e[a[l++]];return e}function J_(e){for(const a in e)if(e.hasOwnProperty(a)&&!Bt(e[a]))return!1;return!0}function en(e,a){const s=Array.isArray(a)?a:$c(a)?[a]:Um(a),l=s.length===1?e:X_(e,s),c=s.length-1,d=s[c];return l&&delete l[d],c!==0&&(cn(l)&&zn(l)||Array.isArray(l)&&J_(l))&&en(e,s.slice(0,-1)),e}var W_=e=>{for(const a in e)if(Ba(e[a]))return!0;return!1};function Wv(e){return Array.isArray(e)||cn(e)&&!W_(e)}function sm(e,a={}){for(const s in e)Wv(e[s])?(a[s]=Array.isArray(e[s])?[]:{},sm(e[s],a[s])):Bt(e[s])||(a[s]=!0);return a}function ml(e,a,s){s||(s=sm(a));for(const l in e)Wv(e[l])?Bt(a)||am(s[l])?s[l]=sm(e[l],Array.isArray(e[l])?[]:{}):ml(e[l],Jn(a)?{}:a[l],s[l]):s[l]=!La(e[l],a[l]);return s}const lb={value:!1,isValid:!1},ib={value:!0,isValid:!0};var ex=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?ib:{value:e[0].value,isValid:!0}:ib:lb}return lb},tx=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>Bt(e)?e:a?e===""?NaN:e&&+e:s&&da(e)?new Date(e):l?l(e):e;const ob={isValid:!1,value:null};var nx=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,ob):ob;function cb(e){const a=e.ref;return qm(a)?a.files:Im(a)?nx(e.refs).value:Jv(a)?[...a.selectedOptions].map(({value:s})=>s):Vi(a)?ex(e.refs).value:tx(Bt(a.value)?e.ref.value:a.value,e)}var ej=(e,a,s,l)=>{const c={};for(const d of e){const m=ke(a,d);m&&_t(c,d,m._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:l}},Oc=e=>e instanceof RegExp,Ai=e=>Bt(e)?e:Oc(e)?e.source:cn(e)?Oc(e.value)?e.value.source:e.value:e,hl=e=>({isOnSubmit:!e||e===Na.onSubmit,isOnBlur:e===Na.onBlur,isOnChange:e===Na.onChange,isOnAll:e===Na.all,isOnTouch:e===Na.onTouched});const ub="AsyncFunction";var tj=e=>!!e&&!!e.validate&&!!(Ba(e.validate)&&e.validate.constructor.name===ub||cn(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===ub)),nj=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rm=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const gl=(e,a,s,l)=>{for(const c of s||Object.keys(e)){const d=ke(e,c);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],c)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(gl(h,a))break}else if(cn(h)&&gl(h,a))break}}};function db(e,a,s){const l=ke(e,s);if(l||$c(s))return{error:l,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),m=ke(a,d),h=ke(e,d);if(m&&!Array.isArray(m)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var aj=(e,a,s,l)=>{s(e);const{name:c,...d}=e;return zn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||Na.all))},sj=(e,a,s)=>!e||!a||e===a||Wn(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),rj=(e,a,s,l,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?l.isOnBlur:c.isOnBlur)?!e:(s?l.isOnChange:c.isOnChange)?e:!0,lj=(e,a)=>!Hc(ke(e,a)).length&&en(e,a),ax=(e,a,s)=>{const l=Wn(ke(e,s));return _t(l,"root",a[s]),_t(e,s,l),e};function fb(e,a,s="validate"){if(da(e)||Array.isArray(e)&&e.every(da)||Qa(e)&&!e)return{type:s,message:da(e)?e:"",ref:a}}var cl=e=>cn(e)&&!Oc(e)?e:{value:e,message:""},lm=async(e,a,s,l,c,d)=>{const{ref:m,refs:h,required:g,maxLength:p,minLength:v,min:x,max:w,pattern:q,validate:_,name:j,valueAsNumber:A,mount:B}=e._f,R=ke(s,j);if(!B||a.has(j))return{};const W=h?h[0]:m,M=fe=>{c&&W.reportValidity&&(W.setCustomValidity(Qa(fe)?"":fe||""),W.reportValidity())},O={},V=Im(m),U=Vi(m),K=V||U,oe=(A||qm(m))&&Bt(m.value)&&Bt(R)||Cc(m)&&m.value===""||R===""||Array.isArray(R)&&!R.length,Ne=Bm.bind(null,j,l,O),ve=(fe,Se,Oe,Ae=fs.maxLength,z=fs.minLength)=>{const F=fe?Se:Oe;O[j]={type:fe?Ae:z,message:F,ref:m,...Ne(fe?Ae:z,F)}};if(d?!Array.isArray(R)||!R.length:g&&(!K&&(oe||Jn(R))||Qa(R)&&!R||U&&!ex(h).isValid||V&&!nx(h).isValid)){const{value:fe,message:Se}=da(g)?{value:!!g,message:g}:cl(g);if(fe&&(O[j]={type:fs.required,message:Se,ref:W,...Ne(fs.required,Se)},!l))return M(Se),O}if(!oe&&(!Jn(x)||!Jn(w))){let fe,Se;const Oe=cl(w),Ae=cl(x);if(!Jn(R)&&!isNaN(R)){const z=m.valueAsNumber||R&&+R;Jn(Oe.value)||(fe=z>Oe.value),Jn(Ae.value)||(Se=z<Ae.value)}else{const z=m.valueAsDate||new Date(R),F=le=>new Date(new Date().toDateString()+" "+le),ee=m.type=="time",P=m.type=="week";da(Oe.value)&&R&&(fe=ee?F(R)>F(Oe.value):P?R>Oe.value:z>new Date(Oe.value)),da(Ae.value)&&R&&(Se=ee?F(R)<F(Ae.value):P?R<Ae.value:z<new Date(Ae.value))}if((fe||Se)&&(ve(!!fe,Oe.message,Ae.message,fs.max,fs.min),!l))return M(O[j].message),O}if((p||v)&&!oe&&(da(R)||d&&Array.isArray(R))){const fe=cl(p),Se=cl(v),Oe=!Jn(fe.value)&&R.length>+fe.value,Ae=!Jn(Se.value)&&R.length<+Se.value;if((Oe||Ae)&&(ve(Oe,fe.message,Se.message),!l))return M(O[j].message),O}if(q&&!oe&&da(R)){const{value:fe,message:Se}=cl(q);if(Oc(fe)&&!R.match(fe)&&(O[j]={type:fs.pattern,message:Se,ref:m,...Ne(fs.pattern,Se)},!l))return M(Se),O}if(_){if(Ba(_)){const fe=await _(R,s),Se=fb(fe,W);if(Se&&(O[j]={...Se,...Ne(fs.validate,Se.message)},!l))return M(Se.message),O}else if(cn(_)){let fe={};for(const Se in _){if(!zn(fe)&&!l)break;const Oe=fb(await _[Se](R,s),W,Se);Oe&&(fe={...Oe,...Ne(Se,Oe.message)},M(Oe.message),l&&(O[j]=fe))}if(!zn(fe)&&(O[j]={ref:W,...fe},!l))return O}}return M(!0),O};const ij={mode:Na.onSubmit,reValidateMode:Na.onChange,shouldFocusError:!0};function oj(e={}){let a={...ij,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ba(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},c=cn(a.defaultValues)||cn(a.values)?Ft(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:Ft(c),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const w={array:rb(),state:rb()},q=a.criteriaMode===Na.all,_=C=>Z=>{clearTimeout(p),p=setTimeout(C,Z)},j=async C=>{if(!a.disabled&&(v.isValid||x.isValid||C)){const Z=a.resolver?zn((await U()).errors):await oe(l,!0);Z!==s.isValid&&w.state.next({isValid:Z})}},A=(C,Z)=>{!a.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((C||Array.from(h.mount)).forEach(T=>{T&&(Z?_t(s.validatingFields,T,Z):en(s.validatingFields,T))}),w.state.next({validatingFields:s.validatingFields,isValidating:!zn(s.validatingFields)}))},B=(C,Z=[],T,Q,G=!0,re=!0)=>{if(Q&&T&&!a.disabled){if(m.action=!0,re&&Array.isArray(ke(l,C))){const Ce=T(ke(l,C),Q.argA,Q.argB);G&&_t(l,C,Ce)}if(re&&Array.isArray(ke(s.errors,C))){const Ce=T(ke(s.errors,C),Q.argA,Q.argB);G&&_t(s.errors,C,Ce),lj(s.errors,C)}if((v.touchedFields||x.touchedFields)&&re&&Array.isArray(ke(s.touchedFields,C))){const Ce=T(ke(s.touchedFields,C),Q.argA,Q.argB);G&&_t(s.touchedFields,C,Ce)}(v.dirtyFields||x.dirtyFields)&&(s.dirtyFields=ml(c,d)),w.state.next({name:C,isDirty:ve(C,Z),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else _t(d,C,Z)},R=(C,Z)=>{_t(s.errors,C,Z),w.state.next({errors:s.errors})},W=C=>{s.errors=C,w.state.next({errors:s.errors,isValid:!1})},M=(C,Z,T,Q)=>{const G=ke(l,C);if(G){const re=ke(d,C,Bt(T)?ke(c,C):T);Bt(re)||Q&&Q.defaultChecked||Z?_t(d,C,Z?re:cb(G._f)):Oe(C,re),m.mount&&j()}},O=(C,Z,T,Q,G)=>{let re=!1,Ce=!1;const Me={name:C};if(!a.disabled){if(!T||Q){(v.isDirty||x.isDirty)&&(Ce=s.isDirty,s.isDirty=Me.isDirty=ve(),re=Ce!==Me.isDirty);const ae=La(ke(c,C),Z);Ce=!!ke(s.dirtyFields,C),ae?en(s.dirtyFields,C):_t(s.dirtyFields,C,!0),Me.dirtyFields=s.dirtyFields,re=re||(v.dirtyFields||x.dirtyFields)&&Ce!==!ae}if(T){const ae=ke(s.touchedFields,C);ae||(_t(s.touchedFields,C,T),Me.touchedFields=s.touchedFields,re=re||(v.touchedFields||x.touchedFields)&&ae!==T)}re&&G&&w.state.next(Me)}return re?Me:{}},V=(C,Z,T,Q)=>{const G=ke(s.errors,C),re=(v.isValid||x.isValid)&&Qa(Z)&&s.isValid!==Z;if(a.delayError&&T?(g=_(()=>R(C,T)),g(a.delayError)):(clearTimeout(p),g=null,T?_t(s.errors,C,T):en(s.errors,C)),(T?!La(G,T):G)||!zn(Q)||re){const Ce={...Q,...re&&Qa(Z)?{isValid:Z}:{},errors:s.errors,name:C};s={...s,...Ce},w.state.next(Ce)}},U=async C=>{A(C,!0);const Z=await a.resolver(d,a.context,ej(C||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return A(C),Z},K=async C=>{const{errors:Z}=await U(C);if(C)for(const T of C){const Q=ke(Z,T);Q?_t(s.errors,T,Q):en(s.errors,T)}else s.errors=Z;return Z},oe=async(C,Z,T={valid:!0})=>{for(const Q in C){const G=C[Q];if(G){const{_f:re,...Ce}=G;if(re){const Me=h.array.has(re.name),ae=G._f&&tj(G._f);ae&&v.validatingFields&&A([re.name],!0);const ze=await lm(G,h.disabled,d,q,a.shouldUseNativeValidation&&!Z,Me);if(ae&&v.validatingFields&&A([re.name]),ze[re.name]&&(T.valid=!1,Z))break;!Z&&(ke(ze,re.name)?Me?ax(s.errors,ze,re.name):_t(s.errors,re.name,ze[re.name]):en(s.errors,re.name))}!zn(Ce)&&await oe(Ce,Z,T)}}return T.valid},Ne=()=>{for(const C of h.unMount){const Z=ke(l,C);Z&&(Z._f.refs?Z._f.refs.every(T=>!vf(T)):!vf(Z._f.ref))&&Re(C)}h.unMount=new Set},ve=(C,Z)=>!a.disabled&&(C&&Z&&_t(d,C,Z),!La(le(),c)),fe=(C,Z,T)=>nm(C,h,{...m.mount?d:Bt(Z)?c:da(C)?{[C]:Z}:Z},T,Z),Se=C=>Hc(ke(m.mount?d:c,C,a.shouldUnregister?ke(c,C,[]):[])),Oe=(C,Z,T={})=>{const Q=ke(l,C);let G=Z;if(Q){const re=Q._f;re&&(!re.disabled&&_t(d,C,tx(Z,re)),G=Cc(re.ref)&&Jn(Z)?"":Z,Jv(re.ref)?[...re.ref.options].forEach(Ce=>Ce.selected=G.includes(Ce.value)):re.refs?Vi(re.ref)?re.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(G)?Ce.checked=!!G.find(Me=>Me===Ce.value):Ce.checked=G===Ce.value||!!G)}):re.refs.forEach(Ce=>Ce.checked=Ce.value===G):qm(re.ref)?re.ref.value="":(re.ref.value=G,re.ref.type||w.state.next({name:C,values:Ft(d)})))}(T.shouldDirty||T.shouldTouch)&&O(C,G,T.shouldTouch,T.shouldDirty,!0),T.shouldValidate&&P(C)},Ae=(C,Z,T)=>{for(const Q in Z){if(!Z.hasOwnProperty(Q))return;const G=Z[Q],re=C+"."+Q,Ce=ke(l,re);(h.array.has(C)||cn(G)||Ce&&!Ce._f)&&!yr(G)?Ae(re,G,T):Oe(re,G,T)}},z=(C,Z,T={})=>{const Q=ke(l,C),G=h.array.has(C),re=Ft(Z);_t(d,C,re),G?(w.array.next({name:C,values:Ft(d)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&T.shouldDirty&&w.state.next({name:C,dirtyFields:ml(c,d),isDirty:ve(C,re)})):Q&&!Q._f&&!Jn(re)?Ae(C,re,T):Oe(C,re,T),rm(C,h)&&w.state.next({...s,name:C}),w.state.next({name:m.mount?C:void 0,values:Ft(d)})},F=async C=>{m.mount=!0;const Z=C.target;let T=Z.name,Q=!0;const G=ke(l,T),re=ae=>{Q=Number.isNaN(ae)||yr(ae)&&isNaN(ae.getTime())||La(ae,ke(d,T,ae))},Ce=hl(a.mode),Me=hl(a.reValidateMode);if(G){let ae,ze;const Ie=Z.type?cb(G._f):Z_(C),lt=C.type===sb.BLUR||C.type===sb.FOCUS_OUT,Xt=!nj(G._f)&&!a.resolver&&!ke(s.errors,T)&&!G._f.deps||rj(lt,ke(s.touchedFields,T),s.isSubmitted,Me,Ce),we=rm(T,h,lt);_t(d,T,Ie),lt?(!Z||!Z.readOnly)&&(G._f.onBlur&&G._f.onBlur(C),g&&g(0)):G._f.onChange&&G._f.onChange(C);const Xe=O(T,Ie,lt),Gt=!zn(Xe)||we;if(!lt&&w.state.next({name:T,type:C.type,values:Ft(d)}),Xt)return(v.isValid||x.isValid)&&(a.mode==="onBlur"?lt&&j():lt||j()),Gt&&w.state.next({name:T,...we?{}:Xe});if(!lt&&we&&w.state.next({...s}),a.resolver){const{errors:St}=await U([T]);if(re(Ie),Q){const Nn=db(s.errors,l,T),kn=db(St,l,Nn.name||T);ae=kn.error,T=kn.name,ze=zn(St)}}else A([T],!0),ae=(await lm(G,h.disabled,d,q,a.shouldUseNativeValidation))[T],A([T]),re(Ie),Q&&(ae?ze=!1:(v.isValid||x.isValid)&&(ze=await oe(l,!0)));Q&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&P(G._f.deps),V(T,ze,ae,Xe))}},ee=(C,Z)=>{if(ke(s.errors,Z)&&C.focus)return C.focus(),1},P=async(C,Z={})=>{let T,Q;const G=Wn(C);if(a.resolver){const re=await K(Bt(C)?C:G);T=zn(re),Q=C?!G.some(Ce=>ke(re,Ce)):T}else C?(Q=(await Promise.all(G.map(async re=>{const Ce=ke(l,re);return await oe(Ce&&Ce._f?{[re]:Ce}:Ce)}))).every(Boolean),!(!Q&&!s.isValid)&&j()):Q=T=await oe(l);return w.state.next({...!da(C)||(v.isValid||x.isValid)&&T!==s.isValid?{}:{name:C},...a.resolver||!C?{isValid:T}:{},errors:s.errors}),Z.shouldFocus&&!Q&&gl(l,ee,C?G:h.mount),Q},le=(C,Z)=>{let T={...m.mount?d:c};return Z&&(T=Xv(Z.dirtyFields?s.dirtyFields:s.touchedFields,T)),Bt(C)?T:da(C)?ke(T,C):C.map(Q=>ke(T,Q))},N=(C,Z)=>({invalid:!!ke((Z||s).errors,C),isDirty:!!ke((Z||s).dirtyFields,C),error:ke((Z||s).errors,C),isValidating:!!ke(s.validatingFields,C),isTouched:!!ke((Z||s).touchedFields,C)}),I=C=>{C&&Wn(C).forEach(Z=>en(s.errors,Z)),w.state.next({errors:C?s.errors:{}})},ce=(C,Z,T)=>{const Q=(ke(l,C,{_f:{}})._f||{}).ref,G=ke(s.errors,C)||{},{ref:re,message:Ce,type:Me,...ae}=G;_t(s.errors,C,{...ae,...Z,ref:Q}),w.state.next({name:C,errors:s.errors,isValid:!1}),T&&T.shouldFocus&&Q&&Q.focus&&Q.focus()},k=(C,Z)=>Ba(C)?w.state.subscribe({next:T=>"values"in T&&C(fe(void 0,Z),T)}):fe(C,Z,!0),de=C=>w.state.subscribe({next:Z=>{sj(C.name,Z.name,C.exact)&&aj(Z,C.formState||v,Fe,C.reRenderRoot)&&C.callback({values:{...d},...s,...Z,defaultValues:c})}}).unsubscribe,ye=C=>(m.mount=!0,x={...x,...C.formState},de({...C,formState:x})),Re=(C,Z={})=>{for(const T of C?Wn(C):h.mount)h.mount.delete(T),h.array.delete(T),Z.keepValue||(en(l,T),en(d,T)),!Z.keepError&&en(s.errors,T),!Z.keepDirty&&en(s.dirtyFields,T),!Z.keepTouched&&en(s.touchedFields,T),!Z.keepIsValidating&&en(s.validatingFields,T),!a.shouldUnregister&&!Z.keepDefaultValue&&en(c,T);w.state.next({values:Ft(d)}),w.state.next({...s,...Z.keepDirty?{isDirty:ve()}:{}}),!Z.keepIsValid&&j()},Ue=({disabled:C,name:Z})=>{(Qa(C)&&m.mount||C||h.disabled.has(Z))&&(C?h.disabled.add(Z):h.disabled.delete(Z))},me=(C,Z={})=>{let T=ke(l,C);const Q=Qa(Z.disabled)||Qa(a.disabled);return _t(l,C,{...T||{},_f:{...T&&T._f?T._f:{ref:{name:C}},name:C,mount:!0,...Z}}),h.mount.add(C),T?Ue({disabled:Qa(Z.disabled)?Z.disabled:a.disabled,name:C}):M(C,!0,Z.value),{...Q?{disabled:Z.disabled||a.disabled}:{},...a.progressive?{required:!!Z.required,min:Ai(Z.min),max:Ai(Z.max),minLength:Ai(Z.minLength),maxLength:Ai(Z.maxLength),pattern:Ai(Z.pattern)}:{},name:C,onChange:F,onBlur:F,ref:G=>{if(G){me(C,Z),T=ke(l,C);const re=Bt(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,Ce=K_(re),Me=T._f.refs||[];if(Ce?Me.find(ae=>ae===re):re===T._f.ref)return;_t(l,C,{_f:{...T._f,...Ce?{refs:[...Me.filter(vf),re,...Array.isArray(ke(c,C))?[{}]:[]],ref:{type:re.type,name:C}}:{ref:re}}}),M(C,!1,void 0,re)}else T=ke(l,C,{}),T._f&&(T._f.mount=!1),(a.shouldUnregister||Z.shouldUnregister)&&!(Q_(h.array,C)&&m.action)&&h.unMount.add(C)}}},De=()=>a.shouldFocusError&&gl(l,ee,h.mount),qe=C=>{Qa(C)&&(w.state.next({disabled:C}),gl(l,(Z,T)=>{const Q=ke(l,T);Q&&(Z.disabled=Q._f.disabled||C,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(G=>{G.disabled=Q._f.disabled||C}))},0,!1))},Ye=(C,Z)=>async T=>{let Q;T&&(T.preventDefault&&T.preventDefault(),T.persist&&T.persist());let G=Ft(d);if(w.state.next({isSubmitting:!0}),a.resolver){const{errors:re,values:Ce}=await U();s.errors=re,G=Ft(Ce)}else await oe(l);if(h.disabled.size)for(const re of h.disabled)en(G,re);if(en(s.errors,"root"),zn(s.errors)){w.state.next({errors:{}});try{await C(G,T)}catch(re){Q=re}}else Z&&await Z({...s.errors},T),De(),setTimeout(De);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zn(s.errors)&&!Q,submitCount:s.submitCount+1,errors:s.errors}),Q)throw Q},ut=(C,Z={})=>{ke(l,C)&&(Bt(Z.defaultValue)?z(C,Ft(ke(c,C))):(z(C,Z.defaultValue),_t(c,C,Ft(Z.defaultValue))),Z.keepTouched||en(s.touchedFields,C),Z.keepDirty||(en(s.dirtyFields,C),s.isDirty=Z.defaultValue?ve(C,Ft(ke(c,C))):ve()),Z.keepError||(en(s.errors,C),v.isValid&&j()),w.state.next({...s}))},Te=(C,Z={})=>{const T=C?Ft(C):c,Q=Ft(T),G=zn(C),re=G?c:Q;if(Z.keepDefaultValues||(c=T),!Z.keepValues){if(Z.keepDirtyValues){const Ce=new Set([...h.mount,...Object.keys(ml(c,d))]);for(const Me of Array.from(Ce))ke(s.dirtyFields,Me)?_t(re,Me,ke(d,Me)):z(Me,ke(re,Me))}else{if(km&&Bt(C))for(const Ce of h.mount){const Me=ke(l,Ce);if(Me&&Me._f){const ae=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(Cc(ae)){const ze=ae.closest("form");if(ze){ze.reset();break}}}}if(Z.keepFieldsRef)for(const Ce of h.mount)z(Ce,ke(re,Ce));else l={}}d=a.shouldUnregister?Z.keepDefaultValues?Ft(c):{}:Ft(re),w.array.next({values:{...re}}),w.state.next({values:{...re}})}h={mount:Z.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues||!a.shouldUnregister&&!zn(re),m.watch=!!a.shouldUnregister,w.state.next({submitCount:Z.keepSubmitCount?s.submitCount:0,isDirty:G?!1:Z.keepDirty?s.isDirty:!!(Z.keepDefaultValues&&!La(C,c)),isSubmitted:Z.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:G?{}:Z.keepDirtyValues?Z.keepDefaultValues&&d?ml(c,d):s.dirtyFields:Z.keepDefaultValues&&C?ml(c,C):Z.keepDirty?s.dirtyFields:{},touchedFields:Z.keepTouched?s.touchedFields:{},errors:Z.keepErrors?s.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},He=(C,Z)=>Te(Ba(C)?C(d):C,Z),ge=(C,Z={})=>{const T=ke(l,C),Q=T&&T._f;if(Q){const G=Q.refs?Q.refs[0]:Q.ref;G.focus&&(G.focus(),Z.shouldSelect&&Ba(G.select)&&G.select())}},Fe=C=>{s={...s,...C}},Ke={control:{register:me,unregister:Re,getFieldState:N,handleSubmit:Ye,setError:ce,_subscribe:de,_runSchema:U,_focusError:De,_getWatch:fe,_getDirty:ve,_setValid:j,_setFieldArray:B,_setDisabledField:Ue,_setErrors:W,_getFieldArray:Se,_reset:Te,_resetDefaultValues:()=>Ba(a.defaultValues)&&a.defaultValues().then(C=>{He(C,a.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:Ne,_disableForm:qe,_subjects:w,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(C){m=C},get _defaultValues(){return c},get _names(){return h},set _names(C){h=C},get _formState(){return s},get _options(){return a},set _options(C){a={...a,...C}}},subscribe:ye,trigger:P,register:me,handleSubmit:Ye,watch:k,setValue:z,getValues:le,reset:He,resetField:ut,clearErrors:I,unregister:Re,setError:ce,setFocus:ge,getFieldState:N};return{...Ke,formControl:Ke}}var $s=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},xf=(e,a,s={})=>s.shouldFocus||Bt(s.shouldFocus)?s.focusName||`${e}.${Bt(s.focusIndex)?a:s.focusIndex}.`:"",Sf=(e,a)=>[...e,...Wn(a)],Nf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function wf(e,a,s){return[...e.slice(0,a),...Wn(s),...e.slice(a)]}var _f=(e,a,s)=>Array.isArray(e)?(Bt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],jf=(e,a)=>[...Wn(a),...Wn(e)];function cj(e,a){let s=0;const l=[...e];for(const c of a)l.splice(c-s,1),s++;return Hc(l).length?l:[]}var Ef=(e,a)=>Bt(a)?[]:cj(e,Wn(a).sort((s,l)=>s-l)),Af=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},mb=(e,a,s)=>(e[a]=s,e);function uj(e){const a=Kv(),{control:s=a.control,name:l,keyName:c="id",shouldUnregister:d,rules:m}=e,[h,g]=rt.useState(s._getFieldArray(l)),p=rt.useRef(s._getFieldArray(l).map($s)),v=rt.useRef(!1);s._names.array.add(l),rt.useMemo(()=>m&&h.length>=0&&s.register(l,m),[s,l,h.length,m]),Lm(()=>s._subjects.array.subscribe({next:({values:M,name:O})=>{if(O===l||!O){const V=ke(M,l);Array.isArray(V)&&(g(V),p.current=V.map($s))}}}).unsubscribe,[s,l]);const x=rt.useCallback(M=>{v.current=!0,s._setFieldArray(l,M)},[s,l]),w=(M,O)=>{const V=Wn(Ft(M)),U=Sf(s._getFieldArray(l),V);s._names.focus=xf(l,U.length-1,O),p.current=Sf(p.current,V.map($s)),x(U),g(U),s._setFieldArray(l,U,Sf,{argA:Nf(M)})},q=(M,O)=>{const V=Wn(Ft(M)),U=jf(s._getFieldArray(l),V);s._names.focus=xf(l,0,O),p.current=jf(p.current,V.map($s)),x(U),g(U),s._setFieldArray(l,U,jf,{argA:Nf(M)})},_=M=>{const O=Ef(s._getFieldArray(l),M);p.current=Ef(p.current,M),x(O),g(O),!Array.isArray(ke(s._fields,l))&&_t(s._fields,l,void 0),s._setFieldArray(l,O,Ef,{argA:M})},j=(M,O,V)=>{const U=Wn(Ft(O)),K=wf(s._getFieldArray(l),M,U);s._names.focus=xf(l,M,V),p.current=wf(p.current,M,U.map($s)),x(K),g(K),s._setFieldArray(l,K,wf,{argA:M,argB:Nf(O)})},A=(M,O)=>{const V=s._getFieldArray(l);Af(V,M,O),Af(p.current,M,O),x(V),g(V),s._setFieldArray(l,V,Af,{argA:M,argB:O},!1)},B=(M,O)=>{const V=s._getFieldArray(l);_f(V,M,O),_f(p.current,M,O),x(V),g(V),s._setFieldArray(l,V,_f,{argA:M,argB:O},!1)},R=(M,O)=>{const V=Ft(O),U=mb(s._getFieldArray(l),M,V);p.current=[...U].map((K,oe)=>!K||oe===M?$s():p.current[oe]),x(U),g([...U]),s._setFieldArray(l,U,mb,{argA:M,argB:V},!0,!1)},W=M=>{const O=Wn(Ft(M));p.current=O.map($s),x([...O]),g([...O]),s._setFieldArray(l,[...O],V=>V,{},!0,!1)};return rt.useEffect(()=>{if(s._state.action=!1,rm(l,s._names)&&s._subjects.state.next({...s._formState}),v.current&&(!hl(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!hl(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(M=>{const O=ke(M.errors,l),V=ke(s._formState.errors,l);(V?!O&&V.type||O&&(V.type!==O.type||V.message!==O.message):O&&O.type)&&(O?_t(s._formState.errors,l,O):en(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const M=ke(s._fields,l);M&&M._f&&!(hl(s._options.reValidateMode).isOnSubmit&&hl(s._options.mode).isOnSubmit)&&lm(M,s._names.disabled,s._formValues,s._options.criteriaMode===Na.all,s._options.shouldUseNativeValidation,!0).then(O=>!zn(O)&&s._subjects.state.next({errors:ax(s._formState.errors,O,l)}))}s._subjects.state.next({name:l,values:Ft(s._formValues)}),s._names.focus&&gl(s._fields,(M,O)=>{if(s._names.focus&&O.startsWith(s._names.focus)&&M.focus)return M.focus(),1}),s._names.focus="",s._setValid(),v.current=!1},[h,l,s]),rt.useEffect(()=>(!ke(s._formValues,l)&&s._setFieldArray(l),()=>{const M=(O,V)=>{const U=ke(s._fields,O);U&&U._f&&(U._f.mount=V)};s._options.shouldUnregister||d?s.unregister(l):M(l,!1)}),[l,s,c,d]),{swap:rt.useCallback(A,[x,l,s]),move:rt.useCallback(B,[x,l,s]),prepend:rt.useCallback(q,[x,l,s]),append:rt.useCallback(w,[x,l,s]),remove:rt.useCallback(_,[x,l,s]),insert:rt.useCallback(j,[x,l,s]),update:rt.useCallback(R,[x,l,s]),replace:rt.useCallback(W,[x,l,s]),fields:rt.useMemo(()=>h.map((M,O)=>({...M,[c]:p.current[O]||$s()})),[h,c])}}function Vc(e={}){const a=rt.useRef(void 0),s=rt.useRef(void 0),[l,c]=rt.useState({isDirty:!1,isValidating:!1,isLoading:Ba(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ba(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!Ba(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=oj(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,Lm(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),rt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),rt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),rt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),rt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),rt.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),rt.useEffect(()=>{e.values&&!La(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),rt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=Y_(l,d),a.current}function sx(e,a){return function(){return e.apply(a,arguments)}}const{toString:dj}=Object.prototype,{getPrototypeOf:Fm}=Object,{iterator:Zc,toStringTag:rx}=Symbol,Gc=(e=>a=>{const s=dj.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),qa=e=>(e=e.toLowerCase(),a=>Gc(a)===e),Qc=e=>a=>typeof a===e,{isArray:El}=Array,vl=Qc("undefined");function Zi(e){return e!==null&&!vl(e)&&e.constructor!==null&&!vl(e.constructor)&&ea(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lx=qa("ArrayBuffer");function fj(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&lx(e.buffer),a}const mj=Qc("string"),ea=Qc("function"),ix=Qc("number"),Gi=e=>e!==null&&typeof e=="object",hj=e=>e===!0||e===!1,Sc=e=>{if(Gc(e)!=="object")return!1;const a=Fm(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(rx in e)&&!(Zc in e)},pj=e=>{if(!Gi(e)||Zi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},gj=qa("Date"),yj=qa("File"),bj=qa("Blob"),vj=qa("FileList"),xj=e=>Gi(e)&&ea(e.pipe),Sj=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||ea(e.append)&&((a=Gc(e))==="formdata"||a==="object"&&ea(e.toString)&&e.toString()==="[object FormData]"))},Nj=qa("URLSearchParams"),[wj,_j,jj,Ej]=["ReadableStream","Request","Response","Headers"].map(qa),Aj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qi(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),El(e))for(l=0,c=e.length;l<c;l++)a.call(null,e[l],l,e);else{if(Zi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function ox(e,a){if(Zi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],a===c.toLowerCase())return c;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cx=e=>!vl(e)&&e!==br;function im(){const{caseless:e,skipUndefined:a}=cx(this)&&this||{},s={},l=(c,d)=>{const m=e&&ox(s,d)||d;Sc(s[m])&&Sc(c)?s[m]=im(s[m],c):Sc(c)?s[m]=im({},c):El(c)?s[m]=c.slice():(!a||!vl(c))&&(s[m]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Qi(arguments[c],l);return s}const Cj=(e,a,s,{allOwnKeys:l}={})=>(Qi(a,(c,d)=>{s&&ea(c)?e[d]=sx(c,s):e[d]=c},{allOwnKeys:l}),e),Oj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Rj=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},Tj=(e,a,s,l)=>{let c,d,m;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=s!==!1&&Fm(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},Dj=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},zj=e=>{if(!e)return null;if(El(e))return e;let a=e.length;if(!ix(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},Mj=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Fm(Uint8Array)),kj=(e,a)=>{const l=(e&&e[Zc]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},Uj=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},Lj=qa("HTMLFormElement"),Bj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),hb=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),qj=qa("RegExp"),ux=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Qi(s,(c,d)=>{let m;(m=a(c,d,e))!==!1&&(l[d]=m||c)}),Object.defineProperties(e,l)},Ij=e=>{ux(e,(a,s)=>{if(ea(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(ea(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Fj=(e,a)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return El(e)?l(e):l(String(e).split(a)),s},$j=()=>{},Hj=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function Vj(e){return!!(e&&ea(e.append)&&e[rx]==="FormData"&&e[Zc])}const Zj=e=>{const a=new Array(10),s=(l,c)=>{if(Gi(l)){if(a.indexOf(l)>=0)return;if(Zi(l))return l;if(!("toJSON"in l)){a[c]=l;const d=El(l)?[]:{};return Qi(l,(m,h)=>{const g=s(m,c+1);!vl(g)&&(d[h]=g)}),a[c]=void 0,d}}return l};return s(e,0)},Gj=qa("AsyncFunction"),Qj=e=>e&&(Gi(e)||ea(e))&&ea(e.then)&&ea(e.catch),dx=((e,a)=>e?setImmediate:a?((s,l)=>(br.addEventListener("message",({source:c,data:d})=>{c===br&&d===s&&l.length&&l.shift()()},!1),c=>{l.push(c),br.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ea(br.postMessage)),Pj=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||dx,Yj=e=>e!=null&&ea(e[Zc]),se={isArray:El,isArrayBuffer:lx,isBuffer:Zi,isFormData:Sj,isArrayBufferView:fj,isString:mj,isNumber:ix,isBoolean:hj,isObject:Gi,isPlainObject:Sc,isEmptyObject:pj,isReadableStream:wj,isRequest:_j,isResponse:jj,isHeaders:Ej,isUndefined:vl,isDate:gj,isFile:yj,isBlob:bj,isRegExp:qj,isFunction:ea,isStream:xj,isURLSearchParams:Nj,isTypedArray:Mj,isFileList:vj,forEach:Qi,merge:im,extend:Cj,trim:Aj,stripBOM:Oj,inherits:Rj,toFlatObject:Tj,kindOf:Gc,kindOfTest:qa,endsWith:Dj,toArray:zj,forEachEntry:kj,matchAll:Uj,isHTMLForm:Lj,hasOwnProperty:hb,hasOwnProp:hb,reduceDescriptors:ux,freezeMethods:Ij,toObjectSet:Fj,toCamelCase:Bj,noop:$j,toFiniteNumber:Hj,findKey:ox,global:br,isContextDefined:cx,isSpecCompliantForm:Vj,toJSONObject:Zj,isAsyncFn:Gj,isThenable:Qj,setImmediate:dx,asap:Pj,isIterable:Yj};function nt(e,a,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}se.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const fx=nt.prototype,mx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mx[e]={value:e}});Object.defineProperties(nt,mx);Object.defineProperty(fx,"isAxiosError",{value:!0});nt.from=(e,a,s,l,c,d)=>{const m=Object.create(fx);se.toFlatObject(e,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",g=a==null&&e?e.code:a;return nt.call(m,h,g,s,l,c),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const Kj=null;function om(e){return se.isPlainObject(e)||se.isArray(e)}function hx(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function pb(e,a,s){return e?e.concat(a).map(function(c,d){return c=hx(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function Xj(e){return se.isArray(e)&&!e.some(om)}const Jj=se.toFlatObject(se,{},null,function(a){return/^is[A-Z]/.test(a)});function Pc(e,a,s){if(!se.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=se.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,A){return!se.isUndefined(A[j])});const l=s.metaTokens,c=s.visitor||v,d=s.dots,m=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(a);if(!se.isFunction(c))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(se.isDate(_))return _.toISOString();if(se.isBoolean(_))return _.toString();if(!g&&se.isBlob(_))throw new nt("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(_)||se.isTypedArray(_)?g&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,j,A){let B=_;if(_&&!A&&typeof _=="object"){if(se.endsWith(j,"{}"))j=l?j:j.slice(0,-2),_=JSON.stringify(_);else if(se.isArray(_)&&Xj(_)||(se.isFileList(_)||se.endsWith(j,"[]"))&&(B=se.toArray(_)))return j=hx(j),B.forEach(function(W,M){!(se.isUndefined(W)||W===null)&&a.append(m===!0?pb([j],M,d):m===null?j:j+"[]",p(W))}),!1}return om(_)?!0:(a.append(pb(A,j,d),p(_)),!1)}const x=[],w=Object.assign(Jj,{defaultVisitor:v,convertValue:p,isVisitable:om});function q(_,j){if(!se.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(_),se.forEach(_,function(B,R){(!(se.isUndefined(B)||B===null)&&c.call(a,B,se.isString(R)?R.trim():R,j,w))===!0&&q(B,j?j.concat(R):[R])}),x.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return q(e),a}function gb(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function $m(e,a){this._pairs=[],e&&Pc(e,this,a)}const px=$m.prototype;px.append=function(a,s){this._pairs.push([a,s])};px.toString=function(a){const s=a?function(l){return a.call(this,l,gb)}:gb;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function Wj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gx(e,a,s){if(!a)return e;const l=s&&s.encode||Wj;se.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=se.isURLSearchParams(a)?a.toString():new $m(a,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class yb{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){se.forEach(this.handlers,function(l){l!==null&&a(l)})}}const yx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e1=typeof URLSearchParams<"u"?URLSearchParams:$m,t1=typeof FormData<"u"?FormData:null,n1=typeof Blob<"u"?Blob:null,a1={isBrowser:!0,classes:{URLSearchParams:e1,FormData:t1,Blob:n1},protocols:["http","https","file","blob","url","data"]},Hm=typeof window<"u"&&typeof document<"u",cm=typeof navigator=="object"&&navigator||void 0,s1=Hm&&(!cm||["ReactNative","NativeScript","NS"].indexOf(cm.product)<0),r1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",l1=Hm&&window.location.href||"http://localhost",i1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hm,hasStandardBrowserEnv:s1,hasStandardBrowserWebWorkerEnv:r1,navigator:cm,origin:l1},Symbol.toStringTag,{value:"Module"})),Mn={...i1,...a1};function o1(e,a){return Pc(e,new Mn.classes.URLSearchParams,{visitor:function(s,l,c,d){return Mn.isNode&&se.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function c1(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function u1(e){const a={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],a[d]=e[d];return a}function bx(e){function a(s,l,c,d){let m=s[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),g=d>=s.length;return m=!m&&se.isArray(c)?c.length:m,g?(se.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!h):((!c[m]||!se.isObject(c[m]))&&(c[m]=[]),a(s,l,c[m],d)&&se.isArray(c[m])&&(c[m]=u1(c[m])),!h)}if(se.isFormData(e)&&se.isFunction(e.entries)){const s={};return se.forEachEntry(e,(l,c)=>{a(c1(l),c,s,0)}),s}return null}function d1(e,a,s){if(se.isString(e))try{return(a||JSON.parse)(e),se.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Pi={transitional:yx,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=se.isObject(a);if(d&&se.isHTMLForm(a)&&(a=new FormData(a)),se.isFormData(a))return c?JSON.stringify(bx(a)):a;if(se.isArrayBuffer(a)||se.isBuffer(a)||se.isStream(a)||se.isFile(a)||se.isBlob(a)||se.isReadableStream(a))return a;if(se.isArrayBufferView(a))return a.buffer;if(se.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return o1(a,this.formSerializer).toString();if((h=se.isFileList(a))||l.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Pc(h?{"files[]":a}:a,g&&new g,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),d1(a)):a}],transformResponse:[function(a){const s=this.transitional||Pi.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(se.isResponse(a)||se.isReadableStream(a))return a;if(a&&se.isString(a)&&(l&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?nt.from(h,nt.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{Pi.headers[e]={}});const f1=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),m1=e=>{const a={};let s,l,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!s||a[s]&&f1[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},bb=Symbol("internals");function Ci(e){return e&&String(e).trim().toLowerCase()}function Nc(e){return e===!1||e==null?e:se.isArray(e)?e.map(Nc):String(e)}function h1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const p1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cf(e,a,s,l,c){if(se.isFunction(l))return l.call(this,a,s);if(c&&(a=s),!!se.isString(a)){if(se.isString(l))return a.indexOf(l)!==-1;if(se.isRegExp(l))return l.test(a)}}function g1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function y1(e,a){const s=se.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,m){return this[l].call(this,a,c,d,m)},configurable:!0})})}let ta=class{constructor(a){a&&this.set(a)}set(a,s,l){const c=this;function d(h,g,p){const v=Ci(g);if(!v)throw new Error("header name must be a non-empty string");const x=se.findKey(c,v);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||g]=Nc(h))}const m=(h,g)=>se.forEach(h,(p,v)=>d(p,v,g));if(se.isPlainObject(a)||a instanceof this.constructor)m(a,s);else if(se.isString(a)&&(a=a.trim())&&!p1(a))m(m1(a),s);else if(se.isObject(a)&&se.isIterable(a)){let h={},g,p;for(const v of a){if(!se.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(g=h[p])?se.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}m(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ci(a),a){const l=se.findKey(this,a);if(l){const c=this[l];if(!s)return c;if(s===!0)return h1(c);if(se.isFunction(s))return s.call(this,c,l);if(se.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ci(a),a){const l=se.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||Cf(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let c=!1;function d(m){if(m=Ci(m),m){const h=se.findKey(l,m);h&&(!s||Cf(l,l[h],h,s))&&(delete l[h],c=!0)}}return se.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let l=s.length,c=!1;for(;l--;){const d=s[l];(!a||Cf(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,l={};return se.forEach(this,(c,d)=>{const m=se.findKey(l,d);if(m){s[m]=Nc(c),delete s[d];return}const h=a?g1(d):String(d).trim();h!==d&&delete s[d],s[h]=Nc(c),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return se.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=a&&se.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(c=>l.set(c)),l}static accessor(a){const l=(this[bb]=this[bb]={accessors:{}}).accessors,c=this.prototype;function d(m){const h=Ci(m);l[h]||(y1(c,m),l[h]=!0)}return se.isArray(a)?a.forEach(d):d(a),this}};ta.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(ta.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});se.freezeMethods(ta);function Of(e,a){const s=this||Pi,l=a||s,c=ta.from(l.headers);let d=l.data;return se.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function vx(e){return!!(e&&e.__CANCEL__)}function Al(e,a,s){nt.call(this,e??"canceled",nt.ERR_CANCELED,a,s),this.name="CanceledError"}se.inherits(Al,nt,{__CANCEL__:!0});function xx(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new nt("Request failed with status code "+s.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function b1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function v1(e,a){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,m;return a=a!==void 0?a:1e3,function(g){const p=Date.now(),v=l[d];m||(m=p),s[c]=g,l[c]=p;let x=d,w=0;for(;x!==c;)w+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-m<a)return;const q=v&&p-v;return q?Math.round(w*1e3/q):void 0}}function x1(e,a){let s=0,l=1e3/a,c,d;const m=(p,v=Date.now())=>{s=v,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),x=v-s;x>=l?m(p,v):(c=p,d||(d=setTimeout(()=>{d=null,m(c)},l-x)))},()=>c&&m(c)]}const Rc=(e,a,s=3)=>{let l=0;const c=v1(50,250);return x1(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,g=m-l,p=c(g),v=m<=h;l=m;const x={loaded:m,total:h,progress:h?m/h:void 0,bytes:g,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},vb=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},xb=e=>(...a)=>se.asap(()=>e(...a)),S1=Mn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,Mn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,N1=Mn.hasStandardBrowserEnv?{write(e,a,s,l,c,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];se.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),se.isString(l)&&h.push(`path=${l}`),se.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),se.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function w1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function Sx(e,a,s){let l=!w1(a);return e&&(l||s==!1)?_1(e,a):a}const Sb=e=>e instanceof ta?{...e}:e;function wr(e,a){a=a||{};const s={};function l(p,v,x,w){return se.isPlainObject(p)&&se.isPlainObject(v)?se.merge.call({caseless:w},p,v):se.isPlainObject(v)?se.merge({},v):se.isArray(v)?v.slice():v}function c(p,v,x,w){if(se.isUndefined(v)){if(!se.isUndefined(p))return l(void 0,p,x,w)}else return l(p,v,x,w)}function d(p,v){if(!se.isUndefined(v))return l(void 0,v)}function m(p,v){if(se.isUndefined(v)){if(!se.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,x){if(x in a)return l(p,v);if(x in e)return l(void 0,p)}const g={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,x)=>c(Sb(p),Sb(v),x,!0)};return se.forEach(Object.keys({...e,...a}),function(v){const x=g[v]||c,w=x(e[v],a[v],v);se.isUndefined(w)&&x!==h||(s[v]=w)}),s}const Nx=e=>{const a=wr({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=ta.from(m),a.url=gx(Sx(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),se.isFormData(s)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(se.isFunction(s.getHeaders)){const g=s.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([v,x])=>{p.includes(v.toLowerCase())&&m.set(v,x)})}}if(Mn.hasStandardBrowserEnv&&(l&&se.isFunction(l)&&(l=l(a)),l||l!==!1&&S1(a.url))){const g=c&&d&&N1.read(d);g&&m.set(c,g)}return a},j1=typeof XMLHttpRequest<"u",E1=j1&&function(e){return new Promise(function(s,l){const c=Nx(e);let d=c.data;const m=ta.from(c.headers).normalize();let{responseType:h,onUploadProgress:g,onDownloadProgress:p}=c,v,x,w,q,_;function j(){q&&q(),_&&_(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let A=new XMLHttpRequest;A.open(c.method.toUpperCase(),c.url,!0),A.timeout=c.timeout;function B(){if(!A)return;const W=ta.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:W,config:e,request:A};xx(function(U){s(U),j()},function(U){l(U),j()},O),A=null}"onloadend"in A?A.onloadend=B:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(B)},A.onabort=function(){A&&(l(new nt("Request aborted",nt.ECONNABORTED,e,A)),A=null)},A.onerror=function(M){const O=M&&M.message?M.message:"Network Error",V=new nt(O,nt.ERR_NETWORK,e,A);V.event=M||null,l(V),A=null},A.ontimeout=function(){let M=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const O=c.transitional||yx;c.timeoutErrorMessage&&(M=c.timeoutErrorMessage),l(new nt(M,O.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,e,A)),A=null},d===void 0&&m.setContentType(null),"setRequestHeader"in A&&se.forEach(m.toJSON(),function(M,O){A.setRequestHeader(O,M)}),se.isUndefined(c.withCredentials)||(A.withCredentials=!!c.withCredentials),h&&h!=="json"&&(A.responseType=c.responseType),p&&([w,_]=Rc(p,!0),A.addEventListener("progress",w)),g&&A.upload&&([x,q]=Rc(g),A.upload.addEventListener("progress",x),A.upload.addEventListener("loadend",q)),(c.cancelToken||c.signal)&&(v=W=>{A&&(l(!W||W.type?new Al(null,e,A):W),A.abort(),A=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const R=b1(c.url);if(R&&Mn.protocols.indexOf(R)===-1){l(new nt("Unsupported protocol "+R+":",nt.ERR_BAD_REQUEST,e));return}A.send(d||null)})},A1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,c;const d=function(p){if(!c){c=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof nt?v:new Al(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new nt(`timeout ${a} of ms exceeded`,nt.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:g}=l;return g.unsubscribe=()=>se.asap(h),g}},C1=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,c;for(;l<s;)c=l+a,yield e.slice(l,c),l=c},O1=async function*(e,a){for await(const s of R1(e))yield*C1(s,a)},R1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},Nb=(e,a,s,l)=>{const c=O1(e,a);let d=0,m,h=g=>{m||(m=!0,l&&l(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await c.next();if(p){h(),g.close();return}let x=v.byteLength;if(s){let w=d+=x;s(w)}g.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(g){return h(g),c.return()}},{highWaterMark:2})},wb=64*1024,{isFunction:mc}=se,T1=(({Request:e,Response:a})=>({Request:e,Response:a}))(se.global),{ReadableStream:_b,TextEncoder:jb}=se.global,Eb=(e,...a)=>{try{return!!e(...a)}catch{return!1}},D1=e=>{e=se.merge.call({skipUndefined:!0},T1,e);const{fetch:a,Request:s,Response:l}=e,c=a?mc(a):typeof fetch=="function",d=mc(s),m=mc(l);if(!c)return!1;const h=c&&mc(_b),g=c&&(typeof jb=="function"?(_=>j=>_.encode(j))(new jb):async _=>new Uint8Array(await new s(_).arrayBuffer())),p=d&&h&&Eb(()=>{let _=!1;const j=new s(Mn.origin,{body:new _b,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!j}),v=m&&h&&Eb(()=>se.isReadableStream(new l("").body)),x={stream:v&&(_=>_.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!x[_]&&(x[_]=(j,A)=>{let B=j&&j[_];if(B)return B.call(j);throw new nt(`Response type '${_}' is not supported`,nt.ERR_NOT_SUPPORT,A)})});const w=async _=>{if(_==null)return 0;if(se.isBlob(_))return _.size;if(se.isSpecCompliantForm(_))return(await new s(Mn.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(se.isArrayBufferView(_)||se.isArrayBuffer(_))return _.byteLength;if(se.isURLSearchParams(_)&&(_=_+""),se.isString(_))return(await g(_)).byteLength},q=async(_,j)=>{const A=se.toFiniteNumber(_.getContentLength());return A??w(j)};return async _=>{let{url:j,method:A,data:B,signal:R,cancelToken:W,timeout:M,onDownloadProgress:O,onUploadProgress:V,responseType:U,headers:K,withCredentials:oe="same-origin",fetchOptions:Ne}=Nx(_),ve=a||fetch;U=U?(U+"").toLowerCase():"text";let fe=A1([R,W&&W.toAbortSignal()],M),Se=null;const Oe=fe&&fe.unsubscribe&&(()=>{fe.unsubscribe()});let Ae;try{if(V&&p&&A!=="get"&&A!=="head"&&(Ae=await q(K,B))!==0){let N=new s(j,{method:"POST",body:B,duplex:"half"}),I;if(se.isFormData(B)&&(I=N.headers.get("content-type"))&&K.setContentType(I),N.body){const[ce,k]=vb(Ae,Rc(xb(V)));B=Nb(N.body,wb,ce,k)}}se.isString(oe)||(oe=oe?"include":"omit");const z=d&&"credentials"in s.prototype,F={...Ne,signal:fe,method:A.toUpperCase(),headers:K.normalize().toJSON(),body:B,duplex:"half",credentials:z?oe:void 0};Se=d&&new s(j,F);let ee=await(d?ve(Se,Ne):ve(j,F));const P=v&&(U==="stream"||U==="response");if(v&&(O||P&&Oe)){const N={};["status","statusText","headers"].forEach(de=>{N[de]=ee[de]});const I=se.toFiniteNumber(ee.headers.get("content-length")),[ce,k]=O&&vb(I,Rc(xb(O),!0))||[];ee=new l(Nb(ee.body,wb,ce,()=>{k&&k(),Oe&&Oe()}),N)}U=U||"text";let le=await x[se.findKey(x,U)||"text"](ee,_);return!P&&Oe&&Oe(),await new Promise((N,I)=>{xx(N,I,{data:le,headers:ta.from(ee.headers),status:ee.status,statusText:ee.statusText,config:_,request:Se})})}catch(z){throw Oe&&Oe(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,_,Se),{cause:z.cause||z}):nt.from(z,z&&z.code,_,Se)}}},z1=new Map,wx=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:c}=a,d=[l,c,s];let m=d.length,h=m,g,p,v=z1;for(;h--;)g=d[h],p=v.get(g),p===void 0&&v.set(g,p=h?new Map:D1(a)),v=p;return p};wx();const Vm={http:Kj,xhr:E1,fetch:{get:wx}};se.forEach(Vm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const Ab=e=>`- ${e}`,M1=e=>se.isFunction(e)||e===null||e===!1;function k1(e,a){e=se.isArray(e)?e:[e];const{length:s}=e;let l,c;const d={};for(let m=0;m<s;m++){l=e[m];let h;if(c=l,!M1(l)&&(c=Vm[(h=String(l)).toLowerCase()],c===void 0))throw new nt(`Unknown adapter '${h}'`);if(c&&(se.isFunction(c)||(c=c.get(a))))break;d[h||"#"+m]=c}if(!c){const m=Object.entries(d).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?m.length>1?`since :
`+m.map(Ab).join(`
`):" "+Ab(m[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const _x={getAdapter:k1,adapters:Vm};function Rf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Al(null,e)}function Cb(e){return Rf(e),e.headers=ta.from(e.headers),e.data=Of.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_x.getAdapter(e.adapter||Pi.adapter,e)(e).then(function(l){return Rf(e),l.data=Of.call(e,e.transformResponse,l),l.headers=ta.from(l.headers),l},function(l){return vx(l)||(Rf(e),l&&l.response&&(l.response.data=Of.call(e,e.transformResponse,l.response),l.response.headers=ta.from(l.response.headers))),Promise.reject(l)})}const jx="1.13.2",Yc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Yc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Ob={};Yc.transitional=function(a,s,l){function c(d,m){return"[Axios v"+jx+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new nt(c(m," has been removed"+(s?" in "+s:"")),nt.ERR_DEPRECATED);return s&&!Ob[m]&&(Ob[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,m,h):!0}};Yc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function U1(e,a,s){if(typeof e!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],m=a[d];if(m){const h=e[d],g=h===void 0||m(h,d,e);if(g!==!0)throw new nt("option "+d+" must be "+g,nt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new nt("Unknown option "+d,nt.ERR_BAD_OPTION)}}const wc={assertOptions:U1,validators:Yc},Ga=wc.validators;let vr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new yb,response:new yb}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=wr(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&wc.assertOptions(l,{silentJSONParsing:Ga.transitional(Ga.boolean),forcedJSONParsing:Ga.transitional(Ga.boolean),clarifyTimeoutError:Ga.transitional(Ga.boolean)},!1),c!=null&&(se.isFunction(c)?s.paramsSerializer={serialize:c}:wc.assertOptions(c,{encode:Ga.function,serialize:Ga.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),wc.assertOptions(s,{baseUrl:Ga.spelling("baseURL"),withXsrfToken:Ga.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=d&&se.merge(d.common,d[s.method]);d&&se.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),s.headers=ta.concat(m,d);const h=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(g=g&&j.synchronous,h.unshift(j.fulfilled,j.rejected))});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let v,x=0,w;if(!g){const _=[Cb.bind(this),void 0];for(_.unshift(...h),_.push(...p),w=_.length,v=Promise.resolve(s);x<w;)v=v.then(_[x++],_[x++]);return v}w=h.length;let q=s;for(;x<w;){const _=h[x++],j=h[x++];try{q=_(q)}catch(A){j.call(this,A);break}}try{v=Cb.call(this,q)}catch(_){return Promise.reject(_)}for(x=0,w=p.length;x<w;)v=v.then(p[x++],p[x++]);return v}getUri(a){a=wr(this.defaults,a);const s=Sx(a.baseURL,a.url,a.allowAbsoluteUrls);return gx(s,a.params,a.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(a){vr.prototype[a]=function(s,l){return this.request(wr(l||{},{method:a,url:s,data:(l||{}).data}))}});se.forEach(["post","put","patch"],function(a){function s(l){return function(d,m,h){return this.request(wr(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}vr.prototype[a]=s(),vr.prototype[a+"Form"]=s(!0)});let L1=class Ex{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new Al(d,m,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new Ex(function(c){a=c}),cancel:a}}};function B1(e){return function(s){return e.apply(null,s)}}function q1(e){return se.isObject(e)&&e.isAxiosError===!0}const um={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(um).forEach(([e,a])=>{um[a]=e});function Ax(e){const a=new vr(e),s=sx(vr.prototype.request,a);return se.extend(s,vr.prototype,a,{allOwnKeys:!0}),se.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return Ax(wr(e,c))},s}const ct=Ax(Pi);ct.Axios=vr;ct.CanceledError=Al;ct.CancelToken=L1;ct.isCancel=vx;ct.VERSION=jx;ct.toFormData=Pc;ct.AxiosError=nt;ct.Cancel=ct.CanceledError;ct.all=function(a){return Promise.all(a)};ct.spread=B1;ct.isAxiosError=q1;ct.mergeConfig=wr;ct.AxiosHeaders=ta;ct.formToJSON=e=>bx(se.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=_x.getAdapter;ct.HttpStatusCode=um;ct.default=ct;const{Axios:q2,AxiosError:I2,CanceledError:F2,isCancel:$2,CancelToken:H2,VERSION:V2,all:Z2,Cancel:G2,isAxiosError:Q2,spread:P2,toFormData:Y2,AxiosHeaders:K2,HttpStatusCode:X2,formToJSON:J2,getAdapter:W2,mergeConfig:eD}=ct,I1="medileser:draft:v1",Tc="medileser:recovery:v1",Dc="medileser:recovery:intent",F1="vi.auth",$1="vi_auth",H1="medileser.selectedBank",V1=1440*60*1e3,Zm=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>V1},Tf=e=>{const{userId:a,bankId:s,oiId:l,type:c,bancadaId:d,isNew:m}=e;if(!a||s==null)return null;const h=l!=null?String(l):"new",g=`${I1}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${g}:header`;const p=m?"new":d;return p==null?null:`${g}:bancada:${p}`},Di=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&Cx(s)},Df=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:Zm(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Hs=e=>{try{localStorage.removeItem(e)}catch{}},Cx=e=>{try{localStorage.setItem(Tc,JSON.stringify(e))}catch{}},Ox=()=>{try{const e=localStorage.getItem(Tc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Zm(a.ts)?(localStorage.removeItem(Tc),null):a}catch{return null}},Z1=()=>{try{localStorage.removeItem(Tc)}catch{}},G1=e=>{const a=e.userId??null,s=e.bankId??null,l=e.oiId??null;if(!a||s==null||!l)return;const c=Ox(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:l,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};Cx(d)},Q1=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(Dc,JSON.stringify(a))}catch{}},P1=()=>{try{const e=sessionStorage.getItem(Dc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Zm(a.ts)?(sessionStorage.removeItem(Dc),null):a}catch{return null}},zf=()=>{try{sessionStorage.removeItem(Dc)}catch{}},Y1=()=>{try{const e=localStorage.getItem(F1)??localStorage.getItem($1);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},K1=()=>{try{const e=localStorage.getItem(H1);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},dm=(e,a)=>{const s=Ox();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const l=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=l==="/oi"||l==="/oi/"?`/oi/${s.oiId}?mode=edit`:l;return Q1(s),{target:c,recovery:s}},Rb="http://127.0.0.1:8000",Cl="openOiId",Kc="vi.currentOI",Rx="vi.auth",Tx="vi_auth",X1="medileser.selectedBank",J1="medileser:selectedBank",fm="medileser.pendingToast",Yi="medileser.pendingAction",W1="medileser:auth-expired",mm="medileser.sessionUserId",hm="medileser.sessionBankId",Dx=()=>typeof window<"u"?window.location.port==="5173"?Rb:window.location.origin:Rb,Ve=ct.create({baseURL:Dx()}),zx=ct.create({baseURL:Dx()}),Mx=e=>{try{const a=localStorage.getItem(Rx)??localStorage.getItem(Tx);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ve.interceptors.request.use(Mx);zx.interceptors.request.use(Mx);function eE(){try{const e=sessionStorage.getItem(Cl);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const kx=()=>{try{const e=sessionStorage.getItem(Kc);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function tE(e){try{sessionStorage.setItem(Cl,String(e))}catch{}}function Ux(){try{sessionStorage.removeItem(Cl)}catch{}}async function Ki(){const e=eE();if(e)try{await zx.post(`/oi/${e}/close`)}catch{}finally{Ux()}}function nE(e){try{sessionStorage.setItem(fm,e)}catch{}}function aE(){try{const e=sessionStorage.getItem(fm);return e?(sessionStorage.removeItem(fm),e):null}catch{return null}}function sE(e){try{sessionStorage.setItem(Yi,JSON.stringify(e))}catch{}}function rE(){try{const e=sessionStorage.getItem(Yi);return e?JSON.parse(e):null}catch{return null}}function Oi(){try{sessionStorage.removeItem(Yi)}catch{}}function Lx(){try{const e=sessionStorage.getItem(mm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Tb(e){try{e==null?sessionStorage.removeItem(mm):sessionStorage.setItem(mm,String(e))}catch{}}function Bx(){try{const e=sessionStorage.getItem(hm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function zc(e){try{e==null?sessionStorage.removeItem(hm):sessionStorage.setItem(hm,String(e))}catch{}}function qx(e){const a=Lx();if(e==null)return!1;if(a===null||a===e)return Tb(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Cl||c===Kc||c===Yi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Tb(e),zc(null),!0}function lE(e){const a=Bx();if(e==null)return!1;if(a===null||a===e)return zc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Cl||c===Kc||c===Yi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return zc(e),!0}function iE(){try{localStorage.removeItem(Rx),localStorage.removeItem(Tx),localStorage.removeItem(X1)}catch{}finally{try{window.dispatchEvent(new Event(J1))}catch{}}try{sessionStorage.removeItem(Kc),sessionStorage.removeItem(Cl)}catch{}}let Db=!1;async function Ix(e){if(!Db){Db=!0;try{await Ki()}finally{iE();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(nE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const _c=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401)return!0;const l=e?.response?.data?.detail;return!!(typeof l=="string"&&/token requerido/i.test(l))},Mf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},oE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:Mf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:Mf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:Mf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},cE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const m=c.toString(),h=p=>`${p}${m?`?${m}`:""}${l??""}`;let g=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??kx();p&&(g=h(`/oi/${p}`))}return g},uE=(e,a,s,l,c)=>{try{window.dispatchEvent(new CustomEvent(W1,{detail:{status:a,detail:e,url:s,method:l,pending:c}}))}catch{}};Ve.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&_c(e)){const m=oE(e);m&&sE(m),uE(l,a,s,c,m);const h=cE(m),g=Y1(),p=g.bankId??K1(),v=m?.oiId??kx();if(g.userId&&p!=null&&v){const x=m?.type==="save_bancada"?{type:"bancada",bancadaId:m.bancadaId??null,isNew:m.bancadaId==null}:void 0;G1({userId:g.userId,bankId:p,oiId:v,returnTo:h,modal:x})}await Ix({returnTo:h,pending:!!m})}return Promise.reject(e)});const Gm=async()=>{const{data:e}=await Ve.get("/catalogs");return e},Xc="medileser.selectedBank",Mc="medileser:selectedBank";function wa(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function xl(e){return wa(e)==="technician"}function Qm(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function Li(){try{const e=localStorage.getItem(Xc);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Fx(e){try{localStorage.setItem(Xc,String(e))}finally{window.dispatchEvent(new Event(Mc))}}function $x(){try{localStorage.removeItem(Xc)}finally{window.dispatchEvent(new Event(Mc))}}function dE(e){const a=()=>e(),s=l=>{l.key===Xc&&e()};return window.addEventListener(Mc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Mc,a),window.removeEventListener("storage",s)}}async function fE(e,a){try{await Ve.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function mE(e){try{await Ki();const{data:a}=await Ve.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),qx(a.userId??null),!xl(a.role)&&a.bancoId!=null&&zc(a.bancoId),xl(a.role)?$x():Fx(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(c)}}function Rn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:wa(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function Hx(e){await Ki();const{data:a}=await Ve.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),qx(a.userId??null),lE(e),Fx(e),a}function Vx(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),$x();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function hE(){await Ki(),Vx()}function Bi({label:e,inputId:a,className:s="",inputRef:l,helpText:c,...d}){const[m,h]=b.useState(!1),g=a||d.name||void 0,{ref:p,...v}=d,x=l??p;return o.jsxs("div",{className:s,children:[e&&o.jsx("label",{className:"form-label",htmlFor:g,children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("input",{...v,id:g,type:m?"text":"password",className:"form-control",ref:x}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(w=>!w),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:o.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),c&&o.jsx("div",{className:"form-text",children:c})]})}function Ol({show:e=!0,label:a="Cargando..."}){return e?o.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[o.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),o.jsx("span",{className:"visually-hidden",children:a})]}):null}const Zx=b.createContext(null);function pE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function gE({children:e}){const[a,s]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:g=3500,...p}=d,v={id:m,kind:h,duration:g,...p};s(x=>[...x,v]),window.setTimeout(()=>{s(x=>x.filter(w=>w.id!==m))},g)},[]),c=d=>s(m=>m.filter(h=>h.id!==d));return o.jsxs(Zx.Provider,{value:{push:l},children:[e,o.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>o.jsx("div",{className:`toast show align-items-center text-bg-${pE(d.kind)} border-0 mb-2`,role:"alert",children:o.jsxs("div",{className:"d-flex",children:[o.jsxs("div",{className:"toast-body",children:[d.title&&o.jsx("strong",{className:"me-2",children:d.title}),d.message]}),o.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function Ar(){const e=b.useContext(Zx);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function yE(){const{register:e,handleSubmit:a}=Vc({defaultValues:{username:"",password:""}}),{toast:s}=Ar(),l=new URLSearchParams(window.location.search),c=l.get("returnTo")??"",d=c.startsWith("/")?c:"/home",m=l.get("pending")==="1",[h,g]=b.useState(!1),p=b.useRef(d),[v,x]=b.useState(!1),[w,q]=b.useState(0),[_,j]=b.useState(!1),{data:A,isLoading:B,error:R,refetch:W}=Nr({queryKey:["catalogs"],queryFn:Gm,enabled:v}),M=A?.bancos??[];b.useEffect(()=>{const oe=aE();oe&&s({kind:"error",message:oe})},[s]),b.useEffect(()=>{v&&(w>0||M.length>0&&q(M[0].id))},[w,M,v]);const O=async oe=>{try{g(!0);const Ne=Lx(),ve=await mE(oe),fe=Ne!=null&&ve.userId&&Ne!==ve.userId,Se=dm(ve.userId,ve.bancoId??0);if(Se.target?p.current=Se.target:m||fe?p.current="/home":p.current=d,xl(ve.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(Ne){const ve=Ne?.message??Ne?.response?.data?.detail??(typeof Ne=="string"?Ne:"Error de autenticacin");s({kind:"error",title:"Login",message:String(ve)})}finally{g(!1)}},V=w>0&&!_&&!B,U=async()=>{if(V)try{j(!0);const oe=Bx(),Ne=oe!=null&&oe!==w,ve=await Hx(w),fe=dm(ve.userId,ve.bancoId??w);fe.target?p.current=fe.target:(m||Ne)&&(p.current="/home"),window.location.replace(p.current)}catch(oe){const Ne=oe?.response?.data?.detail??oe?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(Ne)})}finally{j(!1)}},K=()=>{Vx(),x(!1),q(0)};return o.jsxs("div",{className:"vi-login",children:[o.jsx(Ol,{show:h||_,label:_?"Guardando banco...":"Validando credenciales..."}),o.jsxs("div",{className:"vi-login__split",children:[o.jsx("section",{className:"vi-login__left",children:o.jsx("div",{className:"text-center text-md-start",children:o.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),o.jsx("section",{className:"vi-login__right",children:o.jsx("div",{className:"card shadow-sm vi-login__card",children:o.jsxs("div",{className:"card-body p-4 p-md-5",children:[o.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),o.jsxs("form",{onSubmit:a(O),className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),o.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),o.jsx("div",{className:"col-md-6",children:o.jsx(Bi,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),o.jsx("div",{className:"col-12 d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||v,"aria-busy":h?"true":"false",children:h?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),v&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:w||"",onChange:oe=>q(Number(oe.target.value)),disabled:B||_,children:M.map(oe=>o.jsx("option",{value:oe.id,children:oe.name},oe.id))}),R?o.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>W(),children:"Reintentar"})]}):null]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:K,disabled:_,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!V,onClick:U,children:_?"Guardando...":"Continuar"})]})]})})})]})}const zb=(e,a,s)=>{if(e&&"reportValidity"in e){const l=ke(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},pm=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?zb(l.ref,s,e):l&&l.refs&&l.refs.forEach(c=>zb(c,s,e))}},Mb=(e,a)=>{a.shouldUseNativeValidation&&pm(e,a);const s={};for(const l in e){const c=ke(a.fields,l),d=Object.assign(e[l]||{},{ref:c&&c.ref});if(bE(a.names||Object.keys(e),l)){const m=Object.assign({},ke(s,l));_t(m,"root",d),_t(s,l,m)}else _t(s,l,d)}return s},bE=(e,a)=>{const s=kb(a);return e.some(l=>kb(l).match(`^${s}\\.\\d+`))};function kb(e){return e.replace(/\]|\[/g,"")}function xe(e,a,s){function l(h,g){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,g);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=g}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function m(h){var g;const p=s?.Parent?new d:this;l(p,h),(g=p._zod).deferred??(g.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class yl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Gx extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const Qx={};function _r(e){return Qx}function vE(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,c])=>a.indexOf(+l)===-1).map(([l,c])=>c)}function gm(e,a){return typeof a=="bigint"?a.toString():a}function Pm(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Ym(e){return e==null}function Km(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function xE(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let c=(l.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(l)){const g=l.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const d=s>c?s:c,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const Ub=Symbol("evaluating");function Mt(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==Ub)return l===void 0&&(l=Ub,l=s()),l},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function Cr(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Or(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function Lb(e){return JSON.stringify(e)}const Px="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function kc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const SE=Pm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function qi(e){if(kc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(kc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function Yx(e){return qi(e)?{...e}:Array.isArray(e)?[...e]:e}const NE=new Set(["string","number","symbol"]);function Jc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gs(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function Qe(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function wE(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const _E={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function jE(e,a){const s=e._zod.def,l=Or(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return Cr(this,"shape",c),c},checks:[]});return Gs(e,l)}function EE(e,a){const s=e._zod.def,l=Or(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return Cr(this,"shape",c),c},checks:[]});return Gs(e,l)}function AE(e,a){if(!qi(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Or(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Cr(this,"shape",d),d},checks:[]});return Gs(e,c)}function CE(e,a){if(!qi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Cr(this,"shape",l),l},checks:e._zod.def.checks};return Gs(e,s)}function OE(e,a){const s=Or(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Cr(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Gs(e,s)}function RE(e,a,s){const l=Or(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in c))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=e?new e({type:"optional",innerType:c[m]}):c[m])}else for(const m in c)d[m]=e?new e({type:"optional",innerType:c[m]}):c[m];return Cr(this,"shape",d),d},checks:[]});return Gs(a,l)}function TE(e,a,s){const l=Or(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=new e({type:"nonoptional",innerType:c[m]}))}else for(const m in c)d[m]=new e({type:"nonoptional",innerType:c[m]});return Cr(this,"shape",d),d},checks:[]});return Gs(a,l)}function pl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function Kx(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function hc(e){return typeof e=="string"?e:e?.message}function jr(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const c=hc(e.inst?._zod.def?.error?.(e))??hc(a?.error?.(e))??hc(s.customError?.(e))??hc(s.localeError?.(e))??"Invalid input";l.message=c}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function Xm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ii(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const Xx=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,gm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Jm=xe("$ZodError",Xx),Wc=xe("$ZodError",Xx,{Parent:Error});function DE(e,a=s=>s.message){const s={},l=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):l.push(a(c));return{formErrors:l,fieldErrors:s}}function zE(e,a=s=>s.message){const s={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let m=s,h=0;for(;h<d.path.length;){const g=d.path[h];h===d.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(a(d))):m[g]=m[g]||{_errors:[]},m=m[g],h++}}};return l(e),s}const eu=e=>(a,s,l,c)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise)throw new yl;if(m.issues.length){const h=new(c?.Err??e)(m.issues.map(g=>jr(g,d,_r())));throw Px(h,c?.callee),h}return m.value},ME=eu(Wc),tu=e=>async(a,s,l,c)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(c?.Err??e)(m.issues.map(g=>jr(g,d,_r())));throw Px(h,c?.callee),h}return m.value},kE=tu(Wc),nu=e=>(a,s,l)=>{const c=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new yl;return d.issues.length?{success:!1,error:new(e??Jm)(d.issues.map(m=>jr(m,c,_r())))}:{success:!0,data:d.value}},UE=nu(Wc),au=e=>async(a,s,l)=>{const c=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>jr(m,c,_r())))}:{success:!0,data:d.value}},LE=au(Wc),BE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return eu(e)(a,s,c)},qE=e=>(a,s,l)=>eu(e)(a,s,l),IE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return tu(e)(a,s,c)},FE=e=>async(a,s,l)=>tu(e)(a,s,l),$E=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return nu(e)(a,s,c)},HE=e=>(a,s,l)=>nu(e)(a,s,l),VE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return au(e)(a,s,c)},ZE=e=>async(a,s,l)=>au(e)(a,s,l),GE=/^[cC][^\s-]{8,}$/,QE=/^[0-9a-z]+$/,PE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,YE=/^[0-9a-vA-V]{20}$/,KE=/^[A-Za-z0-9]{27}$/,XE=/^[a-zA-Z0-9_-]{21}$/,JE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,WE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Bb=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,eA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,tA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function nA(){return new RegExp(tA,"u")}const aA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,rA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,lA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Jx=/^[A-Za-z0-9_-]*$/,oA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,cA=/^\+(?:[0-9]){6,14}[0-9]$/,Wx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",uA=new RegExp(`^${Wx}$`);function e0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function dA(e){return new RegExp(`^${e0(e)}$`)}function fA(e){const a=e0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${Wx}T(?:${l})$`)}const mA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},hA=/^-?\d+$/,pA=/^-?\d+(?:\.\d+)?/,gA=/^[^A-Z]*$/,yA=/^[^a-z]*$/,na=xe("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),t0={number:"number",bigint:"bigint",object:"date"},n0=xe("$ZodCheckLessThan",(e,a)=>{na.init(e,a);const s=t0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),a0=xe("$ZodCheckGreaterThan",(e,a)=>{na.init(e,a);const s=t0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),bA=xe("$ZodCheckMultipleOf",(e,a)=>{na.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):xE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),vA=xe("$ZodCheckNumberFormat",(e,a)=>{na.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[c,d]=_E[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=hA)}),e._zod.check=m=>{const h=m.value;if(s){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<c&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),xA=xe("$ZodCheckMaxLength",(e,a)=>{var s;na.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Ym(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const c=l.value;if(c.length<=a.maximum)return;const m=Xm(c);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),SA=xe("$ZodCheckMinLength",(e,a)=>{var s;na.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Ym(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const c=l.value;if(c.length>=a.minimum)return;const m=Xm(c);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),NA=xe("$ZodCheckLengthEquals",(e,a)=>{var s;na.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Ym(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=l=>{const c=l.value,d=c.length;if(d===a.length)return;const m=Xm(c),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),su=xe("$ZodCheckStringFormat",(e,a)=>{var s,l;na.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),wA=xe("$ZodCheckRegex",(e,a)=>{su.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),_A=xe("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=gA),su.init(e,a)}),jA=xe("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=yA),su.init(e,a)}),EA=xe("$ZodCheckIncludes",(e,a)=>{na.init(e,a);const s=Jc(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),AA=xe("$ZodCheckStartsWith",(e,a)=>{na.init(e,a);const s=new RegExp(`^${Jc(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),CA=xe("$ZodCheckEndsWith",(e,a)=>{na.init(e,a);const s=new RegExp(`.*${Jc(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),OA=xe("$ZodCheckOverwrite",(e,a)=>{na.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class RA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),c=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(c)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const TA={major:4,minor:1,patch:12},un=xe("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=TA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const c of l)for(const d of c._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(m,h,g)=>{let p=pl(m),v;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(m))continue}else if(p)continue;const w=m.issues.length,q=x._zod.check(m);if(q instanceof Promise&&g?.async===!1)throw new yl;if(v||q instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await q,m.issues.length!==w&&(p||(p=pl(m,w)))});else{if(m.issues.length===w)continue;p||(p=pl(m,w))}}return v?v.then(()=>m):m},d=(m,h,g)=>{if(pl(m))return m.aborted=!0,m;const p=c(h,l,g);if(p instanceof Promise){if(g.async===!1)throw new yl;return p.then(v=>e._zod.parse(v,g))}return e._zod.parse(p,g)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const g=e._zod.parse(m,h);if(g instanceof Promise){if(h.async===!1)throw new yl;return g.then(p=>c(p,l,h))}return c(g,l,h)}}e["~standard"]={validate:c=>{try{const d=UE(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return LE(e,c).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Wm=xe("$ZodString",(e,a)=>{un.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??mA(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Ht=xe("$ZodStringFormat",(e,a)=>{su.init(e,a),Wm.init(e,a)}),DA=xe("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=WE),Ht.init(e,a)}),zA=xe("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Bb(l))}else a.pattern??(a.pattern=Bb());Ht.init(e,a)}),MA=xe("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=eA),Ht.init(e,a)}),kA=xe("$ZodURL",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),c=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:oA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),UA=xe("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=nA()),Ht.init(e,a)}),LA=xe("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=XE),Ht.init(e,a)}),BA=xe("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=GE),Ht.init(e,a)}),qA=xe("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=QE),Ht.init(e,a)}),IA=xe("$ZodULID",(e,a)=>{a.pattern??(a.pattern=PE),Ht.init(e,a)}),FA=xe("$ZodXID",(e,a)=>{a.pattern??(a.pattern=YE),Ht.init(e,a)}),$A=xe("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=KE),Ht.init(e,a)}),HA=xe("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=fA(a)),Ht.init(e,a)}),VA=xe("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=uA),Ht.init(e,a)}),ZA=xe("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=dA(a)),Ht.init(e,a)}),GA=xe("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=JE),Ht.init(e,a)}),QA=xe("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=aA),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),PA=xe("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=sA),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),YA=xe("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=rA),Ht.init(e,a)}),KA=xe("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=lA),Ht.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[c,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function s0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const XA=xe("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=iA),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{s0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function JA(e){if(!Jx.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return s0(s)}const WA=xe("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=Jx),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{JA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),eC=xe("$ZodE164",(e,a)=>{a.pattern??(a.pattern=cA),Ht.init(e,a)});function tC(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const c=JSON.parse(atob(l));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const nC=xe("$ZodJWT",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{tC(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),r0=xe("$ZodNumber",(e,a)=>{un.init(e,a),e._zod.pattern=e._zod.bag.pattern??pA,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),aC=xe("$ZodNumber",(e,a)=>{vA.init(e,a),r0.init(e,a)}),sC=xe("$ZodUnknown",(e,a)=>{un.init(e,a),e._zod.parse=s=>s}),rC=xe("$ZodNever",(e,a)=>{un.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function qb(e,a,s){e.issues.length&&a.issues.push(...Kx(s,e.issues)),a.value[s]=e.value}const lC=xe("$ZodArray",(e,a)=>{un.init(e,a),e._zod.parse=(s,l)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let m=0;m<c.length;m++){const h=c[m],g=a.element._zod.run({value:h,issues:[]},l);g instanceof Promise?d.push(g.then(p=>qb(p,s,m))):qb(g,s,m)}return d.length?Promise.all(d).then(()=>s):s}});function Uc(e,a,s,l){e.issues.length&&a.issues.push(...Kx(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function l0(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=wE(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function i0(e,a,s,l,c,d){const m=[],h=c.keySet,g=c.catchall._zod,p=g.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const x=g.run({value:a[v],issues:[]},l);x instanceof Promise?e.push(x.then(w=>Uc(w,s,v,a))):Uc(x,s,v,a)}return m.length&&s.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const iC=xe("$ZodObject",(e,a)=>{if(un.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const g={...h};return Object.defineProperty(a,"shape",{value:g}),g}})}const l=Pm(()=>l0(a));Mt(e._zod,"propValues",()=>{const h=a.shape,g={};for(const p in h){const v=h[p]._zod;if(v.values){g[p]??(g[p]=new Set);for(const x of v.values)g[p].add(x)}}return g});const c=kc,d=a.catchall;let m;e._zod.parse=(h,g)=>{m??(m=l.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],x=m.shape;for(const w of m.keys){const _=x[w]._zod.run({value:p[w],issues:[]},g);_ instanceof Promise?v.push(_.then(j=>Uc(j,h,w,p))):Uc(_,h,w,p)}return d?i0(v,p,h,g,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),oC=xe("$ZodObjectJIT",(e,a)=>{iC.init(e,a);const s=e._zod.parse,l=Pm(()=>l0(a)),c=w=>{const q=new RA(["shape","payload","ctx"]),_=l.value,j=W=>{const M=Lb(W);return`shape[${M}]._zod.run({ value: input[${M}], issues: [] }, ctx)`};q.write("const input = payload.value;");const A=Object.create(null);let B=0;for(const W of _.keys)A[W]=`key_${B++}`;q.write("const newResult = {};");for(const W of _.keys){const M=A[W],O=Lb(W);q.write(`const ${M} = ${j(W)};`),q.write(`
        if (${M}.issues.length) {
          payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${M}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${M}.value;
        }
        
      `)}q.write("payload.value = newResult;"),q.write("return payload;");const R=q.compile();return(W,M)=>R(w,W,M)};let d;const m=kc,h=!Qx.jitless,p=h&&SE.value,v=a.catchall;let x;e._zod.parse=(w,q)=>{x??(x=l.value);const _=w.value;return m(_)?h&&p&&q?.async===!1&&q.jitless!==!0?(d||(d=c(a.shape)),w=d(w,q),v?i0([],_,w,q,x,e):w):s(w,q):(w.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),w)}});function Ib(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!pl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(m=>jr(m,l,_r())))}),a)}const cC=xe("$ZodUnion",(e,a)=>{un.init(e,a),Mt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Mt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Mt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Mt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>Km(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return l(c,d);let m=!1;const h=[];for(const g of a.options){const p=g._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(g=>Ib(g,c,e,d)):Ib(h,c,e,d)}}),uC=xe("$ZodIntersection",(e,a)=>{un.init(e,a),e._zod.parse=(s,l)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},l),m=a.right._zod.run({value:c,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([g,p])=>Fb(s,g,p)):Fb(s,d,m)}});function ym(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(qi(e)&&qi(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of l){const m=ym(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};c[d]=m.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const c=e[l],d=a[l],m=ym(c,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};s.push(m.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Fb(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),pl(e))return e;const l=ym(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const dC=xe("$ZodEnum",(e,a)=>{un.init(e,a);const s=vE(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(c=>NE.has(typeof c)).map(c=>typeof c=="string"?Jc(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const m=c.value;return l.has(m)||c.issues.push({code:"invalid_value",values:s,input:m,inst:e}),c}}),fC=xe("$ZodTransform",(e,a)=>{un.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Gx(e.constructor.name);const c=a.transform(s.value,s);if(l.async)return(c instanceof Promise?c:Promise.resolve(c)).then(m=>(s.value=m,s));if(c instanceof Promise)throw new yl;return s.value=c,s}});function $b(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const mC=xe("$ZodOptional",(e,a)=>{un.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Km(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>$b(d,s.value)):$b(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),hC=xe("$ZodNullable",(e,a)=>{un.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Km(s.source)}|null)$`):void 0}),Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),pC=xe("$ZodDefault",(e,a)=>{un.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Hb(d,a)):Hb(c,a)}});function Hb(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const gC=xe("$ZodPrefault",(e,a)=>{un.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),yC=xe("$ZodNonOptional",(e,a)=>{un.init(e,a),Mt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Vb(d,e)):Vb(c,e)}});function Vb(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const bC=xe("$ZodCatch",(e,a)=>{un.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(m=>jr(m,l,_r()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>jr(d,l,_r()))},input:s.value}),s.issues=[]),s)}}),vC=xe("$ZodPipe",(e,a)=>{un.init(e,a),Mt(e._zod,"values",()=>a.in._zod.values),Mt(e._zod,"optin",()=>a.in._zod.optin),Mt(e._zod,"optout",()=>a.out._zod.optout),Mt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(m=>pc(m,a.in,l)):pc(d,a.in,l)}const c=a.in._zod.run(s,l);return c instanceof Promise?c.then(d=>pc(d,a.out,l)):pc(c,a.out,l)}});function pc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const xC=xe("$ZodReadonly",(e,a)=>{un.init(e,a),Mt(e._zod,"propValues",()=>a.innerType._zod.propValues),Mt(e._zod,"values",()=>a.innerType._zod.values),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(Zb):Zb(c)}});function Zb(e){return e.value=Object.freeze(e.value),e}const SC=xe("$ZodCustom",(e,a)=>{na.init(e,a),un.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,c=a.fn(l);if(c instanceof Promise)return c.then(d=>Gb(d,s,l,e));Gb(c,s,l,e)}});function Gb(e,a,s,l){if(!e){const c={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(c.params=l._zod.def.params),a.issues.push(Ii(c))}}class NC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const c={...l,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function wC(){return new NC}const gc=wC();function _C(e,a){return new e({type:"string",...Qe(a)})}function jC(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Qe(a)})}function Qb(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Qe(a)})}function EC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Qe(a)})}function AC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Qe(a)})}function CC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Qe(a)})}function OC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Qe(a)})}function RC(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Qe(a)})}function TC(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Qe(a)})}function DC(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Qe(a)})}function zC(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Qe(a)})}function MC(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Qe(a)})}function kC(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Qe(a)})}function UC(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Qe(a)})}function LC(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Qe(a)})}function BC(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Qe(a)})}function qC(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Qe(a)})}function IC(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Qe(a)})}function FC(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Qe(a)})}function $C(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Qe(a)})}function HC(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Qe(a)})}function VC(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Qe(a)})}function ZC(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Qe(a)})}function GC(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Qe(a)})}function QC(e,a){return new e({type:"string",format:"date",check:"string_format",...Qe(a)})}function PC(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...Qe(a)})}function YC(e,a){return new e({type:"string",format:"duration",check:"string_format",...Qe(a)})}function KC(e,a){return new e({type:"number",checks:[],...Qe(a)})}function XC(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Qe(a)})}function JC(e){return new e({type:"unknown"})}function WC(e,a){return new e({type:"never",...Qe(a)})}function Pb(e,a){return new n0({check:"less_than",...Qe(a),value:e,inclusive:!1})}function kf(e,a){return new n0({check:"less_than",...Qe(a),value:e,inclusive:!0})}function Yb(e,a){return new a0({check:"greater_than",...Qe(a),value:e,inclusive:!1})}function Uf(e,a){return new a0({check:"greater_than",...Qe(a),value:e,inclusive:!0})}function Kb(e,a){return new bA({check:"multiple_of",...Qe(a),value:e})}function o0(e,a){return new xA({check:"max_length",...Qe(a),maximum:e})}function Lc(e,a){return new SA({check:"min_length",...Qe(a),minimum:e})}function c0(e,a){return new NA({check:"length_equals",...Qe(a),length:e})}function eO(e,a){return new wA({check:"string_format",format:"regex",...Qe(a),pattern:e})}function tO(e){return new _A({check:"string_format",format:"lowercase",...Qe(e)})}function nO(e){return new jA({check:"string_format",format:"uppercase",...Qe(e)})}function aO(e,a){return new EA({check:"string_format",format:"includes",...Qe(a),includes:e})}function sO(e,a){return new AA({check:"string_format",format:"starts_with",...Qe(a),prefix:e})}function rO(e,a){return new CA({check:"string_format",format:"ends_with",...Qe(a),suffix:e})}function Xi(e){return new OA({check:"overwrite",tx:e})}function lO(e){return Xi(a=>a.normalize(e))}function iO(){return Xi(e=>e.trim())}function oO(){return Xi(e=>e.toLowerCase())}function cO(){return Xi(e=>e.toUpperCase())}function uO(e,a,s){return new e({type:"array",element:a,...Qe(s)})}function dO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...Qe(s)})}function fO(e){const a=mO(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push(Ii(l,s.value,a._zod.def));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(Ii(c))}},e(s.value,s)));return a}function mO(e,a){const s=new na({check:"custom",...Qe(a)});return s._zod.check=e,s}function Xb(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function hO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),a){var g=s[m].types,p=g&&g[l.code];s[m]=Bm(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function pO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(x){return e.push(x)})}),a){var g=s[m].types,p=g&&g[l.code];s[m]=Bm(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function gO(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,c,d){try{return Promise.resolve(Xb(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&pm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:Mb(hO(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,c,d){try{return Promise.resolve(Xb(function(){return Promise.resolve((s.mode==="sync"?ME:kE)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&pm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof Jm})(m))return{values:{},errors:Mb(pO(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const yO=xe("ZodISODateTime",(e,a)=>{HA.init(e,a),Zt.init(e,a)});function bO(e){return GC(yO,e)}const vO=xe("ZodISODate",(e,a)=>{VA.init(e,a),Zt.init(e,a)});function xO(e){return QC(vO,e)}const SO=xe("ZodISOTime",(e,a)=>{ZA.init(e,a),Zt.init(e,a)});function NO(e){return PC(SO,e)}const wO=xe("ZodISODuration",(e,a)=>{GA.init(e,a),Zt.init(e,a)});function _O(e){return YC(wO,e)}const jO=(e,a)=>{Jm.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>zE(e,s)},flatten:{value:s=>DE(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,gm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,gm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Aa=xe("ZodError",jO,{Parent:Error}),EO=eu(Aa),AO=tu(Aa),CO=nu(Aa),OO=au(Aa),RO=BE(Aa),TO=qE(Aa),DO=IE(Aa),zO=FE(Aa),MO=$E(Aa),kO=HE(Aa),UO=VE(Aa),LO=ZE(Aa),pn=xe("ZodType",(e,a)=>(un.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Or(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Gs(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>EO(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>CO(e,s,l),e.parseAsync=async(s,l)=>AO(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>OO(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>RO(e,s,l),e.decode=(s,l)=>TO(e,s,l),e.encodeAsync=async(s,l)=>DO(e,s,l),e.decodeAsync=async(s,l)=>zO(e,s,l),e.safeEncode=(s,l)=>MO(e,s,l),e.safeDecode=(s,l)=>kO(e,s,l),e.safeEncodeAsync=async(s,l)=>UO(e,s,l),e.safeDecodeAsync=async(s,l)=>LO(e,s,l),e.refine=(s,l)=>e.check(ER(s,l)),e.superRefine=s=>e.check(AR(s)),e.overwrite=s=>e.check(Xi(s)),e.optional=()=>tv(e),e.nullable=()=>nv(e),e.nullish=()=>tv(nv(e)),e.nonoptional=s=>vR(e,s),e.array=()=>f0(e),e.or=s=>cR([e,s]),e.and=s=>dR(e,s),e.transform=s=>av(e,mR(s)),e.default=s=>gR(e,s),e.prefault=s=>bR(e,s),e.catch=s=>SR(e,s),e.pipe=s=>av(e,s),e.readonly=()=>_R(e),e.describe=s=>{const l=e.clone();return gc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return gc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return gc.get(e);const l=e.clone();return gc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),u0=xe("_ZodString",(e,a)=>{Wm.init(e,a),pn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(eO(...l)),e.includes=(...l)=>e.check(aO(...l)),e.startsWith=(...l)=>e.check(sO(...l)),e.endsWith=(...l)=>e.check(rO(...l)),e.min=(...l)=>e.check(Lc(...l)),e.max=(...l)=>e.check(o0(...l)),e.length=(...l)=>e.check(c0(...l)),e.nonempty=(...l)=>e.check(Lc(1,...l)),e.lowercase=l=>e.check(tO(l)),e.uppercase=l=>e.check(nO(l)),e.trim=()=>e.check(iO()),e.normalize=(...l)=>e.check(lO(...l)),e.toLowerCase=()=>e.check(oO()),e.toUpperCase=()=>e.check(cO())}),BO=xe("ZodString",(e,a)=>{Wm.init(e,a),u0.init(e,a),e.email=s=>e.check(jC(qO,s)),e.url=s=>e.check(RC(IO,s)),e.jwt=s=>e.check(ZC(tR,s)),e.emoji=s=>e.check(TC(FO,s)),e.guid=s=>e.check(Qb(Jb,s)),e.uuid=s=>e.check(EC(yc,s)),e.uuidv4=s=>e.check(AC(yc,s)),e.uuidv6=s=>e.check(CC(yc,s)),e.uuidv7=s=>e.check(OC(yc,s)),e.nanoid=s=>e.check(DC($O,s)),e.guid=s=>e.check(Qb(Jb,s)),e.cuid=s=>e.check(zC(HO,s)),e.cuid2=s=>e.check(MC(VO,s)),e.ulid=s=>e.check(kC(ZO,s)),e.base64=s=>e.check($C(JO,s)),e.base64url=s=>e.check(HC(WO,s)),e.xid=s=>e.check(UC(GO,s)),e.ksuid=s=>e.check(LC(QO,s)),e.ipv4=s=>e.check(BC(PO,s)),e.ipv6=s=>e.check(qC(YO,s)),e.cidrv4=s=>e.check(IC(KO,s)),e.cidrv6=s=>e.check(FC(XO,s)),e.e164=s=>e.check(VC(eR,s)),e.datetime=s=>e.check(bO(s)),e.date=s=>e.check(xO(s)),e.time=s=>e.check(NO(s)),e.duration=s=>e.check(_O(s))});function Bc(e){return _C(BO,e)}const Zt=xe("ZodStringFormat",(e,a)=>{Ht.init(e,a),u0.init(e,a)}),qO=xe("ZodEmail",(e,a)=>{MA.init(e,a),Zt.init(e,a)}),Jb=xe("ZodGUID",(e,a)=>{DA.init(e,a),Zt.init(e,a)}),yc=xe("ZodUUID",(e,a)=>{zA.init(e,a),Zt.init(e,a)}),IO=xe("ZodURL",(e,a)=>{kA.init(e,a),Zt.init(e,a)}),FO=xe("ZodEmoji",(e,a)=>{UA.init(e,a),Zt.init(e,a)}),$O=xe("ZodNanoID",(e,a)=>{LA.init(e,a),Zt.init(e,a)}),HO=xe("ZodCUID",(e,a)=>{BA.init(e,a),Zt.init(e,a)}),VO=xe("ZodCUID2",(e,a)=>{qA.init(e,a),Zt.init(e,a)}),ZO=xe("ZodULID",(e,a)=>{IA.init(e,a),Zt.init(e,a)}),GO=xe("ZodXID",(e,a)=>{FA.init(e,a),Zt.init(e,a)}),QO=xe("ZodKSUID",(e,a)=>{$A.init(e,a),Zt.init(e,a)}),PO=xe("ZodIPv4",(e,a)=>{QA.init(e,a),Zt.init(e,a)}),YO=xe("ZodIPv6",(e,a)=>{PA.init(e,a),Zt.init(e,a)}),KO=xe("ZodCIDRv4",(e,a)=>{YA.init(e,a),Zt.init(e,a)}),XO=xe("ZodCIDRv6",(e,a)=>{KA.init(e,a),Zt.init(e,a)}),JO=xe("ZodBase64",(e,a)=>{XA.init(e,a),Zt.init(e,a)}),WO=xe("ZodBase64URL",(e,a)=>{WA.init(e,a),Zt.init(e,a)}),eR=xe("ZodE164",(e,a)=>{eC.init(e,a),Zt.init(e,a)}),tR=xe("ZodJWT",(e,a)=>{nC.init(e,a),Zt.init(e,a)}),d0=xe("ZodNumber",(e,a)=>{r0.init(e,a),pn.init(e,a),e.gt=(l,c)=>e.check(Yb(l,c)),e.gte=(l,c)=>e.check(Uf(l,c)),e.min=(l,c)=>e.check(Uf(l,c)),e.lt=(l,c)=>e.check(Pb(l,c)),e.lte=(l,c)=>e.check(kf(l,c)),e.max=(l,c)=>e.check(kf(l,c)),e.int=l=>e.check(Wb(l)),e.safe=l=>e.check(Wb(l)),e.positive=l=>e.check(Yb(0,l)),e.nonnegative=l=>e.check(Uf(0,l)),e.negative=l=>e.check(Pb(0,l)),e.nonpositive=l=>e.check(kf(0,l)),e.multipleOf=(l,c)=>e.check(Kb(l,c)),e.step=(l,c)=>e.check(Kb(l,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function Bn(e){return KC(d0,e)}const nR=xe("ZodNumberFormat",(e,a)=>{aC.init(e,a),d0.init(e,a)});function Wb(e){return XC(nR,e)}const aR=xe("ZodUnknown",(e,a)=>{sC.init(e,a),pn.init(e,a)});function ev(){return JC(aR)}const sR=xe("ZodNever",(e,a)=>{rC.init(e,a),pn.init(e,a)});function rR(e){return WC(sR,e)}const lR=xe("ZodArray",(e,a)=>{lC.init(e,a),pn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(Lc(s,l)),e.nonempty=s=>e.check(Lc(1,s)),e.max=(s,l)=>e.check(o0(s,l)),e.length=(s,l)=>e.check(c0(s,l)),e.unwrap=()=>e.element});function f0(e,a){return uO(lR,e,a)}const iR=xe("ZodObject",(e,a)=>{oC.init(e,a),pn.init(e,a),Mt(e,"shape",()=>a.shape),e.keyof=()=>m0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ev()}),e.loose=()=>e.clone({...e._zod.def,catchall:ev()}),e.strict=()=>e.clone({...e._zod.def,catchall:rR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>AE(e,s),e.safeExtend=s=>CE(e,s),e.merge=s=>OE(e,s),e.pick=s=>jE(e,s),e.omit=s=>EE(e,s),e.partial=(...s)=>RE(h0,e,s[0]),e.required=(...s)=>TE(p0,e,s[0])});function ru(e,a){const s={type:"object",shape:e??{},...Qe(a)};return new iR(s)}const oR=xe("ZodUnion",(e,a)=>{cC.init(e,a),pn.init(e,a),e.options=a.options});function cR(e,a){return new oR({type:"union",options:e,...Qe(a)})}const uR=xe("ZodIntersection",(e,a)=>{uC.init(e,a),pn.init(e,a)});function dR(e,a){return new uR({type:"intersection",left:e,right:a})}const bm=xe("ZodEnum",(e,a)=>{dC.init(e,a),pn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,c)=>{const d={};for(const m of l)if(s.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new bm({...a,checks:[],...Qe(c),entries:d})},e.exclude=(l,c)=>{const d={...a.entries};for(const m of l)if(s.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new bm({...a,checks:[],...Qe(c),entries:d})}});function m0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new bm({type:"enum",entries:s,...Qe(a)})}const fR=xe("ZodTransform",(e,a)=>{fC.init(e,a),pn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Gx(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(Ii(d,s.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=s.value),m.inst??(m.inst=e),s.issues.push(Ii(m))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function mR(e){return new fR({type:"transform",transform:e})}const h0=xe("ZodOptional",(e,a)=>{mC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function tv(e){return new h0({type:"optional",innerType:e})}const hR=xe("ZodNullable",(e,a)=>{hC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function nv(e){return new hR({type:"nullable",innerType:e})}const pR=xe("ZodDefault",(e,a)=>{pC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function gR(e,a){return new pR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():Yx(a)}})}const yR=xe("ZodPrefault",(e,a)=>{gC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function bR(e,a){return new yR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():Yx(a)}})}const p0=xe("ZodNonOptional",(e,a)=>{yC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function vR(e,a){return new p0({type:"nonoptional",innerType:e,...Qe(a)})}const xR=xe("ZodCatch",(e,a)=>{bC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function SR(e,a){return new xR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const NR=xe("ZodPipe",(e,a)=>{vC.init(e,a),pn.init(e,a),e.in=a.in,e.out=a.out});function av(e,a){return new NR({type:"pipe",in:e,out:a})}const wR=xe("ZodReadonly",(e,a)=>{xC.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function _R(e){return new wR({type:"readonly",innerType:e})}const jR=xe("ZodCustom",(e,a)=>{SC.init(e,a),pn.init(e,a)});function ER(e,a={}){return dO(jR,e,a)}function AR(e){return fO(e)}const CR=["correlativo","no correlativo"],OR=ru({oi:Bc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:Bn(),alcance:Bn(),pma:Bn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:m0(CR).default("correlativo")}),Lf=ru({c1:Bn().optional().nullable(),c2:Bn().optional().nullable(),c3:Bn().optional().nullable(),c4:Bn().optional().nullable(),c5:Bn().optional().nullable(),c6:Bn().optional().nullable(),c7:Bc().optional().nullable(),c7_seconds:Bn().optional().nullable(),caudal:Bn().optional().nullable(),error:Bn().optional().nullable()}),RR=ru({medidor:Bc().optional(),estado:Bn().int().min(0).max(5).default(0),q3:Lf.optional(),q2:Lf.optional(),q1:Lf.optional(),conformidad:Bc().optional()});ru({estado:Bn().int().min(0).optional(),rows:Bn().int().min(1).default(15),rowsData:f0(RR)});function TR(e){return e===16?25.6:e===10?16:NaN}const DR=/^[A-Za-z0-9]{10}$/,zR=e=>(e??"").trim().toUpperCase(),Kt=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},ul=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],vm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},sv=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}vm(a)}},Sn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function MR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],c=s[2],d=parseInt(c,10)+a;return`${l}${d.toString().padStart(c.length,"0")}`}function rv(e,a,s){return e?s==="no correlativo"?e.slice(0,4):MR(e,a):""}function Bf(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let l=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,m=s[2]||0;l=c*60+d+m/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),m=(c-d)*100;l=d*60+m}}return l}function qf(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function If(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function kR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const c=Math.abs(a),d=Math.abs(s),m=Math.abs(l),h=!(c>2.05||d>2.05||m>5.05),g=c<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(s),x=Math.sign(l),w=p>=0&&v>=0&&x>=0||p<=0&&v<=0&&x<=0,q=h&&g;return w?q?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const dl=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const c=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=s??l??0,h=l??s??0;let g="vi-e-ok";return e==null||isNaN(e)?g="":h>0&&d>h?g="vi-e-error":m>0&&d>m&&(g="vi-e-warn"),o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:`vi-qe-value fw-bold ${g}`,children:c(e)})})};function UR({show:e,title:a,initial:s,onClose:l,onSubmit:c,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:g,readOnly:p,draftStorageKey:v,draftMeta:x,isOnline:w,showRetry:q}){const _={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},j=p===!0,A=w!==!1,{register:B,control:R,handleSubmit:W,reset:M,setValue:O,getValues:V}=Vc({defaultValues:_}),U=B("rows",{valueAsNumber:!0}),{fields:K,replace:oe,append:Ne,remove:ve}=uj({control:R,name:"rowsData"}),[fe,Se]=b.useState(0),Oe=b.useRef(0),Ae=b.useRef(null),[z,F]=b.useState(0),ee=0,P=5,le=()=>{if(z>=P){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}F(Y=>Math.min(Y+1,P))},N=()=>{if(z<=ee){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}F(Y=>Math.max(Y-1,ee))},I=b.useRef(null),[ce,k]=b.useState([]),de=!!s?.version,ye=b.useRef("rows"),Re=b.useRef(null),Ue=b.useRef(null),me=b.useRef(null),De=b.useRef(new Map),qe=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{s?.rowsData?.length&&K.forEach((Y,ne)=>{if(ne===0)return;s.rowsData[ne]?.medidor&&De.current.set(Y.id,!0)})},[s,K]);const Ye=b.useCallback(Y=>{const ne=Y<0?0:Y;Se(ne),requestAnimationFrame(()=>{const _e=document.querySelector(`input.vi-medidor-input[data-row="${ne}"]`);_e&&(_e.focus(),_e.select())})},[]),ut=()=>(V("rowsData")??[]).slice(0,K.length);b.useEffect(()=>{Oe.current=fe},[fe]);const Te=Y=>{const ne=Y.target;if(!ne)return;const _e=ne.tagName;if(_e!=="INPUT"&&_e!=="SELECT"&&_e!=="TEXTAREA")return;const Be=Y.key;if(Be==="Escape"){Y.preventDefault(),Fn();return}if(Be==="ArrowUp"||Be==="ArrowDown"||Be==="ArrowLeft"||Be==="ArrowRight"||Be==="Enter"){const gn=ne.name;if(!gn||!gn.startsWith("rowsData."))return;const jt=gn.match(/^rowsData\.(\d+)\.(.+)$/);if(!jt)return;const ot=parseInt(jt[1],10),yt=jt[2],kt=Y.currentTarget,dn=K.length-1,wn=(yn,fn)=>{let qt=yn+fn;for(;qt>=0&&qt<=dn;){const Un=`[name="rowsData.${qt}.${yt}"]`,tn=kt.querySelector(Un);if(tn&&!tn.disabled)return{index:qt,el:tn};qt+=fn}return null};if(Be==="ArrowUp"||Be==="ArrowDown"){Y.preventDefault();const fn=wn(ot,Be==="ArrowUp"?-1:1);fn&&sv(yt,fn.el);return}if(Be==="ArrowLeft"||Be==="ArrowRight"){Y.preventDefault();const yn=ul.indexOf(yt);if(yn===-1)return;const qt=yn+(Be==="ArrowRight"?1:-1);if(qt<0||qt>=ul.length)return;const Un=ul[qt],tn=`[name="rowsData.${ot}.${Un}"]`,bn=kt.querySelector(tn);bn&&!bn.disabled&&vm(bn);return}if(Be==="Enter"){Y.preventDefault();const yn=ul.indexOf(yt);if(yn===-1)return;const fn=wn(ot,1);if(fn){sv(yt,fn.el);return}const qt=yn+1;if(qt<ul.length){const Un=ul[qt];for(let tn=0;tn<=dn;tn++){const bn=`[name="rowsData.${tn}.${Un}"]`,Hn=kt.querySelector(bn);if(Hn&&!Hn.disabled){vm(Hn);return}}}I.current&&I.current.focus();return}}if(Be!=="Tab")return;const Je=Y.currentTarget,it=Array.from(Je.querySelectorAll("input, select, textarea")).filter(Rt=>!Rt.hasAttribute("disabled")),Ze=it.indexOf(ne);if(Ze===-1)return;if(Be==="Tab"&&Y.shiftKey){Ze>0&&(Y.preventDefault(),it[Ze-1].focus());return}const zt=Ze+1;if(zt<it.length){Y.preventDefault(),it[zt].focus();return}I.current&&(Y.preventDefault(),I.current.focus())},He=(Y,ne)=>{oe(Y),O("rows",Y.length),Se(_e=>Y.length===0?0:typeof ne=="number"?Math.max(0,Math.min(ne,Y.length-1)):Math.min(_e,Y.length-1))},ge=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Fe=Y=>Y==null?"":typeof Y=="number"?Y:typeof Y=="string"?Y.replace(",","."):Y,je=Y=>{if(!Y)return{};const ne={...Y};return["c1","c2","c3","c4","c5","c6"].forEach(_e=>{ne[_e]=Fe(ne[_e])}),ne},Ke=()=>{const Y=s?.rowsData?.length??s?.rows??15,ne=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:Y}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(_e=>({medidor:_e.medidor??"",estado:_e.estado??0,q3:je(_e.q3),q2:je(_e.q2),q1:je(_e.q1)}));return{rows:ne.length,rowsData:ne,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},C=b.useCallback(()=>{const Y=V(),ne=Y.rowsData??[];return{estado:Y.estado??0,rows:Number(Y.rows??ne.length),version:Y.version??s?.version??null,rowsData:ne,draftCreatedAt:Y.draftCreatedAt??s?.draftCreatedAt??null,draftId:Y.draftId??s?.draftId??null}},[V,s?.version,s?.draftCreatedAt,s?.draftId]),Z=Y=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:Y}:null,T=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,Q=Y=>Y==null||Y===""||typeof Y=="number"&&Number.isNaN(Y),G=Y=>Y?Number(Y.estado??0)!==0||Y.medidor&&Y.medidor.toString().trim()!==""?!0:Ce(Y):!1,re=Y=>(Y.rowsData??[]).some(_e=>G(_e)),Ce=Y=>{const ne=[Y.q3,Y.q2,Y.q1];for(const _e of ne)if(_e){for(const Be of qe)if(!Q(_e[Be]))return!0}return!1},Me=Y=>Y?{...Y,c4:null,c5:null}:{c4:null,c5:null},ae=Y=>{if(!Y)return Y;const ne={...Y};return Q(ne.c4)&&(ne.c4=null),Q(ne.c5)&&(ne.c5=null),ne},ze=Y=>{for(let ne=0;ne<Y.length;ne++){const _e=Y[ne],Be=Number(_e.estado??0),Je=Be!==0;if(!G(_e))continue;if(!_e.medidor||_e.medidor.toString().trim()==="")return`La fila ${ne+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Ze=[{name:"Q3 (Nominal)",block:_e.q3},{name:"Q2 (Transicin)",block:_e.q2},{name:"Q1 (Mnimo)",block:_e.q1}],Qt=Ze.some(({block:zt})=>zt&&qe.some(Rt=>!Q(zt[Rt])));if(Be===0&&!Qt)return`La fila ${ne+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!Je)for(const{name:zt,block:Rt}of Ze){if(!Rt||!qe.some(ot=>!Q(Rt[ot])))continue;if(qe.some(ot=>Q(Rt[ot])))return`La fila ${ne+1} tiene datos incompletos en el bloque ${zt}. Completa todos los campos o elimina la fila.`}}return null},Ie=Y=>Y==null||Y===""?null:String(Y).replace(/\./g,","),lt=Y=>{if(!Y)return{};const ne={...Y};return["c1","c2","c3","c4","c5","c6","c7"].forEach(_e=>{ne[_e]=Ie(ne[_e])}),ne},Xt=Y=>{const ne=[];let _e=null;const Be=(it,Ze,Qt)=>{ne[it]||(ne[it]={}),ne[it][Ze]=Qt,_e||(_e=`Fila ${it+1}: ${Qt}`)},Je={};return Y.forEach(it=>{const Ze=(it.medidor??"").trim();Ze&&(Je[Ze]=(Je[Ze]??0)+1)}),Y.forEach((it,Ze)=>{const Qt=it.q3||{},zt=it.q2||{},Rt=it.q1||{},gn=Qt.c4,jt=Qt.c5,ot=zt.c4,yt=zt.c5,kt=Rt.c4,dn=Rt.c5;gn!=null&&jt!=null&&!Number.isNaN(gn)&&!Number.isNaN(jt)&&jt<gn&&Be(Ze,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),ot!=null&&yt!=null&&!Number.isNaN(ot)&&!Number.isNaN(yt)&&yt<ot&&Be(Ze,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),kt!=null&&dn!=null&&!Number.isNaN(kt)&&!Number.isNaN(dn)&&dn<kt&&Be(Ze,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),jt!=null&&ot!=null&&!Number.isNaN(jt)&&!Number.isNaN(ot)&&ot<jt&&Be(Ze,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),yt!=null&&kt!=null&&!Number.isNaN(yt)&&!Number.isNaN(kt)&&kt<yt&&Be(Ze,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const wn=(it.medidor??"").trim();wn&&Je[wn]>1&&Be(Ze,"medidor_dup","Serie de medidor repetida."),wn&&!DR.test(wn)&&Be(Ze,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:ne,firstMessage:_e}},we=Y=>{if(j)return;const ne=(Y.rowsData??[]).slice(0,K.length),_e=ze(ne);if(_e){alert(_e);return}const{rowErrors:Be,firstMessage:Je}=Xt(ne);if(k(Be),Je){alert(Je);return}const Ze=ne.filter(G).map(zt=>{const Rt=Number(zt.estado??0),gn=Rt>=1&&Rt<=4,jt=Rt===5&&!Ce(zt),ot=gn||jt,yt=ae(zt.q3),kt=ae(zt.q2),dn=ae(zt.q1),wn=yn=>{if(ot){const fn=Me(yn);return lt(fn)}return lt(yn)};return{...zt,q3:wn(yt),q2:wn(kt),q1:wn(dn)}}),Qt={...Y,rows:Ze.length,rowsData:Ze,version:Y.version??s?.version??null};c(Qt)},Xe=Ei({control:R,name:"rowsData.0"}),Gt=Ei({control:R,name:"rowsData"}),St=Ei({control:R,name:"rowsData.0.q3.c7"}),Nn=Ei({control:R,name:"rowsData.0.q2.c7"}),kn=Ei({control:R,name:"rowsData.0.q1.c7"});b.useEffect(()=>{K[0]&&(O("rowsData.0.q3.c7_seconds",Bf(St)),O("rowsData.0.q2.c7_seconds",Bf(Nn)),O("rowsData.0.q1.c7_seconds",Bf(kn)))},[St,Nn,kn,O,K]),b.useEffect(()=>{const Y=Gt??[],{rowErrors:ne}=Xt(Y);k(ne)},[Gt]),b.useEffect(()=>{if(!Xe||K.length<=1)return;const Y=Gt??[];K.forEach((ne,_e)=>{if(_e===0)return;const Be=ne.id;(De.current.get(Be)??!1)||O(`rowsData.${_e}.medidor`,rv(Xe.medidor||"",_e,m));const it=Y[_e]?.estado;(it==null||Number.isNaN(it))&&O(`rowsData.${_e}.estado`,Xe.estado),O(`rowsData.${_e}.q3.c1`,Xe.q3?.c1??null),O(`rowsData.${_e}.q3.c2`,Xe.q3?.c2??null),O(`rowsData.${_e}.q3.c3`,Xe.q3?.c3??null),O(`rowsData.${_e}.q3.c6`,Xe.q3?.c6??null),O(`rowsData.${_e}.q3.c7`,Xe.q3?.c7??""),O(`rowsData.${_e}.q3.c7_seconds`,Xe.q3?.c7_seconds??null),O(`rowsData.${_e}.q2.c1`,Xe.q2?.c1??null),O(`rowsData.${_e}.q2.c2`,Xe.q2?.c2??null),O(`rowsData.${_e}.q2.c3`,Xe.q2?.c3??null),O(`rowsData.${_e}.q2.c6`,Xe.q2?.c6??null),O(`rowsData.${_e}.q2.c7`,Xe.q2?.c7??""),O(`rowsData.${_e}.q2.c7_seconds`,Xe.q2?.c7_seconds??null),O(`rowsData.${_e}.q1.c1`,Xe.q1?.c1??null),O(`rowsData.${_e}.q1.c2`,Xe.q1?.c2??null),O(`rowsData.${_e}.q1.c3`,Xe.q1?.c3??null),O(`rowsData.${_e}.q1.c6`,Xe.q1?.c6??null),O(`rowsData.${_e}.q1.c7`,Xe.q1?.c7??""),O(`rowsData.${_e}.q1.c7_seconds`,Xe.q1?.c7_seconds??null)})},[Xe,Gt,K,O,m]),b.useEffect(()=>{Se(Y=>{const ne=Math.max(K.length-1,0);return Y>ne?ne:Y})},[K.length]);const Pa=()=>{if(K.length>=50){if(O("rows",50),Ye(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){Ae.current&&(Ae.current.focus(),Ae.current.select());return}return}Ne(ge()),O("rows",K.length+1),Ye(K.length)},aa=Y=>{if(K.length<=1)return;const ne=Math.max(0,Math.min(Y,K.length-1));ve(ne),O("rows",Math.max(K.length-1,1)),Ye(Math.max(0,ne-(ne===K.length-1?1:0)))},at=()=>{K.length<=1||(ve(K.length-1),O("rows",Math.max(K.length-1,1)),Ye(Math.max(0,K.length-2)))},Ca=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const Y=ut();if(!Y.length)return;const ne=Y.map(()=>ge());He(ne,0),Ye(0)},fa=()=>{let Y=Number(V("rows"));if((!Number.isFinite(Y)||Y<1)&&(Y=1),Y>50){const Be=ut();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){O("rows",Be.length),Ae.current&&(Ae.current.focus(),Ae.current.select());return}Y=50}const ne=ut();if(Y!==ne.length&&!confirm(`La lista tendr ${Y} filas. Quieres continuar?`)){O("rows",ne.length),Ae.current&&(Ae.current.focus(),Ae.current.select());return}if(Y===ne.length){O("rows",Y);return}if(Y>ne.length){const Be=Math.min(Y,50)-ne.length;if(Be>0){const Je=Array.from({length:Be},()=>ge()),it=[...ne,...Je];He(it,fe),Ye(ne.length)}else O("rows",ne.length);return}const _e=ne.slice(0,Y);He(_e,Math.min(fe,Y-1))},Oa=Y=>{Y.key==="Enter"&&(Y.preventDefault(),fa(),Ye(0))},Fn=()=>{const Y=V(),ne=document.activeElement;if(Ae.current&&ne===Ae.current)ye.current="rows",Re.current="rows";else if(ne&&ne instanceof HTMLElement){const _e=ne.getAttribute("name");_e&&_e.startsWith("rowsData.")?(ye.current="grid",Re.current=_e):(ye.current="grid",Re.current=null)}else ye.current="grid",Re.current=null;if(v){const _e=C();if(!re(_e))Hs(v),me.current=null;else{const Be=Z(_e);if(Be){const Je=JSON.stringify(Be);Di(v,Be,T()),me.current=Je}}}d&&d(Y),l()};b.useEffect(()=>{if(!e)return;const Y=ne=>{if(ne.key==="Escape"){ne.preventDefault(),Fn();return}if((ne.key==="+"||ne.key==="=")&&ne.ctrlKey){ne.preventDefault(),Pa();return}(ne.key==="-"||ne.key==="_")&&ne.ctrlKey&&(ne.preventDefault(),at())};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[e,Pa,at,Fn]),b.useEffect(()=>{const Y=Ke();M(Y),He(Y.rowsData,0),De.current.clear(),requestAnimationFrame(()=>{if(de)Ye(0);else if(Re.current){const ne=document.querySelector(`[name="${Re.current}"]`);if(ne){ne.focus(),"select"in ne&&ne.select?.();return}Ye(Oe.current||0)}else Ae.current&&(Ae.current.focus(),Ae.current.select())})},[s,M,oe,Ye,de]),b.useEffect(()=>{if(!e||!v)return;const Y=C();if(!re(Y)){Hs(v),me.current=null;return}const ne=Z(Y);if(!ne)return;const _e=JSON.stringify(ne);if(_e!==me.current)return Ue.current&&window.clearTimeout(Ue.current),Ue.current=window.setTimeout(()=>{Di(v,ne,T()),me.current=_e},400),()=>{Ue.current&&window.clearTimeout(Ue.current)}},[e,v,Gt,C]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(de)Ye(0);else if(Re.current){const Y=document.querySelector(`[name="${Re.current}"]`);if(Y){Y.focus(),"select"in Y&&Y.select?.();return}Ye(Oe.current||0)}else Ae.current&&(Ae.current.focus(),Ae.current.select())})},[e,Ye,de]);const $n=ce.some(Y=>Y&&Object.values(Y).some(Boolean));return e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:Y=>{Y.target===Y.currentTarget&&Fn()},children:[o.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),o.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:o.jsx("div",{className:"modal-content",children:o.jsxs("form",{onSubmit:W(we),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close",onClick:Fn,"aria-label":"Close"})]}),o.jsx("fieldset",{disabled:j,children:o.jsxs("div",{className:"modal-body p-2",children:[!A&&o.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),o.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[o.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[o.jsx("label",{className:"form-label mb-1",children:"Filas"}),o.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...U,ref:Y=>{Ae.current=Y,U.ref(Y)},onBlur:fa,onKeyDown:Oa})]}),o.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Pa,children:"+ Agregar Fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:at,children:"- Quitar ltima fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ca,children:"Limpiar Todo"})]}),o.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:le,children:"Aumentar tamao"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:N,children:"Reducir tamao"})]}),o.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",fe+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),o.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:o.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${z}`,children:[o.jsxs("thead",{className:"table-light sticky-top z-1",children:[o.jsxs("tr",{children:[o.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),o.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),o.jsx("th",{style:{width:"90px"},children:"Estado"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),o.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),o.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),o.jsxs("tr",{style:{fontSize:"0.75rem"},children:[o.jsx("th",{className:"vi-row-index"}),o.jsx("th",{className:"vi-sticky-medidor"}),o.jsx("th",{}),o.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),o.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),o.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),o.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),o.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),o.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),o.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),o.jsx("th",{className:"vi-header-quitar"})]})]}),o.jsx("tbody",{onKeyDown:Te,children:K.map((Y,ne)=>{const _e=ne===0,Be=Gt?.[ne]||{},Je=ce[ne]||{},it=Number(Be.estado??0),Ze=it>=1&&it<=4,Qt=Be.q3?.c6,zt=Be.q3?.c7_seconds,Rt=Be.q3?.c4,gn=Be.q3?.c5,jt=qf(Qt,zt),ot=If(Rt,gn,Qt),yt=Be.q2?.c6,kt=Be.q2?.c7_seconds,dn=Be.q2?.c4,wn=Be.q2?.c5,yn=qf(yt,kt),fn=If(dn,wn,yt),qt=Be.q1?.c6,Un=Be.q1?.c7_seconds,tn=Be.q1?.c4,bn=Be.q1?.c5,Hn=qf(qt,Un),Tn=If(tn,bn,qt),Tt=kR(Be.estado,ot,fn,Tn),Rr=[_e?"vi-base-row":"",fe===ne?"table-active":""].filter(Boolean).join(" "),Ra=B(`rowsData.${ne}.medidor`),_n=zR(Be.medidor??""),Vn=_n?h?.[_n]?.message:"",Ya=Je.medidor_format||Je.medidor_dup||Vn||"",Tr=!!Ya,Ka=(Tt||"").toUpperCase(),Qs=Ka==="NO CONFORME"?"vi-at-valor--fail":Ka==="CONFORME"?"vi-at-valor--ok":"";return o.jsxs("tr",{className:Rr,onMouseEnter:()=>Se(ne),onClick:()=>Se(ne),onFocusCapture:()=>Se(ne),children:[o.jsx("td",{className:"small vi-row-index",children:ne+1}),o.jsx("td",{className:"vi-sticky-medidor",children:o.jsx("input",{"data-row":ne,"data-row-id":Y.id,...Ra,size:1,style:{minWidth:"100%"},disabled:Ze,onInput:Kt,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Tr?"vi-error-cell":""].filter(Boolean).join(" "),title:Ya||"",onChange:nn=>{const Ta=V(`rowsData.${ne}.medidor`);if(Ra.onChange(nn),g?.(Ta),ne===0)return;const Zn=nn.currentTarget.value.trim();if(!Zn){De.current.delete(Y.id);return}const an=rv(Xe?.medidor??"",ne,m);an&&an===Zn?De.current.delete(Y.id):De.current.set(Y.id,!0)}})}),o.jsx("td",{children:o.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...B(`rowsData.${ne}.estado`,{valueAsNumber:!0}),children:[o.jsx("option",{value:0,children:"0"}),o.jsx("option",{value:1,children:"1"}),o.jsx("option",{value:2,children:"2"}),o.jsx("option",{value:3,children:"3"}),o.jsx("option",{value:4,children:"4"}),o.jsx("option",{value:5,children:"5"})]})}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q3.c1`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q3.c2`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q3.c3`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ze,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q3_li?" vi-error-cell":""),title:Je.q3_li||"",...B(`rowsData.${ne}.q3.c4`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ze,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q3_lf?" vi-error-cell":""),title:Je.q3_lf||"",...B(`rowsData.${ne}.q3.c5`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q3.c6`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q3.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:jt}),o.jsx(dl,{val:ot,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q2.c1`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q2.c2`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q2.c3`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ze,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q2_li?" vi-error-cell":""),title:Je.q2_li||"",...B(`rowsData.${ne}.q2.c4`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ze,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q2_lf?" vi-error-cell":""),title:Je.q2_lf||"",...B(`rowsData.${ne}.q2.c5`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q2.c6`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q2.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:yn}),o.jsx(dl,{val:fn,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q1.c1`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q1.c2`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q1.c3`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Ze,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q1_li?" vi-error-cell":""),title:Je.q1_li||"",...B(`rowsData.${ne}.q1.c4`,{setValueAs:Sn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ze,onInput:Kt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q1_lf?" vi-error-cell":""),title:Je.q1_lf||"",...B(`rowsData.${ne}.q1.c5`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q1.c6`,{setValueAs:Sn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Kt,disabled:!_e||Ze,...B(`rowsData.${ne}.q1.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:Hn}),o.jsx(dl,{val:Tn,isErr:!0,warnThreshold:5,failThreshold:5}),o.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${Qs}`,children:Tt}),o.jsx("td",{className:"text-center align-middle bg-light",children:o.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:nn=>{nn.stopPropagation(),aa(ne)},disabled:K.length<=1,title:"Eliminar esta fila",children:""})})]},Y.id)})})]})})]})}),o.jsxs("div",{className:"modal-footer py-1",children:[o.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Fn,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:I,disabled:$n||j,children:q&&A?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),o.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function lu({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[m,h]=b.useState(""),g=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>g.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const x=w=>{w.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const v=x=>{x.preventDefault(),p&&d(m.trim())};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:v,children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx(Bi,{label:"Contrasea",inputId:"pwd",value:m,onChange:x=>h(x.target.value),inputRef:g,minLength:1,required:!0}),o.jsx("div",{className:"form-text",children:l})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:c,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function LR(e,a){try{const{data:s}=await Ve.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function BR(e,a){try{const{data:s}=await Ve.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function qR(e){try{const{data:a}=await Ve.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function lv(e,a){try{const{data:s}=await Ve.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function IR(e,a){try{const{data:s}=await Ve.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function FR(e,a){try{const{data:s}=await Ve.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function $R(e,a){try{const{data:s}=await Ve.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function iv(e){try{await Ve.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function g0(e,a){let s;try{s=await Ve.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const w=await x.text();try{const _=JSON.parse(w)?.detail;typeof _=="string"?v=_:Array.isArray(_)&&_.length>0?v=_.map(j=>String(j?.msg??"")).filter(Boolean).join(", "):w&&(v=w)}catch{w&&(v=w)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=s.data,m=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),g=document.createElement("a");g.href=h,g.download=m,document.body.appendChild(g),g.click(),URL.revokeObjectURL(h),g.remove()}async function HR(e){await Ve.delete(`/oi/${e}`)}async function VR(e){try{const{data:a}=await Ve.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function bc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Ve.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function ZR(e,a){try{const{data:s}=await Ve.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(l);throw c.status=s?.response?.status,c}}async function Ff(e){try{const{data:a}=await Ve.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function GR(e){try{const{data:a}=await Ve.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function QR(e){let a;try{a=await Ve.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const g=m?.response?.data;if(g instanceof Blob)try{const v=await g.text();try{const w=JSON.parse(v)?.detail;typeof w=="string"?h=w:Array.isArray(w)&&w.length>0?h=w.map(q=>String(q?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function PR(){try{const{data:e}=await Ve.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function $f(e){try{const{data:a}=await Ve.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const eh="vi.currentOI";function zi(e){sessionStorage.setItem(eh,JSON.stringify(e))}function ov(){const e=sessionStorage.getItem(eh);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function xm(){sessionStorage.removeItem(eh)}const Hf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Vf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},YR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Hf(e.q3),q2:Hf(e.q2),q1:Hf(e.q1)}),KR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Vf(e.q3),q2:Vf(e.q2),q1:Vf(e.q1)}),y0=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),XR=e=>e.reduce((a,s)=>a+(s.rows??0),0),JR=e=>JSON.parse(JSON.stringify(e)),cv=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),uv=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:y0(e),WR=(e,a)=>e==="view"&&a?"view":"edit",dv=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}T${c(l.getHours())}:${c(l.getMinutes())}`},eT=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},b0=e=>(e??"").trim().toUpperCase(),tT=e=>{const a={};e.forEach(l=>{const c=b0(l.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),l.bancada_item!=null&&!a[c].items.includes(l.bancada_item)&&a[c].items.push(l.bancada_item),l.bancada_id!=null&&!a[c].ids.includes(l.bancada_id)&&a[c].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,g)=>h-g).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},nT="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",aT=(e,a=!0)=>{const l=b.useContext(ja)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const c=l.block(d=>{const m={...d,retry(){c(),d.retry()}};e(m)});return c},[l,e,a])},sT=e=>{const a=Ve.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},rT=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Zf=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function fv(){const{toast:e}=Ar(),a=Er(),s=In(),{oiId:l}=pw(),[c,d]=Uv(),m=rT(),{data:h}=Nr({queryKey:["catalogs"],queryFn:Gm}),{register:g,handleSubmit:p,watch:v,formState:{errors:x},reset:w,getValues:q}=Vc({resolver:gO(OR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),_=Rn(),j=_?.userId??null,A=_?.bancoId??Li(),B=wa(_?.role,_?.username)!=="technician",R=ov(),W=l?Number(l):null,M=Number.isFinite(W)?W:null,O=M!=null||(R?.id??null)!=null,V=(c.get("mode")||"").toLowerCase(),U=WR(V,O),K=U==="view",oe=U==="edit",[Ne,ve]=b.useState(!1),[fe,Se]=b.useState(!1),[Oe,Ae]=b.useState(null),[z,F]=b.useState(null),[ee,P]=b.useState(!1),le=fe||K,[N,I]=b.useState(!1),[ce,k]=b.useState(null),[de,ye]=b.useState(null),[Re,Ue]=b.useState(null),[me,De]=b.useState(!1),[qe,Ye]=b.useState(""),[ut,Te]=b.useState(null),[He,ge]=b.useState("bancada"),[Fe,je]=b.useState(!1),[Ke,C]=b.useState(!1),[Z,T]=b.useState(null),Q=b.useRef([]),G=b.useRef(null),re=b.useRef(!1),Ce=b.useRef(!1),Me=b.useRef(!1),ae=b.useRef(null),ze=b.useRef(!1),Ie=b.useRef(m),lt=b.useRef(!1),Xt=b.useRef(!1),[we,Xe]=b.useState(null),[Gt,St]=b.useState(null),[Nn,kn]=b.useState([]),[Pa,aa]=b.useState(!1),[at,Ca]=b.useState(null),[fa,Oa]=b.useState(!1),[Fn,$n]=b.useState(null),[Y,ne]=b.useState(0),[_e,Be]=b.useState({}),[Je,it]=b.useState({}),Ze=s.state?.returnTo,Qt=()=>typeof Ze=="string"&&Ze?Ze:"/oi/list",zt=E=>{const H=new URLSearchParams(c);H.set("mode",E),d(H,{replace:!0})},Rt="new",gn=15,jt=E=>E?`bancada-${E.id}`:Rt,ot=E=>E==null?!1:typeof E=="string"?E.trim()!=="":typeof E=="number"?Number.isFinite(E):!0,yt=E=>E==="c7_seconds"||E==="caudal"||E==="error",kt=E=>E?Object.entries(E).some(([H,he])=>yt(H)?!1:ot(he)):!1,dn=E=>!E||!Array.isArray(E.rowsData)?!1:E.rowsData.some(H=>{if(!H)return!1;if(Number(H.estado??0)!==0)return!0;const Ee=H.medidor;return typeof Ee=="string"&&Ee.trim()!==""?!0:kt(H.q3)||kt(H.q2)||kt(H.q1)}),wn=(E=gn)=>Array.from({length:E}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),yn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,fn=E=>({draftId:yn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:gn,rowsData:wn(),version:null}),qt=E=>{const H=new URLSearchParams(s.search);H.set("mode","edit");const he=s.pathname==="/oi"||s.pathname==="/oi/"?E?`/oi/${E}`:"/oi":s.pathname,Ee=H.toString();return Ee?`${he}?${Ee}`:he},Un=(E,H)=>!E||!j||A==null?null:{version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,oiCode:q("oi")??null,returnTo:qt(E),mode:"edit",modal:H},tn=()=>{if(Pa)return at?{type:"bancada",bancadaId:at.id}:{type:"bancada",isNew:!0}},bn=E=>Tf({userId:j,bankId:A,oiId:E,type:"bancada",isNew:!0}),Hn=E=>{const H=bn(E);if(!H)return null;const he=Df(H);if(!he||!j||A==null||!E||he.userId!==j||he.bankId!==A||he.oiId!==E)return null;const Ee=he?.data??null;return dn(Ee)?Ee:(Hs(H),null)},Tn=(E,H)=>{const he=bn(E);if(!he)return;if(!H||!dn(H)){Hs(he);return}if(!j||A==null||!E)return;const Ee={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,isNew:!0,data:H},et=Un(E,{type:"bancada",isNew:!0});Di(he,Ee,et)},Tt=E=>Tf({userId:j,bankId:A,oiId:E,type:"header"}),Rr=E=>{if(!E)return null;const H=Df(E);return!H||!j||A==null||H.userId!==j||H.bankId!==A||we!=null&&H.oiId!==we?null:H?.data??null},Ra=(E,H)=>{if(!E||!j||A==null)return;const he=we??0,Ee={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:he,data:H},et=Un(we,tn());Di(E,Ee,et)},_n=E=>{E&&Hs(E)},Vn=E=>{const H={};return E.q3!=null&&(H.q3=Number(E.q3)),E.alcance!=null&&(H.alcance=Number(E.alcance)),E.pma!=null&&(H.pma=Number(E.pma)),E.numeration_type&&(H.numeration_type=E.numeration_type),H},Ya=(E,H)=>Tf({userId:j,bankId:A,oiId:E,type:"bancada",bancadaId:H}),Tr=(E,H)=>{const he=Ya(E,H);if(!he)return null;const Ee=Df(he);if(!Ee||!j||A==null||!E||!H||Ee.userId!==j||Ee.bankId!==A||Ee.oiId!==E)return null;const et=Ee?.data??null;return dn(et)?et:(Hs(he),null)},Ka=(E,H,he)=>{const Ee=Ya(E,H);if(!Ee)return;if(!dn(he)){Hs(Ee);return}if(!j||A==null||!E||!H)return;const et={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,bancadaId:H,data:he},Et=Un(E,{type:"bancada",bancadaId:H});Di(Ee,et,Et)},Qs=(E,H)=>{const he=Ya(E,H);he&&Hs(he)},nn=Tt(we);b.useEffect(()=>{h&&w(E=>({...E,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,w]),b.useEffect(()=>{const E=ov(),H=M??E?.id??null;if(!H){Xe(null),kn([]),Q.current=[],G.current=null,$n(null),ne(0),St(null),ye(null),Ue(null),I(!1),Se(!1),Ae(null),F(null),P(!1),k(null);return}(async()=>{try{const he=await Ff(H);Xe(he.id),zi({id:he.id,code:he.code}),kn(he.bancadas??[]),Q.current=JR(he.bancadas??[]),G.current=he.updated_at??null,$n(he.medidores_usuario??null),ne(he.medidores_total_code??0),ye(he.saved_at??null),Ue(he.created_at??null),St(he.updated_at??he.created_at);const Ee={oi:he.code,q3:he.q3,alcance:he.alcance,pma:he.pma,numeration_type:he.numeration_type??"correlativo"};w(Ee),I(!1),Se(he.read_only_for_current_user??!1),Ae(he.locked_by_full_name??null),F(he.locked_by_user_id??null),P((he.locked_by_user_id??null)===j),k(Ee)}catch{xm()}})()},[w,j,M]),b.useEffect(()=>{if(!we||Je[Rt])return;const E=Hn(we);E&&(it(H=>({...H,[Rt]:E})),e({kind:"info",message:"Se restauro un borrador local."}))},[we,Je,e]),b.useEffect(()=>{if(!we||!j||!oe)return;let E=!1;return(async()=>{const H=he=>{Se(he?.read_only_for_current_user??!1),Ae(he?.locked_by_full_name??null),F(he?.locked_by_user_id??null),P((he?.locked_by_user_id??null)===j)};try{const he=await VR(we);if(E)return;H(he)}catch(he){if(E)return;const Ee=he?.status??he?.response?.status;let et=null;try{const dt=await Ff(we);if(E)return;et=dt.locked_by_full_name??null,H({read_only_for_current_user:!0,locked_by_full_name:et,locked_by_user_id:dt.locked_by_user_id??null})}catch{Se(!0),P(!1)}const Et=et?`La OI est? siendo editada por ${et}. Se abre en modo lectura.`:he?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:Ee===423||Ee===409?"warning":"error",title:Ee===423||Ee===409?"OI bloqueada":"Error",message:Et}),Se(!0),P(!1),V!=="view"&&zt("view")}})(),()=>{E=!0}},[we,j,oe]),b.useEffect(()=>()=>{we&&ee&&bc(we).catch(()=>{})},[we,ee]),b.useEffect(()=>{we&&(!ee||le||!oe||tE(we))},[ee,we,le,oe]),b.useEffect(()=>{Ce.current=!1,Me.current=!1,C(!1),ze.current=!1,Xt.current=!1},[we]),b.useEffect(()=>{if(!Ie.current&&m){if(!!!Rn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Ie.current=m;return}(Me.current||Ke)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Ie.current=m},[m,Ke,e]),b.useEffect(()=>{const E=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",E),()=>window.removeEventListener("medileser:auth-expired",E)},[e]),b.useEffect(()=>{const E=rE();if(!E){T(null),lt.current=!1;return}const H=`${s.pathname}${s.search}`,he=E.route===H,Ee=E.oiId==null||E.oiId===we;if(!he&&!Ee){T(null),lt.current=!1;return}T(E),E.type==="save_bancada"&&C(!0),E.type==="save_oi"&&(Me.current=!0),lt.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),lt.current=!0)},[s.pathname,s.search,we,e]);const Ta=oe&&!le&&(N||!we);b.useEffect(()=>{if(!Ta||ze.current)return;const E=Rr(nn);if(!E)return;const H=q();w({...H,...E,numeration_type:E.numeration_type??H.numeration_type??"correlativo"}),ze.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Ta,nn,q,w,e]),b.useEffect(()=>{if(!Ta)return;const E=v(H=>{ae.current&&window.clearTimeout(ae.current),ae.current=window.setTimeout(()=>{Ra(nn,Vn(H))},400)});return()=>{E.unsubscribe(),ae.current&&window.clearTimeout(ae.current)}},[v,Ta,nn]);const Zn=b.useMemo(()=>Object.keys(Je).length>0,[Je]),an=oe&&!le&&(ee||N||Zn);b.useEffect(()=>{if(!an)return;const E=H=>{if(!re.current)return H.preventDefault(),H.returnValue="",""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[an]),aT(E=>{if(!an){E.retry();return}if(re.current){E.retry();return}if(E.location.pathname===s.pathname){E.retry();return}window.confirm(nT)&&E.retry()},an),b.useEffect(()=>{if(!we||!ee||le||!oe)return;const E=()=>{if(re.current||Ce.current)return;Ce.current=!0;const he=Rn()?.token,Ee=sT(`/oi/${we}/close`);fetch(Ee,{method:"POST",headers:he?{Authorization:`Bearer ${he}`}:void 0,keepalive:!0}).catch(()=>{})},H=()=>{E()};return window.addEventListener("pagehide",H),()=>window.removeEventListener("pagehide",H)},[we,ee,le,oe]);const Tl=v("pma"),Wi=b.useMemo(()=>TR(Number(Tl)),[Tl]),Dl=v("numeration_type")??"correlativo",zl=async E=>{try{ve(!0);const H=Rn();if(!H)throw new Error("Sesin no vlida");const he=H.bancoId;if(he==null)throw new Error("Debe seleccionar un banco para crear una OI.");const Ee={code:E.oi,q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),banco_id:he,tech_number:H.techNumber,numeration_type:E.numeration_type??"correlativo"},et=await qR(Ee);return Xe(et.id),St(et.updated_at??et.created_at),$n(et.medidores_usuario??0),ne(et.medidores_total_code??0),ye(et.saved_at??null),Ue(et.created_at??null),zi({id:et.id,code:et.code}),k(E),Me.current=!1,_n(Tt(null)),_n(Tt(et.id)),Oi(),T(null),e({kind:"success",title:"OI creada",message:`${et.code} (#${et.id})`}),!0}catch(H){return Zf(H)?(Me.current=!0,Ra(nn,Vn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):_c(H)?(Me.current=!0,Ra(nn,Vn(E)),!1):(e({kind:"error",title:"Error",message:H?.message??"Error creando OI"}),!1)}finally{ve(!1)}},Ps=async E=>{if(!we)return!1;if(le)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(ve(!0),!we)throw new Error("No hay OI seleccionada para actualizar.");if(!Gt)throw new Error("No se pudo determinar la versin actual de la OI. Recargue la pgina e intntelo de nuevo.");const H=E.oi?.trim(),he={q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),numeration_type:E.numeration_type??"correlativo",updated_at:Gt};B&&H&&H!==(ce?.oi??"")&&(he.code=H);const Ee=await LR(we,he);return k(E),St(Ee.updated_at??Ee.created_at),ye(Ee.saved_at??null),Ue(Ee.created_at??null),Ee.code&&zi({id:Ee.id,code:Ee.code}),F(Ee.locked_by_user_id??null),Ae(Ee.locked_by_full_name??null),Se(Ee.read_only_for_current_user??!1),P((Ee.locked_by_user_id??null)===j),I(!1),Me.current=!1,_n(nn),Oi(),T(null),e({kind:"success",title:"OI actualizada",message:E.oi}),!0}catch(H){if(Zf(H))return Me.current=!0,Ra(nn,Vn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(_c(H))return Me.current=!0,Ra(nn,Vn(E)),!1;const he=H?.status??H?.response?.status;return e(he===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:H?.message??"Error actualizando OI"}),!1}finally{ve(!1)}},Ml=!!we&&N&&!le,vn=()=>Be({}),kl=E=>{const H=b0(E);H&&Be(he=>{if(!he[H])return he;const Ee={...he};return delete Ee[H],Ee})},Dr=()=>{if(le){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!we)return;vn(),C(!1);const E=Hn(we),H=E??fn();it(he=>({...he,[Rt]:H})),Tn(we,H),E&&e({kind:"info",message:"Se restauro un borrador local."}),Ca(null),aa(!0)},Ys=E=>{if(le&&!K){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}vn(),C(!1);const H=Tr(we,E.id);if(H){const he=jt(E);it(Ee=>({...Ee,[he]:H})),e({kind:"info",message:"Se restauro un borrador local."})}Ca(E),aa(!0)};b.useEffect(()=>{if(!we||Xt.current)return;const E=P1();if(E&&!(!j||A==null)&&!(E.userId!==j||E.bankId!==A)&&E.oiId===we){if(E.modal?.type==="bancada"){if(E.modal.isNew){Xt.current=!0,zf(),Dr();return}if(E.modal.bancadaId){const H=Nn.find(he=>he.id===E.modal?.bancadaId);if(!H)return;Xt.current=!0,zf(),Ys(H);return}}Xt.current=!0,zf()}},[j,A,Nn,we,Dr,Ys]);const ps=b.useMemo(()=>{const E=jt(at),H=Je[E];if(H){const et=H.version??at?.updated_at??at?.created_at??null;return{...H,version:et}}if(!at)return;const Ee=y0(at).map(YR);return{estado:at.estado,rows:Ee.length||at.rows,rowsData:Ee,version:at.updated_at??at.created_at??null}},[at,Je]),eo=async E=>{if(we){if(le){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}vn(),C(!1);try{ve(!0);const H=E.draftCreatedAt??Je[Rt]?.draftCreatedAt,he={estado:Number(E.estado??0),rows:Number(E.rowsData.length),rows_data:E.rowsData.map(KR)};if(at){const Ee=E.version??at.updated_at??at.created_at??null;if(!Ee)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const et={...he,updated_at:Ee},Et=await IR(at.id,et);kn(dt=>dt.map(jn=>jn.id===Et.id?Et:jn)),St(Et.updated_at??Et.created_at??Gt),$n(null),Qs(we,at.id),it(dt=>{const jn=`bancada-${at.id}`,{[jn]:Ws,...Fa}=dt;return Fa}),e({kind:"success",message:"Bancada actualizada"})}else{H&&(he.draft_created_at=H);const Ee=await lv(we,he);kn(et=>[...et,Ee]),St(Ee.updated_at??Ee.created_at??Gt),$n(null),it(et=>{const{new:Et,...dt}=et;return dt}),Tn(we,null),e({kind:"success",message:"Bancada agregada"})}try{const Ee=await $f(we);$n(Ee.medidores_usuario??null),ne(Ee.medidores_total_code??Y),ye(Ee.saved_at??null),Ue(Ee.created_at??null)}catch{}F(_?.userId??z),Ae(_?.fullName??Oe),P(j!==null),Se(!1),aa(!1),Ca(null),Oi(),T(null),C(!1)}catch(H){if(Zf(H)){at?Ka(we,at.id,E):Tn(we,E),C(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(_c(H)){at?Ka(we,at.id,E):Tn(we,E),C(!0);return}const he=H?.status??H?.response?.status;if(he===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(he===400){const Ee=Array.isArray(H?.duplicates)?H.duplicates:Array.isArray(H?.response?.data?.duplicates)?H.response.data.duplicates:[];Ee.length>0&&Be(tT(Ee)),e({kind:"warning",title:"Validacion",message:H?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:H?.message??"Error guardando bancada"})}finally{ve(!1)}}},to=async E=>{if(confirm(`Eliminar bancada #${E.item}?`)){if(le){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(ve(!0),!we)throw new Error("No hay OI cargada.");await iv(E.id),kn(he=>he.filter(Ee=>Ee.id!==E.id)),$n(null),it(he=>{const Ee=`bancada-${E.id}`,{[Ee]:et,...Et}=he;return Et}),Qs(we,E.id);const H=await $f(we);St(H.updated_at??H.created_at??null),ye(H.saved_at??null),Ue(H.created_at??null),F(H.locked_by_user_id??null),Ae(H.locked_by_full_name??null),Se(H.read_only_for_current_user??!1),P((H.locked_by_user_id??null)===j),$n(H.medidores_usuario??null),ne(H.medidores_total_code??Y),e({kind:"success",message:`Bancada #${E.item} eliminada`})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error eliminando bancada"})}finally{ve(!1)}}},gs=()=>{if(!we){e({kind:"warning",message:"Primero guarda el OI."});return}Oa(!0)},cu=async E=>{if(we)try{ve(!0),await g0(we,E),e({kind:"success",message:"Excel generado"})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error generando Excel"})}finally{ve(!1)}},no=()=>{if(!we||!B)return;const E=de??Re;ge("oi"),Te(null),Ye(dv(E)),De(!0)},ao=E=>{if(!B)return;ge("bancada"),Te(E);const H=E.saved_at??E.created_at??de??Re;Ye(dv(H)),De(!0)},Ul=async()=>{if(!we||!B)return;const E=eT(qe);if(!E){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(He==="bancada"&&!ut))try{ve(!0),He==="oi"?await ZR(we,{saved_at:E,propagate_to_bancadas:!0}):ut&&await FR(ut.id,{saved_at:E});const H=await Ff(we);if(kn(H.bancadas??[]),$n(H.medidores_usuario??null),ne(H.medidores_total_code??0),ye(H.saved_at??null),Ue(H.created_at??null),St(H.updated_at??H.created_at),Ae(H.locked_by_full_name??null),F(H.locked_by_user_id??null),Se(H.read_only_for_current_user??!1),P((H.locked_by_user_id??null)===j),!N){const he={oi:H.code,q3:H.q3,alcance:H.alcance,pma:H.pma,numeration_type:H.numeration_type??"correlativo"};w(he),k(he)}De(!1),Te(null),Ye(""),ge("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error actualizando fecha"})}finally{ve(!1)}},uu=E=>{vn(),C(!1);const H=jt(at);let he={...E};if(!at){const Ee=Je[Rt];he.draftCreatedAt||(he.draftCreatedAt=Ee?.draftCreatedAt??new Date().toISOString()),he.draftId||(he.draftId=Ee?.draftId??yn())}it(Ee=>({...Ee,[H]:he})),at?Ka(we,at.id,he):Tn(we,he),aa(!1)},du=()=>{if(le){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const E=q();k({...E,numeration_type:E.numeration_type??"correlativo"}),I(!0)},zr=()=>{!we||oe||zt("edit")},Da=()=>{ce&&w(ce),I(!1),Me.current=!1,_n(nn),Oi(),T(null)},ys=()=>{we&&(Tn(we,null),Object.keys(Je).forEach(E=>{if(!E.startsWith("bancada-"))return;const H=Number(E.replace("bancada-",""));Number.isFinite(H)&&Qs(we,H)})),_n(Tt(we)),_n(Tt(null)),Z1(),Me.current=!1,C(!1),Oi(),T(null),xm(),Ux(),Xe(null),kn([]),Q.current=[],it({}),I(!1),k(null),St(null),ye(null),Ue(null),Se(!1),Ae(null),F(null),P(!1),$n(null),ne(0),aa(!1),Ca(null),Oa(!1),De(!1),je(!1),Ye(""),Te(null),ge("bancada"),w({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Ll=()=>{Ce.current=!0,re.current=!0,ys(),a(Qt())},bs=async()=>{if(!we)return!0;const E=Q.current??[];if(E.length===0&&Nn.length===0)return!0;const H=new Map(E.map(Ee=>[Ee.id,Ee])),he=new Map(Nn.map(Ee=>[Ee.id,Ee]));try{for(const Et of Nn)H.has(Et.id)||await iv(Et.id);for(const Et of Nn){const dt=H.get(Et.id);if(!dt||cv(dt)===cv(Et))continue;const jn=uv(dt),Ws=jn.length||dt.rows||1,Fa=Et.updated_at??Et.created_at??dt.updated_at??dt.created_at;if(!Fa)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await $R(Et.id,{medidor:dt.medidor??null,estado:dt.estado??0,rows:Ws,rows_data:jn,current_updated_at:Fa,restore_updated_at:dt.updated_at??null,restore_saved_at:dt.saved_at??null})}for(const Et of E)if(!he.has(Et.id)){const dt=uv(Et),jn=dt.length||Et.rows||1;await lv(we,{estado:Et.estado??0,rows:jn,rows_data:dt})}const Ee=await $f(we),et=Ee.updated_at??Ee.created_at;await BR(we,{current_updated_at:et,restore_updated_at:G.current})}catch(Ee){return e({kind:"error",title:"Error",message:Ee?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},vs=()=>{Ne||je(!0)},so=async()=>{if(!Ne){je(!1),ve(!0);try{if(!await bs())return;we&&ee&&await bc(we,"cancel")}catch{}finally{ve(!1)}Ce.current=!0,re.current=!0,ys(),e({kind:"info",message:"Edicion cancelada"}),a(Qt())}},Bl=async()=>{if(Ne)return;je(!1);let E=!0;if((N||!we)&&(E=!1,await p(async he=>{E=we?await Ps(he):await zl(he)})()),!!E){ve(!0);try{we&&ee&&await bc(we)}catch{}finally{ve(!1)}Ce.current=!0,re.current=!0,ys(),e({kind:"info",message:"Cambios guardados"}),a(Qt())}},ro=async()=>{if(!Ne){ve(!0);try{we&&ee&&await bc(we)}catch{}finally{ve(!1)}Ce.current=!0,re.current=!0,ys(),e({kind:"info",message:"OI cerrada"}),a(Qt())}},Ks=b.useMemo(()=>XR(Nn),[Nn]),za=Fn??Ks,Xs=E=>{if(!E)return"-";const he=/([zZ]|[+-]\d{2}:?\d{2})$/.test(E)?E:`${E}Z`,Ee=new Date(he);return Number.isNaN(Ee.getTime())?E:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(Ee)},Js=at?Ya(we,at.id):bn(we),Ia=j&&A!=null&&we?{userId:j,bankId:A,oiId:we,bancadaId:at?.id??null,isNew:!at,returnTo:qt(we),oiCode:q("oi")??null}:null;return o.jsxs("div",{className:"oi-page vi-oi-light",children:[o.jsx(Ol,{show:Ne}),!m&&o.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),Z&&o.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsx("h1",{className:"h3",children:"Formulario OI"}),o.jsxs("div",{className:"d-flex gap-2",children:[we&&B&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:no,disabled:Ne,children:"Editar fecha guardado"}),we&&K&&o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:zr,disabled:Ne,children:"Editar"})]})]}),le&&o.jsx("div",{className:"alert alert-warning mt-2",children:K?"Modo lectura. Use Editar para modificar.":Oe?`Esta OI est siendo editada por ${Oe}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),o.jsxs("form",{onSubmit:p(Ml?Ps:zl),className:`row g-3 mt-1 ${Ml?"vi-form-editing":"vi-form-readonly"}`,children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),o.jsx("input",{id:"oi",className:`form-control ${we&&!(B&&N&&!le)?"vi-locked":""}`,...g("oi"),disabled:we?!(B&&N&&!le):!1}),x.oi&&o.jsx("div",{className:"text-danger small",children:x.oi.message}),B?o.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el cdigo de OI."}):null]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),o.jsx("select",{id:"q3",className:"form-select",...g("q3",{valueAsNumber:!0}),disabled:!!we&&!N||le,children:h?.q3.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),o.jsx("select",{id:"alcance",className:"form-select",...g("alcance",{valueAsNumber:!0}),disabled:!!we&&!N||le,children:h?.alcance.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),o.jsx("select",{id:"pma",className:"form-select",...g("pma",{valueAsNumber:!0}),disabled:!!we&&!N||le,children:h?.pma.map(E=>o.jsx("option",{value:E,children:E},E))}),o.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),o.jsx("input",{id:"presion",className:"form-control",value:isNaN(Wi)?"":Wi,disabled:!0})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),o.jsxs("select",{id:"numeration_type",className:"form-select",...g("numeration_type"),disabled:!!we&&!N||le,children:[o.jsx("option",{value:"correlativo",children:"Correlativo"}),o.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),o.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),o.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",disabled:Ne||!!we&&(!N||le),children:we?Ml?"Guardar cambios":"OI guardada":"Guardar OI"}),we&&!N&&oe&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:du,disabled:Ne||le,children:"Editar OI"}),we&&N&&oe&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Da,disabled:Ne,children:"Cancelar edicion"}),K&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Ll,disabled:Ne,children:"Volver al listado"}),o.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:gs,disabled:!we||Ne||N,children:"Generar Excel"}),oe&&o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:ro,disabled:!we||N||Ne,children:"Cerrar OI"}),oe&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:vs,disabled:Ne,children:"Cancelar"})]})]}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"card vi-card-table mt-3",children:[o.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),o.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",za," | Total OI: ",Y]})]}),o.jsx("button",{className:"btn btn-primary",onClick:Dr,disabled:!we||Ne||N||le,children:"Agregar Bancada"})]}),o.jsx("div",{className:"card-body p-0",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"vi-col-60",children:"Item"}),o.jsx("th",{children:"# Medidor"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),o.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),o.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),o.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[Nn.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),Nn.map(E=>{const H=E.rows_data?.[0]?.medidor||E.medidor||"",he=E.rows_data?.[(E.rows_data?.length||0)-1]?.medidor||"",Ee=H&&he&&H!==he?`${H} ... ${he}`:H;return o.jsxs("tr",{children:[o.jsx("td",{children:E.item}),o.jsx("td",{children:Ee}),o.jsx("td",{children:E.rows}),o.jsx("td",{children:Xs(E.created_at)}),o.jsx("td",{children:Xs(E.saved_at)}),o.jsx("td",{children:Xs(E.updated_at??E.created_at)}),o.jsxs("td",{className:"text-end",children:[B?o.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>ao(E),disabled:Ne||N||fe,"aria-label":`Editar fecha guardado bancada #${E.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ys(E),disabled:Ne||N||!K&&le,"aria-label":`${K?"Ver":"Editar"} bancada #${E.item}`,title:K?"Ver":"Editar",children:K?"Ver":"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>to(E),disabled:Ne||N||le,"aria-label":`Eliminar bancada #${E.item}`,title:"Eliminar",children:""})]})]},E.id)})]})]})})})]}),Pa&&o.jsx(UR,{show:Pa,title:at?`Editar bancada #${at.item}`:"Nueva bancada",initial:ps,onClose:()=>{vn(),aa(!1)},onSubmit:eo,onCancelWithDraft:uu,numerationType:Dl,readOnly:le,duplicateMap:_e,onClearDuplicate:kl,draftStorageKey:Js,draftMeta:Ia,isOnline:m,showRetry:Ke}),Fe&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:E=>{E.target===E.currentTarget&&je(!1)},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>je(!1)})]}),o.jsx("div",{className:"modal-body",children:o.jsx("p",{children:"Estas seguro de descartar cambios?"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:so,disabled:Ne,children:"Descartar cambios"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:Bl,disabled:Ne,children:"Guardar cambios y volver al listado"})]})]})})}),me&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:E=>{E.target===E.currentTarget&&(De(!1),Te(null),ge("bancada"))},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:E=>{E.preventDefault(),Ul()},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{De(!1),Te(null),ge("bancada")}})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),o.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:qe,onChange:E=>Ye(E.target.value),required:!0}),o.jsx("div",{className:"form-text",children:He==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{De(!1),Te(null),ge("bancada")},children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ne||!qe,children:"Guardar"})]})]})})}),o.jsx(lu,{show:fa,title:"Contrasea para proteger Excel",onClose:()=>Oa(!1),onConfirm:E=>{Oa(!1),cu(E)}})]})}function lT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e==="/logistica/log01/history"?"logistica_history":e==="/logistica/log01/excel"?"logistica":e==="/logistica/log02/pdfs"?"logistica_pdfs":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function iT(){const e=Rn(),a=In(),s=e?.token??null,[l,c]=b.useState(()=>!!s);if(b.useEffect(()=>{if(!s){c(!1);return}let w=!1;return c(!0),Ve.get("/auth/me").then(()=>{w||c(!1)}).catch(async q=>{if(w)return;if(q?.response?.status===401){await Ix();return}c(!1)}),()=>{w=!0}},[s]),!s)return o.jsx(Vs,{to:"/login",replace:!0});if(l)return o.jsx(Ol,{show:!0});const d=e,m=wa(d.role,d.username),h=Qm(d),g=xl(m),p=Li(),v=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(g&&v&&!(p&&p>0)&&a.pathname!=="/home")return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const w=lT(a.pathname),q=d.allowedModules;if(w&&Array.isArray(q)&&!q.includes(w))return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return o.jsx(Ov,{})}const oT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),cT=.9;function th(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*cT}rem)`}}function Xn({to:e,icon:a,label:s,depth:l,collapsed:c}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs(Mv,{to:e,end:!0,className:oT,style:th(l,c),title:s,"aria-label":s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function mv({icon:e,label:a,depth:s,collapsed:l}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:th(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[o.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function pr({groupKey:e,icon:a,label:s,depth:l,collapsed:c,open:d,active:m,onToggle:h,children:g}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return o.jsxs("li",{className:"vi-sidebar-item",children:[o.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:th(l,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:o.jsx("i",{className:`ti ${v}`})})]}),!c&&d&&o.jsx("ul",{id:p,className:"list-unstyled mb-0",children:g})]})}function uT({collapsed:e,onToggleSidebar:a}){const s=In(),l=Rn(),c=!!l,d=wa(l?.role,l?.username),m=Qm(l),h=d==="admin"||d==="administrator",g=l?.allowedModules,p=P=>m||!Array.isArray(g)||g.includes(P),v=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),w=c&&p("tools_historial_ac"),q=c&&p("tools_consol_correlativo"),_=c&&p("tools_consol_no_correlativo"),j=c&&p("oi_formulario"),A=c&&p("oi_listado"),B=c&&h&&p("users_admin"),R=c&&p("future_ot"),W=c&&p("logistica"),M=c&&p("logistica_history"),O=c&&p("logistica_pdfs"),V=W||M||O,U=c&&p("future_smart"),K=q||_,oe=v||x||w,Ne=j||A||R,ve=oe||Ne||K,fe=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[Se,Oe]=b.useState(()=>{const P=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!P)return fe;try{const le=JSON.parse(P),N={...fe};return Object.keys(N).forEach(I=>{typeof le[I]=="boolean"&&(N[I]=le[I])}),N}catch{return fe}}),Ae=s.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(Se))},[Se]);const z=b.useMemo(()=>{const P=le=>!!ki({path:le,end:!0},Ae);return{vimaToLista:P("/oi/tools/vima-to-lista"),actualizacionBases:P("/oi/tools/actualizacion-base"),formatoAcHistory:P("/oi/tools/formato-ac/history"),consolidacionCorrelativo:P("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:P("/oi/tools/consolidacion/no-correlativo"),registroOi:P("/oi"),listadoOi:P("/oi/list"),users:P("/users"),password:P("/password"),permisos:P("/admin/permisos"),log01Excel:P("/logistica/log01/excel"),log01History:P("/logistica/log01/history"),log02Pdfs:P("/logistica/log02/pdfs")}},[Ae]),F=b.useMemo(()=>({oi_consolidacion:z.consolidacionCorrelativo||z.consolidacionNoCorrelativo,oi_formato_ac:z.vimaToLista||z.actualizacionBases||z.formatoAcHistory,oi_verificacion:z.registroOi||z.listadoOi,oi:z.vimaToLista||z.actualizacionBases||z.formatoAcHistory||z.consolidacionCorrelativo||z.consolidacionNoCorrelativo||z.registroOi||z.listadoOi,usuarios:z.users||z.password,logistica:z.log01Excel||z.log01History||z.log02Pdfs,administrar:z.permisos}),[z]);function ee(P){Oe(le=>({...le,[P]:!le[P]}))}return o.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[o.jsxs("div",{className:"vi-sidebar__header",children:[o.jsxs("div",{className:"vi-sidebar__brand",children:[o.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),o.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&o.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),o.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&o.jsx(Xn,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),ve&&o.jsxs(pr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:Se.oi,active:F.oi,onToggle:ee,children:[oe&&o.jsxs(pr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:Se.oi_formato_ac,active:F.oi_formato_ac,onToggle:ee,children:[v&&o.jsx(Xn,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&o.jsx(Xn,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),w&&o.jsx(Xn,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),K&&o.jsxs(pr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:Se.oi_consolidacion,active:F.oi_consolidacion,onToggle:ee,children:[q&&o.jsx(Xn,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),_&&o.jsx(Xn,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),Ne&&o.jsxs(pr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:Se.oi_verificacion,active:F.oi_verificacion,onToggle:ee,children:[R&&o.jsx(mv,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),j&&o.jsx(Xn,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),A&&o.jsx(Xn,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),V&&o.jsxs(pr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:Se.logistica,active:F.logistica,onToggle:ee,children:[W&&o.jsx(Xn,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacion Excel",depth:1,collapsed:e}),M&&o.jsx(Xn,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e}),O&&o.jsx(Xn,{to:"/logistica/log02/pdfs",icon:"ti-filter",label:"Filtrado de Cert.PDFs",depth:1,collapsed:e})]}),U&&o.jsx(mv,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),o.jsxs(pr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:Se.usuarios,active:F.usuarios,onToggle:ee,children:[B&&o.jsx(Xn,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&o.jsx(Xn,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&o.jsx(pr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:Se.administrar,active:F.administrar,onToggle:ee,children:o.jsx(Xn,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function dT({sidebarCollapsed:e,onToggleSidebar:a}){const s=Rn(),l=s?.username??s?.user??"",c=s?xl(s.role):!1,[d,m]=b.useState(()=>Li());b.useEffect(()=>dE(()=>m(Li())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",g=async()=>{try{await hE()}finally{location.assign("/login")}};return o.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&o.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),o.jsx("div",{className:"me-auto"}),o.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&o.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",o.jsx("strong",{children:l||"?"}),c&&o.jsxs(o.Fragment,{children:["  ",h,s.techNumber?o.jsxs(o.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:g,children:"Cerrar sesin"})]})]})}function fT(){const a=In().pathname==="/home",[s,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),o.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[o.jsx(uT,{collapsed:s,onToggleSidebar:c}),o.jsxs("div",{className:"vi-main",children:[o.jsx(dT,{sidebarCollapsed:s,onToggleSidebar:c}),o.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:o.jsx(Ov,{})})]})]})}function mT(){const{toast:e}=Ar(),a=Er(),s=In(),[,l]=Uv(),[c,d]=b.useState(()=>new URLSearchParams(s.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[g,p]=b.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[v,x]=b.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[w,q]=b.useState(()=>{const ae=new URLSearchParams(s.search).get("pageSize"),ze=ae?Number(ae):20;return Number.isFinite(ze)&&ze>0?ze:20}),[_,j]=b.useState(()=>{const ae=new URLSearchParams(s.search).get("page"),ze=ae?Number(ae):1;return Number.isFinite(ze)&&ze>0?Math.floor(ze):1}),[A,B]=b.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),R=(_-1)*w,W=b.useRef(!1);b.useEffect(()=>{if(!W.current){W.current=!0;return}const ae=setTimeout(()=>{h(c.trim()),j(1)},300);return()=>clearTimeout(ae)},[c]),b.useEffect(()=>{const ae=new URLSearchParams,ze=c.trim();ze&&ae.set("q",ze),g&&ae.set("dateFrom",g),v&&ae.set("dateTo",v),A&&ae.set("responsableTech",A),_!==1&&ae.set("page",String(_)),w!==20&&ae.set("pageSize",String(w));const Ie=s.search.startsWith("?")?s.search.slice(1):s.search;ae.toString()!==Ie&&l(ae,{replace:!0})},[g,v,s.search,_,w,A,c,l]);const{data:M,isLoading:O,isError:V,error:U,refetch:K,isFetching:oe}=Nr({queryKey:["oi","list",{search:m,dateFrom:g,dateTo:v,responsableTech:A,pageSize:w,offset:R}],queryFn:()=>GR({q:m||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0,limit:w,offset:R}),placeholderData:ae=>ae}),Ne=Rn(),ve=wa(Ne?.role,Ne?.username)!=="technician",{data:fe=[],isFetching:Se,isError:Oe,error:Ae}=Nr({queryKey:["oi","responsables"],queryFn:PR,enabled:ve,staleTime:6e4,retry:!1}),z=Oe?Ae?.message??"No se pudo cargar responsables":"",F=ae=>{if(!ae)return"-";const ze=ae.endsWith("Z")?ae:`${ae}Z`,Ie=new Date(ze),lt=Xt=>Xt.toString().padStart(2,"0");return`${lt(Ie.getDate())}/${lt(Ie.getMonth()+1)}/${Ie.getFullYear()} ${lt(Ie.getHours())}:${lt(Ie.getMinutes())}`},P=M?.items??[],le=M?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},N=M?.total??0,I=M?.limit??w,ce=I>0?Math.ceil(N/I):1,k=10;let de=1,ye=ce;if(ce>k){const ae=Math.floor(k/2);de=Math.max(1,_-ae),ye=de+k-1,ye>ce&&(ye=ce,de=Math.max(1,ye-k+1))}const[Re,Ue]=b.useState(!1),[me,De]=b.useState(null),[qe,Ye]=b.useState(!1),[ut,Te]=b.useState(!1),He=O||oe||qe||ut,ge=()=>`${s.pathname}${s.search}`,Fe=(ae,ze)=>{try{zi({id:ae,code:ze}),e({kind:"success",message:`OI ${ze} cargada`}),a(`/oi/${ae}?mode=view`,{state:{returnTo:ge()}})}catch(Ie){e({kind:"error",title:"Error",message:Ie?.message??"No se pudo abrir el OI"})}},je=(ae,ze)=>{try{zi({id:ae,code:ze}),e({kind:"success",message:`OI ${ze} cargada`}),a(`/oi/${ae}?mode=edit`,{state:{returnTo:ge()}})}catch(Ie){e({kind:"error",title:"Error",message:Ie?.message??"No se pudo abrir el OI"})}},Ke=async()=>{try{await Ki()}finally{xm(),a("/oi?mode=edit",{state:{returnTo:ge()}})}},C=async(ae,ze)=>{if(confirm(`Ests seguro de ELIMINAR la ${ze}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await HR(ae),e({kind:"success",title:"Eliminado",message:`Se elimin ${ze} correctamente.`}),K()}catch(Ie){e({kind:"error",title:"Error",message:Ie.message||"No se pudo eliminar la OI"})}},Z=ae=>{De(ae),Ue(!0)},T=async ae=>{if(me)try{Ye(!0),await g0(me,ae),e({kind:"success",message:"Excel generado"})}catch(ze){e({kind:"error",title:"Error",message:ze?.message??"No se pudo generar el Excel"})}finally{Ye(!1)}},Q=async()=>{try{Te(!0);const{blob:ae,filename:ze}=await QR({q:m||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0}),Ie=URL.createObjectURL(ae),lt=document.createElement("a");lt.href=Ie,lt.download=ze,document.body.appendChild(lt),lt.click(),URL.revokeObjectURL(Ie),lt.remove()}catch(ae){const ze=ae?.status,Ie=ae?.message??"No se pudo exportar el CSV";e(ze===403?{kind:"error",title:"No autorizado",message:Ie}:{kind:"error",title:"Error",message:Ie})}finally{Te(!1)}},G=()=>{d(""),h(""),p(""),x(""),j(1),B("")},re=N===0?0:R+1,Ce=N===0?0:Math.min(R+P.length,N),Me=N===0?"0 registros":`Mostrando ${re}-${Ce} de ${N} registros`;return o.jsxs("div",{children:[o.jsx(Ol,{show:He}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",onClick:Ke,disabled:He,title:"Nueva OI",children:"Nueva OI"}),o.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),o.jsxs("div",{className:"d-flex gap-2",children:[ve&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:Q,disabled:He,children:ut?"Exportando...":"Exportar CSV"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:G,disabled:He,children:"Limpiar filtros"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>K(),disabled:He,children:"Recargar"})]})]}),V&&o.jsx("div",{className:"alert alert-danger",children:U?.message??"Error cargando listado"}),o.jsxs("div",{className:"card vi-card-table",children:[o.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Registros"}),o.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",le.medidores_resultado," | OI unicas: ",le.oi_unicas," | Medidores (Total OI): ",le.medidores_total_oi_unicas]})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:ae=>{d(ae.target.value),j(1)},"aria-label":"Buscar por codigo de OI o medidor"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:g,onChange:ae=>{p(ae.target.value),j(1)},"aria-label":"Filtrar desde fecha"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:ae=>{x(ae.target.value),j(1)},"aria-label":"Filtrar hasta fecha"}),ve&&o.jsxs("div",{className:"d-flex flex-column",children:[o.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:ae=>{B(ae.target.value),j(1)},disabled:He||Se,"aria-label":"Filtrar por responsable",title:"Responsable",children:[o.jsx("option",{value:"",children:"Responsable: Todos"}),fe.map(ae=>o.jsx("option",{value:String(ae.tech_number),children:ae.full_name},ae.tech_number))]}),z?o.jsx("small",{className:"text-danger",children:z}):null]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("span",{className:"me-1 small",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:w,onChange:ae=>{const ze=Number(ae.target.value)||20;q(ze),j(1)},"aria-label":"Registros por pgina",children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"})]})]})]})]}),o.jsxs("div",{className:"card-body p-0",children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ID"}),o.jsx("th",{children:"OI"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{children:"Q3"}),o.jsx("th",{children:"Alcance"}),o.jsx("th",{children:"PMA"}),o.jsx("th",{children:"Banco"}),o.jsx("th",{children:"Tcnico"}),o.jsx("th",{children:"Responsable"}),o.jsx("th",{children:"Creacin"}),o.jsx("th",{children:"Guardado"}),o.jsx("th",{children:"lt. mod."}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[!He&&P.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:N>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),P.map(ae=>o.jsxs("tr",{children:[o.jsx("td",{children:ae.id}),o.jsx("td",{children:ae.code}),o.jsx("td",{title:"Mi registro / Total OI",children:`${ae.medidores_usuario??0} / ${ae.medidores_total_code??0}`}),o.jsx("td",{children:ae.q3}),o.jsx("td",{children:ae.alcance}),o.jsx("td",{children:ae.pma}),o.jsx("td",{children:ae.banco_id}),o.jsx("td",{children:ae.tech_number}),o.jsx("td",{children:ae.creator_name}),o.jsx("td",{children:F(ae.created_at)}),o.jsx("td",{children:F(ae.saved_at)}),o.jsx("td",{children:F(ae.updated_at)}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Fe(ae.id,ae.code),disabled:He,title:"Ver OI","aria-label":`Ver OI ${ae.code}`,children:"Ver"}),o.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>je(ae.id,ae.code),disabled:He,title:"Editar OI","aria-label":`Editar OI ${ae.code}`,children:"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>Z(ae.id),disabled:He,title:"Descargar Excel","aria-label":`Descargar Excel ${ae.code}`,children:"Excel"}),ve&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>C(ae.id,ae.code),disabled:He,title:"Eliminar OI (Solo Admin)",children:""})]})]},ae.id))]})]})}),ce>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${_===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(ae=>Math.max(1,ae-1)),disabled:_===1,children:""})}),Array.from({length:ye-de+1},(ae,ze)=>{const Ie=de+ze;return o.jsx("li",{className:`page-item ${Ie===_?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(Ie),children:Ie})},Ie)}),o.jsx("li",{className:`page-item ${_===ce?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(ae=>Math.min(ce,ae+1)),disabled:_===ce,children:"Siguiente"})})]})})]})]}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:Me})}),o.jsx(lu,{show:Re,title:"Contrasea para proteger Excel",onClose:()=>{Ue(!1),De(null)},onConfirm:ae=>{Ue(!1),T(ae)}})]})}async function hT(e){return(await Ve.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function pT(){const{toast:e}=Ar(),a=Rn(),s=wa(a?.role,a?.username),l=s==="admin"||s==="administrator",c=Qm(a),[d,m]=b.useState(!1),[h,g]=b.useState(null),[p,v]=b.useState(!1),[x,w]=b.useState(""),[q,_]=b.useState(""),[j,A]=b.useState(""),[B,R]=b.useState(20),[W,M]=b.useState(1),O=(W-1)*B,V=b.useRef(!1);b.useEffect(()=>{if(!V.current){V.current=!0;return}const je=setTimeout(()=>{_(x.trim()),M(1)},250);return()=>clearTimeout(je)},[x]);const{data:U,refetch:K,isLoading:oe,isFetching:Ne,error:ve}=Nr({queryKey:["users",{search:q,roleFilter:j,pageSize:B,offset:O}],queryFn:()=>hT({q:q||void 0,role:j||void 0,limit:B,offset:O}),enabled:l,placeholderData:je=>je}),{register:fe,handleSubmit:Se,reset:Oe}=Vc(),Ae=()=>{g(null),Oe({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),m(!0)},z=je=>{g(je),Oe({username:je.username,password:"",first_name:je.first_name,last_name:je.last_name,role:wa(je.role,je.username),tech_number:je.tech_number}),m(!0)},F=()=>{m(!1),g(null),Oe()},ee=async je=>{try{v(!0),await Ve.post("/auth/users",{...je,tech_number:Number(je.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),F(),K()}catch(Ke){e({kind:"error",title:"Error",message:Ke.response?.data?.detail||"Error al crear"})}finally{v(!1)}},P=async je=>{if(!h)return;const Ke=String(je.password||"").trim();try{if(v(!0),c){const C={username:String(je.username||"").trim(),first_name:String(je.first_name||"").trim(),last_name:String(je.last_name||"").trim(),role:je.role,tech_number:Number(je.tech_number)};Ke&&(C.password=Ke),await Ve.put(`/auth/users/${h.id}`,C),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!Ke){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Ve.put(`/auth/users/${h.id}/password`,{new_password:Ke}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}F(),K()}catch(C){const Z=C?.response?.data?.detail||C?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:Z})}finally{v(!1)}},le=async je=>{if(confirm(`Eliminar usuario? ${je.username}?
Esto solo es posible si no tiene registros.`))try{v(!0),await Ve.delete(`/auth/users/${je.id}`),e({kind:"success",message:"Usuario eliminado"}),K()}catch(Ke){e({kind:"error",title:"No se puede eliminar",message:Ke.response?.data?.detail||Ke.message})}finally{v(!1)}},N=b.useMemo(()=>U?.items??[],[U]),I=U?.total??0,ce=U?.limit??B,k=ce>0?Math.ceil(I/ce):1,de=10;let ye=1,Re=k;if(k>de){const je=Math.floor(de/2);ye=Math.max(1,W-je),Re=ye+de-1,Re>k&&(Re=k,ye=Math.max(1,Re-de+1))}const Ue=I===0?0:O+1,me=I===0?0:Math.min(O+N.length,I),De=I===0?"0 registros":`Mostrando ${Ue}-${me} de ${I} registros`,qe=oe||Ne||p,Ye=()=>{w(""),_(""),A(""),M(1),R(20)},ut=!!h,Te=ut&&!c,He=!ut||!c,ge=(h?.username??"").toLowerCase()==="admin",Fe=ut?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return l?o.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[o.jsx(Ol,{show:qe}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),o.jsx("button",{className:"btn btn-primary",onClick:Ae,disabled:qe,children:"+ Nuevo Usuario"})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[o.jsxs("div",{style:{minWidth:260},children:[o.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:je=>{w(je.target.value),M(1)}})]}),o.jsxs("div",{style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Rol"}),o.jsxs("select",{className:"form-select form-select-sm",value:j,onChange:je=>{A(je.target.value),M(1)},children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"admin"}),o.jsx("option",{value:"administrator",children:"administrator"}),o.jsx("option",{value:"technician",children:"technician"}),o.jsx("option",{value:"standard",children:"standard"}),o.jsx("option",{value:"user",children:"user (legacy)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:B,onChange:je=>{const Ke=Number(je.target.value)||20;R(Ke),M(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Ye,disabled:qe,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>K(),disabled:qe,children:"Recargar"})]})]}),ve?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,o.jsx("div",{className:"card shadow-sm",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover align-middle mb-0",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Nombre"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{children:"N Tcnico"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[N.map(je=>o.jsxs("tr",{children:[o.jsx("td",{className:"fw-bold",children:je.username}),o.jsxs("td",{children:[je.first_name," ",je.last_name]}),o.jsx("td",{children:(()=>{const Ke=wa(je.role,je.username),C=je.username.toLowerCase()==="admin"?"Superusuario":Ke==="administrator"?"Administrador":Ke==="technician"?"Tcnico":"Estndar",Z=je.username.toLowerCase()==="admin"?"bg-danger":Ke==="administrator"?"bg-warning text-dark":Ke==="technician"?"bg-info text-dark":"bg-secondary";return o.jsx("span",{className:`badge ${Z}`,children:C})})()}),o.jsx("td",{children:je.tech_number}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${je.username}`,disabled:qe||je.username==="admin"||!c&&wa(je.role,je.username)==="administrator",onClick:()=>z(je),children:o.jsx("i",{className:"ti ti-edit"})}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${je.username}`,disabled:qe||je.username==="admin"||!c&&wa(je.role,je.username)==="administrator",onClick:()=>le(je),children:o.jsx("i",{className:"ti ti-trash"})})]})]},je.id)),N.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),k>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${W===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>M(je=>Math.max(1,je-1)),disabled:W===1,children:"Anterior"})}),Array.from({length:Re-ye+1},(je,Ke)=>{const C=ye+Ke;return o.jsx("li",{className:`page-item ${C===W?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>M(C),children:C})},C)}),o.jsx("li",{className:`page-item ${W===k?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>M(je=>Math.min(k,je+1)),disabled:W===k,children:"Siguiente"})})]})}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:De})}),d&&o.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:Se(ut?P:ee),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:ut?"Actualizar Usuario":"Nuevo Usuario"}),o.jsx("button",{type:"button",className:"btn-close",onClick:F})]}),o.jsxs("div",{className:"modal-body row g-3",children:[o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Usuario"}),o.jsx("input",{className:"form-control",disabled:Te,...fe("username",{required:!0})})]}),o.jsx("div",{className:"col-6",children:o.jsx(Bi,{label:"Contrasea",...fe("password",{required:He}),autoComplete:"new-password",helpText:Fe})}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Nombre"}),o.jsx("input",{className:"form-control",disabled:Te,...fe("first_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Apellido"}),o.jsx("input",{className:"form-control",disabled:Te,...fe("last_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Rol"}),o.jsxs("select",{className:"form-select",disabled:Te,...fe("role"),children:[ge?o.jsx("option",{value:"admin",children:"Superusuario"}):null,o.jsx("option",{value:"technician",children:"Tecnico"}),o.jsx("option",{value:"standard",children:"Estandar"}),c?o.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"N Tecnico"}),o.jsx("input",{type:"number",className:"form-control",disabled:Te,...fe("tech_number",{required:!0})}),o.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:F,disabled:qe,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:qe,children:ut?"Actualizar":"Guardar"})]})]})})})]}):o.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function gT(){const{toast:e}=Ar(),[a,s]=b.useState(""),[l,c]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,g=async p=>{if(p.preventDefault(),!!h)try{m(!0),await fE(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return o.jsx("div",{className:"container py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"card shadow-sm",children:[o.jsx("div",{className:"card-header",children:o.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),o.jsxs("form",{onSubmit:g,children:[o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"mb-3",children:o.jsx(Bi,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),o.jsx("div",{className:"mb-3",children:o.jsx(Bi,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),o.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function yT(e){return(await Ve.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function bT(e,a){const{data:s}=await Ve.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const Sm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"logistica_history",label:"Historial de consolidaciones",path:"/logistica/log01/history"},{id:"logistica_pdfs",label:"Filtrado de Cert.PDFs",path:"/logistica/log02/pdfs"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],hv=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica","logistica_history","logistica_pdfs"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function pv(e){const a=new Set(Sm.map(c=>c.id)),s=new Set,l=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),l.push(d))}return l}const gv="admin_permisos:collapsed_groups";function vT(){const e=Mm(),{toast:a}=Ar(),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState(20),[v,x]=b.useState(1),w=(v-1)*g,q=b.useRef(!1);b.useEffect(()=>{if(!q.current){q.current=!0;return}const k=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(k)},[s]);const{data:_,isLoading:j,error:A,refetch:B}=Nr({queryKey:["admin","permisos",{search:c,roleFilter:m,pageSize:g,offset:w}],queryFn:()=>yT({q:c||void 0,role:m||void 0,limit:g,offset:w}),placeholderData:k=>k}),[R,W]=b.useState(null),[M,O]=b.useState([]),V=(R?.username??"").toLowerCase()==="admin",[U,K]=b.useState(()=>{const k=Object.fromEntries(hv.map(de=>[de.id,!0]));try{const de=localStorage.getItem(gv);if(!de)return k;const ye=JSON.parse(de);return!ye||typeof ye!="object"?k:{...k,...ye}}catch{return k}}),oe=(k,de)=>{K(ye=>{const Re={...ye,[k]:de};try{localStorage.setItem(gv,JSON.stringify(Re))}catch{}return Re})},Ne=k=>{W(k),O(pv(k.allowedModules??[]))},ve=()=>{W(null),O([])},fe=V_({mutationFn:async k=>bT(k.userId,k.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),ve()},onError:k=>{const de=k?.response?.data?.detail??k?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(de)})}}),Se=b.useMemo(()=>_?.items??[],[_]),Oe=_?.total??0,Ae=_?.limit??g,z=Ae>0?Math.ceil(Oe/Ae):1,F=Oe===0?0:w+1,ee=Oe===0?0:Math.min(w+Se.length,Oe),P=Oe===0?"0 registros":`Mostrando ${F}-${ee} de ${Oe} registros`,le=k=>{O(de=>{const ye=new Set(de);return ye.has(k)?ye.delete(k):ye.add(k),Array.from(ye)})},N=k=>{O(de=>{const ye=new Set(de),Re=k.moduleIds.filter(me=>Sm.some(De=>De.id===me));if(Re.length>0&&Re.every(me=>ye.has(me)))for(const me of Re)ye.delete(me);else for(const me of Re)ye.add(me);return Array.from(ye)})},I=()=>{R&&fe.mutate({userId:R.id,allowedModules:pv(M)})},ce=()=>{l(""),d(""),h(""),x(1),p(20)};return o.jsxs("div",{className:"container-fluid",children:[o.jsx(Ol,{show:fe.isPending,label:"Guardando permisos..."}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),o.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),o.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[o.jsxs("div",{style:{minWidth:260},children:[o.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:k=>{l(k.target.value),x(1)}})]}),o.jsxs("div",{style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Rol"}),o.jsxs("select",{className:"form-select form-select-sm",value:m,onChange:k=>{h(k.target.value),x(1)},children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"admin"}),o.jsx("option",{value:"administrator",children:"administrator"}),o.jsx("option",{value:"technician",children:"technician"}),o.jsx("option",{value:"standard",children:"standard"}),o.jsx("option",{value:"user",children:"user (legacy)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:g,onChange:k=>{const de=Number(k.target.value)||20;p(de),x(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:ce,disabled:j||fe.isPending,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>B(),disabled:j||fe.isPending,children:"Recargar"})]})]}),j?o.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):A?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[Se.map(k=>o.jsxs("tr",{children:[o.jsx("td",{children:k.username}),o.jsx("td",{children:k.role}),o.jsx("td",{className:"text-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Ne(k),disabled:(k.username??"").toLowerCase()==="admin",children:"Editar"})})]},k.id)),Se.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),o.jsx("div",{className:"d-flex justify-content-end mt-2",children:o.jsx("small",{className:"text-muted",children:P})}),z>1&&o.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${v===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.max(1,k-1)),disabled:v===1,children:""})}),o.jsx("li",{className:"page-item disabled",children:o.jsxs("span",{className:"page-link",children:["Pgina ",v," / ",z]})}),o.jsx("li",{className:`page-item ${v===z?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.min(z,k+1)),disabled:v===z,children:"Siguiente"})})]})})]})})}),R&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:k=>{k.target===k.currentTarget&&ve()},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",R.username]}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:ve})]}),o.jsxs("div",{className:"modal-body",children:[V?o.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",o.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,hv.map(k=>{const de=k.moduleIds.map(De=>Sm.find(qe=>qe.id===De)).filter(Boolean),ye=de.filter(De=>M.includes(De.id)).length,Re=de.length>0&&ye===de.length,Ue=ye>0&&!Re,me=!!U[k.id];return o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsxs("div",{className:"form-check mb-0",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${R.id}-${k.id}`,checked:Re,ref:De=>{De&&(De.indeterminate=Ue)},onChange:()=>N(k),disabled:fe.isPending||V}),o.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${R.id}-${k.id}`,children:[k.label,o.jsxs("span",{className:"text-muted ms-2 small",children:["(",ye,"/",de.length,")"]})]})]}),o.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Acciones ${k.label}`,children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>oe(k.id,!me),disabled:fe.isPending,children:me?"Expandir":"Contraer"})})]}),!me&&o.jsx("div",{className:"mt-2 ms-4 ps-3 border-start border-2 border-light",children:o.jsx("div",{className:"row",children:de.map(De=>o.jsx("div",{className:"col-md-6 mb-2",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${R.id}-${De.id}`,checked:M.includes(De.id),onChange:()=>le(De.id),disabled:fe.isPending||V}),o.jsxs("label",{className:"form-check-label",htmlFor:`perm-${R.id}-${De.id}`,children:[De.label," ",o.jsxs("span",{className:"text-muted",children:["(",De.path,")"]})]})]})},De.id))})})]},k.id)}),o.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ve,disabled:fe.isPending,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:I,disabled:fe.isPending||V,children:"Guardar"})]})]})})})]})}function xT(e){const a=Ve.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function ST(e,a){return Ve.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function NT(e,a){return Ve.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function yv(e,a,s){const l=xT(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let g="";for(;;){const{value:p,done:v}=await m.read();if(v)break;g+=h.decode(p,{stream:!0});let x;for(;(x=g.indexOf(`
`))>=0;){const w=g.slice(0,x).trim();if(g=g.slice(x+1),!!w)try{a(JSON.parse(w))}catch{}}}}function v0(e){return`${e.name}::${e.size}::${e.lastModified}`}function wT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function qc(e){return wT(e.name)}function _T(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function nh(e,a){const s=_T(a);if(!s)return e;const l=s.filter(c=>c.startsWith("."));return l.length===0?e:e.filter(c=>l.some(d=>c.name.toLowerCase().endsWith(d)))}function jT(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],c=[],d=new Set(e.map(qc));for(const m of a){const h=qc(m);if(d.has(h)){c.push(m);continue}d.add(h),s.push(m),l.push(m)}return{merged:s,added:l,duplicates:c}}function Fi({label:e,accept:a,disabled:s=!1,file:l,onChange:c}){const d=b.useRef(null),m=b.useRef(0),[h,g]=b.useState(!1),p=()=>{s||d.current?.click()},v=()=>{s||(d.current&&(d.current.value=""),c(null))},x=A=>{c(A.target.files?.[0]??null),A.currentTarget.value=""},w=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current+=1,g(!0))},q=A=>{A.preventDefault(),A.stopPropagation()},_=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current=Math.max(0,m.current-1),m.current===0&&g(!1))},j=A=>{if(A.preventDefault(),A.stopPropagation(),m.current=0,g(!1),s)return;const B=A.dataTransfer?.files?Array.from(A.dataTransfer.files):[],W=nh(B,a)[0]??null;W&&(d.current&&(d.current.value=""),c(W))};return o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),o.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:w,onDragOver:q,onDragLeave:_,onDrop:j,"aria-disabled":s?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:s||!l,children:"Eliminar"}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const ET={status:"estado",progress:"progreso",complete:"completado",error:"error"},AT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},CT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function x0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function Sl(e){if(!e)return"";const a=e.toLowerCase();return x0(ET[a]??e)}function Ji(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return x0(AT[a]??Rl(s))}function Rl(e){if(!e)return"";let a=e;for(const[s,l]of CT)a=a.replace(s,l);return a}function OT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function RT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function TT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState(""),[m,h]=b.useState(11),[g,p]=b.useState(11),[v,x]=b.useState(!0),[w,q]=b.useState(!0),[_,j]=b.useState(!0),[A,B]=b.useState(!0),[R,W]=b.useState(!1),[M,O]=b.useState(""),[V,U]=b.useState(null),[K,oe]=b.useState(null),[Ne,ve]=b.useState(null),[fe,Se]=b.useState([]),[Oe,Ae]=b.useState(""),z=b.useRef(null),F=b.useRef(null),[ee,P]=b.useState(!1),[le,N]=b.useState(!1),[I,ce]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),k=b.useMemo(()=>!!e&&!!s&&!V,[e,s,V]);function de(Te){Se(ge=>[Te,...ge].slice(0,200));const He=typeof Te.percent=="number"?Te.percent:typeof Te.progress=="number"?Te.progress:null;He!=null&&Number.isFinite(He)&&ve(Math.max(0,Math.min(100,He)))}function ye(){z.current?.abort(),z.current=null}function Re(){V&&ye()}function Ue(Te,He){if(!e||!s)throw new Error("Faltan archivos");const ge=new FormData;ge.append("vima_file",e),ge.append("lista_file",s);const Fe=(He??c).trim();return Fe&&ge.append("vima_password",Fe),ge.append("vima_start_row",String(m)),ge.append("lista_start_row",String(g)),ge.append("require_all_g_to_n",v?"true":"false"),ge.append("incremental",w?"true":"false"),ge.append("strict_incremental",_?"true":"false"),ge.append("replicate_merges",A?"true":"false"),ge.append("update_existing_periodo",R?"true":"false"),M.trim()&&ge.append("oi_pattern",M.trim()),ge.append("operation_id",Te),ge}function me(){F.current=null,N(!1)}function De(Te,He){F.current=Te,ce(He),N(!0)}function qe(Te,He){if(!ct.isAxiosError(Te)){Ae(String(Te));return}const ge=Te;if(ge.code==="ERR_CANCELED")return;const Fe=ge.response?.headers?.["x-code"],je=ge.response?.data?.detail??ge.message;if(Fe==="PASSWORD_REQUIRED"){Ae(""),De(He,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Fe==="WRONG_PASSWORD"){Ae(""),De(He,"Contrasea incorrecta. Intenta nuevamente.");return}Ae(String(je))}async function Ye(Te){Ae(""),oe(null),Se([]),ve(0);const He=crypto.randomUUID();z.current=new AbortController,yv(He,de,z.current.signal).catch(()=>{}),U("dry");try{const ge=Ue(He,Te?.passwordOverride),Fe=await ST(ge,z.current.signal);oe(Fe.data)}catch(ge){qe(ge,"dry")}finally{ye(),U(null)}}async function ut(Te){Ae(""),Se([]),ve(0);const He=crypto.randomUUID();z.current=new AbortController,yv(He,de,z.current.signal).catch(()=>{}),U("upload");try{const ge=Ue(He,Te?.passwordOverride),Fe=await NT(ge,z.current.signal),je=Fe.headers?.["content-disposition"],Ke=OT(je)??"LISTA_SALIDA.xlsx";RT(Fe.data,Ke)}catch(ge){qe(ge,"upload")}finally{ye(),U(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row gap-20",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),o.jsx("div",{className:"mB-15",children:o.jsx(Fi,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!V})}),o.jsx("div",{className:"mB-15",children:o.jsx(Fi,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!V})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:Te=>d(Te.target.value),placeholder:"(opcional)"})]}),ee?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),o.jsx("input",{className:"form-control",type:"number",value:m,onChange:Te=>h(Number(Te.target.value))})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),o.jsx("input",{className:"form-control",type:"number",value:g,onChange:Te=>p(Number(Te.target.value))})]})]}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),o.jsx("input",{className:"form-control",value:M,onChange:Te=>O(Te.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),o.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),o.jsxs("div",{className:"row mT-10",children:[o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:Te=>x(Te.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:A,onChange:Te=>B(Te.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:w,onChange:Te=>q(Te.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:_,onChange:Te=>j(Te.target.checked),disabled:!w}),o.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:R,onChange:Te=>W(Te.target.checked),disabled:!w}),o.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,Oe&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Oe}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>P(Te=>!Te),disabled:!!V,children:ee?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary",disabled:!k,onClick:()=>void ut(),children:V==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!V,onClick:Re,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!k,onClick:()=>void Ye(),children:V==="dry"?"Analizando...":"Analizar"})]}),K&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h5",{className:"c-grey-900",children:"Resumen"}),o.jsxs("ul",{className:"mB-0",children:[o.jsxs("li",{children:["Filas a copiar: ",o.jsx("b",{children:K.would_copy})]}),o.jsxs("li",{children:["Fila inicio escritura (LISTA): ",o.jsx("b",{children:K.start_write_row})]}),o.jsxs("li",{children:["ltimo OI en LISTA: ",o.jsx("b",{children:String(K.last_oi_in_lista??"-")})]}),o.jsxs("li",{children:["Primer OI a copiar: ",o.jsx("b",{children:String(K.first_oi_to_copy??"-")})]}),o.jsxs("li",{children:["ltimo OI a copiar: ",o.jsx("b",{children:String(K.last_oi_to_copy??"-")})]})]})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),V?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Ne??0}%`},"aria-valuenow":Ne??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:fe.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:fe.map((Te,He)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Sl(Te.type)})," ",Te.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(Te.stage),"]"]}):null,typeof Te.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",Te.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Rl(Te.message??Te.detail??"")}),Te.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",Te.code]}):null]},He))})})]})})]}),o.jsx(lu,{show:le,title:"Archivo protegido",confirmLabel:"Continuar",helpText:I,onClose:me,onConfirm:Te=>{d(Te),N(!1);const He=F.current;F.current=null,He&&(He==="dry"?Ye({passwordOverride:Te}):ut({passwordOverride:Te}))}})]})}const DT=(...e)=>{};function iu(e){const a=Ve.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function S0(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let c="";for(;;){const{value:d,done:m}=await s.read();if(m)break;c+=l.decode(d,{stream:!0});let h;for(;(h=c.indexOf(`
`))>=0;){const g=c.slice(0,h).trim();if(c=c.slice(h+1),!!g)try{a(JSON.parse(g))}catch{}}}}function bl(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function ah(e,a,s){const l=iu(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw bl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await S0(d,a)}async function zT(e,a,s){const l=iu(`/logistica/log01/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const x=d.headers.get("X-Code")??void 0;throw bl(`No se pudo abrir el stream (${d.status})`,d.status,x)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw bl("Stream no es NDJSON",d.status);if(!d.body)throw bl("Stream sin body",d.status);const h=d.body.getReader(),g=new TextDecoder("utf-8");let p="",v=!1;for(;;){const{value:x,done:w}=await h.read();if(w)break;!v&&x&&x.length&&(v=!0),p+=g.decode(x,{stream:!0});let q;for(;(q=p.indexOf(`
`))>=0;){const _=p.slice(0,q).trim();if(p=p.slice(q+1),!!_)try{const j=JSON.parse(_);DT("[LOG01] progress event =",j),a(j)}catch{}}}}async function MT(e,a,s){const l=iu("/bases/actualizar/dry-run-upload"),c=Rn()?.token,d=await fetch(l,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const g=await d.json();g?.detail&&(h=String(g.detail))}catch{}throw bl(h,d.status,m)}await S0(d,a)}async function kT(e,a){return Ve.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function UT(e,a){return Ve.post("/logistica/log01/start",e,{signal:a})}async function LT(e,a,s){const l=iu(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw bl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function BT(e,a){return Ve.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function qT(e){await Ve.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function IT(e={}){const{limit:a=20,offset:s=0,include_deleted:l=!1,q:c,dateFrom:d,dateTo:m,source:h,status:g}=e,p={limit:a,offset:s,include_deleted:l};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),m&&m.trim()&&(p.dateTo=m.trim()),h&&h.trim()&&(p.source=h.trim()),g&&g.trim()&&(p.status=g.trim());const{data:v}=await Ve.get("/logistica/log01/history",{params:p});return v}async function FT(e,a,s){return Ve.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:l=>l===200})}async function $T(e,a){await Ve.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function HT(){return(await Ve.get("/logistica/log02/explorador/roots")).data}async function VT(e){return(await Ve.get("/logistica/log02/explorador/listar",{params:{path:e}})).data}async function ZT(e){return(await Ve.post("/logistica/log02/validar-rutas-unc",e)).data}async function GT(e={}){const{limit:a=20,offset:s=0,q:l,dateFrom:c,dateTo:d,origin:m}=e,h={limit:a,offset:s};l&&l.trim()&&(h.q=l.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),m&&m.trim()&&(h.origin=m.trim());const{data:g}=await Ve.get("/oi/tools/formato-ac/history",{params:h});return g}async function QT(e,a){return Ve.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function N0(){const{data:e}=await Ve.get("/merge/config/upload-limits");return e}async function w0(e,a,s){return Ve.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function _0(e){await Ve.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function PT(e){const{data:a}=await Ve.post("/tools/files/upload",e);return a}async function YT(e){const{data:a}=await Ve.post("/tools/excel/inspect",e);return a}async function KT(e){const{data:a}=await Ve.post("/tools/excel/update",e);return a}async function XT(e){const{data:a}=await Ve.post("/tools/excel/change-password",e);return a}async function JT(e){const{data:a}=await Ve.post("/tools/excel/validate",e);return a}function WT({show:e,disabled:a=!1,title:s,accept:l,files:c,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:g}){const p=b.useRef(null),v=b.useRef(0),[x,w]=b.useState(!1),[q,_]=b.useState("");b.useEffect(()=>{if(!e)return;const U=K=>{K.key==="Escape"&&d()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e,d]),b.useEffect(()=>{e||w(!1)},[e]),b.useEffect(()=>{e&&_("")},[e]);const j=b.useCallback(U=>{const K=nh(U,l);if(K.length===0)return;const oe=new Set(c.map(qc)),Ne=new Set(oe),ve=[],fe=[];for(const Se of K){const Oe=qc(Se);if(Ne.has(Oe)){fe.push(Se);continue}Ne.add(Oe),ve.push(Se)}if(fe.length>0){const Se=Array.from(new Set(fe.map(Ae=>Ae.name))),Oe=fe.length;if(Se.length===1){const Ae=Oe===1?"Se omiti 1 archivo duplicado":`Se omitieron ${Oe} archivos duplicados`;_(`${Ae}: "${Se[0]}".`)}else _(`Se omitieron ${Oe} archivos duplicados: ${Se.join(", ")}.`)}ve.length>0&&m(ve)},[l,c,m]);if(b.useEffect(()=>{if(!e)return;const U=oe=>{oe.preventDefault(),oe.stopPropagation()},K=oe=>{if(oe.preventDefault(),oe.stopPropagation(),a)return;const Ne=oe.dataTransfer?.files?Array.from(oe.dataTransfer.files):[];j(Ne)};return window.addEventListener("dragover",U,!0),window.addEventListener("drop",K,!0),()=>{window.removeEventListener("dragover",U,!0),window.removeEventListener("drop",K,!0)}},[e,a,j]),!e)return null;const A=()=>{a||p.current?.click()},B=U=>{const K=U.target.files?Array.from(U.target.files):[];j(K),U.currentTarget.value=""},R=()=>{a||(p.current&&(p.current.value=""),g())},W=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current+=1,w(!0))},M=U=>{U.preventDefault(),U.stopPropagation()},O=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&w(!1))},V=U=>{if(U.preventDefault(),U.stopPropagation(),v.current=0,w(!1),a)return;const K=U.dataTransfer?.files?Array.from(U.dataTransfer.files):[];j(K)};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:U=>{U.target===U.currentTarget&&d()},children:o.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:B,disabled:a}),q?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[o.jsx("div",{children:q}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>_("")})]}):null,o.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:W,onDragOver:M,onDragLeave:O,onDrop:V,"aria-disabled":a?"true":"false",children:[o.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",o.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:A,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?o.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[o.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:A,disabled:a,children:"Agregar ms"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:R,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:o.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:o.jsx("ul",{className:"list-group",children:c.map(U=>{const K=v0(U);return o.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[o.jsx("div",{className:"text-truncate",style:{minWidth:0},children:U.name}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(K),disabled:a,children:"Eliminar"})]},K)})})})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function e2(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(l=>l.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function ou({label:e,title:a,accept:s,disabled:l=!1,fullDropArea:c=!1,files:d,setFiles:m}){const[h,g]=b.useState(!1),[p,v]=b.useState(!1),[x,w]=b.useState(""),q=b.useRef(0),_=b.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),j=d.length===0?"Agregar archivos":"Modificar/agregar archivos",A=V=>{const U=nh(V,s);U.length!==0&&m(K=>{const{merged:oe,duplicates:Ne}=jT(K,U);return Ne.length>0&&w(e2(Ne)),oe})},B=V=>{V.preventDefault(),V.stopPropagation(),!l&&(q.current+=1,v(!0))},R=V=>{V.preventDefault(),V.stopPropagation()},W=V=>{V.preventDefault(),V.stopPropagation(),!l&&(q.current=Math.max(0,q.current-1),q.current===0&&v(!1))},M=V=>{if(V.preventDefault(),V.stopPropagation(),q.current=0,v(!1),l)return;const U=V.dataTransfer?.files?Array.from(V.dataTransfer.files):[];A(U)},O=o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"form-label",children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:j}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>w("")})]}):null]});return o.jsxs(o.Fragment,{children:[c?o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:R,onDragLeave:W,onDrop:M,"aria-disabled":l?"true":"false",children:O}):o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:R,onDragLeave:W,onDrop:M,"aria-disabled":l?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:j}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]})}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>w("")})]}):null]}),o.jsx(WT,{show:h,disabled:l,title:a,accept:s,files:d,onClose:()=>g(!1),onAddFiles:A,onRemoveFile:V=>m(U=>U.filter(K=>v0(K)!==V)),onRemoveAll:()=>m([])})]})}function t2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function n2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function a2(e){if(!ct.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=l?.detail??a.message;return{detail:String(c),code:s}}function s2(){const[e,a]=b.useState(null),[s,l]=b.useState([]),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,x]=b.useState(9),[w,q]=b.useState("ERROR FINAL"),[_,j]=b.useState(!0),[A,B]=b.useState(!1),[R,W]=b.useState(!1),[M,O]=b.useState(null),[V,U]=b.useState(null),[K,oe]=b.useState([]),[Ne,ve]=b.useState(""),fe=b.useRef(null),Se=b.useRef(null),[Oe,Ae]=b.useState(!1),[z,F]=b.useState(!1),[ee,P]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),le=b.useMemo(()=>!!e&&s.length>0&&!M,[e,s,M]);function N(me){oe(qe=>[me,...qe].slice(0,200));const De=typeof me.percent=="number"?me.percent:typeof me.progress=="number"?me.progress:null;De!=null&&Number.isFinite(De)&&U(Math.max(0,Math.min(100,De)))}function I(){fe.current?.abort(),fe.current=null}function ce(){M&&I()}function k(me,De){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const qe=new FormData;qe.append("base_file",e);for(const ut of s)qe.append("oi_files",ut);const Ye=(De??c).trim();return Ye&&qe.append("default_password",Ye),m.trim()&&qe.append("per_file_passwords_json",m.trim()),g.trim()&&qe.append("oi_pattern",g.trim()),qe.append("oi_start_row",String(v)),w.trim()&&qe.append("base_sheet",w.trim()),me&&qe.append("operation_id",me),qe}function de(){Se.current=null,F(!1)}function ye(me,De){Se.current=me,P(De),F(!0)}async function Re(me){ve(""),oe([]),U(0),fe.current=new AbortController,O("dry");try{const De=k(void 0,me?.passwordOverride);await MT(De,N,fe.current.signal)}catch(De){if(De?.name==="AbortError")return;const qe=De?.code,Ye=String(De?.message??De);if(qe==="PASSWORD_REQUIRED"){ve(""),ye("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(qe==="WRONG_PASSWORD"){ve(""),ye("dry","Contrasea incorrecta. Intenta nuevamente.");return}else ve(Ye)}finally{I(),O(null)}}async function Ue(me){ve(""),oe([]),U(0);const De=crypto.randomUUID();fe.current=new AbortController,ah(De,N,fe.current.signal).catch(()=>{}),O("upload");try{const qe=k(De,me?.passwordOverride);qe.append("replicate_merges",_?"true":"false"),qe.append("replicate_row_heights",A?"true":"false"),qe.append("replicate_col_widths",R?"true":"false");const Ye=await kT(qe,fe.current.signal),ut=Ye.headers["content-disposition"],Te=Ye.headers["x-file-name"],He=t2(ut)??Te??"base_actualizada.xlsx";n2(Ye.data,He)}catch(qe){if(ct.isAxiosError(qe)&&qe.code==="ERR_CANCELED")return;const{detail:Ye,code:ut}=await a2(qe);if(ut==="PASSWORD_REQUIRED"){ve(""),ye("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(ut==="WRONG_PASSWORD"){ve(""),ye("upload","Contrasea incorrecta. Intenta nuevamente.");return}else ve(Ye)}finally{I(),O(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),o.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Fi,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!M})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(ou,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!M})}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:me=>d(me.target.value),disabled:!!M})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),o.jsx("input",{className:"form-control",value:w,onChange:me=>q(me.target.value),disabled:!!M})]}),Oe?o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),o.jsx("input",{className:"form-control",value:g,onChange:me=>p(me.target.value),disabled:!!M})]}):null,o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio OI"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:me=>x(Number(me.target.value||9)),disabled:!!M})]}),o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),o.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:me=>h(me.target.value),disabled:!!M,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),Oe?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:_,onChange:me=>j(me.target.checked),disabled:!!M}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:A,onChange:me=>B(me.target.checked),disabled:!!M}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:R,onChange:me=>W(me.target.checked),disabled:!!M}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),Ne&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:Ne}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Ae(me=>!me),disabled:!!M,children:Oe?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-15",children:[o.jsx("button",{className:"btn btn-primary",disabled:!le,onClick:()=>void Ue(),children:M==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!M,onClick:ce,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!le,onClick:()=>void Re(),children:M==="dry"?"Analizando...":"Analizar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),M?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${V??0}%`},"aria-valuenow":V??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:K.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:K.map((me,De)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Sl(me.type)})," ",me.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(me.stage),"]"]}):null,typeof me.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",me.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Rl(me.message??me.detail??"")}),me.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",me.code]}):null]},De))})})]})})]}),o.jsx(lu,{show:z,title:"Archivo protegido",confirmLabel:"Continuar",helpText:ee,onClose:de,onConfirm:me=>{d(me),F(!1);const De=Se.current;Se.current=null,De&&(De==="dry"?Re({passwordOverride:me}):Ue({passwordOverride:me}))}})]})}const r2="America/Lima";function l2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function i2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function o2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:r2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function c2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function u2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function d2(){const[e,a]=b.useState([]),[s,l]=b.useState(0),[c,d]=b.useState(!1),[m,h]=b.useState(""),[g,p]=b.useState(0),[v,x]=b.useState(""),[w,q]=b.useState(""),[_,j]=b.useState(""),[A,B]=b.useState(""),[R,W]=b.useState(20),[M,O]=b.useState(1),[V,U]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),K=b.useMemo(()=>(M-1)*R,[M,R]);b.useEffect(()=>{let F=!1;return d(!0),h(""),GT({limit:R,offset:K,q:V.q||void 0,dateFrom:V.dateFrom||void 0,dateTo:V.dateTo||void 0,origin:V.origin||void 0}).then(ee=>{F||(a(Array.isArray(ee?.items)?ee.items:[]),l(typeof ee?.total=="number"?ee.total:0))}).catch(ee=>{if(F)return;const P=ee,le=P.response?.data?.detail||P.message||"No se pudo cargar historial.";h(le)}).finally(()=>{F||d(!1)}),()=>{F=!0}},[V,K,R,g]);const oe=()=>{U({q:v.trim(),dateFrom:w.trim(),dateTo:_.trim(),origin:A.trim()}),O(1)},Ne=()=>{x(""),q(""),j(""),B(""),U({q:"",dateFrom:"",dateTo:"",origin:""}),O(1),p(F=>F+1)},ve=()=>p(F=>F+1),fe=async F=>{try{h("");const ee=await QT(F),P=ee.headers["content-disposition"],le=ee.headers["x-file-name"],N=l2(P)??le??"formato_ac.xlsx";i2(ee.data,N)}catch(ee){const P=ee;if(ct.isCancel(P))return;const le=P.response?.data?.detail||P.message||"No se pudo descargar.";h(le)}},Se=s===0?0:K+1,Oe=s===0?0:Math.min(K+e.length,s),Ae=M>1,z=K+e.length<s;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),m?o.jsx("div",{className:"alert alert-danger",role:"alert",children:m}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:F=>{F.preventDefault(),oe()},children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:v,onChange:F=>x(F.target.value),onKeyDown:F=>{F.key==="Enter"&&oe()},placeholder:"Operacion o usuario..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:w,onChange:F=>q(F.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:_,onChange:F=>j(F.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:F=>B(F.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),o.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:R,onChange:F=>{const ee=Number(F.target.value);W(Number.isFinite(ee)?ee:20),O(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Ne,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:ve,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[c?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(F=>{const ee=F.created_by_full_name||F.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:F.operation_id}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o2(F.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:ee}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:u2(F.origin)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:c2(F.status),children:F.status})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void fe(F.id),children:"Descargar"})})})]},F.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",Se,"-",Oe," de ",s," registros"]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(F=>Math.max(1,F-1)),disabled:!Ae||c,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(F=>F+1),disabled:!z||c,children:"Siguiente"})]})]})]})]})})})})}function f2(){return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),o.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),o.jsx(jc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"No correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),o.jsx(jc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function m2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function h2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function p2(e){if(!ct.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function g2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[w,q]=b.useState([]),_=b.useRef(null),j=b.useRef(null),A=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{N0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const V=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;V!=null&&Number.isFinite(V)&&x(Math.max(0,Math.min(100,V)))}function R(){_.current?.abort(),_.current=null}function W(){if(!m)return;const O=j.current;O&&_0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),R()}async function M(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const V=crypto.randomUUID();j.current=V,O.append("operation_id",V),_.current=new AbortController,h(!0);try{const U=_.current?.signal;ah(V,B,U).catch(()=>{});const K=await w0(O,"correlativo",U),oe=K.headers["content-disposition"],Ne=m2(oe)??"consolidado_correlativo.xlsx";h2(K.data,Ne)}catch(U){if(ct.isAxiosError(U)&&U.code==="ERR_CANCELED"||ct.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const K=await p2(U);B({type:"error",stage:"error",detail:K}),p(K)}finally{j.current=null,h(!1),R()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Fi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(ou,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),g&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:M,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:W,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:w.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:w.map((O,V)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Sl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Rl(O.message??O.detail??"")})]},V))})})]})})]})})}function y2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function b2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function v2(e){if(!ct.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function x2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[w,q]=b.useState([]),_=b.useRef(null),j=b.useRef(null),A=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{N0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const V=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;V!=null&&Number.isFinite(V)&&x(Math.max(0,Math.min(100,V)))}function R(){_.current?.abort(),_.current=null}function W(){if(!m)return;const O=j.current;O&&_0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),R()}async function M(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const V=crypto.randomUUID();j.current=V,O.append("operation_id",V),_.current=new AbortController,h(!0);try{const U=_.current?.signal;ah(V,B,U).catch(()=>{});const K=await w0(O,"no-correlativo",U),oe=K.headers["content-disposition"],Ne=y2(oe)??"consolidado_no_correlativo.xlsx";b2(K.data,Ne)}catch(U){if(ct.isAxiosError(U)&&U.code==="ERR_CANCELED"||ct.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const K=await v2(U);B({type:"error",stage:"error",detail:K}),p(K)}finally{j.current=null,h(!1),R()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Fi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(ou,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),g&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:M,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:W,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:w.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:w.map((O,V)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Sl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Rl(O.message??O.detail??"")})]},V))})})]})})]})})}async function Ri(e){if(!ct.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function S2(){const[e,a]=b.useState(null),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState("ERROR FINAL"),[v,x]=b.useState(""),[w,q]=b.useState("same_password"),[_,j]=b.useState(""),[A,B]=b.useState([{cell:"A1",value:""}]),[R,W]=b.useState(""),[M,O]=b.useState("no_password"),[V,U]=b.useState(""),[K,oe]=b.useState("ERROR FINAL"),[Ne,ve]=b.useState(1),[fe,Se]=b.useState(""),[Oe,Ae]=b.useState(""),[z,F]=b.useState(""),[ee,P]=b.useState(null),[le,N]=b.useState(""),[I,ce]=b.useState(null),[k,de]=b.useState([]),[ye,Re]=b.useState(null),Ue=b.useMemo(()=>c.trim().length>0,[c]);function me(ge){de(Fe=>[ge,...Fe].slice(0,200))}function De(){N(""),de([]),ce(0),Re(null)}async function qe(){if(De(),!e){N("Selecciona un archivo para subir.");return}P("upload");try{me({type:"status",stage:"upload",message:"Subiendo archivo..."}),ce(30);const ge=new FormData;ge.append("file",e),s.trim()&&ge.append("suggested_name",s.trim());const Fe=await PT(ge);d(Fe.relative_path),Re(Fe),me({type:"complete",stage:"upload",message:"Archivo subido."}),ce(100)}catch(ge){const Fe=await Ri(ge);N(Fe),me({type:"error",stage:"upload",detail:Fe})}finally{P(null)}}async function Ye(){if(De(),!Ue){N("Ingresa o sube un archivo para obtener file_path.");return}P("inspect");try{me({type:"status",stage:"inspect",message:"Inspeccionando..."}),ce(50);const ge=await YT({file_path:c.trim(),open_password:m.trim()||null});Re(ge),me({type:"complete",stage:"inspect",message:"Inspeccin completada."}),ce(100)}catch(ge){const Fe=await Ri(ge);N(Fe),me({type:"error",stage:"inspect",detail:Fe})}finally{P(null)}}async function ut(){if(De(),!Ue){N("Ingresa o sube un archivo para obtener file_path.");return}if(!g.trim()){N("Ingresa el nombre de la hoja.");return}const ge=A.map(Fe=>({cell:Fe.cell.trim(),value:Fe.value})).filter(Fe=>Fe.cell);if(ge.length===0){N("Agrega al menos una edicin.");return}P("update");try{me({type:"status",stage:"update",message:"Aplicando ediciones..."}),ce(50);const Fe=await KT({file_path:c.trim(),edits:ge.map(je=>({sheet:g.trim(),cell:je.cell,value:je.value})),open_password:v.trim()||null,save_mode:w,new_password:w==="new_password"&&_.trim()||null});Re(Fe),me({type:"complete",stage:"update",message:"Actualizacin completada."}),ce(100)}catch(Fe){const je=await Ri(Fe);N(je),me({type:"error",stage:"update",detail:je})}finally{P(null)}}async function Te(){if(De(),!Ue){N("Ingresa o sube un archivo para obtener file_path.");return}if(!R.trim()){N("Ingresa la contrasea de apertura (open_password).");return}if(M==="new_password"&&!V.trim()){N("Ingresa la nueva contrasea.");return}P("change-password");try{me({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),ce(50);const ge=await XT({file_path:c.trim(),open_password:R.trim(),mode:M,new_password:M==="new_password"?V.trim():null});Re(ge),me({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),ce(100)}catch(ge){const Fe=await Ri(ge);N(Fe),me({type:"error",stage:"change-password",detail:Fe})}finally{P(null)}}async function He(){if(De(),!Ue){N("Ingresa o sube un archivo para obtener file_path.");return}let ge={};if(Oe.trim())try{ge=JSON.parse(Oe)}catch{N("type_rules debe ser JSON vlido.");return}const Fe=fe.split(",").map(je=>je.trim()).filter(Boolean);P("validate");try{me({type:"status",stage:"validate",message:"Validando..."}),ce(50);const je=await JT({file_path:c.trim(),sheet:K.trim()||null,header_row:Ne,required_columns:Fe,type_rules:ge,open_password:z.trim()||null});Re(je),me({type:"complete",stage:"validate",message:"Validacin completada."}),ce(100)}catch(je){const Ke=await Ri(je);N(Ke),me({type:"error",stage:"validate",detail:Ke})}finally{P(null)}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),o.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-8 mB-10",children:o.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!ee,onChange:ge=>a(ge.target.files?.[0]??null)})}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!ee,onChange:ge=>l(ge.target.value)})})]}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!!ee||!e,onClick:qe,children:ee==="upload"?"Subiendo...":"Subir"})]})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"file_path"}),o.jsx("input",{className:"form-control",value:c,disabled:!!ee,onChange:ge=>d(ge.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),o.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"2) Inspect"}),o.jsxs("div",{className:"row align-items-end",children:[o.jsxs("div",{className:"col-md-8 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!ee,onChange:ge=>h(ge.target.value)})]}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!ee||!Ue,onClick:Ye,children:ee==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"Hoja"}),o.jsx("input",{className:"form-control",value:g,disabled:!!ee,onChange:ge=>p(ge.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!ee,onChange:ge=>x(ge.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"save_mode"}),o.jsxs("select",{className:"form-select",value:w,disabled:!!ee,onChange:ge=>q(ge.target.value),children:[o.jsx("option",{value:"same_password",children:"same_password"}),o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:_,disabled:!!ee||w!=="new_password",onChange:ge=>j(ge.target.value),placeholder:w==="new_password"?"Requerido":""})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsx("label",{className:"form-label",children:"Ediciones"}),A.map((ge,Fe)=>o.jsxs("div",{className:"row g-2 mB-10",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("input",{className:"form-control",value:ge.cell,disabled:!!ee,onChange:je=>{const Ke=A.slice();Ke[Fe]={...Ke[Fe],cell:je.target.value},B(Ke)},placeholder:"Celda (A1)"})}),o.jsx("div",{className:"col-md-7",children:o.jsx("input",{className:"form-control",value:ge.value,disabled:!!ee,onChange:je=>{const Ke=A.slice();Ke[Fe]={...Ke[Fe],value:je.target.value},B(Ke)},placeholder:"Valor"})}),o.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!ee,onClick:()=>B(je=>[...je,{cell:"A1",value:""}]),children:"+"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!ee||A.length===1,onClick:()=>B(je=>je.filter((Ke,C)=>C!==Fe)),children:""})]})]},Fe))]}),o.jsx("button",{className:"btn btn-primary",disabled:!!ee||!Ue,onClick:ut,children:ee==="update"?"Actualizando...":"Update"})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"4) Change password"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password"}),o.jsx("input",{className:"form-control",type:"password",value:R,disabled:!!ee,onChange:ge=>W(ge.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"mode"}),o.jsxs("select",{className:"form-select",value:M,disabled:!!ee,onChange:ge=>O(ge.target.value),children:[o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:V,disabled:!!ee||M!=="new_password",onChange:ge=>U(ge.target.value),placeholder:M==="new_password"?"Requerido":""})]}),o.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!ee||!Ue,onClick:Te,children:ee==="change-password"?"Procesando...":"Change password"})})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"5) Validate"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"sheet (opcional)"}),o.jsx("input",{className:"form-control",value:K,disabled:!!ee,onChange:ge=>oe(ge.target.value)})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"header_row"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:Ne,disabled:!!ee,onChange:ge=>ve(Number(ge.target.value||1))})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:z,disabled:!!ee,onChange:ge=>F(ge.target.value)})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),o.jsx("input",{className:"form-control",value:fe,disabled:!!ee,onChange:ge=>Se(ge.target.value),placeholder:"ColA, ColB, ColC"})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),o.jsx("textarea",{className:"form-control",rows:3,value:Oe,disabled:!!ee,onChange:ge=>Ae(ge.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),o.jsx("button",{className:"btn btn-primary",disabled:!!ee||!Ue,onClick:He,children:ee==="validate"?"Validando...":"Validate"})]})}),le&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:le})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),ee?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${I??0}%`},"aria-valuenow":I??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:k.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:k.map((ge,Fe)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:ge.type})," ",ge.stage?o.jsxs("span",{className:"text-muted",children:["[",ge.stage,"]"]}):null]}),o.jsx("div",{className:"text-muted",children:ge.message??ge.detail??""})]},Fe))})}),o.jsx("hr",{className:"mY-15"}),o.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),ye?o.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(ye,null,2)}):o.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function N2(){const e=In(),a=Er(),{toast:s}=Ar(),l=Rn(),c=xl(l?.role),d=Li(),m=c&&!(d&&d>0),{data:h,isLoading:g,error:p}=Nr({queryKey:["catalogs"],queryFn:Gm,enabled:m}),v=h?.bancos??[],[x,w]=b.useState(()=>d&&d>0?d:0),[q,_]=b.useState(!1),j=b.useMemo(()=>v.find(W=>W.id===x)?.name??null,[v,x]);b.useEffect(()=>{const R=e.state;R?.toast&&(s({kind:R.toast.kind??"info",title:R.toast.title,message:R.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),b.useEffect(()=>{m&&(x>0||v.length>0&&w(v[0].id))},[x,v,m]);const A=x>0&&!q,B=async()=>{if(A)try{_(!0);const R=await Hx(x),W=dm(R.userId,R.bancoId??x);if(W.target){a(W.target,{replace:!0});return}s({kind:"success",title:"Banco",message:j?`Banco seleccionado: ${j}`:"Banco seleccionado."})}catch(R){const W=R?.response?.data?.detail??R?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(W)})}finally{_(!1)}};return o.jsxs("div",{className:"vi-home",children:[o.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:R=>w(Number(R.target.value)),disabled:g||q,children:v.map(R=>o.jsx("option",{value:R.id,children:R.name},R.id))}),p?o.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!A,onClick:B,children:q?"Guardando...":"Continuar"})})]})})})]})}const Ti=(...e)=>{};function w2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function _2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function j2(e,a){let s=null,l=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function E2(){const[e,a]=b.useState([]),[s,l]=b.useState(""),[c,d]=b.useState([]),[m,h]=b.useState(0),[g,p]=b.useState("Listo para procesar"),[v,x]=b.useState(!1),[w,q]=b.useState(""),[_,j]=b.useState(!1),[A,B]=b.useState(null),[R,W]=b.useState(null),[M,O]=b.useState(!1);function V(T){const Q=T?.series_duplicates_eliminated??T?.detail?.series_duplicates_eliminated??T?.series_duplcates_eliminated;return typeof Q=="number"?Q:null}const U={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function K(T){const Q=String(T??"").trim().toUpperCase();return Q?U[Q]??Q:""}function oe(T){if(!T)return"";let Q=Rl(T);Q=Q.replace(/\bERROR\b/gi,"Error");for(const[G,re]of Object.entries(U))Q=Q.replace(new RegExp(`\\b${G}\\b`,"g"),re);return Q}function Ne(T,Q){const G=K(T),re=oe(Q);return re?G&&!re.toLowerCase().includes(G.toLowerCase())?`${G}: ${re}`:re:G||"N/D"}function ve(T,Q,G){const re=String(G??"").trim();if(re)return re;const Ce=Number(T);if(!Number.isFinite(Ce)||Ce<=0)return"N/D";const Me=Number(Q);return Number.isFinite(Me)&&Me>0?`OI-${String(Ce).padStart(4,"0")}-${String(Me).padStart(4,"0")}`:`OI-${String(Ce).padStart(4,"0")}`}function fe(T){const Q=T?.rows_total_read??T?.totals_input?.rows_read;return typeof Q=="number"?Q:null}const Se=b.useMemo(()=>(Array.isArray(R?.audit_by_oi)?R.audit_by_oi:[]).filter(Q=>Q?.status==="OK"&&String(Q?.source??"").toUpperCase()==="BASES").slice().sort((Q,G)=>{const re=Number(Q?.oi_year),Ce=Number(G?.oi_year),Me=Number.isFinite(re)&&re>0,ae=Number.isFinite(Ce)&&Ce>0;if(Me&&ae&&re!==Ce)return re-Ce;if(Me&&!ae)return-1;if(!Me&&ae)return 1;const ze=Number(Q?.oi_num),Ie=Number(G?.oi_num),lt=Number.isFinite(ze),Xt=Number.isFinite(Ie);if(lt&&Xt&&ze!==Ie)return ze-Ie;if(lt&&!Xt)return-1;if(!lt&&Xt)return 1;const we=String(Q?.oi_tag??Q?.oi??Q?.oi_num??"").toUpperCase(),Xe=String(G?.oi_tag??G?.oi??G?.oi_num??"").toUpperCase();return we.localeCompare(Xe)}),[R]),Oe=b.useMemo(()=>(Array.isArray(R?.files_rejected)?R.files_rejected:[]).slice().sort((Q,G)=>{const re=String(Q?.oi??Q?.filename??"").toUpperCase(),Ce=String(G?.oi??G?.filename??"").toUpperCase();return re.localeCompare(Ce)}),[R]),Ae=b.useMemo(()=>{const T=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),Q=R?.by_source;if(Q&&typeof Q=="object")return Q;const G={BASES:T(),GASELAG:T()},re=Array.isArray(R?.audit_by_oi)?R.audit_by_oi:[];for(const Me of re){if(Me?.status!=="OK")continue;const ze=String(Me?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";G[ze].files_ok+=1,G[ze].rows_read+=Number(Me?.rows_read??0)||0,G[ze].conformes+=Number(Me?.conformes??0)||0,G[ze].no_conformes+=Number(Me?.no_conformes??0)||0,G[ze].rows_ignored_invalid_estado+=Number(Me?.rows_ignored_invalid_estado??0)||0}const Ce=Array.isArray(R?.files_rejected)?R.files_rejected:[];for(const Me of Ce){const ze=String(Me?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";G[ze].files_error+=1}for(const Me of["BASES","GASELAG"])G[Me].files_total=G[Me].files_ok+G[Me].files_error;return G},[R]),z=b.useRef(null),F=b.useRef(null),ee=b.useRef(null),P=b.useRef(!1),le=b.useRef(null),N=b.useRef(null),I=b.useRef(null),ce=b.useRef(!1),k=b.useRef(!1),de=b.useRef(-1),ye=b.useRef(-1),Re=b.useRef(!1);function Ue(){return le.current||(le.current=crypto.randomUUID()),le.current}function me(T){const Q=`${Sl(T.type)}  ${Ji(T.stage)}  ${oe(T.message??T.detail??"")}`;if(p(Q),d(G=>{const re=[T,...G];if(!Re.current&&T.stage==="cancelled"){Re.current=!0;const Ce=re.filter(Ie=>Ie.stage==="file_done"||Ie.stage==="file_error").length,Me=re.filter(Ie=>Ie.stage==="file_done").length,ae=re.filter(Ie=>Ie.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Ce} (OK: ${Me}, Rechazados: ${ae}). No se gener resultado final.`},...re]}return re}),T.type==="complete"){const G=T.result??null;W(G)}typeof T.progress=="number"&&h(Math.round(T.progress)),typeof T.percent=="number"&&h(Math.round(T.percent)),!P.current&&(T.type==="complete"||T.stage==="cancelled"||T.stage==="failed")&&(P.current=!0,T.type==="complete"?(j(!0),B(le.current)):(j(!1),B(null),le.current=null),x(!1),ut("terminal_event"),Te())}function De(T){return typeof T.cursor!="number"?!1:T.cursor<=ye.current?!0:(ye.current=T.cursor,T.cursor>de.current&&(de.current=T.cursor),!1)}function qe(T){P.current||De(T)||me(T)}function Ye(T,Q){const G=new FormData;G.append("operation_id",T),G.append("source","AUTO"),s.trim()&&G.append("output_filename",s.trim());for(const re of Q)G.append("files",re);return G}function ut(T){F.current&&(ee.current=T,F.current.abort(),F.current=null)}function Te(T){k.current&&(k.current=!1,N.current!=null&&(window.clearTimeout(N.current),N.current=null),I.current?.abort(),I.current=null,ce.current=!1)}function He(T){k.current&&(N.current!=null&&window.clearTimeout(N.current),N.current=window.setTimeout(()=>{ge()},T))}async function ge(){if(!k.current||ce.current)return;const T=le.current;if(!T){Te();return}ce.current=!0;try{const Q=await LT(T,de.current,I.current?.signal);Ti("[LOG01] poll cursor =",de.current,"->",Q.cursor_next),de.current=Q.cursor_next;for(const G of Q.events)qe(G);if(Q.done&&Q.events.length===0){Te("done");return}}catch(Q){Q?.name}finally{ce.current=!1,k.current&&He(350)}}function Fe(T){k.current||(k.current=!0,I.current=new AbortController,He(0))}function je(){z.current?.abort(),z.current=null}async function Ke(){if(!v)return;const T=le.current;if(T)try{await qT(T)}catch(Q){const G=Q;ct.isCancel(G)||q(G.response?.data?.detail||G.message||"No se pudo cancelar la operacion")}je()}async function C(){q(""),d([]),W(null),h(0),p("Listo para procesar"),j(!1),B(null),ee.current=null,P.current=!1,Re.current=!1,de.current=-1,ye.current=-1,Te();const T=[...e];if(!T.length){q("Debes seleccionar al menos 1 Excel.");return}le.current=null;const Q=Ue();let G=null,re=null;const Ce=new Promise((ze,Ie)=>{G=ze,re=Ie});F.current=new AbortController,z.current=new AbortController,zT(Q,ze=>{if(ze.type==="hello"){G&&(G(),G=null);return}qe(ze)},F.current.signal).then(()=>{P.current||Fe()}).catch(ze=>{ze?.name==="AbortError"?Ti("[LOG01] progress stream aborted (reason) =",ee.current):(re&&(re(ze),re=null),Fe())}),x(!0);try{await j2(Ce,1800)?Ti("[LOG01] hello received"):Fe("hello_timeout");const Ie=Ye(Q,T);Ti("[LOG01] operation_id(start) =",Q),await UT(Ie,z.current.signal)}catch(ze){const Ie=ze;if(ct.isCancel(Ie))return;const lt=Ie.response?.data?.detail||Ie.message||"Error inesperado";q(lt),x(!1),je(),ut("start_failed"),Te(),le.current=null}finally{je()}}async function Z(){const T=A??le.current;if(!T){q("No hay resultado disponible.");return}try{q(""),Ti("[LOG01] operation_id(result) =",T);const Q=await BT(T),G=Q.headers["content-disposition"],re=Q.headers["x-file-name"],Ce=w2(G)??re??"BD_CONSOLIDADO.xlsx";_2(Q.data,Ce)}catch(Q){const G=Q;if(ct.isCancel(G))return;const re=G.response?.data?.detail||G.message||"No se pudo descargar.";q(re)}}return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),w&&o.jsx("div",{className:"alert alert-danger",role:"alert",children:w}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx(ou,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:v}),o.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),o.jsx("input",{className:"form-control",value:s,onChange:T=>l(T.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),o.jsxs("div",{className:"vi-log01-actions",children:[o.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:C,disabled:v,children:v?"Procesando...":"Consolidar"}),v?o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Ke(),children:"Cancelar"}):null,!v&&_?o.jsx(o.Fragment,{children:o.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void Z(),children:"Descargar Excel"})}):null]})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),v?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),o.jsx("div",{className:"mT-10 text-muted",children:g})]}),!v&&R?o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),o.jsx("div",{className:"bd p-10",children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("div",{className:"small text-muted",children:"Archivos"}),o.jsxs("div",{className:"small",children:["Total: ",o.jsx("strong",{children:R.files_total??"N/D"}),"  OK:"," ",o.jsx("strong",{children:R.files_ok??"N/D"}),"  Rechazados:"," ",o.jsx("strong",{children:R.files_error??"N/D"})]}),o.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),o.jsx("tbody",{children:["BASES","GASELAG"].map(T=>{const Q=Ae?.[T]??{},G=Q?.files_total??Number(Q?.files_ok??0)+Number(Q?.files_error??0);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:T})}),o.jsxs("td",{style:{whiteSpace:"nowrap"},children:[o.jsx("strong",{children:G??0})," ",o.jsxs("span",{className:"text-muted",children:["(OK: ",Q?.files_ok??0,"  Rech: ",Q?.files_error??0,")"]})]}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.no_conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.rows_ignored_invalid_estado??0})})]},T)})})]})}),o.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),Se.length>0?o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),o.jsx("tbody",{children:Se.map((T,Q)=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:ve(T?.oi_num,T?.oi_year,T?.oi_tag??T?.oi)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:T?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:T?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:T?.no_conformes??0})})]},Q))})]})}):o.jsx("div",{className:"small text-muted",children:"N/D"}),Number(Ae?.GASELAG?.rows_read??0)>0?o.jsxs("div",{className:"mT-10 small",children:[o.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",o.jsx("strong",{children:Ae.GASELAG.rows_read??0}),"  Conformes:"," ",o.jsx("strong",{children:Ae.GASELAG.conformes??0}),"  No conformes:"," ",o.jsx("strong",{children:Ae.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",o.jsx("strong",{children:Ae.GASELAG.rows_ignored_invalid_estado??0})]}):null,o.jsxs("div",{className:"col-12 mT-10 p-0",children:[o.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),o.jsxs("div",{className:"small",children:["Registros ledos:"," ",o.jsx("strong",{children:R.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",o.jsx("strong",{children:R.totals_input?.conformes??"N/D"}),"  No conformes:"," ",o.jsx("strong",{children:R.totals_input?.no_conformes??"N/D"})]})]})]}),o.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[Oe.length>0?o.jsxs("div",{className:"mT-15",children:[o.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),o.jsx("tbody",{children:Oe.map((T,Q)=>{const G=Ne(T?.code,T?.detail),re=String(T?.source??"").toUpperCase();let Ce=T?.filename??"N/D";if(re==="BASES"){const Me=Number(T?.oi_num),ae=ve(Me,T?.oi_year,T?.oi_tag??T?.oi);ae!=="N/D"&&(Ce=`${ae} / ${Ce}`)}else re==="GASELAG"&&(Ce=`GASELAG / ${Ce}`);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:Ce}),o.jsx("td",{children:G})]},Q)})})]})})]}):null,o.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),o.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",o.jsx("strong",{children:R.series_total_dedup??"N/D"}),"  Conformes finales:"," ",o.jsx("strong",{children:R.series_conformes??"N/D"}),"  No conformes finales:"," ",o.jsx("strong",{children:R.series_no_conformes_final??"N/D"})]}),o.jsx("div",{className:"mT-10",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(T=>!T),children:M?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),M?o.jsxs("div",{className:"mT-10",children:[o.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),o.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",o.jsx("strong",{children:fe(R)??"N/D"})," "," Duplicados eliminados:"," ",o.jsx("strong",{children:V(R)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",o.jsx("strong",{children:(()=>{const T=fe(R),Q=V(R);if(typeof T=="number"&&typeof Q=="number")return T-Q;const G=R.series_total_dedup;return typeof G=="number"?G:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Eventos"}),o.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((T,Q)=>{const G=String(T.message??""),re=String(T.code??""),Ce=String(T.detail??""),Me=oe(G||Ce||""),ae=Me.toLowerCase(),ze=K(re),Ie=oe(Ce),lt=[];ze&&!ae.includes(ze.toLowerCase())&&lt.push(ze),Ie&&!ae.includes(Ie.toLowerCase())&&lt.push(Ie);const Xt=lt.join("  ");return o.jsxs("div",{className:"small",children:[Sl(T.type),"  ",Me,Xt?o.jsxs("span",{className:"text-muted",children:[" (",Xt,")"]}):null]},Q)})})]})]})})})})}const A2="America/Lima";function C2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function O2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function R2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:A2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function Gf(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function bv(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function T2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning text-dark":"badge bg-secondary"}function D2(){const e=Er(),a=Rn(),s=wa(a?.role,a?.username),l=s==="admin"||s==="administrator",[c,d]=b.useState([]),[m,h]=b.useState(0),[g,p]=b.useState(!1),[v,x]=b.useState(""),[w,q]=b.useState(0),[_,j]=b.useState(""),[A,B]=b.useState(""),[R,W]=b.useState(""),[M,O]=b.useState(""),[V,U]=b.useState(""),[K,oe]=b.useState(20),[Ne,ve]=b.useState(1),[fe,Se]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),Oe=b.useMemo(()=>(Ne-1)*K,[Ne,K]);b.useEffect(()=>{let k=!1;return p(!0),x(""),IT({limit:K,offset:Oe,include_deleted:!1,q:fe.q||void 0,dateFrom:fe.dateFrom||void 0,dateTo:fe.dateTo||void 0,source:fe.source||void 0,status:fe.status||void 0}).then(de=>{k||(d(Array.isArray(de?.items)?de.items:[]),h(typeof de?.total=="number"?de.total:0))}).catch(de=>{if(k)return;const ye=de,Re=ye.response?.data?.detail||ye.message||"No se pudo cargar historial.";x(Re)}).finally(()=>{k||p(!1)}),()=>{k=!0}},[fe,Oe,K,w]);const Ae=()=>{Se({q:_.trim(),dateFrom:A.trim(),dateTo:R.trim(),source:M.trim(),status:V.trim()}),ve(1)},z=()=>{j(""),B(""),W(""),O(""),U(""),Se({q:"",dateFrom:"",dateTo:"",source:"",status:""}),ve(1),q(k=>k+1)},F=()=>q(k=>k+1),ee=async(k,de)=>{try{x("");const ye=await FT(k,de),Re=ye.headers["content-disposition"],Ue=ye.headers["x-file-name"],me=C2(Re)??Ue??`${de}.bin`;O2(ye.data,me)}catch(ye){const Re=ye;if(ct.isCancel(Re))return;const Ue=Re.response?.data?.detail||Re.message||"No se pudo descargar.";x(Ue)}},P=async k=>{if(l&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await $T(k),F()}catch(de){const ye=de;if(ct.isCancel(ye))return;const Re=ye.response?.data?.detail||ye.message||"No se pudo eliminar.";x(Re)}},le=m===0?0:Oe+1,N=m===0?0:Math.min(Oe+c.length,m),I=Ne>1,ce=Oe+c.length<m;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),v?o.jsx("div",{className:"alert alert-danger",role:"alert",children:v}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:k=>{k.preventDefault(),Ae()},children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:_,onChange:k=>j(k.target.value),onKeyDown:k=>{k.key==="Enter"&&Ae()},placeholder:"Usuario, serie inicial, serie final..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:A,onChange:k=>B(k.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:R,onChange:k=>W(k.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:M,onChange:k=>O(k.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"AUTO",children:"AUTO"}),o.jsx("option",{value:"BASES",children:"BASES"}),o.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Estado"}),o.jsxs("select",{className:"form-select form-select-sm",value:V,onChange:k=>U(k.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),o.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),o.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),o.jsxs("div",{className:"col-md-1",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:K,onChange:k=>{const de=Number(k.target.value);oe(Number.isFinite(de)?de:20),ve(1)},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:g,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:z,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:F,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[g?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:c.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(k=>{const de=k.summary_json,ye=bv(de,"serie_ini"),Re=bv(de,"serie_fin"),Ue=Gf(de,"series_total_dedup"),me=Gf(de,"series_conformes"),De=Gf(de,"series_no_conformes_final"),qe=k.created_by_full_name||k.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:R2(k.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:qe}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:T2(k.status),children:k.status})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:ye}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:Re}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Ue})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:me})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:De})}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void ee(k.id,"excel"),children:"Excel"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void ee(k.id,"no-conforme"),children:"No conforme"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void ee(k.id,"manifiesto"),children:"Manifiesto"}),l?o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void P(k.id),children:"Eliminar"}):null]})})]},k.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",le,"-",N," de ",m]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>ve(k=>Math.max(1,k-1)),disabled:!I||g,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>ve(k=>k+1),disabled:!ce||g,children:"Siguiente"})]})]})]})]})})})})}function fl(e){return e===!0?"badge bg-success":e===!1?"badge bg-danger":"badge bg-secondary"}function z2(){const[e,a]=b.useState([""]),[s,l]=b.useState(""),[c,d]=b.useState(!1),[m,h]=b.useState(""),[g,p]=b.useState(null),[v,x]=b.useState(!1),[w,q]=b.useState("origen"),[_,j]=b.useState([]),[A,B]=b.useState(""),[R,W]=b.useState(""),[M,O]=b.useState([]),[V,U]=b.useState(!1),[K,oe]=b.useState(""),Ne=b.useMemo(()=>e.map(P=>(P??"").trim()),[e]);function ve(P,le){a(N=>{const I=N.slice();return I[P]=le,I})}function fe(){a(P=>[...P,""])}function Se(P){a(le=>{if(le.length<=1)return le;const N=le.slice();return N.splice(P,1),N})}async function Oe(P){q(P),oe(""),x(!0);try{const N=(await HT()).roots||[];j(N);const I=N[0]||"";B(I),W(I),I?await Ae(I):(O([]),oe("No hay rutas raz configuradas para el explorador. Configure VI_LOG02_UNC_ROOTS en el servidor."))}catch(le){const N=le,I=N.response?.data?.detail||N.message||"No se pudo cargar las rutas raz.";oe(I),O([])}}async function Ae(P){if(oe(""),!P){O([]);return}try{U(!0);const le=await VT(P);W(le.path),O(le.folders||[])}catch(le){const N=le,I=N.response?.data?.detail||N.message||"No se pudo listar la carpeta.";oe(I),O([])}finally{U(!1)}}function z(){const P=(R||"").replace(/[\\\/]+$/,""),le=P.lastIndexOf("\\");if(le<=0)return;const N=P.slice(0,le);Ae(N)}function F(){R&&(w==="destino"?l(R):a(P=>{const le=R.trim();return!le||P.map(N=>(N||"").trim()).includes(le)?P:P.length===1&&!(P[0]||"").trim()?[le]:[...P,le]}),x(!1))}async function ee(){h(""),p(null);const P=(s??"").trim(),le=Ne.filter(N=>N);if(!le.length){h("Debes ingresar al menos una ruta de origen.");return}if(!P){h("Debes ingresar una ruta de destino.");return}try{d(!0);const N=await ZT({rutas_origen:le,ruta_destino:P});p(N),N.ok||h("Validacin incompleta: revisa los detalles de permisos y existencia.")}catch(N){const I=N;if(ct.isCancel(I))return;const ce=I.response?.data?.detail||I.message||"No se pudo validar las rutas.";h(ce)}finally{d(!1)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Filtrado de certificados PDF (LOG-02)"}),o.jsxs("div",{className:"text-muted small",children:["Este mdulo se orienta a ",o.jsx("strong",{children:"copiar"})," y ",o.jsx("strong",{children:"filtrar"})," certificados PDF desde una",o.jsx("strong",{children:" carpeta compartida"})," (no ZIP).",o.jsx("br",{}),"Configura las rutas UNC y valida accesos antes de iniciar el filtrado."]}),m?o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:m}):null,o.jsxs("div",{className:"mT-15",children:[o.jsx("h6",{className:"c-grey-900 mB-10",children:"Rutas UNC"}),o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Rutas origen (UNC)  lectura"}),e.map((P,le)=>o.jsxs("div",{className:"d-flex gap-10 mB-10",children:[o.jsx("input",{className:"form-control form-control-sm",value:P,onChange:N=>ve(le,N.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Certificados",disabled:c}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>void Oe("origen"),disabled:c,title:"Elegir carpeta",children:"Elegir"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:fe,disabled:c,title:"Agregar ruta",children:"+"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Se(le),disabled:c||e.length<=1,title:"Quitar ruta",children:""})]},le)),o.jsxs("div",{className:"small text-muted",children:["Nota: estas rutas deben ser accesibles ",o.jsx("strong",{children:"desde el servidor"})," donde corre el backend."]})]}),o.jsxs("div",{className:"col-12 col-md-8",children:[o.jsx("label",{className:"form-label",children:"Ruta destino (UNC)  lectura y escritura"}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("input",{className:"form-control form-control-sm",value:s,onChange:P=>l(P.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Salida_LOG02",disabled:c}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>void Oe("destino"),disabled:c,title:"Elegir carpeta",children:"Elegir"})]})]}),o.jsx("div",{className:"col-12 col-md-4 d-flex align-items-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-primary w-100",onClick:()=>void ee(),disabled:c,children:c?"Validando...":"Validar"})})]})]}),g?o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado de validacin"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),o.jsx("th",{children:"Ruta"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Existe"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Lectura"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Escritura"}),o.jsx("th",{children:"Detalle"})]})}),o.jsxs("tbody",{children:[g.origenes.map((P,le)=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:"Origen"})}),o.jsx("td",{style:{wordBreak:"break-all"},children:P.ruta||"N/D"}),o.jsx("td",{children:o.jsx("span",{className:fl(P.existe),children:P.existe?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:fl(P.lectura),children:P.lectura?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:fl(null),children:""})}),o.jsx("td",{children:P.detalle||""})]},`o-${le}`)),o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:"Destino"})}),o.jsx("td",{style:{wordBreak:"break-all"},children:g.destino.ruta||"N/D"}),o.jsx("td",{children:o.jsx("span",{className:fl(g.destino.existe),children:g.destino.existe?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:fl(g.destino.lectura),children:g.destino.lectura?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:fl(!!g.destino.escritura),children:g.destino.escritura?"S":"No"})}),o.jsx("td",{children:g.destino.detalle||""})]})]})]})}),g.ok?o.jsx("div",{className:"alert alert-success mT-15",role:"alert",children:"Rutas validadas correctamente. Puedes continuar con la siguiente fase."}):o.jsx("div",{className:"alert alert-warning mT-15",role:"alert",children:"Hay rutas con problemas. Corrige existencia/permisos y vuelve a validar."})]}):null]})})}),v?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:w==="destino"?"Elegir carpeta de destino":"Elegir carpeta de origen"}),o.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>x(!1),children:o.jsx("span",{"aria-hidden":"true",children:""})})]}),o.jsxs("div",{className:"modal-body",children:[K?o.jsx("div",{className:"alert alert-danger",role:"alert",children:K}):null,o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("label",{className:"form-label",children:"Raz"}),o.jsx("select",{className:"form-control form-control-sm",value:A,onChange:P=>{const le=P.target.value;B(le),Ae(le)},disabled:!_.length,children:_.length?_.map(P=>o.jsx("option",{value:P,children:P},P)):o.jsx("option",{value:"",children:"Sin races"})})]}),o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("label",{className:"form-label",children:"Carpeta actual"}),o.jsx("input",{className:"form-control form-control-sm",value:R,readOnly:!0})]})]}),o.jsxs("div",{className:"d-flex gap-10 mT-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:z,disabled:!R||V,children:"Subir nivel"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:F,disabled:!R||V,children:"Seleccionar esta carpeta"})]}),o.jsx("hr",{}),V?o.jsx("div",{className:"text-muted small",children:"Cargando carpetas..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{children:"Subcarpetas"}),o.jsx("th",{style:{width:120}})]})}),o.jsx("tbody",{children:M.length?M.map(P=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{wordBreak:"break-all"},children:P.name}),o.jsx("td",{children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>void Ae(P.path),children:"Entrar"})})]},P.path)):o.jsx("tr",{className:"small",children:o.jsx("td",{colSpan:2,className:"text-muted",children:"Sin subcarpetas o sin permisos para listar."})})})]})})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>x(!1),children:"Cerrar"})})]})})}),o.jsx("div",{className:"modal-backdrop fade show"})]}):null]})}function M2(){const e=Rn();return o.jsx(o.Fragment,{children:o.jsxs(Rw,{children:[o.jsx(Vt,{path:"/login",element:e?.token?o.jsx(Vs,{to:"/home",replace:!0}):o.jsx(yE,{})}),o.jsx(Vt,{element:o.jsx(iT,{}),children:o.jsxs(Vt,{element:o.jsx(fT,{}),children:[o.jsx(Vt,{path:"/",element:o.jsx(Vs,{to:"/home",replace:!0})}),o.jsx(Vt,{path:"/home",element:o.jsx(N2,{})}),o.jsx(Vt,{path:"/oi",element:o.jsx(fv,{})}),o.jsx(Vt,{path:"/oi/:oiId",element:o.jsx(fv,{})}),o.jsx(Vt,{path:"/oi/list",element:o.jsx(mT,{})}),o.jsx(Vt,{path:"/users",element:o.jsx(pT,{})}),o.jsx(Vt,{path:"/password",element:o.jsx(gT,{})}),o.jsx(Vt,{path:"/admin/permisos",element:o.jsx(vT,{})}),o.jsx(Vt,{path:"/logistica/log01/excel",element:o.jsx(E2,{})}),o.jsx(Vt,{path:"/logistica/log01/history",element:o.jsx(D2,{})}),o.jsx(Vt,{path:"/logistica/log02/pdfs",element:o.jsx(z2,{})}),o.jsx(Vt,{path:"/oi/tools/vima-to-lista",element:o.jsx(TT,{})}),o.jsx(Vt,{path:"/oi/tools/actualizacion-base",element:o.jsx(s2,{})}),o.jsx(Vt,{path:"/oi/tools/formato-ac/history",element:o.jsx(d2,{})}),o.jsx(Vt,{path:"/oi/tools/consolidacion",element:o.jsx(f2,{})}),o.jsx(Vt,{path:"/oi/tools/consolidacion/correlativo",element:o.jsx(g2,{})}),o.jsx(Vt,{path:"/oi/tools/consolidacion/no-correlativo",element:o.jsx(x2,{})}),o.jsx(Vt,{path:"/oi/tools/excel",element:o.jsx(S2,{})})]})}),o.jsx(Vt,{path:"*",element:o.jsx(Vs,{to:e?.token?"/home":"/login",replace:!0})})]})})}const k2=new T_;LN.createRoot(document.getElementById("root")).render(o.jsx(rt.StrictMode,{children:o.jsx(D_,{client:k2,children:o.jsx(e_,{children:o.jsx(gE,{children:o.jsx(M2,{})})})})}));
