(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}})();function pb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uf={exports:{}},wi={};var Ty;function N_(){if(Ty)return wi;Ty=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,o,d){var m=null;if(d!==void 0&&(m=""+d),o.key!==void 0&&(m=""+o.key),"key"in o){d={};for(var h in o)h!=="key"&&(d[h]=o[h])}else d=o;return o=d.ref,{$$typeof:e,type:l,key:m,ref:o!==void 0?o:null,props:d}}return wi.Fragment=a,wi.jsx=r,wi.jsxs=r,wi}var Dy;function E_(){return Dy||(Dy=1,uf.exports=N_()),uf.exports}var c=E_(),df={exports:{}},We={};var zy;function j_(){if(zy)return We;zy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function L(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function U(N,Y,oe){this.props=N,this.context=Y,this.refs=w,this.updater=oe||E}U.prototype.isReactComponent={},U.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function D(){}D.prototype=U.prototype;function ee(N,Y,oe){this.props=N,this.context=Y,this.refs=w,this.updater=oe||E}var C=ee.prototype=new D;C.constructor=ee,A(C,U.prototype),C.isPureReactComponent=!0;var O=Array.isArray;function te(){}var q={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function ce(N,Y,oe){var pe=oe.ref;return{$$typeof:e,type:N,key:Y,ref:pe!==void 0?pe:null,props:oe}}function we(N,Y){return ce(N.type,Y,N.props)}function xe(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function me(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return Y[oe]})}var be=/\/+/g;function Ae(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?me(""+N.key):Y.toString(36)}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(te,te):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function B(N,Y,oe,pe,Re){var Te=typeof N;(Te==="undefined"||Te==="boolean")&&(N=null);var Me=!1;if(N===null)Me=!0;else switch(Te){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(N.$$typeof){case e:case a:Me=!0;break;case v:return Me=N._init,B(Me(N._payload),Y,oe,pe,Re)}}if(Me)return Re=Re(N),Me=pe===""?"."+Ae(N,0):pe,O(Re)?(oe="",Me!=null&&(oe=Me.replace(be,"$&/")+"/"),B(Re,Y,oe,"",function(Ue){return Ue})):Re!=null&&(xe(Re)&&(Re=we(Re,oe+(Re.key==null||N&&N.key===Re.key?"":(""+Re.key).replace(be,"$&/")+"/")+Me)),Y.push(Re)),1;Me=0;var $e=pe===""?".":pe+":";if(O(N))for(var he=0;he<N.length;he++)pe=N[he],Te=$e+Ae(pe,he),Me+=B(pe,Y,oe,Te,Re);else if(he=L(N),typeof he=="function")for(N=he.call(N),he=0;!(pe=N.next()).done;)pe=pe.value,Te=$e+Ae(pe,he++),Me+=B(pe,Y,oe,Te,Re);else if(Te==="object"){if(typeof N.then=="function")return B(ve(N),Y,oe,pe,Re);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function re(N,Y,oe){if(N==null)return N;var pe=[],Re=0;return B(N,pe,"","",function(Te){return Y.call(oe,Te,Re++)}),pe}function se(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var Oe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ee={map:re,forEach:function(N,Y,oe){re(N,function(){Y.apply(this,arguments)},oe)},count:function(N){var Y=0;return re(N,function(){Y++}),Y},toArray:function(N){return re(N,function(Y){return Y})||[]},only:function(N){if(!xe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return We.Activity=x,We.Children=Ee,We.Component=U,We.Fragment=r,We.Profiler=o,We.PureComponent=ee,We.StrictMode=l,We.Suspense=y,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,We.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},We.cache=function(N){return function(){return N.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(N,Y,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var pe=A({},N.props),Re=N.key;if(Y!=null)for(Te in Y.key!==void 0&&(Re=""+Y.key),Y)!ne.call(Y,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Y.ref===void 0||(pe[Te]=Y[Te]);var Te=arguments.length-2;if(Te===1)pe.children=oe;else if(1<Te){for(var Me=Array(Te),$e=0;$e<Te;$e++)Me[$e]=arguments[$e+2];pe.children=Me}return ce(N.type,Re,pe)},We.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},We.createElement=function(N,Y,oe){var pe,Re={},Te=null;if(Y!=null)for(pe in Y.key!==void 0&&(Te=""+Y.key),Y)ne.call(Y,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Re[pe]=Y[pe]);var Me=arguments.length-2;if(Me===1)Re.children=oe;else if(1<Me){for(var $e=Array(Me),he=0;he<Me;he++)$e[he]=arguments[he+2];Re.children=$e}if(N&&N.defaultProps)for(pe in Me=N.defaultProps,Me)Re[pe]===void 0&&(Re[pe]=Me[pe]);return ce(N,Te,Re)},We.createRef=function(){return{current:null}},We.forwardRef=function(N){return{$$typeof:h,render:N}},We.isValidElement=xe,We.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:se}},We.memo=function(N,Y){return{$$typeof:p,type:N,compare:Y===void 0?null:Y}},We.startTransition=function(N){var Y=q.T,oe={};q.T=oe;try{var pe=N(),Re=q.S;Re!==null&&Re(oe,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(te,Oe)}catch(Te){Oe(Te)}finally{Y!==null&&oe.types!==null&&(Y.types=oe.types),q.T=Y}},We.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},We.use=function(N){return q.H.use(N)},We.useActionState=function(N,Y,oe){return q.H.useActionState(N,Y,oe)},We.useCallback=function(N,Y){return q.H.useCallback(N,Y)},We.useContext=function(N){return q.H.useContext(N)},We.useDebugValue=function(){},We.useDeferredValue=function(N,Y){return q.H.useDeferredValue(N,Y)},We.useEffect=function(N,Y){return q.H.useEffect(N,Y)},We.useEffectEvent=function(N){return q.H.useEffectEvent(N)},We.useId=function(){return q.H.useId()},We.useImperativeHandle=function(N,Y,oe){return q.H.useImperativeHandle(N,Y,oe)},We.useInsertionEffect=function(N,Y){return q.H.useInsertionEffect(N,Y)},We.useLayoutEffect=function(N,Y){return q.H.useLayoutEffect(N,Y)},We.useMemo=function(N,Y){return q.H.useMemo(N,Y)},We.useOptimistic=function(N,Y){return q.H.useOptimistic(N,Y)},We.useReducer=function(N,Y,oe){return q.H.useReducer(N,Y,oe)},We.useRef=function(N){return q.H.useRef(N)},We.useState=function(N){return q.H.useState(N)},We.useSyncExternalStore=function(N,Y,oe){return q.H.useSyncExternalStore(N,Y,oe)},We.useTransition=function(){return q.H.useTransition()},We.version="19.2.0",We}var My;function Sm(){return My||(My=1,df.exports=j_()),df.exports}var b=Sm();const st=pb(b);var ff={exports:{}},Ni={},mf={exports:{}},hf={};var ky;function A_(){return ky||(ky=1,(function(e){function a(B,re){var se=B.length;B.push(re);e:for(;0<se;){var Oe=se-1>>>1,Ee=B[Oe];if(0<o(Ee,re))B[Oe]=re,B[se]=Ee,se=Oe;else break e}}function r(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var re=B[0],se=B.pop();if(se!==re){B[0]=se;e:for(var Oe=0,Ee=B.length,N=Ee>>>1;Oe<N;){var Y=2*(Oe+1)-1,oe=B[Y],pe=Y+1,Re=B[pe];if(0>o(oe,se))pe<Ee&&0>o(Re,oe)?(B[Oe]=Re,B[pe]=se,Oe=pe):(B[Oe]=oe,B[Y]=se,Oe=Y);else if(pe<Ee&&0>o(Re,se))B[Oe]=Re,B[pe]=se,Oe=pe;else break e}}return re}function o(B,re){var se=B.sortIndex-re.sortIndex;return se!==0?se:B.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var y=[],p=[],v=1,x=null,_=3,L=!1,E=!1,A=!1,w=!1,U=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var re=r(p);re!==null;){if(re.callback===null)l(p);else if(re.startTime<=B)l(p),re.sortIndex=re.expirationTime,a(y,re);else break;re=r(p)}}function O(B){if(A=!1,C(B),!E)if(r(y)!==null)E=!0,te||(te=!0,me());else{var re=r(p);re!==null&&ve(O,re.startTime-B)}}var te=!1,q=-1,ne=5,ce=-1;function we(){return w?!0:!(e.unstable_now()-ce<ne)}function xe(){if(w=!1,te){var B=e.unstable_now();ce=B;var re=!0;try{e:{E=!1,A&&(A=!1,D(q),q=-1),L=!0;var se=_;try{t:{for(C(B),x=r(y);x!==null&&!(x.expirationTime>B&&we());){var Oe=x.callback;if(typeof Oe=="function"){x.callback=null,_=x.priorityLevel;var Ee=Oe(x.expirationTime<=B);if(B=e.unstable_now(),typeof Ee=="function"){x.callback=Ee,C(B),re=!0;break t}x===r(y)&&l(y),C(B)}else l(y);x=r(y)}if(x!==null)re=!0;else{var N=r(p);N!==null&&ve(O,N.startTime-B),re=!1}}break e}finally{x=null,_=se,L=!1}re=void 0}}finally{re?me():te=!1}}}var me;if(typeof ee=="function")me=function(){ee(xe)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ae=be.port2;be.port1.onmessage=xe,me=function(){Ae.postMessage(null)}}else me=function(){U(xe,0)};function ve(B,re){q=U(function(){B(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(B){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var se=_;_=re;try{return B()}finally{_=se}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=_;_=B;try{return re()}finally{_=se}},e.unstable_scheduleCallback=function(B,re,se){var Oe=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Oe+se:Oe):se=Oe,B){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=se+Ee,B={id:v++,callback:re,priorityLevel:B,startTime:se,expirationTime:Ee,sortIndex:-1},se>Oe?(B.sortIndex=se,a(p,B),r(y)===null&&B===r(p)&&(A?(D(q),q=-1):A=!0,ve(O,se-Oe))):(B.sortIndex=Ee,a(y,B),E||L||(E=!0,te||(te=!0,me()))),B},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(B){var re=_;return function(){var se=_;_=re;try{return B.apply(this,arguments)}finally{_=se}}}})(hf)),hf}var Uy;function O_(){return Uy||(Uy=1,mf.exports=A_()),mf.exports}var pf={exports:{}},Tn={};var Ly;function C_(){if(Ly)return Tn;Ly=1;var e=Sm();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(y,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:p,implementation:v}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Tn.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(y,p,null,v)},Tn.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},Tn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},Tn.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Tn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:L}):v==="script"&&l.d.X(y,{crossOrigin:x,integrity:_,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},Tn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tn.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},Tn.requestFormReset=function(y){l.d.r(y)},Tn.unstable_batchedUpdates=function(y,p){return y(p)},Tn.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},Tn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Tn.version="19.2.0",Tn}var qy;function R_(){if(qy)return pf.exports;qy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),pf.exports=C_(),pf.exports}var By;function T_(){if(By)return Ni;By=1;var e=O_(),a=Sm(),r=R_();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var s=t,i=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){s=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return y(u),t;if(f===i)return y(u),n;f=f.sibling}throw Error(l(188))}if(s.return!==i.return)s=u,i=f;else{for(var g=!1,S=u.child;S;){if(S===s){g=!0,s=u,i=f;break}if(S===i){g=!0,i=u,s=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===s){g=!0,s=f,i=u;break}if(S===i){g=!0,i=f,s=u;break}S=S.sibling}if(!g)throw Error(l(189))}}if(s.alternate!==i)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),we=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var be=Symbol.for("react.client.reference");function Ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===be?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case U:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case te:return"SuspenseList";case ce:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case ee:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case C:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return n=t.displayName||null,n!==null?n:Ae(t.type)||"Memo";case ne:n=t._payload,t=t._init;try{return Ae(t(n))}catch{}}return null}var ve=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Oe=[],Ee=-1;function N(t){return{current:t}}function Y(t){0>Ee||(t.current=Oe[Ee],Oe[Ee]=null,Ee--)}function oe(t,n){Ee++,Oe[Ee]=t.current,t.current=n}var pe=N(null),Re=N(null),Te=N(null),Me=N(null);function $e(t,n){switch(oe(Te,n),oe(Re,t),oe(pe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ey(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ey(n),t=ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(pe),oe(pe,t)}function he(){Y(pe),Y(Re),Y(Te)}function Ue(t){t.memoizedState!==null&&oe(Me,t);var n=pe.current,s=ty(n,t.type);n!==s&&(oe(Re,t),oe(pe,s))}function Qe(t){Re.current===t&&(Y(pe),Y(Re)),Me.current===t&&(Y(Me),bi._currentValue=se)}var Se,Ye;function Le(t){if(Se===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Se=n&&n[1]||"",Ye=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+t+Ye}var Xe=!1;function Ne(t,n){if(!t||Xe)return"";Xe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(W){var Q=W}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(W){Q=W}t.call(ue.prototype)}}else{try{throw Error()}catch(W){Q=W}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),g=f[0],S=f[1];if(g&&S){var T=g.split(`
`),Z=S.split(`
`);for(u=i=0;i<T.length&&!T[i].includes("DetermineComponentFrameRoot");)i++;for(;u<Z.length&&!Z[u].includes("DetermineComponentFrameRoot");)u++;if(i===T.length||u===Z.length)for(i=T.length-1,u=Z.length-1;1<=i&&0<=u&&T[i]!==Z[u];)u--;for(;1<=i&&0<=u;i--,u--)if(T[i]!==Z[u]){if(i!==1||u!==1)do if(i--,u--,0>u||T[i]!==Z[u]){var ae=`
`+T[i].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=i&&0<=u);break}}}finally{Xe=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Le(s):""}function Ke(t,n){switch(t.tag){case 26:case 27:case 5:return Le(t.type);case 16:return Le("Lazy");case 13:return t.child!==n&&n!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Ne(t.type,!1);case 11:return Ne(t.type.render,!1);case 1:return Ne(t.type,!0);case 31:return Le("Activity");default:return""}}function lt(t){try{var n="",s=null;do n+=Ke(t,s),s=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Et=Object.prototype.hasOwnProperty,R=e.unstable_scheduleCallback,$=e.unstable_cancelCallback,J=e.unstable_shouldYield,je=e.unstable_requestPaint,z=e.unstable_now,k=e.unstable_getCurrentPriorityLevel,P=e.unstable_ImmediatePriority,_e=e.unstable_UserBlockingPriority,G=e.unstable_NormalPriority,Ce=e.unstable_LowPriority,He=e.unstable_IdlePriority,Be=e.log,mt=e.unstable_setDisableYieldValue,de=null,Pe=null;function Gt(t){if(typeof Be=="function"&&mt(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(de,t)}catch{}}var St=Math.clz32?Math.clz32:Ya,_n=Math.log,kn=Math.LN2;function Ya(t){return t>>>=0,t===0?32:31-(_n(t)/kn|0)|0}var na=256,at=262144,ja=4194304;function da(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Aa(t,n,s){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=da(i):(g&=S,g!==0?u=da(g):s||(s=S&~t,s!==0&&(u=da(s))))):(S=i&~f,S!==0?u=da(S):g!==0?u=da(g):s||(s=i&~t,s!==0&&(u=da(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function Fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $n(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var t=ja;return ja<<=1,(ja&62914560)===0&&(ja=4194304),t}function K(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ge(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ke(t,n,s,i,u,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,T=t.expirationTimes,Z=t.hiddenUpdates;for(s=g&~s;0<s;){var ae=31-St(s),ue=1<<ae;S[ae]=0,T[ae]=-1;var Q=Z[ae];if(Q!==null)for(Z[ae]=null,ae=0;ae<Q.length;ae++){var W=Q[ae];W!==null&&(W.lane&=-536870913)}s&=~ue}i!==0&&Je(t,i,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Je(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-St(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|s&261930}function it(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var i=31-St(s),u=1<<i;u&n|t[i]&n&&(t[i]|=n),s&=~u}}function Ie(t,n){var s=n&-n;return s=(s&42)!==0?1:Qt(s),(s&(t.suspendedLanes|n))!==0?0:s}function Qt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tt(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Ny(t.type))}function gn(t,n){var s=re.p;try{return re.p=t,n()}finally{re.p=s}}var jt=Math.random().toString(36).slice(2),ot="__reactFiber$"+jt,yt="__reactProps$"+jt,Ut="__reactContainer$"+jt,dn="__reactEvents$"+jt,wn="__reactListeners$"+jt,yn="__reactHandles$"+jt,fn="__reactResources$"+jt,It="__reactMarker$"+jt;function Un(t){delete t[ot],delete t[yt],delete t[dn],delete t[wn],delete t[yn]}function en(t){var n=t[ot];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ut]||s[ot]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=oy(t);t!==null;){if(s=t[ot])return s;t=oy(t)}return n}t=s,s=t.parentNode}return null}function vn(t){if(t=t[ot]||t[Ut]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Rn(t){var n=t[fn];return n||(n=t[fn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[It]=!0}var Rs=new Set,Oa={};function Nn(t,n){Vn(t,n),Vn(t+"Capture",n)}function Vn(t,n){for(Oa[t]=n,t=0;t<n.length;t++)Rs.add(n[t])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ts={},Pa={};function Qr(t){return Et.call(Pa,t)?!0:Et.call(Ts,t)?!1:Ka.test(t)?Pa[t]=!0:(Ts[t]=!0,!1)}function tn(t,n,s){if(Qr(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ca(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Zn(t,n,s,i){if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+i)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wi(t,n,s){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Dl(t){if(!t._valueTracker){var n=Tl(t)?"checked":"value";t._valueTracker=Wi(t,n,""+t[n])}}function zl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),i="";return t&&(i=Tl(t)?t.checked?"true":"false":t.value),t=i,t!==s?(n.setValue(t),!0):!1}function Yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ml=/[\n"\\]/g;function bn(t){return t.replace(Ml,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function kl(t,n,s,i,u,f,g,S){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Kr(t,g,nn(n)):s!=null?Kr(t,g,nn(s)):i!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+nn(S):t.removeAttribute("name")}function Ds(t,n,s,i,u,f,g,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Dl(t);return}s=s!=null?""+nn(s):"",n=n!=null?""+nn(n):s,S||n===t.value||(t.value=n),t.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=S?t.checked:!!i,t.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Dl(t)}function Kr(t,n,s){n==="number"&&Yr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function pr(t,n,s,i){if(t=t.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<t.length;s++)u=n.hasOwnProperty("$"+t[s].value),t[s].selected!==u&&(t[s].selected=u),u&&i&&(t[s].defaultSelected=!0)}else{for(s=""+nn(s),n=null,u=0;u<t.length;u++){if(t[u].value===s){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function eo(t,n,s){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+nn(s):""}function to(t,n,s,i){if(n==null){if(i!=null){if(s!=null)throw Error(l(92));if(ve(i)){if(1<i.length)throw Error(l(93));i=i[0]}s=i}s==null&&(s=""),n=s}s=nn(n),t.defaultValue=s,i=t.textContent,i===s&&i!==""&&i!==null&&(t.value=i),Dl(t)}function gr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,n,s){var i=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,s):typeof s!="number"||s===0||ou.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ao(t,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,s!=null){for(var i in s)!s.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&s[u]!==i&&no(t,u,i)}else for(var f in n)n.hasOwnProperty(f)&&no(t,f,n[f])}function Ul(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(t){return uu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ra(){}var yr=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,br=null;function ro(t){var n=vn(t);if(n&&(t=n.stateNode)){var s=t[yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(kl(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var i=s[n];if(i!==t&&i.form===t.form){var u=i[yt]||null;if(!u)throw Error(l(90));kl(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)i=s[n],i.form===t.form&&zl(i)}break e;case"textarea":eo(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&pr(t,!!s.multiple,n,!1)}}}var ql=!1;function so(t,n,s){if(ql)return t(n,s);ql=!0;try{var i=t(n);return i}finally{if(ql=!1,(vr!==null||br!==null)&&(Ho(),vr&&(n=vr,t=br,br=vr=null,ro(n),t)))for(n=0;n<t.length;n++)ro(t[n])}}function Pr(t,n){var s=t.stateNode;if(s===null)return null;var i=s[yt]||null;if(i===null)return null;s=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Ta)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Xr=!1}var Ba=null,j=null,F=null;function le(){if(F)return F;var t,n=j,s=n.length,i,u="value"in Ba?Ba.value:Ba.textContent,f=u.length;for(t=0;t<s&&n[t]===u[t];t++);var g=s-t;for(i=1;i<=g&&n[s-i]===u[f-i];i++);return F=u.slice(t,1<i?1-i:void 0)}function ye(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function et(){return!0}function At(){return!1}function ct(t){function n(s,i,u,f,g){this._reactName=s,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?et:At,this.isPropagationStopped=At,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=et)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=et)},persist:function(){},isPersistent:et}),n}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=ct(En),Ia=x({},En,{view:0,detail:0}),_x=ct(Ia),du,fu,Bl,lo=x({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(du=t.screenX-Bl.screenX,fu=t.screenY-Bl.screenY):fu=du=0,Bl=t),du)},movementY:function(t){return"movementY"in t?t.movementY:fu}}),ah=ct(lo),wx=x({},lo,{dataTransfer:0}),Nx=ct(wx),Ex=x({},Ia,{relatedTarget:0}),mu=ct(Ex),jx=x({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),Ax=ct(jx),Ox=x({},En,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cx=ct(Ox),Rx=x({},En,{data:0}),rh=ct(Rx),Tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zx[t])?!!n[t]:!1}function hu(){return Mx}var kx=x({},Ia,{key:function(t){if(t.key){var n=Tx[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ye(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(t){return t.type==="keypress"?ye(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ye(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ux=ct(kx),Lx=x({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=ct(Lx),qx=x({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),Bx=ct(qx),Ix=x({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fx=ct(Ix),$x=x({},lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hx=ct($x),Vx=x({},En,{newState:0,oldState:0}),Zx=ct(Vx),Gx=[9,13,27,32],pu=Ta&&"CompositionEvent"in window,Il=null;Ta&&"documentMode"in document&&(Il=document.documentMode);var Qx=Ta&&"TextEvent"in window&&!Il,lh=Ta&&(!pu||Il&&8<Il&&11>=Il),ih=" ",oh=!1;function ch(t,n){switch(t){case"keyup":return Gx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function Yx(t,n){switch(t){case"compositionend":return uh(n);case"keypress":return n.which!==32?null:(oh=!0,ih);case"textInput":return t=n.data,t===ih&&oh?null:t;default:return null}}function Kx(t,n){if(Ms)return t==="compositionend"||!pu&&ch(t,n)?(t=le(),F=j=Ba=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return lh&&n.locale!=="ko"?null:n.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Px[t.type]:n==="textarea"}function fh(t,n,s,i){vr?br?br.push(i):br=[i]:vr=i,n=Po(n,"onChange"),0<n.length&&(s=new Wr("onChange","change",null,s,i),t.push({event:s,listeners:n}))}var Fl=null,$l=null;function Xx(t){Yg(t,0)}function io(t){var n=Hn(t);if(zl(n))return t}function mh(t,n){if(t==="change")return n}var hh=!1;if(Ta){var gu;if(Ta){var yu="oninput"in document;if(!yu){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),yu=typeof ph.oninput=="function"}gu=yu}else gu=!1;hh=gu&&(!document.documentMode||9<document.documentMode)}function gh(){Fl&&(Fl.detachEvent("onpropertychange",yh),$l=Fl=null)}function yh(t){if(t.propertyName==="value"&&io($l)){var n=[];fh(n,$l,t,Ll(t)),so(Xx,n)}}function Jx(t,n,s){t==="focusin"?(gh(),Fl=n,$l=s,Fl.attachEvent("onpropertychange",yh)):t==="focusout"&&gh()}function Wx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io($l)}function eS(t,n){if(t==="click")return io(n)}function tS(t,n){if(t==="input"||t==="change")return io(n)}function nS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var aa=typeof Object.is=="function"?Object.is:nS;function Hl(t,n){if(aa(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),i=Object.keys(n);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var u=s[i];if(!Et.call(n,u)||!aa(t[u],n[u]))return!1}return!0}function vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bh(t,n){var s=vh(t);t=0;for(var i;s;){if(s.nodeType===3){if(i=t+s.textContent.length,t<=n&&i>=n)return{node:s,offset:n-t};t=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=vh(s)}}function xh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Yr(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Yr(t.document)}return n}function vu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var aS=Ta&&"documentMode"in document&&11>=document.documentMode,ks=null,bu=null,Vl=null,xu=!1;function _h(t,n,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xu||ks==null||ks!==Yr(i)||(i=ks,"selectionStart"in i&&vu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vl&&Hl(Vl,i)||(Vl=i,i=Po(bu,"onSelect"),0<i.length&&(n=new Wr("onSelect","select",null,n,s),t.push({event:n,listeners:i}),n.target=ks)))}function es(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Us={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Su={},wh={};Ta&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function ts(t){if(Su[t])return Su[t];if(!Us[t])return t;var n=Us[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in wh)return Su[t]=n[s];return t}var Nh=ts("animationend"),Eh=ts("animationiteration"),jh=ts("animationstart"),rS=ts("transitionrun"),sS=ts("transitionstart"),lS=ts("transitioncancel"),Ah=ts("transitionend"),Oh=new Map,_u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_u.push("scrollEnd");function Da(t,n){Oh.set(t,n),Nn(n,[t])}var oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fa=[],Ls=0,wu=0;function co(){for(var t=Ls,n=wu=Ls=0;n<t;){var s=fa[n];fa[n++]=null;var i=fa[n];fa[n++]=null;var u=fa[n];fa[n++]=null;var f=fa[n];if(fa[n++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}f!==0&&Ch(s,u,f)}}function uo(t,n,s,i){fa[Ls++]=t,fa[Ls++]=n,fa[Ls++]=s,fa[Ls++]=i,wu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Nu(t,n,s,i){return uo(t,n,s,i),fo(t)}function ns(t,n){return uo(t,null,null,n),fo(t)}function Ch(t,n,s){t.lanes|=s;var i=t.alternate;i!==null&&(i.lanes|=s);for(var u=!1,f=t.return;f!==null;)f.childLanes|=s,i=f.alternate,i!==null&&(i.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-St(s),t=f.hiddenUpdates,i=t[u],i===null?t[u]=[n]:i.push(n),n.lane=s|536870912),f):null}function fo(t){if(50<fi)throw fi=0,zd=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qs={};function iS(t,n,s,i){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(t,n,s,i){return new iS(t,n,s,i)}function Eu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xa(t,n){var s=t.alternate;return s===null?(s=ra(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Rh(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mo(t,n,s,i,u,f){var g=0;if(i=t,typeof t=="function")Eu(t)&&(g=1);else if(typeof t=="string")g=f_(t,s,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ce:return t=ra(31,s,n,u),t.elementType=ce,t.lanes=f,t;case A:return as(s.children,u,f,n);case w:g=8,u|=24;break;case U:return t=ra(12,s,n,u|2),t.elementType=U,t.lanes=f,t;case O:return t=ra(13,s,n,u),t.elementType=O,t.lanes=f,t;case te:return t=ra(19,s,n,u),t.elementType=te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:g=10;break e;case D:g=9;break e;case C:g=11;break e;case q:g=14;break e;case ne:g=16,i=null;break e}g=29,s=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=ra(g,s,n,u),n.elementType=t,n.type=i,n.lanes=f,n}function as(t,n,s,i){return t=ra(7,t,i,n),t.lanes=s,t}function ju(t,n,s){return t=ra(6,t,null,n),t.lanes=s,t}function Th(t){var n=ra(18,null,null,0);return n.stateNode=t,n}function Au(t,n,s){return n=ra(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dh=new WeakMap;function ma(t,n){if(typeof t=="object"&&t!==null){var s=Dh.get(t);return s!==void 0?s:(n={value:t,source:n,stack:lt(n)},Dh.set(t,n),n)}return{value:t,source:n,stack:lt(n)}}var Bs=[],Is=0,ho=null,Zl=0,ha=[],pa=0,xr=null,Fa=1,$a="";function Ja(t,n){Bs[Is++]=Zl,Bs[Is++]=ho,ho=t,Zl=n}function zh(t,n,s){ha[pa++]=Fa,ha[pa++]=$a,ha[pa++]=xr,xr=t;var i=Fa;t=$a;var u=32-St(i)-1;i&=~(1<<u),s+=1;var f=32-St(n)+u;if(30<f){var g=u-u%5;f=(i&(1<<g)-1).toString(32),i>>=g,u-=g,Fa=1<<32-St(n)+u|s<<u|i,$a=f+t}else Fa=1<<f|s<<u|i,$a=t}function Ou(t){t.return!==null&&(Ja(t,1),zh(t,1,0))}function Cu(t){for(;t===ho;)ho=Bs[--Is],Bs[Is]=null,Zl=Bs[--Is],Bs[Is]=null;for(;t===xr;)xr=ha[--pa],ha[pa]=null,$a=ha[--pa],ha[pa]=null,Fa=ha[--pa],ha[pa]=null}function Mh(t,n){ha[pa++]=Fa,ha[pa++]=$a,ha[pa++]=xr,Fa=n.id,$a=n.overflow,xr=t}var jn=null,Lt=null,gt=!1,Sr=null,ga=!1,Ru=Error(l(519));function _r(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(ma(n,t)),Ru}function kh(t){var n=t.stateNode,s=t.type,i=t.memoizedProps;switch(n[ot]=t,n[yt]=i,s){case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":case"embed":dt("load",n);break;case"video":case"audio":for(s=0;s<hi.length;s++)dt(hi[s],n);break;case"source":dt("error",n);break;case"img":case"image":case"link":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"input":dt("invalid",n),Ds(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":dt("invalid",n);break;case"textarea":dt("invalid",n),to(n,i.value,i.defaultValue,i.children)}s=i.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||i.suppressHydrationWarning===!0||Jg(n.textContent,s)?(i.popover!=null&&(dt("beforetoggle",n),dt("toggle",n)),i.onScroll!=null&&dt("scroll",n),i.onScrollEnd!=null&&dt("scrollend",n),i.onClick!=null&&(n.onclick=Ra),n=!0):n=!1,n||_r(t,!0)}function Uh(t){for(jn=t.return;jn;)switch(jn.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:jn=jn.return}}function Fs(t){if(t!==jn)return!1;if(!gt)return Uh(t),gt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Yd(t.type,t.memoizedProps)),s=!s),s&&Lt&&_r(t),Uh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Lt=iy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Lt=iy(t)}else n===27?(n=Lt,Ur(t.type)?(t=Wd,Wd=null,Lt=t):Lt=n):Lt=jn?va(t.stateNode.nextSibling):null;return!0}function rs(){Lt=jn=null,gt=!1}function Tu(){var t=Sr;return t!==null&&(Kn===null?Kn=t:Kn.push.apply(Kn,t),Sr=null),t}function Gl(t){Sr===null?Sr=[t]:Sr.push(t)}var Du=N(null),ss=null,Wa=null;function wr(t,n,s){oe(Du,n._currentValue),n._currentValue=s}function er(t){t._currentValue=Du.current,Y(Du)}function zu(t,n,s){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===s)break;t=t.return}}function Mu(t,n,s,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var T=0;T<n.length;T++)if(S.context===n[T]){f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),zu(f.return,s,t),i||(g=null);break e}f=S.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),zu(g,s,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function $s(t,n,s,i){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var S=u.type;aa(u.pendingProps.value,g.value)||(t!==null?t.push(S):t=[S])}}else if(u===Me.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(bi):t=[bi])}u=u.return}t!==null&&Mu(n,t,s,i),n.flags|=262144}function po(t){for(t=t.firstContext;t!==null;){if(!aa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){ss=t,Wa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return Lh(ss,t)}function go(t,n){return ss===null&&ls(t),Lh(t,n)}function Lh(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Wa===null){if(t===null)throw Error(l(308));Wa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wa=Wa.next=n;return s}var oS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},cS=e.unstable_scheduleCallback,uS=e.unstable_NormalPriority,an={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ku(){return{controller:new oS,data:new Map,refCount:0}}function Ql(t){t.refCount--,t.refCount===0&&cS(uS,function(){t.controller.abort()})}var Yl=null,Uu=0,Hs=0,Vs=null;function dS(t,n){if(Yl===null){var s=Yl=[];Uu=0,Hs=Bd(),Vs={status:"pending",value:void 0,then:function(i){s.push(i)}}}return Uu++,n.then(qh,qh),n}function qh(){if(--Uu===0&&Yl!==null){Vs!==null&&(Vs.status="fulfilled");var t=Yl;Yl=null,Hs=0,Vs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function fS(t,n){var s=[],i={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),i}var Bh=B.S;B.S=function(t,n){_g=z(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&dS(t,n),Bh!==null&&Bh(t,n)};var is=N(null);function Lu(){var t=is.current;return t!==null?t:zt.pooledCache}function yo(t,n){n===null?oe(is,is.current):oe(is,n.pool)}function Ih(){var t=Lu();return t===null?null:{parent:an._currentValue,pool:t}}var Zs=Error(l(460)),qu=Error(l(474)),vo=Error(l(542)),bo={then:function(){}};function Fh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $h(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Ra,Ra),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vh(t),t;default:if(typeof n.status=="string")n.then(Ra,Ra);else{if(t=zt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vh(t),t}throw cs=n,Zs}}function os(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(cs=s,Zs):s}}var cs=null;function Hh(){if(cs===null)throw Error(l(459));var t=cs;return cs=null,t}function Vh(t){if(t===Zs||t===vo)throw Error(l(483))}var Gs=null,Kl=0;function xo(t){var n=Kl;return Kl+=1,Gs===null&&(Gs=[]),$h(Gs,t,n)}function Pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function So(t,n){throw n.$$typeof===_?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zh(t){function n(I,M){if(t){var V=I.deletions;V===null?(I.deletions=[M],I.flags|=16):V.push(M)}}function s(I,M){if(!t)return null;for(;M!==null;)n(I,M),M=M.sibling;return null}function i(I){for(var M=new Map;I!==null;)I.key!==null?M.set(I.key,I):M.set(I.index,I),I=I.sibling;return M}function u(I,M){return I=Xa(I,M),I.index=0,I.sibling=null,I}function f(I,M,V){return I.index=V,t?(V=I.alternate,V!==null?(V=V.index,V<M?(I.flags|=67108866,M):V):(I.flags|=67108866,M)):(I.flags|=1048576,M)}function g(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function S(I,M,V,ie){return M===null||M.tag!==6?(M=ju(V,I.mode,ie),M.return=I,M):(M=u(M,V),M.return=I,M)}function T(I,M,V,ie){var Fe=V.type;return Fe===A?ae(I,M,V.props.children,ie,V.key):M!==null&&(M.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===ne&&os(Fe)===M.type)?(M=u(M,V.props),Pl(M,V),M.return=I,M):(M=mo(V.type,V.key,V.props,null,I.mode,ie),Pl(M,V),M.return=I,M)}function Z(I,M,V,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==V.containerInfo||M.stateNode.implementation!==V.implementation?(M=Au(V,I.mode,ie),M.return=I,M):(M=u(M,V.children||[]),M.return=I,M)}function ae(I,M,V,ie,Fe){return M===null||M.tag!==7?(M=as(V,I.mode,ie,Fe),M.return=I,M):(M=u(M,V),M.return=I,M)}function ue(I,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ju(""+M,I.mode,V),M.return=I,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return V=mo(M.type,M.key,M.props,null,I.mode,V),Pl(V,M),V.return=I,V;case E:return M=Au(M,I.mode,V),M.return=I,M;case ne:return M=os(M),ue(I,M,V)}if(ve(M)||me(M))return M=as(M,I.mode,V,null),M.return=I,M;if(typeof M.then=="function")return ue(I,xo(M),V);if(M.$$typeof===ee)return ue(I,go(I,M),V);So(I,M)}return null}function Q(I,M,V,ie){var Fe=M!==null?M.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Fe!==null?null:S(I,M,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return V.key===Fe?T(I,M,V,ie):null;case E:return V.key===Fe?Z(I,M,V,ie):null;case ne:return V=os(V),Q(I,M,V,ie)}if(ve(V)||me(V))return Fe!==null?null:ae(I,M,V,ie,null);if(typeof V.then=="function")return Q(I,M,xo(V),ie);if(V.$$typeof===ee)return Q(I,M,go(I,V),ie);So(I,V)}return null}function W(I,M,V,ie,Fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return I=I.get(V)||null,S(M,I,""+ie,Fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case L:return I=I.get(ie.key===null?V:ie.key)||null,T(M,I,ie,Fe);case E:return I=I.get(ie.key===null?V:ie.key)||null,Z(M,I,ie,Fe);case ne:return ie=os(ie),W(I,M,V,ie,Fe)}if(ve(ie)||me(ie))return I=I.get(V)||null,ae(M,I,ie,Fe,null);if(typeof ie.then=="function")return W(I,M,V,xo(ie),Fe);if(ie.$$typeof===ee)return W(I,M,V,go(M,ie),Fe);So(M,ie)}return null}function ze(I,M,V,ie){for(var Fe=null,vt=null,qe=M,rt=M=0,pt=null;qe!==null&&rt<V.length;rt++){qe.index>rt?(pt=qe,qe=null):pt=qe.sibling;var bt=Q(I,qe,V[rt],ie);if(bt===null){qe===null&&(qe=pt);break}t&&qe&&bt.alternate===null&&n(I,qe),M=f(bt,M,rt),vt===null?Fe=bt:vt.sibling=bt,vt=bt,qe=pt}if(rt===V.length)return s(I,qe),gt&&Ja(I,rt),Fe;if(qe===null){for(;rt<V.length;rt++)qe=ue(I,V[rt],ie),qe!==null&&(M=f(qe,M,rt),vt===null?Fe=qe:vt.sibling=qe,vt=qe);return gt&&Ja(I,rt),Fe}for(qe=i(qe);rt<V.length;rt++)pt=W(qe,I,rt,V[rt],ie),pt!==null&&(t&&pt.alternate!==null&&qe.delete(pt.key===null?rt:pt.key),M=f(pt,M,rt),vt===null?Fe=pt:vt.sibling=pt,vt=pt);return t&&qe.forEach(function(Fr){return n(I,Fr)}),gt&&Ja(I,rt),Fe}function Ze(I,M,V,ie){if(V==null)throw Error(l(151));for(var Fe=null,vt=null,qe=M,rt=M=0,pt=null,bt=V.next();qe!==null&&!bt.done;rt++,bt=V.next()){qe.index>rt?(pt=qe,qe=null):pt=qe.sibling;var Fr=Q(I,qe,bt.value,ie);if(Fr===null){qe===null&&(qe=pt);break}t&&qe&&Fr.alternate===null&&n(I,qe),M=f(Fr,M,rt),vt===null?Fe=Fr:vt.sibling=Fr,vt=Fr,qe=pt}if(bt.done)return s(I,qe),gt&&Ja(I,rt),Fe;if(qe===null){for(;!bt.done;rt++,bt=V.next())bt=ue(I,bt.value,ie),bt!==null&&(M=f(bt,M,rt),vt===null?Fe=bt:vt.sibling=bt,vt=bt);return gt&&Ja(I,rt),Fe}for(qe=i(qe);!bt.done;rt++,bt=V.next())bt=W(qe,I,rt,bt.value,ie),bt!==null&&(t&&bt.alternate!==null&&qe.delete(bt.key===null?rt:bt.key),M=f(bt,M,rt),vt===null?Fe=bt:vt.sibling=bt,vt=bt);return t&&qe.forEach(function(w_){return n(I,w_)}),gt&&Ja(I,rt),Fe}function Rt(I,M,V,ie){if(typeof V=="object"&&V!==null&&V.type===A&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case L:e:{for(var Fe=V.key;M!==null;){if(M.key===Fe){if(Fe=V.type,Fe===A){if(M.tag===7){s(I,M.sibling),ie=u(M,V.props.children),ie.return=I,I=ie;break e}}else if(M.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===ne&&os(Fe)===M.type){s(I,M.sibling),ie=u(M,V.props),Pl(ie,V),ie.return=I,I=ie;break e}s(I,M);break}else n(I,M);M=M.sibling}V.type===A?(ie=as(V.props.children,I.mode,ie,V.key),ie.return=I,I=ie):(ie=mo(V.type,V.key,V.props,null,I.mode,ie),Pl(ie,V),ie.return=I,I=ie)}return g(I);case E:e:{for(Fe=V.key;M!==null;){if(M.key===Fe)if(M.tag===4&&M.stateNode.containerInfo===V.containerInfo&&M.stateNode.implementation===V.implementation){s(I,M.sibling),ie=u(M,V.children||[]),ie.return=I,I=ie;break e}else{s(I,M);break}else n(I,M);M=M.sibling}ie=Au(V,I.mode,ie),ie.return=I,I=ie}return g(I);case ne:return V=os(V),Rt(I,M,V,ie)}if(ve(V))return ze(I,M,V,ie);if(me(V)){if(Fe=me(V),typeof Fe!="function")throw Error(l(150));return V=Fe.call(V),Ze(I,M,V,ie)}if(typeof V.then=="function")return Rt(I,M,xo(V),ie);if(V.$$typeof===ee)return Rt(I,M,go(I,V),ie);So(I,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,M!==null&&M.tag===6?(s(I,M.sibling),ie=u(M,V),ie.return=I,I=ie):(s(I,M),ie=ju(V,I.mode,ie),ie.return=I,I=ie),g(I)):s(I,M)}return function(I,M,V,ie){try{Kl=0;var Fe=Rt(I,M,V,ie);return Gs=null,Fe}catch(qe){if(qe===Zs||qe===vo)throw qe;var vt=ra(29,qe,null,I.mode);return vt.lanes=ie,vt.return=I,vt}finally{}}}var us=Zh(!0),Gh=Zh(!1),Nr=!1;function Bu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,n,s){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(xt&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=fo(t),Ch(t,null,s),n}return uo(t,i,n,s),fo(t)}function Xl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,s|=i,n.lanes=s,it(t,s)}}function Fu(t,n){var s=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var $u=!1;function Jl(){if($u){var t=Vs;if(t!==null)throw t}}function Wl(t,n,s,i){$u=!1;var u=t.updateQueue;Nr=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,Z=T.next;T.next=null,g===null?f=Z:g.next=Z,g=T;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,S=ae.lastBaseUpdate,S!==g&&(S===null?ae.firstBaseUpdate=Z:S.next=Z,ae.lastBaseUpdate=T))}if(f!==null){var ue=u.baseState;g=0,ae=Z=T=null,S=f;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(ht&Q)===Q:(i&Q)===Q){Q!==0&&Q===Hs&&($u=!0),ae!==null&&(ae=ae.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ze=t,Ze=S;Q=n;var Rt=s;switch(Ze.tag){case 1:if(ze=Ze.payload,typeof ze=="function"){ue=ze.call(Rt,ue,Q);break e}ue=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ze.payload,Q=typeof ze=="function"?ze.call(Rt,ue,Q):ze,Q==null)break e;ue=x({},ue,Q);break e;case 2:Nr=!0}}Q=S.callback,Q!==null&&(t.flags|=64,W&&(t.flags|=8192),W=u.callbacks,W===null?u.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ae===null?(Z=ae=W,T=ue):ae=ae.next=W,g|=Q;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;W=S,S=W.next,W.next=null,u.lastBaseUpdate=W,u.shared.pending=null}}while(!0);ae===null&&(T=ue),u.baseState=T,u.firstBaseUpdate=Z,u.lastBaseUpdate=ae,f===null&&(u.shared.lanes=0),Tr|=g,t.lanes=g,t.memoizedState=ue}}function Qh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Yh(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Qh(s[t],n)}var Qs=N(null),_o=N(0);function Kh(t,n){t=cr,oe(_o,t),oe(Qs,n),cr=t|n.baseLanes}function Hu(){oe(_o,cr),oe(Qs,Qs.current)}function Vu(){cr=_o.current,Y(Qs),Y(_o)}var sa=N(null),ya=null;function Ar(t){var n=t.alternate;oe(Xt,Xt.current&1),oe(sa,t),ya===null&&(n===null||Qs.current!==null||n.memoizedState!==null)&&(ya=t)}function Zu(t){oe(Xt,Xt.current),oe(sa,t),ya===null&&(ya=t)}function Ph(t){t.tag===22?(oe(Xt,Xt.current),oe(sa,t),ya===null&&(ya=t)):Or()}function Or(){oe(Xt,Xt.current),oe(sa,sa.current)}function la(t){Y(sa),ya===t&&(ya=null),Y(Xt)}var Xt=N(0);function wo(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Xd(s)||Jd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var tr=0,tt=null,Ot=null,rn=null,No=!1,Ys=!1,ds=!1,Eo=0,ei=0,Ks=null,mS=0;function Yt(){throw Error(l(321))}function Gu(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!aa(t[s],n[s]))return!1;return!0}function Qu(t,n,s,i,u,f){return tr=f,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?zp:od,ds=!1,f=s(i,u),ds=!1,Ys&&(f=Jh(n,s,i,u)),Xh(t),f}function Xh(t){B.H=ai;var n=Ot!==null&&Ot.next!==null;if(tr=0,rn=Ot=tt=null,No=!1,ei=0,Ks=null,n)throw Error(l(300));t===null||sn||(t=t.dependencies,t!==null&&po(t)&&(sn=!0))}function Jh(t,n,s,i){tt=t;var u=0;do{if(Ys&&(Ks=null),ei=0,Ys=!1,25<=u)throw Error(l(301));if(u+=1,rn=Ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Mp,f=n(s,i)}while(Ys);return f}function hS(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?ti(n):n,t=t.useState()[0],(Ot!==null?Ot.memoizedState:null)!==t&&(tt.flags|=1024),n}function Yu(){var t=Eo!==0;return Eo=0,t}function Ku(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Pu(t){if(No){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}No=!1}tr=0,rn=Ot=tt=null,Ys=!1,ei=Eo=0,Ks=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?tt.memoizedState=rn=t:rn=rn.next=t,rn}function Jt(){if(Ot===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var n=rn===null?tt.memoizedState:rn.next;if(n!==null)rn=n,Ot=t;else{if(t===null)throw tt.alternate===null?Error(l(467)):Error(l(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},rn===null?tt.memoizedState=rn=t:rn=rn.next=t}return rn}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ti(t){var n=ei;return ei+=1,Ks===null&&(Ks=[]),t=$h(Ks,t,n),n=tt,(rn===null?n.memoizedState:rn.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?zp:od),t}function Ao(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ti(t);if(t.$$typeof===ee)return An(t)}throw Error(l(438,String(t)))}function Xu(t){var n=null,s=tt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var i=tt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=jo(),tt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),i=0;i<t;i++)s[i]=we;return n.index++,s}function nr(t,n){return typeof n=="function"?n(t):n}function Oo(t){var n=Jt();return Ju(n,Ot,t)}function Ju(t,n,s){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=s;var u=t.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,i.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var S=g=null,T=null,Z=n,ae=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ht&ue)===ue:(tr&ue)===ue){var Q=Z.revertLane;if(Q===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Hs&&(ae=!0);else if((tr&Q)===Q){Z=Z.next,Q===Hs&&(ae=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},T===null?(S=T=ue,g=f):T=T.next=ue,tt.lanes|=Q,Tr|=Q;ue=Z.action,ds&&s(f,ue),f=Z.hasEagerState?Z.eagerState:s(f,ue)}else Q={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},T===null?(S=T=Q,g=f):T=T.next=Q,tt.lanes|=ue,Tr|=ue;Z=Z.next}while(Z!==null&&Z!==n);if(T===null?g=f:T.next=S,!aa(f,t.memoizedState)&&(sn=!0,ae&&(s=Vs,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=T,i.lastRenderedState=f}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Wu(t){var n=Jt(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var i=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);aa(f,n.memoizedState)||(sn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,i]}function Wh(t,n,s){var i=tt,u=Jt(),f=gt;if(f){if(s===void 0)throw Error(l(407));s=s()}else s=n();var g=!aa((Ot||u).memoizedState,s);if(g&&(u.memoizedState=s,sn=!0),u=u.queue,nd(np.bind(null,i,u,t),[t]),u.getSnapshot!==n||g||rn!==null&&rn.memoizedState.tag&1){if(i.flags|=2048,Ps(9,{destroy:void 0},tp.bind(null,i,u,s,n),null),zt===null)throw Error(l(349));f||(tr&127)!==0||ep(i,n,s)}return s}function ep(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=tt.updateQueue,n===null?(n=jo(),tt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function tp(t,n,s,i){n.value=s,n.getSnapshot=i,ap(n)&&rp(t)}function np(t,n,s){return s(function(){ap(n)&&rp(t)})}function ap(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!aa(t,s)}catch{return!0}}function rp(t){var n=ns(t,2);n!==null&&Pn(n,t,2)}function ed(t){var n=Ln();if(typeof t=="function"){var s=t;if(t=s(),ds){Gt(!0);try{s()}finally{Gt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},n}function sp(t,n,s,i){return t.baseState=s,Ju(t,Ot,typeof i=="function"?i:nr)}function pS(t,n,s,i,u){if(To(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?s(!0):f.isTransition=!1,i(f),s=n.pending,s===null?(f.next=n.pending=f,lp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function lp(t,n){var s=n.action,i=n.payload,u=t.state;if(n.isTransition){var f=B.T,g={};B.T=g;try{var S=s(u,i),T=B.S;T!==null&&T(g,S),ip(t,n,S)}catch(Z){td(t,n,Z)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=s(u,i),ip(t,n,f)}catch(Z){td(t,n,Z)}}function ip(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(i){op(t,n,i)},function(i){return td(t,n,i)}):op(t,n,s)}function op(t,n,s){n.status="fulfilled",n.value=s,cp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,lp(t,s)))}function td(t,n,s){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=s,cp(n),n=n.next;while(n!==i)}t.action=null}function cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function dp(t,n){if(gt){var s=zt.formState;if(s!==null){e:{var i=tt;if(gt){if(Lt){t:{for(var u=Lt,f=ga;u.nodeType!==8;){if(!f){u=null;break t}if(u=va(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Lt=va(u.nextSibling),i=u.data==="F!";break e}}_r(i)}i=!1}i&&(n=s[0])}}return s=Ln(),s.memoizedState=s.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},s.queue=i,s=Rp.bind(null,tt,i),i.dispatch=s,i=ed(!1),f=id.bind(null,tt,!1,i.queue),i=Ln(),u={state:n,dispatch:null,action:t,pending:null},i.queue=u,s=pS.bind(null,tt,u,f,s),u.dispatch=s,i.memoizedState=t,[n,s,!1]}function fp(t){var n=Jt();return mp(n,Ot,t)}function mp(t,n,s){if(n=Ju(t,n,up)[0],t=Oo(nr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=ti(n)}catch(g){throw g===Zs?vo:g}else i=n;n=Jt();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(tt.flags|=2048,Ps(9,{destroy:void 0},gS.bind(null,u,s),null)),[i,f,t]}function gS(t,n){t.action=n}function hp(t){var n=Jt(),s=Ot;if(s!==null)return mp(n,s,t);Jt(),n=n.memoizedState,s=Jt();var i=s.queue.dispatch;return s.memoizedState=t,[n,i,!1]}function Ps(t,n,s,i){return t={tag:t,create:s,deps:i,inst:n,next:null},n=tt.updateQueue,n===null&&(n=jo(),tt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(i=s.next,s.next=t,t.next=i,n.lastEffect=t),t}function pp(){return Jt().memoizedState}function Co(t,n,s,i){var u=Ln();tt.flags|=t,u.memoizedState=Ps(1|n,{destroy:void 0},s,i===void 0?null:i)}function Ro(t,n,s,i){var u=Jt();i=i===void 0?null:i;var f=u.memoizedState.inst;Ot!==null&&i!==null&&Gu(i,Ot.memoizedState.deps)?u.memoizedState=Ps(n,f,s,i):(tt.flags|=t,u.memoizedState=Ps(1|n,f,s,i))}function gp(t,n){Co(8390656,8,t,n)}function nd(t,n){Ro(2048,8,t,n)}function yS(t){tt.flags|=4;var n=tt.updateQueue;if(n===null)n=jo(),tt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function yp(t){var n=Jt().memoizedState;return yS({ref:n,nextImpl:t}),function(){if((xt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function vp(t,n){return Ro(4,2,t,n)}function bp(t,n){return Ro(4,4,t,n)}function xp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sp(t,n,s){s=s!=null?s.concat([t]):null,Ro(4,4,xp.bind(null,n,t),s)}function ad(){}function _p(t,n){var s=Jt();n=n===void 0?null:n;var i=s.memoizedState;return n!==null&&Gu(n,i[1])?i[0]:(s.memoizedState=[t,n],t)}function wp(t,n){var s=Jt();n=n===void 0?null:n;var i=s.memoizedState;if(n!==null&&Gu(n,i[1]))return i[0];if(i=t(),ds){Gt(!0);try{t()}finally{Gt(!1)}}return s.memoizedState=[i,n],i}function rd(t,n,s){return s===void 0||(tr&1073741824)!==0&&(ht&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ng(),tt.lanes|=t,Tr|=t,s)}function Np(t,n,s,i){return aa(s,n)?s:Qs.current!==null?(t=rd(t,s,i),aa(t,n)||(sn=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(ht&261930)===0?(sn=!0,t.memoizedState=s):(t=Ng(),tt.lanes|=t,Tr|=t,n)}function Ep(t,n,s,i,u){var f=re.p;re.p=f!==0&&8>f?f:8;var g=B.T,S={};B.T=S,id(t,!1,n,s);try{var T=u(),Z=B.S;if(Z!==null&&Z(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var ae=fS(T,i);ni(t,n,ae,ca(t))}else ni(t,n,i,ca(t))}catch(ue){ni(t,n,{then:function(){},status:"rejected",reason:ue},ca())}finally{re.p=f,g!==null&&S.types!==null&&(g.types=S.types),B.T=g}}function vS(){}function sd(t,n,s,i){if(t.tag!==5)throw Error(l(476));var u=jp(t).queue;Ep(t,u,n,se,s===null?vS:function(){return Ap(t),s(i)})}function jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:se},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ap(t){var n=jp(t);n.next===null&&(n=t.alternate.memoizedState),ni(t,n.next.queue,{},ca())}function ld(){return An(bi)}function Op(){return Jt().memoizedState}function Cp(){return Jt().memoizedState}function bS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=ca();t=Er(s);var i=jr(n,t,s);i!==null&&(Pn(i,n,s),Xl(i,n,s)),n={cache:ku()},t.payload=n;return}n=n.return}}function xS(t,n,s){var i=ca();s={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},To(t)?Tp(n,s):(s=Nu(t,n,s,i),s!==null&&(Pn(s,t,i),Dp(s,n,i)))}function Rp(t,n,s){var i=ca();ni(t,n,s,i)}function ni(t,n,s,i){var u={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(To(t))Tp(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,s);if(u.hasEagerState=!0,u.eagerState=S,aa(S,g))return uo(t,n,u,0),zt===null&&co(),!1}catch{}finally{}if(s=Nu(t,n,u,i),s!==null)return Pn(s,t,i),Dp(s,n,i),!0}return!1}function id(t,n,s,i){if(i={lane:2,revertLane:Bd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},To(t)){if(n)throw Error(l(479))}else n=Nu(t,s,i,2),n!==null&&Pn(n,t,2)}function To(t){var n=t.alternate;return t===tt||n!==null&&n===tt}function Tp(t,n){Ys=No=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Dp(t,n,s){if((s&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,s|=i,n.lanes=s,it(t,s)}}var ai={readContext:An,use:Ao,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};ai.useEffectEvent=Yt;var zp={readContext:An,use:Ao,useCallback:function(t,n){return Ln().memoizedState=[t,n===void 0?null:n],t},useContext:An,useEffect:gp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Co(4194308,4,xp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Co(4194308,4,t,n)},useInsertionEffect:function(t,n){Co(4,2,t,n)},useMemo:function(t,n){var s=Ln();n=n===void 0?null:n;var i=t();if(ds){Gt(!0);try{t()}finally{Gt(!1)}}return s.memoizedState=[i,n],i},useReducer:function(t,n,s){var i=Ln();if(s!==void 0){var u=s(n);if(ds){Gt(!0);try{s(n)}finally{Gt(!1)}}}else u=n;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=xS.bind(null,tt,t),[i.memoizedState,t]},useRef:function(t){var n=Ln();return t={current:t},n.memoizedState=t},useState:function(t){t=ed(t);var n=t.queue,s=Rp.bind(null,tt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ad,useDeferredValue:function(t,n){var s=Ln();return rd(s,t,n)},useTransition:function(){var t=ed(!1);return t=Ep.bind(null,tt,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var i=tt,u=Ln();if(gt){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),zt===null)throw Error(l(349));(ht&127)!==0||ep(i,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,gp(np.bind(null,i,f,t),[t]),i.flags|=2048,Ps(9,{destroy:void 0},tp.bind(null,i,f,s,n),null),s},useId:function(){var t=Ln(),n=zt.identifierPrefix;if(gt){var s=$a,i=Fa;s=(i&~(1<<32-St(i)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Eo++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=mS++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ld,useFormState:dp,useActionState:dp,useOptimistic:function(t){var n=Ln();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=id.bind(null,tt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Xu,useCacheRefresh:function(){return Ln().memoizedState=bS.bind(null,tt)},useEffectEvent:function(t){var n=Ln(),s={impl:t};return n.memoizedState=s,function(){if((xt&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},od={readContext:An,use:Ao,useCallback:_p,useContext:An,useEffect:nd,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:bp,useMemo:wp,useReducer:Oo,useRef:pp,useState:function(){return Oo(nr)},useDebugValue:ad,useDeferredValue:function(t,n){var s=Jt();return Np(s,Ot.memoizedState,t,n)},useTransition:function(){var t=Oo(nr)[0],n=Jt().memoizedState;return[typeof t=="boolean"?t:ti(t),n]},useSyncExternalStore:Wh,useId:Op,useHostTransitionStatus:ld,useFormState:fp,useActionState:fp,useOptimistic:function(t,n){var s=Jt();return sp(s,Ot,t,n)},useMemoCache:Xu,useCacheRefresh:Cp};od.useEffectEvent=yp;var Mp={readContext:An,use:Ao,useCallback:_p,useContext:An,useEffect:nd,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:bp,useMemo:wp,useReducer:Wu,useRef:pp,useState:function(){return Wu(nr)},useDebugValue:ad,useDeferredValue:function(t,n){var s=Jt();return Ot===null?rd(s,t,n):Np(s,Ot.memoizedState,t,n)},useTransition:function(){var t=Wu(nr)[0],n=Jt().memoizedState;return[typeof t=="boolean"?t:ti(t),n]},useSyncExternalStore:Wh,useId:Op,useHostTransitionStatus:ld,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var s=Jt();return Ot!==null?sp(s,Ot,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:Cp};Mp.useEffectEvent=yp;function cd(t,n,s,i){n=t.memoizedState,s=s(i,n),s=s==null?n:x({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ud={enqueueSetState:function(t,n,s){t=t._reactInternals;var i=ca(),u=Er(i);u.payload=n,s!=null&&(u.callback=s),n=jr(t,u,i),n!==null&&(Pn(n,t,i),Xl(n,t,i))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var i=ca(),u=Er(i);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=jr(t,u,i),n!==null&&(Pn(n,t,i),Xl(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=ca(),i=Er(s);i.tag=2,n!=null&&(i.callback=n),n=jr(t,i,s),n!==null&&(Pn(n,t,s),Xl(n,t,s))}};function kp(t,n,s,i,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,f,g):n.prototype&&n.prototype.isPureReactComponent?!Hl(s,i)||!Hl(u,f):!0}function Up(t,n,s,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,i),n.state!==t&&ud.enqueueReplaceState(n,n.state,null)}function fs(t,n){var s=n;if("ref"in n){s={};for(var i in n)i!=="ref"&&(s[i]=n[i])}if(t=t.defaultProps){s===n&&(s=x({},s));for(var u in t)s[u]===void 0&&(s[u]=t[u])}return s}function Lp(t){oo(t)}function qp(t){console.error(t)}function Bp(t){oo(t)}function Do(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Ip(t,n,s){try{var i=t.onCaughtError;i(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function dd(t,n,s){return s=Er(s),s.tag=3,s.payload={element:null},s.callback=function(){Do(t,n)},s}function Fp(t){return t=Er(t),t.tag=3,t}function $p(t,n,s,i){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;t.payload=function(){return u(f)},t.callback=function(){Ip(n,s,i)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ip(n,s,i),typeof u!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function SS(t,n,s,i,u){if(s.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=s.alternate,n!==null&&$s(n,s,u,!0),s=sa.current,s!==null){switch(s.tag){case 31:case 13:return ya===null?Vo():s.alternate===null&&Kt===0&&(Kt=3),s.flags&=-257,s.flags|=65536,s.lanes=u,i===bo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([i]):n.add(i),Ud(t,i,u)),!1;case 22:return s.flags|=65536,i===bo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([i]):s.add(i)),Ud(t,i,u)),!1}throw Error(l(435,s.tag))}return Ud(t,i,u),Vo(),!1}if(gt)return n=sa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==Ru&&(t=Error(l(422),{cause:i}),Gl(ma(t,s)))):(i!==Ru&&(n=Error(l(423),{cause:i}),Gl(ma(n,s))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=ma(i,s),u=dd(t.stateNode,i,u),Fu(t,u),Kt!==4&&(Kt=2)),!1;var f=Error(l(520),{cause:i});if(f=ma(f,s),di===null?di=[f]:di.push(f),Kt!==4&&(Kt=2),n===null)return!0;i=ma(i,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=u&-u,s.lanes|=t,t=dd(s.stateNode,i,t),Fu(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Fp(u),$p(u,t,s,i),Fu(s,u),!1}s=s.return}while(s!==null);return!1}var fd=Error(l(461)),sn=!1;function On(t,n,s,i){n.child=t===null?Gh(n,null,s,i):us(n,t.child,s,i)}function Hp(t,n,s,i,u){s=s.render;var f=n.ref;if("ref"in i){var g={};for(var S in i)S!=="ref"&&(g[S]=i[S])}else g=i;return ls(n),i=Qu(t,n,s,g,f,u),S=Yu(),t!==null&&!sn?(Ku(t,n,u),ar(t,n,u)):(gt&&S&&Ou(n),n.flags|=1,On(t,n,i,u),n.child)}function Vp(t,n,s,i,u){if(t===null){var f=s.type;return typeof f=="function"&&!Eu(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zp(t,n,f,i,u)):(t=mo(s.type,null,i,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!xd(t,u)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Hl,s(g,i)&&t.ref===n.ref)return ar(t,n,u)}return n.flags|=1,t=Xa(f,i),t.ref=n.ref,t.return=n,n.child=t}function Zp(t,n,s,i,u){if(t!==null){var f=t.memoizedProps;if(Hl(f,i)&&t.ref===n.ref)if(sn=!1,n.pendingProps=i=f,xd(t,u))(t.flags&131072)!==0&&(sn=!0);else return n.lanes=t.lanes,ar(t,n,u)}return md(t,n,s,i,u)}function Gp(t,n,s,i){var u=i.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(i=n.child=t.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return Qp(t,n,f,s,i)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yo(n,f!==null?f.cachePool:null),f!==null?Kh(n,f):Hu(),Ph(n);else return i=n.lanes=536870912,Qp(t,n,f!==null?f.baseLanes|s:s,s,i)}else f!==null?(yo(n,f.cachePool),Kh(n,f),Or(),n.memoizedState=null):(t!==null&&yo(n,null),Hu(),Or());return On(t,n,u,s),n.child}function ri(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(t,n,s,i,u){var f=Lu();return f=f===null?null:{parent:an._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&yo(n,null),Hu(),Ph(n),t!==null&&$s(t,n,i,!0),n.childLanes=u,null}function zo(t,n){return n=ko({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yp(t,n,s){return us(n,t.child,null,s),t=zo(n,n.pendingProps),t.flags|=2,la(n),n.memoizedState=null,t}function _S(t,n,s){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(gt){if(i.mode==="hidden")return t=zo(n,i),n.lanes=536870912,ri(null,t);if(Zu(n),(t=Lt)?(t=ly(t,ga),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xr!==null?{id:Fa,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},s=Th(t),s.return=n,n.child=s,jn=n,Lt=null)):t=null,t===null)throw _r(n);return n.lanes=536870912,null}return zo(n,i)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Zu(n),u)if(n.flags&256)n.flags&=-257,n=Yp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(sn||$s(t,n,s,!1),u=(s&t.childLanes)!==0,sn||u){if(i=zt,i!==null&&(g=Ie(i,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ns(t,g),Pn(i,t,g),fd;Vo(),n=Yp(t,n,s)}else t=f.treeContext,Lt=va(g.nextSibling),jn=n,gt=!0,Sr=null,ga=!1,t!==null&&Mh(n,t),n=zo(n,i),n.flags|=4096;return n}return t=Xa(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Mo(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function md(t,n,s,i,u){return ls(n),s=Qu(t,n,s,i,void 0,u),i=Yu(),t!==null&&!sn?(Ku(t,n,u),ar(t,n,u)):(gt&&i&&Ou(n),n.flags|=1,On(t,n,s,u),n.child)}function Kp(t,n,s,i,u,f){return ls(n),n.updateQueue=null,s=Jh(n,i,s,u),Xh(t),i=Yu(),t!==null&&!sn?(Ku(t,n,f),ar(t,n,f)):(gt&&i&&Ou(n),n.flags|=1,On(t,n,s,f),n.child)}function Pp(t,n,s,i,u){if(ls(n),n.stateNode===null){var f=qs,g=s.contextType;typeof g=="object"&&g!==null&&(f=An(g)),f=new s(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ud,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},Bu(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?An(g):qs,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(cd(n,s,g,i),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&ud.enqueueReplaceState(f,f.state,null),Wl(n,i,f,u),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,T=fs(s,S);f.props=T;var Z=f.context,ae=s.contextType;g=qs,typeof ae=="object"&&ae!==null&&(g=An(ae));var ue=s.getDerivedStateFromProps;ae=typeof ue=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,ae||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||Z!==g)&&Up(n,f,i,g),Nr=!1;var Q=n.memoizedState;f.state=Q,Wl(n,i,f,u),Jl(),Z=n.memoizedState,S||Q!==Z||Nr?(typeof ue=="function"&&(cd(n,s,ue,i),Z=n.memoizedState),(T=Nr||kp(n,s,T,i,Q,Z,g))?(ae||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=Z),f.props=i,f.state=Z,f.context=g,i=T):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,Iu(t,n),g=n.memoizedProps,ae=fs(s,g),f.props=ae,ue=n.pendingProps,Q=f.context,Z=s.contextType,T=qs,typeof Z=="object"&&Z!==null&&(T=An(Z)),S=s.getDerivedStateFromProps,(Z=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==ue||Q!==T)&&Up(n,f,i,T),Nr=!1,Q=n.memoizedState,f.state=Q,Wl(n,i,f,u),Jl();var W=n.memoizedState;g!==ue||Q!==W||Nr||t!==null&&t.dependencies!==null&&po(t.dependencies)?(typeof S=="function"&&(cd(n,s,S,i),W=n.memoizedState),(ae=Nr||kp(n,s,ae,i,Q,W,T)||t!==null&&t.dependencies!==null&&po(t.dependencies))?(Z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,W,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,W,T)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&Q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Q===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=W),f.props=i,f.state=W,f.context=T,i=ae):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&Q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Q===t.memoizedState||(n.flags|=1024),i=!1)}return f=i,Mo(t,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,s=i&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&i?(n.child=us(n,t.child,null,u),n.child=us(n,null,s,u)):On(t,n,s,u),n.memoizedState=f.state,t=n.child):t=ar(t,n,u),t}function Xp(t,n,s,i){return rs(),n.flags|=256,On(t,n,s,i),n.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Ih()}}function gd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=oa),t}function Jp(t,n,s){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(gt){if(u?Ar(n):Or(),(t=Lt)?(t=ly(t,ga),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xr!==null?{id:Fa,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},s=Th(t),s.return=n,n.child=s,jn=n,Lt=null)):t=null,t===null)throw _r(n);return Jd(t)?n.lanes=32:n.lanes=536870912,null}var S=i.children;return i=i.fallback,u?(Or(),u=n.mode,S=ko({mode:"hidden",children:S},u),i=as(i,u,s,null),S.return=n,i.return=n,S.sibling=i,n.child=S,i=n.child,i.memoizedState=pd(s),i.childLanes=gd(t,g,s),n.memoizedState=hd,ri(null,i)):(Ar(n),yd(n,S))}var T=t.memoizedState;if(T!==null&&(S=T.dehydrated,S!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=vd(t,n,s)):n.memoizedState!==null?(Or(),n.child=t.child,n.flags|=128,n=null):(Or(),S=i.fallback,u=n.mode,i=ko({mode:"visible",children:i.children},u),S=as(S,u,s,null),S.flags|=2,i.return=n,S.return=n,i.sibling=S,n.child=i,us(n,t.child,null,s),i=n.child,i.memoizedState=pd(s),i.childLanes=gd(t,g,s),n.memoizedState=hd,n=ri(null,i));else if(Ar(n),Jd(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var Z=g.dgst;g=Z,i=Error(l(419)),i.stack="",i.digest=g,Gl({value:i,source:null,stack:null}),n=vd(t,n,s)}else if(sn||$s(t,n,s,!1),g=(s&t.childLanes)!==0,sn||g){if(g=zt,g!==null&&(i=Ie(g,s),i!==0&&i!==T.retryLane))throw T.retryLane=i,ns(t,i),Pn(g,t,i),fd;Xd(S)||Vo(),n=vd(t,n,s)}else Xd(S)?(n.flags|=192,n.child=t.child,n=null):(t=T.treeContext,Lt=va(S.nextSibling),jn=n,gt=!0,Sr=null,ga=!1,t!==null&&Mh(n,t),n=yd(n,i.children),n.flags|=4096);return n}return u?(Or(),S=i.fallback,u=n.mode,T=t.child,Z=T.sibling,i=Xa(T,{mode:"hidden",children:i.children}),i.subtreeFlags=T.subtreeFlags&65011712,Z!==null?S=Xa(Z,S):(S=as(S,u,s,null),S.flags|=2),S.return=n,i.return=n,i.sibling=S,n.child=i,ri(null,i),i=n.child,S=t.child.memoizedState,S===null?S=pd(s):(u=S.cachePool,u!==null?(T=an._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Ih(),S={baseLanes:S.baseLanes|s,cachePool:u}),i.memoizedState=S,i.childLanes=gd(t,g,s),n.memoizedState=hd,ri(t.child,i)):(Ar(n),s=t.child,t=s.sibling,s=Xa(s,{mode:"visible",children:i.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function yd(t,n){return n=ko({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ko(t,n){return t=ra(22,t,null,n),t.lanes=0,t}function vd(t,n,s){return us(n,t.child,null,s),t=yd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wp(t,n,s){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),zu(t.return,n,s)}function bd(t,n,s,i,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=s,g.tailMode=u,g.treeForkCount=f)}function eg(t,n,s){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var g=Xt.current,S=(g&2)!==0;if(S?(g=g&1|2,n.flags|=128):g&=1,oe(Xt,g),On(t,n,i,s),i=gt?Zl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wp(t,s,n);else if(t.tag===19)Wp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)t=s.alternate,t!==null&&wo(t)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),bd(n,!1,u,s,f,i);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&wo(t)===null){n.child=u;break}t=u.sibling,u.sibling=s,s=u,u=t}bd(n,!0,s,null,f,i);break;case"together":bd(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function ar(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Tr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if($s(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,s=Xa(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Xa(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function xd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&po(t)))}function wS(t,n,s){switch(n.tag){case 3:$e(n,n.stateNode.containerInfo),wr(n,an,t.memoizedState.cache),rs();break;case 27:case 5:Ue(n);break;case 4:$e(n,n.stateNode.containerInfo);break;case 10:wr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zu(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(Ar(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Jp(t,n,s):(Ar(n),t=ar(t,n,s),t!==null?t.sibling:null);Ar(n);break;case 19:var u=(t.flags&128)!==0;if(i=(s&n.childLanes)!==0,i||($s(t,n,s,!1),i=(s&n.childLanes)!==0),u){if(i)return eg(t,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),oe(Xt,Xt.current),i)break;return null;case 22:return n.lanes=0,Gp(t,n,s,n.pendingProps);case 24:wr(n,an,t.memoizedState.cache)}return ar(t,n,s)}function tg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)sn=!0;else{if(!xd(t,s)&&(n.flags&128)===0)return sn=!1,wS(t,n,s);sn=(t.flags&131072)!==0}else sn=!1,gt&&(n.flags&1048576)!==0&&zh(n,Zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=os(n.elementType),n.type=t,typeof t=="function")Eu(t)?(i=fs(t,i),n.tag=1,n=Pp(null,n,t,i,s)):(n.tag=0,n=md(null,n,t,i,s));else{if(t!=null){var u=t.$$typeof;if(u===C){n.tag=11,n=Hp(null,n,t,i,s);break e}else if(u===q){n.tag=14,n=Vp(null,n,t,i,s);break e}}throw n=Ae(t)||t,Error(l(306,n,""))}}return n;case 0:return md(t,n,n.type,n.pendingProps,s);case 1:return i=n.type,u=fs(i,n.pendingProps),Pp(t,n,i,u,s);case 3:e:{if($e(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,Iu(t,n),Wl(n,i,null,s);var g=n.memoizedState;if(i=g.cache,wr(n,an,i),i!==f.cache&&Mu(n,[an],s,!0),Jl(),i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(t,n,i,s);break e}else if(i!==u){u=ma(Error(l(424)),n),Gl(u),n=Xp(t,n,i,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Lt=va(t.firstChild),jn=n,gt=!0,Sr=null,ga=!0,s=Gh(n,null,i,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(rs(),i===u){n=ar(t,n,s);break e}On(t,n,i,s)}n=n.child}return n;case 26:return Mo(t,n),t===null?(s=fy(n.type,null,n.pendingProps,null))?n.memoizedState=s:gt||(s=n.type,t=n.pendingProps,i=Xo(Te.current).createElement(s),i[ot]=n,i[yt]=t,Cn(i,s,t),Dt(i),n.stateNode=i):n.memoizedState=fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ue(n),t===null&&gt&&(i=n.stateNode=cy(n.type,n.pendingProps,Te.current),jn=n,ga=!0,u=Lt,Ur(n.type)?(Wd=u,Lt=va(i.firstChild)):Lt=u),On(t,n,n.pendingProps.children,s),Mo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&gt&&((u=i=Lt)&&(i=WS(i,n.type,n.pendingProps,ga),i!==null?(n.stateNode=i,jn=n,Lt=va(i.firstChild),ga=!1,u=!0):u=!1),u||_r(n)),Ue(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,i=f.children,Yd(u,f)?i=null:g!==null&&Yd(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Qu(t,n,hS,null,null,s),bi._currentValue=u),Mo(t,n),On(t,n,i,s),n.child;case 6:return t===null&&gt&&((t=s=Lt)&&(s=e_(s,n.pendingProps,ga),s!==null?(n.stateNode=s,jn=n,Lt=null,t=!0):t=!1),t||_r(n)),null;case 13:return Jp(t,n,s);case 4:return $e(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=us(n,null,i,s):On(t,n,i,s),n.child;case 11:return Hp(t,n,n.type,n.pendingProps,s);case 7:return On(t,n,n.pendingProps,s),n.child;case 8:return On(t,n,n.pendingProps.children,s),n.child;case 12:return On(t,n,n.pendingProps.children,s),n.child;case 10:return i=n.pendingProps,wr(n,n.type,i.value),On(t,n,i.children,s),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,ls(n),u=An(u),i=i(u),n.flags|=1,On(t,n,i,s),n.child;case 14:return Vp(t,n,n.type,n.pendingProps,s);case 15:return Zp(t,n,n.type,n.pendingProps,s);case 19:return eg(t,n,s);case 31:return _S(t,n,s);case 22:return Gp(t,n,s,n.pendingProps);case 24:return ls(n),i=An(an),t===null?(u=Lu(),u===null&&(u=zt,f=ku(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:i,cache:u},Bu(n),wr(n,an,u)):((t.lanes&s)!==0&&(Iu(t,n),Wl(n,null,null,s),Jl()),u=t.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),wr(n,an,i)):(i=f.cache,wr(n,an,i),i!==u.cache&&Mu(n,[an],s,!0))),On(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function rr(t){t.flags|=4}function Sd(t,n,s,i,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Og())t.flags|=8192;else throw cs=bo,qu}else t.flags&=-16777217}function ng(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yy(n))if(Og())t.flags|=8192;else throw cs=bo,qu}function Uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?H():536870912,t.lanes|=n,el|=n)}function si(t,n){if(!gt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,i=0;if(n)for(var u=t.child;u!==null;)s|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)s|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=s,n}function NS(t,n,s){var i=n.pendingProps;switch(Cu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return qt(n),null;case 3:return s=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),er(an),he(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?rr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tu())),qt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(rr(n),f!==null?(qt(n),ng(n,f)):(qt(n),Sd(n,u,null,i,s))):f?f!==t.memoizedState?(rr(n),qt(n),ng(n,f)):(qt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&rr(n),qt(n),Sd(n,u,t,i,s)),null;case 27:if(Qe(n),s=Te.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&rr(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return qt(n),null}t=pe.current,Fs(n)?kh(n):(t=cy(u,i,s),n.stateNode=t,rr(n))}return qt(n),null;case 5:if(Qe(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&rr(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return qt(n),null}if(f=pe.current,Fs(n))kh(n);else{var g=Xo(Te.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?g.createElement(u,{is:i.is}):g.createElement(u)}}f[ot]=n,f[yt]=i;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Cn(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rr(n)}}return qt(n),Sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&rr(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=Te.current,Fs(n)){if(t=n.stateNode,s=n.memoizedProps,i=null,u=jn,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[ot]=n,t=!!(t.nodeValue===s||i!==null&&i.suppressHydrationWarning===!0||Jg(t.nodeValue,s)),t||_r(n,!0)}else t=Xo(t).createTextNode(i),t[ot]=n,n.stateNode=t}return qt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(i=Fs(n),s!==null){if(t===null){if(!i)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[ot]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),t=!1}else s=Tu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(la(n),n):(la(n),null);if((n.flags&128)!==0)throw Error(l(558))}return qt(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Fs(n),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ot]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),u=!1}else u=Tu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(la(n),n):(la(n),null)}return la(n),(n.flags&128)!==0?(n.lanes=s,n):(s=i!==null,t=t!==null&&t.memoizedState!==null,s&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Uo(n,n.updateQueue),qt(n),null);case 4:return he(),t===null&&Hd(n.stateNode.containerInfo),qt(n),null;case 10:return er(n.type),qt(n),null;case 19:if(Y(Xt),i=n.memoizedState,i===null)return qt(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)si(i,!1);else{if(Kt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=wo(t),f!==null){for(n.flags|=128,si(i,!1),t=f.updateQueue,n.updateQueue=t,Uo(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Rh(s,t),s=s.sibling;return oe(Xt,Xt.current&1|2),gt&&Ja(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&z()>Fo&&(n.flags|=128,u=!0,si(i,!1),n.lanes=4194304)}else{if(!u)if(t=wo(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Uo(n,t),si(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!gt)return qt(n),null}else 2*z()-i.renderingStartTime>Fo&&s!==536870912&&(n.flags|=128,u=!0,si(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(t=i.last,t!==null?t.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=z(),t.sibling=null,s=Xt.current,oe(Xt,u?s&1|2:s&1),gt&&Ja(n,i.treeForkCount),t):(qt(n),null);case 22:case 23:return la(n),Vu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(s&536870912)!==0&&(n.flags&128)===0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),s=n.updateQueue,s!==null&&Uo(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048),t!==null&&Y(is),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),er(an),qt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function ES(t,n){switch(Cu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return er(an),he(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qe(n),null;case 31:if(n.memoizedState!==null){if(la(n),n.alternate===null)throw Error(l(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(la(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Xt),null;case 4:return he(),null;case 10:return er(n.type),null;case 22:case 23:return la(n),Vu(),t!==null&&Y(is),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return er(an),null;case 25:return null;default:return null}}function ag(t,n){switch(Cu(n),n.tag){case 3:er(an),he();break;case 26:case 27:case 5:Qe(n);break;case 4:he();break;case 31:n.memoizedState!==null&&la(n);break;case 13:la(n);break;case 19:Y(Xt);break;case 10:er(n.type);break;case 22:case 23:la(n),Vu(),t!==null&&Y(is);break;case 24:er(an)}}function li(t,n){try{var s=n.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var u=i.next;s=u;do{if((s.tag&t)===t){i=void 0;var f=s.create,g=s.inst;i=f(),g.destroy=i}s=s.next}while(s!==u)}}catch(S){wt(n,n.return,S)}}function Cr(t,n,s){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&t)===t){var g=i.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,u=n;var T=s,Z=S;try{Z()}catch(ae){wt(u,T,ae)}}}i=i.next}while(i!==f)}}catch(ae){wt(n,n.return,ae)}}function rg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Yh(n,s)}catch(i){wt(t,t.return,i)}}}function sg(t,n,s){s.props=fs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(i){wt(t,n,i)}}function ii(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof s=="function"?t.refCleanup=s(i):s.current=i}}catch(u){wt(t,n,u)}}function Ha(t,n){var s=t.ref,i=t.refCleanup;if(s!==null)if(typeof i=="function")try{i()}catch(u){wt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){wt(t,n,u)}else s.current=null}function lg(t){var n=t.type,s=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break e;case"img":s.src?i.src=s.src:s.srcSet&&(i.srcset=s.srcSet)}}catch(u){wt(t,t.return,u)}}function _d(t,n,s){try{var i=t.stateNode;QS(i,t.type,s,n),i[yt]=n}catch(u){wt(t,t.return,u)}}function ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,n,s){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ra));else if(i!==4&&(i===27&&Ur(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Nd(t,n,s),t=t.sibling;t!==null;)Nd(t,n,s),t=t.sibling}function Lo(t,n,s){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(i!==4&&(i===27&&Ur(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Lo(t,n,s),t=t.sibling;t!==null;)Lo(t,n,s),t=t.sibling}function og(t){var n=t.stateNode,s=t.memoizedProps;try{for(var i=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Cn(n,i,s),n[ot]=t,n[yt]=s}catch(f){wt(t,t.return,f)}}var sr=!1,ln=!1,Ed=!1,cg=typeof WeakSet=="function"?WeakSet:Set,xn=null;function jS(t,n){if(t=t.containerInfo,Gd=rc,t=Sh(t),vu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,S=-1,T=-1,Z=0,ae=0,ue=t,Q=null;t:for(;;){for(var W;ue!==s||u!==0&&ue.nodeType!==3||(S=g+u),ue!==f||i!==0&&ue.nodeType!==3||(T=g+i),ue.nodeType===3&&(g+=ue.nodeValue.length),(W=ue.firstChild)!==null;)Q=ue,ue=W;for(;;){if(ue===t)break t;if(Q===s&&++Z===u&&(S=g),Q===f&&++ae===i&&(T=g),(W=ue.nextSibling)!==null)break;ue=Q,Q=ue.parentNode}ue=W}s=S===-1||T===-1?null:{start:S,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qd={focusedElem:t,selectionRange:s},rc=!1,xn=n;xn!==null;)if(n=xn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xn=t;else for(;xn!==null;){switch(n=xn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)u=t[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,i=s.stateNode;try{var ze=fs(s.type,u);t=i.getSnapshotBeforeUpdate(ze,f),i.__reactInternalSnapshotBeforeUpdate=t}catch(Ze){wt(s,s.return,Ze)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Pd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,xn=t;break}xn=n.return}}function ug(t,n,s){var i=s.flags;switch(s.tag){case 0:case 11:case 15:ir(t,s),i&4&&li(5,s);break;case 1:if(ir(t,s),i&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){wt(s,s.return,g)}else{var u=fs(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){wt(s,s.return,g)}}i&64&&rg(s),i&512&&ii(s,s.return);break;case 3:if(ir(t,s),i&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yh(t,n)}catch(g){wt(s,s.return,g)}}break;case 27:n===null&&i&4&&og(s);case 26:case 5:ir(t,s),n===null&&i&4&&lg(s),i&512&&ii(s,s.return);break;case 12:ir(t,s);break;case 31:ir(t,s),i&4&&mg(t,s);break;case 13:ir(t,s),i&4&&hg(t,s),i&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=kS.bind(null,s),t_(t,s))));break;case 22:if(i=s.memoizedState!==null||sr,!i){n=n!==null&&n.memoizedState!==null||ln,u=sr;var f=ln;sr=i,(ln=n)&&!f?or(t,s,(s.subtreeFlags&8772)!==0):ir(t,s),sr=u,ln=f}break;case 30:break;default:ir(t,s)}}function dg(t){var n=t.alternate;n!==null&&(t.alternate=null,dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Un(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ft=null,Gn=!1;function lr(t,n,s){for(s=s.child;s!==null;)fg(t,n,s),s=s.sibling}function fg(t,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(de,s)}catch{}switch(s.tag){case 26:ln||Ha(s,n),lr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ln||Ha(s,n);var i=Ft,u=Gn;Ur(s.type)&&(Ft=s.stateNode,Gn=!1),lr(t,n,s),gi(s.stateNode),Ft=i,Gn=u;break;case 5:ln||Ha(s,n);case 6:if(i=Ft,u=Gn,Ft=null,lr(t,n,s),Ft=i,Gn=u,Ft!==null)if(Gn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(s.stateNode)}catch(f){wt(s,n,f)}else try{Ft.removeChild(s.stateNode)}catch(f){wt(s,n,f)}break;case 18:Ft!==null&&(Gn?(t=Ft,ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ol(t)):ry(Ft,s.stateNode));break;case 4:i=Ft,u=Gn,Ft=s.stateNode.containerInfo,Gn=!0,lr(t,n,s),Ft=i,Gn=u;break;case 0:case 11:case 14:case 15:Cr(2,s,n),ln||Cr(4,s,n),lr(t,n,s);break;case 1:ln||(Ha(s,n),i=s.stateNode,typeof i.componentWillUnmount=="function"&&sg(s,n,i)),lr(t,n,s);break;case 21:lr(t,n,s);break;case 22:ln=(i=ln)||s.memoizedState!==null,lr(t,n,s),ln=i;break;default:lr(t,n,s)}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(s){wt(n,n.return,s)}}}function hg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(s){wt(n,n.return,s)}}function AS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cg),n;default:throw Error(l(435,t.tag))}}function qo(t,n){var s=AS(t);n.forEach(function(i){if(!s.has(i)){s.add(i);var u=US.bind(null,t,i);i.then(u,u)}})}function Qn(t,n){var s=n.deletions;if(s!==null)for(var i=0;i<s.length;i++){var u=s[i],f=t,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 27:if(Ur(S.type)){Ft=S.stateNode,Gn=!1;break e}break;case 5:Ft=S.stateNode,Gn=!1;break e;case 3:case 4:Ft=S.stateNode.containerInfo,Gn=!0;break e}S=S.return}if(Ft===null)throw Error(l(160));fg(f,g,u),Ft=null,Gn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)pg(n,t),n=n.sibling}var za=null;function pg(t,n){var s=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qn(n,t),Yn(t),i&4&&(Cr(3,t,t.return),li(3,t),Cr(5,t,t.return));break;case 1:Qn(n,t),Yn(t),i&512&&(ln||s===null||Ha(s,s.return)),i&64&&sr&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?i:s.concat(i))));break;case 26:var u=za;if(Qn(n,t),Yn(t),i&512&&(ln||s===null||Ha(s,s.return)),i&4){var f=s!==null?s.memoizedState:null;if(i=t.memoizedState,s===null)if(i===null)if(t.stateNode===null){e:{i=t.type,s=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[It]||f[ot]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),Cn(f,i,s),f[ot]=t,Dt(f),i=f;break e;case"link":var g=py("link","href",u).get(i+(s.href||""));if(g){for(var S=0;S<g.length;S++)if(f=g[S],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(S,1);break t}}f=u.createElement(i),Cn(f,i,s),u.head.appendChild(f);break;case"meta":if(g=py("meta","content",u).get(i+(s.content||""))){for(S=0;S<g.length;S++)if(f=g[S],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(S,1);break t}}f=u.createElement(i),Cn(f,i,s),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[ot]=t,Dt(f),i=f}t.stateNode=i}else gy(u,t.type,t.stateNode);else t.stateNode=hy(u,i,t.memoizedProps);else f!==i?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,i===null?gy(u,t.type,t.stateNode):hy(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&_d(t,t.memoizedProps,s.memoizedProps)}break;case 27:Qn(n,t),Yn(t),i&512&&(ln||s===null||Ha(s,s.return)),s!==null&&i&4&&_d(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Qn(n,t),Yn(t),i&512&&(ln||s===null||Ha(s,s.return)),t.flags&32){u=t.stateNode;try{gr(u,"")}catch(ze){wt(t,t.return,ze)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,_d(t,u,s!==null?s.memoizedProps:u)),i&1024&&(Ed=!0);break;case 6:if(Qn(n,t),Yn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,s=t.stateNode;try{s.nodeValue=i}catch(ze){wt(t,t.return,ze)}}break;case 3:if(ec=null,u=za,za=Jo(n.containerInfo),Qn(n,t),za=u,Yn(t),i&4&&s!==null&&s.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(ze){wt(t,t.return,ze)}Ed&&(Ed=!1,gg(t));break;case 4:i=za,za=Jo(t.stateNode.containerInfo),Qn(n,t),Yn(t),za=i;break;case 12:Qn(n,t),Yn(t);break;case 31:Qn(n,t),Yn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qo(t,i)));break;case 13:Qn(n,t),Yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Io=z()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qo(t,i)));break;case 22:u=t.memoizedState!==null;var T=s!==null&&s.memoizedState!==null,Z=sr,ae=ln;if(sr=Z||u,ln=ae||T,Qn(n,t),ln=ae,sr=Z,Yn(t),i&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||T||sr||ln||ms(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){T=s=n;try{if(f=T.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=T.stateNode;var ue=T.memoizedProps.style,Q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ze){wt(T,T.return,ze)}}}else if(n.tag===6){if(s===null){T=n;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(ze){wt(T,T.return,ze)}}}else if(n.tag===18){if(s===null){T=n;try{var W=T.stateNode;u?sy(W,!0):sy(T.stateNode,!1)}catch(ze){wt(T,T.return,ze)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(s=i.retryQueue,s!==null&&(i.retryQueue=null,qo(t,s))));break;case 19:Qn(n,t),Yn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qo(t,i)));break;case 30:break;case 21:break;default:Qn(n,t),Yn(t)}}function Yn(t){var n=t.flags;if(n&2){try{for(var s,i=t.return;i!==null;){if(ig(i)){s=i;break}i=i.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var u=s.stateNode,f=wd(t);Lo(t,f,u);break;case 5:var g=s.stateNode;s.flags&32&&(gr(g,""),s.flags&=-33);var S=wd(t);Lo(t,S,g);break;case 3:case 4:var T=s.stateNode.containerInfo,Z=wd(t);Nd(t,Z,T);break;default:throw Error(l(161))}}catch(ae){wt(t,t.return,ae)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ir(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ug(t,n.alternate,n),n=n.sibling}function ms(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),ms(n);break;case 1:Ha(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sg(n,n.return,s),ms(n);break;case 27:gi(n.stateNode);case 26:case 5:Ha(n,n.return),ms(n);break;case 22:n.memoizedState===null&&ms(n);break;case 30:ms(n);break;default:ms(n)}t=t.sibling}}function or(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:or(u,f,s),li(4,f);break;case 1:if(or(u,f,s),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(Z){wt(i,i.return,Z)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Qh(T[u],S)}catch(Z){wt(i,i.return,Z)}}s&&g&64&&rg(f),ii(f,f.return);break;case 27:og(f);case 26:case 5:or(u,f,s),s&&i===null&&g&4&&lg(f),ii(f,f.return);break;case 12:or(u,f,s);break;case 31:or(u,f,s),s&&g&4&&mg(u,f);break;case 13:or(u,f,s),s&&g&4&&hg(u,f);break;case 22:f.memoizedState===null&&or(u,f,s),ii(f,f.return);break;case 30:break;default:or(u,f,s)}n=n.sibling}}function jd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ql(s))}function Ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t))}function Ma(t,n,s,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(t,n,s,i),n=n.sibling}function yg(t,n,s,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ma(t,n,s,i),u&2048&&li(9,n);break;case 1:Ma(t,n,s,i);break;case 3:Ma(t,n,s,i),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t)));break;case 12:if(u&2048){Ma(t,n,s,i),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,S=f.onPostCommit;typeof S=="function"&&S(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){wt(n,n.return,T)}}else Ma(t,n,s,i);break;case 31:Ma(t,n,s,i);break;case 13:Ma(t,n,s,i);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ma(t,n,s,i):oi(t,n):f._visibility&2?Ma(t,n,s,i):(f._visibility|=2,Xs(t,n,s,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&jd(g,n);break;case 24:Ma(t,n,s,i),u&2048&&Ad(n.alternate,n);break;default:Ma(t,n,s,i)}}function Xs(t,n,s,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,S=s,T=i,Z=g.flags;switch(g.tag){case 0:case 11:case 15:Xs(f,g,S,T,u),li(8,g);break;case 23:break;case 22:var ae=g.stateNode;g.memoizedState!==null?ae._visibility&2?Xs(f,g,S,T,u):oi(f,g):(ae._visibility|=2,Xs(f,g,S,T,u)),u&&Z&2048&&jd(g.alternate,g);break;case 24:Xs(f,g,S,T,u),u&&Z&2048&&Ad(g.alternate,g);break;default:Xs(f,g,S,T,u)}n=n.sibling}}function oi(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,i=n,u=i.flags;switch(i.tag){case 22:oi(s,i),u&2048&&jd(i.alternate,i);break;case 24:oi(s,i),u&2048&&Ad(i.alternate,i);break;default:oi(s,i)}n=n.sibling}}var ci=8192;function Js(t,n,s){if(t.subtreeFlags&ci)for(t=t.child;t!==null;)vg(t,n,s),t=t.sibling}function vg(t,n,s){switch(t.tag){case 26:Js(t,n,s),t.flags&ci&&t.memoizedState!==null&&m_(s,za,t.memoizedState,t.memoizedProps);break;case 5:Js(t,n,s);break;case 3:case 4:var i=za;za=Jo(t.stateNode.containerInfo),Js(t,n,s),za=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ci,ci=16777216,Js(t,n,s),ci=i):Js(t,n,s));break;default:Js(t,n,s)}}function bg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ui(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];xn=i,Sg(i,t)}bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 0:case 11:case 15:ui(t),t.flags&2048&&Cr(9,t,t.return);break;case 3:ui(t);break;case 12:ui(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bo(t)):ui(t);break;default:ui(t)}}function Bo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];xn=i,Sg(i,t)}bg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),Bo(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Bo(n));break;default:Bo(n)}t=t.sibling}}function Sg(t,n){for(;xn!==null;){var s=xn;switch(s.tag){case 0:case 11:case 15:Cr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var i=s.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ql(s.memoizedState.cache)}if(i=s.child,i!==null)i.return=s,xn=i;else e:for(s=t;xn!==null;){i=xn;var u=i.sibling,f=i.return;if(dg(i),i===s){xn=null;break e}if(u!==null){u.return=f,xn=u;break e}xn=f}}}var OS={getCacheForType:function(t){var n=An(an),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return An(an).controller.signal}},CS=typeof WeakMap=="function"?WeakMap:Map,xt=0,zt=null,ut=null,ht=0,_t=0,ia=null,Rr=!1,Ws=!1,Od=!1,cr=0,Kt=0,Tr=0,hs=0,Cd=0,oa=0,el=0,di=null,Kn=null,Rd=!1,Io=0,_g=0,Fo=1/0,$o=null,Dr=null,mn=0,zr=null,tl=null,ur=0,Td=0,Dd=null,wg=null,fi=0,zd=null;function ca(){return(xt&2)!==0&&ht!==0?ht&-ht:B.T!==null?Bd():Tt()}function Ng(){if(oa===0)if((ht&536870912)===0||gt){var t=at;at<<=1,(at&3932160)===0&&(at=262144),oa=t}else oa=536870912;return t=sa.current,t!==null&&(t.flags|=32),oa}function Pn(t,n,s){(t===zt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(nl(t,0),Mr(t,ht,oa,!1)),ge(t,s),((xt&2)===0||t!==zt)&&(t===zt&&((xt&2)===0&&(hs|=s),Kt===4&&Mr(t,ht,oa,!1)),Va(t))}function Eg(t,n,s){if((xt&6)!==0)throw Error(l(327));var i=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Fn(t,n),u=i?DS(t,n):kd(t,n,!0),f=i;do{if(u===0){Ws&&!i&&Mr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!RS(s)){u=kd(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var S=t;u=di;var T=S.current.memoizedState.isDehydrated;if(T&&(nl(S,g).flags|=256),g=kd(S,g,!1),g!==2){if(Od&&!T){S.errorRecoveryDisabledLanes|=f,hs|=f,u=4;break e}f=Kn,Kn=u,f!==null&&(Kn===null?Kn=f:Kn.push.apply(Kn,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){nl(t,0),Mr(t,n,0,!0);break}e:{switch(i=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Mr(i,n,oa,!Rr);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Io+300-z(),10<u)){if(Mr(i,n,oa,!Rr),Aa(i,0,!0)!==0)break e;ur=n,i.timeoutHandle=ny(jg.bind(null,i,s,Kn,$o,Rd,n,oa,hs,el,Rr,f,"Throttled",-0,0),u);break e}jg(i,s,Kn,$o,Rd,n,oa,hs,el,Rr,f,null,-0,0)}}break}while(!0);Va(t)}function jg(t,n,s,i,u,f,g,S,T,Z,ae,ue,Q,W){if(t.timeoutHandle=-1,ue=n.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ra},vg(n,f,ue);var ze=(f&62914560)===f?Io-z():(f&4194048)===f?_g-z():0;if(ze=h_(ue,ze),ze!==null){ur=f,t.cancelPendingCommit=ze(Mg.bind(null,t,n,f,s,i,u,g,S,T,ae,ue,null,Q,W)),Mr(t,f,g,!Z);return}}Mg(t,n,f,s,i,u,g,S,T)}function RS(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var i=0;i<s.length;i++){var u=s[i],f=u.getSnapshot;u=u.value;try{if(!aa(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(t,n,s,i){n&=~Cd,n&=~hs,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var u=n;0<u;){var f=31-St(u),g=1<<f;i[f]=-1,u&=~g}s!==0&&Je(t,s,n)}function Ho(){return(xt&6)===0?(mi(0),!1):!0}function Md(){if(ut!==null){if(_t===0)var t=ut.return;else t=ut,Wa=ss=null,Pu(t),Gs=null,Kl=0,t=ut;for(;t!==null;)ag(t.alternate,t),t=t.return;ut=null}}function nl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,PS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ur=0,Md(),zt=t,ut=s=Xa(t.current,null),ht=n,_t=0,ia=null,Rr=!1,Ws=Fn(t,n),Od=!1,el=oa=Cd=hs=Tr=Kt=0,Kn=di=null,Rd=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var u=31-St(i),f=1<<u;n|=t[u],i&=~f}return cr=n,co(),s}function Ag(t,n){tt=null,B.H=ai,n===Zs||n===vo?(n=Hh(),_t=3):n===qu?(n=Hh(),_t=4):_t=n===fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ia=n,ut===null&&(Kt=1,Do(t,ma(n,t.current)))}function Og(){var t=sa.current;return t===null?!0:(ht&4194048)===ht?ya===null:(ht&62914560)===ht||(ht&536870912)!==0?t===ya:!1}function Cg(){var t=B.H;return B.H=ai,t===null?ai:t}function Rg(){var t=B.A;return B.A=OS,t}function Vo(){Kt=4,Rr||(ht&4194048)!==ht&&sa.current!==null||(Ws=!0),(Tr&134217727)===0&&(hs&134217727)===0||zt===null||Mr(zt,ht,oa,!1)}function kd(t,n,s){var i=xt;xt|=2;var u=Cg(),f=Rg();(zt!==t||ht!==n)&&($o=null,nl(t,n)),n=!1;var g=Kt;e:do try{if(_t!==0&&ut!==null){var S=ut,T=ia;switch(_t){case 8:Md(),g=6;break e;case 3:case 2:case 9:case 6:sa.current===null&&(n=!0);var Z=_t;if(_t=0,ia=null,al(t,S,T,Z),s&&Ws){g=0;break e}break;default:Z=_t,_t=0,ia=null,al(t,S,T,Z)}}TS(),g=Kt;break}catch(ae){Ag(t,ae)}while(!0);return n&&t.shellSuspendCounter++,Wa=ss=null,xt=i,B.H=u,B.A=f,ut===null&&(zt=null,ht=0,co()),g}function TS(){for(;ut!==null;)Tg(ut)}function DS(t,n){var s=xt;xt|=2;var i=Cg(),u=Rg();zt!==t||ht!==n?($o=null,Fo=z()+500,nl(t,n)):Ws=Fn(t,n);e:do try{if(_t!==0&&ut!==null){n=ut;var f=ia;t:switch(_t){case 1:_t=0,ia=null,al(t,n,f,1);break;case 2:case 9:if(Fh(f)){_t=0,ia=null,Dg(n);break}n=function(){_t!==2&&_t!==9||zt!==t||(_t=7),Va(t)},f.then(n,n);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Fh(f)?(_t=0,ia=null,Dg(n)):(_t=0,ia=null,al(t,n,f,7));break;case 5:var g=null;switch(ut.tag){case 26:g=ut.memoizedState;case 5:case 27:var S=ut;if(g?yy(g):S.stateNode.complete){_t=0,ia=null;var T=S.sibling;if(T!==null)ut=T;else{var Z=S.return;Z!==null?(ut=Z,Zo(Z)):ut=null}break t}}_t=0,ia=null,al(t,n,f,5);break;case 6:_t=0,ia=null,al(t,n,f,6);break;case 8:Md(),Kt=6;break e;default:throw Error(l(462))}}zS();break}catch(ae){Ag(t,ae)}while(!0);return Wa=ss=null,B.H=i,B.A=u,xt=s,ut!==null?0:(zt=null,ht=0,co(),Kt)}function zS(){for(;ut!==null&&!J();)Tg(ut)}function Tg(t){var n=tg(t.alternate,t,cr);t.memoizedProps=t.pendingProps,n===null?Zo(t):ut=n}function Dg(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Kp(s,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=Kp(s,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Pu(n);default:ag(s,n),n=ut=Rh(n,cr),n=tg(s,n,cr)}t.memoizedProps=t.pendingProps,n===null?Zo(t):ut=n}function al(t,n,s,i){Wa=ss=null,Pu(n),Gs=null,Kl=0;var u=n.return;try{if(SS(t,u,n,s,ht)){Kt=1,Do(t,ma(s,t.current)),ut=null;return}}catch(f){if(u!==null)throw ut=u,f;Kt=1,Do(t,ma(s,t.current)),ut=null;return}n.flags&32768?(gt||i===1?t=!0:Ws||(ht&536870912)!==0?t=!1:(Rr=t=!0,(i===2||i===9||i===3||i===6)&&(i=sa.current,i!==null&&i.tag===13&&(i.flags|=16384))),zg(n,t)):Zo(n)}function Zo(t){var n=t;do{if((n.flags&32768)!==0){zg(n,Rr);return}t=n.return;var s=NS(n.alternate,n,cr);if(s!==null){ut=s;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=t}while(n!==null);Kt===0&&(Kt=5)}function zg(t,n){do{var s=ES(t.alternate,t);if(s!==null){s.flags&=32767,ut=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ut=t;return}ut=t=s}while(t!==null);Kt=6,ut=null}function Mg(t,n,s,i,u,f,g,S,T){t.cancelPendingCommit=null;do Go();while(mn!==0);if((xt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=wu,ke(t,s,f,g,S,T),t===zt&&(ut=zt=null,ht=0),tl=n,zr=t,ur=s,Td=f,Dd=u,wg=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LS(G,function(){return Bg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,u=re.p,re.p=2,g=xt,xt|=4;try{jS(t,n,s)}finally{xt=g,re.p=u,B.T=i}}mn=1,kg(),Ug(),Lg()}}function kg(){if(mn===1){mn=0;var t=zr,n=tl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var i=re.p;re.p=2;var u=xt;xt|=4;try{pg(n,t);var f=Qd,g=Sh(t.containerInfo),S=f.focusedElem,T=f.selectionRange;if(g!==S&&S&&S.ownerDocument&&xh(S.ownerDocument.documentElement,S)){if(T!==null&&vu(S)){var Z=T.start,ae=T.end;if(ae===void 0&&(ae=Z),"selectionStart"in S)S.selectionStart=Z,S.selectionEnd=Math.min(ae,S.value.length);else{var ue=S.ownerDocument||document,Q=ue&&ue.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),ze=S.textContent.length,Ze=Math.min(T.start,ze),Rt=T.end===void 0?Ze:Math.min(T.end,ze);!W.extend&&Ze>Rt&&(g=Rt,Rt=Ze,Ze=g);var I=bh(S,Ze),M=bh(S,Rt);if(I&&M&&(W.rangeCount!==1||W.anchorNode!==I.node||W.anchorOffset!==I.offset||W.focusNode!==M.node||W.focusOffset!==M.offset)){var V=ue.createRange();V.setStart(I.node,I.offset),W.removeAllRanges(),Ze>Rt?(W.addRange(V),W.extend(M.node,M.offset)):(V.setEnd(M.node,M.offset),W.addRange(V))}}}}for(ue=[],W=S;W=W.parentNode;)W.nodeType===1&&ue.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ue.length;S++){var ie=ue[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}rc=!!Gd,Qd=Gd=null}finally{xt=u,re.p=i,B.T=s}}t.current=n,mn=2}}function Ug(){if(mn===2){mn=0;var t=zr,n=tl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var i=re.p;re.p=2;var u=xt;xt|=4;try{ug(t,n.alternate,n)}finally{xt=u,re.p=i,B.T=s}}mn=3}}function Lg(){if(mn===4||mn===3){mn=0,je();var t=zr,n=tl,s=ur,i=wg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mn=5:(mn=0,tl=zr=null,qg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Dr=null),Mt(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(de,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=B.T,u=re.p,re.p=2,B.T=null;try{for(var f=t.onRecoverableError,g=0;g<i.length;g++){var S=i[g];f(S.value,{componentStack:S.stack})}}finally{B.T=n,re.p=u}}(ur&3)!==0&&Go(),Va(t),u=t.pendingLanes,(s&261930)!==0&&(u&42)!==0?t===zd?fi++:(fi=0,zd=t):fi=0,mi(0)}}function qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ql(n)))}function Go(){return kg(),Ug(),Lg(),Bg()}function Bg(){if(mn!==5)return!1;var t=zr,n=Td;Td=0;var s=Mt(ur),i=B.T,u=re.p;try{re.p=32>s?32:s,B.T=null,s=Dd,Dd=null;var f=zr,g=ur;if(mn=0,tl=zr=null,ur=0,(xt&6)!==0)throw Error(l(331));var S=xt;if(xt|=4,xg(f.current),yg(f,f.current,g,s),xt=S,mi(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(de,f)}catch{}return!0}finally{re.p=u,B.T=i,qg(t,n)}}function Ig(t,n,s){n=ma(s,n),n=dd(t.stateNode,n,2),t=jr(t,n,2),t!==null&&(ge(t,2),Va(t))}function wt(t,n,s){if(t.tag===3)Ig(t,t,s);else for(;n!==null;){if(n.tag===3){Ig(n,t,s);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dr===null||!Dr.has(i))){t=ma(s,t),s=Fp(2),i=jr(n,s,2),i!==null&&($p(s,i,n,t),ge(i,2),Va(i));break}}n=n.return}}function Ud(t,n,s){var i=t.pingCache;if(i===null){i=t.pingCache=new CS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(s)||(Od=!0,u.add(s),t=MS.bind(null,t,n,s),n.then(t,t))}function MS(t,n,s){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,zt===t&&(ht&s)===s&&(Kt===4||Kt===3&&(ht&62914560)===ht&&300>z()-Io?(xt&2)===0&&nl(t,0):Cd|=s,el===ht&&(el=0)),Va(t)}function Fg(t,n){n===0&&(n=H()),t=ns(t,n),t!==null&&(ge(t,n),Va(t))}function kS(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Fg(t,s)}function US(t,n){var s=0;switch(t.tag){case 31:case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(s=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),Fg(t,s)}function LS(t,n){return R(t,n)}var Qo=null,rl=null,Ld=!1,Yo=!1,qd=!1,kr=0;function Va(t){t!==rl&&t.next===null&&(rl===null?Qo=rl=t:rl=rl.next=t),Yo=!0,Ld||(Ld=!0,BS())}function mi(t,n){if(!qd&&Yo){qd=!0;do for(var s=!1,i=Qo;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var g=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=u&~(g&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zg(i,f))}else f=ht,f=Aa(i,i===zt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Fn(i,f)||(s=!0,Zg(i,f));i=i.next}while(s);qd=!1}}function qS(){$g()}function $g(){Yo=Ld=!1;var t=0;kr!==0&&KS()&&(t=kr);for(var n=z(),s=null,i=Qo;i!==null;){var u=i.next,f=Hg(i,n);f===0?(i.next=null,s===null?Qo=u:s.next=u,u===null&&(rl=s)):(s=i,(t!==0||(f&3)!==0)&&(Yo=!0)),i=u}mn!==0&&mn!==5||mi(t),kr!==0&&(kr=0)}function Hg(t,n){for(var s=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-St(f),S=1<<g,T=u[g];T===-1?((S&s)===0||(S&i)!==0)&&(u[g]=$n(S,n)):T<=n&&(t.expiredLanes|=S),f&=~S}if(n=zt,s=ht,s=Aa(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,s===0||t===n&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&$(i),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Fn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(i!==null&&$(i),Mt(s)){case 2:case 8:s=_e;break;case 32:s=G;break;case 268435456:s=He;break;default:s=G}return i=Vg.bind(null,t),s=R(s,i),t.callbackPriority=n,t.callbackNode=s,n}return i!==null&&i!==null&&$(i),t.callbackPriority=2,t.callbackNode=null,2}function Vg(t,n){if(mn!==0&&mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Go()&&t.callbackNode!==s)return null;var i=ht;return i=Aa(t,t===zt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Eg(t,i,n),Hg(t,z()),t.callbackNode!=null&&t.callbackNode===s?Vg.bind(null,t):null)}function Zg(t,n){if(Go())return null;Eg(t,n,!0)}function BS(){XS(function(){(xt&6)!==0?R(P,qS):$g()})}function Bd(){if(kr===0){var t=Hs;t===0&&(t=na,na<<=1,(na&261888)===0&&(na=256)),kr=t}return kr}function Gg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zs(""+t)}function Qg(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function IS(t,n,s,i,u){if(n==="submit"&&s&&s.stateNode===u){var f=Gg((u[yt]||null).action),g=i.submitter;g&&(n=(n=g[yt]||null)?Gg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var S=new Wr("action","action",null,i,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(kr!==0){var T=g?Qg(u,g):new FormData(u);sd(s,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=g?Qg(u,g):new FormData(u),sd(s,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var Id=0;Id<_u.length;Id++){var Fd=_u[Id],FS=Fd.toLowerCase(),$S=Fd[0].toUpperCase()+Fd.slice(1);Da(FS,"on"+$S)}Da(Nh,"onAnimationEnd"),Da(Eh,"onAnimationIteration"),Da(jh,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(rS,"onTransitionRun"),Da(sS,"onTransitionStart"),Da(lS,"onTransitionCancel"),Da(Ah,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hi));function Yg(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var i=t[s],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var g=i.length-1;0<=g;g--){var S=i[g],T=S.instance,Z=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=Z;try{f(u)}catch(ae){oo(ae)}u.currentTarget=null,f=T}else for(g=0;g<i.length;g++){if(S=i[g],T=S.instance,Z=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=Z;try{f(u)}catch(ae){oo(ae)}u.currentTarget=null,f=T}}}}function dt(t,n){var s=n[dn];s===void 0&&(s=n[dn]=new Set);var i=t+"__bubble";s.has(i)||(Kg(n,t,2,!1),s.add(i))}function $d(t,n,s){var i=0;n&&(i|=4),Kg(s,t,i,n)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[Ko]){t[Ko]=!0,Rs.forEach(function(s){s!=="selectionchange"&&(HS.has(s)||$d(s,!1,t),$d(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ko]||(n[Ko]=!0,$d("selectionchange",!1,n))}}function Kg(t,n,s,i){switch(Ny(n)){case 2:var u=y_;break;case 8:u=v_;break;default:u=rf}s=u.bind(null,n,s,t),u=void 0,!Xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(n,s,{capture:!0,passive:u}):t.addEventListener(n,s,!0):u!==void 0?t.addEventListener(n,s,{passive:u}):t.addEventListener(n,s,!1)}function Vd(t,n,s,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var S=i.stateNode.containerInfo;if(S===u)break;if(g===4)for(g=i.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;S!==null;){if(g=en(S),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){i=f=g;continue e}S=S.parentNode}}i=i.return}so(function(){var Z=f,ae=Ll(s),ue=[];e:{var Q=Oh.get(t);if(Q!==void 0){var W=Wr,ze=t;switch(t){case"keypress":if(ye(s)===0)break e;case"keydown":case"keyup":W=Ux;break;case"focusin":ze="focus",W=mu;break;case"focusout":ze="blur",W=mu;break;case"beforeblur":case"afterblur":W=mu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Bx;break;case Nh:case Eh:case jh:W=Ax;break;case Ah:W=Fx;break;case"scroll":case"scrollend":W=_x;break;case"wheel":W=Hx;break;case"copy":case"cut":case"paste":W=Cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=sh;break;case"toggle":case"beforetoggle":W=Zx}var Ze=(n&4)!==0,Rt=!Ze&&(t==="scroll"||t==="scrollend"),I=Ze?Q!==null?Q+"Capture":null:Q;Ze=[];for(var M=Z,V;M!==null;){var ie=M;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||I===null||(ie=Pr(M,I),ie!=null&&Ze.push(pi(M,ie,V))),Rt)break;M=M.return}0<Ze.length&&(Q=new W(Q,ze,null,s,ae),ue.push({event:Q,listeners:Ze}))}}if((n&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",Q&&s!==yr&&(ze=s.relatedTarget||s.fromElement)&&(en(ze)||ze[Ut]))break e;if((W||Q)&&(Q=ae.window===ae?ae:(Q=ae.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(ze=s.relatedTarget||s.toElement,W=Z,ze=ze?en(ze):null,ze!==null&&(Rt=d(ze),Ze=ze.tag,ze!==Rt||Ze!==5&&Ze!==27&&Ze!==6)&&(ze=null)):(W=null,ze=Z),W!==ze)){if(Ze=ah,ie="onMouseLeave",I="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ze=sh,ie="onPointerLeave",I="onPointerEnter",M="pointer"),Rt=W==null?Q:Hn(W),V=ze==null?Q:Hn(ze),Q=new Ze(ie,M+"leave",W,s,ae),Q.target=Rt,Q.relatedTarget=V,ie=null,en(ae)===Z&&(Ze=new Ze(I,M+"enter",ze,s,ae),Ze.target=V,Ze.relatedTarget=Rt,ie=Ze),Rt=ie,W&&ze)t:{for(Ze=VS,I=W,M=ze,V=0,ie=I;ie;ie=Ze(ie))V++;ie=0;for(var Fe=M;Fe;Fe=Ze(Fe))ie++;for(;0<V-ie;)I=Ze(I),V--;for(;0<ie-V;)M=Ze(M),ie--;for(;V--;){if(I===M||M!==null&&I===M.alternate){Ze=I;break t}I=Ze(I),M=Ze(M)}Ze=null}else Ze=null;W!==null&&Pg(ue,Q,W,Ze,!1),ze!==null&&Rt!==null&&Pg(ue,Rt,ze,Ze,!0)}}e:{if(Q=Z?Hn(Z):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var vt=mh;else if(dh(Q))if(hh)vt=tS;else{vt=Wx;var qe=Jx}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Z&&Ul(Z.elementType)&&(vt=mh):vt=eS;if(vt&&(vt=vt(t,Z))){fh(ue,vt,s,ae);break e}qe&&qe(t,Q,Z),t==="focusout"&&Z&&Q.type==="number"&&Z.memoizedProps.value!=null&&Kr(Q,"number",Q.value)}switch(qe=Z?Hn(Z):window,t){case"focusin":(dh(qe)||qe.contentEditable==="true")&&(ks=qe,bu=Z,Vl=null);break;case"focusout":Vl=bu=ks=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,_h(ue,s,ae);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":_h(ue,s,ae)}var rt;if(pu)e:{switch(t){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Ms?ch(t,s)&&(pt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(lh&&s.locale!=="ko"&&(Ms||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ms&&(rt=le()):(Ba=ae,j="value"in Ba?Ba.value:Ba.textContent,Ms=!0)),qe=Po(Z,pt),0<qe.length&&(pt=new rh(pt,t,null,s,ae),ue.push({event:pt,listeners:qe}),rt?pt.data=rt:(rt=uh(s),rt!==null&&(pt.data=rt)))),(rt=Qx?Yx(t,s):Kx(t,s))&&(pt=Po(Z,"onBeforeInput"),0<pt.length&&(qe=new rh("onBeforeInput","beforeinput",null,s,ae),ue.push({event:qe,listeners:pt}),qe.data=rt)),IS(ue,t,Z,s,ae)}Yg(ue,n)})}function pi(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Po(t,n){for(var s=n+"Capture",i=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Pr(t,s),u!=null&&i.unshift(pi(t,u,f)),u=Pr(t,n),u!=null&&i.push(pi(t,u,f))),t.tag===3)return i;t=t.return}return[]}function VS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pg(t,n,s,i,u){for(var f=n._reactName,g=[];s!==null&&s!==i;){var S=s,T=S.alternate,Z=S.stateNode;if(S=S.tag,T!==null&&T===i)break;S!==5&&S!==26&&S!==27||Z===null||(T=Z,u?(Z=Pr(s,f),Z!=null&&g.unshift(pi(s,Z,T))):u||(Z=Pr(s,f),Z!=null&&g.push(pi(s,Z,T)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var ZS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(ZS,`
`).replace(GS,"")}function Jg(t,n){return n=Xg(n),Xg(t)===n}function Ct(t,n,s,i,u,f){switch(s){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||gr(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&gr(t,""+i);break;case"className":Ca(t,"class",i);break;case"tabIndex":Ca(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ca(t,s,i);break;case"style":ao(t,i,f);break;case"data":if(n!=="object"){Ca(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(s);break}i=zs(""+i),t.setAttribute(s,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ct(t,n,"name",u.name,u,null),Ct(t,n,"formEncType",u.formEncType,u,null),Ct(t,n,"formMethod",u.formMethod,u,null),Ct(t,n,"formTarget",u.formTarget,u,null)):(Ct(t,n,"encType",u.encType,u,null),Ct(t,n,"method",u.method,u,null),Ct(t,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(s);break}i=zs(""+i),t.setAttribute(s,i);break;case"onClick":i!=null&&(t.onclick=Ra);break;case"onScroll":i!=null&&dt("scroll",t);break;case"onScrollEnd":i!=null&&dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(s=i.__html,s!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}s=zs(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(s,""+i):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":i===!0?t.setAttribute(s,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(s,i):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(s,i):t.removeAttribute(s);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(s):t.setAttribute(s,i);break;case"popover":dt("beforetoggle",t),dt("toggle",t),tn(t,"popover",i);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tn(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,tn(t,s,i))}}function Zd(t,n,s,i,u,f){switch(s){case"style":ao(t,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(s=i.__html,s!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof i=="string"?gr(t,i):(typeof i=="number"||typeof i=="bigint")&&gr(t,""+i);break;case"onScroll":i!=null&&dt("scroll",t);break;case"onScrollEnd":i!=null&&dt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=t[yt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,i,u);break e}s in t?t[s]=i:i===!0?t.setAttribute(s,""):tn(t,s,i)}}}function Cn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",t),dt("load",t);var i=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ct(t,n,f,g,s,null)}}u&&Ct(t,n,"srcSet",s.srcSet,s,null),i&&Ct(t,n,"src",s.src,s,null);return;case"input":dt("invalid",t);var S=f=g=u=null,T=null,Z=null;for(i in s)if(s.hasOwnProperty(i)){var ae=s[i];if(ae!=null)switch(i){case"name":u=ae;break;case"type":g=ae;break;case"checked":T=ae;break;case"defaultChecked":Z=ae;break;case"value":f=ae;break;case"defaultValue":S=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,n));break;default:Ct(t,n,i,ae,s,null)}}Ds(t,f,S,T,Z,g,u,!1);return;case"select":dt("invalid",t),i=g=f=null;for(u in s)if(s.hasOwnProperty(u)&&(S=s[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":g=S;break;case"multiple":i=S;default:Ct(t,n,u,S,s,null)}n=f,s=g,t.multiple=!!i,n!=null?pr(t,!!i,n,!1):s!=null&&pr(t,!!i,s,!0);return;case"textarea":dt("invalid",t),f=u=i=null;for(g in s)if(s.hasOwnProperty(g)&&(S=s[g],S!=null))switch(g){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ct(t,n,g,S,s,null)}to(t,i,u,f);return;case"option":for(T in s)if(s.hasOwnProperty(T)&&(i=s[T],i!=null))switch(T){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ct(t,n,T,i,s,null)}return;case"dialog":dt("beforetoggle",t),dt("toggle",t),dt("cancel",t),dt("close",t);break;case"iframe":case"object":dt("load",t);break;case"video":case"audio":for(i=0;i<hi.length;i++)dt(hi[i],t);break;case"image":dt("error",t),dt("load",t);break;case"details":dt("toggle",t);break;case"embed":case"source":case"link":dt("error",t),dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in s)if(s.hasOwnProperty(Z)&&(i=s[Z],i!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ct(t,n,Z,i,s,null)}return;default:if(Ul(n)){for(ae in s)s.hasOwnProperty(ae)&&(i=s[ae],i!==void 0&&Zd(t,n,ae,i,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(i=s[S],i!=null&&Ct(t,n,S,i,s,null))}function QS(t,n,s,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,S=null,T=null,Z=null,ae=null;for(W in s){var ue=s[W];if(s.hasOwnProperty(W)&&ue!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":T=ue;default:i.hasOwnProperty(W)||Ct(t,n,W,null,i,ue)}}for(var Q in i){var W=i[Q];if(ue=s[Q],i.hasOwnProperty(Q)&&(W!=null||ue!=null))switch(Q){case"type":f=W;break;case"name":u=W;break;case"checked":Z=W;break;case"defaultChecked":ae=W;break;case"value":g=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(l(137,n));break;default:W!==ue&&Ct(t,n,Q,W,i,ue)}}kl(t,g,S,T,Z,ae,f,u);return;case"select":W=g=S=Q=null;for(f in s)if(T=s[f],s.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":W=T;default:i.hasOwnProperty(f)||Ct(t,n,f,null,i,T)}for(u in i)if(f=i[u],T=s[u],i.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":Q=f;break;case"defaultValue":S=f;break;case"multiple":g=f;default:f!==T&&Ct(t,n,u,f,i,T)}n=S,s=g,i=W,Q!=null?pr(t,!!s,Q,!1):!!i!=!!s&&(n!=null?pr(t,!!s,n,!0):pr(t,!!s,s?[]:"",!1));return;case"textarea":W=Q=null;for(S in s)if(u=s[S],s.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ct(t,n,S,null,i,u)}for(g in i)if(u=i[g],f=s[g],i.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":Q=u;break;case"defaultValue":W=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ct(t,n,g,u,i,f)}eo(t,Q,W);return;case"option":for(var ze in s)if(Q=s[ze],s.hasOwnProperty(ze)&&Q!=null&&!i.hasOwnProperty(ze))switch(ze){case"selected":t.selected=!1;break;default:Ct(t,n,ze,null,i,Q)}for(T in i)if(Q=i[T],W=s[T],i.hasOwnProperty(T)&&Q!==W&&(Q!=null||W!=null))switch(T){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ct(t,n,T,Q,i,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in s)Q=s[Ze],s.hasOwnProperty(Ze)&&Q!=null&&!i.hasOwnProperty(Ze)&&Ct(t,n,Ze,null,i,Q);for(Z in i)if(Q=i[Z],W=s[Z],i.hasOwnProperty(Z)&&Q!==W&&(Q!=null||W!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,n));break;default:Ct(t,n,Z,Q,i,W)}return;default:if(Ul(n)){for(var Rt in s)Q=s[Rt],s.hasOwnProperty(Rt)&&Q!==void 0&&!i.hasOwnProperty(Rt)&&Zd(t,n,Rt,void 0,i,Q);for(ae in i)Q=i[ae],W=s[ae],!i.hasOwnProperty(ae)||Q===W||Q===void 0&&W===void 0||Zd(t,n,ae,Q,i,W);return}}for(var I in s)Q=s[I],s.hasOwnProperty(I)&&Q!=null&&!i.hasOwnProperty(I)&&Ct(t,n,I,null,i,Q);for(ue in i)Q=i[ue],W=s[ue],!i.hasOwnProperty(ue)||Q===W||Q==null&&W==null||Ct(t,n,ue,Q,i,W)}function Wg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),i=0;i<s.length;i++){var u=s[i],f=u.transferSize,g=u.initiatorType,S=u.duration;if(f&&S&&Wg(g)){for(g=0,S=u.responseEnd,i+=1;i<s.length;i++){var T=s[i],Z=T.startTime;if(Z>S)break;var ae=T.transferSize,ue=T.initiatorType;ae&&Wg(ue)&&(T=T.responseEnd,g+=ae*(T<S?1:(S-Z)/(T-Z)))}if(--i,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Qd=null;function Xo(t){return t.nodeType===9?t:t.ownerDocument}function ey(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function KS(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(JS)}:ny;function JS(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function ry(t,n){var s=n,i=0;do{var u=s.nextSibling;if(t.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(i===0){t.removeChild(u),ol(n);return}i--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")i++;else if(s==="html")gi(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,gi(s);for(var f=s.firstChild;f;){var g=f.nextSibling,S=f.nodeName;f[It]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&gi(t.ownerDocument.body);s=u}while(s);ol(n)}function sy(t,n){var s=t;t=0;do{var i=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=i}while(s)}function Pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Pd(s),Un(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function WS(t,n,s,i){for(;t.nodeType===1;){var u=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[It])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=va(t.nextSibling),t===null)break}return null}function e_(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=va(t.nextSibling),t===null))return null;return t}function ly(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=va(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function t_(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var i=function(){n(),s.removeEventListener("DOMContentLoaded",i)};s.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function va(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Wd=null;function iy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return va(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function cy(t,n,s){switch(n=Xo(s),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function gi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Un(t)}var ba=new Map,uy=new Set;function Jo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var dr=re.d;re.d={f:n_,r:a_,D:r_,C:s_,L:l_,m:i_,X:c_,S:o_,M:u_};function n_(){var t=dr.f(),n=Ho();return t||n}function a_(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?Ap(n):dr.r(t)}var sl=typeof document>"u"?null:document;function dy(t,n,s){var i=sl;if(i&&typeof n=="string"&&n){var u=bn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),uy.has(u)||(uy.add(u),t={rel:t,crossOrigin:s,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),Cn(n,"link",t),Dt(n),i.head.appendChild(n)))}}function r_(t){dr.D(t),dy("dns-prefetch",t,null)}function s_(t,n){dr.C(t,n),dy("preconnect",t,n)}function l_(t,n,s){dr.L(t,n,s);var i=sl;if(i&&t&&n){var u='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+bn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+bn(s.imageSizes)+'"]')):u+='[href="'+bn(t)+'"]';var f=u;switch(n){case"style":f=ll(t);break;case"script":f=il(t)}ba.has(f)||(t=x({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ba.set(f,t),i.querySelector(u)!==null||n==="style"&&i.querySelector(yi(f))||n==="script"&&i.querySelector(vi(f))||(n=i.createElement("link"),Cn(n,"link",t),Dt(n),i.head.appendChild(n)))}}function i_(t,n){dr.m(t,n);var s=sl;if(s&&t){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+bn(i)+'"][href="'+bn(t)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ba.has(f)&&(t=x({rel:"modulepreload",href:t},n),ba.set(f,t),s.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(vi(f)))return}i=s.createElement("link"),Cn(i,"link",t),Dt(i),s.head.appendChild(i)}}}function o_(t,n,s){dr.S(t,n,s);var i=sl;if(i&&t){var u=Rn(i).hoistableStyles,f=ll(t);n=n||"default";var g=u.get(f);if(!g){var S={loading:0,preload:null};if(g=i.querySelector(yi(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ba.get(f))&&ef(t,s);var T=g=i.createElement("link");Dt(T),Cn(T,"link",t),T._p=new Promise(function(Z,ae){T.onload=Z,T.onerror=ae}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wo(g,n,i)}g={type:"stylesheet",instance:g,count:1,state:S},u.set(f,g)}}}function c_(t,n){dr.X(t,n);var s=sl;if(s&&t){var i=Rn(s).hoistableScripts,u=il(t),f=i.get(u);f||(f=s.querySelector(vi(u)),f||(t=x({src:t,async:!0},n),(n=ba.get(u))&&tf(t,n),f=s.createElement("script"),Dt(f),Cn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function u_(t,n){dr.M(t,n);var s=sl;if(s&&t){var i=Rn(s).hoistableScripts,u=il(t),f=i.get(u);f||(f=s.querySelector(vi(u)),f||(t=x({src:t,async:!0,type:"module"},n),(n=ba.get(u))&&tf(t,n),f=s.createElement("script"),Dt(f),Cn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function fy(t,n,s,i){var u=(u=Te.current)?Jo(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ll(s.href),s=Rn(u).hoistableStyles,i=s.get(n),i||(i={type:"style",instance:null,count:0,state:null},s.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ll(s.href);var f=Rn(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(yi(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ba.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ba.set(t,s),f||d_(u,t,s,g.state))),n&&i===null)throw Error(l(528,""));return g}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(s),s=Rn(u).hoistableScripts,i=s.get(n),i||(i={type:"script",instance:null,count:0,state:null},s.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ll(t){return'href="'+bn(t)+'"'}function yi(t){return'link[rel="stylesheet"]['+t+"]"}function my(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function d_(t,n,s,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),Cn(n,"link",s),Dt(n),t.head.appendChild(n))}function il(t){return'[src="'+bn(t)+'"]'}function vi(t){return"script[async]"+t}function hy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+bn(s.href)+'"]');if(i)return n.instance=i,Dt(i),i;var u=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Dt(i),Cn(i,"style",u),Wo(i,s.precedence,t),n.instance=i;case"stylesheet":u=ll(s.href);var f=t.querySelector(yi(u));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;i=my(s),(u=ba.get(u))&&ef(i,u),f=(t.ownerDocument||t).createElement("link"),Dt(f);var g=f;return g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),Cn(f,"link",i),n.state.loading|=4,Wo(f,s.precedence,t),n.instance=f;case"script":return f=il(s.src),(u=t.querySelector(vi(f)))?(n.instance=u,Dt(u),u):(i=s,(u=ba.get(f))&&(i=x({},s),tf(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),Dt(u),Cn(u,"link",i),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,Wo(i,s.precedence,t));return n.instance}function Wo(t,n,s){for(var i=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,g=0;g<i.length;g++){var S=i[g];if(S.dataset.precedence===n)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ec=null;function py(t,n,s){if(ec===null){var i=new Map,u=ec=new Map;u.set(s,i)}else u=ec,i=u.get(s),i||(i=new Map,u.set(s,i));if(i.has(t))return i;for(i.set(t,null),s=s.getElementsByTagName(t),u=0;u<s.length;u++){var f=s[u];if(!(f[It]||f[ot]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var S=i.get(g);S?S.push(f):i.set(g,[f])}}return i}function gy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function f_(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function m_(t,n,s,i){if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=ll(i.href),f=n.querySelector(yi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=tc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Dt(f);return}f=n.ownerDocument||n,i=my(i),(u=ba.get(u))&&ef(i,u),f=f.createElement("link"),Dt(f);var g=f;g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),Cn(f,"link",i),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=tc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var nf=0;function h_(t,n){return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var i=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*YS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nc=null;function ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nc=new Map,n.forEach(p_,t),nc=null,tc.call(t))}function p_(t,n){if(!(n.state.loading&4)){var s=nc.get(t);if(s)var i=s.get(null);else{s=new Map,nc.set(t,s);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),i=g)}i&&s.set(null,i)}u=n.instance,g=u.getAttribute("data-precedence"),f=s.get(g)||i,f===i&&s.set(null,u),s.set(g,u),this.count++,i=tc.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var bi={$$typeof:ee,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function g_(t,n,s,i,u,f,g,S,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=K(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K(0),this.hiddenUpdates=K(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vy(t,n,s,i,u,f,g,S,T,Z,ae,ue){return t=new g_(t,n,s,g,T,Z,ae,ue,S),n=1,f===!0&&(n|=24),f=ra(3,null,null,n),t.current=f,f.stateNode=t,n=ku(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:s,cache:n},Bu(f),t}function by(t){return t?(t=qs,t):qs}function xy(t,n,s,i,u,f){u=by(u),i.context===null?i.context=u:i.pendingContext=u,i=Er(n),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=jr(t,i,n),s!==null&&(Pn(s,t,n),Xl(s,t,n))}function Sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function af(t,n){Sy(t,n),(t=t.alternate)&&Sy(t,n)}function _y(t){if(t.tag===13||t.tag===31){var n=ns(t,67108864);n!==null&&Pn(n,t,67108864),af(t,67108864)}}function wy(t){if(t.tag===13||t.tag===31){var n=ca();n=Qt(n);var s=ns(t,n);s!==null&&Pn(s,t,n),af(t,n)}}var rc=!0;function y_(t,n,s,i){var u=B.T;B.T=null;var f=re.p;try{re.p=2,rf(t,n,s,i)}finally{re.p=f,B.T=u}}function v_(t,n,s,i){var u=B.T;B.T=null;var f=re.p;try{re.p=8,rf(t,n,s,i)}finally{re.p=f,B.T=u}}function rf(t,n,s,i){if(rc){var u=sf(i);if(u===null)Vd(t,n,i,sc,s),Ey(t,i);else if(x_(u,t,n,s,i))i.stopPropagation();else if(Ey(t,i),n&4&&-1<b_.indexOf(t)){for(;u!==null;){var f=vn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=da(f.pendingLanes);if(g!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var T=1<<31-St(g);S.entanglements[1]|=T,g&=~T}Va(f),(xt&6)===0&&(Fo=z()+500,mi(0))}}break;case 31:case 13:S=ns(f,2),S!==null&&Pn(S,f,2),Ho(),af(f,2)}if(f=sf(i),f===null&&Vd(t,n,i,sc,s),f===u)break;u=f}u!==null&&i.stopPropagation()}else Vd(t,n,i,null,s)}}function sf(t){return t=Ll(t),lf(t)}var sc=null;function lf(t){if(sc=null,t=en(t),t!==null){var n=d(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=m(n),t!==null)return t;t=null}else if(s===31){if(t=h(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return sc=t,null}function Ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(k()){case P:return 2;case _e:return 8;case G:case Ce:return 32;case He:return 268435456;default:return 32}default:return 32}}var of=!1,Lr=null,qr=null,Br=null,xi=new Map,Si=new Map,Ir=[],b_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":xi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(n.pointerId)}}function _i(t,n,s,i,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=vn(n),n!==null&&_y(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function x_(t,n,s,i,u){switch(n){case"focusin":return Lr=_i(Lr,t,n,s,i,u),!0;case"dragenter":return qr=_i(qr,t,n,s,i,u),!0;case"mouseover":return Br=_i(Br,t,n,s,i,u),!0;case"pointerover":var f=u.pointerId;return xi.set(f,_i(xi.get(f)||null,t,n,s,i,u)),!0;case"gotpointercapture":return f=u.pointerId,Si.set(f,_i(Si.get(f)||null,t,n,s,i,u)),!0}return!1}function jy(t){var n=en(t.target);if(n!==null){var s=d(n);if(s!==null){if(n=s.tag,n===13){if(n=m(s),n!==null){t.blockedOn=n,gn(t.priority,function(){wy(s)});return}}else if(n===31){if(n=h(s),n!==null){t.blockedOn=n,gn(t.priority,function(){wy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=sf(t.nativeEvent);if(s===null){s=t.nativeEvent;var i=new s.constructor(s.type,s);yr=i,s.target.dispatchEvent(i),yr=null}else return n=vn(s),n!==null&&_y(n),t.blockedOn=s,!1;n.shift()}return!0}function Ay(t,n,s){lc(t)&&s.delete(n)}function S_(){of=!1,Lr!==null&&lc(Lr)&&(Lr=null),qr!==null&&lc(qr)&&(qr=null),Br!==null&&lc(Br)&&(Br=null),xi.forEach(Ay),Si.forEach(Ay)}function ic(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,S_)))}var oc=null;function Oy(t){oc!==t&&(oc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){oc===t&&(oc=null);for(var n=0;n<t.length;n+=3){var s=t[n],i=t[n+1],u=t[n+2];if(typeof i!="function"){if(lf(i||s)===null)continue;break}var f=vn(s);f!==null&&(t.splice(n,3),n-=3,sd(f,{pending:!0,data:u,method:s.method,action:i},i,u))}}))}function ol(t){function n(T){return ic(T,t)}Lr!==null&&ic(Lr,t),qr!==null&&ic(qr,t),Br!==null&&ic(Br,t),xi.forEach(n),Si.forEach(n);for(var s=0;s<Ir.length;s++){var i=Ir[s];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ir.length&&(s=Ir[0],s.blockedOn===null);)jy(s),s.blockedOn===null&&Ir.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(i=0;i<s.length;i+=3){var u=s[i],f=s[i+1],g=u[yt]||null;if(typeof f=="function")g||Oy(s);else if(g){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[yt]||null)S=g.formAction;else if(lf(u)!==null)continue}else S=g.action;typeof S=="function"?s[i+1]=S:(s.splice(i,3),i-=3),Oy(s)}}}function Cy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(s,20)}function s(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function cf(t){this._internalRoot=t}cc.prototype.render=cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,i=ca();xy(s,i,t,n,null,null)},cc.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xy(t.current,2,null,t,null,null),Ho(),n[Ut]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Tt();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ir.length&&n!==0&&n<Ir[s].priority;s++);Ir.splice(s,0,t),s===0&&jy(t)}};var Ry=a.version;if(Ry!=="19.2.0")throw Error(l(527,Ry,"19.2.0"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var __={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{de=uc.inject(__),Pe=uc}catch{}}return Ni.createRoot=function(t,n){if(!o(t))throw Error(l(299));var s=!1,i="",u=Lp,f=qp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=vy(t,1,!1,null,null,s,i,null,u,f,g,Cy),t[Ut]=n.current,Hd(t),new cf(n)},Ni.hydrateRoot=function(t,n,s){if(!o(t))throw Error(l(299));var i=!1,u="",f=Lp,g=qp,S=Bp,T=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(T=s.formState)),n=vy(t,1,!0,n,s??null,i,u,T,f,g,S,Cy),n.context=by(null),s=n.current,i=ca(),i=Qt(i),u=Er(i),u.callback=null,jr(s,u,i),s=i,n.current.lanes=s,ge(n,s),Va(n),t[Ut]=n.current,Hd(t),new cc(n)},Ni.version="19.2.0",Ni}var Iy;function D_(){if(Iy)return ff.exports;Iy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),ff.exports=T_(),ff.exports}var z_=D_();const M_=pb(z_);var Fy="popstate";function k_(e={}){function a(l,o){let{pathname:d,search:m,hash:h}=l.location;return Qf("",{pathname:d,search:m,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(l,o){return typeof o=="string"?o:zi(o)}return L_(a,r,null,e)}function Ht(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function _a(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function U_(){return Math.random().toString(36).substring(2,10)}function $y(e,a){return{usr:e.state,key:e.key,idx:a}}function Qf(e,a,r=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Sl(a):a,state:r,key:a&&a.key||l||U_()}}function zi({pathname:e="/",search:a="",hash:r=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sl(e){let a={};if(e){let r=e.indexOf("#");r>=0&&(a.hash=e.substring(r),e=e.substring(0,r));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function L_(e,a,r,l={}){let{window:o=document.defaultView,v5Compat:d=!1}=l,m=o.history,h="POP",y=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function x(){h="POP";let w=v(),U=w==null?null:w-p;p=w,y&&y({action:h,location:A.location,delta:U})}function _(w,U){h="PUSH";let D=Qf(A.location,w,U);p=v()+1;let ee=$y(D,p),C=A.createHref(D);try{m.pushState(ee,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(C)}d&&y&&y({action:h,location:A.location,delta:1})}function L(w,U){h="REPLACE";let D=Qf(A.location,w,U);p=v();let ee=$y(D,p),C=A.createHref(D);m.replaceState(ee,"",C),d&&y&&y({action:h,location:A.location,delta:0})}function E(w){return q_(w)}let A={get action(){return h},get location(){return e(o,m)},listen(w){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Fy,x),y=w,()=>{o.removeEventListener(Fy,x),y=null}},createHref(w){return a(o,w)},createURL:E,encodeLocation(w){let U=E(w);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:_,replace:L,go(w){return m.go(w)}};return A}function q_(e,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(r,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:zi(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function gb(e,a,r="/"){return B_(e,a,r,!1)}function B_(e,a,r,l){let o=typeof a=="string"?Sl(a):a,d=hr(o.pathname||"/",r);if(d==null)return null;let m=yb(e);I_(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let p=X_(d);h=K_(m[y],p,l)}return h}function yb(e,a=[],r=[],l="",o=!1){let d=(m,h,y=o,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&y)return;Ht(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=mr([l,v.relativePath]),_=r.concat(v);m.children&&m.children.length>0&&(Ht(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),yb(m.children,a,_,x,y)),!(m.path==null&&!m.index)&&a.push({path:x,score:Q_(x,m.index),routesMeta:_})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let y of vb(m.path))d(m,h,!0,y)}),a}function vb(e){let a=e.split("/");if(a.length===0)return[];let[r,...l]=a,o=r.endsWith("?"),d=r.replace(/\?$/,"");if(l.length===0)return o?[d,""]:[d];let m=vb(l.join("/")),h=[];return h.push(...m.map(y=>y===""?d:[d,y].join("/"))),o&&h.push(...m),h.map(y=>e.startsWith("/")&&y===""?"/":y)}function I_(e){e.sort((a,r)=>a.score!==r.score?r.score-a.score:Y_(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var F_=/^:[\w-]+$/,$_=3,H_=2,V_=1,Z_=10,G_=-2,Hy=e=>e==="*";function Q_(e,a){let r=e.split("/"),l=r.length;return r.some(Hy)&&(l+=G_),a&&(l+=H_),r.filter(o=>!Hy(o)).reduce((o,d)=>o+(F_.test(d)?$_:d===""?V_:Z_),l)}function Y_(e,a){return e.length===a.length&&e.slice(0,-1).every((l,o)=>l===a[o])?e[e.length-1]-a[a.length-1]:0}function K_(e,a,r=!1){let{routesMeta:l}=e,o={},d="/",m=[];for(let h=0;h<l.length;++h){let y=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",x=Mi({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),_=y.route;if(!x&&p&&r&&!l[l.length-1].route.index&&(x=Mi({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(o,x.params),m.push({params:o,pathname:mr([d,x.pathname]),pathnameBase:tw(mr([d,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(d=mr([d,x.pathnameBase]))}return m}function Mi(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,l]=P_(e.path,e.caseSensitive,e.end),o=a.match(r);if(!o)return null;let d=o[0],m=d.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},_)=>{if(v==="*"){let E=h[_]||"";m=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const L=h[_];return x&&!L?p[v]=void 0:p[v]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function P_(e,a=!1,r=!0){_a(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(l.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),l]}function X_(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return _a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function hr(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=e.charAt(r);return l&&l!=="/"?null:e.slice(r)||"/"}function J_(e,a="/"){let{pathname:r,search:l="",hash:o=""}=typeof e=="string"?Sl(e):e;return{pathname:r?r.startsWith("/")?r:W_(r,a):a,search:nw(l),hash:aw(o)}}function W_(e,a){let r=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function gf(e,a,r,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ew(e){return e.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function _m(e){let a=ew(e);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function wm(e,a,r,l=!1){let o;typeof e=="string"?o=Sl(e):(o={...e},Ht(!o.pathname||!o.pathname.includes("?"),gf("?","pathname","search",o)),Ht(!o.pathname||!o.pathname.includes("#"),gf("#","pathname","hash",o)),Ht(!o.search||!o.search.includes("#"),gf("#","search","hash",o)));let d=e===""||o.pathname==="",m=d?"/":o.pathname,h;if(m==null)h=r;else{let x=a.length-1;if(!l&&m.startsWith("..")){let _=m.split("/");for(;_[0]==="..";)_.shift(),x-=1;o.pathname=_.join("/")}h=x>=0?a[x]:"/"}let y=J_(o,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var mr=e=>e.join("/").replace(/\/\/+/g,"/"),tw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bb=["POST","PUT","PATCH","DELETE"];new Set(bb);var sw=["GET",...bb];new Set(sw);var _l=b.createContext(null);_l.displayName="DataRouter";var Ic=b.createContext(null);Ic.displayName="DataRouterState";b.createContext(!1);var xb=b.createContext({isTransitioning:!1});xb.displayName="ViewTransition";var lw=b.createContext(new Map);lw.displayName="Fetchers";var iw=b.createContext(null);iw.displayName="Await";var wa=b.createContext(null);wa.displayName="Navigation";var Fi=b.createContext(null);Fi.displayName="Location";var Na=b.createContext({outlet:null,matches:[],isDataRoute:!1});Na.displayName="Route";var Nm=b.createContext(null);Nm.displayName="RouteError";function ow(e,{relative:a}={}){Ht(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=b.useContext(wa),{hash:o,pathname:d,search:m}=$i(e,{relative:a}),h=d;return r!=="/"&&(h=d==="/"?r:mr([r,d])),l.createHref({pathname:h,search:m,hash:o})}function wl(){return b.useContext(Fi)!=null}function In(){return Ht(wl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Fi).location}var Sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _b(e){b.useContext(wa).static||b.useLayoutEffect(e)}function Nl(){let{isDataRoute:e}=b.useContext(Na);return e?Nw():cw()}function cw(){Ht(wl(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(_l),{basename:a,navigator:r}=b.useContext(wa),{matches:l}=b.useContext(Na),{pathname:o}=In(),d=JSON.stringify(_m(l)),m=b.useRef(!1);return _b(()=>{m.current=!0}),b.useCallback((y,p={})=>{if(_a(m.current,Sb),!m.current)return;if(typeof y=="number"){r.go(y);return}let v=wm(y,JSON.parse(d),o,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:mr([a,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[a,r,d,o,e])}var uw=b.createContext(null);function dw(e){let a=b.useContext(Na).outlet;return b.useMemo(()=>a&&b.createElement(uw.Provider,{value:e},a),[a,e])}function fw(){let{matches:e}=b.useContext(Na),a=e[e.length-1];return a?a.params:{}}function $i(e,{relative:a}={}){let{matches:r}=b.useContext(Na),{pathname:l}=In(),o=JSON.stringify(_m(r));return b.useMemo(()=>wm(e,JSON.parse(o),l,a==="path"),[e,o,l,a])}function mw(e,a){return wb(e,a)}function wb(e,a,r,l,o){Ht(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(wa),{matches:m}=b.useContext(Na),h=m[m.length-1],y=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let D=x&&x.path||"";Nb(p,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=In(),L;if(a){let D=typeof a=="string"?Sl(a):a;Ht(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),L=D}else L=_;let E=L.pathname||"/",A=E;if(v!=="/"){let D=v.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let w=gb(e,{pathname:A});_a(x||w!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),_a(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=vw(w&&w.map(D=>Object.assign({},D,{params:Object.assign({},y,D.params),pathname:mr([v,d.encodeLocation?d.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:mr([v,d.encodeLocation?d.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),m,r,l,o);return a&&U?b.createElement(Fi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},U):U}function hw(){let e=ww(),a=rw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),r?b.createElement("pre",{style:o},r):null,m)}var pw=b.createElement(hw,null),gw=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Na.Provider,{value:this.props.routeContext},b.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yw({routeContext:e,match:a,children:r}){let l=b.useContext(_l);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(Na.Provider,{value:e},r)}function vw(e,a=[],r=null,l=null,o=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let d=e,m=r?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);Ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,y=-1;if(r)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=p),v.route.id){let{loaderData:x,errors:_}=r,L=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||L){h=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((p,v,x)=>{let _,L=!1,E=null,A=null;r&&(_=m&&v.route.id?m[v.route.id]:void 0,E=v.route.errorElement||pw,h&&(y<0&&x===0?(Nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,A=null):y===x&&(L=!0,A=v.route.hydrateFallbackElement||null)));let w=a.concat(d.slice(0,x+1)),U=()=>{let D;return _?D=E:L?D=A:v.route.Component?D=b.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=p,b.createElement(yw,{match:v,routeContext:{outlet:p,matches:w,isDataRoute:r!=null},children:D})};return r&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(gw,{location:r.location,revalidation:r.revalidation,component:E,error:_,children:U(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:l}):U()},null)}function Em(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bw(e){let a=b.useContext(_l);return Ht(a,Em(e)),a}function xw(e){let a=b.useContext(Ic);return Ht(a,Em(e)),a}function Sw(e){let a=b.useContext(Na);return Ht(a,Em(e)),a}function jm(e){let a=Sw(e),r=a.matches[a.matches.length-1];return Ht(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function _w(){return jm("useRouteId")}function ww(){let e=b.useContext(Nm),a=xw("useRouteError"),r=jm("useRouteError");return e!==void 0?e:a.errors?.[r]}function Nw(){let{router:e}=bw("useNavigate"),a=jm("useNavigate"),r=b.useRef(!1);return _b(()=>{r.current=!0}),b.useCallback(async(o,d={})=>{_a(r.current,Sb),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:a,...d}))},[e,a])}var Vy={};function Nb(e,a,r){!a&&!Vy[e]&&(Vy[e]=!0,_a(!1,r))}b.memo(Ew);function Ew({routes:e,future:a,state:r,unstable_onError:l}){return wb(e,void 0,r,l,a)}function Vr({to:e,replace:a,state:r,relative:l}){Ht(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(wa);_a(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(Na),{pathname:m}=In(),h=Nl(),y=wm(e,_m(d),m,l==="path"),p=JSON.stringify(y);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:r,relative:l})},[h,p,l,a,r]),null}function Eb(e){return dw(e.context)}function on(e){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jw({basename:e="/",children:a=null,location:r,navigationType:l="POP",navigator:o,static:d=!1}){Ht(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:o,static:d,future:{}}),[m,o,d]);typeof r=="string"&&(r=Sl(r));let{pathname:y="/",search:p="",hash:v="",state:x=null,key:_="default"}=r,L=b.useMemo(()=>{let E=hr(y,m);return E==null?null:{location:{pathname:E,search:p,hash:v,state:x,key:_},navigationType:l}},[m,y,p,v,x,_,l]);return _a(L!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:b.createElement(wa.Provider,{value:h},b.createElement(Fi.Provider,{children:a,value:L}))}function Aw({children:e,location:a}){return mw(Yf(e),a)}function Yf(e,a=[]){let r=[];return b.Children.forEach(e,(l,o)=>{if(!b.isValidElement(l))return;let d=[...a,o];if(l.type===b.Fragment){r.push.apply(r,Yf(l.props.children,d));return}Ht(l.type===on,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Yf(l.props.children,d)),r.push(m)}),r}var bc="get",xc="application/x-www-form-urlencoded";function Fc(e){return e!=null&&typeof e.tagName=="string"}function Ow(e){return Fc(e)&&e.tagName.toLowerCase()==="button"}function Cw(e){return Fc(e)&&e.tagName.toLowerCase()==="form"}function Rw(e){return Fc(e)&&e.tagName.toLowerCase()==="input"}function Tw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dw(e,a){return e.button===0&&(!a||a==="_self")&&!Tw(e)}function Kf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,r)=>{let l=e[r];return a.concat(Array.isArray(l)?l.map(o=>[r,o]):[[r,l]])},[]))}function zw(e,a){let r=Kf(e);return a&&a.forEach((l,o)=>{r.has(o)||a.getAll(o).forEach(d=>{r.append(o,d)})}),r}var dc=null;function Mw(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var kw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(e){return e!=null&&!kw.has(e)?(_a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):e}function Uw(e,a){let r,l,o,d,m;if(Cw(e)){let h=e.getAttribute("action");l=h?hr(h,a):null,r=e.getAttribute("method")||bc,o=yf(e.getAttribute("enctype"))||xc,d=new FormData(e)}else if(Ow(e)||Rw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||h.getAttribute("action");if(l=y?hr(y,a):null,r=e.getAttribute("formmethod")||h.getAttribute("method")||bc,o=yf(e.getAttribute("formenctype"))||yf(h.getAttribute("enctype"))||xc,d=new FormData(h,e),!Mw()){let{name:p,type:v,value:x}=e;if(v==="image"){let _=p?`${p}.`:"";d.append(`${_}x`,"0"),d.append(`${_}y`,"0")}else p&&d.append(p,x)}}else{if(Fc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=bc,l=null,o=xc,m=e}return d&&o==="text/plain"&&(m=d,d=void 0),{action:l,method:r.toLowerCase(),encType:o,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Am(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Lw(e,a,r){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${r}`:a&&hr(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function qw(e,a){if(e.id in a)return a[e.id];try{let r=await import(e.module);return a[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Iw(e,a,r){let l=await Promise.all(e.map(async o=>{let d=a.routes[o.route.id];if(d){let m=await qw(d,r);return m.links?m.links():[]}return[]}));return Vw(l.flat(1).filter(Bw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zy(e,a,r,l,o,d){let m=(y,p)=>r[p]?y.route.id!==r[p].route.id:!0,h=(y,p)=>r[p].pathname!==y.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==y.params["*"];return d==="assets"?a.filter((y,p)=>m(y,p)||h(y,p)):d==="data"?a.filter((y,p)=>{let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(m(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Fw(e,a,{includeHydrateFallback:r}={}){return $w(e.map(l=>{let o=a.routes[l.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function $w(e){return[...new Set(e)]}function Hw(e){let a={},r=Object.keys(e).sort();for(let l of r)a[l]=e[l];return a}function Vw(e,a){let r=new Set;return new Set(a),e.reduce((l,o)=>{let d=JSON.stringify(Hw(o));return r.has(d)||(r.add(d),l.push({key:d,link:o})),l},[])}function jb(){let e=b.useContext(_l);return Am(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Zw(){let e=b.useContext(Ic);return Am(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Om=b.createContext(void 0);Om.displayName="FrameworkContext";function Ab(){let e=b.useContext(Om);return Am(e,"You must render this element inside a <HydratedRouter> element"),e}function Gw(e,a){let r=b.useContext(Om),[l,o]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=a,_=b.useRef(null);b.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let A=U=>{U.forEach(D=>{m(D.isIntersecting)})},w=new IntersectionObserver(A,{threshold:.5});return _.current&&w.observe(_.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(l){let A=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(A)}}},[l]);let L=()=>{o(!0)},E=()=>{o(!1),m(!1)};return r?e!=="intent"?[d,_,{}]:[d,_,{onFocus:Ei(h,L),onBlur:Ei(y,E),onMouseEnter:Ei(p,L),onMouseLeave:Ei(v,E),onTouchStart:Ei(x,L)}]:[!1,_,{}]}function Ei(e,a){return r=>{e&&e(r),r.defaultPrevented||a(r)}}function Qw({page:e,...a}){let{router:r}=jb(),l=b.useMemo(()=>gb(r.routes,e,r.basename),[r.routes,e,r.basename]);return l?b.createElement(Kw,{page:e,matches:l,...a}):null}function Yw(e){let{manifest:a,routeModules:r}=Ab(),[l,o]=b.useState([]);return b.useEffect(()=>{let d=!1;return Iw(e,a,r).then(m=>{d||o(m)}),()=>{d=!0}},[e,a,r]),l}function Kw({page:e,matches:a,...r}){let l=In(),{manifest:o,routeModules:d}=Ab(),{basename:m}=jb(),{loaderData:h,matches:y}=Zw(),p=b.useMemo(()=>Zy(e,a,y,o,l,"data"),[e,a,y,o,l]),v=b.useMemo(()=>Zy(e,a,y,o,l,"assets"),[e,a,y,o,l]),x=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let E=new Set,A=!1;if(a.forEach(U=>{let D=o.routes[U.route.id];!D||!D.hasLoader||(!p.some(ee=>ee.route.id===U.route.id)&&U.route.id in h&&d[U.route.id]?.shouldRevalidate||D.hasClientLoader?A=!0:E.add(U.route.id))}),E.size===0)return[];let w=Lw(e,m,"data");return A&&E.size>0&&w.searchParams.set("_routes",a.filter(U=>E.has(U.route.id)).map(U=>U.route.id).join(",")),[w.pathname+w.search]},[m,h,l,o,p,a,e,d]),_=b.useMemo(()=>Fw(v,o),[v,o]),L=Yw(v);return b.createElement(b.Fragment,null,x.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),_.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),L.map(({key:E,link:A})=>b.createElement("link",{key:E,nonce:r.nonce,...A})))}function Pw(...e){return a=>{e.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ob&&(window.__reactRouterVersion="7.9.5")}catch{}function Xw({basename:e,children:a,window:r}){let l=b.useRef();l.current==null&&(l.current=k_({window:r,v5Compat:!0}));let o=l.current,[d,m]=b.useState({action:o.action,location:o.location}),h=b.useCallback(y=>{b.startTransition(()=>m(y))},[m]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.createElement(jw,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:o})}var Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ec=b.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:o,reloadDocument:d,replace:m,state:h,target:y,to:p,preventScrollReset:v,viewTransition:x,..._},L){let{basename:E}=b.useContext(wa),A=typeof p=="string"&&Cb.test(p),w,U=!1;if(typeof p=="string"&&A&&(w=p,Ob))try{let ce=new URL(window.location.href),we=p.startsWith("//")?new URL(ce.protocol+p):new URL(p),xe=hr(we.pathname,E);we.origin===ce.origin&&xe!=null?p=xe+we.search+we.hash:U=!0}catch{_a(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=ow(p,{relative:o}),[ee,C,O]=Gw(l,_),te=eN(p,{replace:m,state:h,target:y,preventScrollReset:v,relative:o,viewTransition:x});function q(ce){a&&a(ce),ce.defaultPrevented||te(ce)}let ne=b.createElement("a",{..._,...O,href:w||D,onClick:U||d?a:q,ref:Pw(L,C),target:y,"data-discover":!A&&r==="render"?"true":void 0});return ee&&!A?b.createElement(b.Fragment,null,ne,b.createElement(Qw,{page:D})):ne});Ec.displayName="Link";var Rb=b.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:o=!1,style:d,to:m,viewTransition:h,children:y,...p},v){let x=$i(m,{relative:p.relative}),_=In(),L=b.useContext(Ic),{navigator:E,basename:A}=b.useContext(wa),w=L!=null&&sN(x)&&h===!0,U=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,D=_.pathname,ee=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;r||(D=D.toLowerCase(),ee=ee?ee.toLowerCase():null,U=U.toLowerCase()),ee&&A&&(ee=hr(ee,A)||ee);const C=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let O=D===U||!o&&D.startsWith(U)&&D.charAt(C)==="/",te=ee!=null&&(ee===U||!o&&ee.startsWith(U)&&ee.charAt(U.length)==="/"),q={isActive:O,isPending:te,isTransitioning:w},ne=O?a:void 0,ce;typeof l=="function"?ce=l(q):ce=[l,O?"active":null,te?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let we=typeof d=="function"?d(q):d;return b.createElement(Ec,{...p,"aria-current":ne,className:ce,ref:v,style:we,to:m,viewTransition:h},typeof y=="function"?y(q):y)});Rb.displayName="NavLink";var Jw=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:o,state:d,method:m=bc,action:h,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:x,..._},L)=>{let E=aN(),A=rN(h,{relative:p}),w=m.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&Cb.test(h),D=ee=>{if(y&&y(ee),ee.defaultPrevented)return;ee.preventDefault();let C=ee.nativeEvent.submitter,O=C?.getAttribute("formmethod")||m;E(C||ee.currentTarget,{fetcherKey:a,method:O,navigate:r,replace:o,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:L,method:w,action:A,onSubmit:l?y:D,..._,"data-discover":!U&&e==="render"?"true":void 0})});Jw.displayName="Form";function Ww(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(e){let a=b.useContext(_l);return Ht(a,Ww(e)),a}function eN(e,{target:a,replace:r,state:l,preventScrollReset:o,relative:d,viewTransition:m}={}){let h=Nl(),y=In(),p=$i(e,{relative:d});return b.useCallback(v=>{if(Dw(v,a)){v.preventDefault();let x=r!==void 0?r:zi(y)===zi(p);h(e,{replace:x,state:l,preventScrollReset:o,relative:d,viewTransition:m})}},[y,h,p,r,l,a,e,o,d,m])}function Db(e){_a(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Kf(e)),r=b.useRef(!1),l=In(),o=b.useMemo(()=>zw(l.search,r.current?null:a.current),[l.search]),d=Nl(),m=b.useCallback((h,y)=>{const p=Kf(typeof h=="function"?h(new URLSearchParams(o)):h);r.current=!0,d("?"+p,y)},[d,o]);return[o,m]}var tN=0,nN=()=>`__${String(++tN)}__`;function aN(){let{router:e}=Tb("useSubmit"),{basename:a}=b.useContext(wa),r=_w();return b.useCallback(async(l,o={})=>{let{action:d,method:m,encType:h,formData:y,body:p}=Uw(l,a);if(o.navigate===!1){let v=o.fetcherKey||nN();await e.fetch(v,r,o.action||d,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||m,formEncType:o.encType||h,flushSync:o.flushSync})}else await e.navigate(o.action||d,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||m,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,a,r])}function rN(e,{relative:a}={}){let{basename:r}=b.useContext(wa),l=b.useContext(Na);Ht(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),d={...$i(e||".",{relative:a})},m=In();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:mr([r,d.pathname])),zi(d)}function sN(e,{relative:a}={}){let r=b.useContext(xb);Ht(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Tb("useViewTransitionState"),o=$i(e,{relative:a});if(!r.isTransitioning)return!1;let d=hr(r.currentLocation.pathname,l)||r.currentLocation.pathname,m=hr(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Mi(o.pathname,m)!=null||Mi(o.pathname,d)!=null}var El=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lN={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},iN=class{#e=lN;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},ys=new iN;function oN(e){setTimeout(e,0)}var Ss=typeof window>"u"||"Deno"in globalThis;function Bn(){}function cN(e,a){return typeof e=="function"?e(a):e}function Pf(e){return typeof e=="number"&&e>=0&&e!==1/0}function zb(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Zr(e,a){return typeof e=="function"?e(a):e}function xa(e,a){return typeof e=="function"?e(a):e}function Gy(e,a){const{type:r="all",exact:l,fetchStatus:o,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==Cm(m,a.options))return!1}else if(!ki(a.queryKey,m))return!1}if(r!=="all"){const y=a.isActive();if(r==="active"&&!y||r==="inactive"&&y)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||o&&o!==a.state.fetchStatus||d&&!d(a))}function Qy(e,a){const{exact:r,status:l,predicate:o,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(r){if(_s(a.options.mutationKey)!==_s(d))return!1}else if(!ki(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||o&&!o(a))}function Cm(e,a){return(a?.queryKeyHashFn||_s)(e)}function _s(e){return JSON.stringify(e,(a,r)=>Xf(r)?Object.keys(r).sort().reduce((l,o)=>(l[o]=r[o],l),{}):r)}function ki(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(r=>ki(e[r],a[r])):!1}var uN=Object.prototype.hasOwnProperty;function Mb(e,a){if(e===a)return e;const r=Yy(e)&&Yy(a);if(!r&&!(Xf(e)&&Xf(a)))return a;const o=(r?e:Object.keys(e)).length,d=r?a:Object.keys(a),m=d.length,h=r?new Array(m):{};let y=0;for(let p=0;p<m;p++){const v=r?p:d[p],x=e[v],_=a[v];if(x===_){h[v]=x,(r?p<o:uN.call(e,v))&&y++;continue}if(x===null||_===null||typeof x!="object"||typeof _!="object"){h[v]=_;continue}const L=Mb(x,_);h[v]=L,L===x&&y++}return o===m&&y===o?e:h}function jc(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const r in e)if(e[r]!==a[r])return!1;return!0}function Yy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xf(e){if(!Ky(e))return!1;const a=e.constructor;if(a===void 0)return!0;const r=a.prototype;return!(!Ky(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ky(e){return Object.prototype.toString.call(e)==="[object Object]"}function dN(e){return new Promise(a=>{ys.setTimeout(a,e)})}function Jf(e,a,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,a):r.structuralSharing!==!1?Mb(e,a):a}function fN(e,a,r=0){const l=[...e,a];return r&&l.length>r?l.slice(1):l}function mN(e,a,r=0){const l=[a,...e];return r&&l.length>r?l.slice(0,-1):l}var Rm=Symbol();function kb(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Rm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ub(e,a){return typeof e=="function"?e(...a):!!e}var hN=class extends El{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ss&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Tm=new hN;function Wf(){let e,a;const r=new Promise((o,d)=>{e=o,a=d});r.status="pending",r.catch(()=>{});function l(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{l({status:"fulfilled",value:o}),e(o)},r.reject=o=>{l({status:"rejected",reason:o}),a(o)},r}var pN=oN;function gN(){let e=[],a=0,r=h=>{h()},l=h=>{h()},o=pN;const d=h=>{a?e.push(h):o(()=>{r(h)})},m=()=>{const h=e;e=[],h.length&&o(()=>{l(()=>{h.forEach(y=>{r(y)})})})};return{batch:h=>{let y;a++;try{y=h()}finally{a--,a||m()}return y},batchCalls:h=>(...y)=>{d(()=>{h(...y)})},schedule:d,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{o=h}}}var hn=gN(),yN=class extends El{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ss&&window.addEventListener){const a=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Ac=new yN;function vN(e){return Math.min(1e3*2**e,3e4)}function Lb(e){return(e??"online")==="online"?Ac.isOnline():!0}var em=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function qb(e){let a=!1,r=0,l;const o=Wf(),d=()=>o.status!=="pending",m=A=>{if(!d()){const w=new em(A);_(w),e.onCancel?.(w)}},h=()=>{a=!0},y=()=>{a=!1},p=()=>Tm.isFocused()&&(e.networkMode==="always"||Ac.isOnline())&&e.canRun(),v=()=>Lb(e.networkMode)&&e.canRun(),x=A=>{d()||(l?.(),o.resolve(A))},_=A=>{d()||(l?.(),o.reject(A))},L=()=>new Promise(A=>{l=w=>{(d()||p())&&A(w)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),E=()=>{if(d())return;let A;const w=r===0?e.initialPromise:void 0;try{A=w??e.fn()}catch(U){A=Promise.reject(U)}Promise.resolve(A).then(x).catch(U=>{if(d())return;const D=e.retry??(Ss?0:3),ee=e.retryDelay??vN,C=typeof ee=="function"?ee(r,U):ee,O=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,U);if(a||!O){_(U);return}r++,e.onFail?.(r,U),dN(C).then(()=>p()?void 0:L()).then(()=>{a?_(U):E()})})};return{promise:o,status:()=>o.status,cancel:m,continue:()=>(l?.(),o),cancelRetry:h,continueRetry:y,canStart:v,start:()=>(v()?E():L().then(E),o)}}var Bb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pf(this.gcTime)&&(this.#e=ys.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ss?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ys.clearTimeout(this.#e),this.#e=void 0)}},bN=class extends Bb{#e;#t;#n;#r;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Xy(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Xy(this.options);a.data!==void 0&&(this.setState(Py(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const r=Jf(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),r}setState(e,a){this.#s({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(Bn).catch(Bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>xa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!zb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},o=()=>{const h=kb(this.options,a),p=(()=>{const v={client:this.#r,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#s({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=qb({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof em&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,y)=>{this.#s({type:"failed",failureCount:h,error:y})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof em){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#s({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#s(e){const a=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ib(r.data,this.options),fetchMeta:e.meta??null};case"success":const l={...r,...Py(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=a(this.state),hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Ib(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lb(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Py(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xy(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,r=a!==void 0,l=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:r?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var xN=class extends El{constructor(e,a){super(),this.options=a,this.#e=e,this.#s=null,this.#i=Wf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#r=void 0;#a;#l;#i;#s;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Jy(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),a._defaulted&&!jc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Wy(this.#t,r,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==r||xa(this.options.enabled,this.#t)!==xa(a.enabled,this.#t)||Zr(this.options.staleTime,this.#t)!==Zr(a.staleTime,this.#t))&&this.#g();const o=this.#y();l&&(this.#t!==r||xa(this.options.enabled,this.#t)!==xa(a.enabled,this.#t)||o!==this.#o)&&this.#v(o)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(a,e);return _N(this,r)&&(this.#r=r,this.#l=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,a){return new Proxy(e,{get:(r,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,a);return r.fetch().then(()=>this.createResult(r,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(Bn)),a}#g(){this.#x();const e=Zr(this.options.staleTime,this.#t);if(Ss||this.#r.isStale||!Pf(e))return;const r=zb(this.#r.dataUpdatedAt,e)+1;this.#c=ys.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#S(),this.#o=e,!(Ss||xa(this.options.enabled,this.#t)===!1||!Pf(this.#o)||this.#o===0)&&(this.#u=ys.setInterval(()=>{(this.options.refetchIntervalInBackground||Tm.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(ys.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(ys.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const r=this.#t,l=this.options,o=this.#r,d=this.#a,m=this.#l,y=e!==r?e.state:this.#n,{state:p}=e;let v={...p},x=!1,_;if(a._optimisticResults){const ne=this.hasListeners(),ce=!ne&&Jy(e,a),we=ne&&Wy(e,r,a,l);(ce||we)&&(v={...v,...Ib(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:L,errorUpdatedAt:E,status:A}=v;_=v.data;let w=!1;if(a.placeholderData!==void 0&&_===void 0&&A==="pending"){let ne;o?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(ne=o.data,w=!0):ne=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,ne!==void 0&&(A="success",_=Jf(o?.data,ne,a),x=!0)}if(a.select&&_!==void 0&&!w)if(o&&_===d?.data&&a.select===this.#p)_=this.#f;else try{this.#p=a.select,_=a.select(_),_=Jf(o?.data,_,a),this.#f=_,this.#s=null}catch(ne){this.#s=ne}this.#s&&(L=this.#s,_=this.#f,E=Date.now(),A="error");const U=v.fetchStatus==="fetching",D=A==="pending",ee=A==="error",C=D&&U,O=_!==void 0,q={status:A,fetchStatus:v.fetchStatus,isPending:D,isSuccess:A==="success",isError:ee,isInitialLoading:C,isLoading:C,data:_,dataUpdatedAt:v.dataUpdatedAt,error:L,errorUpdatedAt:E,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>y.dataUpdateCount||v.errorUpdateCount>y.errorUpdateCount,isFetching:U,isRefetching:U&&!D,isLoadingError:ee&&!O,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:ee&&O,isStale:Dm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:xa(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const ne=xe=>{q.status==="error"?xe.reject(q.error):q.data!==void 0&&xe.resolve(q.data)},ce=()=>{const xe=this.#i=q.promise=Wf();ne(xe)},we=this.#i;switch(we.status){case"pending":e.queryHash===r.queryHash&&ne(we);break;case"fulfilled":(q.status==="error"||q.data!==we.value)&&ce();break;case"rejected":(q.status!=="error"||q.error!==we.reason)&&ce();break}}return q}updateResult(){const e=this.#r,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),jc(a,e))return;this.#r=a;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!this.#h.size)return!0;const d=new Set(o??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#r).some(m=>{const h=m;return this.#r[h]!==e[h]&&d.has(h)})};this.#w({listeners:r()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#w(e){hn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function SN(e,a){return xa(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function Jy(e,a){return SN(e,a)||e.state.data!==void 0&&tm(e,a,a.refetchOnMount)}function tm(e,a,r){if(xa(a.enabled,e)!==!1&&Zr(a.staleTime,e)!=="static"){const l=typeof r=="function"?r(e):r;return l==="always"||l!==!1&&Dm(e,a)}return!1}function Wy(e,a,r,l){return(e!==a||xa(l.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Dm(e,r)}function Dm(e,a){return xa(a.enabled,e)!==!1&&e.isStaleByTime(Zr(a.staleTime,e))}function _N(e,a){return!jc(e.getCurrentResult(),a)}function ev(e){return{onFetch:(a,r)=>{const l=a.options,o=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},y=0;const p=async()=>{let v=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},_=kb(a.options,a.fetchOptions),L=async(E,A,w)=>{if(v)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const D=(()=>{const te={client:a.client,queryKey:a.queryKey,pageParam:A,direction:w?"backward":"forward",meta:a.options.meta};return x(te),te})(),ee=await _(D),{maxPages:C}=a.options,O=w?mN:fN;return{pages:O(E.pages,ee,C),pageParams:O(E.pageParams,A,C)}};if(o&&d.length){const E=o==="backward",A=E?wN:tv,w={pages:d,pageParams:m},U=A(l,w);h=await L(w,U,E)}else{const E=e??d.length;do{const A=y===0?m[0]??l.initialPageParam:tv(l,h);if(y>0&&A==null)break;h=await L(h,A),y++}while(y<E)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},r):a.fetchFn=p}}}function tv(e,{pages:a,pageParams:r}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,r[l],r):void 0}function wN(e,{pages:a,pageParams:r}){return a.length>0?e.getPreviousPageParam?.(a[0],a,r[0],r):void 0}var NN=class extends Bb{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Fb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=qb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",o=!this.#r.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const m=await this.options.onMutate?.(e,r);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:o})}const d=await this.#r.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,r),await this.options.onSuccess?.(d,e,this.state.context,r),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(d,null,e,this.state.context,r),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,r),await this.options.onError?.(d,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,d,e,this.state.context,r),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),hn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Fb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var EN=class extends El{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,r){const l=new NN({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:r});return this.add(l),l}add(e){this.#e.add(e);const a=fc(e);if(typeof a=="string"){const r=this.#t.get(a);r?r.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=fc(e);if(typeof a=="string"){const r=this.#t.get(a);if(r)if(r.length>1){const l=r.indexOf(e);l!==-1&&r.splice(l,1)}else r[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=fc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(o=>o.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=fc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){hn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(r=>Qy(a,r))}findAll(e={}){return this.getAll().filter(a=>Qy(e,a))}notify(e){hn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return hn.batch(()=>Promise.all(e.map(a=>a.continue().catch(Bn))))}};function fc(e){return e.options.scope?.id}var jN=class extends El{#e;#t=void 0;#n;#r;constructor(a,r){super(),this.#e=a,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const r=this.options;this.options=this.#e.defaultMutationOptions(a),jc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&_s(r.mutationKey)!==_s(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Fb();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){hn.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,l=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#r.onSuccess?.(a.data,r,l,o),this.#r.onSettled?.(a.data,null,r,l,o)):a?.type==="error"&&(this.#r.onError?.(a.error,r,l,o),this.#r.onSettled?.(void 0,a.error,r,l,o))}this.listeners.forEach(r=>{r(this.#t)})})}},AN=class extends El{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,r){const l=a.queryKey,o=a.queryHash??Cm(l,a);let d=this.get(o);return d||(d=new bN({client:e,queryKey:l,queryHash:o,options:e.defaultQueryOptions(a),state:r,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(r=>Gy(a,r))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(r=>Gy(e,r)):a}notify(e){hn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ON=class{#e;#t;#n;#r;#a;#l;#i;#s;constructor(e={}){this.#e=e.queryCache||new AN,this.#t=e.mutationCache||new EN,this.#n=e.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Tm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Ac.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),r=this.#e.build(this,a),l=r.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Zr(a.staleTime,r))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:r})=>{const l=r.data;return[a,l]})}setQueryData(e,a,r){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=cN(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...r,manual:!0})}setQueriesData(e,a,r){return hn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,r)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;hn.batch(()=>{a.findAll(e).forEach(r=>{a.remove(r)})})}resetQueries(e,a){const r=this.#e;return hn.batch(()=>(r.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const r={revert:!0,...a},l=hn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(r)));return Promise.all(l).then(Bn).catch(Bn)}invalidateQueries(e,a={}){return hn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const r={...a,cancelRefetch:a.cancelRefetch??!0},l=hn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let d=o.fetch(void 0,r);return r.throwOnError||(d=d.catch(Bn)),o.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(Bn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const r=this.#e.build(this,a);return r.isStaleByTime(Zr(a.staleTime,r))?r.fetch(a):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bn).catch(Bn)}fetchInfiniteQuery(e){return e.behavior=ev(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bn).catch(Bn)}ensureInfiniteQueryData(e){return e.behavior=ev(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ac.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#r.set(_s(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#r.values()],r={};return a.forEach(l=>{ki(e,l.queryKey)&&Object.assign(r,l.defaultOptions)}),r}setMutationDefaults(e,a){this.#a.set(_s(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],r={};return a.forEach(l=>{ki(e,l.mutationKey)&&Object.assign(r,l.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Cm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Rm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},$b=b.createContext(void 0),zm=e=>{const a=b.useContext($b);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},CN=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx($b.Provider,{value:e,children:a})),Hb=b.createContext(!1),RN=()=>b.useContext(Hb);Hb.Provider;function TN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var DN=b.createContext(TN()),zN=()=>b.useContext(DN),MN=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},kN=e=>{b.useEffect(()=>{e.clearReset()},[e])},UN=({result:e,errorResetBoundary:a,throwOnError:r,query:l,suspense:o})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(o&&e.data===void 0||Ub(r,[e.error,l])),LN=e=>{if(e.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...o)=>r(l(...o)):r(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},qN=(e,a)=>e.isLoading&&e.isFetching&&!a,BN=(e,a)=>e?.suspense&&a.isPending,nv=(e,a,r)=>a.fetchOptimistic(e).catch(()=>{r.clearReset()});function IN(e,a,r){const l=RN(),o=zN(),d=zm(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",LN(m),MN(m,o),kN(o);const h=!d.getQueryCache().get(m.queryHash),[y]=b.useState(()=>new a(d,m)),p=y.getOptimisticResult(m),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const _=v?y.subscribe(hn.batchCalls(x)):Bn;return y.updateResult(),_},[y,v]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),b.useEffect(()=>{y.setOptions(m)},[m,y]),BN(m,p))throw nv(m,y,o);if(UN({result:p,errorResetBoundary:o,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!Ss&&qN(p,l)&&(h?nv(m,y,o):d.getQueryCache().get(m.queryHash)?.promise)?.catch(Bn).finally(()=>{y.updateResult()}),m.notifyOnChangeProps?p:y.trackResult(p)}function ws(e,a){return IN(e,xN)}function FN(e,a){const r=zm(),[l]=b.useState(()=>new jN(r,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const o=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(hn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(Bn)},[l]);if(o.error&&Ub(l.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:d,mutateAsync:o.mutate}}var Hi=e=>e.type==="checkbox",vs=e=>e instanceof Date,Xn=e=>e==null;const Vb=e=>typeof e=="object";var cn=e=>!Xn(e)&&!Array.isArray(e)&&Vb(e)&&!vs(e),$N=e=>cn(e)&&e.target?Hi(e.target)?e.target.checked:e.target.value:e,HN=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,VN=(e,a)=>e.has(HN(a)),ZN=e=>{const a=e.constructor&&e.constructor.prototype;return cn(a)&&a.hasOwnProperty("isPrototypeOf")},Mm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(e){let a;const r=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(Mm&&(e instanceof Blob||l))&&(r||cn(e)))if(a=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!ZN(e))a=e;else for(const o in e)e.hasOwnProperty(o)&&(a[o]=$t(e[o]));else return e;return a}var $c=e=>/^\w*$/.test(e),Bt=e=>e===void 0,Hc=e=>Array.isArray(e)?e.filter(Boolean):[],km=e=>Hc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(e,a,r)=>{if(!a||!cn(e))return r;const l=($c(a)?[a]:km(a)).reduce((o,d)=>Xn(o)?o:o[d],e);return Bt(l)||l===e?Bt(e[a])?r:e[a]:l},Ga=e=>typeof e=="boolean",Nt=(e,a,r)=>{let l=-1;const o=$c(a)?[a]:km(a),d=o.length,m=d-1;for(;++l<d;){const h=o[l];let y=r;if(l!==m){const p=e[h];y=cn(p)||Array.isArray(p)?p:isNaN(+o[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=y,e=e[h]}};const av={BLUR:"blur",FOCUS_OUT:"focusout"},Sa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zb=st.createContext(null);Zb.displayName="HookFormContext";const Gb=()=>st.useContext(Zb);var GN=(e,a,r,l=!0)=>{const o={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(o,d,{get:()=>{const m=d;return a._proxyFormState[m]!==Sa.all&&(a._proxyFormState[m]=!l||Sa.all),e[m]}});return o};const Um=typeof window<"u"?st.useLayoutEffect:st.useEffect;var ua=e=>typeof e=="string",nm=(e,a,r,l,o)=>ua(e)?(l&&a.watch.add(e),De(r,e,o)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),De(r,d))):(l&&(a.watchAll=!0),r),am=e=>Xn(e)||!Vb(e);function Ua(e,a,r=new WeakSet){if(am(e)||am(a))return e===a;if(vs(e)&&vs(a))return e.getTime()===a.getTime();const l=Object.keys(e),o=Object.keys(a);if(l.length!==o.length)return!1;if(r.has(e)||r.has(a))return!0;r.add(e),r.add(a);for(const d of l){const m=e[d];if(!o.includes(d))return!1;if(d!=="ref"){const h=a[d];if(vs(m)&&vs(h)||cn(m)&&cn(h)||Array.isArray(m)&&Array.isArray(h)?!Ua(m,h,r):m!==h)return!1}}return!0}function ji(e){const a=Gb(),{control:r=a.control,name:l,defaultValue:o,disabled:d,exact:m,compute:h}=e||{},y=st.useRef(o),p=st.useRef(h),v=st.useRef(void 0),x=st.useRef(r),_=st.useRef(l);p.current=h;const[L,E]=st.useState(()=>{const C=r._getWatch(l,y.current);return p.current?p.current(C):C}),A=st.useCallback(C=>{const O=nm(l,r._names,C||r._formValues,!1,y.current);return p.current?p.current(O):O},[r._formValues,r._names,l]),w=st.useCallback(C=>{if(!d){const O=nm(l,r._names,C||r._formValues,!1,y.current);if(p.current){const te=p.current(O);Ua(te,v.current)||(E(te),v.current=te)}else E(O)}},[r._formValues,r._names,d,l]);Um(()=>((x.current!==r||!Ua(_.current,l))&&(x.current=r,_.current=l,w()),r._subscribe({name:l,formState:{values:!0},exact:m,callback:C=>{w(C.values)}})),[r,m,l,w]),st.useEffect(()=>r._removeUnmounted());const U=x.current!==r,D=_.current,ee=st.useMemo(()=>{if(d)return null;const C=!U&&!Ua(D,l);return U||C?A():null},[d,U,l,D,A]);return ee!==null?ee:L}var Lm=(e,a,r,l,o)=>a?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[l]:o||!0}}:{},Jn=e=>Array.isArray(e)?e:[e],rv=()=>{let e=[];return{get observers(){return e},next:o=>{for(const d of e)d.next&&d.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(d=>d!==o)}}),unsubscribe:()=>{e=[]}}};function Qb(e,a){const r={};for(const l in e)if(e.hasOwnProperty(l)){const o=e[l],d=a[l];if(o&&cn(o)&&d){const m=Qb(o,d);cn(m)&&(r[l]=m)}else e[l]&&(r[l]=d)}return r}var Dn=e=>cn(e)&&!Object.keys(e).length,qm=e=>e.type==="file",La=e=>typeof e=="function",Oc=e=>{if(!Mm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},Yb=e=>e.type==="select-multiple",Bm=e=>e.type==="radio",QN=e=>Bm(e)||Hi(e),vf=e=>Oc(e)&&e.isConnected;function YN(e,a){const r=a.slice(0,-1).length;let l=0;for(;l<r;)e=Bt(e)?l++:e[a[l++]];return e}function KN(e){for(const a in e)if(e.hasOwnProperty(a)&&!Bt(e[a]))return!1;return!0}function Wt(e,a){const r=Array.isArray(a)?a:$c(a)?[a]:km(a),l=r.length===1?e:YN(e,r),o=r.length-1,d=r[o];return l&&delete l[d],o!==0&&(cn(l)&&Dn(l)||Array.isArray(l)&&KN(l))&&Wt(e,r.slice(0,-1)),e}var PN=e=>{for(const a in e)if(La(e[a]))return!0;return!1};function Kb(e){return Array.isArray(e)||cn(e)&&!PN(e)}function rm(e,a={}){for(const r in e)Kb(e[r])?(a[r]=Array.isArray(e[r])?[]:{},rm(e[r],a[r])):Bt(e[r])||(a[r]=!0);return a}function fl(e,a,r){r||(r=rm(a));for(const l in e)Kb(e[l])?Bt(a)||am(r[l])?r[l]=rm(e[l],Array.isArray(e[l])?[]:{}):fl(e[l],Xn(a)?{}:a[l],r[l]):r[l]=!Ua(e[l],a[l]);return r}const sv={value:!1,isValid:!1},lv={value:!0,isValid:!0};var Pb=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?lv:{value:e[0].value,isValid:!0}:lv:sv}return sv},Xb=(e,{valueAsNumber:a,valueAsDate:r,setValueAs:l})=>Bt(e)?e:a?e===""?NaN:e&&+e:r&&ua(e)?new Date(e):l?l(e):e;const iv={isValid:!1,value:null};var Jb=e=>Array.isArray(e)?e.reduce((a,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:a,iv):iv;function ov(e){const a=e.ref;return qm(a)?a.files:Bm(a)?Jb(e.refs).value:Yb(a)?[...a.selectedOptions].map(({value:r})=>r):Hi(a)?Pb(e.refs).value:Xb(Bt(a.value)?e.ref.value:a.value,e)}var XN=(e,a,r,l)=>{const o={};for(const d of e){const m=De(a,d);m&&Nt(o,d,m._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:l}},Cc=e=>e instanceof RegExp,Ai=e=>Bt(e)?e:Cc(e)?e.source:cn(e)?Cc(e.value)?e.value.source:e.value:e,ml=e=>({isOnSubmit:!e||e===Sa.onSubmit,isOnBlur:e===Sa.onBlur,isOnChange:e===Sa.onChange,isOnAll:e===Sa.all,isOnTouch:e===Sa.onTouched});const cv="AsyncFunction";var JN=e=>!!e&&!!e.validate&&!!(La(e.validate)&&e.validate.constructor.name===cv||cn(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===cv)),WN=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),sm=(e,a,r)=>!r&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const pl=(e,a,r,l)=>{for(const o of r||Object.keys(e)){const d=De(e,o);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],o)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(pl(h,a))break}else if(cn(h)&&pl(h,a))break}}};function uv(e,a,r){const l=De(e,r);if(l||$c(r))return{error:l,name:r};const o=r.split(".");for(;o.length;){const d=o.join("."),m=De(a,d),h=De(e,d);if(m&&!Array.isArray(m)&&r!==d)return{name:r};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};o.pop()}return{name:r}}var e1=(e,a,r,l)=>{r(e);const{name:o,...d}=e;return Dn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||Sa.all))},t1=(e,a,r)=>!e||!a||e===a||Jn(e).some(l=>l&&(r?l===a:l.startsWith(a)||a.startsWith(l))),n1=(e,a,r,l,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(a||e):(r?l.isOnBlur:o.isOnBlur)?!e:(r?l.isOnChange:o.isOnChange)?e:!0,a1=(e,a)=>!Hc(De(e,a)).length&&Wt(e,a),Wb=(e,a,r)=>{const l=Jn(De(e,r));return Nt(l,"root",a[r]),Nt(e,r,l),e};function dv(e,a,r="validate"){if(ua(e)||Array.isArray(e)&&e.every(ua)||Ga(e)&&!e)return{type:r,message:ua(e)?e:"",ref:a}}var cl=e=>cn(e)&&!Cc(e)?e:{value:e,message:""},lm=async(e,a,r,l,o,d)=>{const{ref:m,refs:h,required:y,maxLength:p,minLength:v,min:x,max:_,pattern:L,validate:E,name:A,valueAsNumber:w,mount:U}=e._f,D=De(r,A);if(!U||a.has(A))return{};const ee=h?h[0]:m,C=me=>{o&&ee.reportValidity&&(ee.setCustomValidity(Ga(me)?"":me||""),ee.reportValidity())},O={},te=Bm(m),q=Hi(m),ne=te||q,ce=(w||qm(m))&&Bt(m.value)&&Bt(D)||Oc(m)&&m.value===""||D===""||Array.isArray(D)&&!D.length,we=Lm.bind(null,A,l,O),xe=(me,be,Ae,ve=fr.maxLength,B=fr.minLength)=>{const re=me?be:Ae;O[A]={type:me?ve:B,message:re,ref:m,...we(me?ve:B,re)}};if(d?!Array.isArray(D)||!D.length:y&&(!ne&&(ce||Xn(D))||Ga(D)&&!D||q&&!Pb(h).isValid||te&&!Jb(h).isValid)){const{value:me,message:be}=ua(y)?{value:!!y,message:y}:cl(y);if(me&&(O[A]={type:fr.required,message:be,ref:ee,...we(fr.required,be)},!l))return C(be),O}if(!ce&&(!Xn(x)||!Xn(_))){let me,be;const Ae=cl(_),ve=cl(x);if(!Xn(D)&&!isNaN(D)){const B=m.valueAsNumber||D&&+D;Xn(Ae.value)||(me=B>Ae.value),Xn(ve.value)||(be=B<ve.value)}else{const B=m.valueAsDate||new Date(D),re=Ee=>new Date(new Date().toDateString()+" "+Ee),se=m.type=="time",Oe=m.type=="week";ua(Ae.value)&&D&&(me=se?re(D)>re(Ae.value):Oe?D>Ae.value:B>new Date(Ae.value)),ua(ve.value)&&D&&(be=se?re(D)<re(ve.value):Oe?D<ve.value:B<new Date(ve.value))}if((me||be)&&(xe(!!me,Ae.message,ve.message,fr.max,fr.min),!l))return C(O[A].message),O}if((p||v)&&!ce&&(ua(D)||d&&Array.isArray(D))){const me=cl(p),be=cl(v),Ae=!Xn(me.value)&&D.length>+me.value,ve=!Xn(be.value)&&D.length<+be.value;if((Ae||ve)&&(xe(Ae,me.message,be.message),!l))return C(O[A].message),O}if(L&&!ce&&ua(D)){const{value:me,message:be}=cl(L);if(Cc(me)&&!D.match(me)&&(O[A]={type:fr.pattern,message:be,ref:m,...we(fr.pattern,be)},!l))return C(be),O}if(E){if(La(E)){const me=await E(D,r),be=dv(me,ee);if(be&&(O[A]={...be,...we(fr.validate,be.message)},!l))return C(be.message),O}else if(cn(E)){let me={};for(const be in E){if(!Dn(me)&&!l)break;const Ae=dv(await E[be](D,r),ee,be);Ae&&(me={...Ae,...we(be,Ae.message)},C(Ae.message),l&&(O[A]=me))}if(!Dn(me)&&(O[A]={ref:ee,...me},!l))return O}}return C(!0),O};const r1={mode:Sa.onSubmit,reValidateMode:Sa.onChange,shouldFocusError:!0};function s1(e={}){let a={...r1,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:La(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},o=cn(a.defaultValues)||cn(a.values)?$t(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:$t(o),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const _={array:rv(),state:rv()},L=a.criteriaMode===Sa.all,E=R=>$=>{clearTimeout(p),p=setTimeout(R,$)},A=async R=>{if(!a.disabled&&(v.isValid||x.isValid||R)){const $=a.resolver?Dn((await q()).errors):await ce(l,!0);$!==r.isValid&&_.state.next({isValid:$})}},w=(R,$)=>{!a.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((R||Array.from(h.mount)).forEach(J=>{J&&($?Nt(r.validatingFields,J,$):Wt(r.validatingFields,J))}),_.state.next({validatingFields:r.validatingFields,isValidating:!Dn(r.validatingFields)}))},U=(R,$=[],J,je,z=!0,k=!0)=>{if(je&&J&&!a.disabled){if(m.action=!0,k&&Array.isArray(De(l,R))){const P=J(De(l,R),je.argA,je.argB);z&&Nt(l,R,P)}if(k&&Array.isArray(De(r.errors,R))){const P=J(De(r.errors,R),je.argA,je.argB);z&&Nt(r.errors,R,P),a1(r.errors,R)}if((v.touchedFields||x.touchedFields)&&k&&Array.isArray(De(r.touchedFields,R))){const P=J(De(r.touchedFields,R),je.argA,je.argB);z&&Nt(r.touchedFields,R,P)}(v.dirtyFields||x.dirtyFields)&&(r.dirtyFields=fl(o,d)),_.state.next({name:R,isDirty:xe(R,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Nt(d,R,$)},D=(R,$)=>{Nt(r.errors,R,$),_.state.next({errors:r.errors})},ee=R=>{r.errors=R,_.state.next({errors:r.errors,isValid:!1})},C=(R,$,J,je)=>{const z=De(l,R);if(z){const k=De(d,R,Bt(J)?De(o,R):J);Bt(k)||je&&je.defaultChecked||$?Nt(d,R,$?k:ov(z._f)):Ae(R,k),m.mount&&A()}},O=(R,$,J,je,z)=>{let k=!1,P=!1;const _e={name:R};if(!a.disabled){if(!J||je){(v.isDirty||x.isDirty)&&(P=r.isDirty,r.isDirty=_e.isDirty=xe(),k=P!==_e.isDirty);const G=Ua(De(o,R),$);P=!!De(r.dirtyFields,R),G?Wt(r.dirtyFields,R):Nt(r.dirtyFields,R,!0),_e.dirtyFields=r.dirtyFields,k=k||(v.dirtyFields||x.dirtyFields)&&P!==!G}if(J){const G=De(r.touchedFields,R);G||(Nt(r.touchedFields,R,J),_e.touchedFields=r.touchedFields,k=k||(v.touchedFields||x.touchedFields)&&G!==J)}k&&z&&_.state.next(_e)}return k?_e:{}},te=(R,$,J,je)=>{const z=De(r.errors,R),k=(v.isValid||x.isValid)&&Ga($)&&r.isValid!==$;if(a.delayError&&J?(y=E(()=>D(R,J)),y(a.delayError)):(clearTimeout(p),y=null,J?Nt(r.errors,R,J):Wt(r.errors,R)),(J?!Ua(z,J):z)||!Dn(je)||k){const P={...je,...k&&Ga($)?{isValid:$}:{},errors:r.errors,name:R};r={...r,...P},_.state.next(P)}},q=async R=>{w(R,!0);const $=await a.resolver(d,a.context,XN(R||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return w(R),$},ne=async R=>{const{errors:$}=await q(R);if(R)for(const J of R){const je=De($,J);je?Nt(r.errors,J,je):Wt(r.errors,J)}else r.errors=$;return $},ce=async(R,$,J={valid:!0})=>{for(const je in R){const z=R[je];if(z){const{_f:k,...P}=z;if(k){const _e=h.array.has(k.name),G=z._f&&JN(z._f);G&&v.validatingFields&&w([k.name],!0);const Ce=await lm(z,h.disabled,d,L,a.shouldUseNativeValidation&&!$,_e);if(G&&v.validatingFields&&w([k.name]),Ce[k.name]&&(J.valid=!1,$))break;!$&&(De(Ce,k.name)?_e?Wb(r.errors,Ce,k.name):Nt(r.errors,k.name,Ce[k.name]):Wt(r.errors,k.name))}!Dn(P)&&await ce(P,$,J)}}return J.valid},we=()=>{for(const R of h.unMount){const $=De(l,R);$&&($._f.refs?$._f.refs.every(J=>!vf(J)):!vf($._f.ref))&&Me(R)}h.unMount=new Set},xe=(R,$)=>!a.disabled&&(R&&$&&Nt(d,R,$),!Ua(Ee(),o)),me=(R,$,J)=>nm(R,h,{...m.mount?d:Bt($)?o:ua(R)?{[R]:$}:$},J,$),be=R=>Hc(De(m.mount?d:o,R,a.shouldUnregister?De(o,R,[]):[])),Ae=(R,$,J={})=>{const je=De(l,R);let z=$;if(je){const k=je._f;k&&(!k.disabled&&Nt(d,R,Xb($,k)),z=Oc(k.ref)&&Xn($)?"":$,Yb(k.ref)?[...k.ref.options].forEach(P=>P.selected=z.includes(P.value)):k.refs?Hi(k.ref)?k.refs.forEach(P=>{(!P.defaultChecked||!P.disabled)&&(Array.isArray(z)?P.checked=!!z.find(_e=>_e===P.value):P.checked=z===P.value||!!z)}):k.refs.forEach(P=>P.checked=P.value===z):qm(k.ref)?k.ref.value="":(k.ref.value=z,k.ref.type||_.state.next({name:R,values:$t(d)})))}(J.shouldDirty||J.shouldTouch)&&O(R,z,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&Oe(R)},ve=(R,$,J)=>{for(const je in $){if(!$.hasOwnProperty(je))return;const z=$[je],k=R+"."+je,P=De(l,k);(h.array.has(R)||cn(z)||P&&!P._f)&&!vs(z)?ve(k,z,J):Ae(k,z,J)}},B=(R,$,J={})=>{const je=De(l,R),z=h.array.has(R),k=$t($);Nt(d,R,k),z?(_.array.next({name:R,values:$t(d)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&J.shouldDirty&&_.state.next({name:R,dirtyFields:fl(o,d),isDirty:xe(R,k)})):je&&!je._f&&!Xn(k)?ve(R,k,J):Ae(R,k,J),sm(R,h)&&_.state.next({...r,name:R}),_.state.next({name:m.mount?R:void 0,values:$t(d)})},re=async R=>{m.mount=!0;const $=R.target;let J=$.name,je=!0;const z=De(l,J),k=G=>{je=Number.isNaN(G)||vs(G)&&isNaN(G.getTime())||Ua(G,De(d,J,G))},P=ml(a.mode),_e=ml(a.reValidateMode);if(z){let G,Ce;const He=$.type?ov(z._f):$N(R),Be=R.type===av.BLUR||R.type===av.FOCUS_OUT,mt=!WN(z._f)&&!a.resolver&&!De(r.errors,J)&&!z._f.deps||n1(Be,De(r.touchedFields,J),r.isSubmitted,_e,P),de=sm(J,h,Be);Nt(d,J,He),Be?(!$||!$.readOnly)&&(z._f.onBlur&&z._f.onBlur(R),y&&y(0)):z._f.onChange&&z._f.onChange(R);const Pe=O(J,He,Be),Gt=!Dn(Pe)||de;if(!Be&&_.state.next({name:J,type:R.type,values:$t(d)}),mt)return(v.isValid||x.isValid)&&(a.mode==="onBlur"?Be&&A():Be||A()),Gt&&_.state.next({name:J,...de?{}:Pe});if(!Be&&de&&_.state.next({...r}),a.resolver){const{errors:St}=await q([J]);if(k(He),je){const _n=uv(r.errors,l,J),kn=uv(St,l,_n.name||J);G=kn.error,J=kn.name,Ce=Dn(St)}}else w([J],!0),G=(await lm(z,h.disabled,d,L,a.shouldUseNativeValidation))[J],w([J]),k(He),je&&(G?Ce=!1:(v.isValid||x.isValid)&&(Ce=await ce(l,!0)));je&&(z._f.deps&&(!Array.isArray(z._f.deps)||z._f.deps.length>0)&&Oe(z._f.deps),te(J,Ce,G,Pe))}},se=(R,$)=>{if(De(r.errors,$)&&R.focus)return R.focus(),1},Oe=async(R,$={})=>{let J,je;const z=Jn(R);if(a.resolver){const k=await ne(Bt(R)?R:z);J=Dn(k),je=R?!z.some(P=>De(k,P)):J}else R?(je=(await Promise.all(z.map(async k=>{const P=De(l,k);return await ce(P&&P._f?{[k]:P}:P)}))).every(Boolean),!(!je&&!r.isValid)&&A()):je=J=await ce(l);return _.state.next({...!ua(R)||(v.isValid||x.isValid)&&J!==r.isValid?{}:{name:R},...a.resolver||!R?{isValid:J}:{},errors:r.errors}),$.shouldFocus&&!je&&pl(l,se,R?z:h.mount),je},Ee=(R,$)=>{let J={...m.mount?d:o};return $&&(J=Qb($.dirtyFields?r.dirtyFields:r.touchedFields,J)),Bt(R)?J:ua(R)?De(J,R):R.map(je=>De(J,je))},N=(R,$)=>({invalid:!!De(($||r).errors,R),isDirty:!!De(($||r).dirtyFields,R),error:De(($||r).errors,R),isValidating:!!De(r.validatingFields,R),isTouched:!!De(($||r).touchedFields,R)}),Y=R=>{R&&Jn(R).forEach($=>Wt(r.errors,$)),_.state.next({errors:R?r.errors:{}})},oe=(R,$,J)=>{const je=(De(l,R,{_f:{}})._f||{}).ref,z=De(r.errors,R)||{},{ref:k,message:P,type:_e,...G}=z;Nt(r.errors,R,{...G,...$,ref:je}),_.state.next({name:R,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&je&&je.focus&&je.focus()},pe=(R,$)=>La(R)?_.state.subscribe({next:J=>"values"in J&&R(me(void 0,$),J)}):me(R,$,!0),Re=R=>_.state.subscribe({next:$=>{t1(R.name,$.name,R.exact)&&e1($,R.formState||v,Ke,R.reRenderRoot)&&R.callback({values:{...d},...r,...$,defaultValues:o})}}).unsubscribe,Te=R=>(m.mount=!0,x={...x,...R.formState},Re({...R,formState:x})),Me=(R,$={})=>{for(const J of R?Jn(R):h.mount)h.mount.delete(J),h.array.delete(J),$.keepValue||(Wt(l,J),Wt(d,J)),!$.keepError&&Wt(r.errors,J),!$.keepDirty&&Wt(r.dirtyFields,J),!$.keepTouched&&Wt(r.touchedFields,J),!$.keepIsValidating&&Wt(r.validatingFields,J),!a.shouldUnregister&&!$.keepDefaultValue&&Wt(o,J);_.state.next({values:$t(d)}),_.state.next({...r,...$.keepDirty?{isDirty:xe()}:{}}),!$.keepIsValid&&A()},$e=({disabled:R,name:$})=>{(Ga(R)&&m.mount||R||h.disabled.has($))&&(R?h.disabled.add($):h.disabled.delete($))},he=(R,$={})=>{let J=De(l,R);const je=Ga($.disabled)||Ga(a.disabled);return Nt(l,R,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:R}},name:R,mount:!0,...$}}),h.mount.add(R),J?$e({disabled:Ga($.disabled)?$.disabled:a.disabled,name:R}):C(R,!0,$.value),{...je?{disabled:$.disabled||a.disabled}:{},...a.progressive?{required:!!$.required,min:Ai($.min),max:Ai($.max),minLength:Ai($.minLength),maxLength:Ai($.maxLength),pattern:Ai($.pattern)}:{},name:R,onChange:re,onBlur:re,ref:z=>{if(z){he(R,$),J=De(l,R);const k=Bt(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,P=QN(k),_e=J._f.refs||[];if(P?_e.find(G=>G===k):k===J._f.ref)return;Nt(l,R,{_f:{...J._f,...P?{refs:[..._e.filter(vf),k,...Array.isArray(De(o,R))?[{}]:[]],ref:{type:k.type,name:R}}:{ref:k}}}),C(R,!1,void 0,k)}else J=De(l,R,{}),J._f&&(J._f.mount=!1),(a.shouldUnregister||$.shouldUnregister)&&!(VN(h.array,R)&&m.action)&&h.unMount.add(R)}}},Ue=()=>a.shouldFocusError&&pl(l,se,h.mount),Qe=R=>{Ga(R)&&(_.state.next({disabled:R}),pl(l,($,J)=>{const je=De(l,J);je&&($.disabled=je._f.disabled||R,Array.isArray(je._f.refs)&&je._f.refs.forEach(z=>{z.disabled=je._f.disabled||R}))},0,!1))},Se=(R,$)=>async J=>{let je;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let z=$t(d);if(_.state.next({isSubmitting:!0}),a.resolver){const{errors:k,values:P}=await q();r.errors=k,z=$t(P)}else await ce(l);if(h.disabled.size)for(const k of h.disabled)Wt(z,k);if(Wt(r.errors,"root"),Dn(r.errors)){_.state.next({errors:{}});try{await R(z,J)}catch(k){je=k}}else $&&await $({...r.errors},J),Ue(),setTimeout(Ue);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dn(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},Ye=(R,$={})=>{De(l,R)&&(Bt($.defaultValue)?B(R,$t(De(o,R))):(B(R,$.defaultValue),Nt(o,R,$t($.defaultValue))),$.keepTouched||Wt(r.touchedFields,R),$.keepDirty||(Wt(r.dirtyFields,R),r.isDirty=$.defaultValue?xe(R,$t(De(o,R))):xe()),$.keepError||(Wt(r.errors,R),v.isValid&&A()),_.state.next({...r}))},Le=(R,$={})=>{const J=R?$t(R):o,je=$t(J),z=Dn(R),k=z?o:je;if($.keepDefaultValues||(o=J),!$.keepValues){if($.keepDirtyValues){const P=new Set([...h.mount,...Object.keys(fl(o,d))]);for(const _e of Array.from(P))De(r.dirtyFields,_e)?Nt(k,_e,De(d,_e)):B(_e,De(k,_e))}else{if(Mm&&Bt(R))for(const P of h.mount){const _e=De(l,P);if(_e&&_e._f){const G=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Oc(G)){const Ce=G.closest("form");if(Ce){Ce.reset();break}}}}if($.keepFieldsRef)for(const P of h.mount)B(P,De(k,P));else l={}}d=a.shouldUnregister?$.keepDefaultValues?$t(o):{}:$t(k),_.array.next({values:{...k}}),_.state.next({values:{...k}})}h={mount:$.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!$.keepIsValid||!!$.keepDirtyValues||!a.shouldUnregister&&!Dn(k),m.watch=!!a.shouldUnregister,_.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:z?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!Ua(R,o)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:z?{}:$.keepDirtyValues?$.keepDefaultValues&&d?fl(o,d):r.dirtyFields:$.keepDefaultValues&&R?fl(o,R):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Xe=(R,$)=>Le(La(R)?R(d):R,$),Ne=(R,$={})=>{const J=De(l,R),je=J&&J._f;if(je){const z=je.refs?je.refs[0]:je.ref;z.focus&&(z.focus(),$.shouldSelect&&La(z.select)&&z.select())}},Ke=R=>{r={...r,...R}},Et={control:{register:he,unregister:Me,getFieldState:N,handleSubmit:Se,setError:oe,_subscribe:Re,_runSchema:q,_focusError:Ue,_getWatch:me,_getDirty:xe,_setValid:A,_setFieldArray:U,_setDisabledField:$e,_setErrors:ee,_getFieldArray:be,_reset:Le,_resetDefaultValues:()=>La(a.defaultValues)&&a.defaultValues().then(R=>{Xe(R,a.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:we,_disableForm:Qe,_subjects:_,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(R){m=R},get _defaultValues(){return o},get _names(){return h},set _names(R){h=R},get _formState(){return r},get _options(){return a},set _options(R){a={...a,...R}}},subscribe:Te,trigger:Oe,register:he,handleSubmit:Se,watch:pe,setValue:B,getValues:Ee,reset:Xe,resetField:Ye,clearErrors:Y,unregister:Me,setError:oe,setFocus:Ne,getFieldState:N};return{...Et,formControl:Et}}var $r=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const r=(Math.random()*16+e)%16|0;return(a=="x"?r:r&3|8).toString(16)})},bf=(e,a,r={})=>r.shouldFocus||Bt(r.shouldFocus)?r.focusName||`${e}.${Bt(r.focusIndex)?a:r.focusIndex}.`:"",xf=(e,a)=>[...e,...Jn(a)],Sf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function _f(e,a,r){return[...e.slice(0,a),...Jn(r),...e.slice(a)]}var wf=(e,a,r)=>Array.isArray(e)?(Bt(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(a,1)[0]),e):[],Nf=(e,a)=>[...Jn(a),...Jn(e)];function l1(e,a){let r=0;const l=[...e];for(const o of a)l.splice(o-r,1),r++;return Hc(l).length?l:[]}var Ef=(e,a)=>Bt(a)?[]:l1(e,Jn(a).sort((r,l)=>r-l)),jf=(e,a,r)=>{[e[a],e[r]]=[e[r],e[a]]},fv=(e,a,r)=>(e[a]=r,e);function i1(e){const a=Gb(),{control:r=a.control,name:l,keyName:o="id",shouldUnregister:d,rules:m}=e,[h,y]=st.useState(r._getFieldArray(l)),p=st.useRef(r._getFieldArray(l).map($r)),v=st.useRef(!1);r._names.array.add(l),st.useMemo(()=>m&&h.length>=0&&r.register(l,m),[r,l,h.length,m]),Um(()=>r._subjects.array.subscribe({next:({values:C,name:O})=>{if(O===l||!O){const te=De(C,l);Array.isArray(te)&&(y(te),p.current=te.map($r))}}}).unsubscribe,[r,l]);const x=st.useCallback(C=>{v.current=!0,r._setFieldArray(l,C)},[r,l]),_=(C,O)=>{const te=Jn($t(C)),q=xf(r._getFieldArray(l),te);r._names.focus=bf(l,q.length-1,O),p.current=xf(p.current,te.map($r)),x(q),y(q),r._setFieldArray(l,q,xf,{argA:Sf(C)})},L=(C,O)=>{const te=Jn($t(C)),q=Nf(r._getFieldArray(l),te);r._names.focus=bf(l,0,O),p.current=Nf(p.current,te.map($r)),x(q),y(q),r._setFieldArray(l,q,Nf,{argA:Sf(C)})},E=C=>{const O=Ef(r._getFieldArray(l),C);p.current=Ef(p.current,C),x(O),y(O),!Array.isArray(De(r._fields,l))&&Nt(r._fields,l,void 0),r._setFieldArray(l,O,Ef,{argA:C})},A=(C,O,te)=>{const q=Jn($t(O)),ne=_f(r._getFieldArray(l),C,q);r._names.focus=bf(l,C,te),p.current=_f(p.current,C,q.map($r)),x(ne),y(ne),r._setFieldArray(l,ne,_f,{argA:C,argB:Sf(O)})},w=(C,O)=>{const te=r._getFieldArray(l);jf(te,C,O),jf(p.current,C,O),x(te),y(te),r._setFieldArray(l,te,jf,{argA:C,argB:O},!1)},U=(C,O)=>{const te=r._getFieldArray(l);wf(te,C,O),wf(p.current,C,O),x(te),y(te),r._setFieldArray(l,te,wf,{argA:C,argB:O},!1)},D=(C,O)=>{const te=$t(O),q=fv(r._getFieldArray(l),C,te);p.current=[...q].map((ne,ce)=>!ne||ce===C?$r():p.current[ce]),x(q),y([...q]),r._setFieldArray(l,q,fv,{argA:C,argB:te},!0,!1)},ee=C=>{const O=Jn($t(C));p.current=O.map($r),x([...O]),y([...O]),r._setFieldArray(l,[...O],te=>te,{},!0,!1)};return st.useEffect(()=>{if(r._state.action=!1,sm(l,r._names)&&r._subjects.state.next({...r._formState}),v.current&&(!ml(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!ml(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([l]).then(C=>{const O=De(C.errors,l),te=De(r._formState.errors,l);(te?!O&&te.type||O&&(te.type!==O.type||te.message!==O.message):O&&O.type)&&(O?Nt(r._formState.errors,l,O):Wt(r._formState.errors,l),r._subjects.state.next({errors:r._formState.errors}))});else{const C=De(r._fields,l);C&&C._f&&!(ml(r._options.reValidateMode).isOnSubmit&&ml(r._options.mode).isOnSubmit)&&lm(C,r._names.disabled,r._formValues,r._options.criteriaMode===Sa.all,r._options.shouldUseNativeValidation,!0).then(O=>!Dn(O)&&r._subjects.state.next({errors:Wb(r._formState.errors,O,l)}))}r._subjects.state.next({name:l,values:$t(r._formValues)}),r._names.focus&&pl(r._fields,(C,O)=>{if(r._names.focus&&O.startsWith(r._names.focus)&&C.focus)return C.focus(),1}),r._names.focus="",r._setValid(),v.current=!1},[h,l,r]),st.useEffect(()=>(!De(r._formValues,l)&&r._setFieldArray(l),()=>{const C=(O,te)=>{const q=De(r._fields,O);q&&q._f&&(q._f.mount=te)};r._options.shouldUnregister||d?r.unregister(l):C(l,!1)}),[l,r,o,d]),{swap:st.useCallback(w,[x,l,r]),move:st.useCallback(U,[x,l,r]),prepend:st.useCallback(L,[x,l,r]),append:st.useCallback(_,[x,l,r]),remove:st.useCallback(E,[x,l,r]),insert:st.useCallback(A,[x,l,r]),update:st.useCallback(D,[x,l,r]),replace:st.useCallback(ee,[x,l,r]),fields:st.useMemo(()=>h.map((C,O)=>({...C,[o]:p.current[O]||$r()})),[h,o])}}function Vc(e={}){const a=st.useRef(void 0),r=st.useRef(void 0),[l,o]=st.useState({isDirty:!1,isValidating:!1,isLoading:La(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:La(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!La(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=s1(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,Um(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>o({...d._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),st.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),st.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),st.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),st.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),st.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),st.useEffect(()=>{e.values&&!Ua(e.values,r.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),r.current=e.values,o(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),st.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=GN(l,d),a.current}function e0(e,a){return function(){return e.apply(a,arguments)}}const{toString:o1}=Object.prototype,{getPrototypeOf:Im}=Object,{iterator:Zc,toStringTag:t0}=Symbol,Gc=(e=>a=>{const r=o1.call(a);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),qa=e=>(e=e.toLowerCase(),a=>Gc(a)===e),Qc=e=>a=>typeof a===e,{isArray:jl}=Array,vl=Qc("undefined");function Vi(e){return e!==null&&!vl(e)&&e.constructor!==null&&!vl(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const n0=qa("ArrayBuffer");function c1(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&n0(e.buffer),a}const u1=Qc("string"),Wn=Qc("function"),a0=Qc("number"),Zi=e=>e!==null&&typeof e=="object",d1=e=>e===!0||e===!1,Sc=e=>{if(Gc(e)!=="object")return!1;const a=Im(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(t0 in e)&&!(Zc in e)},f1=e=>{if(!Zi(e)||Vi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},m1=qa("Date"),h1=qa("File"),p1=qa("Blob"),g1=qa("FileList"),y1=e=>Zi(e)&&Wn(e.pipe),v1=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((a=Gc(e))==="formdata"||a==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},b1=qa("URLSearchParams"),[x1,S1,_1,w1]=["ReadableStream","Request","Response","Headers"].map(qa),N1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gi(e,a,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let l,o;if(typeof e!="object"&&(e=[e]),jl(e))for(l=0,o=e.length;l<o;l++)a.call(null,e[l],l,e);else{if(Vi(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function r0(e,a){if(Vi(e))return null;a=a.toLowerCase();const r=Object.keys(e);let l=r.length,o;for(;l-- >0;)if(o=r[l],a===o.toLowerCase())return o;return null}const bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,s0=e=>!vl(e)&&e!==bs;function im(){const{caseless:e,skipUndefined:a}=s0(this)&&this||{},r={},l=(o,d)=>{const m=e&&r0(r,d)||d;Sc(r[m])&&Sc(o)?r[m]=im(r[m],o):Sc(o)?r[m]=im({},o):jl(o)?r[m]=o.slice():(!a||!vl(o))&&(r[m]=o)};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&Gi(arguments[o],l);return r}const E1=(e,a,r,{allOwnKeys:l}={})=>(Gi(a,(o,d)=>{r&&Wn(o)?e[d]=e0(o,r):e[d]=o},{allOwnKeys:l}),e),j1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),A1=(e,a,r,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),r&&Object.assign(e.prototype,r)},O1=(e,a,r,l)=>{let o,d,m;const h={};if(a=a||{},e==null)return a;do{for(o=Object.getOwnPropertyNames(e),d=o.length;d-- >0;)m=o[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=r!==!1&&Im(e)}while(e&&(!r||r(e,a))&&e!==Object.prototype);return a},C1=(e,a,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=a.length;const l=e.indexOf(a,r);return l!==-1&&l===r},R1=e=>{if(!e)return null;if(jl(e))return e;let a=e.length;if(!a0(a))return null;const r=new Array(a);for(;a-- >0;)r[a]=e[a];return r},T1=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Im(Uint8Array)),D1=(e,a)=>{const l=(e&&e[Zc]).call(e);let o;for(;(o=l.next())&&!o.done;){const d=o.value;a.call(e,d[0],d[1])}},z1=(e,a)=>{let r;const l=[];for(;(r=e.exec(a))!==null;)l.push(r);return l},M1=qa("HTMLFormElement"),k1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,l,o){return l.toUpperCase()+o}),mv=(({hasOwnProperty:e})=>(a,r)=>e.call(a,r))(Object.prototype),U1=qa("RegExp"),l0=(e,a)=>{const r=Object.getOwnPropertyDescriptors(e),l={};Gi(r,(o,d)=>{let m;(m=a(o,d,e))!==!1&&(l[d]=m||o)}),Object.defineProperties(e,l)},L1=e=>{l0(e,(a,r)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const l=e[r];if(Wn(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},q1=(e,a)=>{const r={},l=o=>{o.forEach(d=>{r[d]=!0})};return jl(e)?l(e):l(String(e).split(a)),r},B1=()=>{},I1=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function F1(e){return!!(e&&Wn(e.append)&&e[t0]==="FormData"&&e[Zc])}const $1=e=>{const a=new Array(10),r=(l,o)=>{if(Zi(l)){if(a.indexOf(l)>=0)return;if(Vi(l))return l;if(!("toJSON"in l)){a[o]=l;const d=jl(l)?[]:{};return Gi(l,(m,h)=>{const y=r(m,o+1);!vl(y)&&(d[h]=y)}),a[o]=void 0,d}}return l};return r(e,0)},H1=qa("AsyncFunction"),V1=e=>e&&(Zi(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),i0=((e,a)=>e?setImmediate:a?((r,l)=>(bs.addEventListener("message",({source:o,data:d})=>{o===bs&&d===r&&l.length&&l.shift()()},!1),o=>{l.push(o),bs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Wn(bs.postMessage)),Z1=typeof queueMicrotask<"u"?queueMicrotask.bind(bs):typeof process<"u"&&process.nextTick||i0,G1=e=>e!=null&&Wn(e[Zc]),X={isArray:jl,isArrayBuffer:n0,isBuffer:Vi,isFormData:v1,isArrayBufferView:c1,isString:u1,isNumber:a0,isBoolean:d1,isObject:Zi,isPlainObject:Sc,isEmptyObject:f1,isReadableStream:x1,isRequest:S1,isResponse:_1,isHeaders:w1,isUndefined:vl,isDate:m1,isFile:h1,isBlob:p1,isRegExp:U1,isFunction:Wn,isStream:y1,isURLSearchParams:b1,isTypedArray:T1,isFileList:g1,forEach:Gi,merge:im,extend:E1,trim:N1,stripBOM:j1,inherits:A1,toFlatObject:O1,kindOf:Gc,kindOfTest:qa,endsWith:C1,toArray:R1,forEachEntry:D1,matchAll:z1,isHTMLForm:M1,hasOwnProperty:mv,hasOwnProp:mv,reduceDescriptors:l0,freezeMethods:L1,toObjectSet:q1,toCamelCase:k1,noop:B1,toFiniteNumber:I1,findKey:r0,global:bs,isContextDefined:s0,isSpecCompliantForm:F1,toJSONObject:$1,isAsyncFn:H1,isThenable:V1,setImmediate:i0,asap:Z1,isIterable:G1};function nt(e,a,r,l,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),r&&(this.config=r),l&&(this.request=l),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const o0=nt.prototype,c0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{c0[e]={value:e}});Object.defineProperties(nt,c0);Object.defineProperty(o0,"isAxiosError",{value:!0});nt.from=(e,a,r,l,o,d)=>{const m=Object.create(o0);X.toFlatObject(e,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",y=a==null&&e?e.code:a;return nt.call(m,h,y,r,l,o),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const Q1=null;function om(e){return X.isPlainObject(e)||X.isArray(e)}function u0(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function hv(e,a,r){return e?e.concat(a).map(function(o,d){return o=u0(o),!r&&d?"["+o+"]":o}).join(r?".":""):a}function Y1(e){return X.isArray(e)&&!e.some(om)}const K1=X.toFlatObject(X,{},null,function(a){return/^is[A-Z]/.test(a)});function Yc(e,a,r){if(!X.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,r=X.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,w){return!X.isUndefined(w[A])});const l=r.metaTokens,o=r.visitor||v,d=r.dots,m=r.indexes,y=(r.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(a);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(X.isDate(E))return E.toISOString();if(X.isBoolean(E))return E.toString();if(!y&&X.isBlob(E))throw new nt("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(E)||X.isTypedArray(E)?y&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function v(E,A,w){let U=E;if(E&&!w&&typeof E=="object"){if(X.endsWith(A,"{}"))A=l?A:A.slice(0,-2),E=JSON.stringify(E);else if(X.isArray(E)&&Y1(E)||(X.isFileList(E)||X.endsWith(A,"[]"))&&(U=X.toArray(E)))return A=u0(A),U.forEach(function(ee,C){!(X.isUndefined(ee)||ee===null)&&a.append(m===!0?hv([A],C,d):m===null?A:A+"[]",p(ee))}),!1}return om(E)?!0:(a.append(hv(w,A,d),p(E)),!1)}const x=[],_=Object.assign(K1,{defaultVisitor:v,convertValue:p,isVisitable:om});function L(E,A){if(!X.isUndefined(E)){if(x.indexOf(E)!==-1)throw Error("Circular reference detected in "+A.join("."));x.push(E),X.forEach(E,function(U,D){(!(X.isUndefined(U)||U===null)&&o.call(a,U,X.isString(D)?D.trim():D,A,_))===!0&&L(U,A?A.concat(D):[D])}),x.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return L(e),a}function pv(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Fm(e,a){this._pairs=[],e&&Yc(e,this,a)}const d0=Fm.prototype;d0.append=function(a,r){this._pairs.push([a,r])};d0.toString=function(a){const r=a?function(l){return a.call(this,l,pv)}:pv;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function P1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function f0(e,a,r){if(!a)return e;const l=r&&r.encode||P1;X.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let d;if(o?d=o(a,r):d=X.isURLSearchParams(a)?a.toString():new Fm(a,r).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class gv{constructor(){this.handlers=[]}use(a,r,l){return this.handlers.push({fulfilled:a,rejected:r,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){X.forEach(this.handlers,function(l){l!==null&&a(l)})}}const m0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X1=typeof URLSearchParams<"u"?URLSearchParams:Fm,J1=typeof FormData<"u"?FormData:null,W1=typeof Blob<"u"?Blob:null,eE={isBrowser:!0,classes:{URLSearchParams:X1,FormData:J1,Blob:W1},protocols:["http","https","file","blob","url","data"]},$m=typeof window<"u"&&typeof document<"u",cm=typeof navigator=="object"&&navigator||void 0,tE=$m&&(!cm||["ReactNative","NativeScript","NS"].indexOf(cm.product)<0),nE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aE=$m&&window.location.href||"http://localhost",rE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$m,hasStandardBrowserEnv:tE,hasStandardBrowserWebWorkerEnv:nE,navigator:cm,origin:aE},Symbol.toStringTag,{value:"Module"})),zn={...rE,...eE};function sE(e,a){return Yc(e,new zn.classes.URLSearchParams,{visitor:function(r,l,o,d){return zn.isNode&&X.isBuffer(r)?(this.append(l,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function lE(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function iE(e){const a={},r=Object.keys(e);let l;const o=r.length;let d;for(l=0;l<o;l++)d=r[l],a[d]=e[d];return a}function h0(e){function a(r,l,o,d){let m=r[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),y=d>=r.length;return m=!m&&X.isArray(o)?o.length:m,y?(X.hasOwnProp(o,m)?o[m]=[o[m],l]:o[m]=l,!h):((!o[m]||!X.isObject(o[m]))&&(o[m]=[]),a(r,l,o[m],d)&&X.isArray(o[m])&&(o[m]=iE(o[m])),!h)}if(X.isFormData(e)&&X.isFunction(e.entries)){const r={};return X.forEachEntry(e,(l,o)=>{a(lE(l),o,r,0)}),r}return null}function oE(e,a,r){if(X.isString(e))try{return(a||JSON.parse)(e),X.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(r||JSON.stringify)(e)}const Qi={transitional:m0,adapter:["xhr","http","fetch"],transformRequest:[function(a,r){const l=r.getContentType()||"",o=l.indexOf("application/json")>-1,d=X.isObject(a);if(d&&X.isHTMLForm(a)&&(a=new FormData(a)),X.isFormData(a))return o?JSON.stringify(h0(a)):a;if(X.isArrayBuffer(a)||X.isBuffer(a)||X.isStream(a)||X.isFile(a)||X.isBlob(a)||X.isReadableStream(a))return a;if(X.isArrayBufferView(a))return a.buffer;if(X.isURLSearchParams(a))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return sE(a,this.formSerializer).toString();if((h=X.isFileList(a))||l.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Yc(h?{"files[]":a}:a,y&&new y,this.formSerializer)}}return d||o?(r.setContentType("application/json",!1),oE(a)):a}],transformResponse:[function(a){const r=this.transitional||Qi.transitional,l=r&&r.forcedJSONParsing,o=this.responseType==="json";if(X.isResponse(a)||X.isReadableStream(a))return a;if(a&&X.isString(a)&&(l&&!this.responseType||o)){const m=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?nt.from(h,nt.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{Qi.headers[e]={}});const cE=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uE=e=>{const a={};let r,l,o;return e&&e.split(`
`).forEach(function(m){o=m.indexOf(":"),r=m.substring(0,o).trim().toLowerCase(),l=m.substring(o+1).trim(),!(!r||a[r]&&cE[r])&&(r==="set-cookie"?a[r]?a[r].push(l):a[r]=[l]:a[r]=a[r]?a[r]+", "+l:l)}),a},yv=Symbol("internals");function Oi(e){return e&&String(e).trim().toLowerCase()}function _c(e){return e===!1||e==null?e:X.isArray(e)?e.map(_c):String(e)}function dE(e){const a=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=r.exec(e);)a[l[1]]=l[2];return a}const fE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Af(e,a,r,l,o){if(X.isFunction(l))return l.call(this,a,r);if(o&&(a=r),!!X.isString(a)){if(X.isString(l))return a.indexOf(l)!==-1;if(X.isRegExp(l))return l.test(a)}}function mE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,r,l)=>r.toUpperCase()+l)}function hE(e,a){const r=X.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+r,{value:function(o,d,m){return this[l].call(this,a,o,d,m)},configurable:!0})})}let ea=class{constructor(a){a&&this.set(a)}set(a,r,l){const o=this;function d(h,y,p){const v=Oi(y);if(!v)throw new Error("header name must be a non-empty string");const x=X.findKey(o,v);(!x||o[x]===void 0||p===!0||p===void 0&&o[x]!==!1)&&(o[x||y]=_c(h))}const m=(h,y)=>X.forEach(h,(p,v)=>d(p,v,y));if(X.isPlainObject(a)||a instanceof this.constructor)m(a,r);else if(X.isString(a)&&(a=a.trim())&&!fE(a))m(uE(a),r);else if(X.isObject(a)&&X.isIterable(a)){let h={},y,p;for(const v of a){if(!X.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(y=h[p])?X.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}m(h,r)}else a!=null&&d(r,a,l);return this}get(a,r){if(a=Oi(a),a){const l=X.findKey(this,a);if(l){const o=this[l];if(!r)return o;if(r===!0)return dE(o);if(X.isFunction(r))return r.call(this,o,l);if(X.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,r){if(a=Oi(a),a){const l=X.findKey(this,a);return!!(l&&this[l]!==void 0&&(!r||Af(this,this[l],l,r)))}return!1}delete(a,r){const l=this;let o=!1;function d(m){if(m=Oi(m),m){const h=X.findKey(l,m);h&&(!r||Af(l,l[h],h,r))&&(delete l[h],o=!0)}}return X.isArray(a)?a.forEach(d):d(a),o}clear(a){const r=Object.keys(this);let l=r.length,o=!1;for(;l--;){const d=r[l];(!a||Af(this,this[d],d,a,!0))&&(delete this[d],o=!0)}return o}normalize(a){const r=this,l={};return X.forEach(this,(o,d)=>{const m=X.findKey(l,d);if(m){r[m]=_c(o),delete r[d];return}const h=a?mE(d):String(d).trim();h!==d&&delete r[d],r[h]=_c(o),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const r=Object.create(null);return X.forEach(this,(l,o)=>{l!=null&&l!==!1&&(r[o]=a&&X.isArray(l)?l.join(", "):l)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,r])=>a+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...r){const l=new this(a);return r.forEach(o=>l.set(o)),l}static accessor(a){const l=(this[yv]=this[yv]={accessors:{}}).accessors,o=this.prototype;function d(m){const h=Oi(m);l[h]||(hE(o,m),l[h]=!0)}return X.isArray(a)?a.forEach(d):d(a),this}};ea.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(ea.prototype,({value:e},a)=>{let r=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[r]=l}}});X.freezeMethods(ea);function Of(e,a){const r=this||Qi,l=a||r,o=ea.from(l.headers);let d=l.data;return X.forEach(e,function(h){d=h.call(r,d,o.normalize(),a?a.status:void 0)}),o.normalize(),d}function p0(e){return!!(e&&e.__CANCEL__)}function Al(e,a,r){nt.call(this,e??"canceled",nt.ERR_CANCELED,a,r),this.name="CanceledError"}X.inherits(Al,nt,{__CANCEL__:!0});function g0(e,a,r){const l=r.config.validateStatus;!r.status||!l||l(r.status)?e(r):a(new nt("Request failed with status code "+r.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function pE(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function gE(e,a){e=e||10;const r=new Array(e),l=new Array(e);let o=0,d=0,m;return a=a!==void 0?a:1e3,function(y){const p=Date.now(),v=l[d];m||(m=p),r[o]=y,l[o]=p;let x=d,_=0;for(;x!==o;)_+=r[x++],x=x%e;if(o=(o+1)%e,o===d&&(d=(d+1)%e),p-m<a)return;const L=v&&p-v;return L?Math.round(_*1e3/L):void 0}}function yE(e,a){let r=0,l=1e3/a,o,d;const m=(p,v=Date.now())=>{r=v,o=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),x=v-r;x>=l?m(p,v):(o=p,d||(d=setTimeout(()=>{d=null,m(o)},l-x)))},()=>o&&m(o)]}const Rc=(e,a,r=3)=>{let l=0;const o=gE(50,250);return yE(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,y=m-l,p=o(y),v=m<=h;l=m;const x={loaded:m,total:h,progress:h?m/h:void 0,bytes:y,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},r)},vv=(e,a)=>{const r=e!=null;return[l=>a[0]({lengthComputable:r,total:e,loaded:l}),a[1]]},bv=e=>(...a)=>X.asap(()=>e(...a)),vE=zn.hasStandardBrowserEnv?((e,a)=>r=>(r=new URL(r,zn.origin),e.protocol===r.protocol&&e.host===r.host&&(a||e.port===r.port)))(new URL(zn.origin),zn.navigator&&/(msie|trident)/i.test(zn.navigator.userAgent)):()=>!0,bE=zn.hasStandardBrowserEnv?{write(e,a,r,l,o,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];X.isNumber(r)&&h.push(`expires=${new Date(r).toUTCString()}`),X.isString(l)&&h.push(`path=${l}`),X.isString(o)&&h.push(`domain=${o}`),d===!0&&h.push("secure"),X.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function xE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function SE(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function y0(e,a,r){let l=!xE(a);return e&&(l||r==!1)?SE(e,a):a}const xv=e=>e instanceof ea?{...e}:e;function Ns(e,a){a=a||{};const r={};function l(p,v,x,_){return X.isPlainObject(p)&&X.isPlainObject(v)?X.merge.call({caseless:_},p,v):X.isPlainObject(v)?X.merge({},v):X.isArray(v)?v.slice():v}function o(p,v,x,_){if(X.isUndefined(v)){if(!X.isUndefined(p))return l(void 0,p,x,_)}else return l(p,v,x,_)}function d(p,v){if(!X.isUndefined(v))return l(void 0,v)}function m(p,v){if(X.isUndefined(v)){if(!X.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,x){if(x in a)return l(p,v);if(x in e)return l(void 0,p)}const y={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,x)=>o(xv(p),xv(v),x,!0)};return X.forEach(Object.keys({...e,...a}),function(v){const x=y[v]||o,_=x(e[v],a[v],v);X.isUndefined(_)&&x!==h||(r[v]=_)}),r}const v0=e=>{const a=Ns({},e);let{data:r,withXSRFToken:l,xsrfHeaderName:o,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=ea.from(m),a.url=f0(y0(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),X.isFormData(r)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(X.isFunction(r.getHeaders)){const y=r.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,x])=>{p.includes(v.toLowerCase())&&m.set(v,x)})}}if(zn.hasStandardBrowserEnv&&(l&&X.isFunction(l)&&(l=l(a)),l||l!==!1&&vE(a.url))){const y=o&&d&&bE.read(d);y&&m.set(o,y)}return a},_E=typeof XMLHttpRequest<"u",wE=_E&&function(e){return new Promise(function(r,l){const o=v0(e);let d=o.data;const m=ea.from(o.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:p}=o,v,x,_,L,E;function A(){L&&L(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function U(){if(!w)return;const ee=ea.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:ee,config:e,request:w};g0(function(q){r(q),A()},function(q){l(q),A()},O),w=null}"onloadend"in w?w.onloadend=U:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(U)},w.onabort=function(){w&&(l(new nt("Request aborted",nt.ECONNABORTED,e,w)),w=null)},w.onerror=function(C){const O=C&&C.message?C.message:"Network Error",te=new nt(O,nt.ERR_NETWORK,e,w);te.event=C||null,l(te),w=null},w.ontimeout=function(){let C=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const O=o.transitional||m0;o.timeoutErrorMessage&&(C=o.timeoutErrorMessage),l(new nt(C,O.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,e,w)),w=null},d===void 0&&m.setContentType(null),"setRequestHeader"in w&&X.forEach(m.toJSON(),function(C,O){w.setRequestHeader(O,C)}),X.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),h&&h!=="json"&&(w.responseType=o.responseType),p&&([_,E]=Rc(p,!0),w.addEventListener("progress",_)),y&&w.upload&&([x,L]=Rc(y),w.upload.addEventListener("progress",x),w.upload.addEventListener("loadend",L)),(o.cancelToken||o.signal)&&(v=ee=>{w&&(l(!ee||ee.type?new Al(null,e,w):ee),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const D=pE(o.url);if(D&&zn.protocols.indexOf(D)===-1){l(new nt("Unsupported protocol "+D+":",nt.ERR_BAD_REQUEST,e));return}w.send(d||null)})},NE=(e,a)=>{const{length:r}=e=e?e.filter(Boolean):[];if(a||r){let l=new AbortController,o;const d=function(p){if(!o){o=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof nt?v:new Al(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new nt(`timeout ${a} of ms exceeded`,nt.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:y}=l;return y.unsubscribe=()=>X.asap(h),y}},EE=function*(e,a){let r=e.byteLength;if(r<a){yield e;return}let l=0,o;for(;l<r;)o=l+a,yield e.slice(l,o),l=o},jE=async function*(e,a){for await(const r of AE(e))yield*EE(r,a)},AE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:r,value:l}=await a.read();if(r)break;yield l}}finally{await a.cancel()}},Sv=(e,a,r,l)=>{const o=jE(e,a);let d=0,m,h=y=>{m||(m=!0,l&&l(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await o.next();if(p){h(),y.close();return}let x=v.byteLength;if(r){let _=d+=x;r(_)}y.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(y){return h(y),o.return()}},{highWaterMark:2})},_v=64*1024,{isFunction:mc}=X,OE=(({Request:e,Response:a})=>({Request:e,Response:a}))(X.global),{ReadableStream:wv,TextEncoder:Nv}=X.global,Ev=(e,...a)=>{try{return!!e(...a)}catch{return!1}},CE=e=>{e=X.merge.call({skipUndefined:!0},OE,e);const{fetch:a,Request:r,Response:l}=e,o=a?mc(a):typeof fetch=="function",d=mc(r),m=mc(l);if(!o)return!1;const h=o&&mc(wv),y=o&&(typeof Nv=="function"?(E=>A=>E.encode(A))(new Nv):async E=>new Uint8Array(await new r(E).arrayBuffer())),p=d&&h&&Ev(()=>{let E=!1;const A=new r(zn.origin,{body:new wv,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!A}),v=m&&h&&Ev(()=>X.isReadableStream(new l("").body)),x={stream:v&&(E=>E.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!x[E]&&(x[E]=(A,w)=>{let U=A&&A[E];if(U)return U.call(A);throw new nt(`Response type '${E}' is not supported`,nt.ERR_NOT_SUPPORT,w)})});const _=async E=>{if(E==null)return 0;if(X.isBlob(E))return E.size;if(X.isSpecCompliantForm(E))return(await new r(zn.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(X.isArrayBufferView(E)||X.isArrayBuffer(E))return E.byteLength;if(X.isURLSearchParams(E)&&(E=E+""),X.isString(E))return(await y(E)).byteLength},L=async(E,A)=>{const w=X.toFiniteNumber(E.getContentLength());return w??_(A)};return async E=>{let{url:A,method:w,data:U,signal:D,cancelToken:ee,timeout:C,onDownloadProgress:O,onUploadProgress:te,responseType:q,headers:ne,withCredentials:ce="same-origin",fetchOptions:we}=v0(E),xe=a||fetch;q=q?(q+"").toLowerCase():"text";let me=NE([D,ee&&ee.toAbortSignal()],C),be=null;const Ae=me&&me.unsubscribe&&(()=>{me.unsubscribe()});let ve;try{if(te&&p&&w!=="get"&&w!=="head"&&(ve=await L(ne,U))!==0){let N=new r(A,{method:"POST",body:U,duplex:"half"}),Y;if(X.isFormData(U)&&(Y=N.headers.get("content-type"))&&ne.setContentType(Y),N.body){const[oe,pe]=vv(ve,Rc(bv(te)));U=Sv(N.body,_v,oe,pe)}}X.isString(ce)||(ce=ce?"include":"omit");const B=d&&"credentials"in r.prototype,re={...we,signal:me,method:w.toUpperCase(),headers:ne.normalize().toJSON(),body:U,duplex:"half",credentials:B?ce:void 0};be=d&&new r(A,re);let se=await(d?xe(be,we):xe(A,re));const Oe=v&&(q==="stream"||q==="response");if(v&&(O||Oe&&Ae)){const N={};["status","statusText","headers"].forEach(Re=>{N[Re]=se[Re]});const Y=X.toFiniteNumber(se.headers.get("content-length")),[oe,pe]=O&&vv(Y,Rc(bv(O),!0))||[];se=new l(Sv(se.body,_v,oe,()=>{pe&&pe(),Ae&&Ae()}),N)}q=q||"text";let Ee=await x[X.findKey(x,q)||"text"](se,E);return!Oe&&Ae&&Ae(),await new Promise((N,Y)=>{g0(N,Y,{data:Ee,headers:ea.from(se.headers),status:se.status,statusText:se.statusText,config:E,request:be})})}catch(B){throw Ae&&Ae(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,E,be),{cause:B.cause||B}):nt.from(B,B&&B.code,E,be)}}},RE=new Map,b0=e=>{let a=e&&e.env||{};const{fetch:r,Request:l,Response:o}=a,d=[l,o,r];let m=d.length,h=m,y,p,v=RE;for(;h--;)y=d[h],p=v.get(y),p===void 0&&v.set(y,p=h?new Map:CE(a)),v=p;return p};b0();const Hm={http:Q1,xhr:wE,fetch:{get:b0}};X.forEach(Hm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const jv=e=>`- ${e}`,TE=e=>X.isFunction(e)||e===null||e===!1;function DE(e,a){e=X.isArray(e)?e:[e];const{length:r}=e;let l,o;const d={};for(let m=0;m<r;m++){l=e[m];let h;if(o=l,!TE(l)&&(o=Hm[(h=String(l)).toLowerCase()],o===void 0))throw new nt(`Unknown adapter '${h}'`);if(o&&(X.isFunction(o)||(o=o.get(a))))break;d[h||"#"+m]=o}if(!o){const m=Object.entries(d).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=r?m.length>1?`since :
`+m.map(jv).join(`
`):" "+jv(m[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return o}const x0={getAdapter:DE,adapters:Hm};function Cf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Al(null,e)}function Av(e){return Cf(e),e.headers=ea.from(e.headers),e.data=Of.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),x0.getAdapter(e.adapter||Qi.adapter,e)(e).then(function(l){return Cf(e),l.data=Of.call(e,e.transformResponse,l),l.headers=ea.from(l.headers),l},function(l){return p0(l)||(Cf(e),l&&l.response&&(l.response.data=Of.call(e,e.transformResponse,l.response),l.response.headers=ea.from(l.response.headers))),Promise.reject(l)})}const S0="1.13.2",Kc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Kc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Ov={};Kc.transitional=function(a,r,l){function o(d,m){return"[Axios v"+S0+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new nt(o(m," has been removed"+(r?" in "+r:"")),nt.ERR_DEPRECATED);return r&&!Ov[m]&&(Ov[m]=!0,console.warn(o(m," has been deprecated since v"+r+" and will be removed in the near future"))),a?a(d,m,h):!0}};Kc.spelling=function(a){return(r,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function zE(e,a,r){if(typeof e!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let o=l.length;for(;o-- >0;){const d=l[o],m=a[d];if(m){const h=e[d],y=h===void 0||m(h,d,e);if(y!==!0)throw new nt("option "+d+" must be "+y,nt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new nt("Unknown option "+d,nt.ERR_BAD_OPTION)}}const wc={assertOptions:zE,validators:Kc},Za=wc.validators;let xs=class{constructor(a){this.defaults=a||{},this.interceptors={request:new gv,response:new gv}}async request(a,r){try{return await this._request(a,r)}catch(l){if(l instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,r){typeof a=="string"?(r=r||{},r.url=a):r=a||{},r=Ns(this.defaults,r);const{transitional:l,paramsSerializer:o,headers:d}=r;l!==void 0&&wc.assertOptions(l,{silentJSONParsing:Za.transitional(Za.boolean),forcedJSONParsing:Za.transitional(Za.boolean),clarifyTimeoutError:Za.transitional(Za.boolean)},!1),o!=null&&(X.isFunction(o)?r.paramsSerializer={serialize:o}:wc.assertOptions(o,{encode:Za.function,serialize:Za.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),wc.assertOptions(r,{baseUrl:Za.spelling("baseURL"),withXsrfToken:Za.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let m=d&&X.merge(d.common,d[r.method]);d&&X.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),r.headers=ea.concat(m,d);const h=[];let y=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(y=y&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let v,x=0,_;if(!y){const E=[Av.bind(this),void 0];for(E.unshift(...h),E.push(...p),_=E.length,v=Promise.resolve(r);x<_;)v=v.then(E[x++],E[x++]);return v}_=h.length;let L=r;for(;x<_;){const E=h[x++],A=h[x++];try{L=E(L)}catch(w){A.call(this,w);break}}try{v=Av.call(this,L)}catch(E){return Promise.reject(E)}for(x=0,_=p.length;x<_;)v=v.then(p[x++],p[x++]);return v}getUri(a){a=Ns(this.defaults,a);const r=y0(a.baseURL,a.url,a.allowAbsoluteUrls);return f0(r,a.params,a.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(a){xs.prototype[a]=function(r,l){return this.request(Ns(l||{},{method:a,url:r,data:(l||{}).data}))}});X.forEach(["post","put","patch"],function(a){function r(l){return function(d,m,h){return this.request(Ns(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}xs.prototype[a]=r(),xs.prototype[a+"Form"]=r(!0)});let ME=class _0{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const l=this;this.promise.then(o=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](o);l._listeners=null}),this.promise.then=o=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(o);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new Al(d,m,h),r(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const r=this._listeners.indexOf(a);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const a=new AbortController,r=l=>{a.abort(l)};return this.subscribe(r),a.signal.unsubscribe=()=>this.unsubscribe(r),a.signal}static source(){let a;return{token:new _0(function(o){a=o}),cancel:a}}};function kE(e){return function(r){return e.apply(null,r)}}function UE(e){return X.isObject(e)&&e.isAxiosError===!0}const um={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(um).forEach(([e,a])=>{um[a]=e});function w0(e){const a=new xs(e),r=e0(xs.prototype.request,a);return X.extend(r,xs.prototype,a,{allOwnKeys:!0}),X.extend(r,a,null,{allOwnKeys:!0}),r.create=function(o){return w0(Ns(e,o))},r}const ft=w0(Qi);ft.Axios=xs;ft.CanceledError=Al;ft.CancelToken=ME;ft.isCancel=p0;ft.VERSION=S0;ft.toFormData=Yc;ft.AxiosError=nt;ft.Cancel=ft.CanceledError;ft.all=function(a){return Promise.all(a)};ft.spread=kE;ft.isAxiosError=UE;ft.mergeConfig=Ns;ft.AxiosHeaders=ea;ft.formToJSON=e=>h0(X.isHTMLForm(e)?new FormData(e):e);ft.getAdapter=x0.getAdapter;ft.HttpStatusCode=um;ft.default=ft;const{Axios:m2,AxiosError:h2,CanceledError:p2,isCancel:g2,CancelToken:y2,VERSION:v2,all:b2,Cancel:x2,isAxiosError:S2,spread:_2,toFormData:w2,AxiosHeaders:N2,HttpStatusCode:E2,formToJSON:j2,getAdapter:A2,mergeConfig:O2}=ft,LE="medileser:draft:v1",Tc="medileser:recovery:v1",Dc="medileser:recovery:intent",qE="vi.auth",BE="vi_auth",IE="medileser.selectedBank",FE=1440*60*1e3,Vm=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>FE},Rf=e=>{const{userId:a,bankId:r,oiId:l,type:o,bancadaId:d,isNew:m}=e;if(!a||r==null)return null;const h=l!=null?String(l):"new",y=`${LE}:u${a}:b${r}:oi:${h}`;if(o==="header")return`${y}:header`;const p=m?"new":d;return p==null?null:`${y}:bancada:${p}`},Ti=(e,a,r)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}r&&N0(r)},Tf=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const r=JSON.parse(a);return!r||typeof r!="object"?null:Vm(r.ts)?(localStorage.removeItem(e),null):r}catch{return null}},Hr=e=>{try{localStorage.removeItem(e)}catch{}},N0=e=>{try{localStorage.setItem(Tc,JSON.stringify(e))}catch{}},E0=()=>{try{const e=localStorage.getItem(Tc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Vm(a.ts)?(localStorage.removeItem(Tc),null):a}catch{return null}},$E=()=>{try{localStorage.removeItem(Tc)}catch{}},HE=e=>{const a=e.userId??null,r=e.bankId??null,l=e.oiId??null;if(!a||r==null||!l)return;const o=E0(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:r,oiId:l,oiCode:e.oiCode??o?.oiCode??null,returnTo:e.returnTo??o?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??o?.modal};N0(d)},VE=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(Dc,JSON.stringify(a))}catch{}},ZE=()=>{try{const e=sessionStorage.getItem(Dc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Vm(a.ts)?(sessionStorage.removeItem(Dc),null):a}catch{return null}},Df=()=>{try{sessionStorage.removeItem(Dc)}catch{}},GE=()=>{try{const e=localStorage.getItem(qE)??localStorage.getItem(BE);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),r=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(r)?r:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},QE=()=>{try{const e=localStorage.getItem(IE);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},dm=(e,a)=>{const r=E0();if(!r)return{target:null};if(!e||r.userId!==e)return{target:"/home",reason:"user"};if(a==null||r.bankId!==a)return{target:"/home",reason:"bank"};const l=r.returnTo||`/oi/${r.oiId}?mode=edit`,o=l==="/oi"||l==="/oi/"?`/oi/${r.oiId}?mode=edit`:l;return VE(r),{target:o,recovery:r}},Cv="http://127.0.0.1:8000",Ol="openOiId",Pc="vi.currentOI",j0="vi.auth",A0="vi_auth",YE="medileser.selectedBank",KE="medileser:selectedBank",fm="medileser.pendingToast",Yi="medileser.pendingAction",PE="medileser:auth-expired",mm="medileser.sessionUserId",hm="medileser.sessionBankId",O0=()=>typeof window<"u"?window.location.port==="5173"?Cv:window.location.origin:Cv,Ge=ft.create({baseURL:O0()}),C0=ft.create({baseURL:O0()}),R0=e=>{try{const a=localStorage.getItem(j0)??localStorage.getItem(A0);if(a){const{token:r}=JSON.parse(a);r&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${r}`):e.headers={...e.headers||{},Authorization:`Bearer ${r}`})}}catch{}return e};Ge.interceptors.request.use(R0);C0.interceptors.request.use(R0);function XE(){try{const e=sessionStorage.getItem(Ol);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const T0=()=>{try{const e=sessionStorage.getItem(Pc);if(!e)return null;const a=JSON.parse(e),r=Number(a?.id);return Number.isFinite(r)&&r>0?r:null}catch{return null}};function JE(e){try{sessionStorage.setItem(Ol,String(e))}catch{}}function D0(){try{sessionStorage.removeItem(Ol)}catch{}}async function Ki(){const e=XE();if(e)try{await C0.post(`/oi/${e}/close`)}catch{}finally{D0()}}function WE(e){try{sessionStorage.setItem(fm,e)}catch{}}function ej(){try{const e=sessionStorage.getItem(fm);return e?(sessionStorage.removeItem(fm),e):null}catch{return null}}function tj(e){try{sessionStorage.setItem(Yi,JSON.stringify(e))}catch{}}function nj(){try{const e=sessionStorage.getItem(Yi);return e?JSON.parse(e):null}catch{return null}}function Ci(){try{sessionStorage.removeItem(Yi)}catch{}}function z0(){try{const e=sessionStorage.getItem(mm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Rv(e){try{e==null?sessionStorage.removeItem(mm):sessionStorage.setItem(mm,String(e))}catch{}}function M0(){try{const e=sessionStorage.getItem(hm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function zc(e){try{e==null?sessionStorage.removeItem(hm):sessionStorage.setItem(hm,String(e))}catch{}}function k0(e){const a=z0();if(e==null)return!1;if(a===null||a===e)return Rv(e),!1;try{const r=[];for(let l=0;l<sessionStorage.length;l+=1){const o=sessionStorage.key(l);o&&(o.startsWith("oi:")||o===Ol||o===Pc||o===Yi)&&r.push(o)}r.forEach(l=>sessionStorage.removeItem(l))}catch{}return Rv(e),zc(null),!0}function aj(e){const a=M0();if(e==null)return!1;if(a===null||a===e)return zc(e),!1;try{const r=[];for(let l=0;l<sessionStorage.length;l+=1){const o=sessionStorage.key(l);o&&(o.startsWith("oi:")||o===Ol||o===Pc||o===Yi)&&r.push(o)}r.forEach(l=>sessionStorage.removeItem(l))}catch{}return zc(e),!0}function rj(){try{localStorage.removeItem(j0),localStorage.removeItem(A0),localStorage.removeItem(YE)}catch{}finally{try{window.dispatchEvent(new Event(KE))}catch{}}try{sessionStorage.removeItem(Pc),sessionStorage.removeItem(Ol)}catch{}}let Tv=!1;async function U0(e){if(!Tv){Tv=!0;try{await Ki()}finally{rj();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(WE(a),typeof window<"u"&&window.location.pathname!=="/login"){const r=e?.returnTo,l=r?`?returnTo=${encodeURIComponent(r)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const Nc=e=>{const a=e?.response?.status;if(a===401||a===403)return!0;const r=e?.response?.data?.detail;return!!(typeof r=="string"&&/token requerido/i.test(r))},zf=(e,a)=>{const r=a.match(e);if(!r)return null;const l=Number(r[1]);return Number.isFinite(l)?l:null},sj=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),r=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(r)?{type:"save_oi",route:l,oiId:zf(/\/oi\/(\d+)$/,r),ts:new Date().toISOString()}:a==="POST"&&r==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(r)?{type:"save_bancada",route:l,oiId:zf(/\/oi\/(\d+)\/bancadas$/,r),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(r)?{type:"save_bancada",route:l,bancadaId:zf(/\/oi\/bancadas\/(\d+)$/,r),ts:new Date().toISOString()}:null},lj=e=>{if(typeof window>"u")return;const{pathname:a,search:r,hash:l}=window.location,o=new URLSearchParams(r);(a==="/oi"||a.startsWith("/oi/"))&&o.set("mode","edit");const m=o.toString(),h=p=>`${p}${m?`?${m}`:""}${l??""}`;let y=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??T0();p&&(y=h(`/oi/${p}`))}return y},ij=(e,a,r,l,o)=>{try{window.dispatchEvent(new CustomEvent(PE,{detail:{status:a,detail:e,url:r,method:l,pending:o}}))}catch{}};Ge.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,r=String(e?.config?.url??""),l=e?.response?.data?.detail,o=String(e?.config?.method??"").toUpperCase();if(!r.includes("/auth/login")&&Nc(e)){const m=sj(e);m&&tj(m),ij(l,a,r,o,m);const h=lj(m),y=GE(),p=y.bankId??QE(),v=m?.oiId??T0();if(y.userId&&p!=null&&v){const x=m?.type==="save_bancada"?{type:"bancada",bancadaId:m.bancadaId??null,isNew:m.bancadaId==null}:void 0;HE({userId:y.userId,bankId:p,oiId:v,returnTo:h,modal:x})}await U0({returnTo:h,pending:!!m})}return Promise.reject(e)});const Zm=async()=>{const{data:e}=await Ge.get("/catalogs");return e},Xc="medileser.selectedBank",Mc="medileser:selectedBank";function Qa(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function bl(e){return Qa(e)==="technician"}function Gm(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function Ui(){try{const e=localStorage.getItem(Xc);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function L0(e){try{localStorage.setItem(Xc,String(e))}finally{window.dispatchEvent(new Event(Mc))}}function q0(){try{localStorage.removeItem(Xc)}finally{window.dispatchEvent(new Event(Mc))}}function oj(e){const a=()=>e(),r=l=>{l.key===Xc&&e()};return window.addEventListener(Mc,a),window.addEventListener("storage",r),()=>{window.removeEventListener(Mc,a),window.removeEventListener("storage",r)}}async function cj(e,a){try{await Ge.put("/auth/password",{old_password:e,new_password:a})}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function uj(e){try{await Ki();const{data:a}=await Ge.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),k0(a.userId??null),!bl(a.role)&&a.bancoId!=null&&zc(a.bancoId),bl(a.role)?q0():L0(0),a}catch(a){const r=a?.response?.status,l=a?.response?.data?.detail,o=r===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(o)}}function Mn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),r=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,o={user:a.user??a.username??"",userId:a.userId??a.id??0,username:r,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??r,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Qa(a.role,r),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules:void 0};return o.username&&o.token?o:null}catch{return null}}async function B0(e){await Ki();const{data:a}=await Ge.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),k0(a.userId??null),aj(e),L0(e),a}function I0(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),q0();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function dj(){await Ki(),I0()}function Li({label:e,inputId:a,className:r="",inputRef:l,helpText:o,...d}){const[m,h]=b.useState(!1),y=a||d.name||void 0,{ref:p,...v}=d,x=l??p;return c.jsxs("div",{className:r,children:[e&&c.jsx("label",{className:"form-label",htmlFor:y,children:e}),c.jsxs("div",{className:"input-group",children:[c.jsx("input",{...v,id:y,type:m?"text":"password",className:"form-control",ref:x}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(_=>!_),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:c.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),o&&c.jsx("div",{className:"form-text",children:o})]})}function Cl({show:e=!0,label:a="Cargando..."}){return e?c.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[c.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),c.jsx("span",{className:"visually-hidden",children:a})]}):null}const F0=b.createContext(null);function fj(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function mj({children:e}){const[a,r]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:y=3500,...p}=d,v={id:m,kind:h,duration:y,...p};r(x=>[...x,v]),window.setTimeout(()=>{r(x=>x.filter(_=>_.id!==m))},y)},[]),o=d=>r(m=>m.filter(h=>h.id!==d));return c.jsxs(F0.Provider,{value:{push:l},children:[e,c.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>c.jsx("div",{className:`toast show align-items-center text-bg-${fj(d.kind)} border-0 mb-2`,role:"alert",children:c.jsxs("div",{className:"d-flex",children:[c.jsxs("div",{className:"toast-body",children:[d.title&&c.jsx("strong",{className:"me-2",children:d.title}),d.message]}),c.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>o(d.id)})]})},d.id))})]})}function As(){const e=b.useContext(F0);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function hj(){const{register:e,handleSubmit:a}=Vc({defaultValues:{username:"",password:""}}),{toast:r}=As(),l=new URLSearchParams(window.location.search),o=l.get("returnTo")??"",d=o.startsWith("/")?o:"/home",m=l.get("pending")==="1",[h,y]=b.useState(!1),p=b.useRef(d),[v,x]=b.useState(!1),[_,L]=b.useState(0),[E,A]=b.useState(!1),{data:w,isLoading:U,error:D,refetch:ee}=ws({queryKey:["catalogs"],queryFn:Zm,enabled:v}),C=w?.bancos??[];b.useEffect(()=>{const ce=ej();ce&&r({kind:"error",message:ce})},[r]),b.useEffect(()=>{v&&(_>0||C.length>0&&L(C[0].id))},[_,C,v]);const O=async ce=>{try{y(!0);const we=z0(),xe=await uj(ce),me=we!=null&&xe.userId&&we!==xe.userId,be=dm(xe.userId,xe.bancoId??0);if(be.target?p.current=be.target:m||me?p.current="/home":p.current=d,bl(xe.role)){x(!0),r({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(we){const xe=we?.message??we?.response?.data?.detail??(typeof we=="string"?we:"Error de autenticacin");r({kind:"error",title:"Login",message:String(xe)})}finally{y(!1)}},te=_>0&&!E&&!U,q=async()=>{if(te)try{A(!0);const ce=M0(),we=ce!=null&&ce!==_,xe=await B0(_),me=dm(xe.userId,xe.bancoId??_);me.target?p.current=me.target:(m||we)&&(p.current="/home"),window.location.replace(p.current)}catch(ce){const we=ce?.response?.data?.detail??ce?.message??"No se pudo guardar el banco.";r({kind:"error",title:"Banco",message:String(we)})}finally{A(!1)}},ne=()=>{I0(),x(!1),L(0)};return c.jsxs("div",{className:"vi-login",children:[c.jsx(Cl,{show:h||E,label:E?"Guardando banco...":"Validando credenciales..."}),c.jsxs("div",{className:"vi-login__split",children:[c.jsx("section",{className:"vi-login__left",children:c.jsx("div",{className:"text-center text-md-start",children:c.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),c.jsx("section",{className:"vi-login__right",children:c.jsx("div",{className:"card shadow-sm vi-login__card",children:c.jsxs("div",{className:"card-body p-4 p-md-5",children:[c.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),c.jsxs("form",{onSubmit:a(O),className:"row g-3",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),c.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),c.jsx("div",{className:"col-md-6",children:c.jsx(Li,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),c.jsx("div",{className:"col-12 d-grid",children:c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||v,"aria-busy":h?"true":"false",children:h?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),v&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),c.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),c.jsx("select",{id:"bankId",className:"form-select",value:_||"",onChange:ce=>L(Number(ce.target.value)),disabled:U||E,children:C.map(ce=>c.jsx("option",{value:ce.id,children:ce.name},ce.id))}),D?c.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>ee(),children:"Reintentar"})]}):null]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ne,disabled:E,children:"Cancelar"}),c.jsx("button",{type:"button",className:"btn btn-primary",disabled:!te,onClick:q,children:E?"Guardando...":"Continuar"})]})]})})})]})}const Dv=(e,a,r)=>{if(e&&"reportValidity"in e){const l=De(r,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},pm=(e,a)=>{for(const r in a.fields){const l=a.fields[r];l&&l.ref&&"reportValidity"in l.ref?Dv(l.ref,r,e):l&&l.refs&&l.refs.forEach(o=>Dv(o,r,e))}},zv=(e,a)=>{a.shouldUseNativeValidation&&pm(e,a);const r={};for(const l in e){const o=De(a.fields,l),d=Object.assign(e[l]||{},{ref:o&&o.ref});if(pj(a.names||Object.keys(e),l)){const m=Object.assign({},De(r,l));Nt(m,"root",d),Nt(r,l,m)}else Nt(r,l,d)}return r},pj=(e,a)=>{const r=Mv(a);return e.some(l=>Mv(l).match(`^${r}\\.\\d+`))};function Mv(e){return e.replace(/\]|\[/g,"")}function fe(e,a,r){function l(h,y){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,y);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=y}const o=r?.Parent??Object;class d extends o{}Object.defineProperty(d,"name",{value:e});function m(h){var y;const p=r?.Parent?new d:this;l(p,h),(y=p._zod).deferred??(y.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class gl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $0 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const H0={};function Es(e){return H0}function gj(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,o])=>a.indexOf(+l)===-1).map(([l,o])=>o)}function gm(e,a){return typeof a=="bigint"?a.toString():a}function Qm(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Ym(e){return e==null}function Km(e){const a=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(a,r)}function yj(e,a){const r=(e.toString().split(".")[1]||"").length,l=a.toString();let o=(l.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(l)){const y=l.match(/\d?e-(\d?)/);y?.[1]&&(o=Number.parseInt(y[1]))}const d=r>o?r:o,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const kv=Symbol("evaluating");function kt(e,a,r){let l;Object.defineProperty(e,a,{get(){if(l!==kv)return l===void 0&&(l=kv,l=r()),l},set(o){Object.defineProperty(e,a,{value:o})},configurable:!0})}function Os(e,a,r){Object.defineProperty(e,a,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Cs(...e){const a={};for(const r of e){const l=Object.getOwnPropertyDescriptors(r);Object.assign(a,l)}return Object.defineProperties({},a)}function Uv(e){return JSON.stringify(e)}const V0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function kc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const vj=Qm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function qi(e){if(kc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const r=a.prototype;return!(kc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Z0(e){return qi(e)?{...e}:Array.isArray(e)?[...e]:e}const bj=new Set(["string","number","symbol"]);function Jc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gr(e,a,r){const l=new e._zod.constr(a??e._zod.def);return(!a||r?.parent)&&(l._zod.parent=e),l}function Ve(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function xj(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const Sj={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function _j(e,a){const r=e._zod.def,l=Cs(e._zod.def,{get shape(){const o={};for(const d in a){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(o[d]=r.shape[d])}return Os(this,"shape",o),o},checks:[]});return Gr(e,l)}function wj(e,a){const r=e._zod.def,l=Cs(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const d in a){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete o[d]}return Os(this,"shape",o),o},checks:[]});return Gr(e,l)}function Nj(e,a){if(!qi(a))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Cs(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Os(this,"shape",d),d},checks:[]});return Gr(e,o)}function Ej(e,a){if(!qi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Os(this,"shape",l),l},checks:e._zod.def.checks};return Gr(e,r)}function jj(e,a){const r=Cs(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Os(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Gr(e,r)}function Aj(e,a,r){const l=Cs(a._zod.def,{get shape(){const o=a._zod.def.shape,d={...o};if(r)for(const m in r){if(!(m in o))throw new Error(`Unrecognized key: "${m}"`);r[m]&&(d[m]=e?new e({type:"optional",innerType:o[m]}):o[m])}else for(const m in o)d[m]=e?new e({type:"optional",innerType:o[m]}):o[m];return Os(this,"shape",d),d},checks:[]});return Gr(a,l)}function Oj(e,a,r){const l=Cs(a._zod.def,{get shape(){const o=a._zod.def.shape,d={...o};if(r)for(const m in r){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);r[m]&&(d[m]=new e({type:"nonoptional",innerType:o[m]}))}else for(const m in o)d[m]=new e({type:"nonoptional",innerType:o[m]});return Os(this,"shape",d),d},checks:[]});return Gr(a,l)}function hl(e,a=0){if(e.aborted===!0)return!0;for(let r=a;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function G0(e,a){return a.map(r=>{var l;return(l=r).path??(l.path=[]),r.path.unshift(e),r})}function hc(e){return typeof e=="string"?e:e?.message}function js(e,a,r){const l={...e,path:e.path??[]};if(!e.message){const o=hc(e.inst?._zod.def?.error?.(e))??hc(a?.error?.(e))??hc(r.customError?.(e))??hc(r.localeError?.(e))??"Invalid input";l.message=o}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function Pm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Bi(...e){const[a,r,l]=e;return typeof a=="string"?{message:a,code:"custom",input:r,inst:l}:{...a}}const Q0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,gm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Xm=fe("$ZodError",Q0),Wc=fe("$ZodError",Q0,{Parent:Error});function Cj(e,a=r=>r.message){const r={},l=[];for(const o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(a(o))):l.push(a(o));return{formErrors:l,fieldErrors:r}}function Rj(e,a=r=>r.message){const r={_errors:[]},l=o=>{for(const d of o.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)r._errors.push(a(d));else{let m=r,h=0;for(;h<d.path.length;){const y=d.path[h];h===d.path.length-1?(m[y]=m[y]||{_errors:[]},m[y]._errors.push(a(d))):m[y]=m[y]||{_errors:[]},m=m[y],h++}}};return l(e),r}const eu=e=>(a,r,l,o)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:r,issues:[]},d);if(m instanceof Promise)throw new gl;if(m.issues.length){const h=new(o?.Err??e)(m.issues.map(y=>js(y,d,Es())));throw V0(h,o?.callee),h}return m.value},Tj=eu(Wc),tu=e=>async(a,r,l,o)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:r,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(o?.Err??e)(m.issues.map(y=>js(y,d,Es())));throw V0(h,o?.callee),h}return m.value},Dj=tu(Wc),nu=e=>(a,r,l)=>{const o=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:r,issues:[]},o);if(d instanceof Promise)throw new gl;return d.issues.length?{success:!1,error:new(e??Xm)(d.issues.map(m=>js(m,o,Es())))}:{success:!0,data:d.value}},zj=nu(Wc),au=e=>async(a,r,l)=>{const o=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:r,issues:[]},o);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>js(m,o,Es())))}:{success:!0,data:d.value}},Mj=au(Wc),kj=e=>(a,r,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return eu(e)(a,r,o)},Uj=e=>(a,r,l)=>eu(e)(a,r,l),Lj=e=>async(a,r,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return tu(e)(a,r,o)},qj=e=>async(a,r,l)=>tu(e)(a,r,l),Bj=e=>(a,r,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return nu(e)(a,r,o)},Ij=e=>(a,r,l)=>nu(e)(a,r,l),Fj=e=>async(a,r,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return au(e)(a,r,o)},$j=e=>async(a,r,l)=>au(e)(a,r,l),Hj=/^[cC][^\s-]{8,}$/,Vj=/^[0-9a-z]+$/,Zj=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Gj=/^[0-9a-vA-V]{20}$/,Qj=/^[A-Za-z0-9]{27}$/,Yj=/^[a-zA-Z0-9_-]{21}$/,Kj=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Pj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Lv=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Xj=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Jj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Wj(){return new RegExp(Jj,"u")}const eA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,nA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,aA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Y0=/^[A-Za-z0-9_-]*$/,sA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,lA=/^\+(?:[0-9]){6,14}[0-9]$/,K0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",iA=new RegExp(`^${K0}$`);function P0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function oA(e){return new RegExp(`^${P0(e)}$`)}function cA(e){const a=P0({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${r.join("|")})`;return new RegExp(`^${K0}T(?:${l})$`)}const uA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},dA=/^-?\d+$/,fA=/^-?\d+(?:\.\d+)?/,mA=/^[^A-Z]*$/,hA=/^[^a-z]*$/,ta=fe("$ZodCheck",(e,a)=>{var r;e._zod??(e._zod={}),e._zod.def=a,(r=e._zod).onattach??(r.onattach=[])}),X0={number:"number",bigint:"bigint",object:"date"},J0=fe("$ZodCheckLessThan",(e,a)=>{ta.init(e,a);const r=X0[typeof a.value];e._zod.onattach.push(l=>{const o=l._zod.bag,d=(a.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?o.maximum=a.value:o.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:r,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),W0=fe("$ZodCheckGreaterThan",(e,a)=>{ta.init(e,a);const r=X0[typeof a.value];e._zod.onattach.push(l=>{const o=l._zod.bag,d=(a.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?o.minimum=a.value:o.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:r,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),pA=fe("$ZodCheckMultipleOf",(e,a)=>{ta.init(e,a),e._zod.onattach.push(r=>{var l;(l=r._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=r=>{if(typeof r.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%a.value===BigInt(0):yj(r.value,a.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:a.value,input:r.value,inst:e,continue:!a.abort})}}),gA=fe("$ZodCheckNumberFormat",(e,a)=>{ta.init(e,a),a.format=a.format||"float64";const r=a.format?.includes("int"),l=r?"int":"number",[o,d]=Sj[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=o,h.maximum=d,r&&(h.pattern=dA)}),e._zod.check=m=>{const h=m.value;if(r){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<o&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),yA=fe("$ZodCheckMaxLength",(e,a)=>{var r;ta.init(e,a),(r=e._zod.def).when??(r.when=l=>{const o=l.value;return!Ym(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<o&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const o=l.value;if(o.length<=a.maximum)return;const m=Pm(o);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:o,inst:e,continue:!a.abort})}}),vA=fe("$ZodCheckMinLength",(e,a)=>{var r;ta.init(e,a),(r=e._zod.def).when??(r.when=l=>{const o=l.value;return!Ym(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>o&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const o=l.value;if(o.length>=a.minimum)return;const m=Pm(o);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:o,inst:e,continue:!a.abort})}}),bA=fe("$ZodCheckLengthEquals",(e,a)=>{var r;ta.init(e,a),(r=e._zod.def).when??(r.when=l=>{const o=l.value;return!Ym(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag;o.minimum=a.length,o.maximum=a.length,o.length=a.length}),e._zod.check=l=>{const o=l.value,d=o.length;if(d===a.length)return;const m=Pm(o),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),ru=fe("$ZodCheckStringFormat",(e,a)=>{var r,l;ta.init(e,a),e._zod.onattach.push(o=>{const d=o._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(r=e._zod).check??(r.check=o=>{a.pattern.lastIndex=0,!a.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:a.format,input:o.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),xA=fe("$ZodCheckRegex",(e,a)=>{ru.init(e,a),e._zod.check=r=>{a.pattern.lastIndex=0,!a.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),SA=fe("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=mA),ru.init(e,a)}),_A=fe("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=hA),ru.init(e,a)}),wA=fe("$ZodCheckIncludes",(e,a)=>{ta.init(e,a);const r=Jc(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${r}`:r);a.pattern=l,e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=o=>{o.value.includes(a.includes,a.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:o.value,inst:e,continue:!a.abort})}}),NA=fe("$ZodCheckStartsWith",(e,a)=>{ta.init(e,a);const r=new RegExp(`^${Jc(a.prefix)}.*`);a.pattern??(a.pattern=r),e._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),EA=fe("$ZodCheckEndsWith",(e,a)=>{ta.init(e,a);const r=new RegExp(`.*${Jc(a.suffix)}$`);a.pattern??(a.pattern=r),e._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),jA=fe("$ZodCheckOverwrite",(e,a)=>{ta.init(e,a),e._zod.check=r=>{r.value=a.tx(r.value)}});class AA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),o=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(o)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,r=this?.args,o=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...r,o.join(`
`))}}const OA={major:4,minor:1,patch:12},un=fe("$ZodType",(e,a)=>{var r;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=OA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const o of l)for(const d of o._zod.onattach)d(e);if(l.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(m,h,y)=>{let p=hl(m),v;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(m))continue}else if(p)continue;const _=m.issues.length,L=x._zod.check(m);if(L instanceof Promise&&y?.async===!1)throw new gl;if(v||L instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await L,m.issues.length!==_&&(p||(p=hl(m,_)))});else{if(m.issues.length===_)continue;p||(p=hl(m,_))}}return v?v.then(()=>m):m},d=(m,h,y)=>{if(hl(m))return m.aborted=!0,m;const p=o(h,l,y);if(p instanceof Promise){if(y.async===!1)throw new gl;return p.then(v=>e._zod.parse(v,y))}return e._zod.parse(p,y)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const y=e._zod.parse(m,h);if(y instanceof Promise){if(h.async===!1)throw new gl;return y.then(p=>o(p,l,h))}return o(y,l,h)}}e["~standard"]={validate:o=>{try{const d=zj(e,o);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return Mj(e,o).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Jm=fe("$ZodString",(e,a)=>{un.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??uA(e._zod.bag),e._zod.parse=(r,l)=>{if(a.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Vt=fe("$ZodStringFormat",(e,a)=>{ru.init(e,a),Jm.init(e,a)}),CA=fe("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=Pj),Vt.init(e,a)}),RA=fe("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Lv(l))}else a.pattern??(a.pattern=Lv());Vt.init(e,a)}),TA=fe("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=Xj),Vt.init(e,a)}),DA=fe("$ZodURL",(e,a)=>{Vt.init(e,a),e._zod.check=r=>{try{const l=r.value.trim(),o=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:sA.source,input:r.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:r.value,inst:e,continue:!a.abort})),a.normalize?r.value=o.href:r.value=l;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!a.abort})}}}),zA=fe("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=Wj()),Vt.init(e,a)}),MA=fe("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=Yj),Vt.init(e,a)}),kA=fe("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=Hj),Vt.init(e,a)}),UA=fe("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=Vj),Vt.init(e,a)}),LA=fe("$ZodULID",(e,a)=>{a.pattern??(a.pattern=Zj),Vt.init(e,a)}),qA=fe("$ZodXID",(e,a)=>{a.pattern??(a.pattern=Gj),Vt.init(e,a)}),BA=fe("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=Qj),Vt.init(e,a)}),IA=fe("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=cA(a)),Vt.init(e,a)}),FA=fe("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=iA),Vt.init(e,a)}),$A=fe("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=oA(a)),Vt.init(e,a)}),HA=fe("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=Kj),Vt.init(e,a)}),VA=fe("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=eA),Vt.init(e,a),e._zod.onattach.push(r=>{const l=r._zod.bag;l.format="ipv4"})}),ZA=fe("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=tA),Vt.init(e,a),e._zod.onattach.push(r=>{const l=r._zod.bag;l.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!a.abort})}}}),GA=fe("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=nA),Vt.init(e,a)}),QA=fe("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=aA),Vt.init(e,a),e._zod.check=r=>{const l=r.value.split("/");try{if(l.length!==2)throw new Error;const[o,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!a.abort})}}});function ex(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const YA=fe("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=rA),Vt.init(e,a),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{ex(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!a.abort})}});function KA(e){if(!Y0.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),r=a.padEnd(Math.ceil(a.length/4)*4,"=");return ex(r)}const PA=fe("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=Y0),Vt.init(e,a),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{KA(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!a.abort})}}),XA=fe("$ZodE164",(e,a)=>{a.pattern??(a.pattern=lA),Vt.init(e,a)});function JA(e,a=null){try{const r=e.split(".");if(r.length!==3)return!1;const[l]=r;if(!l)return!1;const o=JSON.parse(atob(l));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||a&&(!("alg"in o)||o.alg!==a))}catch{return!1}}const WA=fe("$ZodJWT",(e,a)=>{Vt.init(e,a),e._zod.check=r=>{JA(r.value,a.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!a.abort})}}),tx=fe("$ZodNumber",(e,a)=>{un.init(e,a),e._zod.pattern=e._zod.bag.pattern??fA,e._zod.parse=(r,l)=>{if(a.coerce)try{r.value=Number(r.value)}catch{}const o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;const d=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...d?{received:d}:{}}),r}}),eO=fe("$ZodNumber",(e,a)=>{gA.init(e,a),tx.init(e,a)}),tO=fe("$ZodUnknown",(e,a)=>{un.init(e,a),e._zod.parse=r=>r}),nO=fe("$ZodNever",(e,a)=>{un.init(e,a),e._zod.parse=(r,l)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function qv(e,a,r){e.issues.length&&a.issues.push(...G0(r,e.issues)),a.value[r]=e.value}const aO=fe("$ZodArray",(e,a)=>{un.init(e,a),e._zod.parse=(r,l)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);const d=[];for(let m=0;m<o.length;m++){const h=o[m],y=a.element._zod.run({value:h,issues:[]},l);y instanceof Promise?d.push(y.then(p=>qv(p,r,m))):qv(y,r,m)}return d.length?Promise.all(d).then(()=>r):r}});function Uc(e,a,r,l){e.issues.length&&a.issues.push(...G0(r,e.issues)),e.value===void 0?r in l&&(a.value[r]=void 0):a.value[r]=e.value}function nx(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const r=xj(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(r)}}function ax(e,a,r,l,o,d){const m=[],h=o.keySet,y=o.catchall._zod,p=y.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const x=y.run({value:a[v],issues:[]},l);x instanceof Promise?e.push(x.then(_=>Uc(_,r,v,a))):Uc(x,r,v,a)}return m.length&&r.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>r):r}const rO=fe("$ZodObject",(e,a)=>{if(un.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const y={...h};return Object.defineProperty(a,"shape",{value:y}),y}})}const l=Qm(()=>nx(a));kt(e._zod,"propValues",()=>{const h=a.shape,y={};for(const p in h){const v=h[p]._zod;if(v.values){y[p]??(y[p]=new Set);for(const x of v.values)y[p].add(x)}}return y});const o=kc,d=a.catchall;let m;e._zod.parse=(h,y)=>{m??(m=l.value);const p=h.value;if(!o(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],x=m.shape;for(const _ of m.keys){const E=x[_]._zod.run({value:p[_],issues:[]},y);E instanceof Promise?v.push(E.then(A=>Uc(A,h,_,p))):Uc(E,h,_,p)}return d?ax(v,p,h,y,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),sO=fe("$ZodObjectJIT",(e,a)=>{rO.init(e,a);const r=e._zod.parse,l=Qm(()=>nx(a)),o=_=>{const L=new AA(["shape","payload","ctx"]),E=l.value,A=ee=>{const C=Uv(ee);return`shape[${C}]._zod.run({ value: input[${C}], issues: [] }, ctx)`};L.write("const input = payload.value;");const w=Object.create(null);let U=0;for(const ee of E.keys)w[ee]=`key_${U++}`;L.write("const newResult = {};");for(const ee of E.keys){const C=w[ee],O=Uv(ee);L.write(`const ${C} = ${A(ee)};`),L.write(`
        if (${C}.issues.length) {
          payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${C}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${C}.value;
        }
        
      `)}L.write("payload.value = newResult;"),L.write("return payload;");const D=L.compile();return(ee,C)=>D(_,ee,C)};let d;const m=kc,h=!H0.jitless,p=h&&vj.value,v=a.catchall;let x;e._zod.parse=(_,L)=>{x??(x=l.value);const E=_.value;return m(E)?h&&p&&L?.async===!1&&L.jitless!==!0?(d||(d=o(a.shape)),_=d(_,L),v?ax([],E,_,L,x,e):_):r(_,L):(_.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),_)}});function Bv(e,a,r,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const o=e.filter(d=>!hl(d));return o.length===1?(a.value=o[0].value,o[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:r,errors:e.map(d=>d.issues.map(m=>js(m,l,Es())))}),a)}const lO=fe("$ZodUnion",(e,a)=>{un.init(e,a),kt(e._zod,"optin",()=>a.options.some(o=>o._zod.optin==="optional")?"optional":void 0),kt(e._zod,"optout",()=>a.options.some(o=>o._zod.optout==="optional")?"optional":void 0),kt(e._zod,"values",()=>{if(a.options.every(o=>o._zod.values))return new Set(a.options.flatMap(o=>Array.from(o._zod.values)))}),kt(e._zod,"pattern",()=>{if(a.options.every(o=>o._zod.pattern)){const o=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${o.map(d=>Km(d.source)).join("|")})$`)}});const r=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(o,d)=>{if(r)return l(o,d);let m=!1;const h=[];for(const y of a.options){const p=y._zod.run({value:o.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(y=>Bv(y,o,e,d)):Bv(h,o,e,d)}}),iO=fe("$ZodIntersection",(e,a)=>{un.init(e,a),e._zod.parse=(r,l)=>{const o=r.value,d=a.left._zod.run({value:o,issues:[]},l),m=a.right._zod.run({value:o,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([y,p])=>Iv(r,y,p)):Iv(r,d,m)}});function ym(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(qi(e)&&qi(a)){const r=Object.keys(a),l=Object.keys(e).filter(d=>r.indexOf(d)!==-1),o={...e,...a};for(const d of l){const m=ym(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};o[d]=m.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let l=0;l<e.length;l++){const o=e[l],d=a[l],m=ym(o,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};r.push(m.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Iv(e,a,r){if(a.issues.length&&e.issues.push(...a.issues),r.issues.length&&e.issues.push(...r.issues),hl(e))return e;const l=ym(a.value,r.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const oO=fe("$ZodEnum",(e,a)=>{un.init(e,a);const r=gj(a.entries),l=new Set(r);e._zod.values=l,e._zod.pattern=new RegExp(`^(${r.filter(o=>bj.has(typeof o)).map(o=>typeof o=="string"?Jc(o):o.toString()).join("|")})$`),e._zod.parse=(o,d)=>{const m=o.value;return l.has(m)||o.issues.push({code:"invalid_value",values:r,input:m,inst:e}),o}}),cO=fe("$ZodTransform",(e,a)=>{un.init(e,a),e._zod.parse=(r,l)=>{if(l.direction==="backward")throw new $0(e.constructor.name);const o=a.transform(r.value,r);if(l.async)return(o instanceof Promise?o:Promise.resolve(o)).then(m=>(r.value=m,r));if(o instanceof Promise)throw new gl;return r.value=o,r}});function Fv(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const uO=fe("$ZodOptional",(e,a)=>{un.init(e,a),e._zod.optin="optional",e._zod.optout="optional",kt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),kt(e._zod,"pattern",()=>{const r=a.innerType._zod.pattern;return r?new RegExp(`^(${Km(r.source)})?$`):void 0}),e._zod.parse=(r,l)=>{if(a.innerType._zod.optin==="optional"){const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>Fv(d,r.value)):Fv(o,r.value)}return r.value===void 0?r:a.innerType._zod.run(r,l)}}),dO=fe("$ZodNullable",(e,a)=>{un.init(e,a),kt(e._zod,"optin",()=>a.innerType._zod.optin),kt(e._zod,"optout",()=>a.innerType._zod.optout),kt(e._zod,"pattern",()=>{const r=a.innerType._zod.pattern;return r?new RegExp(`^(${Km(r.source)}|null)$`):void 0}),kt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(r,l)=>r.value===null?r:a.innerType._zod.run(r,l)}),fO=fe("$ZodDefault",(e,a)=>{un.init(e,a),e._zod.optin="optional",kt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(r,l)=>{if(l.direction==="backward")return a.innerType._zod.run(r,l);if(r.value===void 0)return r.value=a.defaultValue,r;const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>$v(d,a)):$v(o,a)}});function $v(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const mO=fe("$ZodPrefault",(e,a)=>{un.init(e,a),e._zod.optin="optional",kt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(r,l)=>(l.direction==="backward"||r.value===void 0&&(r.value=a.defaultValue),a.innerType._zod.run(r,l))}),hO=fe("$ZodNonOptional",(e,a)=>{un.init(e,a),kt(e._zod,"values",()=>{const r=a.innerType._zod.values;return r?new Set([...r].filter(l=>l!==void 0)):void 0}),e._zod.parse=(r,l)=>{const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>Hv(d,e)):Hv(o,e)}});function Hv(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const pO=fe("$ZodCatch",(e,a)=>{un.init(e,a),kt(e._zod,"optin",()=>a.innerType._zod.optin),kt(e._zod,"optout",()=>a.innerType._zod.optout),kt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(r,l)=>{if(l.direction==="backward")return a.innerType._zod.run(r,l);const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>(r.value=d.value,d.issues.length&&(r.value=a.catchValue({...r,error:{issues:d.issues.map(m=>js(m,l,Es()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=a.catchValue({...r,error:{issues:o.issues.map(d=>js(d,l,Es()))},input:r.value}),r.issues=[]),r)}}),gO=fe("$ZodPipe",(e,a)=>{un.init(e,a),kt(e._zod,"values",()=>a.in._zod.values),kt(e._zod,"optin",()=>a.in._zod.optin),kt(e._zod,"optout",()=>a.out._zod.optout),kt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(r,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(r,l);return d instanceof Promise?d.then(m=>pc(m,a.in,l)):pc(d,a.in,l)}const o=a.in._zod.run(r,l);return o instanceof Promise?o.then(d=>pc(d,a.out,l)):pc(o,a.out,l)}});function pc(e,a,r){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},r)}const yO=fe("$ZodReadonly",(e,a)=>{un.init(e,a),kt(e._zod,"propValues",()=>a.innerType._zod.propValues),kt(e._zod,"values",()=>a.innerType._zod.values),kt(e._zod,"optin",()=>a.innerType._zod.optin),kt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(r,l)=>{if(l.direction==="backward")return a.innerType._zod.run(r,l);const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(Vv):Vv(o)}});function Vv(e){return e.value=Object.freeze(e.value),e}const vO=fe("$ZodCustom",(e,a)=>{ta.init(e,a),un.init(e,a),e._zod.parse=(r,l)=>r,e._zod.check=r=>{const l=r.value,o=a.fn(l);if(o instanceof Promise)return o.then(d=>Zv(d,r,l,e));Zv(o,r,l,e)}});function Zv(e,a,r,l){if(!e){const o={code:"custom",input:r,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(o.params=l._zod.def.params),a.issues.push(Bi(o))}}class bO{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...r){const l=r[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const r=this._map.get(a);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(a),this}get(a){const r=a._zod.parent;if(r){const l={...this.get(r)??{}};delete l.id;const o={...l,...this._map.get(a)};return Object.keys(o).length?o:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function xO(){return new bO}const gc=xO();function SO(e,a){return new e({type:"string",...Ve(a)})}function _O(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ve(a)})}function Gv(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(a)})}function wO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(a)})}function NO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(a)})}function EO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(a)})}function jO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(a)})}function AO(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ve(a)})}function OO(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(a)})}function CO(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(a)})}function RO(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(a)})}function TO(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(a)})}function DO(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(a)})}function zO(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(a)})}function MO(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(a)})}function kO(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(a)})}function UO(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(a)})}function LO(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(a)})}function qO(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(a)})}function BO(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(a)})}function IO(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(a)})}function FO(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(a)})}function $O(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(a)})}function HO(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(a)})}function VO(e,a){return new e({type:"string",format:"date",check:"string_format",...Ve(a)})}function ZO(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ve(a)})}function GO(e,a){return new e({type:"string",format:"duration",check:"string_format",...Ve(a)})}function QO(e,a){return new e({type:"number",checks:[],...Ve(a)})}function YO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ve(a)})}function KO(e){return new e({type:"unknown"})}function PO(e,a){return new e({type:"never",...Ve(a)})}function Qv(e,a){return new J0({check:"less_than",...Ve(a),value:e,inclusive:!1})}function Mf(e,a){return new J0({check:"less_than",...Ve(a),value:e,inclusive:!0})}function Yv(e,a){return new W0({check:"greater_than",...Ve(a),value:e,inclusive:!1})}function kf(e,a){return new W0({check:"greater_than",...Ve(a),value:e,inclusive:!0})}function Kv(e,a){return new pA({check:"multiple_of",...Ve(a),value:e})}function rx(e,a){return new yA({check:"max_length",...Ve(a),maximum:e})}function Lc(e,a){return new vA({check:"min_length",...Ve(a),minimum:e})}function sx(e,a){return new bA({check:"length_equals",...Ve(a),length:e})}function XO(e,a){return new xA({check:"string_format",format:"regex",...Ve(a),pattern:e})}function JO(e){return new SA({check:"string_format",format:"lowercase",...Ve(e)})}function WO(e){return new _A({check:"string_format",format:"uppercase",...Ve(e)})}function eC(e,a){return new wA({check:"string_format",format:"includes",...Ve(a),includes:e})}function tC(e,a){return new NA({check:"string_format",format:"starts_with",...Ve(a),prefix:e})}function nC(e,a){return new EA({check:"string_format",format:"ends_with",...Ve(a),suffix:e})}function Pi(e){return new jA({check:"overwrite",tx:e})}function aC(e){return Pi(a=>a.normalize(e))}function rC(){return Pi(e=>e.trim())}function sC(){return Pi(e=>e.toLowerCase())}function lC(){return Pi(e=>e.toUpperCase())}function iC(e,a,r){return new e({type:"array",element:a,...Ve(r)})}function oC(e,a,r){return new e({type:"custom",check:"custom",fn:a,...Ve(r)})}function cC(e){const a=uC(r=>(r.addIssue=l=>{if(typeof l=="string")r.issues.push(Bi(l,r.value,a._zod.def));else{const o=l;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=a),o.continue??(o.continue=!a._zod.def.abort),r.issues.push(Bi(o))}},e(r.value,r)));return a}function uC(e,a){const r=new ta({check:"custom",...Ve(a)});return r._zod.check=e,r}function Pv(e,a){try{var r=e()}catch(l){return a(l)}return r&&r.then?r.then(void 0,a):r}function dC(e,a){for(var r={};e.length;){var l=e[0],o=l.code,d=l.message,m=l.path.join(".");if(!r[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];r[m]={message:h.message,type:h.code}}else r[m]={message:d,type:o};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),a){var y=r[m].types,p=y&&y[l.code];r[m]=Lm(m,a,r,o,p?[].concat(p,l.message):l.message)}e.shift()}return r}function fC(e,a){for(var r={};e.length;){var l=e[0],o=l.code,d=l.message,m=l.path.join(".");if(!r[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];r[m]={message:h.message,type:h.code}}else r[m]={message:d,type:o};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(x){return e.push(x)})}),a){var y=r[m].types,p=y&&y[l.code];r[m]=Lm(m,a,r,o,p?[].concat(p,l.message):l.message)}e.shift()}return r}function mC(e,a,r){if(r===void 0&&(r={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,o,d){try{return Promise.resolve(Pv(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&pm({},d),{errors:{},values:r.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:zv(dC(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,o,d){try{return Promise.resolve(Pv(function(){return Promise.resolve((r.mode==="sync"?Tj:Dj)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&pm({},d),{errors:{},values:r.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof Xm})(m))return{values:{},errors:zv(fC(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const hC=fe("ZodISODateTime",(e,a)=>{IA.init(e,a),Zt.init(e,a)});function pC(e){return HO(hC,e)}const gC=fe("ZodISODate",(e,a)=>{FA.init(e,a),Zt.init(e,a)});function yC(e){return VO(gC,e)}const vC=fe("ZodISOTime",(e,a)=>{$A.init(e,a),Zt.init(e,a)});function bC(e){return ZO(vC,e)}const xC=fe("ZodISODuration",(e,a)=>{HA.init(e,a),Zt.init(e,a)});function SC(e){return GO(xC,e)}const _C=(e,a)=>{Xm.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Rj(e,r)},flatten:{value:r=>Cj(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,gm,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,gm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ea=fe("ZodError",_C,{Parent:Error}),wC=eu(Ea),NC=tu(Ea),EC=nu(Ea),jC=au(Ea),AC=kj(Ea),OC=Uj(Ea),CC=Lj(Ea),RC=qj(Ea),TC=Bj(Ea),DC=Ij(Ea),zC=Fj(Ea),MC=$j(Ea),pn=fe("ZodType",(e,a)=>(un.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...r)=>e.clone(Cs(a,{checks:[...a.checks??[],...r.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(r,l)=>Gr(e,r,l),e.brand=()=>e,e.register=((r,l)=>(r.add(e,l),e)),e.parse=(r,l)=>wC(e,r,l,{callee:e.parse}),e.safeParse=(r,l)=>EC(e,r,l),e.parseAsync=async(r,l)=>NC(e,r,l,{callee:e.parseAsync}),e.safeParseAsync=async(r,l)=>jC(e,r,l),e.spa=e.safeParseAsync,e.encode=(r,l)=>AC(e,r,l),e.decode=(r,l)=>OC(e,r,l),e.encodeAsync=async(r,l)=>CC(e,r,l),e.decodeAsync=async(r,l)=>RC(e,r,l),e.safeEncode=(r,l)=>TC(e,r,l),e.safeDecode=(r,l)=>DC(e,r,l),e.safeEncodeAsync=async(r,l)=>zC(e,r,l),e.safeDecodeAsync=async(r,l)=>MC(e,r,l),e.refine=(r,l)=>e.check(wR(r,l)),e.superRefine=r=>e.check(NR(r)),e.overwrite=r=>e.check(Pi(r)),e.optional=()=>eb(e),e.nullable=()=>tb(e),e.nullish=()=>eb(tb(e)),e.nonoptional=r=>gR(e,r),e.array=()=>ox(e),e.or=r=>lR([e,r]),e.and=r=>oR(e,r),e.transform=r=>nb(e,uR(r)),e.default=r=>mR(e,r),e.prefault=r=>pR(e,r),e.catch=r=>vR(e,r),e.pipe=r=>nb(e,r),e.readonly=()=>SR(e),e.describe=r=>{const l=e.clone();return gc.add(l,{description:r}),l},Object.defineProperty(e,"description",{get(){return gc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return gc.get(e);const l=e.clone();return gc.add(l,r[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),lx=fe("_ZodString",(e,a)=>{Jm.init(e,a),pn.init(e,a);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...l)=>e.check(XO(...l)),e.includes=(...l)=>e.check(eC(...l)),e.startsWith=(...l)=>e.check(tC(...l)),e.endsWith=(...l)=>e.check(nC(...l)),e.min=(...l)=>e.check(Lc(...l)),e.max=(...l)=>e.check(rx(...l)),e.length=(...l)=>e.check(sx(...l)),e.nonempty=(...l)=>e.check(Lc(1,...l)),e.lowercase=l=>e.check(JO(l)),e.uppercase=l=>e.check(WO(l)),e.trim=()=>e.check(rC()),e.normalize=(...l)=>e.check(aC(...l)),e.toLowerCase=()=>e.check(sC()),e.toUpperCase=()=>e.check(lC())}),kC=fe("ZodString",(e,a)=>{Jm.init(e,a),lx.init(e,a),e.email=r=>e.check(_O(UC,r)),e.url=r=>e.check(AO(LC,r)),e.jwt=r=>e.check($O(JC,r)),e.emoji=r=>e.check(OO(qC,r)),e.guid=r=>e.check(Gv(Xv,r)),e.uuid=r=>e.check(wO(yc,r)),e.uuidv4=r=>e.check(NO(yc,r)),e.uuidv6=r=>e.check(EO(yc,r)),e.uuidv7=r=>e.check(jO(yc,r)),e.nanoid=r=>e.check(CO(BC,r)),e.guid=r=>e.check(Gv(Xv,r)),e.cuid=r=>e.check(RO(IC,r)),e.cuid2=r=>e.check(TO(FC,r)),e.ulid=r=>e.check(DO($C,r)),e.base64=r=>e.check(BO(KC,r)),e.base64url=r=>e.check(IO(PC,r)),e.xid=r=>e.check(zO(HC,r)),e.ksuid=r=>e.check(MO(VC,r)),e.ipv4=r=>e.check(kO(ZC,r)),e.ipv6=r=>e.check(UO(GC,r)),e.cidrv4=r=>e.check(LO(QC,r)),e.cidrv6=r=>e.check(qO(YC,r)),e.e164=r=>e.check(FO(XC,r)),e.datetime=r=>e.check(pC(r)),e.date=r=>e.check(yC(r)),e.time=r=>e.check(bC(r)),e.duration=r=>e.check(SC(r))});function qc(e){return SO(kC,e)}const Zt=fe("ZodStringFormat",(e,a)=>{Vt.init(e,a),lx.init(e,a)}),UC=fe("ZodEmail",(e,a)=>{TA.init(e,a),Zt.init(e,a)}),Xv=fe("ZodGUID",(e,a)=>{CA.init(e,a),Zt.init(e,a)}),yc=fe("ZodUUID",(e,a)=>{RA.init(e,a),Zt.init(e,a)}),LC=fe("ZodURL",(e,a)=>{DA.init(e,a),Zt.init(e,a)}),qC=fe("ZodEmoji",(e,a)=>{zA.init(e,a),Zt.init(e,a)}),BC=fe("ZodNanoID",(e,a)=>{MA.init(e,a),Zt.init(e,a)}),IC=fe("ZodCUID",(e,a)=>{kA.init(e,a),Zt.init(e,a)}),FC=fe("ZodCUID2",(e,a)=>{UA.init(e,a),Zt.init(e,a)}),$C=fe("ZodULID",(e,a)=>{LA.init(e,a),Zt.init(e,a)}),HC=fe("ZodXID",(e,a)=>{qA.init(e,a),Zt.init(e,a)}),VC=fe("ZodKSUID",(e,a)=>{BA.init(e,a),Zt.init(e,a)}),ZC=fe("ZodIPv4",(e,a)=>{VA.init(e,a),Zt.init(e,a)}),GC=fe("ZodIPv6",(e,a)=>{ZA.init(e,a),Zt.init(e,a)}),QC=fe("ZodCIDRv4",(e,a)=>{GA.init(e,a),Zt.init(e,a)}),YC=fe("ZodCIDRv6",(e,a)=>{QA.init(e,a),Zt.init(e,a)}),KC=fe("ZodBase64",(e,a)=>{YA.init(e,a),Zt.init(e,a)}),PC=fe("ZodBase64URL",(e,a)=>{PA.init(e,a),Zt.init(e,a)}),XC=fe("ZodE164",(e,a)=>{XA.init(e,a),Zt.init(e,a)}),JC=fe("ZodJWT",(e,a)=>{WA.init(e,a),Zt.init(e,a)}),ix=fe("ZodNumber",(e,a)=>{tx.init(e,a),pn.init(e,a),e.gt=(l,o)=>e.check(Yv(l,o)),e.gte=(l,o)=>e.check(kf(l,o)),e.min=(l,o)=>e.check(kf(l,o)),e.lt=(l,o)=>e.check(Qv(l,o)),e.lte=(l,o)=>e.check(Mf(l,o)),e.max=(l,o)=>e.check(Mf(l,o)),e.int=l=>e.check(Jv(l)),e.safe=l=>e.check(Jv(l)),e.positive=l=>e.check(Yv(0,l)),e.nonnegative=l=>e.check(kf(0,l)),e.negative=l=>e.check(Qv(0,l)),e.nonpositive=l=>e.check(Mf(0,l)),e.multipleOf=(l,o)=>e.check(Kv(l,o)),e.step=(l,o)=>e.check(Kv(l,o)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function qn(e){return QO(ix,e)}const WC=fe("ZodNumberFormat",(e,a)=>{eO.init(e,a),ix.init(e,a)});function Jv(e){return YO(WC,e)}const eR=fe("ZodUnknown",(e,a)=>{tO.init(e,a),pn.init(e,a)});function Wv(){return KO(eR)}const tR=fe("ZodNever",(e,a)=>{nO.init(e,a),pn.init(e,a)});function nR(e){return PO(tR,e)}const aR=fe("ZodArray",(e,a)=>{aO.init(e,a),pn.init(e,a),e.element=a.element,e.min=(r,l)=>e.check(Lc(r,l)),e.nonempty=r=>e.check(Lc(1,r)),e.max=(r,l)=>e.check(rx(r,l)),e.length=(r,l)=>e.check(sx(r,l)),e.unwrap=()=>e.element});function ox(e,a){return iC(aR,e,a)}const rR=fe("ZodObject",(e,a)=>{sO.init(e,a),pn.init(e,a),kt(e,"shape",()=>a.shape),e.keyof=()=>cx(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Wv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Wv()}),e.strict=()=>e.clone({...e._zod.def,catchall:nR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Nj(e,r),e.safeExtend=r=>Ej(e,r),e.merge=r=>jj(e,r),e.pick=r=>_j(e,r),e.omit=r=>wj(e,r),e.partial=(...r)=>Aj(ux,e,r[0]),e.required=(...r)=>Oj(dx,e,r[0])});function su(e,a){const r={type:"object",shape:e??{},...Ve(a)};return new rR(r)}const sR=fe("ZodUnion",(e,a)=>{lO.init(e,a),pn.init(e,a),e.options=a.options});function lR(e,a){return new sR({type:"union",options:e,...Ve(a)})}const iR=fe("ZodIntersection",(e,a)=>{iO.init(e,a),pn.init(e,a)});function oR(e,a){return new iR({type:"intersection",left:e,right:a})}const vm=fe("ZodEnum",(e,a)=>{oO.init(e,a),pn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const r=new Set(Object.keys(a.entries));e.extract=(l,o)=>{const d={};for(const m of l)if(r.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new vm({...a,checks:[],...Ve(o),entries:d})},e.exclude=(l,o)=>{const d={...a.entries};for(const m of l)if(r.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new vm({...a,checks:[],...Ve(o),entries:d})}});function cx(e,a){const r=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new vm({type:"enum",entries:r,...Ve(a)})}const cR=fe("ZodTransform",(e,a)=>{cO.init(e,a),pn.init(e,a),e._zod.parse=(r,l)=>{if(l.direction==="backward")throw new $0(e.constructor.name);r.addIssue=d=>{if(typeof d=="string")r.issues.push(Bi(d,r.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=r.value),m.inst??(m.inst=e),r.issues.push(Bi(m))}};const o=a.transform(r.value,r);return o instanceof Promise?o.then(d=>(r.value=d,r)):(r.value=o,r)}});function uR(e){return new cR({type:"transform",transform:e})}const ux=fe("ZodOptional",(e,a)=>{uO.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function eb(e){return new ux({type:"optional",innerType:e})}const dR=fe("ZodNullable",(e,a)=>{dO.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function tb(e){return new dR({type:"nullable",innerType:e})}const fR=fe("ZodDefault",(e,a)=>{fO.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function mR(e,a){return new fR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():Z0(a)}})}const hR=fe("ZodPrefault",(e,a)=>{mO.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function pR(e,a){return new hR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():Z0(a)}})}const dx=fe("ZodNonOptional",(e,a)=>{hO.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function gR(e,a){return new dx({type:"nonoptional",innerType:e,...Ve(a)})}const yR=fe("ZodCatch",(e,a)=>{pO.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function vR(e,a){return new yR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const bR=fe("ZodPipe",(e,a)=>{gO.init(e,a),pn.init(e,a),e.in=a.in,e.out=a.out});function nb(e,a){return new bR({type:"pipe",in:e,out:a})}const xR=fe("ZodReadonly",(e,a)=>{yO.init(e,a),pn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function SR(e){return new xR({type:"readonly",innerType:e})}const _R=fe("ZodCustom",(e,a)=>{vO.init(e,a),pn.init(e,a)});function wR(e,a={}){return oC(_R,e,a)}function NR(e){return cC(e)}const ER=["correlativo","no correlativo"],jR=su({oi:qc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:qn(),alcance:qn(),pma:qn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:cx(ER).default("correlativo")}),Uf=su({c1:qn().optional().nullable(),c2:qn().optional().nullable(),c3:qn().optional().nullable(),c4:qn().optional().nullable(),c5:qn().optional().nullable(),c6:qn().optional().nullable(),c7:qc().optional().nullable(),c7_seconds:qn().optional().nullable(),caudal:qn().optional().nullable(),error:qn().optional().nullable()}),AR=su({medidor:qc().optional(),estado:qn().int().min(0).max(5).default(0),q3:Uf.optional(),q2:Uf.optional(),q1:Uf.optional(),conformidad:qc().optional()});su({estado:qn().int().min(0).optional(),rows:qn().int().min(1).default(15),rowsData:ox(AR)});function OR(e){return e===16?25.6:e===10?16:NaN}const CR=/^[A-Za-z0-9]{10}$/,RR=e=>(e??"").trim().toUpperCase(),Pt=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},ul=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],bm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},ab=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}bm(a)}},Sn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),r=Number(a);return Number.isNaN(r)?null:r};function TR(e,a){if(!e)return"";const r=e.match(/^(.*?)(\d+)$/);if(!r)return e;const l=r[1],o=r[2],d=parseInt(o,10)+a;return`${l}${d.toString().padStart(o.length,"0")}`}function rb(e,a,r){return e?r==="no correlativo"?e.slice(0,4):TR(e,a):""}function Lf(e){if(!e)return 0;const a=String(e).trim(),r=a.split(/[:,\.]/).map(o=>parseFloat(o)).filter(o=>!isNaN(o));let l=0;if(r.length>=3){const o=r[0]||0,d=r[1]||0,m=r[2]||0;l=o*60+d+m/1e3}else if(r.length===2)l=r[0]*60+(r[1]||0);else if(r.length===1)l=r[0];else{const o=parseFloat(a.replace(",","."));if(!isNaN(o)){const d=Math.floor(o),m=(o-d)*100;l=d*60+m}}return l}function qf(e,a){if(!e||!a)return null;const r=a>0?a/3600:0;return r===0?null:e/r}function Bf(e,a,r){return e===void 0||a===void 0||!r?null:(Number(a)-Number(e)-Number(r))/Number(r)*100}function DR(e,a,r,l){if(e&&e>=1)return"NO CONFORME";if(a==null||r==null||l==null)return"";const o=Math.abs(a),d=Math.abs(r),m=Math.abs(l),h=!(o>2.05||d>2.05||m>5.05),y=o<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(r),x=Math.sign(l),_=p>=0&&v>=0&&x>=0||p<=0&&v<=0&&x<=0,L=h&&y;return _?L?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const dl=({val:e,isErr:a,warnThreshold:r,failThreshold:l})=>{const o=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return c.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?c.jsx("span",{className:"text-muted",children:"-"}):c.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=r??l??0,h=l??r??0;let y="vi-e-ok";return e==null||isNaN(e)?y="":h>0&&d>h?y="vi-e-error":m>0&&d>m&&(y="vi-e-warn"),c.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?c.jsx("span",{className:"text-muted",children:"-"}):c.jsx("span",{className:`vi-qe-value fw-bold ${y}`,children:o(e)})})};function zR({show:e,title:a,initial:r,onClose:l,onSubmit:o,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:y,readOnly:p,draftStorageKey:v,draftMeta:x,isOnline:_,showRetry:L}){const E={estado:r?.estado??0,rows:r?.rows??15,version:r?.version??null,draftCreatedAt:r?.draftCreatedAt??null,draftId:r?.draftId??null,rowsData:r?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},A=p===!0,w=_!==!1,{register:U,control:D,handleSubmit:ee,reset:C,setValue:O,getValues:te}=Vc({defaultValues:E}),q=U("rows",{valueAsNumber:!0}),{fields:ne,replace:ce,append:we,remove:xe}=i1({control:D,name:"rowsData"}),[me,be]=b.useState(0),Ae=b.useRef(0),ve=b.useRef(null),[B,re]=b.useState(0),se=0,Oe=5,Ee=()=>{if(B>=Oe){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}re(H=>Math.min(H+1,Oe))},N=()=>{if(B<=se){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}re(H=>Math.max(H-1,se))},Y=b.useRef(null),[oe,pe]=b.useState([]),Re=!!r?.version,Te=b.useRef("rows"),Me=b.useRef(null),$e=b.useRef(null),he=b.useRef(null),Ue=b.useRef(new Map),Qe=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{r?.rowsData?.length&&ne.forEach((H,K)=>{if(K===0)return;r.rowsData[K]?.medidor&&Ue.current.set(H.id,!0)})},[r,ne]);const Se=b.useCallback(H=>{const K=H<0?0:H;be(K),requestAnimationFrame(()=>{const ge=document.querySelector(`input.vi-medidor-input[data-row="${K}"]`);ge&&(ge.focus(),ge.select())})},[]),Ye=()=>(te("rowsData")??[]).slice(0,ne.length);b.useEffect(()=>{Ae.current=me},[me]);const Le=H=>{const K=H.target;if(!K)return;const ge=K.tagName;if(ge!=="INPUT"&&ge!=="SELECT"&&ge!=="TEXTAREA")return;const ke=H.key;if(ke==="Escape"){H.preventDefault(),Fn();return}if(ke==="ArrowUp"||ke==="ArrowDown"||ke==="ArrowLeft"||ke==="ArrowRight"||ke==="Enter"){const gn=K.name;if(!gn||!gn.startsWith("rowsData."))return;const jt=gn.match(/^rowsData\.(\d+)\.(.+)$/);if(!jt)return;const ot=parseInt(jt[1],10),yt=jt[2],Ut=H.currentTarget,dn=ne.length-1,wn=(yn,fn)=>{let It=yn+fn;for(;It>=0&&It<=dn;){const Un=`[name="rowsData.${It}.${yt}"]`,en=Ut.querySelector(Un);if(en&&!en.disabled)return{index:It,el:en};It+=fn}return null};if(ke==="ArrowUp"||ke==="ArrowDown"){H.preventDefault();const fn=wn(ot,ke==="ArrowUp"?-1:1);fn&&ab(yt,fn.el);return}if(ke==="ArrowLeft"||ke==="ArrowRight"){H.preventDefault();const yn=ul.indexOf(yt);if(yn===-1)return;const It=yn+(ke==="ArrowRight"?1:-1);if(It<0||It>=ul.length)return;const Un=ul[It],en=`[name="rowsData.${ot}.${Un}"]`,vn=Ut.querySelector(en);vn&&!vn.disabled&&bm(vn);return}if(ke==="Enter"){H.preventDefault();const yn=ul.indexOf(yt);if(yn===-1)return;const fn=wn(ot,1);if(fn){ab(yt,fn.el);return}const It=yn+1;if(It<ul.length){const Un=ul[It];for(let en=0;en<=dn;en++){const vn=`[name="rowsData.${en}.${Un}"]`,Hn=Ut.querySelector(vn);if(Hn&&!Hn.disabled){bm(Hn);return}}}Y.current&&Y.current.focus();return}}if(ke!=="Tab")return;const Je=H.currentTarget,it=Array.from(Je.querySelectorAll("input, select, textarea")).filter(Tt=>!Tt.hasAttribute("disabled")),Ie=it.indexOf(K);if(Ie===-1)return;if(ke==="Tab"&&H.shiftKey){Ie>0&&(H.preventDefault(),it[Ie-1].focus());return}const Mt=Ie+1;if(Mt<it.length){H.preventDefault(),it[Mt].focus();return}Y.current&&(H.preventDefault(),Y.current.focus())},Xe=(H,K)=>{ce(H),O("rows",H.length),be(ge=>H.length===0?0:typeof K=="number"?Math.max(0,Math.min(K,H.length-1)):Math.min(ge,H.length-1))},Ne=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Ke=H=>H==null?"":typeof H=="number"?H:typeof H=="string"?H.replace(",","."):H,lt=H=>{if(!H)return{};const K={...H};return["c1","c2","c3","c4","c5","c6"].forEach(ge=>{K[ge]=Ke(K[ge])}),K},Et=()=>{const H=r?.rowsData?.length??r?.rows??15,K=(r?.rowsData&&r.rowsData.length>0?r.rowsData:Array.from({length:H}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(ge=>({medidor:ge.medidor??"",estado:ge.estado??0,q3:lt(ge.q3),q2:lt(ge.q2),q1:lt(ge.q1)}));return{rows:K.length,rowsData:K,version:r?.version??null,estado:r?.estado??0,draftCreatedAt:r?.draftCreatedAt??null,draftId:r?.draftId??null}},R=b.useCallback(()=>{const H=te(),K=H.rowsData??[];return{estado:H.estado??0,rows:Number(H.rows??K.length),version:H.version??r?.version??null,rowsData:K,draftCreatedAt:H.draftCreatedAt??r?.draftCreatedAt??null,draftId:H.draftId??r?.draftId??null}},[te,r?.version,r?.draftCreatedAt,r?.draftId]),$=H=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:H}:null,J=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,je=H=>H==null||H===""||typeof H=="number"&&Number.isNaN(H),z=H=>H?Number(H.estado??0)!==0||H.medidor&&H.medidor.toString().trim()!==""?!0:P(H):!1,k=H=>(H.rowsData??[]).some(ge=>z(ge)),P=H=>{const K=[H.q3,H.q2,H.q1];for(const ge of K)if(ge){for(const ke of Qe)if(!je(ge[ke]))return!0}return!1},_e=H=>H?{...H,c4:null,c5:null}:{c4:null,c5:null},G=H=>{if(!H)return H;const K={...H};return je(K.c4)&&(K.c4=null),je(K.c5)&&(K.c5=null),K},Ce=H=>{for(let K=0;K<H.length;K++){const ge=H[K],ke=Number(ge.estado??0),Je=ke!==0;if(!z(ge))continue;if(!ge.medidor||ge.medidor.toString().trim()==="")return`La fila ${K+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Ie=[{name:"Q3 (Nominal)",block:ge.q3},{name:"Q2 (Transicin)",block:ge.q2},{name:"Q1 (Mnimo)",block:ge.q1}],Qt=Ie.some(({block:Mt})=>Mt&&Qe.some(Tt=>!je(Mt[Tt])));if(ke===0&&!Qt)return`La fila ${K+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!Je)for(const{name:Mt,block:Tt}of Ie){if(!Tt||!Qe.some(ot=>!je(Tt[ot])))continue;if(Qe.some(ot=>je(Tt[ot])))return`La fila ${K+1} tiene datos incompletos en el bloque ${Mt}. Completa todos los campos o elimina la fila.`}}return null},He=H=>H==null||H===""?null:String(H).replace(/\./g,","),Be=H=>{if(!H)return{};const K={...H};return["c1","c2","c3","c4","c5","c6","c7"].forEach(ge=>{K[ge]=He(K[ge])}),K},mt=H=>{const K=[];let ge=null;const ke=(it,Ie,Qt)=>{K[it]||(K[it]={}),K[it][Ie]=Qt,ge||(ge=`Fila ${it+1}: ${Qt}`)},Je={};return H.forEach(it=>{const Ie=(it.medidor??"").trim();Ie&&(Je[Ie]=(Je[Ie]??0)+1)}),H.forEach((it,Ie)=>{const Qt=it.q3||{},Mt=it.q2||{},Tt=it.q1||{},gn=Qt.c4,jt=Qt.c5,ot=Mt.c4,yt=Mt.c5,Ut=Tt.c4,dn=Tt.c5;gn!=null&&jt!=null&&!Number.isNaN(gn)&&!Number.isNaN(jt)&&jt<gn&&ke(Ie,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),ot!=null&&yt!=null&&!Number.isNaN(ot)&&!Number.isNaN(yt)&&yt<ot&&ke(Ie,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),Ut!=null&&dn!=null&&!Number.isNaN(Ut)&&!Number.isNaN(dn)&&dn<Ut&&ke(Ie,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),jt!=null&&ot!=null&&!Number.isNaN(jt)&&!Number.isNaN(ot)&&ot<jt&&ke(Ie,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),yt!=null&&Ut!=null&&!Number.isNaN(yt)&&!Number.isNaN(Ut)&&Ut<yt&&ke(Ie,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const wn=(it.medidor??"").trim();wn&&Je[wn]>1&&ke(Ie,"medidor_dup","Serie de medidor repetida."),wn&&!CR.test(wn)&&ke(Ie,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:K,firstMessage:ge}},de=H=>{if(A)return;const K=(H.rowsData??[]).slice(0,ne.length),ge=Ce(K);if(ge){alert(ge);return}const{rowErrors:ke,firstMessage:Je}=mt(K);if(pe(ke),Je){alert(Je);return}const Ie=K.filter(z).map(Mt=>{const Tt=Number(Mt.estado??0),gn=Tt>=1&&Tt<=4,jt=Tt===5&&!P(Mt),ot=gn||jt,yt=G(Mt.q3),Ut=G(Mt.q2),dn=G(Mt.q1),wn=yn=>{if(ot){const fn=_e(yn);return Be(fn)}return Be(yn)};return{...Mt,q3:wn(yt),q2:wn(Ut),q1:wn(dn)}}),Qt={...H,rows:Ie.length,rowsData:Ie,version:H.version??r?.version??null};o(Qt)},Pe=ji({control:D,name:"rowsData.0"}),Gt=ji({control:D,name:"rowsData"}),St=ji({control:D,name:"rowsData.0.q3.c7"}),_n=ji({control:D,name:"rowsData.0.q2.c7"}),kn=ji({control:D,name:"rowsData.0.q1.c7"});b.useEffect(()=>{ne[0]&&(O("rowsData.0.q3.c7_seconds",Lf(St)),O("rowsData.0.q2.c7_seconds",Lf(_n)),O("rowsData.0.q1.c7_seconds",Lf(kn)))},[St,_n,kn,O,ne]),b.useEffect(()=>{const H=Gt??[],{rowErrors:K}=mt(H);pe(K)},[Gt]),b.useEffect(()=>{if(!Pe||ne.length<=1)return;const H=Gt??[];ne.forEach((K,ge)=>{if(ge===0)return;const ke=K.id;(Ue.current.get(ke)??!1)||O(`rowsData.${ge}.medidor`,rb(Pe.medidor||"",ge,m));const it=H[ge]?.estado;(it==null||Number.isNaN(it))&&O(`rowsData.${ge}.estado`,Pe.estado),O(`rowsData.${ge}.q3.c1`,Pe.q3?.c1??null),O(`rowsData.${ge}.q3.c2`,Pe.q3?.c2??null),O(`rowsData.${ge}.q3.c3`,Pe.q3?.c3??null),O(`rowsData.${ge}.q3.c6`,Pe.q3?.c6??null),O(`rowsData.${ge}.q3.c7`,Pe.q3?.c7??""),O(`rowsData.${ge}.q3.c7_seconds`,Pe.q3?.c7_seconds??null),O(`rowsData.${ge}.q2.c1`,Pe.q2?.c1??null),O(`rowsData.${ge}.q2.c2`,Pe.q2?.c2??null),O(`rowsData.${ge}.q2.c3`,Pe.q2?.c3??null),O(`rowsData.${ge}.q2.c6`,Pe.q2?.c6??null),O(`rowsData.${ge}.q2.c7`,Pe.q2?.c7??""),O(`rowsData.${ge}.q2.c7_seconds`,Pe.q2?.c7_seconds??null),O(`rowsData.${ge}.q1.c1`,Pe.q1?.c1??null),O(`rowsData.${ge}.q1.c2`,Pe.q1?.c2??null),O(`rowsData.${ge}.q1.c3`,Pe.q1?.c3??null),O(`rowsData.${ge}.q1.c6`,Pe.q1?.c6??null),O(`rowsData.${ge}.q1.c7`,Pe.q1?.c7??""),O(`rowsData.${ge}.q1.c7_seconds`,Pe.q1?.c7_seconds??null)})},[Pe,Gt,ne,O,m]),b.useEffect(()=>{be(H=>{const K=Math.max(ne.length-1,0);return H>K?K:H})},[ne.length]);const Ya=()=>{if(ne.length>=50){if(O("rows",50),Se(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){ve.current&&(ve.current.focus(),ve.current.select());return}return}we(Ne()),O("rows",ne.length+1),Se(ne.length)},na=H=>{if(ne.length<=1)return;const K=Math.max(0,Math.min(H,ne.length-1));xe(K),O("rows",Math.max(ne.length-1,1)),Se(Math.max(0,K-(K===ne.length-1?1:0)))},at=()=>{ne.length<=1||(xe(ne.length-1),O("rows",Math.max(ne.length-1,1)),Se(Math.max(0,ne.length-2)))},ja=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const H=Ye();if(!H.length)return;const K=H.map(()=>Ne());Xe(K,0),Se(0)},da=()=>{let H=Number(te("rows"));if((!Number.isFinite(H)||H<1)&&(H=1),H>50){const ke=Ye();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){O("rows",ke.length),ve.current&&(ve.current.focus(),ve.current.select());return}H=50}const K=Ye();if(H!==K.length&&!confirm(`La lista tendr ${H} filas. Quieres continuar?`)){O("rows",K.length),ve.current&&(ve.current.focus(),ve.current.select());return}if(H===K.length){O("rows",H);return}if(H>K.length){const ke=Math.min(H,50)-K.length;if(ke>0){const Je=Array.from({length:ke},()=>Ne()),it=[...K,...Je];Xe(it,me),Se(K.length)}else O("rows",K.length);return}const ge=K.slice(0,H);Xe(ge,Math.min(me,H-1))},Aa=H=>{H.key==="Enter"&&(H.preventDefault(),da(),Se(0))},Fn=()=>{const H=te(),K=document.activeElement;if(ve.current&&K===ve.current)Te.current="rows",Me.current="rows";else if(K&&K instanceof HTMLElement){const ge=K.getAttribute("name");ge&&ge.startsWith("rowsData.")?(Te.current="grid",Me.current=ge):(Te.current="grid",Me.current=null)}else Te.current="grid",Me.current=null;if(v){const ge=R();if(!k(ge))Hr(v),he.current=null;else{const ke=$(ge);if(ke){const Je=JSON.stringify(ke);Ti(v,ke,J()),he.current=Je}}}d&&d(H),l()};b.useEffect(()=>{if(!e)return;const H=K=>{if(K.key==="Escape"){K.preventDefault(),Fn();return}if((K.key==="+"||K.key==="=")&&K.ctrlKey){K.preventDefault(),Ya();return}(K.key==="-"||K.key==="_")&&K.ctrlKey&&(K.preventDefault(),at())};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[e,Ya,at,Fn]),b.useEffect(()=>{const H=Et();C(H),Xe(H.rowsData,0),Ue.current.clear(),requestAnimationFrame(()=>{if(Re)Se(0);else if(Me.current){const K=document.querySelector(`[name="${Me.current}"]`);if(K){K.focus(),"select"in K&&K.select?.();return}Se(Ae.current||0)}else ve.current&&(ve.current.focus(),ve.current.select())})},[r,C,ce,Se,Re]),b.useEffect(()=>{if(!e||!v)return;const H=R();if(!k(H)){Hr(v),he.current=null;return}const K=$(H);if(!K)return;const ge=JSON.stringify(K);if(ge!==he.current)return $e.current&&window.clearTimeout($e.current),$e.current=window.setTimeout(()=>{Ti(v,K,J()),he.current=ge},400),()=>{$e.current&&window.clearTimeout($e.current)}},[e,v,Gt,R]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(Re)Se(0);else if(Me.current){const H=document.querySelector(`[name="${Me.current}"]`);if(H){H.focus(),"select"in H&&H.select?.();return}Se(Ae.current||0)}else ve.current&&(ve.current.focus(),ve.current.select())})},[e,Se,Re]);const $n=oe.some(H=>H&&Object.values(H).some(Boolean));return e?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:H=>{H.target===H.currentTarget&&Fn()},children:[c.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),c.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:c.jsx("div",{className:"modal-content",children:c.jsxs("form",{onSubmit:ee(de),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",children:a}),c.jsx("button",{type:"button",className:"btn-close",onClick:Fn,"aria-label":"Close"})]}),c.jsx("fieldset",{disabled:A,children:c.jsxs("div",{className:"modal-body p-2",children:[!w&&c.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),c.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[c.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[c.jsx("label",{className:"form-label mb-1",children:"Filas"}),c.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...q,ref:H=>{ve.current=H,q.ref(H)},onBlur:da,onKeyDown:Aa})]}),c.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Ya,children:"+ Agregar Fila"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:at,children:"- Quitar ltima fila"}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ja,children:"Limpiar Todo"})]}),c.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ee,children:"Aumentar tamao"}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:N,children:"Reducir tamao"})]}),c.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",me+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),c.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:c.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${B}`,children:[c.jsxs("thead",{className:"table-light sticky-top z-1",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),c.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),c.jsx("th",{style:{width:"90px"},children:"Estado"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),c.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),c.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),c.jsxs("tr",{style:{fontSize:"0.75rem"},children:[c.jsx("th",{className:"vi-row-index"}),c.jsx("th",{className:"vi-sticky-medidor"}),c.jsx("th",{}),c.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),c.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),c.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),c.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),c.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),c.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),c.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),c.jsx("th",{className:"vi-header-quitar"})]})]}),c.jsx("tbody",{onKeyDown:Le,children:ne.map((H,K)=>{const ge=K===0,ke=Gt?.[K]||{},Je=oe[K]||{},it=Number(ke.estado??0),Ie=it>=1&&it<=4,Qt=ke.q3?.c6,Mt=ke.q3?.c7_seconds,Tt=ke.q3?.c4,gn=ke.q3?.c5,jt=qf(Qt,Mt),ot=Bf(Tt,gn,Qt),yt=ke.q2?.c6,Ut=ke.q2?.c7_seconds,dn=ke.q2?.c4,wn=ke.q2?.c5,yn=qf(yt,Ut),fn=Bf(dn,wn,yt),It=ke.q1?.c6,Un=ke.q1?.c7_seconds,en=ke.q1?.c4,vn=ke.q1?.c5,Hn=qf(It,Un),Rn=Bf(en,vn,It),Dt=DR(ke.estado,ot,fn,Rn),Rs=[ge?"vi-base-row":"",me===K?"table-active":""].filter(Boolean).join(" "),Oa=U(`rowsData.${K}.medidor`),Nn=RR(ke.medidor??""),Vn=Nn?h?.[Nn]?.message:"",Ka=Je.medidor_format||Je.medidor_dup||Vn||"",Ts=!!Ka,Pa=(Dt||"").toUpperCase(),Qr=Pa==="NO CONFORME"?"vi-at-valor--fail":Pa==="CONFORME"?"vi-at-valor--ok":"";return c.jsxs("tr",{className:Rs,onMouseEnter:()=>be(K),onClick:()=>be(K),onFocusCapture:()=>be(K),children:[c.jsx("td",{className:"small vi-row-index",children:K+1}),c.jsx("td",{className:"vi-sticky-medidor",children:c.jsx("input",{"data-row":K,"data-row-id":H.id,...Oa,size:1,style:{minWidth:"100%"},disabled:Ie,onInput:Pt,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Ts?"vi-error-cell":""].filter(Boolean).join(" "),title:Ka||"",onChange:tn=>{const Ca=te(`rowsData.${K}.medidor`);if(Oa.onChange(tn),y?.(Ca),K===0)return;const Zn=tn.currentTarget.value.trim();if(!Zn){Ue.current.delete(H.id);return}const nn=rb(Pe?.medidor??"",K,m);nn&&nn===Zn?Ue.current.delete(H.id):Ue.current.set(H.id,!0)}})}),c.jsx("td",{children:c.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...U(`rowsData.${K}.estado`,{valueAsNumber:!0}),children:[c.jsx("option",{value:0,children:"0"}),c.jsx("option",{value:1,children:"1"}),c.jsx("option",{value:2,children:"2"}),c.jsx("option",{value:3,children:"3"}),c.jsx("option",{value:4,children:"4"}),c.jsx("option",{value:5,children:"5"})]})}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q3.c1`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q3.c2`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q3.c3`,{setValueAs:Sn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ie,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q3_li?" vi-error-cell":""),title:Je.q3_li||"",...U(`rowsData.${K}.q3.c4`,{setValueAs:Sn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ie,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q3_lf?" vi-error-cell":""),title:Je.q3_lf||"",...U(`rowsData.${K}.q3.c5`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q3.c6`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q3.c7`),placeholder:"m,ss,ms"})}),c.jsx(dl,{val:jt}),c.jsx(dl,{val:ot,isErr:!0,warnThreshold:2,failThreshold:5}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q2.c1`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q2.c2`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q2.c3`,{setValueAs:Sn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ie,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q2_li?" vi-error-cell":""),title:Je.q2_li||"",...U(`rowsData.${K}.q2.c4`,{setValueAs:Sn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ie,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q2_lf?" vi-error-cell":""),title:Je.q2_lf||"",...U(`rowsData.${K}.q2.c5`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q2.c6`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q2.c7`),placeholder:"m,ss,ms"})}),c.jsx(dl,{val:yn}),c.jsx(dl,{val:fn,isErr:!0,warnThreshold:2,failThreshold:5}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q1.c1`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q1.c2`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q1.c3`,{setValueAs:Sn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Ie,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q1_li?" vi-error-cell":""),title:Je.q1_li||"",...U(`rowsData.${K}.q1.c4`,{setValueAs:Sn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ie,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q1_lf?" vi-error-cell":""),title:Je.q1_lf||"",...U(`rowsData.${K}.q1.c5`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q1.c6`,{setValueAs:Sn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ge||Ie,...U(`rowsData.${K}.q1.c7`),placeholder:"m,ss,ms"})}),c.jsx(dl,{val:Hn}),c.jsx(dl,{val:Rn,isErr:!0,warnThreshold:5,failThreshold:5}),c.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${Qr}`,children:Dt}),c.jsx("td",{className:"text-center align-middle bg-light",children:c.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:tn=>{tn.stopPropagation(),na(K)},disabled:ne.length<=1,title:"Eliminar esta fila",children:""})})]},H.id)})})]})})]})}),c.jsxs("div",{className:"modal-footer py-1",children:[c.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Fn,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:Y,disabled:$n||A,children:L&&w?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),c.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function Xi({show:e,title:a="Contrasea para proteger Excel",confirmLabel:r="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:o,onConfirm:d}){const[m,h]=b.useState(""),y=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>y.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const x=_=>{_.key==="Escape"&&o()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,o]),!e)return null;const v=x=>{x.preventDefault(),p&&d(m.trim())};return c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&o()},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:v,children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:o})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"mb-3",children:[c.jsx(Li,{label:"Contrasea",inputId:"pwd",value:m,onChange:x=>h(x.target.value),inputRef:y,minLength:1,required:!0}),c.jsx("div",{className:"form-text",children:l})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:o,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:r})]})]})})})}async function MR(e,a){try{const{data:r}=await Ge.put(`/oi/${e}`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la OI",o=new Error(l);throw o.status=r?.response?.status,o}}async function kR(e,a){try{const{data:r}=await Ge.patch(`/oi/${e}/restore-updated-at`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo restaurar la fecha de la OI",o=new Error(l);throw o.status=r?.response?.status,o}}async function UR(e){try{const{data:a}=await Ge.post("/oi",e);return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(r)}}async function sb(e,a){try{const{data:r}=await Ge.post(`/oi/${e}/bancadas`,a);return r}catch(r){const l=r?.response?.data?.detail;let o=r?.message??"No se puedo agregar la bancada";typeof l=="string"?o=l:l&&typeof l=="object"&&(o=l.message??l.detail??o);const d=r?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(o);throw m.status=r?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function LR(e,a){try{const{data:r}=await Ge.put(`/oi/bancadas/${e}`,a);return r}catch(r){const l=r?.response?.data?.detail;let o=r?.message??"No se pudo actualizar la bancada";typeof l=="string"?o=l:l&&typeof l=="object"&&(o=l.message??l.detail??o);const d=r?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(o);throw m.status=r?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function qR(e,a){try{const{data:r}=await Ge.patch(`/oi/bancadas/${e}/saved_at`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la fecha de la bancada",o=new Error(l);throw o.status=r?.response?.status,o}}async function BR(e,a){try{const{data:r}=await Ge.put(`/oi/bancadas/${e}/restore`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo restaurar la bancada",o=new Error(l);throw o.status=r?.response?.status,o}}async function lb(e){try{await Ge.delete(`/oi/bancadas/${e}`)}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(r)}}async function fx(e,a){let r;try{r=await Ge.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const _=await x.text();try{const E=JSON.parse(_)?.detail;typeof E=="string"?v=E:Array.isArray(E)&&E.length>0?v=E.map(A=>String(A?.msg??"")).filter(Boolean).join(", "):_&&(v=_)}catch{_&&(v=_)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=r.data,m=r.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),y=document.createElement("a");y.href=h,y.download=m,document.body.appendChild(y),y.click(),URL.revokeObjectURL(h),y.remove()}async function IR(e){await Ge.delete(`/oi/${e}`)}async function FR(e){try{const{data:a}=await Ge.post(`/oi/${e}/lock`);return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(r);throw l.status=a?.response?.status,l}}async function vc(e,a){try{const r=a?{params:{reason:a}}:void 0,{data:l}=await Ge.delete(`/oi/${e}/lock`,r);return l}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo liberar la OI",o=new Error(l);throw o.status=r?.response?.status,o}}async function $R(e,a){try{const{data:r}=await Ge.patch(`/oi/${e}/saved_at`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la fecha de guardado",o=new Error(l);throw o.status=r?.response?.status,o}}async function If(e){try{const{data:a}=await Ge.get(`/oi/${e}/full`);return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(r)}}async function HR(e){try{const{data:a}=await Ge.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(r)}}async function VR(e){let a;try{a=await Ge.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const y=m?.response?.data;if(y instanceof Blob)try{const v=await y.text();try{const _=JSON.parse(v)?.detail;typeof _=="string"?h=_:Array.isArray(_)&&_.length>0?h=_.map(L=>String(L?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const r=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:r,filename:d}}async function ZR(){try{const{data:e}=await Ge.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function Ff(e){try{const{data:a}=await Ge.get(`/oi/${e}`);return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(r)}}const Wm="vi.currentOI";function Di(e){sessionStorage.setItem(Wm,JSON.stringify(e))}function ib(){const e=sessionStorage.getItem(Wm);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function xm(){sessionStorage.removeItem(Wm)}const $f=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Hf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},GR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:$f(e.q3),q2:$f(e.q2),q1:$f(e.q1)}),QR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Hf(e.q3),q2:Hf(e.q2),q1:Hf(e.q1)}),mx=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,r)=>({medidor:r===0?e.medidor??"":"",estado:e.estado,q3:r===0?e.q3??void 0:void 0,q2:r===0?e.q2??void 0:void 0,q1:r===0?e.q1??void 0:void 0})),YR=e=>e.reduce((a,r)=>a+(r.rows??0),0),KR=e=>JSON.parse(JSON.stringify(e)),ob=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),cb=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:mx(e),PR=(e,a)=>e==="view"&&a?"view":"edit",ub=e=>{if(!e)return"";const r=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(r);if(Number.isNaN(l.getTime()))return"";const o=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${o(l.getMonth()+1)}-${o(l.getDate())}T${o(l.getHours())}:${o(l.getMinutes())}`},XR=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},hx=e=>(e??"").trim().toUpperCase(),JR=e=>{const a={};e.forEach(l=>{const o=hx(l.medidor);o&&(a[o]||(a[o]={items:[],ids:[]}),l.bancada_item!=null&&!a[o].items.includes(l.bancada_item)&&a[o].items.push(l.bancada_item),l.bancada_id!=null&&!a[o].ids.includes(l.bancada_id)&&a[o].ids.push(l.bancada_id))});const r={};return Object.entries(a).forEach(([l,o])=>{let d="Este medidor existe en otra bancada de esta misma OI.";o.items.length>0&&(d=`Este medidor existe en la bancada #${[...o.items].sort((h,y)=>h-y).join(", ")} de esta misma OI.`),r[l]={message:d,bancadaItem:o.items[0],bancadaId:o.ids[0]}}),r},WR="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",eT=(e,a=!0)=>{const l=b.useContext(wa)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const o=l.block(d=>{const m={...d,retry(){o(),d.retry()}};e(m)});return o},[l,e,a])},tT=e=>{const a=Ge.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},nT=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const r=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",r),window.addEventListener("offline",l),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",l)}},[]),e},Vf=e=>{if(e?.status??e?.response?.status)return!1;const r=e?.code??e?.name;return r==="ERR_NETWORK"||r==="ECONNABORTED"?!0:!e?.response};function db(){const{toast:e}=As(),a=Nl(),r=In(),{oiId:l}=fw(),[o,d]=Db(),m=nT(),{data:h}=ws({queryKey:["catalogs"],queryFn:Zm}),{register:y,handleSubmit:p,watch:v,formState:{errors:x},reset:_,getValues:L}=Vc({resolver:mC(jR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),E=Mn(),A=E?.userId??null,w=E?.bancoId??Ui(),U=Qa(E?.role,E?.username)!=="technician",D=ib(),ee=l?Number(l):null,C=Number.isFinite(ee)?ee:null,O=C!=null||(D?.id??null)!=null,te=(o.get("mode")||"").toLowerCase(),q=PR(te,O),ne=q==="view",ce=q==="edit",[we,xe]=b.useState(!1),[me,be]=b.useState(!1),[Ae,ve]=b.useState(null),[B,re]=b.useState(null),[se,Oe]=b.useState(!1),Ee=me||ne,[N,Y]=b.useState(!1),[oe,pe]=b.useState(null),[Re,Te]=b.useState(null),[Me,$e]=b.useState(null),[he,Ue]=b.useState(!1),[Qe,Se]=b.useState(""),[Ye,Le]=b.useState(null),[Xe,Ne]=b.useState("bancada"),[Ke,lt]=b.useState(!1),[Et,R]=b.useState(!1),[$,J]=b.useState(null),je=b.useRef([]),z=b.useRef(null),k=b.useRef(!1),P=b.useRef(!1),_e=b.useRef(!1),G=b.useRef(null),Ce=b.useRef(!1),He=b.useRef(m),Be=b.useRef(!1),mt=b.useRef(!1),[de,Pe]=b.useState(null),[Gt,St]=b.useState(null),[_n,kn]=b.useState([]),[Ya,na]=b.useState(!1),[at,ja]=b.useState(null),[da,Aa]=b.useState(!1),[Fn,$n]=b.useState(null),[H,K]=b.useState(0),[ge,ke]=b.useState({}),[Je,it]=b.useState({}),Ie=r.state?.returnTo,Qt=()=>typeof Ie=="string"&&Ie?Ie:"/oi/list",Mt=j=>{const F=new URLSearchParams(o);F.set("mode",j),d(F,{replace:!0})},Tt="new",gn=15,jt=j=>j?`bancada-${j.id}`:Tt,ot=j=>j==null?!1:typeof j=="string"?j.trim()!=="":typeof j=="number"?Number.isFinite(j):!0,yt=j=>j==="c7_seconds"||j==="caudal"||j==="error",Ut=j=>j?Object.entries(j).some(([F,le])=>yt(F)?!1:ot(le)):!1,dn=j=>!j||!Array.isArray(j.rowsData)?!1:j.rowsData.some(F=>{if(!F)return!1;if(Number(F.estado??0)!==0)return!0;const ye=F.medidor;return typeof ye=="string"&&ye.trim()!==""?!0:Ut(F.q3)||Ut(F.q2)||Ut(F.q1)}),wn=(j=gn)=>Array.from({length:j}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),yn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,fn=j=>({draftId:yn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:gn,rowsData:wn(),version:null}),It=j=>{const F=new URLSearchParams(r.search);F.set("mode","edit");const le=r.pathname==="/oi"||r.pathname==="/oi/"?j?`/oi/${j}`:"/oi":r.pathname,ye=F.toString();return ye?`${le}?${ye}`:le},Un=(j,F)=>!j||!A||w==null?null:{version:1,ts:new Date().toISOString(),userId:A,bankId:w,oiId:j,oiCode:L("oi")??null,returnTo:It(j),mode:"edit",modal:F},en=()=>{if(Ya)return at?{type:"bancada",bancadaId:at.id}:{type:"bancada",isNew:!0}},vn=j=>Rf({userId:A,bankId:w,oiId:j,type:"bancada",isNew:!0}),Hn=j=>{const F=vn(j);if(!F)return null;const le=Tf(F);if(!le||!A||w==null||!j||le.userId!==A||le.bankId!==w||le.oiId!==j)return null;const ye=le?.data??null;return dn(ye)?ye:(Hr(F),null)},Rn=(j,F)=>{const le=vn(j);if(!le)return;if(!F||!dn(F)){Hr(le);return}if(!A||w==null||!j)return;const ye={version:1,ts:new Date().toISOString(),userId:A,bankId:w,oiId:j,isNew:!0,data:F},et=Un(j,{type:"bancada",isNew:!0});Ti(le,ye,et)},Dt=j=>Rf({userId:A,bankId:w,oiId:j,type:"header"}),Rs=j=>{if(!j)return null;const F=Tf(j);return!F||!A||w==null||F.userId!==A||F.bankId!==w||de!=null&&F.oiId!==de?null:F?.data??null},Oa=(j,F)=>{if(!j||!A||w==null)return;const le=de??0,ye={version:1,ts:new Date().toISOString(),userId:A,bankId:w,oiId:le,data:F},et=Un(de,en());Ti(j,ye,et)},Nn=j=>{j&&Hr(j)},Vn=j=>{const F={};return j.q3!=null&&(F.q3=Number(j.q3)),j.alcance!=null&&(F.alcance=Number(j.alcance)),j.pma!=null&&(F.pma=Number(j.pma)),j.numeration_type&&(F.numeration_type=j.numeration_type),F},Ka=(j,F)=>Rf({userId:A,bankId:w,oiId:j,type:"bancada",bancadaId:F}),Ts=(j,F)=>{const le=Ka(j,F);if(!le)return null;const ye=Tf(le);if(!ye||!A||w==null||!j||!F||ye.userId!==A||ye.bankId!==w||ye.oiId!==j)return null;const et=ye?.data??null;return dn(et)?et:(Hr(le),null)},Pa=(j,F,le)=>{const ye=Ka(j,F);if(!ye)return;if(!dn(le)){Hr(ye);return}if(!A||w==null||!j||!F)return;const et={version:1,ts:new Date().toISOString(),userId:A,bankId:w,oiId:j,bancadaId:F,data:le},At=Un(j,{type:"bancada",bancadaId:F});Ti(ye,et,At)},Qr=(j,F)=>{const le=Ka(j,F);le&&Hr(le)},tn=Dt(de);b.useEffect(()=>{h&&_(j=>({...j,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,_]),b.useEffect(()=>{const j=ib(),F=C??j?.id??null;if(!F){Pe(null),kn([]),je.current=[],z.current=null,$n(null),K(0),St(null),Te(null),$e(null),Y(!1),be(!1),ve(null),re(null),Oe(!1),pe(null);return}(async()=>{try{const le=await If(F);Pe(le.id),Di({id:le.id,code:le.code}),kn(le.bancadas??[]),je.current=KR(le.bancadas??[]),z.current=le.updated_at??null,$n(le.medidores_usuario??null),K(le.medidores_total_code??0),Te(le.saved_at??null),$e(le.created_at??null),St(le.updated_at??le.created_at);const ye={oi:le.code,q3:le.q3,alcance:le.alcance,pma:le.pma,numeration_type:le.numeration_type??"correlativo"};_(ye),Y(!1),be(le.read_only_for_current_user??!1),ve(le.locked_by_full_name??null),re(le.locked_by_user_id??null),Oe((le.locked_by_user_id??null)===A),pe(ye)}catch{xm()}})()},[_,A,C]),b.useEffect(()=>{if(!de||Je[Tt])return;const j=Hn(de);j&&(it(F=>({...F,[Tt]:j})),e({kind:"info",message:"Se restauro un borrador local."}))},[de,Je,e]),b.useEffect(()=>{if(!de||!A||!ce)return;let j=!1;return(async()=>{const F=le=>{be(le?.read_only_for_current_user??!1),ve(le?.locked_by_full_name??null),re(le?.locked_by_user_id??null),Oe((le?.locked_by_user_id??null)===A)};try{const le=await FR(de);if(j)return;F(le)}catch(le){if(j)return;const ye=le?.status??le?.response?.status;let et=null;try{const ct=await If(de);if(j)return;et=ct.locked_by_full_name??null,F({read_only_for_current_user:!0,locked_by_full_name:et,locked_by_user_id:ct.locked_by_user_id??null})}catch{be(!0),Oe(!1)}const At=et?`La OI est? siendo editada por ${et}. Se abre en modo lectura.`:le?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:ye===423||ye===409?"warning":"error",title:ye===423||ye===409?"OI bloqueada":"Error",message:At}),be(!0),Oe(!1),te!=="view"&&Mt("view")}})(),()=>{j=!0}},[de,A,ce]),b.useEffect(()=>()=>{de&&se&&vc(de).catch(()=>{})},[de,se]),b.useEffect(()=>{de&&(!se||Ee||!ce||JE(de))},[se,de,Ee,ce]),b.useEffect(()=>{P.current=!1,_e.current=!1,R(!1),Ce.current=!1,mt.current=!1},[de]),b.useEffect(()=>{if(!He.current&&m){if(!!!Mn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),He.current=m;return}(_e.current||Et)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}He.current=m},[m,Et,e]),b.useEffect(()=>{const j=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",j),()=>window.removeEventListener("medileser:auth-expired",j)},[e]),b.useEffect(()=>{const j=nj();if(!j){J(null),Be.current=!1;return}const F=`${r.pathname}${r.search}`,le=j.route===F,ye=j.oiId==null||j.oiId===de;if(!le&&!ye){J(null),Be.current=!1;return}J(j),j.type==="save_bancada"&&R(!0),j.type==="save_oi"&&(_e.current=!0),Be.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),Be.current=!0)},[r.pathname,r.search,de,e]);const Ca=ce&&!Ee&&(N||!de);b.useEffect(()=>{if(!Ca||Ce.current)return;const j=Rs(tn);if(!j)return;const F=L();_({...F,...j,numeration_type:j.numeration_type??F.numeration_type??"correlativo"}),Ce.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Ca,tn,L,_,e]),b.useEffect(()=>{if(!Ca)return;const j=v(F=>{G.current&&window.clearTimeout(G.current),G.current=window.setTimeout(()=>{Oa(tn,Vn(F))},400)});return()=>{j.unsubscribe(),G.current&&window.clearTimeout(G.current)}},[v,Ca,tn]);const Zn=b.useMemo(()=>Object.keys(Je).length>0,[Je]),nn=ce&&!Ee&&(se||N||Zn);b.useEffect(()=>{if(!nn)return;const j=F=>{if(!k.current)return F.preventDefault(),F.returnValue="",""};return window.addEventListener("beforeunload",j),()=>window.removeEventListener("beforeunload",j)},[nn]),eT(j=>{if(!nn){j.retry();return}if(k.current){j.retry();return}if(j.location.pathname===r.pathname){j.retry();return}window.confirm(WR)&&j.retry()},nn),b.useEffect(()=>{if(!de||!se||Ee||!ce)return;const j=()=>{if(k.current||P.current)return;P.current=!0;const le=Mn()?.token,ye=tT(`/oi/${de}/close`);fetch(ye,{method:"POST",headers:le?{Authorization:`Bearer ${le}`}:void 0,keepalive:!0}).catch(()=>{})},F=()=>{j()};return window.addEventListener("pagehide",F),()=>window.removeEventListener("pagehide",F)},[de,se,Ee,ce]);const Tl=v("pma"),Wi=b.useMemo(()=>OR(Number(Tl)),[Tl]),Dl=v("numeration_type")??"correlativo",zl=async j=>{try{xe(!0);const F=Mn();if(!F)throw new Error("Sesin no vlida");const le=F.bancoId;if(le==null)throw new Error("Debe seleccionar un banco para crear una OI.");const ye={code:j.oi,q3:Number(j.q3),alcance:Number(j.alcance),pma:Number(j.pma),banco_id:le,tech_number:F.techNumber,numeration_type:j.numeration_type??"correlativo"},et=await UR(ye);return Pe(et.id),St(et.updated_at??et.created_at),$n(et.medidores_usuario??0),K(et.medidores_total_code??0),Te(et.saved_at??null),$e(et.created_at??null),Di({id:et.id,code:et.code}),pe(j),_e.current=!1,Nn(Dt(null)),Nn(Dt(et.id)),Ci(),J(null),e({kind:"success",title:"OI creada",message:`${et.code} (#${et.id})`}),!0}catch(F){return Vf(F)?(_e.current=!0,Oa(tn,Vn(j)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):Nc(F)?(_e.current=!0,Oa(tn,Vn(j)),!1):(e({kind:"error",title:"Error",message:F?.message??"Error creando OI"}),!1)}finally{xe(!1)}},Yr=async j=>{if(!de)return!1;if(Ee)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(xe(!0),!de)throw new Error("No hay OI seleccionada para actualizar.");if(!Gt)throw new Error("No se pudo determinar la versin actual de la OI. Recargue la pgina e intntelo de nuevo.");const F=j.oi?.trim(),le={q3:Number(j.q3),alcance:Number(j.alcance),pma:Number(j.pma),numeration_type:j.numeration_type??"correlativo",updated_at:Gt};U&&F&&F!==(oe?.oi??"")&&(le.code=F);const ye=await MR(de,le);return pe(j),St(ye.updated_at??ye.created_at),Te(ye.saved_at??null),$e(ye.created_at??null),ye.code&&Di({id:ye.id,code:ye.code}),re(ye.locked_by_user_id??null),ve(ye.locked_by_full_name??null),be(ye.read_only_for_current_user??!1),Oe((ye.locked_by_user_id??null)===A),Y(!1),_e.current=!1,Nn(tn),Ci(),J(null),e({kind:"success",title:"OI actualizada",message:j.oi}),!0}catch(F){if(Vf(F))return _e.current=!0,Oa(tn,Vn(j)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(Nc(F))return _e.current=!0,Oa(tn,Vn(j)),!1;const le=F?.status??F?.response?.status;return e(le===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:F?.message??"Error actualizando OI"}),!1}finally{xe(!1)}},Ml=!!de&&N&&!Ee,bn=()=>ke({}),kl=j=>{const F=hx(j);F&&ke(le=>{if(!le[F])return le;const ye={...le};return delete ye[F],ye})},Ds=()=>{if(Ee){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!de)return;bn(),R(!1);const j=Hn(de),F=j??fn();it(le=>({...le,[Tt]:F})),Rn(de,F),j&&e({kind:"info",message:"Se restauro un borrador local."}),ja(null),na(!0)},Kr=j=>{if(Ee&&!ne){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}bn(),R(!1);const F=Ts(de,j.id);if(F){const le=jt(j);it(ye=>({...ye,[le]:F})),e({kind:"info",message:"Se restauro un borrador local."})}ja(j),na(!0)};b.useEffect(()=>{if(!de||mt.current)return;const j=ZE();if(j&&!(!A||w==null)&&!(j.userId!==A||j.bankId!==w)&&j.oiId===de){if(j.modal?.type==="bancada"){if(j.modal.isNew){mt.current=!0,Df(),Ds();return}if(j.modal.bancadaId){const F=_n.find(le=>le.id===j.modal?.bancadaId);if(!F)return;mt.current=!0,Df(),Kr(F);return}}mt.current=!0,Df()}},[A,w,_n,de,Ds,Kr]);const pr=b.useMemo(()=>{const j=jt(at),F=Je[j];if(F){const et=F.version??at?.updated_at??at?.created_at??null;return{...F,version:et}}if(!at)return;const ye=mx(at).map(GR);return{estado:at.estado,rows:ye.length||at.rows,rowsData:ye,version:at.updated_at??at.created_at??null}},[at,Je]),eo=async j=>{if(de){if(Ee){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}bn(),R(!1);try{xe(!0);const F=j.draftCreatedAt??Je[Tt]?.draftCreatedAt,le={estado:Number(j.estado??0),rows:Number(j.rowsData.length),rows_data:j.rowsData.map(QR)};if(at){const ye=j.version??at.updated_at??at.created_at??null;if(!ye)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const et={...le,updated_at:ye},At=await LR(at.id,et);kn(ct=>ct.map(En=>En.id===At.id?At:En)),St(At.updated_at??At.created_at??Gt),$n(null),Qr(de,at.id),it(ct=>{const En=`bancada-${at.id}`,{[En]:Wr,...Ia}=ct;return Ia}),e({kind:"success",message:"Bancada actualizada"})}else{F&&(le.draft_created_at=F);const ye=await sb(de,le);kn(et=>[...et,ye]),St(ye.updated_at??ye.created_at??Gt),$n(null),it(et=>{const{new:At,...ct}=et;return ct}),Rn(de,null),e({kind:"success",message:"Bancada agregada"})}try{const ye=await Ff(de);$n(ye.medidores_usuario??null),K(ye.medidores_total_code??H),Te(ye.saved_at??null),$e(ye.created_at??null)}catch{}re(E?.userId??B),ve(E?.fullName??Ae),Oe(A!==null),be(!1),na(!1),ja(null),Ci(),J(null),R(!1)}catch(F){if(Vf(F)){at?Pa(de,at.id,j):Rn(de,j),R(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(Nc(F)){at?Pa(de,at.id,j):Rn(de,j),R(!0);return}const le=F?.status??F?.response?.status;if(le===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(le===400){const ye=Array.isArray(F?.duplicates)?F.duplicates:Array.isArray(F?.response?.data?.duplicates)?F.response.data.duplicates:[];ye.length>0&&ke(JR(ye)),e({kind:"warning",title:"Validacion",message:F?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:F?.message??"Error guardando bancada"})}finally{xe(!1)}}},to=async j=>{if(confirm(`Eliminar bancada #${j.item}?`)){if(Ee){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(xe(!0),!de)throw new Error("No hay OI cargada.");await lb(j.id),kn(le=>le.filter(ye=>ye.id!==j.id)),$n(null),it(le=>{const ye=`bancada-${j.id}`,{[ye]:et,...At}=le;return At}),Qr(de,j.id);const F=await Ff(de);St(F.updated_at??F.created_at??null),Te(F.saved_at??null),$e(F.created_at??null),re(F.locked_by_user_id??null),ve(F.locked_by_full_name??null),be(F.read_only_for_current_user??!1),Oe((F.locked_by_user_id??null)===A),$n(F.medidores_usuario??null),K(F.medidores_total_code??H),e({kind:"success",message:`Bancada #${j.item} eliminada`})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error eliminando bancada"})}finally{xe(!1)}}},gr=()=>{if(!de){e({kind:"warning",message:"Primero guarda el OI."});return}Aa(!0)},ou=async j=>{if(de)try{xe(!0),await fx(de,j),e({kind:"success",message:"Excel generado"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error generando Excel"})}finally{xe(!1)}},no=()=>{if(!de||!U)return;const j=Re??Me;Ne("oi"),Le(null),Se(ub(j)),Ue(!0)},ao=j=>{if(!U)return;Ne("bancada"),Le(j);const F=j.saved_at??j.created_at??Re??Me;Se(ub(F)),Ue(!0)},Ul=async()=>{if(!de||!U)return;const j=XR(Qe);if(!j){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Xe==="bancada"&&!Ye))try{xe(!0),Xe==="oi"?await $R(de,{saved_at:j,propagate_to_bancadas:!0}):Ye&&await qR(Ye.id,{saved_at:j});const F=await If(de);if(kn(F.bancadas??[]),$n(F.medidores_usuario??null),K(F.medidores_total_code??0),Te(F.saved_at??null),$e(F.created_at??null),St(F.updated_at??F.created_at),ve(F.locked_by_full_name??null),re(F.locked_by_user_id??null),be(F.read_only_for_current_user??!1),Oe((F.locked_by_user_id??null)===A),!N){const le={oi:F.code,q3:F.q3,alcance:F.alcance,pma:F.pma,numeration_type:F.numeration_type??"correlativo"};_(le),pe(le)}Ue(!1),Le(null),Se(""),Ne("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error actualizando fecha"})}finally{xe(!1)}},cu=j=>{bn(),R(!1);const F=jt(at);let le={...j};if(!at){const ye=Je[Tt];le.draftCreatedAt||(le.draftCreatedAt=ye?.draftCreatedAt??new Date().toISOString()),le.draftId||(le.draftId=ye?.draftId??yn())}it(ye=>({...ye,[F]:le})),at?Pa(de,at.id,le):Rn(de,le),na(!1)},uu=()=>{if(Ee){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const j=L();pe({...j,numeration_type:j.numeration_type??"correlativo"}),Y(!0)},zs=()=>{!de||ce||Mt("edit")},Ra=()=>{oe&&_(oe),Y(!1),_e.current=!1,Nn(tn),Ci(),J(null)},yr=()=>{de&&(Rn(de,null),Object.keys(Je).forEach(j=>{if(!j.startsWith("bancada-"))return;const F=Number(j.replace("bancada-",""));Number.isFinite(F)&&Qr(de,F)})),Nn(Dt(de)),Nn(Dt(null)),$E(),_e.current=!1,R(!1),Ci(),J(null),xm(),D0(),Pe(null),kn([]),je.current=[],it({}),Y(!1),pe(null),St(null),Te(null),$e(null),be(!1),ve(null),re(null),Oe(!1),$n(null),K(0),na(!1),ja(null),Aa(!1),Ue(!1),lt(!1),Se(""),Le(null),Ne("bancada"),_({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Ll=()=>{P.current=!0,k.current=!0,yr(),a(Qt())},vr=async()=>{if(!de)return!0;const j=je.current??[];if(j.length===0&&_n.length===0)return!0;const F=new Map(j.map(ye=>[ye.id,ye])),le=new Map(_n.map(ye=>[ye.id,ye]));try{for(const At of _n)F.has(At.id)||await lb(At.id);for(const At of _n){const ct=F.get(At.id);if(!ct||ob(ct)===ob(At))continue;const En=cb(ct),Wr=En.length||ct.rows||1,Ia=At.updated_at??At.created_at??ct.updated_at??ct.created_at;if(!Ia)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await BR(At.id,{medidor:ct.medidor??null,estado:ct.estado??0,rows:Wr,rows_data:En,current_updated_at:Ia,restore_updated_at:ct.updated_at??null,restore_saved_at:ct.saved_at??null})}for(const At of j)if(!le.has(At.id)){const ct=cb(At),En=ct.length||At.rows||1;await sb(de,{estado:At.estado??0,rows:En,rows_data:ct})}const ye=await Ff(de),et=ye.updated_at??ye.created_at;await kR(de,{current_updated_at:et,restore_updated_at:z.current})}catch(ye){return e({kind:"error",title:"Error",message:ye?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},br=()=>{we||lt(!0)},ro=async()=>{if(!we){lt(!1),xe(!0);try{if(!await vr())return;de&&se&&await vc(de,"cancel")}catch{}finally{xe(!1)}P.current=!0,k.current=!0,yr(),e({kind:"info",message:"Edicion cancelada"}),a(Qt())}},ql=async()=>{if(we)return;lt(!1);let j=!0;if((N||!de)&&(j=!1,await p(async le=>{j=de?await Yr(le):await zl(le)})()),!!j){xe(!0);try{de&&se&&await vc(de)}catch{}finally{xe(!1)}P.current=!0,k.current=!0,yr(),e({kind:"info",message:"Cambios guardados"}),a(Qt())}},so=async()=>{if(!we){xe(!0);try{de&&se&&await vc(de)}catch{}finally{xe(!1)}P.current=!0,k.current=!0,yr(),e({kind:"info",message:"OI cerrada"}),a(Qt())}},Pr=b.useMemo(()=>YR(_n),[_n]),Ta=Fn??Pr,Xr=j=>{if(!j)return"-";const le=/([zZ]|[+-]\d{2}:?\d{2})$/.test(j)?j:`${j}Z`,ye=new Date(le);return Number.isNaN(ye.getTime())?j:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(ye)},Jr=at?Ka(de,at.id):vn(de),Ba=A&&w!=null&&de?{userId:A,bankId:w,oiId:de,bancadaId:at?.id??null,isNew:!at,returnTo:It(de),oiCode:L("oi")??null}:null;return c.jsxs("div",{className:"oi-page vi-oi-light",children:[c.jsx(Cl,{show:we}),!m&&c.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),$&&c.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[c.jsx("h1",{className:"h3",children:"Formulario OI"}),c.jsxs("div",{className:"d-flex gap-2",children:[de&&U&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:no,disabled:we,children:"Editar fecha guardado"}),de&&ne&&c.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:zs,disabled:we,children:"Editar"})]})]}),Ee&&c.jsx("div",{className:"alert alert-warning mt-2",children:ne?"Modo lectura. Use Editar para modificar.":Ae?`Esta OI est siendo editada por ${Ae}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),c.jsxs("form",{onSubmit:p(Ml?Yr:zl),className:`row g-3 mt-1 ${Ml?"vi-form-editing":"vi-form-readonly"}`,children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),c.jsx("input",{id:"oi",className:`form-control ${de&&!(U&&N&&!Ee)?"vi-locked":""}`,...y("oi"),disabled:de?!(U&&N&&!Ee):!1}),x.oi&&c.jsx("div",{className:"text-danger small",children:x.oi.message}),U?c.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el cdigo de OI."}):null]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),c.jsx("select",{id:"q3",className:"form-select",...y("q3",{valueAsNumber:!0}),disabled:!!de&&!N||Ee,children:h?.q3.map(j=>c.jsx("option",{value:j,children:j},j))})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),c.jsx("select",{id:"alcance",className:"form-select",...y("alcance",{valueAsNumber:!0}),disabled:!!de&&!N||Ee,children:h?.alcance.map(j=>c.jsx("option",{value:j,children:j},j))})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),c.jsx("select",{id:"pma",className:"form-select",...y("pma",{valueAsNumber:!0}),disabled:!!de&&!N||Ee,children:h?.pma.map(j=>c.jsx("option",{value:j,children:j},j))}),c.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),c.jsx("input",{id:"presion",className:"form-control",value:isNaN(Wi)?"":Wi,disabled:!0})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),c.jsxs("select",{id:"numeration_type",className:"form-select",...y("numeration_type"),disabled:!!de&&!N||Ee,children:[c.jsx("option",{value:"correlativo",children:"Correlativo"}),c.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),c.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),c.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[c.jsx("button",{className:"btn btn-primary",disabled:we||!!de&&(!N||Ee),children:de?Ml?"Guardar cambios":"OI guardada":"Guardar OI"}),de&&!N&&ce&&c.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:uu,disabled:we||Ee,children:"Editar OI"}),de&&N&&ce&&c.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Ra,disabled:we,children:"Cancelar edicion"}),ne&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Ll,disabled:we,children:"Volver al listado"}),c.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:gr,disabled:!de||we||N,children:"Generar Excel"}),ce&&c.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:so,disabled:!de||N||we,children:"Cerrar OI"}),ce&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:br,disabled:we,children:"Cancelar"})]})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{className:"card vi-card-table mt-3",children:[c.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),c.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",Ta," | Total OI: ",H]})]}),c.jsx("button",{className:"btn btn-primary",onClick:Ds,disabled:!de||we||N||Ee,children:"Agregar Bancada"})]}),c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"vi-col-60",children:"Item"}),c.jsx("th",{children:"# Medidor"}),c.jsx("th",{children:"Medidores"}),c.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),c.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),c.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),c.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[_n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),_n.map(j=>{const F=j.rows_data?.[0]?.medidor||j.medidor||"",le=j.rows_data?.[(j.rows_data?.length||0)-1]?.medidor||"",ye=F&&le&&F!==le?`${F} ... ${le}`:F;return c.jsxs("tr",{children:[c.jsx("td",{children:j.item}),c.jsx("td",{children:ye}),c.jsx("td",{children:j.rows}),c.jsx("td",{children:Xr(j.created_at)}),c.jsx("td",{children:Xr(j.saved_at)}),c.jsx("td",{children:Xr(j.updated_at??j.created_at)}),c.jsxs("td",{className:"text-end",children:[U?c.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>ao(j),disabled:we||N||me,"aria-label":`Editar fecha guardado bancada #${j.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Kr(j),disabled:we||N||!ne&&Ee,"aria-label":`${ne?"Ver":"Editar"} bancada #${j.item}`,title:ne?"Ver":"Editar",children:ne?"Ver":"Editar"}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>to(j),disabled:we||N||Ee,"aria-label":`Eliminar bancada #${j.item}`,title:"Eliminar",children:""})]})]},j.id)})]})]})})})]}),Ya&&c.jsx(zR,{show:Ya,title:at?`Editar bancada #${at.item}`:"Nueva bancada",initial:pr,onClose:()=>{bn(),na(!1)},onSubmit:eo,onCancelWithDraft:cu,numerationType:Dl,readOnly:Ee,duplicateMap:ge,onClearDuplicate:kl,draftStorageKey:Jr,draftMeta:Ba,isOnline:m,showRetry:Et}),Ke&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:j=>{j.target===j.currentTarget&&lt(!1)},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>lt(!1)})]}),c.jsx("div",{className:"modal-body",children:c.jsx("p",{children:"Estas seguro de descartar cambios?"})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ro,disabled:we,children:"Descartar cambios"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:ql,disabled:we,children:"Guardar cambios y volver al listado"})]})]})})}),he&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:j=>{j.target===j.currentTarget&&(Ue(!1),Le(null),Ne("bancada"))},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:j=>{j.preventDefault(),Ul()},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{Ue(!1),Le(null),Ne("bancada")}})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),c.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:Qe,onChange:j=>Se(j.target.value),required:!0}),c.jsx("div",{className:"form-text",children:Xe==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{Ue(!1),Le(null),Ne("bancada")},children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:we||!Qe,children:"Guardar"})]})]})})}),c.jsx(Xi,{show:da,title:"Contrasea para proteger Excel",onClose:()=>Aa(!1),onConfirm:j=>{Aa(!1),ou(j)}})]})}function aT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function rT(){const e=Mn(),a=In(),r=e?.token??null,[l,o]=b.useState(()=>!!r);if(b.useEffect(()=>{if(!r){o(!1);return}let x=!1;return o(!0),Ge.get("/auth/me").then(()=>{x||o(!1)}).catch(async _=>{if(x)return;const L=_?.response?.status;if(L===401||L===403){await U0();return}o(!1)}),()=>{x=!0}},[r]),!r)return c.jsx(Vr,{to:"/login",replace:!0});if(l)return c.jsx(Cl,{show:!0});const d=e,m=Qa(d.role,d.username),h=Gm(d),y=bl(m),p=Ui();if(y&&!(p&&p>0)&&a.pathname!=="/home")return c.jsx(Vr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return c.jsx(Vr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return c.jsx(Vr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const x=aT(a.pathname),_=d.allowedModules;if(x&&Array.isArray(_)&&!_.includes(x))return c.jsx(Vr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return c.jsx(Eb,{})}const sT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),lT=.9;function eh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*lT}rem)`}}function ka({to:e,icon:a,label:r,depth:l,collapsed:o}){return c.jsx("li",{className:"vi-sidebar-item",children:c.jsxs(Rb,{to:e,end:!0,className:sT,style:eh(l,o),title:r,"aria-label":r,children:[c.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:r})]})})}function fb({icon:e,label:a,depth:r,collapsed:l}){return c.jsx("li",{className:"vi-sidebar-item",children:c.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:eh(r,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[c.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function ps({groupKey:e,icon:a,label:r,depth:l,collapsed:o,open:d,active:m,onToggle:h,children:y}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return c.jsxs("li",{className:"vi-sidebar-item",children:[c.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:eh(l,o),onClick:()=>{o||h(e)},"aria-expanded":!o&&d,"aria-controls":p,title:r,children:[c.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:r}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:c.jsx("i",{className:`ti ${v}`})})]}),!o&&d&&c.jsx("ul",{id:p,className:"list-unstyled mb-0",children:y})]})}function iT({collapsed:e,onToggleSidebar:a}){const r=In(),l=Mn(),o=!!l,d=Qa(l?.role,l?.username),m=Gm(l),h=d==="admin"||d==="administrator",y=l?.allowedModules,p=ve=>m||!Array.isArray(y)||y.includes(ve),v=o&&p("tools_vima_lista"),x=o&&p("tools_actualizacion_bases"),_=o&&p("tools_consol_correlativo"),L=o&&p("tools_consol_no_correlativo"),E=o&&p("oi_formulario"),A=o&&p("oi_listado"),w=o&&h&&p("users_admin"),U=o&&p("future_ot"),D=o&&p("future_logistica"),ee=o&&p("future_smart"),C=_||L,O=v||x,te=E||A||U,q=O||te||C,ne=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[ce,we]=b.useState(()=>{const ve=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!ve)return ne;try{const B=JSON.parse(ve),re={...ne};return Object.keys(re).forEach(se=>{typeof B[se]=="boolean"&&(re[se]=B[se])}),re}catch{return ne}}),xe=r.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(ce))},[ce]);const me=b.useMemo(()=>{const ve=B=>!!Mi({path:B,end:!0},xe);return{vimaToLista:ve("/oi/tools/vima-to-lista"),actualizacionBases:ve("/oi/tools/actualizacion-base"),consolidacionCorrelativo:ve("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:ve("/oi/tools/consolidacion/no-correlativo"),registroOi:ve("/oi"),listadoOi:ve("/oi/list"),users:ve("/users"),password:ve("/password"),permisos:ve("/admin/permisos"),log01Excel:ve("/logistica/log01/excel")}},[xe]),be=b.useMemo(()=>({oi_consolidacion:me.consolidacionCorrelativo||me.consolidacionNoCorrelativo,oi_formato_ac:me.vimaToLista||me.actualizacionBases,oi_verificacion:me.registroOi||me.listadoOi,oi:me.vimaToLista||me.actualizacionBases||me.consolidacionCorrelativo||me.consolidacionNoCorrelativo||me.registroOi||me.listadoOi,usuarios:me.users||me.password,logistica:me.log01Excel,administrar:me.permisos}),[me]);function Ae(ve){we(B=>({...B,[ve]:!B[ve]}))}return c.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[c.jsxs("div",{className:"vi-sidebar__header",children:[c.jsxs("div",{className:"vi-sidebar__brand",children:[c.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),c.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&c.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:c.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),c.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!o&&c.jsx(ka,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),q&&c.jsxs(ps,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:ce.oi,active:be.oi,onToggle:Ae,children:[O&&c.jsxs(ps,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:ce.oi_formato_ac,active:be.oi_formato_ac,onToggle:Ae,children:[v&&c.jsx(ka,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&c.jsx(ka,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e})]}),C&&c.jsxs(ps,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:ce.oi_consolidacion,active:be.oi_consolidacion,onToggle:Ae,children:[_&&c.jsx(ka,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),L&&c.jsx(ka,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),te&&c.jsxs(ps,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:ce.oi_verificacion,active:be.oi_verificacion,onToggle:Ae,children:[U&&c.jsx(fb,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),E&&c.jsx(ka,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),A&&c.jsx(ka,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),D&&c.jsx(ps,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:ce.logistica,active:be.logistica,onToggle:Ae,children:c.jsx(ka,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacin Excel",depth:1,collapsed:e})}),ee&&c.jsx(fb,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),c.jsxs(ps,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:ce.usuarios,active:be.usuarios,onToggle:Ae,children:[w&&c.jsx(ka,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),o&&c.jsx(ka,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&c.jsx(ps,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:ce.administrar,active:be.administrar,onToggle:Ae,children:c.jsx(ka,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function oT({sidebarCollapsed:e,onToggleSidebar:a}){const r=Mn(),l=r?.username??r?.user??"",o=r?bl(r.role):!1,[d,m]=b.useState(()=>Ui());b.useEffect(()=>oj(()=>m(Ui())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",y=async()=>{try{await dj()}finally{location.assign("/login")}};return c.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&c.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:c.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),c.jsx("div",{className:"me-auto"}),c.jsxs("div",{className:"d-flex align-items-center gap-3",children:[r&&c.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",c.jsx("strong",{children:l||"?"}),o&&c.jsxs(c.Fragment,{children:["  ",h,r.techNumber?c.jsxs(c.Fragment,{children:["  ","Tcnico ",r.techNumber]}):null]})]}),r&&c.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:y,children:"Cerrar sesin"})]})]})}function cT(){const a=In().pathname==="/home",[r,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),o=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(r))}catch{}},[r]),c.jsxs("div",{className:`vi-layout ${r?"vi-layout--collapsed":""}`,children:[c.jsx(iT,{collapsed:r,onToggleSidebar:o}),c.jsxs("div",{className:"vi-main",children:[c.jsx(oT,{sidebarCollapsed:r,onToggleSidebar:o}),c.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:c.jsx(Eb,{})})]})]})}function uT(){const{toast:e}=As(),a=Nl(),r=In(),[,l]=Db(),[o,d]=b.useState(()=>new URLSearchParams(r.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(r.search).get("q")??"").trim()),[y,p]=b.useState(()=>new URLSearchParams(r.search).get("dateFrom")??""),[v,x]=b.useState(()=>new URLSearchParams(r.search).get("dateTo")??""),[_,L]=b.useState(()=>{const G=new URLSearchParams(r.search).get("pageSize"),Ce=G?Number(G):20;return Number.isFinite(Ce)&&Ce>0?Ce:20}),[E,A]=b.useState(()=>{const G=new URLSearchParams(r.search).get("page"),Ce=G?Number(G):1;return Number.isFinite(Ce)&&Ce>0?Math.floor(Ce):1}),[w,U]=b.useState(()=>new URLSearchParams(r.search).get("responsableTech")??""),D=(E-1)*_,ee=b.useRef(!1);b.useEffect(()=>{if(!ee.current){ee.current=!0;return}const G=setTimeout(()=>{h(o.trim()),A(1)},300);return()=>clearTimeout(G)},[o]),b.useEffect(()=>{const G=new URLSearchParams,Ce=o.trim();Ce&&G.set("q",Ce),y&&G.set("dateFrom",y),v&&G.set("dateTo",v),w&&G.set("responsableTech",w),E!==1&&G.set("page",String(E)),_!==20&&G.set("pageSize",String(_));const He=r.search.startsWith("?")?r.search.slice(1):r.search;G.toString()!==He&&l(G,{replace:!0})},[y,v,r.search,E,_,w,o,l]);const{data:C,isLoading:O,isError:te,error:q,refetch:ne,isFetching:ce}=ws({queryKey:["oi","list",{search:m,dateFrom:y,dateTo:v,responsableTech:w,pageSize:_,offset:D}],queryFn:()=>HR({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:w?Number(w):void 0,limit:_,offset:D}),placeholderData:G=>G}),we=Mn(),xe=Qa(we?.role,we?.username)!=="technician",{data:me=[],isFetching:be,isError:Ae,error:ve}=ws({queryKey:["oi","responsables"],queryFn:ZR,enabled:xe,staleTime:6e4,retry:!1}),B=Ae?ve?.message??"No se pudo cargar responsables":"",re=G=>{if(!G)return"-";const Ce=G.endsWith("Z")?G:`${G}Z`,He=new Date(Ce),Be=mt=>mt.toString().padStart(2,"0");return`${Be(He.getDate())}/${Be(He.getMonth()+1)}/${He.getFullYear()} ${Be(He.getHours())}:${Be(He.getMinutes())}`},Oe=C?.items??[],Ee=C?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},N=C?.total??0,Y=C?.limit??_,oe=Y>0?Math.ceil(N/Y):1,pe=10;let Re=1,Te=oe;if(oe>pe){const G=Math.floor(pe/2);Re=Math.max(1,E-G),Te=Re+pe-1,Te>oe&&(Te=oe,Re=Math.max(1,Te-pe+1))}const[Me,$e]=b.useState(!1),[he,Ue]=b.useState(null),[Qe,Se]=b.useState(!1),[Ye,Le]=b.useState(!1),Xe=O||ce||Qe||Ye,Ne=()=>`${r.pathname}${r.search}`,Ke=(G,Ce)=>{try{Di({id:G,code:Ce}),e({kind:"success",message:`OI ${Ce} cargada`}),a(`/oi/${G}?mode=view`,{state:{returnTo:Ne()}})}catch(He){e({kind:"error",title:"Error",message:He?.message??"No se pudo abrir el OI"})}},lt=(G,Ce)=>{try{Di({id:G,code:Ce}),e({kind:"success",message:`OI ${Ce} cargada`}),a(`/oi/${G}?mode=edit`,{state:{returnTo:Ne()}})}catch(He){e({kind:"error",title:"Error",message:He?.message??"No se pudo abrir el OI"})}},Et=async()=>{try{await Ki()}finally{xm(),a("/oi?mode=edit",{state:{returnTo:Ne()}})}},R=async(G,Ce)=>{if(confirm(`Ests seguro de ELIMINAR la ${Ce}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await IR(G),e({kind:"success",title:"Eliminado",message:`Se elimin ${Ce} correctamente.`}),ne()}catch(He){e({kind:"error",title:"Error",message:He.message||"No se pudo eliminar la OI"})}},$=G=>{Ue(G),$e(!0)},J=async G=>{if(he)try{Se(!0),await fx(he,G),e({kind:"success",message:"Excel generado"})}catch(Ce){e({kind:"error",title:"Error",message:Ce?.message??"No se pudo generar el Excel"})}finally{Se(!1)}},je=async()=>{try{Le(!0);const{blob:G,filename:Ce}=await VR({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:w?Number(w):void 0}),He=URL.createObjectURL(G),Be=document.createElement("a");Be.href=He,Be.download=Ce,document.body.appendChild(Be),Be.click(),URL.revokeObjectURL(He),Be.remove()}catch(G){const Ce=G?.status,He=G?.message??"No se pudo exportar el CSV";e(Ce===403?{kind:"error",title:"No autorizado",message:He}:{kind:"error",title:"Error",message:He})}finally{Le(!1)}},z=()=>{d(""),h(""),p(""),x(""),A(1),U("")},k=N===0?0:D+1,P=N===0?0:Math.min(D+Oe.length,N),_e=N===0?"0 registros":`Mostrando ${k}-${P} de ${N} registros`;return c.jsxs("div",{children:[c.jsx(Cl,{show:Xe}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[c.jsxs("div",{className:"d-flex align-items-center gap-2",children:[c.jsx("button",{className:"btn btn-primary",onClick:Et,disabled:Xe,title:"Nueva OI",children:"Nueva OI"}),c.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),c.jsxs("div",{className:"d-flex gap-2",children:[xe&&c.jsx("button",{className:"btn btn-outline-secondary",onClick:je,disabled:Xe,children:Ye?"Exportando...":"Exportar CSV"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:z,disabled:Xe,children:"Limpiar filtros"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>ne(),disabled:Xe,children:"Recargar"})]})]}),te&&c.jsx("div",{className:"alert alert-danger",children:q?.message??"Error cargando listado"}),c.jsxs("div",{className:"card vi-card-table",children:[c.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"h6 mb-0",children:"Registros"}),c.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",Ee.medidores_resultado," | OI unicas: ",Ee.oi_unicas," | Medidores (Total OI): ",Ee.medidores_total_oi_unicas]})]}),c.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[c.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:o,onChange:G=>{d(G.target.value),A(1)},"aria-label":"Buscar por codigo de OI o medidor"}),c.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:G=>{p(G.target.value),A(1)},"aria-label":"Filtrar desde fecha"}),c.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:G=>{x(G.target.value),A(1)},"aria-label":"Filtrar hasta fecha"}),xe&&c.jsxs("div",{className:"d-flex flex-column",children:[c.jsxs("select",{className:"form-select form-select-sm",value:w,onChange:G=>{U(G.target.value),A(1)},disabled:Xe||be,"aria-label":"Filtrar por responsable",title:"Responsable",children:[c.jsx("option",{value:"",children:"Responsable: Todos"}),me.map(G=>c.jsx("option",{value:String(G.tech_number),children:G.full_name},G.tech_number))]}),B?c.jsx("small",{className:"text-danger",children:B}):null]}),c.jsxs("div",{className:"d-flex align-items-center",children:[c.jsx("span",{className:"me-1 small",children:"Mostrar"}),c.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:G=>{const Ce=Number(G.target.value)||20;L(Ce),A(1)},"aria-label":"Registros por pgina",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]})]}),c.jsxs("div",{className:"card-body p-0",children:[c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:"OI"}),c.jsx("th",{children:"Medidores"}),c.jsx("th",{children:"Q3"}),c.jsx("th",{children:"Alcance"}),c.jsx("th",{children:"PMA"}),c.jsx("th",{children:"Banco"}),c.jsx("th",{children:"Tcnico"}),c.jsx("th",{children:"Responsable"}),c.jsx("th",{children:"Creacin"}),c.jsx("th",{children:"Guardado"}),c.jsx("th",{children:"lt. mod."}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[!Xe&&Oe.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:N>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),Oe.map(G=>c.jsxs("tr",{children:[c.jsx("td",{children:G.id}),c.jsx("td",{children:G.code}),c.jsx("td",{title:"Mi registro / Total OI",children:`${G.medidores_usuario??0} / ${G.medidores_total_code??0}`}),c.jsx("td",{children:G.q3}),c.jsx("td",{children:G.alcance}),c.jsx("td",{children:G.pma}),c.jsx("td",{children:G.banco_id}),c.jsx("td",{children:G.tech_number}),c.jsx("td",{children:G.creator_name}),c.jsx("td",{children:re(G.created_at)}),c.jsx("td",{children:re(G.saved_at)}),c.jsx("td",{children:re(G.updated_at)}),c.jsxs("td",{className:"text-end",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ke(G.id,G.code),disabled:Xe,title:"Ver OI","aria-label":`Ver OI ${G.code}`,children:"Ver"}),c.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>lt(G.id,G.code),disabled:Xe,title:"Editar OI","aria-label":`Editar OI ${G.code}`,children:"Editar"}),c.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>$(G.id),disabled:Xe,title:"Descargar Excel","aria-label":`Descargar Excel ${G.code}`,children:"Excel"}),xe&&c.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>R(G.id,G.code),disabled:Xe,title:"Eliminar OI (Solo Admin)",children:""})]})]},G.id))]})]})}),oe>1&&c.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:c.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[c.jsx("li",{className:`page-item ${E===1?"disabled":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>A(G=>Math.max(1,G-1)),disabled:E===1,children:""})}),Array.from({length:Te-Re+1},(G,Ce)=>{const He=Re+Ce;return c.jsx("li",{className:`page-item ${He===E?"active":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>A(He),children:He})},He)}),c.jsx("li",{className:`page-item ${E===oe?"disabled":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>A(G=>Math.min(oe,G+1)),disabled:E===oe,children:"Siguiente"})})]})})]})]}),c.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:c.jsx("small",{className:"text-muted",children:_e})}),c.jsx(Xi,{show:Me,title:"Contrasea para proteger Excel",onClose:()=>{$e(!1),Ue(null)},onConfirm:G=>{$e(!1),J(G)}})]})}function dT(){const{toast:e}=As(),a=Mn(),r=Qa(a?.role,a?.username),l=r==="admin"||r==="administrator",o=Gm(a),[d,m]=b.useState(!1),[h,y]=b.useState(!1),[p,v]=b.useState(null),{data:x,refetch:_,isLoading:L}=ws({queryKey:["users"],queryFn:async()=>(await Ge.get("/auth/users")).data,enabled:l}),{register:E,handleSubmit:A,reset:w}=Vc(),U=async C=>{try{y(!0),await Ge.post("/auth/users",{...C,tech_number:Number(C.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),m(!1),w(),_()}catch(O){e({kind:"error",title:"Error",message:O.response?.data?.detail||"Error al crear"})}finally{y(!1)}},D=async C=>{if(confirm(`Eliminar usuario ${C.username}?
Esto solo es posible si no tiene registros.`))try{y(!0),await Ge.delete(`/auth/users/${C.id}`),e({kind:"success",message:"Usuario eliminado"}),_()}catch(O){e({kind:"error",title:"No se puede eliminar",message:O.response?.data?.detail||O.message})}finally{y(!1)}},ee=async C=>{if(p)try{y(!0),await Ge.put(`/auth/users/${p.id}/password`,{new_password:C}),e({kind:"success",message:`Contrasea de ${p.username} actualizada`}),v(null)}catch(O){e({kind:"error",message:O.response?.data?.detail||"Error actualizando clave"})}finally{y(!1)}};return l?c.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[c.jsx(Cl,{show:L||h}),c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[c.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),c.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:"+ Nuevo Usuario"})]}),c.jsx("div",{className:"card shadow-sm",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover align-middle mb-0",children:[c.jsx("thead",{className:"table-light",children:c.jsxs("tr",{children:[c.jsx("th",{children:"Usuario"}),c.jsx("th",{children:"Nombre"}),c.jsx("th",{children:"Rol"}),c.jsx("th",{children:"N Tcnico"}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[x?.map(C=>c.jsxs("tr",{children:[c.jsx("td",{className:"fw-bold",children:C.username}),c.jsxs("td",{children:[C.first_name," ",C.last_name]}),c.jsx("td",{children:(()=>{const O=Qa(C.role,C.username),te=C.username.toLowerCase()==="admin"?"Superusuario":O==="administrator"?"Administrador":O==="technician"?"Tcnico":"Estndar",q=C.username.toLowerCase()==="admin"?"bg-danger":O==="administrator"?"bg-warning text-dark":O==="technician"?"bg-info text-dark":"bg-secondary";return c.jsx("span",{className:`badge ${q}`,children:te})})()}),c.jsx("td",{children:C.tech_number}),c.jsxs("td",{className:"text-end",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Cambiar contrasea","aria-label":`Cambiar contrasea de ${C.username}`,disabled:C.username==="admin"||!o&&Qa(C.role,C.username)==="administrator",onClick:()=>v(C),children:c.jsx("i",{className:"ti ti-key"})}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${C.username}`,disabled:C.username==="admin"||!o&&Qa(C.role,C.username)==="administrator",onClick:()=>D(C),children:c.jsx("i",{className:"ti ti-trash"})})]})]},C.id)),x?.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),d&&c.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:A(U),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",children:"Nuevo Usuario"}),c.jsx("button",{type:"button",className:"btn-close",onClick:()=>m(!1)})]}),c.jsxs("div",{className:"modal-body row g-3",children:[c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Usuario"}),c.jsx("input",{className:"form-control",...E("username",{required:!0})})]}),c.jsx("div",{className:"col-6",children:c.jsx(Li,{label:"Contrasea",...E("password",{required:!0}),autoComplete:"new-password"})}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Nombre"}),c.jsx("input",{className:"form-control",...E("first_name",{required:!0})})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Apellido"}),c.jsx("input",{className:"form-control",...E("last_name",{required:!0})})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Rol"}),c.jsxs("select",{className:"form-select",...E("role"),children:[c.jsx("option",{value:"technician",children:"Tcnico"}),c.jsx("option",{value:"standard",children:"Estndar"}),o?c.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"N Tcnico"}),c.jsx("input",{type:"number",className:"form-control",...E("tech_number",{required:!0})}),c.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estndar)"})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})})}),c.jsx(Xi,{show:!!p,title:`Cambiar contrasea de ${p?.username}`,onClose:()=>v(null),onConfirm:ee,confirmLabel:"Cambiar contrasea",helpText:"Esta accin cambia la contrasea de inicio de sesin del usuario."})]}):c.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function fT(){const{toast:e}=As(),[a,r]=b.useState(""),[l,o]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,y=async p=>{if(p.preventDefault(),!!h)try{m(!0),await cj(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),r(""),o("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return c.jsx("div",{className:"container py-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"card shadow-sm",children:[c.jsx("div",{className:"card-header",children:c.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),c.jsxs("form",{onSubmit:y,children:[c.jsxs("div",{className:"card-body",children:[c.jsx("div",{className:"mb-3",children:c.jsx(Li,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>r(p.target.value),required:!0,autoComplete:"current-password"})}),c.jsx("div",{className:"mb-3",children:c.jsx(Li,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>o(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),c.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{r(""),o("")},disabled:d,children:"Limpiar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function mT(){const{data:e}=await Ge.get("/admin/permisos");return e}async function hT(e,a){const{data:r}=await Ge.put(`/admin/permisos/${e}`,{allowedModules:a});return r}const px=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"future_logistica",label:"Logstica (FUTURO)",path:"FUTURO"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}];function mb(e){const a=new Set(px.map(o=>o.id)),r=new Set,l=[];for(const o of e)!a.has(o)||r.has(o)||(r.add(o),l.push(o));return l}function pT(){const e=zm(),{toast:a}=As(),{data:r,isLoading:l,error:o}=ws({queryKey:["admin","permisos"],queryFn:mT}),[d,m]=b.useState(null),[h,y]=b.useState([]),p=(d?.username??"").toLowerCase()==="admin",v=w=>{m(w),y(mb(w.allowedModules??[]))},x=()=>{m(null),y([])},_=FN({mutationFn:async w=>hT(w.userId,w.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),x()},onError:w=>{const U=w?.response?.data?.detail??w?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(U)})}}),L=b.useMemo(()=>r??[],[r]),E=w=>{y(U=>{const D=new Set(U);return D.has(w)?D.delete(w):D.add(w),Array.from(D)})},A=()=>{d&&_.mutate({userId:d.id,allowedModules:mb(h)})};return c.jsxs("div",{className:"container-fluid",children:[c.jsx(Cl,{show:_.isPending,label:"Guardando permisos..."}),c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),c.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),l?c.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):o?c.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm align-middle",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Usuario"}),c.jsx("th",{children:"Rol"}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[L.map(w=>c.jsxs("tr",{children:[c.jsx("td",{children:w.username}),c.jsx("td",{children:w.role}),c.jsx("td",{className:"text-end",children:c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>v(w),disabled:(w.username??"").toLowerCase()==="admin",children:"Editar"})})]},w.id)),L.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})})]})})}),d&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:w=>{w.target===w.currentTarget&&x()},children:c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",d.username]}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:x})]}),c.jsxs("div",{className:"modal-body",children:[p?c.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",c.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,c.jsx("div",{className:"row",children:px.map(w=>c.jsx("div",{className:"col-md-6 mb-2",children:c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${d.id}-${w.id}`,checked:h.includes(w.id),onChange:()=>E(w.id),disabled:_.isPending||p}),c.jsxs("label",{className:"form-check-label",htmlFor:`perm-${d.id}-${w.id}`,children:[w.label," ",c.jsxs("span",{className:"text-muted",children:["(",w.path,")"]})]})]})},w.id))}),c.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:x,disabled:_.isPending,children:"Cancelar"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:A,disabled:_.isPending||p,children:"Guardar"})]})]})})})]})}function gT(e){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function yT(e,a){return Ge.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function vT(e,a){return Ge.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function hb(e,a,r){const l=gT(`/integrations/vima-to-lista/progress/${e}`),o=Mn()?.token,d=await fetch(l,{method:"GET",headers:o?{Authorization:`Bearer ${o}`}:void 0,signal:r});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let y="";for(;;){const{value:p,done:v}=await m.read();if(v)break;y+=h.decode(p,{stream:!0});let x;for(;(x=y.indexOf(`
`))>=0;){const _=y.slice(0,x).trim();if(y=y.slice(x+1),!!_)try{a(JSON.parse(_))}catch{}}}}function gx(e){return`${e.name}::${e.size}::${e.lastModified}`}function bT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function Bc(e){return bT(e.name)}function xT(e){if(!e)return null;const a=e.split(",").map(r=>r.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function th(e,a){const r=xT(a);if(!r)return e;const l=r.filter(o=>o.startsWith("."));return l.length===0?e:e.filter(o=>l.some(d=>o.name.toLowerCase().endsWith(d)))}function ST(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const r=[...e],l=[],o=[],d=new Set(e.map(Bc));for(const m of a){const h=Bc(m);if(d.has(h)){o.push(m);continue}d.add(h),r.push(m),l.push(m)}return{merged:r,added:l,duplicates:o}}function Ii({label:e,accept:a,disabled:r=!1,file:l,onChange:o}){const d=b.useRef(null),m=b.useRef(0),[h,y]=b.useState(!1),p=()=>{r||d.current?.click()},v=()=>{r||(d.current&&(d.current.value=""),o(null))},x=w=>{o(w.target.files?.[0]??null),w.currentTarget.value=""},_=w=>{w.preventDefault(),w.stopPropagation(),!r&&(m.current+=1,y(!0))},L=w=>{w.preventDefault(),w.stopPropagation()},E=w=>{w.preventDefault(),w.stopPropagation(),!r&&(m.current=Math.max(0,m.current-1),m.current===0&&y(!1))},A=w=>{if(w.preventDefault(),w.stopPropagation(),m.current=0,y(!1),r)return;const U=w.dataTransfer?.files?Array.from(w.dataTransfer.files):[],ee=th(U,a)[0]??null;ee&&(d.current&&(d.current.value=""),o(ee))};return c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:e}),c.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:r}),c.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:_,onDragOver:L,onDragLeave:E,onDrop:A,"aria-disabled":r?"true":"false",children:c.jsxs("div",{className:"input-group",children:[c.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:r,children:"Examinar"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:r||!l,children:"Eliminar"}),c.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const _T={status:"estado",progress:"progreso",complete:"completado",error:"error"},wT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},NT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function yx(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function xl(e){if(!e)return"";const a=e.toLowerCase();return yx(_T[a]??e)}function Ji(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),r=e.trim().replace(/[_-]+/g," ");return yx(wT[a]??Rl(r))}function Rl(e){if(!e)return"";let a=e;for(const[r,l]of NT)a=a.replace(r,l);return a}function ET(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function jT(e,a){const r=URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}function AT(){const[e,a]=b.useState(null),[r,l]=b.useState(null),[o,d]=b.useState(""),[m,h]=b.useState(11),[y,p]=b.useState(11),[v,x]=b.useState(!0),[_,L]=b.useState(!0),[E,A]=b.useState(!0),[w,U]=b.useState(!0),[D,ee]=b.useState(""),[C,O]=b.useState(null),[te,q]=b.useState(null),[ne,ce]=b.useState(null),[we,xe]=b.useState([]),[me,be]=b.useState(""),Ae=b.useRef(null),ve=b.useRef(null),[B,re]=b.useState(!1),[se,Oe]=b.useState(!1),[Ee,N]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Y=b.useMemo(()=>!!e&&!!r&&!C,[e,r,C]);function oe(Se){xe(Le=>[Se,...Le].slice(0,200));const Ye=typeof Se.percent=="number"?Se.percent:typeof Se.progress=="number"?Se.progress:null;Ye!=null&&Number.isFinite(Ye)&&ce(Math.max(0,Math.min(100,Ye)))}function pe(){Ae.current?.abort(),Ae.current=null}function Re(){C&&pe()}function Te(Se,Ye){if(!e||!r)throw new Error("Faltan archivos");const Le=new FormData;Le.append("vima_file",e),Le.append("lista_file",r);const Xe=(Ye??o).trim();return Xe&&Le.append("vima_password",Xe),Le.append("vima_start_row",String(m)),Le.append("lista_start_row",String(y)),Le.append("require_all_g_to_n",v?"true":"false"),Le.append("incremental",_?"true":"false"),Le.append("strict_incremental",E?"true":"false"),Le.append("replicate_merges",w?"true":"false"),D.trim()&&Le.append("oi_pattern",D.trim()),Le.append("operation_id",Se),Le}function Me(){ve.current=null,Oe(!1)}function $e(Se,Ye){ve.current=Se,N(Ye),Oe(!0)}function he(Se,Ye){if(!ft.isAxiosError(Se)){be(String(Se));return}const Le=Se;if(Le.code==="ERR_CANCELED")return;const Xe=Le.response?.headers?.["x-code"],Ne=Le.response?.data?.detail??Le.message;if(Xe==="PASSWORD_REQUIRED"){be(""),$e(Ye,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Xe==="WRONG_PASSWORD"){be(""),$e(Ye,"Contrasea incorrecta. Intenta nuevamente.");return}be(String(Ne))}async function Ue(Se){be(""),q(null),xe([]),ce(0);const Ye=crypto.randomUUID();Ae.current=new AbortController,hb(Ye,oe,Ae.current.signal).catch(()=>{}),O("dry");try{const Le=Te(Ye,Se?.passwordOverride),Xe=await yT(Le,Ae.current.signal);q(Xe.data)}catch(Le){he(Le,"dry")}finally{pe(),O(null)}}async function Qe(Se){be(""),xe([]),ce(0);const Ye=crypto.randomUUID();Ae.current=new AbortController,hb(Ye,oe,Ae.current.signal).catch(()=>{}),O("upload");try{const Le=Te(Ye,Se?.passwordOverride),Xe=await vT(Le,Ae.current.signal),Ne=Xe.headers?.["content-disposition"],Ke=ET(Ne)??"LISTA_SALIDA.xlsx";jT(Xe.data,Ke)}catch(Le){he(Le,"upload")}finally{pe(),O(null)}}return c.jsxs("div",{className:"container-fluid",children:[c.jsxs("div",{className:"row gap-20",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),c.jsx("div",{className:"mB-15",children:c.jsx(Ii,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!C})}),c.jsx("div",{className:"mB-15",children:c.jsx(Ii,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:r,onChange:l,disabled:!!C})}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),c.jsx("input",{className:"form-control",type:"password",value:o,onChange:Se=>d(Se.target.value),placeholder:"(opcional)"})]}),B?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),c.jsx("input",{className:"form-control",type:"number",value:m,onChange:Se=>h(Number(Se.target.value))})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),c.jsx("input",{className:"form-control",type:"number",value:y,onChange:Se=>p(Number(Se.target.value))})]})]}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),c.jsx("input",{className:"form-control",value:D,onChange:Se=>ee(Se.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),c.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),c.jsxs("div",{className:"row mT-10",children:[c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:Se=>x(Se.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:w,onChange:Se=>U(Se.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:_,onChange:Se=>L(Se.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:E,onChange:Se=>A(Se.target.checked),disabled:!_}),c.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})})]})]}):null,me&&c.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:me}),c.jsx("div",{className:"d-flex justify-content-end mT-10",children:c.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>re(Se=>!Se),disabled:!!C,children:B?"Menos Opciones":"Ms Opciones"})}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary",disabled:!Y,onClick:()=>void Qe(),children:C==="upload"?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger",disabled:!C,onClick:Re,children:"Cancelar"}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!Y,onClick:()=>void Ue(),children:C==="dry"?"Analizando...":"Analizar"})]}),te&&c.jsxs("div",{className:"mT-20",children:[c.jsx("h5",{className:"c-grey-900",children:"Resumen"}),c.jsxs("ul",{className:"mB-0",children:[c.jsxs("li",{children:["Filas a copiar: ",c.jsx("b",{children:te.would_copy})]}),c.jsxs("li",{children:["Fila inicio escritura (LISTA): ",c.jsx("b",{children:te.start_write_row})]}),c.jsxs("li",{children:["ltimo OI en LISTA: ",c.jsx("b",{children:String(te.last_oi_in_lista??"-")})]}),c.jsxs("li",{children:["Primer OI a copiar: ",c.jsx("b",{children:String(te.first_oi_to_copy??"-")})]}),c.jsxs("li",{children:["ltimo OI a copiar: ",c.jsx("b",{children:String(te.last_oi_to_copy??"-")})]})]})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),C?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${ne??0}%`},"aria-valuenow":ne??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:we.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:we.map((Se,Ye)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:xl(Se.type)})," ",Se.stage?c.jsxs("span",{className:"text-muted",children:["[",Ji(Se.stage),"]"]}):null,typeof Se.percent=="number"?c.jsxs("span",{className:"text-muted",children:["  ",Se.percent.toFixed(1),"%"]}):null]}),c.jsx("div",{className:"text-muted",children:Rl(Se.message??Se.detail??"")}),Se.code?c.jsxs("div",{className:"text-muted",children:["Cdigo: ",Se.code]}):null]},Ye))})})]})})]}),c.jsx(Xi,{show:se,title:"Archivo protegido",confirmLabel:"Continuar",helpText:Ee,onClose:Me,onConfirm:Se=>{d(Se),Oe(!1);const Ye=ve.current;ve.current=null,Ye&&(Ye==="dry"?Ue({passwordOverride:Se}):Qe({passwordOverride:Se}))}})]})}const OT=(...e)=>{};function lu(e){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function vx(e,a){if(!e.body)return;const r=e.body.getReader(),l=new TextDecoder("utf-8");let o="";for(;;){const{value:d,done:m}=await r.read();if(m)break;o+=l.decode(d,{stream:!0});let h;for(;(h=o.indexOf(`
`))>=0;){const y=o.slice(0,h).trim();if(o=o.slice(h+1),!!y)try{a(JSON.parse(y))}catch{}}}}function yl(e,a,r){const l=new Error(e);return a!=null&&(l.status=a),r&&(l.code=r),l}async function nh(e,a,r){const l=lu(`/integrations/vima-to-lista/progress/${e}`),o=Mn()?.token,d=await fetch(l,{method:"GET",headers:{...o?{Authorization:`Bearer ${o}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:r});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw yl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await vx(d,a)}async function CT(e,a,r){const l=lu(`/logistica/log01/progress/${e}`),o=Mn()?.token,d=await fetch(l,{method:"GET",headers:{...o?{Authorization:`Bearer ${o}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:r});if(!d.ok){const x=d.headers.get("X-Code")??void 0;throw yl(`No se pudo abrir el stream (${d.status})`,d.status,x)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw yl("Stream no es NDJSON",d.status);if(!d.body)throw yl("Stream sin body",d.status);const h=d.body.getReader(),y=new TextDecoder("utf-8");let p="",v=!1;for(;;){const{value:x,done:_}=await h.read();if(_)break;!v&&x&&x.length&&(v=!0),p+=y.decode(x,{stream:!0});let L;for(;(L=p.indexOf(`
`))>=0;){const E=p.slice(0,L).trim();if(p=p.slice(L+1),!!E)try{const A=JSON.parse(E);OT("[LOG01] progress event =",A),a(A)}catch{}}}}async function RT(e,a,r){const l=lu("/bases/actualizar/dry-run-upload"),o=Mn()?.token,d=await fetch(l,{method:"POST",headers:o?{Authorization:`Bearer ${o}`}:void 0,body:e,signal:r});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const y=await d.json();y?.detail&&(h=String(y.detail))}catch{}throw yl(h,d.status,m)}await vx(d,a)}async function TT(e,a){return Ge.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function DT(e,a){return Ge.post("/logistica/log01/start",e,{signal:a})}async function zT(e,a,r){const l=lu(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),o=Mn()?.token,d=await fetch(l,{method:"GET",headers:o?{Authorization:`Bearer ${o}`}:void 0,signal:r});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw yl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function MT(e,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:r=>r===200})}async function kT(e,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(e)}/no-conforme`,{responseType:"blob",signal:a,validateStatus:r=>r===200})}async function UT(e,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(e)}/manifest`,{responseType:"blob",signal:a,validateStatus:r=>r===200})}async function LT(e){await Ge.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function bx(){const{data:e}=await Ge.get("/merge/config/upload-limits");return e}async function xx(e,a,r){return Ge.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:r})}async function Sx(e){await Ge.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function qT(e){const{data:a}=await Ge.post("/tools/files/upload",e);return a}async function BT(e){const{data:a}=await Ge.post("/tools/excel/inspect",e);return a}async function IT(e){const{data:a}=await Ge.post("/tools/excel/update",e);return a}async function FT(e){const{data:a}=await Ge.post("/tools/excel/change-password",e);return a}async function $T(e){const{data:a}=await Ge.post("/tools/excel/validate",e);return a}function HT({show:e,disabled:a=!1,title:r,accept:l,files:o,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:y}){const p=b.useRef(null),v=b.useRef(0),[x,_]=b.useState(!1),[L,E]=b.useState("");if(b.useEffect(()=>{if(!e)return;const q=ne=>{ne.key==="Escape"&&d()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[e,d]),b.useEffect(()=>{e||_(!1)},[e]),b.useEffect(()=>{e&&E("")},[e]),!e)return null;const A=q=>{const ne=th(q,l);if(ne.length===0)return;const ce=new Set(o.map(Bc)),we=new Set(ce),xe=[],me=[];for(const be of ne){const Ae=Bc(be);if(we.has(Ae)){me.push(be);continue}we.add(Ae),xe.push(be)}if(me.length>0){const be=Array.from(new Set(me.map(ve=>ve.name))),Ae=me.length;if(be.length===1){const ve=Ae===1?"Se omiti 1 archivo duplicado":`Se omitieron ${Ae} archivos duplicados`;E(`${ve}: "${be[0]}".`)}else E(`Se omitieron ${Ae} archivos duplicados: ${be.join(", ")}.`)}xe.length>0&&m(xe)},w=()=>{a||p.current?.click()},U=q=>{const ne=q.target.files?Array.from(q.target.files):[];A(ne),q.currentTarget.value=""},D=()=>{a||(p.current&&(p.current.value=""),y())},ee=q=>{q.preventDefault(),q.stopPropagation(),!a&&(v.current+=1,_(!0))},C=q=>{q.preventDefault(),q.stopPropagation()},O=q=>{q.preventDefault(),q.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&_(!1))},te=q=>{if(q.preventDefault(),q.stopPropagation(),v.current=0,_(!1),a)return;const ne=q.dataTransfer?.files?Array.from(q.dataTransfer.files):[];A(ne)};return c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:q=>{q.target===q.currentTarget&&d()},children:c.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:r}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),c.jsxs("div",{className:"modal-body",children:[c.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:U,disabled:a}),L?c.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[c.jsx("div",{children:L}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>E("")})]}):null,c.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:ee,onDragOver:C,onDragLeave:O,onDrop:te,"aria-disabled":a?"true":"false",children:[c.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",c.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:w,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?c.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[c.jsx("div",{className:"text-muted",children:o.length===0?"No se han seleccionado archivos.":o.length===1?"1 archivo seleccionado":`${o.length} archivos seleccionados`}),c.jsxs("div",{className:"d-flex gap-10",children:[c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:w,disabled:a,children:"Agregar ms"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:D,disabled:a||o.length===0,children:"Eliminar todos"})]})]}),o.length===0?null:c.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:c.jsx("ul",{className:"list-group",children:o.map(q=>{const ne=gx(q);return c.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[c.jsx("div",{className:"text-truncate",style:{minWidth:0},children:q.name}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(ne),disabled:a,children:"Eliminar"})]},ne)})})})]}),c.jsx("div",{className:"modal-footer",children:c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function VT(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(l=>l.name))),r=e.length;return a.length===1?`${r===1?"Se omiti 1 archivo duplicado":`Se omitieron ${r} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${r} archivos duplicados: ${a.join(", ")}.`}function iu({label:e,title:a,accept:r,disabled:l=!1,files:o,setFiles:d}){const[m,h]=b.useState(!1),[y,p]=b.useState(!1),[v,x]=b.useState(""),_=b.useRef(0),L=b.useMemo(()=>o.length===0?"No se han seleccionado archivos.":o.length===1?"1 archivo seleccionado":`${o.length} archivos seleccionados`,[o.length]),E=o.length===0?"Agregar archivos":"Modificar/agregar archivos",A=C=>{const O=th(C,r);O.length!==0&&d(te=>{const{merged:q,duplicates:ne}=ST(te,O);return ne.length>0&&x(VT(ne)),q})},w=C=>{C.preventDefault(),C.stopPropagation(),!l&&(_.current+=1,p(!0))},U=C=>{C.preventDefault(),C.stopPropagation()},D=C=>{C.preventDefault(),C.stopPropagation(),!l&&(_.current=Math.max(0,_.current-1),_.current===0&&p(!1))},ee=C=>{if(C.preventDefault(),C.stopPropagation(),_.current=0,p(!1),l)return;const O=C.dataTransfer?.files?Array.from(C.dataTransfer.files):[];A(O)};return c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:e}),c.jsx("div",{className:`vi-file-drop-target${y?" is-dragover":""}`,onDragEnter:w,onDragOver:U,onDragLeave:D,onDrop:ee,"aria-disabled":l?"true":"false",children:c.jsxs("div",{className:"input-group",children:[c.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>h(!0),disabled:l,children:E}),c.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:L})]})}),v?c.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[c.jsx("div",{children:v}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>x("")})]}):null,c.jsx(HT,{show:m,disabled:l,title:a,accept:r,files:o,onClose:()=>h(!1),onAddFiles:A,onRemoveFile:C=>d(O=>O.filter(te=>gx(te)!==C)),onRemoveAll:()=>d([])})]})}function ZT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function GT(e,a){const r=URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}async function QT(e){if(!ft.isAxiosError(e))return{detail:String(e)};const a=e,r=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:r}}catch{return{detail:a.message,code:r}}const o=l?.detail??a.message;return{detail:String(o),code:r}}function YT(){const[e,a]=b.useState(null),[r,l]=b.useState([]),[o,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,x]=b.useState(9),[_,L]=b.useState("ERROR FINAL"),[E,A]=b.useState(!0),[w,U]=b.useState(!1),[D,ee]=b.useState(!1),[C,O]=b.useState(null),[te,q]=b.useState(null),[ne,ce]=b.useState([]),[we,xe]=b.useState(""),me=b.useRef(null),be=b.useRef(null),[Ae,ve]=b.useState(!1),[B,re]=b.useState(!1),[se,Oe]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Ee=b.useMemo(()=>!!e&&r.length>0&&!C,[e,r,C]);function N(he){ce(Qe=>[he,...Qe].slice(0,200));const Ue=typeof he.percent=="number"?he.percent:typeof he.progress=="number"?he.progress:null;Ue!=null&&Number.isFinite(Ue)&&q(Math.max(0,Math.min(100,Ue)))}function Y(){me.current?.abort(),me.current=null}function oe(){C&&Y()}function pe(he,Ue){if(!e)throw new Error("Falta el archivo Base");if(r.length===0)throw new Error("Faltan archivos OI");const Qe=new FormData;Qe.append("base_file",e);for(const Ye of r)Qe.append("oi_files",Ye);const Se=(Ue??o).trim();return Se&&Qe.append("default_password",Se),m.trim()&&Qe.append("per_file_passwords_json",m.trim()),y.trim()&&Qe.append("oi_pattern",y.trim()),Qe.append("oi_start_row",String(v)),_.trim()&&Qe.append("base_sheet",_.trim()),he&&Qe.append("operation_id",he),Qe}function Re(){be.current=null,re(!1)}function Te(he,Ue){be.current=he,Oe(Ue),re(!0)}async function Me(he){xe(""),ce([]),q(0),me.current=new AbortController,O("dry");try{const Ue=pe(void 0,he?.passwordOverride);await RT(Ue,N,me.current.signal)}catch(Ue){if(Ue?.name==="AbortError")return;const Qe=Ue?.code,Se=String(Ue?.message??Ue);if(Qe==="PASSWORD_REQUIRED"){xe(""),Te("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Qe==="WRONG_PASSWORD"){xe(""),Te("dry","Contrasea incorrecta. Intenta nuevamente.");return}else xe(Se)}finally{Y(),O(null)}}async function $e(he){xe(""),ce([]),q(0);const Ue=crypto.randomUUID();me.current=new AbortController,nh(Ue,N,me.current.signal).catch(()=>{}),O("upload");try{const Qe=pe(Ue,he?.passwordOverride);Qe.append("replicate_merges",E?"true":"false"),Qe.append("replicate_row_heights",w?"true":"false"),Qe.append("replicate_col_widths",D?"true":"false");const Se=await TT(Qe,me.current.signal),Ye=Se.headers["content-disposition"],Le=Se.headers["x-file-name"],Xe=ZT(Ye)??Le??"base_actualizada.xlsx";GT(Se.data,Xe)}catch(Qe){if(ft.isAxiosError(Qe)&&Qe.code==="ERR_CANCELED")return;const{detail:Se,code:Ye}=await QT(Qe);if(Ye==="PASSWORD_REQUIRED"){xe(""),Te("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ye==="WRONG_PASSWORD"){xe(""),Te("upload","Contrasea incorrecta. Intenta nuevamente.");return}else xe(Se)}finally{Y(),O(null)}}return c.jsxs("div",{className:"container-fluid",children:[c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),c.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Ii,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!C})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(iu,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:r,setFiles:l,disabled:!!C})}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:o,onChange:he=>d(he.target.value),disabled:!!C})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),c.jsx("input",{className:"form-control",value:_,onChange:he=>L(he.target.value),disabled:!!C})]}),Ae?c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),c.jsx("input",{className:"form-control",value:y,onChange:he=>p(he.target.value),disabled:!!C})]}):null,c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio OI"}),c.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:he=>x(Number(he.target.value||9)),disabled:!!C})]}),c.jsxs("div",{className:"col-12 mB-15",children:[c.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),c.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:he=>h(he.target.value),disabled:!!C,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),Ae?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:E,onChange:he=>A(he.target.checked),disabled:!!C}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:w,onChange:he=>U(he.target.checked),disabled:!!C}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:D,onChange:he=>ee(he.target.checked),disabled:!!C}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),we&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:we}),c.jsx("div",{className:"d-flex justify-content-end mT-10",children:c.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>ve(he=>!he),disabled:!!C,children:Ae?"Menos Opciones":"Ms Opciones"})}),c.jsxs("div",{className:"d-flex gap-10 mT-15",children:[c.jsx("button",{className:"btn btn-primary",disabled:!Ee,onClick:()=>void $e(),children:C==="upload"?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger",disabled:!C,onClick:oe,children:"Cancelar"}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!Ee,onClick:()=>void Me(),children:C==="dry"?"Analizando...":"Analizar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),C?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${te??0}%`},"aria-valuenow":te??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:ne.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:ne.map((he,Ue)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:xl(he.type)})," ",he.stage?c.jsxs("span",{className:"text-muted",children:["[",Ji(he.stage),"]"]}):null,typeof he.percent=="number"?c.jsxs("span",{className:"text-muted",children:["  ",he.percent.toFixed(1),"%"]}):null]}),c.jsx("div",{className:"text-muted",children:Rl(he.message??he.detail??"")}),he.code?c.jsxs("div",{className:"text-muted",children:["Cdigo: ",he.code]}):null]},Ue))})})]})})]}),c.jsx(Xi,{show:B,title:"Archivo protegido",confirmLabel:"Continuar",helpText:se,onClose:Re,onConfirm:he=>{d(he),re(!1);const Ue=be.current;be.current=null,Ue&&(Ue==="dry"?Me({passwordOverride:he}):$e({passwordOverride:he}))}})]})}function KT(){return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),c.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6 mB-15",children:c.jsx("div",{className:"card h-100",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h5",{className:"card-title",children:"Correlativo"}),c.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),c.jsx(Ec,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),c.jsx("div",{className:"col-md-6 mB-15",children:c.jsx("div",{className:"card h-100",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h5",{className:"card-title",children:"No correlativo"}),c.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),c.jsx(Ec,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function PT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function XT(e,a){const r=URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}async function JT(e){if(!ft.isAxiosError(e))return String(e);const a=e,r=a.response?.data;if(r instanceof Blob)try{const l=await r.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(r?.detail??a.message)}function WT(){const[e,a]=b.useState(null),[r,l]=b.useState(null),[o,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,x]=b.useState(null),[_,L]=b.useState([]),E=b.useRef(null),A=b.useRef(null),w=b.useMemo(()=>!!r&&o.length>0&&!m,[r,o,m]);b.useEffect(()=>{bx().then(a).catch(()=>a(null))},[]);function U(O){L(q=>[O,...q].slice(0,200));const te=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;te!=null&&Number.isFinite(te)&&x(Math.max(0,Math.min(100,te)))}function D(){E.current?.abort(),E.current=null}function ee(){if(!m)return;const O=A.current;O&&Sx(O).catch(()=>{}),U({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function C(){if(p(""),L([]),x(0),!r){p("Selecciona el archivo maestro.");return}if(o.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",r);for(const q of o)O.append("technicians",q);const te=crypto.randomUUID();A.current=te,O.append("operation_id",te),E.current=new AbortController,h(!0);try{const q=E.current?.signal;nh(te,U,q).catch(()=>{});const ne=await xx(O,"correlativo",q),ce=ne.headers["content-disposition"],we=PT(ce)??"consolidado_correlativo.xlsx";XT(ne.data,we)}catch(q){if(ft.isAxiosError(q)&&q.code==="ERR_CANCELED"||ft.isAxiosError(q)&&(q.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const ne=await JT(q);U({type:"error",stage:"error",detail:ne}),p(ne)}finally{A.current=null,h(!1),D()}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),c.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&c.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",c.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",c.jsx("b",{children:e.max_tech_files})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Ii,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:r,onChange:l,disabled:m})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(iu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:o,setFiles:d,disabled:m})})]}),y&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary mT-10",disabled:!w,onClick:C,children:m?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:ee,children:"Cancelar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),m?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:_.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:_.map((O,te)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:xl(O.type)})," ",O.stage?c.jsxs("span",{className:"text-muted",children:["[",Ji(O.stage),"]"]}):null]}),c.jsx("div",{className:"text-muted",children:Rl(O.message??O.detail??"")})]},te))})})]})})]})})}function e2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function t2(e,a){const r=URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}async function n2(e){if(!ft.isAxiosError(e))return String(e);const a=e,r=a.response?.data;if(r instanceof Blob)try{const l=await r.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(r?.detail??a.message)}function a2(){const[e,a]=b.useState(null),[r,l]=b.useState(null),[o,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,x]=b.useState(null),[_,L]=b.useState([]),E=b.useRef(null),A=b.useRef(null),w=b.useMemo(()=>!!r&&o.length>0&&!m,[r,o,m]);b.useEffect(()=>{bx().then(a).catch(()=>a(null))},[]);function U(O){L(q=>[O,...q].slice(0,200));const te=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;te!=null&&Number.isFinite(te)&&x(Math.max(0,Math.min(100,te)))}function D(){E.current?.abort(),E.current=null}function ee(){if(!m)return;const O=A.current;O&&Sx(O).catch(()=>{}),U({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function C(){if(p(""),L([]),x(0),!r){p("Selecciona el archivo maestro.");return}if(o.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",r);for(const q of o)O.append("technicians",q);const te=crypto.randomUUID();A.current=te,O.append("operation_id",te),E.current=new AbortController,h(!0);try{const q=E.current?.signal;nh(te,U,q).catch(()=>{});const ne=await xx(O,"no-correlativo",q),ce=ne.headers["content-disposition"],we=e2(ce)??"consolidado_no_correlativo.xlsx";t2(ne.data,we)}catch(q){if(ft.isAxiosError(q)&&q.code==="ERR_CANCELED"||ft.isAxiosError(q)&&(q.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const ne=await n2(q);U({type:"error",stage:"error",detail:ne}),p(ne)}finally{A.current=null,h(!1),D()}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),c.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&c.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",c.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",c.jsx("b",{children:e.max_tech_files})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Ii,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:r,onChange:l,disabled:m})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(iu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:o,setFiles:d,disabled:m})})]}),y&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary mT-10",disabled:!w,onClick:C,children:m?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:ee,children:"Cancelar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),m?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:_.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:_.map((O,te)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:xl(O.type)})," ",O.stage?c.jsxs("span",{className:"text-muted",children:["[",Ji(O.stage),"]"]}):null]}),c.jsx("div",{className:"text-muted",children:Rl(O.message??O.detail??"")})]},te))})})]})})]})})}async function Ri(e){if(!ft.isAxiosError(e))return String(e);const a=e,r=a.response?.data;if(r instanceof Blob)try{const l=await r.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(r?.detail??a.message)}function r2(){const[e,a]=b.useState(null),[r,l]=b.useState(""),[o,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("ERROR FINAL"),[v,x]=b.useState(""),[_,L]=b.useState("same_password"),[E,A]=b.useState(""),[w,U]=b.useState([{cell:"A1",value:""}]),[D,ee]=b.useState(""),[C,O]=b.useState("no_password"),[te,q]=b.useState(""),[ne,ce]=b.useState("ERROR FINAL"),[we,xe]=b.useState(1),[me,be]=b.useState(""),[Ae,ve]=b.useState(""),[B,re]=b.useState(""),[se,Oe]=b.useState(null),[Ee,N]=b.useState(""),[Y,oe]=b.useState(null),[pe,Re]=b.useState([]),[Te,Me]=b.useState(null),$e=b.useMemo(()=>o.trim().length>0,[o]);function he(Ne){Re(Ke=>[Ne,...Ke].slice(0,200))}function Ue(){N(""),Re([]),oe(0),Me(null)}async function Qe(){if(Ue(),!e){N("Selecciona un archivo para subir.");return}Oe("upload");try{he({type:"status",stage:"upload",message:"Subiendo archivo..."}),oe(30);const Ne=new FormData;Ne.append("file",e),r.trim()&&Ne.append("suggested_name",r.trim());const Ke=await qT(Ne);d(Ke.relative_path),Me(Ke),he({type:"complete",stage:"upload",message:"Archivo subido."}),oe(100)}catch(Ne){const Ke=await Ri(Ne);N(Ke),he({type:"error",stage:"upload",detail:Ke})}finally{Oe(null)}}async function Se(){if(Ue(),!$e){N("Ingresa o sube un archivo para obtener file_path.");return}Oe("inspect");try{he({type:"status",stage:"inspect",message:"Inspeccionando..."}),oe(50);const Ne=await BT({file_path:o.trim(),open_password:m.trim()||null});Me(Ne),he({type:"complete",stage:"inspect",message:"Inspeccin completada."}),oe(100)}catch(Ne){const Ke=await Ri(Ne);N(Ke),he({type:"error",stage:"inspect",detail:Ke})}finally{Oe(null)}}async function Ye(){if(Ue(),!$e){N("Ingresa o sube un archivo para obtener file_path.");return}if(!y.trim()){N("Ingresa el nombre de la hoja.");return}const Ne=w.map(Ke=>({cell:Ke.cell.trim(),value:Ke.value})).filter(Ke=>Ke.cell);if(Ne.length===0){N("Agrega al menos una edicin.");return}Oe("update");try{he({type:"status",stage:"update",message:"Aplicando ediciones..."}),oe(50);const Ke=await IT({file_path:o.trim(),edits:Ne.map(lt=>({sheet:y.trim(),cell:lt.cell,value:lt.value})),open_password:v.trim()||null,save_mode:_,new_password:_==="new_password"&&E.trim()||null});Me(Ke),he({type:"complete",stage:"update",message:"Actualizacin completada."}),oe(100)}catch(Ke){const lt=await Ri(Ke);N(lt),he({type:"error",stage:"update",detail:lt})}finally{Oe(null)}}async function Le(){if(Ue(),!$e){N("Ingresa o sube un archivo para obtener file_path.");return}if(!D.trim()){N("Ingresa la contrasea de apertura (open_password).");return}if(C==="new_password"&&!te.trim()){N("Ingresa la nueva contrasea.");return}Oe("change-password");try{he({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),oe(50);const Ne=await FT({file_path:o.trim(),open_password:D.trim(),mode:C,new_password:C==="new_password"?te.trim():null});Me(Ne),he({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),oe(100)}catch(Ne){const Ke=await Ri(Ne);N(Ke),he({type:"error",stage:"change-password",detail:Ke})}finally{Oe(null)}}async function Xe(){if(Ue(),!$e){N("Ingresa o sube un archivo para obtener file_path.");return}let Ne={};if(Ae.trim())try{Ne=JSON.parse(Ae)}catch{N("type_rules debe ser JSON vlido.");return}const Ke=me.split(",").map(lt=>lt.trim()).filter(Boolean);Oe("validate");try{he({type:"status",stage:"validate",message:"Validando..."}),oe(50);const lt=await $T({file_path:o.trim(),sheet:ne.trim()||null,header_row:we,required_columns:Ke,type_rules:Ne,open_password:B.trim()||null});Me(lt),he({type:"complete",stage:"validate",message:"Validacin completada."}),oe(100)}catch(lt){const Et=await Ri(lt);N(Et),he({type:"error",stage:"validate",detail:Et})}finally{Oe(null)}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),c.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-8 mB-10",children:c.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!se,onChange:Ne=>a(Ne.target.files?.[0]??null)})}),c.jsx("div",{className:"col-md-4 mB-10",children:c.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:r,disabled:!!se,onChange:Ne=>l(Ne.target.value)})})]}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!!se||!e,onClick:Qe,children:se==="upload"?"Subiendo...":"Subir"})]})}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"file_path"}),c.jsx("input",{className:"form-control",value:o,disabled:!!se,onChange:Ne=>d(Ne.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),c.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"2) Inspect"}),c.jsxs("div",{className:"row align-items-end",children:[c.jsxs("div",{className:"col-md-8 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!se,onChange:Ne=>h(Ne.target.value)})]}),c.jsx("div",{className:"col-md-4 mB-10",children:c.jsx("button",{className:"btn btn-primary w-100",disabled:!!se||!$e,onClick:Se,children:se==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"Hoja"}),c.jsx("input",{className:"form-control",value:y,disabled:!!se,onChange:Ne=>p(Ne.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!se,onChange:Ne=>x(Ne.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"save_mode"}),c.jsxs("select",{className:"form-select",value:_,disabled:!!se,onChange:Ne=>L(Ne.target.value),children:[c.jsx("option",{value:"same_password",children:"same_password"}),c.jsx("option",{value:"no_password",children:"no_password"}),c.jsx("option",{value:"new_password",children:"new_password"})]})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"new_password"}),c.jsx("input",{className:"form-control",type:"password",value:E,disabled:!!se||_!=="new_password",onChange:Ne=>A(Ne.target.value),placeholder:_==="new_password"?"Requerido":""})]})]}),c.jsxs("div",{className:"mT-10",children:[c.jsx("label",{className:"form-label",children:"Ediciones"}),w.map((Ne,Ke)=>c.jsxs("div",{className:"row g-2 mB-10",children:[c.jsx("div",{className:"col-md-3",children:c.jsx("input",{className:"form-control",value:Ne.cell,disabled:!!se,onChange:lt=>{const Et=w.slice();Et[Ke]={...Et[Ke],cell:lt.target.value},U(Et)},placeholder:"Celda (A1)"})}),c.jsx("div",{className:"col-md-7",children:c.jsx("input",{className:"form-control",value:Ne.value,disabled:!!se,onChange:lt=>{const Et=w.slice();Et[Ke]={...Et[Ke],value:lt.target.value},U(Et)},placeholder:"Valor"})}),c.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!se,onClick:()=>U(lt=>[...lt,{cell:"A1",value:""}]),children:"+"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!se||w.length===1,onClick:()=>U(lt=>lt.filter((Et,R)=>R!==Ke)),children:""})]})]},Ke))]}),c.jsx("button",{className:"btn btn-primary",disabled:!!se||!$e,onClick:Ye,children:se==="update"?"Actualizando...":"Update"})]})}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"4) Change password"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password"}),c.jsx("input",{className:"form-control",type:"password",value:D,disabled:!!se,onChange:Ne=>ee(Ne.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"mode"}),c.jsxs("select",{className:"form-select",value:C,disabled:!!se,onChange:Ne=>O(Ne.target.value),children:[c.jsx("option",{value:"no_password",children:"no_password"}),c.jsx("option",{value:"new_password",children:"new_password"})]})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"new_password"}),c.jsx("input",{className:"form-control",type:"password",value:te,disabled:!!se||C!=="new_password",onChange:Ne=>q(Ne.target.value),placeholder:C==="new_password"?"Requerido":""})]}),c.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:c.jsx("button",{className:"btn btn-primary w-100",disabled:!!se||!$e,onClick:Le,children:se==="change-password"?"Procesando...":"Change password"})})]})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"5) Validate"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"sheet (opcional)"}),c.jsx("input",{className:"form-control",value:ne,disabled:!!se,onChange:Ne=>ce(Ne.target.value)})]}),c.jsxs("div",{className:"col-md-3 mB-10",children:[c.jsx("label",{className:"form-label",children:"header_row"}),c.jsx("input",{className:"form-control",type:"number",min:1,value:we,disabled:!!se,onChange:Ne=>xe(Number(Ne.target.value||1))})]}),c.jsxs("div",{className:"col-md-3 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:B,disabled:!!se,onChange:Ne=>re(Ne.target.value)})]}),c.jsxs("div",{className:"col-12 mB-10",children:[c.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),c.jsx("input",{className:"form-control",value:me,disabled:!!se,onChange:Ne=>be(Ne.target.value),placeholder:"ColA, ColB, ColC"})]}),c.jsxs("div",{className:"col-12 mB-10",children:[c.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),c.jsx("textarea",{className:"form-control",rows:3,value:Ae,disabled:!!se,onChange:Ne=>ve(Ne.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),c.jsx("button",{className:"btn btn-primary",disabled:!!se||!$e,onClick:Xe,children:se==="validate"?"Validando...":"Validate"})]})}),Ee&&c.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Ee})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),se?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Y??0}%`},"aria-valuenow":Y??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:pe.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:pe.map((Ne,Ke)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:Ne.type})," ",Ne.stage?c.jsxs("span",{className:"text-muted",children:["[",Ne.stage,"]"]}):null]}),c.jsx("div",{className:"text-muted",children:Ne.message??Ne.detail??""})]},Ke))})}),c.jsx("hr",{className:"mY-15"}),c.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),Te?c.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(Te,null,2)}):c.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function s2(){const e=In(),a=Nl(),{toast:r}=As(),l=Mn(),o=bl(l?.role),d=Ui(),m=o&&!(d&&d>0),{data:h,isLoading:y,error:p}=ws({queryKey:["catalogs"],queryFn:Zm,enabled:m}),v=h?.bancos??[],[x,_]=b.useState(()=>d&&d>0?d:0),[L,E]=b.useState(!1),A=b.useMemo(()=>v.find(ee=>ee.id===x)?.name??null,[v,x]);b.useEffect(()=>{const D=e.state;D?.toast&&(r({kind:D.toast.kind??"info",title:D.toast.title,message:D.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,r]),b.useEffect(()=>{m&&(x>0||v.length>0&&_(v[0].id))},[x,v,m]);const w=x>0&&!L,U=async()=>{if(w)try{E(!0);const D=await B0(x),ee=dm(D.userId,D.bancoId??x);if(ee.target){a(ee.target,{replace:!0});return}r({kind:"success",title:"Banco",message:A?`Banco seleccionado: ${A}`:"Banco seleccionado."})}catch(D){const ee=D?.response?.data?.detail??D?.message??"No se pudo guardar el banco.";r({kind:"error",title:"Banco",message:String(ee)})}finally{E(!1)}};return c.jsxs("div",{className:"vi-home",children:[c.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),c.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),c.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:D=>_(Number(D.target.value)),disabled:y||L,children:v.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))}),p?c.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),c.jsx("div",{className:"modal-footer",children:c.jsx("button",{type:"button",className:"btn btn-primary",disabled:!w,onClick:U,children:L?"Guardando...":"Continuar"})})]})})})]})}const gs=(...e)=>{};function Zf(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),r=a?.[1]??a?.[2];if(!r)return null;try{return decodeURIComponent(r)}catch{return r}}function Gf(e,a){const r=window.URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(r)}async function l2(e,a){let r=null,l=!1;const o=new Promise(d=>{r=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,o])}catch{return!1}finally{r!=null&&window.clearTimeout(r)}return!l}function i2(){const[e,a]=b.useState([]),[r,l]=b.useState(""),[o,d]=b.useState([]),[m,h]=b.useState(0),[y,p]=b.useState("Listo para procesar"),[v,x]=b.useState(!1),[_,L]=b.useState(""),[E,A]=b.useState(!1),[w,U]=b.useState(null),[D,ee]=b.useState(null),[C,O]=b.useState(!1);function te(z){const k=z?.series_duplicates_eliminated??z?.detail?.series_duplicates_eliminated??z?.series_duplcates_eliminated;return typeof k=="number"?k:null}const q={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function ne(z){const k=String(z??"").trim().toUpperCase();return k?q[k]??k:""}function ce(z){if(!z)return"";let k=Rl(z);k=k.replace(/\bERROR\b/gi,"Error");for(const[P,_e]of Object.entries(q))k=k.replace(new RegExp(`\\b${P}\\b`,"g"),_e);return k}function we(z,k){const P=ne(z),_e=ce(k);return _e?P&&!_e.toLowerCase().includes(P.toLowerCase())?`${P}: ${_e}`:_e:P||"N/D"}function xe(z){const k=Number(z);return!Number.isFinite(k)||k<=0?"N/D":`OI-${String(k).padStart(4,"0")}`}function me(z){const k=z?.rows_total_read??z?.totals_input?.rows_read;return typeof k=="number"?k:null}const be=b.useMemo(()=>(Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[]).filter(k=>k?.status==="OK"&&String(k?.source??"").toUpperCase()==="BASES").slice().sort((k,P)=>{const _e=Number(k?.oi_num),G=Number(P?.oi_num),Ce=Number.isFinite(_e),He=Number.isFinite(G);if(Ce&&He)return _e-G;if(Ce&&!He)return-1;if(!Ce&&He)return 1;const Be=String(k?.oi_num??k?.oi??"").toUpperCase(),mt=String(P?.oi_num??P?.oi??"").toUpperCase();return Be.localeCompare(mt)}),[D]),Ae=b.useMemo(()=>(Array.isArray(D?.files_rejected)?D.files_rejected:[]).slice().sort((k,P)=>{const _e=String(k?.oi??k?.filename??"").toUpperCase(),G=String(P?.oi??P?.filename??"").toUpperCase();return _e.localeCompare(G)}),[D]),ve=b.useMemo(()=>{const z=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),k=D?.by_source;if(k&&typeof k=="object")return k;const P={BASES:z(),GASELAG:z()},_e=Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[];for(const Ce of _e){if(Ce?.status!=="OK")continue;const Be=String(Ce?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";P[Be].files_ok+=1,P[Be].rows_read+=Number(Ce?.rows_read??0)||0,P[Be].conformes+=Number(Ce?.conformes??0)||0,P[Be].no_conformes+=Number(Ce?.no_conformes??0)||0,P[Be].rows_ignored_invalid_estado+=Number(Ce?.rows_ignored_invalid_estado??0)||0}const G=Array.isArray(D?.files_rejected)?D.files_rejected:[];for(const Ce of G){const Be=String(Ce?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";P[Be].files_error+=1}for(const Ce of["BASES","GASELAG"])P[Ce].files_total=P[Ce].files_ok+P[Ce].files_error;return P},[D]),B=b.useRef(null),re=b.useRef(null),se=b.useRef(null),Oe=b.useRef(!1),Ee=b.useRef(null),N=b.useRef(null),Y=b.useRef(null),oe=b.useRef(!1),pe=b.useRef(!1),Re=b.useRef(-1),Te=b.useRef(-1),Me=b.useRef(!1);function $e(){return Ee.current||(Ee.current=crypto.randomUUID()),Ee.current}function he(z){const k=`${xl(z.type)}  ${Ji(z.stage)}  ${ce(z.message??z.detail??"")}`;if(p(k),d(P=>{const _e=[z,...P];if(!Me.current&&z.stage==="cancelled"){Me.current=!0;const G=_e.filter(mt=>mt.stage==="file_done"||mt.stage==="file_error").length,Ce=_e.filter(mt=>mt.stage==="file_done").length,He=_e.filter(mt=>mt.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${G} (OK: ${Ce}, Rechazados: ${He}). No se gener resultado final.`},..._e]}return _e}),z.type==="complete"){const P=z.result??null;ee(P)}typeof z.progress=="number"&&h(Math.round(z.progress)),typeof z.percent=="number"&&h(Math.round(z.percent)),!Oe.current&&(z.type==="complete"||z.stage==="cancelled"||z.stage==="failed")&&(Oe.current=!0,z.type==="complete"?(A(!0),U(Ee.current)):(A(!1),U(null),Ee.current=null),x(!1),Ye("terminal_event"),Le())}function Ue(z){return typeof z.cursor!="number"?!1:z.cursor<=Te.current?!0:(Te.current=z.cursor,z.cursor>Re.current&&(Re.current=z.cursor),!1)}function Qe(z){Oe.current||Ue(z)||he(z)}function Se(z,k){const P=new FormData;P.append("operation_id",z),P.append("source","AUTO"),r.trim()&&P.append("output_filename",r.trim());for(const _e of k)P.append("files",_e);return P}function Ye(z){re.current&&(se.current=z,re.current.abort(),re.current=null)}function Le(z){pe.current&&(pe.current=!1,N.current!=null&&(window.clearTimeout(N.current),N.current=null),Y.current?.abort(),Y.current=null,oe.current=!1)}function Xe(z){pe.current&&(N.current!=null&&window.clearTimeout(N.current),N.current=window.setTimeout(()=>{Ne()},z))}async function Ne(){if(!pe.current||oe.current)return;const z=Ee.current;if(!z){Le();return}oe.current=!0;try{const k=await zT(z,Re.current,Y.current?.signal);gs("[LOG01] poll cursor =",Re.current,"->",k.cursor_next),Re.current=k.cursor_next;for(const P of k.events)Qe(P);if(k.done&&k.events.length===0){Le("done");return}}catch(k){k?.name}finally{oe.current=!1,pe.current&&Xe(350)}}function Ke(z){pe.current||(pe.current=!0,Y.current=new AbortController,Xe(0))}function lt(){B.current?.abort(),B.current=null}async function Et(){if(!v)return;const z=Ee.current;if(z)try{await LT(z)}catch(k){const P=k;ft.isCancel(P)||L(P.response?.data?.detail||P.message||"No se pudo cancelar la operacion")}lt()}async function R(){L(""),d([]),ee(null),h(0),p("Listo para procesar"),A(!1),U(null),se.current=null,Oe.current=!1,Me.current=!1,Re.current=-1,Te.current=-1,Le();const z=[...e];if(!z.length){L("Debes seleccionar al menos 1 Excel.");return}Ee.current=null;const k=$e();let P=null,_e=null;const G=new Promise((Be,mt)=>{P=Be,_e=mt});re.current=new AbortController,B.current=new AbortController,CT(k,Be=>{if(Be.type==="hello"){P&&(P(),P=null);return}Qe(Be)},re.current.signal).then(()=>{Oe.current||Ke()}).catch(Be=>{Be?.name==="AbortError"?gs("[LOG01] progress stream aborted (reason) =",se.current):(_e&&(_e(Be),_e=null),Ke())}),x(!0);try{await l2(G,1800)?gs("[LOG01] hello received"):Ke("hello_timeout");const mt=Se(k,z);gs("[LOG01] operation_id(start) =",k),await DT(mt,B.current.signal)}catch(Be){const mt=Be;if(ft.isCancel(mt))return;const de=mt.response?.data?.detail||mt.message||"Error inesperado";L(de),x(!1),lt(),Ye("start_failed"),Le(),Ee.current=null}finally{lt()}}async function $(){const z=w??Ee.current;if(!z){L("No hay resultado disponible.");return}try{L(""),gs("[LOG01] operation_id(result) =",z);const k=await MT(z),P=k.headers["content-disposition"],_e=k.headers["x-file-name"],G=Zf(P)??_e??"BD_CONSOLIDADO.xlsx";Gf(k.data,G)}catch(k){const P=k;if(ft.isCancel(P))return;const _e=P.response?.data?.detail||P.message||"No se pudo descargar.";L(_e)}}async function J(){const z=w??Ee.current;if(!z){L("No hay resultado disponible.");return}try{L(""),gs("[LOG01] operation_id(manifest) =",z);const k=await UT(z),P=k.headers["content-disposition"],_e=k.headers["x-file-name"],G=Zf(P)??_e??"MANIFIESTO.json";Gf(k.data,G)}catch(k){const P=k;if(ft.isCancel(P))return;const _e=P.response?.data?.detail||P.message||"No se pudo descargar.";L(_e)}}async function je(){const z=w??Ee.current;if(!z){L("No hay resultado disponible.");return}try{L(""),gs("[LOG01] operation_id(no_conforme) =",z);const k=await kT(z),P=k.headers["content-disposition"],_e=k.headers["x-file-name"],G=Zf(P)??_e??"NO_CONFORME_FINAL.json";Gf(k.data,G)}catch(k){const P=k;if(ft.isCancel(P))return;const _e=P.response?.data?.detail||P.message||"No se pudo descargar.";L(_e)}}return c.jsx("div",{className:"container-fluid",children:c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),_&&c.jsx("div",{className:"alert alert-danger",role:"alert",children:_}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-12 mB-15",children:[c.jsx(iu,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,disabled:v}),c.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),c.jsx("input",{className:"form-control",value:r,onChange:z=>l(z.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),c.jsxs("div",{className:"vi-log01-actions",children:[c.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:R,disabled:v,children:v?"Procesando...":"Consolidar"}),v?c.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Et(),children:"Cancelar"}):null,!v&&E?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>void J(),children:"Manifiesto (JSON)"}),c.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>void je(),children:"No conforme (JSON)"}),c.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void $(),children:"Descargar"})]}):null]})]})]}),c.jsxs("div",{className:"mT-10",children:[c.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),v?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress",children:c.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),c.jsx("div",{className:"mT-10 text-muted",children:y})]}),!v&&D?c.jsxs("div",{className:"mT-20",children:[c.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),c.jsx("div",{className:"bd p-10",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("div",{className:"small text-muted",children:"Archivos"}),c.jsxs("div",{className:"small",children:["Total: ",c.jsx("strong",{children:D.files_total??"N/D"}),"  OK:"," ",c.jsx("strong",{children:D.files_ok??"N/D"}),"  Rechazados:"," ",c.jsx("strong",{children:D.files_error??"N/D"})]}),c.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),c.jsx("tbody",{children:["BASES","GASELAG"].map(z=>{const k=ve?.[z]??{},P=k?.files_total??Number(k?.files_ok??0)+Number(k?.files_error??0);return c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:z})}),c.jsxs("td",{style:{whiteSpace:"nowrap"},children:[c.jsx("strong",{children:P??0})," ",c.jsxs("span",{className:"text-muted",children:["(OK: ",k?.files_ok??0,"  Rech: ",k?.files_error??0,")"]})]}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:k?.rows_read??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:k?.conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:k?.no_conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:k?.rows_ignored_invalid_estado??0})})]},z)})})]})}),c.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),be.length>0?c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),c.jsx("tbody",{children:be.map((z,k)=>c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:xe(z?.oi_num)}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:z?.rows_read??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:z?.conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:z?.no_conformes??0})})]},k))})]})}):c.jsx("div",{className:"small text-muted",children:"N/D"}),Number(ve?.GASELAG?.rows_read??0)>0?c.jsxs("div",{className:"mT-10 small",children:[c.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",c.jsx("strong",{children:ve.GASELAG.rows_read??0}),"  Conformes:"," ",c.jsx("strong",{children:ve.GASELAG.conformes??0}),"  No conformes:"," ",c.jsx("strong",{children:ve.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",c.jsx("strong",{children:ve.GASELAG.rows_ignored_invalid_estado??0})]}):null,c.jsxs("div",{className:"col-12 mT-10 p-0",children:[c.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),c.jsxs("div",{className:"small",children:["Registros ledos:"," ",c.jsx("strong",{children:D.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",c.jsx("strong",{children:D.totals_input?.conformes??"N/D"}),"  No conformes:"," ",c.jsx("strong",{children:D.totals_input?.no_conformes??"N/D"})]})]})]}),c.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[Ae.length>0?c.jsxs("div",{className:"mT-15",children:[c.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),c.jsx("tbody",{children:Ae.map((z,k)=>{const P=we(z?.code,z?.detail),_e=String(z?.source??"").toUpperCase();let G=z?.filename??"N/D";if(_e==="BASES"){const Ce=Number(z?.oi_num),He=xe(Ce);He!=="N/D"&&(G=`${He} / ${G}`)}else _e==="GASELAG"&&(G=`GASELAG / ${G}`);return c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:G}),c.jsx("td",{children:P})]},k)})})]})})]}):null,c.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),c.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",c.jsx("strong",{children:D.series_total_dedup??"N/D"}),"  Conformes finales:"," ",c.jsx("strong",{children:D.series_conformes??"N/D"}),"  No conformes finales:"," ",c.jsx("strong",{children:D.series_no_conformes_final??"N/D"})]}),c.jsx("div",{className:"mT-10",children:c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(z=>!z),children:C?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),C?c.jsxs("div",{className:"mT-10",children:[c.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),c.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",c.jsx("strong",{children:me(D)??"N/D"})," "," Duplicados eliminados:"," ",c.jsx("strong",{children:te(D)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",c.jsx("strong",{children:(()=>{const z=me(D),k=te(D);if(typeof z=="number"&&typeof k=="number")return z-k;const P=D.series_total_dedup;return typeof P=="number"?P:"N/D"})()})]})]}):null]})]})})]}):null,o.length>0&&c.jsxs("div",{className:"mT-20",children:[c.jsx("h6",{className:"c-grey-900",children:"Eventos"}),c.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:o.map((z,k)=>{const P=String(z.message??""),_e=String(z.code??""),G=String(z.detail??""),Ce=ce(P||G||""),He=Ce.toLowerCase(),Be=ne(_e),mt=ce(G),de=[];Be&&!He.includes(Be.toLowerCase())&&de.push(Be),mt&&!He.includes(mt.toLowerCase())&&de.push(mt);const Pe=de.join("  ");return c.jsxs("div",{className:"small",children:[xl(z.type),"  ",Ce,Pe?c.jsxs("span",{className:"text-muted",children:[" (",Pe,")"]}):null]},k)})})]})]})})})})}function o2(){const e=Mn();return c.jsx(c.Fragment,{children:c.jsxs(Aw,{children:[c.jsx(on,{path:"/login",element:e?.token?c.jsx(Vr,{to:"/home",replace:!0}):c.jsx(hj,{})}),c.jsx(on,{element:c.jsx(rT,{}),children:c.jsxs(on,{element:c.jsx(cT,{}),children:[c.jsx(on,{path:"/",element:c.jsx(Vr,{to:"/home",replace:!0})}),c.jsx(on,{path:"/home",element:c.jsx(s2,{})}),c.jsx(on,{path:"/oi",element:c.jsx(db,{})}),c.jsx(on,{path:"/oi/:oiId",element:c.jsx(db,{})}),c.jsx(on,{path:"/oi/list",element:c.jsx(uT,{})}),c.jsx(on,{path:"/users",element:c.jsx(dT,{})}),c.jsx(on,{path:"/password",element:c.jsx(fT,{})}),c.jsx(on,{path:"/admin/permisos",element:c.jsx(pT,{})}),c.jsx(on,{path:"/logistica/log01/excel",element:c.jsx(i2,{})}),c.jsx(on,{path:"/oi/tools/vima-to-lista",element:c.jsx(AT,{})}),c.jsx(on,{path:"/oi/tools/actualizacion-base",element:c.jsx(YT,{})}),c.jsx(on,{path:"/oi/tools/consolidacion",element:c.jsx(KT,{})}),c.jsx(on,{path:"/oi/tools/consolidacion/correlativo",element:c.jsx(WT,{})}),c.jsx(on,{path:"/oi/tools/consolidacion/no-correlativo",element:c.jsx(a2,{})}),c.jsx(on,{path:"/oi/tools/excel",element:c.jsx(r2,{})})]})}),c.jsx(on,{path:"*",element:c.jsx(Vr,{to:e?.token?"/home":"/login",replace:!0})})]})})}const c2=new ON;M_.createRoot(document.getElementById("root")).render(c.jsx(st.StrictMode,{children:c.jsx(CN,{client:c2,children:c.jsx(Xw,{children:c.jsx(mj,{children:c.jsx(o2,{})})})})}));
