(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function yv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uf={exports:{}},wi={};var Ty;function jw(){if(Ty)return wi;Ty=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:l,key:m,ref:c!==void 0?c:null,props:d}}return wi.Fragment=a,wi.jsx=s,wi.jsxs=s,wi}var Dy;function Ew(){return Dy||(Dy=1,uf.exports=jw()),uf.exports}var o=Ew(),df={exports:{}},We={};var zy;function Aw(){if(zy)return We;zy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function q(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function B(N,Q,oe){this.props=N,this.context=Q,this.refs=A,this.updater=oe||_}B.prototype.isReactComponent={},B.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function T(){}T.prototype=B.prototype;function J(N,Q,oe){this.props=N,this.context=Q,this.refs=A,this.updater=oe||_}var k=J.prototype=new T;k.constructor=J,j(k,B.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function H(){}var L={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function le(N,Q,oe){var M=oe.ref;return{$$typeof:e,type:N,key:Q,ref:M!==void 0?M:null,props:oe}}function ye(N,Q){return le(N.type,Q,N.props)}function xe(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function de(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return Q[oe]})}var me=/\/+/g;function Ae(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?de(""+N.key):Q.toString(36)}function je(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(H,H):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function z(N,Q,oe,M,ce){var be=typeof N;(be==="undefined"||be==="boolean")&&(N=null);var Oe=!1;if(N===null)Oe=!0;else switch(be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(N.$$typeof){case e:case a:Oe=!0;break;case b:return Oe=N._init,z(Oe(N._payload),Q,oe,M,ce)}}if(Oe)return ce=ce(N),Oe=M===""?"."+Ae(N,0):M,O(ce)?(oe="",Oe!=null&&(oe=Oe.replace(me,"$&/")+"/"),z(ce,Q,oe,"",function(De){return De})):ce!=null&&(xe(ce)&&(ce=ye(ce,oe+(ce.key==null||N&&N.key===ce.key?"":(""+ce.key).replace(me,"$&/")+"/")+Oe)),Q.push(ce)),1;Oe=0;var Ue=M===""?".":M+":";if(O(N))for(var ue=0;ue<N.length;ue++)M=N[ue],be=Ue+Ae(M,ue),Oe+=z(M,Q,oe,be,ce);else if(ue=q(N),typeof ue=="function")for(N=ue.call(N),ue=0;!(M=N.next()).done;)M=M.value,be=Ue+Ae(M,ue++),Oe+=z(M,Q,oe,be,ce);else if(be==="object"){if(typeof N.then=="function")return z(je(N),Q,oe,M,ce);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function I(N,Q,oe){if(N==null)return N;var M=[],ce=0;return z(N,M,"","",function(be){return Q.call(oe,be,ce++)}),M}function te(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var Ce=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ee={map:I,forEach:function(N,Q,oe){I(N,function(){Q.apply(this,arguments)},oe)},count:function(N){var Q=0;return I(N,function(){Q++}),Q},toArray:function(N){return I(N,function(Q){return Q})||[]},only:function(N){if(!xe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return We.Activity=x,We.Children=Ee,We.Component=B,We.Fragment=s,We.Profiler=c,We.PureComponent=J,We.StrictMode=l,We.Suspense=y,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,We.__COMPILER_RUNTIME={__proto__:null,c:function(N){return L.H.useMemoCache(N)}},We.cache=function(N){return function(){return N.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(N,Q,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var M=j({},N.props),ce=N.key;if(Q!=null)for(be in Q.key!==void 0&&(ce=""+Q.key),Q)!X.call(Q,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Q.ref===void 0||(M[be]=Q[be]);var be=arguments.length-2;if(be===1)M.children=oe;else if(1<be){for(var Oe=Array(be),Ue=0;Ue<be;Ue++)Oe[Ue]=arguments[Ue+2];M.children=Oe}return le(N.type,ce,M)},We.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},We.createElement=function(N,Q,oe){var M,ce={},be=null;if(Q!=null)for(M in Q.key!==void 0&&(be=""+Q.key),Q)X.call(Q,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(ce[M]=Q[M]);var Oe=arguments.length-2;if(Oe===1)ce.children=oe;else if(1<Oe){for(var Ue=Array(Oe),ue=0;ue<Oe;ue++)Ue[ue]=arguments[ue+2];ce.children=Ue}if(N&&N.defaultProps)for(M in Oe=N.defaultProps,Oe)ce[M]===void 0&&(ce[M]=Oe[M]);return le(N,be,ce)},We.createRef=function(){return{current:null}},We.forwardRef=function(N){return{$$typeof:h,render:N}},We.isValidElement=xe,We.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:te}},We.memo=function(N,Q){return{$$typeof:p,type:N,compare:Q===void 0?null:Q}},We.startTransition=function(N){var Q=L.T,oe={};L.T=oe;try{var M=N(),ce=L.S;ce!==null&&ce(oe,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(H,Ce)}catch(be){Ce(be)}finally{Q!==null&&oe.types!==null&&(Q.types=oe.types),L.T=Q}},We.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},We.use=function(N){return L.H.use(N)},We.useActionState=function(N,Q,oe){return L.H.useActionState(N,Q,oe)},We.useCallback=function(N,Q){return L.H.useCallback(N,Q)},We.useContext=function(N){return L.H.useContext(N)},We.useDebugValue=function(){},We.useDeferredValue=function(N,Q){return L.H.useDeferredValue(N,Q)},We.useEffect=function(N,Q){return L.H.useEffect(N,Q)},We.useEffectEvent=function(N){return L.H.useEffectEvent(N)},We.useId=function(){return L.H.useId()},We.useImperativeHandle=function(N,Q,oe){return L.H.useImperativeHandle(N,Q,oe)},We.useInsertionEffect=function(N,Q){return L.H.useInsertionEffect(N,Q)},We.useLayoutEffect=function(N,Q){return L.H.useLayoutEffect(N,Q)},We.useMemo=function(N,Q){return L.H.useMemo(N,Q)},We.useOptimistic=function(N,Q){return L.H.useOptimistic(N,Q)},We.useReducer=function(N,Q,oe){return L.H.useReducer(N,Q,oe)},We.useRef=function(N){return L.H.useRef(N)},We.useState=function(N){return L.H.useState(N)},We.useSyncExternalStore=function(N,Q,oe){return L.H.useSyncExternalStore(N,Q,oe)},We.useTransition=function(){return L.H.useTransition()},We.version="19.2.0",We}var My;function Sm(){return My||(My=1,df.exports=Aw()),df.exports}var v=Sm();const rt=yv(v);var ff={exports:{}},Ni={},mf={exports:{}},hf={};var ky;function Cw(){return ky||(ky=1,(function(e){function a(z,I){var te=z.length;z.push(I);e:for(;0<te;){var Ce=te-1>>>1,Ee=z[Ce];if(0<c(Ee,I))z[Ce]=I,z[te]=Ee,te=Ce;else break e}}function s(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var I=z[0],te=z.pop();if(te!==I){z[0]=te;e:for(var Ce=0,Ee=z.length,N=Ee>>>1;Ce<N;){var Q=2*(Ce+1)-1,oe=z[Q],M=Q+1,ce=z[M];if(0>c(oe,te))M<Ee&&0>c(ce,oe)?(z[Ce]=ce,z[M]=te,Ce=M):(z[Ce]=oe,z[Q]=te,Ce=Q);else if(M<Ee&&0>c(ce,te))z[Ce]=ce,z[M]=te,Ce=M;else break e}}return I}function c(z,I){var te=z.sortIndex-I.sortIndex;return te!==0?te:z.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var y=[],p=[],b=1,x=null,w=3,q=!1,_=!1,j=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function k(z){for(var I=s(p);I!==null;){if(I.callback===null)l(p);else if(I.startTime<=z)l(p),I.sortIndex=I.expirationTime,a(y,I);else break;I=s(p)}}function O(z){if(j=!1,k(z),!_)if(s(y)!==null)_=!0,H||(H=!0,de());else{var I=s(p);I!==null&&je(O,I.startTime-z)}}var H=!1,L=-1,X=5,le=-1;function ye(){return A?!0:!(e.unstable_now()-le<X)}function xe(){if(A=!1,H){var z=e.unstable_now();le=z;var I=!0;try{e:{_=!1,j&&(j=!1,T(L),L=-1),q=!0;var te=w;try{t:{for(k(z),x=s(y);x!==null&&!(x.expirationTime>z&&ye());){var Ce=x.callback;if(typeof Ce=="function"){x.callback=null,w=x.priorityLevel;var Ee=Ce(x.expirationTime<=z);if(z=e.unstable_now(),typeof Ee=="function"){x.callback=Ee,k(z),I=!0;break t}x===s(y)&&l(y),k(z)}else l(y);x=s(y)}if(x!==null)I=!0;else{var N=s(p);N!==null&&je(O,N.startTime-z),I=!1}}break e}finally{x=null,w=te,q=!1}I=void 0}}finally{I?de():H=!1}}}var de;if(typeof J=="function")de=function(){J(xe)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ae=me.port2;me.port1.onmessage=xe,de=function(){Ae.postMessage(null)}}else de=function(){B(xe,0)};function je(z,I){L=B(function(){z(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(z){switch(w){case 1:case 2:case 3:var I=3;break;default:I=w}var te=w;w=I;try{return z()}finally{w=te}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=w;w=z;try{return I()}finally{w=te}},e.unstable_scheduleCallback=function(z,I,te){var Ce=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ce+te:Ce):te=Ce,z){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=te+Ee,z={id:b++,callback:I,priorityLevel:z,startTime:te,expirationTime:Ee,sortIndex:-1},te>Ce?(z.sortIndex=te,a(p,z),s(y)===null&&z===s(p)&&(j?(T(L),L=-1):j=!0,je(O,te-Ce))):(z.sortIndex=Ee,a(y,z),_||q||(_=!0,H||(H=!0,de()))),z},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(z){var I=w;return function(){var te=w;w=I;try{return z.apply(this,arguments)}finally{w=te}}}})(hf)),hf}var Uy;function Ow(){return Uy||(Uy=1,mf.exports=Cw()),mf.exports}var pf={exports:{}},Dn={};var Ly;function Rw(){if(Ly)return Dn;Ly=1;var e=Sm();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:y,containerInfo:p,implementation:b}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Dn.createPortal=function(y,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(y,p,null,b)},Dn.flushSync=function(y){var p=m.T,b=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=b,l.d.f()}},Dn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},Dn.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Dn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var b=p.as,x=h(b,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:q}):b==="script"&&l.d.X(y,{crossOrigin:x,integrity:w,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Dn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=h(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},Dn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=h(b,p.crossOrigin);l.d.L(y,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Dn.preloadModule=function(y,p){if(typeof y=="string")if(p){var b=h(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},Dn.requestFormReset=function(y){l.d.r(y)},Dn.unstable_batchedUpdates=function(y,p){return y(p)},Dn.useFormState=function(y,p,b){return m.H.useFormState(y,p,b)},Dn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var By;function Tw(){if(By)return pf.exports;By=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),pf.exports=Rw(),pf.exports}var qy;function Dw(){if(qy)return Ni;qy=1;var e=Ow(),a=Sm(),s=Tw();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,i=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return y(u),t;if(f===i)return y(u),n;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var g=!1,S=u.child;S;){if(S===r){g=!0,r=u,i=f;break}if(S===i){g=!0,i=u,r=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===r){g=!0,r=f,i=u;break}if(S===i){g=!0,i=f,r=u;break}S=S.sibling}if(!g)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),J=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var me=Symbol.for("react.client.reference");function Ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case B:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case H:return"SuspenseList";case le:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case J:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case k:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return n=t.displayName||null,n!==null?n:Ae(t.type)||"Memo";case X:n=t._payload,t=t._init;try{return Ae(t(n))}catch{}}return null}var je=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ce=[],Ee=-1;function N(t){return{current:t}}function Q(t){0>Ee||(t.current=Ce[Ee],Ce[Ee]=null,Ee--)}function oe(t,n){Ee++,Ce[Ee]=t.current,t.current=n}var M=N(null),ce=N(null),be=N(null),Oe=N(null);function Ue(t,n){switch(oe(be,n),oe(ce,t),oe(M,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ey(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ey(n),t=ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(M),oe(M,t)}function ue(){Q(M),Q(ce),Q(be)}function De(t){t.memoizedState!==null&&oe(Oe,t);var n=M.current,r=ty(n,t.type);n!==r&&(oe(ce,t),oe(M,r))}function qe(t){ce.current===t&&(Q(M),Q(ce)),Oe.current===t&&(Q(Oe),bi._currentValue=te)}var Ye,ct;function Te(t){if(Ye===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ye=n&&n[1]||"",ct=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+t+ct}var He=!1;function pe(t,n){if(!t||He)return"";He=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(se){var W=se}Reflect.construct(t,[],ge)}else{try{ge.call()}catch(se){W=se}t.call(ge.prototype)}}else{try{throw Error()}catch(se){W=se}(ge=t())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(se){if(se&&W&&typeof se.stack=="string")return[se.stack,W.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),g=f[0],S=f[1];if(g&&S){var D=g.split(`
`),K=S.split(`
`);for(u=i=0;i<D.length&&!D[i].includes("DetermineComponentFrameRoot");)i++;for(;u<K.length&&!K[u].includes("DetermineComponentFrameRoot");)u++;if(i===D.length||u===K.length)for(i=D.length-1,u=K.length-1;1<=i&&0<=u&&D[i]!==K[u];)u--;for(;1<=i&&0<=u;i--,u--)if(D[i]!==K[u]){if(i!==1||u!==1)do if(i--,u--,0>u||D[i]!==K[u]){var ie=`
`+D[i].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=i&&0<=u);break}}}finally{He=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Te(r):""}function Ie(t,n){switch(t.tag){case 26:case 27:case 5:return Te(t.type);case 16:return Te("Lazy");case 13:return t.child!==n&&n!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return pe(t.type,!1);case 11:return pe(t.type.render,!1);case 1:return pe(t.type,!0);case 31:return Te("Activity");default:return""}}function Ne(t){try{var n="",r=null;do n+=Ie(t,r),r=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ke=Object.prototype.hasOwnProperty,C=e.unstable_scheduleCallback,V=e.unstable_cancelCallback,R=e.unstable_shouldYield,Z=e.unstable_requestPaint,G=e.unstable_now,re=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,Me=e.unstable_UserBlockingPriority,ne=e.unstable_NormalPriority,ze=e.unstable_LowPriority,Fe=e.unstable_IdlePriority,mt=e.log,Sn=e.unstable_setDisableYieldValue,Se=null,Xe=null;function Zt(t){if(typeof mt=="function"&&Sn(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Se,t)}catch{}}var St=Math.clz32?Math.clz32:Pa,wn=Math.log,kn=Math.LN2;function Pa(t){return t>>>=0,t===0?32:31-(wn(t)/kn|0)|0}var na=256,at=262144,Ca=4194304;function fa(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oa(t,n,r){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=fa(i):(g&=S,g!==0?u=fa(g):r||(r=S&~t,r!==0&&(u=fa(r))))):(S=i&~f,S!==0?u=fa(S):g!==0?u=fa(g):r||(r=i&~t,r!==0&&(u=fa(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function $n(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var t=Ca;return Ca<<=1,(Ca&62914560)===0&&(Ca=4194304),t}function ee(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function we(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Be(t,n,r,i,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,K=t.hiddenUpdates;for(r=g&~r;0<r;){var ie=31-St(r),ge=1<<ie;S[ie]=0,D[ie]=-1;var W=K[ie];if(W!==null)for(K[ie]=null,ie=0;ie<W.length;ie++){var se=W[ie];se!==null&&(se.lane&=-536870913)}r&=~ge}i!==0&&Je(t,i,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Je(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-St(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|r&261930}function lt(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var i=31-St(r),u=1<<i;u&n|t[i]&n&&(t[i]|=n),r&=~u}}function Ve(t,n){var r=n&-n;return r=(r&42)!==0?1:Gt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Gt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rt(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:_y(t.type))}function pn(t,n){var r=I.p;try{return I.p=t,n()}finally{I.p=r}}var jt=Math.random().toString(36).slice(2),it="__reactFiber$"+jt,yt="__reactProps$"+jt,kt="__reactContainer$"+jt,un="__reactEvents$"+jt,Nn="__reactListeners$"+jt,gn="__reactHandles$"+jt,dn="__reactResources$"+jt,qt="__reactMarker$"+jt;function Un(t){delete t[it],delete t[yt],delete t[un],delete t[Nn],delete t[gn]}function en(t){var n=t[it];if(n)return n;for(var r=t.parentNode;r;){if(n=r[kt]||r[it]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=oy(t);t!==null;){if(r=t[it])return r;t=oy(t)}return n}t=r,r=t.parentNode}return null}function yn(t){if(t=t[it]||t[kt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Tn(t){var n=t[dn];return n||(n=t[dn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[qt]=!0}var Rr=new Set,Ra={};function _n(t,n){Vn(t,n),Vn(t+"Capture",n)}function Vn(t,n){for(Ra[t]=n,t=0;t<n.length;t++)Rr.add(n[t])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tr={},Ka={};function Qs(t){return Ke.call(Ka,t)?!0:Ke.call(Tr,t)?!1:Ya.test(t)?Ka[t]=!0:(Tr[t]=!0,!1)}function tn(t,n,r){if(Qs(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ta(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Zn(t,n,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+i)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ji(t,n,r){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Tl(t){if(!t._valueTracker){var n=Rl(t)?"checked":"value";t._valueTracker=Ji(t,n,""+t[n])}}function Dl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return t&&(i=Rl(t)?t.checked?"true":"false":t.value),t=i,t!==r?(n.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zl=/[\n"\\]/g;function bn(t){return t.replace(zl,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ml(t,n,r,i,u,f,g,S){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ys(t,g,nn(n)):r!=null?Ys(t,g,nn(r)):i!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+nn(S):t.removeAttribute("name")}function Dr(t,n,r,i,u,f,g,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Tl(t);return}r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=S?t.checked:!!i,t.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Tl(t)}function Ys(t,n,r){n==="number"&&Ps(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ps(t,n,r,i){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&i&&(t[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Wi(t,n,r){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+nn(r):""}function eo(t,n,r,i){if(n==null){if(i!=null){if(r!=null)throw Error(l(92));if(je(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),n=r}r=nn(n),t.defaultValue=r,i=t.textContent,i===r&&i!==""&&i!==null&&(t.value=i),Tl(t)}function gs(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(t,n,r){var i=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,r):typeof r!="number"||r===0||ou.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function no(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&r[u]!==i&&to(t,u,i)}else for(var f in n)n.hasOwnProperty(f)&&to(t,f,n[f])}function kl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return uu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Da(){}var ys=null;function Ul(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bs=null,vs=null;function ao(t){var n=yn(t);if(n&&(t=n.stateNode)){var r=t[yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ml(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==t&&i.form===t.form){var u=i[yt]||null;if(!u)throw Error(l(90));Ml(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)i=r[n],i.form===t.form&&Dl(i)}break e;case"textarea":Wi(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ps(t,!!r.multiple,n,!1)}}}var Ll=!1;function so(t,n,r){if(Ll)return t(n,r);Ll=!0;try{var i=t(n);return i}finally{if(Ll=!1,(bs!==null||vs!==null)&&(Fo(),bs&&(n=bs,t=vs,vs=bs=null,ao(n),t)))for(n=0;n<t.length;n++)ao(t[n])}}function Ks(t,n){var r=t.stateNode;if(r===null)return null;var i=r[yt]||null;if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(za)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Xs=!1}var Ia=null,E=null,F=null;function fe(){if(F)return F;var t,n=E,r=n.length,i,u="value"in Ia?Ia.value:Ia.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(i=1;i<=g&&n[r-i]===u[f-i];i++);return F=u.slice(t,1<i?1-i:void 0)}function _e(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function et(){return!0}function Et(){return!1}function ut(t){function n(r,i,u,f,g){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?et:Et,this.isPropagationStopped=Et,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=et)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=et)},persist:function(){},isPersistent:et}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=ut(jn),$a=x({},jn,{view:0,detail:0}),N0=ut($a),du,fu,Bl,ro=x({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(du=t.screenX-Bl.screenX,fu=t.screenY-Bl.screenY):fu=du=0,Bl=t),du)},movementY:function(t){return"movementY"in t?t.movementY:fu}}),ah=ut(ro),_0=x({},ro,{dataTransfer:0}),j0=ut(_0),E0=x({},$a,{relatedTarget:0}),mu=ut(E0),A0=x({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),C0=ut(A0),O0=x({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R0=ut(O0),T0=x({},jn,{data:0}),sh=ut(T0),D0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=M0[t])?!!n[t]:!1}function hu(){return k0}var U0=x({},$a,{key:function(t){if(t.key){var n=D0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=_e(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(t){return t.type==="keypress"?_e(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_e(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L0=ut(U0),B0=x({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=ut(B0),q0=x({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),I0=ut(q0),$0=x({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),F0=ut($0),H0=x({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V0=ut(H0),Z0=x({},jn,{newState:0,oldState:0}),G0=ut(Z0),Q0=[9,13,27,32],pu=za&&"CompositionEvent"in window,ql=null;za&&"documentMode"in document&&(ql=document.documentMode);var P0=za&&"TextEvent"in window&&!ql,lh=za&&(!pu||ql&&8<ql&&11>=ql),ih=" ",oh=!1;function ch(t,n){switch(t){case"keyup":return Q0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function Y0(t,n){switch(t){case"compositionend":return uh(n);case"keypress":return n.which!==32?null:(oh=!0,ih);case"textInput":return t=n.data,t===ih&&oh?null:t;default:return null}}function K0(t,n){if(Mr)return t==="compositionend"||!pu&&ch(t,n)?(t=fe(),F=E=Ia=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return lh&&n.locale!=="ko"?null:n.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!X0[t.type]:n==="textarea"}function fh(t,n,r,i){bs?vs?vs.push(i):vs=[i]:bs=i,n=Yo(n,"onChange"),0<n.length&&(r=new Ws("onChange","change",null,r,i),t.push({event:r,listeners:n}))}var Il=null,$l=null;function J0(t){Pg(t,0)}function lo(t){var n=Hn(t);if(Dl(n))return t}function mh(t,n){if(t==="change")return n}var hh=!1;if(za){var gu;if(za){var yu="oninput"in document;if(!yu){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),yu=typeof ph.oninput=="function"}gu=yu}else gu=!1;hh=gu&&(!document.documentMode||9<document.documentMode)}function gh(){Il&&(Il.detachEvent("onpropertychange",yh),$l=Il=null)}function yh(t){if(t.propertyName==="value"&&lo($l)){var n=[];fh(n,$l,t,Ul(t)),so(J0,n)}}function W0(t,n,r){t==="focusin"?(gh(),Il=n,$l=r,Il.attachEvent("onpropertychange",yh)):t==="focusout"&&gh()}function eS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lo($l)}function tS(t,n){if(t==="click")return lo(n)}function nS(t,n){if(t==="input"||t==="change")return lo(n)}function aS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var aa=typeof Object.is=="function"?Object.is:aS;function Fl(t,n){if(aa(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!Ke.call(n,u)||!aa(t[u],n[u]))return!1}return!0}function bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vh(t,n){var r=bh(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=n&&i>=n)return{node:r,offset:n-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bh(r)}}function xh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ps(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ps(t.document)}return n}function bu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var sS=za&&"documentMode"in document&&11>=document.documentMode,kr=null,vu=null,Hl=null,xu=!1;function wh(t,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xu||kr==null||kr!==Ps(i)||(i=kr,"selectionStart"in i&&bu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Hl&&Fl(Hl,i)||(Hl=i,i=Yo(vu,"onSelect"),0<i.length&&(n=new Ws("onSelect","select",null,n,r),t.push({event:n,listeners:i}),n.target=kr)))}function er(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ur={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},Su={},Nh={};za&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function tr(t){if(Su[t])return Su[t];if(!Ur[t])return t;var n=Ur[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Nh)return Su[t]=n[r];return t}var _h=tr("animationend"),jh=tr("animationiteration"),Eh=tr("animationstart"),rS=tr("transitionrun"),lS=tr("transitionstart"),iS=tr("transitioncancel"),Ah=tr("transitionend"),Ch=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function Ma(t,n){Ch.set(t,n),_n(n,[t])}var io=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ma=[],Lr=0,Nu=0;function oo(){for(var t=Lr,n=Nu=Lr=0;n<t;){var r=ma[n];ma[n++]=null;var i=ma[n];ma[n++]=null;var u=ma[n];ma[n++]=null;var f=ma[n];if(ma[n++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}f!==0&&Oh(r,u,f)}}function co(t,n,r,i){ma[Lr++]=t,ma[Lr++]=n,ma[Lr++]=r,ma[Lr++]=i,Nu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function _u(t,n,r,i){return co(t,n,r,i),uo(t)}function nr(t,n){return co(t,null,null,n),uo(t)}function Oh(t,n,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-St(r),t=f.hiddenUpdates,i=t[u],i===null?t[u]=[n]:i.push(n),n.lane=r|536870912),f):null}function uo(t){if(50<di)throw di=0,zd=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Br={};function oS(t,n,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(t,n,r,i){return new oS(t,n,r,i)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xa(t,n){var r=t.alternate;return r===null?(r=sa(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Rh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fo(t,n,r,i,u,f){var g=0;if(i=t,typeof t=="function")ju(t)&&(g=1);else if(typeof t=="string")g=mw(t,r,M.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case le:return t=sa(31,r,n,u),t.elementType=le,t.lanes=f,t;case j:return ar(r.children,u,f,n);case A:g=8,u|=24;break;case B:return t=sa(12,r,n,u|2),t.elementType=B,t.lanes=f,t;case O:return t=sa(13,r,n,u),t.elementType=O,t.lanes=f,t;case H:return t=sa(19,r,n,u),t.elementType=H,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:g=10;break e;case T:g=9;break e;case k:g=11;break e;case L:g=14;break e;case X:g=16,i=null;break e}g=29,r=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=sa(g,r,n,u),n.elementType=t,n.type=i,n.lanes=f,n}function ar(t,n,r,i){return t=sa(7,t,i,n),t.lanes=r,t}function Eu(t,n,r){return t=sa(6,t,null,n),t.lanes=r,t}function Th(t){var n=sa(18,null,null,0);return n.stateNode=t,n}function Au(t,n,r){return n=sa(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dh=new WeakMap;function ha(t,n){if(typeof t=="object"&&t!==null){var r=Dh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ne(n)},Dh.set(t,n),n)}return{value:t,source:n,stack:Ne(n)}}var qr=[],Ir=0,mo=null,Vl=0,pa=[],ga=0,xs=null,Fa=1,Ha="";function Ja(t,n){qr[Ir++]=Vl,qr[Ir++]=mo,mo=t,Vl=n}function zh(t,n,r){pa[ga++]=Fa,pa[ga++]=Ha,pa[ga++]=xs,xs=t;var i=Fa;t=Ha;var u=32-St(i)-1;i&=~(1<<u),r+=1;var f=32-St(n)+u;if(30<f){var g=u-u%5;f=(i&(1<<g)-1).toString(32),i>>=g,u-=g,Fa=1<<32-St(n)+u|r<<u|i,Ha=f+t}else Fa=1<<f|r<<u|i,Ha=t}function Cu(t){t.return!==null&&(Ja(t,1),zh(t,1,0))}function Ou(t){for(;t===mo;)mo=qr[--Ir],qr[Ir]=null,Vl=qr[--Ir],qr[Ir]=null;for(;t===xs;)xs=pa[--ga],pa[ga]=null,Ha=pa[--ga],pa[ga]=null,Fa=pa[--ga],pa[ga]=null}function Mh(t,n){pa[ga++]=Fa,pa[ga++]=Ha,pa[ga++]=xs,Fa=n.id,Ha=n.overflow,xs=t}var En=null,Ut=null,gt=!1,Ss=null,ya=!1,Ru=Error(l(519));function ws(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(ha(n,t)),Ru}function kh(t){var n=t.stateNode,r=t.type,i=t.memoizedProps;switch(n[it]=t,n[yt]=i,r){case"dialog":ft("cancel",n),ft("close",n);break;case"iframe":case"object":case"embed":ft("load",n);break;case"video":case"audio":for(r=0;r<mi.length;r++)ft(mi[r],n);break;case"source":ft("error",n);break;case"img":case"image":case"link":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"input":ft("invalid",n),Dr(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ft("invalid",n);break;case"textarea":ft("invalid",n),eo(n,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||i.suppressHydrationWarning===!0||Jg(n.textContent,r)?(i.popover!=null&&(ft("beforetoggle",n),ft("toggle",n)),i.onScroll!=null&&ft("scroll",n),i.onScrollEnd!=null&&ft("scrollend",n),i.onClick!=null&&(n.onclick=Da),n=!0):n=!1,n||ws(t,!0)}function Uh(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:En=En.return}}function $r(t){if(t!==En)return!1;if(!gt)return Uh(t),gt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Pd(t.type,t.memoizedProps)),r=!r),r&&Ut&&ws(t),Uh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=iy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=iy(t)}else n===27?(n=Ut,Us(t.type)?(t=Wd,Wd=null,Ut=t):Ut=n):Ut=En?va(t.stateNode.nextSibling):null;return!0}function sr(){Ut=En=null,gt=!1}function Tu(){var t=Ss;return t!==null&&(Yn===null?Yn=t:Yn.push.apply(Yn,t),Ss=null),t}function Zl(t){Ss===null?Ss=[t]:Ss.push(t)}var Du=N(null),rr=null,Wa=null;function Ns(t,n,r){oe(Du,n._currentValue),n._currentValue=r}function es(t){t._currentValue=Du.current,Q(Du)}function zu(t,n,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===r)break;t=t.return}}function Mu(t,n,r,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var D=0;D<n.length;D++)if(S.context===n[D]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),zu(f.return,r,t),i||(g=null);break e}f=S.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),zu(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Fr(t,n,r,i){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var S=u.type;aa(u.pendingProps.value,g.value)||(t!==null?t.push(S):t=[S])}}else if(u===Oe.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(bi):t=[bi])}u=u.return}t!==null&&Mu(n,t,r,i),n.flags|=262144}function ho(t){for(t=t.firstContext;t!==null;){if(!aa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){rr=t,Wa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return Lh(rr,t)}function po(t,n){return rr===null&&lr(t),Lh(t,n)}function Lh(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wa===null){if(t===null)throw Error(l(308));Wa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wa=Wa.next=n;return r}var cS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},uS=e.unstable_scheduleCallback,dS=e.unstable_NormalPriority,an={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ku(){return{controller:new cS,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&uS(dS,function(){t.controller.abort()})}var Ql=null,Uu=0,Hr=0,Vr=null;function fS(t,n){if(Ql===null){var r=Ql=[];Uu=0,Hr=qd(),Vr={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Uu++,n.then(Bh,Bh),n}function Bh(){if(--Uu===0&&Ql!==null){Vr!==null&&(Vr.status="fulfilled");var t=Ql;Ql=null,Hr=0,Vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mS(t,n){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var qh=z.S;z.S=function(t,n){wg=G(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fS(t,n),qh!==null&&qh(t,n)};var ir=N(null);function Lu(){var t=ir.current;return t!==null?t:Dt.pooledCache}function go(t,n){n===null?oe(ir,ir.current):oe(ir,n.pool)}function Ih(){var t=Lu();return t===null?null:{parent:an._currentValue,pool:t}}var Zr=Error(l(460)),Bu=Error(l(474)),yo=Error(l(542)),bo={then:function(){}};function $h(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Da,Da),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vh(t),t;default:if(typeof n.status=="string")n.then(Da,Da);else{if(t=Dt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vh(t),t}throw cr=n,Zr}}function or(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(cr=r,Zr):r}}var cr=null;function Hh(){if(cr===null)throw Error(l(459));var t=cr;return cr=null,t}function Vh(t){if(t===Zr||t===yo)throw Error(l(483))}var Gr=null,Pl=0;function vo(t){var n=Pl;return Pl+=1,Gr===null&&(Gr=[]),Fh(Gr,t,n)}function Yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xo(t,n){throw n.$$typeof===w?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zh(t){function n($,U){if(t){var Y=$.deletions;Y===null?($.deletions=[U],$.flags|=16):Y.push(U)}}function r($,U){if(!t)return null;for(;U!==null;)n($,U),U=U.sibling;return null}function i($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function u($,U){return $=Xa($,U),$.index=0,$.sibling=null,$}function f($,U,Y){return $.index=Y,t?(Y=$.alternate,Y!==null?(Y=Y.index,Y<U?($.flags|=67108866,U):Y):($.flags|=67108866,U)):($.flags|=1048576,U)}function g($){return t&&$.alternate===null&&($.flags|=67108866),$}function S($,U,Y,he){return U===null||U.tag!==6?(U=Eu(Y,$.mode,he),U.return=$,U):(U=u(U,Y),U.return=$,U)}function D($,U,Y,he){var Ze=Y.type;return Ze===j?ie($,U,Y.props.children,he,Y.key):U!==null&&(U.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===X&&or(Ze)===U.type)?(U=u(U,Y.props),Yl(U,Y),U.return=$,U):(U=fo(Y.type,Y.key,Y.props,null,$.mode,he),Yl(U,Y),U.return=$,U)}function K($,U,Y,he){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Au(Y,$.mode,he),U.return=$,U):(U=u(U,Y.children||[]),U.return=$,U)}function ie($,U,Y,he,Ze){return U===null||U.tag!==7?(U=ar(Y,$.mode,he,Ze),U.return=$,U):(U=u(U,Y),U.return=$,U)}function ge($,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Eu(""+U,$.mode,Y),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return Y=fo(U.type,U.key,U.props,null,$.mode,Y),Yl(Y,U),Y.return=$,Y;case _:return U=Au(U,$.mode,Y),U.return=$,U;case X:return U=or(U),ge($,U,Y)}if(je(U)||de(U))return U=ar(U,$.mode,Y,null),U.return=$,U;if(typeof U.then=="function")return ge($,vo(U),Y);if(U.$$typeof===J)return ge($,po($,U),Y);xo($,U)}return null}function W($,U,Y,he){var Ze=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ze!==null?null:S($,U,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return Y.key===Ze?D($,U,Y,he):null;case _:return Y.key===Ze?K($,U,Y,he):null;case X:return Y=or(Y),W($,U,Y,he)}if(je(Y)||de(Y))return Ze!==null?null:ie($,U,Y,he,null);if(typeof Y.then=="function")return W($,U,vo(Y),he);if(Y.$$typeof===J)return W($,U,po($,Y),he);xo($,Y)}return null}function se($,U,Y,he,Ze){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return $=$.get(Y)||null,S(U,$,""+he,Ze);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case q:return $=$.get(he.key===null?Y:he.key)||null,D(U,$,he,Ze);case _:return $=$.get(he.key===null?Y:he.key)||null,K(U,$,he,Ze);case X:return he=or(he),se($,U,Y,he,Ze)}if(je(he)||de(he))return $=$.get(Y)||null,ie(U,$,he,Ze,null);if(typeof he.then=="function")return se($,U,Y,vo(he),Ze);if(he.$$typeof===J)return se($,U,Y,po(U,he),Ze);xo(U,he)}return null}function Le($,U,Y,he){for(var Ze=null,bt=null,$e=U,st=U=0,pt=null;$e!==null&&st<Y.length;st++){$e.index>st?(pt=$e,$e=null):pt=$e.sibling;var vt=W($,$e,Y[st],he);if(vt===null){$e===null&&($e=pt);break}t&&$e&&vt.alternate===null&&n($,$e),U=f(vt,U,st),bt===null?Ze=vt:bt.sibling=vt,bt=vt,$e=pt}if(st===Y.length)return r($,$e),gt&&Ja($,st),Ze;if($e===null){for(;st<Y.length;st++)$e=ge($,Y[st],he),$e!==null&&(U=f($e,U,st),bt===null?Ze=$e:bt.sibling=$e,bt=$e);return gt&&Ja($,st),Ze}for($e=i($e);st<Y.length;st++)pt=se($e,$,st,Y[st],he),pt!==null&&(t&&pt.alternate!==null&&$e.delete(pt.key===null?st:pt.key),U=f(pt,U,st),bt===null?Ze=pt:bt.sibling=pt,bt=pt);return t&&$e.forEach(function($s){return n($,$s)}),gt&&Ja($,st),Ze}function Pe($,U,Y,he){if(Y==null)throw Error(l(151));for(var Ze=null,bt=null,$e=U,st=U=0,pt=null,vt=Y.next();$e!==null&&!vt.done;st++,vt=Y.next()){$e.index>st?(pt=$e,$e=null):pt=$e.sibling;var $s=W($,$e,vt.value,he);if($s===null){$e===null&&($e=pt);break}t&&$e&&$s.alternate===null&&n($,$e),U=f($s,U,st),bt===null?Ze=$s:bt.sibling=$s,bt=$s,$e=pt}if(vt.done)return r($,$e),gt&&Ja($,st),Ze;if($e===null){for(;!vt.done;st++,vt=Y.next())vt=ge($,vt.value,he),vt!==null&&(U=f(vt,U,st),bt===null?Ze=vt:bt.sibling=vt,bt=vt);return gt&&Ja($,st),Ze}for($e=i($e);!vt.done;st++,vt=Y.next())vt=se($e,$,st,vt.value,he),vt!==null&&(t&&vt.alternate!==null&&$e.delete(vt.key===null?st:vt.key),U=f(vt,U,st),bt===null?Ze=vt:bt.sibling=vt,bt=vt);return t&&$e.forEach(function(_w){return n($,_w)}),gt&&Ja($,st),Ze}function Ot($,U,Y,he){if(typeof Y=="object"&&Y!==null&&Y.type===j&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:e:{for(var Ze=Y.key;U!==null;){if(U.key===Ze){if(Ze=Y.type,Ze===j){if(U.tag===7){r($,U.sibling),he=u(U,Y.props.children),he.return=$,$=he;break e}}else if(U.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===X&&or(Ze)===U.type){r($,U.sibling),he=u(U,Y.props),Yl(he,Y),he.return=$,$=he;break e}r($,U);break}else n($,U);U=U.sibling}Y.type===j?(he=ar(Y.props.children,$.mode,he,Y.key),he.return=$,$=he):(he=fo(Y.type,Y.key,Y.props,null,$.mode,he),Yl(he,Y),he.return=$,$=he)}return g($);case _:e:{for(Ze=Y.key;U!==null;){if(U.key===Ze)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){r($,U.sibling),he=u(U,Y.children||[]),he.return=$,$=he;break e}else{r($,U);break}else n($,U);U=U.sibling}he=Au(Y,$.mode,he),he.return=$,$=he}return g($);case X:return Y=or(Y),Ot($,U,Y,he)}if(je(Y))return Le($,U,Y,he);if(de(Y)){if(Ze=de(Y),typeof Ze!="function")throw Error(l(150));return Y=Ze.call(Y),Pe($,U,Y,he)}if(typeof Y.then=="function")return Ot($,U,vo(Y),he);if(Y.$$typeof===J)return Ot($,U,po($,Y),he);xo($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(r($,U.sibling),he=u(U,Y),he.return=$,$=he):(r($,U),he=Eu(Y,$.mode,he),he.return=$,$=he),g($)):r($,U)}return function($,U,Y,he){try{Pl=0;var Ze=Ot($,U,Y,he);return Gr=null,Ze}catch($e){if($e===Zr||$e===yo)throw $e;var bt=sa(29,$e,null,$.mode);return bt.lanes=he,bt.return=$,bt}finally{}}}var ur=Zh(!0),Gh=Zh(!1),_s=!1;function qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(xt&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=uo(t),Oh(t,null,r),n}return co(t,i,n,r),uo(t)}function Kl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,lt(t,r)}}function $u(t,n){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Fu=!1;function Xl(){if(Fu){var t=Vr;if(t!==null)throw t}}function Jl(t,n,r,i){Fu=!1;var u=t.updateQueue;_s=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var D=S,K=D.next;D.next=null,g===null?f=K:g.next=K,g=D;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,S=ie.lastBaseUpdate,S!==g&&(S===null?ie.firstBaseUpdate=K:S.next=K,ie.lastBaseUpdate=D))}if(f!==null){var ge=u.baseState;g=0,ie=K=D=null,S=f;do{var W=S.lane&-536870913,se=W!==S.lane;if(se?(ht&W)===W:(i&W)===W){W!==0&&W===Hr&&(Fu=!0),ie!==null&&(ie=ie.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Le=t,Pe=S;W=n;var Ot=r;switch(Pe.tag){case 1:if(Le=Pe.payload,typeof Le=="function"){ge=Le.call(Ot,ge,W);break e}ge=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Pe.payload,W=typeof Le=="function"?Le.call(Ot,ge,W):Le,W==null)break e;ge=x({},ge,W);break e;case 2:_s=!0}}W=S.callback,W!==null&&(t.flags|=64,se&&(t.flags|=8192),se=u.callbacks,se===null?u.callbacks=[W]:se.push(W))}else se={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ie===null?(K=ie=se,D=ge):ie=ie.next=se,g|=W;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;se=S,S=se.next,se.next=null,u.lastBaseUpdate=se,u.shared.pending=null}}while(!0);ie===null&&(D=ge),u.baseState=D,u.firstBaseUpdate=K,u.lastBaseUpdate=ie,f===null&&(u.shared.lanes=0),Ts|=g,t.lanes=g,t.memoizedState=ge}}function Qh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Ph(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qh(r[t],n)}var Qr=N(null),So=N(0);function Yh(t,n){t=cs,oe(So,t),oe(Qr,n),cs=t|n.baseLanes}function Hu(){oe(So,cs),oe(Qr,Qr.current)}function Vu(){cs=So.current,Q(Qr),Q(So)}var ra=N(null),ba=null;function As(t){var n=t.alternate;oe(Xt,Xt.current&1),oe(ra,t),ba===null&&(n===null||Qr.current!==null||n.memoizedState!==null)&&(ba=t)}function Zu(t){oe(Xt,Xt.current),oe(ra,t),ba===null&&(ba=t)}function Kh(t){t.tag===22?(oe(Xt,Xt.current),oe(ra,t),ba===null&&(ba=t)):Cs()}function Cs(){oe(Xt,Xt.current),oe(ra,ra.current)}function la(t){Q(ra),ba===t&&(ba=null),Q(Xt)}var Xt=N(0);function wo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Xd(r)||Jd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,tt=null,At=null,sn=null,No=!1,Pr=!1,dr=!1,_o=0,Wl=0,Yr=null,hS=0;function Qt(){throw Error(l(321))}function Gu(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!aa(t[r],n[r]))return!1;return!0}function Qu(t,n,r,i,u,f){return ts=f,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?zp:od,dr=!1,f=r(i,u),dr=!1,Pr&&(f=Jh(n,r,i,u)),Xh(t),f}function Xh(t){z.H=ni;var n=At!==null&&At.next!==null;if(ts=0,sn=At=tt=null,No=!1,Wl=0,Yr=null,n)throw Error(l(300));t===null||rn||(t=t.dependencies,t!==null&&ho(t)&&(rn=!0))}function Jh(t,n,r,i){tt=t;var u=0;do{if(Pr&&(Yr=null),Wl=0,Pr=!1,25<=u)throw Error(l(301));if(u+=1,sn=At=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=Mp,f=n(r,i)}while(Pr);return f}function pS(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?ei(n):n,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(tt.flags|=1024),n}function Pu(){var t=_o!==0;return _o=0,t}function Yu(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ku(t){if(No){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}No=!1}ts=0,sn=At=tt=null,Pr=!1,Wl=_o=0,Yr=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?tt.memoizedState=sn=t:sn=sn.next=t,sn}function Jt(){if(At===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var n=sn===null?tt.memoizedState:sn.next;if(n!==null)sn=n,At=t;else{if(t===null)throw tt.alternate===null?Error(l(467)):Error(l(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},sn===null?tt.memoizedState=sn=t:sn=sn.next=t}return sn}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ei(t){var n=Wl;return Wl+=1,Yr===null&&(Yr=[]),t=Fh(Yr,t,n),n=tt,(sn===null?n.memoizedState:sn.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?zp:od),t}function Eo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ei(t);if(t.$$typeof===J)return An(t)}throw Error(l(438,String(t)))}function Xu(t){var n=null,r=tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=tt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=jo(),tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),i=0;i<t;i++)r[i]=ye;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function Ao(t){var n=Jt();return Ju(n,At,t)}function Ju(t,n,r){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=t.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,i.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var S=g=null,D=null,K=n,ie=!1;do{var ge=K.lane&-536870913;if(ge!==K.lane?(ht&ge)===ge:(ts&ge)===ge){var W=K.revertLane;if(W===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ge===Hr&&(ie=!0);else if((ts&W)===W){K=K.next,W===Hr&&(ie=!0);continue}else ge={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=ge,g=f):D=D.next=ge,tt.lanes|=W,Ts|=W;ge=K.action,dr&&r(f,ge),f=K.hasEagerState?K.eagerState:r(f,ge)}else W={lane:ge,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=W,g=f):D=D.next=W,tt.lanes|=ge,Ts|=ge;K=K.next}while(K!==null&&K!==n);if(D===null?g=f:D.next=S,!aa(f,t.memoizedState)&&(rn=!0,ie&&(r=Vr,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=D,i.lastRenderedState=f}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Wu(t){var n=Jt(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var i=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);aa(f,n.memoizedState)||(rn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,i]}function Wh(t,n,r){var i=tt,u=Jt(),f=gt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var g=!aa((At||u).memoizedState,r);if(g&&(u.memoizedState=r,rn=!0),u=u.queue,nd(np.bind(null,i,u,t),[t]),u.getSnapshot!==n||g||sn!==null&&sn.memoizedState.tag&1){if(i.flags|=2048,Kr(9,{destroy:void 0},tp.bind(null,i,u,r,n),null),Dt===null)throw Error(l(349));f||(ts&127)!==0||ep(i,n,r)}return r}function ep(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=tt.updateQueue,n===null?(n=jo(),tt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function tp(t,n,r,i){n.value=r,n.getSnapshot=i,ap(n)&&sp(t)}function np(t,n,r){return r(function(){ap(n)&&sp(t)})}function ap(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!aa(t,r)}catch{return!0}}function sp(t){var n=nr(t,2);n!==null&&Kn(n,t,2)}function ed(t){var n=Ln();if(typeof t=="function"){var r=t;if(t=r(),dr){Zt(!0);try{r()}finally{Zt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function rp(t,n,r,i){return t.baseState=r,Ju(t,At,typeof i=="function"?i:ns)}function gS(t,n,r,i,u){if(Ro(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};z.T!==null?r(!0):f.isTransition=!1,i(f),r=n.pending,r===null?(f.next=n.pending=f,lp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lp(t,n){var r=n.action,i=n.payload,u=t.state;if(n.isTransition){var f=z.T,g={};z.T=g;try{var S=r(u,i),D=z.S;D!==null&&D(g,S),ip(t,n,S)}catch(K){td(t,n,K)}finally{f!==null&&g.types!==null&&(f.types=g.types),z.T=f}}else try{f=r(u,i),ip(t,n,f)}catch(K){td(t,n,K)}}function ip(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){op(t,n,i)},function(i){return td(t,n,i)}):op(t,n,r)}function op(t,n,r){n.status="fulfilled",n.value=r,cp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,lp(t,r)))}function td(t,n,r){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,cp(n),n=n.next;while(n!==i)}t.action=null}function cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function dp(t,n){if(gt){var r=Dt.formState;if(r!==null){e:{var i=tt;if(gt){if(Ut){t:{for(var u=Ut,f=ya;u.nodeType!==8;){if(!f){u=null;break t}if(u=va(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ut=va(u.nextSibling),i=u.data==="F!";break e}}ws(i)}i=!1}i&&(n=r[0])}}return r=Ln(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},r.queue=i,r=Rp.bind(null,tt,i),i.dispatch=r,i=ed(!1),f=id.bind(null,tt,!1,i.queue),i=Ln(),u={state:n,dispatch:null,action:t,pending:null},i.queue=u,r=gS.bind(null,tt,u,f,r),u.dispatch=r,i.memoizedState=t,[n,r,!1]}function fp(t){var n=Jt();return mp(n,At,t)}function mp(t,n,r){if(n=Ju(t,n,up)[0],t=Ao(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=ei(n)}catch(g){throw g===Zr?yo:g}else i=n;n=Jt();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(tt.flags|=2048,Kr(9,{destroy:void 0},yS.bind(null,u,r),null)),[i,f,t]}function yS(t,n){t.action=n}function hp(t){var n=Jt(),r=At;if(r!==null)return mp(n,r,t);Jt(),n=n.memoizedState,r=Jt();var i=r.queue.dispatch;return r.memoizedState=t,[n,i,!1]}function Kr(t,n,r,i){return t={tag:t,create:r,deps:i,inst:n,next:null},n=tt.updateQueue,n===null&&(n=jo(),tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,n.lastEffect=t),t}function pp(){return Jt().memoizedState}function Co(t,n,r,i){var u=Ln();tt.flags|=t,u.memoizedState=Kr(1|n,{destroy:void 0},r,i===void 0?null:i)}function Oo(t,n,r,i){var u=Jt();i=i===void 0?null:i;var f=u.memoizedState.inst;At!==null&&i!==null&&Gu(i,At.memoizedState.deps)?u.memoizedState=Kr(n,f,r,i):(tt.flags|=t,u.memoizedState=Kr(1|n,f,r,i))}function gp(t,n){Co(8390656,8,t,n)}function nd(t,n){Oo(2048,8,t,n)}function bS(t){tt.flags|=4;var n=tt.updateQueue;if(n===null)n=jo(),tt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function yp(t){var n=Jt().memoizedState;return bS({ref:n,nextImpl:t}),function(){if((xt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function bp(t,n){return Oo(4,2,t,n)}function vp(t,n){return Oo(4,4,t,n)}function xp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sp(t,n,r){r=r!=null?r.concat([t]):null,Oo(4,4,xp.bind(null,n,t),r)}function ad(){}function wp(t,n){var r=Jt();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&Gu(n,i[1])?i[0]:(r.memoizedState=[t,n],t)}function Np(t,n){var r=Jt();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&Gu(n,i[1]))return i[0];if(i=t(),dr){Zt(!0);try{t()}finally{Zt(!1)}}return r.memoizedState=[i,n],i}function sd(t,n,r){return r===void 0||(ts&1073741824)!==0&&(ht&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=_g(),tt.lanes|=t,Ts|=t,r)}function _p(t,n,r,i){return aa(r,n)?r:Qr.current!==null?(t=sd(t,r,i),aa(t,n)||(rn=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(ht&261930)===0?(rn=!0,t.memoizedState=r):(t=_g(),tt.lanes|=t,Ts|=t,n)}function jp(t,n,r,i,u){var f=I.p;I.p=f!==0&&8>f?f:8;var g=z.T,S={};z.T=S,id(t,!1,n,r);try{var D=u(),K=z.S;if(K!==null&&K(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ie=mS(D,i);ti(t,n,ie,ca(t))}else ti(t,n,i,ca(t))}catch(ge){ti(t,n,{then:function(){},status:"rejected",reason:ge},ca())}finally{I.p=f,g!==null&&S.types!==null&&(g.types=S.types),z.T=g}}function vS(){}function rd(t,n,r,i){if(t.tag!==5)throw Error(l(476));var u=Ep(t).queue;jp(t,u,n,te,r===null?vS:function(){return Ap(t),r(i)})}function Ep(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:te},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ap(t){var n=Ep(t);n.next===null&&(n=t.alternate.memoizedState),ti(t,n.next.queue,{},ca())}function ld(){return An(bi)}function Cp(){return Jt().memoizedState}function Op(){return Jt().memoizedState}function xS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ca();t=js(r);var i=Es(n,t,r);i!==null&&(Kn(i,n,r),Kl(i,n,r)),n={cache:ku()},t.payload=n;return}n=n.return}}function SS(t,n,r){var i=ca();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ro(t)?Tp(n,r):(r=_u(t,n,r,i),r!==null&&(Kn(r,t,i),Dp(r,n,i)))}function Rp(t,n,r){var i=ca();ti(t,n,r,i)}function ti(t,n,r,i){var u={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ro(t))Tp(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,r);if(u.hasEagerState=!0,u.eagerState=S,aa(S,g))return co(t,n,u,0),Dt===null&&oo(),!1}catch{}finally{}if(r=_u(t,n,u,i),r!==null)return Kn(r,t,i),Dp(r,n,i),!0}return!1}function id(t,n,r,i){if(i={lane:2,revertLane:qd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ro(t)){if(n)throw Error(l(479))}else n=_u(t,r,i,2),n!==null&&Kn(n,t,2)}function Ro(t){var n=t.alternate;return t===tt||n!==null&&n===tt}function Tp(t,n){Pr=No=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Dp(t,n,r){if((r&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,lt(t,r)}}var ni={readContext:An,use:Eo,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};ni.useEffectEvent=Qt;var zp={readContext:An,use:Eo,useCallback:function(t,n){return Ln().memoizedState=[t,n===void 0?null:n],t},useContext:An,useEffect:gp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Co(4194308,4,xp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Co(4194308,4,t,n)},useInsertionEffect:function(t,n){Co(4,2,t,n)},useMemo:function(t,n){var r=Ln();n=n===void 0?null:n;var i=t();if(dr){Zt(!0);try{t()}finally{Zt(!1)}}return r.memoizedState=[i,n],i},useReducer:function(t,n,r){var i=Ln();if(r!==void 0){var u=r(n);if(dr){Zt(!0);try{r(n)}finally{Zt(!1)}}}else u=n;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=SS.bind(null,tt,t),[i.memoizedState,t]},useRef:function(t){var n=Ln();return t={current:t},n.memoizedState=t},useState:function(t){t=ed(t);var n=t.queue,r=Rp.bind(null,tt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ad,useDeferredValue:function(t,n){var r=Ln();return sd(r,t,n)},useTransition:function(){var t=ed(!1);return t=jp.bind(null,tt,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var i=tt,u=Ln();if(gt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Dt===null)throw Error(l(349));(ht&127)!==0||ep(i,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,gp(np.bind(null,i,f,t),[t]),i.flags|=2048,Kr(9,{destroy:void 0},tp.bind(null,i,f,r,n),null),r},useId:function(){var t=Ln(),n=Dt.identifierPrefix;if(gt){var r=Ha,i=Fa;r=(i&~(1<<32-St(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=_o++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=hS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ld,useFormState:dp,useActionState:dp,useOptimistic:function(t){var n=Ln();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=id.bind(null,tt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Xu,useCacheRefresh:function(){return Ln().memoizedState=xS.bind(null,tt)},useEffectEvent:function(t){var n=Ln(),r={impl:t};return n.memoizedState=r,function(){if((xt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},od={readContext:An,use:Eo,useCallback:wp,useContext:An,useEffect:nd,useImperativeHandle:Sp,useInsertionEffect:bp,useLayoutEffect:vp,useMemo:Np,useReducer:Ao,useRef:pp,useState:function(){return Ao(ns)},useDebugValue:ad,useDeferredValue:function(t,n){var r=Jt();return _p(r,At.memoizedState,t,n)},useTransition:function(){var t=Ao(ns)[0],n=Jt().memoizedState;return[typeof t=="boolean"?t:ei(t),n]},useSyncExternalStore:Wh,useId:Cp,useHostTransitionStatus:ld,useFormState:fp,useActionState:fp,useOptimistic:function(t,n){var r=Jt();return rp(r,At,t,n)},useMemoCache:Xu,useCacheRefresh:Op};od.useEffectEvent=yp;var Mp={readContext:An,use:Eo,useCallback:wp,useContext:An,useEffect:nd,useImperativeHandle:Sp,useInsertionEffect:bp,useLayoutEffect:vp,useMemo:Np,useReducer:Wu,useRef:pp,useState:function(){return Wu(ns)},useDebugValue:ad,useDeferredValue:function(t,n){var r=Jt();return At===null?sd(r,t,n):_p(r,At.memoizedState,t,n)},useTransition:function(){var t=Wu(ns)[0],n=Jt().memoizedState;return[typeof t=="boolean"?t:ei(t),n]},useSyncExternalStore:Wh,useId:Cp,useHostTransitionStatus:ld,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var r=Jt();return At!==null?rp(r,At,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:Op};Mp.useEffectEvent=yp;function cd(t,n,r,i){n=t.memoizedState,r=r(i,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ud={enqueueSetState:function(t,n,r){t=t._reactInternals;var i=ca(),u=js(i);u.payload=n,r!=null&&(u.callback=r),n=Es(t,u,i),n!==null&&(Kn(n,t,i),Kl(n,t,i))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var i=ca(),u=js(i);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Es(t,u,i),n!==null&&(Kn(n,t,i),Kl(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ca(),i=js(r);i.tag=2,n!=null&&(i.callback=n),n=Es(t,i,r),n!==null&&(Kn(n,t,r),Kl(n,t,r))}};function kp(t,n,r,i,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,f,g):n.prototype&&n.prototype.isPureReactComponent?!Fl(r,i)||!Fl(u,f):!0}function Up(t,n,r,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==t&&ud.enqueueReplaceState(n,n.state,null)}function fr(t,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function Lp(t){io(t)}function Bp(t){console.error(t)}function qp(t){io(t)}function To(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Ip(t,n,r){try{var i=t.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function dd(t,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){To(t,n)},r}function $p(t){return t=js(t),t.tag=3,t}function Fp(t,n,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;t.payload=function(){return u(f)},t.callback=function(){Ip(n,r,i)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ip(n,r,i),typeof u!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function wS(t,n,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&Fr(n,r,u,!0),r=ra.current,r!==null){switch(r.tag){case 31:case 13:return ba===null?Ho():r.alternate===null&&Pt===0&&(Pt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===bo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),Ud(t,i,u)),!1;case 22:return r.flags|=65536,i===bo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),Ud(t,i,u)),!1}throw Error(l(435,r.tag))}return Ud(t,i,u),Ho(),!1}if(gt)return n=ra.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==Ru&&(t=Error(l(422),{cause:i}),Zl(ha(t,r)))):(i!==Ru&&(n=Error(l(423),{cause:i}),Zl(ha(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=ha(i,r),u=dd(t.stateNode,i,u),$u(t,u),Pt!==4&&(Pt=2)),!1;var f=Error(l(520),{cause:i});if(f=ha(f,r),ui===null?ui=[f]:ui.push(f),Pt!==4&&(Pt=2),n===null)return!0;i=ha(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=dd(r.stateNode,i,t),$u(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=$p(u),Fp(u,t,r,i),$u(r,u),!1}r=r.return}while(r!==null);return!1}var fd=Error(l(461)),rn=!1;function Cn(t,n,r,i){n.child=t===null?Gh(n,null,r,i):ur(n,t.child,r,i)}function Hp(t,n,r,i,u){r=r.render;var f=n.ref;if("ref"in i){var g={};for(var S in i)S!=="ref"&&(g[S]=i[S])}else g=i;return lr(n),i=Qu(t,n,r,g,f,u),S=Pu(),t!==null&&!rn?(Yu(t,n,u),as(t,n,u)):(gt&&S&&Cu(n),n.flags|=1,Cn(t,n,i,u),n.child)}function Vp(t,n,r,i,u){if(t===null){var f=r.type;return typeof f=="function"&&!ju(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Zp(t,n,f,i,u)):(t=fo(r.type,null,i,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!xd(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fl,r(g,i)&&t.ref===n.ref)return as(t,n,u)}return n.flags|=1,t=Xa(f,i),t.ref=n.ref,t.return=n,n.child=t}function Zp(t,n,r,i,u){if(t!==null){var f=t.memoizedProps;if(Fl(f,i)&&t.ref===n.ref)if(rn=!1,n.pendingProps=i=f,xd(t,u))(t.flags&131072)!==0&&(rn=!0);else return n.lanes=t.lanes,as(t,n,u)}return md(t,n,r,i,u)}function Gp(t,n,r,i){var u=i.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(i=n.child=t.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return Qp(t,n,f,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&go(n,f!==null?f.cachePool:null),f!==null?Yh(n,f):Hu(),Kh(n);else return i=n.lanes=536870912,Qp(t,n,f!==null?f.baseLanes|r:r,r,i)}else f!==null?(go(n,f.cachePool),Yh(n,f),Cs(),n.memoizedState=null):(t!==null&&go(n,null),Hu(),Cs());return Cn(t,n,u,r),n.child}function ai(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(t,n,r,i,u){var f=Lu();return f=f===null?null:{parent:an._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&go(n,null),Hu(),Kh(n),t!==null&&Fr(t,n,i,!0),n.childLanes=u,null}function Do(t,n){return n=Mo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Pp(t,n,r){return ur(n,t.child,null,r),t=Do(n,n.pendingProps),t.flags|=2,la(n),n.memoizedState=null,t}function NS(t,n,r){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(gt){if(i.mode==="hidden")return t=Do(n,i),n.lanes=536870912,ai(null,t);if(Zu(n),(t=Ut)?(t=ly(t,ya),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:Fa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},r=Th(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw ws(n);return n.lanes=536870912,null}return Do(n,i)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Zu(n),u)if(n.flags&256)n.flags&=-257,n=Pp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(rn||Fr(t,n,r,!1),u=(r&t.childLanes)!==0,rn||u){if(i=Dt,i!==null&&(g=Ve(i,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,nr(t,g),Kn(i,t,g),fd;Ho(),n=Pp(t,n,r)}else t=f.treeContext,Ut=va(g.nextSibling),En=n,gt=!0,Ss=null,ya=!1,t!==null&&Mh(n,t),n=Do(n,i),n.flags|=4096;return n}return t=Xa(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function zo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function md(t,n,r,i,u){return lr(n),r=Qu(t,n,r,i,void 0,u),i=Pu(),t!==null&&!rn?(Yu(t,n,u),as(t,n,u)):(gt&&i&&Cu(n),n.flags|=1,Cn(t,n,r,u),n.child)}function Yp(t,n,r,i,u,f){return lr(n),n.updateQueue=null,r=Jh(n,i,r,u),Xh(t),i=Pu(),t!==null&&!rn?(Yu(t,n,f),as(t,n,f)):(gt&&i&&Cu(n),n.flags|=1,Cn(t,n,r,f),n.child)}function Kp(t,n,r,i,u){if(lr(n),n.stateNode===null){var f=Br,g=r.contextType;typeof g=="object"&&g!==null&&(f=An(g)),f=new r(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ud,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},qu(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?An(g):Br,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(cd(n,r,g,i),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&ud.enqueueReplaceState(f,f.state,null),Jl(n,i,f,u),Xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,D=fr(r,S);f.props=D;var K=f.context,ie=r.contextType;g=Br,typeof ie=="object"&&ie!==null&&(g=An(ie));var ge=r.getDerivedStateFromProps;ie=typeof ge=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,ie||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||K!==g)&&Up(n,f,i,g),_s=!1;var W=n.memoizedState;f.state=W,Jl(n,i,f,u),Xl(),K=n.memoizedState,S||W!==K||_s?(typeof ge=="function"&&(cd(n,r,ge,i),K=n.memoizedState),(D=_s||kp(n,r,D,i,W,K,g))?(ie||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=K),f.props=i,f.state=K,f.context=g,i=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,Iu(t,n),g=n.memoizedProps,ie=fr(r,g),f.props=ie,ge=n.pendingProps,W=f.context,K=r.contextType,D=Br,typeof K=="object"&&K!==null&&(D=An(K)),S=r.getDerivedStateFromProps,(K=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==ge||W!==D)&&Up(n,f,i,D),_s=!1,W=n.memoizedState,f.state=W,Jl(n,i,f,u),Xl();var se=n.memoizedState;g!==ge||W!==se||_s||t!==null&&t.dependencies!==null&&ho(t.dependencies)?(typeof S=="function"&&(cd(n,r,S,i),se=n.memoizedState),(ie=_s||kp(n,r,ie,i,W,se,D)||t!==null&&t.dependencies!==null&&ho(t.dependencies))?(K||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,se,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,se,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=se),f.props=i,f.state=se,f.context=D,i=ie):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),i=!1)}return f=i,zo(t,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&i?(n.child=ur(n,t.child,null,u),n.child=ur(n,null,r,u)):Cn(t,n,r,u),n.memoizedState=f.state,t=n.child):t=as(t,n,u),t}function Xp(t,n,r,i){return sr(),n.flags|=256,Cn(t,n,r,i),n.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Ih()}}function gd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=oa),t}function Jp(t,n,r){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(gt){if(u?As(n):Cs(),(t=Ut)?(t=ly(t,ya),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:Fa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},r=Th(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw ws(n);return Jd(t)?n.lanes=32:n.lanes=536870912,null}var S=i.children;return i=i.fallback,u?(Cs(),u=n.mode,S=Mo({mode:"hidden",children:S},u),i=ar(i,u,r,null),S.return=n,i.return=n,S.sibling=i,n.child=S,i=n.child,i.memoizedState=pd(r),i.childLanes=gd(t,g,r),n.memoizedState=hd,ai(null,i)):(As(n),yd(n,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=bd(t,n,r)):n.memoizedState!==null?(Cs(),n.child=t.child,n.flags|=128,n=null):(Cs(),S=i.fallback,u=n.mode,i=Mo({mode:"visible",children:i.children},u),S=ar(S,u,r,null),S.flags|=2,i.return=n,S.return=n,i.sibling=S,n.child=i,ur(n,t.child,null,r),i=n.child,i.memoizedState=pd(r),i.childLanes=gd(t,g,r),n.memoizedState=hd,n=ai(null,i));else if(As(n),Jd(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var K=g.dgst;g=K,i=Error(l(419)),i.stack="",i.digest=g,Zl({value:i,source:null,stack:null}),n=bd(t,n,r)}else if(rn||Fr(t,n,r,!1),g=(r&t.childLanes)!==0,rn||g){if(g=Dt,g!==null&&(i=Ve(g,r),i!==0&&i!==D.retryLane))throw D.retryLane=i,nr(t,i),Kn(g,t,i),fd;Xd(S)||Ho(),n=bd(t,n,r)}else Xd(S)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Ut=va(S.nextSibling),En=n,gt=!0,Ss=null,ya=!1,t!==null&&Mh(n,t),n=yd(n,i.children),n.flags|=4096);return n}return u?(Cs(),S=i.fallback,u=n.mode,D=t.child,K=D.sibling,i=Xa(D,{mode:"hidden",children:i.children}),i.subtreeFlags=D.subtreeFlags&65011712,K!==null?S=Xa(K,S):(S=ar(S,u,r,null),S.flags|=2),S.return=n,i.return=n,i.sibling=S,n.child=i,ai(null,i),i=n.child,S=t.child.memoizedState,S===null?S=pd(r):(u=S.cachePool,u!==null?(D=an._currentValue,u=u.parent!==D?{parent:D,pool:D}:u):u=Ih(),S={baseLanes:S.baseLanes|r,cachePool:u}),i.memoizedState=S,i.childLanes=gd(t,g,r),n.memoizedState=hd,ai(t.child,i)):(As(n),r=t.child,t=r.sibling,r=Xa(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function yd(t,n){return n=Mo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Mo(t,n){return t=sa(22,t,null,n),t.lanes=0,t}function bd(t,n,r){return ur(n,t.child,null,r),t=yd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wp(t,n,r){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),zu(t.return,n,r)}function vd(t,n,r,i,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=r,g.tailMode=u,g.treeForkCount=f)}function eg(t,n,r){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var g=Xt.current,S=(g&2)!==0;if(S?(g=g&1|2,n.flags|=128):g&=1,oe(Xt,g),Cn(t,n,i,r),i=gt?Vl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wp(t,r,n);else if(t.tag===19)Wp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&wo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),vd(n,!1,u,r,f,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&wo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}vd(n,!0,r,null,f,i);break;case"together":vd(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Fr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=Xa(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xa(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function xd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ho(t)))}function _S(t,n,r){switch(n.tag){case 3:Ue(n,n.stateNode.containerInfo),Ns(n,an,t.memoizedState.cache),sr();break;case 27:case 5:De(n);break;case 4:Ue(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zu(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(As(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jp(t,n,r):(As(n),t=as(t,n,r),t!==null?t.sibling:null);As(n);break;case 19:var u=(t.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||(Fr(t,n,r,!1),i=(r&n.childLanes)!==0),u){if(i)return eg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),oe(Xt,Xt.current),i)break;return null;case 22:return n.lanes=0,Gp(t,n,r,n.pendingProps);case 24:Ns(n,an,t.memoizedState.cache)}return as(t,n,r)}function tg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)rn=!0;else{if(!xd(t,r)&&(n.flags&128)===0)return rn=!1,_S(t,n,r);rn=(t.flags&131072)!==0}else rn=!1,gt&&(n.flags&1048576)!==0&&zh(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=or(n.elementType),n.type=t,typeof t=="function")ju(t)?(i=fr(t,i),n.tag=1,n=Kp(null,n,t,i,r)):(n.tag=0,n=md(null,n,t,i,r));else{if(t!=null){var u=t.$$typeof;if(u===k){n.tag=11,n=Hp(null,n,t,i,r);break e}else if(u===L){n.tag=14,n=Vp(null,n,t,i,r);break e}}throw n=Ae(t)||t,Error(l(306,n,""))}}return n;case 0:return md(t,n,n.type,n.pendingProps,r);case 1:return i=n.type,u=fr(i,n.pendingProps),Kp(t,n,i,u,r);case 3:e:{if(Ue(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,Iu(t,n),Jl(n,i,null,r);var g=n.memoizedState;if(i=g.cache,Ns(n,an,i),i!==f.cache&&Mu(n,[an],r,!0),Xl(),i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(t,n,i,r);break e}else if(i!==u){u=ha(Error(l(424)),n),Zl(u),n=Xp(t,n,i,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ut=va(t.firstChild),En=n,gt=!0,Ss=null,ya=!0,r=Gh(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sr(),i===u){n=as(t,n,r);break e}Cn(t,n,i,r)}n=n.child}return n;case 26:return zo(t,n),t===null?(r=fy(n.type,null,n.pendingProps,null))?n.memoizedState=r:gt||(r=n.type,t=n.pendingProps,i=Ko(be.current).createElement(r),i[it]=n,i[yt]=t,On(i,r,t),Tt(i),n.stateNode=i):n.memoizedState=fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return De(n),t===null&&gt&&(i=n.stateNode=cy(n.type,n.pendingProps,be.current),En=n,ya=!0,u=Ut,Us(n.type)?(Wd=u,Ut=va(i.firstChild)):Ut=u),Cn(t,n,n.pendingProps.children,r),zo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&gt&&((u=i=Ut)&&(i=ew(i,n.type,n.pendingProps,ya),i!==null?(n.stateNode=i,En=n,Ut=va(i.firstChild),ya=!1,u=!0):u=!1),u||ws(n)),De(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,i=f.children,Pd(u,f)?i=null:g!==null&&Pd(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Qu(t,n,pS,null,null,r),bi._currentValue=u),zo(t,n),Cn(t,n,i,r),n.child;case 6:return t===null&&gt&&((t=r=Ut)&&(r=tw(r,n.pendingProps,ya),r!==null?(n.stateNode=r,En=n,Ut=null,t=!0):t=!1),t||ws(n)),null;case 13:return Jp(t,n,r);case 4:return Ue(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=ur(n,null,i,r):Cn(t,n,i,r),n.child;case 11:return Hp(t,n,n.type,n.pendingProps,r);case 7:return Cn(t,n,n.pendingProps,r),n.child;case 8:return Cn(t,n,n.pendingProps.children,r),n.child;case 12:return Cn(t,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,Ns(n,n.type,i.value),Cn(t,n,i.children,r),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,lr(n),u=An(u),i=i(u),n.flags|=1,Cn(t,n,i,r),n.child;case 14:return Vp(t,n,n.type,n.pendingProps,r);case 15:return Zp(t,n,n.type,n.pendingProps,r);case 19:return eg(t,n,r);case 31:return NS(t,n,r);case 22:return Gp(t,n,r,n.pendingProps);case 24:return lr(n),i=An(an),t===null?(u=Lu(),u===null&&(u=Dt,f=ku(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:i,cache:u},qu(n),Ns(n,an,u)):((t.lanes&r)!==0&&(Iu(t,n),Jl(n,null,null,r),Xl()),u=t.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Ns(n,an,i)):(i=f.cache,Ns(n,an,i),i!==u.cache&&Mu(n,[an],r,!0))),Cn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ss(t){t.flags|=4}function Sd(t,n,r,i,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Cg())t.flags|=8192;else throw cr=bo,Bu}else t.flags&=-16777217}function ng(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yy(n))if(Cg())t.flags|=8192;else throw cr=bo,Bu}function ko(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?P():536870912,t.lanes|=n,el|=n)}function si(t,n){if(!gt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=r,n}function jS(t,n,r){var i=n.pendingProps;switch(Ou(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Lt(n),null;case 3:return r=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),es(an),ue(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($r(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tu())),Lt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(Lt(n),ng(n,f)):(Lt(n),Sd(n,u,null,i,r))):f?f!==t.memoizedState?(ss(n),Lt(n),ng(n,f)):(Lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&ss(n),Lt(n),Sd(n,u,t,i,r)),null;case 27:if(qe(n),r=be.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Lt(n),null}t=M.current,$r(n)?kh(n):(t=cy(u,i,r),n.stateNode=t,ss(n))}return Lt(n),null;case 5:if(qe(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Lt(n),null}if(f=M.current,$r(n))kh(n);else{var g=Ko(be.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?g.createElement(u,{is:i.is}):g.createElement(u)}}f[it]=n,f[yt]=i;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(On(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ss(n)}}return Lt(n),Sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=be.current,$r(n)){if(t=n.stateNode,r=n.memoizedProps,i=null,u=En,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[it]=n,t=!!(t.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Jg(t.nodeValue,r)),t||ws(n,!0)}else t=Ko(t).createTextNode(i),t[it]=n,n.stateNode=t}return Lt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(i=$r(n),r!==null){if(t===null){if(!i)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[it]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),t=!1}else r=Tu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(la(n),n):(la(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Lt(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=$r(n),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[it]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),u=!1}else u=Tu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(la(n),n):(la(n),null)}return la(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,t=t!==null&&t.memoizedState!==null,r&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ko(n,n.updateQueue),Lt(n),null);case 4:return ue(),t===null&&Hd(n.stateNode.containerInfo),Lt(n),null;case 10:return es(n.type),Lt(n),null;case 19:if(Q(Xt),i=n.memoizedState,i===null)return Lt(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)si(i,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=wo(t),f!==null){for(n.flags|=128,si(i,!1),t=f.updateQueue,n.updateQueue=t,ko(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Rh(r,t),r=r.sibling;return oe(Xt,Xt.current&1|2),gt&&Ja(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&G()>Io&&(n.flags|=128,u=!0,si(i,!1),n.lanes=4194304)}else{if(!u)if(t=wo(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,ko(n,t),si(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!gt)return Lt(n),null}else 2*G()-i.renderingStartTime>Io&&r!==536870912&&(n.flags|=128,u=!0,si(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(t=i.last,t!==null?t.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=G(),t.sibling=null,r=Xt.current,oe(Xt,u?r&1|2:r&1),gt&&Ja(n,i.treeForkCount),t):(Lt(n),null);case 22:case 23:return la(n),Vu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),r=n.updateQueue,r!==null&&ko(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),t!==null&&Q(ir),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(an),Lt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function ES(t,n){switch(Ou(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(an),ue(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return qe(n),null;case 31:if(n.memoizedState!==null){if(la(n),n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(la(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Xt),null;case 4:return ue(),null;case 10:return es(n.type),null;case 22:case 23:return la(n),Vu(),t!==null&&Q(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(an),null;case 25:return null;default:return null}}function ag(t,n){switch(Ou(n),n.tag){case 3:es(an),ue();break;case 26:case 27:case 5:qe(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&la(n);break;case 13:la(n);break;case 19:Q(Xt);break;case 10:es(n.type);break;case 22:case 23:la(n),Vu(),t!==null&&Q(ir);break;case 24:es(an)}}function ri(t,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&t)===t){i=void 0;var f=r.create,g=r.inst;i=f(),g.destroy=i}r=r.next}while(r!==u)}}catch(S){Nt(n,n.return,S)}}function Os(t,n,r){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&t)===t){var g=i.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,u=n;var D=r,K=S;try{K()}catch(ie){Nt(u,D,ie)}}}i=i.next}while(i!==f)}}catch(ie){Nt(n,n.return,ie)}}function sg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Ph(n,r)}catch(i){Nt(t,t.return,i)}}}function rg(t,n,r){r.props=fr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(i){Nt(t,n,i)}}function li(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(u){Nt(t,n,u)}}function Va(t,n){var r=t.ref,i=t.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){Nt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Nt(t,n,u)}else r.current=null}function lg(t){var n=t.type,r=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){Nt(t,t.return,u)}}function wd(t,n,r){try{var i=t.stateNode;PS(i,t.type,r,n),i[yt]=n}catch(u){Nt(t,t.return,u)}}function ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Da));else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(_d(t,n,r),t=t.sibling;t!==null;)_d(t,n,r),t=t.sibling}function Uo(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Uo(t,n,r),t=t.sibling;t!==null;)Uo(t,n,r),t=t.sibling}function og(t){var n=t.stateNode,r=t.memoizedProps;try{for(var i=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);On(n,i,r),n[it]=t,n[yt]=r}catch(f){Nt(t,t.return,f)}}var rs=!1,ln=!1,jd=!1,cg=typeof WeakSet=="function"?WeakSet:Set,vn=null;function AS(t,n){if(t=t.containerInfo,Gd=ac,t=Sh(t),bu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,S=-1,D=-1,K=0,ie=0,ge=t,W=null;t:for(;;){for(var se;ge!==r||u!==0&&ge.nodeType!==3||(S=g+u),ge!==f||i!==0&&ge.nodeType!==3||(D=g+i),ge.nodeType===3&&(g+=ge.nodeValue.length),(se=ge.firstChild)!==null;)W=ge,ge=se;for(;;){if(ge===t)break t;if(W===r&&++K===u&&(S=g),W===f&&++ie===i&&(D=g),(se=ge.nextSibling)!==null)break;ge=W,W=ge.parentNode}ge=se}r=S===-1||D===-1?null:{start:S,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qd={focusedElem:t,selectionRange:r},ac=!1,vn=n;vn!==null;)if(n=vn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,vn=t;else for(;vn!==null;){switch(n=vn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var Le=fr(r.type,u);t=i.getSnapshotBeforeUpdate(Le,f),i.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){Nt(r,r.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Kd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,vn=t;break}vn=n.return}}function ug(t,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:is(t,r),i&4&&ri(5,r);break;case 1:if(is(t,r),i&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Nt(r,r.return,g)}else{var u=fr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Nt(r,r.return,g)}}i&64&&sg(r),i&512&&li(r,r.return);break;case 3:if(is(t,r),i&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ph(t,n)}catch(g){Nt(r,r.return,g)}}break;case 27:n===null&&i&4&&og(r);case 26:case 5:is(t,r),n===null&&i&4&&lg(r),i&512&&li(r,r.return);break;case 12:is(t,r);break;case 31:is(t,r),i&4&&mg(t,r);break;case 13:is(t,r),i&4&&hg(t,r),i&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=US.bind(null,r),nw(t,r))));break;case 22:if(i=r.memoizedState!==null||rs,!i){n=n!==null&&n.memoizedState!==null||ln,u=rs;var f=ln;rs=i,(ln=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):is(t,r),rs=u,ln=f}break;case 30:break;default:is(t,r)}}function dg(t){var n=t.alternate;n!==null&&(t.alternate=null,dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Un(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Gn=!1;function ls(t,n,r){for(r=r.child;r!==null;)fg(t,n,r),r=r.sibling}function fg(t,n,r){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Se,r)}catch{}switch(r.tag){case 26:ln||Va(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ln||Va(r,n);var i=It,u=Gn;Us(r.type)&&(It=r.stateNode,Gn=!1),ls(t,n,r),pi(r.stateNode),It=i,Gn=u;break;case 5:ln||Va(r,n);case 6:if(i=It,u=Gn,It=null,ls(t,n,r),It=i,Gn=u,It!==null)if(Gn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(r.stateNode)}catch(f){Nt(r,n,f)}else try{It.removeChild(r.stateNode)}catch(f){Nt(r,n,f)}break;case 18:It!==null&&(Gn?(t=It,sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ol(t)):sy(It,r.stateNode));break;case 4:i=It,u=Gn,It=r.stateNode.containerInfo,Gn=!0,ls(t,n,r),It=i,Gn=u;break;case 0:case 11:case 14:case 15:Os(2,r,n),ln||Os(4,r,n),ls(t,n,r);break;case 1:ln||(Va(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&rg(r,n,i)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:ln=(i=ln)||r.memoizedState!==null,ls(t,n,r),ln=i;break;default:ls(t,n,r)}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(r){Nt(n,n.return,r)}}}function hg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(r){Nt(n,n.return,r)}}function CS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cg),n;default:throw Error(l(435,t.tag))}}function Lo(t,n){var r=CS(t);n.forEach(function(i){if(!r.has(i)){r.add(i);var u=LS.bind(null,t,i);i.then(u,u)}})}function Qn(t,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=t,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 27:if(Us(S.type)){It=S.stateNode,Gn=!1;break e}break;case 5:It=S.stateNode,Gn=!1;break e;case 3:case 4:It=S.stateNode.containerInfo,Gn=!0;break e}S=S.return}if(It===null)throw Error(l(160));fg(f,g,u),It=null,Gn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)pg(n,t),n=n.sibling}var ka=null;function pg(t,n){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qn(n,t),Pn(t),i&4&&(Os(3,t,t.return),ri(3,t),Os(5,t,t.return));break;case 1:Qn(n,t),Pn(t),i&512&&(ln||r===null||Va(r,r.return)),i&64&&rs&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=ka;if(Qn(n,t),Pn(t),i&512&&(ln||r===null||Va(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=t.memoizedState,r===null)if(i===null)if(t.stateNode===null){e:{i=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[qt]||f[it]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),On(f,i,r),f[it]=t,Tt(f),i=f;break e;case"link":var g=py("link","href",u).get(i+(r.href||""));if(g){for(var S=0;S<g.length;S++)if(f=g[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(S,1);break t}}f=u.createElement(i),On(f,i,r),u.head.appendChild(f);break;case"meta":if(g=py("meta","content",u).get(i+(r.content||""))){for(S=0;S<g.length;S++)if(f=g[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(S,1);break t}}f=u.createElement(i),On(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[it]=t,Tt(f),i=f}t.stateNode=i}else gy(u,t.type,t.stateNode);else t.stateNode=hy(u,i,t.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?gy(u,t.type,t.stateNode):hy(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&wd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Qn(n,t),Pn(t),i&512&&(ln||r===null||Va(r,r.return)),r!==null&&i&4&&wd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Qn(n,t),Pn(t),i&512&&(ln||r===null||Va(r,r.return)),t.flags&32){u=t.stateNode;try{gs(u,"")}catch(Le){Nt(t,t.return,Le)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,wd(t,u,r!==null?r.memoizedProps:u)),i&1024&&(jd=!0);break;case 6:if(Qn(n,t),Pn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,r=t.stateNode;try{r.nodeValue=i}catch(Le){Nt(t,t.return,Le)}}break;case 3:if(Wo=null,u=ka,ka=Xo(n.containerInfo),Qn(n,t),ka=u,Pn(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(Le){Nt(t,t.return,Le)}jd&&(jd=!1,gg(t));break;case 4:i=ka,ka=Xo(t.stateNode.containerInfo),Qn(n,t),Pn(t),ka=i;break;case 12:Qn(n,t),Pn(t);break;case 31:Qn(n,t),Pn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Lo(t,i)));break;case 13:Qn(n,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qo=G()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Lo(t,i)));break;case 22:u=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,K=rs,ie=ln;if(rs=K||u,ln=ie||D,Qn(n,t),ln=ie,rs=K,Pn(t),i&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||D||rs||ln||mr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=D.stateNode;var ge=D.memoizedProps.style,W=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Le){Nt(D,D.return,Le)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=u?"":D.memoizedProps}catch(Le){Nt(D,D.return,Le)}}}else if(n.tag===18){if(r===null){D=n;try{var se=D.stateNode;u?ry(se,!0):ry(D.stateNode,!1)}catch(Le){Nt(D,D.return,Le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Lo(t,r))));break;case 19:Qn(n,t),Pn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Lo(t,i)));break;case 30:break;case 21:break;default:Qn(n,t),Pn(t)}}function Pn(t){var n=t.flags;if(n&2){try{for(var r,i=t.return;i!==null;){if(ig(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=Nd(t);Uo(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(gs(g,""),r.flags&=-33);var S=Nd(t);Uo(t,S,g);break;case 3:case 4:var D=r.stateNode.containerInfo,K=Nd(t);_d(t,K,D);break;default:throw Error(l(161))}}catch(ie){Nt(t,t.return,ie)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ug(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),mr(n);break;case 1:Va(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&rg(n,n.return,r),mr(n);break;case 27:pi(n.stateNode);case 26:case 5:Va(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:os(u,f,r),ri(4,f);break;case 1:if(os(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(K){Nt(i,i.return,K)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var D=u.shared.hiddenCallbacks;if(D!==null)for(u.shared.hiddenCallbacks=null,u=0;u<D.length;u++)Qh(D[u],S)}catch(K){Nt(i,i.return,K)}}r&&g&64&&sg(f),li(f,f.return);break;case 27:og(f);case 26:case 5:os(u,f,r),r&&i===null&&g&4&&lg(f),li(f,f.return);break;case 12:os(u,f,r);break;case 31:os(u,f,r),r&&g&4&&mg(u,f);break;case 13:os(u,f,r),r&&g&4&&hg(u,f);break;case 22:f.memoizedState===null&&os(u,f,r),li(f,f.return);break;case 30:break;default:os(u,f,r)}n=n.sibling}}function Ed(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Gl(r))}function Ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t))}function Ua(t,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(t,n,r,i),n=n.sibling}function yg(t,n,r,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ua(t,n,r,i),u&2048&&ri(9,n);break;case 1:Ua(t,n,r,i);break;case 3:Ua(t,n,r,i),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t)));break;case 12:if(u&2048){Ua(t,n,r,i),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,S=f.onPostCommit;typeof S=="function"&&S(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Nt(n,n.return,D)}}else Ua(t,n,r,i);break;case 31:Ua(t,n,r,i);break;case 13:Ua(t,n,r,i);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ua(t,n,r,i):ii(t,n):f._visibility&2?Ua(t,n,r,i):(f._visibility|=2,Xr(t,n,r,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ed(g,n);break;case 24:Ua(t,n,r,i),u&2048&&Ad(n.alternate,n);break;default:Ua(t,n,r,i)}}function Xr(t,n,r,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,S=r,D=i,K=g.flags;switch(g.tag){case 0:case 11:case 15:Xr(f,g,S,D,u),ri(8,g);break;case 23:break;case 22:var ie=g.stateNode;g.memoizedState!==null?ie._visibility&2?Xr(f,g,S,D,u):ii(f,g):(ie._visibility|=2,Xr(f,g,S,D,u)),u&&K&2048&&Ed(g.alternate,g);break;case 24:Xr(f,g,S,D,u),u&&K&2048&&Ad(g.alternate,g);break;default:Xr(f,g,S,D,u)}n=n.sibling}}function ii(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,i=n,u=i.flags;switch(i.tag){case 22:ii(r,i),u&2048&&Ed(i.alternate,i);break;case 24:ii(r,i),u&2048&&Ad(i.alternate,i);break;default:ii(r,i)}n=n.sibling}}var oi=8192;function Jr(t,n,r){if(t.subtreeFlags&oi)for(t=t.child;t!==null;)bg(t,n,r),t=t.sibling}function bg(t,n,r){switch(t.tag){case 26:Jr(t,n,r),t.flags&oi&&t.memoizedState!==null&&hw(r,ka,t.memoizedState,t.memoizedProps);break;case 5:Jr(t,n,r);break;case 3:case 4:var i=ka;ka=Xo(t.stateNode.containerInfo),Jr(t,n,r),ka=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=oi,oi=16777216,Jr(t,n,r),oi=i):Jr(t,n,r));break;default:Jr(t,n,r)}}function vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ci(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];vn=i,Sg(i,t)}vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 0:case 11:case 15:ci(t),t.flags&2048&&Os(9,t,t.return);break;case 3:ci(t);break;case 12:ci(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bo(t)):ci(t);break;default:ci(t)}}function Bo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];vn=i,Sg(i,t)}vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Os(8,n,n.return),Bo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Bo(n));break;default:Bo(n)}t=t.sibling}}function Sg(t,n){for(;vn!==null;){var r=vn;switch(r.tag){case 0:case 11:case 15:Os(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Gl(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,vn=i;else e:for(r=t;vn!==null;){i=vn;var u=i.sibling,f=i.return;if(dg(i),i===r){vn=null;break e}if(u!==null){u.return=f,vn=u;break e}vn=f}}}var OS={getCacheForType:function(t){var n=An(an),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return An(an).controller.signal}},RS=typeof WeakMap=="function"?WeakMap:Map,xt=0,Dt=null,dt=null,ht=0,wt=0,ia=null,Rs=!1,Wr=!1,Cd=!1,cs=0,Pt=0,Ts=0,hr=0,Od=0,oa=0,el=0,ui=null,Yn=null,Rd=!1,qo=0,wg=0,Io=1/0,$o=null,Ds=null,fn=0,zs=null,tl=null,us=0,Td=0,Dd=null,Ng=null,di=0,zd=null;function ca(){return(xt&2)!==0&&ht!==0?ht&-ht:z.T!==null?qd():Rt()}function _g(){if(oa===0)if((ht&536870912)===0||gt){var t=at;at<<=1,(at&3932160)===0&&(at=262144),oa=t}else oa=536870912;return t=ra.current,t!==null&&(t.flags|=32),oa}function Kn(t,n,r){(t===Dt&&(wt===2||wt===9)||t.cancelPendingCommit!==null)&&(nl(t,0),Ms(t,ht,oa,!1)),we(t,r),((xt&2)===0||t!==Dt)&&(t===Dt&&((xt&2)===0&&(hr|=r),Pt===4&&Ms(t,ht,oa,!1)),Za(t))}function jg(t,n,r){if((xt&6)!==0)throw Error(l(327));var i=!r&&(n&127)===0&&(n&t.expiredLanes)===0||$n(t,n),u=i?zS(t,n):kd(t,n,!0),f=i;do{if(u===0){Wr&&!i&&Ms(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!TS(r)){u=kd(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var S=t;u=ui;var D=S.current.memoizedState.isDehydrated;if(D&&(nl(S,g).flags|=256),g=kd(S,g,!1),g!==2){if(Cd&&!D){S.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Yn,Yn=u,f!==null&&(Yn===null?Yn=f:Yn.push.apply(Yn,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){nl(t,0),Ms(t,n,0,!0);break}e:{switch(i=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ms(i,n,oa,!Rs);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=qo+300-G(),10<u)){if(Ms(i,n,oa,!Rs),Oa(i,0,!0)!==0)break e;us=n,i.timeoutHandle=ny(Eg.bind(null,i,r,Yn,$o,Rd,n,oa,hr,el,Rs,f,"Throttled",-0,0),u);break e}Eg(i,r,Yn,$o,Rd,n,oa,hr,el,Rs,f,null,-0,0)}}break}while(!0);Za(t)}function Eg(t,n,r,i,u,f,g,S,D,K,ie,ge,W,se){if(t.timeoutHandle=-1,ge=n.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},bg(n,f,ge);var Le=(f&62914560)===f?qo-G():(f&4194048)===f?wg-G():0;if(Le=pw(ge,Le),Le!==null){us=f,t.cancelPendingCommit=Le(Mg.bind(null,t,n,f,r,i,u,g,S,D,ie,ge,null,W,se)),Ms(t,f,g,!K);return}}Mg(t,n,f,r,i,u,g,S,D)}function TS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!aa(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,r,i){n&=~Od,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var u=n;0<u;){var f=31-St(u),g=1<<f;i[f]=-1,u&=~g}r!==0&&Je(t,r,n)}function Fo(){return(xt&6)===0?(fi(0),!1):!0}function Md(){if(dt!==null){if(wt===0)var t=dt.return;else t=dt,Wa=rr=null,Ku(t),Gr=null,Pl=0,t=dt;for(;t!==null;)ag(t.alternate,t),t=t.return;dt=null}}function nl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,XS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,Md(),Dt=t,dt=r=Xa(t.current,null),ht=n,wt=0,ia=null,Rs=!1,Wr=$n(t,n),Cd=!1,el=oa=Od=hr=Ts=Pt=0,Yn=ui=null,Rd=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var u=31-St(i),f=1<<u;n|=t[u],i&=~f}return cs=n,oo(),r}function Ag(t,n){tt=null,z.H=ni,n===Zr||n===yo?(n=Hh(),wt=3):n===Bu?(n=Hh(),wt=4):wt=n===fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ia=n,dt===null&&(Pt=1,To(t,ha(n,t.current)))}function Cg(){var t=ra.current;return t===null?!0:(ht&4194048)===ht?ba===null:(ht&62914560)===ht||(ht&536870912)!==0?t===ba:!1}function Og(){var t=z.H;return z.H=ni,t===null?ni:t}function Rg(){var t=z.A;return z.A=OS,t}function Ho(){Pt=4,Rs||(ht&4194048)!==ht&&ra.current!==null||(Wr=!0),(Ts&134217727)===0&&(hr&134217727)===0||Dt===null||Ms(Dt,ht,oa,!1)}function kd(t,n,r){var i=xt;xt|=2;var u=Og(),f=Rg();(Dt!==t||ht!==n)&&($o=null,nl(t,n)),n=!1;var g=Pt;e:do try{if(wt!==0&&dt!==null){var S=dt,D=ia;switch(wt){case 8:Md(),g=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(n=!0);var K=wt;if(wt=0,ia=null,al(t,S,D,K),r&&Wr){g=0;break e}break;default:K=wt,wt=0,ia=null,al(t,S,D,K)}}DS(),g=Pt;break}catch(ie){Ag(t,ie)}while(!0);return n&&t.shellSuspendCounter++,Wa=rr=null,xt=i,z.H=u,z.A=f,dt===null&&(Dt=null,ht=0,oo()),g}function DS(){for(;dt!==null;)Tg(dt)}function zS(t,n){var r=xt;xt|=2;var i=Og(),u=Rg();Dt!==t||ht!==n?($o=null,Io=G()+500,nl(t,n)):Wr=$n(t,n);e:do try{if(wt!==0&&dt!==null){n=dt;var f=ia;t:switch(wt){case 1:wt=0,ia=null,al(t,n,f,1);break;case 2:case 9:if($h(f)){wt=0,ia=null,Dg(n);break}n=function(){wt!==2&&wt!==9||Dt!==t||(wt=7),Za(t)},f.then(n,n);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:$h(f)?(wt=0,ia=null,Dg(n)):(wt=0,ia=null,al(t,n,f,7));break;case 5:var g=null;switch(dt.tag){case 26:g=dt.memoizedState;case 5:case 27:var S=dt;if(g?yy(g):S.stateNode.complete){wt=0,ia=null;var D=S.sibling;if(D!==null)dt=D;else{var K=S.return;K!==null?(dt=K,Vo(K)):dt=null}break t}}wt=0,ia=null,al(t,n,f,5);break;case 6:wt=0,ia=null,al(t,n,f,6);break;case 8:Md(),Pt=6;break e;default:throw Error(l(462))}}MS();break}catch(ie){Ag(t,ie)}while(!0);return Wa=rr=null,z.H=i,z.A=u,xt=r,dt!==null?0:(Dt=null,ht=0,oo(),Pt)}function MS(){for(;dt!==null&&!R();)Tg(dt)}function Tg(t){var n=tg(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?Vo(t):dt=n}function Dg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Yp(r,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=Yp(r,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Ku(n);default:ag(r,n),n=dt=Rh(n,cs),n=tg(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?Vo(t):dt=n}function al(t,n,r,i){Wa=rr=null,Ku(n),Gr=null,Pl=0;var u=n.return;try{if(wS(t,u,n,r,ht)){Pt=1,To(t,ha(r,t.current)),dt=null;return}}catch(f){if(u!==null)throw dt=u,f;Pt=1,To(t,ha(r,t.current)),dt=null;return}n.flags&32768?(gt||i===1?t=!0:Wr||(ht&536870912)!==0?t=!1:(Rs=t=!0,(i===2||i===9||i===3||i===6)&&(i=ra.current,i!==null&&i.tag===13&&(i.flags|=16384))),zg(n,t)):Vo(n)}function Vo(t){var n=t;do{if((n.flags&32768)!==0){zg(n,Rs);return}t=n.return;var r=jS(n.alternate,n,cs);if(r!==null){dt=r;return}if(n=n.sibling,n!==null){dt=n;return}dt=n=t}while(n!==null);Pt===0&&(Pt=5)}function zg(t,n){do{var r=ES(t.alternate,t);if(r!==null){r.flags&=32767,dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){dt=t;return}dt=t=r}while(t!==null);Pt=6,dt=null}function Mg(t,n,r,i,u,f,g,S,D){t.cancelPendingCommit=null;do Zo();while(fn!==0);if((xt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Nu,Be(t,r,f,g,S,D),t===Dt&&(dt=Dt=null,ht=0),tl=n,zs=t,us=r,Td=f,Dd=u,Ng=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,BS(ne,function(){return qg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=z.T,z.T=null,u=I.p,I.p=2,g=xt,xt|=4;try{AS(t,n,r)}finally{xt=g,I.p=u,z.T=i}}fn=1,kg(),Ug(),Lg()}}function kg(){if(fn===1){fn=0;var t=zs,n=tl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var i=I.p;I.p=2;var u=xt;xt|=4;try{pg(n,t);var f=Qd,g=Sh(t.containerInfo),S=f.focusedElem,D=f.selectionRange;if(g!==S&&S&&S.ownerDocument&&xh(S.ownerDocument.documentElement,S)){if(D!==null&&bu(S)){var K=D.start,ie=D.end;if(ie===void 0&&(ie=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ie,S.value.length);else{var ge=S.ownerDocument||document,W=ge&&ge.defaultView||window;if(W.getSelection){var se=W.getSelection(),Le=S.textContent.length,Pe=Math.min(D.start,Le),Ot=D.end===void 0?Pe:Math.min(D.end,Le);!se.extend&&Pe>Ot&&(g=Ot,Ot=Pe,Pe=g);var $=vh(S,Pe),U=vh(S,Ot);if($&&U&&(se.rangeCount!==1||se.anchorNode!==$.node||se.anchorOffset!==$.offset||se.focusNode!==U.node||se.focusOffset!==U.offset)){var Y=ge.createRange();Y.setStart($.node,$.offset),se.removeAllRanges(),Pe>Ot?(se.addRange(Y),se.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),se.addRange(Y))}}}}for(ge=[],se=S;se=se.parentNode;)se.nodeType===1&&ge.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ge.length;S++){var he=ge[S];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}ac=!!Gd,Qd=Gd=null}finally{xt=u,I.p=i,z.T=r}}t.current=n,fn=2}}function Ug(){if(fn===2){fn=0;var t=zs,n=tl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var i=I.p;I.p=2;var u=xt;xt|=4;try{ug(t,n.alternate,n)}finally{xt=u,I.p=i,z.T=r}}fn=3}}function Lg(){if(fn===4||fn===3){fn=0,Z();var t=zs,n=tl,r=us,i=Ng;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?fn=5:(fn=0,tl=zs=null,Bg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ds=null),zt(r),n=n.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Se,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=z.T,u=I.p,I.p=2,z.T=null;try{for(var f=t.onRecoverableError,g=0;g<i.length;g++){var S=i[g];f(S.value,{componentStack:S.stack})}}finally{z.T=n,I.p=u}}(us&3)!==0&&Zo(),Za(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===zd?di++:(di=0,zd=t):di=0,fi(0)}}function Bg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Gl(n)))}function Zo(){return kg(),Ug(),Lg(),qg()}function qg(){if(fn!==5)return!1;var t=zs,n=Td;Td=0;var r=zt(us),i=z.T,u=I.p;try{I.p=32>r?32:r,z.T=null,r=Dd,Dd=null;var f=zs,g=us;if(fn=0,tl=zs=null,us=0,(xt&6)!==0)throw Error(l(331));var S=xt;if(xt|=4,xg(f.current),yg(f,f.current,g,r),xt=S,fi(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Se,f)}catch{}return!0}finally{I.p=u,z.T=i,Bg(t,n)}}function Ig(t,n,r){n=ha(r,n),n=dd(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(we(t,2),Za(t))}function Nt(t,n,r){if(t.tag===3)Ig(t,t,r);else for(;n!==null;){if(n.tag===3){Ig(n,t,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ds===null||!Ds.has(i))){t=ha(r,t),r=$p(2),i=Es(n,r,2),i!==null&&(Fp(r,i,n,t),we(i,2),Za(i));break}}n=n.return}}function Ud(t,n,r){var i=t.pingCache;if(i===null){i=t.pingCache=new RS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(r)||(Cd=!0,u.add(r),t=kS.bind(null,t,n,r),n.then(t,t))}function kS(t,n,r){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Dt===t&&(ht&r)===r&&(Pt===4||Pt===3&&(ht&62914560)===ht&&300>G()-qo?(xt&2)===0&&nl(t,0):Od|=r,el===ht&&(el=0)),Za(t)}function $g(t,n){n===0&&(n=P()),t=nr(t,n),t!==null&&(we(t,n),Za(t))}function US(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),$g(t,r)}function LS(t,n){var r=0;switch(t.tag){case 31:case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),$g(t,r)}function BS(t,n){return C(t,n)}var Go=null,sl=null,Ld=!1,Qo=!1,Bd=!1,ks=0;function Za(t){t!==sl&&t.next===null&&(sl===null?Go=sl=t:sl=sl.next=t),Qo=!0,Ld||(Ld=!0,IS())}function fi(t,n){if(!Bd&&Qo){Bd=!0;do for(var r=!1,i=Go;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var g=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=u&~(g&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Zg(i,f))}else f=ht,f=Oa(i,i===Dt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||$n(i,f)||(r=!0,Zg(i,f));i=i.next}while(r);Bd=!1}}function qS(){Fg()}function Fg(){Qo=Ld=!1;var t=0;ks!==0&&KS()&&(t=ks);for(var n=G(),r=null,i=Go;i!==null;){var u=i.next,f=Hg(i,n);f===0?(i.next=null,r===null?Go=u:r.next=u,u===null&&(sl=r)):(r=i,(t!==0||(f&3)!==0)&&(Qo=!0)),i=u}fn!==0&&fn!==5||fi(t),ks!==0&&(ks=0)}function Hg(t,n){for(var r=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-St(f),S=1<<g,D=u[g];D===-1?((S&r)===0||(S&i)!==0)&&(u[g]=Fn(S,n)):D<=n&&(t.expiredLanes|=S),f&=~S}if(n=Dt,r=ht,r=Oa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,r===0||t===n&&(wt===2||wt===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&V(i),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||$n(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(i!==null&&V(i),zt(r)){case 2:case 8:r=Me;break;case 32:r=ne;break;case 268435456:r=Fe;break;default:r=ne}return i=Vg.bind(null,t),r=C(r,i),t.callbackPriority=n,t.callbackNode=r,n}return i!==null&&i!==null&&V(i),t.callbackPriority=2,t.callbackNode=null,2}function Vg(t,n){if(fn!==0&&fn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Zo()&&t.callbackNode!==r)return null;var i=ht;return i=Oa(t,t===Dt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(jg(t,i,n),Hg(t,G()),t.callbackNode!=null&&t.callbackNode===r?Vg.bind(null,t):null)}function Zg(t,n){if(Zo())return null;jg(t,n,!0)}function IS(){JS(function(){(xt&6)!==0?C(Re,qS):Fg()})}function qd(){if(ks===0){var t=Hr;t===0&&(t=na,na<<=1,(na&261888)===0&&(na=256)),ks=t}return ks}function Gg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function Qg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $S(t,n,r,i,u){if(n==="submit"&&r&&r.stateNode===u){var f=Gg((u[yt]||null).action),g=i.submitter;g&&(n=(n=g[yt]||null)?Gg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var S=new Ws("action","action",null,i,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ks!==0){var D=g?Qg(u,g):new FormData(u);rd(r,{pending:!0,data:D,method:u.method,action:f},null,D)}}else typeof f=="function"&&(S.preventDefault(),D=g?Qg(u,g):new FormData(u),rd(r,{pending:!0,data:D,method:u.method,action:f},f,D))},currentTarget:u}]})}}for(var Id=0;Id<wu.length;Id++){var $d=wu[Id],FS=$d.toLowerCase(),HS=$d[0].toUpperCase()+$d.slice(1);Ma(FS,"on"+HS)}Ma(_h,"onAnimationEnd"),Ma(jh,"onAnimationIteration"),Ma(Eh,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(rS,"onTransitionRun"),Ma(lS,"onTransitionStart"),Ma(iS,"onTransitionCancel"),Ma(Ah,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mi));function Pg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var g=i.length-1;0<=g;g--){var S=i[g],D=S.instance,K=S.currentTarget;if(S=S.listener,D!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=K;try{f(u)}catch(ie){io(ie)}u.currentTarget=null,f=D}else for(g=0;g<i.length;g++){if(S=i[g],D=S.instance,K=S.currentTarget,S=S.listener,D!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=K;try{f(u)}catch(ie){io(ie)}u.currentTarget=null,f=D}}}}function ft(t,n){var r=n[un];r===void 0&&(r=n[un]=new Set);var i=t+"__bubble";r.has(i)||(Yg(n,t,2,!1),r.add(i))}function Fd(t,n,r){var i=0;n&&(i|=4),Yg(r,t,i,n)}var Po="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[Po]){t[Po]=!0,Rr.forEach(function(r){r!=="selectionchange"&&(VS.has(r)||Fd(r,!1,t),Fd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Po]||(n[Po]=!0,Fd("selectionchange",!1,n))}}function Yg(t,n,r,i){switch(_y(n)){case 2:var u=bw;break;case 8:u=vw;break;default:u=sf}r=u.bind(null,n,r,t),u=void 0,!Xs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Vd(t,n,r,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var S=i.stateNode.containerInfo;if(S===u)break;if(g===4)for(g=i.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;S!==null;){if(g=en(S),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){i=f=g;continue e}S=S.parentNode}}i=i.return}so(function(){var K=f,ie=Ul(r),ge=[];e:{var W=Ch.get(t);if(W!==void 0){var se=Ws,Le=t;switch(t){case"keypress":if(_e(r)===0)break e;case"keydown":case"keyup":se=L0;break;case"focusin":Le="focus",se=mu;break;case"focusout":Le="blur",se=mu;break;case"beforeblur":case"afterblur":se=mu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=I0;break;case _h:case jh:case Eh:se=C0;break;case Ah:se=F0;break;case"scroll":case"scrollend":se=N0;break;case"wheel":se=V0;break;case"copy":case"cut":case"paste":se=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=rh;break;case"toggle":case"beforetoggle":se=G0}var Pe=(n&4)!==0,Ot=!Pe&&(t==="scroll"||t==="scrollend"),$=Pe?W!==null?W+"Capture":null:W;Pe=[];for(var U=K,Y;U!==null;){var he=U;if(Y=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Y===null||$===null||(he=Ks(U,$),he!=null&&Pe.push(hi(U,he,Y))),Ot)break;U=U.return}0<Pe.length&&(W=new se(W,Le,null,r,ie),ge.push({event:W,listeners:Pe}))}}if((n&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",W&&r!==ys&&(Le=r.relatedTarget||r.fromElement)&&(en(Le)||Le[kt]))break e;if((se||W)&&(W=ie.window===ie?ie:(W=ie.ownerDocument)?W.defaultView||W.parentWindow:window,se?(Le=r.relatedTarget||r.toElement,se=K,Le=Le?en(Le):null,Le!==null&&(Ot=d(Le),Pe=Le.tag,Le!==Ot||Pe!==5&&Pe!==27&&Pe!==6)&&(Le=null)):(se=null,Le=K),se!==Le)){if(Pe=ah,he="onMouseLeave",$="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=rh,he="onPointerLeave",$="onPointerEnter",U="pointer"),Ot=se==null?W:Hn(se),Y=Le==null?W:Hn(Le),W=new Pe(he,U+"leave",se,r,ie),W.target=Ot,W.relatedTarget=Y,he=null,en(ie)===K&&(Pe=new Pe($,U+"enter",Le,r,ie),Pe.target=Y,Pe.relatedTarget=Ot,he=Pe),Ot=he,se&&Le)t:{for(Pe=ZS,$=se,U=Le,Y=0,he=$;he;he=Pe(he))Y++;he=0;for(var Ze=U;Ze;Ze=Pe(Ze))he++;for(;0<Y-he;)$=Pe($),Y--;for(;0<he-Y;)U=Pe(U),he--;for(;Y--;){if($===U||U!==null&&$===U.alternate){Pe=$;break t}$=Pe($),U=Pe(U)}Pe=null}else Pe=null;se!==null&&Kg(ge,W,se,Pe,!1),Le!==null&&Ot!==null&&Kg(ge,Ot,Le,Pe,!0)}}e:{if(W=K?Hn(K):window,se=W.nodeName&&W.nodeName.toLowerCase(),se==="select"||se==="input"&&W.type==="file")var bt=mh;else if(dh(W))if(hh)bt=nS;else{bt=eS;var $e=W0}else se=W.nodeName,!se||se.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&kl(K.elementType)&&(bt=mh):bt=tS;if(bt&&(bt=bt(t,K))){fh(ge,bt,r,ie);break e}$e&&$e(t,W,K),t==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&Ys(W,"number",W.value)}switch($e=K?Hn(K):window,t){case"focusin":(dh($e)||$e.contentEditable==="true")&&(kr=$e,vu=K,Hl=null);break;case"focusout":Hl=vu=kr=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,wh(ge,r,ie);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":wh(ge,r,ie)}var st;if(pu)e:{switch(t){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Mr?ch(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(lh&&r.locale!=="ko"&&(Mr||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mr&&(st=fe()):(Ia=ie,E="value"in Ia?Ia.value:Ia.textContent,Mr=!0)),$e=Yo(K,pt),0<$e.length&&(pt=new sh(pt,t,null,r,ie),ge.push({event:pt,listeners:$e}),st?pt.data=st:(st=uh(r),st!==null&&(pt.data=st)))),(st=P0?Y0(t,r):K0(t,r))&&(pt=Yo(K,"onBeforeInput"),0<pt.length&&($e=new sh("onBeforeInput","beforeinput",null,r,ie),ge.push({event:$e,listeners:pt}),$e.data=st)),$S(ge,t,K,r,ie)}Pg(ge,n)})}function hi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Yo(t,n){for(var r=n+"Capture",i=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ks(t,r),u!=null&&i.unshift(hi(t,u,f)),u=Ks(t,n),u!=null&&i.push(hi(t,u,f))),t.tag===3)return i;t=t.return}return[]}function ZS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kg(t,n,r,i,u){for(var f=n._reactName,g=[];r!==null&&r!==i;){var S=r,D=S.alternate,K=S.stateNode;if(S=S.tag,D!==null&&D===i)break;S!==5&&S!==26&&S!==27||K===null||(D=K,u?(K=Ks(r,f),K!=null&&g.unshift(hi(r,K,D))):u||(K=Ks(r,f),K!=null&&g.push(hi(r,K,D)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var GS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(GS,`
`).replace(QS,"")}function Jg(t,n){return n=Xg(n),Xg(t)===n}function Ct(t,n,r,i,u,f){switch(r){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||gs(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&gs(t,""+i);break;case"className":Ta(t,"class",i);break;case"tabIndex":Ta(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(t,r,i);break;case"style":no(t,i,f);break;case"data":if(n!=="object"){Ta(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ct(t,n,"name",u.name,u,null),Ct(t,n,"formEncType",u.formEncType,u,null),Ct(t,n,"formMethod",u.formMethod,u,null),Ct(t,n,"formTarget",u.formTarget,u,null)):(Ct(t,n,"encType",u.encType,u,null),Ct(t,n,"method",u.method,u,null),Ct(t,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"onClick":i!=null&&(t.onclick=Da);break;case"onScroll":i!=null&&ft("scroll",t);break;case"onScrollEnd":i!=null&&ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}r=zr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""+i):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":i===!0?t.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,i):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(r,i):t.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(r):t.setAttribute(r,i);break;case"popover":ft("beforetoggle",t),ft("toggle",t),tn(t,"popover",i);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tn(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,tn(t,r,i))}}function Zd(t,n,r,i,u,f){switch(r){case"style":no(t,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof i=="string"?gs(t,i):(typeof i=="number"||typeof i=="bigint")&&gs(t,""+i);break;case"onScroll":i!=null&&ft("scroll",t);break;case"onScrollEnd":i!=null&&ft("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[yt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,i,u);break e}r in t?t[r]=i:i===!0?t.setAttribute(r,""):tn(t,r,i)}}}function On(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",t),ft("load",t);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ct(t,n,f,g,r,null)}}u&&Ct(t,n,"srcSet",r.srcSet,r,null),i&&Ct(t,n,"src",r.src,r,null);return;case"input":ft("invalid",t);var S=f=g=u=null,D=null,K=null;for(i in r)if(r.hasOwnProperty(i)){var ie=r[i];if(ie!=null)switch(i){case"name":u=ie;break;case"type":g=ie;break;case"checked":D=ie;break;case"defaultChecked":K=ie;break;case"value":f=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(l(137,n));break;default:Ct(t,n,i,ie,r,null)}}Dr(t,f,S,D,K,g,u,!1);return;case"select":ft("invalid",t),i=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":g=S;break;case"multiple":i=S;default:Ct(t,n,u,S,r,null)}n=f,r=g,t.multiple=!!i,n!=null?ps(t,!!i,n,!1):r!=null&&ps(t,!!i,r,!0);return;case"textarea":ft("invalid",t),f=u=i=null;for(g in r)if(r.hasOwnProperty(g)&&(S=r[g],S!=null))switch(g){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ct(t,n,g,S,r,null)}eo(t,i,u,f);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(i=r[D],i!=null))switch(D){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ct(t,n,D,i,r,null)}return;case"dialog":ft("beforetoggle",t),ft("toggle",t),ft("cancel",t),ft("close",t);break;case"iframe":case"object":ft("load",t);break;case"video":case"audio":for(i=0;i<mi.length;i++)ft(mi[i],t);break;case"image":ft("error",t),ft("load",t);break;case"details":ft("toggle",t);break;case"embed":case"source":case"link":ft("error",t),ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(i=r[K],i!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ct(t,n,K,i,r,null)}return;default:if(kl(n)){for(ie in r)r.hasOwnProperty(ie)&&(i=r[ie],i!==void 0&&Zd(t,n,ie,i,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(i=r[S],i!=null&&Ct(t,n,S,i,r,null))}function PS(t,n,r,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,S=null,D=null,K=null,ie=null;for(se in r){var ge=r[se];if(r.hasOwnProperty(se)&&ge!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":D=ge;default:i.hasOwnProperty(se)||Ct(t,n,se,null,i,ge)}}for(var W in i){var se=i[W];if(ge=r[W],i.hasOwnProperty(W)&&(se!=null||ge!=null))switch(W){case"type":f=se;break;case"name":u=se;break;case"checked":K=se;break;case"defaultChecked":ie=se;break;case"value":g=se;break;case"defaultValue":S=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(l(137,n));break;default:se!==ge&&Ct(t,n,W,se,i,ge)}}Ml(t,g,S,D,K,ie,f,u);return;case"select":se=g=S=W=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":se=D;default:i.hasOwnProperty(f)||Ct(t,n,f,null,i,D)}for(u in i)if(f=i[u],D=r[u],i.hasOwnProperty(u)&&(f!=null||D!=null))switch(u){case"value":W=f;break;case"defaultValue":S=f;break;case"multiple":g=f;default:f!==D&&Ct(t,n,u,f,i,D)}n=S,r=g,i=se,W!=null?ps(t,!!r,W,!1):!!i!=!!r&&(n!=null?ps(t,!!r,n,!0):ps(t,!!r,r?[]:"",!1));return;case"textarea":se=W=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ct(t,n,S,null,i,u)}for(g in i)if(u=i[g],f=r[g],i.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":W=u;break;case"defaultValue":se=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ct(t,n,g,u,i,f)}Wi(t,W,se);return;case"option":for(var Le in r)if(W=r[Le],r.hasOwnProperty(Le)&&W!=null&&!i.hasOwnProperty(Le))switch(Le){case"selected":t.selected=!1;break;default:Ct(t,n,Le,null,i,W)}for(D in i)if(W=i[D],se=r[D],i.hasOwnProperty(D)&&W!==se&&(W!=null||se!=null))switch(D){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ct(t,n,D,W,i,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in r)W=r[Pe],r.hasOwnProperty(Pe)&&W!=null&&!i.hasOwnProperty(Pe)&&Ct(t,n,Pe,null,i,W);for(K in i)if(W=i[K],se=r[K],i.hasOwnProperty(K)&&W!==se&&(W!=null||se!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(l(137,n));break;default:Ct(t,n,K,W,i,se)}return;default:if(kl(n)){for(var Ot in r)W=r[Ot],r.hasOwnProperty(Ot)&&W!==void 0&&!i.hasOwnProperty(Ot)&&Zd(t,n,Ot,void 0,i,W);for(ie in i)W=i[ie],se=r[ie],!i.hasOwnProperty(ie)||W===se||W===void 0&&se===void 0||Zd(t,n,ie,W,i,se);return}}for(var $ in r)W=r[$],r.hasOwnProperty($)&&W!=null&&!i.hasOwnProperty($)&&Ct(t,n,$,null,i,W);for(ge in i)W=i[ge],se=r[ge],!i.hasOwnProperty(ge)||W===se||W==null&&se==null||Ct(t,n,ge,W,i,se)}function Wg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var u=r[i],f=u.transferSize,g=u.initiatorType,S=u.duration;if(f&&S&&Wg(g)){for(g=0,S=u.responseEnd,i+=1;i<r.length;i++){var D=r[i],K=D.startTime;if(K>S)break;var ie=D.transferSize,ge=D.initiatorType;ie&&Wg(ge)&&(D=D.responseEnd,g+=ie*(D<S?1:(S-K)/(D-K)))}if(--i,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Qd=null;function Ko(t){return t.nodeType===9?t:t.ownerDocument}function ey(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yd=null;function KS(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,XS=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,JS=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(WS)}:ny;function WS(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function sy(t,n){var r=n,i=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(i===0){t.removeChild(u),ol(n);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")pi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,pi(r);for(var f=r.firstChild;f;){var g=f.nextSibling,S=f.nodeName;f[qt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&pi(t.ownerDocument.body);r=u}while(r);ol(n)}function ry(t,n){var r=t;t=0;do{var i=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=i}while(r)}function Kd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Kd(r),Un(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ew(t,n,r,i){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[qt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=va(t.nextSibling),t===null)break}return null}function tw(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=va(t.nextSibling),t===null))return null;return t}function ly(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=va(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nw(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var i=function(){n(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function va(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Wd=null;function iy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return va(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function cy(t,n,r){switch(n=Ko(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function pi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Un(t)}var xa=new Map,uy=new Set;function Xo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=I.d;I.d={f:aw,r:sw,D:rw,C:lw,L:iw,m:ow,X:uw,S:cw,M:dw};function aw(){var t=ds.f(),n=Fo();return t||n}function sw(t){var n=yn(t);n!==null&&n.tag===5&&n.type==="form"?Ap(n):ds.r(t)}var rl=typeof document>"u"?null:document;function dy(t,n,r){var i=rl;if(i&&typeof n=="string"&&n){var u=bn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),uy.has(u)||(uy.add(u),t={rel:t,crossOrigin:r,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),On(n,"link",t),Tt(n),i.head.appendChild(n)))}}function rw(t){ds.D(t),dy("dns-prefetch",t,null)}function lw(t,n){ds.C(t,n),dy("preconnect",t,n)}function iw(t,n,r){ds.L(t,n,r);var i=rl;if(i&&t&&n){var u='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+bn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+bn(r.imageSizes)+'"]')):u+='[href="'+bn(t)+'"]';var f=u;switch(n){case"style":f=ll(t);break;case"script":f=il(t)}xa.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),xa.set(f,t),i.querySelector(u)!==null||n==="style"&&i.querySelector(gi(f))||n==="script"&&i.querySelector(yi(f))||(n=i.createElement("link"),On(n,"link",t),Tt(n),i.head.appendChild(n)))}}function ow(t,n){ds.m(t,n);var r=rl;if(r&&t){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+bn(i)+'"][href="'+bn(t)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!xa.has(f)&&(t=x({rel:"modulepreload",href:t},n),xa.set(f,t),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yi(f)))return}i=r.createElement("link"),On(i,"link",t),Tt(i),r.head.appendChild(i)}}}function cw(t,n,r){ds.S(t,n,r);var i=rl;if(i&&t){var u=Tn(i).hoistableStyles,f=ll(t);n=n||"default";var g=u.get(f);if(!g){var S={loading:0,preload:null};if(g=i.querySelector(gi(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=xa.get(f))&&ef(t,r);var D=g=i.createElement("link");Tt(D),On(D,"link",t),D._p=new Promise(function(K,ie){D.onload=K,D.onerror=ie}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Jo(g,n,i)}g={type:"stylesheet",instance:g,count:1,state:S},u.set(f,g)}}}function uw(t,n){ds.X(t,n);var r=rl;if(r&&t){var i=Tn(r).hoistableScripts,u=il(t),f=i.get(u);f||(f=r.querySelector(yi(u)),f||(t=x({src:t,async:!0},n),(n=xa.get(u))&&tf(t,n),f=r.createElement("script"),Tt(f),On(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function dw(t,n){ds.M(t,n);var r=rl;if(r&&t){var i=Tn(r).hoistableScripts,u=il(t),f=i.get(u);f||(f=r.querySelector(yi(u)),f||(t=x({src:t,async:!0,type:"module"},n),(n=xa.get(u))&&tf(t,n),f=r.createElement("script"),Tt(f),On(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function fy(t,n,r,i){var u=(u=be.current)?Xo(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ll(r.href),r=Tn(u).hoistableStyles,i=r.get(n),i||(i={type:"style",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ll(r.href);var f=Tn(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(gi(t)))&&!f._p&&(g.instance=f,g.state.loading=5),xa.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xa.set(t,r),f||fw(u,t,r,g.state))),n&&i===null)throw Error(l(528,""));return g}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Tn(u).hoistableScripts,i=r.get(n),i||(i={type:"script",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ll(t){return'href="'+bn(t)+'"'}function gi(t){return'link[rel="stylesheet"]['+t+"]"}function my(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function fw(t,n,r,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),On(n,"link",r),Tt(n),t.head.appendChild(n))}function il(t){return'[src="'+bn(t)+'"]'}function yi(t){return"script[async]"+t}function hy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+bn(r.href)+'"]');if(i)return n.instance=i,Tt(i),i;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Tt(i),On(i,"style",u),Jo(i,r.precedence,t),n.instance=i;case"stylesheet":u=ll(r.href);var f=t.querySelector(gi(u));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;i=my(r),(u=xa.get(u))&&ef(i,u),f=(t.ownerDocument||t).createElement("link"),Tt(f);var g=f;return g._p=new Promise(function(S,D){g.onload=S,g.onerror=D}),On(f,"link",i),n.state.loading|=4,Jo(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(u=t.querySelector(yi(f)))?(n.instance=u,Tt(u),u):(i=r,(u=xa.get(f))&&(i=x({},r),tf(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),Tt(u),On(u,"link",i),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,Jo(i,r.precedence,t));return n.instance}function Jo(t,n,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,g=0;g<i.length;g++){var S=i[g];if(S.dataset.precedence===n)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Wo=null;function py(t,n,r){if(Wo===null){var i=new Map,u=Wo=new Map;u.set(r,i)}else u=Wo,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(t))return i;for(i.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[qt]||f[it]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var S=i.get(g);S?S.push(f):i.set(g,[f])}}return i}function gy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function mw(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hw(t,n,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=ll(i.href),f=n.querySelector(gi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ec.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,i=my(i),(u=xa.get(u))&&ef(i,u),f=f.createElement("link"),Tt(f);var g=f;g._p=new Promise(function(S,D){g.onload=S,g.onerror=D}),On(f,"link",i),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ec.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var nf=0;function pw(t,n){return t.stylesheets&&t.count===0&&nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var i=setTimeout(function(){if(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*YS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var tc=null;function nc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,tc=new Map,n.forEach(gw,t),tc=null,ec.call(t))}function gw(t,n){if(!(n.state.loading&4)){var r=tc.get(t);if(r)var i=r.get(null);else{r=new Map,tc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),i=g)}i&&r.set(null,i)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||i,f===i&&r.set(null,u),r.set(g,u),this.count++,i=ec.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var bi={$$typeof:J,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function yw(t,n,r,i,u,f,g,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.hiddenUpdates=ee(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function by(t,n,r,i,u,f,g,S,D,K,ie,ge){return t=new yw(t,n,r,g,D,K,ie,ge,S),n=1,f===!0&&(n|=24),f=sa(3,null,null,n),t.current=f,f.stateNode=t,n=ku(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:n},qu(f),t}function vy(t){return t?(t=Br,t):Br}function xy(t,n,r,i,u,f){u=vy(u),i.context===null?i.context=u:i.pendingContext=u,i=js(n),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Es(t,i,n),r!==null&&(Kn(r,t,n),Kl(r,t,n))}function Sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function af(t,n){Sy(t,n),(t=t.alternate)&&Sy(t,n)}function wy(t){if(t.tag===13||t.tag===31){var n=nr(t,67108864);n!==null&&Kn(n,t,67108864),af(t,67108864)}}function Ny(t){if(t.tag===13||t.tag===31){var n=ca();n=Gt(n);var r=nr(t,n);r!==null&&Kn(r,t,n),af(t,n)}}var ac=!0;function bw(t,n,r,i){var u=z.T;z.T=null;var f=I.p;try{I.p=2,sf(t,n,r,i)}finally{I.p=f,z.T=u}}function vw(t,n,r,i){var u=z.T;z.T=null;var f=I.p;try{I.p=8,sf(t,n,r,i)}finally{I.p=f,z.T=u}}function sf(t,n,r,i){if(ac){var u=rf(i);if(u===null)Vd(t,n,i,sc,r),jy(t,i);else if(Sw(u,t,n,r,i))i.stopPropagation();else if(jy(t,i),n&4&&-1<xw.indexOf(t)){for(;u!==null;){var f=yn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=fa(f.pendingLanes);if(g!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var D=1<<31-St(g);S.entanglements[1]|=D,g&=~D}Za(f),(xt&6)===0&&(Io=G()+500,fi(0))}}break;case 31:case 13:S=nr(f,2),S!==null&&Kn(S,f,2),Fo(),af(f,2)}if(f=rf(i),f===null&&Vd(t,n,i,sc,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Vd(t,n,i,null,r)}}function rf(t){return t=Ul(t),lf(t)}var sc=null;function lf(t){if(sc=null,t=en(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return sc=t,null}function _y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case Re:return 2;case Me:return 8;case ne:case ze:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var of=!1,Ls=null,Bs=null,qs=null,vi=new Map,xi=new Map,Is=[],xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jy(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":vi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xi.delete(n.pointerId)}}function Si(t,n,r,i,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=yn(n),n!==null&&wy(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function Sw(t,n,r,i,u){switch(n){case"focusin":return Ls=Si(Ls,t,n,r,i,u),!0;case"dragenter":return Bs=Si(Bs,t,n,r,i,u),!0;case"mouseover":return qs=Si(qs,t,n,r,i,u),!0;case"pointerover":var f=u.pointerId;return vi.set(f,Si(vi.get(f)||null,t,n,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,xi.set(f,Si(xi.get(f)||null,t,n,r,i,u)),!0}return!1}function Ey(t){var n=en(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,pn(t.priority,function(){Ny(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,pn(t.priority,function(){Ny(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);ys=i,r.target.dispatchEvent(i),ys=null}else return n=yn(r),n!==null&&wy(n),t.blockedOn=r,!1;n.shift()}return!0}function Ay(t,n,r){rc(t)&&r.delete(n)}function ww(){of=!1,Ls!==null&&rc(Ls)&&(Ls=null),Bs!==null&&rc(Bs)&&(Bs=null),qs!==null&&rc(qs)&&(qs=null),vi.forEach(Ay),xi.forEach(Ay)}function lc(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ww)))}var ic=null;function Cy(t){ic!==t&&(ic=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ic===t&&(ic=null);for(var n=0;n<t.length;n+=3){var r=t[n],i=t[n+1],u=t[n+2];if(typeof i!="function"){if(lf(i||r)===null)continue;break}var f=yn(r);f!==null&&(t.splice(n,3),n-=3,rd(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function ol(t){function n(D){return lc(D,t)}Ls!==null&&lc(Ls,t),Bs!==null&&lc(Bs,t),qs!==null&&lc(qs,t),vi.forEach(n),xi.forEach(n);for(var r=0;r<Is.length;r++){var i=Is[r];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Is.length&&(r=Is[0],r.blockedOn===null);)Ey(r),r.blockedOn===null&&Is.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],g=u[yt]||null;if(typeof f=="function")g||Cy(r);else if(g){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[yt]||null)S=g.formAction;else if(lf(u)!==null)continue}else S=g.action;typeof S=="function"?r[i+1]=S:(r.splice(i,3),i-=3),Cy(r)}}}function Oy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function cf(t){this._internalRoot=t}oc.prototype.render=cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,i=ca();xy(r,i,t,n,null,null)},oc.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xy(t.current,2,null,t,null,null),Fo(),n[kt]=null}};function oc(t){this._internalRoot=t}oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Rt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Is.length&&n!==0&&n<Is[r].priority;r++);Is.splice(r,0,t),r===0&&Ey(t)}};var Ry=a.version;if(Ry!=="19.2.0")throw Error(l(527,Ry,"19.2.0"));I.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Nw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Se=cc.inject(Nw),Xe=cc}catch{}}return Ni.createRoot=function(t,n){if(!c(t))throw Error(l(299));var r=!1,i="",u=Lp,f=Bp,g=qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=by(t,1,!1,null,null,r,i,null,u,f,g,Oy),t[kt]=n.current,Hd(t),new cf(n)},Ni.hydrateRoot=function(t,n,r){if(!c(t))throw Error(l(299));var i=!1,u="",f=Lp,g=Bp,S=qp,D=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=by(t,1,!0,n,r??null,i,u,D,f,g,S,Oy),n.context=vy(null),r=n.current,i=ca(),i=Gt(i),u=js(i),u.callback=null,Es(r,u,i),r=i,n.current.lanes=r,we(n,r),Za(n),t[kt]=n.current,Hd(t),new oc(n)},Ni.version="19.2.0",Ni}var Iy;function zw(){if(Iy)return ff.exports;Iy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),ff.exports=Dw(),ff.exports}var Mw=zw();const kw=yv(Mw);var $y="popstate";function Uw(e={}){function a(l,c){let{pathname:d,search:m,hash:h}=l.location;return Gf("",{pathname:d,search:m,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:zi(c)}return Bw(a,s,null,e)}function Ft(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function _a(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Lw(){return Math.random().toString(36).substring(2,10)}function Fy(e,a){return{usr:e.state,key:e.key,idx:a}}function Gf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Sl(a):a,state:s,key:a&&a.key||l||Lw()}}function zi({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Sl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function Bw(e,a,s,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,m=c.history,h="POP",y=null,p=b();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function b(){return(m.state||{idx:null}).idx}function x(){h="POP";let A=b(),B=A==null?null:A-p;p=A,y&&y({action:h,location:j.location,delta:B})}function w(A,B){h="PUSH";let T=Gf(j.location,A,B);p=b()+1;let J=Fy(T,p),k=j.createHref(T);try{m.pushState(J,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(k)}d&&y&&y({action:h,location:j.location,delta:1})}function q(A,B){h="REPLACE";let T=Gf(j.location,A,B);p=b();let J=Fy(T,p),k=j.createHref(T);m.replaceState(J,"",k),d&&y&&y({action:h,location:j.location,delta:0})}function _(A){return qw(A)}let j={get action(){return h},get location(){return e(c,m)},listen(A){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener($y,x),y=A,()=>{c.removeEventListener($y,x),y=null}},createHref(A){return a(c,A)},createURL:_,encodeLocation(A){let B=_(A);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:q,go(A){return m.go(A)}};return j}function qw(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:zi(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function bv(e,a,s="/"){return Iw(e,a,s,!1)}function Iw(e,a,s,l){let c=typeof a=="string"?Sl(a):a,d=hs(c.pathname||"/",s);if(d==null)return null;let m=vv(e);$w(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let p=Jw(d);h=Kw(m[y],p,l)}return h}function vv(e,a=[],s=[],l="",c=!1){let d=(m,h,y=c,p)=>{let b={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(l)&&y)return;Ft(b.relativePath.startsWith(l),`Absolute route path "${b.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(l.length)}let x=ms([l,b.relativePath]),w=s.concat(b);m.children&&m.children.length>0&&(Ft(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),vv(m.children,a,w,x,y)),!(m.path==null&&!m.index)&&a.push({path:x,score:Pw(x,m.index),routesMeta:w})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let y of xv(m.path))d(m,h,!0,y)}),a}function xv(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let m=xv(l.join("/")),h=[];return h.push(...m.map(y=>y===""?d:[d,y].join("/"))),c&&h.push(...m),h.map(y=>e.startsWith("/")&&y===""?"/":y)}function $w(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:Yw(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var Fw=/^:[\w-]+$/,Hw=3,Vw=2,Zw=1,Gw=10,Qw=-2,Hy=e=>e==="*";function Pw(e,a){let s=e.split("/"),l=s.length;return s.some(Hy)&&(l+=Qw),a&&(l+=Vw),s.filter(c=>!Hy(c)).reduce((c,d)=>c+(Fw.test(d)?Hw:d===""?Zw:Gw),l)}function Yw(e,a){return e.length===a.length&&e.slice(0,-1).every((l,c)=>l===a[c])?e[e.length-1]-a[a.length-1]:0}function Kw(e,a,s=!1){let{routesMeta:l}=e,c={},d="/",m=[];for(let h=0;h<l.length;++h){let y=l[h],p=h===l.length-1,b=d==="/"?a:a.slice(d.length)||"/",x=Mi({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},b),w=y.route;if(!x&&p&&s&&!l[l.length-1].route.index&&(x=Mi({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:ms([d,x.pathname]),pathnameBase:nN(ms([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=ms([d,x.pathnameBase]))}return m}function Mi(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=Xw(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:l.reduce((p,{paramName:b,isOptional:x},w)=>{if(b==="*"){let _=h[w]||"";m=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const q=h[w];return x&&!q?p[b]=void 0:p[b]=(q||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function Xw(e,a=!1,s=!0){_a(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(l.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function Jw(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return _a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function hs(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function Ww(e,a="/"){let{pathname:s,search:l="",hash:c=""}=typeof e=="string"?Sl(e):e;return{pathname:s?s.startsWith("/")?s:eN(s,a):a,search:aN(l),hash:sN(c)}}function eN(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function gf(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tN(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function wm(e){let a=tN(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function Nm(e,a,s,l=!1){let c;typeof e=="string"?c=Sl(e):(c={...e},Ft(!c.pathname||!c.pathname.includes("?"),gf("?","pathname","search",c)),Ft(!c.pathname||!c.pathname.includes("#"),gf("#","pathname","hash",c)),Ft(!c.search||!c.search.includes("#"),gf("#","search","hash",c)));let d=e===""||c.pathname==="",m=d?"/":c.pathname,h;if(m==null)h=s;else{let x=a.length-1;if(!l&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),x-=1;c.pathname=w.join("/")}h=x>=0?a[x]:"/"}let y=Ww(c,h),p=m&&m!=="/"&&m.endsWith("/"),b=(d||m===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(p||b)&&(y.pathname+="/"),y}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),nN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sv=["POST","PUT","PATCH","DELETE"];new Set(Sv);var lN=["GET",...Sv];new Set(lN);var wl=v.createContext(null);wl.displayName="DataRouter";var qc=v.createContext(null);qc.displayName="DataRouterState";v.createContext(!1);var wv=v.createContext({isTransitioning:!1});wv.displayName="ViewTransition";var iN=v.createContext(new Map);iN.displayName="Fetchers";var oN=v.createContext(null);oN.displayName="Await";var ja=v.createContext(null);ja.displayName="Navigation";var $i=v.createContext(null);$i.displayName="Location";var Ea=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var _m=v.createContext(null);_m.displayName="RouteError";function cN(e,{relative:a}={}){Ft(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=v.useContext(ja),{hash:c,pathname:d,search:m}=Fi(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:ms([s,d])),l.createHref({pathname:h,search:m,hash:c})}function Nl(){return v.useContext($i)!=null}function In(){return Ft(Nl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext($i).location}var Nv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _v(e){v.useContext(ja).static||v.useLayoutEffect(e)}function Er(){let{isDataRoute:e}=v.useContext(Ea);return e?jN():uN()}function uN(){Ft(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(wl),{basename:a,navigator:s}=v.useContext(ja),{matches:l}=v.useContext(Ea),{pathname:c}=In(),d=JSON.stringify(wm(l)),m=v.useRef(!1);return _v(()=>{m.current=!0}),v.useCallback((y,p={})=>{if(_a(m.current,Nv),!m.current)return;if(typeof y=="number"){s.go(y);return}let b=Nm(y,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:ms([a,b.pathname])),(p.replace?s.replace:s.push)(b,p.state,p)},[a,s,d,c,e])}var dN=v.createContext(null);function fN(e){let a=v.useContext(Ea).outlet;return v.useMemo(()=>a&&v.createElement(dN.Provider,{value:e},a),[a,e])}function mN(){let{matches:e}=v.useContext(Ea),a=e[e.length-1];return a?a.params:{}}function Fi(e,{relative:a}={}){let{matches:s}=v.useContext(Ea),{pathname:l}=In(),c=JSON.stringify(wm(s));return v.useMemo(()=>Nm(e,JSON.parse(c),l,a==="path"),[e,c,l,a])}function hN(e,a){return jv(e,a)}function jv(e,a,s,l,c){Ft(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=v.useContext(ja),{matches:m}=v.useContext(Ea),h=m[m.length-1],y=h?h.params:{},p=h?h.pathname:"/",b=h?h.pathnameBase:"/",x=h&&h.route;{let T=x&&x.path||"";Ev(p,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let w=In(),q;if(a){let T=typeof a=="string"?Sl(a):a;Ft(b==="/"||T.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${T.pathname}" was given in the \`location\` prop.`),q=T}else q=w;let _=q.pathname||"/",j=_;if(b!=="/"){let T=b.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=bv(e,{pathname:j});_a(x||A!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),_a(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=vN(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},y,T.params),pathname:ms([b,d.encodeLocation?d.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?b:ms([b,d.encodeLocation?d.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),m,s,l,c);return a&&B?v.createElement($i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},B):B}function pN(){let e=_N(),a=rN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:d},"ErrorBoundary")," or"," ",v.createElement("code",{style:d},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},a),s?v.createElement("pre",{style:c},s):null,m)}var gN=v.createElement(pN,null),yN=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(Ea.Provider,{value:this.props.routeContext},v.createElement(_m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bN({routeContext:e,match:a,children:s}){let l=v.useContext(wl);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),v.createElement(Ea.Provider,{value:e},s)}function vN(e,a=[],s=null,l=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,m=s?.errors;if(m!=null){let p=d.findIndex(b=>b.route.id&&m?.[b.route.id]!==void 0);Ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,y=-1;if(s)for(let p=0;p<d.length;p++){let b=d[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=p),b.route.id){let{loaderData:x,errors:w}=s,q=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||q){h=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((p,b,x)=>{let w,q=!1,_=null,j=null;s&&(w=m&&b.route.id?m[b.route.id]:void 0,_=b.route.errorElement||gN,h&&(y<0&&x===0?(Ev("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,j=null):y===x&&(q=!0,j=b.route.hydrateFallbackElement||null)));let A=a.concat(d.slice(0,x+1)),B=()=>{let T;return w?T=_:q?T=j:b.route.Component?T=v.createElement(b.route.Component,null):b.route.element?T=b.route.element:T=p,v.createElement(bN,{match:b,routeContext:{outlet:p,matches:A,isDataRoute:s!=null},children:T})};return s&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?v.createElement(yN,{location:s.location,revalidation:s.revalidation,component:_,error:w,children:B(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:l}):B()},null)}function jm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xN(e){let a=v.useContext(wl);return Ft(a,jm(e)),a}function SN(e){let a=v.useContext(qc);return Ft(a,jm(e)),a}function wN(e){let a=v.useContext(Ea);return Ft(a,jm(e)),a}function Em(e){let a=wN(e),s=a.matches[a.matches.length-1];return Ft(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function NN(){return Em("useRouteId")}function _N(){let e=v.useContext(_m),a=SN("useRouteError"),s=Em("useRouteError");return e!==void 0?e:a.errors?.[s]}function jN(){let{router:e}=xN("useNavigate"),a=Em("useNavigate"),s=v.useRef(!1);return _v(()=>{s.current=!0}),v.useCallback(async(c,d={})=>{_a(s.current,Nv),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var Vy={};function Ev(e,a,s){!a&&!Vy[e]&&(Vy[e]=!0,_a(!1,s))}v.memo(EN);function EN({routes:e,future:a,state:s,unstable_onError:l}){return jv(e,void 0,s,l,a)}function Vs({to:e,replace:a,state:s,relative:l}){Ft(Nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=v.useContext(ja);_a(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=v.useContext(Ea),{pathname:m}=In(),h=Er(),y=Nm(e,wm(d),m,l==="path"),p=JSON.stringify(y);return v.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function Av(e){return fN(e.context)}function Kt(e){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AN({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:c,static:d=!1}){Ft(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof s=="string"&&(s=Sl(s));let{pathname:y="/",search:p="",hash:b="",state:x=null,key:w="default"}=s,q=v.useMemo(()=>{let _=hs(y,m);return _==null?null:{location:{pathname:_,search:p,hash:b,state:x,key:w},navigationType:l}},[m,y,p,b,x,w,l]);return _a(q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:v.createElement(ja.Provider,{value:h},v.createElement($i.Provider,{children:a,value:q}))}function CN({children:e,location:a}){return hN(Qf(e),a)}function Qf(e,a=[]){let s=[];return v.Children.forEach(e,(l,c)=>{if(!v.isValidElement(l))return;let d=[...a,c];if(l.type===v.Fragment){s.push.apply(s,Qf(l.props.children,d));return}Ft(l.type===Kt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Qf(l.props.children,d)),s.push(m)}),s}var bc="get",vc="application/x-www-form-urlencoded";function Ic(e){return e!=null&&typeof e.tagName=="string"}function ON(e){return Ic(e)&&e.tagName.toLowerCase()==="button"}function RN(e){return Ic(e)&&e.tagName.toLowerCase()==="form"}function TN(e){return Ic(e)&&e.tagName.toLowerCase()==="input"}function DN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zN(e,a){return e.button===0&&(!a||a==="_self")&&!DN(e)}function Pf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function MN(e,a){let s=Pf(e);return a&&a.forEach((l,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var uc=null;function kN(){if(uc===null)try{new FormData(document.createElement("form"),0),uc=!1}catch{uc=!0}return uc}var UN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(e){return e!=null&&!UN.has(e)?(_a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vc}"`),null):e}function LN(e,a){let s,l,c,d,m;if(RN(e)){let h=e.getAttribute("action");l=h?hs(h,a):null,s=e.getAttribute("method")||bc,c=yf(e.getAttribute("enctype"))||vc,d=new FormData(e)}else if(ON(e)||TN(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||h.getAttribute("action");if(l=y?hs(y,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||bc,c=yf(e.getAttribute("formenctype"))||yf(h.getAttribute("enctype"))||vc,d=new FormData(h,e),!kN()){let{name:p,type:b,value:x}=e;if(b==="image"){let w=p?`${p}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else p&&d.append(p,x)}}else{if(Ic(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=bc,l=null,c=vc,m=e}return d&&c==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Am(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function BN(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&hs(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function qN(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $N(e,a,s){let l=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let m=await qN(d,s);return m.links?m.links():[]}return[]}));return ZN(l.flat(1).filter(IN).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Zy(e,a,s,l,c,d){let m=(y,p)=>s[p]?y.route.id!==s[p].route.id:!0,h=(y,p)=>s[p].pathname!==y.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==y.params["*"];return d==="assets"?a.filter((y,p)=>m(y,p)||h(y,p)):d==="data"?a.filter((y,p)=>{let b=l.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(m(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function FN(e,a,{includeHydrateFallback:s}={}){return HN(e.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function HN(e){return[...new Set(e)]}function VN(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function ZN(e,a){let s=new Set;return new Set(a),e.reduce((l,c)=>{let d=JSON.stringify(VN(c));return s.has(d)||(s.add(d),l.push({key:d,link:c})),l},[])}function Cv(){let e=v.useContext(wl);return Am(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GN(){let e=v.useContext(qc);return Am(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Cm=v.createContext(void 0);Cm.displayName="FrameworkContext";function Ov(){let e=v.useContext(Cm);return Am(e,"You must render this element inside a <HydratedRouter> element"),e}function QN(e,a){let s=v.useContext(Cm),[l,c]=v.useState(!1),[d,m]=v.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:b,onTouchStart:x}=a,w=v.useRef(null);v.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let j=B=>{B.forEach(T=>{m(T.isIntersecting)})},A=new IntersectionObserver(j,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[e]),v.useEffect(()=>{if(l){let j=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(j)}}},[l]);let q=()=>{c(!0)},_=()=>{c(!1),m(!1)};return s?e!=="intent"?[d,w,{}]:[d,w,{onFocus:_i(h,q),onBlur:_i(y,_),onMouseEnter:_i(p,q),onMouseLeave:_i(b,_),onTouchStart:_i(x,q)}]:[!1,w,{}]}function _i(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function PN({page:e,...a}){let{router:s}=Cv(),l=v.useMemo(()=>bv(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?v.createElement(KN,{page:e,matches:l,...a}):null}function YN(e){let{manifest:a,routeModules:s}=Ov(),[l,c]=v.useState([]);return v.useEffect(()=>{let d=!1;return $N(e,a,s).then(m=>{d||c(m)}),()=>{d=!0}},[e,a,s]),l}function KN({page:e,matches:a,...s}){let l=In(),{manifest:c,routeModules:d}=Ov(),{basename:m}=Cv(),{loaderData:h,matches:y}=GN(),p=v.useMemo(()=>Zy(e,a,y,c,l,"data"),[e,a,y,c,l]),b=v.useMemo(()=>Zy(e,a,y,c,l,"assets"),[e,a,y,c,l]),x=v.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let _=new Set,j=!1;if(a.forEach(B=>{let T=c.routes[B.route.id];!T||!T.hasLoader||(!p.some(J=>J.route.id===B.route.id)&&B.route.id in h&&d[B.route.id]?.shouldRevalidate||T.hasClientLoader?j=!0:_.add(B.route.id))}),_.size===0)return[];let A=BN(e,m,"data");return j&&_.size>0&&A.searchParams.set("_routes",a.filter(B=>_.has(B.route.id)).map(B=>B.route.id).join(",")),[A.pathname+A.search]},[m,h,l,c,p,a,e,d]),w=v.useMemo(()=>FN(b,c),[b,c]),q=YN(b);return v.createElement(v.Fragment,null,x.map(_=>v.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),w.map(_=>v.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),q.map(({key:_,link:j})=>v.createElement("link",{key:_,nonce:s.nonce,...j})))}function XN(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rv&&(window.__reactRouterVersion="7.9.5")}catch{}function JN({basename:e,children:a,window:s}){let l=v.useRef();l.current==null&&(l.current=Uw({window:s,v5Compat:!0}));let c=l.current,[d,m]=v.useState({action:c.action,location:c.location}),h=v.useCallback(y=>{v.startTransition(()=>m(y))},[m]);return v.useLayoutEffect(()=>c.listen(h),[c,h]),v.createElement(AN,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var Tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_c=v.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:m,state:h,target:y,to:p,preventScrollReset:b,viewTransition:x,...w},q){let{basename:_}=v.useContext(ja),j=typeof p=="string"&&Tv.test(p),A,B=!1;if(typeof p=="string"&&j&&(A=p,Rv))try{let le=new URL(window.location.href),ye=p.startsWith("//")?new URL(le.protocol+p):new URL(p),xe=hs(ye.pathname,_);ye.origin===le.origin&&xe!=null?p=xe+ye.search+ye.hash:B=!0}catch{_a(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=cN(p,{relative:c}),[J,k,O]=QN(l,w),H=t_(p,{replace:m,state:h,target:y,preventScrollReset:b,relative:c,viewTransition:x});function L(le){a&&a(le),le.defaultPrevented||H(le)}let X=v.createElement("a",{...w,...O,href:A||T,onClick:B||d?a:L,ref:XN(q,k),target:y,"data-discover":!j&&s==="render"?"true":void 0});return J&&!j?v.createElement(v.Fragment,null,X,v.createElement(PN,{page:T})):X});_c.displayName="Link";var Dv=v.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:h,children:y,...p},b){let x=Fi(m,{relative:p.relative}),w=In(),q=v.useContext(qc),{navigator:_,basename:j}=v.useContext(ja),A=q!=null&&l_(x)&&h===!0,B=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,T=w.pathname,J=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;s||(T=T.toLowerCase(),J=J?J.toLowerCase():null,B=B.toLowerCase()),J&&j&&(J=hs(J,j)||J);const k=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let O=T===B||!c&&T.startsWith(B)&&T.charAt(k)==="/",H=J!=null&&(J===B||!c&&J.startsWith(B)&&J.charAt(B.length)==="/"),L={isActive:O,isPending:H,isTransitioning:A},X=O?a:void 0,le;typeof l=="function"?le=l(L):le=[l,O?"active":null,H?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ye=typeof d=="function"?d(L):d;return v.createElement(_c,{...p,"aria-current":X,className:le,ref:b,style:ye,to:m,viewTransition:h},typeof y=="function"?y(L):y)});Dv.displayName="NavLink";var WN=v.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:c,state:d,method:m=bc,action:h,onSubmit:y,relative:p,preventScrollReset:b,viewTransition:x,...w},q)=>{let _=s_(),j=r_(h,{relative:p}),A=m.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&Tv.test(h),T=J=>{if(y&&y(J),J.defaultPrevented)return;J.preventDefault();let k=J.nativeEvent.submitter,O=k?.getAttribute("formmethod")||m;_(k||J.currentTarget,{fetcherKey:a,method:O,navigate:s,replace:c,state:d,relative:p,preventScrollReset:b,viewTransition:x})};return v.createElement("form",{ref:q,method:A,action:j,onSubmit:l?y:T,...w,"data-discover":!B&&e==="render"?"true":void 0})});WN.displayName="Form";function e_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zv(e){let a=v.useContext(wl);return Ft(a,e_(e)),a}function t_(e,{target:a,replace:s,state:l,preventScrollReset:c,relative:d,viewTransition:m}={}){let h=Er(),y=In(),p=Fi(e,{relative:d});return v.useCallback(b=>{if(zN(b,a)){b.preventDefault();let x=s!==void 0?s:zi(y)===zi(p);h(e,{replace:x,state:l,preventScrollReset:c,relative:d,viewTransition:m})}},[y,h,p,s,l,a,e,c,d,m])}function Mv(e){_a(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=v.useRef(Pf(e)),s=v.useRef(!1),l=In(),c=v.useMemo(()=>MN(l.search,s.current?null:a.current),[l.search]),d=Er(),m=v.useCallback((h,y)=>{const p=Pf(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,y)},[d,c]);return[c,m]}var n_=0,a_=()=>`__${String(++n_)}__`;function s_(){let{router:e}=zv("useSubmit"),{basename:a}=v.useContext(ja),s=NN();return v.useCallback(async(l,c={})=>{let{action:d,method:m,encType:h,formData:y,body:p}=LN(l,a);if(c.navigate===!1){let b=c.fetcherKey||a_();await e.fetch(b,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:p,formMethod:c.method||m,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:p,formMethod:c.method||m,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function r_(e,{relative:a}={}){let{basename:s}=v.useContext(ja),l=v.useContext(Ea);Ft(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Fi(e||".",{relative:a})},m=In();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),y=h.getAll("index");if(y.some(b=>b==="")){h.delete("index"),y.filter(x=>x).forEach(x=>h.append("index",x));let b=h.toString();d.search=b?`?${b}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:ms([s,d.pathname])),zi(d)}function l_(e,{relative:a}={}){let s=v.useContext(wv);Ft(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=zv("useViewTransitionState"),c=Fi(e,{relative:a});if(!s.isTransitioning)return!1;let d=hs(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=hs(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Mi(c.pathname,m)!=null||Mi(c.pathname,d)!=null}var _l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},i_={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},o_=class{#e=i_;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},gr=new o_;function c_(e){setTimeout(e,0)}var xr=typeof window>"u"||"Deno"in globalThis;function qn(){}function u_(e,a){return typeof e=="function"?e(a):e}function Yf(e){return typeof e=="number"&&e>=0&&e!==1/0}function kv(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Zs(e,a){return typeof e=="function"?e(a):e}function Sa(e,a){return typeof e=="function"?e(a):e}function Gy(e,a){const{type:s="all",exact:l,fetchStatus:c,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==Om(m,a.options))return!1}else if(!ki(a.queryKey,m))return!1}if(s!=="all"){const y=a.isActive();if(s==="active"&&!y||s==="inactive"&&y)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function Qy(e,a){const{exact:s,status:l,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(Sr(a.options.mutationKey)!==Sr(d))return!1}else if(!ki(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||c&&!c(a))}function Om(e,a){return(a?.queryKeyHashFn||Sr)(e)}function Sr(e){return JSON.stringify(e,(a,s)=>Kf(s)?Object.keys(s).sort().reduce((l,c)=>(l[c]=s[c],l),{}):s)}function ki(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>ki(e[s],a[s])):!1}var d_=Object.prototype.hasOwnProperty;function Uv(e,a){if(e===a)return e;const s=Py(e)&&Py(a);if(!s&&!(Kf(e)&&Kf(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),m=d.length,h=s?new Array(m):{};let y=0;for(let p=0;p<m;p++){const b=s?p:d[p],x=e[b],w=a[b];if(x===w){h[b]=x,(s?p<c:d_.call(e,b))&&y++;continue}if(x===null||w===null||typeof x!="object"||typeof w!="object"){h[b]=w;continue}const q=Uv(x,w);h[b]=q,q===x&&y++}return c===m&&y===c?e:h}function jc(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function Py(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kf(e){if(!Yy(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!Yy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yy(e){return Object.prototype.toString.call(e)==="[object Object]"}function f_(e){return new Promise(a=>{gr.setTimeout(a,e)})}function Xf(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?Uv(e,a):a}function m_(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function h_(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var Rm=Symbol();function Lv(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Rm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Bv(e,a){return typeof e=="function"?e(...a):!!e}var p_=class extends _l{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Tm=new p_;function Jf(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function l(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{l({status:"fulfilled",value:c}),e(c)},s.reject=c=>{l({status:"rejected",reason:c}),a(c)},s}var g_=c_;function y_(){let e=[],a=0,s=h=>{h()},l=h=>{h()},c=g_;const d=h=>{a?e.push(h):c(()=>{s(h)})},m=()=>{const h=e;e=[],h.length&&c(()=>{l(()=>{h.forEach(y=>{s(y)})})})};return{batch:h=>{let y;a++;try{y=h()}finally{a--,a||m()}return y},batchCalls:h=>(...y)=>{d(()=>{h(...y)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{c=h}}}var mn=y_(),b_=class extends _l{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ec=new b_;function v_(e){return Math.min(1e3*2**e,3e4)}function qv(e){return(e??"online")==="online"?Ec.isOnline():!0}var Wf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Iv(e){let a=!1,s=0,l;const c=Jf(),d=()=>c.status!=="pending",m=j=>{if(!d()){const A=new Wf(j);w(A),e.onCancel?.(A)}},h=()=>{a=!0},y=()=>{a=!1},p=()=>Tm.isFocused()&&(e.networkMode==="always"||Ec.isOnline())&&e.canRun(),b=()=>qv(e.networkMode)&&e.canRun(),x=j=>{d()||(l?.(),c.resolve(j))},w=j=>{d()||(l?.(),c.reject(j))},q=()=>new Promise(j=>{l=A=>{(d()||p())&&j(A)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),_=()=>{if(d())return;let j;const A=s===0?e.initialPromise:void 0;try{j=A??e.fn()}catch(B){j=Promise.reject(B)}Promise.resolve(j).then(x).catch(B=>{if(d())return;const T=e.retry??(xr?0:3),J=e.retryDelay??v_,k=typeof J=="function"?J(s,B):J,O=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,B);if(a||!O){w(B);return}s++,e.onFail?.(s,B),f_(k).then(()=>p()?void 0:q()).then(()=>{a?w(B):_()})})};return{promise:c,status:()=>c.status,cancel:m,continue:()=>(l?.(),c),cancelRetry:h,continueRetry:y,canStart:b,start:()=>(b()?_():q().then(_),c)}}var $v=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yf(this.gcTime)&&(this.#e=gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gr.clearTimeout(this.#e),this.#e=void 0)}},x_=class extends $v{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Xy(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Xy(this.options);a.data!==void 0&&(this.setState(Ky(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=Xf(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Sa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!kv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=Lv(this.options,a),p=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(b),b})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=Iv({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof Wf&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,y)=>{this.#r({type:"failed",failureCount:h,error:y})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Wf){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Fv(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...Ky(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),mn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Fv(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qv(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ky(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xy(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var S_=class extends _l{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=Jf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Jy(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return em(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return em(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),a._defaulted&&!jc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Wy(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||Sa(this.options.enabled,this.#t)!==Sa(a.enabled,this.#t)||Zs(this.options.staleTime,this.#t)!==Zs(a.staleTime,this.#t))&&this.#g();const c=this.#y();l&&(this.#t!==s||Sa(this.options.enabled,this.#t)!==Sa(a.enabled,this.#t)||c!==this.#o)&&this.#b(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return N_(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#w();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(qn)),a}#g(){this.#x();const e=Zs(this.options.staleTime,this.#t);if(xr||this.#s.isStale||!Yf(e))return;const s=kv(this.#s.dataUpdatedAt,e)+1;this.#c=gr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#o=e,!(xr||Sa(this.options.enabled,this.#t)===!1||!Yf(this.#o)||this.#o===0)&&(this.#u=gr.setInterval(()=>{(this.options.refetchIntervalInBackground||Tm.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(gr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(gr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,c=this.#s,d=this.#a,m=this.#l,y=e!==s?e.state:this.#n,{state:p}=e;let b={...p},x=!1,w;if(a._optimisticResults){const X=this.hasListeners(),le=!X&&Jy(e,a),ye=X&&Wy(e,s,a,l);(le||ye)&&(b={...b,...Fv(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:q,errorUpdatedAt:_,status:j}=b;w=b.data;let A=!1;if(a.placeholderData!==void 0&&w===void 0&&j==="pending"){let X;c?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(X=c.data,A=!0):X=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,X!==void 0&&(j="success",w=Xf(c?.data,X,a),x=!0)}if(a.select&&w!==void 0&&!A)if(c&&w===d?.data&&a.select===this.#p)w=this.#f;else try{this.#p=a.select,w=a.select(w),w=Xf(c?.data,w,a),this.#f=w,this.#r=null}catch(X){this.#r=X}this.#r&&(q=this.#r,w=this.#f,_=Date.now(),j="error");const B=b.fetchStatus==="fetching",T=j==="pending",J=j==="error",k=T&&B,O=w!==void 0,L={status:j,fetchStatus:b.fetchStatus,isPending:T,isSuccess:j==="success",isError:J,isInitialLoading:k,isLoading:k,data:w,dataUpdatedAt:b.dataUpdatedAt,error:q,errorUpdatedAt:_,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>y.dataUpdateCount||b.errorUpdateCount>y.errorUpdateCount,isFetching:B,isRefetching:B&&!T,isLoadingError:J&&!O,isPaused:b.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:J&&O,isStale:Dm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:Sa(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const X=xe=>{L.status==="error"?xe.reject(L.error):L.data!==void 0&&xe.resolve(L.data)},le=()=>{const xe=this.#i=L.promise=Jf();X(xe)},ye=this.#i;switch(ye.status){case"pending":e.queryHash===s.queryHash&&X(ye);break;case"fulfilled":(L.status==="error"||L.data!==ye.value)&&le();break;case"rejected":(L.status!=="error"||L.error!==ye.reason)&&le();break}}return L}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),jc(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==e[h]&&d.has(h)})};this.#N({listeners:s()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){mn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function w_(e,a){return Sa(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function Jy(e,a){return w_(e,a)||e.state.data!==void 0&&em(e,a,a.refetchOnMount)}function em(e,a,s){if(Sa(a.enabled,e)!==!1&&Zs(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&Dm(e,a)}return!1}function Wy(e,a,s,l){return(e!==a||Sa(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Dm(e,s)}function Dm(e,a){return Sa(a.enabled,e)!==!1&&e.isStaleByTime(Zs(a.staleTime,e))}function N_(e,a){return!jc(e.getCurrentResult(),a)}function eb(e){return{onFetch:(a,s)=>{const l=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},y=0;const p=async()=>{let b=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(a.signal.aborted?b=!0:a.signal.addEventListener("abort",()=>{b=!0}),a.signal)})},w=Lv(a.options,a.fetchOptions),q=async(_,j,A)=>{if(b)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const H={client:a.client,queryKey:a.queryKey,pageParam:j,direction:A?"backward":"forward",meta:a.options.meta};return x(H),H})(),J=await w(T),{maxPages:k}=a.options,O=A?h_:m_;return{pages:O(_.pages,J,k),pageParams:O(_.pageParams,j,k)}};if(c&&d.length){const _=c==="backward",j=_?__:tb,A={pages:d,pageParams:m},B=j(l,A);h=await q(A,B,_)}else{const _=e??d.length;do{const j=y===0?m[0]??l.initialPageParam:tb(l,h);if(y>0&&j==null)break;h=await q(h,j),y++}while(y<_)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function tb(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function __(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var j_=class extends $v{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Hv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Iv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const m=await this.options.onMutate?.(e,s);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),mn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Hv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var E_=class extends _l{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new j_({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=dc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=dc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=dc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=dc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){mn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Qy(a,s))}findAll(e={}){return this.getAll().filter(a=>Qy(e,a))}notify(e){mn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return mn.batch(()=>Promise.all(e.map(a=>a.continue().catch(qn))))}};function dc(e){return e.options.scope?.id}var A_=class extends _l{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),jc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&Sr(s.mutationKey)!==Sr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Hv();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){mn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,c),this.#s.onSettled?.(a.data,null,s,l,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,c),this.#s.onSettled?.(void 0,a.error,s,l,c))}this.listeners.forEach(s=>{s(this.#t)})})}},C_=class extends _l{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,c=a.queryHash??Om(l,a);let d=this.get(c);return d||(d=new x_({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Gy(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Gy(e,s)):a}notify(e){mn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},O_=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new C_,this.#t=e.mutationCache||new E_,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Tm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Ec.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Zs(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=u_(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...s,manual:!0})}setQueriesData(e,a,s){return mn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;mn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return mn.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=mn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(l).then(qn).catch(qn)}invalidateQueries(e,a={}){return mn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=mn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(qn)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(qn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Zs(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qn).catch(qn)}fetchInfiniteQuery(e){return e.behavior=eb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qn).catch(qn)}ensureInfiniteQueryData(e){return e.behavior=eb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ec.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(Sr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{ki(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(Sr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{ki(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Om(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Rm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Vv=v.createContext(void 0),zm=e=>{const a=v.useContext(Vv);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},R_=({client:e,children:a})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Vv.Provider,{value:e,children:a})),Zv=v.createContext(!1),T_=()=>v.useContext(Zv);Zv.Provider;function D_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var z_=v.createContext(D_()),M_=()=>v.useContext(z_),k_=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},U_=e=>{v.useEffect(()=>{e.clearReset()},[e])},L_=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(c&&e.data===void 0||Bv(s,[e.error,l])),B_=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...c)=>s(l(...c)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},q_=(e,a)=>e.isLoading&&e.isFetching&&!a,I_=(e,a)=>e?.suspense&&a.isPending,nb=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function $_(e,a,s){const l=T_(),c=M_(),d=zm(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",B_(m),k_(m,c),U_(c);const h=!d.getQueryCache().get(m.queryHash),[y]=v.useState(()=>new a(d,m)),p=y.getOptimisticResult(m),b=!l&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const w=b?y.subscribe(mn.batchCalls(x)):qn;return y.updateResult(),w},[y,b]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),v.useEffect(()=>{y.setOptions(m)},[m,y]),I_(m,p))throw nb(m,y,c);if(L_({result:p,errorResetBoundary:c,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!xr&&q_(p,l)&&(h?nb(m,y,c):d.getQueryCache().get(m.queryHash)?.promise)?.catch(qn).finally(()=>{y.updateResult()}),m.notifyOnChangeProps?p:y.trackResult(p)}function wr(e,a){return $_(e,S_)}function F_(e,a){const s=zm(),[l]=v.useState(()=>new A_(s,e));v.useEffect(()=>{l.setOptions(e)},[l,e]);const c=v.useSyncExternalStore(v.useCallback(m=>l.subscribe(mn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=v.useCallback((m,h)=>{l.mutate(m,h).catch(qn)},[l]);if(c.error&&Bv(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var Hi=e=>e.type==="checkbox",yr=e=>e instanceof Date,Xn=e=>e==null;const Gv=e=>typeof e=="object";var on=e=>!Xn(e)&&!Array.isArray(e)&&Gv(e)&&!yr(e),H_=e=>on(e)&&e.target?Hi(e.target)?e.target.checked:e.target.value:e,V_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Z_=(e,a)=>e.has(V_(a)),G_=e=>{const a=e.constructor&&e.constructor.prototype;return on(a)&&a.hasOwnProperty("isPrototypeOf")},Mm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(Mm&&(e instanceof Blob||l))&&(s||on(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!G_(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=$t(e[c]));else return e;return a}var $c=e=>/^\w*$/.test(e),Bt=e=>e===void 0,Fc=e=>Array.isArray(e)?e.filter(Boolean):[],km=e=>Fc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,a,s)=>{if(!a||!on(e))return s;const l=($c(a)?[a]:km(a)).reduce((c,d)=>Xn(c)?c:c[d],e);return Bt(l)||l===e?Bt(e[a])?s:e[a]:l},Qa=e=>typeof e=="boolean",_t=(e,a,s)=>{let l=-1;const c=$c(a)?[a]:km(a),d=c.length,m=d-1;for(;++l<d;){const h=c[l];let y=s;if(l!==m){const p=e[h];y=on(p)||Array.isArray(p)?p:isNaN(+c[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=y,e=e[h]}};const ab={BLUR:"blur",FOCUS_OUT:"focusout"},wa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Qv=rt.createContext(null);Qv.displayName="HookFormContext";const Pv=()=>rt.useContext(Qv);var Q_=(e,a,s,l=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const m=d;return a._proxyFormState[m]!==wa.all&&(a._proxyFormState[m]=!l||wa.all),e[m]}});return c};const Um=typeof window<"u"?rt.useLayoutEffect:rt.useEffect;var da=e=>typeof e=="string",tm=(e,a,s,l,c)=>da(e)?(l&&a.watch.add(e),ke(s,e,c)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),ke(s,d))):(l&&(a.watchAll=!0),s),nm=e=>Xn(e)||!Gv(e);function La(e,a,s=new WeakSet){if(nm(e)||nm(a))return e===a;if(yr(e)&&yr(a))return e.getTime()===a.getTime();const l=Object.keys(e),c=Object.keys(a);if(l.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const m=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(yr(m)&&yr(h)||on(m)&&on(h)||Array.isArray(m)&&Array.isArray(h)?!La(m,h,s):m!==h)return!1}}return!0}function ji(e){const a=Pv(),{control:s=a.control,name:l,defaultValue:c,disabled:d,exact:m,compute:h}=e||{},y=rt.useRef(c),p=rt.useRef(h),b=rt.useRef(void 0),x=rt.useRef(s),w=rt.useRef(l);p.current=h;const[q,_]=rt.useState(()=>{const k=s._getWatch(l,y.current);return p.current?p.current(k):k}),j=rt.useCallback(k=>{const O=tm(l,s._names,k||s._formValues,!1,y.current);return p.current?p.current(O):O},[s._formValues,s._names,l]),A=rt.useCallback(k=>{if(!d){const O=tm(l,s._names,k||s._formValues,!1,y.current);if(p.current){const H=p.current(O);La(H,b.current)||(_(H),b.current=H)}else _(O)}},[s._formValues,s._names,d,l]);Um(()=>((x.current!==s||!La(w.current,l))&&(x.current=s,w.current=l,A()),s._subscribe({name:l,formState:{values:!0},exact:m,callback:k=>{A(k.values)}})),[s,m,l,A]),rt.useEffect(()=>s._removeUnmounted());const B=x.current!==s,T=w.current,J=rt.useMemo(()=>{if(d)return null;const k=!B&&!La(T,l);return B||k?j():null},[d,B,l,T,j]);return J!==null?J:q}var Lm=(e,a,s,l,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:c||!0}}:{},Jn=e=>Array.isArray(e)?e:[e],sb=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function Yv(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],d=a[l];if(c&&on(c)&&d){const m=Yv(c,d);on(m)&&(s[l]=m)}else e[l]&&(s[l]=d)}return s}var zn=e=>on(e)&&!Object.keys(e).length,Bm=e=>e.type==="file",Ba=e=>typeof e=="function",Ac=e=>{if(!Mm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},Kv=e=>e.type==="select-multiple",qm=e=>e.type==="radio",P_=e=>qm(e)||Hi(e),bf=e=>Ac(e)&&e.isConnected;function Y_(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=Bt(e)?l++:e[a[l++]];return e}function K_(e){for(const a in e)if(e.hasOwnProperty(a)&&!Bt(e[a]))return!1;return!0}function Wt(e,a){const s=Array.isArray(a)?a:$c(a)?[a]:km(a),l=s.length===1?e:Y_(e,s),c=s.length-1,d=s[c];return l&&delete l[d],c!==0&&(on(l)&&zn(l)||Array.isArray(l)&&K_(l))&&Wt(e,s.slice(0,-1)),e}var X_=e=>{for(const a in e)if(Ba(e[a]))return!0;return!1};function Xv(e){return Array.isArray(e)||on(e)&&!X_(e)}function am(e,a={}){for(const s in e)Xv(e[s])?(a[s]=Array.isArray(e[s])?[]:{},am(e[s],a[s])):Bt(e[s])||(a[s]=!0);return a}function fl(e,a,s){s||(s=am(a));for(const l in e)Xv(e[l])?Bt(a)||nm(s[l])?s[l]=am(e[l],Array.isArray(e[l])?[]:{}):fl(e[l],Xn(a)?{}:a[l],s[l]):s[l]=!La(e[l],a[l]);return s}const rb={value:!1,isValid:!1},lb={value:!0,isValid:!0};var Jv=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?lb:{value:e[0].value,isValid:!0}:lb:rb}return rb},Wv=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>Bt(e)?e:a?e===""?NaN:e&&+e:s&&da(e)?new Date(e):l?l(e):e;const ib={isValid:!1,value:null};var ex=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,ib):ib;function ob(e){const a=e.ref;return Bm(a)?a.files:qm(a)?ex(e.refs).value:Kv(a)?[...a.selectedOptions].map(({value:s})=>s):Hi(a)?Jv(e.refs).value:Wv(Bt(a.value)?e.ref.value:a.value,e)}var J_=(e,a,s,l)=>{const c={};for(const d of e){const m=ke(a,d);m&&_t(c,d,m._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:l}},Cc=e=>e instanceof RegExp,Ei=e=>Bt(e)?e:Cc(e)?e.source:on(e)?Cc(e.value)?e.value.source:e.value:e,ml=e=>({isOnSubmit:!e||e===wa.onSubmit,isOnBlur:e===wa.onBlur,isOnChange:e===wa.onChange,isOnAll:e===wa.all,isOnTouch:e===wa.onTouched});const cb="AsyncFunction";var W_=e=>!!e&&!!e.validate&&!!(Ba(e.validate)&&e.validate.constructor.name===cb||on(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===cb)),ej=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),sm=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const pl=(e,a,s,l)=>{for(const c of s||Object.keys(e)){const d=ke(e,c);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],c)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(pl(h,a))break}else if(on(h)&&pl(h,a))break}}};function ub(e,a,s){const l=ke(e,s);if(l||$c(s))return{error:l,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),m=ke(a,d),h=ke(e,d);if(m&&!Array.isArray(m)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var tj=(e,a,s,l)=>{s(e);const{name:c,...d}=e;return zn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||wa.all))},nj=(e,a,s)=>!e||!a||e===a||Jn(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),aj=(e,a,s,l,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?l.isOnBlur:c.isOnBlur)?!e:(s?l.isOnChange:c.isOnChange)?e:!0,sj=(e,a)=>!Fc(ke(e,a)).length&&Wt(e,a),tx=(e,a,s)=>{const l=Jn(ke(e,s));return _t(l,"root",a[s]),_t(e,s,l),e};function db(e,a,s="validate"){if(da(e)||Array.isArray(e)&&e.every(da)||Qa(e)&&!e)return{type:s,message:da(e)?e:"",ref:a}}var cl=e=>on(e)&&!Cc(e)?e:{value:e,message:""},rm=async(e,a,s,l,c,d)=>{const{ref:m,refs:h,required:y,maxLength:p,minLength:b,min:x,max:w,pattern:q,validate:_,name:j,valueAsNumber:A,mount:B}=e._f,T=ke(s,j);if(!B||a.has(j))return{};const J=h?h[0]:m,k=de=>{c&&J.reportValidity&&(J.setCustomValidity(Qa(de)?"":de||""),J.reportValidity())},O={},H=qm(m),L=Hi(m),X=H||L,le=(A||Bm(m))&&Bt(m.value)&&Bt(T)||Ac(m)&&m.value===""||T===""||Array.isArray(T)&&!T.length,ye=Lm.bind(null,j,l,O),xe=(de,me,Ae,je=fs.maxLength,z=fs.minLength)=>{const I=de?me:Ae;O[j]={type:de?je:z,message:I,ref:m,...ye(de?je:z,I)}};if(d?!Array.isArray(T)||!T.length:y&&(!X&&(le||Xn(T))||Qa(T)&&!T||L&&!Jv(h).isValid||H&&!ex(h).isValid)){const{value:de,message:me}=da(y)?{value:!!y,message:y}:cl(y);if(de&&(O[j]={type:fs.required,message:me,ref:J,...ye(fs.required,me)},!l))return k(me),O}if(!le&&(!Xn(x)||!Xn(w))){let de,me;const Ae=cl(w),je=cl(x);if(!Xn(T)&&!isNaN(T)){const z=m.valueAsNumber||T&&+T;Xn(Ae.value)||(de=z>Ae.value),Xn(je.value)||(me=z<je.value)}else{const z=m.valueAsDate||new Date(T),I=Ee=>new Date(new Date().toDateString()+" "+Ee),te=m.type=="time",Ce=m.type=="week";da(Ae.value)&&T&&(de=te?I(T)>I(Ae.value):Ce?T>Ae.value:z>new Date(Ae.value)),da(je.value)&&T&&(me=te?I(T)<I(je.value):Ce?T<je.value:z<new Date(je.value))}if((de||me)&&(xe(!!de,Ae.message,je.message,fs.max,fs.min),!l))return k(O[j].message),O}if((p||b)&&!le&&(da(T)||d&&Array.isArray(T))){const de=cl(p),me=cl(b),Ae=!Xn(de.value)&&T.length>+de.value,je=!Xn(me.value)&&T.length<+me.value;if((Ae||je)&&(xe(Ae,de.message,me.message),!l))return k(O[j].message),O}if(q&&!le&&da(T)){const{value:de,message:me}=cl(q);if(Cc(de)&&!T.match(de)&&(O[j]={type:fs.pattern,message:me,ref:m,...ye(fs.pattern,me)},!l))return k(me),O}if(_){if(Ba(_)){const de=await _(T,s),me=db(de,J);if(me&&(O[j]={...me,...ye(fs.validate,me.message)},!l))return k(me.message),O}else if(on(_)){let de={};for(const me in _){if(!zn(de)&&!l)break;const Ae=db(await _[me](T,s),J,me);Ae&&(de={...Ae,...ye(me,Ae.message)},k(Ae.message),l&&(O[j]=de))}if(!zn(de)&&(O[j]={ref:J,...de},!l))return O}}return k(!0),O};const rj={mode:wa.onSubmit,reValidateMode:wa.onChange,shouldFocusError:!0};function lj(e={}){let a={...rj,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ba(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},c=on(a.defaultValues)||on(a.values)?$t(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:$t(c),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...b};const w={array:sb(),state:sb()},q=a.criteriaMode===wa.all,_=C=>V=>{clearTimeout(p),p=setTimeout(C,V)},j=async C=>{if(!a.disabled&&(b.isValid||x.isValid||C)){const V=a.resolver?zn((await L()).errors):await le(l,!0);V!==s.isValid&&w.state.next({isValid:V})}},A=(C,V)=>{!a.disabled&&(b.isValidating||b.validatingFields||x.isValidating||x.validatingFields)&&((C||Array.from(h.mount)).forEach(R=>{R&&(V?_t(s.validatingFields,R,V):Wt(s.validatingFields,R))}),w.state.next({validatingFields:s.validatingFields,isValidating:!zn(s.validatingFields)}))},B=(C,V=[],R,Z,G=!0,re=!0)=>{if(Z&&R&&!a.disabled){if(m.action=!0,re&&Array.isArray(ke(l,C))){const Re=R(ke(l,C),Z.argA,Z.argB);G&&_t(l,C,Re)}if(re&&Array.isArray(ke(s.errors,C))){const Re=R(ke(s.errors,C),Z.argA,Z.argB);G&&_t(s.errors,C,Re),sj(s.errors,C)}if((b.touchedFields||x.touchedFields)&&re&&Array.isArray(ke(s.touchedFields,C))){const Re=R(ke(s.touchedFields,C),Z.argA,Z.argB);G&&_t(s.touchedFields,C,Re)}(b.dirtyFields||x.dirtyFields)&&(s.dirtyFields=fl(c,d)),w.state.next({name:C,isDirty:xe(C,V),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else _t(d,C,V)},T=(C,V)=>{_t(s.errors,C,V),w.state.next({errors:s.errors})},J=C=>{s.errors=C,w.state.next({errors:s.errors,isValid:!1})},k=(C,V,R,Z)=>{const G=ke(l,C);if(G){const re=ke(d,C,Bt(R)?ke(c,C):R);Bt(re)||Z&&Z.defaultChecked||V?_t(d,C,V?re:ob(G._f)):Ae(C,re),m.mount&&j()}},O=(C,V,R,Z,G)=>{let re=!1,Re=!1;const Me={name:C};if(!a.disabled){if(!R||Z){(b.isDirty||x.isDirty)&&(Re=s.isDirty,s.isDirty=Me.isDirty=xe(),re=Re!==Me.isDirty);const ne=La(ke(c,C),V);Re=!!ke(s.dirtyFields,C),ne?Wt(s.dirtyFields,C):_t(s.dirtyFields,C,!0),Me.dirtyFields=s.dirtyFields,re=re||(b.dirtyFields||x.dirtyFields)&&Re!==!ne}if(R){const ne=ke(s.touchedFields,C);ne||(_t(s.touchedFields,C,R),Me.touchedFields=s.touchedFields,re=re||(b.touchedFields||x.touchedFields)&&ne!==R)}re&&G&&w.state.next(Me)}return re?Me:{}},H=(C,V,R,Z)=>{const G=ke(s.errors,C),re=(b.isValid||x.isValid)&&Qa(V)&&s.isValid!==V;if(a.delayError&&R?(y=_(()=>T(C,R)),y(a.delayError)):(clearTimeout(p),y=null,R?_t(s.errors,C,R):Wt(s.errors,C)),(R?!La(G,R):G)||!zn(Z)||re){const Re={...Z,...re&&Qa(V)?{isValid:V}:{},errors:s.errors,name:C};s={...s,...Re},w.state.next(Re)}},L=async C=>{A(C,!0);const V=await a.resolver(d,a.context,J_(C||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return A(C),V},X=async C=>{const{errors:V}=await L(C);if(C)for(const R of C){const Z=ke(V,R);Z?_t(s.errors,R,Z):Wt(s.errors,R)}else s.errors=V;return V},le=async(C,V,R={valid:!0})=>{for(const Z in C){const G=C[Z];if(G){const{_f:re,...Re}=G;if(re){const Me=h.array.has(re.name),ne=G._f&&W_(G._f);ne&&b.validatingFields&&A([re.name],!0);const ze=await rm(G,h.disabled,d,q,a.shouldUseNativeValidation&&!V,Me);if(ne&&b.validatingFields&&A([re.name]),ze[re.name]&&(R.valid=!1,V))break;!V&&(ke(ze,re.name)?Me?tx(s.errors,ze,re.name):_t(s.errors,re.name,ze[re.name]):Wt(s.errors,re.name))}!zn(Re)&&await le(Re,V,R)}}return R.valid},ye=()=>{for(const C of h.unMount){const V=ke(l,C);V&&(V._f.refs?V._f.refs.every(R=>!bf(R)):!bf(V._f.ref))&&Oe(C)}h.unMount=new Set},xe=(C,V)=>!a.disabled&&(C&&V&&_t(d,C,V),!La(Ee(),c)),de=(C,V,R)=>tm(C,h,{...m.mount?d:Bt(V)?c:da(C)?{[C]:V}:V},R,V),me=C=>Fc(ke(m.mount?d:c,C,a.shouldUnregister?ke(c,C,[]):[])),Ae=(C,V,R={})=>{const Z=ke(l,C);let G=V;if(Z){const re=Z._f;re&&(!re.disabled&&_t(d,C,Wv(V,re)),G=Ac(re.ref)&&Xn(V)?"":V,Kv(re.ref)?[...re.ref.options].forEach(Re=>Re.selected=G.includes(Re.value)):re.refs?Hi(re.ref)?re.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(G)?Re.checked=!!G.find(Me=>Me===Re.value):Re.checked=G===Re.value||!!G)}):re.refs.forEach(Re=>Re.checked=Re.value===G):Bm(re.ref)?re.ref.value="":(re.ref.value=G,re.ref.type||w.state.next({name:C,values:$t(d)})))}(R.shouldDirty||R.shouldTouch)&&O(C,G,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&Ce(C)},je=(C,V,R)=>{for(const Z in V){if(!V.hasOwnProperty(Z))return;const G=V[Z],re=C+"."+Z,Re=ke(l,re);(h.array.has(C)||on(G)||Re&&!Re._f)&&!yr(G)?je(re,G,R):Ae(re,G,R)}},z=(C,V,R={})=>{const Z=ke(l,C),G=h.array.has(C),re=$t(V);_t(d,C,re),G?(w.array.next({name:C,values:$t(d)}),(b.isDirty||b.dirtyFields||x.isDirty||x.dirtyFields)&&R.shouldDirty&&w.state.next({name:C,dirtyFields:fl(c,d),isDirty:xe(C,re)})):Z&&!Z._f&&!Xn(re)?je(C,re,R):Ae(C,re,R),sm(C,h)&&w.state.next({...s,name:C}),w.state.next({name:m.mount?C:void 0,values:$t(d)})},I=async C=>{m.mount=!0;const V=C.target;let R=V.name,Z=!0;const G=ke(l,R),re=ne=>{Z=Number.isNaN(ne)||yr(ne)&&isNaN(ne.getTime())||La(ne,ke(d,R,ne))},Re=ml(a.mode),Me=ml(a.reValidateMode);if(G){let ne,ze;const Fe=V.type?ob(G._f):H_(C),mt=C.type===ab.BLUR||C.type===ab.FOCUS_OUT,Sn=!ej(G._f)&&!a.resolver&&!ke(s.errors,R)&&!G._f.deps||aj(mt,ke(s.touchedFields,R),s.isSubmitted,Me,Re),Se=sm(R,h,mt);_t(d,R,Fe),mt?(!V||!V.readOnly)&&(G._f.onBlur&&G._f.onBlur(C),y&&y(0)):G._f.onChange&&G._f.onChange(C);const Xe=O(R,Fe,mt),Zt=!zn(Xe)||Se;if(!mt&&w.state.next({name:R,type:C.type,values:$t(d)}),Sn)return(b.isValid||x.isValid)&&(a.mode==="onBlur"?mt&&j():mt||j()),Zt&&w.state.next({name:R,...Se?{}:Xe});if(!mt&&Se&&w.state.next({...s}),a.resolver){const{errors:St}=await L([R]);if(re(Fe),Z){const wn=ub(s.errors,l,R),kn=ub(St,l,wn.name||R);ne=kn.error,R=kn.name,ze=zn(St)}}else A([R],!0),ne=(await rm(G,h.disabled,d,q,a.shouldUseNativeValidation))[R],A([R]),re(Fe),Z&&(ne?ze=!1:(b.isValid||x.isValid)&&(ze=await le(l,!0)));Z&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&Ce(G._f.deps),H(R,ze,ne,Xe))}},te=(C,V)=>{if(ke(s.errors,V)&&C.focus)return C.focus(),1},Ce=async(C,V={})=>{let R,Z;const G=Jn(C);if(a.resolver){const re=await X(Bt(C)?C:G);R=zn(re),Z=C?!G.some(Re=>ke(re,Re)):R}else C?(Z=(await Promise.all(G.map(async re=>{const Re=ke(l,re);return await le(Re&&Re._f?{[re]:Re}:Re)}))).every(Boolean),!(!Z&&!s.isValid)&&j()):Z=R=await le(l);return w.state.next({...!da(C)||(b.isValid||x.isValid)&&R!==s.isValid?{}:{name:C},...a.resolver||!C?{isValid:R}:{},errors:s.errors}),V.shouldFocus&&!Z&&pl(l,te,C?G:h.mount),Z},Ee=(C,V)=>{let R={...m.mount?d:c};return V&&(R=Yv(V.dirtyFields?s.dirtyFields:s.touchedFields,R)),Bt(C)?R:da(C)?ke(R,C):C.map(Z=>ke(R,Z))},N=(C,V)=>({invalid:!!ke((V||s).errors,C),isDirty:!!ke((V||s).dirtyFields,C),error:ke((V||s).errors,C),isValidating:!!ke(s.validatingFields,C),isTouched:!!ke((V||s).touchedFields,C)}),Q=C=>{C&&Jn(C).forEach(V=>Wt(s.errors,V)),w.state.next({errors:C?s.errors:{}})},oe=(C,V,R)=>{const Z=(ke(l,C,{_f:{}})._f||{}).ref,G=ke(s.errors,C)||{},{ref:re,message:Re,type:Me,...ne}=G;_t(s.errors,C,{...ne,...V,ref:Z}),w.state.next({name:C,errors:s.errors,isValid:!1}),R&&R.shouldFocus&&Z&&Z.focus&&Z.focus()},M=(C,V)=>Ba(C)?w.state.subscribe({next:R=>"values"in R&&C(de(void 0,V),R)}):de(C,V,!0),ce=C=>w.state.subscribe({next:V=>{nj(C.name,V.name,C.exact)&&tj(V,C.formState||b,Ie,C.reRenderRoot)&&C.callback({values:{...d},...s,...V,defaultValues:c})}}).unsubscribe,be=C=>(m.mount=!0,x={...x,...C.formState},ce({...C,formState:x})),Oe=(C,V={})=>{for(const R of C?Jn(C):h.mount)h.mount.delete(R),h.array.delete(R),V.keepValue||(Wt(l,R),Wt(d,R)),!V.keepError&&Wt(s.errors,R),!V.keepDirty&&Wt(s.dirtyFields,R),!V.keepTouched&&Wt(s.touchedFields,R),!V.keepIsValidating&&Wt(s.validatingFields,R),!a.shouldUnregister&&!V.keepDefaultValue&&Wt(c,R);w.state.next({values:$t(d)}),w.state.next({...s,...V.keepDirty?{isDirty:xe()}:{}}),!V.keepIsValid&&j()},Ue=({disabled:C,name:V})=>{(Qa(C)&&m.mount||C||h.disabled.has(V))&&(C?h.disabled.add(V):h.disabled.delete(V))},ue=(C,V={})=>{let R=ke(l,C);const Z=Qa(V.disabled)||Qa(a.disabled);return _t(l,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...V}}),h.mount.add(C),R?Ue({disabled:Qa(V.disabled)?V.disabled:a.disabled,name:C}):k(C,!0,V.value),{...Z?{disabled:V.disabled||a.disabled}:{},...a.progressive?{required:!!V.required,min:Ei(V.min),max:Ei(V.max),minLength:Ei(V.minLength),maxLength:Ei(V.maxLength),pattern:Ei(V.pattern)}:{},name:C,onChange:I,onBlur:I,ref:G=>{if(G){ue(C,V),R=ke(l,C);const re=Bt(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,Re=P_(re),Me=R._f.refs||[];if(Re?Me.find(ne=>ne===re):re===R._f.ref)return;_t(l,C,{_f:{...R._f,...Re?{refs:[...Me.filter(bf),re,...Array.isArray(ke(c,C))?[{}]:[]],ref:{type:re.type,name:C}}:{ref:re}}}),k(C,!1,void 0,re)}else R=ke(l,C,{}),R._f&&(R._f.mount=!1),(a.shouldUnregister||V.shouldUnregister)&&!(Z_(h.array,C)&&m.action)&&h.unMount.add(C)}}},De=()=>a.shouldFocusError&&pl(l,te,h.mount),qe=C=>{Qa(C)&&(w.state.next({disabled:C}),pl(l,(V,R)=>{const Z=ke(l,R);Z&&(V.disabled=Z._f.disabled||C,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(G=>{G.disabled=Z._f.disabled||C}))},0,!1))},Ye=(C,V)=>async R=>{let Z;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let G=$t(d);if(w.state.next({isSubmitting:!0}),a.resolver){const{errors:re,values:Re}=await L();s.errors=re,G=$t(Re)}else await le(l);if(h.disabled.size)for(const re of h.disabled)Wt(G,re);if(Wt(s.errors,"root"),zn(s.errors)){w.state.next({errors:{}});try{await C(G,R)}catch(re){Z=re}}else V&&await V({...s.errors},R),De(),setTimeout(De);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zn(s.errors)&&!Z,submitCount:s.submitCount+1,errors:s.errors}),Z)throw Z},ct=(C,V={})=>{ke(l,C)&&(Bt(V.defaultValue)?z(C,$t(ke(c,C))):(z(C,V.defaultValue),_t(c,C,$t(V.defaultValue))),V.keepTouched||Wt(s.touchedFields,C),V.keepDirty||(Wt(s.dirtyFields,C),s.isDirty=V.defaultValue?xe(C,$t(ke(c,C))):xe()),V.keepError||(Wt(s.errors,C),b.isValid&&j()),w.state.next({...s}))},Te=(C,V={})=>{const R=C?$t(C):c,Z=$t(R),G=zn(C),re=G?c:Z;if(V.keepDefaultValues||(c=R),!V.keepValues){if(V.keepDirtyValues){const Re=new Set([...h.mount,...Object.keys(fl(c,d))]);for(const Me of Array.from(Re))ke(s.dirtyFields,Me)?_t(re,Me,ke(d,Me)):z(Me,ke(re,Me))}else{if(Mm&&Bt(C))for(const Re of h.mount){const Me=ke(l,Re);if(Me&&Me._f){const ne=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(Ac(ne)){const ze=ne.closest("form");if(ze){ze.reset();break}}}}if(V.keepFieldsRef)for(const Re of h.mount)z(Re,ke(re,Re));else l={}}d=a.shouldUnregister?V.keepDefaultValues?$t(c):{}:$t(re),w.array.next({values:{...re}}),w.state.next({values:{...re}})}h={mount:V.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!b.isValid||!!V.keepIsValid||!!V.keepDirtyValues||!a.shouldUnregister&&!zn(re),m.watch=!!a.shouldUnregister,w.state.next({submitCount:V.keepSubmitCount?s.submitCount:0,isDirty:G?!1:V.keepDirty?s.isDirty:!!(V.keepDefaultValues&&!La(C,c)),isSubmitted:V.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:G?{}:V.keepDirtyValues?V.keepDefaultValues&&d?fl(c,d):s.dirtyFields:V.keepDefaultValues&&C?fl(c,C):V.keepDirty?s.dirtyFields:{},touchedFields:V.keepTouched?s.touchedFields:{},errors:V.keepErrors?s.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},He=(C,V)=>Te(Ba(C)?C(d):C,V),pe=(C,V={})=>{const R=ke(l,C),Z=R&&R._f;if(Z){const G=Z.refs?Z.refs[0]:Z.ref;G.focus&&(G.focus(),V.shouldSelect&&Ba(G.select)&&G.select())}},Ie=C=>{s={...s,...C}},Ke={control:{register:ue,unregister:Oe,getFieldState:N,handleSubmit:Ye,setError:oe,_subscribe:ce,_runSchema:L,_focusError:De,_getWatch:de,_getDirty:xe,_setValid:j,_setFieldArray:B,_setDisabledField:Ue,_setErrors:J,_getFieldArray:me,_reset:Te,_resetDefaultValues:()=>Ba(a.defaultValues)&&a.defaultValues().then(C=>{He(C,a.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:ye,_disableForm:qe,_subjects:w,_proxyFormState:b,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(C){m=C},get _defaultValues(){return c},get _names(){return h},set _names(C){h=C},get _formState(){return s},get _options(){return a},set _options(C){a={...a,...C}}},subscribe:be,trigger:Ce,register:ue,handleSubmit:Ye,watch:M,setValue:z,getValues:Ee,reset:He,resetField:ct,clearErrors:Q,unregister:Oe,setError:oe,setFocus:pe,getFieldState:N};return{...Ke,formControl:Ke}}var Fs=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},vf=(e,a,s={})=>s.shouldFocus||Bt(s.shouldFocus)?s.focusName||`${e}.${Bt(s.focusIndex)?a:s.focusIndex}.`:"",xf=(e,a)=>[...e,...Jn(a)],Sf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function wf(e,a,s){return[...e.slice(0,a),...Jn(s),...e.slice(a)]}var Nf=(e,a,s)=>Array.isArray(e)?(Bt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],_f=(e,a)=>[...Jn(a),...Jn(e)];function ij(e,a){let s=0;const l=[...e];for(const c of a)l.splice(c-s,1),s++;return Fc(l).length?l:[]}var jf=(e,a)=>Bt(a)?[]:ij(e,Jn(a).sort((s,l)=>s-l)),Ef=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},fb=(e,a,s)=>(e[a]=s,e);function oj(e){const a=Pv(),{control:s=a.control,name:l,keyName:c="id",shouldUnregister:d,rules:m}=e,[h,y]=rt.useState(s._getFieldArray(l)),p=rt.useRef(s._getFieldArray(l).map(Fs)),b=rt.useRef(!1);s._names.array.add(l),rt.useMemo(()=>m&&h.length>=0&&s.register(l,m),[s,l,h.length,m]),Um(()=>s._subjects.array.subscribe({next:({values:k,name:O})=>{if(O===l||!O){const H=ke(k,l);Array.isArray(H)&&(y(H),p.current=H.map(Fs))}}}).unsubscribe,[s,l]);const x=rt.useCallback(k=>{b.current=!0,s._setFieldArray(l,k)},[s,l]),w=(k,O)=>{const H=Jn($t(k)),L=xf(s._getFieldArray(l),H);s._names.focus=vf(l,L.length-1,O),p.current=xf(p.current,H.map(Fs)),x(L),y(L),s._setFieldArray(l,L,xf,{argA:Sf(k)})},q=(k,O)=>{const H=Jn($t(k)),L=_f(s._getFieldArray(l),H);s._names.focus=vf(l,0,O),p.current=_f(p.current,H.map(Fs)),x(L),y(L),s._setFieldArray(l,L,_f,{argA:Sf(k)})},_=k=>{const O=jf(s._getFieldArray(l),k);p.current=jf(p.current,k),x(O),y(O),!Array.isArray(ke(s._fields,l))&&_t(s._fields,l,void 0),s._setFieldArray(l,O,jf,{argA:k})},j=(k,O,H)=>{const L=Jn($t(O)),X=wf(s._getFieldArray(l),k,L);s._names.focus=vf(l,k,H),p.current=wf(p.current,k,L.map(Fs)),x(X),y(X),s._setFieldArray(l,X,wf,{argA:k,argB:Sf(O)})},A=(k,O)=>{const H=s._getFieldArray(l);Ef(H,k,O),Ef(p.current,k,O),x(H),y(H),s._setFieldArray(l,H,Ef,{argA:k,argB:O},!1)},B=(k,O)=>{const H=s._getFieldArray(l);Nf(H,k,O),Nf(p.current,k,O),x(H),y(H),s._setFieldArray(l,H,Nf,{argA:k,argB:O},!1)},T=(k,O)=>{const H=$t(O),L=fb(s._getFieldArray(l),k,H);p.current=[...L].map((X,le)=>!X||le===k?Fs():p.current[le]),x(L),y([...L]),s._setFieldArray(l,L,fb,{argA:k,argB:H},!0,!1)},J=k=>{const O=Jn($t(k));p.current=O.map(Fs),x([...O]),y([...O]),s._setFieldArray(l,[...O],H=>H,{},!0,!1)};return rt.useEffect(()=>{if(s._state.action=!1,sm(l,s._names)&&s._subjects.state.next({...s._formState}),b.current&&(!ml(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!ml(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(k=>{const O=ke(k.errors,l),H=ke(s._formState.errors,l);(H?!O&&H.type||O&&(H.type!==O.type||H.message!==O.message):O&&O.type)&&(O?_t(s._formState.errors,l,O):Wt(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const k=ke(s._fields,l);k&&k._f&&!(ml(s._options.reValidateMode).isOnSubmit&&ml(s._options.mode).isOnSubmit)&&rm(k,s._names.disabled,s._formValues,s._options.criteriaMode===wa.all,s._options.shouldUseNativeValidation,!0).then(O=>!zn(O)&&s._subjects.state.next({errors:tx(s._formState.errors,O,l)}))}s._subjects.state.next({name:l,values:$t(s._formValues)}),s._names.focus&&pl(s._fields,(k,O)=>{if(s._names.focus&&O.startsWith(s._names.focus)&&k.focus)return k.focus(),1}),s._names.focus="",s._setValid(),b.current=!1},[h,l,s]),rt.useEffect(()=>(!ke(s._formValues,l)&&s._setFieldArray(l),()=>{const k=(O,H)=>{const L=ke(s._fields,O);L&&L._f&&(L._f.mount=H)};s._options.shouldUnregister||d?s.unregister(l):k(l,!1)}),[l,s,c,d]),{swap:rt.useCallback(A,[x,l,s]),move:rt.useCallback(B,[x,l,s]),prepend:rt.useCallback(q,[x,l,s]),append:rt.useCallback(w,[x,l,s]),remove:rt.useCallback(_,[x,l,s]),insert:rt.useCallback(j,[x,l,s]),update:rt.useCallback(T,[x,l,s]),replace:rt.useCallback(J,[x,l,s]),fields:rt.useMemo(()=>h.map((k,O)=>({...k,[c]:p.current[O]||Fs()})),[h,c])}}function Hc(e={}){const a=rt.useRef(void 0),s=rt.useRef(void 0),[l,c]=rt.useState({isDirty:!1,isValidating:!1,isLoading:Ba(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ba(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!Ba(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=lj(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,Um(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),rt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),rt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),rt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),rt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),rt.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),rt.useEffect(()=>{e.values&&!La(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),rt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=Q_(l,d),a.current}function nx(e,a){return function(){return e.apply(a,arguments)}}const{toString:cj}=Object.prototype,{getPrototypeOf:Im}=Object,{iterator:Vc,toStringTag:ax}=Symbol,Zc=(e=>a=>{const s=cj.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),qa=e=>(e=e.toLowerCase(),a=>Zc(a)===e),Gc=e=>a=>typeof a===e,{isArray:jl}=Array,bl=Gc("undefined");function Vi(e){return e!==null&&!bl(e)&&e.constructor!==null&&!bl(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sx=qa("ArrayBuffer");function uj(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&sx(e.buffer),a}const dj=Gc("string"),Wn=Gc("function"),rx=Gc("number"),Zi=e=>e!==null&&typeof e=="object",fj=e=>e===!0||e===!1,xc=e=>{if(Zc(e)!=="object")return!1;const a=Im(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(ax in e)&&!(Vc in e)},mj=e=>{if(!Zi(e)||Vi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hj=qa("Date"),pj=qa("File"),gj=qa("Blob"),yj=qa("FileList"),bj=e=>Zi(e)&&Wn(e.pipe),vj=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((a=Zc(e))==="formdata"||a==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},xj=qa("URLSearchParams"),[Sj,wj,Nj,_j]=["ReadableStream","Request","Response","Headers"].map(qa),jj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gi(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),jl(e))for(l=0,c=e.length;l<c;l++)a.call(null,e[l],l,e);else{if(Vi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function lx(e,a){if(Vi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],a===c.toLowerCase())return c;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ix=e=>!bl(e)&&e!==br;function lm(){const{caseless:e,skipUndefined:a}=ix(this)&&this||{},s={},l=(c,d)=>{const m=e&&lx(s,d)||d;xc(s[m])&&xc(c)?s[m]=lm(s[m],c):xc(c)?s[m]=lm({},c):jl(c)?s[m]=c.slice():(!a||!bl(c))&&(s[m]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Gi(arguments[c],l);return s}const Ej=(e,a,s,{allOwnKeys:l}={})=>(Gi(a,(c,d)=>{s&&Wn(c)?e[d]=nx(c,s):e[d]=c},{allOwnKeys:l}),e),Aj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Cj=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},Oj=(e,a,s,l)=>{let c,d,m;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=s!==!1&&Im(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},Rj=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},Tj=e=>{if(!e)return null;if(jl(e))return e;let a=e.length;if(!rx(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},Dj=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Im(Uint8Array)),zj=(e,a)=>{const l=(e&&e[Vc]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},Mj=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},kj=qa("HTMLFormElement"),Uj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),mb=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),Lj=qa("RegExp"),ox=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Gi(s,(c,d)=>{let m;(m=a(c,d,e))!==!1&&(l[d]=m||c)}),Object.defineProperties(e,l)},Bj=e=>{ox(e,(a,s)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(Wn(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},qj=(e,a)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return jl(e)?l(e):l(String(e).split(a)),s},Ij=()=>{},$j=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function Fj(e){return!!(e&&Wn(e.append)&&e[ax]==="FormData"&&e[Vc])}const Hj=e=>{const a=new Array(10),s=(l,c)=>{if(Zi(l)){if(a.indexOf(l)>=0)return;if(Vi(l))return l;if(!("toJSON"in l)){a[c]=l;const d=jl(l)?[]:{};return Gi(l,(m,h)=>{const y=s(m,c+1);!bl(y)&&(d[h]=y)}),a[c]=void 0,d}}return l};return s(e,0)},Vj=qa("AsyncFunction"),Zj=e=>e&&(Zi(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),cx=((e,a)=>e?setImmediate:a?((s,l)=>(br.addEventListener("message",({source:c,data:d})=>{c===br&&d===s&&l.length&&l.shift()()},!1),c=>{l.push(c),br.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Wn(br.postMessage)),Gj=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||cx,Qj=e=>e!=null&&Wn(e[Vc]),ae={isArray:jl,isArrayBuffer:sx,isBuffer:Vi,isFormData:vj,isArrayBufferView:uj,isString:dj,isNumber:rx,isBoolean:fj,isObject:Zi,isPlainObject:xc,isEmptyObject:mj,isReadableStream:Sj,isRequest:wj,isResponse:Nj,isHeaders:_j,isUndefined:bl,isDate:hj,isFile:pj,isBlob:gj,isRegExp:Lj,isFunction:Wn,isStream:bj,isURLSearchParams:xj,isTypedArray:Dj,isFileList:yj,forEach:Gi,merge:lm,extend:Ej,trim:jj,stripBOM:Aj,inherits:Cj,toFlatObject:Oj,kindOf:Zc,kindOfTest:qa,endsWith:Rj,toArray:Tj,forEachEntry:zj,matchAll:Mj,isHTMLForm:kj,hasOwnProperty:mb,hasOwnProp:mb,reduceDescriptors:ox,freezeMethods:Bj,toObjectSet:qj,toCamelCase:Uj,noop:Ij,toFiniteNumber:$j,findKey:lx,global:br,isContextDefined:ix,isSpecCompliantForm:Fj,toJSONObject:Hj,isAsyncFn:Vj,isThenable:Zj,setImmediate:cx,asap:Gj,isIterable:Qj};function nt(e,a,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}ae.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const ux=nt.prototype,dx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dx[e]={value:e}});Object.defineProperties(nt,dx);Object.defineProperty(ux,"isAxiosError",{value:!0});nt.from=(e,a,s,l,c,d)=>{const m=Object.create(ux);ae.toFlatObject(e,m,function(b){return b!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",y=a==null&&e?e.code:a;return nt.call(m,h,y,s,l,c),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const Pj=null;function im(e){return ae.isPlainObject(e)||ae.isArray(e)}function fx(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function hb(e,a,s){return e?e.concat(a).map(function(c,d){return c=fx(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function Yj(e){return ae.isArray(e)&&!e.some(im)}const Kj=ae.toFlatObject(ae,{},null,function(a){return/^is[A-Z]/.test(a)});function Qc(e,a,s){if(!ae.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=ae.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,A){return!ae.isUndefined(A[j])});const l=s.metaTokens,c=s.visitor||b,d=s.dots,m=s.indexes,y=(s.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(a);if(!ae.isFunction(c))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(ae.isDate(_))return _.toISOString();if(ae.isBoolean(_))return _.toString();if(!y&&ae.isBlob(_))throw new nt("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(_)||ae.isTypedArray(_)?y&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function b(_,j,A){let B=_;if(_&&!A&&typeof _=="object"){if(ae.endsWith(j,"{}"))j=l?j:j.slice(0,-2),_=JSON.stringify(_);else if(ae.isArray(_)&&Yj(_)||(ae.isFileList(_)||ae.endsWith(j,"[]"))&&(B=ae.toArray(_)))return j=fx(j),B.forEach(function(J,k){!(ae.isUndefined(J)||J===null)&&a.append(m===!0?hb([j],k,d):m===null?j:j+"[]",p(J))}),!1}return im(_)?!0:(a.append(hb(A,j,d),p(_)),!1)}const x=[],w=Object.assign(Kj,{defaultVisitor:b,convertValue:p,isVisitable:im});function q(_,j){if(!ae.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(_),ae.forEach(_,function(B,T){(!(ae.isUndefined(B)||B===null)&&c.call(a,B,ae.isString(T)?T.trim():T,j,w))===!0&&q(B,j?j.concat(T):[T])}),x.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return q(e),a}function pb(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function $m(e,a){this._pairs=[],e&&Qc(e,this,a)}const mx=$m.prototype;mx.append=function(a,s){this._pairs.push([a,s])};mx.toString=function(a){const s=a?function(l){return a.call(this,l,pb)}:pb;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function Xj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hx(e,a,s){if(!a)return e;const l=s&&s.encode||Xj;ae.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=ae.isURLSearchParams(a)?a.toString():new $m(a,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class gb{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ae.forEach(this.handlers,function(l){l!==null&&a(l)})}}const px={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jj=typeof URLSearchParams<"u"?URLSearchParams:$m,Wj=typeof FormData<"u"?FormData:null,e1=typeof Blob<"u"?Blob:null,t1={isBrowser:!0,classes:{URLSearchParams:Jj,FormData:Wj,Blob:e1},protocols:["http","https","file","blob","url","data"]},Fm=typeof window<"u"&&typeof document<"u",om=typeof navigator=="object"&&navigator||void 0,n1=Fm&&(!om||["ReactNative","NativeScript","NS"].indexOf(om.product)<0),a1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",s1=Fm&&window.location.href||"http://localhost",r1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fm,hasStandardBrowserEnv:n1,hasStandardBrowserWebWorkerEnv:a1,navigator:om,origin:s1},Symbol.toStringTag,{value:"Module"})),Mn={...r1,...t1};function l1(e,a){return Qc(e,new Mn.classes.URLSearchParams,{visitor:function(s,l,c,d){return Mn.isNode&&ae.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function i1(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function o1(e){const a={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],a[d]=e[d];return a}function gx(e){function a(s,l,c,d){let m=s[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),y=d>=s.length;return m=!m&&ae.isArray(c)?c.length:m,y?(ae.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!h):((!c[m]||!ae.isObject(c[m]))&&(c[m]=[]),a(s,l,c[m],d)&&ae.isArray(c[m])&&(c[m]=o1(c[m])),!h)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const s={};return ae.forEachEntry(e,(l,c)=>{a(i1(l),c,s,0)}),s}return null}function c1(e,a,s){if(ae.isString(e))try{return(a||JSON.parse)(e),ae.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Qi={transitional:px,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=ae.isObject(a);if(d&&ae.isHTMLForm(a)&&(a=new FormData(a)),ae.isFormData(a))return c?JSON.stringify(gx(a)):a;if(ae.isArrayBuffer(a)||ae.isBuffer(a)||ae.isStream(a)||ae.isFile(a)||ae.isBlob(a)||ae.isReadableStream(a))return a;if(ae.isArrayBufferView(a))return a.buffer;if(ae.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return l1(a,this.formSerializer).toString();if((h=ae.isFileList(a))||l.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Qc(h?{"files[]":a}:a,y&&new y,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),c1(a)):a}],transformResponse:[function(a){const s=this.transitional||Qi.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(ae.isResponse(a)||ae.isReadableStream(a))return a;if(a&&ae.isString(a)&&(l&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?nt.from(h,nt.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{Qi.headers[e]={}});const u1=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d1=e=>{const a={};let s,l,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!s||a[s]&&u1[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},yb=Symbol("internals");function Ai(e){return e&&String(e).trim().toLowerCase()}function Sc(e){return e===!1||e==null?e:ae.isArray(e)?e.map(Sc):String(e)}function f1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const m1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Af(e,a,s,l,c){if(ae.isFunction(l))return l.call(this,a,s);if(c&&(a=s),!!ae.isString(a)){if(ae.isString(l))return a.indexOf(l)!==-1;if(ae.isRegExp(l))return l.test(a)}}function h1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function p1(e,a){const s=ae.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,m){return this[l].call(this,a,c,d,m)},configurable:!0})})}let ea=class{constructor(a){a&&this.set(a)}set(a,s,l){const c=this;function d(h,y,p){const b=Ai(y);if(!b)throw new Error("header name must be a non-empty string");const x=ae.findKey(c,b);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||y]=Sc(h))}const m=(h,y)=>ae.forEach(h,(p,b)=>d(p,b,y));if(ae.isPlainObject(a)||a instanceof this.constructor)m(a,s);else if(ae.isString(a)&&(a=a.trim())&&!m1(a))m(d1(a),s);else if(ae.isObject(a)&&ae.isIterable(a)){let h={},y,p;for(const b of a){if(!ae.isArray(b))throw TypeError("Object iterator must return a key-value pair");h[p=b[0]]=(y=h[p])?ae.isArray(y)?[...y,b[1]]:[y,b[1]]:b[1]}m(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ai(a),a){const l=ae.findKey(this,a);if(l){const c=this[l];if(!s)return c;if(s===!0)return f1(c);if(ae.isFunction(s))return s.call(this,c,l);if(ae.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ai(a),a){const l=ae.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||Af(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let c=!1;function d(m){if(m=Ai(m),m){const h=ae.findKey(l,m);h&&(!s||Af(l,l[h],h,s))&&(delete l[h],c=!0)}}return ae.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let l=s.length,c=!1;for(;l--;){const d=s[l];(!a||Af(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,l={};return ae.forEach(this,(c,d)=>{const m=ae.findKey(l,d);if(m){s[m]=Sc(c),delete s[d];return}const h=a?h1(d):String(d).trim();h!==d&&delete s[d],s[h]=Sc(c),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return ae.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=a&&ae.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(c=>l.set(c)),l}static accessor(a){const l=(this[yb]=this[yb]={accessors:{}}).accessors,c=this.prototype;function d(m){const h=Ai(m);l[h]||(p1(c,m),l[h]=!0)}return ae.isArray(a)?a.forEach(d):d(a),this}};ea.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(ea.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});ae.freezeMethods(ea);function Cf(e,a){const s=this||Qi,l=a||s,c=ea.from(l.headers);let d=l.data;return ae.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function yx(e){return!!(e&&e.__CANCEL__)}function El(e,a,s){nt.call(this,e??"canceled",nt.ERR_CANCELED,a,s),this.name="CanceledError"}ae.inherits(El,nt,{__CANCEL__:!0});function bx(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new nt("Request failed with status code "+s.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function g1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function y1(e,a){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,m;return a=a!==void 0?a:1e3,function(y){const p=Date.now(),b=l[d];m||(m=p),s[c]=y,l[c]=p;let x=d,w=0;for(;x!==c;)w+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-m<a)return;const q=b&&p-b;return q?Math.round(w*1e3/q):void 0}}function b1(e,a){let s=0,l=1e3/a,c,d;const m=(p,b=Date.now())=>{s=b,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const b=Date.now(),x=b-s;x>=l?m(p,b):(c=p,d||(d=setTimeout(()=>{d=null,m(c)},l-x)))},()=>c&&m(c)]}const Oc=(e,a,s=3)=>{let l=0;const c=y1(50,250);return b1(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,y=m-l,p=c(y),b=m<=h;l=m;const x={loaded:m,total:h,progress:h?m/h:void 0,bytes:y,rate:p||void 0,estimated:p&&h&&b?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},bb=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},vb=e=>(...a)=>ae.asap(()=>e(...a)),v1=Mn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,Mn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,x1=Mn.hasStandardBrowserEnv?{write(e,a,s,l,c,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];ae.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),ae.isString(l)&&h.push(`path=${l}`),ae.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),ae.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function S1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function w1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function vx(e,a,s){let l=!S1(a);return e&&(l||s==!1)?w1(e,a):a}const xb=e=>e instanceof ea?{...e}:e;function Nr(e,a){a=a||{};const s={};function l(p,b,x,w){return ae.isPlainObject(p)&&ae.isPlainObject(b)?ae.merge.call({caseless:w},p,b):ae.isPlainObject(b)?ae.merge({},b):ae.isArray(b)?b.slice():b}function c(p,b,x,w){if(ae.isUndefined(b)){if(!ae.isUndefined(p))return l(void 0,p,x,w)}else return l(p,b,x,w)}function d(p,b){if(!ae.isUndefined(b))return l(void 0,b)}function m(p,b){if(ae.isUndefined(b)){if(!ae.isUndefined(p))return l(void 0,p)}else return l(void 0,b)}function h(p,b,x){if(x in a)return l(p,b);if(x in e)return l(void 0,p)}const y={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,b,x)=>c(xb(p),xb(b),x,!0)};return ae.forEach(Object.keys({...e,...a}),function(b){const x=y[b]||c,w=x(e[b],a[b],b);ae.isUndefined(w)&&x!==h||(s[b]=w)}),s}const xx=e=>{const a=Nr({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=ea.from(m),a.url=hx(vx(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),ae.isFormData(s)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(ae.isFunction(s.getHeaders)){const y=s.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([b,x])=>{p.includes(b.toLowerCase())&&m.set(b,x)})}}if(Mn.hasStandardBrowserEnv&&(l&&ae.isFunction(l)&&(l=l(a)),l||l!==!1&&v1(a.url))){const y=c&&d&&x1.read(d);y&&m.set(c,y)}return a},N1=typeof XMLHttpRequest<"u",_1=N1&&function(e){return new Promise(function(s,l){const c=xx(e);let d=c.data;const m=ea.from(c.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:p}=c,b,x,w,q,_;function j(){q&&q(),_&&_(),c.cancelToken&&c.cancelToken.unsubscribe(b),c.signal&&c.signal.removeEventListener("abort",b)}let A=new XMLHttpRequest;A.open(c.method.toUpperCase(),c.url,!0),A.timeout=c.timeout;function B(){if(!A)return;const J=ea.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:J,config:e,request:A};bx(function(L){s(L),j()},function(L){l(L),j()},O),A=null}"onloadend"in A?A.onloadend=B:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(B)},A.onabort=function(){A&&(l(new nt("Request aborted",nt.ECONNABORTED,e,A)),A=null)},A.onerror=function(k){const O=k&&k.message?k.message:"Network Error",H=new nt(O,nt.ERR_NETWORK,e,A);H.event=k||null,l(H),A=null},A.ontimeout=function(){let k=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const O=c.transitional||px;c.timeoutErrorMessage&&(k=c.timeoutErrorMessage),l(new nt(k,O.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,e,A)),A=null},d===void 0&&m.setContentType(null),"setRequestHeader"in A&&ae.forEach(m.toJSON(),function(k,O){A.setRequestHeader(O,k)}),ae.isUndefined(c.withCredentials)||(A.withCredentials=!!c.withCredentials),h&&h!=="json"&&(A.responseType=c.responseType),p&&([w,_]=Oc(p,!0),A.addEventListener("progress",w)),y&&A.upload&&([x,q]=Oc(y),A.upload.addEventListener("progress",x),A.upload.addEventListener("loadend",q)),(c.cancelToken||c.signal)&&(b=J=>{A&&(l(!J||J.type?new El(null,e,A):J),A.abort(),A=null)},c.cancelToken&&c.cancelToken.subscribe(b),c.signal&&(c.signal.aborted?b():c.signal.addEventListener("abort",b)));const T=g1(c.url);if(T&&Mn.protocols.indexOf(T)===-1){l(new nt("Unsupported protocol "+T+":",nt.ERR_BAD_REQUEST,e));return}A.send(d||null)})},j1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,c;const d=function(p){if(!c){c=!0,h();const b=p instanceof Error?p:this.reason;l.abort(b instanceof nt?b:new El(b instanceof Error?b.message:b))}};let m=a&&setTimeout(()=>{m=null,d(new nt(`timeout ${a} of ms exceeded`,nt.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:y}=l;return y.unsubscribe=()=>ae.asap(h),y}},E1=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,c;for(;l<s;)c=l+a,yield e.slice(l,c),l=c},A1=async function*(e,a){for await(const s of C1(e))yield*E1(s,a)},C1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},Sb=(e,a,s,l)=>{const c=A1(e,a);let d=0,m,h=y=>{m||(m=!0,l&&l(y))};return new ReadableStream({async pull(y){try{const{done:p,value:b}=await c.next();if(p){h(),y.close();return}let x=b.byteLength;if(s){let w=d+=x;s(w)}y.enqueue(new Uint8Array(b))}catch(p){throw h(p),p}},cancel(y){return h(y),c.return()}},{highWaterMark:2})},wb=64*1024,{isFunction:fc}=ae,O1=(({Request:e,Response:a})=>({Request:e,Response:a}))(ae.global),{ReadableStream:Nb,TextEncoder:_b}=ae.global,jb=(e,...a)=>{try{return!!e(...a)}catch{return!1}},R1=e=>{e=ae.merge.call({skipUndefined:!0},O1,e);const{fetch:a,Request:s,Response:l}=e,c=a?fc(a):typeof fetch=="function",d=fc(s),m=fc(l);if(!c)return!1;const h=c&&fc(Nb),y=c&&(typeof _b=="function"?(_=>j=>_.encode(j))(new _b):async _=>new Uint8Array(await new s(_).arrayBuffer())),p=d&&h&&jb(()=>{let _=!1;const j=new s(Mn.origin,{body:new Nb,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!j}),b=m&&h&&jb(()=>ae.isReadableStream(new l("").body)),x={stream:b&&(_=>_.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!x[_]&&(x[_]=(j,A)=>{let B=j&&j[_];if(B)return B.call(j);throw new nt(`Response type '${_}' is not supported`,nt.ERR_NOT_SUPPORT,A)})});const w=async _=>{if(_==null)return 0;if(ae.isBlob(_))return _.size;if(ae.isSpecCompliantForm(_))return(await new s(Mn.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(_)||ae.isArrayBuffer(_))return _.byteLength;if(ae.isURLSearchParams(_)&&(_=_+""),ae.isString(_))return(await y(_)).byteLength},q=async(_,j)=>{const A=ae.toFiniteNumber(_.getContentLength());return A??w(j)};return async _=>{let{url:j,method:A,data:B,signal:T,cancelToken:J,timeout:k,onDownloadProgress:O,onUploadProgress:H,responseType:L,headers:X,withCredentials:le="same-origin",fetchOptions:ye}=xx(_),xe=a||fetch;L=L?(L+"").toLowerCase():"text";let de=j1([T,J&&J.toAbortSignal()],k),me=null;const Ae=de&&de.unsubscribe&&(()=>{de.unsubscribe()});let je;try{if(H&&p&&A!=="get"&&A!=="head"&&(je=await q(X,B))!==0){let N=new s(j,{method:"POST",body:B,duplex:"half"}),Q;if(ae.isFormData(B)&&(Q=N.headers.get("content-type"))&&X.setContentType(Q),N.body){const[oe,M]=bb(je,Oc(vb(H)));B=Sb(N.body,wb,oe,M)}}ae.isString(le)||(le=le?"include":"omit");const z=d&&"credentials"in s.prototype,I={...ye,signal:de,method:A.toUpperCase(),headers:X.normalize().toJSON(),body:B,duplex:"half",credentials:z?le:void 0};me=d&&new s(j,I);let te=await(d?xe(me,ye):xe(j,I));const Ce=b&&(L==="stream"||L==="response");if(b&&(O||Ce&&Ae)){const N={};["status","statusText","headers"].forEach(ce=>{N[ce]=te[ce]});const Q=ae.toFiniteNumber(te.headers.get("content-length")),[oe,M]=O&&bb(Q,Oc(vb(O),!0))||[];te=new l(Sb(te.body,wb,oe,()=>{M&&M(),Ae&&Ae()}),N)}L=L||"text";let Ee=await x[ae.findKey(x,L)||"text"](te,_);return!Ce&&Ae&&Ae(),await new Promise((N,Q)=>{bx(N,Q,{data:Ee,headers:ea.from(te.headers),status:te.status,statusText:te.statusText,config:_,request:me})})}catch(z){throw Ae&&Ae(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,_,me),{cause:z.cause||z}):nt.from(z,z&&z.code,_,me)}}},T1=new Map,Sx=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:c}=a,d=[l,c,s];let m=d.length,h=m,y,p,b=T1;for(;h--;)y=d[h],p=b.get(y),p===void 0&&b.set(y,p=h?new Map:R1(a)),b=p;return p};Sx();const Hm={http:Pj,xhr:_1,fetch:{get:Sx}};ae.forEach(Hm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const Eb=e=>`- ${e}`,D1=e=>ae.isFunction(e)||e===null||e===!1;function z1(e,a){e=ae.isArray(e)?e:[e];const{length:s}=e;let l,c;const d={};for(let m=0;m<s;m++){l=e[m];let h;if(c=l,!D1(l)&&(c=Hm[(h=String(l)).toLowerCase()],c===void 0))throw new nt(`Unknown adapter '${h}'`);if(c&&(ae.isFunction(c)||(c=c.get(a))))break;d[h||"#"+m]=c}if(!c){const m=Object.entries(d).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?m.length>1?`since :
`+m.map(Eb).join(`
`):" "+Eb(m[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const wx={getAdapter:z1,adapters:Hm};function Of(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new El(null,e)}function Ab(e){return Of(e),e.headers=ea.from(e.headers),e.data=Cf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wx.getAdapter(e.adapter||Qi.adapter,e)(e).then(function(l){return Of(e),l.data=Cf.call(e,e.transformResponse,l),l.headers=ea.from(l.headers),l},function(l){return yx(l)||(Of(e),l&&l.response&&(l.response.data=Cf.call(e,e.transformResponse,l.response),l.response.headers=ea.from(l.response.headers))),Promise.reject(l)})}const Nx="1.13.2",Pc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Pc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Cb={};Pc.transitional=function(a,s,l){function c(d,m){return"[Axios v"+Nx+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new nt(c(m," has been removed"+(s?" in "+s:"")),nt.ERR_DEPRECATED);return s&&!Cb[m]&&(Cb[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,m,h):!0}};Pc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function M1(e,a,s){if(typeof e!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],m=a[d];if(m){const h=e[d],y=h===void 0||m(h,d,e);if(y!==!0)throw new nt("option "+d+" must be "+y,nt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new nt("Unknown option "+d,nt.ERR_BAD_OPTION)}}const wc={assertOptions:M1,validators:Pc},Ga=wc.validators;let vr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new gb,response:new gb}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=Nr(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&wc.assertOptions(l,{silentJSONParsing:Ga.transitional(Ga.boolean),forcedJSONParsing:Ga.transitional(Ga.boolean),clarifyTimeoutError:Ga.transitional(Ga.boolean)},!1),c!=null&&(ae.isFunction(c)?s.paramsSerializer={serialize:c}:wc.assertOptions(c,{encode:Ga.function,serialize:Ga.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),wc.assertOptions(s,{baseUrl:Ga.spelling("baseURL"),withXsrfToken:Ga.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=d&&ae.merge(d.common,d[s.method]);d&&ae.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),s.headers=ea.concat(m,d);const h=[];let y=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(y=y&&j.synchronous,h.unshift(j.fulfilled,j.rejected))});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let b,x=0,w;if(!y){const _=[Ab.bind(this),void 0];for(_.unshift(...h),_.push(...p),w=_.length,b=Promise.resolve(s);x<w;)b=b.then(_[x++],_[x++]);return b}w=h.length;let q=s;for(;x<w;){const _=h[x++],j=h[x++];try{q=_(q)}catch(A){j.call(this,A);break}}try{b=Ab.call(this,q)}catch(_){return Promise.reject(_)}for(x=0,w=p.length;x<w;)b=b.then(p[x++],p[x++]);return b}getUri(a){a=Nr(this.defaults,a);const s=vx(a.baseURL,a.url,a.allowAbsoluteUrls);return hx(s,a.params,a.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(a){vr.prototype[a]=function(s,l){return this.request(Nr(l||{},{method:a,url:s,data:(l||{}).data}))}});ae.forEach(["post","put","patch"],function(a){function s(l){return function(d,m,h){return this.request(Nr(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}vr.prototype[a]=s(),vr.prototype[a+"Form"]=s(!0)});let k1=class _x{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new El(d,m,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new _x(function(c){a=c}),cancel:a}}};function U1(e){return function(s){return e.apply(null,s)}}function L1(e){return ae.isObject(e)&&e.isAxiosError===!0}const cm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cm).forEach(([e,a])=>{cm[a]=e});function jx(e){const a=new vr(e),s=nx(vr.prototype.request,a);return ae.extend(s,vr.prototype,a,{allOwnKeys:!0}),ae.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return jx(Nr(e,c))},s}const ot=jx(Qi);ot.Axios=vr;ot.CanceledError=El;ot.CancelToken=k1;ot.isCancel=yx;ot.VERSION=Nx;ot.toFormData=Qc;ot.AxiosError=nt;ot.Cancel=ot.CanceledError;ot.all=function(a){return Promise.all(a)};ot.spread=U1;ot.isAxiosError=L1;ot.mergeConfig=Nr;ot.AxiosHeaders=ea;ot.formToJSON=e=>gx(ae.isHTMLForm(e)?new FormData(e):e);ot.getAdapter=wx.getAdapter;ot.HttpStatusCode=cm;ot.default=ot;const{Axios:M2,AxiosError:k2,CanceledError:U2,isCancel:L2,CancelToken:B2,VERSION:q2,all:I2,Cancel:$2,isAxiosError:F2,spread:H2,toFormData:V2,AxiosHeaders:Z2,HttpStatusCode:G2,formToJSON:Q2,getAdapter:P2,mergeConfig:Y2}=ot,B1="medileser:draft:v1",Rc="medileser:recovery:v1",Tc="medileser:recovery:intent",q1="vi.auth",I1="vi_auth",$1="medileser.selectedBank",F1=1440*60*1e3,Vm=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>F1},Rf=e=>{const{userId:a,bankId:s,oiId:l,type:c,bancadaId:d,isNew:m}=e;if(!a||s==null)return null;const h=l!=null?String(l):"new",y=`${B1}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${y}:header`;const p=m?"new":d;return p==null?null:`${y}:bancada:${p}`},Ti=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&Ex(s)},Tf=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:Vm(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Hs=e=>{try{localStorage.removeItem(e)}catch{}},Ex=e=>{try{localStorage.setItem(Rc,JSON.stringify(e))}catch{}},Ax=()=>{try{const e=localStorage.getItem(Rc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Vm(a.ts)?(localStorage.removeItem(Rc),null):a}catch{return null}},H1=()=>{try{localStorage.removeItem(Rc)}catch{}},V1=e=>{const a=e.userId??null,s=e.bankId??null,l=e.oiId??null;if(!a||s==null||!l)return;const c=Ax(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:l,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};Ex(d)},Z1=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(Tc,JSON.stringify(a))}catch{}},G1=()=>{try{const e=sessionStorage.getItem(Tc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Vm(a.ts)?(sessionStorage.removeItem(Tc),null):a}catch{return null}},Df=()=>{try{sessionStorage.removeItem(Tc)}catch{}},Q1=()=>{try{const e=localStorage.getItem(q1)??localStorage.getItem(I1);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},P1=()=>{try{const e=localStorage.getItem($1);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},um=(e,a)=>{const s=Ax();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const l=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=l==="/oi"||l==="/oi/"?`/oi/${s.oiId}?mode=edit`:l;return Z1(s),{target:c,recovery:s}},Ob="http://127.0.0.1:8000",Al="openOiId",Yc="vi.currentOI",Cx="vi.auth",Ox="vi_auth",Y1="medileser.selectedBank",K1="medileser:selectedBank",dm="medileser.pendingToast",Pi="medileser.pendingAction",X1="medileser:auth-expired",fm="medileser.sessionUserId",mm="medileser.sessionBankId",Rx=()=>typeof window<"u"?window.location.port==="5173"?Ob:window.location.origin:Ob,Ge=ot.create({baseURL:Rx()}),Tx=ot.create({baseURL:Rx()}),Dx=e=>{try{const a=localStorage.getItem(Cx)??localStorage.getItem(Ox);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ge.interceptors.request.use(Dx);Tx.interceptors.request.use(Dx);function J1(){try{const e=sessionStorage.getItem(Al);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const zx=()=>{try{const e=sessionStorage.getItem(Yc);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function W1(e){try{sessionStorage.setItem(Al,String(e))}catch{}}function Mx(){try{sessionStorage.removeItem(Al)}catch{}}async function Yi(){const e=J1();if(e)try{await Tx.post(`/oi/${e}/close`)}catch{}finally{Mx()}}function eE(e){try{sessionStorage.setItem(dm,e)}catch{}}function tE(){try{const e=sessionStorage.getItem(dm);return e?(sessionStorage.removeItem(dm),e):null}catch{return null}}function nE(e){try{sessionStorage.setItem(Pi,JSON.stringify(e))}catch{}}function aE(){try{const e=sessionStorage.getItem(Pi);return e?JSON.parse(e):null}catch{return null}}function Ci(){try{sessionStorage.removeItem(Pi)}catch{}}function kx(){try{const e=sessionStorage.getItem(fm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Rb(e){try{e==null?sessionStorage.removeItem(fm):sessionStorage.setItem(fm,String(e))}catch{}}function Ux(){try{const e=sessionStorage.getItem(mm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Dc(e){try{e==null?sessionStorage.removeItem(mm):sessionStorage.setItem(mm,String(e))}catch{}}function Lx(e){const a=kx();if(e==null)return!1;if(a===null||a===e)return Rb(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Al||c===Yc||c===Pi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Rb(e),Dc(null),!0}function sE(e){const a=Ux();if(e==null)return!1;if(a===null||a===e)return Dc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Al||c===Yc||c===Pi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Dc(e),!0}function rE(){try{localStorage.removeItem(Cx),localStorage.removeItem(Ox),localStorage.removeItem(Y1)}catch{}finally{try{window.dispatchEvent(new Event(K1))}catch{}}try{sessionStorage.removeItem(Yc),sessionStorage.removeItem(Al)}catch{}}let Tb=!1;async function Bx(e){if(!Tb){Tb=!0;try{await Yi()}finally{rE();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(eE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const Nc=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401||a===403)return!0;const l=e?.response?.data?.detail;return!!(typeof l=="string"&&/token requerido/i.test(l))},zf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},lE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:zf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:zf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:zf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},iE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const m=c.toString(),h=p=>`${p}${m?`?${m}`:""}${l??""}`;let y=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??zx();p&&(y=h(`/oi/${p}`))}return y},oE=(e,a,s,l,c)=>{try{window.dispatchEvent(new CustomEvent(X1,{detail:{status:a,detail:e,url:s,method:l,pending:c}}))}catch{}};Ge.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&Nc(e)){const m=lE(e);m&&nE(m),oE(l,a,s,c,m);const h=iE(m),y=Q1(),p=y.bankId??P1(),b=m?.oiId??zx();if(y.userId&&p!=null&&b){const x=m?.type==="save_bancada"?{type:"bancada",bancadaId:m.bancadaId??null,isNew:m.bancadaId==null}:void 0;V1({userId:y.userId,bankId:p,oiId:b,returnTo:h,modal:x})}await Bx({returnTo:h,pending:!!m})}return Promise.reject(e)});const Zm=async()=>{const{data:e}=await Ge.get("/catalogs");return e},Kc="medileser.selectedBank",zc="medileser:selectedBank";function Na(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function vl(e){return Na(e)==="technician"}function Gm(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function Ui(){try{const e=localStorage.getItem(Kc);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function qx(e){try{localStorage.setItem(Kc,String(e))}finally{window.dispatchEvent(new Event(zc))}}function Ix(){try{localStorage.removeItem(Kc)}finally{window.dispatchEvent(new Event(zc))}}function cE(e){const a=()=>e(),s=l=>{l.key===Kc&&e()};return window.addEventListener(zc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(zc,a),window.removeEventListener("storage",s)}}async function uE(e,a){try{await Ge.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function dE(e){try{await Yi();const{data:a}=await Ge.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),Lx(a.userId??null),!vl(a.role)&&a.bancoId!=null&&Dc(a.bancoId),vl(a.role)?Ix():qx(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(c)}}function Rn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Na(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function $x(e){await Yi();const{data:a}=await Ge.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),Lx(a.userId??null),sE(e),qx(e),a}function Fx(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),Ix();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function fE(){await Yi(),Fx()}function Li({label:e,inputId:a,className:s="",inputRef:l,helpText:c,...d}){const[m,h]=v.useState(!1),y=a||d.name||void 0,{ref:p,...b}=d,x=l??p;return o.jsxs("div",{className:s,children:[e&&o.jsx("label",{className:"form-label",htmlFor:y,children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("input",{...b,id:y,type:m?"text":"password",className:"form-control",ref:x}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(w=>!w),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:o.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),c&&o.jsx("div",{className:"form-text",children:c})]})}function Cl({show:e=!0,label:a="Cargando..."}){return e?o.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[o.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),o.jsx("span",{className:"visually-hidden",children:a})]}):null}const Hx=v.createContext(null);function mE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function hE({children:e}){const[a,s]=v.useState([]),l=v.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:y=3500,...p}=d,b={id:m,kind:h,duration:y,...p};s(x=>[...x,b]),window.setTimeout(()=>{s(x=>x.filter(w=>w.id!==m))},y)},[]),c=d=>s(m=>m.filter(h=>h.id!==d));return o.jsxs(Hx.Provider,{value:{push:l},children:[e,o.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>o.jsx("div",{className:`toast show align-items-center text-bg-${mE(d.kind)} border-0 mb-2`,role:"alert",children:o.jsxs("div",{className:"d-flex",children:[o.jsxs("div",{className:"toast-body",children:[d.title&&o.jsx("strong",{className:"me-2",children:d.title}),d.message]}),o.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function Ar(){const e=v.useContext(Hx);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function pE(){const{register:e,handleSubmit:a}=Hc({defaultValues:{username:"",password:""}}),{toast:s}=Ar(),l=new URLSearchParams(window.location.search),c=l.get("returnTo")??"",d=c.startsWith("/")?c:"/home",m=l.get("pending")==="1",[h,y]=v.useState(!1),p=v.useRef(d),[b,x]=v.useState(!1),[w,q]=v.useState(0),[_,j]=v.useState(!1),{data:A,isLoading:B,error:T,refetch:J}=wr({queryKey:["catalogs"],queryFn:Zm,enabled:b}),k=A?.bancos??[];v.useEffect(()=>{const le=tE();le&&s({kind:"error",message:le})},[s]),v.useEffect(()=>{b&&(w>0||k.length>0&&q(k[0].id))},[w,k,b]);const O=async le=>{try{y(!0);const ye=kx(),xe=await dE(le),de=ye!=null&&xe.userId&&ye!==xe.userId,me=um(xe.userId,xe.bancoId??0);if(me.target?p.current=me.target:m||de?p.current="/home":p.current=d,vl(xe.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(ye){const xe=ye?.message??ye?.response?.data?.detail??(typeof ye=="string"?ye:"Error de autenticacin");s({kind:"error",title:"Login",message:String(xe)})}finally{y(!1)}},H=w>0&&!_&&!B,L=async()=>{if(H)try{j(!0);const le=Ux(),ye=le!=null&&le!==w,xe=await $x(w),de=um(xe.userId,xe.bancoId??w);de.target?p.current=de.target:(m||ye)&&(p.current="/home"),window.location.replace(p.current)}catch(le){const ye=le?.response?.data?.detail??le?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(ye)})}finally{j(!1)}},X=()=>{Fx(),x(!1),q(0)};return o.jsxs("div",{className:"vi-login",children:[o.jsx(Cl,{show:h||_,label:_?"Guardando banco...":"Validando credenciales..."}),o.jsxs("div",{className:"vi-login__split",children:[o.jsx("section",{className:"vi-login__left",children:o.jsx("div",{className:"text-center text-md-start",children:o.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),o.jsx("section",{className:"vi-login__right",children:o.jsx("div",{className:"card shadow-sm vi-login__card",children:o.jsxs("div",{className:"card-body p-4 p-md-5",children:[o.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),o.jsxs("form",{onSubmit:a(O),className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),o.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),o.jsx("div",{className:"col-md-6",children:o.jsx(Li,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),o.jsx("div",{className:"col-12 d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||b,"aria-busy":h?"true":"false",children:h?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),b&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:w||"",onChange:le=>q(Number(le.target.value)),disabled:B||_,children:k.map(le=>o.jsx("option",{value:le.id,children:le.name},le.id))}),T?o.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>J(),children:"Reintentar"})]}):null]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:X,disabled:_,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!H,onClick:L,children:_?"Guardando...":"Continuar"})]})]})})})]})}const Db=(e,a,s)=>{if(e&&"reportValidity"in e){const l=ke(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},hm=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?Db(l.ref,s,e):l&&l.refs&&l.refs.forEach(c=>Db(c,s,e))}},zb=(e,a)=>{a.shouldUseNativeValidation&&hm(e,a);const s={};for(const l in e){const c=ke(a.fields,l),d=Object.assign(e[l]||{},{ref:c&&c.ref});if(gE(a.names||Object.keys(e),l)){const m=Object.assign({},ke(s,l));_t(m,"root",d),_t(s,l,m)}else _t(s,l,d)}return s},gE=(e,a)=>{const s=Mb(a);return e.some(l=>Mb(l).match(`^${s}\\.\\d+`))};function Mb(e){return e.replace(/\]|\[/g,"")}function ve(e,a,s){function l(h,y){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,y);for(const b in m.prototype)b in h||Object.defineProperty(h,b,{value:m.prototype[b].bind(h)});h._zod.constr=m,h._zod.def=y}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function m(h){var y;const p=s?.Parent?new d:this;l(p,h),(y=p._zod).deferred??(y.deferred=[]);for(const b of p._zod.deferred)b();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class gl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Vx extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const Zx={};function _r(e){return Zx}function yE(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,c])=>a.indexOf(+l)===-1).map(([l,c])=>c)}function pm(e,a){return typeof a=="bigint"?a.toString():a}function Qm(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Pm(e){return e==null}function Ym(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function bE(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let c=(l.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(l)){const y=l.match(/\d?e-(\d?)/);y?.[1]&&(c=Number.parseInt(y[1]))}const d=s>c?s:c,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const kb=Symbol("evaluating");function Mt(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==kb)return l===void 0&&(l=kb,l=s()),l},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function Cr(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Or(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function Ub(e){return JSON.stringify(e)}const Gx="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Mc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const vE=Qm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Bi(e){if(Mc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(Mc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function Qx(e){return Bi(e)?{...e}:Array.isArray(e)?[...e]:e}const xE=new Set(["string","number","symbol"]);function Xc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gs(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function Qe(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function SE(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const wE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function NE(e,a){const s=e._zod.def,l=Or(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return Cr(this,"shape",c),c},checks:[]});return Gs(e,l)}function _E(e,a){const s=e._zod.def,l=Or(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return Cr(this,"shape",c),c},checks:[]});return Gs(e,l)}function jE(e,a){if(!Bi(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Or(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Cr(this,"shape",d),d},checks:[]});return Gs(e,c)}function EE(e,a){if(!Bi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Cr(this,"shape",l),l},checks:e._zod.def.checks};return Gs(e,s)}function AE(e,a){const s=Or(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Cr(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Gs(e,s)}function CE(e,a,s){const l=Or(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in c))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=e?new e({type:"optional",innerType:c[m]}):c[m])}else for(const m in c)d[m]=e?new e({type:"optional",innerType:c[m]}):c[m];return Cr(this,"shape",d),d},checks:[]});return Gs(a,l)}function OE(e,a,s){const l=Or(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=new e({type:"nonoptional",innerType:c[m]}))}else for(const m in c)d[m]=new e({type:"nonoptional",innerType:c[m]});return Cr(this,"shape",d),d},checks:[]});return Gs(a,l)}function hl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function Px(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function mc(e){return typeof e=="string"?e:e?.message}function jr(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const c=mc(e.inst?._zod.def?.error?.(e))??mc(a?.error?.(e))??mc(s.customError?.(e))??mc(s.localeError?.(e))??"Invalid input";l.message=c}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function Km(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function qi(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const Yx=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,pm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Xm=ve("$ZodError",Yx),Jc=ve("$ZodError",Yx,{Parent:Error});function RE(e,a=s=>s.message){const s={},l=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):l.push(a(c));return{formErrors:l,fieldErrors:s}}function TE(e,a=s=>s.message){const s={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let m=s,h=0;for(;h<d.path.length;){const y=d.path[h];h===d.path.length-1?(m[y]=m[y]||{_errors:[]},m[y]._errors.push(a(d))):m[y]=m[y]||{_errors:[]},m=m[y],h++}}};return l(e),s}const Wc=e=>(a,s,l,c)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise)throw new gl;if(m.issues.length){const h=new(c?.Err??e)(m.issues.map(y=>jr(y,d,_r())));throw Gx(h,c?.callee),h}return m.value},DE=Wc(Jc),eu=e=>async(a,s,l,c)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(c?.Err??e)(m.issues.map(y=>jr(y,d,_r())));throw Gx(h,c?.callee),h}return m.value},zE=eu(Jc),tu=e=>(a,s,l)=>{const c=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new gl;return d.issues.length?{success:!1,error:new(e??Xm)(d.issues.map(m=>jr(m,c,_r())))}:{success:!0,data:d.value}},ME=tu(Jc),nu=e=>async(a,s,l)=>{const c=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>jr(m,c,_r())))}:{success:!0,data:d.value}},kE=nu(Jc),UE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Wc(e)(a,s,c)},LE=e=>(a,s,l)=>Wc(e)(a,s,l),BE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return eu(e)(a,s,c)},qE=e=>async(a,s,l)=>eu(e)(a,s,l),IE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return tu(e)(a,s,c)},$E=e=>(a,s,l)=>tu(e)(a,s,l),FE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return nu(e)(a,s,c)},HE=e=>async(a,s,l)=>nu(e)(a,s,l),VE=/^[cC][^\s-]{8,}$/,ZE=/^[0-9a-z]+$/,GE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,QE=/^[0-9a-vA-V]{20}$/,PE=/^[A-Za-z0-9]{27}$/,YE=/^[a-zA-Z0-9_-]{21}$/,KE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,XE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Lb=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,JE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,WE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function eA(){return new RegExp(WE,"u")}const tA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,aA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,sA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Kx=/^[A-Za-z0-9_-]*$/,lA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,iA=/^\+(?:[0-9]){6,14}[0-9]$/,Xx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",oA=new RegExp(`^${Xx}$`);function Jx(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function cA(e){return new RegExp(`^${Jx(e)}$`)}function uA(e){const a=Jx({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${Xx}T(?:${l})$`)}const dA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},fA=/^-?\d+$/,mA=/^-?\d+(?:\.\d+)?/,hA=/^[^A-Z]*$/,pA=/^[^a-z]*$/,ta=ve("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),Wx={number:"number",bigint:"bigint",object:"date"},e0=ve("$ZodCheckLessThan",(e,a)=>{ta.init(e,a);const s=Wx[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),t0=ve("$ZodCheckGreaterThan",(e,a)=>{ta.init(e,a);const s=Wx[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),gA=ve("$ZodCheckMultipleOf",(e,a)=>{ta.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):bE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),yA=ve("$ZodCheckNumberFormat",(e,a)=>{ta.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[c,d]=wE[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=fA)}),e._zod.check=m=>{const h=m.value;if(s){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<c&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),bA=ve("$ZodCheckMaxLength",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Pm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const c=l.value;if(c.length<=a.maximum)return;const m=Km(c);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),vA=ve("$ZodCheckMinLength",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Pm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const c=l.value;if(c.length>=a.minimum)return;const m=Km(c);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),xA=ve("$ZodCheckLengthEquals",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Pm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=l=>{const c=l.value,d=c.length;if(d===a.length)return;const m=Km(c),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),au=ve("$ZodCheckStringFormat",(e,a)=>{var s,l;ta.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),SA=ve("$ZodCheckRegex",(e,a)=>{au.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),wA=ve("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=hA),au.init(e,a)}),NA=ve("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=pA),au.init(e,a)}),_A=ve("$ZodCheckIncludes",(e,a)=>{ta.init(e,a);const s=Xc(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),jA=ve("$ZodCheckStartsWith",(e,a)=>{ta.init(e,a);const s=new RegExp(`^${Xc(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),EA=ve("$ZodCheckEndsWith",(e,a)=>{ta.init(e,a);const s=new RegExp(`.*${Xc(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),AA=ve("$ZodCheckOverwrite",(e,a)=>{ta.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class CA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),c=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(c)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const OA={major:4,minor:1,patch:12},cn=ve("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=OA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const c of l)for(const d of c._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(m,h,y)=>{let p=hl(m),b;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(m))continue}else if(p)continue;const w=m.issues.length,q=x._zod.check(m);if(q instanceof Promise&&y?.async===!1)throw new gl;if(b||q instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await q,m.issues.length!==w&&(p||(p=hl(m,w)))});else{if(m.issues.length===w)continue;p||(p=hl(m,w))}}return b?b.then(()=>m):m},d=(m,h,y)=>{if(hl(m))return m.aborted=!0,m;const p=c(h,l,y);if(p instanceof Promise){if(y.async===!1)throw new gl;return p.then(b=>e._zod.parse(b,y))}return e._zod.parse(p,y)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(b=>d(b,m,h)):d(p,m,h)}const y=e._zod.parse(m,h);if(y instanceof Promise){if(h.async===!1)throw new gl;return y.then(p=>c(p,l,h))}return c(y,l,h)}}e["~standard"]={validate:c=>{try{const d=ME(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return kE(e,c).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Jm=ve("$ZodString",(e,a)=>{cn.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??dA(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Ht=ve("$ZodStringFormat",(e,a)=>{au.init(e,a),Jm.init(e,a)}),RA=ve("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=XE),Ht.init(e,a)}),TA=ve("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Lb(l))}else a.pattern??(a.pattern=Lb());Ht.init(e,a)}),DA=ve("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=JE),Ht.init(e,a)}),zA=ve("$ZodURL",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),c=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:lA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),MA=ve("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=eA()),Ht.init(e,a)}),kA=ve("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=YE),Ht.init(e,a)}),UA=ve("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=VE),Ht.init(e,a)}),LA=ve("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=ZE),Ht.init(e,a)}),BA=ve("$ZodULID",(e,a)=>{a.pattern??(a.pattern=GE),Ht.init(e,a)}),qA=ve("$ZodXID",(e,a)=>{a.pattern??(a.pattern=QE),Ht.init(e,a)}),IA=ve("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=PE),Ht.init(e,a)}),$A=ve("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=uA(a)),Ht.init(e,a)}),FA=ve("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=oA),Ht.init(e,a)}),HA=ve("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=cA(a)),Ht.init(e,a)}),VA=ve("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=KE),Ht.init(e,a)}),ZA=ve("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=tA),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),GA=ve("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=nA),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),QA=ve("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=aA),Ht.init(e,a)}),PA=ve("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=sA),Ht.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[c,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function n0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const YA=ve("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=rA),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{n0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function KA(e){if(!Kx.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return n0(s)}const XA=ve("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=Kx),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{KA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),JA=ve("$ZodE164",(e,a)=>{a.pattern??(a.pattern=iA),Ht.init(e,a)});function WA(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const c=JSON.parse(atob(l));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const eC=ve("$ZodJWT",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{WA(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),a0=ve("$ZodNumber",(e,a)=>{cn.init(e,a),e._zod.pattern=e._zod.bag.pattern??mA,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),tC=ve("$ZodNumber",(e,a)=>{yA.init(e,a),a0.init(e,a)}),nC=ve("$ZodUnknown",(e,a)=>{cn.init(e,a),e._zod.parse=s=>s}),aC=ve("$ZodNever",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function Bb(e,a,s){e.issues.length&&a.issues.push(...Px(s,e.issues)),a.value[s]=e.value}const sC=ve("$ZodArray",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let m=0;m<c.length;m++){const h=c[m],y=a.element._zod.run({value:h,issues:[]},l);y instanceof Promise?d.push(y.then(p=>Bb(p,s,m))):Bb(y,s,m)}return d.length?Promise.all(d).then(()=>s):s}});function kc(e,a,s,l){e.issues.length&&a.issues.push(...Px(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function s0(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=SE(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function r0(e,a,s,l,c,d){const m=[],h=c.keySet,y=c.catchall._zod,p=y.def.type;for(const b of Object.keys(a)){if(h.has(b))continue;if(p==="never"){m.push(b);continue}const x=y.run({value:a[b],issues:[]},l);x instanceof Promise?e.push(x.then(w=>kc(w,s,b,a))):kc(x,s,b,a)}return m.length&&s.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const rC=ve("$ZodObject",(e,a)=>{if(cn.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const y={...h};return Object.defineProperty(a,"shape",{value:y}),y}})}const l=Qm(()=>s0(a));Mt(e._zod,"propValues",()=>{const h=a.shape,y={};for(const p in h){const b=h[p]._zod;if(b.values){y[p]??(y[p]=new Set);for(const x of b.values)y[p].add(x)}}return y});const c=Mc,d=a.catchall;let m;e._zod.parse=(h,y)=>{m??(m=l.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const b=[],x=m.shape;for(const w of m.keys){const _=x[w]._zod.run({value:p[w],issues:[]},y);_ instanceof Promise?b.push(_.then(j=>kc(j,h,w,p))):kc(_,h,w,p)}return d?r0(b,p,h,y,l.value,e):b.length?Promise.all(b).then(()=>h):h}}),lC=ve("$ZodObjectJIT",(e,a)=>{rC.init(e,a);const s=e._zod.parse,l=Qm(()=>s0(a)),c=w=>{const q=new CA(["shape","payload","ctx"]),_=l.value,j=J=>{const k=Ub(J);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};q.write("const input = payload.value;");const A=Object.create(null);let B=0;for(const J of _.keys)A[J]=`key_${B++}`;q.write("const newResult = {};");for(const J of _.keys){const k=A[J],O=Ub(J);q.write(`const ${k} = ${j(J)};`),q.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${k}.value;
        }
        
      `)}q.write("payload.value = newResult;"),q.write("return payload;");const T=q.compile();return(J,k)=>T(w,J,k)};let d;const m=Mc,h=!Zx.jitless,p=h&&vE.value,b=a.catchall;let x;e._zod.parse=(w,q)=>{x??(x=l.value);const _=w.value;return m(_)?h&&p&&q?.async===!1&&q.jitless!==!0?(d||(d=c(a.shape)),w=d(w,q),b?r0([],_,w,q,x,e):w):s(w,q):(w.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),w)}});function qb(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!hl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(m=>jr(m,l,_r())))}),a)}const iC=ve("$ZodUnion",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Mt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Mt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Mt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>Ym(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return l(c,d);let m=!1;const h=[];for(const y of a.options){const p=y._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(y=>qb(y,c,e,d)):qb(h,c,e,d)}}),oC=ve("$ZodIntersection",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},l),m=a.right._zod.run({value:c,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([y,p])=>Ib(s,y,p)):Ib(s,d,m)}});function gm(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(Bi(e)&&Bi(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of l){const m=gm(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};c[d]=m.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const c=e[l],d=a[l],m=gm(c,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};s.push(m.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Ib(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),hl(e))return e;const l=gm(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const cC=ve("$ZodEnum",(e,a)=>{cn.init(e,a);const s=yE(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(c=>xE.has(typeof c)).map(c=>typeof c=="string"?Xc(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const m=c.value;return l.has(m)||c.issues.push({code:"invalid_value",values:s,input:m,inst:e}),c}}),uC=ve("$ZodTransform",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Vx(e.constructor.name);const c=a.transform(s.value,s);if(l.async)return(c instanceof Promise?c:Promise.resolve(c)).then(m=>(s.value=m,s));if(c instanceof Promise)throw new gl;return s.value=c,s}});function $b(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const dC=ve("$ZodOptional",(e,a)=>{cn.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Ym(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>$b(d,s.value)):$b(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),fC=ve("$ZodNullable",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Ym(s.source)}|null)$`):void 0}),Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),mC=ve("$ZodDefault",(e,a)=>{cn.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Fb(d,a)):Fb(c,a)}});function Fb(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const hC=ve("$ZodPrefault",(e,a)=>{cn.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),pC=ve("$ZodNonOptional",(e,a)=>{cn.init(e,a),Mt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Hb(d,e)):Hb(c,e)}});function Hb(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const gC=ve("$ZodCatch",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(m=>jr(m,l,_r()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>jr(d,l,_r()))},input:s.value}),s.issues=[]),s)}}),yC=ve("$ZodPipe",(e,a)=>{cn.init(e,a),Mt(e._zod,"values",()=>a.in._zod.values),Mt(e._zod,"optin",()=>a.in._zod.optin),Mt(e._zod,"optout",()=>a.out._zod.optout),Mt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(m=>hc(m,a.in,l)):hc(d,a.in,l)}const c=a.in._zod.run(s,l);return c instanceof Promise?c.then(d=>hc(d,a.out,l)):hc(c,a.out,l)}});function hc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const bC=ve("$ZodReadonly",(e,a)=>{cn.init(e,a),Mt(e._zod,"propValues",()=>a.innerType._zod.propValues),Mt(e._zod,"values",()=>a.innerType._zod.values),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(Vb):Vb(c)}});function Vb(e){return e.value=Object.freeze(e.value),e}const vC=ve("$ZodCustom",(e,a)=>{ta.init(e,a),cn.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,c=a.fn(l);if(c instanceof Promise)return c.then(d=>Zb(d,s,l,e));Zb(c,s,l,e)}});function Zb(e,a,s,l){if(!e){const c={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(c.params=l._zod.def.params),a.issues.push(qi(c))}}class xC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const c={...l,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function SC(){return new xC}const pc=SC();function wC(e,a){return new e({type:"string",...Qe(a)})}function NC(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Qe(a)})}function Gb(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Qe(a)})}function _C(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Qe(a)})}function jC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Qe(a)})}function EC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Qe(a)})}function AC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Qe(a)})}function CC(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Qe(a)})}function OC(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Qe(a)})}function RC(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Qe(a)})}function TC(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Qe(a)})}function DC(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Qe(a)})}function zC(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Qe(a)})}function MC(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Qe(a)})}function kC(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Qe(a)})}function UC(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Qe(a)})}function LC(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Qe(a)})}function BC(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Qe(a)})}function qC(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Qe(a)})}function IC(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Qe(a)})}function $C(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Qe(a)})}function FC(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Qe(a)})}function HC(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Qe(a)})}function VC(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Qe(a)})}function ZC(e,a){return new e({type:"string",format:"date",check:"string_format",...Qe(a)})}function GC(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...Qe(a)})}function QC(e,a){return new e({type:"string",format:"duration",check:"string_format",...Qe(a)})}function PC(e,a){return new e({type:"number",checks:[],...Qe(a)})}function YC(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Qe(a)})}function KC(e){return new e({type:"unknown"})}function XC(e,a){return new e({type:"never",...Qe(a)})}function Qb(e,a){return new e0({check:"less_than",...Qe(a),value:e,inclusive:!1})}function Mf(e,a){return new e0({check:"less_than",...Qe(a),value:e,inclusive:!0})}function Pb(e,a){return new t0({check:"greater_than",...Qe(a),value:e,inclusive:!1})}function kf(e,a){return new t0({check:"greater_than",...Qe(a),value:e,inclusive:!0})}function Yb(e,a){return new gA({check:"multiple_of",...Qe(a),value:e})}function l0(e,a){return new bA({check:"max_length",...Qe(a),maximum:e})}function Uc(e,a){return new vA({check:"min_length",...Qe(a),minimum:e})}function i0(e,a){return new xA({check:"length_equals",...Qe(a),length:e})}function JC(e,a){return new SA({check:"string_format",format:"regex",...Qe(a),pattern:e})}function WC(e){return new wA({check:"string_format",format:"lowercase",...Qe(e)})}function eO(e){return new NA({check:"string_format",format:"uppercase",...Qe(e)})}function tO(e,a){return new _A({check:"string_format",format:"includes",...Qe(a),includes:e})}function nO(e,a){return new jA({check:"string_format",format:"starts_with",...Qe(a),prefix:e})}function aO(e,a){return new EA({check:"string_format",format:"ends_with",...Qe(a),suffix:e})}function Ki(e){return new AA({check:"overwrite",tx:e})}function sO(e){return Ki(a=>a.normalize(e))}function rO(){return Ki(e=>e.trim())}function lO(){return Ki(e=>e.toLowerCase())}function iO(){return Ki(e=>e.toUpperCase())}function oO(e,a,s){return new e({type:"array",element:a,...Qe(s)})}function cO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...Qe(s)})}function uO(e){const a=dO(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push(qi(l,s.value,a._zod.def));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(qi(c))}},e(s.value,s)));return a}function dO(e,a){const s=new ta({check:"custom",...Qe(a)});return s._zod.check=e,s}function Kb(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function fO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(b){return b.errors.forEach(function(x){return e.push(x)})}),a){var y=s[m].types,p=y&&y[l.code];s[m]=Lm(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function mO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if(l.code==="invalid_union"&&l.errors.forEach(function(b){return b.forEach(function(x){return e.push(x)})}),a){var y=s[m].types,p=y&&y[l.code];s[m]=Lm(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function hO(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,c,d){try{return Promise.resolve(Kb(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&hm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:zb(fO(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,c,d){try{return Promise.resolve(Kb(function(){return Promise.resolve((s.mode==="sync"?DE:zE)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&hm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof Xm})(m))return{values:{},errors:zb(mO(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const pO=ve("ZodISODateTime",(e,a)=>{$A.init(e,a),Vt.init(e,a)});function gO(e){return VC(pO,e)}const yO=ve("ZodISODate",(e,a)=>{FA.init(e,a),Vt.init(e,a)});function bO(e){return ZC(yO,e)}const vO=ve("ZodISOTime",(e,a)=>{HA.init(e,a),Vt.init(e,a)});function xO(e){return GC(vO,e)}const SO=ve("ZodISODuration",(e,a)=>{VA.init(e,a),Vt.init(e,a)});function wO(e){return QC(SO,e)}const NO=(e,a)=>{Xm.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>TE(e,s)},flatten:{value:s=>RE(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,pm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,pm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Aa=ve("ZodError",NO,{Parent:Error}),_O=Wc(Aa),jO=eu(Aa),EO=tu(Aa),AO=nu(Aa),CO=UE(Aa),OO=LE(Aa),RO=BE(Aa),TO=qE(Aa),DO=IE(Aa),zO=$E(Aa),MO=FE(Aa),kO=HE(Aa),hn=ve("ZodType",(e,a)=>(cn.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Or(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Gs(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>_O(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>EO(e,s,l),e.parseAsync=async(s,l)=>jO(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>AO(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>CO(e,s,l),e.decode=(s,l)=>OO(e,s,l),e.encodeAsync=async(s,l)=>RO(e,s,l),e.decodeAsync=async(s,l)=>TO(e,s,l),e.safeEncode=(s,l)=>DO(e,s,l),e.safeDecode=(s,l)=>zO(e,s,l),e.safeEncodeAsync=async(s,l)=>MO(e,s,l),e.safeDecodeAsync=async(s,l)=>kO(e,s,l),e.refine=(s,l)=>e.check(_R(s,l)),e.superRefine=s=>e.check(jR(s)),e.overwrite=s=>e.check(Ki(s)),e.optional=()=>ev(e),e.nullable=()=>tv(e),e.nullish=()=>ev(tv(e)),e.nonoptional=s=>yR(e,s),e.array=()=>u0(e),e.or=s=>iR([e,s]),e.and=s=>cR(e,s),e.transform=s=>nv(e,dR(s)),e.default=s=>hR(e,s),e.prefault=s=>gR(e,s),e.catch=s=>vR(e,s),e.pipe=s=>nv(e,s),e.readonly=()=>wR(e),e.describe=s=>{const l=e.clone();return pc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return pc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return pc.get(e);const l=e.clone();return pc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),o0=ve("_ZodString",(e,a)=>{Jm.init(e,a),hn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(JC(...l)),e.includes=(...l)=>e.check(tO(...l)),e.startsWith=(...l)=>e.check(nO(...l)),e.endsWith=(...l)=>e.check(aO(...l)),e.min=(...l)=>e.check(Uc(...l)),e.max=(...l)=>e.check(l0(...l)),e.length=(...l)=>e.check(i0(...l)),e.nonempty=(...l)=>e.check(Uc(1,...l)),e.lowercase=l=>e.check(WC(l)),e.uppercase=l=>e.check(eO(l)),e.trim=()=>e.check(rO()),e.normalize=(...l)=>e.check(sO(...l)),e.toLowerCase=()=>e.check(lO()),e.toUpperCase=()=>e.check(iO())}),UO=ve("ZodString",(e,a)=>{Jm.init(e,a),o0.init(e,a),e.email=s=>e.check(NC(LO,s)),e.url=s=>e.check(CC(BO,s)),e.jwt=s=>e.check(HC(WO,s)),e.emoji=s=>e.check(OC(qO,s)),e.guid=s=>e.check(Gb(Xb,s)),e.uuid=s=>e.check(_C(gc,s)),e.uuidv4=s=>e.check(jC(gc,s)),e.uuidv6=s=>e.check(EC(gc,s)),e.uuidv7=s=>e.check(AC(gc,s)),e.nanoid=s=>e.check(RC(IO,s)),e.guid=s=>e.check(Gb(Xb,s)),e.cuid=s=>e.check(TC($O,s)),e.cuid2=s=>e.check(DC(FO,s)),e.ulid=s=>e.check(zC(HO,s)),e.base64=s=>e.check(IC(KO,s)),e.base64url=s=>e.check($C(XO,s)),e.xid=s=>e.check(MC(VO,s)),e.ksuid=s=>e.check(kC(ZO,s)),e.ipv4=s=>e.check(UC(GO,s)),e.ipv6=s=>e.check(LC(QO,s)),e.cidrv4=s=>e.check(BC(PO,s)),e.cidrv6=s=>e.check(qC(YO,s)),e.e164=s=>e.check(FC(JO,s)),e.datetime=s=>e.check(gO(s)),e.date=s=>e.check(bO(s)),e.time=s=>e.check(xO(s)),e.duration=s=>e.check(wO(s))});function Lc(e){return wC(UO,e)}const Vt=ve("ZodStringFormat",(e,a)=>{Ht.init(e,a),o0.init(e,a)}),LO=ve("ZodEmail",(e,a)=>{DA.init(e,a),Vt.init(e,a)}),Xb=ve("ZodGUID",(e,a)=>{RA.init(e,a),Vt.init(e,a)}),gc=ve("ZodUUID",(e,a)=>{TA.init(e,a),Vt.init(e,a)}),BO=ve("ZodURL",(e,a)=>{zA.init(e,a),Vt.init(e,a)}),qO=ve("ZodEmoji",(e,a)=>{MA.init(e,a),Vt.init(e,a)}),IO=ve("ZodNanoID",(e,a)=>{kA.init(e,a),Vt.init(e,a)}),$O=ve("ZodCUID",(e,a)=>{UA.init(e,a),Vt.init(e,a)}),FO=ve("ZodCUID2",(e,a)=>{LA.init(e,a),Vt.init(e,a)}),HO=ve("ZodULID",(e,a)=>{BA.init(e,a),Vt.init(e,a)}),VO=ve("ZodXID",(e,a)=>{qA.init(e,a),Vt.init(e,a)}),ZO=ve("ZodKSUID",(e,a)=>{IA.init(e,a),Vt.init(e,a)}),GO=ve("ZodIPv4",(e,a)=>{ZA.init(e,a),Vt.init(e,a)}),QO=ve("ZodIPv6",(e,a)=>{GA.init(e,a),Vt.init(e,a)}),PO=ve("ZodCIDRv4",(e,a)=>{QA.init(e,a),Vt.init(e,a)}),YO=ve("ZodCIDRv6",(e,a)=>{PA.init(e,a),Vt.init(e,a)}),KO=ve("ZodBase64",(e,a)=>{YA.init(e,a),Vt.init(e,a)}),XO=ve("ZodBase64URL",(e,a)=>{XA.init(e,a),Vt.init(e,a)}),JO=ve("ZodE164",(e,a)=>{JA.init(e,a),Vt.init(e,a)}),WO=ve("ZodJWT",(e,a)=>{eC.init(e,a),Vt.init(e,a)}),c0=ve("ZodNumber",(e,a)=>{a0.init(e,a),hn.init(e,a),e.gt=(l,c)=>e.check(Pb(l,c)),e.gte=(l,c)=>e.check(kf(l,c)),e.min=(l,c)=>e.check(kf(l,c)),e.lt=(l,c)=>e.check(Qb(l,c)),e.lte=(l,c)=>e.check(Mf(l,c)),e.max=(l,c)=>e.check(Mf(l,c)),e.int=l=>e.check(Jb(l)),e.safe=l=>e.check(Jb(l)),e.positive=l=>e.check(Pb(0,l)),e.nonnegative=l=>e.check(kf(0,l)),e.negative=l=>e.check(Qb(0,l)),e.nonpositive=l=>e.check(Mf(0,l)),e.multipleOf=(l,c)=>e.check(Yb(l,c)),e.step=(l,c)=>e.check(Yb(l,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function Bn(e){return PC(c0,e)}const eR=ve("ZodNumberFormat",(e,a)=>{tC.init(e,a),c0.init(e,a)});function Jb(e){return YC(eR,e)}const tR=ve("ZodUnknown",(e,a)=>{nC.init(e,a),hn.init(e,a)});function Wb(){return KC(tR)}const nR=ve("ZodNever",(e,a)=>{aC.init(e,a),hn.init(e,a)});function aR(e){return XC(nR,e)}const sR=ve("ZodArray",(e,a)=>{sC.init(e,a),hn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(Uc(s,l)),e.nonempty=s=>e.check(Uc(1,s)),e.max=(s,l)=>e.check(l0(s,l)),e.length=(s,l)=>e.check(i0(s,l)),e.unwrap=()=>e.element});function u0(e,a){return oO(sR,e,a)}const rR=ve("ZodObject",(e,a)=>{lC.init(e,a),hn.init(e,a),Mt(e,"shape",()=>a.shape),e.keyof=()=>d0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Wb()}),e.loose=()=>e.clone({...e._zod.def,catchall:Wb()}),e.strict=()=>e.clone({...e._zod.def,catchall:aR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>jE(e,s),e.safeExtend=s=>EE(e,s),e.merge=s=>AE(e,s),e.pick=s=>NE(e,s),e.omit=s=>_E(e,s),e.partial=(...s)=>CE(f0,e,s[0]),e.required=(...s)=>OE(m0,e,s[0])});function su(e,a){const s={type:"object",shape:e??{},...Qe(a)};return new rR(s)}const lR=ve("ZodUnion",(e,a)=>{iC.init(e,a),hn.init(e,a),e.options=a.options});function iR(e,a){return new lR({type:"union",options:e,...Qe(a)})}const oR=ve("ZodIntersection",(e,a)=>{oC.init(e,a),hn.init(e,a)});function cR(e,a){return new oR({type:"intersection",left:e,right:a})}const ym=ve("ZodEnum",(e,a)=>{cC.init(e,a),hn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,c)=>{const d={};for(const m of l)if(s.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new ym({...a,checks:[],...Qe(c),entries:d})},e.exclude=(l,c)=>{const d={...a.entries};for(const m of l)if(s.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new ym({...a,checks:[],...Qe(c),entries:d})}});function d0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new ym({type:"enum",entries:s,...Qe(a)})}const uR=ve("ZodTransform",(e,a)=>{uC.init(e,a),hn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Vx(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(qi(d,s.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=s.value),m.inst??(m.inst=e),s.issues.push(qi(m))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function dR(e){return new uR({type:"transform",transform:e})}const f0=ve("ZodOptional",(e,a)=>{dC.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function ev(e){return new f0({type:"optional",innerType:e})}const fR=ve("ZodNullable",(e,a)=>{fC.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function tv(e){return new fR({type:"nullable",innerType:e})}const mR=ve("ZodDefault",(e,a)=>{mC.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function hR(e,a){return new mR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():Qx(a)}})}const pR=ve("ZodPrefault",(e,a)=>{hC.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function gR(e,a){return new pR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():Qx(a)}})}const m0=ve("ZodNonOptional",(e,a)=>{pC.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function yR(e,a){return new m0({type:"nonoptional",innerType:e,...Qe(a)})}const bR=ve("ZodCatch",(e,a)=>{gC.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function vR(e,a){return new bR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const xR=ve("ZodPipe",(e,a)=>{yC.init(e,a),hn.init(e,a),e.in=a.in,e.out=a.out});function nv(e,a){return new xR({type:"pipe",in:e,out:a})}const SR=ve("ZodReadonly",(e,a)=>{bC.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function wR(e){return new SR({type:"readonly",innerType:e})}const NR=ve("ZodCustom",(e,a)=>{vC.init(e,a),hn.init(e,a)});function _R(e,a={}){return cO(NR,e,a)}function jR(e){return uO(e)}const ER=["correlativo","no correlativo"],AR=su({oi:Lc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:Bn(),alcance:Bn(),pma:Bn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:d0(ER).default("correlativo")}),Uf=su({c1:Bn().optional().nullable(),c2:Bn().optional().nullable(),c3:Bn().optional().nullable(),c4:Bn().optional().nullable(),c5:Bn().optional().nullable(),c6:Bn().optional().nullable(),c7:Lc().optional().nullable(),c7_seconds:Bn().optional().nullable(),caudal:Bn().optional().nullable(),error:Bn().optional().nullable()}),CR=su({medidor:Lc().optional(),estado:Bn().int().min(0).max(5).default(0),q3:Uf.optional(),q2:Uf.optional(),q1:Uf.optional(),conformidad:Lc().optional()});su({estado:Bn().int().min(0).optional(),rows:Bn().int().min(1).default(15),rowsData:u0(CR)});function OR(e){return e===16?25.6:e===10?16:NaN}const RR=/^[A-Za-z0-9]{10}$/,TR=e=>(e??"").trim().toUpperCase(),Yt=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},ul=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],bm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},av=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}bm(a)}},xn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function DR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],c=s[2],d=parseInt(c,10)+a;return`${l}${d.toString().padStart(c.length,"0")}`}function sv(e,a,s){return e?s==="no correlativo"?e.slice(0,4):DR(e,a):""}function Lf(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let l=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,m=s[2]||0;l=c*60+d+m/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),m=(c-d)*100;l=d*60+m}}return l}function Bf(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function qf(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function zR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const c=Math.abs(a),d=Math.abs(s),m=Math.abs(l),h=!(c>2.05||d>2.05||m>5.05),y=c<1.05||d<1.05||m<2.55,p=Math.sign(a),b=Math.sign(s),x=Math.sign(l),w=p>=0&&b>=0&&x>=0||p<=0&&b<=0&&x<=0,q=h&&y;return w?q?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const dl=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const c=p=>{const b=Number(p.toFixed(1));return Object.is(b,-0)?"0.0":b.toFixed(1)};if(!a)return o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=s??l??0,h=l??s??0;let y="vi-e-ok";return e==null||isNaN(e)?y="":h>0&&d>h?y="vi-e-error":m>0&&d>m&&(y="vi-e-warn"),o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:`vi-qe-value fw-bold ${y}`,children:c(e)})})};function MR({show:e,title:a,initial:s,onClose:l,onSubmit:c,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:y,readOnly:p,draftStorageKey:b,draftMeta:x,isOnline:w,showRetry:q}){const _={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},j=p===!0,A=w!==!1,{register:B,control:T,handleSubmit:J,reset:k,setValue:O,getValues:H}=Hc({defaultValues:_}),L=B("rows",{valueAsNumber:!0}),{fields:X,replace:le,append:ye,remove:xe}=oj({control:T,name:"rowsData"}),[de,me]=v.useState(0),Ae=v.useRef(0),je=v.useRef(null),[z,I]=v.useState(0),te=0,Ce=5,Ee=()=>{if(z>=Ce){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}I(P=>Math.min(P+1,Ce))},N=()=>{if(z<=te){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}I(P=>Math.max(P-1,te))},Q=v.useRef(null),[oe,M]=v.useState([]),ce=!!s?.version,be=v.useRef("rows"),Oe=v.useRef(null),Ue=v.useRef(null),ue=v.useRef(null),De=v.useRef(new Map),qe=["c1","c2","c3","c4","c5","c6","c7"];v.useEffect(()=>{s?.rowsData?.length&&X.forEach((P,ee)=>{if(ee===0)return;s.rowsData[ee]?.medidor&&De.current.set(P.id,!0)})},[s,X]);const Ye=v.useCallback(P=>{const ee=P<0?0:P;me(ee),requestAnimationFrame(()=>{const we=document.querySelector(`input.vi-medidor-input[data-row="${ee}"]`);we&&(we.focus(),we.select())})},[]),ct=()=>(H("rowsData")??[]).slice(0,X.length);v.useEffect(()=>{Ae.current=de},[de]);const Te=P=>{const ee=P.target;if(!ee)return;const we=ee.tagName;if(we!=="INPUT"&&we!=="SELECT"&&we!=="TEXTAREA")return;const Be=P.key;if(Be==="Escape"){P.preventDefault(),$n();return}if(Be==="ArrowUp"||Be==="ArrowDown"||Be==="ArrowLeft"||Be==="ArrowRight"||Be==="Enter"){const pn=ee.name;if(!pn||!pn.startsWith("rowsData."))return;const jt=pn.match(/^rowsData\.(\d+)\.(.+)$/);if(!jt)return;const it=parseInt(jt[1],10),yt=jt[2],kt=P.currentTarget,un=X.length-1,Nn=(gn,dn)=>{let qt=gn+dn;for(;qt>=0&&qt<=un;){const Un=`[name="rowsData.${qt}.${yt}"]`,en=kt.querySelector(Un);if(en&&!en.disabled)return{index:qt,el:en};qt+=dn}return null};if(Be==="ArrowUp"||Be==="ArrowDown"){P.preventDefault();const dn=Nn(it,Be==="ArrowUp"?-1:1);dn&&av(yt,dn.el);return}if(Be==="ArrowLeft"||Be==="ArrowRight"){P.preventDefault();const gn=ul.indexOf(yt);if(gn===-1)return;const qt=gn+(Be==="ArrowRight"?1:-1);if(qt<0||qt>=ul.length)return;const Un=ul[qt],en=`[name="rowsData.${it}.${Un}"]`,yn=kt.querySelector(en);yn&&!yn.disabled&&bm(yn);return}if(Be==="Enter"){P.preventDefault();const gn=ul.indexOf(yt);if(gn===-1)return;const dn=Nn(it,1);if(dn){av(yt,dn.el);return}const qt=gn+1;if(qt<ul.length){const Un=ul[qt];for(let en=0;en<=un;en++){const yn=`[name="rowsData.${en}.${Un}"]`,Hn=kt.querySelector(yn);if(Hn&&!Hn.disabled){bm(Hn);return}}}Q.current&&Q.current.focus();return}}if(Be!=="Tab")return;const Je=P.currentTarget,lt=Array.from(Je.querySelectorAll("input, select, textarea")).filter(Rt=>!Rt.hasAttribute("disabled")),Ve=lt.indexOf(ee);if(Ve===-1)return;if(Be==="Tab"&&P.shiftKey){Ve>0&&(P.preventDefault(),lt[Ve-1].focus());return}const zt=Ve+1;if(zt<lt.length){P.preventDefault(),lt[zt].focus();return}Q.current&&(P.preventDefault(),Q.current.focus())},He=(P,ee)=>{le(P),O("rows",P.length),me(we=>P.length===0?0:typeof ee=="number"?Math.max(0,Math.min(ee,P.length-1)):Math.min(we,P.length-1))},pe=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Ie=P=>P==null?"":typeof P=="number"?P:typeof P=="string"?P.replace(",","."):P,Ne=P=>{if(!P)return{};const ee={...P};return["c1","c2","c3","c4","c5","c6"].forEach(we=>{ee[we]=Ie(ee[we])}),ee},Ke=()=>{const P=s?.rowsData?.length??s?.rows??15,ee=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:P}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(we=>({medidor:we.medidor??"",estado:we.estado??0,q3:Ne(we.q3),q2:Ne(we.q2),q1:Ne(we.q1)}));return{rows:ee.length,rowsData:ee,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},C=v.useCallback(()=>{const P=H(),ee=P.rowsData??[];return{estado:P.estado??0,rows:Number(P.rows??ee.length),version:P.version??s?.version??null,rowsData:ee,draftCreatedAt:P.draftCreatedAt??s?.draftCreatedAt??null,draftId:P.draftId??s?.draftId??null}},[H,s?.version,s?.draftCreatedAt,s?.draftId]),V=P=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:P}:null,R=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,Z=P=>P==null||P===""||typeof P=="number"&&Number.isNaN(P),G=P=>P?Number(P.estado??0)!==0||P.medidor&&P.medidor.toString().trim()!==""?!0:Re(P):!1,re=P=>(P.rowsData??[]).some(we=>G(we)),Re=P=>{const ee=[P.q3,P.q2,P.q1];for(const we of ee)if(we){for(const Be of qe)if(!Z(we[Be]))return!0}return!1},Me=P=>P?{...P,c4:null,c5:null}:{c4:null,c5:null},ne=P=>{if(!P)return P;const ee={...P};return Z(ee.c4)&&(ee.c4=null),Z(ee.c5)&&(ee.c5=null),ee},ze=P=>{for(let ee=0;ee<P.length;ee++){const we=P[ee],Be=Number(we.estado??0),Je=Be!==0;if(!G(we))continue;if(!we.medidor||we.medidor.toString().trim()==="")return`La fila ${ee+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Ve=[{name:"Q3 (Nominal)",block:we.q3},{name:"Q2 (Transicin)",block:we.q2},{name:"Q1 (Mnimo)",block:we.q1}],Gt=Ve.some(({block:zt})=>zt&&qe.some(Rt=>!Z(zt[Rt])));if(Be===0&&!Gt)return`La fila ${ee+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!Je)for(const{name:zt,block:Rt}of Ve){if(!Rt||!qe.some(it=>!Z(Rt[it])))continue;if(qe.some(it=>Z(Rt[it])))return`La fila ${ee+1} tiene datos incompletos en el bloque ${zt}. Completa todos los campos o elimina la fila.`}}return null},Fe=P=>P==null||P===""?null:String(P).replace(/\./g,","),mt=P=>{if(!P)return{};const ee={...P};return["c1","c2","c3","c4","c5","c6","c7"].forEach(we=>{ee[we]=Fe(ee[we])}),ee},Sn=P=>{const ee=[];let we=null;const Be=(lt,Ve,Gt)=>{ee[lt]||(ee[lt]={}),ee[lt][Ve]=Gt,we||(we=`Fila ${lt+1}: ${Gt}`)},Je={};return P.forEach(lt=>{const Ve=(lt.medidor??"").trim();Ve&&(Je[Ve]=(Je[Ve]??0)+1)}),P.forEach((lt,Ve)=>{const Gt=lt.q3||{},zt=lt.q2||{},Rt=lt.q1||{},pn=Gt.c4,jt=Gt.c5,it=zt.c4,yt=zt.c5,kt=Rt.c4,un=Rt.c5;pn!=null&&jt!=null&&!Number.isNaN(pn)&&!Number.isNaN(jt)&&jt<pn&&Be(Ve,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),it!=null&&yt!=null&&!Number.isNaN(it)&&!Number.isNaN(yt)&&yt<it&&Be(Ve,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),kt!=null&&un!=null&&!Number.isNaN(kt)&&!Number.isNaN(un)&&un<kt&&Be(Ve,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),jt!=null&&it!=null&&!Number.isNaN(jt)&&!Number.isNaN(it)&&it<jt&&Be(Ve,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),yt!=null&&kt!=null&&!Number.isNaN(yt)&&!Number.isNaN(kt)&&kt<yt&&Be(Ve,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const Nn=(lt.medidor??"").trim();Nn&&Je[Nn]>1&&Be(Ve,"medidor_dup","Serie de medidor repetida."),Nn&&!RR.test(Nn)&&Be(Ve,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:ee,firstMessage:we}},Se=P=>{if(j)return;const ee=(P.rowsData??[]).slice(0,X.length),we=ze(ee);if(we){alert(we);return}const{rowErrors:Be,firstMessage:Je}=Sn(ee);if(M(Be),Je){alert(Je);return}const Ve=ee.filter(G).map(zt=>{const Rt=Number(zt.estado??0),pn=Rt>=1&&Rt<=4,jt=Rt===5&&!Re(zt),it=pn||jt,yt=ne(zt.q3),kt=ne(zt.q2),un=ne(zt.q1),Nn=gn=>{if(it){const dn=Me(gn);return mt(dn)}return mt(gn)};return{...zt,q3:Nn(yt),q2:Nn(kt),q1:Nn(un)}}),Gt={...P,rows:Ve.length,rowsData:Ve,version:P.version??s?.version??null};c(Gt)},Xe=ji({control:T,name:"rowsData.0"}),Zt=ji({control:T,name:"rowsData"}),St=ji({control:T,name:"rowsData.0.q3.c7"}),wn=ji({control:T,name:"rowsData.0.q2.c7"}),kn=ji({control:T,name:"rowsData.0.q1.c7"});v.useEffect(()=>{X[0]&&(O("rowsData.0.q3.c7_seconds",Lf(St)),O("rowsData.0.q2.c7_seconds",Lf(wn)),O("rowsData.0.q1.c7_seconds",Lf(kn)))},[St,wn,kn,O,X]),v.useEffect(()=>{const P=Zt??[],{rowErrors:ee}=Sn(P);M(ee)},[Zt]),v.useEffect(()=>{if(!Xe||X.length<=1)return;const P=Zt??[];X.forEach((ee,we)=>{if(we===0)return;const Be=ee.id;(De.current.get(Be)??!1)||O(`rowsData.${we}.medidor`,sv(Xe.medidor||"",we,m));const lt=P[we]?.estado;(lt==null||Number.isNaN(lt))&&O(`rowsData.${we}.estado`,Xe.estado),O(`rowsData.${we}.q3.c1`,Xe.q3?.c1??null),O(`rowsData.${we}.q3.c2`,Xe.q3?.c2??null),O(`rowsData.${we}.q3.c3`,Xe.q3?.c3??null),O(`rowsData.${we}.q3.c6`,Xe.q3?.c6??null),O(`rowsData.${we}.q3.c7`,Xe.q3?.c7??""),O(`rowsData.${we}.q3.c7_seconds`,Xe.q3?.c7_seconds??null),O(`rowsData.${we}.q2.c1`,Xe.q2?.c1??null),O(`rowsData.${we}.q2.c2`,Xe.q2?.c2??null),O(`rowsData.${we}.q2.c3`,Xe.q2?.c3??null),O(`rowsData.${we}.q2.c6`,Xe.q2?.c6??null),O(`rowsData.${we}.q2.c7`,Xe.q2?.c7??""),O(`rowsData.${we}.q2.c7_seconds`,Xe.q2?.c7_seconds??null),O(`rowsData.${we}.q1.c1`,Xe.q1?.c1??null),O(`rowsData.${we}.q1.c2`,Xe.q1?.c2??null),O(`rowsData.${we}.q1.c3`,Xe.q1?.c3??null),O(`rowsData.${we}.q1.c6`,Xe.q1?.c6??null),O(`rowsData.${we}.q1.c7`,Xe.q1?.c7??""),O(`rowsData.${we}.q1.c7_seconds`,Xe.q1?.c7_seconds??null)})},[Xe,Zt,X,O,m]),v.useEffect(()=>{me(P=>{const ee=Math.max(X.length-1,0);return P>ee?ee:P})},[X.length]);const Pa=()=>{if(X.length>=50){if(O("rows",50),Ye(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){je.current&&(je.current.focus(),je.current.select());return}return}ye(pe()),O("rows",X.length+1),Ye(X.length)},na=P=>{if(X.length<=1)return;const ee=Math.max(0,Math.min(P,X.length-1));xe(ee),O("rows",Math.max(X.length-1,1)),Ye(Math.max(0,ee-(ee===X.length-1?1:0)))},at=()=>{X.length<=1||(xe(X.length-1),O("rows",Math.max(X.length-1,1)),Ye(Math.max(0,X.length-2)))},Ca=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const P=ct();if(!P.length)return;const ee=P.map(()=>pe());He(ee,0),Ye(0)},fa=()=>{let P=Number(H("rows"));if((!Number.isFinite(P)||P<1)&&(P=1),P>50){const Be=ct();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){O("rows",Be.length),je.current&&(je.current.focus(),je.current.select());return}P=50}const ee=ct();if(P!==ee.length&&!confirm(`La lista tendr ${P} filas. Quieres continuar?`)){O("rows",ee.length),je.current&&(je.current.focus(),je.current.select());return}if(P===ee.length){O("rows",P);return}if(P>ee.length){const Be=Math.min(P,50)-ee.length;if(Be>0){const Je=Array.from({length:Be},()=>pe()),lt=[...ee,...Je];He(lt,de),Ye(ee.length)}else O("rows",ee.length);return}const we=ee.slice(0,P);He(we,Math.min(de,P-1))},Oa=P=>{P.key==="Enter"&&(P.preventDefault(),fa(),Ye(0))},$n=()=>{const P=H(),ee=document.activeElement;if(je.current&&ee===je.current)be.current="rows",Oe.current="rows";else if(ee&&ee instanceof HTMLElement){const we=ee.getAttribute("name");we&&we.startsWith("rowsData.")?(be.current="grid",Oe.current=we):(be.current="grid",Oe.current=null)}else be.current="grid",Oe.current=null;if(b){const we=C();if(!re(we))Hs(b),ue.current=null;else{const Be=V(we);if(Be){const Je=JSON.stringify(Be);Ti(b,Be,R()),ue.current=Je}}}d&&d(P),l()};v.useEffect(()=>{if(!e)return;const P=ee=>{if(ee.key==="Escape"){ee.preventDefault(),$n();return}if((ee.key==="+"||ee.key==="=")&&ee.ctrlKey){ee.preventDefault(),Pa();return}(ee.key==="-"||ee.key==="_")&&ee.ctrlKey&&(ee.preventDefault(),at())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,Pa,at,$n]),v.useEffect(()=>{const P=Ke();k(P),He(P.rowsData,0),De.current.clear(),requestAnimationFrame(()=>{if(ce)Ye(0);else if(Oe.current){const ee=document.querySelector(`[name="${Oe.current}"]`);if(ee){ee.focus(),"select"in ee&&ee.select?.();return}Ye(Ae.current||0)}else je.current&&(je.current.focus(),je.current.select())})},[s,k,le,Ye,ce]),v.useEffect(()=>{if(!e||!b)return;const P=C();if(!re(P)){Hs(b),ue.current=null;return}const ee=V(P);if(!ee)return;const we=JSON.stringify(ee);if(we!==ue.current)return Ue.current&&window.clearTimeout(Ue.current),Ue.current=window.setTimeout(()=>{Ti(b,ee,R()),ue.current=we},400),()=>{Ue.current&&window.clearTimeout(Ue.current)}},[e,b,Zt,C]),v.useEffect(()=>{e&&requestAnimationFrame(()=>{if(ce)Ye(0);else if(Oe.current){const P=document.querySelector(`[name="${Oe.current}"]`);if(P){P.focus(),"select"in P&&P.select?.();return}Ye(Ae.current||0)}else je.current&&(je.current.focus(),je.current.select())})},[e,Ye,ce]);const Fn=oe.some(P=>P&&Object.values(P).some(Boolean));return e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:P=>{P.target===P.currentTarget&&$n()},children:[o.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),o.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:o.jsx("div",{className:"modal-content",children:o.jsxs("form",{onSubmit:J(Se),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close",onClick:$n,"aria-label":"Close"})]}),o.jsx("fieldset",{disabled:j,children:o.jsxs("div",{className:"modal-body p-2",children:[!A&&o.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),o.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[o.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[o.jsx("label",{className:"form-label mb-1",children:"Filas"}),o.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...L,ref:P=>{je.current=P,L.ref(P)},onBlur:fa,onKeyDown:Oa})]}),o.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Pa,children:"+ Agregar Fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:at,children:"- Quitar ltima fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ca,children:"Limpiar Todo"})]}),o.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ee,children:"Aumentar tamao"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:N,children:"Reducir tamao"})]}),o.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",de+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),o.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:o.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${z}`,children:[o.jsxs("thead",{className:"table-light sticky-top z-1",children:[o.jsxs("tr",{children:[o.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),o.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),o.jsx("th",{style:{width:"90px"},children:"Estado"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),o.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),o.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),o.jsxs("tr",{style:{fontSize:"0.75rem"},children:[o.jsx("th",{className:"vi-row-index"}),o.jsx("th",{className:"vi-sticky-medidor"}),o.jsx("th",{}),o.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),o.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),o.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),o.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),o.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),o.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),o.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),o.jsx("th",{className:"vi-header-quitar"})]})]}),o.jsx("tbody",{onKeyDown:Te,children:X.map((P,ee)=>{const we=ee===0,Be=Zt?.[ee]||{},Je=oe[ee]||{},lt=Number(Be.estado??0),Ve=lt>=1&&lt<=4,Gt=Be.q3?.c6,zt=Be.q3?.c7_seconds,Rt=Be.q3?.c4,pn=Be.q3?.c5,jt=Bf(Gt,zt),it=qf(Rt,pn,Gt),yt=Be.q2?.c6,kt=Be.q2?.c7_seconds,un=Be.q2?.c4,Nn=Be.q2?.c5,gn=Bf(yt,kt),dn=qf(un,Nn,yt),qt=Be.q1?.c6,Un=Be.q1?.c7_seconds,en=Be.q1?.c4,yn=Be.q1?.c5,Hn=Bf(qt,Un),Tn=qf(en,yn,qt),Tt=zR(Be.estado,it,dn,Tn),Rr=[we?"vi-base-row":"",de===ee?"table-active":""].filter(Boolean).join(" "),Ra=B(`rowsData.${ee}.medidor`),_n=TR(Be.medidor??""),Vn=_n?h?.[_n]?.message:"",Ya=Je.medidor_format||Je.medidor_dup||Vn||"",Tr=!!Ya,Ka=(Tt||"").toUpperCase(),Qs=Ka==="NO CONFORME"?"vi-at-valor--fail":Ka==="CONFORME"?"vi-at-valor--ok":"";return o.jsxs("tr",{className:Rr,onMouseEnter:()=>me(ee),onClick:()=>me(ee),onFocusCapture:()=>me(ee),children:[o.jsx("td",{className:"small vi-row-index",children:ee+1}),o.jsx("td",{className:"vi-sticky-medidor",children:o.jsx("input",{"data-row":ee,"data-row-id":P.id,...Ra,size:1,style:{minWidth:"100%"},disabled:Ve,onInput:Yt,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Tr?"vi-error-cell":""].filter(Boolean).join(" "),title:Ya||"",onChange:tn=>{const Ta=H(`rowsData.${ee}.medidor`);if(Ra.onChange(tn),y?.(Ta),ee===0)return;const Zn=tn.currentTarget.value.trim();if(!Zn){De.current.delete(P.id);return}const nn=sv(Xe?.medidor??"",ee,m);nn&&nn===Zn?De.current.delete(P.id):De.current.set(P.id,!0)}})}),o.jsx("td",{children:o.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...B(`rowsData.${ee}.estado`,{valueAsNumber:!0}),children:[o.jsx("option",{value:0,children:"0"}),o.jsx("option",{value:1,children:"1"}),o.jsx("option",{value:2,children:"2"}),o.jsx("option",{value:3,children:"3"}),o.jsx("option",{value:4,children:"4"}),o.jsx("option",{value:5,children:"5"})]})}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q3.c1`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q3.c2`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q3.c3`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ve,onInput:Yt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q3_li?" vi-error-cell":""),title:Je.q3_li||"",...B(`rowsData.${ee}.q3.c4`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ve,onInput:Yt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q3_lf?" vi-error-cell":""),title:Je.q3_lf||"",...B(`rowsData.${ee}.q3.c5`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q3.c6`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q3.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:jt}),o.jsx(dl,{val:it,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q2.c1`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q2.c2`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q2.c3`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ve,onInput:Yt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q2_li?" vi-error-cell":""),title:Je.q2_li||"",...B(`rowsData.${ee}.q2.c4`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ve,onInput:Yt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q2_lf?" vi-error-cell":""),title:Je.q2_lf||"",...B(`rowsData.${ee}.q2.c5`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q2.c6`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q2.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:gn}),o.jsx(dl,{val:dn,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q1.c1`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q1.c2`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q1.c3`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Ve,onInput:Yt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q1_li?" vi-error-cell":""),title:Je.q1_li||"",...B(`rowsData.${ee}.q1.c4`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ve,onInput:Yt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Je.q1_lf?" vi-error-cell":""),title:Je.q1_lf||"",...B(`rowsData.${ee}.q1.c5`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q1.c6`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Yt,disabled:!we||Ve,...B(`rowsData.${ee}.q1.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:Hn}),o.jsx(dl,{val:Tn,isErr:!0,warnThreshold:5,failThreshold:5}),o.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${Qs}`,children:Tt}),o.jsx("td",{className:"text-center align-middle bg-light",children:o.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:tn=>{tn.stopPropagation(),na(ee)},disabled:X.length<=1,title:"Eliminar esta fila",children:""})})]},P.id)})})]})})]})}),o.jsxs("div",{className:"modal-footer py-1",children:[o.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:$n,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:Q,disabled:Fn||j,children:q&&A?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),o.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function ru({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[m,h]=v.useState(""),y=v.useRef(null),p=m.trim().length>0;if(v.useEffect(()=>{e&&(h(""),setTimeout(()=>y.current?.focus(),0))},[e]),v.useEffect(()=>{if(!e)return;const x=w=>{w.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const b=x=>{x.preventDefault(),p&&d(m.trim())};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:b,children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx(Li,{label:"Contrasea",inputId:"pwd",value:m,onChange:x=>h(x.target.value),inputRef:y,minLength:1,required:!0}),o.jsx("div",{className:"form-text",children:l})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:c,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function kR(e,a){try{const{data:s}=await Ge.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function UR(e,a){try{const{data:s}=await Ge.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function LR(e){try{const{data:a}=await Ge.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function rv(e,a){try{const{data:s}=await Ge.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function BR(e,a){try{const{data:s}=await Ge.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function qR(e,a){try{const{data:s}=await Ge.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function IR(e,a){try{const{data:s}=await Ge.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function lv(e){try{await Ge.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function h0(e,a){let s;try{s=await Ge.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let b=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const w=await x.text();try{const _=JSON.parse(w)?.detail;typeof _=="string"?b=_:Array.isArray(_)&&_.length>0?b=_.map(j=>String(j?.msg??"")).filter(Boolean).join(", "):w&&(b=w)}catch{w&&(b=w)}}catch{}else b=p?.response?.data?.detail??b;throw new Error(b)}const l=s.data,m=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),y=document.createElement("a");y.href=h,y.download=m,document.body.appendChild(y),y.click(),URL.revokeObjectURL(h),y.remove()}async function $R(e){await Ge.delete(`/oi/${e}`)}async function FR(e){try{const{data:a}=await Ge.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function yc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Ge.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function HR(e,a){try{const{data:s}=await Ge.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(l);throw c.status=s?.response?.status,c}}async function If(e){try{const{data:a}=await Ge.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function VR(e){try{const{data:a}=await Ge.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function ZR(e){let a;try{a=await Ge.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const y=m?.response?.data;if(y instanceof Blob)try{const b=await y.text();try{const w=JSON.parse(b)?.detail;typeof w=="string"?h=w:Array.isArray(w)&&w.length>0?h=w.map(q=>String(q?.msg??"")).filter(Boolean).join(", "):b&&(h=b)}catch{b&&(h=b)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function GR(){try{const{data:e}=await Ge.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function $f(e){try{const{data:a}=await Ge.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const Wm="vi.currentOI";function Di(e){sessionStorage.setItem(Wm,JSON.stringify(e))}function iv(){const e=sessionStorage.getItem(Wm);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function vm(){sessionStorage.removeItem(Wm)}const Ff=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Hf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},QR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Ff(e.q3),q2:Ff(e.q2),q1:Ff(e.q1)}),PR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Hf(e.q3),q2:Hf(e.q2),q1:Hf(e.q1)}),p0=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),YR=e=>e.reduce((a,s)=>a+(s.rows??0),0),KR=e=>JSON.parse(JSON.stringify(e)),ov=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),cv=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:p0(e),XR=(e,a)=>e==="view"&&a?"view":"edit",uv=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}T${c(l.getHours())}:${c(l.getMinutes())}`},JR=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},g0=e=>(e??"").trim().toUpperCase(),WR=e=>{const a={};e.forEach(l=>{const c=g0(l.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),l.bancada_item!=null&&!a[c].items.includes(l.bancada_item)&&a[c].items.push(l.bancada_item),l.bancada_id!=null&&!a[c].ids.includes(l.bancada_id)&&a[c].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,y)=>h-y).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},eT="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",tT=(e,a=!0)=>{const l=v.useContext(ja)?.navigator;v.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const c=l.block(d=>{const m={...d,retry(){c(),d.retry()}};e(m)});return c},[l,e,a])},nT=e=>{const a=Ge.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},aT=()=>{const[e,a]=v.useState(typeof navigator<"u"?navigator.onLine:!0);return v.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Vf=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function dv(){const{toast:e}=Ar(),a=Er(),s=In(),{oiId:l}=mN(),[c,d]=Mv(),m=aT(),{data:h}=wr({queryKey:["catalogs"],queryFn:Zm}),{register:y,handleSubmit:p,watch:b,formState:{errors:x},reset:w,getValues:q}=Hc({resolver:hO(AR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),_=Rn(),j=_?.userId??null,A=_?.bancoId??Ui(),B=Na(_?.role,_?.username)!=="technician",T=iv(),J=l?Number(l):null,k=Number.isFinite(J)?J:null,O=k!=null||(T?.id??null)!=null,H=(c.get("mode")||"").toLowerCase(),L=XR(H,O),X=L==="view",le=L==="edit",[ye,xe]=v.useState(!1),[de,me]=v.useState(!1),[Ae,je]=v.useState(null),[z,I]=v.useState(null),[te,Ce]=v.useState(!1),Ee=de||X,[N,Q]=v.useState(!1),[oe,M]=v.useState(null),[ce,be]=v.useState(null),[Oe,Ue]=v.useState(null),[ue,De]=v.useState(!1),[qe,Ye]=v.useState(""),[ct,Te]=v.useState(null),[He,pe]=v.useState("bancada"),[Ie,Ne]=v.useState(!1),[Ke,C]=v.useState(!1),[V,R]=v.useState(null),Z=v.useRef([]),G=v.useRef(null),re=v.useRef(!1),Re=v.useRef(!1),Me=v.useRef(!1),ne=v.useRef(null),ze=v.useRef(!1),Fe=v.useRef(m),mt=v.useRef(!1),Sn=v.useRef(!1),[Se,Xe]=v.useState(null),[Zt,St]=v.useState(null),[wn,kn]=v.useState([]),[Pa,na]=v.useState(!1),[at,Ca]=v.useState(null),[fa,Oa]=v.useState(!1),[$n,Fn]=v.useState(null),[P,ee]=v.useState(0),[we,Be]=v.useState({}),[Je,lt]=v.useState({}),Ve=s.state?.returnTo,Gt=()=>typeof Ve=="string"&&Ve?Ve:"/oi/list",zt=E=>{const F=new URLSearchParams(c);F.set("mode",E),d(F,{replace:!0})},Rt="new",pn=15,jt=E=>E?`bancada-${E.id}`:Rt,it=E=>E==null?!1:typeof E=="string"?E.trim()!=="":typeof E=="number"?Number.isFinite(E):!0,yt=E=>E==="c7_seconds"||E==="caudal"||E==="error",kt=E=>E?Object.entries(E).some(([F,fe])=>yt(F)?!1:it(fe)):!1,un=E=>!E||!Array.isArray(E.rowsData)?!1:E.rowsData.some(F=>{if(!F)return!1;if(Number(F.estado??0)!==0)return!0;const _e=F.medidor;return typeof _e=="string"&&_e.trim()!==""?!0:kt(F.q3)||kt(F.q2)||kt(F.q1)}),Nn=(E=pn)=>Array.from({length:E}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),gn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,dn=E=>({draftId:gn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:pn,rowsData:Nn(),version:null}),qt=E=>{const F=new URLSearchParams(s.search);F.set("mode","edit");const fe=s.pathname==="/oi"||s.pathname==="/oi/"?E?`/oi/${E}`:"/oi":s.pathname,_e=F.toString();return _e?`${fe}?${_e}`:fe},Un=(E,F)=>!E||!j||A==null?null:{version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,oiCode:q("oi")??null,returnTo:qt(E),mode:"edit",modal:F},en=()=>{if(Pa)return at?{type:"bancada",bancadaId:at.id}:{type:"bancada",isNew:!0}},yn=E=>Rf({userId:j,bankId:A,oiId:E,type:"bancada",isNew:!0}),Hn=E=>{const F=yn(E);if(!F)return null;const fe=Tf(F);if(!fe||!j||A==null||!E||fe.userId!==j||fe.bankId!==A||fe.oiId!==E)return null;const _e=fe?.data??null;return un(_e)?_e:(Hs(F),null)},Tn=(E,F)=>{const fe=yn(E);if(!fe)return;if(!F||!un(F)){Hs(fe);return}if(!j||A==null||!E)return;const _e={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,isNew:!0,data:F},et=Un(E,{type:"bancada",isNew:!0});Ti(fe,_e,et)},Tt=E=>Rf({userId:j,bankId:A,oiId:E,type:"header"}),Rr=E=>{if(!E)return null;const F=Tf(E);return!F||!j||A==null||F.userId!==j||F.bankId!==A||Se!=null&&F.oiId!==Se?null:F?.data??null},Ra=(E,F)=>{if(!E||!j||A==null)return;const fe=Se??0,_e={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:fe,data:F},et=Un(Se,en());Ti(E,_e,et)},_n=E=>{E&&Hs(E)},Vn=E=>{const F={};return E.q3!=null&&(F.q3=Number(E.q3)),E.alcance!=null&&(F.alcance=Number(E.alcance)),E.pma!=null&&(F.pma=Number(E.pma)),E.numeration_type&&(F.numeration_type=E.numeration_type),F},Ya=(E,F)=>Rf({userId:j,bankId:A,oiId:E,type:"bancada",bancadaId:F}),Tr=(E,F)=>{const fe=Ya(E,F);if(!fe)return null;const _e=Tf(fe);if(!_e||!j||A==null||!E||!F||_e.userId!==j||_e.bankId!==A||_e.oiId!==E)return null;const et=_e?.data??null;return un(et)?et:(Hs(fe),null)},Ka=(E,F,fe)=>{const _e=Ya(E,F);if(!_e)return;if(!un(fe)){Hs(_e);return}if(!j||A==null||!E||!F)return;const et={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,bancadaId:F,data:fe},Et=Un(E,{type:"bancada",bancadaId:F});Ti(_e,et,Et)},Qs=(E,F)=>{const fe=Ya(E,F);fe&&Hs(fe)},tn=Tt(Se);v.useEffect(()=>{h&&w(E=>({...E,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,w]),v.useEffect(()=>{const E=iv(),F=k??E?.id??null;if(!F){Xe(null),kn([]),Z.current=[],G.current=null,Fn(null),ee(0),St(null),be(null),Ue(null),Q(!1),me(!1),je(null),I(null),Ce(!1),M(null);return}(async()=>{try{const fe=await If(F);Xe(fe.id),Di({id:fe.id,code:fe.code}),kn(fe.bancadas??[]),Z.current=KR(fe.bancadas??[]),G.current=fe.updated_at??null,Fn(fe.medidores_usuario??null),ee(fe.medidores_total_code??0),be(fe.saved_at??null),Ue(fe.created_at??null),St(fe.updated_at??fe.created_at);const _e={oi:fe.code,q3:fe.q3,alcance:fe.alcance,pma:fe.pma,numeration_type:fe.numeration_type??"correlativo"};w(_e),Q(!1),me(fe.read_only_for_current_user??!1),je(fe.locked_by_full_name??null),I(fe.locked_by_user_id??null),Ce((fe.locked_by_user_id??null)===j),M(_e)}catch{vm()}})()},[w,j,k]),v.useEffect(()=>{if(!Se||Je[Rt])return;const E=Hn(Se);E&&(lt(F=>({...F,[Rt]:E})),e({kind:"info",message:"Se restauro un borrador local."}))},[Se,Je,e]),v.useEffect(()=>{if(!Se||!j||!le)return;let E=!1;return(async()=>{const F=fe=>{me(fe?.read_only_for_current_user??!1),je(fe?.locked_by_full_name??null),I(fe?.locked_by_user_id??null),Ce((fe?.locked_by_user_id??null)===j)};try{const fe=await FR(Se);if(E)return;F(fe)}catch(fe){if(E)return;const _e=fe?.status??fe?.response?.status;let et=null;try{const ut=await If(Se);if(E)return;et=ut.locked_by_full_name??null,F({read_only_for_current_user:!0,locked_by_full_name:et,locked_by_user_id:ut.locked_by_user_id??null})}catch{me(!0),Ce(!1)}const Et=et?`La OI est? siendo editada por ${et}. Se abre en modo lectura.`:fe?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:_e===423||_e===409?"warning":"error",title:_e===423||_e===409?"OI bloqueada":"Error",message:Et}),me(!0),Ce(!1),H!=="view"&&zt("view")}})(),()=>{E=!0}},[Se,j,le]),v.useEffect(()=>()=>{Se&&te&&yc(Se).catch(()=>{})},[Se,te]),v.useEffect(()=>{Se&&(!te||Ee||!le||W1(Se))},[te,Se,Ee,le]),v.useEffect(()=>{Re.current=!1,Me.current=!1,C(!1),ze.current=!1,Sn.current=!1},[Se]),v.useEffect(()=>{if(!Fe.current&&m){if(!!!Rn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Fe.current=m;return}(Me.current||Ke)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Fe.current=m},[m,Ke,e]),v.useEffect(()=>{const E=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",E),()=>window.removeEventListener("medileser:auth-expired",E)},[e]),v.useEffect(()=>{const E=aE();if(!E){R(null),mt.current=!1;return}const F=`${s.pathname}${s.search}`,fe=E.route===F,_e=E.oiId==null||E.oiId===Se;if(!fe&&!_e){R(null),mt.current=!1;return}R(E),E.type==="save_bancada"&&C(!0),E.type==="save_oi"&&(Me.current=!0),mt.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),mt.current=!0)},[s.pathname,s.search,Se,e]);const Ta=le&&!Ee&&(N||!Se);v.useEffect(()=>{if(!Ta||ze.current)return;const E=Rr(tn);if(!E)return;const F=q();w({...F,...E,numeration_type:E.numeration_type??F.numeration_type??"correlativo"}),ze.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Ta,tn,q,w,e]),v.useEffect(()=>{if(!Ta)return;const E=b(F=>{ne.current&&window.clearTimeout(ne.current),ne.current=window.setTimeout(()=>{Ra(tn,Vn(F))},400)});return()=>{E.unsubscribe(),ne.current&&window.clearTimeout(ne.current)}},[b,Ta,tn]);const Zn=v.useMemo(()=>Object.keys(Je).length>0,[Je]),nn=le&&!Ee&&(te||N||Zn);v.useEffect(()=>{if(!nn)return;const E=F=>{if(!re.current)return F.preventDefault(),F.returnValue="",""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[nn]),tT(E=>{if(!nn){E.retry();return}if(re.current){E.retry();return}if(E.location.pathname===s.pathname){E.retry();return}window.confirm(eT)&&E.retry()},nn),v.useEffect(()=>{if(!Se||!te||Ee||!le)return;const E=()=>{if(re.current||Re.current)return;Re.current=!0;const fe=Rn()?.token,_e=nT(`/oi/${Se}/close`);fetch(_e,{method:"POST",headers:fe?{Authorization:`Bearer ${fe}`}:void 0,keepalive:!0}).catch(()=>{})},F=()=>{E()};return window.addEventListener("pagehide",F),()=>window.removeEventListener("pagehide",F)},[Se,te,Ee,le]);const Rl=b("pma"),Ji=v.useMemo(()=>OR(Number(Rl)),[Rl]),Tl=b("numeration_type")??"correlativo",Dl=async E=>{try{xe(!0);const F=Rn();if(!F)throw new Error("Sesin no vlida");const fe=F.bancoId;if(fe==null)throw new Error("Debe seleccionar un banco para crear una OI.");const _e={code:E.oi,q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),banco_id:fe,tech_number:F.techNumber,numeration_type:E.numeration_type??"correlativo"},et=await LR(_e);return Xe(et.id),St(et.updated_at??et.created_at),Fn(et.medidores_usuario??0),ee(et.medidores_total_code??0),be(et.saved_at??null),Ue(et.created_at??null),Di({id:et.id,code:et.code}),M(E),Me.current=!1,_n(Tt(null)),_n(Tt(et.id)),Ci(),R(null),e({kind:"success",title:"OI creada",message:`${et.code} (#${et.id})`}),!0}catch(F){return Vf(F)?(Me.current=!0,Ra(tn,Vn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):Nc(F)?(Me.current=!0,Ra(tn,Vn(E)),!1):(e({kind:"error",title:"Error",message:F?.message??"Error creando OI"}),!1)}finally{xe(!1)}},Ps=async E=>{if(!Se)return!1;if(Ee)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(xe(!0),!Se)throw new Error("No hay OI seleccionada para actualizar.");if(!Zt)throw new Error("No se pudo determinar la versin actual de la OI. Recargue la pgina e intntelo de nuevo.");const F=E.oi?.trim(),fe={q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),numeration_type:E.numeration_type??"correlativo",updated_at:Zt};B&&F&&F!==(oe?.oi??"")&&(fe.code=F);const _e=await kR(Se,fe);return M(E),St(_e.updated_at??_e.created_at),be(_e.saved_at??null),Ue(_e.created_at??null),_e.code&&Di({id:_e.id,code:_e.code}),I(_e.locked_by_user_id??null),je(_e.locked_by_full_name??null),me(_e.read_only_for_current_user??!1),Ce((_e.locked_by_user_id??null)===j),Q(!1),Me.current=!1,_n(tn),Ci(),R(null),e({kind:"success",title:"OI actualizada",message:E.oi}),!0}catch(F){if(Vf(F))return Me.current=!0,Ra(tn,Vn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(Nc(F))return Me.current=!0,Ra(tn,Vn(E)),!1;const fe=F?.status??F?.response?.status;return e(fe===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:F?.message??"Error actualizando OI"}),!1}finally{xe(!1)}},zl=!!Se&&N&&!Ee,bn=()=>Be({}),Ml=E=>{const F=g0(E);F&&Be(fe=>{if(!fe[F])return fe;const _e={...fe};return delete _e[F],_e})},Dr=()=>{if(Ee){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!Se)return;bn(),C(!1);const E=Hn(Se),F=E??dn();lt(fe=>({...fe,[Rt]:F})),Tn(Se,F),E&&e({kind:"info",message:"Se restauro un borrador local."}),Ca(null),na(!0)},Ys=E=>{if(Ee&&!X){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}bn(),C(!1);const F=Tr(Se,E.id);if(F){const fe=jt(E);lt(_e=>({..._e,[fe]:F})),e({kind:"info",message:"Se restauro un borrador local."})}Ca(E),na(!0)};v.useEffect(()=>{if(!Se||Sn.current)return;const E=G1();if(E&&!(!j||A==null)&&!(E.userId!==j||E.bankId!==A)&&E.oiId===Se){if(E.modal?.type==="bancada"){if(E.modal.isNew){Sn.current=!0,Df(),Dr();return}if(E.modal.bancadaId){const F=wn.find(fe=>fe.id===E.modal?.bancadaId);if(!F)return;Sn.current=!0,Df(),Ys(F);return}}Sn.current=!0,Df()}},[j,A,wn,Se,Dr,Ys]);const ps=v.useMemo(()=>{const E=jt(at),F=Je[E];if(F){const et=F.version??at?.updated_at??at?.created_at??null;return{...F,version:et}}if(!at)return;const _e=p0(at).map(QR);return{estado:at.estado,rows:_e.length||at.rows,rowsData:_e,version:at.updated_at??at.created_at??null}},[at,Je]),Wi=async E=>{if(Se){if(Ee){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}bn(),C(!1);try{xe(!0);const F=E.draftCreatedAt??Je[Rt]?.draftCreatedAt,fe={estado:Number(E.estado??0),rows:Number(E.rowsData.length),rows_data:E.rowsData.map(PR)};if(at){const _e=E.version??at.updated_at??at.created_at??null;if(!_e)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const et={...fe,updated_at:_e},Et=await BR(at.id,et);kn(ut=>ut.map(jn=>jn.id===Et.id?Et:jn)),St(Et.updated_at??Et.created_at??Zt),Fn(null),Qs(Se,at.id),lt(ut=>{const jn=`bancada-${at.id}`,{[jn]:Ws,...$a}=ut;return $a}),e({kind:"success",message:"Bancada actualizada"})}else{F&&(fe.draft_created_at=F);const _e=await rv(Se,fe);kn(et=>[...et,_e]),St(_e.updated_at??_e.created_at??Zt),Fn(null),lt(et=>{const{new:Et,...ut}=et;return ut}),Tn(Se,null),e({kind:"success",message:"Bancada agregada"})}try{const _e=await $f(Se);Fn(_e.medidores_usuario??null),ee(_e.medidores_total_code??P),be(_e.saved_at??null),Ue(_e.created_at??null)}catch{}I(_?.userId??z),je(_?.fullName??Ae),Ce(j!==null),me(!1),na(!1),Ca(null),Ci(),R(null),C(!1)}catch(F){if(Vf(F)){at?Ka(Se,at.id,E):Tn(Se,E),C(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(Nc(F)){at?Ka(Se,at.id,E):Tn(Se,E),C(!0);return}const fe=F?.status??F?.response?.status;if(fe===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(fe===400){const _e=Array.isArray(F?.duplicates)?F.duplicates:Array.isArray(F?.response?.data?.duplicates)?F.response.data.duplicates:[];_e.length>0&&Be(WR(_e)),e({kind:"warning",title:"Validacion",message:F?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:F?.message??"Error guardando bancada"})}finally{xe(!1)}}},eo=async E=>{if(confirm(`Eliminar bancada #${E.item}?`)){if(Ee){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(xe(!0),!Se)throw new Error("No hay OI cargada.");await lv(E.id),kn(fe=>fe.filter(_e=>_e.id!==E.id)),Fn(null),lt(fe=>{const _e=`bancada-${E.id}`,{[_e]:et,...Et}=fe;return Et}),Qs(Se,E.id);const F=await $f(Se);St(F.updated_at??F.created_at??null),be(F.saved_at??null),Ue(F.created_at??null),I(F.locked_by_user_id??null),je(F.locked_by_full_name??null),me(F.read_only_for_current_user??!1),Ce((F.locked_by_user_id??null)===j),Fn(F.medidores_usuario??null),ee(F.medidores_total_code??P),e({kind:"success",message:`Bancada #${E.item} eliminada`})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error eliminando bancada"})}finally{xe(!1)}}},gs=()=>{if(!Se){e({kind:"warning",message:"Primero guarda el OI."});return}Oa(!0)},ou=async E=>{if(Se)try{xe(!0),await h0(Se,E),e({kind:"success",message:"Excel generado"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error generando Excel"})}finally{xe(!1)}},to=()=>{if(!Se||!B)return;const E=ce??Oe;pe("oi"),Te(null),Ye(uv(E)),De(!0)},no=E=>{if(!B)return;pe("bancada"),Te(E);const F=E.saved_at??E.created_at??ce??Oe;Ye(uv(F)),De(!0)},kl=async()=>{if(!Se||!B)return;const E=JR(qe);if(!E){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(He==="bancada"&&!ct))try{xe(!0),He==="oi"?await HR(Se,{saved_at:E,propagate_to_bancadas:!0}):ct&&await qR(ct.id,{saved_at:E});const F=await If(Se);if(kn(F.bancadas??[]),Fn(F.medidores_usuario??null),ee(F.medidores_total_code??0),be(F.saved_at??null),Ue(F.created_at??null),St(F.updated_at??F.created_at),je(F.locked_by_full_name??null),I(F.locked_by_user_id??null),me(F.read_only_for_current_user??!1),Ce((F.locked_by_user_id??null)===j),!N){const fe={oi:F.code,q3:F.q3,alcance:F.alcance,pma:F.pma,numeration_type:F.numeration_type??"correlativo"};w(fe),M(fe)}De(!1),Te(null),Ye(""),pe("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error actualizando fecha"})}finally{xe(!1)}},cu=E=>{bn(),C(!1);const F=jt(at);let fe={...E};if(!at){const _e=Je[Rt];fe.draftCreatedAt||(fe.draftCreatedAt=_e?.draftCreatedAt??new Date().toISOString()),fe.draftId||(fe.draftId=_e?.draftId??gn())}lt(_e=>({..._e,[F]:fe})),at?Ka(Se,at.id,fe):Tn(Se,fe),na(!1)},uu=()=>{if(Ee){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const E=q();M({...E,numeration_type:E.numeration_type??"correlativo"}),Q(!0)},zr=()=>{!Se||le||zt("edit")},Da=()=>{oe&&w(oe),Q(!1),Me.current=!1,_n(tn),Ci(),R(null)},ys=()=>{Se&&(Tn(Se,null),Object.keys(Je).forEach(E=>{if(!E.startsWith("bancada-"))return;const F=Number(E.replace("bancada-",""));Number.isFinite(F)&&Qs(Se,F)})),_n(Tt(Se)),_n(Tt(null)),H1(),Me.current=!1,C(!1),Ci(),R(null),vm(),Mx(),Xe(null),kn([]),Z.current=[],lt({}),Q(!1),M(null),St(null),be(null),Ue(null),me(!1),je(null),I(null),Ce(!1),Fn(null),ee(0),na(!1),Ca(null),Oa(!1),De(!1),Ne(!1),Ye(""),Te(null),pe("bancada"),w({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Ul=()=>{Re.current=!0,re.current=!0,ys(),a(Gt())},bs=async()=>{if(!Se)return!0;const E=Z.current??[];if(E.length===0&&wn.length===0)return!0;const F=new Map(E.map(_e=>[_e.id,_e])),fe=new Map(wn.map(_e=>[_e.id,_e]));try{for(const Et of wn)F.has(Et.id)||await lv(Et.id);for(const Et of wn){const ut=F.get(Et.id);if(!ut||ov(ut)===ov(Et))continue;const jn=cv(ut),Ws=jn.length||ut.rows||1,$a=Et.updated_at??Et.created_at??ut.updated_at??ut.created_at;if(!$a)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await IR(Et.id,{medidor:ut.medidor??null,estado:ut.estado??0,rows:Ws,rows_data:jn,current_updated_at:$a,restore_updated_at:ut.updated_at??null,restore_saved_at:ut.saved_at??null})}for(const Et of E)if(!fe.has(Et.id)){const ut=cv(Et),jn=ut.length||Et.rows||1;await rv(Se,{estado:Et.estado??0,rows:jn,rows_data:ut})}const _e=await $f(Se),et=_e.updated_at??_e.created_at;await UR(Se,{current_updated_at:et,restore_updated_at:G.current})}catch(_e){return e({kind:"error",title:"Error",message:_e?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},vs=()=>{ye||Ne(!0)},ao=async()=>{if(!ye){Ne(!1),xe(!0);try{if(!await bs())return;Se&&te&&await yc(Se,"cancel")}catch{}finally{xe(!1)}Re.current=!0,re.current=!0,ys(),e({kind:"info",message:"Edicion cancelada"}),a(Gt())}},Ll=async()=>{if(ye)return;Ne(!1);let E=!0;if((N||!Se)&&(E=!1,await p(async fe=>{E=Se?await Ps(fe):await Dl(fe)})()),!!E){xe(!0);try{Se&&te&&await yc(Se)}catch{}finally{xe(!1)}Re.current=!0,re.current=!0,ys(),e({kind:"info",message:"Cambios guardados"}),a(Gt())}},so=async()=>{if(!ye){xe(!0);try{Se&&te&&await yc(Se)}catch{}finally{xe(!1)}Re.current=!0,re.current=!0,ys(),e({kind:"info",message:"OI cerrada"}),a(Gt())}},Ks=v.useMemo(()=>YR(wn),[wn]),za=$n??Ks,Xs=E=>{if(!E)return"-";const fe=/([zZ]|[+-]\d{2}:?\d{2})$/.test(E)?E:`${E}Z`,_e=new Date(fe);return Number.isNaN(_e.getTime())?E:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(_e)},Js=at?Ya(Se,at.id):yn(Se),Ia=j&&A!=null&&Se?{userId:j,bankId:A,oiId:Se,bancadaId:at?.id??null,isNew:!at,returnTo:qt(Se),oiCode:q("oi")??null}:null;return o.jsxs("div",{className:"oi-page vi-oi-light",children:[o.jsx(Cl,{show:ye}),!m&&o.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),V&&o.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsx("h1",{className:"h3",children:"Formulario OI"}),o.jsxs("div",{className:"d-flex gap-2",children:[Se&&B&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:to,disabled:ye,children:"Editar fecha guardado"}),Se&&X&&o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:zr,disabled:ye,children:"Editar"})]})]}),Ee&&o.jsx("div",{className:"alert alert-warning mt-2",children:X?"Modo lectura. Use Editar para modificar.":Ae?`Esta OI est siendo editada por ${Ae}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),o.jsxs("form",{onSubmit:p(zl?Ps:Dl),className:`row g-3 mt-1 ${zl?"vi-form-editing":"vi-form-readonly"}`,children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),o.jsx("input",{id:"oi",className:`form-control ${Se&&!(B&&N&&!Ee)?"vi-locked":""}`,...y("oi"),disabled:Se?!(B&&N&&!Ee):!1}),x.oi&&o.jsx("div",{className:"text-danger small",children:x.oi.message}),B?o.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el cdigo de OI."}):null]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),o.jsx("select",{id:"q3",className:"form-select",...y("q3",{valueAsNumber:!0}),disabled:!!Se&&!N||Ee,children:h?.q3.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),o.jsx("select",{id:"alcance",className:"form-select",...y("alcance",{valueAsNumber:!0}),disabled:!!Se&&!N||Ee,children:h?.alcance.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),o.jsx("select",{id:"pma",className:"form-select",...y("pma",{valueAsNumber:!0}),disabled:!!Se&&!N||Ee,children:h?.pma.map(E=>o.jsx("option",{value:E,children:E},E))}),o.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),o.jsx("input",{id:"presion",className:"form-control",value:isNaN(Ji)?"":Ji,disabled:!0})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),o.jsxs("select",{id:"numeration_type",className:"form-select",...y("numeration_type"),disabled:!!Se&&!N||Ee,children:[o.jsx("option",{value:"correlativo",children:"Correlativo"}),o.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),o.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),o.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",disabled:ye||!!Se&&(!N||Ee),children:Se?zl?"Guardar cambios":"OI guardada":"Guardar OI"}),Se&&!N&&le&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:uu,disabled:ye||Ee,children:"Editar OI"}),Se&&N&&le&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Da,disabled:ye,children:"Cancelar edicion"}),X&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Ul,disabled:ye,children:"Volver al listado"}),o.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:gs,disabled:!Se||ye||N,children:"Generar Excel"}),le&&o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:so,disabled:!Se||N||ye,children:"Cerrar OI"}),le&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:vs,disabled:ye,children:"Cancelar"})]})]}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"card vi-card-table mt-3",children:[o.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),o.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",za," | Total OI: ",P]})]}),o.jsx("button",{className:"btn btn-primary",onClick:Dr,disabled:!Se||ye||N||Ee,children:"Agregar Bancada"})]}),o.jsx("div",{className:"card-body p-0",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"vi-col-60",children:"Item"}),o.jsx("th",{children:"# Medidor"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),o.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),o.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),o.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[wn.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),wn.map(E=>{const F=E.rows_data?.[0]?.medidor||E.medidor||"",fe=E.rows_data?.[(E.rows_data?.length||0)-1]?.medidor||"",_e=F&&fe&&F!==fe?`${F} ... ${fe}`:F;return o.jsxs("tr",{children:[o.jsx("td",{children:E.item}),o.jsx("td",{children:_e}),o.jsx("td",{children:E.rows}),o.jsx("td",{children:Xs(E.created_at)}),o.jsx("td",{children:Xs(E.saved_at)}),o.jsx("td",{children:Xs(E.updated_at??E.created_at)}),o.jsxs("td",{className:"text-end",children:[B?o.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>no(E),disabled:ye||N||de,"aria-label":`Editar fecha guardado bancada #${E.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ys(E),disabled:ye||N||!X&&Ee,"aria-label":`${X?"Ver":"Editar"} bancada #${E.item}`,title:X?"Ver":"Editar",children:X?"Ver":"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>eo(E),disabled:ye||N||Ee,"aria-label":`Eliminar bancada #${E.item}`,title:"Eliminar",children:""})]})]},E.id)})]})]})})})]}),Pa&&o.jsx(MR,{show:Pa,title:at?`Editar bancada #${at.item}`:"Nueva bancada",initial:ps,onClose:()=>{bn(),na(!1)},onSubmit:Wi,onCancelWithDraft:cu,numerationType:Tl,readOnly:Ee,duplicateMap:we,onClearDuplicate:Ml,draftStorageKey:Js,draftMeta:Ia,isOnline:m,showRetry:Ke}),Ie&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:E=>{E.target===E.currentTarget&&Ne(!1)},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Ne(!1)})]}),o.jsx("div",{className:"modal-body",children:o.jsx("p",{children:"Estas seguro de descartar cambios?"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ao,disabled:ye,children:"Descartar cambios"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:Ll,disabled:ye,children:"Guardar cambios y volver al listado"})]})]})})}),ue&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:E=>{E.target===E.currentTarget&&(De(!1),Te(null),pe("bancada"))},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:E=>{E.preventDefault(),kl()},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{De(!1),Te(null),pe("bancada")}})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),o.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:qe,onChange:E=>Ye(E.target.value),required:!0}),o.jsx("div",{className:"form-text",children:He==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{De(!1),Te(null),pe("bancada")},children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:ye||!qe,children:"Guardar"})]})]})})}),o.jsx(ru,{show:fa,title:"Contrasea para proteger Excel",onClose:()=>Oa(!1),onConfirm:E=>{Oa(!1),ou(E)}})]})}function sT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function rT(){const e=Rn(),a=In(),s=e?.token??null,[l,c]=v.useState(()=>!!s);if(v.useEffect(()=>{if(!s){c(!1);return}let w=!1;return c(!0),Ge.get("/auth/me").then(()=>{w||c(!1)}).catch(async q=>{if(w)return;const _=q?.response?.status;if(_===401||_===403){await Bx();return}c(!1)}),()=>{w=!0}},[s]),!s)return o.jsx(Vs,{to:"/login",replace:!0});if(l)return o.jsx(Cl,{show:!0});const d=e,m=Na(d.role,d.username),h=Gm(d),y=vl(m),p=Ui(),b=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(y&&b&&!(p&&p>0)&&a.pathname!=="/home")return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const w=sT(a.pathname),q=d.allowedModules;if(w&&Array.isArray(q)&&!q.includes(w))return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return o.jsx(Av,{})}const lT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),iT=.9;function eh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*iT}rem)`}}function ua({to:e,icon:a,label:s,depth:l,collapsed:c}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs(Dv,{to:e,end:!0,className:lT,style:eh(l,c),title:s,"aria-label":s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function fv({icon:e,label:a,depth:s,collapsed:l}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:eh(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[o.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function pr({groupKey:e,icon:a,label:s,depth:l,collapsed:c,open:d,active:m,onToggle:h,children:y}){const p=`sidebar-group-${e}`,b=d?"ti-angle-down":"ti-angle-right";return o.jsxs("li",{className:"vi-sidebar-item",children:[o.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:eh(l,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:o.jsx("i",{className:`ti ${b}`})})]}),!c&&d&&o.jsx("ul",{id:p,className:"list-unstyled mb-0",children:y})]})}function oT({collapsed:e,onToggleSidebar:a}){const s=In(),l=Rn(),c=!!l,d=Na(l?.role,l?.username),m=Gm(l),h=d==="admin"||d==="administrator",y=l?.allowedModules,p=z=>m||!Array.isArray(y)||y.includes(z),b=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),w=c&&p("tools_historial_ac"),q=c&&p("tools_consol_correlativo"),_=c&&p("tools_consol_no_correlativo"),j=c&&p("oi_formulario"),A=c&&p("oi_listado"),B=c&&h&&p("users_admin"),T=c&&p("future_ot"),J=c&&p("logistica"),k=c&&p("future_smart"),O=q||_,H=b||x||w,L=j||A||T,X=H||L||O,le=v.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[ye,xe]=v.useState(()=>{const z=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!z)return le;try{const I=JSON.parse(z),te={...le};return Object.keys(te).forEach(Ce=>{typeof I[Ce]=="boolean"&&(te[Ce]=I[Ce])}),te}catch{return le}}),de=s.pathname;v.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(ye))},[ye]);const me=v.useMemo(()=>{const z=I=>!!Mi({path:I,end:!0},de);return{vimaToLista:z("/oi/tools/vima-to-lista"),actualizacionBases:z("/oi/tools/actualizacion-base"),formatoAcHistory:z("/oi/tools/formato-ac/history"),consolidacionCorrelativo:z("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:z("/oi/tools/consolidacion/no-correlativo"),registroOi:z("/oi"),listadoOi:z("/oi/list"),users:z("/users"),password:z("/password"),permisos:z("/admin/permisos"),log01Excel:z("/logistica/log01/excel"),log01History:z("/logistica/log01/history")}},[de]),Ae=v.useMemo(()=>({oi_consolidacion:me.consolidacionCorrelativo||me.consolidacionNoCorrelativo,oi_formato_ac:me.vimaToLista||me.actualizacionBases||me.formatoAcHistory,oi_verificacion:me.registroOi||me.listadoOi,oi:me.vimaToLista||me.actualizacionBases||me.formatoAcHistory||me.consolidacionCorrelativo||me.consolidacionNoCorrelativo||me.registroOi||me.listadoOi,usuarios:me.users||me.password,logistica:me.log01Excel||me.log01History,administrar:me.permisos}),[me]);function je(z){xe(I=>({...I,[z]:!I[z]}))}return o.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[o.jsxs("div",{className:"vi-sidebar__header",children:[o.jsxs("div",{className:"vi-sidebar__brand",children:[o.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),o.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&o.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),o.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&o.jsx(ua,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),X&&o.jsxs(pr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:ye.oi,active:Ae.oi,onToggle:je,children:[H&&o.jsxs(pr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:ye.oi_formato_ac,active:Ae.oi_formato_ac,onToggle:je,children:[b&&o.jsx(ua,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&o.jsx(ua,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),w&&o.jsx(ua,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),O&&o.jsxs(pr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:ye.oi_consolidacion,active:Ae.oi_consolidacion,onToggle:je,children:[q&&o.jsx(ua,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),_&&o.jsx(ua,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),L&&o.jsxs(pr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:ye.oi_verificacion,active:Ae.oi_verificacion,onToggle:je,children:[T&&o.jsx(fv,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),j&&o.jsx(ua,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),A&&o.jsx(ua,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),J&&o.jsxs(pr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:ye.logistica,active:Ae.logistica,onToggle:je,children:[o.jsx(ua,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacin Excel",depth:1,collapsed:e}),o.jsx(ua,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e})]}),k&&o.jsx(fv,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),o.jsxs(pr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:ye.usuarios,active:Ae.usuarios,onToggle:je,children:[B&&o.jsx(ua,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&o.jsx(ua,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&o.jsx(pr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:ye.administrar,active:Ae.administrar,onToggle:je,children:o.jsx(ua,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function cT({sidebarCollapsed:e,onToggleSidebar:a}){const s=Rn(),l=s?.username??s?.user??"",c=s?vl(s.role):!1,[d,m]=v.useState(()=>Ui());v.useEffect(()=>cE(()=>m(Ui())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",y=async()=>{try{await fE()}finally{location.assign("/login")}};return o.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&o.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),o.jsx("div",{className:"me-auto"}),o.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&o.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",o.jsx("strong",{children:l||"?"}),c&&o.jsxs(o.Fragment,{children:["  ",h,s.techNumber?o.jsxs(o.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:y,children:"Cerrar sesin"})]})]})}function uT(){const a=In().pathname==="/home",[s,l]=v.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>l(d=>!d);return v.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),o.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[o.jsx(oT,{collapsed:s,onToggleSidebar:c}),o.jsxs("div",{className:"vi-main",children:[o.jsx(cT,{sidebarCollapsed:s,onToggleSidebar:c}),o.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:o.jsx(Av,{})})]})]})}function dT(){const{toast:e}=Ar(),a=Er(),s=In(),[,l]=Mv(),[c,d]=v.useState(()=>new URLSearchParams(s.search).get("q")??""),[m,h]=v.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[y,p]=v.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[b,x]=v.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[w,q]=v.useState(()=>{const ne=new URLSearchParams(s.search).get("pageSize"),ze=ne?Number(ne):20;return Number.isFinite(ze)&&ze>0?ze:20}),[_,j]=v.useState(()=>{const ne=new URLSearchParams(s.search).get("page"),ze=ne?Number(ne):1;return Number.isFinite(ze)&&ze>0?Math.floor(ze):1}),[A,B]=v.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),T=(_-1)*w,J=v.useRef(!1);v.useEffect(()=>{if(!J.current){J.current=!0;return}const ne=setTimeout(()=>{h(c.trim()),j(1)},300);return()=>clearTimeout(ne)},[c]),v.useEffect(()=>{const ne=new URLSearchParams,ze=c.trim();ze&&ne.set("q",ze),y&&ne.set("dateFrom",y),b&&ne.set("dateTo",b),A&&ne.set("responsableTech",A),_!==1&&ne.set("page",String(_)),w!==20&&ne.set("pageSize",String(w));const Fe=s.search.startsWith("?")?s.search.slice(1):s.search;ne.toString()!==Fe&&l(ne,{replace:!0})},[y,b,s.search,_,w,A,c,l]);const{data:k,isLoading:O,isError:H,error:L,refetch:X,isFetching:le}=wr({queryKey:["oi","list",{search:m,dateFrom:y,dateTo:b,responsableTech:A,pageSize:w,offset:T}],queryFn:()=>VR({q:m||void 0,dateFrom:y||void 0,dateTo:b||void 0,responsableTechNumber:A?Number(A):void 0,limit:w,offset:T}),placeholderData:ne=>ne}),ye=Rn(),xe=Na(ye?.role,ye?.username)!=="technician",{data:de=[],isFetching:me,isError:Ae,error:je}=wr({queryKey:["oi","responsables"],queryFn:GR,enabled:xe,staleTime:6e4,retry:!1}),z=Ae?je?.message??"No se pudo cargar responsables":"",I=ne=>{if(!ne)return"-";const ze=ne.endsWith("Z")?ne:`${ne}Z`,Fe=new Date(ze),mt=Sn=>Sn.toString().padStart(2,"0");return`${mt(Fe.getDate())}/${mt(Fe.getMonth()+1)}/${Fe.getFullYear()} ${mt(Fe.getHours())}:${mt(Fe.getMinutes())}`},Ce=k?.items??[],Ee=k?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},N=k?.total??0,Q=k?.limit??w,oe=Q>0?Math.ceil(N/Q):1,M=10;let ce=1,be=oe;if(oe>M){const ne=Math.floor(M/2);ce=Math.max(1,_-ne),be=ce+M-1,be>oe&&(be=oe,ce=Math.max(1,be-M+1))}const[Oe,Ue]=v.useState(!1),[ue,De]=v.useState(null),[qe,Ye]=v.useState(!1),[ct,Te]=v.useState(!1),He=O||le||qe||ct,pe=()=>`${s.pathname}${s.search}`,Ie=(ne,ze)=>{try{Di({id:ne,code:ze}),e({kind:"success",message:`OI ${ze} cargada`}),a(`/oi/${ne}?mode=view`,{state:{returnTo:pe()}})}catch(Fe){e({kind:"error",title:"Error",message:Fe?.message??"No se pudo abrir el OI"})}},Ne=(ne,ze)=>{try{Di({id:ne,code:ze}),e({kind:"success",message:`OI ${ze} cargada`}),a(`/oi/${ne}?mode=edit`,{state:{returnTo:pe()}})}catch(Fe){e({kind:"error",title:"Error",message:Fe?.message??"No se pudo abrir el OI"})}},Ke=async()=>{try{await Yi()}finally{vm(),a("/oi?mode=edit",{state:{returnTo:pe()}})}},C=async(ne,ze)=>{if(confirm(`Ests seguro de ELIMINAR la ${ze}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await $R(ne),e({kind:"success",title:"Eliminado",message:`Se elimin ${ze} correctamente.`}),X()}catch(Fe){e({kind:"error",title:"Error",message:Fe.message||"No se pudo eliminar la OI"})}},V=ne=>{De(ne),Ue(!0)},R=async ne=>{if(ue)try{Ye(!0),await h0(ue,ne),e({kind:"success",message:"Excel generado"})}catch(ze){e({kind:"error",title:"Error",message:ze?.message??"No se pudo generar el Excel"})}finally{Ye(!1)}},Z=async()=>{try{Te(!0);const{blob:ne,filename:ze}=await ZR({q:m||void 0,dateFrom:y||void 0,dateTo:b||void 0,responsableTechNumber:A?Number(A):void 0}),Fe=URL.createObjectURL(ne),mt=document.createElement("a");mt.href=Fe,mt.download=ze,document.body.appendChild(mt),mt.click(),URL.revokeObjectURL(Fe),mt.remove()}catch(ne){const ze=ne?.status,Fe=ne?.message??"No se pudo exportar el CSV";e(ze===403?{kind:"error",title:"No autorizado",message:Fe}:{kind:"error",title:"Error",message:Fe})}finally{Te(!1)}},G=()=>{d(""),h(""),p(""),x(""),j(1),B("")},re=N===0?0:T+1,Re=N===0?0:Math.min(T+Ce.length,N),Me=N===0?"0 registros":`Mostrando ${re}-${Re} de ${N} registros`;return o.jsxs("div",{children:[o.jsx(Cl,{show:He}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",onClick:Ke,disabled:He,title:"Nueva OI",children:"Nueva OI"}),o.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),o.jsxs("div",{className:"d-flex gap-2",children:[xe&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:Z,disabled:He,children:ct?"Exportando...":"Exportar CSV"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:G,disabled:He,children:"Limpiar filtros"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>X(),disabled:He,children:"Recargar"})]})]}),H&&o.jsx("div",{className:"alert alert-danger",children:L?.message??"Error cargando listado"}),o.jsxs("div",{className:"card vi-card-table",children:[o.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Registros"}),o.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",Ee.medidores_resultado," | OI unicas: ",Ee.oi_unicas," | Medidores (Total OI): ",Ee.medidores_total_oi_unicas]})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:ne=>{d(ne.target.value),j(1)},"aria-label":"Buscar por codigo de OI o medidor"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:ne=>{p(ne.target.value),j(1)},"aria-label":"Filtrar desde fecha"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:b,onChange:ne=>{x(ne.target.value),j(1)},"aria-label":"Filtrar hasta fecha"}),xe&&o.jsxs("div",{className:"d-flex flex-column",children:[o.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:ne=>{B(ne.target.value),j(1)},disabled:He||me,"aria-label":"Filtrar por responsable",title:"Responsable",children:[o.jsx("option",{value:"",children:"Responsable: Todos"}),de.map(ne=>o.jsx("option",{value:String(ne.tech_number),children:ne.full_name},ne.tech_number))]}),z?o.jsx("small",{className:"text-danger",children:z}):null]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("span",{className:"me-1 small",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:w,onChange:ne=>{const ze=Number(ne.target.value)||20;q(ze),j(1)},"aria-label":"Registros por pgina",children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"})]})]})]})]}),o.jsxs("div",{className:"card-body p-0",children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ID"}),o.jsx("th",{children:"OI"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{children:"Q3"}),o.jsx("th",{children:"Alcance"}),o.jsx("th",{children:"PMA"}),o.jsx("th",{children:"Banco"}),o.jsx("th",{children:"Tcnico"}),o.jsx("th",{children:"Responsable"}),o.jsx("th",{children:"Creacin"}),o.jsx("th",{children:"Guardado"}),o.jsx("th",{children:"lt. mod."}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[!He&&Ce.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:N>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),Ce.map(ne=>o.jsxs("tr",{children:[o.jsx("td",{children:ne.id}),o.jsx("td",{children:ne.code}),o.jsx("td",{title:"Mi registro / Total OI",children:`${ne.medidores_usuario??0} / ${ne.medidores_total_code??0}`}),o.jsx("td",{children:ne.q3}),o.jsx("td",{children:ne.alcance}),o.jsx("td",{children:ne.pma}),o.jsx("td",{children:ne.banco_id}),o.jsx("td",{children:ne.tech_number}),o.jsx("td",{children:ne.creator_name}),o.jsx("td",{children:I(ne.created_at)}),o.jsx("td",{children:I(ne.saved_at)}),o.jsx("td",{children:I(ne.updated_at)}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ie(ne.id,ne.code),disabled:He,title:"Ver OI","aria-label":`Ver OI ${ne.code}`,children:"Ver"}),o.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>Ne(ne.id,ne.code),disabled:He,title:"Editar OI","aria-label":`Editar OI ${ne.code}`,children:"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>V(ne.id),disabled:He,title:"Descargar Excel","aria-label":`Descargar Excel ${ne.code}`,children:"Excel"}),xe&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>C(ne.id,ne.code),disabled:He,title:"Eliminar OI (Solo Admin)",children:""})]})]},ne.id))]})]})}),oe>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${_===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(ne=>Math.max(1,ne-1)),disabled:_===1,children:""})}),Array.from({length:be-ce+1},(ne,ze)=>{const Fe=ce+ze;return o.jsx("li",{className:`page-item ${Fe===_?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(Fe),children:Fe})},Fe)}),o.jsx("li",{className:`page-item ${_===oe?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(ne=>Math.min(oe,ne+1)),disabled:_===oe,children:"Siguiente"})})]})})]})]}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:Me})}),o.jsx(ru,{show:Oe,title:"Contrasea para proteger Excel",onClose:()=>{Ue(!1),De(null)},onConfirm:ne=>{Ue(!1),R(ne)}})]})}async function fT(e){return(await Ge.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function mT(){const{toast:e}=Ar(),a=Rn(),s=Na(a?.role,a?.username),l=s==="admin"||s==="administrator",c=Gm(a),[d,m]=v.useState(!1),[h,y]=v.useState(null),[p,b]=v.useState(!1),[x,w]=v.useState(""),[q,_]=v.useState(""),[j,A]=v.useState(""),[B,T]=v.useState(20),[J,k]=v.useState(1),O=(J-1)*B,H=v.useRef(!1);v.useEffect(()=>{if(!H.current){H.current=!0;return}const Ne=setTimeout(()=>{_(x.trim()),k(1)},250);return()=>clearTimeout(Ne)},[x]);const{data:L,refetch:X,isLoading:le,isFetching:ye,error:xe}=wr({queryKey:["users",{search:q,roleFilter:j,pageSize:B,offset:O}],queryFn:()=>fT({q:q||void 0,role:j||void 0,limit:B,offset:O}),enabled:l,placeholderData:Ne=>Ne}),{register:de,handleSubmit:me,reset:Ae}=Hc(),je=()=>{y(null),Ae({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),m(!0)},z=Ne=>{y(Ne),Ae({username:Ne.username,password:"",first_name:Ne.first_name,last_name:Ne.last_name,role:Na(Ne.role,Ne.username),tech_number:Ne.tech_number}),m(!0)},I=()=>{m(!1),y(null),Ae()},te=async Ne=>{try{b(!0),await Ge.post("/auth/users",{...Ne,tech_number:Number(Ne.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),I(),X()}catch(Ke){e({kind:"error",title:"Error",message:Ke.response?.data?.detail||"Error al crear"})}finally{b(!1)}},Ce=async Ne=>{if(!h)return;const Ke=String(Ne.password||"").trim();try{if(b(!0),c){const C={username:String(Ne.username||"").trim(),first_name:String(Ne.first_name||"").trim(),last_name:String(Ne.last_name||"").trim(),role:Ne.role,tech_number:Number(Ne.tech_number)};Ke&&(C.password=Ke),await Ge.put(`/auth/users/${h.id}`,C),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!Ke){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Ge.put(`/auth/users/${h.id}/password`,{new_password:Ke}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}I(),X()}catch(C){const V=C?.response?.data?.detail||C?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:V})}finally{b(!1)}},Ee=async Ne=>{if(confirm(`Eliminar usuario? ${Ne.username}?
Esto solo es posible si no tiene registros.`))try{b(!0),await Ge.delete(`/auth/users/${Ne.id}`),e({kind:"success",message:"Usuario eliminado"}),X()}catch(Ke){e({kind:"error",title:"No se puede eliminar",message:Ke.response?.data?.detail||Ke.message})}finally{b(!1)}},N=v.useMemo(()=>L?.items??[],[L]),Q=L?.total??0,oe=L?.limit??B,M=oe>0?Math.ceil(Q/oe):1,ce=10;let be=1,Oe=M;if(M>ce){const Ne=Math.floor(ce/2);be=Math.max(1,J-Ne),Oe=be+ce-1,Oe>M&&(Oe=M,be=Math.max(1,Oe-ce+1))}const Ue=Q===0?0:O+1,ue=Q===0?0:Math.min(O+N.length,Q),De=Q===0?"0 registros":`Mostrando ${Ue}-${ue} de ${Q} registros`,qe=le||ye||p,Ye=()=>{w(""),_(""),A(""),k(1),T(20)},ct=!!h,Te=ct&&!c,He=!ct||!c,pe=(h?.username??"").toLowerCase()==="admin",Ie=ct?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return l?o.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[o.jsx(Cl,{show:qe}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),o.jsx("button",{className:"btn btn-primary",onClick:je,disabled:qe,children:"+ Nuevo Usuario"})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[o.jsxs("div",{style:{minWidth:260},children:[o.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:Ne=>{w(Ne.target.value),k(1)}})]}),o.jsxs("div",{style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Rol"}),o.jsxs("select",{className:"form-select form-select-sm",value:j,onChange:Ne=>{A(Ne.target.value),k(1)},children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"admin"}),o.jsx("option",{value:"administrator",children:"administrator"}),o.jsx("option",{value:"technician",children:"technician"}),o.jsx("option",{value:"standard",children:"standard"}),o.jsx("option",{value:"user",children:"user (legacy)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:B,onChange:Ne=>{const Ke=Number(Ne.target.value)||20;T(Ke),k(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Ye,disabled:qe,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>X(),disabled:qe,children:"Recargar"})]})]}),xe?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,o.jsx("div",{className:"card shadow-sm",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover align-middle mb-0",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Nombre"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{children:"N Tcnico"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[N.map(Ne=>o.jsxs("tr",{children:[o.jsx("td",{className:"fw-bold",children:Ne.username}),o.jsxs("td",{children:[Ne.first_name," ",Ne.last_name]}),o.jsx("td",{children:(()=>{const Ke=Na(Ne.role,Ne.username),C=Ne.username.toLowerCase()==="admin"?"Superusuario":Ke==="administrator"?"Administrador":Ke==="technician"?"Tcnico":"Estndar",V=Ne.username.toLowerCase()==="admin"?"bg-danger":Ke==="administrator"?"bg-warning text-dark":Ke==="technician"?"bg-info text-dark":"bg-secondary";return o.jsx("span",{className:`badge ${V}`,children:C})})()}),o.jsx("td",{children:Ne.tech_number}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${Ne.username}`,disabled:qe||Ne.username==="admin"||!c&&Na(Ne.role,Ne.username)==="administrator",onClick:()=>z(Ne),children:o.jsx("i",{className:"ti ti-edit"})}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${Ne.username}`,disabled:qe||Ne.username==="admin"||!c&&Na(Ne.role,Ne.username)==="administrator",onClick:()=>Ee(Ne),children:o.jsx("i",{className:"ti ti-trash"})})]})]},Ne.id)),N.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),M>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${J===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(Ne=>Math.max(1,Ne-1)),disabled:J===1,children:"Anterior"})}),Array.from({length:Oe-be+1},(Ne,Ke)=>{const C=be+Ke;return o.jsx("li",{className:`page-item ${C===J?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(C),children:C})},C)}),o.jsx("li",{className:`page-item ${J===M?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(Ne=>Math.min(M,Ne+1)),disabled:J===M,children:"Siguiente"})})]})}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:De})}),d&&o.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:me(ct?Ce:te),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:ct?"Actualizar Usuario":"Nuevo Usuario"}),o.jsx("button",{type:"button",className:"btn-close",onClick:I})]}),o.jsxs("div",{className:"modal-body row g-3",children:[o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Usuario"}),o.jsx("input",{className:"form-control",disabled:Te,...de("username",{required:!0})})]}),o.jsx("div",{className:"col-6",children:o.jsx(Li,{label:"Contrasea",...de("password",{required:He}),autoComplete:"new-password",helpText:Ie})}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Nombre"}),o.jsx("input",{className:"form-control",disabled:Te,...de("first_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Apellido"}),o.jsx("input",{className:"form-control",disabled:Te,...de("last_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Rol"}),o.jsxs("select",{className:"form-select",disabled:Te,...de("role"),children:[pe?o.jsx("option",{value:"admin",children:"Superusuario"}):null,o.jsx("option",{value:"technician",children:"Tecnico"}),o.jsx("option",{value:"standard",children:"Estandar"}),c?o.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"N Tecnico"}),o.jsx("input",{type:"number",className:"form-control",disabled:Te,...de("tech_number",{required:!0})}),o.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:I,disabled:qe,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:qe,children:ct?"Actualizar":"Guardar"})]})]})})})]}):o.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function hT(){const{toast:e}=Ar(),[a,s]=v.useState(""),[l,c]=v.useState(""),[d,m]=v.useState(!1),h=a.trim().length>0&&l.trim().length>0,y=async p=>{if(p.preventDefault(),!!h)try{m(!0),await uE(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(b){e({kind:"error",title:"Error",message:b?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return o.jsx("div",{className:"container py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"card shadow-sm",children:[o.jsx("div",{className:"card-header",children:o.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),o.jsxs("form",{onSubmit:y,children:[o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"mb-3",children:o.jsx(Li,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),o.jsx("div",{className:"mb-3",children:o.jsx(Li,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),o.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function pT(e){return(await Ge.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function gT(e,a){const{data:s}=await Ge.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const xm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],yT=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function mv(e){const a=new Set(xm.map(c=>c.id)),s=new Set,l=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),l.push(d))}return l}const hv="admin_permisos:collapsed_groups";function bT(){const e=zm(),{toast:a}=Ar(),[s,l]=v.useState(""),[c,d]=v.useState(""),[m,h]=v.useState(""),[y,p]=v.useState(20),[b,x]=v.useState(1),w=(b-1)*y,q=v.useRef(!1);v.useEffect(()=>{if(!q.current){q.current=!0;return}const M=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(M)},[s]);const{data:_,isLoading:j,error:A,refetch:B}=wr({queryKey:["admin","permisos",{search:c,roleFilter:m,pageSize:y,offset:w}],queryFn:()=>pT({q:c||void 0,role:m||void 0,limit:y,offset:w}),placeholderData:M=>M}),[T,J]=v.useState(null),[k,O]=v.useState([]),H=(T?.username??"").toLowerCase()==="admin",[L,X]=v.useState(()=>{try{const M=localStorage.getItem(hv);if(!M)return{};const ce=JSON.parse(M);return ce&&typeof ce=="object"?ce:{}}catch{return{}}}),le=(M,ce)=>{X(be=>{const Oe={...be,[M]:ce};try{localStorage.setItem(hv,JSON.stringify(Oe))}catch{}return Oe})},ye=M=>{J(M),O(mv(M.allowedModules??[]))},xe=()=>{J(null),O([])},de=F_({mutationFn:async M=>gT(M.userId,M.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),xe()},onError:M=>{const ce=M?.response?.data?.detail??M?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(ce)})}}),me=v.useMemo(()=>_?.items??[],[_]),Ae=_?.total??0,je=_?.limit??y,z=je>0?Math.ceil(Ae/je):1,I=Ae===0?0:w+1,te=Ae===0?0:Math.min(w+me.length,Ae),Ce=Ae===0?"0 registros":`Mostrando ${I}-${te} de ${Ae} registros`,Ee=M=>{O(ce=>{const be=new Set(ce);return be.has(M)?be.delete(M):be.add(M),Array.from(be)})},N=M=>{O(ce=>{const be=new Set(ce),Oe=M.moduleIds.filter(ue=>xm.some(De=>De.id===ue));if(Oe.length>0&&Oe.every(ue=>be.has(ue)))for(const ue of Oe)be.delete(ue);else for(const ue of Oe)be.add(ue);return Array.from(be)})},Q=()=>{T&&de.mutate({userId:T.id,allowedModules:mv(k)})},oe=()=>{l(""),d(""),h(""),x(1),p(20)};return o.jsxs("div",{className:"container-fluid",children:[o.jsx(Cl,{show:de.isPending,label:"Guardando permisos..."}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),o.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),o.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[o.jsxs("div",{style:{minWidth:260},children:[o.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:M=>{l(M.target.value),x(1)}})]}),o.jsxs("div",{style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Rol"}),o.jsxs("select",{className:"form-select form-select-sm",value:m,onChange:M=>{h(M.target.value),x(1)},children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"admin"}),o.jsx("option",{value:"administrator",children:"administrator"}),o.jsx("option",{value:"technician",children:"technician"}),o.jsx("option",{value:"standard",children:"standard"}),o.jsx("option",{value:"user",children:"user (legacy)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:y,onChange:M=>{const ce=Number(M.target.value)||20;p(ce),x(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:oe,disabled:j||de.isPending,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>B(),disabled:j||de.isPending,children:"Recargar"})]})]}),j?o.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):A?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[me.map(M=>o.jsxs("tr",{children:[o.jsx("td",{children:M.username}),o.jsx("td",{children:M.role}),o.jsx("td",{className:"text-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>ye(M),disabled:(M.username??"").toLowerCase()==="admin",children:"Editar"})})]},M.id)),me.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),o.jsx("div",{className:"d-flex justify-content-end mt-2",children:o.jsx("small",{className:"text-muted",children:Ce})}),z>1&&o.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${b===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(M=>Math.max(1,M-1)),disabled:b===1,children:""})}),o.jsx("li",{className:"page-item disabled",children:o.jsxs("span",{className:"page-link",children:["Pgina ",b," / ",z]})}),o.jsx("li",{className:`page-item ${b===z?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(M=>Math.min(z,M+1)),disabled:b===z,children:"Siguiente"})})]})})]})})}),T&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:M=>{M.target===M.currentTarget&&xe()},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",T.username]}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:xe})]}),o.jsxs("div",{className:"modal-body",children:[H?o.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",o.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,yT.map(M=>{const ce=M.moduleIds.map(De=>xm.find(qe=>qe.id===De)).filter(Boolean),be=ce.filter(De=>k.includes(De.id)).length,Oe=ce.length>0&&be===ce.length,Ue=be>0&&!Oe,ue=!!L[M.id];return o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsxs("div",{className:"form-check mb-0",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${T.id}-${M.id}`,checked:Oe,ref:De=>{De&&(De.indeterminate=Ue)},onChange:()=>N(M),disabled:de.isPending||H}),o.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${T.id}-${M.id}`,children:[M.label,o.jsxs("span",{className:"text-muted ms-2 small",children:["(",be,"/",ce.length,")"]})]})]}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>le(M.id,!ue),disabled:de.isPending,children:ue?"Expandir":"Contraer"})]}),!ue&&o.jsx("div",{className:"row mt-2",children:ce.map(De=>o.jsx("div",{className:"col-md-6 mb-2",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${T.id}-${De.id}`,checked:k.includes(De.id),onChange:()=>Ee(De.id),disabled:de.isPending||H}),o.jsxs("label",{className:"form-check-label",htmlFor:`perm-${T.id}-${De.id}`,children:[De.label," ",o.jsxs("span",{className:"text-muted",children:["(",De.path,")"]})]})]})},De.id))})]},M.id)}),o.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:xe,disabled:de.isPending,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:Q,disabled:de.isPending||H,children:"Guardar"})]})]})})})]})}function vT(e){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function xT(e,a){return Ge.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function ST(e,a){return Ge.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function pv(e,a,s){const l=vT(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let y="";for(;;){const{value:p,done:b}=await m.read();if(b)break;y+=h.decode(p,{stream:!0});let x;for(;(x=y.indexOf(`
`))>=0;){const w=y.slice(0,x).trim();if(y=y.slice(x+1),!!w)try{a(JSON.parse(w))}catch{}}}}function y0(e){return`${e.name}::${e.size}::${e.lastModified}`}function wT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function Bc(e){return wT(e.name)}function NT(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function th(e,a){const s=NT(a);if(!s)return e;const l=s.filter(c=>c.startsWith("."));return l.length===0?e:e.filter(c=>l.some(d=>c.name.toLowerCase().endsWith(d)))}function _T(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],c=[],d=new Set(e.map(Bc));for(const m of a){const h=Bc(m);if(d.has(h)){c.push(m);continue}d.add(h),s.push(m),l.push(m)}return{merged:s,added:l,duplicates:c}}function Ii({label:e,accept:a,disabled:s=!1,file:l,onChange:c}){const d=v.useRef(null),m=v.useRef(0),[h,y]=v.useState(!1),p=()=>{s||d.current?.click()},b=()=>{s||(d.current&&(d.current.value=""),c(null))},x=A=>{c(A.target.files?.[0]??null),A.currentTarget.value=""},w=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current+=1,y(!0))},q=A=>{A.preventDefault(),A.stopPropagation()},_=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current=Math.max(0,m.current-1),m.current===0&&y(!1))},j=A=>{if(A.preventDefault(),A.stopPropagation(),m.current=0,y(!1),s)return;const B=A.dataTransfer?.files?Array.from(A.dataTransfer.files):[],J=th(B,a)[0]??null;J&&(d.current&&(d.current.value=""),c(J))};return o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),o.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:w,onDragOver:q,onDragLeave:_,onDrop:j,"aria-disabled":s?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:b,disabled:s||!l,children:"Eliminar"}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const jT={status:"estado",progress:"progreso",complete:"completado",error:"error"},ET={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},AT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function b0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function xl(e){if(!e)return"";const a=e.toLowerCase();return b0(jT[a]??e)}function Xi(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return b0(ET[a]??Ol(s))}function Ol(e){if(!e)return"";let a=e;for(const[s,l]of AT)a=a.replace(s,l);return a}function CT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function OT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function RT(){const[e,a]=v.useState(null),[s,l]=v.useState(null),[c,d]=v.useState(""),[m,h]=v.useState(11),[y,p]=v.useState(11),[b,x]=v.useState(!0),[w,q]=v.useState(!0),[_,j]=v.useState(!0),[A,B]=v.useState(!0),[T,J]=v.useState(!1),[k,O]=v.useState(""),[H,L]=v.useState(null),[X,le]=v.useState(null),[ye,xe]=v.useState(null),[de,me]=v.useState([]),[Ae,je]=v.useState(""),z=v.useRef(null),I=v.useRef(null),[te,Ce]=v.useState(!1),[Ee,N]=v.useState(!1),[Q,oe]=v.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),M=v.useMemo(()=>!!e&&!!s&&!H,[e,s,H]);function ce(Te){me(pe=>[Te,...pe].slice(0,200));const He=typeof Te.percent=="number"?Te.percent:typeof Te.progress=="number"?Te.progress:null;He!=null&&Number.isFinite(He)&&xe(Math.max(0,Math.min(100,He)))}function be(){z.current?.abort(),z.current=null}function Oe(){H&&be()}function Ue(Te,He){if(!e||!s)throw new Error("Faltan archivos");const pe=new FormData;pe.append("vima_file",e),pe.append("lista_file",s);const Ie=(He??c).trim();return Ie&&pe.append("vima_password",Ie),pe.append("vima_start_row",String(m)),pe.append("lista_start_row",String(y)),pe.append("require_all_g_to_n",b?"true":"false"),pe.append("incremental",w?"true":"false"),pe.append("strict_incremental",_?"true":"false"),pe.append("replicate_merges",A?"true":"false"),pe.append("update_existing_periodo",T?"true":"false"),k.trim()&&pe.append("oi_pattern",k.trim()),pe.append("operation_id",Te),pe}function ue(){I.current=null,N(!1)}function De(Te,He){I.current=Te,oe(He),N(!0)}function qe(Te,He){if(!ot.isAxiosError(Te)){je(String(Te));return}const pe=Te;if(pe.code==="ERR_CANCELED")return;const Ie=pe.response?.headers?.["x-code"],Ne=pe.response?.data?.detail??pe.message;if(Ie==="PASSWORD_REQUIRED"){je(""),De(He,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Ie==="WRONG_PASSWORD"){je(""),De(He,"Contrasea incorrecta. Intenta nuevamente.");return}je(String(Ne))}async function Ye(Te){je(""),le(null),me([]),xe(0);const He=crypto.randomUUID();z.current=new AbortController,pv(He,ce,z.current.signal).catch(()=>{}),L("dry");try{const pe=Ue(He,Te?.passwordOverride),Ie=await xT(pe,z.current.signal);le(Ie.data)}catch(pe){qe(pe,"dry")}finally{be(),L(null)}}async function ct(Te){je(""),me([]),xe(0);const He=crypto.randomUUID();z.current=new AbortController,pv(He,ce,z.current.signal).catch(()=>{}),L("upload");try{const pe=Ue(He,Te?.passwordOverride),Ie=await ST(pe,z.current.signal),Ne=Ie.headers?.["content-disposition"],Ke=CT(Ne)??"LISTA_SALIDA.xlsx";OT(Ie.data,Ke)}catch(pe){qe(pe,"upload")}finally{be(),L(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row gap-20",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),o.jsx("div",{className:"mB-15",children:o.jsx(Ii,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!H})}),o.jsx("div",{className:"mB-15",children:o.jsx(Ii,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!H})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:Te=>d(Te.target.value),placeholder:"(opcional)"})]}),te?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),o.jsx("input",{className:"form-control",type:"number",value:m,onChange:Te=>h(Number(Te.target.value))})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),o.jsx("input",{className:"form-control",type:"number",value:y,onChange:Te=>p(Number(Te.target.value))})]})]}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),o.jsx("input",{className:"form-control",value:k,onChange:Te=>O(Te.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),o.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),o.jsxs("div",{className:"row mT-10",children:[o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:b,onChange:Te=>x(Te.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:A,onChange:Te=>B(Te.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:w,onChange:Te=>q(Te.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:_,onChange:Te=>j(Te.target.checked),disabled:!w}),o.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:T,onChange:Te=>J(Te.target.checked),disabled:!w}),o.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,Ae&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Ae}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Ce(Te=>!Te),disabled:!!H,children:te?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary",disabled:!M,onClick:()=>void ct(),children:H==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!H,onClick:Oe,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!M,onClick:()=>void Ye(),children:H==="dry"?"Analizando...":"Analizar"})]}),X&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h5",{className:"c-grey-900",children:"Resumen"}),o.jsxs("ul",{className:"mB-0",children:[o.jsxs("li",{children:["Filas a copiar: ",o.jsx("b",{children:X.would_copy})]}),o.jsxs("li",{children:["Fila inicio escritura (LISTA): ",o.jsx("b",{children:X.start_write_row})]}),o.jsxs("li",{children:["ltimo OI en LISTA: ",o.jsx("b",{children:String(X.last_oi_in_lista??"-")})]}),o.jsxs("li",{children:["Primer OI a copiar: ",o.jsx("b",{children:String(X.first_oi_to_copy??"-")})]}),o.jsxs("li",{children:["ltimo OI a copiar: ",o.jsx("b",{children:String(X.last_oi_to_copy??"-")})]})]})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),H?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${ye??0}%`},"aria-valuenow":ye??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:de.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:de.map((Te,He)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:xl(Te.type)})," ",Te.stage?o.jsxs("span",{className:"text-muted",children:["[",Xi(Te.stage),"]"]}):null,typeof Te.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",Te.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Ol(Te.message??Te.detail??"")}),Te.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",Te.code]}):null]},He))})})]})})]}),o.jsx(ru,{show:Ee,title:"Archivo protegido",confirmLabel:"Continuar",helpText:Q,onClose:ue,onConfirm:Te=>{d(Te),N(!1);const He=I.current;I.current=null,He&&(He==="dry"?Ye({passwordOverride:Te}):ct({passwordOverride:Te}))}})]})}const TT=(...e)=>{};function lu(e){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function v0(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let c="";for(;;){const{value:d,done:m}=await s.read();if(m)break;c+=l.decode(d,{stream:!0});let h;for(;(h=c.indexOf(`
`))>=0;){const y=c.slice(0,h).trim();if(c=c.slice(h+1),!!y)try{a(JSON.parse(y))}catch{}}}}function yl(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function nh(e,a,s){const l=lu(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw yl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await v0(d,a)}async function DT(e,a,s){const l=lu(`/logistica/log01/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const x=d.headers.get("X-Code")??void 0;throw yl(`No se pudo abrir el stream (${d.status})`,d.status,x)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw yl("Stream no es NDJSON",d.status);if(!d.body)throw yl("Stream sin body",d.status);const h=d.body.getReader(),y=new TextDecoder("utf-8");let p="",b=!1;for(;;){const{value:x,done:w}=await h.read();if(w)break;!b&&x&&x.length&&(b=!0),p+=y.decode(x,{stream:!0});let q;for(;(q=p.indexOf(`
`))>=0;){const _=p.slice(0,q).trim();if(p=p.slice(q+1),!!_)try{const j=JSON.parse(_);TT("[LOG01] progress event =",j),a(j)}catch{}}}}async function zT(e,a,s){const l=lu("/bases/actualizar/dry-run-upload"),c=Rn()?.token,d=await fetch(l,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const y=await d.json();y?.detail&&(h=String(y.detail))}catch{}throw yl(h,d.status,m)}await v0(d,a)}async function MT(e,a){return Ge.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function kT(e,a){return Ge.post("/logistica/log01/start",e,{signal:a})}async function UT(e,a,s){const l=lu(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw yl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function LT(e,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function BT(e){await Ge.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function qT(e={}){const{limit:a=20,offset:s=0,include_deleted:l=!1,q:c,dateFrom:d,dateTo:m,source:h,status:y}=e,p={limit:a,offset:s,include_deleted:l};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),m&&m.trim()&&(p.dateTo=m.trim()),h&&h.trim()&&(p.source=h.trim()),y&&y.trim()&&(p.status=y.trim());const{data:b}=await Ge.get("/logistica/log01/history",{params:p});return b}async function IT(e,a,s){return Ge.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:l=>l===200})}async function $T(e,a){await Ge.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function FT(e={}){const{limit:a=20,offset:s=0,q:l,dateFrom:c,dateTo:d,origin:m}=e,h={limit:a,offset:s};l&&l.trim()&&(h.q=l.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),m&&m.trim()&&(h.origin=m.trim());const{data:y}=await Ge.get("/oi/tools/formato-ac/history",{params:h});return y}async function HT(e,a){return Ge.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function x0(){const{data:e}=await Ge.get("/merge/config/upload-limits");return e}async function S0(e,a,s){return Ge.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function w0(e){await Ge.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function VT(e){const{data:a}=await Ge.post("/tools/files/upload",e);return a}async function ZT(e){const{data:a}=await Ge.post("/tools/excel/inspect",e);return a}async function GT(e){const{data:a}=await Ge.post("/tools/excel/update",e);return a}async function QT(e){const{data:a}=await Ge.post("/tools/excel/change-password",e);return a}async function PT(e){const{data:a}=await Ge.post("/tools/excel/validate",e);return a}function YT({show:e,disabled:a=!1,title:s,accept:l,files:c,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:y}){const p=v.useRef(null),b=v.useRef(0),[x,w]=v.useState(!1),[q,_]=v.useState("");v.useEffect(()=>{if(!e)return;const L=X=>{X.key==="Escape"&&d()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e,d]),v.useEffect(()=>{e||w(!1)},[e]),v.useEffect(()=>{e&&_("")},[e]);const j=v.useCallback(L=>{const X=th(L,l);if(X.length===0)return;const le=new Set(c.map(Bc)),ye=new Set(le),xe=[],de=[];for(const me of X){const Ae=Bc(me);if(ye.has(Ae)){de.push(me);continue}ye.add(Ae),xe.push(me)}if(de.length>0){const me=Array.from(new Set(de.map(je=>je.name))),Ae=de.length;if(me.length===1){const je=Ae===1?"Se omiti 1 archivo duplicado":`Se omitieron ${Ae} archivos duplicados`;_(`${je}: "${me[0]}".`)}else _(`Se omitieron ${Ae} archivos duplicados: ${me.join(", ")}.`)}xe.length>0&&m(xe)},[l,c,m]);if(v.useEffect(()=>{if(!e)return;const L=le=>{le.preventDefault(),le.stopPropagation()},X=le=>{if(le.preventDefault(),le.stopPropagation(),a)return;const ye=le.dataTransfer?.files?Array.from(le.dataTransfer.files):[];j(ye)};return window.addEventListener("dragover",L,!0),window.addEventListener("drop",X,!0),()=>{window.removeEventListener("dragover",L,!0),window.removeEventListener("drop",X,!0)}},[e,a,j]),!e)return null;const A=()=>{a||p.current?.click()},B=L=>{const X=L.target.files?Array.from(L.target.files):[];j(X),L.currentTarget.value=""},T=()=>{a||(p.current&&(p.current.value=""),y())},J=L=>{L.preventDefault(),L.stopPropagation(),!a&&(b.current+=1,w(!0))},k=L=>{L.preventDefault(),L.stopPropagation()},O=L=>{L.preventDefault(),L.stopPropagation(),!a&&(b.current=Math.max(0,b.current-1),b.current===0&&w(!1))},H=L=>{if(L.preventDefault(),L.stopPropagation(),b.current=0,w(!1),a)return;const X=L.dataTransfer?.files?Array.from(L.dataTransfer.files):[];j(X)};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:L=>{L.target===L.currentTarget&&d()},children:o.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:B,disabled:a}),q?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[o.jsx("div",{children:q}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>_("")})]}):null,o.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:J,onDragOver:k,onDragLeave:O,onDrop:H,"aria-disabled":a?"true":"false",children:[o.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",o.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:A,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?o.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[o.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:A,disabled:a,children:"Agregar ms"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:T,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:o.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:o.jsx("ul",{className:"list-group",children:c.map(L=>{const X=y0(L);return o.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[o.jsx("div",{className:"text-truncate",style:{minWidth:0},children:L.name}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(X),disabled:a,children:"Eliminar"})]},X)})})})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function KT(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(l=>l.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function iu({label:e,title:a,accept:s,disabled:l=!1,fullDropArea:c=!1,files:d,setFiles:m}){const[h,y]=v.useState(!1),[p,b]=v.useState(!1),[x,w]=v.useState(""),q=v.useRef(0),_=v.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),j=d.length===0?"Agregar archivos":"Modificar/agregar archivos",A=H=>{const L=th(H,s);L.length!==0&&m(X=>{const{merged:le,duplicates:ye}=_T(X,L);return ye.length>0&&w(KT(ye)),le})},B=H=>{H.preventDefault(),H.stopPropagation(),!l&&(q.current+=1,b(!0))},T=H=>{H.preventDefault(),H.stopPropagation()},J=H=>{H.preventDefault(),H.stopPropagation(),!l&&(q.current=Math.max(0,q.current-1),q.current===0&&b(!1))},k=H=>{if(H.preventDefault(),H.stopPropagation(),q.current=0,b(!1),l)return;const L=H.dataTransfer?.files?Array.from(H.dataTransfer.files):[];A(L)},O=o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"form-label",children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>y(!0),disabled:l,children:j}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>w("")})]}):null]});return o.jsxs(o.Fragment,{children:[c?o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:J,onDrop:k,"aria-disabled":l?"true":"false",children:O}):o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:J,onDrop:k,"aria-disabled":l?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>y(!0),disabled:l,children:j}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]})}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>w("")})]}):null]}),o.jsx(YT,{show:h,disabled:l,title:a,accept:s,files:d,onClose:()=>y(!1),onAddFiles:A,onRemoveFile:H=>m(L=>L.filter(X=>y0(X)!==H)),onRemoveAll:()=>m([])})]})}function XT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function JT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function WT(e){if(!ot.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=l?.detail??a.message;return{detail:String(c),code:s}}function e2(){const[e,a]=v.useState(null),[s,l]=v.useState([]),[c,d]=v.useState(""),[m,h]=v.useState(""),[y,p]=v.useState("^OI-(\\d+)-(\\d{4})$"),[b,x]=v.useState(9),[w,q]=v.useState("ERROR FINAL"),[_,j]=v.useState(!0),[A,B]=v.useState(!1),[T,J]=v.useState(!1),[k,O]=v.useState(null),[H,L]=v.useState(null),[X,le]=v.useState([]),[ye,xe]=v.useState(""),de=v.useRef(null),me=v.useRef(null),[Ae,je]=v.useState(!1),[z,I]=v.useState(!1),[te,Ce]=v.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Ee=v.useMemo(()=>!!e&&s.length>0&&!k,[e,s,k]);function N(ue){le(qe=>[ue,...qe].slice(0,200));const De=typeof ue.percent=="number"?ue.percent:typeof ue.progress=="number"?ue.progress:null;De!=null&&Number.isFinite(De)&&L(Math.max(0,Math.min(100,De)))}function Q(){de.current?.abort(),de.current=null}function oe(){k&&Q()}function M(ue,De){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const qe=new FormData;qe.append("base_file",e);for(const ct of s)qe.append("oi_files",ct);const Ye=(De??c).trim();return Ye&&qe.append("default_password",Ye),m.trim()&&qe.append("per_file_passwords_json",m.trim()),y.trim()&&qe.append("oi_pattern",y.trim()),qe.append("oi_start_row",String(b)),w.trim()&&qe.append("base_sheet",w.trim()),ue&&qe.append("operation_id",ue),qe}function ce(){me.current=null,I(!1)}function be(ue,De){me.current=ue,Ce(De),I(!0)}async function Oe(ue){xe(""),le([]),L(0),de.current=new AbortController,O("dry");try{const De=M(void 0,ue?.passwordOverride);await zT(De,N,de.current.signal)}catch(De){if(De?.name==="AbortError")return;const qe=De?.code,Ye=String(De?.message??De);if(qe==="PASSWORD_REQUIRED"){xe(""),be("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(qe==="WRONG_PASSWORD"){xe(""),be("dry","Contrasea incorrecta. Intenta nuevamente.");return}else xe(Ye)}finally{Q(),O(null)}}async function Ue(ue){xe(""),le([]),L(0);const De=crypto.randomUUID();de.current=new AbortController,nh(De,N,de.current.signal).catch(()=>{}),O("upload");try{const qe=M(De,ue?.passwordOverride);qe.append("replicate_merges",_?"true":"false"),qe.append("replicate_row_heights",A?"true":"false"),qe.append("replicate_col_widths",T?"true":"false");const Ye=await MT(qe,de.current.signal),ct=Ye.headers["content-disposition"],Te=Ye.headers["x-file-name"],He=XT(ct)??Te??"base_actualizada.xlsx";JT(Ye.data,He)}catch(qe){if(ot.isAxiosError(qe)&&qe.code==="ERR_CANCELED")return;const{detail:Ye,code:ct}=await WT(qe);if(ct==="PASSWORD_REQUIRED"){xe(""),be("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(ct==="WRONG_PASSWORD"){xe(""),be("upload","Contrasea incorrecta. Intenta nuevamente.");return}else xe(Ye)}finally{Q(),O(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),o.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Ii,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!k})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(iu,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!k})}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:ue=>d(ue.target.value),disabled:!!k})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),o.jsx("input",{className:"form-control",value:w,onChange:ue=>q(ue.target.value),disabled:!!k})]}),Ae?o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),o.jsx("input",{className:"form-control",value:y,onChange:ue=>p(ue.target.value),disabled:!!k})]}):null,o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio OI"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:b,onChange:ue=>x(Number(ue.target.value||9)),disabled:!!k})]}),o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),o.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:ue=>h(ue.target.value),disabled:!!k,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),Ae?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:_,onChange:ue=>j(ue.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:A,onChange:ue=>B(ue.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:T,onChange:ue=>J(ue.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),ye&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:ye}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>je(ue=>!ue),disabled:!!k,children:Ae?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-15",children:[o.jsx("button",{className:"btn btn-primary",disabled:!Ee,onClick:()=>void Ue(),children:k==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!k,onClick:oe,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!Ee,onClick:()=>void Oe(),children:k==="dry"?"Analizando...":"Analizar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),k?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${H??0}%`},"aria-valuenow":H??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:X.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:X.map((ue,De)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:xl(ue.type)})," ",ue.stage?o.jsxs("span",{className:"text-muted",children:["[",Xi(ue.stage),"]"]}):null,typeof ue.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",ue.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Ol(ue.message??ue.detail??"")}),ue.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",ue.code]}):null]},De))})})]})})]}),o.jsx(ru,{show:z,title:"Archivo protegido",confirmLabel:"Continuar",helpText:te,onClose:ce,onConfirm:ue=>{d(ue),I(!1);const De=me.current;me.current=null,De&&(De==="dry"?Oe({passwordOverride:ue}):Ue({passwordOverride:ue}))}})]})}const t2="America/Lima";function n2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function a2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function s2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:t2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(y=>y.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function r2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function l2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function i2(){const[e,a]=v.useState([]),[s,l]=v.useState(0),[c,d]=v.useState(!1),[m,h]=v.useState(""),[y,p]=v.useState(0),[b,x]=v.useState(""),[w,q]=v.useState(""),[_,j]=v.useState(""),[A,B]=v.useState(""),[T,J]=v.useState(20),[k,O]=v.useState(1),[H,L]=v.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),X=v.useMemo(()=>(k-1)*T,[k,T]);v.useEffect(()=>{let I=!1;return d(!0),h(""),FT({limit:T,offset:X,q:H.q||void 0,dateFrom:H.dateFrom||void 0,dateTo:H.dateTo||void 0,origin:H.origin||void 0}).then(te=>{I||(a(Array.isArray(te?.items)?te.items:[]),l(typeof te?.total=="number"?te.total:0))}).catch(te=>{if(I)return;const Ce=te,Ee=Ce.response?.data?.detail||Ce.message||"No se pudo cargar historial.";h(Ee)}).finally(()=>{I||d(!1)}),()=>{I=!0}},[H,X,T,y]);const le=()=>{L({q:b.trim(),dateFrom:w.trim(),dateTo:_.trim(),origin:A.trim()}),O(1)},ye=()=>{x(""),q(""),j(""),B(""),L({q:"",dateFrom:"",dateTo:"",origin:""}),O(1),p(I=>I+1)},xe=()=>p(I=>I+1),de=async I=>{try{h("");const te=await HT(I),Ce=te.headers["content-disposition"],Ee=te.headers["x-file-name"],N=n2(Ce)??Ee??"formato_ac.xlsx";a2(te.data,N)}catch(te){const Ce=te;if(ot.isCancel(Ce))return;const Ee=Ce.response?.data?.detail||Ce.message||"No se pudo descargar.";h(Ee)}},me=s===0?0:X+1,Ae=s===0?0:Math.min(X+e.length,s),je=k>1,z=X+e.length<s;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),m?o.jsx("div",{className:"alert alert-danger",role:"alert",children:m}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:I=>{I.preventDefault(),le()},children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:b,onChange:I=>x(I.target.value),onKeyDown:I=>{I.key==="Enter"&&le()},placeholder:"Operacion o usuario..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:w,onChange:I=>q(I.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:_,onChange:I=>j(I.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:I=>B(I.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),o.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:T,onChange:I=>{const te=Number(I.target.value);J(Number.isFinite(te)?te:20),O(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:ye,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:xe,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[c?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(I=>{const te=I.created_by_full_name||I.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:I.operation_id}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:s2(I.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:te}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:l2(I.origin)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:r2(I.status),children:I.status})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void de(I.id),children:"Descargar"})})})]},I.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",me,"-",Ae," de ",s," registros"]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>Math.max(1,I-1)),disabled:!je||c,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>I+1),disabled:!z||c,children:"Siguiente"})]})]})]})]})})})})}function o2(){return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),o.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),o.jsx(_c,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"No correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),o.jsx(_c,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function c2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function u2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function d2(e){if(!ot.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function f2(){const[e,a]=v.useState(null),[s,l]=v.useState(null),[c,d]=v.useState([]),[m,h]=v.useState(!1),[y,p]=v.useState(""),[b,x]=v.useState(null),[w,q]=v.useState([]),_=v.useRef(null),j=v.useRef(null),A=v.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);v.useEffect(()=>{x0().then(a).catch(()=>a(null))},[]);function B(O){q(L=>[O,...L].slice(0,200));const H=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;H!=null&&Number.isFinite(H)&&x(Math.max(0,Math.min(100,H)))}function T(){_.current?.abort(),_.current=null}function J(){if(!m)return;const O=j.current;O&&w0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function k(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const L of c)O.append("technicians",L);const H=crypto.randomUUID();j.current=H,O.append("operation_id",H),_.current=new AbortController,h(!0);try{const L=_.current?.signal;nh(H,B,L).catch(()=>{});const X=await S0(O,"correlativo",L),le=X.headers["content-disposition"],ye=c2(le)??"consolidado_correlativo.xlsx";u2(X.data,ye)}catch(L){if(ot.isAxiosError(L)&&L.code==="ERR_CANCELED"||ot.isAxiosError(L)&&(L.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const X=await d2(L);B({type:"error",stage:"error",detail:X}),p(X)}finally{j.current=null,h(!1),T()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Ii,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(iu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),y&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:k,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:J,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${b??0}%`},"aria-valuenow":b??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:w.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:w.map((O,H)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:xl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",Xi(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Ol(O.message??O.detail??"")})]},H))})})]})})]})})}function m2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function h2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function p2(e){if(!ot.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function g2(){const[e,a]=v.useState(null),[s,l]=v.useState(null),[c,d]=v.useState([]),[m,h]=v.useState(!1),[y,p]=v.useState(""),[b,x]=v.useState(null),[w,q]=v.useState([]),_=v.useRef(null),j=v.useRef(null),A=v.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);v.useEffect(()=>{x0().then(a).catch(()=>a(null))},[]);function B(O){q(L=>[O,...L].slice(0,200));const H=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;H!=null&&Number.isFinite(H)&&x(Math.max(0,Math.min(100,H)))}function T(){_.current?.abort(),_.current=null}function J(){if(!m)return;const O=j.current;O&&w0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function k(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const L of c)O.append("technicians",L);const H=crypto.randomUUID();j.current=H,O.append("operation_id",H),_.current=new AbortController,h(!0);try{const L=_.current?.signal;nh(H,B,L).catch(()=>{});const X=await S0(O,"no-correlativo",L),le=X.headers["content-disposition"],ye=m2(le)??"consolidado_no_correlativo.xlsx";h2(X.data,ye)}catch(L){if(ot.isAxiosError(L)&&L.code==="ERR_CANCELED"||ot.isAxiosError(L)&&(L.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const X=await p2(L);B({type:"error",stage:"error",detail:X}),p(X)}finally{j.current=null,h(!1),T()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Ii,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(iu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),y&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:k,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:J,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${b??0}%`},"aria-valuenow":b??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:w.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:w.map((O,H)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:xl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",Xi(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Ol(O.message??O.detail??"")})]},H))})})]})})]})})}async function Oi(e){if(!ot.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function y2(){const[e,a]=v.useState(null),[s,l]=v.useState(""),[c,d]=v.useState(""),[m,h]=v.useState(""),[y,p]=v.useState("ERROR FINAL"),[b,x]=v.useState(""),[w,q]=v.useState("same_password"),[_,j]=v.useState(""),[A,B]=v.useState([{cell:"A1",value:""}]),[T,J]=v.useState(""),[k,O]=v.useState("no_password"),[H,L]=v.useState(""),[X,le]=v.useState("ERROR FINAL"),[ye,xe]=v.useState(1),[de,me]=v.useState(""),[Ae,je]=v.useState(""),[z,I]=v.useState(""),[te,Ce]=v.useState(null),[Ee,N]=v.useState(""),[Q,oe]=v.useState(null),[M,ce]=v.useState([]),[be,Oe]=v.useState(null),Ue=v.useMemo(()=>c.trim().length>0,[c]);function ue(pe){ce(Ie=>[pe,...Ie].slice(0,200))}function De(){N(""),ce([]),oe(0),Oe(null)}async function qe(){if(De(),!e){N("Selecciona un archivo para subir.");return}Ce("upload");try{ue({type:"status",stage:"upload",message:"Subiendo archivo..."}),oe(30);const pe=new FormData;pe.append("file",e),s.trim()&&pe.append("suggested_name",s.trim());const Ie=await VT(pe);d(Ie.relative_path),Oe(Ie),ue({type:"complete",stage:"upload",message:"Archivo subido."}),oe(100)}catch(pe){const Ie=await Oi(pe);N(Ie),ue({type:"error",stage:"upload",detail:Ie})}finally{Ce(null)}}async function Ye(){if(De(),!Ue){N("Ingresa o sube un archivo para obtener file_path.");return}Ce("inspect");try{ue({type:"status",stage:"inspect",message:"Inspeccionando..."}),oe(50);const pe=await ZT({file_path:c.trim(),open_password:m.trim()||null});Oe(pe),ue({type:"complete",stage:"inspect",message:"Inspeccin completada."}),oe(100)}catch(pe){const Ie=await Oi(pe);N(Ie),ue({type:"error",stage:"inspect",detail:Ie})}finally{Ce(null)}}async function ct(){if(De(),!Ue){N("Ingresa o sube un archivo para obtener file_path.");return}if(!y.trim()){N("Ingresa el nombre de la hoja.");return}const pe=A.map(Ie=>({cell:Ie.cell.trim(),value:Ie.value})).filter(Ie=>Ie.cell);if(pe.length===0){N("Agrega al menos una edicin.");return}Ce("update");try{ue({type:"status",stage:"update",message:"Aplicando ediciones..."}),oe(50);const Ie=await GT({file_path:c.trim(),edits:pe.map(Ne=>({sheet:y.trim(),cell:Ne.cell,value:Ne.value})),open_password:b.trim()||null,save_mode:w,new_password:w==="new_password"&&_.trim()||null});Oe(Ie),ue({type:"complete",stage:"update",message:"Actualizacin completada."}),oe(100)}catch(Ie){const Ne=await Oi(Ie);N(Ne),ue({type:"error",stage:"update",detail:Ne})}finally{Ce(null)}}async function Te(){if(De(),!Ue){N("Ingresa o sube un archivo para obtener file_path.");return}if(!T.trim()){N("Ingresa la contrasea de apertura (open_password).");return}if(k==="new_password"&&!H.trim()){N("Ingresa la nueva contrasea.");return}Ce("change-password");try{ue({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),oe(50);const pe=await QT({file_path:c.trim(),open_password:T.trim(),mode:k,new_password:k==="new_password"?H.trim():null});Oe(pe),ue({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),oe(100)}catch(pe){const Ie=await Oi(pe);N(Ie),ue({type:"error",stage:"change-password",detail:Ie})}finally{Ce(null)}}async function He(){if(De(),!Ue){N("Ingresa o sube un archivo para obtener file_path.");return}let pe={};if(Ae.trim())try{pe=JSON.parse(Ae)}catch{N("type_rules debe ser JSON vlido.");return}const Ie=de.split(",").map(Ne=>Ne.trim()).filter(Boolean);Ce("validate");try{ue({type:"status",stage:"validate",message:"Validando..."}),oe(50);const Ne=await PT({file_path:c.trim(),sheet:X.trim()||null,header_row:ye,required_columns:Ie,type_rules:pe,open_password:z.trim()||null});Oe(Ne),ue({type:"complete",stage:"validate",message:"Validacin completada."}),oe(100)}catch(Ne){const Ke=await Oi(Ne);N(Ke),ue({type:"error",stage:"validate",detail:Ke})}finally{Ce(null)}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),o.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-8 mB-10",children:o.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!te,onChange:pe=>a(pe.target.files?.[0]??null)})}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!te,onChange:pe=>l(pe.target.value)})})]}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!!te||!e,onClick:qe,children:te==="upload"?"Subiendo...":"Subir"})]})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"file_path"}),o.jsx("input",{className:"form-control",value:c,disabled:!!te,onChange:pe=>d(pe.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),o.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"2) Inspect"}),o.jsxs("div",{className:"row align-items-end",children:[o.jsxs("div",{className:"col-md-8 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!te,onChange:pe=>h(pe.target.value)})]}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!te||!Ue,onClick:Ye,children:te==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"Hoja"}),o.jsx("input",{className:"form-control",value:y,disabled:!!te,onChange:pe=>p(pe.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:b,disabled:!!te,onChange:pe=>x(pe.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"save_mode"}),o.jsxs("select",{className:"form-select",value:w,disabled:!!te,onChange:pe=>q(pe.target.value),children:[o.jsx("option",{value:"same_password",children:"same_password"}),o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:_,disabled:!!te||w!=="new_password",onChange:pe=>j(pe.target.value),placeholder:w==="new_password"?"Requerido":""})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsx("label",{className:"form-label",children:"Ediciones"}),A.map((pe,Ie)=>o.jsxs("div",{className:"row g-2 mB-10",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("input",{className:"form-control",value:pe.cell,disabled:!!te,onChange:Ne=>{const Ke=A.slice();Ke[Ie]={...Ke[Ie],cell:Ne.target.value},B(Ke)},placeholder:"Celda (A1)"})}),o.jsx("div",{className:"col-md-7",children:o.jsx("input",{className:"form-control",value:pe.value,disabled:!!te,onChange:Ne=>{const Ke=A.slice();Ke[Ie]={...Ke[Ie],value:Ne.target.value},B(Ke)},placeholder:"Valor"})}),o.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!te,onClick:()=>B(Ne=>[...Ne,{cell:"A1",value:""}]),children:"+"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!te||A.length===1,onClick:()=>B(Ne=>Ne.filter((Ke,C)=>C!==Ie)),children:""})]})]},Ie))]}),o.jsx("button",{className:"btn btn-primary",disabled:!!te||!Ue,onClick:ct,children:te==="update"?"Actualizando...":"Update"})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"4) Change password"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password"}),o.jsx("input",{className:"form-control",type:"password",value:T,disabled:!!te,onChange:pe=>J(pe.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"mode"}),o.jsxs("select",{className:"form-select",value:k,disabled:!!te,onChange:pe=>O(pe.target.value),children:[o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:H,disabled:!!te||k!=="new_password",onChange:pe=>L(pe.target.value),placeholder:k==="new_password"?"Requerido":""})]}),o.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!te||!Ue,onClick:Te,children:te==="change-password"?"Procesando...":"Change password"})})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"5) Validate"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"sheet (opcional)"}),o.jsx("input",{className:"form-control",value:X,disabled:!!te,onChange:pe=>le(pe.target.value)})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"header_row"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:ye,disabled:!!te,onChange:pe=>xe(Number(pe.target.value||1))})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:z,disabled:!!te,onChange:pe=>I(pe.target.value)})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),o.jsx("input",{className:"form-control",value:de,disabled:!!te,onChange:pe=>me(pe.target.value),placeholder:"ColA, ColB, ColC"})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),o.jsx("textarea",{className:"form-control",rows:3,value:Ae,disabled:!!te,onChange:pe=>je(pe.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),o.jsx("button",{className:"btn btn-primary",disabled:!!te||!Ue,onClick:He,children:te==="validate"?"Validando...":"Validate"})]})}),Ee&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Ee})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),te?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Q??0}%`},"aria-valuenow":Q??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:M.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:M.map((pe,Ie)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:pe.type})," ",pe.stage?o.jsxs("span",{className:"text-muted",children:["[",pe.stage,"]"]}):null]}),o.jsx("div",{className:"text-muted",children:pe.message??pe.detail??""})]},Ie))})}),o.jsx("hr",{className:"mY-15"}),o.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),be?o.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(be,null,2)}):o.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function b2(){const e=In(),a=Er(),{toast:s}=Ar(),l=Rn(),c=vl(l?.role),d=Ui(),m=c&&!(d&&d>0),{data:h,isLoading:y,error:p}=wr({queryKey:["catalogs"],queryFn:Zm,enabled:m}),b=h?.bancos??[],[x,w]=v.useState(()=>d&&d>0?d:0),[q,_]=v.useState(!1),j=v.useMemo(()=>b.find(J=>J.id===x)?.name??null,[b,x]);v.useEffect(()=>{const T=e.state;T?.toast&&(s({kind:T.toast.kind??"info",title:T.toast.title,message:T.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),v.useEffect(()=>{m&&(x>0||b.length>0&&w(b[0].id))},[x,b,m]);const A=x>0&&!q,B=async()=>{if(A)try{_(!0);const T=await $x(x),J=um(T.userId,T.bancoId??x);if(J.target){a(J.target,{replace:!0});return}s({kind:"success",title:"Banco",message:j?`Banco seleccionado: ${j}`:"Banco seleccionado."})}catch(T){const J=T?.response?.data?.detail??T?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(J)})}finally{_(!1)}};return o.jsxs("div",{className:"vi-home",children:[o.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:T=>w(Number(T.target.value)),disabled:y||q,children:b.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))}),p?o.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!A,onClick:B,children:q?"Guardando...":"Continuar"})})]})})})]})}const Ri=(...e)=>{};function v2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function x2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function S2(e,a){let s=null,l=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function w2(){const[e,a]=v.useState([]),[s,l]=v.useState(""),[c,d]=v.useState([]),[m,h]=v.useState(0),[y,p]=v.useState("Listo para procesar"),[b,x]=v.useState(!1),[w,q]=v.useState(""),[_,j]=v.useState(!1),[A,B]=v.useState(null),[T,J]=v.useState(null),[k,O]=v.useState(!1);function H(R){const Z=R?.series_duplicates_eliminated??R?.detail?.series_duplicates_eliminated??R?.series_duplcates_eliminated;return typeof Z=="number"?Z:null}const L={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function X(R){const Z=String(R??"").trim().toUpperCase();return Z?L[Z]??Z:""}function le(R){if(!R)return"";let Z=Ol(R);Z=Z.replace(/\bERROR\b/gi,"Error");for(const[G,re]of Object.entries(L))Z=Z.replace(new RegExp(`\\b${G}\\b`,"g"),re);return Z}function ye(R,Z){const G=X(R),re=le(Z);return re?G&&!re.toLowerCase().includes(G.toLowerCase())?`${G}: ${re}`:re:G||"N/D"}function xe(R){const Z=Number(R);return!Number.isFinite(Z)||Z<=0?"N/D":`OI-${String(Z).padStart(4,"0")}`}function de(R){const Z=R?.rows_total_read??R?.totals_input?.rows_read;return typeof Z=="number"?Z:null}const me=v.useMemo(()=>(Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[]).filter(Z=>Z?.status==="OK"&&String(Z?.source??"").toUpperCase()==="BASES").slice().sort((Z,G)=>{const re=Number(Z?.oi_num),Re=Number(G?.oi_num),Me=Number.isFinite(re),ne=Number.isFinite(Re);if(Me&&ne)return re-Re;if(Me&&!ne)return-1;if(!Me&&ne)return 1;const ze=String(Z?.oi_num??Z?.oi??"").toUpperCase(),Fe=String(G?.oi_num??G?.oi??"").toUpperCase();return ze.localeCompare(Fe)}),[T]),Ae=v.useMemo(()=>(Array.isArray(T?.files_rejected)?T.files_rejected:[]).slice().sort((Z,G)=>{const re=String(Z?.oi??Z?.filename??"").toUpperCase(),Re=String(G?.oi??G?.filename??"").toUpperCase();return re.localeCompare(Re)}),[T]),je=v.useMemo(()=>{const R=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),Z=T?.by_source;if(Z&&typeof Z=="object")return Z;const G={BASES:R(),GASELAG:R()},re=Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[];for(const Me of re){if(Me?.status!=="OK")continue;const ze=String(Me?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";G[ze].files_ok+=1,G[ze].rows_read+=Number(Me?.rows_read??0)||0,G[ze].conformes+=Number(Me?.conformes??0)||0,G[ze].no_conformes+=Number(Me?.no_conformes??0)||0,G[ze].rows_ignored_invalid_estado+=Number(Me?.rows_ignored_invalid_estado??0)||0}const Re=Array.isArray(T?.files_rejected)?T.files_rejected:[];for(const Me of Re){const ze=String(Me?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";G[ze].files_error+=1}for(const Me of["BASES","GASELAG"])G[Me].files_total=G[Me].files_ok+G[Me].files_error;return G},[T]),z=v.useRef(null),I=v.useRef(null),te=v.useRef(null),Ce=v.useRef(!1),Ee=v.useRef(null),N=v.useRef(null),Q=v.useRef(null),oe=v.useRef(!1),M=v.useRef(!1),ce=v.useRef(-1),be=v.useRef(-1),Oe=v.useRef(!1);function Ue(){return Ee.current||(Ee.current=crypto.randomUUID()),Ee.current}function ue(R){const Z=`${xl(R.type)}  ${Xi(R.stage)}  ${le(R.message??R.detail??"")}`;if(p(Z),d(G=>{const re=[R,...G];if(!Oe.current&&R.stage==="cancelled"){Oe.current=!0;const Re=re.filter(Fe=>Fe.stage==="file_done"||Fe.stage==="file_error").length,Me=re.filter(Fe=>Fe.stage==="file_done").length,ne=re.filter(Fe=>Fe.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Re} (OK: ${Me}, Rechazados: ${ne}). No se gener resultado final.`},...re]}return re}),R.type==="complete"){const G=R.result??null;J(G)}typeof R.progress=="number"&&h(Math.round(R.progress)),typeof R.percent=="number"&&h(Math.round(R.percent)),!Ce.current&&(R.type==="complete"||R.stage==="cancelled"||R.stage==="failed")&&(Ce.current=!0,R.type==="complete"?(j(!0),B(Ee.current)):(j(!1),B(null),Ee.current=null),x(!1),ct("terminal_event"),Te())}function De(R){return typeof R.cursor!="number"?!1:R.cursor<=be.current?!0:(be.current=R.cursor,R.cursor>ce.current&&(ce.current=R.cursor),!1)}function qe(R){Ce.current||De(R)||ue(R)}function Ye(R,Z){const G=new FormData;G.append("operation_id",R),G.append("source","AUTO"),s.trim()&&G.append("output_filename",s.trim());for(const re of Z)G.append("files",re);return G}function ct(R){I.current&&(te.current=R,I.current.abort(),I.current=null)}function Te(R){M.current&&(M.current=!1,N.current!=null&&(window.clearTimeout(N.current),N.current=null),Q.current?.abort(),Q.current=null,oe.current=!1)}function He(R){M.current&&(N.current!=null&&window.clearTimeout(N.current),N.current=window.setTimeout(()=>{pe()},R))}async function pe(){if(!M.current||oe.current)return;const R=Ee.current;if(!R){Te();return}oe.current=!0;try{const Z=await UT(R,ce.current,Q.current?.signal);Ri("[LOG01] poll cursor =",ce.current,"->",Z.cursor_next),ce.current=Z.cursor_next;for(const G of Z.events)qe(G);if(Z.done&&Z.events.length===0){Te("done");return}}catch(Z){Z?.name}finally{oe.current=!1,M.current&&He(350)}}function Ie(R){M.current||(M.current=!0,Q.current=new AbortController,He(0))}function Ne(){z.current?.abort(),z.current=null}async function Ke(){if(!b)return;const R=Ee.current;if(R)try{await BT(R)}catch(Z){const G=Z;ot.isCancel(G)||q(G.response?.data?.detail||G.message||"No se pudo cancelar la operacion")}Ne()}async function C(){q(""),d([]),J(null),h(0),p("Listo para procesar"),j(!1),B(null),te.current=null,Ce.current=!1,Oe.current=!1,ce.current=-1,be.current=-1,Te();const R=[...e];if(!R.length){q("Debes seleccionar al menos 1 Excel.");return}Ee.current=null;const Z=Ue();let G=null,re=null;const Re=new Promise((ze,Fe)=>{G=ze,re=Fe});I.current=new AbortController,z.current=new AbortController,DT(Z,ze=>{if(ze.type==="hello"){G&&(G(),G=null);return}qe(ze)},I.current.signal).then(()=>{Ce.current||Ie()}).catch(ze=>{ze?.name==="AbortError"?Ri("[LOG01] progress stream aborted (reason) =",te.current):(re&&(re(ze),re=null),Ie())}),x(!0);try{await S2(Re,1800)?Ri("[LOG01] hello received"):Ie("hello_timeout");const Fe=Ye(Z,R);Ri("[LOG01] operation_id(start) =",Z),await kT(Fe,z.current.signal)}catch(ze){const Fe=ze;if(ot.isCancel(Fe))return;const mt=Fe.response?.data?.detail||Fe.message||"Error inesperado";q(mt),x(!1),Ne(),ct("start_failed"),Te(),Ee.current=null}finally{Ne()}}async function V(){const R=A??Ee.current;if(!R){q("No hay resultado disponible.");return}try{q(""),Ri("[LOG01] operation_id(result) =",R);const Z=await LT(R),G=Z.headers["content-disposition"],re=Z.headers["x-file-name"],Re=v2(G)??re??"BD_CONSOLIDADO.xlsx";x2(Z.data,Re)}catch(Z){const G=Z;if(ot.isCancel(G))return;const re=G.response?.data?.detail||G.message||"No se pudo descargar.";q(re)}}return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),w&&o.jsx("div",{className:"alert alert-danger",role:"alert",children:w}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx(iu,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:b}),o.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),o.jsx("input",{className:"form-control",value:s,onChange:R=>l(R.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:b})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),o.jsxs("div",{className:"vi-log01-actions",children:[o.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:C,disabled:b,children:b?"Procesando...":"Consolidar"}),b?o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Ke(),children:"Cancelar"}):null,!b&&_?o.jsx(o.Fragment,{children:o.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void V(),children:"Descargar Excel"})}):null]})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),b?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),o.jsx("div",{className:"mT-10 text-muted",children:y})]}),!b&&T?o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),o.jsx("div",{className:"bd p-10",children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("div",{className:"small text-muted",children:"Archivos"}),o.jsxs("div",{className:"small",children:["Total: ",o.jsx("strong",{children:T.files_total??"N/D"}),"  OK:"," ",o.jsx("strong",{children:T.files_ok??"N/D"}),"  Rechazados:"," ",o.jsx("strong",{children:T.files_error??"N/D"})]}),o.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),o.jsx("tbody",{children:["BASES","GASELAG"].map(R=>{const Z=je?.[R]??{},G=Z?.files_total??Number(Z?.files_ok??0)+Number(Z?.files_error??0);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R})}),o.jsxs("td",{style:{whiteSpace:"nowrap"},children:[o.jsx("strong",{children:G??0})," ",o.jsxs("span",{className:"text-muted",children:["(OK: ",Z?.files_ok??0,"  Rech: ",Z?.files_error??0,")"]})]}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Z?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Z?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Z?.no_conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Z?.rows_ignored_invalid_estado??0})})]},R)})})]})}),o.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),me.length>0?o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),o.jsx("tbody",{children:me.map((R,Z)=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:xe(R?.oi_num)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.no_conformes??0})})]},Z))})]})}):o.jsx("div",{className:"small text-muted",children:"N/D"}),Number(je?.GASELAG?.rows_read??0)>0?o.jsxs("div",{className:"mT-10 small",children:[o.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",o.jsx("strong",{children:je.GASELAG.rows_read??0}),"  Conformes:"," ",o.jsx("strong",{children:je.GASELAG.conformes??0}),"  No conformes:"," ",o.jsx("strong",{children:je.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",o.jsx("strong",{children:je.GASELAG.rows_ignored_invalid_estado??0})]}):null,o.jsxs("div",{className:"col-12 mT-10 p-0",children:[o.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),o.jsxs("div",{className:"small",children:["Registros ledos:"," ",o.jsx("strong",{children:T.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",o.jsx("strong",{children:T.totals_input?.conformes??"N/D"}),"  No conformes:"," ",o.jsx("strong",{children:T.totals_input?.no_conformes??"N/D"})]})]})]}),o.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[Ae.length>0?o.jsxs("div",{className:"mT-15",children:[o.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),o.jsx("tbody",{children:Ae.map((R,Z)=>{const G=ye(R?.code,R?.detail),re=String(R?.source??"").toUpperCase();let Re=R?.filename??"N/D";if(re==="BASES"){const Me=Number(R?.oi_num),ne=xe(Me);ne!=="N/D"&&(Re=`${ne} / ${Re}`)}else re==="GASELAG"&&(Re=`GASELAG / ${Re}`);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:Re}),o.jsx("td",{children:G})]},Z)})})]})})]}):null,o.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),o.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",o.jsx("strong",{children:T.series_total_dedup??"N/D"}),"  Conformes finales:"," ",o.jsx("strong",{children:T.series_conformes??"N/D"}),"  No conformes finales:"," ",o.jsx("strong",{children:T.series_no_conformes_final??"N/D"})]}),o.jsx("div",{className:"mT-10",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(R=>!R),children:k?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),k?o.jsxs("div",{className:"mT-10",children:[o.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),o.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",o.jsx("strong",{children:de(T)??"N/D"})," "," Duplicados eliminados:"," ",o.jsx("strong",{children:H(T)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",o.jsx("strong",{children:(()=>{const R=de(T),Z=H(T);if(typeof R=="number"&&typeof Z=="number")return R-Z;const G=T.series_total_dedup;return typeof G=="number"?G:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Eventos"}),o.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((R,Z)=>{const G=String(R.message??""),re=String(R.code??""),Re=String(R.detail??""),Me=le(G||Re||""),ne=Me.toLowerCase(),ze=X(re),Fe=le(Re),mt=[];ze&&!ne.includes(ze.toLowerCase())&&mt.push(ze),Fe&&!ne.includes(Fe.toLowerCase())&&mt.push(Fe);const Sn=mt.join("  ");return o.jsxs("div",{className:"small",children:[xl(R.type),"  ",Me,Sn?o.jsxs("span",{className:"text-muted",children:[" (",Sn,")"]}):null]},Z)})})]})]})})})})}const N2="America/Lima";function _2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function j2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function E2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:N2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(y=>y.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function Zf(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function gv(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function A2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning text-dark":"badge bg-secondary"}function C2(){const e=Er(),a=Rn(),s=Na(a?.role,a?.username),l=s==="admin"||s==="administrator",[c,d]=v.useState([]),[m,h]=v.useState(0),[y,p]=v.useState(!1),[b,x]=v.useState(""),[w,q]=v.useState(0),[_,j]=v.useState(""),[A,B]=v.useState(""),[T,J]=v.useState(""),[k,O]=v.useState(""),[H,L]=v.useState(""),[X,le]=v.useState(20),[ye,xe]=v.useState(1),[de,me]=v.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),Ae=v.useMemo(()=>(ye-1)*X,[ye,X]);v.useEffect(()=>{let M=!1;return p(!0),x(""),qT({limit:X,offset:Ae,include_deleted:!1,q:de.q||void 0,dateFrom:de.dateFrom||void 0,dateTo:de.dateTo||void 0,source:de.source||void 0,status:de.status||void 0}).then(ce=>{M||(d(Array.isArray(ce?.items)?ce.items:[]),h(typeof ce?.total=="number"?ce.total:0))}).catch(ce=>{if(M)return;const be=ce,Oe=be.response?.data?.detail||be.message||"No se pudo cargar historial.";x(Oe)}).finally(()=>{M||p(!1)}),()=>{M=!0}},[de,Ae,X,w]);const je=()=>{me({q:_.trim(),dateFrom:A.trim(),dateTo:T.trim(),source:k.trim(),status:H.trim()}),xe(1)},z=()=>{j(""),B(""),J(""),O(""),L(""),me({q:"",dateFrom:"",dateTo:"",source:"",status:""}),xe(1),q(M=>M+1)},I=()=>q(M=>M+1),te=async(M,ce)=>{try{x("");const be=await IT(M,ce),Oe=be.headers["content-disposition"],Ue=be.headers["x-file-name"],ue=_2(Oe)??Ue??`${ce}.bin`;j2(be.data,ue)}catch(be){const Oe=be;if(ot.isCancel(Oe))return;const Ue=Oe.response?.data?.detail||Oe.message||"No se pudo descargar.";x(Ue)}},Ce=async M=>{if(l&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await $T(M),I()}catch(ce){const be=ce;if(ot.isCancel(be))return;const Oe=be.response?.data?.detail||be.message||"No se pudo eliminar.";x(Oe)}},Ee=m===0?0:Ae+1,N=m===0?0:Math.min(Ae+c.length,m),Q=ye>1,oe=Ae+c.length<m;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),b?o.jsx("div",{className:"alert alert-danger",role:"alert",children:b}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:M=>{M.preventDefault(),je()},children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:_,onChange:M=>j(M.target.value),onKeyDown:M=>{M.key==="Enter"&&je()},placeholder:"Usuario, serie inicial, serie final..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:A,onChange:M=>B(M.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:T,onChange:M=>J(M.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:k,onChange:M=>O(M.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"AUTO",children:"AUTO"}),o.jsx("option",{value:"BASES",children:"BASES"}),o.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Estado"}),o.jsxs("select",{className:"form-select form-select-sm",value:H,onChange:M=>L(M.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),o.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),o.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),o.jsxs("div",{className:"col-md-1",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:X,onChange:M=>{const ce=Number(M.target.value);le(Number.isFinite(ce)?ce:20),xe(1)},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:y,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:z,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:I,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[y?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:c.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(M=>{const ce=M.summary_json,be=gv(ce,"serie_ini"),Oe=gv(ce,"serie_fin"),Ue=Zf(ce,"series_total_dedup"),ue=Zf(ce,"series_conformes"),De=Zf(ce,"series_no_conformes_final"),qe=M.created_by_full_name||M.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:E2(M.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:qe}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:A2(M.status),children:M.status})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:be}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:Oe}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Ue})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:ue})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:De})}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void te(M.id,"excel"),children:"Excel"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void te(M.id,"no-conforme"),children:"No conforme"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void te(M.id,"manifiesto"),children:"Manifiesto"}),l?o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void Ce(M.id),children:"Eliminar"}):null]})})]},M.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",Ee,"-",N," de ",m]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>xe(M=>Math.max(1,M-1)),disabled:!Q||y,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>xe(M=>M+1),disabled:!oe||y,children:"Siguiente"})]})]})]})]})})})})}function O2(){const e=Rn();return o.jsx(o.Fragment,{children:o.jsxs(CN,{children:[o.jsx(Kt,{path:"/login",element:e?.token?o.jsx(Vs,{to:"/home",replace:!0}):o.jsx(pE,{})}),o.jsx(Kt,{element:o.jsx(rT,{}),children:o.jsxs(Kt,{element:o.jsx(uT,{}),children:[o.jsx(Kt,{path:"/",element:o.jsx(Vs,{to:"/home",replace:!0})}),o.jsx(Kt,{path:"/home",element:o.jsx(b2,{})}),o.jsx(Kt,{path:"/oi",element:o.jsx(dv,{})}),o.jsx(Kt,{path:"/oi/:oiId",element:o.jsx(dv,{})}),o.jsx(Kt,{path:"/oi/list",element:o.jsx(dT,{})}),o.jsx(Kt,{path:"/users",element:o.jsx(mT,{})}),o.jsx(Kt,{path:"/password",element:o.jsx(hT,{})}),o.jsx(Kt,{path:"/admin/permisos",element:o.jsx(bT,{})}),o.jsx(Kt,{path:"/logistica/log01/excel",element:o.jsx(w2,{})}),o.jsx(Kt,{path:"/logistica/log01/history",element:o.jsx(C2,{})}),o.jsx(Kt,{path:"/oi/tools/vima-to-lista",element:o.jsx(RT,{})}),o.jsx(Kt,{path:"/oi/tools/actualizacion-base",element:o.jsx(e2,{})}),o.jsx(Kt,{path:"/oi/tools/formato-ac/history",element:o.jsx(i2,{})}),o.jsx(Kt,{path:"/oi/tools/consolidacion",element:o.jsx(o2,{})}),o.jsx(Kt,{path:"/oi/tools/consolidacion/correlativo",element:o.jsx(f2,{})}),o.jsx(Kt,{path:"/oi/tools/consolidacion/no-correlativo",element:o.jsx(g2,{})}),o.jsx(Kt,{path:"/oi/tools/excel",element:o.jsx(y2,{})})]})}),o.jsx(Kt,{path:"*",element:o.jsx(Vs,{to:e?.token?"/home":"/login",replace:!0})})]})})}const R2=new O_;kw.createRoot(document.getElementById("root")).render(o.jsx(rt.StrictMode,{children:o.jsx(R_,{client:R2,children:o.jsx(JN,{children:o.jsx(hE,{children:o.jsx(O2,{})})})})}));
