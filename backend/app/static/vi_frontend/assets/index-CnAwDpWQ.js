(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function qy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nf={exports:{}},Vi={};var Qb;function ZS(){if(Qb)return Vi;Qb=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:d}}return Vi.Fragment=a,Vi.jsx=s,Vi.jsxs=s,Vi}var Yb;function GS(){return Yb||(Yb=1,Nf.exports=ZS()),Nf.exports}var l=GS(),Sf={exports:{}},ot={};var Kb;function PS(){if(Kb)return ot;Kb=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),j=Symbol.iterator;function I(w){return w===null||typeof w!="object"?null:(w=j&&w[j]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,_={};function q(w,K,fe){this.props=w,this.context=K,this.refs=_,this.updater=fe||E}q.prototype.isReactComponent={},q.prototype.setState=function(w,K){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,K,"setState")},q.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function D(){}D.prototype=q.prototype;function J(w,K,fe){this.props=w,this.context=K,this.refs=_,this.updater=fe||E}var U=J.prototype=new D;U.constructor=J,A(U,q.prototype),U.isPureReactComponent=!0;var T=Array.isArray;function G(){}var L={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function de(w,K,fe){var k=fe.ref;return{$$typeof:e,type:w,key:K,ref:k!==void 0?k:null,props:fe}}function Ee(w,K){return de(w.type,K,w.props)}function je(w){return typeof w=="object"&&w!==null&&w.$$typeof===e}function ie(w){var K={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(fe){return K[fe]})}var we=/\/+/g;function ke(w,K){return typeof w=="object"&&w!==null&&w.key!=null?ie(""+w.key):K.toString(36)}function Te(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(G,G):(w.status="pending",w.then(function(K){w.status==="pending"&&(w.status="fulfilled",w.value=K)},function(K){w.status==="pending"&&(w.status="rejected",w.reason=K)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function M(w,K,fe,k,me){var be=typeof w;(be==="undefined"||be==="boolean")&&(w=null);var ze=!1;if(w===null)ze=!0;else switch(be){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(w.$$typeof){case e:case a:ze=!0;break;case y:return ze=w._init,M(ze(w._payload),K,fe,k,me)}}if(ze)return me=me(w),ze=k===""?"."+ke(w,0):k,T(me)?(fe="",ze!=null&&(fe=ze.replace(we,"$&/")+"/"),M(me,K,fe,"",function(Ue){return Ue})):me!=null&&(je(me)&&(me=Ee(me,fe+(me.key==null||w&&w.key===me.key?"":(""+me.key).replace(we,"$&/")+"/")+ze)),K.push(me)),1;ze=0;var Ie=k===""?".":k+":";if(T(w))for(var pe=0;pe<w.length;pe++)k=w[pe],be=Ie+ke(k,pe),ze+=M(k,K,fe,be,me);else if(pe=I(w),typeof pe=="function")for(w=pe.call(w),pe=0;!(k=w.next()).done;)k=k.value,be=Ie+ke(k,pe++),ze+=M(k,K,fe,be,me);else if(be==="object"){if(typeof w.then=="function")return M(Te(w),K,fe,k,me);throw K=String(w),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ze}function H(w,K,fe){if(w==null)return w;var k=[],me=0;return M(w,k,"","",function(be){return K.call(fe,be,me++)}),k}function ae(w){if(w._status===-1){var K=w._result;K=K(),K.then(function(fe){(w._status===0||w._status===-1)&&(w._status=1,w._result=fe)},function(fe){(w._status===0||w._status===-1)&&(w._status=2,w._result=fe)}),w._status===-1&&(w._status=0,w._result=K)}if(w._status===1)return w._result.default;throw w._result}var xe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ce={map:H,forEach:function(w,K,fe){H(w,function(){K.apply(this,arguments)},fe)},count:function(w){var K=0;return H(w,function(){K++}),K},toArray:function(w){return H(w,function(K){return K})||[]},only:function(w){if(!je(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ot.Activity=x,ot.Children=Ce,ot.Component=q,ot.Fragment=s,ot.Profiler=c,ot.PureComponent=J,ot.StrictMode=i,ot.Suspense=v,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ot.__COMPILER_RUNTIME={__proto__:null,c:function(w){return L.H.useMemoCache(w)}},ot.cache=function(w){return function(){return w.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(w,K,fe){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var k=A({},w.props),me=w.key;if(K!=null)for(be in K.key!==void 0&&(me=""+K.key),K)!ee.call(K,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&K.ref===void 0||(k[be]=K[be]);var be=arguments.length-2;if(be===1)k.children=fe;else if(1<be){for(var ze=Array(be),Ie=0;Ie<be;Ie++)ze[Ie]=arguments[Ie+2];k.children=ze}return de(w.type,me,k)},ot.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},ot.createElement=function(w,K,fe){var k,me={},be=null;if(K!=null)for(k in K.key!==void 0&&(be=""+K.key),K)ee.call(K,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(me[k]=K[k]);var ze=arguments.length-2;if(ze===1)me.children=fe;else if(1<ze){for(var Ie=Array(ze),pe=0;pe<ze;pe++)Ie[pe]=arguments[pe+2];me.children=Ie}if(w&&w.defaultProps)for(k in ze=w.defaultProps,ze)me[k]===void 0&&(me[k]=ze[k]);return de(w,be,me)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(w){return{$$typeof:h,render:w}},ot.isValidElement=je,ot.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:ae}},ot.memo=function(w,K){return{$$typeof:p,type:w,compare:K===void 0?null:K}},ot.startTransition=function(w){var K=L.T,fe={};L.T=fe;try{var k=w(),me=L.S;me!==null&&me(fe,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(G,xe)}catch(be){xe(be)}finally{K!==null&&fe.types!==null&&(K.types=fe.types),L.T=K}},ot.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ot.use=function(w){return L.H.use(w)},ot.useActionState=function(w,K,fe){return L.H.useActionState(w,K,fe)},ot.useCallback=function(w,K){return L.H.useCallback(w,K)},ot.useContext=function(w){return L.H.useContext(w)},ot.useDebugValue=function(){},ot.useDeferredValue=function(w,K){return L.H.useDeferredValue(w,K)},ot.useEffect=function(w,K){return L.H.useEffect(w,K)},ot.useEffectEvent=function(w){return L.H.useEffectEvent(w)},ot.useId=function(){return L.H.useId()},ot.useImperativeHandle=function(w,K,fe){return L.H.useImperativeHandle(w,K,fe)},ot.useInsertionEffect=function(w,K){return L.H.useInsertionEffect(w,K)},ot.useLayoutEffect=function(w,K){return L.H.useLayoutEffect(w,K)},ot.useMemo=function(w,K){return L.H.useMemo(w,K)},ot.useOptimistic=function(w,K){return L.H.useOptimistic(w,K)},ot.useReducer=function(w,K,fe){return L.H.useReducer(w,K,fe)},ot.useRef=function(w){return L.H.useRef(w)},ot.useState=function(w){return L.H.useState(w)},ot.useSyncExternalStore=function(w,K,fe){return L.H.useSyncExternalStore(w,K,fe)},ot.useTransition=function(){return L.H.useTransition()},ot.version="19.2.0",ot}var Xb;function Um(){return Xb||(Xb=1,Sf.exports=PS()),Sf.exports}var g=Um();const ht=qy(g);var jf={exports:{}},Zi={},wf={exports:{}},_f={};var Jb;function QS(){return Jb||(Jb=1,(function(e){function a(M,H){var ae=M.length;M.push(H);e:for(;0<ae;){var xe=ae-1>>>1,Ce=M[xe];if(0<c(Ce,H))M[xe]=H,M[ae]=Ce,ae=xe;else break e}}function s(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var H=M[0],ae=M.pop();if(ae!==H){M[0]=ae;e:for(var xe=0,Ce=M.length,w=Ce>>>1;xe<w;){var K=2*(xe+1)-1,fe=M[K],k=K+1,me=M[k];if(0>c(fe,ae))k<Ce&&0>c(me,fe)?(M[xe]=me,M[k]=ae,xe=k):(M[xe]=fe,M[K]=ae,xe=K);else if(k<Ce&&0>c(me,ae))M[xe]=me,M[k]=ae,xe=k;else break e}}return H}function c(M,H){var ae=M.sortIndex-H.sortIndex;return ae!==0?ae:M.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,h=f.now();e.unstable_now=function(){return f.now()-h}}var v=[],p=[],y=1,x=null,j=3,I=!1,E=!1,A=!1,_=!1,q=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function U(M){for(var H=s(p);H!==null;){if(H.callback===null)i(p);else if(H.startTime<=M)i(p),H.sortIndex=H.expirationTime,a(v,H);else break;H=s(p)}}function T(M){if(A=!1,U(M),!E)if(s(v)!==null)E=!0,G||(G=!0,ie());else{var H=s(p);H!==null&&Te(T,H.startTime-M)}}var G=!1,L=-1,ee=5,de=-1;function Ee(){return _?!0:!(e.unstable_now()-de<ee)}function je(){if(_=!1,G){var M=e.unstable_now();de=M;var H=!0;try{e:{E=!1,A&&(A=!1,D(L),L=-1),I=!0;var ae=j;try{t:{for(U(M),x=s(v);x!==null&&!(x.expirationTime>M&&Ee());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,j=x.priorityLevel;var Ce=xe(x.expirationTime<=M);if(M=e.unstable_now(),typeof Ce=="function"){x.callback=Ce,U(M),H=!0;break t}x===s(v)&&i(v),U(M)}else i(v);x=s(v)}if(x!==null)H=!0;else{var w=s(p);w!==null&&Te(T,w.startTime-M),H=!1}}break e}finally{x=null,j=ae,I=!1}H=void 0}}finally{H?ie():G=!1}}}var ie;if(typeof J=="function")ie=function(){J(je)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ke=we.port2;we.port1.onmessage=je,ie=function(){ke.postMessage(null)}}else ie=function(){q(je,0)};function Te(M,H){L=q(function(){M(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_next=function(M){switch(j){case 1:case 2:case 3:var H=3;break;default:H=j}var ae=j;j=H;try{return M()}finally{j=ae}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ae=j;j=M;try{return H()}finally{j=ae}},e.unstable_scheduleCallback=function(M,H,ae){var xe=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,M){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ae+Ce,M={id:y++,callback:H,priorityLevel:M,startTime:ae,expirationTime:Ce,sortIndex:-1},ae>xe?(M.sortIndex=ae,a(p,M),s(v)===null&&M===s(p)&&(A?(D(L),L=-1):A=!0,Te(T,ae-xe))):(M.sortIndex=Ce,a(v,M),E||I||(E=!0,G||(G=!0,ie()))),M},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(M){var H=j;return function(){var ae=j;j=H;try{return M.apply(this,arguments)}finally{j=ae}}}})(_f)),_f}var Wb;function YS(){return Wb||(Wb=1,wf.exports=QS()),wf.exports}var Ef={exports:{}},Yn={};var ev;function KS(){if(ev)return Yn;ev=1;var e=Um();function a(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,p,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:v,containerInfo:p,implementation:y}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yn.createPortal=function(v,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(v,p,null,y)},Yn.flushSync=function(v){var p=f.T,y=i.p;try{if(f.T=null,i.p=2,v)return v()}finally{f.T=p,i.p=y,i.d.f()}},Yn.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(v,p))},Yn.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},Yn.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:j,fetchPriority:I}):y==="script"&&i.d.X(v,{crossOrigin:x,integrity:j,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yn.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(v)},Yn.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin);i.d.L(v,y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yn.preloadModule=function(v,p){if(typeof v=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(v)},Yn.requestFormReset=function(v){i.d.r(v)},Yn.unstable_batchedUpdates=function(v,p){return v(p)},Yn.useFormState=function(v,p,y){return f.H.useFormState(v,p,y)},Yn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yn.version="19.2.0",Yn}var tv;function XS(){if(tv)return Ef.exports;tv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),Ef.exports=KS(),Ef.exports}var nv;function JS(){if(nv)return Zi;nv=1;var e=YS(),a=Um(),s=XS();function i(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(d(t)!==t)throw Error(i(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(i(188));return n!==t?null:t}for(var r=t,o=n;;){var u=r.return;if(u===null)break;var m=u.alternate;if(m===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===r)return v(u),t;if(m===o)return v(u),n;m=m.sibling}throw Error(i(188))}if(r.return!==o.return)r=u,o=m;else{for(var b=!1,N=u.child;N;){if(N===r){b=!0,r=u,o=m;break}if(N===o){b=!0,o=u,r=m;break}N=N.sibling}if(!b){for(N=m.child;N;){if(N===r){b=!0,r=m,o=u;break}if(N===o){b=!0,o=m,r=u;break}N=N.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,j=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),J=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=je&&t[je]||t["@@iterator"],typeof t=="function"?t:null)}var we=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===we?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case q:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case G:return"SuspenseList";case de:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case J:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case U:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return n=t.displayName||null,n!==null?n:ke(t.type)||"Memo";case ee:n=t._payload,t=t._init;try{return ke(t(n))}catch{}}return null}var Te=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],Ce=-1;function w(t){return{current:t}}function K(t){0>Ce||(t.current=xe[Ce],xe[Ce]=null,Ce--)}function fe(t,n){Ce++,xe[Ce]=t.current,t.current=n}var k=w(null),me=w(null),be=w(null),ze=w(null);function Ie(t,n){switch(fe(be,n),fe(me,t),fe(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?bb(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=bb(n),t=vb(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(k),fe(k,t)}function pe(){K(k),K(me),K(be)}function Ue(t){t.memoizedState!==null&&fe(ze,t);var n=k.current,r=vb(n,t.type);n!==r&&(fe(me,t),fe(k,r))}function $e(t){me.current===t&&(K(k),K(me)),ze.current===t&&(K(ze),Ii._currentValue=ae)}var Je,lt;function De(t){if(Je===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Je=n&&n[1]||"",lt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+t+lt}var Pe=!1;function ve(t,n){if(!t||Pe)return"";Pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ce){var re=ce}Reflect.construct(t,[],Se)}else{try{Se.call()}catch(ce){re=ce}t.call(Se.prototype)}}else{try{throw Error()}catch(ce){re=ce}(Se=t())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ce){if(ce&&re&&typeof ce.stack=="string")return[ce.stack,re.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],N=m[1];if(b&&N){var z=b.split(`
`),ne=N.split(`
`);for(u=o=0;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;for(;u<ne.length&&!ne[u].includes("DetermineComponentFrameRoot");)u++;if(o===z.length||u===ne.length)for(o=z.length-1,u=ne.length-1;1<=o&&0<=u&&z[o]!==ne[u];)u--;for(;1<=o&&0<=u;o--,u--)if(z[o]!==ne[u]){if(o!==1||u!==1)do if(o--,u--,0>u||z[o]!==ne[u]){var ge=`
`+z[o].replace(" at new "," at ");return t.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",t.displayName)),ge}while(1<=o&&0<=u);break}}}finally{Pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?De(r):""}function Ze(t,n){switch(t.tag){case 26:case 27:case 5:return De(t.type);case 16:return De("Lazy");case 13:return t.child!==n&&n!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return ve(t.type,!1);case 11:return ve(t.type.render,!1);case 1:return ve(t.type,!0);case 31:return De("Activity");default:return""}}function Ae(t){try{var n="",r=null;do n+=Ze(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var We=Object.prototype.hasOwnProperty,C=e.unstable_scheduleCallback,Y=e.unstable_cancelCallback,R=e.unstable_shouldYield,P=e.unstable_requestPaint,Z=e.unstable_now,le=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,se=e.unstable_NormalPriority,Le=e.unstable_LowPriority,Ve=e.unstable_IdlePriority,it=e.log,Ht=e.unstable_setDisableYieldValue,Ne=null,nt=null;function Vt(t){if(typeof it=="function"&&Ht(t),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Ne,t)}catch{}}var jt=Math.clz32?Math.clz32:$n,Bt=Math.log,dn=Math.LN2;function $n(t){return t>>>=0,t===0?32:31-(Bt(t)/dn|0)|0}var Fn=256,ct=262144,Hn=4194304;function kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var N=o&134217727;return N!==0?(o=N&~m,o!==0?u=kn(o):(b&=N,b!==0?u=kn(b):r||(r=N&~t,r!==0&&(u=kn(r))))):(N=o&~m,N!==0?u=kn(N):b!==0?u=kn(b):r||(r=o&~t,r!==0&&(u=kn(r)))),u===0?0:n!==0&&n!==u&&(n&m)===0&&(m=u&-u,r=n&-n,m>=r||m===32&&(r&4194048)!==0)?n:u}function Vn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Zn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var t=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),t}function W(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function He(t,n,r,o,u,m){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var N=t.entanglements,z=t.expirationTimes,ne=t.hiddenUpdates;for(r=b&~r;0<r;){var ge=31-jt(r),Se=1<<ge;N[ge]=0,z[ge]=-1;var re=ne[ge];if(re!==null)for(ne[ge]=null,ge=0;ge<re.length;ge++){var ce=re[ge];ce!==null&&(ce.lane&=-536870913)}r&=~Se}o!==0&&rt(t,o,0),m!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function rt(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-jt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function tt(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-jt(r),u=1<<o;u&n|t[o]&n&&(t[o]|=n),r&=~u}}function Xe(t,n){var r=n&-n;return r=(r&42)!==0?1:Pt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Pt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _t(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bt(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:$b(t.type))}function Zt(t,n){var r=H.p;try{return H.p=t,n()}finally{H.p=r}}var Et=Math.random().toString(36).slice(2),ut="__reactFiber$"+Et,gt="__reactProps$"+Et,Tt="__reactContainer$"+Et,Dt="__reactEvents$"+Et,sn="__reactListeners$"+Et,fn="__reactHandles$"+Et,Xt="__reactResources$"+Et,Ct="__reactMarker$"+Et;function gn(t){delete t[ut],delete t[gt],delete t[Dt],delete t[sn],delete t[fn]}function wt(t){var n=t[ut];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Tt]||r[ut]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_b(t);t!==null;){if(r=t[ut])return r;t=_b(t)}return n}t=r,r=t.parentNode}return null}function bn(t){if(t=t[ut]||t[Tt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(i(33))}function Tn(t){var n=t[Xt];return n||(n=t[Xt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[Ct]=!0}var Bs=new Set,la={};function vn(t,n){Pn(t,n),Pn(t+"Capture",n)}function Pn(t,n){for(la[t]=n,t=0;t<n.length;t++)Bs.add(n[t])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xa={},ia={};function Mn(t){return We.call(ia,t)?!0:We.call(Xa,t)?!1:Ka.test(t)?ia[t]=!0:(Xa[t]=!0,!1)}function Jt(t,n,r){if(Mn(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Sa(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Qn(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tl(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(b){r=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qs(t){if(!t._valueTracker){var n=Wn(t)?"checked":"value";t._valueTracker=tl(t,n,""+t[n])}}function br(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Wn(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vr=/[\n"\\]/g;function yn(t){return t.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yr(t,n,r,o,u,m,b,N){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?ps(t,b,Wt(n)):r!=null?ps(t,b,Wt(r)):o!=null&&t.removeAttribute("value"),u==null&&m!=null&&(t.defaultChecked=!!m),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+Wt(N):t.removeAttribute("name")}function Is(t,n,r,o,u,m,b,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){qs(t);return}r=r!=null?""+Wt(r):"",n=n!=null?""+Wt(n):r,N||n===t.value||(t.value=n),t.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=N?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),qs(t)}function ps(t,n,r){n==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function is(t,n,r,o){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Wt(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function nl(t,n,r){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Wt(r):""}function al(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(i(92));if(Te(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Wt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),qs(t)}function Ja(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xr(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||ea.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function gs(t,n,r){if(n!=null&&typeof n!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&r[u]!==o&&xr(t,u,o)}else for(var m in n)n.hasOwnProperty(m)&&xr(t,m,n[m])}function oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ri=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bs(t){return ri.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ja(){}var Da=null;function Sr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wa=null,ca=null;function sl(t){var n=bn(t);if(n&&(t=n.stateNode)){var r=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(yr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var u=o[gt]||null;if(!u)throw Error(i(90));yr(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&br(o)}break e;case"textarea":nl(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&is(t,!!r.multiple,n,!1)}}}var jr=!1;function rl(t,n,r){if(jr)return t(n,r);jr=!0;try{var o=t(n);return o}finally{if(jr=!1,(Wa!==null||ca!==null)&&(nc(),Wa&&(n=Wa,t=ca,ca=Wa=null,sl(n),t)))for(n=0;n<t.length;n++)sl(t[n])}}function xn(t,n){var r=t.stateNode;if(r===null)return null;var o=r[gt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(ta)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){vs=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{vs=!1}var Un=null,O=null,F=null;function he(){if(F)return F;var t,n=O,r=n.length,o,u="value"in Un?Un.value:Un.textContent,m=u.length;for(t=0;t<r&&n[t]===u[t];t++);var b=r-t;for(o=1;o<=b&&n[r-o]===u[m-o];o++);return F=u.slice(t,1<o?1-o:void 0)}function Me(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function S(){return!0}function $(){return!1}function Q(t){function n(r,o,u,m,b){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(r=t[N],this[N]=r?r(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?S:$,this.isPropagationStopped=$,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=S)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=S)},persist:function(){},isPersistent:S}),n}var ue={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qe=Q(ue),Ye=x({},ue,{view:0,detail:0}),kt=Q(Ye),es,za,ka,ys=x({},Ye,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ka&&(ka&&t.type==="mousemove"?(es=t.screenX-ka.screenX,za=t.screenY-ka.screenY):za=es=0,ka=t),es)},movementY:function(t){return"movementY"in t?t.movementY:za}}),li=Q(ys),Su=x({},ys,{dataTransfer:0}),ju=Q(Su),ll=x({},Ye,{relatedTarget:0}),wu=Q(ll),P0=x({},ue,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=Q(P0),Y0=x({},ue,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K0=Q(Y0),X0=x({},ue,{data:0}),Nh=Q(X0),J0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tN(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=eN[t])?!!n[t]:!1}function _u(){return tN}var nN=x({},Ye,{key:function(t){if(t.key){var n=J0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Me(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(t){return t.type==="keypress"?Me(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Me(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aN=Q(nN),sN=x({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=Q(sN),rN=x({},Ye,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),lN=Q(rN),iN=x({},ue,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=Q(iN),cN=x({},ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uN=Q(cN),dN=x({},ue,{newState:0,oldState:0}),fN=Q(dN),mN=[9,13,27,32],Eu=ta&&"CompositionEvent"in window,ii=null;ta&&"documentMode"in document&&(ii=document.documentMode);var hN=ta&&"TextEvent"in window&&!ii,jh=ta&&(!Eu||ii&&8<ii&&11>=ii),wh=" ",_h=!1;function Eh(t,n){switch(t){case"keyup":return mN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ch(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function pN(t,n){switch(t){case"compositionend":return Ch(n);case"keypress":return n.which!==32?null:(_h=!0,wh);case"textInput":return t=n.data,t===wh&&_h?null:t;default:return null}}function gN(t,n){if(il)return t==="compositionend"||!Eu&&Eh(t,n)?(t=he(),F=O=Un=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jh&&n.locale!=="ko"?null:n.data;default:return null}}var bN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!bN[t.type]:n==="textarea"}function Oh(t,n,r,o){Wa?ca?ca.push(o):ca=[o]:Wa=o,n=cc(n,"onChange"),0<n.length&&(r=new qe("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var oi=null,ci=null;function vN(t){db(t,0)}function No(t){var n=Gn(t);if(br(n))return t}function Rh(t,n){if(t==="change")return n}var Th=!1;if(ta){var Cu;if(ta){var Au="oninput"in document;if(!Au){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),Au=typeof Dh.oninput=="function"}Cu=Au}else Cu=!1;Th=Cu&&(!document.documentMode||9<document.documentMode)}function zh(){oi&&(oi.detachEvent("onpropertychange",kh),ci=oi=null)}function kh(t){if(t.propertyName==="value"&&No(ci)){var n=[];Oh(n,ci,t,Sr(t)),rl(vN,n)}}function yN(t,n,r){t==="focusin"?(zh(),oi=n,ci=r,oi.attachEvent("onpropertychange",kh)):t==="focusout"&&zh()}function xN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return No(ci)}function NN(t,n){if(t==="click")return No(n)}function SN(t,n){if(t==="input"||t==="change")return No(n)}function jN(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wa=typeof Object.is=="function"?Object.is:jN;function ui(t,n){if(wa(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!We.call(n,u)||!wa(t[u],n[u]))return!1}return!0}function Mh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uh(t,n){var r=Mh(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mh(r)}}function Lh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hs(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=hs(t.document)}return n}function Ou(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var wN=ta&&"documentMode"in document&&11>=document.documentMode,ol=null,Ru=null,di=null,Tu=!1;function qh(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tu||ol==null||ol!==hs(o)||(o=ol,"selectionStart"in o&&Ou(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),di&&ui(di,o)||(di=o,o=cc(Ru,"onSelect"),0<o.length&&(n=new qe("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=ol)))}function wr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var cl={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},Du={},Ih={};ta&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function _r(t){if(Du[t])return Du[t];if(!cl[t])return t;var n=cl[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ih)return Du[t]=n[r];return t}var $h=_r("animationend"),Fh=_r("animationiteration"),Hh=_r("animationstart"),_N=_r("transitionrun"),EN=_r("transitionstart"),CN=_r("transitioncancel"),Vh=_r("transitionend"),Zh=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function ts(t,n){Zh.set(t,n),vn(n,[t])}var So=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ma=[],ul=0,ku=0;function jo(){for(var t=ul,n=ku=ul=0;n<t;){var r=Ma[n];Ma[n++]=null;var o=Ma[n];Ma[n++]=null;var u=Ma[n];Ma[n++]=null;var m=Ma[n];if(Ma[n++]=null,o!==null&&u!==null){var b=o.pending;b===null?u.next=u:(u.next=b.next,b.next=u),o.pending=u}m!==0&&Gh(r,u,m)}}function wo(t,n,r,o){Ma[ul++]=t,Ma[ul++]=n,Ma[ul++]=r,Ma[ul++]=o,ku|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Mu(t,n,r,o){return wo(t,n,r,o),_o(t)}function Er(t,n){return wo(t,null,null,n),_o(t)}function Gh(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var u=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(u=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,u&&n!==null&&(u=31-jt(r),t=m.hiddenUpdates,o=t[u],o===null?t[u]=[n]:o.push(n),n.lane=r|536870912),m):null}function _o(t){if(50<zi)throw zi=0,Vd=null,Error(i(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var dl={};function AN(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(t,n,r,o){return new AN(t,n,r,o)}function Uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xs(t,n){var r=t.alternate;return r===null?(r=_a(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ph(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Eo(t,n,r,o,u,m){var b=0;if(o=t,typeof t=="function")Uu(t)&&(b=1);else if(typeof t=="string")b=zS(t,r,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case de:return t=_a(31,r,n,u),t.elementType=de,t.lanes=m,t;case A:return Cr(r.children,u,m,n);case _:b=8,u|=24;break;case q:return t=_a(12,r,n,u|2),t.elementType=q,t.lanes=m,t;case T:return t=_a(13,r,n,u),t.elementType=T,t.lanes=m,t;case G:return t=_a(19,r,n,u),t.elementType=G,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:b=10;break e;case D:b=9;break e;case U:b=11;break e;case L:b=14;break e;case ee:b=16,o=null;break e}b=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return n=_a(b,r,n,u),n.elementType=t,n.type=o,n.lanes=m,n}function Cr(t,n,r,o){return t=_a(7,t,o,n),t.lanes=r,t}function Lu(t,n,r){return t=_a(6,t,null,n),t.lanes=r,t}function Qh(t){var n=_a(18,null,null,0);return n.stateNode=t,n}function Bu(t,n,r){return n=_a(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Yh=new WeakMap;function Ua(t,n){if(typeof t=="object"&&t!==null){var r=Yh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ae(n)},Yh.set(t,n),n)}return{value:t,source:n,stack:Ae(n)}}var fl=[],ml=0,Co=null,fi=0,La=[],Ba=0,$s=null,os=1,cs="";function Ns(t,n){fl[ml++]=fi,fl[ml++]=Co,Co=t,fi=n}function Kh(t,n,r){La[Ba++]=os,La[Ba++]=cs,La[Ba++]=$s,$s=t;var o=os;t=cs;var u=32-jt(o)-1;o&=~(1<<u),r+=1;var m=32-jt(n)+u;if(30<m){var b=u-u%5;m=(o&(1<<b)-1).toString(32),o>>=b,u-=b,os=1<<32-jt(n)+u|r<<u|o,cs=m+t}else os=1<<m|r<<u|o,cs=t}function qu(t){t.return!==null&&(Ns(t,1),Kh(t,1,0))}function Iu(t){for(;t===Co;)Co=fl[--ml],fl[ml]=null,fi=fl[--ml],fl[ml]=null;for(;t===$s;)$s=La[--Ba],La[Ba]=null,cs=La[--Ba],La[Ba]=null,os=La[--Ba],La[Ba]=null}function Xh(t,n){La[Ba++]=os,La[Ba++]=cs,La[Ba++]=$s,os=n.id,cs=n.overflow,$s=t}var Ln=null,Qt=null,St=!1,Fs=null,qa=!1,$u=Error(i(519));function Hs(t){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mi(Ua(n,t)),$u}function Jh(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[ut]=t,n[gt]=o,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(r=0;r<Mi.length;r++)yt(Mi[r],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":yt("invalid",n),Is(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":yt("invalid",n);break;case"textarea":yt("invalid",n),al(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||pb(n.textContent,r)?(o.popover!=null&&(yt("beforetoggle",n),yt("toggle",n)),o.onScroll!=null&&yt("scroll",n),o.onScrollEnd!=null&&yt("scrollend",n),o.onClick!=null&&(n.onclick=ja),n=!0):n=!1,n||Hs(t,!0)}function Wh(t){for(Ln=t.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:qa=!1;return;case 27:case 3:qa=!0;return;default:Ln=Ln.return}}function hl(t){if(t!==Ln)return!1;if(!St)return Wh(t),St=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||rf(t.type,t.memoizedProps)),r=!r),r&&Qt&&Hs(t),Wh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Qt=wb(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Qt=wb(t)}else n===27?(n=Qt,ar(t.type)?(t=df,df=null,Qt=t):Qt=n):Qt=Ln?$a(t.stateNode.nextSibling):null;return!0}function Ar(){Qt=Ln=null,St=!1}function Fu(){var t=Fs;return t!==null&&(ha===null?ha=t:ha.push.apply(ha,t),Fs=null),t}function mi(t){Fs===null?Fs=[t]:Fs.push(t)}var Hu=w(null),Or=null,Ss=null;function Vs(t,n,r){fe(Hu,n._currentValue),n._currentValue=r}function js(t){t._currentValue=Hu.current,K(Hu)}function Vu(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function Zu(t,n,r,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var m=u.dependencies;if(m!==null){var b=u.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=u;for(var z=0;z<n.length;z++)if(N.context===n[z]){m.lanes|=r,N=m.alternate,N!==null&&(N.lanes|=r),Vu(m.return,r,t),o||(b=null);break e}m=N.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(i(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),Vu(b,r,t),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===t){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function pl(t,n,r,o){t=null;for(var u=n,m=!1;u!==null;){if(!m){if((u.flags&524288)!==0)m=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var N=u.type;wa(u.pendingProps.value,b.value)||(t!==null?t.push(N):t=[N])}}else if(u===ze.current){if(b=u.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Ii):t=[Ii])}u=u.return}t!==null&&Zu(n,t,r,o),n.flags|=262144}function Ao(t){for(t=t.firstContext;t!==null;){if(!wa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rr(t){Or=t,Ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bn(t){return ep(Or,t)}function Oo(t,n){return Or===null&&Rr(t),ep(t,n)}function ep(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ss===null){if(t===null)throw Error(i(308));Ss=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ss=Ss.next=n;return r}var ON=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},RN=e.unstable_scheduleCallback,TN=e.unstable_NormalPriority,Nn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new ON,data:new Map,refCount:0}}function hi(t){t.refCount--,t.refCount===0&&RN(TN,function(){t.controller.abort()})}var pi=null,Pu=0,gl=0,bl=null;function DN(t,n){if(pi===null){var r=pi=[];Pu=0,gl=Kd(),bl={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Pu++,n.then(tp,tp),n}function tp(){if(--Pu===0&&pi!==null){bl!==null&&(bl.status="fulfilled");var t=pi;pi=null,gl=0,bl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zN(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var np=M.S;M.S=function(t,n){qg=Z(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&DN(t,n),np!==null&&np(t,n)};var Tr=w(null);function Qu(){var t=Tr.current;return t!==null?t:Ft.pooledCache}function Ro(t,n){n===null?fe(Tr,Tr.current):fe(Tr,n.pool)}function ap(){var t=Qu();return t===null?null:{parent:Nn._currentValue,pool:t}}var vl=Error(i(460)),Yu=Error(i(474)),To=Error(i(542)),Do={then:function(){}};function sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ja,ja),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t;default:if(typeof n.status=="string")n.then(ja,ja);else{if(t=Ft,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t}throw zr=n,vl}}function Dr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(zr=r,vl):r}}var zr=null;function lp(){if(zr===null)throw Error(i(459));var t=zr;return zr=null,t}function ip(t){if(t===vl||t===To)throw Error(i(483))}var yl=null,gi=0;function zo(t){var n=gi;return gi+=1,yl===null&&(yl=[]),rp(yl,t,n)}function bi(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ko(t,n){throw n.$$typeof===j?Error(i(525)):(t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function op(t){function n(V,B){if(t){var te=V.deletions;te===null?(V.deletions=[B],V.flags|=16):te.push(B)}}function r(V,B){if(!t)return null;for(;B!==null;)n(V,B),B=B.sibling;return null}function o(V){for(var B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function u(V,B){return V=xs(V,B),V.index=0,V.sibling=null,V}function m(V,B,te){return V.index=te,t?(te=V.alternate,te!==null?(te=te.index,te<B?(V.flags|=67108866,B):te):(V.flags|=67108866,B)):(V.flags|=1048576,B)}function b(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function N(V,B,te,ye){return B===null||B.tag!==6?(B=Lu(te,V.mode,ye),B.return=V,B):(B=u(B,te),B.return=V,B)}function z(V,B,te,ye){var et=te.type;return et===A?ge(V,B,te.props.children,ye,te.key):B!==null&&(B.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===ee&&Dr(et)===B.type)?(B=u(B,te.props),bi(B,te),B.return=V,B):(B=Eo(te.type,te.key,te.props,null,V.mode,ye),bi(B,te),B.return=V,B)}function ne(V,B,te,ye){return B===null||B.tag!==4||B.stateNode.containerInfo!==te.containerInfo||B.stateNode.implementation!==te.implementation?(B=Bu(te,V.mode,ye),B.return=V,B):(B=u(B,te.children||[]),B.return=V,B)}function ge(V,B,te,ye,et){return B===null||B.tag!==7?(B=Cr(te,V.mode,ye,et),B.return=V,B):(B=u(B,te),B.return=V,B)}function Se(V,B,te){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Lu(""+B,V.mode,te),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return te=Eo(B.type,B.key,B.props,null,V.mode,te),bi(te,B),te.return=V,te;case E:return B=Bu(B,V.mode,te),B.return=V,B;case ee:return B=Dr(B),Se(V,B,te)}if(Te(B)||ie(B))return B=Cr(B,V.mode,te,null),B.return=V,B;if(typeof B.then=="function")return Se(V,zo(B),te);if(B.$$typeof===J)return Se(V,Oo(V,B),te);ko(V,B)}return null}function re(V,B,te,ye){var et=B!==null?B.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return et!==null?null:N(V,B,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return te.key===et?z(V,B,te,ye):null;case E:return te.key===et?ne(V,B,te,ye):null;case ee:return te=Dr(te),re(V,B,te,ye)}if(Te(te)||ie(te))return et!==null?null:ge(V,B,te,ye,null);if(typeof te.then=="function")return re(V,B,zo(te),ye);if(te.$$typeof===J)return re(V,B,Oo(V,te),ye);ko(V,te)}return null}function ce(V,B,te,ye,et){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return V=V.get(te)||null,N(B,V,""+ye,et);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case I:return V=V.get(ye.key===null?te:ye.key)||null,z(B,V,ye,et);case E:return V=V.get(ye.key===null?te:ye.key)||null,ne(B,V,ye,et);case ee:return ye=Dr(ye),ce(V,B,te,ye,et)}if(Te(ye)||ie(ye))return V=V.get(te)||null,ge(B,V,ye,et,null);if(typeof ye.then=="function")return ce(V,B,te,zo(ye),et);if(ye.$$typeof===J)return ce(V,B,te,Oo(B,ye),et);ko(B,ye)}return null}function Ge(V,B,te,ye){for(var et=null,At=null,Qe=B,mt=B=0,Nt=null;Qe!==null&&mt<te.length;mt++){Qe.index>mt?(Nt=Qe,Qe=null):Nt=Qe.sibling;var Ot=re(V,Qe,te[mt],ye);if(Ot===null){Qe===null&&(Qe=Nt);break}t&&Qe&&Ot.alternate===null&&n(V,Qe),B=m(Ot,B,mt),At===null?et=Ot:At.sibling=Ot,At=Ot,Qe=Nt}if(mt===te.length)return r(V,Qe),St&&Ns(V,mt),et;if(Qe===null){for(;mt<te.length;mt++)Qe=Se(V,te[mt],ye),Qe!==null&&(B=m(Qe,B,mt),At===null?et=Qe:At.sibling=Qe,At=Qe);return St&&Ns(V,mt),et}for(Qe=o(Qe);mt<te.length;mt++)Nt=ce(Qe,V,mt,te[mt],ye),Nt!==null&&(t&&Nt.alternate!==null&&Qe.delete(Nt.key===null?mt:Nt.key),B=m(Nt,B,mt),At===null?et=Nt:At.sibling=Nt,At=Nt);return t&&Qe.forEach(function(or){return n(V,or)}),St&&Ns(V,mt),et}function st(V,B,te,ye){if(te==null)throw Error(i(151));for(var et=null,At=null,Qe=B,mt=B=0,Nt=null,Ot=te.next();Qe!==null&&!Ot.done;mt++,Ot=te.next()){Qe.index>mt?(Nt=Qe,Qe=null):Nt=Qe.sibling;var or=re(V,Qe,Ot.value,ye);if(or===null){Qe===null&&(Qe=Nt);break}t&&Qe&&or.alternate===null&&n(V,Qe),B=m(or,B,mt),At===null?et=or:At.sibling=or,At=or,Qe=Nt}if(Ot.done)return r(V,Qe),St&&Ns(V,mt),et;if(Qe===null){for(;!Ot.done;mt++,Ot=te.next())Ot=Se(V,Ot.value,ye),Ot!==null&&(B=m(Ot,B,mt),At===null?et=Ot:At.sibling=Ot,At=Ot);return St&&Ns(V,mt),et}for(Qe=o(Qe);!Ot.done;mt++,Ot=te.next())Ot=ce(Qe,V,mt,Ot.value,ye),Ot!==null&&(t&&Ot.alternate!==null&&Qe.delete(Ot.key===null?mt:Ot.key),B=m(Ot,B,mt),At===null?et=Ot:At.sibling=Ot,At=Ot);return t&&Qe.forEach(function(VS){return n(V,VS)}),St&&Ns(V,mt),et}function $t(V,B,te,ye){if(typeof te=="object"&&te!==null&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case I:e:{for(var et=te.key;B!==null;){if(B.key===et){if(et=te.type,et===A){if(B.tag===7){r(V,B.sibling),ye=u(B,te.props.children),ye.return=V,V=ye;break e}}else if(B.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===ee&&Dr(et)===B.type){r(V,B.sibling),ye=u(B,te.props),bi(ye,te),ye.return=V,V=ye;break e}r(V,B);break}else n(V,B);B=B.sibling}te.type===A?(ye=Cr(te.props.children,V.mode,ye,te.key),ye.return=V,V=ye):(ye=Eo(te.type,te.key,te.props,null,V.mode,ye),bi(ye,te),ye.return=V,V=ye)}return b(V);case E:e:{for(et=te.key;B!==null;){if(B.key===et)if(B.tag===4&&B.stateNode.containerInfo===te.containerInfo&&B.stateNode.implementation===te.implementation){r(V,B.sibling),ye=u(B,te.children||[]),ye.return=V,V=ye;break e}else{r(V,B);break}else n(V,B);B=B.sibling}ye=Bu(te,V.mode,ye),ye.return=V,V=ye}return b(V);case ee:return te=Dr(te),$t(V,B,te,ye)}if(Te(te))return Ge(V,B,te,ye);if(ie(te)){if(et=ie(te),typeof et!="function")throw Error(i(150));return te=et.call(te),st(V,B,te,ye)}if(typeof te.then=="function")return $t(V,B,zo(te),ye);if(te.$$typeof===J)return $t(V,B,Oo(V,te),ye);ko(V,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,B!==null&&B.tag===6?(r(V,B.sibling),ye=u(B,te),ye.return=V,V=ye):(r(V,B),ye=Lu(te,V.mode,ye),ye.return=V,V=ye),b(V)):r(V,B)}return function(V,B,te,ye){try{gi=0;var et=$t(V,B,te,ye);return yl=null,et}catch(Qe){if(Qe===vl||Qe===To)throw Qe;var At=_a(29,Qe,null,V.mode);return At.lanes=ye,At.return=V,At}finally{}}}var kr=op(!0),cp=op(!1),Zs=!1;function Ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Rt&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=_o(t),Gh(t,null,r),n}return wo(t,o,n,r),_o(t)}function vi(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,tt(t,r)}}function Ju(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?u=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?u=m=n:m=m.next=n}else u=m=n;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wu=!1;function yi(){if(Wu){var t=bl;if(t!==null)throw t}}function xi(t,n,r,o){Wu=!1;var u=t.updateQueue;Zs=!1;var m=u.firstBaseUpdate,b=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var z=N,ne=z.next;z.next=null,b===null?m=ne:b.next=ne,b=z;var ge=t.alternate;ge!==null&&(ge=ge.updateQueue,N=ge.lastBaseUpdate,N!==b&&(N===null?ge.firstBaseUpdate=ne:N.next=ne,ge.lastBaseUpdate=z))}if(m!==null){var Se=u.baseState;b=0,ge=ne=z=null,N=m;do{var re=N.lane&-536870913,ce=re!==N.lane;if(ce?(xt&re)===re:(o&re)===re){re!==0&&re===gl&&(Wu=!0),ge!==null&&(ge=ge.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ge=t,st=N;re=n;var $t=r;switch(st.tag){case 1:if(Ge=st.payload,typeof Ge=="function"){Se=Ge.call($t,Se,re);break e}Se=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=st.payload,re=typeof Ge=="function"?Ge.call($t,Se,re):Ge,re==null)break e;Se=x({},Se,re);break e;case 2:Zs=!0}}re=N.callback,re!==null&&(t.flags|=64,ce&&(t.flags|=8192),ce=u.callbacks,ce===null?u.callbacks=[re]:ce.push(re))}else ce={lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ge===null?(ne=ge=ce,z=Se):ge=ge.next=ce,b|=re;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;ce=N,N=ce.next,ce.next=null,u.lastBaseUpdate=ce,u.shared.pending=null}}while(!0);ge===null&&(z=Se),u.baseState=z,u.firstBaseUpdate=ne,u.lastBaseUpdate=ge,m===null&&(u.shared.lanes=0),Js|=b,t.lanes=b,t.memoizedState=Se}}function up(t,n){if(typeof t!="function")throw Error(i(191,t));t.call(n)}function dp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)up(r[t],n)}var xl=w(null),Mo=w(0);function fp(t,n){t=Ds,fe(Mo,t),fe(xl,n),Ds=t|n.baseLanes}function ed(){fe(Mo,Ds),fe(xl,xl.current)}function td(){Ds=Mo.current,K(xl),K(Mo)}var Ea=w(null),Ia=null;function Qs(t){var n=t.alternate;fe(mn,mn.current&1),fe(Ea,t),Ia===null&&(n===null||xl.current!==null||n.memoizedState!==null)&&(Ia=t)}function nd(t){fe(mn,mn.current),fe(Ea,t),Ia===null&&(Ia=t)}function mp(t){t.tag===22?(fe(mn,mn.current),fe(Ea,t),Ia===null&&(Ia=t)):Ys()}function Ys(){fe(mn,mn.current),fe(Ea,Ea.current)}function Ca(t){K(Ea),Ia===t&&(Ia=null),K(mn)}var mn=w(0);function Uo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||cf(r)||uf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ws=0,dt=null,qt=null,Sn=null,Lo=!1,Nl=!1,Mr=!1,Bo=0,Ni=0,Sl=null,kN=0;function on(){throw Error(i(321))}function ad(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!wa(t[r],n[r]))return!1;return!0}function sd(t,n,r,o,u,m){return ws=m,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Kp:yd,Mr=!1,m=r(o,u),Mr=!1,Nl&&(m=pp(n,r,o,u)),hp(t),m}function hp(t){M.H=wi;var n=qt!==null&&qt.next!==null;if(ws=0,Sn=qt=dt=null,Lo=!1,Ni=0,Sl=null,n)throw Error(i(300));t===null||jn||(t=t.dependencies,t!==null&&Ao(t)&&(jn=!0))}function pp(t,n,r,o){dt=t;var u=0;do{if(Nl&&(Sl=null),Ni=0,Nl=!1,25<=u)throw Error(i(301));if(u+=1,Sn=qt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=Xp,m=n(r,o)}while(Nl);return m}function MN(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?Si(n):n,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(dt.flags|=1024),n}function rd(){var t=Bo!==0;return Bo=0,t}function ld(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function id(t){if(Lo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lo=!1}ws=0,Sn=qt=dt=null,Nl=!1,Ni=Bo=0,Sl=null}function na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?dt.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function hn(){if(qt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var n=Sn===null?dt.memoizedState:Sn.next;if(n!==null)Sn=n,qt=t;else{if(t===null)throw dt.alternate===null?Error(i(467)):Error(i(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Sn===null?dt.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Si(t){var n=Ni;return Ni+=1,Sl===null&&(Sl=[]),t=rp(Sl,t,n),n=dt,(Sn===null?n.memoizedState:Sn.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Kp:yd),t}function Io(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Si(t);if(t.$$typeof===J)return Bn(t)}throw Error(i(438,String(t)))}function od(t){var n=null,r=dt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qo(),dt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=Ee;return n.index++,r}function _s(t,n){return typeof n=="function"?n(t):n}function $o(t){var n=hn();return cd(n,qt,t)}function cd(t,n,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=t.baseQueue,m=o.pending;if(m!==null){if(u!==null){var b=u.next;u.next=m.next,m.next=b}n.baseQueue=u=m,o.pending=null}if(m=t.baseState,u===null)t.memoizedState=m;else{n=u.next;var N=b=null,z=null,ne=n,ge=!1;do{var Se=ne.lane&-536870913;if(Se!==ne.lane?(xt&Se)===Se:(ws&Se)===Se){var re=ne.revertLane;if(re===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),Se===gl&&(ge=!0);else if((ws&re)===re){ne=ne.next,re===gl&&(ge=!0);continue}else Se={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},z===null?(N=z=Se,b=m):z=z.next=Se,dt.lanes|=re,Js|=re;Se=ne.action,Mr&&r(m,Se),m=ne.hasEagerState?ne.eagerState:r(m,Se)}else re={lane:Se,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},z===null?(N=z=re,b=m):z=z.next=re,dt.lanes|=Se,Js|=Se;ne=ne.next}while(ne!==null&&ne!==n);if(z===null?b=m:z.next=N,!wa(m,t.memoizedState)&&(jn=!0,ge&&(r=bl,r!==null)))throw r;t.memoizedState=m,t.baseState=b,t.baseQueue=z,o.lastRenderedState=m}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ud(t){var n=hn(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,u=r.pending,m=n.memoizedState;if(u!==null){r.pending=null;var b=u=u.next;do m=t(m,b.action),b=b.next;while(b!==u);wa(m,n.memoizedState)||(jn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function gp(t,n,r){var o=dt,u=hn(),m=St;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=n();var b=!wa((qt||u).memoizedState,r);if(b&&(u.memoizedState=r,jn=!0),u=u.queue,md(yp.bind(null,o,u,t),[t]),u.getSnapshot!==n||b||Sn!==null&&Sn.memoizedState.tag&1){if(o.flags|=2048,jl(9,{destroy:void 0},vp.bind(null,o,u,r,n),null),Ft===null)throw Error(i(349));m||(ws&127)!==0||bp(o,n,r)}return r}function bp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=dt.updateQueue,n===null?(n=qo(),dt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vp(t,n,r,o){n.value=r,n.getSnapshot=o,xp(n)&&Np(t)}function yp(t,n,r){return r(function(){xp(n)&&Np(t)})}function xp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!wa(t,r)}catch{return!0}}function Np(t){var n=Er(t,2);n!==null&&pa(n,t,2)}function dd(t){var n=na();if(typeof t=="function"){var r=t;if(t=r(),Mr){Vt(!0);try{r()}finally{Vt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:t},n}function Sp(t,n,r,o){return t.baseState=r,cd(t,qt,typeof o=="function"?o:_s)}function UN(t,n,r,o,u){if(Vo(t))throw Error(i(485));if(t=n.action,t!==null){var m={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};M.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,jp(n,m)):(m.next=r.next,n.pending=r.next=m)}}function jp(t,n){var r=n.action,o=n.payload,u=t.state;if(n.isTransition){var m=M.T,b={};M.T=b;try{var N=r(u,o),z=M.S;z!==null&&z(b,N),wp(t,n,N)}catch(ne){fd(t,n,ne)}finally{m!==null&&b.types!==null&&(m.types=b.types),M.T=m}}else try{m=r(u,o),wp(t,n,m)}catch(ne){fd(t,n,ne)}}function wp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){_p(t,n,o)},function(o){return fd(t,n,o)}):_p(t,n,r)}function _p(t,n,r){n.status="fulfilled",n.value=r,Ep(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,jp(t,r)))}function fd(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ep(n),n=n.next;while(n!==o)}t.action=null}function Ep(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Cp(t,n){return n}function Ap(t,n){if(St){var r=Ft.formState;if(r!==null){e:{var o=dt;if(St){if(Qt){t:{for(var u=Qt,m=qa;u.nodeType!==8;){if(!m){u=null;break t}if(u=$a(u.nextSibling),u===null){u=null;break t}}m=u.data,u=m==="F!"||m==="F"?u:null}if(u){Qt=$a(u.nextSibling),o=u.data==="F!";break e}}Hs(o)}o=!1}o&&(n=r[0])}}return r=na(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:n},r.queue=o,r=Pp.bind(null,dt,o),o.dispatch=r,o=dd(!1),m=vd.bind(null,dt,!1,o.queue),o=na(),u={state:n,dispatch:null,action:t,pending:null},o.queue=u,r=UN.bind(null,dt,u,m,r),u.dispatch=r,o.memoizedState=t,[n,r,!1]}function Op(t){var n=hn();return Rp(n,qt,t)}function Rp(t,n,r){if(n=cd(t,n,Cp)[0],t=$o(_s)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Si(n)}catch(b){throw b===vl?To:b}else o=n;n=hn();var u=n.queue,m=u.dispatch;return r!==n.memoizedState&&(dt.flags|=2048,jl(9,{destroy:void 0},LN.bind(null,u,r),null)),[o,m,t]}function LN(t,n){t.action=n}function Tp(t){var n=hn(),r=qt;if(r!==null)return Rp(n,r,t);hn(),n=n.memoizedState,r=hn();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function jl(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=dt.updateQueue,n===null&&(n=qo(),dt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Dp(){return hn().memoizedState}function Fo(t,n,r,o){var u=na();dt.flags|=t,u.memoizedState=jl(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ho(t,n,r,o){var u=hn();o=o===void 0?null:o;var m=u.memoizedState.inst;qt!==null&&o!==null&&ad(o,qt.memoizedState.deps)?u.memoizedState=jl(n,m,r,o):(dt.flags|=t,u.memoizedState=jl(1|n,m,r,o))}function zp(t,n){Fo(8390656,8,t,n)}function md(t,n){Ho(2048,8,t,n)}function BN(t){dt.flags|=4;var n=dt.updateQueue;if(n===null)n=qo(),dt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function kp(t){var n=hn().memoizedState;return BN({ref:n,nextImpl:t}),function(){if((Rt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Mp(t,n){return Ho(4,2,t,n)}function Up(t,n){return Ho(4,4,t,n)}function Lp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bp(t,n,r){r=r!=null?r.concat([t]):null,Ho(4,4,Lp.bind(null,n,t),r)}function hd(){}function qp(t,n){var r=hn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ad(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Ip(t,n){var r=hn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ad(n,o[1]))return o[0];if(o=t(),Mr){Vt(!0);try{t()}finally{Vt(!1)}}return r.memoizedState=[o,n],o}function pd(t,n,r){return r===void 0||(ws&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=$g(),dt.lanes|=t,Js|=t,r)}function $p(t,n,r,o){return wa(r,n)?r:xl.current!==null?(t=pd(t,r,o),wa(t,n)||(jn=!0),t):(ws&42)===0||(ws&1073741824)!==0&&(xt&261930)===0?(jn=!0,t.memoizedState=r):(t=$g(),dt.lanes|=t,Js|=t,n)}function Fp(t,n,r,o,u){var m=H.p;H.p=m!==0&&8>m?m:8;var b=M.T,N={};M.T=N,vd(t,!1,n,r);try{var z=u(),ne=M.S;if(ne!==null&&ne(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ge=zN(z,o);ji(t,n,ge,Ra(t))}else ji(t,n,o,Ra(t))}catch(Se){ji(t,n,{then:function(){},status:"rejected",reason:Se},Ra())}finally{H.p=m,b!==null&&N.types!==null&&(b.types=N.types),M.T=b}}function qN(){}function gd(t,n,r,o){if(t.tag!==5)throw Error(i(476));var u=Hp(t).queue;Fp(t,u,n,ae,r===null?qN:function(){return Vp(t),r(o)})}function Hp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:ae},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vp(t){var n=Hp(t);n.next===null&&(n=t.alternate.memoizedState),ji(t,n.next.queue,{},Ra())}function bd(){return Bn(Ii)}function Zp(){return hn().memoizedState}function Gp(){return hn().memoizedState}function IN(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ra();t=Gs(r);var o=Ps(n,t,r);o!==null&&(pa(o,n,r),vi(o,n,r)),n={cache:Gu()},t.payload=n;return}n=n.return}}function $N(t,n,r){var o=Ra();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Vo(t)?Qp(n,r):(r=Mu(t,n,r,o),r!==null&&(pa(r,t,o),Yp(r,n,o)))}function Pp(t,n,r){var o=Ra();ji(t,n,r,o)}function ji(t,n,r,o){var u={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vo(t))Qp(n,u);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,N=m(b,r);if(u.hasEagerState=!0,u.eagerState=N,wa(N,b))return wo(t,n,u,0),Ft===null&&jo(),!1}catch{}finally{}if(r=Mu(t,n,u,o),r!==null)return pa(r,t,o),Yp(r,n,o),!0}return!1}function vd(t,n,r,o){if(o={lane:2,revertLane:Kd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vo(t)){if(n)throw Error(i(479))}else n=Mu(t,r,o,2),n!==null&&pa(n,t,2)}function Vo(t){var n=t.alternate;return t===dt||n!==null&&n===dt}function Qp(t,n){Nl=Lo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Yp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,tt(t,r)}}var wi={readContext:Bn,use:Io,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};wi.useEffectEvent=on;var Kp={readContext:Bn,use:Io,useCallback:function(t,n){return na().memoizedState=[t,n===void 0?null:n],t},useContext:Bn,useEffect:zp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fo(4194308,4,Lp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fo(4194308,4,t,n)},useInsertionEffect:function(t,n){Fo(4,2,t,n)},useMemo:function(t,n){var r=na();n=n===void 0?null:n;var o=t();if(Mr){Vt(!0);try{t()}finally{Vt(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=na();if(r!==void 0){var u=r(n);if(Mr){Vt(!0);try{r(n)}finally{Vt(!1)}}}else u=n;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=$N.bind(null,dt,t),[o.memoizedState,t]},useRef:function(t){var n=na();return t={current:t},n.memoizedState=t},useState:function(t){t=dd(t);var n=t.queue,r=Pp.bind(null,dt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:hd,useDeferredValue:function(t,n){var r=na();return pd(r,t,n)},useTransition:function(){var t=dd(!1);return t=Fp.bind(null,dt,t.queue,!0,!1),na().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=dt,u=na();if(St){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),Ft===null)throw Error(i(349));(xt&127)!==0||bp(o,n,r)}u.memoizedState=r;var m={value:r,getSnapshot:n};return u.queue=m,zp(yp.bind(null,o,m,t),[t]),o.flags|=2048,jl(9,{destroy:void 0},vp.bind(null,o,m,r,n),null),r},useId:function(){var t=na(),n=Ft.identifierPrefix;if(St){var r=cs,o=os;r=(o&~(1<<32-jt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kN++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:bd,useFormState:Ap,useActionState:Ap,useOptimistic:function(t){var n=na();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=vd.bind(null,dt,!0,r),r.dispatch=n,[t,n]},useMemoCache:od,useCacheRefresh:function(){return na().memoizedState=IN.bind(null,dt)},useEffectEvent:function(t){var n=na(),r={impl:t};return n.memoizedState=r,function(){if((Rt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},yd={readContext:Bn,use:Io,useCallback:qp,useContext:Bn,useEffect:md,useImperativeHandle:Bp,useInsertionEffect:Mp,useLayoutEffect:Up,useMemo:Ip,useReducer:$o,useRef:Dp,useState:function(){return $o(_s)},useDebugValue:hd,useDeferredValue:function(t,n){var r=hn();return $p(r,qt.memoizedState,t,n)},useTransition:function(){var t=$o(_s)[0],n=hn().memoizedState;return[typeof t=="boolean"?t:Si(t),n]},useSyncExternalStore:gp,useId:Zp,useHostTransitionStatus:bd,useFormState:Op,useActionState:Op,useOptimistic:function(t,n){var r=hn();return Sp(r,qt,t,n)},useMemoCache:od,useCacheRefresh:Gp};yd.useEffectEvent=kp;var Xp={readContext:Bn,use:Io,useCallback:qp,useContext:Bn,useEffect:md,useImperativeHandle:Bp,useInsertionEffect:Mp,useLayoutEffect:Up,useMemo:Ip,useReducer:ud,useRef:Dp,useState:function(){return ud(_s)},useDebugValue:hd,useDeferredValue:function(t,n){var r=hn();return qt===null?pd(r,t,n):$p(r,qt.memoizedState,t,n)},useTransition:function(){var t=ud(_s)[0],n=hn().memoizedState;return[typeof t=="boolean"?t:Si(t),n]},useSyncExternalStore:gp,useId:Zp,useHostTransitionStatus:bd,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var r=hn();return qt!==null?Sp(r,qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:od,useCacheRefresh:Gp};Xp.useEffectEvent=kp;function xd(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nd={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Ra(),u=Gs(o);u.payload=n,r!=null&&(u.callback=r),n=Ps(t,u,o),n!==null&&(pa(n,t,o),vi(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Ra(),u=Gs(o);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Ps(t,u,o),n!==null&&(pa(n,t,o),vi(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Ra(),o=Gs(r);o.tag=2,n!=null&&(o.callback=n),n=Ps(t,o,r),n!==null&&(pa(n,t,r),vi(n,t,r))}};function Jp(t,n,r,o,u,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):n.prototype&&n.prototype.isPureReactComponent?!ui(r,o)||!ui(u,m):!0}function Wp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Nd.enqueueReplaceState(n,n.state,null)}function Ur(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function eg(t){So(t)}function tg(t){console.error(t)}function ng(t){So(t)}function Zo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ag(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Sd(t,n,r){return r=Gs(r),r.tag=3,r.payload={element:null},r.callback=function(){Zo(t,n)},r}function sg(t){return t=Gs(t),t.tag=3,t}function rg(t,n,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var m=o.value;t.payload=function(){return u(m)},t.callback=function(){ag(n,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){ag(n,r,o),typeof u!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function FN(t,n,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&pl(n,r,u,!0),r=Ea.current,r!==null){switch(r.tag){case 31:case 13:return Ia===null?ac():r.alternate===null&&cn===0&&(cn=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===Do?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Pd(t,o,u)),!1;case 22:return r.flags|=65536,o===Do?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Pd(t,o,u)),!1}throw Error(i(435,r.tag))}return Pd(t,o,u),ac(),!1}if(St)return n=Ea.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==$u&&(t=Error(i(422),{cause:o}),mi(Ua(t,r)))):(o!==$u&&(n=Error(i(423),{cause:o}),mi(Ua(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=Ua(o,r),u=Sd(t.stateNode,o,u),Ju(t,u),cn!==4&&(cn=2)),!1;var m=Error(i(520),{cause:o});if(m=Ua(m,r),Di===null?Di=[m]:Di.push(m),cn!==4&&(cn=2),n===null)return!0;o=Ua(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=Sd(r.stateNode,o,t),Ju(r,t),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ws===null||!Ws.has(m))))return r.flags|=65536,u&=-u,r.lanes|=u,u=sg(u),rg(u,t,r,o),Ju(r,u),!1}r=r.return}while(r!==null);return!1}var jd=Error(i(461)),jn=!1;function qn(t,n,r,o){n.child=t===null?cp(n,null,r,o):kr(n,t.child,r,o)}function lg(t,n,r,o,u){r=r.render;var m=n.ref;if("ref"in o){var b={};for(var N in o)N!=="ref"&&(b[N]=o[N])}else b=o;return Rr(n),o=sd(t,n,r,b,m,u),N=rd(),t!==null&&!jn?(ld(t,n,u),Es(t,n,u)):(St&&N&&qu(n),n.flags|=1,qn(t,n,o,u),n.child)}function ig(t,n,r,o,u){if(t===null){var m=r.type;return typeof m=="function"&&!Uu(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,og(t,n,m,o,u)):(t=Eo(r.type,null,o,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Td(t,u)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:ui,r(b,o)&&t.ref===n.ref)return Es(t,n,u)}return n.flags|=1,t=xs(m,o),t.ref=n.ref,t.return=n,n.child=t}function og(t,n,r,o,u){if(t!==null){var m=t.memoizedProps;if(ui(m,o)&&t.ref===n.ref)if(jn=!1,n.pendingProps=o=m,Td(t,u))(t.flags&131072)!==0&&(jn=!0);else return n.lanes=t.lanes,Es(t,n,u)}return wd(t,n,r,o,u)}function cg(t,n,r,o){var u=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=n.child=t.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~m}else o=0,n.child=null;return ug(t,n,m,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ro(n,m!==null?m.cachePool:null),m!==null?fp(n,m):ed(),mp(n);else return o=n.lanes=536870912,ug(t,n,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(Ro(n,m.cachePool),fp(n,m),Ys(),n.memoizedState=null):(t!==null&&Ro(n,null),ed(),Ys());return qn(t,n,u,r),n.child}function _i(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ug(t,n,r,o,u){var m=Qu();return m=m===null?null:{parent:Nn._currentValue,pool:m},n.memoizedState={baseLanes:r,cachePool:m},t!==null&&Ro(n,null),ed(),mp(n),t!==null&&pl(t,n,o,!0),n.childLanes=u,null}function Go(t,n){return n=Qo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dg(t,n,r){return kr(n,t.child,null,r),t=Go(n,n.pendingProps),t.flags|=2,Ca(n),n.memoizedState=null,t}function HN(t,n,r){var o=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(St){if(o.mode==="hidden")return t=Go(n,o),n.lanes=536870912,_i(null,t);if(nd(n),(t=Qt)?(t=jb(t,qa),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:$s!==null?{id:os,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},r=Qh(t),r.return=n,n.child=r,Ln=n,Qt=null)):t=null,t===null)throw Hs(n);return n.lanes=536870912,null}return Go(n,o)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(nd(n),u)if(n.flags&256)n.flags&=-257,n=dg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(i(558));else if(jn||pl(t,n,r,!1),u=(r&t.childLanes)!==0,jn||u){if(o=Ft,o!==null&&(b=Xe(o,r),b!==0&&b!==m.retryLane))throw m.retryLane=b,Er(t,b),pa(o,t,b),jd;ac(),n=dg(t,n,r)}else t=m.treeContext,Qt=$a(b.nextSibling),Ln=n,St=!0,Fs=null,qa=!1,t!==null&&Xh(n,t),n=Go(n,o),n.flags|=4096;return n}return t=xs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Po(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function wd(t,n,r,o,u){return Rr(n),r=sd(t,n,r,o,void 0,u),o=rd(),t!==null&&!jn?(ld(t,n,u),Es(t,n,u)):(St&&o&&qu(n),n.flags|=1,qn(t,n,r,u),n.child)}function fg(t,n,r,o,u,m){return Rr(n),n.updateQueue=null,r=pp(n,o,r,u),hp(t),o=rd(),t!==null&&!jn?(ld(t,n,m),Es(t,n,m)):(St&&o&&qu(n),n.flags|=1,qn(t,n,r,m),n.child)}function mg(t,n,r,o,u){if(Rr(n),n.stateNode===null){var m=dl,b=r.contextType;typeof b=="object"&&b!==null&&(m=Bn(b)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Nd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Ku(n),b=r.contextType,m.context=typeof b=="object"&&b!==null?Bn(b):dl,m.state=n.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(xd(n,r,b,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Nd.enqueueReplaceState(m,m.state,null),xi(n,o,m,u),yi(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var N=n.memoizedProps,z=Ur(r,N);m.props=z;var ne=m.context,ge=r.contextType;b=dl,typeof ge=="object"&&ge!==null&&(b=Bn(ge));var Se=r.getDerivedStateFromProps;ge=typeof Se=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,ge||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||ne!==b)&&Wp(n,m,o,b),Zs=!1;var re=n.memoizedState;m.state=re,xi(n,o,m,u),yi(),ne=n.memoizedState,N||re!==ne||Zs?(typeof Se=="function"&&(xd(n,r,Se,o),ne=n.memoizedState),(z=Zs||Jp(n,r,z,o,re,ne,b))?(ge||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ne),m.props=o,m.state=ne,m.context=b,o=z):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Xu(t,n),b=n.memoizedProps,ge=Ur(r,b),m.props=ge,Se=n.pendingProps,re=m.context,ne=r.contextType,z=dl,typeof ne=="object"&&ne!==null&&(z=Bn(ne)),N=r.getDerivedStateFromProps,(ne=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Se||re!==z)&&Wp(n,m,o,z),Zs=!1,re=n.memoizedState,m.state=re,xi(n,o,m,u),yi();var ce=n.memoizedState;b!==Se||re!==ce||Zs||t!==null&&t.dependencies!==null&&Ao(t.dependencies)?(typeof N=="function"&&(xd(n,r,N,o),ce=n.memoizedState),(ge=Zs||Jp(n,r,ge,o,re,ce,z)||t!==null&&t.dependencies!==null&&Ao(t.dependencies))?(ne||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ce,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ce,z)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=z,o=ge):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Po(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=kr(n,t.child,null,u),n.child=kr(n,null,r,u)):qn(t,n,r,u),n.memoizedState=m.state,t=n.child):t=Es(t,n,u),t}function hg(t,n,r,o){return Ar(),n.flags|=256,qn(t,n,r,o),n.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:ap()}}function Cd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Oa),t}function pg(t,n,r){var o=n.pendingProps,u=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(mn.current&2)!==0),b&&(u=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(St){if(u?Qs(n):Ys(),(t=Qt)?(t=jb(t,qa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:$s!==null?{id:os,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},r=Qh(t),r.return=n,n.child=r,Ln=n,Qt=null)):t=null,t===null)throw Hs(n);return uf(t)?n.lanes=32:n.lanes=536870912,null}var N=o.children;return o=o.fallback,u?(Ys(),u=n.mode,N=Qo({mode:"hidden",children:N},u),o=Cr(o,u,r,null),N.return=n,o.return=n,N.sibling=o,n.child=N,o=n.child,o.memoizedState=Ed(r),o.childLanes=Cd(t,b,r),n.memoizedState=_d,_i(null,o)):(Qs(n),Ad(n,N))}var z=t.memoizedState;if(z!==null&&(N=z.dehydrated,N!==null)){if(m)n.flags&256?(Qs(n),n.flags&=-257,n=Od(t,n,r)):n.memoizedState!==null?(Ys(),n.child=t.child,n.flags|=128,n=null):(Ys(),N=o.fallback,u=n.mode,o=Qo({mode:"visible",children:o.children},u),N=Cr(N,u,r,null),N.flags|=2,o.return=n,N.return=n,o.sibling=N,n.child=o,kr(n,t.child,null,r),o=n.child,o.memoizedState=Ed(r),o.childLanes=Cd(t,b,r),n.memoizedState=_d,n=_i(null,o));else if(Qs(n),uf(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var ne=b.dgst;b=ne,o=Error(i(419)),o.stack="",o.digest=b,mi({value:o,source:null,stack:null}),n=Od(t,n,r)}else if(jn||pl(t,n,r,!1),b=(r&t.childLanes)!==0,jn||b){if(b=Ft,b!==null&&(o=Xe(b,r),o!==0&&o!==z.retryLane))throw z.retryLane=o,Er(t,o),pa(b,t,o),jd;cf(N)||ac(),n=Od(t,n,r)}else cf(N)?(n.flags|=192,n.child=t.child,n=null):(t=z.treeContext,Qt=$a(N.nextSibling),Ln=n,St=!0,Fs=null,qa=!1,t!==null&&Xh(n,t),n=Ad(n,o.children),n.flags|=4096);return n}return u?(Ys(),N=o.fallback,u=n.mode,z=t.child,ne=z.sibling,o=xs(z,{mode:"hidden",children:o.children}),o.subtreeFlags=z.subtreeFlags&65011712,ne!==null?N=xs(ne,N):(N=Cr(N,u,r,null),N.flags|=2),N.return=n,o.return=n,o.sibling=N,n.child=o,_i(null,o),o=n.child,N=t.child.memoizedState,N===null?N=Ed(r):(u=N.cachePool,u!==null?(z=Nn._currentValue,u=u.parent!==z?{parent:z,pool:z}:u):u=ap(),N={baseLanes:N.baseLanes|r,cachePool:u}),o.memoizedState=N,o.childLanes=Cd(t,b,r),n.memoizedState=_d,_i(t.child,o)):(Qs(n),r=t.child,t=r.sibling,r=xs(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=r,n.memoizedState=null,r)}function Ad(t,n){return n=Qo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Qo(t,n){return t=_a(22,t,null,n),t.lanes=0,t}function Od(t,n,r){return kr(n,t.child,null,r),t=Ad(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gg(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Vu(t.return,n,r)}function Rd(t,n,r,o,u,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=r,b.tailMode=u,b.treeForkCount=m)}function bg(t,n,r){var o=n.pendingProps,u=o.revealOrder,m=o.tail;o=o.children;var b=mn.current,N=(b&2)!==0;if(N?(b=b&1|2,n.flags|=128):b&=1,fe(mn,b),qn(t,n,o,r),o=St?fi:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gg(t,r,n);else if(t.tag===19)gg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Uo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Rd(n,!1,u,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Uo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}Rd(n,!0,r,null,m,o);break;case"together":Rd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Es(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Js|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(pl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,r=xs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=xs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Td(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ao(t)))}function VN(t,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),Vs(n,Nn,t.memoizedState.cache),Ar();break;case 27:case 5:Ue(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nd(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?pg(t,n,r):(Qs(n),t=Es(t,n,r),t!==null?t.sibling:null);Qs(n);break;case 19:var u=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(pl(t,n,r,!1),o=(r&n.childLanes)!==0),u){if(o)return bg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),fe(mn,mn.current),o)break;return null;case 22:return n.lanes=0,cg(t,n,r,n.pendingProps);case 24:Vs(n,Nn,t.memoizedState.cache)}return Es(t,n,r)}function vg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)jn=!0;else{if(!Td(t,r)&&(n.flags&128)===0)return jn=!1,VN(t,n,r);jn=(t.flags&131072)!==0}else jn=!1,St&&(n.flags&1048576)!==0&&Kh(n,fi,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Dr(n.elementType),n.type=t,typeof t=="function")Uu(t)?(o=Ur(t,o),n.tag=1,n=mg(null,n,t,o,r)):(n.tag=0,n=wd(null,n,t,o,r));else{if(t!=null){var u=t.$$typeof;if(u===U){n.tag=11,n=lg(null,n,t,o,r);break e}else if(u===L){n.tag=14,n=ig(null,n,t,o,r);break e}}throw n=ke(t)||t,Error(i(306,n,""))}}return n;case 0:return wd(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,u=Ur(o,n.pendingProps),mg(t,n,o,u,r);case 3:e:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(i(387));o=n.pendingProps;var m=n.memoizedState;u=m.element,Xu(t,n),xi(n,o,null,r);var b=n.memoizedState;if(o=b.cache,Vs(n,Nn,o),o!==m.cache&&Zu(n,[Nn],r,!0),yi(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=hg(t,n,o,r);break e}else if(o!==u){u=Ua(Error(i(424)),n),mi(u),n=hg(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Qt=$a(t.firstChild),Ln=n,St=!0,Fs=null,qa=!0,r=cp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ar(),o===u){n=Es(t,n,r);break e}qn(t,n,o,r)}n=n.child}return n;case 26:return Po(t,n),t===null?(r=Ob(n.type,null,n.pendingProps,null))?n.memoizedState=r:St||(r=n.type,t=n.pendingProps,o=uc(be.current).createElement(r),o[ut]=n,o[gt]=t,In(o,r,t),zt(o),n.stateNode=o):n.memoizedState=Ob(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ue(n),t===null&&St&&(o=n.stateNode=Eb(n.type,n.pendingProps,be.current),Ln=n,qa=!0,u=Qt,ar(n.type)?(df=u,Qt=$a(o.firstChild)):Qt=u),qn(t,n,n.pendingProps.children,r),Po(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&St&&((u=o=Qt)&&(o=xS(o,n.type,n.pendingProps,qa),o!==null?(n.stateNode=o,Ln=n,Qt=$a(o.firstChild),qa=!1,u=!0):u=!1),u||Hs(n)),Ue(n),u=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,rf(u,m)?o=null:b!==null&&rf(u,b)&&(n.flags|=32),n.memoizedState!==null&&(u=sd(t,n,MN,null,null,r),Ii._currentValue=u),Po(t,n),qn(t,n,o,r),n.child;case 6:return t===null&&St&&((t=r=Qt)&&(r=NS(r,n.pendingProps,qa),r!==null?(n.stateNode=r,Ln=n,Qt=null,t=!0):t=!1),t||Hs(n)),null;case 13:return pg(t,n,r);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=kr(n,null,o,r):qn(t,n,o,r),n.child;case 11:return lg(t,n,n.type,n.pendingProps,r);case 7:return qn(t,n,n.pendingProps,r),n.child;case 8:return qn(t,n,n.pendingProps.children,r),n.child;case 12:return qn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),qn(t,n,o.children,r),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,Rr(n),u=Bn(u),o=o(u),n.flags|=1,qn(t,n,o,r),n.child;case 14:return ig(t,n,n.type,n.pendingProps,r);case 15:return og(t,n,n.type,n.pendingProps,r);case 19:return bg(t,n,r);case 31:return HN(t,n,r);case 22:return cg(t,n,r,n.pendingProps);case 24:return Rr(n),o=Bn(Nn),t===null?(u=Qu(),u===null&&(u=Ft,m=Gu(),u.pooledCache=m,m.refCount++,m!==null&&(u.pooledCacheLanes|=r),u=m),n.memoizedState={parent:o,cache:u},Ku(n),Vs(n,Nn,u)):((t.lanes&r)!==0&&(Xu(t,n),xi(n,null,null,r),yi()),u=t.memoizedState,m=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Vs(n,Nn,o)):(o=m.cache,Vs(n,Nn,o),o!==u.cache&&Zu(n,[Nn],r,!0))),qn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Cs(t){t.flags|=4}function Dd(t,n,r,o,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Zg())t.flags|=8192;else throw zr=Do,Yu}else t.flags&=-16777217}function yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kb(n))if(Zg())t.flags|=8192;else throw zr=Do,Yu}function Yo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?X():536870912,t.lanes|=n,Cl|=n)}function Ei(t,n){if(!St)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function ZN(t,n,r){var o=n.pendingProps;switch(Iu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(n),null;case 1:return Yt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),js(Nn),pe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hl(n)?Cs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fu())),Yt(n),null;case 26:var u=n.type,m=n.memoizedState;return t===null?(Cs(n),m!==null?(Yt(n),yg(n,m)):(Yt(n),Dd(n,u,null,o,r))):m?m!==t.memoizedState?(Cs(n),Yt(n),yg(n,m)):(Yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Cs(n),Yt(n),Dd(n,u,t,o,r)),null;case 27:if($e(n),r=be.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Cs(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return Yt(n),null}t=k.current,hl(n)?Jh(n):(t=Eb(u,o,r),n.stateNode=t,Cs(n))}return Yt(n),null;case 5:if($e(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Cs(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return Yt(n),null}if(m=k.current,hl(n))Jh(n);else{var b=uc(be.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(u,{is:o.is}):b.createElement(u)}}m[ut]=n,m[gt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(In(m,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Cs(n)}}return Yt(n),Dd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Cs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(i(166));if(t=be.current,hl(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,u=Ln,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[ut]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||pb(t.nodeValue,r)),t||Hs(n,!0)}else t=uc(t).createTextNode(o),t[ut]=n,n.stateNode=t}return Yt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=hl(n),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[ut]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yt(n),t=!1}else r=Fu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Ca(n),n):(Ca(n),null);if((n.flags&128)!==0)throw Error(i(558))}return Yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=hl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(i(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[ut]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yt(n),u=!1}else u=Fu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Ca(n),n):(Ca(n),null)}return Ca(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Yo(n,n.updateQueue),Yt(n),null);case 4:return pe(),t===null&&ef(n.stateNode.containerInfo),Yt(n),null;case 10:return js(n.type),Yt(n),null;case 19:if(K(mn),o=n.memoizedState,o===null)return Yt(n),null;if(u=(n.flags&128)!==0,m=o.rendering,m===null)if(u)Ei(o,!1);else{if(cn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Uo(t),m!==null){for(n.flags|=128,Ei(o,!1),t=m.updateQueue,n.updateQueue=t,Yo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ph(r,t),r=r.sibling;return fe(mn,mn.current&1|2),St&&Ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Z()>ec&&(n.flags|=128,u=!0,Ei(o,!1),n.lanes=4194304)}else{if(!u)if(t=Uo(m),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Yo(n,t),Ei(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!St)return Yt(n),null}else 2*Z()-o.renderingStartTime>ec&&r!==536870912&&(n.flags|=128,u=!0,Ei(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Z(),t.sibling=null,r=mn.current,fe(mn,u?r&1|2:r&1),St&&Ns(n,o.treeForkCount),t):(Yt(n),null);case 22:case 23:return Ca(n),td(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Yt(n),n.subtreeFlags&6&&(n.flags|=8192)):Yt(n),r=n.updateQueue,r!==null&&Yo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&K(Tr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),js(Nn),Yt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function GN(t,n){switch(Iu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return js(Nn),pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return $e(n),null;case 31:if(n.memoizedState!==null){if(Ca(n),n.alternate===null)throw Error(i(340));Ar()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ca(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ar()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(mn),null;case 4:return pe(),null;case 10:return js(n.type),null;case 22:case 23:return Ca(n),td(),t!==null&&K(Tr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return js(Nn),null;case 25:return null;default:return null}}function xg(t,n){switch(Iu(n),n.tag){case 3:js(Nn),pe();break;case 26:case 27:case 5:$e(n);break;case 4:pe();break;case 31:n.memoizedState!==null&&Ca(n);break;case 13:Ca(n);break;case 19:K(mn);break;case 10:js(n.type);break;case 22:case 23:Ca(n),td(),t!==null&&K(Tr);break;case 24:js(Nn)}}function Ci(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&t)===t){o=void 0;var m=r.create,b=r.inst;o=m(),b.destroy=o}r=r.next}while(r!==u)}}catch(N){Ut(n,n.return,N)}}function Ks(t,n,r){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&t)===t){var b=o.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,u=n;var z=r,ne=N;try{ne()}catch(ge){Ut(u,z,ge)}}}o=o.next}while(o!==m)}}catch(ge){Ut(n,n.return,ge)}}function Ng(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dp(n,r)}catch(o){Ut(t,t.return,o)}}}function Sg(t,n,r){r.props=Ur(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Ut(t,n,o)}}function Ai(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(u){Ut(t,n,u)}}function us(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){Ut(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Ut(t,n,u)}else r.current=null}function jg(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){Ut(t,t.return,u)}}function zd(t,n,r){try{var o=t.stateNode;hS(o,t.type,r,n),o[gt]=n}catch(u){Ut(t,t.return,u)}}function wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ja));else if(o!==4&&(o===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Md(t,n,r),t=t.sibling;t!==null;)Md(t,n,r),t=t.sibling}function Ko(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ko(t,n,r),t=t.sibling;t!==null;)Ko(t,n,r),t=t.sibling}function _g(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);In(n,o,r),n[ut]=t,n[gt]=r}catch(m){Ut(t,t.return,m)}}var As=!1,wn=!1,Ud=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function PN(t,n){if(t=t.containerInfo,af=bc,t=Bh(t),Ou(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var b=0,N=-1,z=-1,ne=0,ge=0,Se=t,re=null;t:for(;;){for(var ce;Se!==r||u!==0&&Se.nodeType!==3||(N=b+u),Se!==m||o!==0&&Se.nodeType!==3||(z=b+o),Se.nodeType===3&&(b+=Se.nodeValue.length),(ce=Se.firstChild)!==null;)re=Se,Se=ce;for(;;){if(Se===t)break t;if(re===r&&++ne===u&&(N=b),re===m&&++ge===o&&(z=b),(ce=Se.nextSibling)!==null)break;Se=re,re=Se.parentNode}Se=ce}r=N===-1||z===-1?null:{start:N,end:z}}else r=null}r=r||{start:0,end:0}}else r=null;for(sf={focusedElem:t,selectionRange:r},bc=!1,Dn=n;Dn!==null;)if(n=Dn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Dn=t;else for(;Dn!==null;){switch(n=Dn,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=n,u=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var Ge=Ur(r.type,u);t=o.getSnapshotBeforeUpdate(Ge,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(st){Ut(r,r.return,st)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)of(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=n.sibling,t!==null){t.return=n.return,Dn=t;break}Dn=n.return}}function Cg(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Rs(t,r),o&4&&Ci(5,r);break;case 1:if(Rs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(b){Ut(r,r.return,b)}else{var u=Ur(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Ut(r,r.return,b)}}o&64&&Ng(r),o&512&&Ai(r,r.return);break;case 3:if(Rs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dp(t,n)}catch(b){Ut(r,r.return,b)}}break;case 27:n===null&&o&4&&_g(r);case 26:case 5:Rs(t,r),n===null&&o&4&&jg(r),o&512&&Ai(r,r.return);break;case 12:Rs(t,r);break;case 31:Rs(t,r),o&4&&Rg(t,r);break;case 13:Rs(t,r),o&4&&Tg(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=nS.bind(null,r),SS(t,r))));break;case 22:if(o=r.memoizedState!==null||As,!o){n=n!==null&&n.memoizedState!==null||wn,u=As;var m=wn;As=o,(wn=n)&&!m?Ts(t,r,(r.subtreeFlags&8772)!==0):Rs(t,r),As=u,wn=m}break;case 30:break;default:Rs(t,r)}}function Ag(t){var n=t.alternate;n!==null&&(t.alternate=null,Ag(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&gn(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var en=null,da=!1;function Os(t,n,r){for(r=r.child;r!==null;)Og(t,n,r),r=r.sibling}function Og(t,n,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ne,r)}catch{}switch(r.tag){case 26:wn||us(r,n),Os(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:wn||us(r,n);var o=en,u=da;ar(r.type)&&(en=r.stateNode,da=!1),Os(t,n,r),Li(r.stateNode),en=o,da=u;break;case 5:wn||us(r,n);case 6:if(o=en,u=da,en=null,Os(t,n,r),en=o,da=u,en!==null)if(da)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(r.stateNode)}catch(m){Ut(r,n,m)}else try{en.removeChild(r.stateNode)}catch(m){Ut(r,n,m)}break;case 18:en!==null&&(da?(t=en,Nb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ml(t)):Nb(en,r.stateNode));break;case 4:o=en,u=da,en=r.stateNode.containerInfo,da=!0,Os(t,n,r),en=o,da=u;break;case 0:case 11:case 14:case 15:Ks(2,r,n),wn||Ks(4,r,n),Os(t,n,r);break;case 1:wn||(us(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Sg(r,n,o)),Os(t,n,r);break;case 21:Os(t,n,r);break;case 22:wn=(o=wn)||r.memoizedState!==null,Os(t,n,r),wn=o;break;default:Os(t,n,r)}}function Rg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ml(t)}catch(r){Ut(n,n.return,r)}}}function Tg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(r){Ut(n,n.return,r)}}function QN(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Eg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Eg),n;default:throw Error(i(435,t.tag))}}function Xo(t,n){var r=QN(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var u=aS.bind(null,t,o);o.then(u,u)}})}function fa(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],m=t,b=n,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(ar(N.type)){en=N.stateNode,da=!1;break e}break;case 5:en=N.stateNode,da=!1;break e;case 3:case 4:en=N.stateNode.containerInfo,da=!0;break e}N=N.return}if(en===null)throw Error(i(160));Og(m,b,u),en=null,da=!1,m=u.alternate,m!==null&&(m.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dg(n,t),n=n.sibling}var ns=null;function Dg(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fa(n,t),ma(t),o&4&&(Ks(3,t,t.return),Ci(3,t),Ks(5,t,t.return));break;case 1:fa(n,t),ma(t),o&512&&(wn||r===null||us(r,r.return)),o&64&&As&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=ns;if(fa(n,t),ma(t),o&512&&(wn||r===null||us(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":m=u.getElementsByTagName("title")[0],(!m||m[Ct]||m[ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=u.createElement(o),u.head.insertBefore(m,u.querySelector("head > title"))),In(m,o,r),m[ut]=t,zt(m),o=m;break e;case"link":var b=Db("link","href",u).get(o+(r.href||""));if(b){for(var N=0;N<b.length;N++)if(m=b[N],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(N,1);break t}}m=u.createElement(o),In(m,o,r),u.head.appendChild(m);break;case"meta":if(b=Db("meta","content",u).get(o+(r.content||""))){for(N=0;N<b.length;N++)if(m=b[N],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(N,1);break t}}m=u.createElement(o),In(m,o,r),u.head.appendChild(m);break;default:throw Error(i(468,o))}m[ut]=t,zt(m),o=m}t.stateNode=o}else zb(u,t.type,t.stateNode);else t.stateNode=Tb(u,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?zb(u,t.type,t.stateNode):Tb(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&zd(t,t.memoizedProps,r.memoizedProps)}break;case 27:fa(n,t),ma(t),o&512&&(wn||r===null||us(r,r.return)),r!==null&&o&4&&zd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(fa(n,t),ma(t),o&512&&(wn||r===null||us(r,r.return)),t.flags&32){u=t.stateNode;try{Ja(u,"")}catch(Ge){Ut(t,t.return,Ge)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,zd(t,u,r!==null?r.memoizedProps:u)),o&1024&&(Ud=!0);break;case 6:if(fa(n,t),ma(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Ge){Ut(t,t.return,Ge)}}break;case 3:if(mc=null,u=ns,ns=dc(n.containerInfo),fa(n,t),ns=u,ma(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(Ge){Ut(t,t.return,Ge)}Ud&&(Ud=!1,zg(t));break;case 4:o=ns,ns=dc(t.stateNode.containerInfo),fa(n,t),ma(t),ns=o;break;case 12:fa(n,t),ma(t);break;case 31:fa(n,t),ma(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xo(t,o)));break;case 13:fa(n,t),ma(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wo=Z()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xo(t,o)));break;case 22:u=t.memoizedState!==null;var z=r!==null&&r.memoizedState!==null,ne=As,ge=wn;if(As=ne||u,wn=ge||z,fa(n,t),wn=ge,As=ne,ma(t),o&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||z||As||wn||Lr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){z=r=n;try{if(m=z.stateNode,u)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=z.stateNode;var Se=z.memoizedProps.style,re=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;N.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ge){Ut(z,z.return,Ge)}}}else if(n.tag===6){if(r===null){z=n;try{z.stateNode.nodeValue=u?"":z.memoizedProps}catch(Ge){Ut(z,z.return,Ge)}}}else if(n.tag===18){if(r===null){z=n;try{var ce=z.stateNode;u?Sb(ce,!0):Sb(z.stateNode,!1)}catch(Ge){Ut(z,z.return,Ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Xo(t,r))));break;case 19:fa(n,t),ma(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Xo(t,o)));break;case 30:break;case 21:break;default:fa(n,t),ma(t)}}function ma(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(wg(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var u=r.stateNode,m=kd(t);Ko(t,m,u);break;case 5:var b=r.stateNode;r.flags&32&&(Ja(b,""),r.flags&=-33);var N=kd(t);Ko(t,N,b);break;case 3:case 4:var z=r.stateNode.containerInfo,ne=kd(t);Md(t,ne,z);break;default:throw Error(i(161))}}catch(ge){Ut(t,t.return,ge)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cg(t,n.alternate,n),n=n.sibling}function Lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),Lr(n);break;case 1:us(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Sg(n,n.return,r),Lr(n);break;case 27:Li(n.stateNode);case 26:case 5:us(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}t=t.sibling}}function Ts(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ts(u,m,r),Ci(4,m);break;case 1:if(Ts(u,m,r),o=m,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ne){Ut(o,o.return,ne)}if(o=m,u=o.updateQueue,u!==null){var N=o.stateNode;try{var z=u.shared.hiddenCallbacks;if(z!==null)for(u.shared.hiddenCallbacks=null,u=0;u<z.length;u++)up(z[u],N)}catch(ne){Ut(o,o.return,ne)}}r&&b&64&&Ng(m),Ai(m,m.return);break;case 27:_g(m);case 26:case 5:Ts(u,m,r),r&&o===null&&b&4&&jg(m),Ai(m,m.return);break;case 12:Ts(u,m,r);break;case 31:Ts(u,m,r),r&&b&4&&Rg(u,m);break;case 13:Ts(u,m,r),r&&b&4&&Tg(u,m);break;case 22:m.memoizedState===null&&Ts(u,m,r),Ai(m,m.return);break;case 30:break;default:Ts(u,m,r)}n=n.sibling}}function Ld(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&hi(r))}function Bd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hi(t))}function as(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kg(t,n,r,o),n=n.sibling}function kg(t,n,r,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:as(t,n,r,o),u&2048&&Ci(9,n);break;case 1:as(t,n,r,o);break;case 3:as(t,n,r,o),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hi(t)));break;case 12:if(u&2048){as(t,n,r,o),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,N=m.onPostCommit;typeof N=="function"&&N(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Ut(n,n.return,z)}}else as(t,n,r,o);break;case 31:as(t,n,r,o);break;case 13:as(t,n,r,o);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?as(t,n,r,o):Oi(t,n):m._visibility&2?as(t,n,r,o):(m._visibility|=2,wl(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ld(b,n);break;case 24:as(t,n,r,o),u&2048&&Bd(n.alternate,n);break;default:as(t,n,r,o)}}function wl(t,n,r,o,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,b=n,N=r,z=o,ne=b.flags;switch(b.tag){case 0:case 11:case 15:wl(m,b,N,z,u),Ci(8,b);break;case 23:break;case 22:var ge=b.stateNode;b.memoizedState!==null?ge._visibility&2?wl(m,b,N,z,u):Oi(m,b):(ge._visibility|=2,wl(m,b,N,z,u)),u&&ne&2048&&Ld(b.alternate,b);break;case 24:wl(m,b,N,z,u),u&&ne&2048&&Bd(b.alternate,b);break;default:wl(m,b,N,z,u)}n=n.sibling}}function Oi(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,u=o.flags;switch(o.tag){case 22:Oi(r,o),u&2048&&Ld(o.alternate,o);break;case 24:Oi(r,o),u&2048&&Bd(o.alternate,o);break;default:Oi(r,o)}n=n.sibling}}var Ri=8192;function _l(t,n,r){if(t.subtreeFlags&Ri)for(t=t.child;t!==null;)Mg(t,n,r),t=t.sibling}function Mg(t,n,r){switch(t.tag){case 26:_l(t,n,r),t.flags&Ri&&t.memoizedState!==null&&kS(r,ns,t.memoizedState,t.memoizedProps);break;case 5:_l(t,n,r);break;case 3:case 4:var o=ns;ns=dc(t.stateNode.containerInfo),_l(t,n,r),ns=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ri,Ri=16777216,_l(t,n,r),Ri=o):_l(t,n,r));break;default:_l(t,n,r)}}function Ug(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ti(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Dn=o,Bg(o,t)}Ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lg(t),t=t.sibling}function Lg(t){switch(t.tag){case 0:case 11:case 15:Ti(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:Ti(t);break;case 12:Ti(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Jo(t)):Ti(t);break;default:Ti(t)}}function Jo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Dn=o,Bg(o,t)}Ug(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),Jo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Jo(n));break;default:Jo(n)}t=t.sibling}}function Bg(t,n){for(;Dn!==null;){var r=Dn;switch(r.tag){case 0:case 11:case 15:Ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:hi(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Dn=o;else e:for(r=t;Dn!==null;){o=Dn;var u=o.sibling,m=o.return;if(Ag(o),o===r){Dn=null;break e}if(u!==null){u.return=m,Dn=u;break e}Dn=m}}}var YN={getCacheForType:function(t){var n=Bn(Nn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Bn(Nn).controller.signal}},KN=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Ft=null,vt=null,xt=0,Mt=0,Aa=null,Xs=!1,El=!1,qd=!1,Ds=0,cn=0,Js=0,Br=0,Id=0,Oa=0,Cl=0,Di=null,ha=null,$d=!1,Wo=0,qg=0,ec=1/0,tc=null,Ws=null,Cn=0,er=null,Al=null,zs=0,Fd=0,Hd=null,Ig=null,zi=0,Vd=null;function Ra(){return(Rt&2)!==0&&xt!==0?xt&-xt:M.T!==null?Kd():bt()}function $g(){if(Oa===0)if((xt&536870912)===0||St){var t=ct;ct<<=1,(ct&3932160)===0&&(ct=262144),Oa=t}else Oa=536870912;return t=Ea.current,t!==null&&(t.flags|=32),Oa}function pa(t,n,r){(t===Ft&&(Mt===2||Mt===9)||t.cancelPendingCommit!==null)&&(Ol(t,0),tr(t,xt,Oa,!1)),Oe(t,r),((Rt&2)===0||t!==Ft)&&(t===Ft&&((Rt&2)===0&&(Br|=r),cn===4&&tr(t,xt,Oa,!1)),ds(t))}function Fg(t,n,r){if((Rt&6)!==0)throw Error(i(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Vn(t,n),u=o?WN(t,n):Gd(t,n,!0),m=o;do{if(u===0){El&&!o&&tr(t,n,0,!1);break}else{if(r=t.current.alternate,m&&!XN(r)){u=Gd(t,n,!1),m=!1;continue}if(u===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var N=t;u=Di;var z=N.current.memoizedState.isDehydrated;if(z&&(Ol(N,b).flags|=256),b=Gd(N,b,!1),b!==2){if(qd&&!z){N.errorRecoveryDisabledLanes|=m,Br|=m,u=4;break e}m=ha,ha=u,m!==null&&(ha===null?ha=m:ha.push.apply(ha,m))}u=b}if(m=!1,u!==2)continue}}if(u===1){Ol(t,0),tr(t,n,0,!0);break}e:{switch(o=t,m=u,m){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:tr(o,n,Oa,!Xs);break e;case 2:ha=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(u=Wo+300-Z(),10<u)){if(tr(o,n,Oa,!Xs),Jn(o,0,!0)!==0)break e;zs=n,o.timeoutHandle=yb(Hg.bind(null,o,r,ha,tc,$d,n,Oa,Br,Cl,Xs,m,"Throttled",-0,0),u);break e}Hg(o,r,ha,tc,$d,n,Oa,Br,Cl,Xs,m,null,-0,0)}}break}while(!0);ds(t)}function Hg(t,n,r,o,u,m,b,N,z,ne,ge,Se,re,ce){if(t.timeoutHandle=-1,Se=n.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},Mg(n,m,Se);var Ge=(m&62914560)===m?Wo-Z():(m&4194048)===m?qg-Z():0;if(Ge=MS(Se,Ge),Ge!==null){zs=m,t.cancelPendingCommit=Ge(Xg.bind(null,t,n,m,r,o,u,b,N,z,ge,Se,null,re,ce)),tr(t,m,b,!ne);return}}Xg(t,n,m,r,o,u,b,N,z)}function XN(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],m=u.getSnapshot;u=u.value;try{if(!wa(m(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(t,n,r,o){n&=~Id,n&=~Br,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var u=n;0<u;){var m=31-jt(u),b=1<<m;o[m]=-1,u&=~b}r!==0&&rt(t,r,n)}function nc(){return(Rt&6)===0?(ki(0),!1):!0}function Zd(){if(vt!==null){if(Mt===0)var t=vt.return;else t=vt,Ss=Or=null,id(t),yl=null,gi=0,t=vt;for(;t!==null;)xg(t.alternate,t),t=t.return;vt=null}}function Ol(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,bS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),zs=0,Zd(),Ft=t,vt=r=xs(t.current,null),xt=n,Mt=0,Aa=null,Xs=!1,El=Vn(t,n),qd=!1,Cl=Oa=Id=Br=Js=cn=0,ha=Di=null,$d=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var u=31-jt(o),m=1<<u;n|=t[u],o&=~m}return Ds=n,jo(),r}function Vg(t,n){dt=null,M.H=wi,n===vl||n===To?(n=lp(),Mt=3):n===Yu?(n=lp(),Mt=4):Mt=n===jd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Aa=n,vt===null&&(cn=1,Zo(t,Ua(n,t.current)))}function Zg(){var t=Ea.current;return t===null?!0:(xt&4194048)===xt?Ia===null:(xt&62914560)===xt||(xt&536870912)!==0?t===Ia:!1}function Gg(){var t=M.H;return M.H=wi,t===null?wi:t}function Pg(){var t=M.A;return M.A=YN,t}function ac(){cn=4,Xs||(xt&4194048)!==xt&&Ea.current!==null||(El=!0),(Js&134217727)===0&&(Br&134217727)===0||Ft===null||tr(Ft,xt,Oa,!1)}function Gd(t,n,r){var o=Rt;Rt|=2;var u=Gg(),m=Pg();(Ft!==t||xt!==n)&&(tc=null,Ol(t,n)),n=!1;var b=cn;e:do try{if(Mt!==0&&vt!==null){var N=vt,z=Aa;switch(Mt){case 8:Zd(),b=6;break e;case 3:case 2:case 9:case 6:Ea.current===null&&(n=!0);var ne=Mt;if(Mt=0,Aa=null,Rl(t,N,z,ne),r&&El){b=0;break e}break;default:ne=Mt,Mt=0,Aa=null,Rl(t,N,z,ne)}}JN(),b=cn;break}catch(ge){Vg(t,ge)}while(!0);return n&&t.shellSuspendCounter++,Ss=Or=null,Rt=o,M.H=u,M.A=m,vt===null&&(Ft=null,xt=0,jo()),b}function JN(){for(;vt!==null;)Qg(vt)}function WN(t,n){var r=Rt;Rt|=2;var o=Gg(),u=Pg();Ft!==t||xt!==n?(tc=null,ec=Z()+500,Ol(t,n)):El=Vn(t,n);e:do try{if(Mt!==0&&vt!==null){n=vt;var m=Aa;t:switch(Mt){case 1:Mt=0,Aa=null,Rl(t,n,m,1);break;case 2:case 9:if(sp(m)){Mt=0,Aa=null,Yg(n);break}n=function(){Mt!==2&&Mt!==9||Ft!==t||(Mt=7),ds(t)},m.then(n,n);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:sp(m)?(Mt=0,Aa=null,Yg(n)):(Mt=0,Aa=null,Rl(t,n,m,7));break;case 5:var b=null;switch(vt.tag){case 26:b=vt.memoizedState;case 5:case 27:var N=vt;if(b?kb(b):N.stateNode.complete){Mt=0,Aa=null;var z=N.sibling;if(z!==null)vt=z;else{var ne=N.return;ne!==null?(vt=ne,sc(ne)):vt=null}break t}}Mt=0,Aa=null,Rl(t,n,m,5);break;case 6:Mt=0,Aa=null,Rl(t,n,m,6);break;case 8:Zd(),cn=6;break e;default:throw Error(i(462))}}eS();break}catch(ge){Vg(t,ge)}while(!0);return Ss=Or=null,M.H=o,M.A=u,Rt=r,vt!==null?0:(Ft=null,xt=0,jo(),cn)}function eS(){for(;vt!==null&&!R();)Qg(vt)}function Qg(t){var n=vg(t.alternate,t,Ds);t.memoizedProps=t.pendingProps,n===null?sc(t):vt=n}function Yg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=fg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=fg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:id(n);default:xg(r,n),n=vt=Ph(n,Ds),n=vg(r,n,Ds)}t.memoizedProps=t.pendingProps,n===null?sc(t):vt=n}function Rl(t,n,r,o){Ss=Or=null,id(n),yl=null,gi=0;var u=n.return;try{if(FN(t,u,n,r,xt)){cn=1,Zo(t,Ua(r,t.current)),vt=null;return}}catch(m){if(u!==null)throw vt=u,m;cn=1,Zo(t,Ua(r,t.current)),vt=null;return}n.flags&32768?(St||o===1?t=!0:El||(xt&536870912)!==0?t=!1:(Xs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ea.current,o!==null&&o.tag===13&&(o.flags|=16384))),Kg(n,t)):sc(n)}function sc(t){var n=t;do{if((n.flags&32768)!==0){Kg(n,Xs);return}t=n.return;var r=ZN(n.alternate,n,Ds);if(r!==null){vt=r;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=t}while(n!==null);cn===0&&(cn=5)}function Kg(t,n){do{var r=GN(t.alternate,t);if(r!==null){r.flags&=32767,vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){vt=t;return}vt=t=r}while(t!==null);cn=6,vt=null}function Xg(t,n,r,o,u,m,b,N,z){t.cancelPendingCommit=null;do rc();while(Cn!==0);if((Rt&6)!==0)throw Error(i(327));if(n!==null){if(n===t.current)throw Error(i(177));if(m=n.lanes|n.childLanes,m|=ku,He(t,r,m,b,N,z),t===Ft&&(vt=Ft=null,xt=0),Al=n,er=t,zs=r,Fd=m,Hd=u,Ig=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sS(se,function(){return nb(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,u=H.p,H.p=2,b=Rt,Rt|=4;try{PN(t,n,r)}finally{Rt=b,H.p=u,M.T=o}}Cn=1,Jg(),Wg(),eb()}}function Jg(){if(Cn===1){Cn=0;var t=er,n=Al,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var o=H.p;H.p=2;var u=Rt;Rt|=4;try{Dg(n,t);var m=sf,b=Bh(t.containerInfo),N=m.focusedElem,z=m.selectionRange;if(b!==N&&N&&N.ownerDocument&&Lh(N.ownerDocument.documentElement,N)){if(z!==null&&Ou(N)){var ne=z.start,ge=z.end;if(ge===void 0&&(ge=ne),"selectionStart"in N)N.selectionStart=ne,N.selectionEnd=Math.min(ge,N.value.length);else{var Se=N.ownerDocument||document,re=Se&&Se.defaultView||window;if(re.getSelection){var ce=re.getSelection(),Ge=N.textContent.length,st=Math.min(z.start,Ge),$t=z.end===void 0?st:Math.min(z.end,Ge);!ce.extend&&st>$t&&(b=$t,$t=st,st=b);var V=Uh(N,st),B=Uh(N,$t);if(V&&B&&(ce.rangeCount!==1||ce.anchorNode!==V.node||ce.anchorOffset!==V.offset||ce.focusNode!==B.node||ce.focusOffset!==B.offset)){var te=Se.createRange();te.setStart(V.node,V.offset),ce.removeAllRanges(),st>$t?(ce.addRange(te),ce.extend(B.node,B.offset)):(te.setEnd(B.node,B.offset),ce.addRange(te))}}}}for(Se=[],ce=N;ce=ce.parentNode;)ce.nodeType===1&&Se.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Se.length;N++){var ye=Se[N];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}bc=!!af,sf=af=null}finally{Rt=u,H.p=o,M.T=r}}t.current=n,Cn=2}}function Wg(){if(Cn===2){Cn=0;var t=er,n=Al,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var o=H.p;H.p=2;var u=Rt;Rt|=4;try{Cg(t,n.alternate,n)}finally{Rt=u,H.p=o,M.T=r}}Cn=3}}function eb(){if(Cn===4||Cn===3){Cn=0,P();var t=er,n=Al,r=zs,o=Ig;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Cn=5:(Cn=0,Al=er=null,tb(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ws=null),_t(r),n=n.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Ne,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=M.T,u=H.p,H.p=2,M.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var N=o[b];m(N.value,{componentStack:N.stack})}}finally{M.T=n,H.p=u}}(zs&3)!==0&&rc(),ds(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Vd?zi++:(zi=0,Vd=t):zi=0,ki(0)}}function tb(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hi(n)))}function rc(){return Jg(),Wg(),eb(),nb()}function nb(){if(Cn!==5)return!1;var t=er,n=Fd;Fd=0;var r=_t(zs),o=M.T,u=H.p;try{H.p=32>r?32:r,M.T=null,r=Hd,Hd=null;var m=er,b=zs;if(Cn=0,Al=er=null,zs=0,(Rt&6)!==0)throw Error(i(331));var N=Rt;if(Rt|=4,Lg(m.current),kg(m,m.current,b,r),Rt=N,ki(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ne,m)}catch{}return!0}finally{H.p=u,M.T=o,tb(t,n)}}function ab(t,n,r){n=Ua(r,n),n=Sd(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Oe(t,2),ds(t))}function Ut(t,n,r){if(t.tag===3)ab(t,t,r);else for(;n!==null;){if(n.tag===3){ab(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ws===null||!Ws.has(o))){t=Ua(r,t),r=sg(2),o=Ps(n,r,2),o!==null&&(rg(r,o,n,t),Oe(o,2),ds(o));break}}n=n.return}}function Pd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new KN;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(r)||(qd=!0,u.add(r),t=tS.bind(null,t,n,r),n.then(t,t))}function tS(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ft===t&&(xt&r)===r&&(cn===4||cn===3&&(xt&62914560)===xt&&300>Z()-Wo?(Rt&2)===0&&Ol(t,0):Id|=r,Cl===xt&&(Cl=0)),ds(t)}function sb(t,n){n===0&&(n=X()),t=Er(t,n),t!==null&&(Oe(t,n),ds(t))}function nS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sb(t,r)}function aS(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(n),sb(t,r)}function sS(t,n){return C(t,n)}var lc=null,Tl=null,Qd=!1,ic=!1,Yd=!1,nr=0;function ds(t){t!==Tl&&t.next===null&&(Tl===null?lc=Tl=t:Tl=Tl.next=t),ic=!0,Qd||(Qd=!0,lS())}function ki(t,n){if(!Yd&&ic){Yd=!0;do for(var r=!1,o=lc;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var m=0;else{var b=o.suspendedLanes,N=o.pingedLanes;m=(1<<31-jt(42|t)+1)-1,m&=u&~(b&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,ob(o,m))}else m=xt,m=Jn(o,o===Ft?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Vn(o,m)||(r=!0,ob(o,m));o=o.next}while(r);Yd=!1}}function rS(){rb()}function rb(){ic=Qd=!1;var t=0;nr!==0&&gS()&&(t=nr);for(var n=Z(),r=null,o=lc;o!==null;){var u=o.next,m=lb(o,n);m===0?(o.next=null,r===null?lc=u:r.next=u,u===null&&(Tl=r)):(r=o,(t!==0||(m&3)!==0)&&(ic=!0)),o=u}Cn!==0&&Cn!==5||ki(t),nr!==0&&(nr=0)}function lb(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-jt(m),N=1<<b,z=u[b];z===-1?((N&r)===0||(N&o)!==0)&&(u[b]=Zn(N,n)):z<=n&&(t.expiredLanes|=N),m&=~N}if(n=Ft,r=xt,r=Jn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Mt===2||Mt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Y(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Vn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Y(o),_t(r)){case 2:case 8:r=Be;break;case 32:r=se;break;case 268435456:r=Ve;break;default:r=se}return o=ib.bind(null,t),r=C(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Y(o),t.callbackPriority=2,t.callbackNode=null,2}function ib(t,n){if(Cn!==0&&Cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(rc()&&t.callbackNode!==r)return null;var o=xt;return o=Jn(t,t===Ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Fg(t,o,n),lb(t,Z()),t.callbackNode!=null&&t.callbackNode===r?ib.bind(null,t):null)}function ob(t,n){if(rc())return null;Fg(t,n,!0)}function lS(){vS(function(){(Rt&6)!==0?C(Re,rS):rb()})}function Kd(){if(nr===0){var t=gl;t===0&&(t=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),nr=t}return nr}function cb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:bs(""+t)}function ub(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function iS(t,n,r,o,u){if(n==="submit"&&r&&r.stateNode===u){var m=cb((u[gt]||null).action),b=o.submitter;b&&(n=(n=b[gt]||null)?cb(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var N=new qe("action","action",null,o,u);t.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(nr!==0){var z=b?ub(u,b):new FormData(u);gd(r,{pending:!0,data:z,method:u.method,action:m},null,z)}}else typeof m=="function"&&(N.preventDefault(),z=b?ub(u,b):new FormData(u),gd(r,{pending:!0,data:z,method:u.method,action:m},m,z))},currentTarget:u}]})}}for(var Xd=0;Xd<zu.length;Xd++){var Jd=zu[Xd],oS=Jd.toLowerCase(),cS=Jd[0].toUpperCase()+Jd.slice(1);ts(oS,"on"+cS)}ts($h,"onAnimationEnd"),ts(Fh,"onAnimationIteration"),ts(Hh,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(_N,"onTransitionRun"),ts(EN,"onTransitionStart"),ts(CN,"onTransitionCancel"),ts(Vh,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mi));function db(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],u=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var b=o.length-1;0<=b;b--){var N=o[b],z=N.instance,ne=N.currentTarget;if(N=N.listener,z!==m&&u.isPropagationStopped())break e;m=N,u.currentTarget=ne;try{m(u)}catch(ge){So(ge)}u.currentTarget=null,m=z}else for(b=0;b<o.length;b++){if(N=o[b],z=N.instance,ne=N.currentTarget,N=N.listener,z!==m&&u.isPropagationStopped())break e;m=N,u.currentTarget=ne;try{m(u)}catch(ge){So(ge)}u.currentTarget=null,m=z}}}}function yt(t,n){var r=n[Dt];r===void 0&&(r=n[Dt]=new Set);var o=t+"__bubble";r.has(o)||(fb(n,t,2,!1),r.add(o))}function Wd(t,n,r){var o=0;n&&(o|=4),fb(r,t,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[oc]){t[oc]=!0,Bs.forEach(function(r){r!=="selectionchange"&&(uS.has(r)||Wd(r,!1,t),Wd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oc]||(n[oc]=!0,Wd("selectionchange",!1,n))}}function fb(t,n,r,o){switch($b(n)){case 2:var u=BS;break;case 8:u=qS;break;default:u=gf}r=u.bind(null,n,r,t),u=void 0,!vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function tf(t,n,r,o,u){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var N=o.stateNode.containerInfo;if(N===u)break;if(b===4)for(b=o.return;b!==null;){var z=b.tag;if((z===3||z===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;N!==null;){if(b=wt(N),b===null)return;if(z=b.tag,z===5||z===6||z===26||z===27){o=m=b;continue e}N=N.parentNode}}o=o.return}rl(function(){var ne=m,ge=Sr(r),Se=[];e:{var re=Zh.get(t);if(re!==void 0){var ce=qe,Ge=t;switch(t){case"keypress":if(Me(r)===0)break e;case"keydown":case"keyup":ce=aN;break;case"focusin":Ge="focus",ce=wu;break;case"focusout":Ge="blur",ce=wu;break;case"beforeblur":case"afterblur":ce=wu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=lN;break;case $h:case Fh:case Hh:ce=Q0;break;case Vh:ce=oN;break;case"scroll":case"scrollend":ce=kt;break;case"wheel":ce=uN;break;case"copy":case"cut":case"paste":ce=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Sh;break;case"toggle":case"beforetoggle":ce=fN}var st=(n&4)!==0,$t=!st&&(t==="scroll"||t==="scrollend"),V=st?re!==null?re+"Capture":null:re;st=[];for(var B=ne,te;B!==null;){var ye=B;if(te=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||te===null||V===null||(ye=xn(B,V),ye!=null&&st.push(Ui(B,ye,te))),$t)break;B=B.return}0<st.length&&(re=new ce(re,Ge,null,r,ge),Se.push({event:re,listeners:st}))}}if((n&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",re&&r!==Da&&(Ge=r.relatedTarget||r.fromElement)&&(wt(Ge)||Ge[Tt]))break e;if((ce||re)&&(re=ge.window===ge?ge:(re=ge.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(Ge=r.relatedTarget||r.toElement,ce=ne,Ge=Ge?wt(Ge):null,Ge!==null&&($t=d(Ge),st=Ge.tag,Ge!==$t||st!==5&&st!==27&&st!==6)&&(Ge=null)):(ce=null,Ge=ne),ce!==Ge)){if(st=li,ye="onMouseLeave",V="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(st=Sh,ye="onPointerLeave",V="onPointerEnter",B="pointer"),$t=ce==null?re:Gn(ce),te=Ge==null?re:Gn(Ge),re=new st(ye,B+"leave",ce,r,ge),re.target=$t,re.relatedTarget=te,ye=null,wt(ge)===ne&&(st=new st(V,B+"enter",Ge,r,ge),st.target=te,st.relatedTarget=$t,ye=st),$t=ye,ce&&Ge)t:{for(st=dS,V=ce,B=Ge,te=0,ye=V;ye;ye=st(ye))te++;ye=0;for(var et=B;et;et=st(et))ye++;for(;0<te-ye;)V=st(V),te--;for(;0<ye-te;)B=st(B),ye--;for(;te--;){if(V===B||B!==null&&V===B.alternate){st=V;break t}V=st(V),B=st(B)}st=null}else st=null;ce!==null&&mb(Se,re,ce,st,!1),Ge!==null&&$t!==null&&mb(Se,$t,Ge,st,!0)}}e:{if(re=ne?Gn(ne):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var At=Rh;else if(Ah(re))if(Th)At=SN;else{At=xN;var Qe=yN}else ce=re.nodeName,!ce||ce.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&oa(ne.elementType)&&(At=Rh):At=NN;if(At&&(At=At(t,ne))){Oh(Se,At,r,ge);break e}Qe&&Qe(t,re,ne),t==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&ps(re,"number",re.value)}switch(Qe=ne?Gn(ne):window,t){case"focusin":(Ah(Qe)||Qe.contentEditable==="true")&&(ol=Qe,Ru=ne,di=null);break;case"focusout":di=Ru=ol=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,qh(Se,r,ge);break;case"selectionchange":if(wN)break;case"keydown":case"keyup":qh(Se,r,ge)}var mt;if(Eu)e:{switch(t){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else il?Eh(t,r)&&(Nt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(jh&&r.locale!=="ko"&&(il||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&il&&(mt=he()):(Un=ge,O="value"in Un?Un.value:Un.textContent,il=!0)),Qe=cc(ne,Nt),0<Qe.length&&(Nt=new Nh(Nt,t,null,r,ge),Se.push({event:Nt,listeners:Qe}),mt?Nt.data=mt:(mt=Ch(r),mt!==null&&(Nt.data=mt)))),(mt=hN?pN(t,r):gN(t,r))&&(Nt=cc(ne,"onBeforeInput"),0<Nt.length&&(Qe=new Nh("onBeforeInput","beforeinput",null,r,ge),Se.push({event:Qe,listeners:Nt}),Qe.data=mt)),iS(Se,t,ne,r,ge)}db(Se,n)})}function Ui(t,n,r){return{instance:t,listener:n,currentTarget:r}}function cc(t,n){for(var r=n+"Capture",o=[];t!==null;){var u=t,m=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||m===null||(u=xn(t,r),u!=null&&o.unshift(Ui(t,u,m)),u=xn(t,n),u!=null&&o.push(Ui(t,u,m))),t.tag===3)return o;t=t.return}return[]}function dS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mb(t,n,r,o,u){for(var m=n._reactName,b=[];r!==null&&r!==o;){var N=r,z=N.alternate,ne=N.stateNode;if(N=N.tag,z!==null&&z===o)break;N!==5&&N!==26&&N!==27||ne===null||(z=ne,u?(ne=xn(r,m),ne!=null&&b.unshift(Ui(r,ne,z))):u||(ne=xn(r,m),ne!=null&&b.push(Ui(r,ne,z)))),r=r.return}b.length!==0&&t.push({event:n,listeners:b})}var fS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function hb(t){return(typeof t=="string"?t:""+t).replace(fS,`
`).replace(mS,"")}function pb(t,n){return n=hb(n),hb(t)===n}function It(t,n,r,o,u,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Ja(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Ja(t,""+o);break;case"className":Sa(t,"class",o);break;case"tabIndex":Sa(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(t,r,o);break;case"style":gs(t,o,m);break;case"data":if(n!=="object"){Sa(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=bs(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&It(t,n,"name",u.name,u,null),It(t,n,"formEncType",u.formEncType,u,null),It(t,n,"formMethod",u.formMethod,u,null),It(t,n,"formTarget",u.formTarget,u,null)):(It(t,n,"encType",u.encType,u,null),It(t,n,"method",u.method,u,null),It(t,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=bs(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ja);break;case"onScroll":o!=null&&yt("scroll",t);break;case"onScrollEnd":o!=null&&yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=bs(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":yt("beforetoggle",t),yt("toggle",t),Jt(t,"popover",o);break;case"xlinkActuate":Qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Qn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Qn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Qn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Qn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Jt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nr.get(r)||r,Jt(t,r,o))}}function nf(t,n,r,o,u,m){switch(r){case"style":gs(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Ja(t,o):(typeof o=="number"||typeof o=="bigint")&&Ja(t,""+o);break;case"onScroll":o!=null&&yt("scroll",t);break;case"onScrollEnd":o!=null&&yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),m=t[gt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(n,m,u),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,u);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Jt(t,r,o)}}}function In(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",t),yt("load",t);var o=!1,u=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:It(t,n,m,b,r,null)}}u&&It(t,n,"srcSet",r.srcSet,r,null),o&&It(t,n,"src",r.src,r,null);return;case"input":yt("invalid",t);var N=m=b=u=null,z=null,ne=null;for(o in r)if(r.hasOwnProperty(o)){var ge=r[o];if(ge!=null)switch(o){case"name":u=ge;break;case"type":b=ge;break;case"checked":z=ge;break;case"defaultChecked":ne=ge;break;case"value":m=ge;break;case"defaultValue":N=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(i(137,n));break;default:It(t,n,o,ge,r,null)}}Is(t,m,N,z,ne,b,u,!1);return;case"select":yt("invalid",t),o=b=m=null;for(u in r)if(r.hasOwnProperty(u)&&(N=r[u],N!=null))switch(u){case"value":m=N;break;case"defaultValue":b=N;break;case"multiple":o=N;default:It(t,n,u,N,r,null)}n=m,r=b,t.multiple=!!o,n!=null?is(t,!!o,n,!1):r!=null&&is(t,!!o,r,!0);return;case"textarea":yt("invalid",t),m=u=o=null;for(b in r)if(r.hasOwnProperty(b)&&(N=r[b],N!=null))switch(b){case"value":o=N;break;case"defaultValue":u=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:It(t,n,b,N,r,null)}al(t,o,u,m);return;case"option":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:It(t,n,z,o,r,null)}return;case"dialog":yt("beforetoggle",t),yt("toggle",t),yt("cancel",t),yt("close",t);break;case"iframe":case"object":yt("load",t);break;case"video":case"audio":for(o=0;o<Mi.length;o++)yt(Mi[o],t);break;case"image":yt("error",t),yt("load",t);break;case"details":yt("toggle",t);break;case"embed":case"source":case"link":yt("error",t),yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in r)if(r.hasOwnProperty(ne)&&(o=r[ne],o!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:It(t,n,ne,o,r,null)}return;default:if(oa(n)){for(ge in r)r.hasOwnProperty(ge)&&(o=r[ge],o!==void 0&&nf(t,n,ge,o,r,void 0));return}}for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null&&It(t,n,N,o,r,null))}function hS(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,m=null,b=null,N=null,z=null,ne=null,ge=null;for(ce in r){var Se=r[ce];if(r.hasOwnProperty(ce)&&Se!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":z=Se;default:o.hasOwnProperty(ce)||It(t,n,ce,null,o,Se)}}for(var re in o){var ce=o[re];if(Se=r[re],o.hasOwnProperty(re)&&(ce!=null||Se!=null))switch(re){case"type":m=ce;break;case"name":u=ce;break;case"checked":ne=ce;break;case"defaultChecked":ge=ce;break;case"value":b=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,n));break;default:ce!==Se&&It(t,n,re,ce,o,Se)}}yr(t,b,N,z,ne,ge,m,u);return;case"select":ce=b=N=re=null;for(m in r)if(z=r[m],r.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":ce=z;default:o.hasOwnProperty(m)||It(t,n,m,null,o,z)}for(u in o)if(m=o[u],z=r[u],o.hasOwnProperty(u)&&(m!=null||z!=null))switch(u){case"value":re=m;break;case"defaultValue":N=m;break;case"multiple":b=m;default:m!==z&&It(t,n,u,m,o,z)}n=N,r=b,o=ce,re!=null?is(t,!!r,re,!1):!!o!=!!r&&(n!=null?is(t,!!r,n,!0):is(t,!!r,r?[]:"",!1));return;case"textarea":ce=re=null;for(N in r)if(u=r[N],r.hasOwnProperty(N)&&u!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:It(t,n,N,null,o,u)}for(b in o)if(u=o[b],m=r[b],o.hasOwnProperty(b)&&(u!=null||m!=null))switch(b){case"value":re=u;break;case"defaultValue":ce=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==m&&It(t,n,b,u,o,m)}nl(t,re,ce);return;case"option":for(var Ge in r)if(re=r[Ge],r.hasOwnProperty(Ge)&&re!=null&&!o.hasOwnProperty(Ge))switch(Ge){case"selected":t.selected=!1;break;default:It(t,n,Ge,null,o,re)}for(z in o)if(re=o[z],ce=r[z],o.hasOwnProperty(z)&&re!==ce&&(re!=null||ce!=null))switch(z){case"selected":t.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:It(t,n,z,re,o,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in r)re=r[st],r.hasOwnProperty(st)&&re!=null&&!o.hasOwnProperty(st)&&It(t,n,st,null,o,re);for(ne in o)if(re=o[ne],ce=r[ne],o.hasOwnProperty(ne)&&re!==ce&&(re!=null||ce!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,n));break;default:It(t,n,ne,re,o,ce)}return;default:if(oa(n)){for(var $t in r)re=r[$t],r.hasOwnProperty($t)&&re!==void 0&&!o.hasOwnProperty($t)&&nf(t,n,$t,void 0,o,re);for(ge in o)re=o[ge],ce=r[ge],!o.hasOwnProperty(ge)||re===ce||re===void 0&&ce===void 0||nf(t,n,ge,re,o,ce);return}}for(var V in r)re=r[V],r.hasOwnProperty(V)&&re!=null&&!o.hasOwnProperty(V)&&It(t,n,V,null,o,re);for(Se in o)re=o[Se],ce=r[Se],!o.hasOwnProperty(Se)||re===ce||re==null&&ce==null||It(t,n,Se,re,o,ce)}function gb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var u=r[o],m=u.transferSize,b=u.initiatorType,N=u.duration;if(m&&N&&gb(b)){for(b=0,N=u.responseEnd,o+=1;o<r.length;o++){var z=r[o],ne=z.startTime;if(ne>N)break;var ge=z.transferSize,Se=z.initiatorType;ge&&gb(Se)&&(z=z.responseEnd,b+=ge*(z<N?1:(N-ne)/(z-ne)))}if(--o,n+=8*(m+b)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var af=null,sf=null;function uc(t){return t.nodeType===9?t:t.ownerDocument}function bb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vb(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lf=null;function gS(){var t=window.event;return t&&t.type==="popstate"?t===lf?!1:(lf=t,!0):(lf=null,!1)}var yb=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,xb=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof xb<"u"?function(t){return xb.resolve(null).then(t).catch(yS)}:yb;function yS(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function Nb(t,n){var r=n,o=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(u),Ml(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Li(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Li(r);for(var m=r.firstChild;m;){var b=m.nextSibling,N=m.nodeName;m[Ct]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=b}}else r==="body"&&Li(t.ownerDocument.body);r=u}while(r);Ml(n)}function Sb(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":of(r),gn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function xS(t,n,r,o){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ct])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=$a(t.nextSibling),t===null)break}return null}function NS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$a(t.nextSibling),t===null))return null;return t}function jb(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$a(t.nextSibling),t===null))return null;return t}function cf(t){return t.data==="$?"||t.data==="$~"}function uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function SS(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $a(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var df=null;function wb(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $a(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function _b(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function Eb(t,n,r){switch(n=uc(r),t){case"html":if(t=n.documentElement,!t)throw Error(i(452));return t;case"head":if(t=n.head,!t)throw Error(i(453));return t;case"body":if(t=n.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Li(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);gn(t)}var Fa=new Map,Cb=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ks=H.d;H.d={f:jS,r:wS,D:_S,C:ES,L:CS,m:AS,X:RS,S:OS,M:TS};function jS(){var t=ks.f(),n=nc();return t||n}function wS(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?Vp(n):ks.r(t)}var Dl=typeof document>"u"?null:document;function Ab(t,n,r){var o=Dl;if(o&&typeof n=="string"&&n){var u=yn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Cb.has(u)||(Cb.add(u),t={rel:t,crossOrigin:r,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),In(n,"link",t),zt(n),o.head.appendChild(n)))}}function _S(t){ks.D(t),Ab("dns-prefetch",t,null)}function ES(t,n){ks.C(t,n),Ab("preconnect",t,n)}function CS(t,n,r){ks.L(t,n,r);var o=Dl;if(o&&t&&n){var u='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+yn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+yn(r.imageSizes)+'"]')):u+='[href="'+yn(t)+'"]';var m=u;switch(n){case"style":m=zl(t);break;case"script":m=kl(t)}Fa.has(m)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Fa.set(m,t),o.querySelector(u)!==null||n==="style"&&o.querySelector(Bi(m))||n==="script"&&o.querySelector(qi(m))||(n=o.createElement("link"),In(n,"link",t),zt(n),o.head.appendChild(n)))}}function AS(t,n){ks.m(t,n);var r=Dl;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(t)+'"]',m=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=kl(t)}if(!Fa.has(m)&&(t=x({rel:"modulepreload",href:t},n),Fa.set(m,t),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(qi(m)))return}o=r.createElement("link"),In(o,"link",t),zt(o),r.head.appendChild(o)}}}function OS(t,n,r){ks.S(t,n,r);var o=Dl;if(o&&t){var u=Tn(o).hoistableStyles,m=zl(t);n=n||"default";var b=u.get(m);if(!b){var N={loading:0,preload:null};if(b=o.querySelector(Bi(m)))N.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Fa.get(m))&&ff(t,r);var z=b=o.createElement("link");zt(z),In(z,"link",t),z._p=new Promise(function(ne,ge){z.onload=ne,z.onerror=ge}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,fc(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:N},u.set(m,b)}}}function RS(t,n){ks.X(t,n);var r=Dl;if(r&&t){var o=Tn(r).hoistableScripts,u=kl(t),m=o.get(u);m||(m=r.querySelector(qi(u)),m||(t=x({src:t,async:!0},n),(n=Fa.get(u))&&mf(t,n),m=r.createElement("script"),zt(m),In(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function TS(t,n){ks.M(t,n);var r=Dl;if(r&&t){var o=Tn(r).hoistableScripts,u=kl(t),m=o.get(u);m||(m=r.querySelector(qi(u)),m||(t=x({src:t,async:!0,type:"module"},n),(n=Fa.get(u))&&mf(t,n),m=r.createElement("script"),zt(m),In(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function Ob(t,n,r,o){var u=(u=be.current)?dc(u):null;if(!u)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=zl(r.href),r=Tn(u).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=zl(r.href);var m=Tn(u).hoistableStyles,b=m.get(t);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=u.querySelector(Bi(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Fa.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Fa.set(t,r),m||DS(u,t,r,b.state))),n&&o===null)throw Error(i(528,""));return b}if(n&&o!==null)throw Error(i(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=kl(r),r=Tn(u).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function zl(t){return'href="'+yn(t)+'"'}function Bi(t){return'link[rel="stylesheet"]['+t+"]"}function Rb(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function DS(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),In(n,"link",r),zt(n),t.head.appendChild(n))}function kl(t){return'[src="'+yn(t)+'"]'}function qi(t){return"script[async]"+t}function Tb(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+yn(r.href)+'"]');if(o)return n.instance=o,zt(o),o;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),zt(o),In(o,"style",u),fc(o,r.precedence,t),n.instance=o;case"stylesheet":u=zl(r.href);var m=t.querySelector(Bi(u));if(m)return n.state.loading|=4,n.instance=m,zt(m),m;o=Rb(r),(u=Fa.get(u))&&ff(o,u),m=(t.ownerDocument||t).createElement("link"),zt(m);var b=m;return b._p=new Promise(function(N,z){b.onload=N,b.onerror=z}),In(m,"link",o),n.state.loading|=4,fc(m,r.precedence,t),n.instance=m;case"script":return m=kl(r.src),(u=t.querySelector(qi(m)))?(n.instance=u,zt(u),u):(o=r,(u=Fa.get(m))&&(o=x({},r),mf(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),zt(u),In(u,"link",o),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,r.precedence,t));return n.instance}function fc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,m=u,b=0;b<o.length;b++){var N=o[b];if(N.dataset.precedence===n)m=N;else if(m!==u)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mc=null;function Db(t,n,r){if(mc===null){var o=new Map,u=mc=new Map;u.set(r,o)}else u=mc,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var m=r[u];if(!(m[Ct]||m[ut]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var N=o.get(b);N?N.push(m):o.set(b,[m])}}return o}function zb(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function zS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kS(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=zl(o.href),m=n.querySelector(Bi(u));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=hc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=m,zt(m);return}m=n.ownerDocument||n,o=Rb(o),(u=Fa.get(u))&&ff(o,u),m=m.createElement("link"),zt(m);var b=m;b._p=new Promise(function(N,z){b.onload=N,b.onerror=z}),In(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=hc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var hf=0;function MS(t,n){return t.stylesheets&&t.count===0&&gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&gc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&hf===0&&(hf=62500*pS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&gc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>hf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pc=null;function gc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pc=new Map,n.forEach(US,t),pc=null,hc.call(t))}function US(t,n){if(!(n.state.loading&4)){var r=pc.get(t);if(r)var o=r.get(null);else{r=new Map,pc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<u.length;m++){var b=u[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}u=n.instance,b=u.getAttribute("data-precedence"),m=r.get(b)||o,m===o&&r.set(null,u),r.set(b,u),this.count++,o=hc.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),m?m.parentNode.insertBefore(u,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Ii={$$typeof:J,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function LS(t,n,r,o,u,m,b,N,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=W(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W(0),this.hiddenUpdates=W(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Mb(t,n,r,o,u,m,b,N,z,ne,ge,Se){return t=new LS(t,n,r,b,z,ne,ge,Se,N),n=1,m===!0&&(n|=24),m=_a(3,null,null,n),t.current=m,m.stateNode=t,n=Gu(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},Ku(m),t}function Ub(t){return t?(t=dl,t):dl}function Lb(t,n,r,o,u,m){u=Ub(u),o.context===null?o.context=u:o.pendingContext=u,o=Gs(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Ps(t,o,n),r!==null&&(pa(r,t,n),vi(r,t,n))}function Bb(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function pf(t,n){Bb(t,n),(t=t.alternate)&&Bb(t,n)}function qb(t){if(t.tag===13||t.tag===31){var n=Er(t,67108864);n!==null&&pa(n,t,67108864),pf(t,67108864)}}function Ib(t){if(t.tag===13||t.tag===31){var n=Ra();n=Pt(n);var r=Er(t,n);r!==null&&pa(r,t,n),pf(t,n)}}var bc=!0;function BS(t,n,r,o){var u=M.T;M.T=null;var m=H.p;try{H.p=2,gf(t,n,r,o)}finally{H.p=m,M.T=u}}function qS(t,n,r,o){var u=M.T;M.T=null;var m=H.p;try{H.p=8,gf(t,n,r,o)}finally{H.p=m,M.T=u}}function gf(t,n,r,o){if(bc){var u=bf(o);if(u===null)tf(t,n,o,vc,r),Fb(t,o);else if($S(u,t,n,r,o))o.stopPropagation();else if(Fb(t,o),n&4&&-1<IS.indexOf(t)){for(;u!==null;){var m=bn(u);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=kn(m.pendingLanes);if(b!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var z=1<<31-jt(b);N.entanglements[1]|=z,b&=~z}ds(m),(Rt&6)===0&&(ec=Z()+500,ki(0))}}break;case 31:case 13:N=Er(m,2),N!==null&&pa(N,m,2),nc(),pf(m,2)}if(m=bf(o),m===null&&tf(t,n,o,vc,r),m===u)break;u=m}u!==null&&o.stopPropagation()}else tf(t,n,o,null,r)}}function bf(t){return t=Sr(t),vf(t)}var vc=null;function vf(t){if(vc=null,t=wt(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return vc=t,null}function $b(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case Re:return 2;case Be:return 8;case se:case Le:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var yf=!1,sr=null,rr=null,lr=null,$i=new Map,Fi=new Map,ir=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fb(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":$i.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(n.pointerId)}}function Hi(t,n,r,o,u,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[u]},n!==null&&(n=bn(n),n!==null&&qb(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function $S(t,n,r,o,u){switch(n){case"focusin":return sr=Hi(sr,t,n,r,o,u),!0;case"dragenter":return rr=Hi(rr,t,n,r,o,u),!0;case"mouseover":return lr=Hi(lr,t,n,r,o,u),!0;case"pointerover":var m=u.pointerId;return $i.set(m,Hi($i.get(m)||null,t,n,r,o,u)),!0;case"gotpointercapture":return m=u.pointerId,Fi.set(m,Hi(Fi.get(m)||null,t,n,r,o,u)),!0}return!1}function Hb(t){var n=wt(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,Zt(t.priority,function(){Ib(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,Zt(t.priority,function(){Ib(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=bf(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Da=o,r.target.dispatchEvent(o),Da=null}else return n=bn(r),n!==null&&qb(n),t.blockedOn=r,!1;n.shift()}return!0}function Vb(t,n,r){yc(t)&&r.delete(n)}function FS(){yf=!1,sr!==null&&yc(sr)&&(sr=null),rr!==null&&yc(rr)&&(rr=null),lr!==null&&yc(lr)&&(lr=null),$i.forEach(Vb),Fi.forEach(Vb)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,yf||(yf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FS)))}var Nc=null;function Zb(t){Nc!==t&&(Nc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],u=t[n+2];if(typeof o!="function"){if(vf(o||r)===null)continue;break}var m=bn(r);m!==null&&(t.splice(n,3),n-=3,gd(m,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function Ml(t){function n(z){return xc(z,t)}sr!==null&&xc(sr,t),rr!==null&&xc(rr,t),lr!==null&&xc(lr,t),$i.forEach(n),Fi.forEach(n);for(var r=0;r<ir.length;r++){var o=ir[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(r=ir[0],r.blockedOn===null);)Hb(r),r.blockedOn===null&&ir.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],b=u[gt]||null;if(typeof m=="function")b||Zb(r);else if(b){var N=null;if(m&&m.hasAttribute("formAction")){if(u=m,b=m[gt]||null)N=b.formAction;else if(vf(u)!==null)continue}else N=b.action;typeof N=="function"?r[o+1]=N:(r.splice(o,3),o-=3),Zb(r)}}}function Gb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function xf(t){this._internalRoot=t}Sc.prototype.render=xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));var r=n.current,o=Ra();Lb(r,o,t,n,null,null)},Sc.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Lb(t.current,2,null,t,null,null),nc(),n[Tt]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var n=bt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ir.length&&n!==0&&n<ir[r].priority;r++);ir.splice(r,0,t),r===0&&Hb(t)}};var Pb=a.version;if(Pb!=="19.2.0")throw Error(i(527,Pb,"19.2.0"));H.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var HS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Ne=jc.inject(HS),nt=jc}catch{}}return Zi.createRoot=function(t,n){if(!c(t))throw Error(i(299));var r=!1,o="",u=eg,m=tg,b=ng;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Mb(t,1,!1,null,null,r,o,null,u,m,b,Gb),t[Tt]=n.current,ef(t),new xf(n)},Zi.hydrateRoot=function(t,n,r){if(!c(t))throw Error(i(299));var o=!1,u="",m=eg,b=tg,N=ng,z=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.formState!==void 0&&(z=r.formState)),n=Mb(t,1,!0,n,r??null,o,u,z,m,b,N,Gb),n.context=Ub(null),r=n.current,o=Ra(),o=Pt(o),u=Gs(o),u.callback=null,Ps(r,u,o),r=o,n.current.lanes=r,Oe(n,r),ds(n),t[Tt]=n.current,ef(t),new Sc(n)},Zi.version="19.2.0",Zi}var av;function WS(){if(av)return jf.exports;av=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),jf.exports=JS(),jf.exports}var ej=WS();const tj=qy(ej);var sv="popstate";function nj(e={}){function a(i,c){let{pathname:d,search:f,hash:h}=i.location;return sm("",{pathname:d,search:f,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(i,c){return typeof c=="string"?c:no(c)}return sj(a,s,null,e)}function nn(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Ga(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function aj(){return Math.random().toString(36).substring(2,10)}function rv(e,a){return{usr:e.state,key:e.key,idx:a}}function sm(e,a,s=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Yl(a):a,state:s,key:a&&a.key||i||aj()}}function no({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Yl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let i=e.indexOf("?");i>=0&&(a.search=e.substring(i),e=e.substring(0,i)),e&&(a.pathname=e)}return a}function sj(e,a,s,i={}){let{window:c=document.defaultView,v5Compat:d=!1}=i,f=c.history,h="POP",v=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function x(){h="POP";let _=y(),q=_==null?null:_-p;p=_,v&&v({action:h,location:A.location,delta:q})}function j(_,q){h="PUSH";let D=sm(A.location,_,q);p=y()+1;let J=rv(D,p),U=A.createHref(D);try{f.pushState(J,"",U)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;c.location.assign(U)}d&&v&&v({action:h,location:A.location,delta:1})}function I(_,q){h="REPLACE";let D=sm(A.location,_,q);p=y();let J=rv(D,p),U=A.createHref(D);f.replaceState(J,"",U),d&&v&&v({action:h,location:A.location,delta:0})}function E(_){return rj(_)}let A={get action(){return h},get location(){return e(c,f)},listen(_){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(sv,x),v=_,()=>{c.removeEventListener(sv,x),v=null}},createHref(_){return a(c,_)},createURL:E,encodeLocation(_){let q=E(_);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:j,replace:I,go(_){return f.go(_)}};return A}function rj(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),nn(s,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:no(e);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function Iy(e,a,s="/"){return lj(e,a,s,!1)}function lj(e,a,s,i){let c=typeof a=="string"?Yl(a):a,d=Ls(c.pathname||"/",s);if(d==null)return null;let f=$y(e);ij(f);let h=null;for(let v=0;h==null&&v<f.length;++v){let p=vj(d);h=gj(f[v],p,i)}return h}function $y(e,a=[],s=[],i="",c=!1){let d=(f,h,v=c,p)=>{let y={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&v)return;nn(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let x=Us([i,y.relativePath]),j=s.concat(y);f.children&&f.children.length>0&&(nn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),$y(f.children,a,j,x,v)),!(f.path==null&&!f.index)&&a.push({path:x,score:hj(x,f.index),routesMeta:j})};return e.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))d(f,h);else for(let v of Fy(f.path))d(f,h,!0,v)}),a}function Fy(e){let a=e.split("/");if(a.length===0)return[];let[s,...i]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let f=Fy(i.join("/")),h=[];return h.push(...f.map(v=>v===""?d:[d,v].join("/"))),c&&h.push(...f),h.map(v=>e.startsWith("/")&&v===""?"/":v)}function ij(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:pj(a.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var oj=/^:[\w-]+$/,cj=3,uj=2,dj=1,fj=10,mj=-2,lv=e=>e==="*";function hj(e,a){let s=e.split("/"),i=s.length;return s.some(lv)&&(i+=mj),a&&(i+=uj),s.filter(c=>!lv(c)).reduce((c,d)=>c+(oj.test(d)?cj:d===""?dj:fj),i)}function pj(e,a){return e.length===a.length&&e.slice(0,-1).every((i,c)=>i===a[c])?e[e.length-1]-a[a.length-1]:0}function gj(e,a,s=!1){let{routesMeta:i}=e,c={},d="/",f=[];for(let h=0;h<i.length;++h){let v=i[h],p=h===i.length-1,y=d==="/"?a:a.slice(d.length)||"/",x=ao({path:v.relativePath,caseSensitive:v.caseSensitive,end:p},y),j=v.route;if(!x&&p&&s&&!i[i.length-1].route.index&&(x=ao({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!x)return null;Object.assign(c,x.params),f.push({params:c,pathname:Us([d,x.pathname]),pathnameBase:Sj(Us([d,x.pathnameBase])),route:j}),x.pathnameBase!=="/"&&(d=Us([d,x.pathnameBase]))}return f}function ao(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,i]=bj(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:x},j)=>{if(y==="*"){let E=h[j]||"";f=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const I=h[j];return x&&!I?p[y]=void 0:p[y]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:f,pattern:e}}function bj(e,a=!1,s=!0){Ga(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,v)=>(i.push({paramName:h,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),i]}function vj(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ga(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function Ls(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,i=e.charAt(s);return i&&i!=="/"?null:e.slice(s)||"/"}function yj(e,a="/"){let{pathname:s,search:i="",hash:c=""}=typeof e=="string"?Yl(e):e;return{pathname:s?s.startsWith("/")?s:xj(s,a):a,search:jj(i),hash:wj(c)}}function xj(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Cf(e,a,s,i){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nj(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Lm(e){let a=Nj(e);return a.map((s,i)=>i===a.length-1?s.pathname:s.pathnameBase)}function Bm(e,a,s,i=!1){let c;typeof e=="string"?c=Yl(e):(c={...e},nn(!c.pathname||!c.pathname.includes("?"),Cf("?","pathname","search",c)),nn(!c.pathname||!c.pathname.includes("#"),Cf("#","pathname","hash",c)),nn(!c.search||!c.search.includes("#"),Cf("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,h;if(f==null)h=s;else{let x=a.length-1;if(!i&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),x-=1;c.pathname=j.join("/")}h=x>=0?a[x]:"/"}let v=yj(c,h),p=f&&f!=="/"&&f.endsWith("/"),y=(d||f===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(p||y)&&(v.pathname+="/"),v}var Us=e=>e.join("/").replace(/\/\/+/g,"/"),Sj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _j(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hy=["POST","PUT","PATCH","DELETE"];new Set(Hy);var Ej=["GET",...Hy];new Set(Ej);var Kl=g.createContext(null);Kl.displayName="DataRouter";var eu=g.createContext(null);eu.displayName="DataRouterState";g.createContext(!1);var Vy=g.createContext({isTransitioning:!1});Vy.displayName="ViewTransition";var Cj=g.createContext(new Map);Cj.displayName="Fetchers";var Aj=g.createContext(null);Aj.displayName="Await";var Pa=g.createContext(null);Pa.displayName="Navigation";var uo=g.createContext(null);uo.displayName="Location";var Qa=g.createContext({outlet:null,matches:[],isDataRoute:!1});Qa.displayName="Route";var qm=g.createContext(null);qm.displayName="RouteError";function Oj(e,{relative:a}={}){nn(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=g.useContext(Pa),{hash:c,pathname:d,search:f}=fo(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:Us([s,d])),i.createHref({pathname:h,search:f,hash:c})}function Xl(){return g.useContext(uo)!=null}function ra(){return nn(Xl(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(uo).location}var Zy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gy(e){g.useContext(Pa).static||g.useLayoutEffect(e)}function Xr(){let{isDataRoute:e}=g.useContext(Qa);return e?Zj():Rj()}function Rj(){nn(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Kl),{basename:a,navigator:s}=g.useContext(Pa),{matches:i}=g.useContext(Qa),{pathname:c}=ra(),d=JSON.stringify(Lm(i)),f=g.useRef(!1);return Gy(()=>{f.current=!0}),g.useCallback((v,p={})=>{if(Ga(f.current,Zy),!f.current)return;if(typeof v=="number"){s.go(v);return}let y=Bm(v,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Us([a,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[a,s,d,c,e])}var Tj=g.createContext(null);function Dj(e){let a=g.useContext(Qa).outlet;return g.useMemo(()=>a&&g.createElement(Tj.Provider,{value:e},a),[a,e])}function zj(){let{matches:e}=g.useContext(Qa),a=e[e.length-1];return a?a.params:{}}function fo(e,{relative:a}={}){let{matches:s}=g.useContext(Qa),{pathname:i}=ra(),c=JSON.stringify(Lm(s));return g.useMemo(()=>Bm(e,JSON.parse(c),i,a==="path"),[e,c,i,a])}function kj(e,a){return Py(e,a)}function Py(e,a,s,i,c){nn(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=g.useContext(Pa),{matches:f}=g.useContext(Qa),h=f[f.length-1],v=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let D=x&&x.path||"";Qy(p,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let j=ra(),I;if(a){let D=typeof a=="string"?Yl(a):a;nn(y==="/"||D.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${D.pathname}" was given in the \`location\` prop.`),I=D}else I=j;let E=I.pathname||"/",A=E;if(y!=="/"){let D=y.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let _=Iy(e,{pathname:A});Ga(x||_!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Ga(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=qj(_&&_.map(D=>Object.assign({},D,{params:Object.assign({},v,D.params),pathname:Us([y,d.encodeLocation?d.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:Us([y,d.encodeLocation?d.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,s,i,c);return a&&q?g.createElement(uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},q):q}function Mj(){let e=Vj(),a=_j(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:d},"ErrorBoundary")," or"," ",g.createElement("code",{style:d},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),s?g.createElement("pre",{style:c},s):null,f)}var Uj=g.createElement(Mj,null),Lj=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(Qa.Provider,{value:this.props.routeContext},g.createElement(qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bj({routeContext:e,match:a,children:s}){let i=g.useContext(Kl);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(Qa.Provider,{value:e},s)}function qj(e,a=[],s=null,i=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,f=s?.errors;if(f!=null){let p=d.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);nn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,v=-1;if(s)for(let p=0;p<d.length;p++){let y=d[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=p),y.route.id){let{loaderData:x,errors:j}=s,I=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!j||j[y.route.id]===void 0);if(y.route.lazy||I){h=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((p,y,x)=>{let j,I=!1,E=null,A=null;s&&(j=f&&y.route.id?f[y.route.id]:void 0,E=y.route.errorElement||Uj,h&&(v<0&&x===0?(Qy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,A=null):v===x&&(I=!0,A=y.route.hydrateFallbackElement||null)));let _=a.concat(d.slice(0,x+1)),q=()=>{let D;return j?D=E:I?D=A:y.route.Component?D=g.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=p,g.createElement(Bj,{match:y,routeContext:{outlet:p,matches:_,isDataRoute:s!=null},children:D})};return s&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?g.createElement(Lj,{location:s.location,revalidation:s.revalidation,component:E,error:j,children:q(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:i}):q()},null)}function Im(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ij(e){let a=g.useContext(Kl);return nn(a,Im(e)),a}function $j(e){let a=g.useContext(eu);return nn(a,Im(e)),a}function Fj(e){let a=g.useContext(Qa);return nn(a,Im(e)),a}function $m(e){let a=Fj(e),s=a.matches[a.matches.length-1];return nn(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Hj(){return $m("useRouteId")}function Vj(){let e=g.useContext(qm),a=$j("useRouteError"),s=$m("useRouteError");return e!==void 0?e:a.errors?.[s]}function Zj(){let{router:e}=Ij("useNavigate"),a=$m("useNavigate"),s=g.useRef(!1);return Gy(()=>{s.current=!0}),g.useCallback(async(c,d={})=>{Ga(s.current,Zy),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var iv={};function Qy(e,a,s){!a&&!iv[e]&&(iv[e]=!0,Ga(!1,s))}g.memo(Gj);function Gj({routes:e,future:a,state:s,unstable_onError:i}){return Py(e,void 0,s,i,a)}function mr({to:e,replace:a,state:s,relative:i}){nn(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=g.useContext(Pa);Ga(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=g.useContext(Qa),{pathname:f}=ra(),h=Xr(),v=Bm(e,Lm(d),f,i==="path"),p=JSON.stringify(v);return g.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:i})},[h,p,i,a,s]),null}function Yy(e){return Dj(e.context)}function rn(e){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pj({basename:e="/",children:a=null,location:s,navigationType:i="POP",navigator:c,static:d=!1}){nn(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:f,navigator:c,static:d,future:{}}),[f,c,d]);typeof s=="string"&&(s=Yl(s));let{pathname:v="/",search:p="",hash:y="",state:x=null,key:j="default"}=s,I=g.useMemo(()=>{let E=Ls(v,f);return E==null?null:{location:{pathname:E,search:p,hash:y,state:x,key:j},navigationType:i}},[f,v,p,y,x,j,i]);return Ga(I!=null,`<Router basename="${f}"> is not able to match the URL "${v}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:g.createElement(Pa.Provider,{value:h},g.createElement(uo.Provider,{children:a,value:I}))}function Qj({children:e,location:a}){return kj(rm(e),a)}function rm(e,a=[]){let s=[];return g.Children.forEach(e,(i,c)=>{if(!g.isValidElement(i))return;let d=[...a,c];if(i.type===g.Fragment){s.push.apply(s,rm(i.props.children,d));return}nn(i.type===rn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=rm(i.props.children,d)),s.push(f)}),s}var zc="get",kc="application/x-www-form-urlencoded";function tu(e){return e!=null&&typeof e.tagName=="string"}function Yj(e){return tu(e)&&e.tagName.toLowerCase()==="button"}function Kj(e){return tu(e)&&e.tagName.toLowerCase()==="form"}function Xj(e){return tu(e)&&e.tagName.toLowerCase()==="input"}function Jj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wj(e,a){return e.button===0&&(!a||a==="_self")&&!Jj(e)}function lm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let i=e[s];return a.concat(Array.isArray(i)?i.map(c=>[s,c]):[[s,i]])},[]))}function ew(e,a){let s=lm(e);return a&&a.forEach((i,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var wc=null;function tw(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch{wc=!0}return wc}var nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Af(e){return e!=null&&!nw.has(e)?(Ga(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):e}function aw(e,a){let s,i,c,d,f;if(Kj(e)){let h=e.getAttribute("action");i=h?Ls(h,a):null,s=e.getAttribute("method")||zc,c=Af(e.getAttribute("enctype"))||kc,d=new FormData(e)}else if(Yj(e)||Xj(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=e.getAttribute("formaction")||h.getAttribute("action");if(i=v?Ls(v,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||zc,c=Af(e.getAttribute("formenctype"))||Af(h.getAttribute("enctype"))||kc,d=new FormData(h,e),!tw()){let{name:p,type:y,value:x}=e;if(y==="image"){let j=p?`${p}.`:"";d.append(`${j}x`,"0"),d.append(`${j}y`,"0")}else p&&d.append(p,x)}}else{if(tu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=zc,i=null,c=kc,f=e}return d&&c==="text/plain"&&(f=d,d=void 0),{action:i,method:s.toLowerCase(),encType:c,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function sw(e,a,s){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${s}`:a&&Ls(i.pathname,a)==="/"?i.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function rw(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iw(e,a,s){let i=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let f=await rw(d,s);return f.links?f.links():[]}return[]}));return dw(i.flat(1).filter(lw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function ov(e,a,s,i,c,d){let f=(v,p)=>s[p]?v.route.id!==s[p].route.id:!0,h=(v,p)=>s[p].pathname!==v.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==v.params["*"];return d==="assets"?a.filter((v,p)=>f(v,p)||h(v,p)):d==="data"?a.filter((v,p)=>{let y=i.routes[v.route.id];if(!y||!y.hasLoader)return!1;if(f(v,p)||h(v,p))return!0;if(v.route.shouldRevalidate){let x=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ow(e,a,{includeHydrateFallback:s}={}){return cw(e.map(i=>{let c=a.routes[i.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function cw(e){return[...new Set(e)]}function uw(e){let a={},s=Object.keys(e).sort();for(let i of s)a[i]=e[i];return a}function dw(e,a){let s=new Set;return new Set(a),e.reduce((i,c)=>{let d=JSON.stringify(uw(c));return s.has(d)||(s.add(d),i.push({key:d,link:c})),i},[])}function Ky(){let e=g.useContext(Kl);return Fm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fw(){let e=g.useContext(eu);return Fm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hm=g.createContext(void 0);Hm.displayName="FrameworkContext";function Xy(){let e=g.useContext(Hm);return Fm(e,"You must render this element inside a <HydratedRouter> element"),e}function mw(e,a){let s=g.useContext(Hm),[i,c]=g.useState(!1),[d,f]=g.useState(!1),{onFocus:h,onBlur:v,onMouseEnter:p,onMouseLeave:y,onTouchStart:x}=a,j=g.useRef(null);g.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let A=q=>{q.forEach(D=>{f(D.isIntersecting)})},_=new IntersectionObserver(A,{threshold:.5});return j.current&&_.observe(j.current),()=>{_.disconnect()}}},[e]),g.useEffect(()=>{if(i){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[i]);let I=()=>{c(!0)},E=()=>{c(!1),f(!1)};return s?e!=="intent"?[d,j,{}]:[d,j,{onFocus:Gi(h,I),onBlur:Gi(v,E),onMouseEnter:Gi(p,I),onMouseLeave:Gi(y,E),onTouchStart:Gi(x,I)}]:[!1,j,{}]}function Gi(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function hw({page:e,...a}){let{router:s}=Ky(),i=g.useMemo(()=>Iy(s.routes,e,s.basename),[s.routes,e,s.basename]);return i?g.createElement(gw,{page:e,matches:i,...a}):null}function pw(e){let{manifest:a,routeModules:s}=Xy(),[i,c]=g.useState([]);return g.useEffect(()=>{let d=!1;return iw(e,a,s).then(f=>{d||c(f)}),()=>{d=!0}},[e,a,s]),i}function gw({page:e,matches:a,...s}){let i=ra(),{manifest:c,routeModules:d}=Xy(),{basename:f}=Ky(),{loaderData:h,matches:v}=fw(),p=g.useMemo(()=>ov(e,a,v,c,i,"data"),[e,a,v,c,i]),y=g.useMemo(()=>ov(e,a,v,c,i,"assets"),[e,a,v,c,i]),x=g.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,A=!1;if(a.forEach(q=>{let D=c.routes[q.route.id];!D||!D.hasLoader||(!p.some(J=>J.route.id===q.route.id)&&q.route.id in h&&d[q.route.id]?.shouldRevalidate||D.hasClientLoader?A=!0:E.add(q.route.id))}),E.size===0)return[];let _=sw(e,f,"data");return A&&E.size>0&&_.searchParams.set("_routes",a.filter(q=>E.has(q.route.id)).map(q=>q.route.id).join(",")),[_.pathname+_.search]},[f,h,i,c,p,a,e,d]),j=g.useMemo(()=>ow(y,c),[y,c]),I=pw(y);return g.createElement(g.Fragment,null,x.map(E=>g.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),j.map(E=>g.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),I.map(({key:E,link:A})=>g.createElement("link",{key:E,nonce:s.nonce,...A})))}function bw(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jy&&(window.__reactRouterVersion="7.9.5")}catch{}function vw({basename:e,children:a,window:s}){let i=g.useRef();i.current==null&&(i.current=nj({window:s,v5Compat:!0}));let c=i.current,[d,f]=g.useState({action:c.action,location:c.location}),h=g.useCallback(v=>{g.startTransition(()=>f(v))},[f]);return g.useLayoutEffect(()=>c.listen(h),[c,h]),g.createElement(Pj,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var Wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bc=g.forwardRef(function({onClick:a,discover:s="render",prefetch:i="none",relative:c,reloadDocument:d,replace:f,state:h,target:v,to:p,preventScrollReset:y,viewTransition:x,...j},I){let{basename:E}=g.useContext(Pa),A=typeof p=="string"&&Wy.test(p),_,q=!1;if(typeof p=="string"&&A&&(_=p,Jy))try{let de=new URL(window.location.href),Ee=p.startsWith("//")?new URL(de.protocol+p):new URL(p),je=Ls(Ee.pathname,E);Ee.origin===de.origin&&je!=null?p=je+Ee.search+Ee.hash:q=!0}catch{Ga(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=Oj(p,{relative:c}),[J,U,T]=mw(i,j),G=Nw(p,{replace:f,state:h,target:v,preventScrollReset:y,relative:c,viewTransition:x});function L(de){a&&a(de),de.defaultPrevented||G(de)}let ee=g.createElement("a",{...j,...T,href:_||D,onClick:q||d?a:L,ref:bw(I,U),target:v,"data-discover":!A&&s==="render"?"true":void 0});return J&&!A?g.createElement(g.Fragment,null,ee,g.createElement(hw,{page:D})):ee});Bc.displayName="Link";var ex=g.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:i="",end:c=!1,style:d,to:f,viewTransition:h,children:v,...p},y){let x=fo(f,{relative:p.relative}),j=ra(),I=g.useContext(eu),{navigator:E,basename:A}=g.useContext(Pa),_=I!=null&&Ew(x)&&h===!0,q=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,D=j.pathname,J=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;s||(D=D.toLowerCase(),J=J?J.toLowerCase():null,q=q.toLowerCase()),J&&A&&(J=Ls(J,A)||J);const U=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let T=D===q||!c&&D.startsWith(q)&&D.charAt(U)==="/",G=J!=null&&(J===q||!c&&J.startsWith(q)&&J.charAt(q.length)==="/"),L={isActive:T,isPending:G,isTransitioning:_},ee=T?a:void 0,de;typeof i=="function"?de=i(L):de=[i,T?"active":null,G?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof d=="function"?d(L):d;return g.createElement(Bc,{...p,"aria-current":ee,className:de,ref:y,style:Ee,to:f,viewTransition:h},typeof v=="function"?v(L):v)});ex.displayName="NavLink";var yw=g.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:c,state:d,method:f=zc,action:h,onSubmit:v,relative:p,preventScrollReset:y,viewTransition:x,...j},I)=>{let E=ww(),A=_w(h,{relative:p}),_=f.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&Wy.test(h),D=J=>{if(v&&v(J),J.defaultPrevented)return;J.preventDefault();let U=J.nativeEvent.submitter,T=U?.getAttribute("formmethod")||f;E(U||J.currentTarget,{fetcherKey:a,method:T,navigate:s,replace:c,state:d,relative:p,preventScrollReset:y,viewTransition:x})};return g.createElement("form",{ref:I,method:_,action:A,onSubmit:i?v:D,...j,"data-discover":!q&&e==="render"?"true":void 0})});yw.displayName="Form";function xw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tx(e){let a=g.useContext(Kl);return nn(a,xw(e)),a}function Nw(e,{target:a,replace:s,state:i,preventScrollReset:c,relative:d,viewTransition:f}={}){let h=Xr(),v=ra(),p=fo(e,{relative:d});return g.useCallback(y=>{if(Wj(y,a)){y.preventDefault();let x=s!==void 0?s:no(v)===no(p);h(e,{replace:x,state:i,preventScrollReset:c,relative:d,viewTransition:f})}},[v,h,p,s,i,a,e,c,d,f])}function nx(e){Ga(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=g.useRef(lm(e)),s=g.useRef(!1),i=ra(),c=g.useMemo(()=>ew(i.search,s.current?null:a.current),[i.search]),d=Xr(),f=g.useCallback((h,v)=>{const p=lm(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,v)},[d,c]);return[c,f]}var Sw=0,jw=()=>`__${String(++Sw)}__`;function ww(){let{router:e}=tx("useSubmit"),{basename:a}=g.useContext(Pa),s=Hj();return g.useCallback(async(i,c={})=>{let{action:d,method:f,encType:h,formData:v,body:p}=aw(i,a);if(c.navigate===!1){let y=c.fetcherKey||jw();await e.fetch(y,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:p,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:p,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function _w(e,{relative:a}={}){let{basename:s}=g.useContext(Pa),i=g.useContext(Qa);nn(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),d={...fo(e||".",{relative:a})},f=ra();if(e==null){d.search=f.search;let h=new URLSearchParams(d.search),v=h.getAll("index");if(v.some(y=>y==="")){h.delete("index"),v.filter(x=>x).forEach(x=>h.append("index",x));let y=h.toString();d.search=y?`?${y}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:Us([s,d.pathname])),no(d)}function Ew(e,{relative:a}={}){let s=g.useContext(Vy);nn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tx("useViewTransitionState"),c=fo(e,{relative:a});if(!s.isTransitioning)return!1;let d=Ls(s.currentLocation.pathname,i)||s.currentLocation.pathname,f=Ls(s.nextLocation.pathname,i)||s.nextLocation.pathname;return ao(c.pathname,f)!=null||ao(c.pathname,d)!=null}var Jl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cw={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},Aw=class{#e=Cw;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},Ir=new Aw;function Ow(e){setTimeout(e,0)}var Vr=typeof window>"u"||"Deno"in globalThis;function sa(){}function Rw(e,a){return typeof e=="function"?e(a):e}function im(e){return typeof e=="number"&&e>=0&&e!==1/0}function ax(e,a){return Math.max(e+(a||0)-Date.now(),0)}function hr(e,a){return typeof e=="function"?e(a):e}function Ha(e,a){return typeof e=="function"?e(a):e}function cv(e,a){const{type:s="all",exact:i,fetchStatus:c,predicate:d,queryKey:f,stale:h}=e;if(f){if(i){if(a.queryHash!==Vm(f,a.options))return!1}else if(!so(a.queryKey,f))return!1}if(s!=="all"){const v=a.isActive();if(s==="active"&&!v||s==="inactive"&&v)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function uv(e,a){const{exact:s,status:i,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(Zr(a.options.mutationKey)!==Zr(d))return!1}else if(!so(a.options.mutationKey,d))return!1}return!(i&&a.state.status!==i||c&&!c(a))}function Vm(e,a){return(a?.queryKeyHashFn||Zr)(e)}function Zr(e){return JSON.stringify(e,(a,s)=>om(s)?Object.keys(s).sort().reduce((i,c)=>(i[c]=s[c],i),{}):s)}function so(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>so(e[s],a[s])):!1}var Tw=Object.prototype.hasOwnProperty;function sx(e,a){if(e===a)return e;const s=dv(e)&&dv(a);if(!s&&!(om(e)&&om(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),f=d.length,h=s?new Array(f):{};let v=0;for(let p=0;p<f;p++){const y=s?p:d[p],x=e[y],j=a[y];if(x===j){h[y]=x,(s?p<c:Tw.call(e,y))&&v++;continue}if(x===null||j===null||typeof x!="object"||typeof j!="object"){h[y]=j;continue}const I=sx(x,j);h[y]=I,I===x&&v++}return c===f&&v===c?e:h}function qc(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function dv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function om(e){if(!fv(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!fv(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dw(e){return new Promise(a=>{Ir.setTimeout(a,e)})}function cm(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?sx(e,a):a}function zw(e,a,s=0){const i=[...e,a];return s&&i.length>s?i.slice(1):i}function kw(e,a,s=0){const i=[a,...e];return s&&i.length>s?i.slice(0,-1):i}var Zm=Symbol();function rx(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Zm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function lx(e,a){return typeof e=="function"?e(...a):!!e}var Mw=class extends Jl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Vr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Gm=new Mw;function um(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function i(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},s.reject=c=>{i({status:"rejected",reason:c}),a(c)},s}var Uw=Ow;function Lw(){let e=[],a=0,s=h=>{h()},i=h=>{h()},c=Uw;const d=h=>{a?e.push(h):c(()=>{s(h)})},f=()=>{const h=e;e=[],h.length&&c(()=>{i(()=>{h.forEach(v=>{s(v)})})})};return{batch:h=>{let v;a++;try{v=h()}finally{a--,a||f()}return v},batchCalls:h=>(...v)=>{d(()=>{h(...v)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{c=h}}}var An=Lw(),Bw=class extends Jl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Vr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ic=new Bw;function qw(e){return Math.min(1e3*2**e,3e4)}function ix(e){return(e??"online")==="online"?Ic.isOnline():!0}var dm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ox(e){let a=!1,s=0,i;const c=um(),d=()=>c.status!=="pending",f=A=>{if(!d()){const _=new dm(A);j(_),e.onCancel?.(_)}},h=()=>{a=!0},v=()=>{a=!1},p=()=>Gm.isFocused()&&(e.networkMode==="always"||Ic.isOnline())&&e.canRun(),y=()=>ix(e.networkMode)&&e.canRun(),x=A=>{d()||(i?.(),c.resolve(A))},j=A=>{d()||(i?.(),c.reject(A))},I=()=>new Promise(A=>{i=_=>{(d()||p())&&A(_)},e.onPause?.()}).then(()=>{i=void 0,d()||e.onContinue?.()}),E=()=>{if(d())return;let A;const _=s===0?e.initialPromise:void 0;try{A=_??e.fn()}catch(q){A=Promise.reject(q)}Promise.resolve(A).then(x).catch(q=>{if(d())return;const D=e.retry??(Vr?0:3),J=e.retryDelay??qw,U=typeof J=="function"?J(s,q):J,T=D===!0||typeof D=="number"&&s<D||typeof D=="function"&&D(s,q);if(a||!T){j(q);return}s++,e.onFail?.(s,q),Dw(U).then(()=>p()?void 0:I()).then(()=>{a?j(q):E()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:h,continueRetry:v,canStart:y,start:()=>(y()?E():I().then(E),c)}}var cx=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),im(this.gcTime)&&(this.#e=Ir.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ir.clearTimeout(this.#e),this.#e=void 0)}},Iw=class extends cx{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=hv(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=hv(this.options);a.data!==void 0&&(this.setState(mv(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=cm(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(sa).catch(sa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ha(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>hr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ax(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(v=>v.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=rx(this.options,a),p=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(y),y})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},f=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return i(h),h})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=ox({initialPromise:a?.initialPromise,fn:f.fetchFn,onCancel:h=>{h instanceof dm&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,v)=>{this.#r({type:"failed",failureCount:h,error:v})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof dm){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ux(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,...mv(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),An.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function ux(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ix(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mv(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hv(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var $w=class extends Jl{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=um(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),pv(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#N(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ha(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),a._defaulted&&!qc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&gv(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),i&&(this.#t!==s||Ha(this.options.enabled,this.#t)!==Ha(a.enabled,this.#t)||hr(this.options.staleTime,this.#t)!==hr(a.staleTime,this.#t))&&this.#g();const c=this.#b();i&&(this.#t!==s||Ha(this.options.enabled,this.#t)!==Ha(a.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return Hw(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),a?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#S();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(sa)),a}#g(){this.#x();const e=hr(this.options.staleTime,this.#t);if(Vr||this.#s.isStale||!im(e))return;const s=ax(this.#s.dataUpdatedAt,e)+1;this.#c=Ir.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#b(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#N(),this.#o=e,!(Vr||Ha(this.options.enabled,this.#t)===!1||!im(this.#o)||this.#o===0)&&(this.#u=Ir.setInterval(()=>{(this.options.refetchIntervalInBackground||Gm.isFocused())&&this.#d()},this.#o))}#y(){this.#g(),this.#v(this.#b())}#x(){this.#c&&(Ir.clearTimeout(this.#c),this.#c=void 0)}#N(){this.#u&&(Ir.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,i=this.options,c=this.#s,d=this.#a,f=this.#l,v=e!==s?e.state:this.#n,{state:p}=e;let y={...p},x=!1,j;if(a._optimisticResults){const ee=this.hasListeners(),de=!ee&&pv(e,a),Ee=ee&&gv(e,s,a,i);(de||Ee)&&(y={...y,...ux(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:I,errorUpdatedAt:E,status:A}=y;j=y.data;let _=!1;if(a.placeholderData!==void 0&&j===void 0&&A==="pending"){let ee;c?.isPlaceholderData&&a.placeholderData===f?.placeholderData?(ee=c.data,_=!0):ee=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,ee!==void 0&&(A="success",j=cm(c?.data,ee,a),x=!0)}if(a.select&&j!==void 0&&!_)if(c&&j===d?.data&&a.select===this.#p)j=this.#f;else try{this.#p=a.select,j=a.select(j),j=cm(c?.data,j,a),this.#f=j,this.#r=null}catch(ee){this.#r=ee}this.#r&&(I=this.#r,j=this.#f,E=Date.now(),A="error");const q=y.fetchStatus==="fetching",D=A==="pending",J=A==="error",U=D&&q,T=j!==void 0,L={status:A,fetchStatus:y.fetchStatus,isPending:D,isSuccess:A==="success",isError:J,isInitialLoading:U,isLoading:U,data:j,dataUpdatedAt:y.dataUpdatedAt,error:I,errorUpdatedAt:E,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>v.dataUpdateCount||y.errorUpdateCount>v.errorUpdateCount,isFetching:q,isRefetching:q&&!D,isLoadingError:J&&!T,isPaused:y.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:J&&T,isStale:Pm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:Ha(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const ee=je=>{L.status==="error"?je.reject(L.error):L.data!==void 0&&je.resolve(L.data)},de=()=>{const je=this.#i=L.promise=um();ee(je)},Ee=this.#i;switch(Ee.status){case"pending":e.queryHash===s.queryHash&&ee(Ee);break;case"fulfilled":(L.status==="error"||L.data!==Ee.value)&&de();break;case"rejected":(L.status!=="error"||L.error!==Ee.reason)&&de();break}}return L}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),qc(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(f=>{const h=f;return this.#s[h]!==e[h]&&d.has(h)})};this.#j({listeners:s()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){An.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Fw(e,a){return Ha(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function pv(e,a){return Fw(e,a)||e.state.data!==void 0&&fm(e,a,a.refetchOnMount)}function fm(e,a,s){if(Ha(a.enabled,e)!==!1&&hr(a.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&Pm(e,a)}return!1}function gv(e,a,s,i){return(e!==a||Ha(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Pm(e,s)}function Pm(e,a){return Ha(a.enabled,e)!==!1&&e.isStaleByTime(hr(a.staleTime,e))}function Hw(e,a){return!qc(e.getCurrentResult(),a)}function bv(e){return{onFetch:(a,s)=>{const i=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],f=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},v=0;const p=async()=>{let y=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(a.signal.aborted?y=!0:a.signal.addEventListener("abort",()=>{y=!0}),a.signal)})},j=rx(a.options,a.fetchOptions),I=async(E,A,_)=>{if(y)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const D=(()=>{const G={client:a.client,queryKey:a.queryKey,pageParam:A,direction:_?"backward":"forward",meta:a.options.meta};return x(G),G})(),J=await j(D),{maxPages:U}=a.options,T=_?kw:zw;return{pages:T(E.pages,J,U),pageParams:T(E.pageParams,A,U)}};if(c&&d.length){const E=c==="backward",A=E?Vw:vv,_={pages:d,pageParams:f},q=A(i,_);h=await I(_,q,E)}else{const E=e??d.length;do{const A=v===0?f[0]??i.initialPageParam:vv(i,h);if(v>0&&A==null)break;h=await I(h,A),v++}while(v<E)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function vv(e,{pages:a,pageParams:s}){const i=a.length-1;return a.length>0?e.getNextPageParam(a[i],a,s[i],s):void 0}function Vw(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var Zw=class extends cx{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||dx(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=ox({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,f)=>{this.#a({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#s.canStart();try{if(i)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const f=await this.options.onMutate?.(e,s);f!==this.state.context&&this.#a({type:"pending",context:f,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),An.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function dx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gw=class extends Jl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const i=new Zw({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(i),i}add(e){this.#e.add(e);const a=_c(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=_c(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=_c(e);if(typeof a=="string"){const i=this.#t.get(a)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const a=_c(e);return typeof a=="string"?this.#t.get(a)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){An.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>uv(a,s))}findAll(e={}){return this.getAll().filter(a=>uv(e,a))}notify(e){An.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return An.batch(()=>Promise.all(e.map(a=>a.continue().catch(sa))))}};function _c(e){return e.options.scope?.id}var Pw=class extends Jl{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),qc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&Zr(s.mutationKey)!==Zr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??dx();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){An.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,i,c),this.#s.onSettled?.(a.data,null,s,i,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,i,c),this.#s.onSettled?.(void 0,a.error,s,i,c))}this.listeners.forEach(s=>{s(this.#t)})})}},Qw=class extends Jl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const i=a.queryKey,c=a.queryHash??Vm(i,a);let d=this.get(c);return d||(d=new Iw({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){An.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>cv(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>cv(e,s)):a}notify(e){An.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){An.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Yw=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new Qw,this.#t=e.mutationCache||new Gw,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Gm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Ic.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(hr(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const i=s.data;return[a,i]})}setQueryData(e,a,s){const i=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(i.queryHash)?.state.data,f=Rw(a,d);if(f!==void 0)return this.#e.build(this,i).setData(f,{...s,manual:!0})}setQueriesData(e,a,s){return An.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;An.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return An.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},i=An.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(i).then(sa).catch(sa)}invalidateQueries(e,a={}){return An.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},i=An.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(sa)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(i).then(sa)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(hr(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sa).catch(sa)}fetchInfiniteQuery(e){return e.behavior=bv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sa).catch(sa)}ensureInfiniteQueryData(e){return e.behavior=bv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ic.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(Zr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(i=>{so(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(Zr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(i=>{so(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Vm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Zm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},fx=g.createContext(void 0),Qm=e=>{const a=g.useContext(fx);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},Kw=({client:e,children:a})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(fx.Provider,{value:e,children:a})),mx=g.createContext(!1),Xw=()=>g.useContext(mx);mx.Provider;function Jw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ww=g.createContext(Jw()),e_=()=>g.useContext(Ww),t_=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},n_=e=>{g.useEffect(()=>{e.clearReset()},[e])},a_=({result:e,errorResetBoundary:a,throwOnError:s,query:i,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||lx(s,[e.error,i])),s_=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>s(i(...c)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},r_=(e,a)=>e.isLoading&&e.isFetching&&!a,l_=(e,a)=>e?.suspense&&a.isPending,yv=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function i_(e,a,s){const i=Xw(),c=e_(),d=Qm(),f=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",s_(f),t_(f,c),n_(c);const h=!d.getQueryCache().get(f.queryHash),[v]=g.useState(()=>new a(d,f)),p=v.getOptimisticResult(f),y=!i&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(x=>{const j=y?v.subscribe(An.batchCalls(x)):sa;return v.updateResult(),j},[v,y]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),g.useEffect(()=>{v.setOptions(f)},[f,v]),l_(f,p))throw yv(f,v,c);if(a_({result:p,errorResetBoundary:c,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(f,p),f.experimental_prefetchInRender&&!Vr&&r_(p,i)&&(h?yv(f,v,c):d.getQueryCache().get(f.queryHash)?.promise)?.catch(sa).finally(()=>{v.updateResult()}),f.notifyOnChangeProps?p:v.trackResult(p)}function Gr(e,a){return i_(e,$w)}function o_(e,a){const s=Qm(),[i]=g.useState(()=>new Pw(s,e));g.useEffect(()=>{i.setOptions(e)},[i,e]);const c=g.useSyncExternalStore(g.useCallback(f=>i.subscribe(An.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=g.useCallback((f,h)=>{i.mutate(f,h).catch(sa)},[i]);if(c.error&&lx(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var mo=e=>e.type==="checkbox",$r=e=>e instanceof Date,ba=e=>e==null;const hx=e=>typeof e=="object";var _n=e=>!ba(e)&&!Array.isArray(e)&&hx(e)&&!$r(e),c_=e=>_n(e)&&e.target?mo(e.target)?e.target.checked:e.target.value:e,u_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,d_=(e,a)=>e.has(u_(a)),f_=e=>{const a=e.constructor&&e.constructor.prototype;return _n(a)&&a.hasOwnProperty("isPrototypeOf")},Ym=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function tn(e){let a;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(Ym&&(e instanceof Blob||i))&&(s||_n(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!f_(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=tn(e[c]));else return e;return a}var nu=e=>/^\w*$/.test(e),Kt=e=>e===void 0,au=e=>Array.isArray(e)?e.filter(Boolean):[],Km=e=>au(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,a,s)=>{if(!a||!_n(e))return s;const i=(nu(a)?[a]:Km(a)).reduce((c,d)=>ba(c)?c:c[d],e);return Kt(i)||i===e?Kt(e[a])?s:e[a]:i},ms=e=>typeof e=="boolean",Lt=(e,a,s)=>{let i=-1;const c=nu(a)?[a]:Km(a),d=c.length,f=d-1;for(;++i<d;){const h=c[i];let v=s;if(i!==f){const p=e[h];v=_n(p)||Array.isArray(p)?p:isNaN(+c[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=v,e=e[h]}};const xv={BLUR:"blur",FOCUS_OUT:"focusout"},Va={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},px=ht.createContext(null);px.displayName="HookFormContext";const gx=()=>ht.useContext(px);var m_=(e,a,s,i=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const f=d;return a._proxyFormState[f]!==Va.all&&(a._proxyFormState[f]=!i||Va.all),e[f]}});return c};const Xm=typeof window<"u"?ht.useLayoutEffect:ht.useEffect;var Ta=e=>typeof e=="string",mm=(e,a,s,i,c)=>Ta(e)?(i&&a.watch.add(e),Fe(s,e,c)):Array.isArray(e)?e.map(d=>(i&&a.watch.add(d),Fe(s,d))):(i&&(a.watchAll=!0),s),hm=e=>ba(e)||!hx(e);function ss(e,a,s=new WeakSet){if(hm(e)||hm(a))return e===a;if($r(e)&&$r(a))return e.getTime()===a.getTime();const i=Object.keys(e),c=Object.keys(a);if(i.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of i){const f=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if($r(f)&&$r(h)||_n(f)&&_n(h)||Array.isArray(f)&&Array.isArray(h)?!ss(f,h,s):f!==h)return!1}}return!0}function Pi(e){const a=gx(),{control:s=a.control,name:i,defaultValue:c,disabled:d,exact:f,compute:h}=e||{},v=ht.useRef(c),p=ht.useRef(h),y=ht.useRef(void 0),x=ht.useRef(s),j=ht.useRef(i);p.current=h;const[I,E]=ht.useState(()=>{const U=s._getWatch(i,v.current);return p.current?p.current(U):U}),A=ht.useCallback(U=>{const T=mm(i,s._names,U||s._formValues,!1,v.current);return p.current?p.current(T):T},[s._formValues,s._names,i]),_=ht.useCallback(U=>{if(!d){const T=mm(i,s._names,U||s._formValues,!1,v.current);if(p.current){const G=p.current(T);ss(G,y.current)||(E(G),y.current=G)}else E(T)}},[s._formValues,s._names,d,i]);Xm(()=>((x.current!==s||!ss(j.current,i))&&(x.current=s,j.current=i,_()),s._subscribe({name:i,formState:{values:!0},exact:f,callback:U=>{_(U.values)}})),[s,f,i,_]),ht.useEffect(()=>s._removeUnmounted());const q=x.current!==s,D=j.current,J=ht.useMemo(()=>{if(d)return null;const U=!q&&!ss(D,i);return q||U?A():null},[d,q,i,D,A]);return J!==null?J:I}var Jm=(e,a,s,i,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:c||!0}}:{},va=e=>Array.isArray(e)?e:[e],Nv=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function bx(e,a){const s={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],d=a[i];if(c&&_n(c)&&d){const f=bx(c,d);_n(f)&&(s[i]=f)}else e[i]&&(s[i]=d)}return s}var Kn=e=>_n(e)&&!Object.keys(e).length,Wm=e=>e.type==="file",rs=e=>typeof e=="function",$c=e=>{if(!Ym)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},vx=e=>e.type==="select-multiple",eh=e=>e.type==="radio",h_=e=>eh(e)||mo(e),Of=e=>$c(e)&&e.isConnected;function p_(e,a){const s=a.slice(0,-1).length;let i=0;for(;i<s;)e=Kt(e)?i++:e[a[i++]];return e}function g_(e){for(const a in e)if(e.hasOwnProperty(a)&&!Kt(e[a]))return!1;return!0}function pn(e,a){const s=Array.isArray(a)?a:nu(a)?[a]:Km(a),i=s.length===1?e:p_(e,s),c=s.length-1,d=s[c];return i&&delete i[d],c!==0&&(_n(i)&&Kn(i)||Array.isArray(i)&&g_(i))&&pn(e,s.slice(0,-1)),e}var b_=e=>{for(const a in e)if(rs(e[a]))return!0;return!1};function yx(e){return Array.isArray(e)||_n(e)&&!b_(e)}function pm(e,a={}){for(const s in e)yx(e[s])?(a[s]=Array.isArray(e[s])?[]:{},pm(e[s],a[s])):Kt(e[s])||(a[s]=!0);return a}function $l(e,a,s){s||(s=pm(a));for(const i in e)yx(e[i])?Kt(a)||hm(s[i])?s[i]=pm(e[i],Array.isArray(e[i])?[]:{}):$l(e[i],ba(a)?{}:a[i],s[i]):s[i]=!ss(e[i],a[i]);return s}const Sv={value:!1,isValid:!1},jv={value:!0,isValid:!0};var xx=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Kt(e[0].attributes.value)?Kt(e[0].value)||e[0].value===""?jv:{value:e[0].value,isValid:!0}:jv:Sv}return Sv},Nx=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:i})=>Kt(e)?e:a?e===""?NaN:e&&+e:s&&Ta(e)?new Date(e):i?i(e):e;const wv={isValid:!1,value:null};var Sx=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,wv):wv;function _v(e){const a=e.ref;return Wm(a)?a.files:eh(a)?Sx(e.refs).value:vx(a)?[...a.selectedOptions].map(({value:s})=>s):mo(a)?xx(e.refs).value:Nx(Kt(a.value)?e.ref.value:a.value,e)}var v_=(e,a,s,i)=>{const c={};for(const d of e){const f=Fe(a,d);f&&Lt(c,d,f._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:i}},Fc=e=>e instanceof RegExp,Qi=e=>Kt(e)?e:Fc(e)?e.source:_n(e)?Fc(e.value)?e.value.source:e.value:e,Fl=e=>({isOnSubmit:!e||e===Va.onSubmit,isOnBlur:e===Va.onBlur,isOnChange:e===Va.onChange,isOnAll:e===Va.all,isOnTouch:e===Va.onTouched});const Ev="AsyncFunction";var y_=e=>!!e&&!!e.validate&&!!(rs(e.validate)&&e.validate.constructor.name===Ev||_n(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===Ev)),x_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gm=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Vl=(e,a,s,i)=>{for(const c of s||Object.keys(e)){const d=Fe(e,c);if(d){const{_f:f,...h}=d;if(f){if(f.refs&&f.refs[0]&&a(f.refs[0],c)&&!i)return!0;if(f.ref&&a(f.ref,f.name)&&!i)return!0;if(Vl(h,a))break}else if(_n(h)&&Vl(h,a))break}}};function Cv(e,a,s){const i=Fe(e,s);if(i||nu(s))return{error:i,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),f=Fe(a,d),h=Fe(e,d);if(f&&!Array.isArray(f)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var N_=(e,a,s,i)=>{s(e);const{name:c,...d}=e;return Kn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(f=>a[f]===(!i||Va.all))},S_=(e,a,s)=>!e||!a||e===a||va(e).some(i=>i&&(s?i===a:i.startsWith(a)||a.startsWith(i))),j_=(e,a,s,i,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?i.isOnBlur:c.isOnBlur)?!e:(s?i.isOnChange:c.isOnChange)?e:!0,w_=(e,a)=>!au(Fe(e,a)).length&&pn(e,a),jx=(e,a,s)=>{const i=va(Fe(e,s));return Lt(i,"root",a[s]),Lt(e,s,i),e};function Av(e,a,s="validate"){if(Ta(e)||Array.isArray(e)&&e.every(Ta)||ms(e)&&!e)return{type:s,message:Ta(e)?e:"",ref:a}}var Ul=e=>_n(e)&&!Fc(e)?e:{value:e,message:""},bm=async(e,a,s,i,c,d)=>{const{ref:f,refs:h,required:v,maxLength:p,minLength:y,min:x,max:j,pattern:I,validate:E,name:A,valueAsNumber:_,mount:q}=e._f,D=Fe(s,A);if(!q||a.has(A))return{};const J=h?h[0]:f,U=ie=>{c&&J.reportValidity&&(J.setCustomValidity(ms(ie)?"":ie||""),J.reportValidity())},T={},G=eh(f),L=mo(f),ee=G||L,de=(_||Wm(f))&&Kt(f.value)&&Kt(D)||$c(f)&&f.value===""||D===""||Array.isArray(D)&&!D.length,Ee=Jm.bind(null,A,i,T),je=(ie,we,ke,Te=Ms.maxLength,M=Ms.minLength)=>{const H=ie?we:ke;T[A]={type:ie?Te:M,message:H,ref:f,...Ee(ie?Te:M,H)}};if(d?!Array.isArray(D)||!D.length:v&&(!ee&&(de||ba(D))||ms(D)&&!D||L&&!xx(h).isValid||G&&!Sx(h).isValid)){const{value:ie,message:we}=Ta(v)?{value:!!v,message:v}:Ul(v);if(ie&&(T[A]={type:Ms.required,message:we,ref:J,...Ee(Ms.required,we)},!i))return U(we),T}if(!de&&(!ba(x)||!ba(j))){let ie,we;const ke=Ul(j),Te=Ul(x);if(!ba(D)&&!isNaN(D)){const M=f.valueAsNumber||D&&+D;ba(ke.value)||(ie=M>ke.value),ba(Te.value)||(we=M<Te.value)}else{const M=f.valueAsDate||new Date(D),H=Ce=>new Date(new Date().toDateString()+" "+Ce),ae=f.type=="time",xe=f.type=="week";Ta(ke.value)&&D&&(ie=ae?H(D)>H(ke.value):xe?D>ke.value:M>new Date(ke.value)),Ta(Te.value)&&D&&(we=ae?H(D)<H(Te.value):xe?D<Te.value:M<new Date(Te.value))}if((ie||we)&&(je(!!ie,ke.message,Te.message,Ms.max,Ms.min),!i))return U(T[A].message),T}if((p||y)&&!de&&(Ta(D)||d&&Array.isArray(D))){const ie=Ul(p),we=Ul(y),ke=!ba(ie.value)&&D.length>+ie.value,Te=!ba(we.value)&&D.length<+we.value;if((ke||Te)&&(je(ke,ie.message,we.message),!i))return U(T[A].message),T}if(I&&!de&&Ta(D)){const{value:ie,message:we}=Ul(I);if(Fc(ie)&&!D.match(ie)&&(T[A]={type:Ms.pattern,message:we,ref:f,...Ee(Ms.pattern,we)},!i))return U(we),T}if(E){if(rs(E)){const ie=await E(D,s),we=Av(ie,J);if(we&&(T[A]={...we,...Ee(Ms.validate,we.message)},!i))return U(we.message),T}else if(_n(E)){let ie={};for(const we in E){if(!Kn(ie)&&!i)break;const ke=Av(await E[we](D,s),J,we);ke&&(ie={...ke,...Ee(we,ke.message)},U(ke.message),i&&(T[A]=ie))}if(!Kn(ie)&&(T[A]={ref:J,...ie},!i))return T}}return U(!0),T};const __={mode:Va.onSubmit,reValidateMode:Va.onChange,shouldFocusError:!0};function E_(e={}){let a={...__,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:rs(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},i={},c=_n(a.defaultValues)||_n(a.values)?tn(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:tn(c),f={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,p=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...y};const j={array:Nv(),state:Nv()},I=a.criteriaMode===Va.all,E=C=>Y=>{clearTimeout(p),p=setTimeout(C,Y)},A=async C=>{if(!a.disabled&&(y.isValid||x.isValid||C)){const Y=a.resolver?Kn((await L()).errors):await de(i,!0);Y!==s.isValid&&j.state.next({isValid:Y})}},_=(C,Y)=>{!a.disabled&&(y.isValidating||y.validatingFields||x.isValidating||x.validatingFields)&&((C||Array.from(h.mount)).forEach(R=>{R&&(Y?Lt(s.validatingFields,R,Y):pn(s.validatingFields,R))}),j.state.next({validatingFields:s.validatingFields,isValidating:!Kn(s.validatingFields)}))},q=(C,Y=[],R,P,Z=!0,le=!0)=>{if(P&&R&&!a.disabled){if(f.action=!0,le&&Array.isArray(Fe(i,C))){const Re=R(Fe(i,C),P.argA,P.argB);Z&&Lt(i,C,Re)}if(le&&Array.isArray(Fe(s.errors,C))){const Re=R(Fe(s.errors,C),P.argA,P.argB);Z&&Lt(s.errors,C,Re),w_(s.errors,C)}if((y.touchedFields||x.touchedFields)&&le&&Array.isArray(Fe(s.touchedFields,C))){const Re=R(Fe(s.touchedFields,C),P.argA,P.argB);Z&&Lt(s.touchedFields,C,Re)}(y.dirtyFields||x.dirtyFields)&&(s.dirtyFields=$l(c,d)),j.state.next({name:C,isDirty:je(C,Y),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Lt(d,C,Y)},D=(C,Y)=>{Lt(s.errors,C,Y),j.state.next({errors:s.errors})},J=C=>{s.errors=C,j.state.next({errors:s.errors,isValid:!1})},U=(C,Y,R,P)=>{const Z=Fe(i,C);if(Z){const le=Fe(d,C,Kt(R)?Fe(c,C):R);Kt(le)||P&&P.defaultChecked||Y?Lt(d,C,Y?le:_v(Z._f)):ke(C,le),f.mount&&A()}},T=(C,Y,R,P,Z)=>{let le=!1,Re=!1;const Be={name:C};if(!a.disabled){if(!R||P){(y.isDirty||x.isDirty)&&(Re=s.isDirty,s.isDirty=Be.isDirty=je(),le=Re!==Be.isDirty);const se=ss(Fe(c,C),Y);Re=!!Fe(s.dirtyFields,C),se?pn(s.dirtyFields,C):Lt(s.dirtyFields,C,!0),Be.dirtyFields=s.dirtyFields,le=le||(y.dirtyFields||x.dirtyFields)&&Re!==!se}if(R){const se=Fe(s.touchedFields,C);se||(Lt(s.touchedFields,C,R),Be.touchedFields=s.touchedFields,le=le||(y.touchedFields||x.touchedFields)&&se!==R)}le&&Z&&j.state.next(Be)}return le?Be:{}},G=(C,Y,R,P)=>{const Z=Fe(s.errors,C),le=(y.isValid||x.isValid)&&ms(Y)&&s.isValid!==Y;if(a.delayError&&R?(v=E(()=>D(C,R)),v(a.delayError)):(clearTimeout(p),v=null,R?Lt(s.errors,C,R):pn(s.errors,C)),(R?!ss(Z,R):Z)||!Kn(P)||le){const Re={...P,...le&&ms(Y)?{isValid:Y}:{},errors:s.errors,name:C};s={...s,...Re},j.state.next(Re)}},L=async C=>{_(C,!0);const Y=await a.resolver(d,a.context,v_(C||h.mount,i,a.criteriaMode,a.shouldUseNativeValidation));return _(C),Y},ee=async C=>{const{errors:Y}=await L(C);if(C)for(const R of C){const P=Fe(Y,R);P?Lt(s.errors,R,P):pn(s.errors,R)}else s.errors=Y;return Y},de=async(C,Y,R={valid:!0})=>{for(const P in C){const Z=C[P];if(Z){const{_f:le,...Re}=Z;if(le){const Be=h.array.has(le.name),se=Z._f&&y_(Z._f);se&&y.validatingFields&&_([le.name],!0);const Le=await bm(Z,h.disabled,d,I,a.shouldUseNativeValidation&&!Y,Be);if(se&&y.validatingFields&&_([le.name]),Le[le.name]&&(R.valid=!1,Y))break;!Y&&(Fe(Le,le.name)?Be?jx(s.errors,Le,le.name):Lt(s.errors,le.name,Le[le.name]):pn(s.errors,le.name))}!Kn(Re)&&await de(Re,Y,R)}}return R.valid},Ee=()=>{for(const C of h.unMount){const Y=Fe(i,C);Y&&(Y._f.refs?Y._f.refs.every(R=>!Of(R)):!Of(Y._f.ref))&&ze(C)}h.unMount=new Set},je=(C,Y)=>!a.disabled&&(C&&Y&&Lt(d,C,Y),!ss(Ce(),c)),ie=(C,Y,R)=>mm(C,h,{...f.mount?d:Kt(Y)?c:Ta(C)?{[C]:Y}:Y},R,Y),we=C=>au(Fe(f.mount?d:c,C,a.shouldUnregister?Fe(c,C,[]):[])),ke=(C,Y,R={})=>{const P=Fe(i,C);let Z=Y;if(P){const le=P._f;le&&(!le.disabled&&Lt(d,C,Nx(Y,le)),Z=$c(le.ref)&&ba(Y)?"":Y,vx(le.ref)?[...le.ref.options].forEach(Re=>Re.selected=Z.includes(Re.value)):le.refs?mo(le.ref)?le.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(Z)?Re.checked=!!Z.find(Be=>Be===Re.value):Re.checked=Z===Re.value||!!Z)}):le.refs.forEach(Re=>Re.checked=Re.value===Z):Wm(le.ref)?le.ref.value="":(le.ref.value=Z,le.ref.type||j.state.next({name:C,values:tn(d)})))}(R.shouldDirty||R.shouldTouch)&&T(C,Z,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&xe(C)},Te=(C,Y,R)=>{for(const P in Y){if(!Y.hasOwnProperty(P))return;const Z=Y[P],le=C+"."+P,Re=Fe(i,le);(h.array.has(C)||_n(Z)||Re&&!Re._f)&&!$r(Z)?Te(le,Z,R):ke(le,Z,R)}},M=(C,Y,R={})=>{const P=Fe(i,C),Z=h.array.has(C),le=tn(Y);Lt(d,C,le),Z?(j.array.next({name:C,values:tn(d)}),(y.isDirty||y.dirtyFields||x.isDirty||x.dirtyFields)&&R.shouldDirty&&j.state.next({name:C,dirtyFields:$l(c,d),isDirty:je(C,le)})):P&&!P._f&&!ba(le)?Te(C,le,R):ke(C,le,R),gm(C,h)&&j.state.next({...s,name:C}),j.state.next({name:f.mount?C:void 0,values:tn(d)})},H=async C=>{f.mount=!0;const Y=C.target;let R=Y.name,P=!0;const Z=Fe(i,R),le=se=>{P=Number.isNaN(se)||$r(se)&&isNaN(se.getTime())||ss(se,Fe(d,R,se))},Re=Fl(a.mode),Be=Fl(a.reValidateMode);if(Z){let se,Le;const Ve=Y.type?_v(Z._f):c_(C),it=C.type===xv.BLUR||C.type===xv.FOCUS_OUT,Ht=!x_(Z._f)&&!a.resolver&&!Fe(s.errors,R)&&!Z._f.deps||j_(it,Fe(s.touchedFields,R),s.isSubmitted,Be,Re),Ne=gm(R,h,it);Lt(d,R,Ve),it?(!Y||!Y.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(C),v&&v(0)):Z._f.onChange&&Z._f.onChange(C);const nt=T(R,Ve,it),Vt=!Kn(nt)||Ne;if(!it&&j.state.next({name:R,type:C.type,values:tn(d)}),Ht)return(y.isValid||x.isValid)&&(a.mode==="onBlur"?it&&A():it||A()),Vt&&j.state.next({name:R,...Ne?{}:nt});if(!it&&Ne&&j.state.next({...s}),a.resolver){const{errors:jt}=await L([R]);if(le(Ve),P){const Bt=Cv(s.errors,i,R),dn=Cv(jt,i,Bt.name||R);se=dn.error,R=dn.name,Le=Kn(jt)}}else _([R],!0),se=(await bm(Z,h.disabled,d,I,a.shouldUseNativeValidation))[R],_([R]),le(Ve),P&&(se?Le=!1:(y.isValid||x.isValid)&&(Le=await de(i,!0)));P&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&xe(Z._f.deps),G(R,Le,se,nt))}},ae=(C,Y)=>{if(Fe(s.errors,Y)&&C.focus)return C.focus(),1},xe=async(C,Y={})=>{let R,P;const Z=va(C);if(a.resolver){const le=await ee(Kt(C)?C:Z);R=Kn(le),P=C?!Z.some(Re=>Fe(le,Re)):R}else C?(P=(await Promise.all(Z.map(async le=>{const Re=Fe(i,le);return await de(Re&&Re._f?{[le]:Re}:Re)}))).every(Boolean),!(!P&&!s.isValid)&&A()):P=R=await de(i);return j.state.next({...!Ta(C)||(y.isValid||x.isValid)&&R!==s.isValid?{}:{name:C},...a.resolver||!C?{isValid:R}:{},errors:s.errors}),Y.shouldFocus&&!P&&Vl(i,ae,C?Z:h.mount),P},Ce=(C,Y)=>{let R={...f.mount?d:c};return Y&&(R=bx(Y.dirtyFields?s.dirtyFields:s.touchedFields,R)),Kt(C)?R:Ta(C)?Fe(R,C):C.map(P=>Fe(R,P))},w=(C,Y)=>({invalid:!!Fe((Y||s).errors,C),isDirty:!!Fe((Y||s).dirtyFields,C),error:Fe((Y||s).errors,C),isValidating:!!Fe(s.validatingFields,C),isTouched:!!Fe((Y||s).touchedFields,C)}),K=C=>{C&&va(C).forEach(Y=>pn(s.errors,Y)),j.state.next({errors:C?s.errors:{}})},fe=(C,Y,R)=>{const P=(Fe(i,C,{_f:{}})._f||{}).ref,Z=Fe(s.errors,C)||{},{ref:le,message:Re,type:Be,...se}=Z;Lt(s.errors,C,{...se,...Y,ref:P}),j.state.next({name:C,errors:s.errors,isValid:!1}),R&&R.shouldFocus&&P&&P.focus&&P.focus()},k=(C,Y)=>rs(C)?j.state.subscribe({next:R=>"values"in R&&C(ie(void 0,Y),R)}):ie(C,Y,!0),me=C=>j.state.subscribe({next:Y=>{S_(C.name,Y.name,C.exact)&&N_(Y,C.formState||y,Ze,C.reRenderRoot)&&C.callback({values:{...d},...s,...Y,defaultValues:c})}}).unsubscribe,be=C=>(f.mount=!0,x={...x,...C.formState},me({...C,formState:x})),ze=(C,Y={})=>{for(const R of C?va(C):h.mount)h.mount.delete(R),h.array.delete(R),Y.keepValue||(pn(i,R),pn(d,R)),!Y.keepError&&pn(s.errors,R),!Y.keepDirty&&pn(s.dirtyFields,R),!Y.keepTouched&&pn(s.touchedFields,R),!Y.keepIsValidating&&pn(s.validatingFields,R),!a.shouldUnregister&&!Y.keepDefaultValue&&pn(c,R);j.state.next({values:tn(d)}),j.state.next({...s,...Y.keepDirty?{isDirty:je()}:{}}),!Y.keepIsValid&&A()},Ie=({disabled:C,name:Y})=>{(ms(C)&&f.mount||C||h.disabled.has(Y))&&(C?h.disabled.add(Y):h.disabled.delete(Y))},pe=(C,Y={})=>{let R=Fe(i,C);const P=ms(Y.disabled)||ms(a.disabled);return Lt(i,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...Y}}),h.mount.add(C),R?Ie({disabled:ms(Y.disabled)?Y.disabled:a.disabled,name:C}):U(C,!0,Y.value),{...P?{disabled:Y.disabled||a.disabled}:{},...a.progressive?{required:!!Y.required,min:Qi(Y.min),max:Qi(Y.max),minLength:Qi(Y.minLength),maxLength:Qi(Y.maxLength),pattern:Qi(Y.pattern)}:{},name:C,onChange:H,onBlur:H,ref:Z=>{if(Z){pe(C,Y),R=Fe(i,C);const le=Kt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,Re=h_(le),Be=R._f.refs||[];if(Re?Be.find(se=>se===le):le===R._f.ref)return;Lt(i,C,{_f:{...R._f,...Re?{refs:[...Be.filter(Of),le,...Array.isArray(Fe(c,C))?[{}]:[]],ref:{type:le.type,name:C}}:{ref:le}}}),U(C,!1,void 0,le)}else R=Fe(i,C,{}),R._f&&(R._f.mount=!1),(a.shouldUnregister||Y.shouldUnregister)&&!(d_(h.array,C)&&f.action)&&h.unMount.add(C)}}},Ue=()=>a.shouldFocusError&&Vl(i,ae,h.mount),$e=C=>{ms(C)&&(j.state.next({disabled:C}),Vl(i,(Y,R)=>{const P=Fe(i,R);P&&(Y.disabled=P._f.disabled||C,Array.isArray(P._f.refs)&&P._f.refs.forEach(Z=>{Z.disabled=P._f.disabled||C}))},0,!1))},Je=(C,Y)=>async R=>{let P;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let Z=tn(d);if(j.state.next({isSubmitting:!0}),a.resolver){const{errors:le,values:Re}=await L();s.errors=le,Z=tn(Re)}else await de(i);if(h.disabled.size)for(const le of h.disabled)pn(Z,le);if(pn(s.errors,"root"),Kn(s.errors)){j.state.next({errors:{}});try{await C(Z,R)}catch(le){P=le}}else Y&&await Y({...s.errors},R),Ue(),setTimeout(Ue);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kn(s.errors)&&!P,submitCount:s.submitCount+1,errors:s.errors}),P)throw P},lt=(C,Y={})=>{Fe(i,C)&&(Kt(Y.defaultValue)?M(C,tn(Fe(c,C))):(M(C,Y.defaultValue),Lt(c,C,tn(Y.defaultValue))),Y.keepTouched||pn(s.touchedFields,C),Y.keepDirty||(pn(s.dirtyFields,C),s.isDirty=Y.defaultValue?je(C,tn(Fe(c,C))):je()),Y.keepError||(pn(s.errors,C),y.isValid&&A()),j.state.next({...s}))},De=(C,Y={})=>{const R=C?tn(C):c,P=tn(R),Z=Kn(C),le=Z?c:P;if(Y.keepDefaultValues||(c=R),!Y.keepValues){if(Y.keepDirtyValues){const Re=new Set([...h.mount,...Object.keys($l(c,d))]);for(const Be of Array.from(Re))Fe(s.dirtyFields,Be)?Lt(le,Be,Fe(d,Be)):M(Be,Fe(le,Be))}else{if(Ym&&Kt(C))for(const Re of h.mount){const Be=Fe(i,Re);if(Be&&Be._f){const se=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if($c(se)){const Le=se.closest("form");if(Le){Le.reset();break}}}}if(Y.keepFieldsRef)for(const Re of h.mount)M(Re,Fe(le,Re));else i={}}d=a.shouldUnregister?Y.keepDefaultValues?tn(c):{}:tn(le),j.array.next({values:{...le}}),j.state.next({values:{...le}})}h={mount:Y.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!y.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues||!a.shouldUnregister&&!Kn(le),f.watch=!!a.shouldUnregister,j.state.next({submitCount:Y.keepSubmitCount?s.submitCount:0,isDirty:Z?!1:Y.keepDirty?s.isDirty:!!(Y.keepDefaultValues&&!ss(C,c)),isSubmitted:Y.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Z?{}:Y.keepDirtyValues?Y.keepDefaultValues&&d?$l(c,d):s.dirtyFields:Y.keepDefaultValues&&C?$l(c,C):Y.keepDirty?s.dirtyFields:{},touchedFields:Y.keepTouched?s.touchedFields:{},errors:Y.keepErrors?s.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Pe=(C,Y)=>De(rs(C)?C(d):C,Y),ve=(C,Y={})=>{const R=Fe(i,C),P=R&&R._f;if(P){const Z=P.refs?P.refs[0]:P.ref;Z.focus&&(Z.focus(),Y.shouldSelect&&rs(Z.select)&&Z.select())}},Ze=C=>{s={...s,...C}},We={control:{register:pe,unregister:ze,getFieldState:w,handleSubmit:Je,setError:fe,_subscribe:me,_runSchema:L,_focusError:Ue,_getWatch:ie,_getDirty:je,_setValid:A,_setFieldArray:q,_setDisabledField:Ie,_setErrors:J,_getFieldArray:we,_reset:De,_resetDefaultValues:()=>rs(a.defaultValues)&&a.defaultValues().then(C=>{Pe(C,a.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:Ee,_disableForm:$e,_subjects:j,_proxyFormState:y,get _fields(){return i},get _formValues(){return d},get _state(){return f},set _state(C){f=C},get _defaultValues(){return c},get _names(){return h},set _names(C){h=C},get _formState(){return s},get _options(){return a},set _options(C){a={...a,...C}}},subscribe:be,trigger:xe,register:pe,handleSubmit:Je,watch:k,setValue:M,getValues:Ce,reset:Pe,resetField:lt,clearErrors:K,unregister:ze,setError:fe,setFocus:ve,getFieldState:w};return{...We,formControl:We}}var cr=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},Rf=(e,a,s={})=>s.shouldFocus||Kt(s.shouldFocus)?s.focusName||`${e}.${Kt(s.focusIndex)?a:s.focusIndex}.`:"",Tf=(e,a)=>[...e,...va(a)],Df=e=>Array.isArray(e)?e.map(()=>{}):void 0;function zf(e,a,s){return[...e.slice(0,a),...va(s),...e.slice(a)]}var kf=(e,a,s)=>Array.isArray(e)?(Kt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],Mf=(e,a)=>[...va(a),...va(e)];function C_(e,a){let s=0;const i=[...e];for(const c of a)i.splice(c-s,1),s++;return au(i).length?i:[]}var Uf=(e,a)=>Kt(a)?[]:C_(e,va(a).sort((s,i)=>s-i)),Lf=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},Ov=(e,a,s)=>(e[a]=s,e);function A_(e){const a=gx(),{control:s=a.control,name:i,keyName:c="id",shouldUnregister:d,rules:f}=e,[h,v]=ht.useState(s._getFieldArray(i)),p=ht.useRef(s._getFieldArray(i).map(cr)),y=ht.useRef(!1);s._names.array.add(i),ht.useMemo(()=>f&&h.length>=0&&s.register(i,f),[s,i,h.length,f]),Xm(()=>s._subjects.array.subscribe({next:({values:U,name:T})=>{if(T===i||!T){const G=Fe(U,i);Array.isArray(G)&&(v(G),p.current=G.map(cr))}}}).unsubscribe,[s,i]);const x=ht.useCallback(U=>{y.current=!0,s._setFieldArray(i,U)},[s,i]),j=(U,T)=>{const G=va(tn(U)),L=Tf(s._getFieldArray(i),G);s._names.focus=Rf(i,L.length-1,T),p.current=Tf(p.current,G.map(cr)),x(L),v(L),s._setFieldArray(i,L,Tf,{argA:Df(U)})},I=(U,T)=>{const G=va(tn(U)),L=Mf(s._getFieldArray(i),G);s._names.focus=Rf(i,0,T),p.current=Mf(p.current,G.map(cr)),x(L),v(L),s._setFieldArray(i,L,Mf,{argA:Df(U)})},E=U=>{const T=Uf(s._getFieldArray(i),U);p.current=Uf(p.current,U),x(T),v(T),!Array.isArray(Fe(s._fields,i))&&Lt(s._fields,i,void 0),s._setFieldArray(i,T,Uf,{argA:U})},A=(U,T,G)=>{const L=va(tn(T)),ee=zf(s._getFieldArray(i),U,L);s._names.focus=Rf(i,U,G),p.current=zf(p.current,U,L.map(cr)),x(ee),v(ee),s._setFieldArray(i,ee,zf,{argA:U,argB:Df(T)})},_=(U,T)=>{const G=s._getFieldArray(i);Lf(G,U,T),Lf(p.current,U,T),x(G),v(G),s._setFieldArray(i,G,Lf,{argA:U,argB:T},!1)},q=(U,T)=>{const G=s._getFieldArray(i);kf(G,U,T),kf(p.current,U,T),x(G),v(G),s._setFieldArray(i,G,kf,{argA:U,argB:T},!1)},D=(U,T)=>{const G=tn(T),L=Ov(s._getFieldArray(i),U,G);p.current=[...L].map((ee,de)=>!ee||de===U?cr():p.current[de]),x(L),v([...L]),s._setFieldArray(i,L,Ov,{argA:U,argB:G},!0,!1)},J=U=>{const T=va(tn(U));p.current=T.map(cr),x([...T]),v([...T]),s._setFieldArray(i,[...T],G=>G,{},!0,!1)};return ht.useEffect(()=>{if(s._state.action=!1,gm(i,s._names)&&s._subjects.state.next({...s._formState}),y.current&&(!Fl(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!Fl(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([i]).then(U=>{const T=Fe(U.errors,i),G=Fe(s._formState.errors,i);(G?!T&&G.type||T&&(G.type!==T.type||G.message!==T.message):T&&T.type)&&(T?Lt(s._formState.errors,i,T):pn(s._formState.errors,i),s._subjects.state.next({errors:s._formState.errors}))});else{const U=Fe(s._fields,i);U&&U._f&&!(Fl(s._options.reValidateMode).isOnSubmit&&Fl(s._options.mode).isOnSubmit)&&bm(U,s._names.disabled,s._formValues,s._options.criteriaMode===Va.all,s._options.shouldUseNativeValidation,!0).then(T=>!Kn(T)&&s._subjects.state.next({errors:jx(s._formState.errors,T,i)}))}s._subjects.state.next({name:i,values:tn(s._formValues)}),s._names.focus&&Vl(s._fields,(U,T)=>{if(s._names.focus&&T.startsWith(s._names.focus)&&U.focus)return U.focus(),1}),s._names.focus="",s._setValid(),y.current=!1},[h,i,s]),ht.useEffect(()=>(!Fe(s._formValues,i)&&s._setFieldArray(i),()=>{const U=(T,G)=>{const L=Fe(s._fields,T);L&&L._f&&(L._f.mount=G)};s._options.shouldUnregister||d?s.unregister(i):U(i,!1)}),[i,s,c,d]),{swap:ht.useCallback(_,[x,i,s]),move:ht.useCallback(q,[x,i,s]),prepend:ht.useCallback(I,[x,i,s]),append:ht.useCallback(j,[x,i,s]),remove:ht.useCallback(E,[x,i,s]),insert:ht.useCallback(A,[x,i,s]),update:ht.useCallback(D,[x,i,s]),replace:ht.useCallback(J,[x,i,s]),fields:ht.useMemo(()=>h.map((U,T)=>({...U,[c]:p.current[T]||cr()})),[h,c])}}function su(e={}){const a=ht.useRef(void 0),s=ht.useRef(void 0),[i,c]=ht.useState({isDirty:!1,isValidating:!1,isLoading:rs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:rs(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:i},e.defaultValues&&!rs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...h}=E_(e);a.current={...h,formState:i}}const d=a.current.control;return d._options=e,Xm(()=>{const f=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,f},[d]),ht.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),ht.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),ht.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),ht.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),ht.useEffect(()=>{if(d._proxyFormState.isDirty){const f=d._getDirty();f!==i.isDirty&&d._subjects.state.next({isDirty:f})}},[d,i.isDirty]),ht.useEffect(()=>{e.values&&!ss(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(f=>({...f}))):d._resetDefaultValues()},[d,e.values]),ht.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=m_(i,d),a.current}function wx(e,a){return function(){return e.apply(a,arguments)}}const{toString:O_}=Object.prototype,{getPrototypeOf:th}=Object,{iterator:ru,toStringTag:_x}=Symbol,lu=(e=>a=>{const s=O_.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ls=e=>(e=e.toLowerCase(),a=>lu(a)===e),iu=e=>a=>typeof a===e,{isArray:Wl}=Array,Gl=iu("undefined");function ho(e){return e!==null&&!Gl(e)&&e.constructor!==null&&!Gl(e.constructor)&&ya(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ex=ls("ArrayBuffer");function R_(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&Ex(e.buffer),a}const T_=iu("string"),ya=iu("function"),Cx=iu("number"),po=e=>e!==null&&typeof e=="object",D_=e=>e===!0||e===!1,Mc=e=>{if(lu(e)!=="object")return!1;const a=th(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(_x in e)&&!(ru in e)},z_=e=>{if(!po(e)||ho(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},k_=ls("Date"),M_=ls("File"),U_=ls("Blob"),L_=ls("FileList"),B_=e=>po(e)&&ya(e.pipe),q_=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||ya(e.append)&&((a=lu(e))==="formdata"||a==="object"&&ya(e.toString)&&e.toString()==="[object FormData]"))},I_=ls("URLSearchParams"),[$_,F_,H_,V_]=["ReadableStream","Request","Response","Headers"].map(ls),Z_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function go(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let i,c;if(typeof e!="object"&&(e=[e]),Wl(e))for(i=0,c=e.length;i<c;i++)a.call(null,e[i],i,e);else{if(ho(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let h;for(i=0;i<f;i++)h=d[i],a.call(null,e[h],h,e)}}function Ax(e,a){if(ho(e))return null;a=a.toLowerCase();const s=Object.keys(e);let i=s.length,c;for(;i-- >0;)if(c=s[i],a===c.toLowerCase())return c;return null}const Fr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ox=e=>!Gl(e)&&e!==Fr;function vm(){const{caseless:e,skipUndefined:a}=Ox(this)&&this||{},s={},i=(c,d)=>{const f=e&&Ax(s,d)||d;Mc(s[f])&&Mc(c)?s[f]=vm(s[f],c):Mc(c)?s[f]=vm({},c):Wl(c)?s[f]=c.slice():(!a||!Gl(c))&&(s[f]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&go(arguments[c],i);return s}const G_=(e,a,s,{allOwnKeys:i}={})=>(go(a,(c,d)=>{s&&ya(c)?e[d]=wx(c,s):e[d]=c},{allOwnKeys:i}),e),P_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Q_=(e,a,s,i)=>{e.prototype=Object.create(a.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},Y_=(e,a,s,i)=>{let c,d,f;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!i||i(f,e,a))&&!h[f]&&(a[f]=e[f],h[f]=!0);e=s!==!1&&th(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},K_=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const i=e.indexOf(a,s);return i!==-1&&i===s},X_=e=>{if(!e)return null;if(Wl(e))return e;let a=e.length;if(!Cx(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},J_=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&th(Uint8Array)),W_=(e,a)=>{const i=(e&&e[ru]).call(e);let c;for(;(c=i.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},e1=(e,a)=>{let s;const i=[];for(;(s=e.exec(a))!==null;)i.push(s);return i},t1=ls("HTMLFormElement"),n1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,c){return i.toUpperCase()+c}),Rv=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),a1=ls("RegExp"),Rx=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),i={};go(s,(c,d)=>{let f;(f=a(c,d,e))!==!1&&(i[d]=f||c)}),Object.defineProperties(e,i)},s1=e=>{Rx(e,(a,s)=>{if(ya(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=e[s];if(ya(i)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},r1=(e,a)=>{const s={},i=c=>{c.forEach(d=>{s[d]=!0})};return Wl(e)?i(e):i(String(e).split(a)),s},l1=()=>{},i1=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function o1(e){return!!(e&&ya(e.append)&&e[_x]==="FormData"&&e[ru])}const c1=e=>{const a=new Array(10),s=(i,c)=>{if(po(i)){if(a.indexOf(i)>=0)return;if(ho(i))return i;if(!("toJSON"in i)){a[c]=i;const d=Wl(i)?[]:{};return go(i,(f,h)=>{const v=s(f,c+1);!Gl(v)&&(d[h]=v)}),a[c]=void 0,d}}return i};return s(e,0)},u1=ls("AsyncFunction"),d1=e=>e&&(po(e)||ya(e))&&ya(e.then)&&ya(e.catch),Tx=((e,a)=>e?setImmediate:a?((s,i)=>(Fr.addEventListener("message",({source:c,data:d})=>{c===Fr&&d===s&&i.length&&i.shift()()},!1),c=>{i.push(c),Fr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ya(Fr.postMessage)),f1=typeof queueMicrotask<"u"?queueMicrotask.bind(Fr):typeof process<"u"&&process.nextTick||Tx,m1=e=>e!=null&&ya(e[ru]),oe={isArray:Wl,isArrayBuffer:Ex,isBuffer:ho,isFormData:q_,isArrayBufferView:R_,isString:T_,isNumber:Cx,isBoolean:D_,isObject:po,isPlainObject:Mc,isEmptyObject:z_,isReadableStream:$_,isRequest:F_,isResponse:H_,isHeaders:V_,isUndefined:Gl,isDate:k_,isFile:M_,isBlob:U_,isRegExp:a1,isFunction:ya,isStream:B_,isURLSearchParams:I_,isTypedArray:J_,isFileList:L_,forEach:go,merge:vm,extend:G_,trim:Z_,stripBOM:P_,inherits:Q_,toFlatObject:Y_,kindOf:lu,kindOfTest:ls,endsWith:K_,toArray:X_,forEachEntry:W_,matchAll:e1,isHTMLForm:t1,hasOwnProperty:Rv,hasOwnProp:Rv,reduceDescriptors:Rx,freezeMethods:s1,toObjectSet:r1,toCamelCase:n1,noop:l1,toFiniteNumber:i1,findKey:Ax,global:Fr,isContextDefined:Ox,isSpecCompliantForm:o1,toJSONObject:c1,isAsyncFn:u1,isThenable:d1,setImmediate:Tx,asap:f1,isIterable:m1};function ft(e,a,s,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}oe.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const Dx=ft.prototype,zx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zx[e]={value:e}});Object.defineProperties(ft,zx);Object.defineProperty(Dx,"isAxiosError",{value:!0});ft.from=(e,a,s,i,c,d)=>{const f=Object.create(Dx);oe.toFlatObject(e,f,function(y){return y!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",v=a==null&&e?e.code:a;return ft.call(f,h,v,s,i,c),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",d&&Object.assign(f,d),f};const h1=null;function ym(e){return oe.isPlainObject(e)||oe.isArray(e)}function kx(e){return oe.endsWith(e,"[]")?e.slice(0,-2):e}function Tv(e,a,s){return e?e.concat(a).map(function(c,d){return c=kx(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function p1(e){return oe.isArray(e)&&!e.some(ym)}const g1=oe.toFlatObject(oe,{},null,function(a){return/^is[A-Z]/.test(a)});function ou(e,a,s){if(!oe.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=oe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,_){return!oe.isUndefined(_[A])});const i=s.metaTokens,c=s.visitor||y,d=s.dots,f=s.indexes,v=(s.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(a);if(!oe.isFunction(c))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(oe.isDate(E))return E.toISOString();if(oe.isBoolean(E))return E.toString();if(!v&&oe.isBlob(E))throw new ft("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(E)||oe.isTypedArray(E)?v&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,A,_){let q=E;if(E&&!_&&typeof E=="object"){if(oe.endsWith(A,"{}"))A=i?A:A.slice(0,-2),E=JSON.stringify(E);else if(oe.isArray(E)&&p1(E)||(oe.isFileList(E)||oe.endsWith(A,"[]"))&&(q=oe.toArray(E)))return A=kx(A),q.forEach(function(J,U){!(oe.isUndefined(J)||J===null)&&a.append(f===!0?Tv([A],U,d):f===null?A:A+"[]",p(J))}),!1}return ym(E)?!0:(a.append(Tv(_,A,d),p(E)),!1)}const x=[],j=Object.assign(g1,{defaultVisitor:y,convertValue:p,isVisitable:ym});function I(E,A){if(!oe.isUndefined(E)){if(x.indexOf(E)!==-1)throw Error("Circular reference detected in "+A.join("."));x.push(E),oe.forEach(E,function(q,D){(!(oe.isUndefined(q)||q===null)&&c.call(a,q,oe.isString(D)?D.trim():D,A,j))===!0&&I(q,A?A.concat(D):[D])}),x.pop()}}if(!oe.isObject(e))throw new TypeError("data must be an object");return I(e),a}function Dv(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return a[i]})}function nh(e,a){this._pairs=[],e&&ou(e,this,a)}const Mx=nh.prototype;Mx.append=function(a,s){this._pairs.push([a,s])};Mx.toString=function(a){const s=a?function(i){return a.call(this,i,Dv)}:Dv;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function b1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ux(e,a,s){if(!a)return e;const i=s&&s.encode||b1;oe.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=oe.isURLSearchParams(a)?a.toString():new nh(a,s).toString(i),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class zv{constructor(){this.handlers=[]}use(a,s,i){return this.handlers.push({fulfilled:a,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){oe.forEach(this.handlers,function(i){i!==null&&a(i)})}}const Lx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v1=typeof URLSearchParams<"u"?URLSearchParams:nh,y1=typeof FormData<"u"?FormData:null,x1=typeof Blob<"u"?Blob:null,N1={isBrowser:!0,classes:{URLSearchParams:v1,FormData:y1,Blob:x1},protocols:["http","https","file","blob","url","data"]},ah=typeof window<"u"&&typeof document<"u",xm=typeof navigator=="object"&&navigator||void 0,S1=ah&&(!xm||["ReactNative","NativeScript","NS"].indexOf(xm.product)<0),j1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w1=ah&&window.location.href||"http://localhost",_1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ah,hasStandardBrowserEnv:S1,hasStandardBrowserWebWorkerEnv:j1,navigator:xm,origin:w1},Symbol.toStringTag,{value:"Module"})),Xn={..._1,...N1};function E1(e,a){return ou(e,new Xn.classes.URLSearchParams,{visitor:function(s,i,c,d){return Xn.isNode&&oe.isBuffer(s)?(this.append(i,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function C1(e){return oe.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function A1(e){const a={},s=Object.keys(e);let i;const c=s.length;let d;for(i=0;i<c;i++)d=s[i],a[d]=e[d];return a}function Bx(e){function a(s,i,c,d){let f=s[d++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),v=d>=s.length;return f=!f&&oe.isArray(c)?c.length:f,v?(oe.hasOwnProp(c,f)?c[f]=[c[f],i]:c[f]=i,!h):((!c[f]||!oe.isObject(c[f]))&&(c[f]=[]),a(s,i,c[f],d)&&oe.isArray(c[f])&&(c[f]=A1(c[f])),!h)}if(oe.isFormData(e)&&oe.isFunction(e.entries)){const s={};return oe.forEachEntry(e,(i,c)=>{a(C1(i),c,s,0)}),s}return null}function O1(e,a,s){if(oe.isString(e))try{return(a||JSON.parse)(e),oe.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(e)}const bo={transitional:Lx,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const i=s.getContentType()||"",c=i.indexOf("application/json")>-1,d=oe.isObject(a);if(d&&oe.isHTMLForm(a)&&(a=new FormData(a)),oe.isFormData(a))return c?JSON.stringify(Bx(a)):a;if(oe.isArrayBuffer(a)||oe.isBuffer(a)||oe.isStream(a)||oe.isFile(a)||oe.isBlob(a)||oe.isReadableStream(a))return a;if(oe.isArrayBufferView(a))return a.buffer;if(oe.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return E1(a,this.formSerializer).toString();if((h=oe.isFileList(a))||i.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return ou(h?{"files[]":a}:a,v&&new v,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),O1(a)):a}],transformResponse:[function(a){const s=this.transitional||bo.transitional,i=s&&s.forcedJSONParsing,c=this.responseType==="json";if(oe.isResponse(a)||oe.isReadableStream(a))return a;if(a&&oe.isString(a)&&(i&&!this.responseType||c)){const f=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?ft.from(h,ft.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xn.classes.FormData,Blob:Xn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],e=>{bo.headers[e]={}});const R1=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T1=e=>{const a={};let s,i,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),s=f.substring(0,c).trim().toLowerCase(),i=f.substring(c+1).trim(),!(!s||a[s]&&R1[s])&&(s==="set-cookie"?a[s]?a[s].push(i):a[s]=[i]:a[s]=a[s]?a[s]+", "+i:i)}),a},kv=Symbol("internals");function Yi(e){return e&&String(e).trim().toLowerCase()}function Uc(e){return e===!1||e==null?e:oe.isArray(e)?e.map(Uc):String(e)}function D1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(e);)a[i[1]]=i[2];return a}const z1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bf(e,a,s,i,c){if(oe.isFunction(i))return i.call(this,a,s);if(c&&(a=s),!!oe.isString(a)){if(oe.isString(i))return a.indexOf(i)!==-1;if(oe.isRegExp(i))return i.test(a)}}function k1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,i)=>s.toUpperCase()+i)}function M1(e,a){const s=oe.toCamelCase(" "+a);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+s,{value:function(c,d,f){return this[i].call(this,a,c,d,f)},configurable:!0})})}let xa=class{constructor(a){a&&this.set(a)}set(a,s,i){const c=this;function d(h,v,p){const y=Yi(v);if(!y)throw new Error("header name must be a non-empty string");const x=oe.findKey(c,y);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||v]=Uc(h))}const f=(h,v)=>oe.forEach(h,(p,y)=>d(p,y,v));if(oe.isPlainObject(a)||a instanceof this.constructor)f(a,s);else if(oe.isString(a)&&(a=a.trim())&&!z1(a))f(T1(a),s);else if(oe.isObject(a)&&oe.isIterable(a)){let h={},v,p;for(const y of a){if(!oe.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[p=y[0]]=(v=h[p])?oe.isArray(v)?[...v,y[1]]:[v,y[1]]:y[1]}f(h,s)}else a!=null&&d(s,a,i);return this}get(a,s){if(a=Yi(a),a){const i=oe.findKey(this,a);if(i){const c=this[i];if(!s)return c;if(s===!0)return D1(c);if(oe.isFunction(s))return s.call(this,c,i);if(oe.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Yi(a),a){const i=oe.findKey(this,a);return!!(i&&this[i]!==void 0&&(!s||Bf(this,this[i],i,s)))}return!1}delete(a,s){const i=this;let c=!1;function d(f){if(f=Yi(f),f){const h=oe.findKey(i,f);h&&(!s||Bf(i,i[h],h,s))&&(delete i[h],c=!0)}}return oe.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let i=s.length,c=!1;for(;i--;){const d=s[i];(!a||Bf(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,i={};return oe.forEach(this,(c,d)=>{const f=oe.findKey(i,d);if(f){s[f]=Uc(c),delete s[d];return}const h=a?k1(d):String(d).trim();h!==d&&delete s[d],s[h]=Uc(c),i[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return oe.forEach(this,(i,c)=>{i!=null&&i!==!1&&(s[c]=a&&oe.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const i=new this(a);return s.forEach(c=>i.set(c)),i}static accessor(a){const i=(this[kv]=this[kv]={accessors:{}}).accessors,c=this.prototype;function d(f){const h=Yi(f);i[h]||(M1(c,f),i[h]=!0)}return oe.isArray(a)?a.forEach(d):d(a),this}};xa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(xa.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(i){this[s]=i}}});oe.freezeMethods(xa);function qf(e,a){const s=this||bo,i=a||s,c=xa.from(i.headers);let d=i.data;return oe.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function qx(e){return!!(e&&e.__CANCEL__)}function ei(e,a,s){ft.call(this,e??"canceled",ft.ERR_CANCELED,a,s),this.name="CanceledError"}oe.inherits(ei,ft,{__CANCEL__:!0});function Ix(e,a,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?e(s):a(new ft("Request failed with status code "+s.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function U1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function L1(e,a){e=e||10;const s=new Array(e),i=new Array(e);let c=0,d=0,f;return a=a!==void 0?a:1e3,function(v){const p=Date.now(),y=i[d];f||(f=p),s[c]=v,i[c]=p;let x=d,j=0;for(;x!==c;)j+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-f<a)return;const I=y&&p-y;return I?Math.round(j*1e3/I):void 0}}function B1(e,a){let s=0,i=1e3/a,c,d;const f=(p,y=Date.now())=>{s=y,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const y=Date.now(),x=y-s;x>=i?f(p,y):(c=p,d||(d=setTimeout(()=>{d=null,f(c)},i-x)))},()=>c&&f(c)]}const Hc=(e,a,s=3)=>{let i=0;const c=L1(50,250);return B1(d=>{const f=d.loaded,h=d.lengthComputable?d.total:void 0,v=f-i,p=c(v),y=f<=h;i=f;const x={loaded:f,total:h,progress:h?f/h:void 0,bytes:v,rate:p||void 0,estimated:p&&h&&y?(h-f)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},Mv=(e,a)=>{const s=e!=null;return[i=>a[0]({lengthComputable:s,total:e,loaded:i}),a[1]]},Uv=e=>(...a)=>oe.asap(()=>e(...a)),q1=Xn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,Xn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(Xn.origin),Xn.navigator&&/(msie|trident)/i.test(Xn.navigator.userAgent)):()=>!0,I1=Xn.hasStandardBrowserEnv?{write(e,a,s,i,c,d,f){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];oe.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),oe.isString(i)&&h.push(`path=${i}`),oe.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),oe.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function F1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function $x(e,a,s){let i=!$1(a);return e&&(i||s==!1)?F1(e,a):a}const Lv=e=>e instanceof xa?{...e}:e;function Pr(e,a){a=a||{};const s={};function i(p,y,x,j){return oe.isPlainObject(p)&&oe.isPlainObject(y)?oe.merge.call({caseless:j},p,y):oe.isPlainObject(y)?oe.merge({},y):oe.isArray(y)?y.slice():y}function c(p,y,x,j){if(oe.isUndefined(y)){if(!oe.isUndefined(p))return i(void 0,p,x,j)}else return i(p,y,x,j)}function d(p,y){if(!oe.isUndefined(y))return i(void 0,y)}function f(p,y){if(oe.isUndefined(y)){if(!oe.isUndefined(p))return i(void 0,p)}else return i(void 0,y)}function h(p,y,x){if(x in a)return i(p,y);if(x in e)return i(void 0,p)}const v={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(p,y,x)=>c(Lv(p),Lv(y),x,!0)};return oe.forEach(Object.keys({...e,...a}),function(y){const x=v[y]||c,j=x(e[y],a[y],y);oe.isUndefined(j)&&x!==h||(s[y]=j)}),s}const Fx=e=>{const a=Pr({},e);let{data:s,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:h}=a;if(a.headers=f=xa.from(f),a.url=Ux($x(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),oe.isFormData(s)){if(Xn.hasStandardBrowserEnv||Xn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(oe.isFunction(s.getHeaders)){const v=s.getHeaders(),p=["content-type","content-length"];Object.entries(v).forEach(([y,x])=>{p.includes(y.toLowerCase())&&f.set(y,x)})}}if(Xn.hasStandardBrowserEnv&&(i&&oe.isFunction(i)&&(i=i(a)),i||i!==!1&&q1(a.url))){const v=c&&d&&I1.read(d);v&&f.set(c,v)}return a},H1=typeof XMLHttpRequest<"u",V1=H1&&function(e){return new Promise(function(s,i){const c=Fx(e);let d=c.data;const f=xa.from(c.headers).normalize();let{responseType:h,onUploadProgress:v,onDownloadProgress:p}=c,y,x,j,I,E;function A(){I&&I(),E&&E(),c.cancelToken&&c.cancelToken.unsubscribe(y),c.signal&&c.signal.removeEventListener("abort",y)}let _=new XMLHttpRequest;_.open(c.method.toUpperCase(),c.url,!0),_.timeout=c.timeout;function q(){if(!_)return;const J=xa.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),T={data:!h||h==="text"||h==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:J,config:e,request:_};Ix(function(L){s(L),A()},function(L){i(L),A()},T),_=null}"onloadend"in _?_.onloadend=q:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(q)},_.onabort=function(){_&&(i(new ft("Request aborted",ft.ECONNABORTED,e,_)),_=null)},_.onerror=function(U){const T=U&&U.message?U.message:"Network Error",G=new ft(T,ft.ERR_NETWORK,e,_);G.event=U||null,i(G),_=null},_.ontimeout=function(){let U=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const T=c.transitional||Lx;c.timeoutErrorMessage&&(U=c.timeoutErrorMessage),i(new ft(U,T.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,e,_)),_=null},d===void 0&&f.setContentType(null),"setRequestHeader"in _&&oe.forEach(f.toJSON(),function(U,T){_.setRequestHeader(T,U)}),oe.isUndefined(c.withCredentials)||(_.withCredentials=!!c.withCredentials),h&&h!=="json"&&(_.responseType=c.responseType),p&&([j,E]=Hc(p,!0),_.addEventListener("progress",j)),v&&_.upload&&([x,I]=Hc(v),_.upload.addEventListener("progress",x),_.upload.addEventListener("loadend",I)),(c.cancelToken||c.signal)&&(y=J=>{_&&(i(!J||J.type?new ei(null,e,_):J),_.abort(),_=null)},c.cancelToken&&c.cancelToken.subscribe(y),c.signal&&(c.signal.aborted?y():c.signal.addEventListener("abort",y)));const D=U1(c.url);if(D&&Xn.protocols.indexOf(D)===-1){i(new ft("Unsupported protocol "+D+":",ft.ERR_BAD_REQUEST,e));return}_.send(d||null)})},Z1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let i=new AbortController,c;const d=function(p){if(!c){c=!0,h();const y=p instanceof Error?p:this.reason;i.abort(y instanceof ft?y:new ei(y instanceof Error?y.message:y))}};let f=a&&setTimeout(()=>{f=null,d(new ft(`timeout ${a} of ms exceeded`,ft.ETIMEDOUT))},a);const h=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:v}=i;return v.unsubscribe=()=>oe.asap(h),v}},G1=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let i=0,c;for(;i<s;)c=i+a,yield e.slice(i,c),i=c},P1=async function*(e,a){for await(const s of Q1(e))yield*G1(s,a)},Q1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:i}=await a.read();if(s)break;yield i}}finally{await a.cancel()}},Bv=(e,a,s,i)=>{const c=P1(e,a);let d=0,f,h=v=>{f||(f=!0,i&&i(v))};return new ReadableStream({async pull(v){try{const{done:p,value:y}=await c.next();if(p){h(),v.close();return}let x=y.byteLength;if(s){let j=d+=x;s(j)}v.enqueue(new Uint8Array(y))}catch(p){throw h(p),p}},cancel(v){return h(v),c.return()}},{highWaterMark:2})},qv=64*1024,{isFunction:Ec}=oe,Y1=(({Request:e,Response:a})=>({Request:e,Response:a}))(oe.global),{ReadableStream:Iv,TextEncoder:$v}=oe.global,Fv=(e,...a)=>{try{return!!e(...a)}catch{return!1}},K1=e=>{e=oe.merge.call({skipUndefined:!0},Y1,e);const{fetch:a,Request:s,Response:i}=e,c=a?Ec(a):typeof fetch=="function",d=Ec(s),f=Ec(i);if(!c)return!1;const h=c&&Ec(Iv),v=c&&(typeof $v=="function"?(E=>A=>E.encode(A))(new $v):async E=>new Uint8Array(await new s(E).arrayBuffer())),p=d&&h&&Fv(()=>{let E=!1;const A=new s(Xn.origin,{body:new Iv,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!A}),y=f&&h&&Fv(()=>oe.isReadableStream(new i("").body)),x={stream:y&&(E=>E.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!x[E]&&(x[E]=(A,_)=>{let q=A&&A[E];if(q)return q.call(A);throw new ft(`Response type '${E}' is not supported`,ft.ERR_NOT_SUPPORT,_)})});const j=async E=>{if(E==null)return 0;if(oe.isBlob(E))return E.size;if(oe.isSpecCompliantForm(E))return(await new s(Xn.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(E)||oe.isArrayBuffer(E))return E.byteLength;if(oe.isURLSearchParams(E)&&(E=E+""),oe.isString(E))return(await v(E)).byteLength},I=async(E,A)=>{const _=oe.toFiniteNumber(E.getContentLength());return _??j(A)};return async E=>{let{url:A,method:_,data:q,signal:D,cancelToken:J,timeout:U,onDownloadProgress:T,onUploadProgress:G,responseType:L,headers:ee,withCredentials:de="same-origin",fetchOptions:Ee}=Fx(E),je=a||fetch;L=L?(L+"").toLowerCase():"text";let ie=Z1([D,J&&J.toAbortSignal()],U),we=null;const ke=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let Te;try{if(G&&p&&_!=="get"&&_!=="head"&&(Te=await I(ee,q))!==0){let w=new s(A,{method:"POST",body:q,duplex:"half"}),K;if(oe.isFormData(q)&&(K=w.headers.get("content-type"))&&ee.setContentType(K),w.body){const[fe,k]=Mv(Te,Hc(Uv(G)));q=Bv(w.body,qv,fe,k)}}oe.isString(de)||(de=de?"include":"omit");const M=d&&"credentials"in s.prototype,H={...Ee,signal:ie,method:_.toUpperCase(),headers:ee.normalize().toJSON(),body:q,duplex:"half",credentials:M?de:void 0};we=d&&new s(A,H);let ae=await(d?je(we,Ee):je(A,H));const xe=y&&(L==="stream"||L==="response");if(y&&(T||xe&&ke)){const w={};["status","statusText","headers"].forEach(me=>{w[me]=ae[me]});const K=oe.toFiniteNumber(ae.headers.get("content-length")),[fe,k]=T&&Mv(K,Hc(Uv(T),!0))||[];ae=new i(Bv(ae.body,qv,fe,()=>{k&&k(),ke&&ke()}),w)}L=L||"text";let Ce=await x[oe.findKey(x,L)||"text"](ae,E);return!xe&&ke&&ke(),await new Promise((w,K)=>{Ix(w,K,{data:Ce,headers:xa.from(ae.headers),status:ae.status,statusText:ae.statusText,config:E,request:we})})}catch(M){throw ke&&ke(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,E,we),{cause:M.cause||M}):ft.from(M,M&&M.code,E,we)}}},X1=new Map,Hx=e=>{let a=e&&e.env||{};const{fetch:s,Request:i,Response:c}=a,d=[i,c,s];let f=d.length,h=f,v,p,y=X1;for(;h--;)v=d[h],p=y.get(v),p===void 0&&y.set(v,p=h?new Map:K1(a)),y=p;return p};Hx();const sh={http:h1,xhr:V1,fetch:{get:Hx}};oe.forEach(sh,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const Hv=e=>`- ${e}`,J1=e=>oe.isFunction(e)||e===null||e===!1;function W1(e,a){e=oe.isArray(e)?e:[e];const{length:s}=e;let i,c;const d={};for(let f=0;f<s;f++){i=e[f];let h;if(c=i,!J1(i)&&(c=sh[(h=String(i)).toLowerCase()],c===void 0))throw new ft(`Unknown adapter '${h}'`);if(c&&(oe.isFunction(c)||(c=c.get(a))))break;d[h||"#"+f]=c}if(!c){const f=Object.entries(d).map(([v,p])=>`adapter ${v} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?f.length>1?`since :
`+f.map(Hv).join(`
`):" "+Hv(f[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const Vx={getAdapter:W1,adapters:sh};function If(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ei(null,e)}function Vv(e){return If(e),e.headers=xa.from(e.headers),e.data=qf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Vx.getAdapter(e.adapter||bo.adapter,e)(e).then(function(i){return If(e),i.data=qf.call(e,e.transformResponse,i),i.headers=xa.from(i.headers),i},function(i){return qx(i)||(If(e),i&&i.response&&(i.response.data=qf.call(e,e.transformResponse,i.response),i.response.headers=xa.from(i.response.headers))),Promise.reject(i)})}const Zx="1.13.2",cu={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{cu[e]=function(i){return typeof i===e||"a"+(a<1?"n ":" ")+e}});const Zv={};cu.transitional=function(a,s,i){function c(d,f){return"[Axios v"+Zx+"] Transitional option '"+d+"'"+f+(i?". "+i:"")}return(d,f,h)=>{if(a===!1)throw new ft(c(f," has been removed"+(s?" in "+s:"")),ft.ERR_DEPRECATED);return s&&!Zv[f]&&(Zv[f]=!0,console.warn(c(f," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,f,h):!0}};cu.spelling=function(a){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${a}`),!0)};function eE(e,a,s){if(typeof e!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let c=i.length;for(;c-- >0;){const d=i[c],f=a[d];if(f){const h=e[d],v=h===void 0||f(h,d,e);if(v!==!0)throw new ft("option "+d+" must be "+v,ft.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ft("Unknown option "+d,ft.ERR_BAD_OPTION)}}const Lc={assertOptions:eE,validators:cu},fs=Lc.validators;let Hr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new zv,response:new zv}}async request(a,s){try{return await this._request(a,s)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=Pr(this.defaults,s);const{transitional:i,paramsSerializer:c,headers:d}=s;i!==void 0&&Lc.assertOptions(i,{silentJSONParsing:fs.transitional(fs.boolean),forcedJSONParsing:fs.transitional(fs.boolean),clarifyTimeoutError:fs.transitional(fs.boolean)},!1),c!=null&&(oe.isFunction(c)?s.paramsSerializer={serialize:c}:Lc.assertOptions(c,{encode:fs.function,serialize:fs.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Lc.assertOptions(s,{baseUrl:fs.spelling("baseURL"),withXsrfToken:fs.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=d&&oe.merge(d.common,d[s.method]);d&&oe.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),s.headers=xa.concat(f,d);const h=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(s)===!1||(v=v&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let y,x=0,j;if(!v){const E=[Vv.bind(this),void 0];for(E.unshift(...h),E.push(...p),j=E.length,y=Promise.resolve(s);x<j;)y=y.then(E[x++],E[x++]);return y}j=h.length;let I=s;for(;x<j;){const E=h[x++],A=h[x++];try{I=E(I)}catch(_){A.call(this,_);break}}try{y=Vv.call(this,I)}catch(E){return Promise.reject(E)}for(x=0,j=p.length;x<j;)y=y.then(p[x++],p[x++]);return y}getUri(a){a=Pr(this.defaults,a);const s=$x(a.baseURL,a.url,a.allowAbsoluteUrls);return Ux(s,a.params,a.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(a){Hr.prototype[a]=function(s,i){return this.request(Pr(i||{},{method:a,url:s,data:(i||{}).data}))}});oe.forEach(["post","put","patch"],function(a){function s(i){return function(d,f,h){return this.request(Pr(h||{},{method:a,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}Hr.prototype[a]=s(),Hr.prototype[a+"Form"]=s(!0)});let tE=class Gx{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const i=this;this.promise.then(c=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](c);i._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(h=>{i.subscribe(h),d=h}).then(c);return f.cancel=function(){i.unsubscribe(d)},f},a(function(d,f,h){i.reason||(i.reason=new ei(d,f,h),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=i=>{a.abort(i)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new Gx(function(c){a=c}),cancel:a}}};function nE(e){return function(s){return e.apply(null,s)}}function aE(e){return oe.isObject(e)&&e.isAxiosError===!0}const Nm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Nm).forEach(([e,a])=>{Nm[a]=e});function Px(e){const a=new Hr(e),s=wx(Hr.prototype.request,a);return oe.extend(s,Hr.prototype,a,{allOwnKeys:!0}),oe.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return Px(Pr(e,c))},s}const pt=Px(bo);pt.Axios=Hr;pt.CanceledError=ei;pt.CancelToken=tE;pt.isCancel=qx;pt.VERSION=Zx;pt.toFormData=ou;pt.AxiosError=ft;pt.Cancel=pt.CanceledError;pt.all=function(a){return Promise.all(a)};pt.spread=nE;pt.isAxiosError=aE;pt.mergeConfig=Pr;pt.AxiosHeaders=xa;pt.formToJSON=e=>Bx(oe.isHTMLForm(e)?new FormData(e):e);pt.getAdapter=Vx.getAdapter;pt.HttpStatusCode=Nm;pt.default=pt;const{Axios:mD,AxiosError:hD,CanceledError:pD,isCancel:gD,CancelToken:bD,VERSION:vD,all:yD,Cancel:xD,isAxiosError:ND,spread:SD,toFormData:jD,AxiosHeaders:wD,HttpStatusCode:_D,formToJSON:ED,getAdapter:CD,mergeConfig:AD}=pt,sE="medileser:draft:v1",Vc="medileser:recovery:v1",Zc="medileser:recovery:intent",rE="vi.auth",lE="vi_auth",iE="medileser.selectedBank",oE=1440*60*1e3,rh=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>oE},$f=e=>{const{userId:a,bankId:s,oiId:i,type:c,bancadaId:d,isNew:f}=e;if(!a||s==null)return null;const h=i!=null?String(i):"new",v=`${sE}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${v}:header`;const p=f?"new":d;return p==null?null:`${v}:bancada:${p}`},eo=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&Qx(s)},Ff=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:rh(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},fr=e=>{try{localStorage.removeItem(e)}catch{}},Qx=e=>{try{localStorage.setItem(Vc,JSON.stringify(e))}catch{}},Yx=()=>{try{const e=localStorage.getItem(Vc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:rh(a.ts)?(localStorage.removeItem(Vc),null):a}catch{return null}},cE=()=>{try{localStorage.removeItem(Vc)}catch{}},uE=e=>{const a=e.userId??null,s=e.bankId??null,i=e.oiId??null;if(!a||s==null||!i)return;const c=Yx(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:i,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${i}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};Qx(d)},dE=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(Zc,JSON.stringify(a))}catch{}},fE=()=>{try{const e=sessionStorage.getItem(Zc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:rh(a.ts)?(sessionStorage.removeItem(Zc),null):a}catch{return null}},Hf=()=>{try{sessionStorage.removeItem(Zc)}catch{}},mE=()=>{try{const e=localStorage.getItem(rE)??localStorage.getItem(lE);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),i=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:i!=null&&Number.isFinite(i)?i:null}}catch{}return{userId:null,bankId:null}},hE=()=>{try{const e=localStorage.getItem(iE);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},Sm=(e,a)=>{const s=Yx();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const i=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=i==="/oi"||i==="/oi/"?`/oi/${s.oiId}?mode=edit`:i;return dE(s),{target:c,recovery:s}},Gv="http://127.0.0.1:8000",ti="openOiId",uu="vi.currentOI",Kx="vi.auth",Xx="vi_auth",pE="medileser.selectedBank",gE="medileser:selectedBank",jm="medileser.pendingToast",vo="medileser.pendingAction",bE="medileser:auth-expired",wm="medileser.sessionUserId",_m="medileser.sessionBankId",Jx=()=>typeof window<"u"?window.location.port==="5173"?Gv:window.location.origin:Gv,Ke=pt.create({baseURL:Jx()}),Wx=pt.create({baseURL:Jx()}),e0=e=>{try{const a=localStorage.getItem(Kx)??localStorage.getItem(Xx);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ke.interceptors.request.use(e0);Wx.interceptors.request.use(e0);function vE(){try{const e=sessionStorage.getItem(ti);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const t0=()=>{try{const e=sessionStorage.getItem(uu);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function yE(e){try{sessionStorage.setItem(ti,String(e))}catch{}}function n0(){try{sessionStorage.removeItem(ti)}catch{}}async function yo(){const e=vE();if(e)try{await Wx.post(`/oi/${e}/close`)}catch{}finally{n0()}}function xE(e){try{sessionStorage.setItem(jm,e)}catch{}}function NE(){try{const e=sessionStorage.getItem(jm);return e?(sessionStorage.removeItem(jm),e):null}catch{return null}}function SE(e){try{sessionStorage.setItem(vo,JSON.stringify(e))}catch{}}function jE(){try{const e=sessionStorage.getItem(vo);return e?JSON.parse(e):null}catch{return null}}function Ll(){try{sessionStorage.removeItem(vo)}catch{}}function a0(){try{const e=sessionStorage.getItem(wm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Pv(e){try{e==null?sessionStorage.removeItem(wm):sessionStorage.setItem(wm,String(e))}catch{}}function s0(){try{const e=sessionStorage.getItem(_m);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Gc(e){try{e==null?sessionStorage.removeItem(_m):sessionStorage.setItem(_m,String(e))}catch{}}function r0(e){const a=a0();if(e==null)return!1;if(a===null||a===e)return Pv(e),!1;try{const s=[];for(let i=0;i<sessionStorage.length;i+=1){const c=sessionStorage.key(i);c&&(c.startsWith("oi:")||c===ti||c===uu||c===vo)&&s.push(c)}s.forEach(i=>sessionStorage.removeItem(i))}catch{}return Pv(e),Gc(null),!0}function wE(e){const a=s0();if(e==null)return!1;if(a===null||a===e)return Gc(e),!1;try{const s=[];for(let i=0;i<sessionStorage.length;i+=1){const c=sessionStorage.key(i);c&&(c.startsWith("oi:")||c===ti||c===uu||c===vo)&&s.push(c)}s.forEach(i=>sessionStorage.removeItem(i))}catch{}return Gc(e),!0}function _E(){try{localStorage.removeItem(Kx),localStorage.removeItem(Xx),localStorage.removeItem(pE)}catch{}finally{try{window.dispatchEvent(new Event(gE))}catch{}}try{sessionStorage.removeItem(uu),sessionStorage.removeItem(ti)}catch{}}let Qv=!1;async function l0(e){if(!Qv){Qv=!0;try{await yo()}finally{_E();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(xE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,i=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${i}`)}}}}const Wi=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401)return!0;const i=e?.response?.data?.detail;return!!(typeof i=="string"&&/token requerido/i.test(i))},Vf=(e,a)=>{const s=a.match(e);if(!s)return null;const i=Number(s[1]);return Number.isFinite(i)?i:null},EE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),i=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:i,oiId:Vf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:i,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:i,oiId:Vf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:i,bancadaId:Vf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},CE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:i}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const f=c.toString(),h=p=>`${p}${f?`?${f}`:""}${i??""}`;let v=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??t0();p&&(v=h(`/oi/${p}`))}return v},AE=(e,a,s,i,c)=>{try{window.dispatchEvent(new CustomEvent(bE,{detail:{status:a,detail:e,url:s,method:i,pending:c}}))}catch{}};Ke.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),i=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&Wi(e)){const f=EE(e);f&&SE(f),AE(i,a,s,c,f);const h=CE(f),v=mE(),p=v.bankId??hE(),y=f?.oiId??t0();if(v.userId&&p!=null&&y){const x=f?.type==="save_bancada"?{type:"bancada",bancadaId:f.bancadaId??null,isNew:f.bancadaId==null}:void 0;uE({userId:v.userId,bankId:p,oiId:y,returnTo:h,modal:x})}await l0({returnTo:h,pending:!!f})}return Promise.reject(e)});const lh=async()=>{const{data:e}=await Ke.get("/catalogs");return e},du="medileser.selectedBank",Pc="medileser:selectedBank";function Za(e,a){if((a??"").toLowerCase()==="admin")return"admin";const i=(e??"").toLowerCase();return i==="admin"||i==="administrator"||i==="administrador"?"administrator":i==="technician"||i==="user"||i==="tecnico"||i==="tcnico"?"technician":"standard"}function Pl(e){return Za(e)==="technician"}function ih(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function ro(){try{const e=localStorage.getItem(du);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function i0(e){try{localStorage.setItem(du,String(e))}finally{window.dispatchEvent(new Event(Pc))}}function o0(){try{localStorage.removeItem(du)}finally{window.dispatchEvent(new Event(Pc))}}function OE(e){const a=()=>e(),s=i=>{i.key===du&&e()};return window.addEventListener(Pc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Pc,a),window.removeEventListener("storage",s)}}async function RE(e,a){try{await Ke.put("/auth/password",{old_password:e,new_password:a})}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(i)}}async function TE(e){try{await yo();const{data:a}=await Ke.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),r0(a.userId??null),!Pl(a.role)&&a.bancoId!=null&&Gc(a.bancoId),Pl(a.role)?o0():i0(0),a}catch(a){const s=a?.response?.status,i=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":i??a?.message??"Error de autenticacin";throw new Error(c)}}function On(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",i=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??i??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Za(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function c0(e){await yo();const{data:a}=await Ke.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),r0(a.userId??null),wE(e),i0(e),a}function u0(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),o0();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function DE(){await yo(),u0()}function lo({label:e,inputId:a,className:s="",inputRef:i,helpText:c,...d}){const[f,h]=g.useState(!1),v=a||d.name||void 0,{ref:p,...y}=d,x=i??p;return l.jsxs("div",{className:s,children:[e&&l.jsx("label",{className:"form-label",htmlFor:v,children:e}),l.jsxs("div",{className:"input-group",children:[l.jsx("input",{...y,id:v,type:f?"text":"password",className:"form-control",ref:x}),l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>h(j=>!j),tabIndex:-1,"aria-label":f?"Ocultar contrasea":"Mostrar contrasea",children:l.jsx("i",{className:`ti ${f?"ti-eye-off":"ti-eye"}`})})]}),c&&l.jsx("div",{className:"form-text",children:c})]})}function ni({show:e=!0,label:a="Cargando..."}){return e?l.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[l.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),l.jsx("span",{className:"visually-hidden",children:a})]}):null}const d0=g.createContext(null);function zE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function kE({children:e}){const[a,s]=g.useState([]),i=g.useCallback(d=>{const f=Date.now()+Math.random(),{kind:h="info",duration:v=3500,...p}=d,y={id:f,kind:h,duration:v,...p};s(x=>[...x,y]),window.setTimeout(()=>{s(x=>x.filter(j=>j.id!==f))},v)},[]),c=d=>s(f=>f.filter(h=>h.id!==d));return l.jsxs(d0.Provider,{value:{push:i},children:[e,l.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>l.jsx("div",{className:`toast show align-items-center text-bg-${zE(d.kind)} border-0 mb-2`,role:"alert",children:l.jsxs("div",{className:"d-flex",children:[l.jsxs("div",{className:"toast-body",children:[d.title&&l.jsx("strong",{className:"me-2",children:d.title}),d.message]}),l.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function Jr(){const e=g.useContext(d0);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}const oh="medileser.theme",ch="adminator-theme",Em=new Set;function Yv(e){return e==="light"||e==="dark"}function ME(){try{const e=localStorage.getItem(oh);if(Yv(e))return e;const a=localStorage.getItem(ch);return Yv(a)?a:null}catch{return null}}function f0(){return ME()??"light"}function m0(e){if(typeof document>"u")return;const a=document.documentElement;a.setAttribute("data-theme",e),a.setAttribute("data-bs-theme",e),a.style.colorScheme=e}function UE(){const e=f0();try{localStorage.setItem(oh,e)}catch{}try{localStorage.setItem(ch,e)}catch{}return m0(e),e}function LE(e){try{localStorage.setItem(oh,e)}catch{}try{localStorage.setItem(ch,e)}catch{}m0(e),typeof window<"u"&&typeof window.dispatchEvent=="function"&&window.dispatchEvent(new CustomEvent("adminator:themeChanged",{detail:{theme:e}})),Em.forEach(a=>a(e))}function BE(e){return Em.add(e),()=>{Em.delete(e)}}function h0({className:e}){const a=g.useId(),[s,i]=g.useState(()=>f0());g.useEffect(()=>BE(i),[]);const c=s==="dark";return l.jsx("div",{className:`theme-toggle d-flex ai-c ${e??""}`.trim(),children:l.jsxs("div",{className:"form-check form-switch d-flex ai-c",style:{margin:0,padding:0},children:[l.jsxs("label",{className:"form-check-label me-2 text-nowrap c-grey-700",htmlFor:a,style:{fontSize:"12px",marginRight:"8px"},children:[l.jsx("i",{className:"ti-sun",style:{marginRight:"4px"}}),l.jsx("span",{className:"theme-label",children:"Claro"})]}),l.jsx("input",{className:"form-check-input",type:"checkbox",id:a,checked:c,onChange:d=>LE(d.target.checked?"dark":"light"),"aria-label":"Cambiar tema",style:{margin:0}}),l.jsxs("label",{className:"form-check-label ms-2 text-nowrap c-grey-700",htmlFor:a,style:{fontSize:"12px",marginLeft:"8px"},children:[l.jsx("span",{className:"theme-label",children:"Oscuro"}),l.jsx("i",{className:"ti-moon",style:{marginLeft:"4px"}})]})]})})}function qE(){const{register:e,handleSubmit:a}=su({defaultValues:{username:"",password:""}}),{toast:s}=Jr(),i=new URLSearchParams(window.location.search),c=i.get("returnTo")??"",d=c.startsWith("/")?c:"/home",f=i.get("pending")==="1",[h,v]=g.useState(!1),p=g.useRef(d),[y,x]=g.useState(!1),[j,I]=g.useState(0),[E,A]=g.useState(!1),{data:_,isLoading:q,error:D,refetch:J}=Gr({queryKey:["catalogs"],queryFn:lh,enabled:y}),U=_?.bancos??[];g.useEffect(()=>{const de=NE();de&&s({kind:"error",message:de})},[s]),g.useEffect(()=>{y&&(j>0||U.length>0&&I(U[0].id))},[j,U,y]);const T=async de=>{try{v(!0);const Ee=a0(),je=await TE(de),ie=Ee!=null&&je.userId&&Ee!==je.userId,we=Sm(je.userId,je.bancoId??0);if(we.target?p.current=we.target:f||ie?p.current="/home":p.current=d,Pl(je.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(Ee){const je=Ee?.message??Ee?.response?.data?.detail??(typeof Ee=="string"?Ee:"Error de autenticacin");s({kind:"error",title:"Login",message:String(je)})}finally{v(!1)}},G=j>0&&!E&&!q,L=async()=>{if(G)try{A(!0);const de=s0(),Ee=de!=null&&de!==j,je=await c0(j),ie=Sm(je.userId,je.bancoId??j);ie.target?p.current=ie.target:(f||Ee)&&(p.current="/home"),window.location.replace(p.current)}catch(de){const Ee=de?.response?.data?.detail??de?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(Ee)})}finally{A(!1)}},ee=()=>{u0(),x(!1),I(0)};return l.jsxs("div",{className:"vi-login",children:[l.jsx(ni,{show:h||E,label:E?"Guardando banco...":"Validando credenciales..."}),l.jsx("div",{className:"vi-login__theme",children:l.jsx(h0,{})}),l.jsxs("div",{className:"vi-login__split",children:[l.jsx("section",{className:"vi-login__left",children:l.jsx("div",{className:"text-center text-md-start",children:l.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),l.jsx("section",{className:"vi-login__right",children:l.jsx("div",{className:"card shadow-sm vi-login__card",children:l.jsxs("div",{className:"card-body p-4 p-md-5",children:[l.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),l.jsxs("form",{onSubmit:a(T),className:"row g-3",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),l.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),l.jsx("div",{className:"col-md-6",children:l.jsx(lo,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),l.jsx("div",{className:"col-12 d-grid",children:l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||y,"aria-busy":h?"true":"false",children:h?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),y&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsx("div",{className:"modal-header",children:l.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),l.jsxs("div",{className:"modal-body",children:[l.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),l.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),l.jsx("select",{id:"bankId",className:"form-select",value:j||"",onChange:de=>I(Number(de.target.value)),disabled:q||E,children:U.map(de=>l.jsx("option",{value:de.id,children:de.name},de.id))}),D?l.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>J(),children:"Reintentar"})]}):null]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:ee,disabled:E,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary",disabled:!G,onClick:L,children:E?"Guardando...":"Continuar"})]})]})})})]})}const Kv=(e,a,s)=>{if(e&&"reportValidity"in e){const i=Fe(s,a);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Cm=(e,a)=>{for(const s in a.fields){const i=a.fields[s];i&&i.ref&&"reportValidity"in i.ref?Kv(i.ref,s,e):i&&i.refs&&i.refs.forEach(c=>Kv(c,s,e))}},Xv=(e,a)=>{a.shouldUseNativeValidation&&Cm(e,a);const s={};for(const i in e){const c=Fe(a.fields,i),d=Object.assign(e[i]||{},{ref:c&&c.ref});if(IE(a.names||Object.keys(e),i)){const f=Object.assign({},Fe(s,i));Lt(f,"root",d),Lt(s,i,f)}else Lt(s,i,d)}return s},IE=(e,a)=>{const s=Jv(a);return e.some(i=>Jv(i).match(`^${s}\\.\\d+`))};function Jv(e){return e.replace(/\]|\[/g,"")}function _e(e,a,s){function i(h,v){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,v);for(const y in f.prototype)y in h||Object.defineProperty(h,y,{value:f.prototype[y].bind(h)});h._zod.constr=f,h._zod.def=v}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function f(h){var v;const p=s?.Parent?new d:this;i(p,h),(v=p._zod).deferred??(v.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class Zl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class p0 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const g0={};function Qr(e){return g0}function $E(e){const a=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>a.indexOf(+i)===-1).map(([i,c])=>c)}function Am(e,a){return typeof a=="bigint"?a.toString():a}function uh(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function dh(e){return e==null}function fh(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function FE(e,a){const s=(e.toString().split(".")[1]||"").length,i=a.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const v=i.match(/\d?e-(\d?)/);v?.[1]&&(c=Number.parseInt(v[1]))}const d=s>c?s:c,f=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return f%h/10**d}const Wv=Symbol("evaluating");function Gt(e,a,s){let i;Object.defineProperty(e,a,{get(){if(i!==Wv)return i===void 0&&(i=Wv,i=s()),i},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function Wr(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function el(...e){const a={};for(const s of e){const i=Object.getOwnPropertyDescriptors(s);Object.assign(a,i)}return Object.defineProperties({},a)}function ey(e){return JSON.stringify(e)}const b0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Qc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const HE=uh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function io(e){if(Qc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(Qc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function v0(e){return io(e)?{...e}:Array.isArray(e)?[...e]:e}const VE=new Set(["string","number","symbol"]);function fu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gr(e,a,s){const i=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(i._zod.parent=e),i}function at(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function ZE(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const GE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function PE(e,a){const s=e._zod.def,i=el(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return Wr(this,"shape",c),c},checks:[]});return gr(e,i)}function QE(e,a){const s=e._zod.def,i=el(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return Wr(this,"shape",c),c},checks:[]});return gr(e,i)}function YE(e,a){if(!io(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=el(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Wr(this,"shape",d),d},checks:[]});return gr(e,c)}function KE(e,a){if(!io(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const i={...e._zod.def.shape,...a};return Wr(this,"shape",i),i},checks:e._zod.def.checks};return gr(e,s)}function XE(e,a){const s=el(e._zod.def,{get shape(){const i={...e._zod.def.shape,...a._zod.def.shape};return Wr(this,"shape",i),i},get catchall(){return a._zod.def.catchall},checks:[]});return gr(e,s)}function JE(e,a,s){const i=el(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const f in s){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);s[f]&&(d[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)d[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return Wr(this,"shape",d),d},checks:[]});return gr(a,i)}function WE(e,a,s){const i=el(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const f in s){if(!(f in d))throw new Error(`Unrecognized key: "${f}"`);s[f]&&(d[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)d[f]=new e({type:"nonoptional",innerType:c[f]});return Wr(this,"shape",d),d},checks:[]});return gr(a,i)}function Hl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function y0(e,a){return a.map(s=>{var i;return(i=s).path??(i.path=[]),s.path.unshift(e),s})}function Cc(e){return typeof e=="string"?e:e?.message}function Yr(e,a,s){const i={...e,path:e.path??[]};if(!e.message){const c=Cc(e.inst?._zod.def?.error?.(e))??Cc(a?.error?.(e))??Cc(s.customError?.(e))??Cc(s.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,a?.reportInput||delete i.input,i}function mh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function oo(...e){const[a,s,i]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:i}:{...a}}const x0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,Am,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},hh=_e("$ZodError",x0),mu=_e("$ZodError",x0,{Parent:Error});function eC(e,a=s=>s.message){const s={},i=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):i.push(a(c));return{formErrors:i,fieldErrors:s}}function tC(e,a=s=>s.message){const s={_errors:[]},i=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(f=>i({issues:f}));else if(d.code==="invalid_key")i({issues:d.issues});else if(d.code==="invalid_element")i({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let f=s,h=0;for(;h<d.path.length;){const v=d.path[h];h===d.path.length-1?(f[v]=f[v]||{_errors:[]},f[v]._errors.push(a(d))):f[v]=f[v]||{_errors:[]},f=f[v],h++}}};return i(e),s}const hu=e=>(a,s,i,c)=>{const d=i?Object.assign(i,{async:!1}):{async:!1},f=a._zod.run({value:s,issues:[]},d);if(f instanceof Promise)throw new Zl;if(f.issues.length){const h=new(c?.Err??e)(f.issues.map(v=>Yr(v,d,Qr())));throw b0(h,c?.callee),h}return f.value},nC=hu(mu),pu=e=>async(a,s,i,c)=>{const d=i?Object.assign(i,{async:!0}):{async:!0};let f=a._zod.run({value:s,issues:[]},d);if(f instanceof Promise&&(f=await f),f.issues.length){const h=new(c?.Err??e)(f.issues.map(v=>Yr(v,d,Qr())));throw b0(h,c?.callee),h}return f.value},aC=pu(mu),gu=e=>(a,s,i)=>{const c=i?{...i,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new Zl;return d.issues.length?{success:!1,error:new(e??hh)(d.issues.map(f=>Yr(f,c,Qr())))}:{success:!0,data:d.value}},sC=gu(mu),bu=e=>async(a,s,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(f=>Yr(f,c,Qr())))}:{success:!0,data:d.value}},rC=bu(mu),lC=e=>(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return hu(e)(a,s,c)},iC=e=>(a,s,i)=>hu(e)(a,s,i),oC=e=>async(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return pu(e)(a,s,c)},cC=e=>async(a,s,i)=>pu(e)(a,s,i),uC=e=>(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return gu(e)(a,s,c)},dC=e=>(a,s,i)=>gu(e)(a,s,i),fC=e=>async(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return bu(e)(a,s,c)},mC=e=>async(a,s,i)=>bu(e)(a,s,i),hC=/^[cC][^\s-]{8,}$/,pC=/^[0-9a-z]+$/,gC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bC=/^[0-9a-vA-V]{20}$/,vC=/^[A-Za-z0-9]{27}$/,yC=/^[a-zA-Z0-9_-]{21}$/,xC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,NC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ty=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,SC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,jC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function wC(){return new RegExp(jC,"u")}const _C=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,CC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,AC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,N0=/^[A-Za-z0-9_-]*$/,RC=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,TC=/^\+(?:[0-9]){6,14}[0-9]$/,S0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",DC=new RegExp(`^${S0}$`);function j0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function zC(e){return new RegExp(`^${j0(e)}$`)}function kC(e){const a=j0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${a}(?:${s.join("|")})`;return new RegExp(`^${S0}T(?:${i})$`)}const MC=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},UC=/^-?\d+$/,LC=/^-?\d+(?:\.\d+)?/,BC=/^[^A-Z]*$/,qC=/^[^a-z]*$/,Na=_e("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),w0={number:"number",bigint:"bigint",object:"date"},_0=_e("$ZodCheckLessThan",(e,a)=>{Na.init(e,a);const s=w0[typeof a.value];e._zod.onattach.push(i=>{const c=i._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=i=>{(a.inclusive?i.value<=a.value:i.value<a.value)||i.issues.push({origin:s,code:"too_big",maximum:a.value,input:i.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),E0=_e("$ZodCheckGreaterThan",(e,a)=>{Na.init(e,a);const s=w0[typeof a.value];e._zod.onattach.push(i=>{const c=i._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=i=>{(a.inclusive?i.value>=a.value:i.value>a.value)||i.issues.push({origin:s,code:"too_small",minimum:a.value,input:i.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),IC=_e("$ZodCheckMultipleOf",(e,a)=>{Na.init(e,a),e._zod.onattach.push(s=>{var i;(i=s._zod.bag).multipleOf??(i.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):FE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),$C=_e("$ZodCheckNumberFormat",(e,a)=>{Na.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),i=s?"int":"number",[c,d]=GE[a.format];e._zod.onattach.push(f=>{const h=f._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=UC)}),e._zod.check=f=>{const h=f.value;if(s){if(!Number.isInteger(h)){f.issues.push({expected:i,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?f.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!a.abort}):f.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!a.abort});return}}h<c&&f.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&f.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),FC=_e("$ZodCheckMaxLength",(e,a)=>{var s;Na.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!dh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(i._zod.bag.maximum=a.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=a.maximum)return;const f=mh(c);i.issues.push({origin:f,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),HC=_e("$ZodCheckMinLength",(e,a)=>{var s;Na.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!dh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(i._zod.bag.minimum=a.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=a.minimum)return;const f=mh(c);i.issues.push({origin:f,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),VC=_e("$ZodCheckLengthEquals",(e,a)=>{var s;Na.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!dh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=i=>{const c=i.value,d=c.length;if(d===a.length)return;const f=mh(c),h=d>a.length;i.issues.push({origin:f,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!a.abort})}}),vu=_e("$ZodCheckStringFormat",(e,a)=>{var s,i;Na.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(i=e._zod).check??(i.check=()=>{})}),ZC=_e("$ZodCheckRegex",(e,a)=>{vu.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),GC=_e("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=BC),vu.init(e,a)}),PC=_e("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=qC),vu.init(e,a)}),QC=_e("$ZodCheckIncludes",(e,a)=>{Na.init(e,a);const s=fu(a.includes),i=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=i,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(i)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),YC=_e("$ZodCheckStartsWith",(e,a)=>{Na.init(e,a);const s=new RegExp(`^${fu(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=i=>{i.value.startsWith(a.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:i.value,inst:e,continue:!a.abort})}}),KC=_e("$ZodCheckEndsWith",(e,a)=>{Na.init(e,a);const s=new RegExp(`.*${fu(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=i=>{i.value.endsWith(a.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:i.value,inst:e,continue:!a.abort})}}),XC=_e("$ZodCheckOverwrite",(e,a)=>{Na.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class JC{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const i=a.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),d=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of d)this.content.push(f)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const WC={major:4,minor:1,patch:12},En=_e("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=WC;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const d of c._zod.onattach)d(e);if(i.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,h,v)=>{let p=Hl(f),y;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(f))continue}else if(p)continue;const j=f.issues.length,I=x._zod.check(f);if(I instanceof Promise&&v?.async===!1)throw new Zl;if(y||I instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await I,f.issues.length!==j&&(p||(p=Hl(f,j)))});else{if(f.issues.length===j)continue;p||(p=Hl(f,j))}}return y?y.then(()=>f):f},d=(f,h,v)=>{if(Hl(f))return f.aborted=!0,f;const p=c(h,i,v);if(p instanceof Promise){if(v.async===!1)throw new Zl;return p.then(y=>e._zod.parse(y,v))}return e._zod.parse(p,v)};e._zod.run=(f,h)=>{if(h.skipChecks)return e._zod.parse(f,h);if(h.direction==="backward"){const p=e._zod.parse({value:f.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(y=>d(y,f,h)):d(p,f,h)}const v=e._zod.parse(f,h);if(v instanceof Promise){if(h.async===!1)throw new Zl;return v.then(p=>c(p,i,h))}return c(v,i,h)}}e["~standard"]={validate:c=>{try{const d=sC(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return rC(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),ph=_e("$ZodString",(e,a)=>{En.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??MC(e._zod.bag),e._zod.parse=(s,i)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),an=_e("$ZodStringFormat",(e,a)=>{vu.init(e,a),ph.init(e,a)}),eA=_e("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=NC),an.init(e,a)}),tA=_e("$ZodUUID",(e,a)=>{if(a.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(i===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=ty(i))}else a.pattern??(a.pattern=ty());an.init(e,a)}),nA=_e("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=SC),an.init(e,a)}),aA=_e("$ZodURL",(e,a)=>{an.init(e,a),e._zod.check=s=>{try{const i=s.value.trim(),c=new URL(i);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:RC.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=i;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),sA=_e("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=wC()),an.init(e,a)}),rA=_e("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=yC),an.init(e,a)}),lA=_e("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=hC),an.init(e,a)}),iA=_e("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=pC),an.init(e,a)}),oA=_e("$ZodULID",(e,a)=>{a.pattern??(a.pattern=gC),an.init(e,a)}),cA=_e("$ZodXID",(e,a)=>{a.pattern??(a.pattern=bC),an.init(e,a)}),uA=_e("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=vC),an.init(e,a)}),dA=_e("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=kC(a)),an.init(e,a)}),fA=_e("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=DC),an.init(e,a)}),mA=_e("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=zC(a)),an.init(e,a)}),hA=_e("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=xC),an.init(e,a)}),pA=_e("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=_C),an.init(e,a),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format="ipv4"})}),gA=_e("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=EC),an.init(e,a),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),bA=_e("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=CC),an.init(e,a)}),vA=_e("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=AC),an.init(e,a),e._zod.check=s=>{const i=s.value.split("/");try{if(i.length!==2)throw new Error;const[c,d]=i;if(!d)throw new Error;const f=Number(d);if(`${f}`!==d)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function C0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const yA=_e("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=OC),an.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{C0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function xA(e){if(!N0.test(e))return!1;const a=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return C0(s)}const NA=_e("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=N0),an.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{xA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),SA=_e("$ZodE164",(e,a)=>{a.pattern??(a.pattern=TC),an.init(e,a)});function jA(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[i]=s;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const wA=_e("$ZodJWT",(e,a)=>{an.init(e,a),e._zod.check=s=>{jA(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),A0=_e("$ZodNumber",(e,a)=>{En.init(e,a),e._zod.pattern=e._zod.bag.pattern??LC,e._zod.parse=(s,i)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),_A=_e("$ZodNumber",(e,a)=>{$C.init(e,a),A0.init(e,a)}),EA=_e("$ZodUnknown",(e,a)=>{En.init(e,a),e._zod.parse=s=>s}),CA=_e("$ZodNever",(e,a)=>{En.init(e,a),e._zod.parse=(s,i)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function ny(e,a,s){e.issues.length&&a.issues.push(...y0(s,e.issues)),a.value[s]=e.value}const AA=_e("$ZodArray",(e,a)=>{En.init(e,a),e._zod.parse=(s,i)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let f=0;f<c.length;f++){const h=c[f],v=a.element._zod.run({value:h,issues:[]},i);v instanceof Promise?d.push(v.then(p=>ny(p,s,f))):ny(v,s,f)}return d.length?Promise.all(d).then(()=>s):s}});function Yc(e,a,s,i){e.issues.length&&a.issues.push(...y0(s,e.issues)),e.value===void 0?s in i&&(a.value[s]=void 0):a.value[s]=e.value}function O0(e){const a=Object.keys(e.shape);for(const i of a)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const s=ZE(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function R0(e,a,s,i,c,d){const f=[],h=c.keySet,v=c.catchall._zod,p=v.def.type;for(const y of Object.keys(a)){if(h.has(y))continue;if(p==="never"){f.push(y);continue}const x=v.run({value:a[y],issues:[]},i);x instanceof Promise?e.push(x.then(j=>Yc(j,s,y,a))):Yc(x,s,y,a)}return f.length&&s.issues.push({code:"unrecognized_keys",keys:f,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const OA=_e("$ZodObject",(e,a)=>{if(En.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const v={...h};return Object.defineProperty(a,"shape",{value:v}),v}})}const i=uh(()=>O0(a));Gt(e._zod,"propValues",()=>{const h=a.shape,v={};for(const p in h){const y=h[p]._zod;if(y.values){v[p]??(v[p]=new Set);for(const x of y.values)v[p].add(x)}}return v});const c=Qc,d=a.catchall;let f;e._zod.parse=(h,v)=>{f??(f=i.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const y=[],x=f.shape;for(const j of f.keys){const E=x[j]._zod.run({value:p[j],issues:[]},v);E instanceof Promise?y.push(E.then(A=>Yc(A,h,j,p))):Yc(E,h,j,p)}return d?R0(y,p,h,v,i.value,e):y.length?Promise.all(y).then(()=>h):h}}),RA=_e("$ZodObjectJIT",(e,a)=>{OA.init(e,a);const s=e._zod.parse,i=uh(()=>O0(a)),c=j=>{const I=new JC(["shape","payload","ctx"]),E=i.value,A=J=>{const U=ey(J);return`shape[${U}]._zod.run({ value: input[${U}], issues: [] }, ctx)`};I.write("const input = payload.value;");const _=Object.create(null);let q=0;for(const J of E.keys)_[J]=`key_${q++}`;I.write("const newResult = {};");for(const J of E.keys){const U=_[J],T=ey(J);I.write(`const ${U} = ${A(J)};`),I.write(`
        if (${U}.issues.length) {
          payload.issues = payload.issues.concat(${U}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        
        if (${U}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${U}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const D=I.compile();return(J,U)=>D(j,J,U)};let d;const f=Qc,h=!g0.jitless,p=h&&HE.value,y=a.catchall;let x;e._zod.parse=(j,I)=>{x??(x=i.value);const E=j.value;return f(E)?h&&p&&I?.async===!1&&I.jitless!==!0?(d||(d=c(a.shape)),j=d(j,I),y?R0([],E,j,I,x,e):j):s(j,I):(j.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),j)}});function ay(e,a,s,i){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!Hl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(f=>Yr(f,i,Qr())))}),a)}const TA=_e("$ZodUnion",(e,a)=>{En.init(e,a),Gt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Gt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Gt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Gt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>fh(d.source)).join("|")})$`)}});const s=a.options.length===1,i=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return i(c,d);let f=!1;const h=[];for(const v of a.options){const p=v._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),f=!0;else{if(p.issues.length===0)return p;h.push(p)}}return f?Promise.all(h).then(v=>ay(v,c,e,d)):ay(h,c,e,d)}}),DA=_e("$ZodIntersection",(e,a)=>{En.init(e,a),e._zod.parse=(s,i)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},i),f=a.right._zod.run({value:c,issues:[]},i);return d instanceof Promise||f instanceof Promise?Promise.all([d,f]).then(([v,p])=>sy(s,v,p)):sy(s,d,f)}});function Om(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(io(e)&&io(a)){const s=Object.keys(a),i=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of i){const f=Om(e[d],a[d]);if(!f.valid)return{valid:!1,mergeErrorPath:[d,...f.mergeErrorPath]};c[d]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let i=0;i<e.length;i++){const c=e[i],d=a[i],f=Om(c,d);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};s.push(f.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function sy(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),Hl(e))return e;const i=Om(a.value,s.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const zA=_e("$ZodEnum",(e,a)=>{En.init(e,a);const s=$E(a.entries),i=new Set(s);e._zod.values=i,e._zod.pattern=new RegExp(`^(${s.filter(c=>VE.has(typeof c)).map(c=>typeof c=="string"?fu(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:s,input:f,inst:e}),c}}),kA=_e("$ZodTransform",(e,a)=>{En.init(e,a),e._zod.parse=(s,i)=>{if(i.direction==="backward")throw new p0(e.constructor.name);const c=a.transform(s.value,s);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(s.value=f,s));if(c instanceof Promise)throw new Zl;return s.value=c,s}});function ry(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const MA=_e("$ZodOptional",(e,a)=>{En.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Gt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Gt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${fh(s.source)})?$`):void 0}),e._zod.parse=(s,i)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>ry(d,s.value)):ry(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,i)}}),UA=_e("$ZodNullable",(e,a)=>{En.init(e,a),Gt(e._zod,"optin",()=>a.innerType._zod.optin),Gt(e._zod,"optout",()=>a.innerType._zod.optout),Gt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${fh(s.source)}|null)$`):void 0}),Gt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,i)=>s.value===null?s:a.innerType._zod.run(s,i)}),LA=_e("$ZodDefault",(e,a)=>{En.init(e,a),e._zod.optin="optional",Gt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>ly(d,a)):ly(c,a)}});function ly(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const BA=_e("$ZodPrefault",(e,a)=>{En.init(e,a),e._zod.optin="optional",Gt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>(i.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,i))}),qA=_e("$ZodNonOptional",(e,a)=>{En.init(e,a),Gt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(i=>i!==void 0)):void 0}),e._zod.parse=(s,i)=>{const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>iy(d,e)):iy(c,e)}});function iy(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const IA=_e("$ZodCatch",(e,a)=>{En.init(e,a),Gt(e._zod,"optin",()=>a.innerType._zod.optin),Gt(e._zod,"optout",()=>a.innerType._zod.optout),Gt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(f=>Yr(f,i,Qr()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>Yr(d,i,Qr()))},input:s.value}),s.issues=[]),s)}}),$A=_e("$ZodPipe",(e,a)=>{En.init(e,a),Gt(e._zod,"values",()=>a.in._zod.values),Gt(e._zod,"optin",()=>a.in._zod.optin),Gt(e._zod,"optout",()=>a.out._zod.optout),Gt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,i)=>{if(i.direction==="backward"){const d=a.out._zod.run(s,i);return d instanceof Promise?d.then(f=>Ac(f,a.in,i)):Ac(d,a.in,i)}const c=a.in._zod.run(s,i);return c instanceof Promise?c.then(d=>Ac(d,a.out,i)):Ac(c,a.out,i)}});function Ac(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const FA=_e("$ZodReadonly",(e,a)=>{En.init(e,a),Gt(e._zod,"propValues",()=>a.innerType._zod.propValues),Gt(e._zod,"values",()=>a.innerType._zod.values),Gt(e._zod,"optin",()=>a.innerType._zod.optin),Gt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(oy):oy(c)}});function oy(e){return e.value=Object.freeze(e.value),e}const HA=_e("$ZodCustom",(e,a)=>{Na.init(e,a),En.init(e,a),e._zod.parse=(s,i)=>s,e._zod.check=s=>{const i=s.value,c=a.fn(i);if(c instanceof Promise)return c.then(d=>cy(d,s,i,e));cy(c,s,i,e)}});function cy(e,a,s,i){if(!e){const c={code:"custom",input:s,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),a.issues.push(oo(c))}}class VA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const i=s[0];if(this._map.set(a,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const i={...this.get(s)??{}};delete i.id;const c={...i,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function ZA(){return new VA}const Oc=ZA();function GA(e,a){return new e({type:"string",...at(a)})}function PA(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...at(a)})}function uy(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...at(a)})}function QA(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...at(a)})}function YA(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...at(a)})}function KA(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...at(a)})}function XA(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...at(a)})}function JA(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...at(a)})}function WA(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...at(a)})}function eO(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...at(a)})}function tO(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...at(a)})}function nO(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...at(a)})}function aO(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...at(a)})}function sO(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...at(a)})}function rO(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...at(a)})}function lO(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...at(a)})}function iO(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...at(a)})}function oO(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...at(a)})}function cO(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...at(a)})}function uO(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...at(a)})}function dO(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...at(a)})}function fO(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...at(a)})}function mO(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...at(a)})}function hO(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...at(a)})}function pO(e,a){return new e({type:"string",format:"date",check:"string_format",...at(a)})}function gO(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...at(a)})}function bO(e,a){return new e({type:"string",format:"duration",check:"string_format",...at(a)})}function vO(e,a){return new e({type:"number",checks:[],...at(a)})}function yO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...at(a)})}function xO(e){return new e({type:"unknown"})}function NO(e,a){return new e({type:"never",...at(a)})}function dy(e,a){return new _0({check:"less_than",...at(a),value:e,inclusive:!1})}function Zf(e,a){return new _0({check:"less_than",...at(a),value:e,inclusive:!0})}function fy(e,a){return new E0({check:"greater_than",...at(a),value:e,inclusive:!1})}function Gf(e,a){return new E0({check:"greater_than",...at(a),value:e,inclusive:!0})}function my(e,a){return new IC({check:"multiple_of",...at(a),value:e})}function T0(e,a){return new FC({check:"max_length",...at(a),maximum:e})}function Kc(e,a){return new HC({check:"min_length",...at(a),minimum:e})}function D0(e,a){return new VC({check:"length_equals",...at(a),length:e})}function SO(e,a){return new ZC({check:"string_format",format:"regex",...at(a),pattern:e})}function jO(e){return new GC({check:"string_format",format:"lowercase",...at(e)})}function wO(e){return new PC({check:"string_format",format:"uppercase",...at(e)})}function _O(e,a){return new QC({check:"string_format",format:"includes",...at(a),includes:e})}function EO(e,a){return new YC({check:"string_format",format:"starts_with",...at(a),prefix:e})}function CO(e,a){return new KC({check:"string_format",format:"ends_with",...at(a),suffix:e})}function xo(e){return new XC({check:"overwrite",tx:e})}function AO(e){return xo(a=>a.normalize(e))}function OO(){return xo(e=>e.trim())}function RO(){return xo(e=>e.toLowerCase())}function TO(){return xo(e=>e.toUpperCase())}function DO(e,a,s){return new e({type:"array",element:a,...at(s)})}function zO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...at(s)})}function kO(e){const a=MO(s=>(s.addIssue=i=>{if(typeof i=="string")s.issues.push(oo(i,s.value,a._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(oo(c))}},e(s.value,s)));return a}function MO(e,a){const s=new Na({check:"custom",...at(a)});return s._zod.check=e,s}function hy(e,a){try{var s=e()}catch(i){return a(i)}return s&&s.then?s.then(void 0,a):s}function UO(e,a){for(var s={};e.length;){var i=e[0],c=i.code,d=i.message,f=i.path.join(".");if(!s[f])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];s[f]={message:h.message,type:h.code}}else s[f]={message:d,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(y){return y.errors.forEach(function(x){return e.push(x)})}),a){var v=s[f].types,p=v&&v[i.code];s[f]=Jm(f,a,s,c,p?[].concat(p,i.message):i.message)}e.shift()}return s}function LO(e,a){for(var s={};e.length;){var i=e[0],c=i.code,d=i.message,f=i.path.join(".");if(!s[f])if(i.code==="invalid_union"&&i.errors.length>0){var h=i.errors[0][0];s[f]={message:h.message,type:h.code}}else s[f]={message:d,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(y){return y.forEach(function(x){return e.push(x)})}),a){var v=s[f].types,p=v&&v[i.code];s[f]=Jm(f,a,s,c,p?[].concat(p,i.message):i.message)}e.shift()}return s}function BO(e,a,s){if(s===void 0&&(s={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,d){try{return Promise.resolve(hy(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](i,a)).then(function(f){return d.shouldUseNativeValidation&&Cm({},d),{errors:{},values:s.raw?Object.assign({},i):f}})},function(f){if((function(h){return Array.isArray(h?.issues)})(f))return{values:{},errors:Xv(UO(f.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,d){try{return Promise.resolve(hy(function(){return Promise.resolve((s.mode==="sync"?nC:aC)(e,i,a)).then(function(f){return d.shouldUseNativeValidation&&Cm({},d),{errors:{},values:s.raw?Object.assign({},i):f}})},function(f){if((function(h){return h instanceof hh})(f))return{values:{},errors:Xv(LO(f.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}const qO=_e("ZodISODateTime",(e,a)=>{dA.init(e,a),ln.init(e,a)});function IO(e){return hO(qO,e)}const $O=_e("ZodISODate",(e,a)=>{fA.init(e,a),ln.init(e,a)});function FO(e){return pO($O,e)}const HO=_e("ZodISOTime",(e,a)=>{mA.init(e,a),ln.init(e,a)});function VO(e){return gO(HO,e)}const ZO=_e("ZodISODuration",(e,a)=>{hA.init(e,a),ln.init(e,a)});function GO(e){return bO(ZO,e)}const PO=(e,a)=>{hh.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>tC(e,s)},flatten:{value:s=>eC(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,Am,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,Am,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ya=_e("ZodError",PO,{Parent:Error}),QO=hu(Ya),YO=pu(Ya),KO=gu(Ya),XO=bu(Ya),JO=lC(Ya),WO=iC(Ya),eR=oC(Ya),tR=cC(Ya),nR=uC(Ya),aR=dC(Ya),sR=fC(Ya),rR=mC(Ya),Rn=_e("ZodType",(e,a)=>(En.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(el(a,{checks:[...a.checks??[],...s.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(s,i)=>gr(e,s,i),e.brand=()=>e,e.register=((s,i)=>(s.add(e,i),e)),e.parse=(s,i)=>QO(e,s,i,{callee:e.parse}),e.safeParse=(s,i)=>KO(e,s,i),e.parseAsync=async(s,i)=>YO(e,s,i,{callee:e.parseAsync}),e.safeParseAsync=async(s,i)=>XO(e,s,i),e.spa=e.safeParseAsync,e.encode=(s,i)=>JO(e,s,i),e.decode=(s,i)=>WO(e,s,i),e.encodeAsync=async(s,i)=>eR(e,s,i),e.decodeAsync=async(s,i)=>tR(e,s,i),e.safeEncode=(s,i)=>nR(e,s,i),e.safeDecode=(s,i)=>aR(e,s,i),e.safeEncodeAsync=async(s,i)=>sR(e,s,i),e.safeDecodeAsync=async(s,i)=>rR(e,s,i),e.refine=(s,i)=>e.check(QR(s,i)),e.superRefine=s=>e.check(YR(s)),e.overwrite=s=>e.check(xo(s)),e.optional=()=>vy(e),e.nullable=()=>yy(e),e.nullish=()=>vy(yy(e)),e.nonoptional=s=>$R(e,s),e.array=()=>M0(e),e.or=s=>TR([e,s]),e.and=s=>zR(e,s),e.transform=s=>xy(e,MR(s)),e.default=s=>BR(e,s),e.prefault=s=>IR(e,s),e.catch=s=>HR(e,s),e.pipe=s=>xy(e,s),e.readonly=()=>GR(e),e.describe=s=>{const i=e.clone();return Oc.add(i,{description:s}),i},Object.defineProperty(e,"description",{get(){return Oc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return Oc.get(e);const i=e.clone();return Oc.add(i,s[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),z0=_e("_ZodString",(e,a)=>{ph.init(e,a),Rn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...i)=>e.check(SO(...i)),e.includes=(...i)=>e.check(_O(...i)),e.startsWith=(...i)=>e.check(EO(...i)),e.endsWith=(...i)=>e.check(CO(...i)),e.min=(...i)=>e.check(Kc(...i)),e.max=(...i)=>e.check(T0(...i)),e.length=(...i)=>e.check(D0(...i)),e.nonempty=(...i)=>e.check(Kc(1,...i)),e.lowercase=i=>e.check(jO(i)),e.uppercase=i=>e.check(wO(i)),e.trim=()=>e.check(OO()),e.normalize=(...i)=>e.check(AO(...i)),e.toLowerCase=()=>e.check(RO()),e.toUpperCase=()=>e.check(TO())}),lR=_e("ZodString",(e,a)=>{ph.init(e,a),z0.init(e,a),e.email=s=>e.check(PA(iR,s)),e.url=s=>e.check(JA(oR,s)),e.jwt=s=>e.check(mO(jR,s)),e.emoji=s=>e.check(WA(cR,s)),e.guid=s=>e.check(uy(py,s)),e.uuid=s=>e.check(QA(Rc,s)),e.uuidv4=s=>e.check(YA(Rc,s)),e.uuidv6=s=>e.check(KA(Rc,s)),e.uuidv7=s=>e.check(XA(Rc,s)),e.nanoid=s=>e.check(eO(uR,s)),e.guid=s=>e.check(uy(py,s)),e.cuid=s=>e.check(tO(dR,s)),e.cuid2=s=>e.check(nO(fR,s)),e.ulid=s=>e.check(aO(mR,s)),e.base64=s=>e.check(uO(xR,s)),e.base64url=s=>e.check(dO(NR,s)),e.xid=s=>e.check(sO(hR,s)),e.ksuid=s=>e.check(rO(pR,s)),e.ipv4=s=>e.check(lO(gR,s)),e.ipv6=s=>e.check(iO(bR,s)),e.cidrv4=s=>e.check(oO(vR,s)),e.cidrv6=s=>e.check(cO(yR,s)),e.e164=s=>e.check(fO(SR,s)),e.datetime=s=>e.check(IO(s)),e.date=s=>e.check(FO(s)),e.time=s=>e.check(VO(s)),e.duration=s=>e.check(GO(s))});function Xc(e){return GA(lR,e)}const ln=_e("ZodStringFormat",(e,a)=>{an.init(e,a),z0.init(e,a)}),iR=_e("ZodEmail",(e,a)=>{nA.init(e,a),ln.init(e,a)}),py=_e("ZodGUID",(e,a)=>{eA.init(e,a),ln.init(e,a)}),Rc=_e("ZodUUID",(e,a)=>{tA.init(e,a),ln.init(e,a)}),oR=_e("ZodURL",(e,a)=>{aA.init(e,a),ln.init(e,a)}),cR=_e("ZodEmoji",(e,a)=>{sA.init(e,a),ln.init(e,a)}),uR=_e("ZodNanoID",(e,a)=>{rA.init(e,a),ln.init(e,a)}),dR=_e("ZodCUID",(e,a)=>{lA.init(e,a),ln.init(e,a)}),fR=_e("ZodCUID2",(e,a)=>{iA.init(e,a),ln.init(e,a)}),mR=_e("ZodULID",(e,a)=>{oA.init(e,a),ln.init(e,a)}),hR=_e("ZodXID",(e,a)=>{cA.init(e,a),ln.init(e,a)}),pR=_e("ZodKSUID",(e,a)=>{uA.init(e,a),ln.init(e,a)}),gR=_e("ZodIPv4",(e,a)=>{pA.init(e,a),ln.init(e,a)}),bR=_e("ZodIPv6",(e,a)=>{gA.init(e,a),ln.init(e,a)}),vR=_e("ZodCIDRv4",(e,a)=>{bA.init(e,a),ln.init(e,a)}),yR=_e("ZodCIDRv6",(e,a)=>{vA.init(e,a),ln.init(e,a)}),xR=_e("ZodBase64",(e,a)=>{yA.init(e,a),ln.init(e,a)}),NR=_e("ZodBase64URL",(e,a)=>{NA.init(e,a),ln.init(e,a)}),SR=_e("ZodE164",(e,a)=>{SA.init(e,a),ln.init(e,a)}),jR=_e("ZodJWT",(e,a)=>{wA.init(e,a),ln.init(e,a)}),k0=_e("ZodNumber",(e,a)=>{A0.init(e,a),Rn.init(e,a),e.gt=(i,c)=>e.check(fy(i,c)),e.gte=(i,c)=>e.check(Gf(i,c)),e.min=(i,c)=>e.check(Gf(i,c)),e.lt=(i,c)=>e.check(dy(i,c)),e.lte=(i,c)=>e.check(Zf(i,c)),e.max=(i,c)=>e.check(Zf(i,c)),e.int=i=>e.check(gy(i)),e.safe=i=>e.check(gy(i)),e.positive=i=>e.check(fy(0,i)),e.nonnegative=i=>e.check(Gf(0,i)),e.negative=i=>e.check(dy(0,i)),e.nonpositive=i=>e.check(Zf(0,i)),e.multipleOf=(i,c)=>e.check(my(i,c)),e.step=(i,c)=>e.check(my(i,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function aa(e){return vO(k0,e)}const wR=_e("ZodNumberFormat",(e,a)=>{_A.init(e,a),k0.init(e,a)});function gy(e){return yO(wR,e)}const _R=_e("ZodUnknown",(e,a)=>{EA.init(e,a),Rn.init(e,a)});function by(){return xO(_R)}const ER=_e("ZodNever",(e,a)=>{CA.init(e,a),Rn.init(e,a)});function CR(e){return NO(ER,e)}const AR=_e("ZodArray",(e,a)=>{AA.init(e,a),Rn.init(e,a),e.element=a.element,e.min=(s,i)=>e.check(Kc(s,i)),e.nonempty=s=>e.check(Kc(1,s)),e.max=(s,i)=>e.check(T0(s,i)),e.length=(s,i)=>e.check(D0(s,i)),e.unwrap=()=>e.element});function M0(e,a){return DO(AR,e,a)}const OR=_e("ZodObject",(e,a)=>{RA.init(e,a),Rn.init(e,a),Gt(e,"shape",()=>a.shape),e.keyof=()=>U0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:by()}),e.loose=()=>e.clone({...e._zod.def,catchall:by()}),e.strict=()=>e.clone({...e._zod.def,catchall:CR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>YE(e,s),e.safeExtend=s=>KE(e,s),e.merge=s=>XE(e,s),e.pick=s=>PE(e,s),e.omit=s=>QE(e,s),e.partial=(...s)=>JE(L0,e,s[0]),e.required=(...s)=>WE(B0,e,s[0])});function yu(e,a){const s={type:"object",shape:e??{},...at(a)};return new OR(s)}const RR=_e("ZodUnion",(e,a)=>{TA.init(e,a),Rn.init(e,a),e.options=a.options});function TR(e,a){return new RR({type:"union",options:e,...at(a)})}const DR=_e("ZodIntersection",(e,a)=>{DA.init(e,a),Rn.init(e,a)});function zR(e,a){return new DR({type:"intersection",left:e,right:a})}const Rm=_e("ZodEnum",(e,a)=>{zA.init(e,a),Rn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(i,c)=>{const d={};for(const f of i)if(s.has(f))d[f]=a.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Rm({...a,checks:[],...at(c),entries:d})},e.exclude=(i,c)=>{const d={...a.entries};for(const f of i)if(s.has(f))delete d[f];else throw new Error(`Key ${f} not found in enum`);return new Rm({...a,checks:[],...at(c),entries:d})}});function U0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Rm({type:"enum",entries:s,...at(a)})}const kR=_e("ZodTransform",(e,a)=>{kA.init(e,a),Rn.init(e,a),e._zod.parse=(s,i)=>{if(i.direction==="backward")throw new p0(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(oo(d,s.value,a));else{const f=d;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=s.value),f.inst??(f.inst=e),s.issues.push(oo(f))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function MR(e){return new kR({type:"transform",transform:e})}const L0=_e("ZodOptional",(e,a)=>{MA.init(e,a),Rn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function vy(e){return new L0({type:"optional",innerType:e})}const UR=_e("ZodNullable",(e,a)=>{UA.init(e,a),Rn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function yy(e){return new UR({type:"nullable",innerType:e})}const LR=_e("ZodDefault",(e,a)=>{LA.init(e,a),Rn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function BR(e,a){return new LR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():v0(a)}})}const qR=_e("ZodPrefault",(e,a)=>{BA.init(e,a),Rn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function IR(e,a){return new qR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():v0(a)}})}const B0=_e("ZodNonOptional",(e,a)=>{qA.init(e,a),Rn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function $R(e,a){return new B0({type:"nonoptional",innerType:e,...at(a)})}const FR=_e("ZodCatch",(e,a)=>{IA.init(e,a),Rn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function HR(e,a){return new FR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const VR=_e("ZodPipe",(e,a)=>{$A.init(e,a),Rn.init(e,a),e.in=a.in,e.out=a.out});function xy(e,a){return new VR({type:"pipe",in:e,out:a})}const ZR=_e("ZodReadonly",(e,a)=>{FA.init(e,a),Rn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function GR(e){return new ZR({type:"readonly",innerType:e})}const PR=_e("ZodCustom",(e,a)=>{HA.init(e,a),Rn.init(e,a)});function QR(e,a={}){return zO(PR,e,a)}function YR(e){return kO(e)}const KR=["correlativo","no correlativo"],XR=yu({oi:Xc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:aa(),alcance:aa(),pma:aa().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:U0(KR).default("correlativo")}),Pf=yu({c1:aa().optional().nullable(),c2:aa().optional().nullable(),c3:aa().optional().nullable(),c4:aa().optional().nullable(),c5:aa().optional().nullable(),c6:aa().optional().nullable(),c7:Xc().optional().nullable(),c7_seconds:aa().optional().nullable(),caudal:aa().optional().nullable(),error:aa().optional().nullable()}),JR=yu({medidor:Xc().optional(),estado:aa().int().min(0).max(5).default(0),q3:Pf.optional(),q2:Pf.optional(),q1:Pf.optional(),conformidad:Xc().optional()});yu({estado:aa().int().min(0).optional(),rows:aa().int().min(1).default(15),rowsData:M0(JR)});function WR(e){return e===16?25.6:e===10?16:NaN}const eT=/^[A-Za-z0-9]{10}$/,tT=e=>(e??"").trim().toUpperCase(),un=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},Bl=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],Tm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},Ny=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}Tm(a)}},zn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function nT(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const i=s[1],c=s[2],d=parseInt(c,10)+a;return`${i}${d.toString().padStart(c.length,"0")}`}function Sy(e,a,s){return e?s==="no correlativo"?e.slice(0,4):nT(e,a):""}function Qf(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let i=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,f=s[2]||0;i=c*60+d+f/1e3}else if(s.length===2)i=s[0]*60+(s[1]||0);else if(s.length===1)i=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),f=(c-d)*100;i=d*60+f}}return i}function Yf(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function Kf(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function aT(e,a,s,i){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||i==null)return"";const c=Math.abs(a),d=Math.abs(s),f=Math.abs(i),h=!(c>2.05||d>2.05||f>5.05),v=c<1.05||d<1.05||f<2.55,p=Math.sign(a),y=Math.sign(s),x=Math.sign(i),j=p>=0&&y>=0&&x>=0||p<=0&&y<=0&&x<=0,I=h&&v;return j?I?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const ql=({val:e,isErr:a,warnThreshold:s,failThreshold:i})=>{const c=p=>{const y=Number(p.toFixed(1));return Object.is(y,-0)?"0.0":y.toFixed(1)};if(!a)return l.jsx("td",{className:"vi-surface-2",children:e==null||isNaN(e)?l.jsx("span",{className:"text-muted",children:"-"}):l.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),f=s??i??0,h=i??s??0;let v="vi-e-ok";return e==null||isNaN(e)?v="":h>0&&d>h?v="vi-e-error":f>0&&d>f&&(v="vi-e-warn"),l.jsx("td",{className:"vi-surface-2",children:e==null||isNaN(e)?l.jsx("span",{className:"text-muted",children:"-"}):l.jsx("span",{className:`vi-qe-value fw-bold ${v}`,children:c(e)})})};function sT({show:e,title:a,initial:s,onClose:i,onSubmit:c,onCancelWithDraft:d,numerationType:f,duplicateMap:h,onClearDuplicate:v,readOnly:p,draftStorageKey:y,draftMeta:x,isOnline:j,showRetry:I}){const E={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},A=p===!0,_=j!==!1,{register:q,control:D,handleSubmit:J,reset:U,setValue:T,getValues:G}=su({defaultValues:E}),L=q("rows",{valueAsNumber:!0}),{fields:ee,replace:de,append:Ee,remove:je}=A_({control:D,name:"rowsData"}),[ie,we]=g.useState(0),ke=g.useRef(0),Te=g.useRef(null),[M,H]=g.useState(0),ae=0,xe=5,Ce=()=>{if(M>=xe){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}H(X=>Math.min(X+1,xe))},w=()=>{if(M<=ae){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}H(X=>Math.max(X-1,ae))},K=g.useRef(null),[fe,k]=g.useState([]),me=!!s?.version,be=g.useRef("rows"),ze=g.useRef(null),Ie=g.useRef(null),pe=g.useRef(null),Ue=g.useRef(new Map),$e=["c1","c2","c3","c4","c5","c6","c7"];g.useEffect(()=>{s?.rowsData?.length&&ee.forEach((X,W)=>{if(W===0)return;s.rowsData[W]?.medidor&&Ue.current.set(X.id,!0)})},[s,ee]);const Je=g.useCallback(X=>{const W=X<0?0:X;we(W),requestAnimationFrame(()=>{const Oe=document.querySelector(`input.vi-medidor-input[data-row="${W}"]`);Oe&&(Oe.focus(),Oe.select())})},[]),lt=()=>(G("rowsData")??[]).slice(0,ee.length);g.useEffect(()=>{ke.current=ie},[ie]);const De=X=>{const W=X.target;if(!W)return;const Oe=W.tagName;if(Oe!=="INPUT"&&Oe!=="SELECT"&&Oe!=="TEXTAREA")return;const He=X.key;if(He==="Escape"){X.preventDefault(),Vn();return}if(He==="ArrowUp"||He==="ArrowDown"||He==="ArrowLeft"||He==="ArrowRight"||He==="Enter"){const Zt=W.name;if(!Zt||!Zt.startsWith("rowsData."))return;const Et=Zt.match(/^rowsData\.(\d+)\.(.+)$/);if(!Et)return;const ut=parseInt(Et[1],10),gt=Et[2],Tt=X.currentTarget,Dt=ee.length-1,sn=(fn,Xt)=>{let Ct=fn+Xt;for(;Ct>=0&&Ct<=Dt;){const gn=`[name="rowsData.${Ct}.${gt}"]`,wt=Tt.querySelector(gn);if(wt&&!wt.disabled)return{index:Ct,el:wt};Ct+=Xt}return null};if(He==="ArrowUp"||He==="ArrowDown"){X.preventDefault();const Xt=sn(ut,He==="ArrowUp"?-1:1);Xt&&Ny(gt,Xt.el);return}if(He==="ArrowLeft"||He==="ArrowRight"){X.preventDefault();const fn=Bl.indexOf(gt);if(fn===-1)return;const Ct=fn+(He==="ArrowRight"?1:-1);if(Ct<0||Ct>=Bl.length)return;const gn=Bl[Ct],wt=`[name="rowsData.${ut}.${gn}"]`,bn=Tt.querySelector(wt);bn&&!bn.disabled&&Tm(bn);return}if(He==="Enter"){X.preventDefault();const fn=Bl.indexOf(gt);if(fn===-1)return;const Xt=sn(ut,1);if(Xt){Ny(gt,Xt.el);return}const Ct=fn+1;if(Ct<Bl.length){const gn=Bl[Ct];for(let wt=0;wt<=Dt;wt++){const bn=`[name="rowsData.${wt}.${gn}"]`,Gn=Tt.querySelector(bn);if(Gn&&!Gn.disabled){Tm(Gn);return}}}K.current&&K.current.focus();return}}if(He!=="Tab")return;const rt=X.currentTarget,tt=Array.from(rt.querySelectorAll("input, select, textarea")).filter(bt=>!bt.hasAttribute("disabled")),Xe=tt.indexOf(W);if(Xe===-1)return;if(He==="Tab"&&X.shiftKey){Xe>0&&(X.preventDefault(),tt[Xe-1].focus());return}const _t=Xe+1;if(_t<tt.length){X.preventDefault(),tt[_t].focus();return}K.current&&(X.preventDefault(),K.current.focus())},Pe=(X,W)=>{de(X),T("rows",X.length),we(Oe=>X.length===0?0:typeof W=="number"?Math.max(0,Math.min(W,X.length-1)):Math.min(Oe,X.length-1))},ve=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Ze=X=>X==null?"":typeof X=="number"?X:typeof X=="string"?X.replace(",","."):X,Ae=X=>{if(!X)return{};const W={...X};return["c1","c2","c3","c4","c5","c6"].forEach(Oe=>{W[Oe]=Ze(W[Oe])}),W},We=()=>{const X=s?.rowsData?.length??s?.rows??15,W=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:X}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(Oe=>({medidor:Oe.medidor??"",estado:Oe.estado??0,q3:Ae(Oe.q3),q2:Ae(Oe.q2),q1:Ae(Oe.q1)}));return{rows:W.length,rowsData:W,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},C=g.useCallback(()=>{const X=G(),W=X.rowsData??[];return{estado:X.estado??0,rows:Number(X.rows??W.length),version:X.version??s?.version??null,rowsData:W,draftCreatedAt:X.draftCreatedAt??s?.draftCreatedAt??null,draftId:X.draftId??s?.draftId??null}},[G,s?.version,s?.draftCreatedAt,s?.draftId]),Y=X=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:X}:null,R=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,P=X=>X==null||X===""||typeof X=="number"&&Number.isNaN(X),Z=X=>X?Number(X.estado??0)!==0||X.medidor&&X.medidor.toString().trim()!==""?!0:Re(X):!1,le=X=>(X.rowsData??[]).some(Oe=>Z(Oe)),Re=X=>{const W=[X.q3,X.q2,X.q1];for(const Oe of W)if(Oe){for(const He of $e)if(!P(Oe[He]))return!0}return!1},Be=X=>X?{...X,c4:null,c5:null}:{c4:null,c5:null},se=X=>{if(!X)return X;const W={...X};return P(W.c4)&&(W.c4=null),P(W.c5)&&(W.c5=null),W},Le=X=>{for(let W=0;W<X.length;W++){const Oe=X[W],He=Number(Oe.estado??0),rt=He!==0;if(!Z(Oe))continue;if(!Oe.medidor||Oe.medidor.toString().trim()==="")return`La fila ${W+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Xe=[{name:"Q3 (Nominal)",block:Oe.q3},{name:"Q2 (Transicin)",block:Oe.q2},{name:"Q1 (Mnimo)",block:Oe.q1}],Pt=Xe.some(({block:_t})=>_t&&$e.some(bt=>!P(_t[bt])));if(He===0&&!Pt)return`La fila ${W+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!rt)for(const{name:_t,block:bt}of Xe){if(!bt||!$e.some(ut=>!P(bt[ut])))continue;if($e.some(ut=>P(bt[ut])))return`La fila ${W+1} tiene datos incompletos en el bloque ${_t}. Completa todos los campos o elimina la fila.`}}return null},Ve=X=>X==null||X===""?null:String(X).replace(/\./g,","),it=X=>{if(!X)return{};const W={...X};return["c1","c2","c3","c4","c5","c6","c7"].forEach(Oe=>{W[Oe]=Ve(W[Oe])}),W},Ht=X=>{const W=[];let Oe=null;const He=(tt,Xe,Pt)=>{W[tt]||(W[tt]={}),W[tt][Xe]=Pt,Oe||(Oe=`Fila ${tt+1}: ${Pt}`)},rt={};return X.forEach(tt=>{const Xe=(tt.medidor??"").trim();Xe&&(rt[Xe]=(rt[Xe]??0)+1)}),X.forEach((tt,Xe)=>{const Pt=tt.q3||{},_t=tt.q2||{},bt=tt.q1||{},Zt=Pt.c4,Et=Pt.c5,ut=_t.c4,gt=_t.c5,Tt=bt.c4,Dt=bt.c5;Zt!=null&&Et!=null&&!Number.isNaN(Zt)&&!Number.isNaN(Et)&&Et<Zt&&He(Xe,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),ut!=null&&gt!=null&&!Number.isNaN(ut)&&!Number.isNaN(gt)&&gt<ut&&He(Xe,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),Tt!=null&&Dt!=null&&!Number.isNaN(Tt)&&!Number.isNaN(Dt)&&Dt<Tt&&He(Xe,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),Et!=null&&ut!=null&&!Number.isNaN(Et)&&!Number.isNaN(ut)&&ut<Et&&He(Xe,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),gt!=null&&Tt!=null&&!Number.isNaN(gt)&&!Number.isNaN(Tt)&&Tt<gt&&He(Xe,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const sn=(tt.medidor??"").trim();sn&&rt[sn]>1&&He(Xe,"medidor_dup","Serie de medidor repetida."),sn&&!eT.test(sn)&&He(Xe,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:W,firstMessage:Oe}},Ne=X=>{if(A)return;const W=(X.rowsData??[]).slice(0,ee.length),Oe=Le(W);if(Oe){alert(Oe);return}const{rowErrors:He,firstMessage:rt}=Ht(W);if(k(He),rt){alert(rt);return}const Xe=W.filter(Z).map(_t=>{const bt=Number(_t.estado??0),Zt=bt>=1&&bt<=4,Et=bt===5&&!Re(_t),ut=Zt||Et,gt=se(_t.q3),Tt=se(_t.q2),Dt=se(_t.q1),sn=fn=>{if(ut){const Xt=Be(fn);return it(Xt)}return it(fn)};return{..._t,q3:sn(gt),q2:sn(Tt),q1:sn(Dt)}}),Pt={...X,rows:Xe.length,rowsData:Xe,version:X.version??s?.version??null};c(Pt)},nt=Pi({control:D,name:"rowsData.0"}),Vt=Pi({control:D,name:"rowsData"}),jt=Pi({control:D,name:"rowsData.0.q3.c7"}),Bt=Pi({control:D,name:"rowsData.0.q2.c7"}),dn=Pi({control:D,name:"rowsData.0.q1.c7"});g.useEffect(()=>{ee[0]&&(T("rowsData.0.q3.c7_seconds",Qf(jt)),T("rowsData.0.q2.c7_seconds",Qf(Bt)),T("rowsData.0.q1.c7_seconds",Qf(dn)))},[jt,Bt,dn,T,ee]),g.useEffect(()=>{const X=Vt??[],{rowErrors:W}=Ht(X);k(W)},[Vt]),g.useEffect(()=>{if(!nt||ee.length<=1)return;const X=Vt??[];ee.forEach((W,Oe)=>{if(Oe===0)return;const He=W.id;(Ue.current.get(He)??!1)||T(`rowsData.${Oe}.medidor`,Sy(nt.medidor||"",Oe,f));const tt=X[Oe]?.estado;(tt==null||Number.isNaN(tt))&&T(`rowsData.${Oe}.estado`,nt.estado),T(`rowsData.${Oe}.q3.c1`,nt.q3?.c1??null),T(`rowsData.${Oe}.q3.c2`,nt.q3?.c2??null),T(`rowsData.${Oe}.q3.c3`,nt.q3?.c3??null),T(`rowsData.${Oe}.q3.c6`,nt.q3?.c6??null),T(`rowsData.${Oe}.q3.c7`,nt.q3?.c7??""),T(`rowsData.${Oe}.q3.c7_seconds`,nt.q3?.c7_seconds??null),T(`rowsData.${Oe}.q2.c1`,nt.q2?.c1??null),T(`rowsData.${Oe}.q2.c2`,nt.q2?.c2??null),T(`rowsData.${Oe}.q2.c3`,nt.q2?.c3??null),T(`rowsData.${Oe}.q2.c6`,nt.q2?.c6??null),T(`rowsData.${Oe}.q2.c7`,nt.q2?.c7??""),T(`rowsData.${Oe}.q2.c7_seconds`,nt.q2?.c7_seconds??null),T(`rowsData.${Oe}.q1.c1`,nt.q1?.c1??null),T(`rowsData.${Oe}.q1.c2`,nt.q1?.c2??null),T(`rowsData.${Oe}.q1.c3`,nt.q1?.c3??null),T(`rowsData.${Oe}.q1.c6`,nt.q1?.c6??null),T(`rowsData.${Oe}.q1.c7`,nt.q1?.c7??""),T(`rowsData.${Oe}.q1.c7_seconds`,nt.q1?.c7_seconds??null)})},[nt,Vt,ee,T,f]),g.useEffect(()=>{we(X=>{const W=Math.max(ee.length-1,0);return X>W?W:X})},[ee.length]);const $n=()=>{if(ee.length>=50){if(T("rows",50),Je(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){Te.current&&(Te.current.focus(),Te.current.select());return}return}Ee(ve()),T("rows",ee.length+1),Je(ee.length)},Fn=X=>{if(ee.length<=1)return;const W=Math.max(0,Math.min(X,ee.length-1));je(W),T("rows",Math.max(ee.length-1,1)),Je(Math.max(0,W-(W===ee.length-1?1:0)))},ct=()=>{ee.length<=1||(je(ee.length-1),T("rows",Math.max(ee.length-1,1)),Je(Math.max(0,ee.length-2)))},Hn=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const X=lt();if(!X.length)return;const W=X.map(()=>ve());Pe(W,0),Je(0)},kn=()=>{let X=Number(G("rows"));if((!Number.isFinite(X)||X<1)&&(X=1),X>50){const He=lt();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){T("rows",He.length),Te.current&&(Te.current.focus(),Te.current.select());return}X=50}const W=lt();if(X!==W.length&&!confirm(`La lista tendr ${X} filas. Quieres continuar?`)){T("rows",W.length),Te.current&&(Te.current.focus(),Te.current.select());return}if(X===W.length){T("rows",X);return}if(X>W.length){const He=Math.min(X,50)-W.length;if(He>0){const rt=Array.from({length:He},()=>ve()),tt=[...W,...rt];Pe(tt,ie),Je(W.length)}else T("rows",W.length);return}const Oe=W.slice(0,X);Pe(Oe,Math.min(ie,X-1))},Jn=X=>{X.key==="Enter"&&(X.preventDefault(),kn(),Je(0))},Vn=()=>{const X=G(),W=document.activeElement;if(Te.current&&W===Te.current)be.current="rows",ze.current="rows";else if(W&&W instanceof HTMLElement){const Oe=W.getAttribute("name");Oe&&Oe.startsWith("rowsData.")?(be.current="grid",ze.current=Oe):(be.current="grid",ze.current=null)}else be.current="grid",ze.current=null;if(y){const Oe=C();if(!le(Oe))fr(y),pe.current=null;else{const He=Y(Oe);if(He){const rt=JSON.stringify(He);eo(y,He,R()),pe.current=rt}}}d&&d(X),i()};g.useEffect(()=>{if(!e)return;const X=W=>{if(W.key==="Escape"){W.preventDefault(),Vn();return}if((W.key==="+"||W.key==="=")&&W.ctrlKey){W.preventDefault(),$n();return}(W.key==="-"||W.key==="_")&&W.ctrlKey&&(W.preventDefault(),ct())};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[e,$n,ct,Vn]),g.useEffect(()=>{const X=We();U(X),Pe(X.rowsData,0),Ue.current.clear(),requestAnimationFrame(()=>{if(me)Je(0);else if(ze.current){const W=document.querySelector(`[name="${ze.current}"]`);if(W){W.focus(),"select"in W&&W.select?.();return}Je(ke.current||0)}else Te.current&&(Te.current.focus(),Te.current.select())})},[s,U,de,Je,me]),g.useEffect(()=>{if(!e||!y)return;const X=C();if(!le(X)){fr(y),pe.current=null;return}const W=Y(X);if(!W)return;const Oe=JSON.stringify(W);if(Oe!==pe.current)return Ie.current&&window.clearTimeout(Ie.current),Ie.current=window.setTimeout(()=>{eo(y,W,R()),pe.current=Oe},400),()=>{Ie.current&&window.clearTimeout(Ie.current)}},[e,y,Vt,C]),g.useEffect(()=>{e&&requestAnimationFrame(()=>{if(me)Je(0);else if(ze.current){const X=document.querySelector(`[name="${ze.current}"]`);if(X){X.focus(),"select"in X&&X.select?.();return}Je(ke.current||0)}else Te.current&&(Te.current.focus(),Te.current.select())})},[e,Je,me]);const Zn=fe.some(X=>X&&Object.values(X).some(Boolean));return e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:X=>{X.target===X.currentTarget&&Vn()},children:[l.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (theme-aware) */
        .vi-spreadsheet {
          background-color: var(--vi-grid-bg);
          color: var(--vi-grid-text);
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: var(--vi-grid-head-bg);
          color: var(--vi-grid-head-text);
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet td.vi-at-valor {
          color: var(--vi-grid-text) !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: var(--vi-grid-row-index-text);
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: var(--vi-grid-row-index-bg); /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: var(--vi-grid-head-bg);
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: var(--vi-grid-base-row-bg) !important;
          color: var(--vi-grid-row-index-text) !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: var(--c-primary) !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: var(--vi-grid-active-bg) !important;
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: var(--vi-grid-input-bg);
          color: var(--vi-grid-active-text);
          border-color: var(--vi-grid-input-active-border);
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: var(--vi-grid-active-bg) !important;
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: var(--vi-grid-input-bg);
          border-color: var(--vi-grid-input-border);
          color: var(--vi-grid-input-text);
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: var(--vi-grid-disabled-bg);
          color: var(--vi-grid-disabled-text);
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: var(--vi-grid-at-fail-text) !important;
          background-color: var(--vi-grid-at-fail-bg);
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: var(--vi-grid-at-ok-text) !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: var(--vi-grid-e-ok); /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: var(--vi-grid-e-warn); /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: var(--vi-grid-e-error); /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: var(--vi-grid-input-active-bg) !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: var(--vi-grid-error-border) !important;
          background-color: var(--vi-grid-error-bg) !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),l.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:l.jsx("div",{className:"modal-content",children:l.jsxs("form",{onSubmit:J(Ne),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:a}),l.jsx("button",{type:"button",className:"btn-close",onClick:Vn,"aria-label":"Close"})]}),l.jsx("fieldset",{disabled:A,children:l.jsxs("div",{className:"modal-body p-2",children:[!_&&l.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),l.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[l.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[l.jsx("label",{className:"form-label mb-1",children:"Filas"}),l.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...L,ref:X=>{Te.current=X,L.ref(X)},onBlur:kn,onKeyDown:Jn})]}),l.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:$n,children:"+ Agregar Fila"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:ct,children:"- Quitar ltima fila"}),l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:Hn,children:"Limpiar Todo"})]}),l.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:Ce,children:"Aumentar tamao"}),l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:w,children:"Reducir tamao"})]}),l.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",ie+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),l.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:l.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${M}`,children:[l.jsxs("thead",{className:"vi-surface-2 sticky-top z-1",children:[l.jsxs("tr",{children:[l.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),l.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),l.jsx("th",{style:{width:"90px"},children:"Estado"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q3"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q2"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q1"}),l.jsx("th",{className:"bg-warning vi-text-contrast border-start vi-border vi-header-at",style:{width:"100px"},children:"Conformidad"}),l.jsx("th",{className:"vi-surface-2 vi-text vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),l.jsxs("tr",{style:{fontSize:"0.75rem"},children:[l.jsx("th",{className:"vi-row-index"}),l.jsx("th",{className:"vi-sticky-medidor"}),l.jsx("th",{}),l.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),l.jsx("th",{title:"T (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q3"}),l.jsx("th",{title:"U (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{className:"vi-min-width border-start vi-border",title:"V",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),l.jsx("th",{title:"AF (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q2"}),l.jsx("th",{title:"AG (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{className:"vi-min-width border-start vi-border",title:"AH",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),l.jsx("th",{title:"AR (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q1"}),l.jsx("th",{title:"AS (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{title:"AT (Conformidad)",className:"bg-warning vi-text-contrast vi-header-at",children:"Estado"}),l.jsx("th",{className:"vi-header-quitar"})]})]}),l.jsx("tbody",{onKeyDown:De,children:ee.map((X,W)=>{const Oe=W===0,He=Vt?.[W]||{},rt=fe[W]||{},tt=Number(He.estado??0),Xe=tt>=1&&tt<=4,Pt=He.q3?.c6,_t=He.q3?.c7_seconds,bt=He.q3?.c4,Zt=He.q3?.c5,Et=Yf(Pt,_t),ut=Kf(bt,Zt,Pt),gt=He.q2?.c6,Tt=He.q2?.c7_seconds,Dt=He.q2?.c4,sn=He.q2?.c5,fn=Yf(gt,Tt),Xt=Kf(Dt,sn,gt),Ct=He.q1?.c6,gn=He.q1?.c7_seconds,wt=He.q1?.c4,bn=He.q1?.c5,Gn=Yf(Ct,gn),Tn=Kf(wt,bn,Ct),zt=aT(He.estado,ut,Xt,Tn),Bs=[Oe?"vi-base-row":"",ie===W?"table-active":""].filter(Boolean).join(" "),la=q(`rowsData.${W}.medidor`),vn=tT(He.medidor??""),Pn=vn?h?.[vn]?.message:"",Ka=rt.medidor_format||rt.medidor_dup||Pn||"",Xa=!!Ka,ia=(zt||"").toUpperCase(),Mn=ia==="NO CONFORME"?"vi-at-valor--fail":ia==="CONFORME"?"vi-at-valor--ok":"";return l.jsxs("tr",{className:Bs,onMouseEnter:()=>we(W),onClick:()=>we(W),onFocusCapture:()=>we(W),children:[l.jsx("td",{className:"small vi-row-index",children:W+1}),l.jsx("td",{className:"vi-sticky-medidor",children:l.jsx("input",{"data-row":W,"data-row-id":X.id,...la,size:1,style:{minWidth:"100%"},disabled:Xe,onInput:un,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Xa?"vi-error-cell":""].filter(Boolean).join(" "),title:Ka||"",onChange:Jt=>{const Sa=G(`rowsData.${W}.medidor`);if(la.onChange(Jt),v?.(Sa),W===0)return;const Qn=Jt.currentTarget.value.trim();if(!Qn){Ue.current.delete(X.id);return}const Wt=Sy(nt?.medidor??"",W,f);Wt&&Wt===Qn?Ue.current.delete(X.id):Ue.current.set(X.id,!0)}})}),l.jsx("td",{children:l.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...q(`rowsData.${W}.estado`,{valueAsNumber:!0}),children:[l.jsx("option",{value:0,children:"0"}),l.jsx("option",{value:1,children:"1"}),l.jsx("option",{value:2,children:"2"}),l.jsx("option",{value:3,children:"3"}),l.jsx("option",{value:4,children:"4"}),l.jsx("option",{value:5,children:"5"})]})}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q3.c1`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q3.c2`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q3.c3`,{setValueAs:zn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Xe,onInput:un,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q3_li?" vi-error-cell":""),title:rt.q3_li||"",...q(`rowsData.${W}.q3.c4`,{setValueAs:zn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Xe,onInput:un,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q3_lf?" vi-error-cell":""),title:rt.q3_lf||"",...q(`rowsData.${W}.q3.c5`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q3.c6`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q3.c7`),placeholder:"m,ss,ms"})}),l.jsx(ql,{val:Et}),l.jsx(ql,{val:ut,isErr:!0,warnThreshold:2,failThreshold:5}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q2.c1`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q2.c2`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q2.c3`,{setValueAs:zn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Xe,onInput:un,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q2_li?" vi-error-cell":""),title:rt.q2_li||"",...q(`rowsData.${W}.q2.c4`,{setValueAs:zn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Xe,onInput:un,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q2_lf?" vi-error-cell":""),title:rt.q2_lf||"",...q(`rowsData.${W}.q2.c5`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q2.c6`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q2.c7`),placeholder:"m,ss,ms"})}),l.jsx(ql,{val:fn}),l.jsx(ql,{val:Xt,isErr:!0,warnThreshold:2,failThreshold:5}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q1.c1`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q1.c2`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q1.c3`,{setValueAs:zn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Xe,onInput:un,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q1_li?" vi-error-cell":""),title:rt.q1_li||"",...q(`rowsData.${W}.q1.c4`,{setValueAs:zn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Xe,onInput:un,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q1_lf?" vi-error-cell":""),title:rt.q1_lf||"",...q(`rowsData.${W}.q1.c5`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q1.c6`,{setValueAs:zn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:un,disabled:!Oe||Xe,...q(`rowsData.${W}.q1.c7`),placeholder:"m,ss,ms"})}),l.jsx(ql,{val:Gn}),l.jsx(ql,{val:Tn,isErr:!0,warnThreshold:5,failThreshold:5}),l.jsx("td",{className:`vi-surface-2 border-start fw-bold small text-center vi-at-valor ${Mn}`,children:zt}),l.jsx("td",{className:"text-center align-middle vi-surface-2",children:l.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:Jt=>{Jt.stopPropagation(),Fn(W)},disabled:ee.length<=1,title:"Eliminar esta fila",children:""})})]},X.id)})})]})})]})}),l.jsxs("div",{className:"modal-footer py-1",children:[l.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Vn,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:K,disabled:Zn||A,children:I&&_?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),l.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function xu({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:i="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[f,h]=g.useState(""),v=g.useRef(null),p=f.trim().length>0;if(g.useEffect(()=>{e&&(h(""),setTimeout(()=>v.current?.focus(),0))},[e]),g.useEffect(()=>{if(!e)return;const x=j=>{j.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const y=x=>{x.preventDefault(),p&&d(f.trim())};return l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:y,children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"mb-3",children:[l.jsx(lo,{label:"Contrasea",inputId:"pwd",value:f,onChange:x=>h(x.target.value),inputRef:v,minLength:1,required:!0}),l.jsx("div",{className:"form-text",children:i})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:c,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function rT(e,a){try{const{data:s}=await Ke.put(`/oi/${e}`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function lT(e,a){try{const{data:s}=await Ke.patch(`/oi/${e}/code`,{code:a});return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar el codigo de la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function iT(e,a){try{const{data:s}=await Ke.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function oT(e){try{const{data:a}=await Ke.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function jy(e,a){try{const{data:s}=await Ke.post(`/oi/${e}/bancadas`,a);return s}catch(s){const i=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof i=="string"?c=i:i&&typeof i=="object"&&(c=i.message??i.detail??c);const d=s?.response?.data?.duplicates??(i&&typeof i=="object"?i.duplicates:void 0),f=new Error(c);throw f.status=s?.response?.status,Array.isArray(d)&&(f.duplicates=d),f}}async function cT(e,a){try{const{data:s}=await Ke.put(`/oi/bancadas/${e}`,a);return s}catch(s){const i=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof i=="string"?c=i:i&&typeof i=="object"&&(c=i.message??i.detail??c);const d=s?.response?.data?.duplicates??(i&&typeof i=="object"?i.duplicates:void 0),f=new Error(c);throw f.status=s?.response?.status,Array.isArray(d)&&(f.duplicates=d),f}}async function uT(e,a){try{const{data:s}=await Ke.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(i);throw c.status=s?.response?.status,c}}async function dT(e,a){try{const{data:s}=await Ke.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(i);throw c.status=s?.response?.status,c}}async function wy(e){try{await Ke.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function q0(e,a){let s;try{s=await Ke.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let y=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const j=await x.text();try{const E=JSON.parse(j)?.detail;typeof E=="string"?y=E:Array.isArray(E)&&E.length>0?y=E.map(A=>String(A?.msg??"")).filter(Boolean).join(", "):j&&(y=j)}catch{j&&(y=j)}}catch{}else y=p?.response?.data?.detail??y;throw new Error(y)}const i=s.data,f=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(i),v=document.createElement("a");v.href=h,v.download=f,document.body.appendChild(v),v.click(),URL.revokeObjectURL(h),v.remove()}async function fT(e){await Ke.delete(`/oi/${e}`)}async function mT(e){try{const{data:a}=await Ke.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",i=new Error(s);throw i.status=a?.response?.status,i}}async function Tc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:i}=await Ke.delete(`/oi/${e}/lock`,s);return i}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function hT(e,a){try{const{data:s}=await Ke.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(i);throw c.status=s?.response?.status,c}}async function Xf(e){try{const{data:a}=await Ke.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function pT(e){try{const{data:a}=await Ke.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function gT(e){let a;try{a=await Ke.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(f){let h=f?.message??"No se pudo exportar el CSV";const v=f?.response?.data;if(v instanceof Blob)try{const y=await v.text();try{const j=JSON.parse(y)?.detail;typeof j=="string"?h=j:Array.isArray(j)&&j.length>0?h=j.map(I=>String(I?.msg??"")).filter(Boolean).join(", "):y&&(h=y)}catch{y&&(h=y)}}catch{}else h=f?.response?.data?.detail??h;const p=new Error(h);throw p.status=f?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function bT(){try{const{data:e}=await Ke.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function Jf(e){try{const{data:a}=await Ke.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const gh="vi.currentOI";function to(e){sessionStorage.setItem(gh,JSON.stringify(e))}function _y(){const e=sessionStorage.getItem(gh);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Dm(){sessionStorage.removeItem(gh)}const Wf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},em=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},vT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Wf(e.q3),q2:Wf(e.q2),q1:Wf(e.q1)}),yT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:em(e.q3),q2:em(e.q2),q1:em(e.q1)}),I0=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),xT=e=>e.reduce((a,s)=>a+(s.rows??0),0),NT=e=>JSON.parse(JSON.stringify(e)),Ey=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),Cy=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:I0(e),ST=(e,a)=>e==="view"&&a?"view":"edit",Ay=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${i.getFullYear()}-${c(i.getMonth()+1)}-${c(i.getDate())}T${c(i.getHours())}:${c(i.getMinutes())}`},jT=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},$0=e=>(e??"").trim().toUpperCase(),wT=e=>{const a={};e.forEach(i=>{const c=$0(i.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),i.bancada_item!=null&&!a[c].items.includes(i.bancada_item)&&a[c].items.push(i.bancada_item),i.bancada_id!=null&&!a[c].ids.includes(i.bancada_id)&&a[c].ids.push(i.bancada_id))});const s={};return Object.entries(a).forEach(([i,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,v)=>h-v).join(", ")} de esta misma OI.`),s[i]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},_T="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",ET=(e,a=!0)=>{const i=g.useContext(Pa)?.navigator;g.useEffect(()=>{if(!a||!i||typeof i.block!="function")return;const c=i.block(d=>{const f={...d,retry(){c(),d.retry()}};e(f)});return c},[i,e,a])},CT=e=>{const a=Ke.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},AT=()=>{const[e,a]=g.useState(typeof navigator<"u"?navigator.onLine:!0);return g.useEffect(()=>{const s=()=>a(!0),i=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",i),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}},[]),e},Dc=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function Oy(){const{toast:e}=Jr(),a=Xr(),s=ra(),{oiId:i}=zj(),[c,d]=nx(),f=AT(),{data:h}=Gr({queryKey:["catalogs"],queryFn:lh}),{register:v,handleSubmit:p,watch:y,formState:{errors:x},reset:j,getValues:I}=su({resolver:BO(XR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),E=On(),A=E?.userId??null,_=E?.bancoId??ro(),q=Za(E?.role,E?.username)!=="technician",D=_y(),J=i?Number(i):null,U=Number.isFinite(J)?J:null,T=U!=null||(D?.id??null)!=null,G=(c.get("mode")||"").toLowerCase(),L=ST(G,T),ee=L==="view",de=L==="edit",[Ee,je]=g.useState(!1),[ie,we]=g.useState(!1),[ke,Te]=g.useState(null),[M,H]=g.useState(null),[ae,xe]=g.useState(!1),Ce=ie||ee,[w,K]=g.useState(!1),[fe,k]=g.useState(null),[me,be]=g.useState(null),[ze,Ie]=g.useState(null),[pe,Ue]=g.useState(!1),[$e,Je]=g.useState(""),[lt,De]=g.useState(null),[Pe,ve]=g.useState("bancada"),[Ze,Ae]=g.useState(!1),[We,C]=g.useState(!1),[Y,R]=g.useState(null),P=g.useRef([]),Z=g.useRef(null),le=g.useRef(!1),Re=g.useRef(!1),Be=g.useRef(!1),se=g.useRef(null),Le=g.useRef(!1),Ve=g.useRef(f),it=g.useRef(!1),Ht=g.useRef(!1),[Ne,nt]=g.useState(null),[Vt,jt]=g.useState(null),[Bt,dn]=g.useState([]),[$n,Fn]=g.useState(!1),[ct,Hn]=g.useState(null),[kn,Jn]=g.useState(!1),[Vn,Zn]=g.useState(null),[X,W]=g.useState(0),[Oe,He]=g.useState({}),[rt,tt]=g.useState({}),Xe=s.state?.returnTo,Pt=()=>typeof Xe=="string"&&Xe?Xe:"/oi/list",_t=O=>{const F=new URLSearchParams(c);F.set("mode",O),d(F,{replace:!0})},bt="new",Zt=15,Et=O=>O?`bancada-${O.id}`:bt,ut=O=>O==null?!1:typeof O=="string"?O.trim()!=="":typeof O=="number"?Number.isFinite(O):!0,gt=O=>O==="c7_seconds"||O==="caudal"||O==="error",Tt=O=>O?Object.entries(O).some(([F,he])=>gt(F)?!1:ut(he)):!1,Dt=O=>!O||!Array.isArray(O.rowsData)?!1:O.rowsData.some(F=>{if(!F)return!1;if(Number(F.estado??0)!==0)return!0;const Me=F.medidor;return typeof Me=="string"&&Me.trim()!==""?!0:Tt(F.q3)||Tt(F.q2)||Tt(F.q1)}),sn=(O=Zt)=>Array.from({length:O}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),fn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,Xt=O=>({draftId:fn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:Zt,rowsData:sn(),version:null}),Ct=O=>{const F=new URLSearchParams(s.search);F.set("mode","edit");const he=s.pathname==="/oi"||s.pathname==="/oi/"?O?`/oi/${O}`:"/oi":s.pathname,Me=F.toString();return Me?`${he}?${Me}`:he},gn=(O,F)=>!O||!A||_==null?null:{version:1,ts:new Date().toISOString(),userId:A,bankId:_,oiId:O,oiCode:I("oi")??null,returnTo:Ct(O),mode:"edit",modal:F},wt=()=>{if($n)return ct?{type:"bancada",bancadaId:ct.id}:{type:"bancada",isNew:!0}},bn=O=>$f({userId:A,bankId:_,oiId:O,type:"bancada",isNew:!0}),Gn=O=>{const F=bn(O);if(!F)return null;const he=Ff(F);if(!he||!A||_==null||!O||he.userId!==A||he.bankId!==_||he.oiId!==O)return null;const Me=he?.data??null;return Dt(Me)?Me:(fr(F),null)},Tn=(O,F)=>{const he=bn(O);if(!he)return;if(!F||!Dt(F)){fr(he);return}if(!A||_==null||!O)return;const Me={version:1,ts:new Date().toISOString(),userId:A,bankId:_,oiId:O,isNew:!0,data:F},S=gn(O,{type:"bancada",isNew:!0});eo(he,Me,S)},zt=O=>$f({userId:A,bankId:_,oiId:O,type:"header"}),Bs=O=>{if(!O)return null;const F=Ff(O);return!F||!A||_==null||F.userId!==A||F.bankId!==_||Ne!=null&&F.oiId!==Ne?null:F?.data??null},la=(O,F)=>{if(!O||!A||_==null)return;const he=Ne??0,Me={version:1,ts:new Date().toISOString(),userId:A,bankId:_,oiId:he,data:F},S=gn(Ne,wt());eo(O,Me,S)},vn=O=>{O&&fr(O)},Pn=O=>{const F={};return O.q3!=null&&(F.q3=Number(O.q3)),O.alcance!=null&&(F.alcance=Number(O.alcance)),O.pma!=null&&(F.pma=Number(O.pma)),O.numeration_type&&(F.numeration_type=O.numeration_type),F},Ka=(O,F)=>$f({userId:A,bankId:_,oiId:O,type:"bancada",bancadaId:F}),Xa=(O,F)=>{const he=Ka(O,F);if(!he)return null;const Me=Ff(he);if(!Me||!A||_==null||!O||!F||Me.userId!==A||Me.bankId!==_||Me.oiId!==O)return null;const S=Me?.data??null;return Dt(S)?S:(fr(he),null)},ia=(O,F,he)=>{const Me=Ka(O,F);if(!Me)return;if(!Dt(he)){fr(Me);return}if(!A||_==null||!O||!F)return;const S={version:1,ts:new Date().toISOString(),userId:A,bankId:_,oiId:O,bancadaId:F,data:he},$=gn(O,{type:"bancada",bancadaId:F});eo(Me,S,$)},Mn=(O,F)=>{const he=Ka(O,F);he&&fr(he)},Jt=zt(Ne);g.useEffect(()=>{h&&j(O=>({...O,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,j]),g.useEffect(()=>{const O=_y(),F=U??O?.id??null;if(!F){nt(null),dn([]),P.current=[],Z.current=null,Zn(null),W(0),jt(null),be(null),Ie(null),K(!1),we(!1),Te(null),H(null),xe(!1),k(null);return}(async()=>{try{const he=await Xf(F);nt(he.id),to({id:he.id,code:he.code}),dn(he.bancadas??[]),P.current=NT(he.bancadas??[]),Z.current=he.updated_at??null,Zn(he.medidores_usuario??null),W(he.medidores_total_code??0),be(he.saved_at??null),Ie(he.created_at??null),jt(he.updated_at??he.created_at);const Me={oi:he.code,q3:he.q3,alcance:he.alcance,pma:he.pma,numeration_type:he.numeration_type??"correlativo"};j(Me),K(!1),we(he.read_only_for_current_user??!1),Te(he.locked_by_full_name??null),H(he.locked_by_user_id??null),xe((he.locked_by_user_id??null)===A),k(Me)}catch{Dm()}})()},[j,A,U]),g.useEffect(()=>{if(!Ne||rt[bt])return;const O=Gn(Ne);O&&(tt(F=>({...F,[bt]:O})),e({kind:"info",message:"Se restauro un borrador local."}))},[Ne,rt,e]),g.useEffect(()=>{if(!Ne||!A||!de)return;let O=!1;return(async()=>{const F=he=>{we(he?.read_only_for_current_user??!1),Te(he?.locked_by_full_name??null),H(he?.locked_by_user_id??null),xe((he?.locked_by_user_id??null)===A)};try{const he=await mT(Ne);if(O)return;F(he)}catch(he){if(O)return;const Me=he?.status??he?.response?.status;let S=null;try{const Q=await Xf(Ne);if(O)return;S=Q.locked_by_full_name??null,F({read_only_for_current_user:!0,locked_by_full_name:S,locked_by_user_id:Q.locked_by_user_id??null})}catch{we(!0),xe(!1)}const $=S?`La OI est? siendo editada por ${S}. Se abre en modo lectura.`:he?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:Me===423||Me===409?"warning":"error",title:Me===423||Me===409?"OI bloqueada":"Error",message:$}),we(!0),xe(!1),G!=="view"&&_t("view")}})(),()=>{O=!0}},[Ne,A,de]),g.useEffect(()=>()=>{Ne&&ae&&Tc(Ne).catch(()=>{})},[Ne,ae]),g.useEffect(()=>{Ne&&(!ae||Ce||!de||yE(Ne))},[ae,Ne,Ce,de]),g.useEffect(()=>{Re.current=!1,Be.current=!1,C(!1),Le.current=!1,Ht.current=!1},[Ne]),g.useEffect(()=>{if(!Ve.current&&f){if(!!!On()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Ve.current=f;return}(Be.current||We)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Ve.current=f},[f,We,e]),g.useEffect(()=>{const O=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",O),()=>window.removeEventListener("medileser:auth-expired",O)},[e]),g.useEffect(()=>{const O=jE();if(!O){R(null),it.current=!1;return}const F=`${s.pathname}${s.search}`,he=O.route===F,Me=O.oiId==null||O.oiId===Ne;if(!he&&!Me){R(null),it.current=!1;return}R(O),O.type==="save_bancada"&&C(!0),O.type==="save_oi"&&(Be.current=!0),it.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),it.current=!0)},[s.pathname,s.search,Ne,e]);const Sa=de&&!Ce&&(w||!Ne);g.useEffect(()=>{if(!Sa||Le.current)return;const O=Bs(Jt);if(!O)return;const F=I();j({...F,...O,numeration_type:O.numeration_type??F.numeration_type??"correlativo"}),Le.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Sa,Jt,I,j,e]),g.useEffect(()=>{if(!Sa)return;const O=y(F=>{se.current&&window.clearTimeout(se.current),se.current=window.setTimeout(()=>{la(Jt,Pn(F))},400)});return()=>{O.unsubscribe(),se.current&&window.clearTimeout(se.current)}},[y,Sa,Jt]);const Qn=g.useMemo(()=>Object.keys(rt).length>0,[rt]),Wt=de&&!Ce&&(ae||w||Qn);g.useEffect(()=>{if(!Wt)return;const O=F=>{if(!le.current)return F.preventDefault(),F.returnValue="",""};return window.addEventListener("beforeunload",O),()=>window.removeEventListener("beforeunload",O)},[Wt]),ET(O=>{if(!Wt){O.retry();return}if(le.current){O.retry();return}if(O.location.pathname===s.pathname){O.retry();return}window.confirm(_T)&&O.retry()},Wt),g.useEffect(()=>{if(!Ne||!ae||Ce||!de)return;const O=()=>{if(le.current||Re.current)return;Re.current=!0;const he=On()?.token,Me=CT(`/oi/${Ne}/close`);fetch(Me,{method:"POST",headers:he?{Authorization:`Bearer ${he}`}:void 0,keepalive:!0}).catch(()=>{})},F=()=>{O()};return window.addEventListener("pagehide",F),()=>window.removeEventListener("pagehide",F)},[Ne,ae,Ce,de]);const Wn=y("pma"),tl=g.useMemo(()=>WR(Number(Wn)),[Wn]),qs=y("numeration_type")??"correlativo",br=async O=>{try{je(!0);const F=On();if(!F)throw new Error("Sesin no vlida");const he=F.bancoId;if(he==null)throw new Error("Debe seleccionar un banco para crear una OI.");const Me={code:O.oi,q3:Number(O.q3),alcance:Number(O.alcance),pma:Number(O.pma),banco_id:he,tech_number:F.techNumber,numeration_type:O.numeration_type??"correlativo"},S=await oT(Me);return nt(S.id),jt(S.updated_at??S.created_at),Zn(S.medidores_usuario??0),W(S.medidores_total_code??0),be(S.saved_at??null),Ie(S.created_at??null),to({id:S.id,code:S.code}),k(O),Be.current=!1,vn(zt(null)),vn(zt(S.id)),Ll(),R(null),e({kind:"success",title:"OI creada",message:`${S.code} (#${S.id})`}),!0}catch(F){return Dc(F)?(Be.current=!0,la(Jt,Pn(O)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):Wi(F)?(Be.current=!0,la(Jt,Pn(O)),!1):(e({kind:"error",title:"Error",message:F?.message??"Error creando OI"}),!1)}finally{je(!1)}},hs=async O=>{if(!Ne)return!1;if(Ce)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(je(!0),!Ne)throw new Error("No hay OI seleccionada para actualizar.");const F=O.oi?.trim(),he=O.numeration_type??"correlativo",Me=fe?.numeration_type??"correlativo",S=!fe||Number(O.q3)!==Number(fe.q3)||Number(O.alcance)!==Number(fe.alcance)||Number(O.pma)!==Number(fe.pma)||he!==Me,$=q&&!!F&&F!==(fe?.oi??""),Q=!$||S,ue=Ye=>{jt(Ye.updated_at??Ye.created_at),be(Ye.saved_at??null),Ie(Ye.created_at??null),Ye.code&&to({id:Ye.id,code:Ye.code}),H(Ye.locked_by_user_id??null),Te(Ye.locked_by_full_name??null),we(Ye.read_only_for_current_user??!1),xe((Ye.locked_by_user_id??null)===A)};let qe=null;if(Q){if(!Vt)throw new Error("No se pudo determinar la version actual de la OI. Recargue la pagina e intentelo de nuevo.");const Ye={q3:Number(O.q3),alcance:Number(O.alcance),pma:Number(O.pma),numeration_type:he,updated_at:Vt};qe=await rT(Ne,Ye),ue(qe)}if($&&F)try{const Ye=await lT(Ne,F);qe=Ye,ue(Ye)}catch(Ye){if(Dc(Ye)||Wi(Ye))throw Ye;const kt=Ye?.status??Ye?.response?.status;return e(kt===409?{kind:"error",title:"Conflicto",message:"Ya existe una OI con ese codigo."}:kt===403?{kind:"error",title:"No autorizado",message:"No autorizado."}:kt===422||kt===400?{kind:"error",title:"Formato",message:"Formato de OI invalido. Debe ser OI-####-YYYY."}:{kind:"error",title:"Error",message:Ye?.message??"Error actualizando OI"}),!1}return qe?(k({...O,oi:qe.code,numeration_type:he}),K(!1),Be.current=!1,vn(Jt),Ll(),R(null),e({kind:"success",title:"OI actualizada",message:qe.code??O.oi}),!0):(K(!1),Be.current=!1,vn(Jt),Ll(),R(null),e({kind:"success",title:"OI actualizada",message:O.oi}),!0)}catch(F){if(Dc(F))return Be.current=!0,la(Jt,Pn(O)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(Wi(F))return Be.current=!0,la(Jt,Pn(O)),!1;const he=F?.status??F?.response?.status;return e(he===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:F?.message??"Error actualizando OI"}),!1}finally{je(!1)}},vr=!!Ne&&w&&!Ce,yn=()=>He({}),yr=O=>{const F=$0(O);F&&He(he=>{if(!he[F])return he;const Me={...he};return delete Me[F],Me})},Is=()=>{if(Ce){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!Ne)return;yn(),C(!1);const O=Gn(Ne),F=O??Xt();tt(he=>({...he,[bt]:F})),Tn(Ne,F),O&&e({kind:"info",message:"Se restauro un borrador local."}),Hn(null),Fn(!0)},ps=O=>{if(Ce&&!ee){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}yn(),C(!1);const F=Xa(Ne,O.id);if(F){const he=Et(O);tt(Me=>({...Me,[he]:F})),e({kind:"info",message:"Se restauro un borrador local."})}Hn(O),Fn(!0)};g.useEffect(()=>{if(!Ne||Ht.current)return;const O=fE();if(O&&!(!A||_==null)&&!(O.userId!==A||O.bankId!==_)&&O.oiId===Ne){if(O.modal?.type==="bancada"){if(O.modal.isNew){Ht.current=!0,Hf(),Is();return}if(O.modal.bancadaId){const F=Bt.find(he=>he.id===O.modal?.bancadaId);if(!F)return;Ht.current=!0,Hf(),ps(F);return}}Ht.current=!0,Hf()}},[A,_,Bt,Ne,Is,ps]);const is=g.useMemo(()=>{const O=Et(ct),F=rt[O];if(F){const S=F.version??ct?.updated_at??ct?.created_at??null;return{...F,version:S}}if(!ct)return;const Me=I0(ct).map(vT);return{estado:ct.estado,rows:Me.length||ct.rows,rowsData:Me,version:ct.updated_at??ct.created_at??null}},[ct,rt]),nl=async O=>{if(Ne){if(Ce){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}yn(),C(!1);try{je(!0);const F=O.draftCreatedAt??rt[bt]?.draftCreatedAt,he={estado:Number(O.estado??0),rows:Number(O.rowsData.length),rows_data:O.rowsData.map(yT)};if(ct){const Me=O.version??ct.updated_at??ct.created_at??null;if(!Me)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const S={...he,updated_at:Me},$=await cT(ct.id,S);dn(Q=>Q.map(ue=>ue.id===$.id?$:ue)),jt($.updated_at??$.created_at??Vt),Zn(null),Mn(Ne,ct.id),tt(Q=>{const ue=`bancada-${ct.id}`,{[ue]:qe,...Ye}=Q;return Ye}),e({kind:"success",message:"Bancada actualizada"})}else{F&&(he.draft_created_at=F);const Me=await jy(Ne,he);dn(S=>[...S,Me]),jt(Me.updated_at??Me.created_at??Vt),Zn(null),tt(S=>{const{new:$,...Q}=S;return Q}),Tn(Ne,null),e({kind:"success",message:"Bancada agregada"})}try{const Me=await Jf(Ne);Zn(Me.medidores_usuario??null),W(Me.medidores_total_code??X),be(Me.saved_at??null),Ie(Me.created_at??null)}catch{}H(E?.userId??M),Te(E?.fullName??ke),xe(A!==null),we(!1),Fn(!1),Hn(null),Ll(),R(null),C(!1)}catch(F){if(Dc(F)){ct?ia(Ne,ct.id,O):Tn(Ne,O),C(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(Wi(F)){ct?ia(Ne,ct.id,O):Tn(Ne,O),C(!0);return}const he=F?.status??F?.response?.status;if(he===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(he===400){const Me=Array.isArray(F?.duplicates)?F.duplicates:Array.isArray(F?.response?.data?.duplicates)?F.response.data.duplicates:[];Me.length>0&&He(wT(Me)),e({kind:"warning",title:"Validacion",message:F?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:F?.message??"Error guardando bancada"})}finally{je(!1)}}},al=async O=>{if(confirm(`Eliminar bancada #${O.item}?`)){if(Ce){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(je(!0),!Ne)throw new Error("No hay OI cargada.");await wy(O.id),dn(he=>he.filter(Me=>Me.id!==O.id)),Zn(null),tt(he=>{const Me=`bancada-${O.id}`,{[Me]:S,...$}=he;return $}),Mn(Ne,O.id);const F=await Jf(Ne);jt(F.updated_at??F.created_at??null),be(F.saved_at??null),Ie(F.created_at??null),H(F.locked_by_user_id??null),Te(F.locked_by_full_name??null),we(F.read_only_for_current_user??!1),xe((F.locked_by_user_id??null)===A),Zn(F.medidores_usuario??null),W(F.medidores_total_code??X),e({kind:"success",message:`Bancada #${O.item} eliminada`})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error eliminando bancada"})}finally{je(!1)}}},Ja=()=>{if(!Ne){e({kind:"warning",message:"Primero guarda el OI."});return}Jn(!0)},ea=async O=>{if(Ne)try{je(!0),await q0(Ne,O),e({kind:"success",message:"Excel generado"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error generando Excel"})}finally{je(!1)}},xr=()=>{if(!Ne||!q)return;const O=me??ze;ve("oi"),De(null),Je(Ay(O)),Ue(!0)},gs=O=>{if(!q)return;ve("bancada"),De(O);const F=O.saved_at??O.created_at??me??ze;Je(Ay(F)),Ue(!0)},oa=async()=>{if(!Ne||!q)return;const O=jT($e);if(!O){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Pe==="bancada"&&!lt))try{je(!0),Pe==="oi"?await hT(Ne,{saved_at:O,propagate_to_bancadas:!0}):lt&&await uT(lt.id,{saved_at:O});const F=await Xf(Ne);if(dn(F.bancadas??[]),Zn(F.medidores_usuario??null),W(F.medidores_total_code??0),be(F.saved_at??null),Ie(F.created_at??null),jt(F.updated_at??F.created_at),Te(F.locked_by_full_name??null),H(F.locked_by_user_id??null),we(F.read_only_for_current_user??!1),xe((F.locked_by_user_id??null)===A),!w){const he={oi:F.code,q3:F.q3,alcance:F.alcance,pma:F.pma,numeration_type:F.numeration_type??"correlativo"};j(he),k(he)}Ue(!1),De(null),Je(""),ve("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error actualizando fecha"})}finally{je(!1)}},Nr=O=>{yn(),C(!1);const F=Et(ct);let he={...O};if(!ct){const Me=rt[bt];he.draftCreatedAt||(he.draftCreatedAt=Me?.draftCreatedAt??new Date().toISOString()),he.draftId||(he.draftId=Me?.draftId??fn())}tt(Me=>({...Me,[F]:he})),ct?ia(Ne,ct.id,he):Tn(Ne,he),Fn(!1)},ri=()=>{if(Ce){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const O=I();k({...O,numeration_type:O.numeration_type??"correlativo"}),K(!0)},bs=()=>{!Ne||de||_t("edit")},ja=()=>{fe&&j(fe),K(!1),Be.current=!1,vn(Jt),Ll(),R(null)},Da=()=>{Ne&&(Tn(Ne,null),Object.keys(rt).forEach(O=>{if(!O.startsWith("bancada-"))return;const F=Number(O.replace("bancada-",""));Number.isFinite(F)&&Mn(Ne,F)})),vn(zt(Ne)),vn(zt(null)),cE(),Be.current=!1,C(!1),Ll(),R(null),Dm(),n0(),nt(null),dn([]),P.current=[],tt({}),K(!1),k(null),jt(null),be(null),Ie(null),we(!1),Te(null),H(null),xe(!1),Zn(null),W(0),Fn(!1),Hn(null),Jn(!1),Ue(!1),Ae(!1),Je(""),De(null),ve("bancada"),j({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Sr=()=>{Re.current=!0,le.current=!0,Da(),a(Pt())},Wa=async()=>{if(!Ne)return!0;const O=P.current??[];if(O.length===0&&Bt.length===0)return!0;const F=new Map(O.map(Me=>[Me.id,Me])),he=new Map(Bt.map(Me=>[Me.id,Me]));try{for(const $ of Bt)F.has($.id)||await wy($.id);for(const $ of Bt){const Q=F.get($.id);if(!Q||Ey(Q)===Ey($))continue;const ue=Cy(Q),qe=ue.length||Q.rows||1,Ye=$.updated_at??$.created_at??Q.updated_at??Q.created_at;if(!Ye)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await dT($.id,{medidor:Q.medidor??null,estado:Q.estado??0,rows:qe,rows_data:ue,current_updated_at:Ye,restore_updated_at:Q.updated_at??null,restore_saved_at:Q.saved_at??null})}for(const $ of O)if(!he.has($.id)){const Q=Cy($),ue=Q.length||$.rows||1;await jy(Ne,{estado:$.estado??0,rows:ue,rows_data:Q})}const Me=await Jf(Ne),S=Me.updated_at??Me.created_at;await iT(Ne,{current_updated_at:S,restore_updated_at:Z.current})}catch(Me){return e({kind:"error",title:"Error",message:Me?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},ca=()=>{Ee||Ae(!0)},sl=async()=>{if(!Ee){Ae(!1),je(!0);try{if(!await Wa())return;Ne&&ae&&await Tc(Ne,"cancel")}catch{}finally{je(!1)}Re.current=!0,le.current=!0,Da(),e({kind:"info",message:"Edicion cancelada"}),a(Pt())}},jr=async()=>{if(Ee)return;Ae(!1);let O=!0;if((w||!Ne)&&(O=!1,await p(async he=>{O=Ne?await hs(he):await br(he)})()),!!O){je(!0);try{Ne&&ae&&await Tc(Ne)}catch{}finally{je(!1)}Re.current=!0,le.current=!0,Da(),e({kind:"info",message:"Cambios guardados"}),a(Pt())}},rl=async()=>{if(!Ee){je(!0);try{Ne&&ae&&await Tc(Ne)}catch{}finally{je(!1)}Re.current=!0,le.current=!0,Da(),e({kind:"info",message:"OI cerrada"}),a(Pt())}},xn=g.useMemo(()=>xT(Bt),[Bt]),ta=Vn??xn,vs=O=>{if(!O)return"-";const he=/([zZ]|[+-]\d{2}:?\d{2})$/.test(O)?O:`${O}Z`,Me=new Date(he);return Number.isNaN(Me.getTime())?O:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(Me)},ua=ct?Ka(Ne,ct.id):bn(Ne),Un=A&&_!=null&&Ne?{userId:A,bankId:_,oiId:Ne,bancadaId:ct?.id??null,isNew:!ct,returnTo:Ct(Ne),oiCode:I("oi")??null}:null;return l.jsxs("div",{className:"oi-page vi-oi-light",children:[l.jsx(ni,{show:Ee}),!f&&l.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),Y&&l.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[l.jsx("h1",{className:"h3",children:"Formulario OI"}),l.jsxs("div",{className:"d-flex gap-2",children:[Ne&&q&&l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:xr,disabled:Ee,children:"Editar fecha guardado"}),Ne&&ee&&l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:bs,disabled:Ee,children:"Editar"})]})]}),Ce&&l.jsx("div",{className:"alert alert-warning mt-2",children:ee?"Modo lectura. Use Editar para modificar.":ke?`Esta OI est siendo editada por ${ke}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),l.jsxs("form",{onSubmit:p(vr?hs:br),className:`row g-3 mt-1 ${vr?"vi-form-editing":"vi-form-readonly"}`,children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),l.jsx("input",{id:"oi",className:`form-control ${Ne&&!(q&&w&&!Ce)?"vi-locked":""}`,...v("oi"),disabled:Ne?!(q&&w&&!Ce):!1}),x.oi&&l.jsx("div",{className:"text-danger small",children:x.oi.message}),q?null:l.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el codigo de OI."})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),l.jsx("select",{id:"q3",className:"form-select",...v("q3",{valueAsNumber:!0}),disabled:!!Ne&&!w||Ce,children:h?.q3.map(O=>l.jsx("option",{value:O,children:O},O))})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),l.jsx("select",{id:"alcance",className:"form-select",...v("alcance",{valueAsNumber:!0}),disabled:!!Ne&&!w||Ce,children:h?.alcance.map(O=>l.jsx("option",{value:O,children:O},O))})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),l.jsx("select",{id:"pma",className:"form-select",...v("pma",{valueAsNumber:!0}),disabled:!!Ne&&!w||Ce,children:h?.pma.map(O=>l.jsx("option",{value:O,children:O},O))}),l.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),l.jsx("input",{id:"presion",className:"form-control",value:isNaN(tl)?"":tl,disabled:!0})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),l.jsxs("select",{id:"numeration_type",className:"form-select",...v("numeration_type"),disabled:!!Ne&&!w||Ce,children:[l.jsx("option",{value:"correlativo",children:"Correlativo"}),l.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),l.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),l.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[l.jsx("button",{className:"btn btn-primary",disabled:Ee||!!Ne&&(!w||Ce),children:Ne?vr?"Guardar cambios":"OI guardada":"Guardar OI"}),Ne&&!w&&de&&l.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:ri,disabled:Ee||Ce,children:"Editar OI"}),Ne&&w&&de&&l.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:ja,disabled:Ee,children:"Cancelar edicion"}),ee&&l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:Sr,disabled:Ee,children:"Volver al listado"}),l.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:Ja,disabled:!Ne||Ee||w,children:"Generar Excel"}),de&&l.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:rl,disabled:!Ne||w||Ee,children:"Cerrar OI"}),de&&l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:ca,disabled:Ee,children:"Cancelar"})]})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{className:"card vi-card-table mt-3",children:[l.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),l.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",ta," | Total OI: ",X]})]}),l.jsx("button",{className:"btn btn-primary",onClick:Is,disabled:!Ne||Ee||w||Ce,children:"Agregar Bancada"})]}),l.jsx("div",{className:"card-body p-0",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"vi-col-60",children:"Item"}),l.jsx("th",{children:"# Medidor"}),l.jsx("th",{children:"Medidores"}),l.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),l.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),l.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),l.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[Bt.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),Bt.map(O=>{const F=O.rows_data?.[0]?.medidor||O.medidor||"",he=O.rows_data?.[(O.rows_data?.length||0)-1]?.medidor||"",Me=F&&he&&F!==he?`${F} ... ${he}`:F;return l.jsxs("tr",{children:[l.jsx("td",{children:O.item}),l.jsx("td",{children:Me}),l.jsx("td",{children:O.rows}),l.jsx("td",{children:vs(O.created_at)}),l.jsx("td",{children:vs(O.saved_at)}),l.jsx("td",{children:vs(O.updated_at??O.created_at)}),l.jsxs("td",{className:"text-end",children:[q?l.jsx("button",{className:"btn btn-sm btn-outline-auto me-2",onClick:()=>gs(O),disabled:Ee||w||ie,"aria-label":`Editar fecha guardado bancada #${O.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>ps(O),disabled:Ee||w||!ee&&Ce,"aria-label":`${ee?"Ver":"Editar"} bancada #${O.item}`,title:ee?"Ver":"Editar",children:ee?"Ver":"Editar"}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>al(O),disabled:Ee||w||Ce,"aria-label":`Eliminar bancada #${O.item}`,title:"Eliminar",children:""})]})]},O.id)})]})]})})})]}),$n&&l.jsx(sT,{show:$n,title:ct?`Editar bancada #${ct.item}`:"Nueva bancada",initial:is,onClose:()=>{yn(),Fn(!1)},onSubmit:nl,onCancelWithDraft:Nr,numerationType:qs,readOnly:Ce,duplicateMap:Oe,onClearDuplicate:yr,draftStorageKey:ua,draftMeta:Un,isOnline:f,showRetry:We}),Ze&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:O=>{O.target===O.currentTarget&&Ae(!1)},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Ae(!1)})]}),l.jsx("div",{className:"modal-body",children:l.jsx("p",{children:"Estas seguro de descartar cambios?"})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:sl,disabled:Ee,children:"Descartar cambios"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:jr,disabled:Ee,children:"Guardar cambios y volver al listado"})]})]})})}),pe&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:O=>{O.target===O.currentTarget&&(Ue(!1),De(null),ve("bancada"))},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:O=>{O.preventDefault(),oa()},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{Ue(!1),De(null),ve("bancada")}})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),l.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:$e,onChange:O=>Je(O.target.value),required:!0}),l.jsx("div",{className:"form-text",children:Pe==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>{Ue(!1),De(null),ve("bancada")},children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ee||!$e,children:"Guardar"})]})]})})}),l.jsx(xu,{show:kn,title:"Contrasea para proteger Excel",onClose:()=>Jn(!1),onConfirm:O=>{Jn(!1),ea(O)}})]})}function OT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e==="/logistica/log01/history"?"logistica_history":e==="/logistica/log01/excel"?"logistica":e==="/logistica/log02/pdfs"?"logistica_pdfs":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function RT(){const e=On(),a=ra(),s=e?.token??null,[i,c]=g.useState(()=>!!s);if(g.useEffect(()=>{if(!s){c(!1);return}let j=!1;return c(!0),Ke.get("/auth/me").then(()=>{j||c(!1)}).catch(async I=>{if(j)return;if(I?.response?.status===401){await l0();return}c(!1)}),()=>{j=!0}},[s]),!s)return l.jsx(mr,{to:"/login",replace:!0});if(i)return l.jsx(ni,{show:!0});const d=e,f=Za(d.role,d.username),h=ih(d),v=Pl(f),p=ro(),y=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(v&&y&&!(p&&p>0)&&a.pathname!=="/home")return l.jsx(mr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return l.jsx(mr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(f==="admin"||f==="administrator"))return l.jsx(mr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const j=OT(a.pathname),I=d.allowedModules;if(j&&Array.isArray(I)&&!I.includes(j))return l.jsx(mr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return l.jsx(Yy,{})}const TT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),DT=.9;function bh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*DT}rem)`}}function ga({to:e,icon:a,label:s,depth:i,collapsed:c}){return l.jsx("li",{className:"vi-sidebar-item",children:l.jsxs(ex,{to:e,end:!0,className:TT,style:bh(i,c),title:s,"aria-label":s,children:[l.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function Ry({icon:e,label:a,depth:s,collapsed:i}){return l.jsx("li",{className:"vi-sidebar-item",children:l.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:bh(s,i),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[l.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function qr({groupKey:e,icon:a,label:s,depth:i,collapsed:c,open:d,active:f,onToggle:h,children:v}){const p=`sidebar-group-${e}`,y=d?"ti-angle-down":"ti-angle-right";return l.jsxs("li",{className:"vi-sidebar-item",children:[l.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(f?" active":""),style:bh(i,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[l.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:l.jsx("i",{className:`ti ${y}`})})]}),!c&&d&&l.jsx("ul",{id:p,className:"list-unstyled mb-0",children:v})]})}function zT({collapsed:e,onToggleSidebar:a}){const s=ra(),i=On(),c=!!i,d=Za(i?.role,i?.username),f=ih(i),h=d==="admin"||d==="administrator",v=i?.allowedModules,p=xe=>f||!Array.isArray(v)||v.includes(xe),y=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),j=c&&p("tools_historial_ac"),I=c&&p("tools_consol_correlativo"),E=c&&p("tools_consol_no_correlativo"),A=c&&p("oi_formulario"),_=c&&p("oi_listado"),q=c&&h&&p("users_admin"),D=c&&p("future_ot"),J=c&&p("logistica"),U=c&&p("logistica_history"),T=c&&p("logistica_pdfs"),G=J||U||T,L=c&&p("future_smart"),ee=I||E,de=y||x||j,Ee=A||_||D,je=de||Ee||ee,ie=g.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[we,ke]=g.useState(()=>{const xe=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!xe)return ie;try{const Ce=JSON.parse(xe),w={...ie};return Object.keys(w).forEach(K=>{typeof Ce[K]=="boolean"&&(w[K]=Ce[K])}),w}catch{return ie}}),Te=s.pathname;g.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(we))},[we]);const M=g.useMemo(()=>{const xe=Ce=>!!ao({path:Ce,end:!0},Te);return{vimaToLista:xe("/oi/tools/vima-to-lista"),actualizacionBases:xe("/oi/tools/actualizacion-base"),formatoAcHistory:xe("/oi/tools/formato-ac/history"),consolidacionCorrelativo:xe("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:xe("/oi/tools/consolidacion/no-correlativo"),registroOi:xe("/oi"),listadoOi:xe("/oi/list"),users:xe("/users"),password:xe("/password"),permisos:xe("/admin/permisos"),log01Excel:xe("/logistica/log01/excel"),log01History:xe("/logistica/log01/history"),log02Pdfs:xe("/logistica/log02/pdfs")}},[Te]),H=g.useMemo(()=>({oi_consolidacion:M.consolidacionCorrelativo||M.consolidacionNoCorrelativo,oi_formato_ac:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory,oi_verificacion:M.registroOi||M.listadoOi,oi:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory||M.consolidacionCorrelativo||M.consolidacionNoCorrelativo||M.registroOi||M.listadoOi,usuarios:M.users||M.password,logistica:M.log01Excel||M.log01History||M.log02Pdfs,administrar:M.permisos}),[M]);function ae(xe){ke(Ce=>({...Ce,[xe]:!Ce[xe]}))}return l.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[l.jsxs("div",{className:"vi-sidebar__header",children:[l.jsxs("div",{className:"vi-sidebar__brand",children:[l.jsx("img",{className:"vi-brand-logo",src:"/medileser/loading.png",alt:"Medileser",draggable:!1}),l.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&l.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:l.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),l.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&l.jsx(ga,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),je&&l.jsxs(qr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:we.oi,active:H.oi,onToggle:ae,children:[de&&l.jsxs(qr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:we.oi_formato_ac,active:H.oi_formato_ac,onToggle:ae,children:[y&&l.jsx(ga,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&l.jsx(ga,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),j&&l.jsx(ga,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),ee&&l.jsxs(qr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:we.oi_consolidacion,active:H.oi_consolidacion,onToggle:ae,children:[I&&l.jsx(ga,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),E&&l.jsx(ga,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),Ee&&l.jsxs(qr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:we.oi_verificacion,active:H.oi_verificacion,onToggle:ae,children:[D&&l.jsx(Ry,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),A&&l.jsx(ga,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),_&&l.jsx(ga,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),G&&l.jsxs(qr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:we.logistica,active:H.logistica,onToggle:ae,children:[J&&l.jsx(ga,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacion Excel",depth:1,collapsed:e}),U&&l.jsx(ga,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e}),T&&l.jsx(ga,{to:"/logistica/log02/pdfs",icon:"ti-filter",label:"Filtrado de Cert.PDFs",depth:1,collapsed:e})]}),L&&l.jsx(Ry,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),l.jsxs(qr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:we.usuarios,active:H.usuarios,onToggle:ae,children:[q&&l.jsx(ga,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&l.jsx(ga,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),f&&l.jsx(qr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:we.administrar,active:H.administrar,onToggle:ae,children:l.jsx(ga,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function kT({sidebarCollapsed:e,onToggleSidebar:a}){const s=On(),i=s?.username??s?.user??"",c=s?Pl(s.role):!1,[d,f]=g.useState(()=>ro());g.useEffect(()=>OE(()=>f(ro())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",v=async()=>{try{await DE()}finally{location.assign("/login")}};return l.jsxs("header",{className:"navbar navbar-expand vi-surface border-bottom vi-border sticky-top vi-topbar px-3",children:[a&&l.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:l.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),l.jsx("div",{className:"me-auto"}),l.jsxs("div",{className:"d-flex align-items-center gap-3",children:[l.jsx(h0,{}),s&&l.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",l.jsx("strong",{children:i||"?"}),c&&l.jsxs(l.Fragment,{children:["  ",h,s.techNumber?l.jsxs(l.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&l.jsx("button",{className:"btn btn-sm btn-outline-auto",onClick:v,children:"Cerrar sesin"})]})]})}function MT(){const a=ra().pathname==="/home",[s,i]=g.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>i(d=>!d);return g.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),l.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[l.jsx(zT,{collapsed:s,onToggleSidebar:c}),l.jsxs("div",{className:"vi-main",children:[l.jsx(kT,{sidebarCollapsed:s,onToggleSidebar:c}),l.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:l.jsx(Yy,{})})]})]})}function UT(){const{toast:e}=Jr(),a=Xr(),s=ra(),[,i]=nx(),[c,d]=g.useState(()=>new URLSearchParams(s.search).get("q")??""),[f,h]=g.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[v,p]=g.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[y,x]=g.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[j,I]=g.useState(()=>{const se=new URLSearchParams(s.search).get("pageSize"),Le=se?Number(se):20;return Number.isFinite(Le)&&Le>0?Le:20}),[E,A]=g.useState(()=>{const se=new URLSearchParams(s.search).get("page"),Le=se?Number(se):1;return Number.isFinite(Le)&&Le>0?Math.floor(Le):1}),[_,q]=g.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),D=(E-1)*j,J=g.useRef(!1);g.useEffect(()=>{if(!J.current){J.current=!0;return}const se=setTimeout(()=>{h(c.trim()),A(1)},300);return()=>clearTimeout(se)},[c]),g.useEffect(()=>{const se=new URLSearchParams,Le=c.trim();Le&&se.set("q",Le),v&&se.set("dateFrom",v),y&&se.set("dateTo",y),_&&se.set("responsableTech",_),E!==1&&se.set("page",String(E)),j!==20&&se.set("pageSize",String(j));const Ve=s.search.startsWith("?")?s.search.slice(1):s.search;se.toString()!==Ve&&i(se,{replace:!0})},[v,y,s.search,E,j,_,c,i]);const{data:U,isLoading:T,isError:G,error:L,refetch:ee,isFetching:de}=Gr({queryKey:["oi","list",{search:f,dateFrom:v,dateTo:y,responsableTech:_,pageSize:j,offset:D}],queryFn:()=>pT({q:f||void 0,dateFrom:v||void 0,dateTo:y||void 0,responsableTechNumber:_?Number(_):void 0,limit:j,offset:D}),placeholderData:se=>se}),Ee=On(),je=Za(Ee?.role,Ee?.username)!=="technician",{data:ie=[],isFetching:we,isError:ke,error:Te}=Gr({queryKey:["oi","responsables"],queryFn:bT,enabled:je,staleTime:6e4,retry:!1}),M=ke?Te?.message??"No se pudo cargar responsables":"",H=se=>{if(!se)return"-";const Le=se.endsWith("Z")?se:`${se}Z`,Ve=new Date(Le),it=Ht=>Ht.toString().padStart(2,"0");return`${it(Ve.getDate())}/${it(Ve.getMonth()+1)}/${Ve.getFullYear()} ${it(Ve.getHours())}:${it(Ve.getMinutes())}`},xe=U?.items??[],Ce=U?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},w=U?.total??0,K=U?.limit??j,fe=K>0?Math.ceil(w/K):1,k=10;let me=1,be=fe;if(fe>k){const se=Math.floor(k/2);me=Math.max(1,E-se),be=me+k-1,be>fe&&(be=fe,me=Math.max(1,be-k+1))}const[ze,Ie]=g.useState(!1),[pe,Ue]=g.useState(null),[$e,Je]=g.useState(!1),[lt,De]=g.useState(!1),Pe=T||de||$e||lt,ve=()=>`${s.pathname}${s.search}`,Ze=(se,Le)=>{try{to({id:se,code:Le}),e({kind:"success",message:`OI ${Le} cargada`}),a(`/oi/${se}?mode=view`,{state:{returnTo:ve()}})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo abrir el OI"})}},Ae=(se,Le)=>{try{to({id:se,code:Le}),e({kind:"success",message:`OI ${Le} cargada`}),a(`/oi/${se}?mode=edit`,{state:{returnTo:ve()}})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo abrir el OI"})}},We=async()=>{try{await yo()}finally{Dm(),a("/oi?mode=edit",{state:{returnTo:ve()}})}},C=async(se,Le)=>{if(confirm(`Ests seguro de ELIMINAR la ${Le}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await fT(se),e({kind:"success",title:"Eliminado",message:`Se elimin ${Le} correctamente.`}),ee()}catch(Ve){e({kind:"error",title:"Error",message:Ve.message||"No se pudo eliminar la OI"})}},Y=se=>{Ue(se),Ie(!0)},R=async se=>{if(pe)try{Je(!0),await q0(pe,se),e({kind:"success",message:"Excel generado"})}catch(Le){e({kind:"error",title:"Error",message:Le?.message??"No se pudo generar el Excel"})}finally{Je(!1)}},P=async()=>{try{De(!0);const{blob:se,filename:Le}=await gT({q:f||void 0,dateFrom:v||void 0,dateTo:y||void 0,responsableTechNumber:_?Number(_):void 0}),Ve=URL.createObjectURL(se),it=document.createElement("a");it.href=Ve,it.download=Le,document.body.appendChild(it),it.click(),URL.revokeObjectURL(Ve),it.remove()}catch(se){const Le=se?.status,Ve=se?.message??"No se pudo exportar el CSV";e(Le===403?{kind:"error",title:"No autorizado",message:Ve}:{kind:"error",title:"Error",message:Ve})}finally{De(!1)}},Z=()=>{d(""),h(""),p(""),x(""),A(1),q("")},le=w===0?0:D+1,Re=w===0?0:Math.min(D+xe.length,w),Be=w===0?"0 registros":`Mostrando ${le}-${Re} de ${w} registros`;return l.jsxs("div",{children:[l.jsx(ni,{show:Pe}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[l.jsxs("div",{className:"d-flex align-items-center gap-2",children:[l.jsx("button",{className:"btn btn-primary",onClick:We,disabled:Pe,title:"Nueva OI",children:"Nueva OI"}),l.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),l.jsxs("div",{className:"d-flex gap-2",children:[je&&l.jsx("button",{className:"btn btn-outline-auto",onClick:P,disabled:Pe,children:lt?"Exportando...":"Exportar CSV"}),l.jsx("button",{className:"btn btn-outline-auto",onClick:Z,disabled:Pe,children:"Limpiar filtros"}),l.jsx("button",{className:"btn btn-outline-auto",onClick:()=>ee(),disabled:Pe,children:"Recargar"})]})]}),G&&l.jsx("div",{className:"alert alert-danger",children:L?.message??"Error cargando listado"}),l.jsxs("div",{className:"card vi-card-table",children:[l.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"h6 mb-0",children:"Registros"}),l.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",Ce.medidores_resultado," | OI unicas: ",Ce.oi_unicas," | Medidores (Total OI): ",Ce.medidores_total_oi_unicas]})]}),l.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:se=>{d(se.target.value),A(1)},"aria-label":"Buscar por codigo de OI o medidor"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:se=>{p(se.target.value),A(1)},"aria-label":"Filtrar desde fecha"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:se=>{x(se.target.value),A(1)},"aria-label":"Filtrar hasta fecha"}),je&&l.jsxs("div",{className:"d-flex flex-column",children:[l.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:se=>{q(se.target.value),A(1)},disabled:Pe||we,"aria-label":"Filtrar por responsable",title:"Responsable",children:[l.jsx("option",{value:"",children:"Responsable: Todos"}),ie.map(se=>l.jsx("option",{value:String(se.tech_number),children:se.full_name},se.tech_number))]}),M?l.jsx("small",{className:"text-danger",children:M}):null]}),l.jsxs("div",{className:"d-flex align-items-center",children:[l.jsx("span",{className:"me-1 small",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:j,onChange:se=>{const Le=Number(se.target.value)||20;I(Le),A(1)},"aria-label":"Registros por pgina",children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"})]})]})]})]}),l.jsxs("div",{className:"card-body p-0",children:[l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"ID"}),l.jsx("th",{children:"OI"}),l.jsx("th",{children:"Medidores"}),l.jsx("th",{children:"Q3"}),l.jsx("th",{children:"Alcance"}),l.jsx("th",{children:"PMA"}),l.jsx("th",{children:"Banco"}),l.jsx("th",{children:"Tcnico"}),l.jsx("th",{children:"Responsable"}),l.jsx("th",{children:"Creacin"}),l.jsx("th",{children:"Guardado"}),l.jsx("th",{children:"lt. mod."}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[!Pe&&xe.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:w>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),xe.map(se=>l.jsxs("tr",{children:[l.jsx("td",{children:se.id}),l.jsx("td",{children:se.code}),l.jsx("td",{title:"Mi registro / Total OI",children:`${se.medidores_usuario??0} / ${se.medidores_total_code??0}`}),l.jsx("td",{children:se.q3}),l.jsx("td",{children:se.alcance}),l.jsx("td",{children:se.pma}),l.jsx("td",{children:se.banco_id}),l.jsx("td",{children:se.tech_number}),l.jsx("td",{children:se.creator_name}),l.jsx("td",{children:H(se.created_at)}),l.jsx("td",{children:H(se.saved_at)}),l.jsx("td",{children:H(se.updated_at)}),l.jsxs("td",{className:"text-end",children:[l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ze(se.id,se.code),disabled:Pe,title:"Ver OI","aria-label":`Ver OI ${se.code}`,children:"Ver"}),l.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>Ae(se.id,se.code),disabled:Pe,title:"Editar OI","aria-label":`Editar OI ${se.code}`,children:"Editar"}),l.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>Y(se.id),disabled:Pe,title:"Descargar Excel","aria-label":`Descargar Excel ${se.code}`,children:"Excel"}),je&&l.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>C(se.id,se.code),disabled:Pe,title:"Eliminar OI (Solo Admin)",children:""})]})]},se.id))]})]})}),fe>1&&l.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${E===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(se=>Math.max(1,se-1)),disabled:E===1,children:""})}),Array.from({length:be-me+1},(se,Le)=>{const Ve=me+Le;return l.jsx("li",{className:`page-item ${Ve===E?"active":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(Ve),children:Ve})},Ve)}),l.jsx("li",{className:`page-item ${E===fe?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(se=>Math.min(fe,se+1)),disabled:E===fe,children:"Siguiente"})})]})})]})]}),l.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:l.jsx("small",{className:"text-muted",children:Be})}),l.jsx(xu,{show:ze,title:"Contrasea para proteger Excel",onClose:()=>{Ie(!1),Ue(null)},onConfirm:se=>{Ie(!1),R(se)}})]})}async function LT(e){return(await Ke.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function BT(){const{toast:e}=Jr(),a=On(),s=Za(a?.role,a?.username),i=s==="admin"||s==="administrator",c=ih(a),[d,f]=g.useState(!1),[h,v]=g.useState(null),[p,y]=g.useState(!1),[x,j]=g.useState(""),[I,E]=g.useState(""),[A,_]=g.useState(""),[q,D]=g.useState(20),[J,U]=g.useState(1),T=(J-1)*q,G=g.useRef(!1);g.useEffect(()=>{if(!G.current){G.current=!0;return}const Ae=setTimeout(()=>{E(x.trim()),U(1)},250);return()=>clearTimeout(Ae)},[x]);const{data:L,refetch:ee,isLoading:de,isFetching:Ee,error:je}=Gr({queryKey:["users",{search:I,roleFilter:A,pageSize:q,offset:T}],queryFn:()=>LT({q:I||void 0,role:A||void 0,limit:q,offset:T}),enabled:i,placeholderData:Ae=>Ae}),{register:ie,handleSubmit:we,reset:ke}=su(),Te=()=>{v(null),ke({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),f(!0)},M=Ae=>{v(Ae),ke({username:Ae.username,password:"",first_name:Ae.first_name,last_name:Ae.last_name,role:Za(Ae.role,Ae.username),tech_number:Ae.tech_number}),f(!0)},H=()=>{f(!1),v(null),ke()},ae=async Ae=>{try{y(!0),await Ke.post("/auth/users",{...Ae,tech_number:Number(Ae.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),H(),ee()}catch(We){e({kind:"error",title:"Error",message:We.response?.data?.detail||"Error al crear"})}finally{y(!1)}},xe=async Ae=>{if(!h)return;const We=String(Ae.password||"").trim();try{if(y(!0),c){const C={username:String(Ae.username||"").trim(),first_name:String(Ae.first_name||"").trim(),last_name:String(Ae.last_name||"").trim(),role:Ae.role,tech_number:Number(Ae.tech_number)};We&&(C.password=We),await Ke.put(`/auth/users/${h.id}`,C),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!We){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Ke.put(`/auth/users/${h.id}/password`,{new_password:We}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}H(),ee()}catch(C){const Y=C?.response?.data?.detail||C?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:Y})}finally{y(!1)}},Ce=async Ae=>{if(confirm(`Eliminar usuario? ${Ae.username}?
Esto solo es posible si no tiene registros.`))try{y(!0),await Ke.delete(`/auth/users/${Ae.id}`),e({kind:"success",message:"Usuario eliminado"}),ee()}catch(We){e({kind:"error",title:"No se puede eliminar",message:We.response?.data?.detail||We.message})}finally{y(!1)}},w=g.useMemo(()=>L?.items??[],[L]),K=L?.total??0,fe=L?.limit??q,k=fe>0?Math.ceil(K/fe):1,me=10;let be=1,ze=k;if(k>me){const Ae=Math.floor(me/2);be=Math.max(1,J-Ae),ze=be+me-1,ze>k&&(ze=k,be=Math.max(1,ze-me+1))}const Ie=K===0?0:T+1,pe=K===0?0:Math.min(T+w.length,K),Ue=K===0?"0 registros":`Mostrando ${Ie}-${pe} de ${K} registros`,$e=de||Ee||p,Je=()=>{j(""),E(""),_(""),U(1),D(20)},lt=!!h,De=lt&&!c,Pe=!lt||!c,ve=(h?.username??"").toLowerCase()==="admin",Ze=lt?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return i?l.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[l.jsx(ni,{show:$e}),l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[l.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),l.jsx("button",{className:"btn btn-primary",onClick:Te,disabled:$e,children:"+ Nuevo Usuario"})]}),l.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[l.jsxs("div",{style:{minWidth:260},children:[l.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:Ae=>{j(Ae.target.value),U(1)}})]}),l.jsxs("div",{style:{minWidth:220},children:[l.jsx("label",{className:"form-label small mb-1",children:"Rol"}),l.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:Ae=>{_(Ae.target.value),U(1)},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"admin",children:"admin"}),l.jsx("option",{value:"administrator",children:"administrator"}),l.jsx("option",{value:"technician",children:"technician"}),l.jsx("option",{value:"standard",children:"standard"}),l.jsx("option",{value:"user",children:"user (legacy)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:q,onChange:Ae=>{const We=Number(Ae.target.value)||20;D(We),U(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Je,disabled:$e,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>ee(),disabled:$e,children:"Recargar"})]})]}),je?l.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,l.jsx("div",{className:"card shadow-sm",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover align-middle mb-0",children:[l.jsx("thead",{className:"vi-surface-2",children:l.jsxs("tr",{children:[l.jsx("th",{children:"Usuario"}),l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Rol"}),l.jsx("th",{children:"N Tcnico"}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[w.map(Ae=>l.jsxs("tr",{children:[l.jsx("td",{className:"fw-bold",children:Ae.username}),l.jsxs("td",{children:[Ae.first_name," ",Ae.last_name]}),l.jsx("td",{children:(()=>{const We=Za(Ae.role,Ae.username),C=Ae.username.toLowerCase()==="admin"?"Superusuario":We==="administrator"?"Administrador":We==="technician"?"Tcnico":"Estndar",Y=Ae.username.toLowerCase()==="admin"?"bg-danger":We==="administrator"?"bg-warning vi-text-contrast":We==="technician"?"bg-info vi-text-contrast":"bg-secondary";return l.jsx("span",{className:`badge ${Y}`,children:C})})()}),l.jsx("td",{children:Ae.tech_number}),l.jsxs("td",{className:"text-end",children:[l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${Ae.username}`,disabled:$e||Ae.username==="admin"||!c&&Za(Ae.role,Ae.username)==="administrator",onClick:()=>M(Ae),children:l.jsx("i",{className:"ti ti-edit"})}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${Ae.username}`,disabled:$e||Ae.username==="admin"||!c&&Za(Ae.role,Ae.username)==="administrator",onClick:()=>Ce(Ae),children:l.jsx("i",{className:"ti ti-trash"})})]})]},Ae.id)),w.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),k>1&&l.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${J===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>U(Ae=>Math.max(1,Ae-1)),disabled:J===1,children:"Anterior"})}),Array.from({length:ze-be+1},(Ae,We)=>{const C=be+We;return l.jsx("li",{className:`page-item ${C===J?"active":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>U(C),children:C})},C)}),l.jsx("li",{className:`page-item ${J===k?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>U(Ae=>Math.min(k,Ae+1)),disabled:J===k,children:"Siguiente"})})]})}),l.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:l.jsx("small",{className:"text-muted",children:Ue})}),d&&l.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:we(lt?xe:ae),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:lt?"Actualizar Usuario":"Nuevo Usuario"}),l.jsx("button",{type:"button",className:"btn-close",onClick:H})]}),l.jsxs("div",{className:"modal-body row g-3",children:[l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Usuario"}),l.jsx("input",{className:"form-control",disabled:De,...ie("username",{required:!0})})]}),l.jsx("div",{className:"col-6",children:l.jsx(lo,{label:"Contrasea",...ie("password",{required:Pe}),autoComplete:"new-password",helpText:Ze})}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Nombre"}),l.jsx("input",{className:"form-control",disabled:De,...ie("first_name",{required:!0})})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Apellido"}),l.jsx("input",{className:"form-control",disabled:De,...ie("last_name",{required:!0})})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Rol"}),l.jsxs("select",{className:"form-select",disabled:De,...ie("role"),children:[ve?l.jsx("option",{value:"admin",children:"Superusuario"}):null,l.jsx("option",{value:"technician",children:"Tecnico"}),l.jsx("option",{value:"standard",children:"Estandar"}),c?l.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"N Tecnico"}),l.jsx("input",{type:"number",className:"form-control",disabled:De,...ie("tech_number",{required:!0})}),l.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:H,disabled:$e,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:$e,children:lt?"Actualizar":"Guardar"})]})]})})})]}):l.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function qT(){const{toast:e}=Jr(),[a,s]=g.useState(""),[i,c]=g.useState(""),[d,f]=g.useState(!1),h=a.trim().length>0&&i.trim().length>0,v=async p=>{if(p.preventDefault(),!!h)try{f(!0),await RE(a.trim(),i.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(y){e({kind:"error",title:"Error",message:y?.message??"No se pudo cambiar la contrasea"})}finally{f(!1)}};return l.jsx("div",{className:"container py-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"card shadow-sm",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),l.jsxs("form",{onSubmit:v,children:[l.jsxs("div",{className:"card-body",children:[l.jsx("div",{className:"mb-3",children:l.jsx(lo,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),l.jsx("div",{className:"mb-3",children:l.jsx(lo,{label:"Nueva contrasea",inputId:"newPwd",value:i,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),l.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function IT(e){return(await Ke.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function $T(e,a){const{data:s}=await Ke.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const zm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"logistica_history",label:"Historial de consolidaciones",path:"/logistica/log01/history"},{id:"logistica_pdfs",label:"Filtrado de Cert.PDFs",path:"/logistica/log02/pdfs"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],Ty=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica","logistica_history","logistica_pdfs"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function Dy(e){const a=new Set(zm.map(c=>c.id)),s=new Set,i=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),i.push(d))}return i}const zy="admin_permisos:collapsed_groups";function FT(){const e=Qm(),{toast:a}=Jr(),[s,i]=g.useState(""),[c,d]=g.useState(""),[f,h]=g.useState(""),[v,p]=g.useState(20),[y,x]=g.useState(1),j=(y-1)*v,I=g.useRef(!1);g.useEffect(()=>{if(!I.current){I.current=!0;return}const k=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(k)},[s]);const{data:E,isLoading:A,error:_,refetch:q}=Gr({queryKey:["admin","permisos",{search:c,roleFilter:f,pageSize:v,offset:j}],queryFn:()=>IT({q:c||void 0,role:f||void 0,limit:v,offset:j}),placeholderData:k=>k}),[D,J]=g.useState(null),[U,T]=g.useState([]),G=(D?.username??"").toLowerCase()==="admin",[L,ee]=g.useState(()=>{const k=Object.fromEntries(Ty.map(me=>[me.id,!0]));try{const me=localStorage.getItem(zy);if(!me)return k;const be=JSON.parse(me);return!be||typeof be!="object"?k:{...k,...be}}catch{return k}}),de=(k,me)=>{ee(be=>{const ze={...be,[k]:me};try{localStorage.setItem(zy,JSON.stringify(ze))}catch{}return ze})},Ee=k=>{J(k),T(Dy(k.allowedModules??[]))},je=()=>{J(null),T([])},ie=o_({mutationFn:async k=>$T(k.userId,k.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),je()},onError:k=>{const me=k?.response?.data?.detail??k?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(me)})}}),we=g.useMemo(()=>E?.items??[],[E]),ke=E?.total??0,Te=E?.limit??v,M=Te>0?Math.ceil(ke/Te):1,H=ke===0?0:j+1,ae=ke===0?0:Math.min(j+we.length,ke),xe=ke===0?"0 registros":`Mostrando ${H}-${ae} de ${ke} registros`,Ce=k=>{T(me=>{const be=new Set(me);return be.has(k)?be.delete(k):be.add(k),Array.from(be)})},w=k=>{T(me=>{const be=new Set(me),ze=k.moduleIds.filter(pe=>zm.some(Ue=>Ue.id===pe));if(ze.length>0&&ze.every(pe=>be.has(pe)))for(const pe of ze)be.delete(pe);else for(const pe of ze)be.add(pe);return Array.from(be)})},K=()=>{D&&ie.mutate({userId:D.id,allowedModules:Dy(U)})},fe=()=>{i(""),d(""),h(""),x(1),p(20)};return l.jsxs("div",{className:"container-fluid",children:[l.jsx(ni,{show:ie.isPending,label:"Guardando permisos..."}),l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),l.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),l.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[l.jsxs("div",{style:{minWidth:260},children:[l.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:k=>{i(k.target.value),x(1)}})]}),l.jsxs("div",{style:{minWidth:220},children:[l.jsx("label",{className:"form-label small mb-1",children:"Rol"}),l.jsxs("select",{className:"form-select form-select-sm",value:f,onChange:k=>{h(k.target.value),x(1)},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"admin",children:"admin"}),l.jsx("option",{value:"administrator",children:"administrator"}),l.jsx("option",{value:"technician",children:"technician"}),l.jsx("option",{value:"standard",children:"standard"}),l.jsx("option",{value:"user",children:"user (legacy)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:v,onChange:k=>{const me=Number(k.target.value)||20;p(me),x(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:fe,disabled:A||ie.isPending,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>q(),disabled:A||ie.isPending,children:"Recargar"})]})]}),A?l.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):_?l.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm align-middle",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Usuario"}),l.jsx("th",{children:"Rol"}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[we.map(k=>l.jsxs("tr",{children:[l.jsx("td",{children:k.username}),l.jsx("td",{children:k.role}),l.jsx("td",{className:"text-end",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Ee(k),disabled:(k.username??"").toLowerCase()==="admin",children:"Editar"})})]},k.id)),we.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),l.jsx("div",{className:"d-flex justify-content-end mt-2",children:l.jsx("small",{className:"text-muted",children:xe})}),M>1&&l.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${y===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.max(1,k-1)),disabled:y===1,children:""})}),l.jsx("li",{className:"page-item disabled",children:l.jsxs("span",{className:"page-link",children:["Pgina ",y," / ",M]})}),l.jsx("li",{className:`page-item ${y===M?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.min(M,k+1)),disabled:y===M,children:"Siguiente"})})]})})]})})}),D&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:k=>{k.target===k.currentTarget&&je()},children:l.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",D.username]}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:je})]}),l.jsxs("div",{className:"modal-body",children:[G?l.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",l.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,Ty.map(k=>{const me=k.moduleIds.map(Ue=>zm.find($e=>$e.id===Ue)).filter(Boolean),be=me.filter(Ue=>U.includes(Ue.id)).length,ze=me.length>0&&be===me.length,Ie=be>0&&!ze,pe=!!L[k.id];return l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[l.jsxs("div",{className:"form-check mb-0",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${D.id}-${k.id}`,checked:ze,ref:Ue=>{Ue&&(Ue.indeterminate=Ie)},onChange:()=>w(k),disabled:ie.isPending||G}),l.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${D.id}-${k.id}`,children:[k.label,l.jsxs("span",{className:"text-muted ms-2 small",children:["(",be,"/",me.length,")"]})]})]}),l.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Acciones ${k.label}`,children:l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>de(k.id,!pe),disabled:ie.isPending,children:pe?"Expandir":"Contraer"})})]}),!pe&&l.jsx("div",{className:"mt-2 ms-4 ps-3 border-start border-2 border-light",children:l.jsx("div",{className:"row",children:me.map(Ue=>l.jsx("div",{className:"col-md-6 mb-2",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${D.id}-${Ue.id}`,checked:U.includes(Ue.id),onChange:()=>Ce(Ue.id),disabled:ie.isPending||G}),l.jsxs("label",{className:"form-check-label",htmlFor:`perm-${D.id}-${Ue.id}`,children:[Ue.label," ",l.jsxs("span",{className:"text-muted",children:["(",Ue.path,")"]})]})]})},Ue.id))})})]},k.id)}),l.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:je,disabled:ie.isPending,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:K,disabled:ie.isPending||G,children:"Guardar"})]})]})})})]})}function HT(e){const a=Ke.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function VT(e,a){return Ke.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function ZT(e,a){return Ke.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function ky(e,a,s){const i=HT(`/integrations/vima-to-lista/progress/${e}`),c=On()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const f=d.body.getReader(),h=new TextDecoder("utf-8");let v="";for(;;){const{value:p,done:y}=await f.read();if(y)break;v+=h.decode(p,{stream:!0});let x;for(;(x=v.indexOf(`
`))>=0;){const j=v.slice(0,x).trim();if(v=v.slice(x+1),!!j)try{a(JSON.parse(j))}catch{}}}}function F0(e){return`${e.name}::${e.size}::${e.lastModified}`}function GT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function Jc(e){return GT(e.name)}function PT(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function vh(e,a){const s=PT(a);if(!s)return e;const i=s.filter(c=>c.startsWith("."));return i.length===0?e:e.filter(c=>i.some(d=>c.name.toLowerCase().endsWith(d)))}function QT(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],i=[],c=[],d=new Set(e.map(Jc));for(const f of a){const h=Jc(f);if(d.has(h)){c.push(f);continue}d.add(h),s.push(f),i.push(f)}return{merged:s,added:i,duplicates:c}}function co({label:e,accept:a,disabled:s=!1,file:i,onChange:c}){const d=g.useRef(null),f=g.useRef(0),[h,v]=g.useState(!1),p=()=>{s||d.current?.click()},y=()=>{s||(d.current&&(d.current.value=""),c(null))},x=_=>{c(_.target.files?.[0]??null),_.currentTarget.value=""},j=_=>{_.preventDefault(),_.stopPropagation(),!s&&(f.current+=1,v(!0))},I=_=>{_.preventDefault(),_.stopPropagation()},E=_=>{_.preventDefault(),_.stopPropagation(),!s&&(f.current=Math.max(0,f.current-1),f.current===0&&v(!1))},A=_=>{if(_.preventDefault(),_.stopPropagation(),f.current=0,v(!1),s)return;const q=_.dataTransfer?.files?Array.from(_.dataTransfer.files):[],J=vh(q,a)[0]??null;J&&(d.current&&(d.current.value=""),c(J))};return l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:e}),l.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),l.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:j,onDragOver:I,onDragLeave:E,onDrop:A,"aria-disabled":s?"true":"false",children:l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:y,disabled:s||!i,children:"Eliminar"}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:i?i.name:"No se ha seleccionado ningn archivo."})]})})]})}const YT={status:"estado",progress:"progreso",complete:"completado",error:"error"},KT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},XT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function H0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function Ql(e){if(!e)return"";const a=e.toLowerCase();return H0(YT[a]??e)}function Kr(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return H0(KT[a]??ai(s))}function ai(e){if(!e)return"";let a=e;for(const[s,i]of XT)a=a.replace(s,i);return a}function JT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function WT(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}function e2(){const[e,a]=g.useState(null),[s,i]=g.useState(null),[c,d]=g.useState(""),[f,h]=g.useState(11),[v,p]=g.useState(11),[y,x]=g.useState(!0),[j,I]=g.useState(!0),[E,A]=g.useState(!0),[_,q]=g.useState(!0),[D,J]=g.useState(!1),[U,T]=g.useState(""),[G,L]=g.useState(null),[ee,de]=g.useState(null),[Ee,je]=g.useState(null),[ie,we]=g.useState([]),[ke,Te]=g.useState(""),M=g.useRef(null),H=g.useRef(null),[ae,xe]=g.useState(!1),[Ce,w]=g.useState(!1),[K,fe]=g.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),k=g.useMemo(()=>!!e&&!!s&&!G,[e,s,G]);function me(De){we(ve=>[De,...ve].slice(0,200));const Pe=typeof De.percent=="number"?De.percent:typeof De.progress=="number"?De.progress:null;Pe!=null&&Number.isFinite(Pe)&&je(Math.max(0,Math.min(100,Pe)))}function be(){M.current?.abort(),M.current=null}function ze(){G&&be()}function Ie(De,Pe){if(!e||!s)throw new Error("Faltan archivos");const ve=new FormData;ve.append("vima_file",e),ve.append("lista_file",s);const Ze=(Pe??c).trim();return Ze&&ve.append("vima_password",Ze),ve.append("vima_start_row",String(f)),ve.append("lista_start_row",String(v)),ve.append("require_all_g_to_n",y?"true":"false"),ve.append("incremental",j?"true":"false"),ve.append("strict_incremental",E?"true":"false"),ve.append("replicate_merges",_?"true":"false"),ve.append("update_existing_periodo",D?"true":"false"),U.trim()&&ve.append("oi_pattern",U.trim()),ve.append("operation_id",De),ve}function pe(){H.current=null,w(!1)}function Ue(De,Pe){H.current=De,fe(Pe),w(!0)}function $e(De,Pe){if(!pt.isAxiosError(De)){Te(String(De));return}const ve=De;if(ve.code==="ERR_CANCELED")return;const Ze=ve.response?.headers?.["x-code"],Ae=ve.response?.data?.detail??ve.message;if(Ze==="PASSWORD_REQUIRED"){Te(""),Ue(Pe,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Ze==="WRONG_PASSWORD"){Te(""),Ue(Pe,"Contrasea incorrecta. Intenta nuevamente.");return}Te(String(Ae))}async function Je(De){Te(""),de(null),we([]),je(0);const Pe=crypto.randomUUID();M.current=new AbortController,ky(Pe,me,M.current.signal).catch(()=>{}),L("dry");try{const ve=Ie(Pe,De?.passwordOverride),Ze=await VT(ve,M.current.signal);de(Ze.data)}catch(ve){$e(ve,"dry")}finally{be(),L(null)}}async function lt(De){Te(""),we([]),je(0);const Pe=crypto.randomUUID();M.current=new AbortController,ky(Pe,me,M.current.signal).catch(()=>{}),L("upload");try{const ve=Ie(Pe,De?.passwordOverride),Ze=await ZT(ve,M.current.signal),Ae=Ze.headers?.["content-disposition"],We=JT(Ae)??"LISTA_SALIDA.xlsx";WT(Ze.data,We)}catch(ve){$e(ve,"upload")}finally{be(),L(null)}}return l.jsxs("div",{className:"container-fluid",children:[l.jsxs("div",{className:"row gap-20",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),l.jsx("div",{className:"mB-15",children:l.jsx(co,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!G})}),l.jsx("div",{className:"mB-15",children:l.jsx(co,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:i,disabled:!!G})}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),l.jsx("input",{className:"form-control",type:"password",value:c,onChange:De=>d(De.target.value),placeholder:"(opcional)"})]}),ae?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),l.jsx("input",{className:"form-control",type:"number",value:f,onChange:De=>h(Number(De.target.value))})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),l.jsx("input",{className:"form-control",type:"number",value:v,onChange:De=>p(Number(De.target.value))})]})]}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),l.jsx("input",{className:"form-control",value:U,onChange:De=>T(De.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),l.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),l.jsxs("div",{className:"row mT-10",children:[l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:y,onChange:De=>x(De.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:_,onChange:De=>q(De.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:j,onChange:De=>I(De.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:E,onChange:De=>A(De.target.checked),disabled:!j}),l.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:D,onChange:De=>J(De.target.checked),disabled:!j}),l.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,ke&&l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:ke}),l.jsx("div",{className:"d-flex justify-content-end mT-10",children:l.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>xe(De=>!De),disabled:!!G,children:ae?"Menos Opciones":"Ms Opciones"})}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary",disabled:!k,onClick:()=>void lt(),children:G==="upload"?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger",disabled:!G,onClick:ze,children:"Cancelar"}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!k,onClick:()=>void Je(),children:G==="dry"?"Analizando...":"Analizar"})]}),ee&&l.jsxs("div",{className:"mT-20",children:[l.jsx("h5",{className:"c-grey-900",children:"Resumen"}),l.jsxs("ul",{className:"mB-0",children:[l.jsxs("li",{children:["Filas a copiar: ",l.jsx("b",{children:ee.would_copy})]}),l.jsxs("li",{children:["Fila inicio escritura (LISTA): ",l.jsx("b",{children:ee.start_write_row})]}),l.jsxs("li",{children:["ltimo OI en LISTA: ",l.jsx("b",{children:String(ee.last_oi_in_lista??"-")})]}),l.jsxs("li",{children:["Primer OI a copiar: ",l.jsx("b",{children:String(ee.first_oi_to_copy??"-")})]}),l.jsxs("li",{children:["ltimo OI a copiar: ",l.jsx("b",{children:String(ee.last_oi_to_copy??"-")})]})]})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),G?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Ee??0}%`},"aria-valuenow":Ee??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:ie.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:ie.map((De,Pe)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:Ql(De.type)})," ",De.stage?l.jsxs("span",{className:"text-muted",children:["[",Kr(De.stage),"]"]}):null,typeof De.percent=="number"?l.jsxs("span",{className:"text-muted",children:["  ",De.percent.toFixed(1),"%"]}):null]}),l.jsx("div",{className:"text-muted",children:ai(De.message??De.detail??"")}),De.code?l.jsxs("div",{className:"text-muted",children:["Cdigo: ",De.code]}):null]},Pe))})})]})})]}),l.jsx(xu,{show:Ce,title:"Archivo protegido",confirmLabel:"Continuar",helpText:K,onClose:pe,onConfirm:De=>{d(De),w(!1);const Pe=H.current;H.current=null,Pe&&(Pe==="dry"?Je({passwordOverride:De}):lt({passwordOverride:De}))}})]})}function Wc(e){const a=e,s=String(a?.name||""),i=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(i)||/abort/i.test(i)}function si(e){const a=Ke.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function yh(e,a){if(!e.body)return;const s=e.body.getReader(),i=new TextDecoder("utf-8");let c="";try{for(;;){let f;try{f=await s.read()}catch(y){if(Wc(y))return;throw y}const{value:h,done:v}=f;if(v)break;if(!h||h.length===0)continue;c+=i.decode(h,{stream:!0});let p;for(;(p=c.indexOf(`
`))>=0;){const y=c.slice(0,p).trim();if(c=c.slice(p+1),!!y)try{const x=JSON.parse(y);x&&x.progress!=null&&x.percent==null&&(x.percent=x.progress),x&&x.percent!=null&&x.progress==null&&(x.progress=x.percent),a(x)}catch{}}}const d=c.trim();if(d)try{const f=JSON.parse(d);f&&f.progress!=null&&f.percent==null&&(f.percent=f.progress),f&&f.percent!=null&&f.progress==null&&(f.progress=f.percent),a(f)}catch{}}catch(d){if(Wc(d))return;throw d}}function pr(e,a,s){const i=new Error(e);return a!=null&&(i.status=a),s&&(i.code=s),i}async function xh(e,a,s){const i=si(`/integrations/vima-to-lista/progress/${e}`),c=On()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw pr(`No se pudo abrir el stream (${d.status})`,d.status,f)}await yh(d,a)}async function t2(e,a,s){const i=si(`/logistica/log01/progress/${e}`),c=On()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const y=d.headers.get("X-Code")??void 0;throw pr(`No se pudo abrir el stream (${d.status})`,d.status,y)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw pr("Stream no es NDJSON",d.status);if(!d.body)throw pr("Stream sin body",d.status);const h=d.body.getReader(),v=new TextDecoder("utf-8");let p="";try{for(;;){let x;try{x=await h.read()}catch(A){if(Wc(A))return;throw A}const{value:j,done:I}=x;if(I)break;if(!j||j.length===0)continue;p+=v.decode(j,{stream:!0});let E;for(;(E=p.indexOf(`
`))>=0;){const A=p.slice(0,E).trim();if(p=p.slice(E+1),!!A)try{a(JSON.parse(A))}catch{}}}const y=p.trim();if(y)try{a(JSON.parse(y))}catch{}}catch(y){if(Wc(y))return;throw y}}async function n2(e,a,s){const i=si("/bases/actualizar/dry-run-upload"),c=On()?.token,d=await fetch(i,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const v=await d.json();v?.detail&&(h=String(v.detail))}catch{}throw pr(h,d.status,f)}await yh(d,a)}async function a2(e,a){return Ke.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function s2(e,a){return Ke.post("/logistica/log01/start",e,{signal:a})}async function r2(e,a,s){const i=si(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=On()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw pr(`No se pudo hacer poll (${d.status})`,d.status,f)}return await d.json()}async function l2(e,a){return Ke.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function i2(e){await Ke.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function km(e={}){const{limit:a=20,offset:s=0,include_deleted:i=!1,q:c,dateFrom:d,dateTo:f,source:h,status:v}=e,p={limit:a,offset:s,include_deleted:i};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),f&&f.trim()&&(p.dateTo=f.trim()),h&&h.trim()&&(p.source=h.trim()),v&&v.trim()&&(p.status=v.trim());const{data:y}=await Ke.get("/logistica/log01/history",{params:p});return y}async function o2(e,a,s){return Ke.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:i=>i===200})}async function c2(e,a){await Ke.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function u2(){return(await Ke.get("/logistica/log02/explorador/roots")).data}async function d2(e){return(await Ke.get("/logistica/log02/explorador/listar",{params:{path:e}})).data}async function f2(e){return(await Ke.post("/logistica/log02/validar-rutas-unc",e)).data}async function m2(e,a){return(await Ke.post("/logistica/log02/copiar-conformes/start",e,{signal:a})).data}async function h2(e,a,s){const i=si(`/logistica/log02/copiar-conformes/progress/${e}`),c=On()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw pr(`No se pudo abrir el stream (${d.status})`,d.status,f)}await yh(d,a)}async function p2(e,a,s){const i=si(`/logistica/log02/copiar-conformes/poll/${e}?cursor=${encodeURIComponent(a)}`),c=On()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw pr(`No se pudo hacer poll (${d.status})`,d.status,f)}return await d.json()}async function g2(e){await Ke.post(`/logistica/log02/copiar-conformes/cancel/${encodeURIComponent(e)}`)}async function b2(e={}){const{limit:a=20,offset:s=0,q:i,dateFrom:c,dateTo:d,origin:f}=e,h={limit:a,offset:s};i&&i.trim()&&(h.q=i.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),f&&f.trim()&&(h.origin=f.trim());const{data:v}=await Ke.get("/oi/tools/formato-ac/history",{params:h});return v}async function v2(e,a){return Ke.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function V0(){const{data:e}=await Ke.get("/merge/config/upload-limits");return e}async function Z0(e,a,s){return Ke.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function G0(e){await Ke.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function y2(e){const{data:a}=await Ke.post("/tools/files/upload",e);return a}async function x2(e){const{data:a}=await Ke.post("/tools/excel/inspect",e);return a}async function N2(e){const{data:a}=await Ke.post("/tools/excel/update",e);return a}async function S2(e){const{data:a}=await Ke.post("/tools/excel/change-password",e);return a}async function j2(e){const{data:a}=await Ke.post("/tools/excel/validate",e);return a}function w2({show:e,disabled:a=!1,title:s,accept:i,files:c,onClose:d,onAddFiles:f,onRemoveFile:h,onRemoveAll:v}){const p=g.useRef(null),y=g.useRef(0),[x,j]=g.useState(!1),[I,E]=g.useState("");g.useEffect(()=>{if(!e)return;const L=ee=>{ee.key==="Escape"&&d()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e,d]),g.useEffect(()=>{e||j(!1)},[e]),g.useEffect(()=>{e&&E("")},[e]);const A=g.useCallback(L=>{const ee=vh(L,i);if(ee.length===0)return;const de=new Set(c.map(Jc)),Ee=new Set(de),je=[],ie=[];for(const we of ee){const ke=Jc(we);if(Ee.has(ke)){ie.push(we);continue}Ee.add(ke),je.push(we)}if(ie.length>0){const we=Array.from(new Set(ie.map(Te=>Te.name))),ke=ie.length;if(we.length===1){const Te=ke===1?"Se omiti 1 archivo duplicado":`Se omitieron ${ke} archivos duplicados`;E(`${Te}: "${we[0]}".`)}else E(`Se omitieron ${ke} archivos duplicados: ${we.join(", ")}.`)}je.length>0&&f(je)},[i,c,f]);if(g.useEffect(()=>{if(!e)return;const L=de=>{de.preventDefault(),de.stopPropagation()},ee=de=>{if(de.preventDefault(),de.stopPropagation(),a)return;const Ee=de.dataTransfer?.files?Array.from(de.dataTransfer.files):[];A(Ee)};return window.addEventListener("dragover",L,!0),window.addEventListener("drop",ee,!0),()=>{window.removeEventListener("dragover",L,!0),window.removeEventListener("drop",ee,!0)}},[e,a,A]),!e)return null;const _=()=>{a||p.current?.click()},q=L=>{const ee=L.target.files?Array.from(L.target.files):[];A(ee),L.currentTarget.value=""},D=()=>{a||(p.current&&(p.current.value=""),v())},J=L=>{L.preventDefault(),L.stopPropagation(),!a&&(y.current+=1,j(!0))},U=L=>{L.preventDefault(),L.stopPropagation()},T=L=>{L.preventDefault(),L.stopPropagation(),!a&&(y.current=Math.max(0,y.current-1),y.current===0&&j(!1))},G=L=>{if(L.preventDefault(),L.stopPropagation(),y.current=0,j(!1),a)return;const ee=L.dataTransfer?.files?Array.from(L.dataTransfer.files):[];A(ee)};return l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:L=>{L.target===L.currentTarget&&d()},children:l.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),l.jsxs("div",{className:"modal-body",children:[l.jsx("input",{ref:p,className:"d-none",type:"file",accept:i,multiple:!0,onChange:q,disabled:a}),I?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[l.jsx("div",{children:I}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>E("")})]}):null,l.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:J,onDragOver:U,onDragLeave:T,onDrop:G,"aria-disabled":a?"true":"false",children:[l.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",l.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:_,disabled:a,children:"selecciona desde tu equipo"}),"."]}),i?l.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",i]}):null]}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[l.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:_,disabled:a,children:"Agregar ms"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:D,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:l.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:l.jsx("ul",{className:"list-group",children:c.map(L=>{const ee=F0(L);return l.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[l.jsx("div",{className:"text-truncate",style:{minWidth:0},children:L.name}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(ee),disabled:a,children:"Eliminar"})]},ee)})})})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:d,children:"Cerrar"})})]})})})}function _2(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(i=>i.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function Nu({label:e,title:a,accept:s,disabled:i=!1,fullDropArea:c=!1,files:d,setFiles:f}){const[h,v]=g.useState(!1),[p,y]=g.useState(!1),[x,j]=g.useState(""),I=g.useRef(0),E=g.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),A=d.length===0?"Agregar archivos":"Modificar/agregar archivos",_=G=>{const L=vh(G,s);L.length!==0&&f(ee=>{const{merged:de,duplicates:Ee}=QT(ee,L);return Ee.length>0&&j(_2(Ee)),de})},q=G=>{G.preventDefault(),G.stopPropagation(),!i&&(I.current+=1,y(!0))},D=G=>{G.preventDefault(),G.stopPropagation()},J=G=>{G.preventDefault(),G.stopPropagation(),!i&&(I.current=Math.max(0,I.current-1),I.current===0&&y(!1))},U=G=>{if(G.preventDefault(),G.stopPropagation(),I.current=0,y(!1),i)return;const L=G.dataTransfer?.files?Array.from(G.dataTransfer.files):[];_(L)},T=l.jsxs(l.Fragment,{children:[l.jsx("label",{className:"form-label",children:e}),l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>v(!0),disabled:i,children:A}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:E})]}),x?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[l.jsx("div",{children:x}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>j("")})]}):null]});return l.jsxs(l.Fragment,{children:[c?l.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:q,onDragOver:D,onDragLeave:J,onDrop:U,"aria-disabled":i?"true":"false",children:T}):l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:e}),l.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:q,onDragOver:D,onDragLeave:J,onDrop:U,"aria-disabled":i?"true":"false",children:l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>v(!0),disabled:i,children:A}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:E})]})}),x?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[l.jsx("div",{children:x}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>j("")})]}):null]}),l.jsx(w2,{show:h,disabled:i,title:a,accept:s,files:d,onClose:()=>v(!1),onAddFiles:_,onRemoveFile:G=>f(L=>L.filter(ee=>F0(ee)!==G)),onRemoveAll:()=>f([])})]})}function E2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function C2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function A2(e){if(!pt.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,i=a.response?.data;if(i instanceof Blob)try{const d=await i.text(),f=JSON.parse(d);return{detail:String(f?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=i?.detail??a.message;return{detail:String(c),code:s}}function O2(){const[e,a]=g.useState(null),[s,i]=g.useState([]),[c,d]=g.useState(""),[f,h]=g.useState(""),[v,p]=g.useState("^OI-(\\d+)-(\\d{4})$"),[y,x]=g.useState(9),[j,I]=g.useState("ERROR FINAL"),[E,A]=g.useState(!0),[_,q]=g.useState(!1),[D,J]=g.useState(!1),[U,T]=g.useState(null),[G,L]=g.useState(null),[ee,de]=g.useState([]),[Ee,je]=g.useState(""),ie=g.useRef(null),we=g.useRef(null),[ke,Te]=g.useState(!1),[M,H]=g.useState(!1),[ae,xe]=g.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Ce=g.useMemo(()=>!!e&&s.length>0&&!U,[e,s,U]);function w(pe){de($e=>[pe,...$e].slice(0,200));const Ue=typeof pe.percent=="number"?pe.percent:typeof pe.progress=="number"?pe.progress:null;Ue!=null&&Number.isFinite(Ue)&&L(Math.max(0,Math.min(100,Ue)))}function K(){ie.current?.abort(),ie.current=null}function fe(){U&&K()}function k(pe,Ue){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const $e=new FormData;$e.append("base_file",e);for(const lt of s)$e.append("oi_files",lt);const Je=(Ue??c).trim();return Je&&$e.append("default_password",Je),f.trim()&&$e.append("per_file_passwords_json",f.trim()),v.trim()&&$e.append("oi_pattern",v.trim()),$e.append("oi_start_row",String(y)),j.trim()&&$e.append("base_sheet",j.trim()),pe&&$e.append("operation_id",pe),$e}function me(){we.current=null,H(!1)}function be(pe,Ue){we.current=pe,xe(Ue),H(!0)}async function ze(pe){je(""),de([]),L(0),ie.current=new AbortController,T("dry");try{const Ue=k(void 0,pe?.passwordOverride);await n2(Ue,w,ie.current.signal)}catch(Ue){if(Ue?.name==="AbortError")return;const $e=Ue?.code,Je=String(Ue?.message??Ue);if($e==="PASSWORD_REQUIRED"){je(""),be("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if($e==="WRONG_PASSWORD"){je(""),be("dry","Contrasea incorrecta. Intenta nuevamente.");return}else je(Je)}finally{K(),T(null)}}async function Ie(pe){je(""),de([]),L(0);const Ue=crypto.randomUUID();ie.current=new AbortController,xh(Ue,w,ie.current.signal).catch(()=>{}),T("upload");try{const $e=k(Ue,pe?.passwordOverride);$e.append("replicate_merges",E?"true":"false"),$e.append("replicate_row_heights",_?"true":"false"),$e.append("replicate_col_widths",D?"true":"false");const Je=await a2($e,ie.current.signal),lt=Je.headers["content-disposition"],De=Je.headers["x-file-name"],Pe=E2(lt)??De??"base_actualizada.xlsx";C2(Je.data,Pe)}catch($e){if(pt.isAxiosError($e)&&$e.code==="ERR_CANCELED")return;const{detail:Je,code:lt}=await A2($e);if(lt==="PASSWORD_REQUIRED"){je(""),be("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(lt==="WRONG_PASSWORD"){je(""),be("upload","Contrasea incorrecta. Intenta nuevamente.");return}else je(Je)}finally{K(),T(null)}}return l.jsxs("div",{className:"container-fluid",children:[l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),l.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(co,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!U})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx(Nu,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:i,disabled:!!U})}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:c,onChange:pe=>d(pe.target.value),disabled:!!U})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),l.jsx("input",{className:"form-control",value:j,onChange:pe=>I(pe.target.value),disabled:!!U})]}),ke?l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),l.jsx("input",{className:"form-control",value:v,onChange:pe=>p(pe.target.value),disabled:!!U})]}):null,l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio OI"}),l.jsx("input",{className:"form-control",type:"number",min:1,value:y,onChange:pe=>x(Number(pe.target.value||9)),disabled:!!U})]}),l.jsxs("div",{className:"col-12 mB-15",children:[l.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),l.jsx("textarea",{className:"form-control",rows:4,value:f,onChange:pe=>h(pe.target.value),disabled:!!U,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),ke?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:E,onChange:pe=>A(pe.target.checked),disabled:!!U}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:_,onChange:pe=>q(pe.target.checked),disabled:!!U}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:D,onChange:pe=>J(pe.target.checked),disabled:!!U}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),Ee&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:Ee}),l.jsx("div",{className:"d-flex justify-content-end mT-10",children:l.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Te(pe=>!pe),disabled:!!U,children:ke?"Menos Opciones":"Ms Opciones"})}),l.jsxs("div",{className:"d-flex gap-10 mT-15",children:[l.jsx("button",{className:"btn btn-primary",disabled:!Ce,onClick:()=>void Ie(),children:U==="upload"?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger",disabled:!U,onClick:fe,children:"Cancelar"}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!Ce,onClick:()=>void ze(),children:U==="dry"?"Analizando...":"Analizar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),U?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${G??0}%`},"aria-valuenow":G??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:ee.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:ee.map((pe,Ue)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:Ql(pe.type)})," ",pe.stage?l.jsxs("span",{className:"text-muted",children:["[",Kr(pe.stage),"]"]}):null,typeof pe.percent=="number"?l.jsxs("span",{className:"text-muted",children:["  ",pe.percent.toFixed(1),"%"]}):null]}),l.jsx("div",{className:"text-muted",children:ai(pe.message??pe.detail??"")}),pe.code?l.jsxs("div",{className:"text-muted",children:["Cdigo: ",pe.code]}):null]},Ue))})})]})})]}),l.jsx(xu,{show:M,title:"Archivo protegido",confirmLabel:"Continuar",helpText:ae,onClose:me,onConfirm:pe=>{d(pe),H(!1);const Ue=we.current;we.current=null,Ue&&(Ue==="dry"?ze({passwordOverride:pe}):Ie({passwordOverride:pe}))}})]})}const R2="America/Lima";function T2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function D2(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}function z2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:R2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function k2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function M2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function U2(){const[e,a]=g.useState([]),[s,i]=g.useState(0),[c,d]=g.useState(!1),[f,h]=g.useState(""),[v,p]=g.useState(0),[y,x]=g.useState(""),[j,I]=g.useState(""),[E,A]=g.useState(""),[_,q]=g.useState(""),[D,J]=g.useState(20),[U,T]=g.useState(1),[G,L]=g.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),ee=g.useMemo(()=>(U-1)*D,[U,D]);g.useEffect(()=>{let H=!1;return d(!0),h(""),b2({limit:D,offset:ee,q:G.q||void 0,dateFrom:G.dateFrom||void 0,dateTo:G.dateTo||void 0,origin:G.origin||void 0}).then(ae=>{H||(a(Array.isArray(ae?.items)?ae.items:[]),i(typeof ae?.total=="number"?ae.total:0))}).catch(ae=>{if(H)return;const xe=ae,Ce=xe.response?.data?.detail||xe.message||"No se pudo cargar historial.";h(Ce)}).finally(()=>{H||d(!1)}),()=>{H=!0}},[G,ee,D,v]);const de=()=>{L({q:y.trim(),dateFrom:j.trim(),dateTo:E.trim(),origin:_.trim()}),T(1)},Ee=()=>{x(""),I(""),A(""),q(""),L({q:"",dateFrom:"",dateTo:"",origin:""}),T(1),p(H=>H+1)},je=()=>p(H=>H+1),ie=async H=>{try{h("");const ae=await v2(H),xe=ae.headers["content-disposition"],Ce=ae.headers["x-file-name"],w=T2(xe)??Ce??"formato_ac.xlsx";D2(ae.data,w)}catch(ae){const xe=ae;if(pt.isCancel(xe))return;const Ce=xe.response?.data?.detail||xe.message||"No se pudo descargar.";h(Ce)}},we=s===0?0:ee+1,ke=s===0?0:Math.min(ee+e.length,s),Te=U>1,M=ee+e.length<s;return l.jsx("div",{className:"container-fluid",children:l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:l.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),f?l.jsx("div",{className:"alert alert-danger",role:"alert",children:f}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:H=>{H.preventDefault(),de()},children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:y,onChange:H=>x(H.target.value),onKeyDown:H=>{H.key==="Enter"&&de()},placeholder:"Operacion o usuario..."})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha desde"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:j,onChange:H=>I(H.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha hasta"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:E,onChange:H=>A(H.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:H=>q(H.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),l.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:D,onChange:H=>{const ae=Number(H.target.value);J(Number.isFinite(ae)?ae:20),T(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Ee,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:je,children:"Recargar"})]})]}),l.jsxs("div",{className:"mT-15",children:[c?l.jsx("div",{className:"text-muted",children:"Cargando historial..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),l.jsx("tbody",{children:e.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(H=>{const ae=H.created_by_full_name||H.created_by_username||"N/D";return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:H.operation_id}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:z2(H.created_at)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:ae}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:M2(H.origin)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("span",{className:k2(H.status),children:H.status})}),l.jsx("td",{children:l.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void ie(H.id),children:"Descargar"})})})]},H.id)})})]})}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[l.jsxs("div",{className:"small text-muted",children:["Mostrando ",we,"-",ke," de ",s," registros"]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>T(H=>Math.max(1,H-1)),disabled:!Te||c,children:"Anterior"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>T(H=>H+1),disabled:!M||c,children:"Siguiente"})]})]})]})]})})})})}function L2(){return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),l.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6 mB-15",children:l.jsx("div",{className:"card h-100",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:"Correlativo"}),l.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),l.jsx(Bc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),l.jsx("div",{className:"col-md-6 mB-15",children:l.jsx("div",{className:"card h-100",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:"No correlativo"}),l.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),l.jsx(Bc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function B2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function q2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function I2(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function $2(){const[e,a]=g.useState(null),[s,i]=g.useState(null),[c,d]=g.useState([]),[f,h]=g.useState(!1),[v,p]=g.useState(""),[y,x]=g.useState(null),[j,I]=g.useState([]),E=g.useRef(null),A=g.useRef(null),_=g.useMemo(()=>!!s&&c.length>0&&!f,[s,c,f]);g.useEffect(()=>{V0().then(a).catch(()=>a(null))},[]);function q(T){I(L=>[T,...L].slice(0,200));const G=typeof T.percent=="number"?T.percent:typeof T.progress=="number"?T.progress:null;G!=null&&Number.isFinite(G)&&x(Math.max(0,Math.min(100,G)))}function D(){E.current?.abort(),E.current=null}function J(){if(!f)return;const T=A.current;T&&G0(T).catch(()=>{}),q({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function U(){if(p(""),I([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const T=new FormData;T.append("master",s);for(const L of c)T.append("technicians",L);const G=crypto.randomUUID();A.current=G,T.append("operation_id",G),E.current=new AbortController,h(!0);try{const L=E.current?.signal;xh(G,q,L).catch(()=>{});const ee=await Z0(T,"correlativo",L),de=ee.headers["content-disposition"],Ee=B2(de)??"consolidado_correlativo.xlsx";q2(ee.data,Ee)}catch(L){if(pt.isAxiosError(L)&&L.code==="ERR_CANCELED"||pt.isAxiosError(L)&&(L.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const ee=await I2(L);q({type:"error",stage:"error",detail:ee}),p(ee)}finally{A.current=null,h(!1),D()}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),l.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&l.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",l.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",l.jsx("b",{children:e.max_tech_files})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(co,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:i,disabled:f})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx(Nu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:f})})]}),v&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:v}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary mT-10",disabled:!_,onClick:U,children:f?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!f,onClick:J,children:"Cancelar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),f?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${y??0}%`},"aria-valuenow":y??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:j.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:j.map((T,G)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:Ql(T.type)})," ",T.stage?l.jsxs("span",{className:"text-muted",children:["[",Kr(T.stage),"]"]}):null]}),l.jsx("div",{className:"text-muted",children:ai(T.message??T.detail??"")})]},G))})})]})})]})})}function F2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function H2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function V2(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function Z2(){const[e,a]=g.useState(null),[s,i]=g.useState(null),[c,d]=g.useState([]),[f,h]=g.useState(!1),[v,p]=g.useState(""),[y,x]=g.useState(null),[j,I]=g.useState([]),E=g.useRef(null),A=g.useRef(null),_=g.useMemo(()=>!!s&&c.length>0&&!f,[s,c,f]);g.useEffect(()=>{V0().then(a).catch(()=>a(null))},[]);function q(T){I(L=>[T,...L].slice(0,200));const G=typeof T.percent=="number"?T.percent:typeof T.progress=="number"?T.progress:null;G!=null&&Number.isFinite(G)&&x(Math.max(0,Math.min(100,G)))}function D(){E.current?.abort(),E.current=null}function J(){if(!f)return;const T=A.current;T&&G0(T).catch(()=>{}),q({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function U(){if(p(""),I([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const T=new FormData;T.append("master",s);for(const L of c)T.append("technicians",L);const G=crypto.randomUUID();A.current=G,T.append("operation_id",G),E.current=new AbortController,h(!0);try{const L=E.current?.signal;xh(G,q,L).catch(()=>{});const ee=await Z0(T,"no-correlativo",L),de=ee.headers["content-disposition"],Ee=F2(de)??"consolidado_no_correlativo.xlsx";H2(ee.data,Ee)}catch(L){if(pt.isAxiosError(L)&&L.code==="ERR_CANCELED"||pt.isAxiosError(L)&&(L.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const ee=await V2(L);q({type:"error",stage:"error",detail:ee}),p(ee)}finally{A.current=null,h(!1),D()}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),l.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&l.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",l.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",l.jsx("b",{children:e.max_tech_files})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(co,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:i,disabled:f})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx(Nu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:f})})]}),v&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:v}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary mT-10",disabled:!_,onClick:U,children:f?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!f,onClick:J,children:"Cancelar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),f?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${y??0}%`},"aria-valuenow":y??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:j.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:j.map((T,G)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:Ql(T.type)})," ",T.stage?l.jsxs("span",{className:"text-muted",children:["[",Kr(T.stage),"]"]}):null]}),l.jsx("div",{className:"text-muted",children:ai(T.message??T.detail??"")})]},G))})})]})})]})})}async function Ki(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function G2(){const[e,a]=g.useState(null),[s,i]=g.useState(""),[c,d]=g.useState(""),[f,h]=g.useState(""),[v,p]=g.useState("ERROR FINAL"),[y,x]=g.useState(""),[j,I]=g.useState("same_password"),[E,A]=g.useState(""),[_,q]=g.useState([{cell:"A1",value:""}]),[D,J]=g.useState(""),[U,T]=g.useState("no_password"),[G,L]=g.useState(""),[ee,de]=g.useState("ERROR FINAL"),[Ee,je]=g.useState(1),[ie,we]=g.useState(""),[ke,Te]=g.useState(""),[M,H]=g.useState(""),[ae,xe]=g.useState(null),[Ce,w]=g.useState(""),[K,fe]=g.useState(null),[k,me]=g.useState([]),[be,ze]=g.useState(null),Ie=g.useMemo(()=>c.trim().length>0,[c]);function pe(ve){me(Ze=>[ve,...Ze].slice(0,200))}function Ue(){w(""),me([]),fe(0),ze(null)}async function $e(){if(Ue(),!e){w("Selecciona un archivo para subir.");return}xe("upload");try{pe({type:"status",stage:"upload",message:"Subiendo archivo..."}),fe(30);const ve=new FormData;ve.append("file",e),s.trim()&&ve.append("suggested_name",s.trim());const Ze=await y2(ve);d(Ze.relative_path),ze(Ze),pe({type:"complete",stage:"upload",message:"Archivo subido."}),fe(100)}catch(ve){const Ze=await Ki(ve);w(Ze),pe({type:"error",stage:"upload",detail:Ze})}finally{xe(null)}}async function Je(){if(Ue(),!Ie){w("Ingresa o sube un archivo para obtener file_path.");return}xe("inspect");try{pe({type:"status",stage:"inspect",message:"Inspeccionando..."}),fe(50);const ve=await x2({file_path:c.trim(),open_password:f.trim()||null});ze(ve),pe({type:"complete",stage:"inspect",message:"Inspeccin completada."}),fe(100)}catch(ve){const Ze=await Ki(ve);w(Ze),pe({type:"error",stage:"inspect",detail:Ze})}finally{xe(null)}}async function lt(){if(Ue(),!Ie){w("Ingresa o sube un archivo para obtener file_path.");return}if(!v.trim()){w("Ingresa el nombre de la hoja.");return}const ve=_.map(Ze=>({cell:Ze.cell.trim(),value:Ze.value})).filter(Ze=>Ze.cell);if(ve.length===0){w("Agrega al menos una edicin.");return}xe("update");try{pe({type:"status",stage:"update",message:"Aplicando ediciones..."}),fe(50);const Ze=await N2({file_path:c.trim(),edits:ve.map(Ae=>({sheet:v.trim(),cell:Ae.cell,value:Ae.value})),open_password:y.trim()||null,save_mode:j,new_password:j==="new_password"&&E.trim()||null});ze(Ze),pe({type:"complete",stage:"update",message:"Actualizacin completada."}),fe(100)}catch(Ze){const Ae=await Ki(Ze);w(Ae),pe({type:"error",stage:"update",detail:Ae})}finally{xe(null)}}async function De(){if(Ue(),!Ie){w("Ingresa o sube un archivo para obtener file_path.");return}if(!D.trim()){w("Ingresa la contrasea de apertura (open_password).");return}if(U==="new_password"&&!G.trim()){w("Ingresa la nueva contrasea.");return}xe("change-password");try{pe({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),fe(50);const ve=await S2({file_path:c.trim(),open_password:D.trim(),mode:U,new_password:U==="new_password"?G.trim():null});ze(ve),pe({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),fe(100)}catch(ve){const Ze=await Ki(ve);w(Ze),pe({type:"error",stage:"change-password",detail:Ze})}finally{xe(null)}}async function Pe(){if(Ue(),!Ie){w("Ingresa o sube un archivo para obtener file_path.");return}let ve={};if(ke.trim())try{ve=JSON.parse(ke)}catch{w("type_rules debe ser JSON vlido.");return}const Ze=ie.split(",").map(Ae=>Ae.trim()).filter(Boolean);xe("validate");try{pe({type:"status",stage:"validate",message:"Validando..."}),fe(50);const Ae=await j2({file_path:c.trim(),sheet:ee.trim()||null,header_row:Ee,required_columns:Ze,type_rules:ve,open_password:M.trim()||null});ze(Ae),pe({type:"complete",stage:"validate",message:"Validacin completada."}),fe(100)}catch(Ae){const We=await Ki(Ae);w(We),pe({type:"error",stage:"validate",detail:We})}finally{xe(null)}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),l.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-8 mB-10",children:l.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!ae,onChange:ve=>a(ve.target.files?.[0]??null)})}),l.jsx("div",{className:"col-md-4 mB-10",children:l.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!ae,onChange:ve=>i(ve.target.value)})})]}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!!ae||!e,onClick:$e,children:ae==="upload"?"Subiendo...":"Subir"})]})}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"file_path"}),l.jsx("input",{className:"form-control",value:c,disabled:!!ae,onChange:ve=>d(ve.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),l.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"2) Inspect"}),l.jsxs("div",{className:"row align-items-end",children:[l.jsxs("div",{className:"col-md-8 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:f,disabled:!!ae,onChange:ve=>h(ve.target.value)})]}),l.jsx("div",{className:"col-md-4 mB-10",children:l.jsx("button",{className:"btn btn-primary w-100",disabled:!!ae||!Ie,onClick:Je,children:ae==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"Hoja"}),l.jsx("input",{className:"form-control",value:v,disabled:!!ae,onChange:ve=>p(ve.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:y,disabled:!!ae,onChange:ve=>x(ve.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"save_mode"}),l.jsxs("select",{className:"form-select",value:j,disabled:!!ae,onChange:ve=>I(ve.target.value),children:[l.jsx("option",{value:"same_password",children:"same_password"}),l.jsx("option",{value:"no_password",children:"no_password"}),l.jsx("option",{value:"new_password",children:"new_password"})]})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"new_password"}),l.jsx("input",{className:"form-control",type:"password",value:E,disabled:!!ae||j!=="new_password",onChange:ve=>A(ve.target.value),placeholder:j==="new_password"?"Requerido":""})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsx("label",{className:"form-label",children:"Ediciones"}),_.map((ve,Ze)=>l.jsxs("div",{className:"row g-2 mB-10",children:[l.jsx("div",{className:"col-md-3",children:l.jsx("input",{className:"form-control",value:ve.cell,disabled:!!ae,onChange:Ae=>{const We=_.slice();We[Ze]={...We[Ze],cell:Ae.target.value},q(We)},placeholder:"Celda (A1)"})}),l.jsx("div",{className:"col-md-7",children:l.jsx("input",{className:"form-control",value:ve.value,disabled:!!ae,onChange:Ae=>{const We=_.slice();We[Ze]={...We[Ze],value:Ae.target.value},q(We)},placeholder:"Valor"})}),l.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto w-100",disabled:!!ae,onClick:()=>q(Ae=>[...Ae,{cell:"A1",value:""}]),children:"+"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!ae||_.length===1,onClick:()=>q(Ae=>Ae.filter((We,C)=>C!==Ze)),children:""})]})]},Ze))]}),l.jsx("button",{className:"btn btn-primary",disabled:!!ae||!Ie,onClick:lt,children:ae==="update"?"Actualizando...":"Update"})]})}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"4) Change password"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password"}),l.jsx("input",{className:"form-control",type:"password",value:D,disabled:!!ae,onChange:ve=>J(ve.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"mode"}),l.jsxs("select",{className:"form-select",value:U,disabled:!!ae,onChange:ve=>T(ve.target.value),children:[l.jsx("option",{value:"no_password",children:"no_password"}),l.jsx("option",{value:"new_password",children:"new_password"})]})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"new_password"}),l.jsx("input",{className:"form-control",type:"password",value:G,disabled:!!ae||U!=="new_password",onChange:ve=>L(ve.target.value),placeholder:U==="new_password"?"Requerido":""})]}),l.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:l.jsx("button",{className:"btn btn-primary w-100",disabled:!!ae||!Ie,onClick:De,children:ae==="change-password"?"Procesando...":"Change password"})})]})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"5) Validate"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"sheet (opcional)"}),l.jsx("input",{className:"form-control",value:ee,disabled:!!ae,onChange:ve=>de(ve.target.value)})]}),l.jsxs("div",{className:"col-md-3 mB-10",children:[l.jsx("label",{className:"form-label",children:"header_row"}),l.jsx("input",{className:"form-control",type:"number",min:1,value:Ee,disabled:!!ae,onChange:ve=>je(Number(ve.target.value||1))})]}),l.jsxs("div",{className:"col-md-3 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:M,disabled:!!ae,onChange:ve=>H(ve.target.value)})]}),l.jsxs("div",{className:"col-12 mB-10",children:[l.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),l.jsx("input",{className:"form-control",value:ie,disabled:!!ae,onChange:ve=>we(ve.target.value),placeholder:"ColA, ColB, ColC"})]}),l.jsxs("div",{className:"col-12 mB-10",children:[l.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),l.jsx("textarea",{className:"form-control",rows:3,value:ke,disabled:!!ae,onChange:ve=>Te(ve.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),l.jsx("button",{className:"btn btn-primary",disabled:!!ae||!Ie,onClick:Pe,children:ae==="validate"?"Validando...":"Validate"})]})}),Ce&&l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Ce})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),ae?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${K??0}%`},"aria-valuenow":K??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:k.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:k.map((ve,Ze)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:ve.type})," ",ve.stage?l.jsxs("span",{className:"text-muted",children:["[",ve.stage,"]"]}):null]}),l.jsx("div",{className:"text-muted",children:ve.message??ve.detail??""})]},Ze))})}),l.jsx("hr",{className:"mY-15"}),l.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),be?l.jsx("pre",{className:"vi-surface-2 p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(be,null,2)}):l.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function P2(){const e=ra(),a=Xr(),{toast:s}=Jr(),i=On(),c=Pl(i?.role),d=ro(),f=c&&!(d&&d>0),{data:h,isLoading:v,error:p}=Gr({queryKey:["catalogs"],queryFn:lh,enabled:f}),y=h?.bancos??[],[x,j]=g.useState(()=>d&&d>0?d:0),[I,E]=g.useState(!1),A=g.useMemo(()=>y.find(J=>J.id===x)?.name??null,[y,x]);g.useEffect(()=>{const D=e.state;D?.toast&&(s({kind:D.toast.kind??"info",title:D.toast.title,message:D.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),g.useEffect(()=>{f&&(x>0||y.length>0&&j(y[0].id))},[x,y,f]);const _=x>0&&!I,q=async()=>{if(_)try{E(!0);const D=await c0(x),J=Sm(D.userId,D.bancoId??x);if(J.target){a(J.target,{replace:!0});return}s({kind:"success",title:"Banco",message:A?`Banco seleccionado: ${A}`:"Banco seleccionado."})}catch(D){const J=D?.response?.data?.detail??D?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(J)})}finally{E(!1)}};return l.jsxs("div",{className:"vi-home",children:[l.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),f&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsx("div",{className:"modal-header",children:l.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),l.jsxs("div",{className:"modal-body",children:[l.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),l.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),l.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:D=>j(Number(D.target.value)),disabled:v||I,children:y.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))}),p?l.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-primary",disabled:!_,onClick:q,children:I?"Guardando...":"Continuar"})})]})})})]})}const Xi=(...e)=>{};function Q2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function Y2(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}async function K2(e,a){let s=null,i=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{i=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!i}function X2(){const[e,a]=g.useState([]),[s,i]=g.useState(""),[c,d]=g.useState([]),[f,h]=g.useState(0),[v,p]=g.useState("Listo para procesar"),[y,x]=g.useState(!1),[j,I]=g.useState(""),[E,A]=g.useState(!1),[_,q]=g.useState(null),[D,J]=g.useState(null),[U,T]=g.useState(!1);function G(R){const P=R?.series_duplicates_eliminated??R?.detail?.series_duplicates_eliminated??R?.series_duplcates_eliminated;return typeof P=="number"?P:null}const L={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function ee(R){const P=String(R??"").trim().toUpperCase();return P?L[P]??P:""}function de(R){if(!R)return"";let P=ai(R);P=P.replace(/\bERROR\b/gi,"Error");for(const[Z,le]of Object.entries(L))P=P.replace(new RegExp(`\\b${Z}\\b`,"g"),le);return P}function Ee(R,P){const Z=ee(R),le=de(P);return le?Z&&!le.toLowerCase().includes(Z.toLowerCase())?`${Z}: ${le}`:le:Z||"N/D"}function je(R,P,Z){const le=String(Z??"").trim();if(le)return le;const Re=Number(R);if(!Number.isFinite(Re)||Re<=0)return"N/D";const Be=Number(P);return Number.isFinite(Be)&&Be>0?`OI-${String(Re).padStart(4,"0")}-${String(Be).padStart(4,"0")}`:`OI-${String(Re).padStart(4,"0")}`}function ie(R){const P=R?.rows_total_read??R?.totals_input?.rows_read;return typeof P=="number"?P:null}const we=g.useMemo(()=>(Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[]).filter(P=>P?.status==="OK"&&String(P?.source??"").toUpperCase()==="BASES").slice().sort((P,Z)=>{const le=Number(P?.oi_year),Re=Number(Z?.oi_year),Be=Number.isFinite(le)&&le>0,se=Number.isFinite(Re)&&Re>0;if(Be&&se&&le!==Re)return le-Re;if(Be&&!se)return-1;if(!Be&&se)return 1;const Le=Number(P?.oi_num),Ve=Number(Z?.oi_num),it=Number.isFinite(Le),Ht=Number.isFinite(Ve);if(it&&Ht&&Le!==Ve)return Le-Ve;if(it&&!Ht)return-1;if(!it&&Ht)return 1;const Ne=String(P?.oi_tag??P?.oi??P?.oi_num??"").toUpperCase(),nt=String(Z?.oi_tag??Z?.oi??Z?.oi_num??"").toUpperCase();return Ne.localeCompare(nt)}),[D]),ke=g.useMemo(()=>(Array.isArray(D?.files_rejected)?D.files_rejected:[]).slice().sort((P,Z)=>{const le=String(P?.oi??P?.filename??"").toUpperCase(),Re=String(Z?.oi??Z?.filename??"").toUpperCase();return le.localeCompare(Re)}),[D]),Te=g.useMemo(()=>{const R=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),P=D?.by_source;if(P&&typeof P=="object")return P;const Z={BASES:R(),GASELAG:R()},le=Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[];for(const Be of le){if(Be?.status!=="OK")continue;const Le=String(Be?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";Z[Le].files_ok+=1,Z[Le].rows_read+=Number(Be?.rows_read??0)||0,Z[Le].conformes+=Number(Be?.conformes??0)||0,Z[Le].no_conformes+=Number(Be?.no_conformes??0)||0,Z[Le].rows_ignored_invalid_estado+=Number(Be?.rows_ignored_invalid_estado??0)||0}const Re=Array.isArray(D?.files_rejected)?D.files_rejected:[];for(const Be of Re){const Le=String(Be?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";Z[Le].files_error+=1}for(const Be of["BASES","GASELAG"])Z[Be].files_total=Z[Be].files_ok+Z[Be].files_error;return Z},[D]),M=g.useRef(null),H=g.useRef(null),ae=g.useRef(null),xe=g.useRef(!1),Ce=g.useRef(null),w=g.useRef(null),K=g.useRef(null),fe=g.useRef(!1),k=g.useRef(!1),me=g.useRef(-1),be=g.useRef(-1),ze=g.useRef(!1);function Ie(){return Ce.current||(Ce.current=crypto.randomUUID()),Ce.current}function pe(R){const P=`${Ql(R.type)}  ${Kr(R.stage)}  ${de(R.message??R.detail??"")}`;if(p(P),d(Z=>{const le=[R,...Z];if(!ze.current&&R.stage==="cancelled"){ze.current=!0;const Re=le.filter(Ve=>Ve.stage==="file_done"||Ve.stage==="file_error").length,Be=le.filter(Ve=>Ve.stage==="file_done").length,se=le.filter(Ve=>Ve.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Re} (OK: ${Be}, Rechazados: ${se}). No se gener resultado final.`},...le]}return le}),R.type==="complete"){const Z=R.result??null;J(Z)}typeof R.progress=="number"&&h(Math.round(R.progress)),typeof R.percent=="number"&&h(Math.round(R.percent)),!xe.current&&(R.type==="complete"||R.stage==="cancelled"||R.stage==="failed")&&(xe.current=!0,R.type==="complete"?(A(!0),q(Ce.current)):(A(!1),q(null),Ce.current=null),x(!1),lt("terminal_event"),De())}function Ue(R){return typeof R.cursor!="number"?!1:R.cursor<=be.current?!0:(be.current=R.cursor,R.cursor>me.current&&(me.current=R.cursor),!1)}function $e(R){xe.current||Ue(R)||pe(R)}function Je(R,P){const Z=new FormData;Z.append("operation_id",R),Z.append("source","AUTO"),s.trim()&&Z.append("output_filename",s.trim());for(const le of P)Z.append("files",le);return Z}function lt(R){H.current&&(ae.current=R,H.current.abort(),H.current=null)}function De(R){k.current&&(k.current=!1,w.current!=null&&(window.clearTimeout(w.current),w.current=null),K.current?.abort(),K.current=null,fe.current=!1)}function Pe(R){k.current&&(w.current!=null&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>{ve()},R))}async function ve(){if(!k.current||fe.current)return;const R=Ce.current;if(!R){De();return}fe.current=!0;try{const P=await r2(R,me.current,K.current?.signal);Xi("[LOG01] poll cursor =",me.current,"->",P.cursor_next),me.current=P.cursor_next;for(const Z of P.events)$e(Z);if(P.done&&P.events.length===0){De("done");return}}catch(P){P?.name}finally{fe.current=!1,k.current&&Pe(350)}}function Ze(R){k.current||(k.current=!0,K.current=new AbortController,Pe(0))}function Ae(){M.current?.abort(),M.current=null}async function We(){if(!y)return;const R=Ce.current;if(R)try{await i2(R)}catch(P){const Z=P;pt.isCancel(Z)||I(Z.response?.data?.detail||Z.message||"No se pudo cancelar la operacion")}Ae()}async function C(){I(""),d([]),J(null),h(0),p("Listo para procesar"),A(!1),q(null),ae.current=null,xe.current=!1,ze.current=!1,me.current=-1,be.current=-1,De();const R=[...e];if(!R.length){I("Debes seleccionar al menos 1 Excel.");return}Ce.current=null;const P=Ie();let Z=null,le=null;const Re=new Promise((Le,Ve)=>{Z=Le,le=Ve});H.current=new AbortController,M.current=new AbortController,t2(P,Le=>{if(Le.type==="hello"){Z&&(Z(),Z=null);return}$e(Le)},H.current.signal).then(()=>{xe.current||Ze()}).catch(Le=>{Le?.name==="AbortError"?Xi("[LOG01] progress stream aborted (reason) =",ae.current):(le&&(le(Le),le=null),Ze())}),x(!0);try{await K2(Re,1800)?Xi("[LOG01] hello received"):Ze("hello_timeout");const Ve=Je(P,R);Xi("[LOG01] operation_id(start) =",P),await s2(Ve,M.current.signal)}catch(Le){const Ve=Le;if(pt.isCancel(Ve))return;const it=Ve.response?.data?.detail||Ve.message||"Error inesperado";I(it),x(!1),Ae(),lt("start_failed"),De(),Ce.current=null}finally{Ae()}}async function Y(){const R=_??Ce.current;if(!R){I("No hay resultado disponible.");return}try{I(""),Xi("[LOG01] operation_id(result) =",R);const P=await l2(R),Z=P.headers["content-disposition"],le=P.headers["x-file-name"],Re=Q2(Z)??le??"BD_CONSOLIDADO.xlsx";Y2(P.data,Re)}catch(P){const Z=P;if(pt.isCancel(Z))return;const le=Z.response?.data?.detail||Z.message||"No se pudo descargar.";I(le)}}return l.jsx("div",{className:"container-fluid",children:l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),j&&l.jsx("div",{className:"alert alert-danger",role:"alert",children:j}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-12 mB-15",children:[l.jsx(Nu,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:y}),l.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),l.jsx("input",{className:"form-control",value:s,onChange:R=>i(R.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:y})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),l.jsxs("div",{className:"vi-log01-actions",children:[l.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:C,disabled:y,children:y?"Procesando...":"Consolidar"}),y?l.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void We(),children:"Cancelar"}):null,!y&&E?l.jsx(l.Fragment,{children:l.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void Y(),children:"Descargar Excel"})}):null]})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),y?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress",children:l.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${f}%`},"aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":100,children:[f,"%"]})}),l.jsx("div",{className:"mT-10 text-muted",children:v})]}),!y&&D?l.jsxs("div",{className:"mT-20",children:[l.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),l.jsx("div",{className:"bd p-10",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("div",{className:"small text-muted",children:"Archivos"}),l.jsxs("div",{className:"small",children:["Total: ",l.jsx("strong",{children:D.files_total??"N/D"}),"  OK:"," ",l.jsx("strong",{children:D.files_ok??"N/D"}),"  Rechazados:"," ",l.jsx("strong",{children:D.files_error??"N/D"})]}),l.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),l.jsx("tbody",{children:["BASES","GASELAG"].map(R=>{const P=Te?.[R]??{},Z=P?.files_total??Number(P?.files_ok??0)+Number(P?.files_error??0);return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:R})}),l.jsxs("td",{style:{whiteSpace:"nowrap"},children:[l.jsx("strong",{children:Z??0})," ",l.jsxs("span",{className:"text-muted",children:["(OK: ",P?.files_ok??0,"  Rech: ",P?.files_error??0,")"]})]}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:P?.rows_read??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:P?.conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:P?.no_conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:P?.rows_ignored_invalid_estado??0})})]},R)})})]})}),l.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),we.length>0?l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),l.jsx("tbody",{children:we.map((R,P)=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:je(R?.oi_num,R?.oi_year,R?.oi_tag??R?.oi)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:R?.rows_read??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:R?.conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:R?.no_conformes??0})})]},P))})]})}):l.jsx("div",{className:"small text-muted",children:"N/D"}),Number(Te?.GASELAG?.rows_read??0)>0?l.jsxs("div",{className:"mT-10 small",children:[l.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",l.jsx("strong",{children:Te.GASELAG.rows_read??0}),"  Conformes:"," ",l.jsx("strong",{children:Te.GASELAG.conformes??0}),"  No conformes:"," ",l.jsx("strong",{children:Te.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",l.jsx("strong",{children:Te.GASELAG.rows_ignored_invalid_estado??0})]}):null,l.jsxs("div",{className:"col-12 mT-10 p-0",children:[l.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),l.jsxs("div",{className:"small",children:["Registros ledos:"," ",l.jsx("strong",{children:D.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",l.jsx("strong",{children:D.totals_input?.conformes??"N/D"}),"  No conformes:"," ",l.jsx("strong",{children:D.totals_input?.no_conformes??"N/D"})]})]})]}),l.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[ke.length>0?l.jsxs("div",{className:"mT-15",children:[l.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),l.jsx("tbody",{children:ke.map((R,P)=>{const Z=Ee(R?.code,R?.detail),le=String(R?.source??"").toUpperCase();let Re=R?.filename??"N/D";if(le==="BASES"){const Be=Number(R?.oi_num),se=je(Be,R?.oi_year,R?.oi_tag??R?.oi);se!=="N/D"&&(Re=`${se} / ${Re}`)}else le==="GASELAG"&&(Re=`GASELAG / ${Re}`);return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:Re}),l.jsx("td",{children:Z})]},P)})})]})})]}):null,l.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),l.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",l.jsx("strong",{children:D.series_total_dedup??"N/D"}),"  Conformes finales:"," ",l.jsx("strong",{children:D.series_conformes??"N/D"}),"  No conformes finales:"," ",l.jsx("strong",{children:D.series_no_conformes_final??"N/D"})]}),l.jsx("div",{className:"mT-10",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>T(R=>!R),children:U?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),U?l.jsxs("div",{className:"mT-10",children:[l.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),l.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",l.jsx("strong",{children:ie(D)??"N/D"})," "," Duplicados eliminados:"," ",l.jsx("strong",{children:G(D)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",l.jsx("strong",{children:(()=>{const R=ie(D),P=G(D);if(typeof R=="number"&&typeof P=="number")return R-P;const Z=D.series_total_dedup;return typeof Z=="number"?Z:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&l.jsxs("div",{className:"mT-20",children:[l.jsx("h6",{className:"c-grey-900",children:"Eventos"}),l.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((R,P)=>{const Z=String(R.message??""),le=String(R.code??""),Re=String(R.detail??""),Be=de(Z||Re||""),se=Be.toLowerCase(),Le=ee(le),Ve=de(Re),it=[];Le&&!se.includes(Le.toLowerCase())&&it.push(Le),Ve&&!se.includes(Ve.toLowerCase())&&it.push(Ve);const Ht=it.join("  ");return l.jsxs("div",{className:"small",children:[Ql(R.type),"  ",Be,Ht?l.jsxs("span",{className:"text-muted",children:[" (",Ht,")"]}):null]},P)})})]})]})})})})}const J2="America/Lima";function W2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function eD(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}function tD(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:J2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function tm(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function My(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function nD(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning vi-text-contrast":"badge bg-secondary"}function aD(){const e=Xr(),a=On(),s=Za(a?.role,a?.username),i=s==="admin"||s==="administrator",[c,d]=g.useState([]),[f,h]=g.useState(0),[v,p]=g.useState(!1),[y,x]=g.useState(""),[j,I]=g.useState(0),[E,A]=g.useState(""),[_,q]=g.useState(""),[D,J]=g.useState(""),[U,T]=g.useState(""),[G,L]=g.useState(""),[ee,de]=g.useState(20),[Ee,je]=g.useState(1),[ie,we]=g.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),ke=g.useMemo(()=>(Ee-1)*ee,[Ee,ee]);g.useEffect(()=>{let k=!1;return p(!0),x(""),km({limit:ee,offset:ke,include_deleted:!1,q:ie.q||void 0,dateFrom:ie.dateFrom||void 0,dateTo:ie.dateTo||void 0,source:ie.source||void 0,status:ie.status||void 0}).then(me=>{k||(d(Array.isArray(me?.items)?me.items:[]),h(typeof me?.total=="number"?me.total:0))}).catch(me=>{if(k)return;const be=me,ze=be.response?.data?.detail||be.message||"No se pudo cargar historial.";x(ze)}).finally(()=>{k||p(!1)}),()=>{k=!0}},[ie,ke,ee,j]);const Te=()=>{we({q:E.trim(),dateFrom:_.trim(),dateTo:D.trim(),source:U.trim(),status:G.trim()}),je(1)},M=()=>{A(""),q(""),J(""),T(""),L(""),we({q:"",dateFrom:"",dateTo:"",source:"",status:""}),je(1),I(k=>k+1)},H=()=>I(k=>k+1),ae=async(k,me)=>{try{x("");const be=await o2(k,me),ze=be.headers["content-disposition"],Ie=be.headers["x-file-name"],pe=W2(ze)??Ie??`${me}.bin`;eD(be.data,pe)}catch(be){const ze=be;if(pt.isCancel(ze))return;const Ie=ze.response?.data?.detail||ze.message||"No se pudo descargar.";x(Ie)}},xe=async k=>{if(i&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await c2(k),H()}catch(me){const be=me;if(pt.isCancel(be))return;const ze=be.response?.data?.detail||be.message||"No se pudo eliminar.";x(ze)}},Ce=f===0?0:ke+1,w=f===0?0:Math.min(ke+c.length,f),K=Ee>1,fe=ke+c.length<f;return l.jsx("div",{className:"container-fluid",children:l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[l.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),y?l.jsx("div",{className:"alert alert-danger",role:"alert",children:y}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:k=>{k.preventDefault(),Te()},children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:E,onChange:k=>A(k.target.value),onKeyDown:k=>{k.key==="Enter"&&Te()},placeholder:"Usuario, serie inicial, serie final..."})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha desde"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:_,onChange:k=>q(k.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha hasta"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:D,onChange:k=>J(k.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsxs("select",{className:"form-select form-select-sm",value:U,onChange:k=>T(k.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"AUTO",children:"AUTO"}),l.jsx("option",{value:"BASES",children:"BASES"}),l.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Estado"}),l.jsxs("select",{className:"form-select form-select-sm",value:G,onChange:k=>L(k.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),l.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),l.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),l.jsxs("div",{className:"col-md-1",children:[l.jsx("label",{className:"form-label",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:ee,onChange:k=>{const me=Number(k.target.value);de(Number.isFinite(me)?me:20),je(1)},children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:v,children:"Buscar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:M,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:H,children:"Recargar"})]})]}),l.jsxs("div",{className:"mT-15",children:[v?l.jsx("div",{className:"text-muted",children:"Cargando historial..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),l.jsx("tbody",{children:c.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(k=>{const me=k.summary_json,be=My(me,"serie_ini"),ze=My(me,"serie_fin"),Ie=tm(me,"series_total_dedup"),pe=tm(me,"series_conformes"),Ue=tm(me,"series_no_conformes_final"),$e=k.created_by_full_name||k.created_by_username||"N/D";return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:tD(k.created_at)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:$e}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("span",{className:nD(k.status),children:k.status})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:be}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:ze}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:Ie})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:pe})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:Ue})}),l.jsx("td",{children:l.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void ae(k.id,"excel"),children:"Excel"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void ae(k.id,"no-conforme"),children:"No conforme"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void ae(k.id,"manifiesto"),children:"Manifiesto"}),i?l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void xe(k.id),children:"Eliminar"}):null]})})]},k.id)})})]})}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[l.jsxs("div",{className:"small text-muted",children:["Mostrando ",Ce,"-",w," de ",f]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>je(k=>Math.max(1,k-1)),disabled:!K||v,children:"Anterior"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>je(k=>k+1),disabled:!fe||v,children:"Siguiente"})]})]})]})]})})})})}function Il(e){return e===!0?"badge bg-success":e===!1?"badge bg-danger":"badge bg-secondary"}const nm=250,am="medileser_log02_rutas_v1",Mm="America/Lima",dr=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugProgress")==="1",sD="[log02-copy-progress]",Uy=2e3,rD=500;function ur(...e){dr&&console.log(sD,...e)}function Ly(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:Mm,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function By(e){const a=e,s=String(a?.name||""),i=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(i)||/abort/i.test(i)}function lD(e){const a=e;if(!a)return!1;const s=(a.tagName||"").toLowerCase();return!!(s==="input"||s==="textarea"||s==="select"||a.isContentEditable)}async function Ji(e){const a=(e||"").trim();if(a)try{await navigator.clipboard.writeText(a);return}catch{const s=document.createElement("textarea");s.value=a,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}}function iD(){const[e,a]=g.useState([""]),[s,i]=g.useState(""),[c,d]=g.useState("consolidate"),[f,h]=g.useState(0),[v,p]=g.useState("0"),[y,x]=g.useState(!1),[j,I]=g.useState(!1),[E,A]=g.useState(""),[_,q]=g.useState(null),[D,J]=g.useState(!1),[U,T]=g.useState(!1),[G,L]=g.useState(!1),[ee,de]=g.useState(""),[Ee,je]=g.useState([]),[ie,we]=g.useState(null),[ke,Te]=g.useState(""),[M,H]=g.useState(""),[ae,xe]=g.useState(""),[Ce,w]=g.useState(""),[K,fe]=g.useState("COMPLETADO"),[k,me]=g.useState(!1),[be,ze]=g.useState(""),[Ie,pe]=g.useState(0),[Ue,$e]=g.useState(""),[Je,lt]=g.useState(""),[De,Pe]=g.useState(""),[ve,Ze]=g.useState([]),[Ae,We]=g.useState([]),[C,Y]=g.useState(null),R=g.useRef(null),P=g.useRef(!1),Z=g.useRef(!1),le=g.useRef(null),Re=g.useRef(null),Be=g.useRef(!1),se=g.useRef(!1),Le=g.useRef(-1),Ve=g.useRef(-1),it=g.useRef(""),Ht=g.useRef(null),Ne=g.useRef(!1),nt=g.useRef(""),Vt=g.useRef(0),jt=g.useRef(!0),Bt=g.useRef(""),[dn,$n]=g.useState(!1),[Fn,ct]=g.useState("origen"),[Hn,kn]=g.useState(null),[Jn,Vn]=g.useState([]),[Zn,X]=g.useState(""),[W,Oe]=g.useState(""),[He,rt]=g.useState([]),[tt,Xe]=g.useState(!1),[Pt,_t]=g.useState(""),[bt,Zt]=g.useState(""),[Et,ut]=g.useState(""),[gt,Tt]=g.useState(""),[Dt,sn]=g.useState(1),[fn,Xt]=g.useState(!1),[Ct,gn]=g.useState([]),wt=g.useMemo(()=>{const S=Et.trim().toLocaleLowerCase();return S?He.filter($=>($.name||"").toLocaleLowerCase().includes(S)):He},[He,Et]);g.useEffect(()=>{if(!dn)return;if(!wt.length){bt&&Zt("");return}bt&&wt.some($=>$.path===bt)||Zt(wt[0].path)},[dn,wt,bt]),g.useEffect(()=>{try{const S=localStorage.getItem(am);if(!S)return;const $=JSON.parse(S),Q=Array.isArray($.origenes)?$.origenes:[],ue=typeof $?.destino=="string"?$.destino:"",qe=$?.output_mode==="keep_structure"?"keep_structure":"consolidate",Ye=typeof $?.group_size=="number"&&Number.isFinite($.group_size)?$.group_size:0;Q.length&&a(Q),ue&&i(ue),d(qe),h(Math.max(0,Math.trunc(Ye)))}catch{}},[]),g.useEffect(()=>{try{const S={origenes:e,destino:s,output_mode:c,group_size:Math.max(0,Math.trunc(f||0))};localStorage.setItem(am,JSON.stringify(S))}catch{}},[e,s,c,f]),g.useEffect(()=>(jt.current=!0,()=>{jt.current=!1,Bt.current="",ea("unmount"),oa("unmount")}),[]);function bn(){a([""]),i(""),q(null),A(""),J(!1),we(null),d("consolidate"),h(0),Y(null),Ze([]),We([]),lt(""),$e(""),pe(0),Pe(""),ze(""),sn(1),gn([]),Xt(!1);try{localStorage.removeItem(am)}catch{}}function Gn(){a(S=>{const $=new Set,Q=[];for(const ue of S){const qe=(ue||"").trim();if(!qe)continue;const Ye=qe.toLowerCase();$.has(Ye)||($.add(Ye),Q.push(qe))}return Q.length?Q:[""]})}function Tn(){J(!0),kn(null),Wt("origen")}function zt(S){J(!0),kn(S),Wt("origen")}function Bs(){J(!0),kn(null),Wt("destino")}async function la(S=5){de(""),L(!0);try{const $=await km({limit:S,offset:0,include_deleted:!1,status:"COMPLETADO"}),Q=Array.isArray($?.items)?$.items:[];if(je(Q),ie?.id&&Q.length){const ue=Q.find(qe=>qe.id===ie.id);ue&&we(ue)}}catch($){const Q=$,ue=Q.response?.data?.detail||Q.message||"No se pudo cargar las corridas.";de(ue),je([])}finally{L(!1)}}async function vn(){de(""),L(!0);try{const S=await km({limit:20,offset:0,include_deleted:!1,q:ke.trim()||void 0,dateFrom:M.trim()||void 0,dateTo:ae.trim()||void 0,source:Ce.trim()||void 0,status:K.trim()||void 0}),$=Array.isArray(S?.items)?S.items:[];je($)}catch(S){const $=S,Q=$.response?.data?.detail||$.message||"No se pudo cargar las corridas.";de(Q),je([])}finally{L(!1)}}function Pn(){T(!0),la(5)}function Ka(S){we(S),T(!1),sn($=>$<3?3:$)}const Xa=g.useMemo(()=>e.map(S=>(S??"").trim()),[e]),ia=g.useMemo(()=>Xa.filter(S=>S),[Xa]),Mn=g.useMemo(()=>(s??"").trim(),[s]),Jt=g.useMemo(()=>ia.length>0&&!!Mn,[ia.length,Mn]);function Sa(S,$){a(Q=>{const ue=Q.slice();return ue[S]=$,ue})}function Qn(S){a($=>{if($.length<=1)return[""];const Q=$.slice();return Q.splice(S,1),Q})}g.useEffect(()=>{if(!dn)return;function S(Q){try{const ue=document.querySelector(`[data-folder-idx="${Q}"]`);ue&&(ue.focus(),ue.scrollIntoView({block:"nearest"}))}catch{}}const $=Q=>{if(Q.key==="Escape"){Q.preventDefault(),$n(!1);return}if(!lD(Q.target)){if(Q.key==="ArrowDown"||Q.key==="ArrowUp"){if(!wt.length)return;Q.preventDefault();const ue=wt.findIndex(es=>es.path===bt),qe=ue>=0?ue:0,Ye=Q.key==="ArrowDown"?Math.min(wt.length-1,qe+1):Math.max(0,qe-1),kt=wt[Ye];if(!kt)return;Zt(kt.path),requestAnimationFrame(()=>S(Ye));return}if(Q.key==="Enter"){if(!bt)return;const ue=wt.find(qe=>qe.path===bt);if(!ue)return;Q.preventDefault(),Wn(ue.path);return}}};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[dn,bt,tt]);async function Wt(S){ct(S),_t(""),$n(!0),ut("");try{const Q=(await u2()).roots||[];Vn(Q);const ue=Q[0]||"";X(ue),Oe(ue),Tt(ue),ue?await Wn(ue):(rt([]),_t("No hay rutas raz configuradas para el explorador. Configure VI_LOG02_UNC_ROOTS en el servidor."))}catch($){const Q=$,ue=Q.response?.data?.detail||Q.message||"No se pudo cargar las rutas raz.";_t(ue),rt([])}}async function Wn(S){if(_t(""),!S){rt([]);return}try{Xe(!0),Zt("");const $=await d2(S);Oe($.path),Tt($.path);const Q=$.folders||[];rt(Q),Zt(Q[0]?.path||"")}catch($){const Q=$,ue=Q.response?.data?.detail||Q.message||"No se pudo listar la carpeta.";_t(ue),rt([])}finally{Xe(!1)}}function tl(S){const $=(S||"").replace(/[\\\/]+$/,""),Q=$.startsWith("\\\\"),ue=$.split("\\").filter(kt=>kt.length>0);if(ue.length===0)return[];const qe=[];if(Q){const kt=ue[0]||"",es=ue[1]||"";if(kt){const za=`\\\\${kt}`;qe.push({label:`\\\\${kt}`,path:za})}if(kt&&es){let za=`\\\\${kt}\\${es}`;qe.push({label:es,path:za});for(let ka=2;ka<ue.length;ka++)za=`${za}\\${ue[ka]}`,qe.push({label:ue[ka],path:za})}return qe}let Ye=ue[0];qe.push({label:ue[0],path:ue[0]});for(let kt=1;kt<ue.length;kt++)Ye=`${Ye}\\${ue[kt]}`,qe.push({label:ue[kt],path:Ye});return qe}async function qs(){const S=(gt||"").trim();S&&await Wn(S)}async function br(){const S=(W||"").trim();S&&await Ji(S)}function hs(){const S=(W||"").replace(/[\\\/]+$/,""),$=S.lastIndexOf("\\");if($<=0)return;const Q=S.slice(0,$);Wn(Q)}function vr(S){const $=(S??W??"").trim();$&&(Fn==="destino"?i($):a(Q=>{const ue=$.trim();if(!ue)return Q;const qe=Q.slice();return Hn!==null&&Hn>=0&&Hn<qe.length?(qe[Hn]=ue,qe):qe.map(kt=>(kt||"").trim().toLowerCase()).includes(ue.toLowerCase())?qe:qe.length===1&&!(qe[0]||"").trim()?[ue]:[...qe,ue]}),kn(null),$n(!1))}function yn(){const S=(W||"").trim();S&&vr(S)}async function yr(){A(""),q(null),J(!0);const S=Mn,$=ia;if(!$.length){A("Debes ingresar al menos una ruta de origen.");return}if(!S){A("Debes ingresar una ruta de destino.");return}try{I(!0);const Q=await f2({rutas_origen:$,ruta_destino:S});q(Q),Q.ok?sn(ue=>ue<2?2:ue):A("Validacin incompleta: revisa los detalles de permisos y existencia.")}catch(Q){const ue=Q;if(pt.isCancel(ue))return;const qe=ue.response?.data?.detail||ue.message||"No se pudo validar las rutas.";A(qe)}finally{I(!1)}}const Is=g.useMemo(()=>!!_?.ok&&!!ie?.id&&!k,[_?.ok,ie?.id,k]);g.useEffect(()=>{sn(S=>k||_?.ok&&ie?.id&&S<3?3:_?.ok&&!ie?.id&&S<2?2:S)},[_?.ok,ie?.id,k]);function ps(S){const $=S?.cursor;if(typeof $=="number"&&Number.isFinite($))return $;if(typeof $=="string"){const Q=Number($);if(Number.isFinite(Q))return Q}return null}function is(S){return S==null?!1:S<=Ve.current?!0:(Ve.current=S,S>Le.current&&(Le.current=S),!1)}function nl(S){const $=S?.progress??S?.percent,Q=typeof $=="number"?$:typeof $=="string"?Number($):NaN;if(Number.isFinite(Q)){const ue=Math.max(0,Math.min(100,Q));pe(qe=>(dr&&qe!==ue&&ur("setCopyProgress",{prev:qe,next:ue}),ue))}}function al(S){const $=String(S?.type||"");if(nl(S),$==="status"||$==="progress"){const Q=S?.stage?String(S.stage):$;if(Q&&$e(Q),typeof S?.message=="string"&&S.message&&lt(S.message),Q){const ue=Q.toLowerCase();(ue==="cancelado"||ue==="cancelled")&&(P.current=!0,Bt.current="",me(!1),ea("cancelled"),oa("cancelled"))}return}if($==="oi"){typeof S?.oi=="string"&&Pe(S.oi);return}if($==="oi_warn"){const Q=String(S?.oi||""),ue=String(S?.message||""),qe=S?.code?String(S.code):void 0;Q&&ue&&Ze(Ye=>[...Ye,{oi:Q,code:qe,message:ue}]);return}if($==="oi_error"||$==="file_error"){const Q=S?.oi?String(S.oi):void 0,ue=S?.file?String(S.file):void 0,qe=String(S?.message||"Error");We(Ye=>[...Ye,{oi:Q,file:ue,message:qe}]);return}if($==="error"){const Q=String(S?.message||"Fallo en el proceso.");We(ue=>[...ue,{message:Q}]),lt(Q),$e("error"),me(!1),ea("error_event"),oa("error_event");return}if($==="complete"){Z.current=!0,typeof S?.message=="string"&&lt(S.message),$e("completado"),pe(100),Y(S?.audit??null),me(!1),ea("complete"),oa("complete");return}}function Ja(S,$="stream"){const Q=ps(S),ue=String(S?.type||""),qe=S?.stage?String(S.stage):"";dr&&ur("event",{source:$,type:ue,stage:qe,progress:S?.progress,percent:S?.percent,cursor:Q});const Ye=Ve.current;if(is(Q)){dr&&ur("skip_event",{source:$,cursor:Q,lastCursor:Ye});return}if(al(S),ue==="status"||ue==="progress"||ue==="oi"||ue==="oi_warn"||ue==="oi_error"||ue==="file_error"||ue==="error"||ue==="complete"){const es=typeof S?.message=="string"?S.message:void 0,za=typeof qe=="string"&&qe?ta(qe):void 0,ka=typeof S?.oi=="string"?S.oi:void 0,ys=S?.progress??S?.percent,li=typeof ys=="number"?ys:typeof ys=="string"?Number(ys):NaN,Su=Number.isFinite(li)?Math.max(0,Math.min(100,li)):void 0;gn(ju=>{const ll=[...ju,{ts:Date.now(),source:$,type:ue,stage:za,message:es,oi:ka,progress:Su}];return ll.length>nm&&ll.splice(0,ll.length-nm),ll})}}function ea(S){if(dr&&ur("stop_polling",{reason:S,operationId:it.current}),!!se.current){se.current=!1,le.current!=null&&(window.clearTimeout(le.current),le.current=null);try{Re.current?.abort()}catch{}Re.current=null,Be.current=!1,it.current=""}}function xr(){Ht.current!=null&&(window.clearTimeout(Ht.current),Ht.current=null)}function gs(S){dr&&ur("stream_closed",{reason:S,operationId:nt.current}),Ne.current=!1,nt.current="",xr()}function oa(S){dr&&ur("stop_stream",{reason:S,operationId:nt.current}),gs(S);try{R.current?.abort()}catch{}R.current=null}function Nr(S){Ne.current&&(xr(),Ht.current=window.setTimeout(()=>{if(!Ne.current)return;const $=Date.now()-Vt.current;if($>=Uy){ur("stream_silent_fallback",{idleMs:$,operationId:S}),oa("stream_silent"),!Z.current&&!P.current&&Da(S,"stream_silent");return}Nr(S)},Uy))}function ri(S){Vt.current=Date.now(),Ne.current&&Nr(S)}function bs(S){se.current&&(le.current!=null&&window.clearTimeout(le.current),le.current=window.setTimeout(()=>{ja()},S))}async function ja(){if(!se.current||Be.current)return;const S=it.current;if(!S){ea("no_operation_id");return}if(Bt.current!==S){ea("operation_mismatch");return}Be.current=!0;try{const $=await p2(S,Le.current,Re.current?.signal);Le.current=$.cursor_next;for(const Q of $.events||[])Ja(Q,"poll");if($.done&&(!$.events||$.events.length===0)){ea("done");return}}catch($){if(P.current||Z.current)return;if($?.name!=="AbortError"){const ue=$,qe=ue.response?.data?.detail||ue.message||"No se pudo leer el progreso.";We(Ye=>[...Ye,{message:qe}]),$e("error"),lt(qe),me(!1),ea("poll_error")}}finally{Be.current=!1,se.current&&bs(rD)}}function Da(S,$){Bt.current===S&&(se.current||(se.current=!0,it.current=S,Re.current=new AbortController,Le.current=Math.max(Le.current,Ve.current),dr&&ur("start_polling",{operationId:S,reason:$}),bs(0)))}async function Sr(){if(A(""),!_?.ok){A("Debes validar rutas correctamente antes de iniciar el copiado.");return}if(!ie?.id){A("Debes seleccionar una corrida de LOG-01 (Historial) para usar su manifiesto.");return}const S=ia,$=Mn;if(!S.length||!$){A("Completa orgenes y destino antes de iniciar.");return}P.current=!1,Z.current=!1,We([]),Ze([]),Y(null),$e("inicio"),lt("Iniciando copiado..."),pe(0),Pe(""),ze(""),gn([]),Xt(!1),oa("reset"),ea("reset"),Bt.current="",Le.current=-1,Ve.current=-1,me(!0);try{const ue=(await m2({run_id:ie.id,rutas_origen:S,ruta_destino:$,output_mode:c,group_size:Math.max(0,Math.trunc(f||0))})).operation_id;ze(ue),Bt.current=ue;const qe=new AbortController;R.current=qe,Ne.current=!0,nt.current=ue,Vt.current=Date.now(),Nr(ue),h2(ue,kt=>{jt.current&&Bt.current===ue&&(ri(ue),Ja(kt,"stream"))},qe.signal).then(()=>{Bt.current===ue&&(gs("stream_closed"),!Z.current&&!P.current&&Da(ue,"stream_closed"))}).catch(kt=>{if(Bt.current===ue){if(By(kt)||P.current||Z.current){gs("stream_aborted");return}gs("stream_error"),Da(ue,"stream_error")}})}catch(Q){if(P.current||Z.current||By(Q))return;const ue=Q,qe=ue.response?.data?.detail||ue.message||"No se pudo iniciar/leer el progreso.";We(Ye=>[...Ye,{message:qe}]),$e("error"),lt(qe),oa("start_error"),ea("start_error"),me(!1)}}async function Wa(){if(be){P.current=!0,Bt.current="";try{await g2(be)}catch{}try{R.current?.abort()}catch{}oa("user_cancel"),ea("user_cancel"),me(!1),$e("cancelado"),lt("Cancelado por el usuario.")}}const ca=g.useMemo(()=>{if(!_)return null;const S=(_.origenes||[]).filter(ue=>ue.existe&&ue.lectura).length,$=(_.origenes||[]).length,Q=!!(_.destino?.existe&&_.destino?.es_directorio&&_.destino?.lectura&&_.destino?.escritura);return{okOrigenes:S,totalOrigenes:$,okDestino:Q}},[_]);async function sl(){if(!_)return;const S=[];S.push("LOG-02 - Resultado de validacin"),S.push("");for(const ue of _.origenes||[])S.push(`ORIGEN | ${ue.ruta} | existe=${ue.existe?"SI":"NO"} | lectura=${ue.lectura?"SI":"NO"} | detalle=${ue.detalle||""}`);const $=_.destino;S.push(`DESTINO | ${$?.ruta||""} | existe=${$?.existe?"SI":"NO"} | lectura=${$?.lectura?"SI":"NO"} | escritura=${$?.escritura?"SI":"NO"} | detalle=${$?.detalle||""}`);const Q=S.join(`
`);await Ji(Q)}async function jr(){const S=[];S.push("LOG-02 - Estado de copiado (PB-LOG-015)"),S.push(`operation_id: ${be||"N/D"}`),S.push(`progreso: ${Number.isFinite(Ie)?Ie.toFixed(0):"0"}%`),S.push(`estado: ${Ue||""}`),De&&S.push(`OI: ${De}`),Je&&S.push(`mensaje: ${Je}`),await Ji(S.join(`
`))}function rl(S){const $=String(S||""),Q=$.match(/(\d+)\s*\/\s*(\d+)\s*PDFs?/i),ue=$.match(/(\d+)\s*\/\s*(\d+)\s*(?:OIs?|OI)/i)||$.match(/\b(\d+)\s*\/\s*(\d+)\b/),qe=Q?{done:Number(Q[1]),total:Number(Q[2])}:null,Ye=ue?{done:Number(ue[1]),total:Number(ue[2])}:null;return{pdf:qe,oi:Ye}}const xn=g.useMemo(()=>{const S=rl(Je||"");return{pdfDone:S.pdf?.done,pdfTotal:S.pdf?.total,oiDone:S.oi?.done,oiTotal:S.oi?.total}},[Je]);function ta(S){const $=(S||"").trim();return $?Kr?Kr($):$:""}async function vs(){const S=[];S.push("LOG-02 - Detalle en vivo (ltimos eventos)"),S.push("");for(const Q of Ct.slice(-80)){const qe=new Date(Q.ts).toLocaleString("es-PE",{timeZone:Mm,hour12:!1});S.push(`${qe} | ${Q.source} | ${Q.type}${Q.stage?` | ${Q.stage}`:""}${Q.oi?` | oi=${Q.oi}`:""}${typeof Q.progress=="number"?` | ${Math.round(Q.progress)}%`:""}${Q.message?` | ${Q.message}`:""}`)}const $=S.join(`
`);try{await navigator.clipboard.writeText($)}catch{try{const Q=document.createElement("textarea");Q.value=$,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q)}catch{}}}const ua=!!_?.ok,Un=!!_?.ok&&!!ie?.id,O=c!=="consolidate",F=Math.max(0,Math.trunc(f||0));g.useEffect(()=>{y||p(String(F))},[F,y]),g.useEffect(()=>{O&&y&&(x(!1),p(String(F)))},[O,y,F]);function he(S){S===2&&!ua||S===3&&!Un||sn(S)}const Me=_?.ok?ie?.id?"":"Falta seleccionar corrida":"Falta validar rutas";return l.jsxs("div",{className:"container-fluid",children:[l.jsx("div",{className:"row",children:l.jsxs("div",{className:"col-12",children:[l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Filtrado de certificados PDF (LOG-02)"}),l.jsxs("div",{className:"text-muted small",children:["Este mdulo se orienta a ",l.jsx("strong",{children:"copiar"})," y ",l.jsx("strong",{children:"filtrar"})," certificados PDF desde una",l.jsx("strong",{children:" carpeta compartida"})," (no ZIP).",l.jsx("br",{}),"Configura las rutas UNC y valida accesos antes de iniciar el filtrado."]}),E?l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:E}):null,l.jsxs("div",{className:"vi-wizard-header mT-15",children:[l.jsxs("ul",{className:"nav nav-pills vi-stepper",role:"tablist","aria-label":"Flujo LOG-02",children:[l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(Dt===1?"active":""),onClick:()=>he(1),children:[l.jsx("span",{className:"vi-step-num",children:"1"})," Rutas"]})}),l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(Dt===2?"active":""),onClick:()=>he(2),disabled:!ua,title:ua?"":"Primero valida rutas",children:[l.jsx("span",{className:"vi-step-num",children:"2"})," Corrida LOG-01"]})}),l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(Dt===3?"active":""),onClick:()=>he(3),disabled:!Un,title:Un?"":"Falta validar rutas o elegir corrida",children:[l.jsx("span",{className:"vi-step-num",children:"3"})," Ejecucin"]})})]}),l.jsxs("div",{className:"small text-muted mT-5",children:["Flujo recomendado: ",l.jsx("strong",{children:"1) Validar rutas"}),"  ",l.jsx("strong",{children:"2) Elegir corrida"})," "," ",l.jsx("strong",{children:"3) Iniciar copiado"}),"."]})]}),l.jsxs("div",{className:"accordion vi-wizard mT-15",id:"log02Wizard",children:[l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step1Head",children:l.jsx("button",{className:"accordion-button "+(Dt===1?"":"collapsed"),type:"button",onClick:()=>he(1),children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"1"}),l.jsx("span",{className:"vi-step-title",children:"Rutas UNC"}),_?.ok?l.jsx("span",{className:"badge bg-success",children:"OK"}):_?l.jsx("span",{className:"badge bg-danger",children:"Revisar"}):l.jsx("span",{className:"badge bg-secondary",children:"Pendiente"})]})})}),l.jsx("div",{id:"log02Step1",className:"accordion-collapse collapse "+(Dt===1?"show":""),"aria-labelledby":"log02Step1Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:l.jsxs("div",{className:"row g-3",children:[l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"vi-card",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Rutas UNC"}),l.jsxs("div",{className:"row g-2",children:[l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Rutas origen (UNC)  lectura"}),e.map((S,$)=>l.jsx("div",{className:"mB-10",children:l.jsxs("div",{className:"d-flex gap-10 align-items-center",children:[l.jsxs("div",{className:"flex-grow-1",children:[l.jsx("input",{className:"form-control form-control-sm"+(D&&!Xa[$]?" is-invalid":""),value:S,onChange:Q=>Sa($,Q.target.value),placeholder:"\\\\SERVIDOR\\Compartido\\Certificados",disabled:j}),D&&!Xa[$]?l.jsx("div",{className:"small text-danger mT-5",children:"Requerido"}):null]}),l.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones origen",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void Ji((S||"").trim()),disabled:j||!(S||"").trim(),title:"Copiar ruta",style:{minWidth:84},children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>zt($),disabled:j,title:"Elegir carpeta",style:{minWidth:84},children:(S||"").trim()?"Editar":"Agregar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Qn($),disabled:j,title:"Quitar ruta",style:{minWidth:52},children:""})]})]})},$)),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:Tn,disabled:j,title:"Agregar origen",children:"Agregar origen"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Gn,disabled:j,title:"Quitar duplicados (solo UI)",children:"Quitar duplicados"})]}),l.jsxs("div",{className:"small text-muted",children:["Nota: estas rutas deben ser accesibles ",l.jsx("strong",{children:"desde el servidor"})," donde corre el backend."]})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Ruta destino (UNC)  lectura y escritura"}),l.jsxs("div",{className:"d-flex gap-10 mB-10",children:[l.jsxs("div",{className:"flex-grow-1",children:[l.jsx("input",{className:"form-control form-control-sm "+(D&&!Mn?"is-invalid":""),value:s,onChange:S=>i(S.target.value),placeholder:"\\\\SERVIDOR\\Compartido\\Salida_LOG02",disabled:j}),D&&!Mn?l.jsx("div",{className:"small text-danger mT-5",children:"Destino requerido."}):null]}),l.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones destino",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void Ji(Mn),disabled:j||!Mn,title:"Copiar ruta",style:{minWidth:84},children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Bs,disabled:j,title:"Elegir carpeta",style:{minWidth:84},children:Mn?"Editar":"Agregar"})]})]}),l.jsxs("div",{className:"mT-5",children:[l.jsx("div",{className:"small text-muted mB-5",children:Jt?"Listo para validar.":"Completa orgenes y destino."}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void yr(),disabled:j||!Jt,children:j?"Validando...":"Validar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:bn,disabled:j,title:"Limpia orgenes y destino",children:"Limpiar rutas"})]})]})]})]})]})}),l.jsx("div",{className:"col-12",children:_?l.jsxs("div",{className:"vi-card",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado de validacin"}),ca?l.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center mB-10",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["Orgenes OK: ",l.jsx("strong",{children:ca.okOrigenes})," / ",ca.totalOrigenes]}),l.jsxs("span",{className:ca.okDestino?"badge bg-success":"badge bg-danger",children:["Destino: ",ca.okDestino?"OK":"No OK"]}),_.ok?null:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void sl(),children:"Copiar detalle"})]}):null,l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),l.jsx("th",{children:"Ruta"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Existe"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Lectura"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Escritura"}),l.jsx("th",{children:"Detalle"})]})}),l.jsxs("tbody",{children:[_.origenes.map((S,$)=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:"Origen"})}),l.jsx("td",{style:{wordBreak:"break-all"},children:S.ruta||"N/D"}),l.jsx("td",{children:l.jsx("span",{className:Il(S.existe),children:S.existe?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:Il(S.lectura),children:S.lectura?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:Il(null),children:""})}),l.jsx("td",{children:S.detalle||""})]},`o-${$}`)),l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:"Destino"})}),l.jsx("td",{style:{wordBreak:"break-all"},children:_.destino.ruta||"N/D"}),l.jsx("td",{children:l.jsx("span",{className:Il(_.destino.existe),children:_.destino.existe?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:Il(_.destino.lectura),children:_.destino.lectura?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:Il(!!_.destino.escritura),children:_.destino.escritura?"S":"No"})}),l.jsx("td",{children:_.destino.detalle||""})]})]})]})}),_.ok?l.jsx("div",{className:"alert alert-success mT-15",role:"alert",children:"Rutas validadas correctamente. Puedes continuar con la siguiente fase."}):l.jsx("div",{className:"alert alert-warning mT-15",role:"alert",children:"Hay rutas con problemas. Corrige existencia/permisos y vuelve a validar."})]}):l.jsx("div",{className:"vi-callout small",children:"An no has validado las rutas. Ejecuta Validar para continuar al paso 2."})})]})})})]}),l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step2Head",children:l.jsx("button",{className:"accordion-button "+(Dt===2?"":"collapsed"),type:"button",onClick:()=>he(2),disabled:!ua,children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"2"}),l.jsx("span",{className:"vi-step-title",children:"Corrida LOG-01"}),ie?.id?l.jsx("span",{className:"badge bg-success",children:"Seleccionada"}):ua?l.jsx("span",{className:"badge bg-warning vi-text-contrast",children:"Pendiente"}):l.jsx("span",{className:"badge bg-secondary",children:"Bloqueado"})]})})}),l.jsx("div",{id:"log02Step2",className:"accordion-collapse collapse "+(Dt===2?"show":""),"aria-labelledby":"log02Step2Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:ua?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between gap-10",children:[l.jsxs("div",{className:"vi-card flex-grow-1",children:[l.jsx("div",{className:"small text-muted",children:"Corrida seleccionada"}),ie?.id?l.jsx("div",{className:"mT-5",children:l.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["#",ie.id]}),ie?.created_at?l.jsx("span",{className:"small text-muted",children:Ly(ie.created_at)}):null,ie?.source?l.jsx("span",{className:"small text-muted",children:ie.source}):null,ie?.status?l.jsx("span",{className:"small text-muted",children:ie.status}):null]})}):l.jsx("div",{className:"text-muted small mT-5",children:"An no se ha elegido una corrida."})]}),l.jsx("div",{className:"d-flex gap-10",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Pn,disabled:k,children:ie?.id?"Cambiar corrida":"Elegir corrida"})})]}),ie?.id?null:l.jsx("div",{className:"vi-callout mT-10 small",children:"Debes seleccionar una corrida de LOG-01 (historial) para usar su manifiesto y NO CONFORME."})]}):l.jsx("div",{className:"vi-callout small",children:"Valida rutas para habilitar este paso."})})})]}),l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step3Head",children:l.jsx("button",{className:"accordion-button "+(Dt===3?"":"collapsed"),type:"button",onClick:()=>he(3),disabled:!Un,children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"3"}),l.jsx("span",{className:"vi-step-title",children:"Ejecucin"}),k?l.jsx("span",{className:"badge bg-primary",children:"En progreso"}):C?l.jsx("span",{className:"badge bg-success",children:"Completado"}):Un?l.jsx("span",{className:"badge bg-secondary",children:"Listo"}):l.jsx("span",{className:"badge bg-secondary",children:"Bloqueado"})]})})}),l.jsx("div",{id:"log02Step3",className:"accordion-collapse collapse "+(Dt===3?"show":""),"aria-labelledby":"log02Step3Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:Un?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"vi-card mB-10",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Salida de copiado"}),l.jsxs("div",{className:"row g-2",children:[l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",id:"log02-out-consolidate",name:"log02-output-mode",checked:c==="consolidate",disabled:k,onChange:()=>d("consolidate")}),l.jsxs("label",{className:"form-check-label",htmlFor:"log02-out-consolidate",children:[l.jsx("strong",{children:"Consolidar en una sola carpeta"}),l.jsxs("span",{className:"text-muted small",children:[" ","(se crea <SERIE_INICIAL>_AL_<SERIE_FINAL>)"]})]})]})}),l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",id:"log02-out-keep",name:"log02-output-mode",checked:c==="keep_structure",disabled:k,onChange:()=>d("keep_structure")}),l.jsx("label",{className:"form-check-label",htmlFor:"log02-out-keep",children:l.jsx("strong",{children:"Mantener estructura de carpetas"})})]})}),l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label mT-10",children:"Agrupar en subcarpetas por N"}),l.jsx("input",{type:"number",min:0,step:1,className:"form-control form-control-sm",value:y?v:F,disabled:k||O,onChange:S=>{const $=S.target.value;if(p($),$==="")return;const Q=Number($),ue=Number.isFinite(Q)?Math.max(0,Math.trunc(Q)):0;h(ue)},onFocus:()=>{x(!0),p(F===0?"":String(F))},onBlur:()=>{x(!1);const S=(v||"").trim();if(!S){h(0),p("0");return}const $=Number(S),Q=Number.isFinite($)?Math.max(0,Math.trunc($)):0;h(Q),p(String(Q))},placeholder:"0"}),l.jsx("div",{className:"small text-muted",children:O?"Disponible solo en modo Consolidar.":F===0?"N=0: no se crean subcarpetas.":`Se crean subcarpetas de ${F} PDFs (ltimo grupo puede ser menor).`})]})]})]}),l.jsxs("div",{className:"d-flex flex-wrap gap-10 mB-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void Sr(),disabled:!Is,title:Me,children:k?"Copiando...":"Iniciar copiado"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void Wa(),disabled:!k||!be,children:"Cancelar"})]}),l.jsxs("div",{className:"mT-10",children:[l.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),k?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null,be?l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["op: ",l.jsx("strong",{children:be})]}):null,l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto ms-auto",onClick:()=>void jr(),disabled:!Ue&&!Je&&!be,title:"Copiar estado del progreso",children:"Copiar estado"})]}),l.jsxs("div",{className:"d-flex flex-wrap gap-10 mB-5",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["PDFs: ",xn.pdfDone??""," / ",xn.pdfTotal??""]}),l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["OIs: ",xn.oiDone??""," / ",xn.oiTotal??""]}),ve.length?l.jsxs("span",{className:"badge bg-warning vi-text-contrast",children:["Advertencias: ",ve.length]}):null,Ae.length?l.jsxs("span",{className:"badge bg-danger",children:["Errores: ",Ae.length]}):null]}),l.jsxs("div",{className:"small text-muted",children:[l.jsx("strong",{children:Ue?ta(Ue):k?"En progreso":""}),Je?l.jsxs("span",{children:["  ",Je]}):null]}),l.jsxs("div",{className:"small text-muted",children:[De?`OI actual: ${De}`:"OI actual: ",xn.pdfDone!=null&&xn.pdfTotal!=null?l.jsxs("span",{children:["  ",xn.pdfDone,"/",xn.pdfTotal," PDFs"]}):null,xn.oiDone!=null&&xn.oiTotal!=null?l.jsxs("span",{children:["  ",xn.oiDone,"/",xn.oiTotal," OIs"]}):null]}),l.jsx("div",{className:"progress vi-progress",children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Math.max(0,Math.min(100,Ie))}%`},"aria-valuenow":Ie,"aria-valuemin":0,"aria-valuemax":100,children:l.jsxs("span",{className:"vi-progress-label",children:[Ie.toFixed(0),"%"]})})})]}),l.jsx("div",{className:"accordion mT-10",id:"log02LiveLog",children:l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02LiveLogHead",children:l.jsxs("button",{className:"accordion-button vi-acc-sm "+(fn?"":"collapsed"),type:"button",onClick:()=>Xt(S=>!S),children:["Detalle en vivo ",Ct.length?`(${Ct.length})`:""]})}),l.jsx("div",{id:"log02LiveLogBody",className:"accordion-collapse collapse "+(fn?"show":""),"aria-labelledby":"log02LiveLogHead",children:l.jsxs("div",{className:"accordion-body p-0",children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between gap-10 p-10",children:[l.jsxs("div",{className:"small text-muted",children:["ltimos eventos (mx ",nm,")"]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void vs(),disabled:!Ct.length,children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>gn([]),disabled:!Ct.length,children:"Limpiar"})]})]}),l.jsx("div",{className:"vi-logbox",children:Ct.length?Ct.slice(-80).map((S,$)=>{const qe=`${new Date(S.ts).toLocaleString("es-PE",{timeZone:Mm,hour12:!1})} | ${S.source} | ${S.type}${S.stage?` | ${S.stage}`:""}${S.oi?` | oi=${S.oi}`:""}${typeof S.progress=="number"?` | ${Math.round(S.progress)}%`:""}${S.message?` | ${S.message}`:""}`;return l.jsx("div",{className:"vi-logline",children:qe},`le-${$}`)}):l.jsx("div",{className:"small text-muted",children:"Sin eventos an."})})]})})]})}),Ae.length?l.jsxs("div",{className:"alert alert-danger mT-10",role:"alert",children:[l.jsx("strong",{children:"Se detectaron errores:"}),l.jsx("ul",{className:"mB-0 mT-5",children:Ae.slice(-8).map((S,$)=>l.jsxs("li",{children:[S.oi?`[${S.oi}] `:"",S.file?`${S.file}: `:"",S.message]},`ce-${$}`))})]}):null,ve.length?l.jsxs("div",{className:"alert alert-warning mT-10",role:"alert",children:[l.jsx("strong",{children:"Advertencias:"}),l.jsx("ul",{className:"mB-0 mT-5",children:ve.slice(-8).map((S,$)=>l.jsxs("li",{children:["[",S.oi,"] ",S.code?`${S.code}: `:"",S.message]},`cw-${$}`))})]}):null,C?l.jsxs("div",{className:"mT-15",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Auditora de copiado"}),l.jsxs("div",{className:"row g-2",children:[l.jsx("div",{className:"col-12 col-md-4",children:l.jsxs("div",{className:"alert alert-light mB-0",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Total OIs:"})," ",C?.total_ois??"N/D"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"OIs OK:"})," ",C?.ois_ok??"N/D"]})]})}),l.jsx("div",{className:"col-12 col-md-8",children:l.jsx("div",{className:"alert alert-light mB-0",children:l.jsxs("div",{className:"d-flex flex-wrap gap-10",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"PDF detectados:"})," ",C?.archivos?.pdf_detectados??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"PDF copiados:"})," ",C?.archivos?.pdf_copiados??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Omitidos NO CONFORME:"})," ",C?.archivos?.pdf_omitidos_no_conforme??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"No PDF omitidos:"})," ",C?.archivos?.archivos_no_pdf_omitidos??"N/D"]})]})})})]}),C?.ois_faltantes?.length||C?.ois_duplicadas?.length||C?.destinos_duplicados?.length||C?.series_duplicadas?.length||C?.series_faltantes?.length?l.jsxs("div",{className:"mT-10",children:[C?.ois_faltantes?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"OIs sin carpeta:"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.ois_faltantes.slice(0,10).map((S,$)=>l.jsxs("li",{children:[S?.oi,"  ",S?.detalle||""]},`of-${$}`))})]}):null,C?.ois_duplicadas?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"OIs con mltiples carpetas (duplicadas):"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.ois_duplicadas.slice(0,10).map((S,$)=>l.jsxs("li",{children:[S?.oi,"  ",Array.isArray(S?.carpetas)?S.carpetas.join(" | "):""]},`od-${$}`))})]}):null,C?.destinos_duplicados?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Destinos ya existentes:"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.destinos_duplicados.slice(0,10).map((S,$)=>l.jsxs("li",{children:[S?.oi,"  ",S?.destino||""]},`dd-${$}`))})]}):null,C?.series_duplicadas?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Series duplicadas (mismo nombre de PDF):"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.series_duplicadas.slice(0,12).map((S,$)=>l.jsxs("li",{children:[l.jsx("strong",{children:S?.oi}),"  ",S?.serie," (",Array.isArray(S?.files)?S.files.length:0," archivo(s))"]},`sd-${$}`))}),C.series_duplicadas.length>12?l.jsxs("div",{className:"small text-muted mT-5",children:["Mostrando 12 de ",C.series_duplicadas.length,". Revisa el audit JSON para el detalle completo."]}):null]}):null,C?.series_faltantes?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Series faltantes (conforme en manifiesto, sin PDF):"}),l.jsx("ul",{className:"mB-0 mT-5",children:C.series_faltantes.slice(0,12).map((S,$)=>l.jsxs("li",{children:[l.jsx("strong",{children:S?.oi}),"  ",S?.count," faltante(s)"]},`sf-${$}`))}),C.series_faltantes.length>12?l.jsxs("div",{className:"small text-muted mT-5",children:["Mostrando 12 de ",C.series_faltantes.length,". Revisa el audit JSON para el detalle completo."]}):null]}):null]}):null]}):null]}):l.jsx("div",{className:"vi-callout small",children:"Valida rutas y selecciona una corrida para habilitar la ejecucin."})})})]})]})]}),k?l.jsx("div",{className:"vi-sticky-actions",children:l.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-10 vi-sticky-actions-row",children:[l.jsxs("div",{className:"small vi-sticky-progress",children:[l.jsx("strong",{children:Ue?ta(Ue):"En progreso"}),De?l.jsxs("span",{children:["  OI: ",De]}):null,l.jsxs("span",{className:"text-muted",children:["  ",Ie.toFixed(0),"%"]})]}),l.jsxs("div",{className:"d-flex gap-10 vi-sticky-buttons",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void Wa(),disabled:!be,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>Xt(!0),children:"Ver detalle"})]})]})}):null]})}),U?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Seleccionar corrida de LOG-01 (Historial)"}),l.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>T(!1),children:l.jsx("span",{"aria-hidden":"true",children:""})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"text-muted small mB-10",children:["Por defecto se cargan las ",l.jsx("strong",{children:"ltimas 5 corridas completadas"}),". Puedes usar filtros si lo necesitas."]}),ee?l.jsx("div",{className:"alert alert-danger",role:"alert",children:ee}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:S=>{S.preventDefault(),vn()},children:[l.jsxs("div",{className:"col-12 col-md-4",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:ke,onChange:S=>Te(S.target.value),placeholder:"Serie / OI / usuario..."})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Desde"}),l.jsx("input",{className:"form-control form-control-sm",type:"date",value:M,onChange:S=>H(S.target.value)})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Hasta"}),l.jsx("input",{className:"form-control form-control-sm",type:"date",value:ae,onChange:S=>xe(S.target.value)})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsx("input",{className:"form-control form-control-sm",value:Ce,onChange:S=>w(S.target.value),placeholder:"AUTO/BASES/..."})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Estado"}),l.jsx("input",{className:"form-control form-control-sm",value:K,onChange:S=>fe(S.target.value),placeholder:"COMPLETADO"})]}),l.jsxs("div",{className:"col-12 d-flex gap-10",children:[l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:G,children:G?"Buscando...":"Aplicar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>{Te(""),H(""),xe(""),w(""),fe("COMPLETADO"),la(5)},disabled:G,children:"Ver ltimas 5 exitosas"})]})]}),l.jsx("hr",{}),G?l.jsx("div",{className:"text-muted small",children:"Cargando corridas..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{width:90},children:"ID"}),l.jsx("th",{children:"Creado"}),l.jsx("th",{style:{width:120},children:"Origen"}),l.jsx("th",{style:{width:140},children:"Estado"}),l.jsx("th",{style:{width:120}})]})}),l.jsx("tbody",{children:Ee.length?Ee.map(S=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{children:l.jsxs("strong",{children:["#",S.id]})}),l.jsx("td",{children:Ly(S.created_at)}),l.jsx("td",{children:S.source||"N/D"}),l.jsx("td",{children:S.status||"N/D"}),l.jsx("td",{children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Ka(S),children:"Usar"})})]},S.id)):l.jsx("tr",{className:"small",children:l.jsx("td",{colSpan:5,className:"text-muted",children:"Sin resultados."})})})]})})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>T(!1),children:"Cerrar"})})]})})}),l.jsx("div",{className:"modal-backdrop fade show"})]}):null,dn?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:Fn==="destino"?"Elegir carpeta de destino":"Elegir carpeta de origen"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>$n(!1)})]}),l.jsxs("div",{className:"modal-body",children:[Pt?l.jsx("div",{className:"alert alert-danger",role:"alert",children:Pt}):null,l.jsxs("div",{className:"row g-2",children:[l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label",children:"Raz"}),l.jsx("select",{className:"form-control form-control-sm",value:Zn,onChange:S=>{const $=S.target.value;X($),Wn($)},disabled:!Jn.length,children:Jn.length?Jn.map(S=>l.jsx("option",{value:S,children:S},S)):l.jsx("option",{value:"",children:"Sin races"})})]}),l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label",children:"Carpeta actual"}),l.jsx("input",{className:"form-control form-control-sm",value:W,readOnly:!0})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsx("label",{className:"form-label mB-5",children:"Navegacin"}),l.jsxs("div",{className:"p-10 vi-surface-2 border vi-border rounded",children:[l.jsx("div",{className:"d-flex flex-wrap align-items-center gap-10",children:tl(W).map((S,$,Q)=>l.jsxs("span",{className:"small d-inline-flex align-items-center",children:[l.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:()=>void Wn(S.path),disabled:tt,title:`Ir a: ${S.path}`,children:S.label}),$<Q.length-1?l.jsx("span",{className:"text-muted mX-5",children:"/"}):null]},`${S.path}-${$}`))}),l.jsx("div",{className:"small vi-text-muted mT-5",children:"Tip: Click en una seccin para saltar a esa carpeta."})]})]}),l.jsxs("div",{className:"row g-2 mT-10",children:[l.jsxs("div",{className:"col-12 col-md-8",children:[l.jsx("label",{className:"form-label",children:"Ir a ruta"}),l.jsxs("div",{className:"input-group input-group-sm",children:[l.jsx("input",{className:"form-control",value:gt,onChange:S=>Tt(S.target.value),onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),qs())},placeholder:"Pega una ruta (UNC o local) dentro de las races permitidas",disabled:tt}),l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>void qs(),disabled:tt||!gt.trim(),children:"Ir"})]})]}),l.jsxs("div",{className:"col-12 col-md-4",children:[l.jsx("label",{className:"form-label",children:"Acciones"}),l.jsx("div",{className:"d-flex align-items-end",style:{minHeight:31},children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void br(),disabled:!W||tt,title:"Copiar la ruta actual al portapapeles",children:"Copiar ruta"})})]})]}),l.jsxs("div",{className:"d-flex gap-10 mT-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:hs,disabled:!W||tt,children:"Subir nivel"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:yn,disabled:!W||tt,children:"Seleccionar carpeta"})]}),l.jsx("hr",{}),l.jsx("div",{className:"row g-2 mB-10",children:l.jsxs("div",{className:"col-12 col-md-8",children:[l.jsx("label",{className:"form-label",children:"Buscar subcarpeta"}),l.jsx("input",{className:"form-control form-control-sm",value:Et,onChange:S=>ut(S.target.value),placeholder:"Filtrar por nombre",disabled:tt}),l.jsxs("div",{className:"form-text",children:["Mostrando ",wt.length," de ",He.length]})]})}),tt?l.jsx("div",{className:"text-muted small",children:"Cargando carpetas..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{children:"Subcarpetas"}),l.jsx("th",{style:{width:120}})]})}),l.jsx("tbody",{children:wt.length?wt.map((S,$)=>l.jsxs("tr",{className:"small"+(bt===S.path?" table-active":""),role:"button",tabIndex:0,"data-folder-idx":$,title:"Click para seleccionar  Doble click para entrar",style:{cursor:tt?"default":"pointer"},onClick:Q=>{tt||(Zt(S.path),Q.currentTarget.focus())},onDoubleClick:()=>{tt||Wn(S.path)},onKeyDown:Q=>{if(!tt){if(Q.key==="Enter"){Q.preventDefault(),Wn(S.path);return}if(Q.key===" "||Q.key==="Spacebar"){Q.preventDefault(),Zt(S.path);return}}},children:[l.jsx("td",{style:{wordBreak:"break-all"},children:S.name}),l.jsx("td",{children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Q=>{Q.stopPropagation(),Wn(S.path)},disabled:tt,children:"Entrar"})})]},S.path)):l.jsx("tr",{className:"small",children:l.jsx("td",{colSpan:2,className:"text-muted",children:"Sin resultados para el filtro, o sin subcarpetas/permisos para listar."})})})]})})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>$n(!1),children:"Cerrar"})})]})})}),l.jsx("div",{className:"modal-backdrop fade show",onClick:()=>$n(!1)})]}):null]})}function oD(){const e=On();return l.jsx(l.Fragment,{children:l.jsxs(Qj,{children:[l.jsx(rn,{path:"/login",element:e?.token?l.jsx(mr,{to:"/home",replace:!0}):l.jsx(qE,{})}),l.jsx(rn,{element:l.jsx(RT,{}),children:l.jsxs(rn,{element:l.jsx(MT,{}),children:[l.jsx(rn,{path:"/",element:l.jsx(mr,{to:"/home",replace:!0})}),l.jsx(rn,{path:"/home",element:l.jsx(P2,{})}),l.jsx(rn,{path:"/oi",element:l.jsx(Oy,{})}),l.jsx(rn,{path:"/oi/:oiId",element:l.jsx(Oy,{})}),l.jsx(rn,{path:"/oi/list",element:l.jsx(UT,{})}),l.jsx(rn,{path:"/users",element:l.jsx(BT,{})}),l.jsx(rn,{path:"/password",element:l.jsx(qT,{})}),l.jsx(rn,{path:"/admin/permisos",element:l.jsx(FT,{})}),l.jsx(rn,{path:"/logistica/log01/excel",element:l.jsx(X2,{})}),l.jsx(rn,{path:"/logistica/log01/history",element:l.jsx(aD,{})}),l.jsx(rn,{path:"/logistica/log02/pdfs",element:l.jsx(iD,{})}),l.jsx(rn,{path:"/oi/tools/vima-to-lista",element:l.jsx(e2,{})}),l.jsx(rn,{path:"/oi/tools/actualizacion-base",element:l.jsx(O2,{})}),l.jsx(rn,{path:"/oi/tools/formato-ac/history",element:l.jsx(U2,{})}),l.jsx(rn,{path:"/oi/tools/consolidacion",element:l.jsx(L2,{})}),l.jsx(rn,{path:"/oi/tools/consolidacion/correlativo",element:l.jsx($2,{})}),l.jsx(rn,{path:"/oi/tools/consolidacion/no-correlativo",element:l.jsx(Z2,{})}),l.jsx(rn,{path:"/oi/tools/excel",element:l.jsx(G2,{})})]})}),l.jsx(rn,{path:"*",element:l.jsx(mr,{to:e?.token?"/home":"/login",replace:!0})})]})})}const cD=new Yw;UE();tj.createRoot(document.getElementById("root")).render(l.jsx(ht.StrictMode,{children:l.jsx(Kw,{client:cD,children:l.jsx(vw,{children:l.jsx(kE,{children:l.jsx(oD,{})})})})}));
