(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();function lb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sf={exports:{}},Si={};var _y;function d_(){if(_y)return Si;_y=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,o,d){var m=null;if(d!==void 0&&(m=""+d),o.key!==void 0&&(m=""+o.key),"key"in o){d={};for(var h in o)h!=="key"&&(d[h]=o[h])}else d=o;return o=d.ref,{$$typeof:e,type:l,key:m,ref:o!==void 0?o:null,props:d}}return Si.Fragment=a,Si.jsx=s,Si.jsxs=s,Si}var wy;function f_(){return wy||(wy=1,sf.exports=d_()),sf.exports}var c=f_(),rf={exports:{}},Je={};var Ny;function m_(){if(Ny)return Je;Ny=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function U(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,w={};function H(A,Y,re){this.props=A,this.context=Y,this.refs=w,this.updater=re||E}H.prototype.isReactComponent={},H.prototype.setState=function(A,Y){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Y,"setState")},H.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function D(){}D.prototype=H.prototype;function P(A,Y,re){this.props=A,this.context=Y,this.refs=w,this.updater=re||E}var N=P.prototype=new D;N.constructor=P,R(N,H.prototype),N.isPureReactComponent=!0;var T=Array.isArray;function J(){}var z={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ce(A,Y,re){var _e=re.ref;return{$$typeof:e,type:A,key:Y,ref:_e!==void 0?_e:null,props:re}}function Ne(A,Y){return ce(A.type,Y,A.props)}function Oe(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function de(A){var Y={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(re){return Y[re]})}var Se=/\/+/g;function pe(A,Y){return typeof A=="object"&&A!==null&&A.key!=null?de(""+A.key):Y.toString(36)}function Te(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(J,J):(A.status="pending",A.then(function(Y){A.status==="pending"&&(A.status="fulfilled",A.value=Y)},function(Y){A.status==="pending"&&(A.status="rejected",A.reason=Y)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function q(A,Y,re,_e,Ae){var De=typeof A;(De==="undefined"||De==="boolean")&&(A=null);var Me=!1;if(A===null)Me=!0;else switch(De){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(A.$$typeof){case e:case a:Me=!0;break;case v:return Me=A._init,q(Me(A._payload),Y,re,_e,Ae)}}if(Me)return Ae=Ae(A),Me=_e===""?"."+pe(A,0):_e,T(Ae)?(re="",Me!=null&&(re=Me.replace(Se,"$&/")+"/"),q(Ae,Y,re,"",function($e){return $e})):Ae!=null&&(Oe(Ae)&&(Ae=Ne(Ae,re+(Ae.key==null||A&&A.key===Ae.key?"":(""+Ae.key).replace(Se,"$&/")+"/")+Me)),Y.push(Ae)),1;Me=0;var Xe=_e===""?".":_e+":";if(T(A))for(var me=0;me<A.length;me++)_e=A[me],De=Xe+pe(_e,me),Me+=q(_e,Y,re,De,Ae);else if(me=U(A),typeof me=="function")for(A=me.call(A),me=0;!(_e=A.next()).done;)_e=_e.value,De=Xe+pe(_e,me++),Me+=q(_e,Y,re,De,Ae);else if(De==="object"){if(typeof A.then=="function")return q(Te(A),Y,re,_e,Ae);throw Y=String(A),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(A,Y,re){if(A==null)return A;var _e=[],Ae=0;return q(A,_e,"","",function(De){return Y.call(re,De,Ae++)}),_e}function se(A){if(A._status===-1){var Y=A._result;Y=Y(),Y.then(function(re){(A._status===0||A._status===-1)&&(A._status=1,A._result=re)},function(re){(A._status===0||A._status===-1)&&(A._status=2,A._result=re)}),A._status===-1&&(A._status=0,A._result=Y)}if(A._status===1)return A._result.default;throw A._result}var we=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Re={map:ne,forEach:function(A,Y,re){ne(A,function(){Y.apply(this,arguments)},re)},count:function(A){var Y=0;return ne(A,function(){Y++}),Y},toArray:function(A){return ne(A,function(Y){return Y})||[]},only:function(A){if(!Oe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Je.Activity=S,Je.Children=Re,Je.Component=H,Je.Fragment=s,Je.Profiler=o,Je.PureComponent=P,Je.StrictMode=l,Je.Suspense=y,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Je.__COMPILER_RUNTIME={__proto__:null,c:function(A){return z.H.useMemoCache(A)}},Je.cache=function(A){return function(){return A.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(A,Y,re){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var _e=R({},A.props),Ae=A.key;if(Y!=null)for(De in Y.key!==void 0&&(Ae=""+Y.key),Y)!ee.call(Y,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Y.ref===void 0||(_e[De]=Y[De]);var De=arguments.length-2;if(De===1)_e.children=re;else if(1<De){for(var Me=Array(De),Xe=0;Xe<De;Xe++)Me[Xe]=arguments[Xe+2];_e.children=Me}return ce(A.type,Ae,_e)},Je.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},Je.createElement=function(A,Y,re){var _e,Ae={},De=null;if(Y!=null)for(_e in Y.key!==void 0&&(De=""+Y.key),Y)ee.call(Y,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ae[_e]=Y[_e]);var Me=arguments.length-2;if(Me===1)Ae.children=re;else if(1<Me){for(var Xe=Array(Me),me=0;me<Me;me++)Xe[me]=arguments[me+2];Ae.children=Xe}if(A&&A.defaultProps)for(_e in Me=A.defaultProps,Me)Ae[_e]===void 0&&(Ae[_e]=Me[_e]);return ce(A,De,Ae)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(A){return{$$typeof:h,render:A}},Je.isValidElement=Oe,Je.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:se}},Je.memo=function(A,Y){return{$$typeof:p,type:A,compare:Y===void 0?null:Y}},Je.startTransition=function(A){var Y=z.T,re={};z.T=re;try{var _e=A(),Ae=z.S;Ae!==null&&Ae(re,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(J,we)}catch(De){we(De)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),z.T=Y}},Je.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Je.use=function(A){return z.H.use(A)},Je.useActionState=function(A,Y,re){return z.H.useActionState(A,Y,re)},Je.useCallback=function(A,Y){return z.H.useCallback(A,Y)},Je.useContext=function(A){return z.H.useContext(A)},Je.useDebugValue=function(){},Je.useDeferredValue=function(A,Y){return z.H.useDeferredValue(A,Y)},Je.useEffect=function(A,Y){return z.H.useEffect(A,Y)},Je.useEffectEvent=function(A){return z.H.useEffectEvent(A)},Je.useId=function(){return z.H.useId()},Je.useImperativeHandle=function(A,Y,re){return z.H.useImperativeHandle(A,Y,re)},Je.useInsertionEffect=function(A,Y){return z.H.useInsertionEffect(A,Y)},Je.useLayoutEffect=function(A,Y){return z.H.useLayoutEffect(A,Y)},Je.useMemo=function(A,Y){return z.H.useMemo(A,Y)},Je.useOptimistic=function(A,Y){return z.H.useOptimistic(A,Y)},Je.useReducer=function(A,Y,re){return z.H.useReducer(A,Y,re)},Je.useRef=function(A){return z.H.useRef(A)},Je.useState=function(A){return z.H.useState(A)},Je.useSyncExternalStore=function(A,Y,re){return z.H.useSyncExternalStore(A,Y,re)},Je.useTransition=function(){return z.H.useTransition()},Je.version="19.2.0",Je}var jy;function fm(){return jy||(jy=1,rf.exports=m_()),rf.exports}var b=fm();const at=lb(b);var lf={exports:{}},_i={},of={exports:{}},cf={};var Ey;function h_(){return Ey||(Ey=1,(function(e){function a(q,ne){var se=q.length;q.push(ne);e:for(;0<se;){var we=se-1>>>1,Re=q[we];if(0<o(Re,ne))q[we]=ne,q[se]=Re,se=we;else break e}}function s(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var ne=q[0],se=q.pop();if(se!==ne){q[0]=se;e:for(var we=0,Re=q.length,A=Re>>>1;we<A;){var Y=2*(we+1)-1,re=q[Y],_e=Y+1,Ae=q[_e];if(0>o(re,se))_e<Re&&0>o(Ae,re)?(q[we]=Ae,q[_e]=se,we=_e):(q[we]=re,q[Y]=se,we=Y);else if(_e<Re&&0>o(Ae,se))q[we]=Ae,q[_e]=se,we=_e;else break e}}return ne}function o(q,ne){var se=q.sortIndex-ne.sortIndex;return se!==0?se:q.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var y=[],p=[],v=1,S=null,_=3,U=!1,E=!1,R=!1,w=!1,H=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var ne=s(p);ne!==null;){if(ne.callback===null)l(p);else if(ne.startTime<=q)l(p),ne.sortIndex=ne.expirationTime,a(y,ne);else break;ne=s(p)}}function T(q){if(R=!1,N(q),!E)if(s(y)!==null)E=!0,J||(J=!0,de());else{var ne=s(p);ne!==null&&Te(T,ne.startTime-q)}}var J=!1,z=-1,ee=5,ce=-1;function Ne(){return w?!0:!(e.unstable_now()-ce<ee)}function Oe(){if(w=!1,J){var q=e.unstable_now();ce=q;var ne=!0;try{e:{E=!1,R&&(R=!1,D(z),z=-1),U=!0;var se=_;try{t:{for(N(q),S=s(y);S!==null&&!(S.expirationTime>q&&Ne());){var we=S.callback;if(typeof we=="function"){S.callback=null,_=S.priorityLevel;var Re=we(S.expirationTime<=q);if(q=e.unstable_now(),typeof Re=="function"){S.callback=Re,N(q),ne=!0;break t}S===s(y)&&l(y),N(q)}else l(y);S=s(y)}if(S!==null)ne=!0;else{var A=s(p);A!==null&&Te(T,A.startTime-q),ne=!1}}break e}finally{S=null,_=se,U=!1}ne=void 0}}finally{ne?de():J=!1}}}var de;if(typeof P=="function")de=function(){P(Oe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,pe=Se.port2;Se.port1.onmessage=Oe,de=function(){pe.postMessage(null)}}else de=function(){H(Oe,0)};function Te(q,ne){z=H(function(){q(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(q){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var se=_;_=ne;try{return q()}finally{_=se}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=_;_=q;try{return ne()}finally{_=se}},e.unstable_scheduleCallback=function(q,ne,se){var we=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?we+se:we):se=we,q){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=se+Re,q={id:v++,callback:ne,priorityLevel:q,startTime:se,expirationTime:Re,sortIndex:-1},se>we?(q.sortIndex=se,a(p,q),s(y)===null&&q===s(p)&&(R?(D(z),z=-1):R=!0,Te(T,se-we))):(q.sortIndex=Re,a(y,q),E||U||(E=!0,J||(J=!0,de()))),q},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(q){var ne=_;return function(){var se=_;_=ne;try{return q.apply(this,arguments)}finally{_=se}}}})(cf)),cf}var Ay;function p_(){return Ay||(Ay=1,of.exports=h_()),of.exports}var uf={exports:{}},wn={};var Oy;function g_(){if(Oy)return wn;Oy=1;var e=fm();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,wn.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(y,p,null,v)},wn.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},wn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},wn.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},wn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:U}):v==="script"&&l.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},wn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wn.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},wn.requestFormReset=function(y){l.d.r(y)},wn.unstable_batchedUpdates=function(y,p){return y(p)},wn.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},wn.useFormStatus=function(){return m.H.useHostTransitionStatus()},wn.version="19.2.0",wn}var Cy;function y_(){if(Cy)return uf.exports;Cy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),uf.exports=g_(),uf.exports}var Ry;function v_(){if(Ry)return _i;Ry=1;var e=p_(),a=fm(),s=y_();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,i=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return y(u),t;if(f===i)return y(u),n;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var g=!1,x=u.child;x;){if(x===r){g=!0,r=u,i=f;break}if(x===i){g=!0,i=u,r=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===r){g=!0,r=f,i=u;break}if(x===i){g=!0,i=f,r=u;break}x=x.sibling}if(!g)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=Oe&&t[Oe]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case H:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case J:return"SuspenseList";case ce:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case P:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case N:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case ee:n=t._payload,t=t._init;try{return pe(t(n))}catch{}}return null}var Te=Array.isArray,q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},we=[],Re=-1;function A(t){return{current:t}}function Y(t){0>Re||(t.current=we[Re],we[Re]=null,Re--)}function re(t,n){Re++,we[Re]=t.current,t.current=n}var _e=A(null),Ae=A(null),De=A(null),Me=A(null);function Xe(t,n){switch(re(De,n),re(Ae,t),re(_e,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zg(n),t=Gg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(_e),re(_e,t)}function me(){Y(_e),Y(Ae),Y(De)}function $e(t){t.memoizedState!==null&&re(Me,t);var n=_e.current,r=Gg(n,t.type);n!==r&&(re(Ae,t),re(_e,r))}function Be(t){Ae.current===t&&(Y(_e),Y(Ae)),Me.current===t&&(Y(Me),yi._currentValue=se)}var je,Ye;function Ie(t){if(je===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);je=n&&n[1]||"",Ye=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+t+Ye}var Pe=!1;function Ee(t,n){if(!t||Pe)return"";Pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(X){var G=X}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(X){G=X}t.call(ue.prototype)}}else{try{throw Error()}catch(X){G=X}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),g=f[0],x=f[1];if(g&&x){var C=g.split(`
`),V=x.split(`
`);for(u=i=0;i<C.length&&!C[i].includes("DetermineComponentFrameRoot");)i++;for(;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;if(i===C.length||u===V.length)for(i=C.length-1,u=V.length-1;1<=i&&0<=u&&C[i]!==V[u];)u--;for(;1<=i&&0<=u;i--,u--)if(C[i]!==V[u]){if(i!==1||u!==1)do if(i--,u--,0>u||C[i]!==V[u]){var ae=`
`+C[i].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=i&&0<=u);break}}}finally{Pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ie(r):""}function K(t,n){switch(t.tag){case 26:case 27:case 5:return Ie(t.type);case 16:return Ie("Lazy");case 13:return t.child!==n&&n!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Ee(t.type,!1);case 11:return Ee(t.type.render,!1);case 1:return Ee(t.type,!0);case 31:return Ie("Activity");default:return""}}function ye(t){try{var n="",r=null;do n+=K(t,r),r=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ge=Object.prototype.hasOwnProperty,j=e.unstable_scheduleCallback,k=e.unstable_cancelCallback,F=e.unstable_shouldYield,ve=e.unstable_requestPaint,W=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,We=e.unstable_UserBlockingPriority,te=e.unstable_NormalPriority,Ge=e.unstable_LowPriority,Le=e.unstable_IdlePriority,fe=e.log,Xn=e.unstable_setDisableYieldValue,gn=null,xt=null;function Vt(t){if(typeof fe=="function"&&Xn(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(gn,t)}catch{}}var Ot=Math.clz32?Math.clz32:mt,Ua=Math.log,Jn=Math.LN2;function mt(t){return t>>>=0,t===0?32:31-(Ua(t)/Jn|0)|0}var ja=256,Wn=262144,Ea=4194304;function $(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Z(t,n,r){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var x=i&134217727;return x!==0?(i=x&~f,i!==0?u=$(i):(g&=x,g!==0?u=$(g):r||(r=x&~t,r!==0&&(u=$(r))))):(x=i&~f,x!==0?u=$(x):g!==0?u=$(g):r||(r=i&~t,r!==0&&(u=$(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function be(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ke(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var t=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),t}function ut(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function qe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lt(t,n,r,i,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,V=t.hiddenUpdates;for(r=g&~r;0<r;){var ae=31-Ot(r),ue=1<<ae;x[ae]=0,C[ae]=-1;var G=V[ae];if(G!==null)for(V[ae]=null,ae=0;ae<G.length;ae++){var X=G[ae];X!==null&&(X.lane&=-536870913)}r&=~ue}i!==0&&Ct(t,i,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ct(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-Ot(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|r&261930}function kt(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var i=31-Ot(r),u=1<<i;u&n|t[i]&n&&(t[i]|=n),r&=~u}}function mn(t,n){var r=n&-n;return r=(r&42)!==0?1:Rt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Rt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qt(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function Xt(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var Zt=Math.random().toString(36).slice(2),ht="__reactFiber$"+Zt,gt="__reactProps$"+Zt,Dt="__reactContainer$"+Zt,Jt="__reactEvents$"+Zt,oa="__reactListeners$"+Zt,An="__reactHandles$"+Zt,Un="__reactResources$"+Zt,qn="__reactMarker$"+Zt;function Bn(t){delete t[ht],delete t[gt],delete t[Jt],delete t[oa],delete t[An]}function On(t){var n=t[ht];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Dt]||r[ht]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Wg(t);t!==null;){if(r=t[ht])return r;t=Wg(t)}return n}t=r,r=t.parentNode}return null}function qa(t){if(t=t[ht]||t[Dt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function _n(t){var n=t[Un];return n||(n=t[Un]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[qn]=!0}var Ba=new Set,Ar={};function Rn(t,n){ca(t,n),ca(t+"Capture",n)}function ca(t,n){for(Ar[t]=n,t=0;t<n.length;t++)Ba.add(n[t])}var yn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ga={},Vs={};function Qa(t){return ge.call(Vs,t)?!0:ge.call(Ga,t)?!1:yn.test(t)?Vs[t]=!0:(Ga[t]=!0,!1)}function Zs(t,n,r){if(Qa(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Gs(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Aa(t,n,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+i)}}function Tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,r){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ya(t){if(!t._valueTracker){var n=Cl(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function Yi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return t&&(i=Cl(t)?t.checked?"true":"false":t.value),t=i,t!==r?(n.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var au=/[\n"\\]/g;function Ln(t){return t.replace(au,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tl(t,n,r,i,u,f,g,x){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Tn(n)):t.value!==""+Tn(n)&&(t.value=""+Tn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Dl(t,g,Tn(n)):r!=null?Dl(t,g,Tn(r)):i!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Tn(x):t.removeAttribute("name")}function Ki(t,n,r,i,u,f,g,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ya(t);return}r=r!=null?""+Tn(r):"",n=n!=null?""+Tn(n):r,x||n===t.value||(t.value=n),t.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=x?t.checked:!!i,t.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ya(t)}function Dl(t,n,r){n==="number"&&Or(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function hs(t,n,r,i){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&i&&(t[r].defaultSelected=!0)}else{for(r=""+Tn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Pi(t,n,r){if(n!=null&&(n=""+Tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Tn(r):""}function Xi(t,n,r,i){if(n==null){if(i!=null){if(r!=null)throw Error(l(92));if(Te(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),n=r}r=Tn(n),t.defaultValue=r,i=t.textContent,i===r&&i!==""&&i!==null&&(t.value=i),Ya(t)}function ps(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ji(t,n,r){var i=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,r):typeof r!="number"||r===0||su.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Wi(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&r[u]!==i&&Ji(t,u,i)}else for(var f in n)n.hasOwnProperty(f)&&Ji(t,f,n[f])}function zl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ru=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(t){return ru.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Oa(){}var Ml=null;function kl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,ys=null;function eo(t){var n=qa(t);if(n&&(t=n.stateNode)){var r=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Tl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ln(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==t&&i.form===t.form){var u=i[gt]||null;if(!u)throw Error(l(90));Tl(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)i=r[n],i.form===t.form&&Yi(i)}break e;case"textarea":Pi(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&hs(t,!!r.multiple,n,!1)}}}var Qs=!1;function to(t,n,r){if(Qs)return t(n,r);Qs=!0;try{var i=t(n);return i}finally{if(Qs=!1,(gs!==null||ys!==null)&&(Fo(),gs&&(n=gs,t=ys,ys=gs=null,eo(n),t)))for(n=0;n<t.length;n++)eo(t[n])}}function O(t,n){var r=t.stateNode;if(r===null)return null;var i=r[gt]||null;if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var L=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oe=!1;if(L)try{var xe={};Object.defineProperty(xe,"passive",{get:function(){oe=!0}}),window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,xe)}catch{oe=!1}var Ve=null,st=null,pt=null;function ua(){if(pt)return pt;var t,n=st,r=n.length,i,u="value"in Ve?Ve.value:Ve.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(i=1;i<=g&&n[r-i]===u[f-i];i++);return pt=u.slice(t,1<i?1-i:void 0)}function Ys(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function Qm(){return!1}function Fn(t){function n(r,i,u,f,g){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(r=t[x],this[x]=r?r(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ka:Qm,this.isPropagationStopped=Qm,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),n}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=Fn(Ks),Ul=S({},Ks,{view:0,detail:0}),cx=Fn(Ul),lu,iu,ql,ao=S({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(lu=t.screenX-ql.screenX,iu=t.screenY-ql.screenY):iu=lu=0,ql=t),lu)},movementY:function(t){return"movementY"in t?t.movementY:iu}}),Ym=Fn(ao),ux=S({},ao,{dataTransfer:0}),dx=Fn(ux),fx=S({},Ul,{relatedTarget:0}),ou=Fn(fx),mx=S({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=Fn(mx),px=S({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gx=Fn(px),yx=S({},Ks,{data:0}),Km=Fn(yx),vx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sx(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xx[t])?!!n[t]:!1}function cu(){return Sx}var _x=S({},Ul,{key:function(t){if(t.key){var n=vx[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wx=Fn(_x),Nx=S({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pm=Fn(Nx),jx=S({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),Ex=Fn(jx),Ax=S({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ox=Fn(Ax),Cx=S({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rx=Fn(Cx),Tx=S({},Ks,{newState:0,oldState:0}),Dx=Fn(Tx),zx=[9,13,27,32],uu=L&&"CompositionEvent"in window,Bl=null;L&&"documentMode"in document&&(Bl=document.documentMode);var Mx=L&&"TextEvent"in window&&!Bl,Xm=L&&(!uu||Bl&&8<Bl&&11>=Bl),Jm=" ",Wm=!1;function eh(t,n){switch(t){case"keyup":return zx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function kx(t,n){switch(t){case"compositionend":return th(n);case"keypress":return n.which!==32?null:(Wm=!0,Jm);case"textInput":return t=n.data,t===Jm&&Wm?null:t;default:return null}}function Ux(t,n){if(Tr)return t==="compositionend"||!uu&&eh(t,n)?(t=ua(),pt=st=Ve=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xm&&n.locale!=="ko"?null:n.data;default:return null}}var qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!qx[t.type]:n==="textarea"}function ah(t,n,r,i){gs?ys?ys.push(i):ys=[i]:gs=i,n=Qo(n,"onChange"),0<n.length&&(r=new no("onChange","change",null,r,i),t.push({event:r,listeners:n}))}var Ll=null,Fl=null;function Bx(t){Lg(t,0)}function so(t){var n=Cn(t);if(Yi(n))return t}function sh(t,n){if(t==="change")return n}var rh=!1;if(L){var du;if(L){var fu="oninput"in document;if(!fu){var lh=document.createElement("div");lh.setAttribute("oninput","return;"),fu=typeof lh.oninput=="function"}du=fu}else du=!1;rh=du&&(!document.documentMode||9<document.documentMode)}function ih(){Ll&&(Ll.detachEvent("onpropertychange",oh),Fl=Ll=null)}function oh(t){if(t.propertyName==="value"&&so(Fl)){var n=[];ah(n,Fl,t,kl(t)),to(Bx,n)}}function Lx(t,n,r){t==="focusin"?(ih(),Ll=n,Fl=r,Ll.attachEvent("onpropertychange",oh)):t==="focusout"&&ih()}function Fx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return so(Fl)}function $x(t,n){if(t==="click")return so(n)}function Ix(t,n){if(t==="input"||t==="change")return so(n)}function Hx(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ea=typeof Object.is=="function"?Object.is:Hx;function $l(t,n){if(ea(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!ge.call(n,u)||!ea(t[u],n[u]))return!1}return!0}function ch(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uh(t,n){var r=ch(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=n&&i>=n)return{node:r,offset:n-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ch(r)}}function dh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?dh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Or(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Or(t.document)}return n}function mu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Vx=L&&"documentMode"in document&&11>=document.documentMode,Dr=null,hu=null,Il=null,pu=!1;function mh(t,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pu||Dr==null||Dr!==Or(i)||(i=Dr,"selectionStart"in i&&mu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Il&&$l(Il,i)||(Il=i,i=Qo(hu,"onSelect"),0<i.length&&(n=new no("onSelect","select",null,n,r),t.push({event:n,listeners:i}),n.target=Dr)))}function Ps(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var zr={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},gu={},hh={};L&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Xs(t){if(gu[t])return gu[t];if(!zr[t])return t;var n=zr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in hh)return gu[t]=n[r];return t}var ph=Xs("animationend"),gh=Xs("animationiteration"),yh=Xs("animationstart"),Zx=Xs("transitionrun"),Gx=Xs("transitionstart"),Qx=Xs("transitioncancel"),vh=Xs("transitionend"),bh=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function Ca(t,n){bh.set(t,n),Rn(n,[t])}var ro=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},da=[],Mr=0,vu=0;function lo(){for(var t=Mr,n=vu=Mr=0;n<t;){var r=da[n];da[n++]=null;var i=da[n];da[n++]=null;var u=da[n];da[n++]=null;var f=da[n];if(da[n++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}f!==0&&xh(r,u,f)}}function io(t,n,r,i){da[Mr++]=t,da[Mr++]=n,da[Mr++]=r,da[Mr++]=i,vu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function bu(t,n,r,i){return io(t,n,r,i),oo(t)}function Js(t,n){return io(t,null,null,n),oo(t)}function xh(t,n,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-Ot(r),t=f.hiddenUpdates,i=t[u],i===null?t[u]=[n]:i.push(n),n.lane=r|536870912),f):null}function oo(t){if(50<ui)throw ui=0,Od=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var kr={};function Yx(t,n,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(t,n,r,i){return new Yx(t,n,r,i)}function xu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pa(t,n){var r=t.alternate;return r===null?(r=ta(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Sh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function co(t,n,r,i,u,f){var g=0;if(i=t,typeof t=="function")xu(t)&&(g=1);else if(typeof t=="string")g=WS(t,r,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ce:return t=ta(31,r,n,u),t.elementType=ce,t.lanes=f,t;case R:return Ws(r.children,u,f,n);case w:g=8,u|=24;break;case H:return t=ta(12,r,n,u|2),t.elementType=H,t.lanes=f,t;case T:return t=ta(13,r,n,u),t.elementType=T,t.lanes=f,t;case J:return t=ta(19,r,n,u),t.elementType=J,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:g=10;break e;case D:g=9;break e;case N:g=11;break e;case z:g=14;break e;case ee:g=16,i=null;break e}g=29,r=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=ta(g,r,n,u),n.elementType=t,n.type=i,n.lanes=f,n}function Ws(t,n,r,i){return t=ta(7,t,i,n),t.lanes=r,t}function Su(t,n,r){return t=ta(6,t,null,n),t.lanes=r,t}function _h(t){var n=ta(18,null,null,0);return n.stateNode=t,n}function _u(t,n,r){return n=ta(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var wh=new WeakMap;function fa(t,n){if(typeof t=="object"&&t!==null){var r=wh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ye(n)},wh.set(t,n),n)}return{value:t,source:n,stack:ye(n)}}var Ur=[],qr=0,uo=null,Hl=0,ma=[],ha=0,vs=null,La=1,Fa="";function Xa(t,n){Ur[qr++]=Hl,Ur[qr++]=uo,uo=t,Hl=n}function Nh(t,n,r){ma[ha++]=La,ma[ha++]=Fa,ma[ha++]=vs,vs=t;var i=La;t=Fa;var u=32-Ot(i)-1;i&=~(1<<u),r+=1;var f=32-Ot(n)+u;if(30<f){var g=u-u%5;f=(i&(1<<g)-1).toString(32),i>>=g,u-=g,La=1<<32-Ot(n)+u|r<<u|i,Fa=f+t}else La=1<<f|r<<u|i,Fa=t}function wu(t){t.return!==null&&(Xa(t,1),Nh(t,1,0))}function Nu(t){for(;t===uo;)uo=Ur[--qr],Ur[qr]=null,Hl=Ur[--qr],Ur[qr]=null;for(;t===vs;)vs=ma[--ha],ma[ha]=null,Fa=ma[--ha],ma[ha]=null,La=ma[--ha],ma[ha]=null}function jh(t,n){ma[ha++]=La,ma[ha++]=Fa,ma[ha++]=vs,La=n.id,Fa=n.overflow,vs=t}var vn=null,Ut=null,dt=!1,bs=null,pa=!1,ju=Error(l(519));function xs(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(fa(n,t)),ju}function Eh(t){var n=t.stateNode,r=t.type,i=t.memoizedProps;switch(n[ht]=t,n[gt]=i,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(r=0;r<fi.length;r++)lt(fi[r],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":lt("invalid",n),Ki(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":lt("invalid",n);break;case"textarea":lt("invalid",n),Xi(n,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||i.suppressHydrationWarning===!0||Hg(n.textContent,r)?(i.popover!=null&&(lt("beforetoggle",n),lt("toggle",n)),i.onScroll!=null&&lt("scroll",n),i.onScrollEnd!=null&&lt("scrollend",n),i.onClick!=null&&(n.onclick=Oa),n=!0):n=!1,n||xs(t,!0)}function Ah(t){for(vn=t.return;vn;)switch(vn.tag){case 5:case 31:case 13:pa=!1;return;case 27:case 3:pa=!0;return;default:vn=vn.return}}function Br(t){if(t!==vn)return!1;if(!dt)return Ah(t),dt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Hd(t.type,t.memoizedProps)),r=!r),r&&Ut&&xs(t),Ah(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=Jg(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=Jg(t)}else n===27?(n=Ut,Ms(t.type)?(t=Yd,Yd=null,Ut=t):Ut=n):Ut=vn?ya(t.stateNode.nextSibling):null;return!0}function er(){Ut=vn=null,dt=!1}function Eu(){var t=bs;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),bs=null),t}function Vl(t){bs===null?bs=[t]:bs.push(t)}var Au=A(null),tr=null,Ja=null;function Ss(t,n,r){re(Au,n._currentValue),n._currentValue=r}function Wa(t){t._currentValue=Au.current,Y(Au)}function Ou(t,n,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===r)break;t=t.return}}function Cu(t,n,r,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=u;for(var C=0;C<n.length;C++)if(x.context===n[C]){f.lanes|=r,x=f.alternate,x!==null&&(x.lanes|=r),Ou(f.return,r,t),i||(g=null);break e}f=x.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Ou(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Lr(t,n,r,i){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var x=u.type;ea(u.pendingProps.value,g.value)||(t!==null?t.push(x):t=[x])}}else if(u===Me.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(yi):t=[yi])}u=u.return}t!==null&&Cu(n,t,r,i),n.flags|=262144}function fo(t){for(t=t.firstContext;t!==null;){if(!ea(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function nr(t){tr=t,Ja=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bn(t){return Oh(tr,t)}function mo(t,n){return tr===null&&nr(t),Oh(t,n)}function Oh(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ja===null){if(t===null)throw Error(l(308));Ja=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ja=Ja.next=n;return r}var Kx=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Px=e.unstable_scheduleCallback,Xx=e.unstable_NormalPriority,nn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ru(){return{controller:new Kx,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&Px(Xx,function(){t.controller.abort()})}var Gl=null,Tu=0,Fr=0,$r=null;function Jx(t,n){if(Gl===null){var r=Gl=[];Tu=0,Fr=Md(),$r={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Tu++,n.then(Ch,Ch),n}function Ch(){if(--Tu===0&&Gl!==null){$r!==null&&($r.status="fulfilled");var t=Gl;Gl=null,Fr=0,$r=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Wx(t,n){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var Rh=q.S;q.S=function(t,n){mg=W(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jx(t,n),Rh!==null&&Rh(t,n)};var ar=A(null);function Du(){var t=ar.current;return t!==null?t:At.pooledCache}function ho(t,n){n===null?re(ar,ar.current):re(ar,n.pool)}function Th(){var t=Du();return t===null?null:{parent:nn._currentValue,pool:t}}var Ir=Error(l(460)),zu=Error(l(474)),po=Error(l(542)),go={then:function(){}};function Dh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Oa,Oa),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,kh(t),t;default:if(typeof n.status=="string")n.then(Oa,Oa);else{if(t=At,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,kh(t),t}throw rr=n,Ir}}function sr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(rr=r,Ir):r}}var rr=null;function Mh(){if(rr===null)throw Error(l(459));var t=rr;return rr=null,t}function kh(t){if(t===Ir||t===po)throw Error(l(483))}var Hr=null,Ql=0;function yo(t){var n=Ql;return Ql+=1,Hr===null&&(Hr=[]),zh(Hr,t,n)}function Yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function vo(t,n){throw n.$$typeof===_?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Uh(t){function n(B,M){if(t){var I=B.deletions;I===null?(B.deletions=[M],B.flags|=16):I.push(M)}}function r(B,M){if(!t)return null;for(;M!==null;)n(B,M),M=M.sibling;return null}function i(B){for(var M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function u(B,M){return B=Pa(B,M),B.index=0,B.sibling=null,B}function f(B,M,I){return B.index=I,t?(I=B.alternate,I!==null?(I=I.index,I<M?(B.flags|=67108866,M):I):(B.flags|=67108866,M)):(B.flags|=1048576,M)}function g(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function x(B,M,I,le){return M===null||M.tag!==6?(M=Su(I,B.mode,le),M.return=B,M):(M=u(M,I),M.return=B,M)}function C(B,M,I,le){var He=I.type;return He===R?ae(B,M,I.props.children,le,I.key):M!==null&&(M.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===ee&&sr(He)===M.type)?(M=u(M,I.props),Yl(M,I),M.return=B,M):(M=co(I.type,I.key,I.props,null,B.mode,le),Yl(M,I),M.return=B,M)}function V(B,M,I,le){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=_u(I,B.mode,le),M.return=B,M):(M=u(M,I.children||[]),M.return=B,M)}function ae(B,M,I,le,He){return M===null||M.tag!==7?(M=Ws(I,B.mode,le,He),M.return=B,M):(M=u(M,I),M.return=B,M)}function ue(B,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Su(""+M,B.mode,I),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return I=co(M.type,M.key,M.props,null,B.mode,I),Yl(I,M),I.return=B,I;case E:return M=_u(M,B.mode,I),M.return=B,M;case ee:return M=sr(M),ue(B,M,I)}if(Te(M)||de(M))return M=Ws(M,B.mode,I,null),M.return=B,M;if(typeof M.then=="function")return ue(B,yo(M),I);if(M.$$typeof===P)return ue(B,mo(B,M),I);vo(B,M)}return null}function G(B,M,I,le){var He=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return He!==null?null:x(B,M,""+I,le);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case U:return I.key===He?C(B,M,I,le):null;case E:return I.key===He?V(B,M,I,le):null;case ee:return I=sr(I),G(B,M,I,le)}if(Te(I)||de(I))return He!==null?null:ae(B,M,I,le,null);if(typeof I.then=="function")return G(B,M,yo(I),le);if(I.$$typeof===P)return G(B,M,mo(B,I),le);vo(B,I)}return null}function X(B,M,I,le,He){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return B=B.get(I)||null,x(M,B,""+le,He);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case U:return B=B.get(le.key===null?I:le.key)||null,C(M,B,le,He);case E:return B=B.get(le.key===null?I:le.key)||null,V(M,B,le,He);case ee:return le=sr(le),X(B,M,I,le,He)}if(Te(le)||de(le))return B=B.get(I)||null,ae(M,B,le,He,null);if(typeof le.then=="function")return X(B,M,I,yo(le),He);if(le.$$typeof===P)return X(B,M,I,mo(M,le),He);vo(M,le)}return null}function Ue(B,M,I,le){for(var He=null,yt=null,Fe=M,nt=M=0,ct=null;Fe!==null&&nt<I.length;nt++){Fe.index>nt?(ct=Fe,Fe=null):ct=Fe.sibling;var vt=G(B,Fe,I[nt],le);if(vt===null){Fe===null&&(Fe=ct);break}t&&Fe&&vt.alternate===null&&n(B,Fe),M=f(vt,M,nt),yt===null?He=vt:yt.sibling=vt,yt=vt,Fe=ct}if(nt===I.length)return r(B,Fe),dt&&Xa(B,nt),He;if(Fe===null){for(;nt<I.length;nt++)Fe=ue(B,I[nt],le),Fe!==null&&(M=f(Fe,M,nt),yt===null?He=Fe:yt.sibling=Fe,yt=Fe);return dt&&Xa(B,nt),He}for(Fe=i(Fe);nt<I.length;nt++)ct=X(Fe,B,nt,I[nt],le),ct!==null&&(t&&ct.alternate!==null&&Fe.delete(ct.key===null?nt:ct.key),M=f(ct,M,nt),yt===null?He=ct:yt.sibling=ct,yt=ct);return t&&Fe.forEach(function(Ls){return n(B,Ls)}),dt&&Xa(B,nt),He}function Qe(B,M,I,le){if(I==null)throw Error(l(151));for(var He=null,yt=null,Fe=M,nt=M=0,ct=null,vt=I.next();Fe!==null&&!vt.done;nt++,vt=I.next()){Fe.index>nt?(ct=Fe,Fe=null):ct=Fe.sibling;var Ls=G(B,Fe,vt.value,le);if(Ls===null){Fe===null&&(Fe=ct);break}t&&Fe&&Ls.alternate===null&&n(B,Fe),M=f(Ls,M,nt),yt===null?He=Ls:yt.sibling=Ls,yt=Ls,Fe=ct}if(vt.done)return r(B,Fe),dt&&Xa(B,nt),He;if(Fe===null){for(;!vt.done;nt++,vt=I.next())vt=ue(B,vt.value,le),vt!==null&&(M=f(vt,M,nt),yt===null?He=vt:yt.sibling=vt,yt=vt);return dt&&Xa(B,nt),He}for(Fe=i(Fe);!vt.done;nt++,vt=I.next())vt=X(Fe,B,nt,vt.value,le),vt!==null&&(t&&vt.alternate!==null&&Fe.delete(vt.key===null?nt:vt.key),M=f(vt,M,nt),yt===null?He=vt:yt.sibling=vt,yt=vt);return t&&Fe.forEach(function(u_){return n(B,u_)}),dt&&Xa(B,nt),He}function Et(B,M,I,le){if(typeof I=="object"&&I!==null&&I.type===R&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case U:e:{for(var He=I.key;M!==null;){if(M.key===He){if(He=I.type,He===R){if(M.tag===7){r(B,M.sibling),le=u(M,I.props.children),le.return=B,B=le;break e}}else if(M.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===ee&&sr(He)===M.type){r(B,M.sibling),le=u(M,I.props),Yl(le,I),le.return=B,B=le;break e}r(B,M);break}else n(B,M);M=M.sibling}I.type===R?(le=Ws(I.props.children,B.mode,le,I.key),le.return=B,B=le):(le=co(I.type,I.key,I.props,null,B.mode,le),Yl(le,I),le.return=B,B=le)}return g(B);case E:e:{for(He=I.key;M!==null;){if(M.key===He)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){r(B,M.sibling),le=u(M,I.children||[]),le.return=B,B=le;break e}else{r(B,M);break}else n(B,M);M=M.sibling}le=_u(I,B.mode,le),le.return=B,B=le}return g(B);case ee:return I=sr(I),Et(B,M,I,le)}if(Te(I))return Ue(B,M,I,le);if(de(I)){if(He=de(I),typeof He!="function")throw Error(l(150));return I=He.call(I),Qe(B,M,I,le)}if(typeof I.then=="function")return Et(B,M,yo(I),le);if(I.$$typeof===P)return Et(B,M,mo(B,I),le);vo(B,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,M!==null&&M.tag===6?(r(B,M.sibling),le=u(M,I),le.return=B,B=le):(r(B,M),le=Su(I,B.mode,le),le.return=B,B=le),g(B)):r(B,M)}return function(B,M,I,le){try{Ql=0;var He=Et(B,M,I,le);return Hr=null,He}catch(Fe){if(Fe===Ir||Fe===po)throw Fe;var yt=ta(29,Fe,null,B.mode);return yt.lanes=le,yt.return=B,yt}finally{}}}var lr=Uh(!0),qh=Uh(!1),_s=!1;function Mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(t,n,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(bt&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=oo(t),xh(t,null,r),n}return io(t,i,n,r),oo(t)}function Kl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,kt(t,r)}}function Uu(t,n){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var qu=!1;function Pl(){if(qu){var t=$r;if(t!==null)throw t}}function Xl(t,n,r,i){qu=!1;var u=t.updateQueue;_s=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var C=x,V=C.next;C.next=null,g===null?f=V:g.next=V,g=C;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,x=ae.lastBaseUpdate,x!==g&&(x===null?ae.firstBaseUpdate=V:x.next=V,ae.lastBaseUpdate=C))}if(f!==null){var ue=u.baseState;g=0,ae=V=C=null,x=f;do{var G=x.lane&-536870913,X=G!==x.lane;if(X?(ot&G)===G:(i&G)===G){G!==0&&G===Fr&&(qu=!0),ae!==null&&(ae=ae.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ue=t,Qe=x;G=n;var Et=r;switch(Qe.tag){case 1:if(Ue=Qe.payload,typeof Ue=="function"){ue=Ue.call(Et,ue,G);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Qe.payload,G=typeof Ue=="function"?Ue.call(Et,ue,G):Ue,G==null)break e;ue=S({},ue,G);break e;case 2:_s=!0}}G=x.callback,G!==null&&(t.flags|=64,X&&(t.flags|=8192),X=u.callbacks,X===null?u.callbacks=[G]:X.push(G))}else X={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ae===null?(V=ae=X,C=ue):ae=ae.next=X,g|=G;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;X=x,x=X.next,X.next=null,u.lastBaseUpdate=X,u.shared.pending=null}}while(!0);ae===null&&(C=ue),u.baseState=C,u.firstBaseUpdate=V,u.lastBaseUpdate=ae,f===null&&(u.shared.lanes=0),Cs|=g,t.lanes=g,t.memoizedState=ue}}function Bh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Lh(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Bh(r[t],n)}var Vr=A(null),bo=A(0);function Fh(t,n){t=os,re(bo,t),re(Vr,n),os=t|n.baseLanes}function Bu(){re(bo,os),re(Vr,Vr.current)}function Lu(){os=bo.current,Y(Vr),Y(bo)}var na=A(null),ga=null;function js(t){var n=t.alternate;re(Wt,Wt.current&1),re(na,t),ga===null&&(n===null||Vr.current!==null||n.memoizedState!==null)&&(ga=t)}function Fu(t){re(Wt,Wt.current),re(na,t),ga===null&&(ga=t)}function $h(t){t.tag===22?(re(Wt,Wt.current),re(na,t),ga===null&&(ga=t)):Es()}function Es(){re(Wt,Wt.current),re(na,na.current)}function aa(t){Y(na),ga===t&&(ga=null),Y(Wt)}var Wt=A(0);function xo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Gd(r)||Qd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var es=0,et=null,Nt=null,an=null,So=!1,Zr=!1,ir=!1,_o=0,Jl=0,Gr=null,eS=0;function Yt(){throw Error(l(321))}function $u(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ea(t[r],n[r]))return!1;return!0}function Iu(t,n,r,i,u,f){return es=f,et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Np:ad,ir=!1,f=r(i,u),ir=!1,Zr&&(f=Hh(n,r,i,u)),Ih(t),f}function Ih(t){q.H=ti;var n=Nt!==null&&Nt.next!==null;if(es=0,an=Nt=et=null,So=!1,Jl=0,Gr=null,n)throw Error(l(300));t===null||sn||(t=t.dependencies,t!==null&&fo(t)&&(sn=!0))}function Hh(t,n,r,i){et=t;var u=0;do{if(Zr&&(Gr=null),Jl=0,Zr=!1,25<=u)throw Error(l(301));if(u+=1,an=Nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=jp,f=n(r,i)}while(Zr);return f}function tS(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Wl(n):n,t=t.useState()[0],(Nt!==null?Nt.memoizedState:null)!==t&&(et.flags|=1024),n}function Hu(){var t=_o!==0;return _o=0,t}function Vu(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Zu(t){if(So){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}So=!1}es=0,an=Nt=et=null,Zr=!1,Jl=_o=0,Gr=null}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?et.memoizedState=an=t:an=an.next=t,an}function en(){if(Nt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var n=an===null?et.memoizedState:an.next;if(n!==null)an=n,Nt=t;else{if(t===null)throw et.alternate===null?Error(l(467)):Error(l(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},an===null?et.memoizedState=an=t:an=an.next=t}return an}function wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var n=Jl;return Jl+=1,Gr===null&&(Gr=[]),t=zh(Gr,t,n),n=et,(an===null?n.memoizedState:an.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Np:ad),t}function No(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===P)return bn(t)}throw Error(l(438,String(t)))}function Gu(t){var n=null,r=et.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=wo(),et.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),i=0;i<t;i++)r[i]=Ne;return n.index++,r}function ts(t,n){return typeof n=="function"?n(t):n}function jo(t){var n=en();return Qu(n,Nt,t)}function Qu(t,n,r){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=t.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,i.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var x=g=null,C=null,V=n,ae=!1;do{var ue=V.lane&-536870913;if(ue!==V.lane?(ot&ue)===ue:(es&ue)===ue){var G=V.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ue===Fr&&(ae=!0);else if((es&G)===G){V=V.next,G===Fr&&(ae=!0);continue}else ue={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},C===null?(x=C=ue,g=f):C=C.next=ue,et.lanes|=G,Cs|=G;ue=V.action,ir&&r(f,ue),f=V.hasEagerState?V.eagerState:r(f,ue)}else G={lane:ue,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},C===null?(x=C=G,g=f):C=C.next=G,et.lanes|=ue,Cs|=ue;V=V.next}while(V!==null&&V!==n);if(C===null?g=f:C.next=x,!ea(f,t.memoizedState)&&(sn=!0,ae&&(r=$r,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,i.lastRenderedState=f}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Yu(t){var n=en(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var i=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);ea(f,n.memoizedState)||(sn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,i]}function Vh(t,n,r){var i=et,u=en(),f=dt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var g=!ea((Nt||u).memoizedState,r);if(g&&(u.memoizedState=r,sn=!0),u=u.queue,Xu(Qh.bind(null,i,u,t),[t]),u.getSnapshot!==n||g||an!==null&&an.memoizedState.tag&1){if(i.flags|=2048,Qr(9,{destroy:void 0},Gh.bind(null,i,u,r,n),null),At===null)throw Error(l(349));f||(es&127)!==0||Zh(i,n,r)}return r}function Zh(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=et.updateQueue,n===null?(n=wo(),et.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Gh(t,n,r,i){n.value=r,n.getSnapshot=i,Yh(n)&&Kh(t)}function Qh(t,n,r){return r(function(){Yh(n)&&Kh(t)})}function Yh(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ea(t,r)}catch{return!0}}function Kh(t){var n=Js(t,2);n!==null&&Zn(n,t,2)}function Ku(t){var n=Dn();if(typeof t=="function"){var r=t;if(t=r(),ir){Vt(!0);try{r()}finally{Vt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},n}function Ph(t,n,r,i){return t.baseState=r,Qu(t,Nt,typeof i=="function"?i:ts)}function nS(t,n,r,i,u){if(Oo(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,i(f),r=n.pending,r===null?(f.next=n.pending=f,Xh(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Xh(t,n){var r=n.action,i=n.payload,u=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var x=r(u,i),C=q.S;C!==null&&C(g,x),Jh(t,n,x)}catch(V){Pu(t,n,V)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(u,i),Jh(t,n,f)}catch(V){Pu(t,n,V)}}function Jh(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){Wh(t,n,i)},function(i){return Pu(t,n,i)}):Wh(t,n,r)}function Wh(t,n,r){n.status="fulfilled",n.value=r,ep(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Xh(t,r)))}function Pu(t,n,r){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,ep(n),n=n.next;while(n!==i)}t.action=null}function ep(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function tp(t,n){return n}function np(t,n){if(dt){var r=At.formState;if(r!==null){e:{var i=et;if(dt){if(Ut){t:{for(var u=Ut,f=pa;u.nodeType!==8;){if(!f){u=null;break t}if(u=ya(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ut=ya(u.nextSibling),i=u.data==="F!";break e}}xs(i)}i=!1}i&&(n=r[0])}}return r=Dn(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:n},r.queue=i,r=Sp.bind(null,et,i),i.dispatch=r,i=Ku(!1),f=nd.bind(null,et,!1,i.queue),i=Dn(),u={state:n,dispatch:null,action:t,pending:null},i.queue=u,r=nS.bind(null,et,u,f,r),u.dispatch=r,i.memoizedState=t,[n,r,!1]}function ap(t){var n=en();return sp(n,Nt,t)}function sp(t,n,r){if(n=Qu(t,n,tp)[0],t=jo(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=Wl(n)}catch(g){throw g===Ir?po:g}else i=n;n=en();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(et.flags|=2048,Qr(9,{destroy:void 0},aS.bind(null,u,r),null)),[i,f,t]}function aS(t,n){t.action=n}function rp(t){var n=en(),r=Nt;if(r!==null)return sp(n,r,t);en(),n=n.memoizedState,r=en();var i=r.queue.dispatch;return r.memoizedState=t,[n,i,!1]}function Qr(t,n,r,i){return t={tag:t,create:r,deps:i,inst:n,next:null},n=et.updateQueue,n===null&&(n=wo(),et.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,n.lastEffect=t),t}function lp(){return en().memoizedState}function Eo(t,n,r,i){var u=Dn();et.flags|=t,u.memoizedState=Qr(1|n,{destroy:void 0},r,i===void 0?null:i)}function Ao(t,n,r,i){var u=en();i=i===void 0?null:i;var f=u.memoizedState.inst;Nt!==null&&i!==null&&$u(i,Nt.memoizedState.deps)?u.memoizedState=Qr(n,f,r,i):(et.flags|=t,u.memoizedState=Qr(1|n,f,r,i))}function ip(t,n){Eo(8390656,8,t,n)}function Xu(t,n){Ao(2048,8,t,n)}function sS(t){et.flags|=4;var n=et.updateQueue;if(n===null)n=wo(),et.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function op(t){var n=en().memoizedState;return sS({ref:n,nextImpl:t}),function(){if((bt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function cp(t,n){return Ao(4,2,t,n)}function up(t,n){return Ao(4,4,t,n)}function dp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fp(t,n,r){r=r!=null?r.concat([t]):null,Ao(4,4,dp.bind(null,n,t),r)}function Ju(){}function mp(t,n){var r=en();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&$u(n,i[1])?i[0]:(r.memoizedState=[t,n],t)}function hp(t,n){var r=en();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&$u(n,i[1]))return i[0];if(i=t(),ir){Vt(!0);try{t()}finally{Vt(!1)}}return r.memoizedState=[i,n],i}function Wu(t,n,r){return r===void 0||(es&1073741824)!==0&&(ot&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=pg(),et.lanes|=t,Cs|=t,r)}function pp(t,n,r,i){return ea(r,n)?r:Vr.current!==null?(t=Wu(t,r,i),ea(t,n)||(sn=!0),t):(es&42)===0||(es&1073741824)!==0&&(ot&261930)===0?(sn=!0,t.memoizedState=r):(t=pg(),et.lanes|=t,Cs|=t,n)}function gp(t,n,r,i,u){var f=ne.p;ne.p=f!==0&&8>f?f:8;var g=q.T,x={};q.T=x,nd(t,!1,n,r);try{var C=u(),V=q.S;if(V!==null&&V(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var ae=Wx(C,i);ei(t,n,ae,la(t))}else ei(t,n,i,la(t))}catch(ue){ei(t,n,{then:function(){},status:"rejected",reason:ue},la())}finally{ne.p=f,g!==null&&x.types!==null&&(g.types=x.types),q.T=g}}function rS(){}function ed(t,n,r,i){if(t.tag!==5)throw Error(l(476));var u=yp(t).queue;gp(t,u,n,se,r===null?rS:function(){return vp(t),r(i)})}function yp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:se},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function vp(t){var n=yp(t);n.next===null&&(n=t.alternate.memoizedState),ei(t,n.next.queue,{},la())}function td(){return bn(yi)}function bp(){return en().memoizedState}function xp(){return en().memoizedState}function lS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=la();t=ws(r);var i=Ns(n,t,r);i!==null&&(Zn(i,n,r),Kl(i,n,r)),n={cache:Ru()},t.payload=n;return}n=n.return}}function iS(t,n,r){var i=la();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Oo(t)?_p(n,r):(r=bu(t,n,r,i),r!==null&&(Zn(r,t,i),wp(r,n,i)))}function Sp(t,n,r){var i=la();ei(t,n,r,i)}function ei(t,n,r,i){var u={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Oo(t))_p(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,x=f(g,r);if(u.hasEagerState=!0,u.eagerState=x,ea(x,g))return io(t,n,u,0),At===null&&lo(),!1}catch{}finally{}if(r=bu(t,n,u,i),r!==null)return Zn(r,t,i),wp(r,n,i),!0}return!1}function nd(t,n,r,i){if(i={lane:2,revertLane:Md(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Oo(t)){if(n)throw Error(l(479))}else n=bu(t,r,i,2),n!==null&&Zn(n,t,2)}function Oo(t){var n=t.alternate;return t===et||n!==null&&n===et}function _p(t,n){Zr=So=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function wp(t,n,r){if((r&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,kt(t,r)}}var ti={readContext:bn,use:No,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};ti.useEffectEvent=Yt;var Np={readContext:bn,use:No,useCallback:function(t,n){return Dn().memoizedState=[t,n===void 0?null:n],t},useContext:bn,useEffect:ip,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Eo(4194308,4,dp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Eo(4194308,4,t,n)},useInsertionEffect:function(t,n){Eo(4,2,t,n)},useMemo:function(t,n){var r=Dn();n=n===void 0?null:n;var i=t();if(ir){Vt(!0);try{t()}finally{Vt(!1)}}return r.memoizedState=[i,n],i},useReducer:function(t,n,r){var i=Dn();if(r!==void 0){var u=r(n);if(ir){Vt(!0);try{r(n)}finally{Vt(!1)}}}else u=n;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=iS.bind(null,et,t),[i.memoizedState,t]},useRef:function(t){var n=Dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ku(t);var n=t.queue,r=Sp.bind(null,et,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ju,useDeferredValue:function(t,n){var r=Dn();return Wu(r,t,n)},useTransition:function(){var t=Ku(!1);return t=gp.bind(null,et,t.queue,!0,!1),Dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var i=et,u=Dn();if(dt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),At===null)throw Error(l(349));(ot&127)!==0||Zh(i,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,ip(Qh.bind(null,i,f,t),[t]),i.flags|=2048,Qr(9,{destroy:void 0},Gh.bind(null,i,f,r,n),null),r},useId:function(){var t=Dn(),n=At.identifierPrefix;if(dt){var r=Fa,i=La;r=(i&~(1<<32-Ot(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=_o++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=eS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:td,useFormState:np,useActionState:np,useOptimistic:function(t){var n=Dn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=nd.bind(null,et,!0,r),r.dispatch=n,[t,n]},useMemoCache:Gu,useCacheRefresh:function(){return Dn().memoizedState=lS.bind(null,et)},useEffectEvent:function(t){var n=Dn(),r={impl:t};return n.memoizedState=r,function(){if((bt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},ad={readContext:bn,use:No,useCallback:mp,useContext:bn,useEffect:Xu,useImperativeHandle:fp,useInsertionEffect:cp,useLayoutEffect:up,useMemo:hp,useReducer:jo,useRef:lp,useState:function(){return jo(ts)},useDebugValue:Ju,useDeferredValue:function(t,n){var r=en();return pp(r,Nt.memoizedState,t,n)},useTransition:function(){var t=jo(ts)[0],n=en().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:Vh,useId:bp,useHostTransitionStatus:td,useFormState:ap,useActionState:ap,useOptimistic:function(t,n){var r=en();return Ph(r,Nt,t,n)},useMemoCache:Gu,useCacheRefresh:xp};ad.useEffectEvent=op;var jp={readContext:bn,use:No,useCallback:mp,useContext:bn,useEffect:Xu,useImperativeHandle:fp,useInsertionEffect:cp,useLayoutEffect:up,useMemo:hp,useReducer:Yu,useRef:lp,useState:function(){return Yu(ts)},useDebugValue:Ju,useDeferredValue:function(t,n){var r=en();return Nt===null?Wu(r,t,n):pp(r,Nt.memoizedState,t,n)},useTransition:function(){var t=Yu(ts)[0],n=en().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:Vh,useId:bp,useHostTransitionStatus:td,useFormState:rp,useActionState:rp,useOptimistic:function(t,n){var r=en();return Nt!==null?Ph(r,Nt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Gu,useCacheRefresh:xp};jp.useEffectEvent=op;function sd(t,n,r,i){n=t.memoizedState,r=r(i,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rd={enqueueSetState:function(t,n,r){t=t._reactInternals;var i=la(),u=ws(i);u.payload=n,r!=null&&(u.callback=r),n=Ns(t,u,i),n!==null&&(Zn(n,t,i),Kl(n,t,i))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var i=la(),u=ws(i);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Ns(t,u,i),n!==null&&(Zn(n,t,i),Kl(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=la(),i=ws(r);i.tag=2,n!=null&&(i.callback=n),n=Ns(t,i,r),n!==null&&(Zn(n,t,r),Kl(n,t,r))}};function Ep(t,n,r,i,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,f,g):n.prototype&&n.prototype.isPureReactComponent?!$l(r,i)||!$l(u,f):!0}function Ap(t,n,r,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==t&&rd.enqueueReplaceState(n,n.state,null)}function or(t,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function Op(t){ro(t)}function Cp(t){console.error(t)}function Rp(t){ro(t)}function Co(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Tp(t,n,r){try{var i=t.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ld(t,n,r){return r=ws(r),r.tag=3,r.payload={element:null},r.callback=function(){Co(t,n)},r}function Dp(t){return t=ws(t),t.tag=3,t}function zp(t,n,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;t.payload=function(){return u(f)},t.callback=function(){Tp(n,r,i)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Tp(n,r,i),typeof u!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})})}function oS(t,n,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&Lr(n,r,u,!0),r=na.current,r!==null){switch(r.tag){case 31:case 13:return ga===null?$o():r.alternate===null&&Kt===0&&(Kt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===go?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),Td(t,i,u)),!1;case 22:return r.flags|=65536,i===go?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),Td(t,i,u)),!1}throw Error(l(435,r.tag))}return Td(t,i,u),$o(),!1}if(dt)return n=na.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==ju&&(t=Error(l(422),{cause:i}),Vl(fa(t,r)))):(i!==ju&&(n=Error(l(423),{cause:i}),Vl(fa(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=fa(i,r),u=ld(t.stateNode,i,u),Uu(t,u),Kt!==4&&(Kt=2)),!1;var f=Error(l(520),{cause:i});if(f=fa(f,r),ci===null?ci=[f]:ci.push(f),Kt!==4&&(Kt=2),n===null)return!0;i=fa(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=ld(r.stateNode,i,t),Uu(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Dp(u),zp(u,t,r,i),Uu(r,u),!1}r=r.return}while(r!==null);return!1}var id=Error(l(461)),sn=!1;function xn(t,n,r,i){n.child=t===null?qh(n,null,r,i):lr(n,t.child,r,i)}function Mp(t,n,r,i,u){r=r.render;var f=n.ref;if("ref"in i){var g={};for(var x in i)x!=="ref"&&(g[x]=i[x])}else g=i;return nr(n),i=Iu(t,n,r,g,f,u),x=Hu(),t!==null&&!sn?(Vu(t,n,u),ns(t,n,u)):(dt&&x&&wu(n),n.flags|=1,xn(t,n,i,u),n.child)}function kp(t,n,r,i,u){if(t===null){var f=r.type;return typeof f=="function"&&!xu(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Up(t,n,f,i,u)):(t=co(r.type,null,i,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!pd(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:$l,r(g,i)&&t.ref===n.ref)return ns(t,n,u)}return n.flags|=1,t=Pa(f,i),t.ref=n.ref,t.return=n,n.child=t}function Up(t,n,r,i,u){if(t!==null){var f=t.memoizedProps;if($l(f,i)&&t.ref===n.ref)if(sn=!1,n.pendingProps=i=f,pd(t,u))(t.flags&131072)!==0&&(sn=!0);else return n.lanes=t.lanes,ns(t,n,u)}return od(t,n,r,i,u)}function qp(t,n,r,i){var u=i.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(i=n.child=t.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return Bp(t,n,f,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ho(n,f!==null?f.cachePool:null),f!==null?Fh(n,f):Bu(),$h(n);else return i=n.lanes=536870912,Bp(t,n,f!==null?f.baseLanes|r:r,r,i)}else f!==null?(ho(n,f.cachePool),Fh(n,f),Es(),n.memoizedState=null):(t!==null&&ho(n,null),Bu(),Es());return xn(t,n,u,r),n.child}function ni(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bp(t,n,r,i,u){var f=Du();return f=f===null?null:{parent:nn._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&ho(n,null),Bu(),$h(n),t!==null&&Lr(t,n,i,!0),n.childLanes=u,null}function Ro(t,n){return n=Do({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Lp(t,n,r){return lr(n,t.child,null,r),t=Ro(n,n.pendingProps),t.flags|=2,aa(n),n.memoizedState=null,t}function cS(t,n,r){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(dt){if(i.mode==="hidden")return t=Ro(n,i),n.lanes=536870912,ni(null,t);if(Fu(n),(t=Ut)?(t=Xg(t,pa),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:La,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},r=_h(t),r.return=n,n.child=r,vn=n,Ut=null)):t=null,t===null)throw xs(n);return n.lanes=536870912,null}return Ro(n,i)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Fu(n),u)if(n.flags&256)n.flags&=-257,n=Lp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(sn||Lr(t,n,r,!1),u=(r&t.childLanes)!==0,sn||u){if(i=At,i!==null&&(g=mn(i,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Js(t,g),Zn(i,t,g),id;$o(),n=Lp(t,n,r)}else t=f.treeContext,Ut=ya(g.nextSibling),vn=n,dt=!0,bs=null,pa=!1,t!==null&&jh(n,t),n=Ro(n,i),n.flags|=4096;return n}return t=Pa(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function To(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function od(t,n,r,i,u){return nr(n),r=Iu(t,n,r,i,void 0,u),i=Hu(),t!==null&&!sn?(Vu(t,n,u),ns(t,n,u)):(dt&&i&&wu(n),n.flags|=1,xn(t,n,r,u),n.child)}function Fp(t,n,r,i,u,f){return nr(n),n.updateQueue=null,r=Hh(n,i,r,u),Ih(t),i=Hu(),t!==null&&!sn?(Vu(t,n,f),ns(t,n,f)):(dt&&i&&wu(n),n.flags|=1,xn(t,n,r,f),n.child)}function $p(t,n,r,i,u){if(nr(n),n.stateNode===null){var f=kr,g=r.contextType;typeof g=="object"&&g!==null&&(f=bn(g)),f=new r(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},Mu(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?bn(g):kr,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(sd(n,r,g,i),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&rd.enqueueReplaceState(f,f.state,null),Xl(n,i,f,u),Pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){f=n.stateNode;var x=n.memoizedProps,C=or(r,x);f.props=C;var V=f.context,ae=r.contextType;g=kr,typeof ae=="object"&&ae!==null&&(g=bn(ae));var ue=r.getDerivedStateFromProps;ae=typeof ue=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,ae||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||V!==g)&&Ap(n,f,i,g),_s=!1;var G=n.memoizedState;f.state=G,Xl(n,i,f,u),Pl(),V=n.memoizedState,x||G!==V||_s?(typeof ue=="function"&&(sd(n,r,ue,i),V=n.memoizedState),(C=_s||Ep(n,r,C,i,G,V,g))?(ae||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=V),f.props=i,f.state=V,f.context=g,i=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,ku(t,n),g=n.memoizedProps,ae=or(r,g),f.props=ae,ue=n.pendingProps,G=f.context,V=r.contextType,C=kr,typeof V=="object"&&V!==null&&(C=bn(V)),x=r.getDerivedStateFromProps,(V=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==ue||G!==C)&&Ap(n,f,i,C),_s=!1,G=n.memoizedState,f.state=G,Xl(n,i,f,u),Pl();var X=n.memoizedState;g!==ue||G!==X||_s||t!==null&&t.dependencies!==null&&fo(t.dependencies)?(typeof x=="function"&&(sd(n,r,x,i),X=n.memoizedState),(ae=_s||Ep(n,r,ae,i,G,X,C)||t!==null&&t.dependencies!==null&&fo(t.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,X,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,X,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=X),f.props=i,f.state=X,f.context=C,i=ae):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),i=!1)}return f=i,To(t,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&i?(n.child=lr(n,t.child,null,u),n.child=lr(n,null,r,u)):xn(t,n,r,u),n.memoizedState=f.state,t=n.child):t=ns(t,n,u),t}function Ip(t,n,r,i){return er(),n.flags|=256,xn(t,n,r,i),n.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:Th()}}function dd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=ra),t}function Hp(t,n,r){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Wt.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(dt){if(u?js(n):Es(),(t=Ut)?(t=Xg(t,pa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:La,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},r=_h(t),r.return=n,n.child=r,vn=n,Ut=null)):t=null,t===null)throw xs(n);return Qd(t)?n.lanes=32:n.lanes=536870912,null}var x=i.children;return i=i.fallback,u?(Es(),u=n.mode,x=Do({mode:"hidden",children:x},u),i=Ws(i,u,r,null),x.return=n,i.return=n,x.sibling=i,n.child=x,i=n.child,i.memoizedState=ud(r),i.childLanes=dd(t,g,r),n.memoizedState=cd,ni(null,i)):(js(n),fd(n,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=md(t,n,r)):n.memoizedState!==null?(Es(),n.child=t.child,n.flags|=128,n=null):(Es(),x=i.fallback,u=n.mode,i=Do({mode:"visible",children:i.children},u),x=Ws(x,u,r,null),x.flags|=2,i.return=n,x.return=n,i.sibling=x,n.child=i,lr(n,t.child,null,r),i=n.child,i.memoizedState=ud(r),i.childLanes=dd(t,g,r),n.memoizedState=cd,n=ni(null,i));else if(js(n),Qd(x)){if(g=x.nextSibling&&x.nextSibling.dataset,g)var V=g.dgst;g=V,i=Error(l(419)),i.stack="",i.digest=g,Vl({value:i,source:null,stack:null}),n=md(t,n,r)}else if(sn||Lr(t,n,r,!1),g=(r&t.childLanes)!==0,sn||g){if(g=At,g!==null&&(i=mn(g,r),i!==0&&i!==C.retryLane))throw C.retryLane=i,Js(t,i),Zn(g,t,i),id;Gd(x)||$o(),n=md(t,n,r)}else Gd(x)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Ut=ya(x.nextSibling),vn=n,dt=!0,bs=null,pa=!1,t!==null&&jh(n,t),n=fd(n,i.children),n.flags|=4096);return n}return u?(Es(),x=i.fallback,u=n.mode,C=t.child,V=C.sibling,i=Pa(C,{mode:"hidden",children:i.children}),i.subtreeFlags=C.subtreeFlags&65011712,V!==null?x=Pa(V,x):(x=Ws(x,u,r,null),x.flags|=2),x.return=n,i.return=n,i.sibling=x,n.child=i,ni(null,i),i=n.child,x=t.child.memoizedState,x===null?x=ud(r):(u=x.cachePool,u!==null?(C=nn._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=Th(),x={baseLanes:x.baseLanes|r,cachePool:u}),i.memoizedState=x,i.childLanes=dd(t,g,r),n.memoizedState=cd,ni(t.child,i)):(js(n),r=t.child,t=r.sibling,r=Pa(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function fd(t,n){return n=Do({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Do(t,n){return t=ta(22,t,null,n),t.lanes=0,t}function md(t,n,r){return lr(n,t.child,null,r),t=fd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Vp(t,n,r){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),Ou(t.return,n,r)}function hd(t,n,r,i,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=r,g.tailMode=u,g.treeForkCount=f)}function Zp(t,n,r){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var g=Wt.current,x=(g&2)!==0;if(x?(g=g&1|2,n.flags|=128):g&=1,re(Wt,g),xn(t,n,i,r),i=dt?Hl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vp(t,r,n);else if(t.tag===19)Vp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&xo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),hd(n,!1,u,r,f,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&xo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}hd(n,!0,r,null,f,i);break;case"together":hd(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function ns(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Lr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=Pa(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Pa(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function pd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fo(t)))}function uS(t,n,r){switch(n.tag){case 3:Xe(n,n.stateNode.containerInfo),Ss(n,nn,t.memoizedState.cache),er();break;case 27:case 5:$e(n);break;case 4:Xe(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Fu(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(js(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Hp(t,n,r):(js(n),t=ns(t,n,r),t!==null?t.sibling:null);js(n);break;case 19:var u=(t.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||(Lr(t,n,r,!1),i=(r&n.childLanes)!==0),u){if(i)return Zp(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),re(Wt,Wt.current),i)break;return null;case 22:return n.lanes=0,qp(t,n,r,n.pendingProps);case 24:Ss(n,nn,t.memoizedState.cache)}return ns(t,n,r)}function Gp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)sn=!0;else{if(!pd(t,r)&&(n.flags&128)===0)return sn=!1,uS(t,n,r);sn=(t.flags&131072)!==0}else sn=!1,dt&&(n.flags&1048576)!==0&&Nh(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=sr(n.elementType),n.type=t,typeof t=="function")xu(t)?(i=or(t,i),n.tag=1,n=$p(null,n,t,i,r)):(n.tag=0,n=od(null,n,t,i,r));else{if(t!=null){var u=t.$$typeof;if(u===N){n.tag=11,n=Mp(null,n,t,i,r);break e}else if(u===z){n.tag=14,n=kp(null,n,t,i,r);break e}}throw n=pe(t)||t,Error(l(306,n,""))}}return n;case 0:return od(t,n,n.type,n.pendingProps,r);case 1:return i=n.type,u=or(i,n.pendingProps),$p(t,n,i,u,r);case 3:e:{if(Xe(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,ku(t,n),Xl(n,i,null,r);var g=n.memoizedState;if(i=g.cache,Ss(n,nn,i),i!==f.cache&&Cu(n,[nn],r,!0),Pl(),i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ip(t,n,i,r);break e}else if(i!==u){u=fa(Error(l(424)),n),Vl(u),n=Ip(t,n,i,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ut=ya(t.firstChild),vn=n,dt=!0,bs=null,pa=!0,r=qh(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(er(),i===u){n=ns(t,n,r);break e}xn(t,n,i,r)}n=n.child}return n;case 26:return To(t,n),t===null?(r=ay(n.type,null,n.pendingProps,null))?n.memoizedState=r:dt||(r=n.type,t=n.pendingProps,i=Yo(De.current).createElement(r),i[ht]=n,i[gt]=t,Sn(i,r,t),zt(i),n.stateNode=i):n.memoizedState=ay(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $e(n),t===null&&dt&&(i=n.stateNode=ey(n.type,n.pendingProps,De.current),vn=n,pa=!0,u=Ut,Ms(n.type)?(Yd=u,Ut=ya(i.firstChild)):Ut=u),xn(t,n,n.pendingProps.children,r),To(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&dt&&((u=i=Ut)&&(i=FS(i,n.type,n.pendingProps,pa),i!==null?(n.stateNode=i,vn=n,Ut=ya(i.firstChild),pa=!1,u=!0):u=!1),u||xs(n)),$e(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,i=f.children,Hd(u,f)?i=null:g!==null&&Hd(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Iu(t,n,tS,null,null,r),yi._currentValue=u),To(t,n),xn(t,n,i,r),n.child;case 6:return t===null&&dt&&((t=r=Ut)&&(r=$S(r,n.pendingProps,pa),r!==null?(n.stateNode=r,vn=n,Ut=null,t=!0):t=!1),t||xs(n)),null;case 13:return Hp(t,n,r);case 4:return Xe(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=lr(n,null,i,r):xn(t,n,i,r),n.child;case 11:return Mp(t,n,n.type,n.pendingProps,r);case 7:return xn(t,n,n.pendingProps,r),n.child;case 8:return xn(t,n,n.pendingProps.children,r),n.child;case 12:return xn(t,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,Ss(n,n.type,i.value),xn(t,n,i.children,r),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,nr(n),u=bn(u),i=i(u),n.flags|=1,xn(t,n,i,r),n.child;case 14:return kp(t,n,n.type,n.pendingProps,r);case 15:return Up(t,n,n.type,n.pendingProps,r);case 19:return Zp(t,n,r);case 31:return cS(t,n,r);case 22:return qp(t,n,r,n.pendingProps);case 24:return nr(n),i=bn(nn),t===null?(u=Du(),u===null&&(u=At,f=Ru(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:i,cache:u},Mu(n),Ss(n,nn,u)):((t.lanes&r)!==0&&(ku(t,n),Xl(n,null,null,r),Pl()),u=t.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Ss(n,nn,i)):(i=f.cache,Ss(n,nn,i),i!==u.cache&&Cu(n,[nn],r,!0))),xn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function as(t){t.flags|=4}function gd(t,n,r,i,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(bg())t.flags|=8192;else throw rr=go,zu}else t.flags&=-16777217}function Qp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!oy(n))if(bg())t.flags|=8192;else throw rr=go,zu}function zo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ft():536870912,t.lanes|=n,Xr|=n)}function ai(t,n){if(!dt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=r,n}function dS(t,n,r){var i=n.pendingProps;switch(Nu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return qt(n),null;case 3:return r=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Wa(nn),me(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Br(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Eu())),qt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(qt(n),Qp(n,f)):(qt(n),gd(n,u,null,i,r))):f?f!==t.memoizedState?(as(n),qt(n),Qp(n,f)):(qt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&as(n),qt(n),gd(n,u,t,i,r)),null;case 27:if(Be(n),r=De.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&as(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return qt(n),null}t=_e.current,Br(n)?Eh(n):(t=ey(u,i,r),n.stateNode=t,as(n))}return qt(n),null;case 5:if(Be(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&as(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return qt(n),null}if(f=_e.current,Br(n))Eh(n);else{var g=Yo(De.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?g.createElement(u,{is:i.is}):g.createElement(u)}}f[ht]=n,f[gt]=i;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Sn(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&as(n)}}return qt(n),gd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&as(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=De.current,Br(n)){if(t=n.stateNode,r=n.memoizedProps,i=null,u=vn,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[ht]=n,t=!!(t.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Hg(t.nodeValue,r)),t||xs(n,!0)}else t=Yo(t).createTextNode(i),t[ht]=n,n.stateNode=t}return qt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(i=Br(n),r!==null){if(t===null){if(!i)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[ht]=n}else er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),t=!1}else r=Eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(aa(n),n):(aa(n),null);if((n.flags&128)!==0)throw Error(l(558))}return qt(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Br(n),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ht]=n}else er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),u=!1}else u=Eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(aa(n),n):(aa(n),null)}return aa(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,t=t!==null&&t.memoizedState!==null,r&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),zo(n,n.updateQueue),qt(n),null);case 4:return me(),t===null&&Bd(n.stateNode.containerInfo),qt(n),null;case 10:return Wa(n.type),qt(n),null;case 19:if(Y(Wt),i=n.memoizedState,i===null)return qt(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)ai(i,!1);else{if(Kt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=xo(t),f!==null){for(n.flags|=128,ai(i,!1),t=f.updateQueue,n.updateQueue=t,zo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Sh(r,t),r=r.sibling;return re(Wt,Wt.current&1|2),dt&&Xa(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&W()>Bo&&(n.flags|=128,u=!0,ai(i,!1),n.lanes=4194304)}else{if(!u)if(t=xo(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,zo(n,t),ai(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!dt)return qt(n),null}else 2*W()-i.renderingStartTime>Bo&&r!==536870912&&(n.flags|=128,u=!0,ai(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(t=i.last,t!==null?t.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=W(),t.sibling=null,r=Wt.current,re(Wt,u?r&1|2:r&1),dt&&Xa(n,i.treeForkCount),t):(qt(n),null);case 22:case 23:return aa(n),Lu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),r=n.updateQueue,r!==null&&zo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),t!==null&&Y(ar),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Wa(nn),qt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function fS(t,n){switch(Nu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wa(nn),me(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Be(n),null;case 31:if(n.memoizedState!==null){if(aa(n),n.alternate===null)throw Error(l(340));er()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(aa(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));er()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Wt),null;case 4:return me(),null;case 10:return Wa(n.type),null;case 22:case 23:return aa(n),Lu(),t!==null&&Y(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wa(nn),null;case 25:return null;default:return null}}function Yp(t,n){switch(Nu(n),n.tag){case 3:Wa(nn),me();break;case 26:case 27:case 5:Be(n);break;case 4:me();break;case 31:n.memoizedState!==null&&aa(n);break;case 13:aa(n);break;case 19:Y(Wt);break;case 10:Wa(n.type);break;case 22:case 23:aa(n),Lu(),t!==null&&Y(ar);break;case 24:Wa(nn)}}function si(t,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&t)===t){i=void 0;var f=r.create,g=r.inst;i=f(),g.destroy=i}r=r.next}while(r!==u)}}catch(x){_t(n,n.return,x)}}function As(t,n,r){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&t)===t){var g=i.inst,x=g.destroy;if(x!==void 0){g.destroy=void 0,u=n;var C=r,V=x;try{V()}catch(ae){_t(u,C,ae)}}}i=i.next}while(i!==f)}}catch(ae){_t(n,n.return,ae)}}function Kp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Lh(n,r)}catch(i){_t(t,t.return,i)}}}function Pp(t,n,r){r.props=or(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(i){_t(t,n,i)}}function ri(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(u){_t(t,n,u)}}function $a(t,n){var r=t.ref,i=t.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){_t(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){_t(t,n,u)}else r.current=null}function Xp(t){var n=t.type,r=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){_t(t,t.return,u)}}function yd(t,n,r){try{var i=t.stateNode;MS(i,t.type,r,n),i[gt]=n}catch(u){_t(t,t.return,u)}}function Jp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Oa));else if(i!==4&&(i===27&&Ms(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(bd(t,n,r),t=t.sibling;t!==null;)bd(t,n,r),t=t.sibling}function Mo(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(i!==4&&(i===27&&Ms(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Mo(t,n,r),t=t.sibling;t!==null;)Mo(t,n,r),t=t.sibling}function Wp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var i=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Sn(n,i,r),n[ht]=t,n[gt]=r}catch(f){_t(t,t.return,f)}}var ss=!1,rn=!1,xd=!1,eg=typeof WeakSet=="function"?WeakSet:Set,hn=null;function mS(t,n){if(t=t.containerInfo,$d=tc,t=fh(t),mu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,x=-1,C=-1,V=0,ae=0,ue=t,G=null;t:for(;;){for(var X;ue!==r||u!==0&&ue.nodeType!==3||(x=g+u),ue!==f||i!==0&&ue.nodeType!==3||(C=g+i),ue.nodeType===3&&(g+=ue.nodeValue.length),(X=ue.firstChild)!==null;)G=ue,ue=X;for(;;){if(ue===t)break t;if(G===r&&++V===u&&(x=g),G===f&&++ae===i&&(C=g),(X=ue.nextSibling)!==null)break;ue=G,G=ue.parentNode}ue=X}r=x===-1||C===-1?null:{start:x,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Id={focusedElem:t,selectionRange:r},tc=!1,hn=n;hn!==null;)if(n=hn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,hn=t;else for(;hn!==null;){switch(n=hn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var Ue=or(r.type,u);t=i.getSnapshotBeforeUpdate(Ue,f),i.__reactInternalSnapshotBeforeUpdate=t}catch(Qe){_t(r,r.return,Qe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Zd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,hn=t;break}hn=n.return}}function tg(t,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:ls(t,r),i&4&&si(5,r);break;case 1:if(ls(t,r),i&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){_t(r,r.return,g)}else{var u=or(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){_t(r,r.return,g)}}i&64&&Kp(r),i&512&&ri(r,r.return);break;case 3:if(ls(t,r),i&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Lh(t,n)}catch(g){_t(r,r.return,g)}}break;case 27:n===null&&i&4&&Wp(r);case 26:case 5:ls(t,r),n===null&&i&4&&Xp(r),i&512&&ri(r,r.return);break;case 12:ls(t,r);break;case 31:ls(t,r),i&4&&sg(t,r);break;case 13:ls(t,r),i&4&&rg(t,r),i&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=_S.bind(null,r),IS(t,r))));break;case 22:if(i=r.memoizedState!==null||ss,!i){n=n!==null&&n.memoizedState!==null||rn,u=ss;var f=rn;ss=i,(rn=n)&&!f?is(t,r,(r.subtreeFlags&8772)!==0):ls(t,r),ss=u,rn=f}break;case 30:break;default:ls(t,r)}}function ng(t){var n=t.alternate;n!==null&&(t.alternate=null,ng(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bn(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ft=null,$n=!1;function rs(t,n,r){for(r=r.child;r!==null;)ag(t,n,r),r=r.sibling}function ag(t,n,r){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(gn,r)}catch{}switch(r.tag){case 26:rn||$a(r,n),rs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rn||$a(r,n);var i=Ft,u=$n;Ms(r.type)&&(Ft=r.stateNode,$n=!1),rs(t,n,r),hi(r.stateNode),Ft=i,$n=u;break;case 5:rn||$a(r,n);case 6:if(i=Ft,u=$n,Ft=null,rs(t,n,r),Ft=i,$n=u,Ft!==null)if($n)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(r.stateNode)}catch(f){_t(r,n,f)}else try{Ft.removeChild(r.stateNode)}catch(f){_t(r,n,f)}break;case 18:Ft!==null&&($n?(t=Ft,Kg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),rl(t)):Kg(Ft,r.stateNode));break;case 4:i=Ft,u=$n,Ft=r.stateNode.containerInfo,$n=!0,rs(t,n,r),Ft=i,$n=u;break;case 0:case 11:case 14:case 15:As(2,r,n),rn||As(4,r,n),rs(t,n,r);break;case 1:rn||($a(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&Pp(r,n,i)),rs(t,n,r);break;case 21:rs(t,n,r);break;case 22:rn=(i=rn)||r.memoizedState!==null,rs(t,n,r),rn=i;break;default:rs(t,n,r)}}function sg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{rl(t)}catch(r){_t(n,n.return,r)}}}function rg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{rl(t)}catch(r){_t(n,n.return,r)}}function hS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new eg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new eg),n;default:throw Error(l(435,t.tag))}}function ko(t,n){var r=hS(t);n.forEach(function(i){if(!r.has(i)){r.add(i);var u=wS.bind(null,t,i);i.then(u,u)}})}function In(t,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=t,g=n,x=g;e:for(;x!==null;){switch(x.tag){case 27:if(Ms(x.type)){Ft=x.stateNode,$n=!1;break e}break;case 5:Ft=x.stateNode,$n=!1;break e;case 3:case 4:Ft=x.stateNode.containerInfo,$n=!0;break e}x=x.return}if(Ft===null)throw Error(l(160));ag(f,g,u),Ft=null,$n=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)lg(n,t),n=n.sibling}var Ra=null;function lg(t,n){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(n,t),Hn(t),i&4&&(As(3,t,t.return),si(3,t),As(5,t,t.return));break;case 1:In(n,t),Hn(t),i&512&&(rn||r===null||$a(r,r.return)),i&64&&ss&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=Ra;if(In(n,t),Hn(t),i&512&&(rn||r===null||$a(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=t.memoizedState,r===null)if(i===null)if(t.stateNode===null){e:{i=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[qn]||f[ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),Sn(f,i,r),f[ht]=t,zt(f),i=f;break e;case"link":var g=ly("link","href",u).get(i+(r.href||""));if(g){for(var x=0;x<g.length;x++)if(f=g[x],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(x,1);break t}}f=u.createElement(i),Sn(f,i,r),u.head.appendChild(f);break;case"meta":if(g=ly("meta","content",u).get(i+(r.content||""))){for(x=0;x<g.length;x++)if(f=g[x],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(x,1);break t}}f=u.createElement(i),Sn(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[ht]=t,zt(f),i=f}t.stateNode=i}else iy(u,t.type,t.stateNode);else t.stateNode=ry(u,i,t.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?iy(u,t.type,t.stateNode):ry(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&yd(t,t.memoizedProps,r.memoizedProps)}break;case 27:In(n,t),Hn(t),i&512&&(rn||r===null||$a(r,r.return)),r!==null&&i&4&&yd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(In(n,t),Hn(t),i&512&&(rn||r===null||$a(r,r.return)),t.flags&32){u=t.stateNode;try{ps(u,"")}catch(Ue){_t(t,t.return,Ue)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,yd(t,u,r!==null?r.memoizedProps:u)),i&1024&&(xd=!0);break;case 6:if(In(n,t),Hn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,r=t.stateNode;try{r.nodeValue=i}catch(Ue){_t(t,t.return,Ue)}}break;case 3:if(Xo=null,u=Ra,Ra=Ko(n.containerInfo),In(n,t),Ra=u,Hn(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(Ue){_t(t,t.return,Ue)}xd&&(xd=!1,ig(t));break;case 4:i=Ra,Ra=Ko(t.stateNode.containerInfo),In(n,t),Hn(t),Ra=i;break;case 12:In(n,t),Hn(t);break;case 31:In(n,t),Hn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ko(t,i)));break;case 13:In(n,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qo=W()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ko(t,i)));break;case 22:u=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,V=ss,ae=rn;if(ss=V||u,rn=ae||C,In(n,t),rn=ae,ss=V,Hn(t),i&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||C||ss||rn||cr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{x=C.stateNode;var ue=C.memoizedProps.style,G=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Ue){_t(C,C.return,Ue)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(Ue){_t(C,C.return,Ue)}}}else if(n.tag===18){if(r===null){C=n;try{var X=C.stateNode;u?Pg(X,!0):Pg(C.stateNode,!1)}catch(Ue){_t(C,C.return,Ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,ko(t,r))));break;case 19:In(n,t),Hn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ko(t,i)));break;case 30:break;case 21:break;default:In(n,t),Hn(t)}}function Hn(t){var n=t.flags;if(n&2){try{for(var r,i=t.return;i!==null;){if(Jp(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=vd(t);Mo(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(ps(g,""),r.flags&=-33);var x=vd(t);Mo(t,x,g);break;case 3:case 4:var C=r.stateNode.containerInfo,V=vd(t);bd(t,V,C);break;default:throw Error(l(161))}}catch(ae){_t(t,t.return,ae)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ig(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ig(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ls(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tg(t,n.alternate,n),n=n.sibling}function cr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),cr(n);break;case 1:$a(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Pp(n,n.return,r),cr(n);break;case 27:hi(n.stateNode);case 26:case 5:$a(n,n.return),cr(n);break;case 22:n.memoizedState===null&&cr(n);break;case 30:cr(n);break;default:cr(n)}t=t.sibling}}function is(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(u,f,r),si(4,f);break;case 1:if(is(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(V){_t(i,i.return,V)}if(i=f,u=i.updateQueue,u!==null){var x=i.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)Bh(C[u],x)}catch(V){_t(i,i.return,V)}}r&&g&64&&Kp(f),ri(f,f.return);break;case 27:Wp(f);case 26:case 5:is(u,f,r),r&&i===null&&g&4&&Xp(f),ri(f,f.return);break;case 12:is(u,f,r);break;case 31:is(u,f,r),r&&g&4&&sg(u,f);break;case 13:is(u,f,r),r&&g&4&&rg(u,f);break;case 22:f.memoizedState===null&&is(u,f,r),ri(f,f.return);break;case 30:break;default:is(u,f,r)}n=n.sibling}}function Sd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Zl(r))}function _d(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function Ta(t,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)og(t,n,r,i),n=n.sibling}function og(t,n,r,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ta(t,n,r,i),u&2048&&si(9,n);break;case 1:Ta(t,n,r,i);break;case 3:Ta(t,n,r,i),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(u&2048){Ta(t,n,r,i),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,x=f.onPostCommit;typeof x=="function"&&x(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){_t(n,n.return,C)}}else Ta(t,n,r,i);break;case 31:Ta(t,n,r,i);break;case 13:Ta(t,n,r,i);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ta(t,n,r,i):li(t,n):f._visibility&2?Ta(t,n,r,i):(f._visibility|=2,Yr(t,n,r,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Sd(g,n);break;case 24:Ta(t,n,r,i),u&2048&&_d(n.alternate,n);break;default:Ta(t,n,r,i)}}function Yr(t,n,r,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,x=r,C=i,V=g.flags;switch(g.tag){case 0:case 11:case 15:Yr(f,g,x,C,u),si(8,g);break;case 23:break;case 22:var ae=g.stateNode;g.memoizedState!==null?ae._visibility&2?Yr(f,g,x,C,u):li(f,g):(ae._visibility|=2,Yr(f,g,x,C,u)),u&&V&2048&&Sd(g.alternate,g);break;case 24:Yr(f,g,x,C,u),u&&V&2048&&_d(g.alternate,g);break;default:Yr(f,g,x,C,u)}n=n.sibling}}function li(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,i=n,u=i.flags;switch(i.tag){case 22:li(r,i),u&2048&&Sd(i.alternate,i);break;case 24:li(r,i),u&2048&&_d(i.alternate,i);break;default:li(r,i)}n=n.sibling}}var ii=8192;function Kr(t,n,r){if(t.subtreeFlags&ii)for(t=t.child;t!==null;)cg(t,n,r),t=t.sibling}function cg(t,n,r){switch(t.tag){case 26:Kr(t,n,r),t.flags&ii&&t.memoizedState!==null&&e_(r,Ra,t.memoizedState,t.memoizedProps);break;case 5:Kr(t,n,r);break;case 3:case 4:var i=Ra;Ra=Ko(t.stateNode.containerInfo),Kr(t,n,r),Ra=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ii,ii=16777216,Kr(t,n,r),ii=i):Kr(t,n,r));break;default:Kr(t,n,r)}}function ug(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function oi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];hn=i,fg(i,t)}ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dg(t),t=t.sibling}function dg(t){switch(t.tag){case 0:case 11:case 15:oi(t),t.flags&2048&&As(9,t,t.return);break;case 3:oi(t);break;case 12:oi(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Uo(t)):oi(t);break;default:oi(t)}}function Uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];hn=i,fg(i,t)}ug(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:As(8,n,n.return),Uo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Uo(n));break;default:Uo(n)}t=t.sibling}}function fg(t,n){for(;hn!==null;){var r=hn;switch(r.tag){case 0:case 11:case 15:As(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Zl(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,hn=i;else e:for(r=t;hn!==null;){i=hn;var u=i.sibling,f=i.return;if(ng(i),i===r){hn=null;break e}if(u!==null){u.return=f,hn=u;break e}hn=f}}}var pS={getCacheForType:function(t){var n=bn(nn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return bn(nn).controller.signal}},gS=typeof WeakMap=="function"?WeakMap:Map,bt=0,At=null,rt=null,ot=0,St=0,sa=null,Os=!1,Pr=!1,wd=!1,os=0,Kt=0,Cs=0,ur=0,Nd=0,ra=0,Xr=0,ci=null,Vn=null,jd=!1,qo=0,mg=0,Bo=1/0,Lo=null,Rs=null,un=0,Ts=null,Jr=null,cs=0,Ed=0,Ad=null,hg=null,ui=0,Od=null;function la(){return(bt&2)!==0&&ot!==0?ot&-ot:q.T!==null?Md():Qt()}function pg(){if(ra===0)if((ot&536870912)===0||dt){var t=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),ra=t}else ra=536870912;return t=na.current,t!==null&&(t.flags|=32),ra}function Zn(t,n,r){(t===At&&(St===2||St===9)||t.cancelPendingCommit!==null)&&(Wr(t,0),Ds(t,ot,ra,!1)),qe(t,r),((bt&2)===0||t!==At)&&(t===At&&((bt&2)===0&&(ur|=r),Kt===4&&Ds(t,ot,ra,!1)),Ia(t))}function gg(t,n,r){if((bt&6)!==0)throw Error(l(327));var i=!r&&(n&127)===0&&(n&t.expiredLanes)===0||be(t,n),u=i?bS(t,n):Rd(t,n,!0),f=i;do{if(u===0){Pr&&!i&&Ds(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!yS(r)){u=Rd(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var x=t;u=ci;var C=x.current.memoizedState.isDehydrated;if(C&&(Wr(x,g).flags|=256),g=Rd(x,g,!1),g!==2){if(wd&&!C){x.errorRecoveryDisabledLanes|=f,ur|=f,u=4;break e}f=Vn,Vn=u,f!==null&&(Vn===null?Vn=f:Vn.push.apply(Vn,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){Wr(t,0),Ds(t,n,0,!0);break}e:{switch(i=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ds(i,n,ra,!Os);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=qo+300-W(),10<u)){if(Ds(i,n,ra,!Os),Z(i,0,!0)!==0)break e;cs=n,i.timeoutHandle=Qg(yg.bind(null,i,r,Vn,Lo,jd,n,ra,ur,Xr,Os,f,"Throttled",-0,0),u);break e}yg(i,r,Vn,Lo,jd,n,ra,ur,Xr,Os,f,null,-0,0)}}break}while(!0);Ia(t)}function yg(t,n,r,i,u,f,g,x,C,V,ae,ue,G,X){if(t.timeoutHandle=-1,ue=n.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oa},cg(n,f,ue);var Ue=(f&62914560)===f?qo-W():(f&4194048)===f?mg-W():0;if(Ue=t_(ue,Ue),Ue!==null){cs=f,t.cancelPendingCommit=Ue(jg.bind(null,t,n,f,r,i,u,g,x,C,ae,ue,null,G,X)),Ds(t,f,g,!V);return}}jg(t,n,f,r,i,u,g,x,C)}function yS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!ea(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(t,n,r,i){n&=~Nd,n&=~ur,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var u=n;0<u;){var f=31-Ot(u),g=1<<f;i[f]=-1,u&=~g}r!==0&&Ct(t,r,n)}function Fo(){return(bt&6)===0?(di(0),!1):!0}function Cd(){if(rt!==null){if(St===0)var t=rt.return;else t=rt,Ja=tr=null,Zu(t),Hr=null,Ql=0,t=rt;for(;t!==null;)Yp(t.alternate,t),t=t.return;rt=null}}function Wr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,qS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),cs=0,Cd(),At=t,rt=r=Pa(t.current,null),ot=n,St=0,sa=null,Os=!1,Pr=be(t,n),wd=!1,Xr=ra=Nd=ur=Cs=Kt=0,Vn=ci=null,jd=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var u=31-Ot(i),f=1<<u;n|=t[u],i&=~f}return os=n,lo(),r}function vg(t,n){et=null,q.H=ti,n===Ir||n===po?(n=Mh(),St=3):n===zu?(n=Mh(),St=4):St=n===id?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sa=n,rt===null&&(Kt=1,Co(t,fa(n,t.current)))}function bg(){var t=na.current;return t===null?!0:(ot&4194048)===ot?ga===null:(ot&62914560)===ot||(ot&536870912)!==0?t===ga:!1}function xg(){var t=q.H;return q.H=ti,t===null?ti:t}function Sg(){var t=q.A;return q.A=pS,t}function $o(){Kt=4,Os||(ot&4194048)!==ot&&na.current!==null||(Pr=!0),(Cs&134217727)===0&&(ur&134217727)===0||At===null||Ds(At,ot,ra,!1)}function Rd(t,n,r){var i=bt;bt|=2;var u=xg(),f=Sg();(At!==t||ot!==n)&&(Lo=null,Wr(t,n)),n=!1;var g=Kt;e:do try{if(St!==0&&rt!==null){var x=rt,C=sa;switch(St){case 8:Cd(),g=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(n=!0);var V=St;if(St=0,sa=null,el(t,x,C,V),r&&Pr){g=0;break e}break;default:V=St,St=0,sa=null,el(t,x,C,V)}}vS(),g=Kt;break}catch(ae){vg(t,ae)}while(!0);return n&&t.shellSuspendCounter++,Ja=tr=null,bt=i,q.H=u,q.A=f,rt===null&&(At=null,ot=0,lo()),g}function vS(){for(;rt!==null;)_g(rt)}function bS(t,n){var r=bt;bt|=2;var i=xg(),u=Sg();At!==t||ot!==n?(Lo=null,Bo=W()+500,Wr(t,n)):Pr=be(t,n);e:do try{if(St!==0&&rt!==null){n=rt;var f=sa;t:switch(St){case 1:St=0,sa=null,el(t,n,f,1);break;case 2:case 9:if(Dh(f)){St=0,sa=null,wg(n);break}n=function(){St!==2&&St!==9||At!==t||(St=7),Ia(t)},f.then(n,n);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:Dh(f)?(St=0,sa=null,wg(n)):(St=0,sa=null,el(t,n,f,7));break;case 5:var g=null;switch(rt.tag){case 26:g=rt.memoizedState;case 5:case 27:var x=rt;if(g?oy(g):x.stateNode.complete){St=0,sa=null;var C=x.sibling;if(C!==null)rt=C;else{var V=x.return;V!==null?(rt=V,Io(V)):rt=null}break t}}St=0,sa=null,el(t,n,f,5);break;case 6:St=0,sa=null,el(t,n,f,6);break;case 8:Cd(),Kt=6;break e;default:throw Error(l(462))}}xS();break}catch(ae){vg(t,ae)}while(!0);return Ja=tr=null,q.H=i,q.A=u,bt=r,rt!==null?0:(At=null,ot=0,lo(),Kt)}function xS(){for(;rt!==null&&!F();)_g(rt)}function _g(t){var n=Gp(t.alternate,t,os);t.memoizedProps=t.pendingProps,n===null?Io(t):rt=n}function wg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Fp(r,n,n.pendingProps,n.type,void 0,ot);break;case 11:n=Fp(r,n,n.pendingProps,n.type.render,n.ref,ot);break;case 5:Zu(n);default:Yp(r,n),n=rt=Sh(n,os),n=Gp(r,n,os)}t.memoizedProps=t.pendingProps,n===null?Io(t):rt=n}function el(t,n,r,i){Ja=tr=null,Zu(n),Hr=null,Ql=0;var u=n.return;try{if(oS(t,u,n,r,ot)){Kt=1,Co(t,fa(r,t.current)),rt=null;return}}catch(f){if(u!==null)throw rt=u,f;Kt=1,Co(t,fa(r,t.current)),rt=null;return}n.flags&32768?(dt||i===1?t=!0:Pr||(ot&536870912)!==0?t=!1:(Os=t=!0,(i===2||i===9||i===3||i===6)&&(i=na.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ng(n,t)):Io(n)}function Io(t){var n=t;do{if((n.flags&32768)!==0){Ng(n,Os);return}t=n.return;var r=dS(n.alternate,n,os);if(r!==null){rt=r;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=t}while(n!==null);Kt===0&&(Kt=5)}function Ng(t,n){do{var r=fS(t.alternate,t);if(r!==null){r.flags&=32767,rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){rt=t;return}rt=t=r}while(t!==null);Kt=6,rt=null}function jg(t,n,r,i,u,f,g,x,C){t.cancelPendingCommit=null;do Ho();while(un!==0);if((bt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=vu,Lt(t,r,f,g,x,C),t===At&&(rt=At=null,ot=0),Jr=n,Ts=t,cs=r,Ed=f,Ad=u,hg=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NS(te,function(){return Rg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=q.T,q.T=null,u=ne.p,ne.p=2,g=bt,bt|=4;try{mS(t,n,r)}finally{bt=g,ne.p=u,q.T=i}}un=1,Eg(),Ag(),Og()}}function Eg(){if(un===1){un=0;var t=Ts,n=Jr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var i=ne.p;ne.p=2;var u=bt;bt|=4;try{lg(n,t);var f=Id,g=fh(t.containerInfo),x=f.focusedElem,C=f.selectionRange;if(g!==x&&x&&x.ownerDocument&&dh(x.ownerDocument.documentElement,x)){if(C!==null&&mu(x)){var V=C.start,ae=C.end;if(ae===void 0&&(ae=V),"selectionStart"in x)x.selectionStart=V,x.selectionEnd=Math.min(ae,x.value.length);else{var ue=x.ownerDocument||document,G=ue&&ue.defaultView||window;if(G.getSelection){var X=G.getSelection(),Ue=x.textContent.length,Qe=Math.min(C.start,Ue),Et=C.end===void 0?Qe:Math.min(C.end,Ue);!X.extend&&Qe>Et&&(g=Et,Et=Qe,Qe=g);var B=uh(x,Qe),M=uh(x,Et);if(B&&M&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==M.node||X.focusOffset!==M.offset)){var I=ue.createRange();I.setStart(B.node,B.offset),X.removeAllRanges(),Qe>Et?(X.addRange(I),X.extend(M.node,M.offset)):(I.setEnd(M.node,M.offset),X.addRange(I))}}}}for(ue=[],X=x;X=X.parentNode;)X.nodeType===1&&ue.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ue.length;x++){var le=ue[x];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}tc=!!$d,Id=$d=null}finally{bt=u,ne.p=i,q.T=r}}t.current=n,un=2}}function Ag(){if(un===2){un=0;var t=Ts,n=Jr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var i=ne.p;ne.p=2;var u=bt;bt|=4;try{tg(t,n.alternate,n)}finally{bt=u,ne.p=i,q.T=r}}un=3}}function Og(){if(un===4||un===3){un=0,ve();var t=Ts,n=Jr,r=cs,i=hg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?un=5:(un=0,Jr=Ts=null,Cg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Rs=null),Tt(r),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(gn,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=q.T,u=ne.p,ne.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<i.length;g++){var x=i[g];f(x.value,{componentStack:x.stack})}}finally{q.T=n,ne.p=u}}(cs&3)!==0&&Ho(),Ia(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Od?ui++:(ui=0,Od=t):ui=0,di(0)}}function Cg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function Ho(){return Eg(),Ag(),Og(),Rg()}function Rg(){if(un!==5)return!1;var t=Ts,n=Ed;Ed=0;var r=Tt(cs),i=q.T,u=ne.p;try{ne.p=32>r?32:r,q.T=null,r=Ad,Ad=null;var f=Ts,g=cs;if(un=0,Jr=Ts=null,cs=0,(bt&6)!==0)throw Error(l(331));var x=bt;if(bt|=4,dg(f.current),og(f,f.current,g,r),bt=x,di(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(gn,f)}catch{}return!0}finally{ne.p=u,q.T=i,Cg(t,n)}}function Tg(t,n,r){n=fa(r,n),n=ld(t.stateNode,n,2),t=Ns(t,n,2),t!==null&&(qe(t,2),Ia(t))}function _t(t,n,r){if(t.tag===3)Tg(t,t,r);else for(;n!==null;){if(n.tag===3){Tg(n,t,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Rs===null||!Rs.has(i))){t=fa(r,t),r=Dp(2),i=Ns(n,r,2),i!==null&&(zp(r,i,n,t),qe(i,2),Ia(i));break}}n=n.return}}function Td(t,n,r){var i=t.pingCache;if(i===null){i=t.pingCache=new gS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(r)||(wd=!0,u.add(r),t=SS.bind(null,t,n,r),n.then(t,t))}function SS(t,n,r){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,At===t&&(ot&r)===r&&(Kt===4||Kt===3&&(ot&62914560)===ot&&300>W()-qo?(bt&2)===0&&Wr(t,0):Nd|=r,Xr===ot&&(Xr=0)),Ia(t)}function Dg(t,n){n===0&&(n=ft()),t=Js(t,n),t!==null&&(qe(t,n),Ia(t))}function _S(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Dg(t,r)}function wS(t,n){var r=0;switch(t.tag){case 31:case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),Dg(t,r)}function NS(t,n){return j(t,n)}var Vo=null,tl=null,Dd=!1,Zo=!1,zd=!1,zs=0;function Ia(t){t!==tl&&t.next===null&&(tl===null?Vo=tl=t:tl=tl.next=t),Zo=!0,Dd||(Dd=!0,ES())}function di(t,n){if(!zd&&Zo){zd=!0;do for(var r=!1,i=Vo;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var g=i.suspendedLanes,x=i.pingedLanes;f=(1<<31-Ot(42|t)+1)-1,f&=u&~(g&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ug(i,f))}else f=ot,f=Z(i,i===At?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||be(i,f)||(r=!0,Ug(i,f));i=i.next}while(r);zd=!1}}function jS(){zg()}function zg(){Zo=Dd=!1;var t=0;zs!==0&&US()&&(t=zs);for(var n=W(),r=null,i=Vo;i!==null;){var u=i.next,f=Mg(i,n);f===0?(i.next=null,r===null?Vo=u:r.next=u,u===null&&(tl=r)):(r=i,(t!==0||(f&3)!==0)&&(Zo=!0)),i=u}un!==0&&un!==5||di(t),zs!==0&&(zs=0)}function Mg(t,n){for(var r=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ot(f),x=1<<g,C=u[g];C===-1?((x&r)===0||(x&i)!==0)&&(u[g]=ke(x,n)):C<=n&&(t.expiredLanes|=x),f&=~x}if(n=At,r=ot,r=Z(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,r===0||t===n&&(St===2||St===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&k(i),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||be(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(i!==null&&k(i),Tt(r)){case 2:case 8:r=We;break;case 32:r=te;break;case 268435456:r=Le;break;default:r=te}return i=kg.bind(null,t),r=j(r,i),t.callbackPriority=n,t.callbackNode=r,n}return i!==null&&i!==null&&k(i),t.callbackPriority=2,t.callbackNode=null,2}function kg(t,n){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ho()&&t.callbackNode!==r)return null;var i=ot;return i=Z(t,t===At?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(gg(t,i,n),Mg(t,W()),t.callbackNode!=null&&t.callbackNode===r?kg.bind(null,t):null)}function Ug(t,n){if(Ho())return null;gg(t,n,!0)}function ES(){BS(function(){(bt&6)!==0?j(Ce,jS):zg()})}function Md(){if(zs===0){var t=Fr;t===0&&(t=ja,ja<<=1,(ja&261888)===0&&(ja=256)),zs=t}return zs}function qg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Rr(""+t)}function Bg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function AS(t,n,r,i,u){if(n==="submit"&&r&&r.stateNode===u){var f=qg((u[gt]||null).action),g=i.submitter;g&&(n=(n=g[gt]||null)?qg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var x=new no("action","action",null,i,u);t.push({event:x,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(zs!==0){var C=g?Bg(u,g):new FormData(u);ed(r,{pending:!0,data:C,method:u.method,action:f},null,C)}}else typeof f=="function"&&(x.preventDefault(),C=g?Bg(u,g):new FormData(u),ed(r,{pending:!0,data:C,method:u.method,action:f},f,C))},currentTarget:u}]})}}for(var kd=0;kd<yu.length;kd++){var Ud=yu[kd],OS=Ud.toLowerCase(),CS=Ud[0].toUpperCase()+Ud.slice(1);Ca(OS,"on"+CS)}Ca(ph,"onAnimationEnd"),Ca(gh,"onAnimationIteration"),Ca(yh,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(Zx,"onTransitionRun"),Ca(Gx,"onTransitionStart"),Ca(Qx,"onTransitionCancel"),Ca(vh,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fi));function Lg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var g=i.length-1;0<=g;g--){var x=i[g],C=x.instance,V=x.currentTarget;if(x=x.listener,C!==f&&u.isPropagationStopped())break e;f=x,u.currentTarget=V;try{f(u)}catch(ae){ro(ae)}u.currentTarget=null,f=C}else for(g=0;g<i.length;g++){if(x=i[g],C=x.instance,V=x.currentTarget,x=x.listener,C!==f&&u.isPropagationStopped())break e;f=x,u.currentTarget=V;try{f(u)}catch(ae){ro(ae)}u.currentTarget=null,f=C}}}}function lt(t,n){var r=n[Jt];r===void 0&&(r=n[Jt]=new Set);var i=t+"__bubble";r.has(i)||(Fg(n,t,2,!1),r.add(i))}function qd(t,n,r){var i=0;n&&(i|=4),Fg(r,t,i,n)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Go]){t[Go]=!0,Ba.forEach(function(r){r!=="selectionchange"&&(RS.has(r)||qd(r,!1,t),qd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Go]||(n[Go]=!0,qd("selectionchange",!1,n))}}function Fg(t,n,r,i){switch(py(n)){case 2:var u=s_;break;case 8:u=r_;break;default:u=Wd}r=u.bind(null,n,r,t),u=void 0,!oe||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Ld(t,n,r,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var x=i.stateNode.containerInfo;if(x===u)break;if(g===4)for(g=i.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;x!==null;){if(g=On(x),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){i=f=g;continue e}x=x.parentNode}}i=i.return}to(function(){var V=f,ae=kl(r),ue=[];e:{var G=bh.get(t);if(G!==void 0){var X=no,Ue=t;switch(t){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":X=wx;break;case"focusin":Ue="focus",X=ou;break;case"focusout":Ue="blur",X=ou;break;case"beforeblur":case"afterblur":X=ou;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=dx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ex;break;case ph:case gh:case yh:X=hx;break;case vh:X=Ox;break;case"scroll":case"scrollend":X=cx;break;case"wheel":X=Rx;break;case"copy":case"cut":case"paste":X=gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Pm;break;case"toggle":case"beforetoggle":X=Dx}var Qe=(n&4)!==0,Et=!Qe&&(t==="scroll"||t==="scrollend"),B=Qe?G!==null?G+"Capture":null:G;Qe=[];for(var M=V,I;M!==null;){var le=M;if(I=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||I===null||B===null||(le=O(M,B),le!=null&&Qe.push(mi(M,le,I))),Et)break;M=M.return}0<Qe.length&&(G=new X(G,Ue,null,r,ae),ue.push({event:G,listeners:Qe}))}}if((n&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",G&&r!==Ml&&(Ue=r.relatedTarget||r.fromElement)&&(On(Ue)||Ue[Dt]))break e;if((X||G)&&(G=ae.window===ae?ae:(G=ae.ownerDocument)?G.defaultView||G.parentWindow:window,X?(Ue=r.relatedTarget||r.toElement,X=V,Ue=Ue?On(Ue):null,Ue!==null&&(Et=d(Ue),Qe=Ue.tag,Ue!==Et||Qe!==5&&Qe!==27&&Qe!==6)&&(Ue=null)):(X=null,Ue=V),X!==Ue)){if(Qe=Ym,le="onMouseLeave",B="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Qe=Pm,le="onPointerLeave",B="onPointerEnter",M="pointer"),Et=X==null?G:Cn(X),I=Ue==null?G:Cn(Ue),G=new Qe(le,M+"leave",X,r,ae),G.target=Et,G.relatedTarget=I,le=null,On(ae)===V&&(Qe=new Qe(B,M+"enter",Ue,r,ae),Qe.target=I,Qe.relatedTarget=Et,le=Qe),Et=le,X&&Ue)t:{for(Qe=TS,B=X,M=Ue,I=0,le=B;le;le=Qe(le))I++;le=0;for(var He=M;He;He=Qe(He))le++;for(;0<I-le;)B=Qe(B),I--;for(;0<le-I;)M=Qe(M),le--;for(;I--;){if(B===M||M!==null&&B===M.alternate){Qe=B;break t}B=Qe(B),M=Qe(M)}Qe=null}else Qe=null;X!==null&&$g(ue,G,X,Qe,!1),Ue!==null&&Et!==null&&$g(ue,Et,Ue,Qe,!0)}}e:{if(G=V?Cn(V):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var yt=sh;else if(nh(G))if(rh)yt=Ix;else{yt=Fx;var Fe=Lx}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?V&&zl(V.elementType)&&(yt=sh):yt=$x;if(yt&&(yt=yt(t,V))){ah(ue,yt,r,ae);break e}Fe&&Fe(t,G,V),t==="focusout"&&V&&G.type==="number"&&V.memoizedProps.value!=null&&Dl(G,"number",G.value)}switch(Fe=V?Cn(V):window,t){case"focusin":(nh(Fe)||Fe.contentEditable==="true")&&(Dr=Fe,hu=V,Il=null);break;case"focusout":Il=hu=Dr=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,mh(ue,r,ae);break;case"selectionchange":if(Vx)break;case"keydown":case"keyup":mh(ue,r,ae)}var nt;if(uu)e:{switch(t){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Tr?eh(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(Xm&&r.locale!=="ko"&&(Tr||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Tr&&(nt=ua()):(Ve=ae,st="value"in Ve?Ve.value:Ve.textContent,Tr=!0)),Fe=Qo(V,ct),0<Fe.length&&(ct=new Km(ct,t,null,r,ae),ue.push({event:ct,listeners:Fe}),nt?ct.data=nt:(nt=th(r),nt!==null&&(ct.data=nt)))),(nt=Mx?kx(t,r):Ux(t,r))&&(ct=Qo(V,"onBeforeInput"),0<ct.length&&(Fe=new Km("onBeforeInput","beforeinput",null,r,ae),ue.push({event:Fe,listeners:ct}),Fe.data=nt)),AS(ue,t,V,r,ae)}Lg(ue,n)})}function mi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Qo(t,n){for(var r=n+"Capture",i=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=O(t,r),u!=null&&i.unshift(mi(t,u,f)),u=O(t,n),u!=null&&i.push(mi(t,u,f))),t.tag===3)return i;t=t.return}return[]}function TS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $g(t,n,r,i,u){for(var f=n._reactName,g=[];r!==null&&r!==i;){var x=r,C=x.alternate,V=x.stateNode;if(x=x.tag,C!==null&&C===i)break;x!==5&&x!==26&&x!==27||V===null||(C=V,u?(V=O(r,f),V!=null&&g.unshift(mi(r,V,C))):u||(V=O(r,f),V!=null&&g.push(mi(r,V,C)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var DS=/\r\n?/g,zS=/\u0000|\uFFFD/g;function Ig(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(zS,"")}function Hg(t,n){return n=Ig(n),Ig(t)===n}function jt(t,n,r,i,u,f){switch(r){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||ps(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&ps(t,""+i);break;case"className":Gs(t,"class",i);break;case"tabIndex":Gs(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(t,r,i);break;case"style":Wi(t,i,f);break;case"data":if(n!=="object"){Gs(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=Rr(""+i),t.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&jt(t,n,"name",u.name,u,null),jt(t,n,"formEncType",u.formEncType,u,null),jt(t,n,"formMethod",u.formMethod,u,null),jt(t,n,"formTarget",u.formTarget,u,null)):(jt(t,n,"encType",u.encType,u,null),jt(t,n,"method",u.method,u,null),jt(t,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=Rr(""+i),t.setAttribute(r,i);break;case"onClick":i!=null&&(t.onclick=Oa);break;case"onScroll":i!=null&&lt("scroll",t);break;case"onScrollEnd":i!=null&&lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}r=Rr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""+i):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":i===!0?t.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,i):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(r,i):t.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(r):t.setAttribute(r,i);break;case"popover":lt("beforetoggle",t),lt("toggle",t),Zs(t,"popover",i);break;case"xlinkActuate":Aa(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Aa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Aa(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Aa(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Aa(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Aa(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Aa(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Aa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Aa(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Zs(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Cr.get(r)||r,Zs(t,r,i))}}function Fd(t,n,r,i,u,f){switch(r){case"style":Wi(t,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof i=="string"?ps(t,i):(typeof i=="number"||typeof i=="bigint")&&ps(t,""+i);break;case"onScroll":i!=null&&lt("scroll",t);break;case"onScrollEnd":i!=null&&lt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,i,u);break e}r in t?t[r]=i:i===!0?t.setAttribute(r,""):Zs(t,r,i)}}}function Sn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",t),lt("load",t);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:jt(t,n,f,g,r,null)}}u&&jt(t,n,"srcSet",r.srcSet,r,null),i&&jt(t,n,"src",r.src,r,null);return;case"input":lt("invalid",t);var x=f=g=u=null,C=null,V=null;for(i in r)if(r.hasOwnProperty(i)){var ae=r[i];if(ae!=null)switch(i){case"name":u=ae;break;case"type":g=ae;break;case"checked":C=ae;break;case"defaultChecked":V=ae;break;case"value":f=ae;break;case"defaultValue":x=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,n));break;default:jt(t,n,i,ae,r,null)}}Ki(t,f,x,C,V,g,u,!1);return;case"select":lt("invalid",t),i=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(x=r[u],x!=null))switch(u){case"value":f=x;break;case"defaultValue":g=x;break;case"multiple":i=x;default:jt(t,n,u,x,r,null)}n=f,r=g,t.multiple=!!i,n!=null?hs(t,!!i,n,!1):r!=null&&hs(t,!!i,r,!0);return;case"textarea":lt("invalid",t),f=u=i=null;for(g in r)if(r.hasOwnProperty(g)&&(x=r[g],x!=null))switch(g){case"value":i=x;break;case"defaultValue":u=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:jt(t,n,g,x,r,null)}Xi(t,i,u,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(i=r[C],i!=null))switch(C){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:jt(t,n,C,i,r,null)}return;case"dialog":lt("beforetoggle",t),lt("toggle",t),lt("cancel",t),lt("close",t);break;case"iframe":case"object":lt("load",t);break;case"video":case"audio":for(i=0;i<fi.length;i++)lt(fi[i],t);break;case"image":lt("error",t),lt("load",t);break;case"details":lt("toggle",t);break;case"embed":case"source":case"link":lt("error",t),lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in r)if(r.hasOwnProperty(V)&&(i=r[V],i!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:jt(t,n,V,i,r,null)}return;default:if(zl(n)){for(ae in r)r.hasOwnProperty(ae)&&(i=r[ae],i!==void 0&&Fd(t,n,ae,i,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(i=r[x],i!=null&&jt(t,n,x,i,r,null))}function MS(t,n,r,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,x=null,C=null,V=null,ae=null;for(X in r){var ue=r[X];if(r.hasOwnProperty(X)&&ue!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=ue;default:i.hasOwnProperty(X)||jt(t,n,X,null,i,ue)}}for(var G in i){var X=i[G];if(ue=r[G],i.hasOwnProperty(G)&&(X!=null||ue!=null))switch(G){case"type":f=X;break;case"name":u=X;break;case"checked":V=X;break;case"defaultChecked":ae=X;break;case"value":g=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,n));break;default:X!==ue&&jt(t,n,G,X,i,ue)}}Tl(t,g,x,C,V,ae,f,u);return;case"select":X=g=x=G=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":X=C;default:i.hasOwnProperty(f)||jt(t,n,f,null,i,C)}for(u in i)if(f=i[u],C=r[u],i.hasOwnProperty(u)&&(f!=null||C!=null))switch(u){case"value":G=f;break;case"defaultValue":x=f;break;case"multiple":g=f;default:f!==C&&jt(t,n,u,f,i,C)}n=x,r=g,i=X,G!=null?hs(t,!!r,G,!1):!!i!=!!r&&(n!=null?hs(t,!!r,n,!0):hs(t,!!r,r?[]:"",!1));return;case"textarea":X=G=null;for(x in r)if(u=r[x],r.hasOwnProperty(x)&&u!=null&&!i.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:jt(t,n,x,null,i,u)}for(g in i)if(u=i[g],f=r[g],i.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":G=u;break;case"defaultValue":X=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&jt(t,n,g,u,i,f)}Pi(t,G,X);return;case"option":for(var Ue in r)if(G=r[Ue],r.hasOwnProperty(Ue)&&G!=null&&!i.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:jt(t,n,Ue,null,i,G)}for(C in i)if(G=i[C],X=r[C],i.hasOwnProperty(C)&&G!==X&&(G!=null||X!=null))switch(C){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:jt(t,n,C,G,i,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in r)G=r[Qe],r.hasOwnProperty(Qe)&&G!=null&&!i.hasOwnProperty(Qe)&&jt(t,n,Qe,null,i,G);for(V in i)if(G=i[V],X=r[V],i.hasOwnProperty(V)&&G!==X&&(G!=null||X!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,n));break;default:jt(t,n,V,G,i,X)}return;default:if(zl(n)){for(var Et in r)G=r[Et],r.hasOwnProperty(Et)&&G!==void 0&&!i.hasOwnProperty(Et)&&Fd(t,n,Et,void 0,i,G);for(ae in i)G=i[ae],X=r[ae],!i.hasOwnProperty(ae)||G===X||G===void 0&&X===void 0||Fd(t,n,ae,G,i,X);return}}for(var B in r)G=r[B],r.hasOwnProperty(B)&&G!=null&&!i.hasOwnProperty(B)&&jt(t,n,B,null,i,G);for(ue in i)G=i[ue],X=r[ue],!i.hasOwnProperty(ue)||G===X||G==null&&X==null||jt(t,n,ue,G,i,X)}function Vg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var u=r[i],f=u.transferSize,g=u.initiatorType,x=u.duration;if(f&&x&&Vg(g)){for(g=0,x=u.responseEnd,i+=1;i<r.length;i++){var C=r[i],V=C.startTime;if(V>x)break;var ae=C.transferSize,ue=C.initiatorType;ae&&Vg(ue)&&(C=C.responseEnd,g+=ae*(C<x?1:(x-V)/(C-V)))}if(--i,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Id=null;function Yo(t){return t.nodeType===9?t:t.ownerDocument}function Zg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vd=null;function US(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var Qg=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(t){return Yg.resolve(null).then(t).catch(LS)}:Qg;function LS(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function Kg(t,n){var r=n,i=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(i===0){t.removeChild(u),rl(n);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")hi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,hi(r);for(var f=r.firstChild;f;){var g=f.nextSibling,x=f.nodeName;f[qn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&hi(t.ownerDocument.body);r=u}while(r);rl(n)}function Pg(t,n){var r=t;t=0;do{var i=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=i}while(r)}function Zd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Zd(r),Bn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function FS(t,n,r,i){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[qn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ya(t.nextSibling),t===null)break}return null}function $S(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ya(t.nextSibling),t===null))return null;return t}function Xg(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ya(t.nextSibling),t===null))return null;return t}function Gd(t){return t.data==="$?"||t.data==="$~"}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IS(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var i=function(){n(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function ya(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Yd=null;function Jg(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ya(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Wg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function ey(t,n,r){switch(n=Yo(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function hi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bn(t)}var va=new Map,ty=new Set;function Ko(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=ne.d;ne.d={f:HS,r:VS,D:ZS,C:GS,L:QS,m:YS,X:PS,S:KS,M:XS};function HS(){var t=us.f(),n=Fo();return t||n}function VS(t){var n=qa(t);n!==null&&n.tag===5&&n.type==="form"?vp(n):us.r(t)}var nl=typeof document>"u"?null:document;function ny(t,n,r){var i=nl;if(i&&typeof n=="string"&&n){var u=Ln(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),ty.has(u)||(ty.add(u),t={rel:t,crossOrigin:r,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),Sn(n,"link",t),zt(n),i.head.appendChild(n)))}}function ZS(t){us.D(t),ny("dns-prefetch",t,null)}function GS(t,n){us.C(t,n),ny("preconnect",t,n)}function QS(t,n,r){us.L(t,n,r);var i=nl;if(i&&t&&n){var u='link[rel="preload"][as="'+Ln(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Ln(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Ln(r.imageSizes)+'"]')):u+='[href="'+Ln(t)+'"]';var f=u;switch(n){case"style":f=al(t);break;case"script":f=sl(t)}va.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),va.set(f,t),i.querySelector(u)!==null||n==="style"&&i.querySelector(pi(f))||n==="script"&&i.querySelector(gi(f))||(n=i.createElement("link"),Sn(n,"link",t),zt(n),i.head.appendChild(n)))}}function YS(t,n){us.m(t,n);var r=nl;if(r&&t){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ln(i)+'"][href="'+Ln(t)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=sl(t)}if(!va.has(f)&&(t=S({rel:"modulepreload",href:t},n),va.set(f,t),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(gi(f)))return}i=r.createElement("link"),Sn(i,"link",t),zt(i),r.head.appendChild(i)}}}function KS(t,n,r){us.S(t,n,r);var i=nl;if(i&&t){var u=_n(i).hoistableStyles,f=al(t);n=n||"default";var g=u.get(f);if(!g){var x={loading:0,preload:null};if(g=i.querySelector(pi(f)))x.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=va.get(f))&&Kd(t,r);var C=g=i.createElement("link");zt(C),Sn(C,"link",t),C._p=new Promise(function(V,ae){C.onload=V,C.onerror=ae}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Po(g,n,i)}g={type:"stylesheet",instance:g,count:1,state:x},u.set(f,g)}}}function PS(t,n){us.X(t,n);var r=nl;if(r&&t){var i=_n(r).hoistableScripts,u=sl(t),f=i.get(u);f||(f=r.querySelector(gi(u)),f||(t=S({src:t,async:!0},n),(n=va.get(u))&&Pd(t,n),f=r.createElement("script"),zt(f),Sn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function XS(t,n){us.M(t,n);var r=nl;if(r&&t){var i=_n(r).hoistableScripts,u=sl(t),f=i.get(u);f||(f=r.querySelector(gi(u)),f||(t=S({src:t,async:!0,type:"module"},n),(n=va.get(u))&&Pd(t,n),f=r.createElement("script"),zt(f),Sn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function ay(t,n,r,i){var u=(u=De.current)?Ko(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=al(r.href),r=_n(u).hoistableStyles,i=r.get(n),i||(i={type:"style",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=al(r.href);var f=_n(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(pi(t)))&&!f._p&&(g.instance=f,g.state.loading=5),va.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},va.set(t,r),f||JS(u,t,r,g.state))),n&&i===null)throw Error(l(528,""));return g}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=sl(r),r=_n(u).hoistableScripts,i=r.get(n),i||(i={type:"script",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function al(t){return'href="'+Ln(t)+'"'}function pi(t){return'link[rel="stylesheet"]['+t+"]"}function sy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function JS(t,n,r,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),Sn(n,"link",r),zt(n),t.head.appendChild(n))}function sl(t){return'[src="'+Ln(t)+'"]'}function gi(t){return"script[async]"+t}function ry(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+Ln(r.href)+'"]');if(i)return n.instance=i,zt(i),i;var u=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),zt(i),Sn(i,"style",u),Po(i,r.precedence,t),n.instance=i;case"stylesheet":u=al(r.href);var f=t.querySelector(pi(u));if(f)return n.state.loading|=4,n.instance=f,zt(f),f;i=sy(r),(u=va.get(u))&&Kd(i,u),f=(t.ownerDocument||t).createElement("link"),zt(f);var g=f;return g._p=new Promise(function(x,C){g.onload=x,g.onerror=C}),Sn(f,"link",i),n.state.loading|=4,Po(f,r.precedence,t),n.instance=f;case"script":return f=sl(r.src),(u=t.querySelector(gi(f)))?(n.instance=u,zt(u),u):(i=r,(u=va.get(f))&&(i=S({},r),Pd(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),zt(u),Sn(u,"link",i),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,Po(i,r.precedence,t));return n.instance}function Po(t,n,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,g=0;g<i.length;g++){var x=i[g];if(x.dataset.precedence===n)f=x;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Xo=null;function ly(t,n,r){if(Xo===null){var i=new Map,u=Xo=new Map;u.set(r,i)}else u=Xo,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(t))return i;for(i.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[qn]||f[ht]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var x=i.get(g);x?x.push(f):i.set(g,[f])}}return i}function iy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function WS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function oy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function e_(t,n,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=al(i.href),f=n.querySelector(pi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Jo.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,zt(f);return}f=n.ownerDocument||n,i=sy(i),(u=va.get(u))&&Kd(i,u),f=f.createElement("link"),zt(f);var g=f;g._p=new Promise(function(x,C){g.onload=x,g.onerror=C}),Sn(f,"link",i),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Jo.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Xd=0;function t_(t,n){return t.stylesheets&&t.count===0&&ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var i=setTimeout(function(){if(t.stylesheets&&ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Xd===0&&(Xd=62500*kS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Xd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function Jo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wo=null;function ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wo=new Map,n.forEach(n_,t),Wo=null,Jo.call(t))}function n_(t,n){if(!(n.state.loading&4)){var r=Wo.get(t);if(r)var i=r.get(null);else{r=new Map,Wo.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),i=g)}i&&r.set(null,i)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||i,f===i&&r.set(null,u),r.set(g,u),this.count++,i=Jo.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var yi={$$typeof:P,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function a_(t,n,r,i,u,f,g,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function cy(t,n,r,i,u,f,g,x,C,V,ae,ue){return t=new a_(t,n,r,g,C,V,ae,ue,x),n=1,f===!0&&(n|=24),f=ta(3,null,null,n),t.current=f,f.stateNode=t,n=Ru(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:n},Mu(f),t}function uy(t){return t?(t=kr,t):kr}function dy(t,n,r,i,u,f){u=uy(u),i.context===null?i.context=u:i.pendingContext=u,i=ws(n),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Ns(t,i,n),r!==null&&(Zn(r,t,n),Kl(r,t,n))}function fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Jd(t,n){fy(t,n),(t=t.alternate)&&fy(t,n)}function my(t){if(t.tag===13||t.tag===31){var n=Js(t,67108864);n!==null&&Zn(n,t,67108864),Jd(t,67108864)}}function hy(t){if(t.tag===13||t.tag===31){var n=la();n=Rt(n);var r=Js(t,n);r!==null&&Zn(r,t,n),Jd(t,n)}}var tc=!0;function s_(t,n,r,i){var u=q.T;q.T=null;var f=ne.p;try{ne.p=2,Wd(t,n,r,i)}finally{ne.p=f,q.T=u}}function r_(t,n,r,i){var u=q.T;q.T=null;var f=ne.p;try{ne.p=8,Wd(t,n,r,i)}finally{ne.p=f,q.T=u}}function Wd(t,n,r,i){if(tc){var u=ef(i);if(u===null)Ld(t,n,i,nc,r),gy(t,i);else if(i_(u,t,n,r,i))i.stopPropagation();else if(gy(t,i),n&4&&-1<l_.indexOf(t)){for(;u!==null;){var f=qa(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$(f.pendingLanes);if(g!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;g;){var C=1<<31-Ot(g);x.entanglements[1]|=C,g&=~C}Ia(f),(bt&6)===0&&(Bo=W()+500,di(0))}}break;case 31:case 13:x=Js(f,2),x!==null&&Zn(x,f,2),Fo(),Jd(f,2)}if(f=ef(i),f===null&&Ld(t,n,i,nc,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Ld(t,n,i,null,r)}}function ef(t){return t=kl(t),tf(t)}var nc=null;function tf(t){if(nc=null,t=On(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return nc=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case Ce:return 2;case We:return 8;case te:case Ge:return 32;case Le:return 268435456;default:return 32}default:return 32}}var nf=!1,ks=null,Us=null,qs=null,vi=new Map,bi=new Map,Bs=[],l_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(t,n){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":vi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(n.pointerId)}}function xi(t,n,r,i,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=qa(n),n!==null&&my(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function i_(t,n,r,i,u){switch(n){case"focusin":return ks=xi(ks,t,n,r,i,u),!0;case"dragenter":return Us=xi(Us,t,n,r,i,u),!0;case"mouseover":return qs=xi(qs,t,n,r,i,u),!0;case"pointerover":var f=u.pointerId;return vi.set(f,xi(vi.get(f)||null,t,n,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,bi.set(f,xi(bi.get(f)||null,t,n,r,i,u)),!0}return!1}function yy(t){var n=On(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,Xt(t.priority,function(){hy(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,Xt(t.priority,function(){hy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=ef(t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);Ml=i,r.target.dispatchEvent(i),Ml=null}else return n=qa(r),n!==null&&my(n),t.blockedOn=r,!1;n.shift()}return!0}function vy(t,n,r){ac(t)&&r.delete(n)}function o_(){nf=!1,ks!==null&&ac(ks)&&(ks=null),Us!==null&&ac(Us)&&(Us=null),qs!==null&&ac(qs)&&(qs=null),vi.forEach(vy),bi.forEach(vy)}function sc(t,n){t.blockedOn===n&&(t.blockedOn=null,nf||(nf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,o_)))}var rc=null;function by(t){rc!==t&&(rc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rc===t&&(rc=null);for(var n=0;n<t.length;n+=3){var r=t[n],i=t[n+1],u=t[n+2];if(typeof i!="function"){if(tf(i||r)===null)continue;break}var f=qa(r);f!==null&&(t.splice(n,3),n-=3,ed(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function rl(t){function n(C){return sc(C,t)}ks!==null&&sc(ks,t),Us!==null&&sc(Us,t),qs!==null&&sc(qs,t),vi.forEach(n),bi.forEach(n);for(var r=0;r<Bs.length;r++){var i=Bs[r];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Bs.length&&(r=Bs[0],r.blockedOn===null);)yy(r),r.blockedOn===null&&Bs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],g=u[gt]||null;if(typeof f=="function")g||by(r);else if(g){var x=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[gt]||null)x=g.formAction;else if(tf(u)!==null)continue}else x=g.action;typeof x=="function"?r[i+1]=x:(r.splice(i,3),i-=3),by(r)}}}function xy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function af(t){this._internalRoot=t}lc.prototype.render=af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,i=la();dy(r,i,t,n,null,null)},lc.prototype.unmount=af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;dy(t.current,2,null,t,null,null),Fo(),n[Dt]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Bs.length&&n!==0&&n<Bs[r].priority;r++);Bs.splice(r,0,t),r===0&&yy(t)}};var Sy=a.version;if(Sy!=="19.2.0")throw Error(l(527,Sy,"19.2.0"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var c_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{gn=ic.inject(c_),xt=ic}catch{}}return _i.createRoot=function(t,n){if(!o(t))throw Error(l(299));var r=!1,i="",u=Op,f=Cp,g=Rp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=cy(t,1,!1,null,null,r,i,null,u,f,g,xy),t[Dt]=n.current,Bd(t),new af(n)},_i.hydrateRoot=function(t,n,r){if(!o(t))throw Error(l(299));var i=!1,u="",f=Op,g=Cp,x=Rp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=cy(t,1,!0,n,r??null,i,u,C,f,g,x,xy),n.context=uy(null),r=n.current,i=la(),i=Rt(i),u=ws(i),u.callback=null,Ns(r,u,i),r=i,n.current.lanes=r,qe(n,r),Ia(n),t[Dt]=n.current,Bd(t),new lc(n)},_i.version="19.2.0",_i}var Ty;function b_(){if(Ty)return lf.exports;Ty=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),lf.exports=v_(),lf.exports}var x_=b_();const S_=lb(x_);var Dy="popstate";function __(e={}){function a(l,o){let{pathname:d,search:m,hash:h}=l.location;return Lf("",{pathname:d,search:m,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(l,o){return typeof o=="string"?o:Ri(o)}return N_(a,s,null,e)}function It(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Sa(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function w_(){return Math.random().toString(36).substring(2,10)}function zy(e,a){return{usr:e.state,key:e.key,idx:a}}function Lf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?xl(a):a,state:s,key:a&&a.key||l||w_()}}function Ri({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function xl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function N_(e,a,s,l={}){let{window:o=document.defaultView,v5Compat:d=!1}=l,m=o.history,h="POP",y=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function S(){h="POP";let w=v(),H=w==null?null:w-p;p=w,y&&y({action:h,location:R.location,delta:H})}function _(w,H){h="PUSH";let D=Lf(R.location,w,H);p=v()+1;let P=zy(D,p),N=R.createHref(D);try{m.pushState(P,"",N)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(N)}d&&y&&y({action:h,location:R.location,delta:1})}function U(w,H){h="REPLACE";let D=Lf(R.location,w,H);p=v();let P=zy(D,p),N=R.createHref(D);m.replaceState(P,"",N),d&&y&&y({action:h,location:R.location,delta:0})}function E(w){return j_(w)}let R={get action(){return h},get location(){return e(o,m)},listen(w){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Dy,S),y=w,()=>{o.removeEventListener(Dy,S),y=null}},createHref(w){return a(o,w)},createURL:E,encodeLocation(w){let H=E(w);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:_,replace:U,go(w){return m.go(w)}};return R}function j_(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),It(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:Ri(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function ib(e,a,s="/"){return E_(e,a,s,!1)}function E_(e,a,s,l){let o=typeof a=="string"?xl(a):a,d=ms(o.pathname||"/",s);if(d==null)return null;let m=ob(e);A_(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let p=B_(d);h=U_(m[y],p,l)}return h}function ob(e,a=[],s=[],l="",o=!1){let d=(m,h,y=o,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&y)return;It(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let S=fs([l,v.relativePath]),_=s.concat(v);m.children&&m.children.length>0&&(It(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),ob(m.children,a,_,S,y)),!(m.path==null&&!m.index)&&a.push({path:S,score:M_(S,m.index),routesMeta:_})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let y of cb(m.path))d(m,h,!0,y)}),a}function cb(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,o=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return o?[d,""]:[d];let m=cb(l.join("/")),h=[];return h.push(...m.map(y=>y===""?d:[d,y].join("/"))),o&&h.push(...m),h.map(y=>e.startsWith("/")&&y===""?"/":y)}function A_(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:k_(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var O_=/^:[\w-]+$/,C_=3,R_=2,T_=1,D_=10,z_=-2,My=e=>e==="*";function M_(e,a){let s=e.split("/"),l=s.length;return s.some(My)&&(l+=z_),a&&(l+=R_),s.filter(o=>!My(o)).reduce((o,d)=>o+(O_.test(d)?C_:d===""?T_:D_),l)}function k_(e,a){return e.length===a.length&&e.slice(0,-1).every((l,o)=>l===a[o])?e[e.length-1]-a[a.length-1]:0}function U_(e,a,s=!1){let{routesMeta:l}=e,o={},d="/",m=[];for(let h=0;h<l.length;++h){let y=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",S=Ti({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),_=y.route;if(!S&&p&&s&&!l[l.length-1].route.index&&(S=Ti({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),m.push({params:o,pathname:fs([d,S.pathname]),pathnameBase:I_(fs([d,S.pathnameBase])),route:_}),S.pathnameBase!=="/"&&(d=fs([d,S.pathnameBase]))}return m}function Ti(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=q_(e.path,e.caseSensitive,e.end),o=a.match(s);if(!o)return null;let d=o[0],m=d.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:S},_)=>{if(v==="*"){let E=h[_]||"";m=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const U=h[_];return S&&!U?p[v]=void 0:p[v]=(U||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function q_(e,a=!1,s=!0){Sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(l.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),l]}function B_(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Sa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function ms(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function L_(e,a="/"){let{pathname:s,search:l="",hash:o=""}=typeof e=="string"?xl(e):e;return{pathname:s?s.startsWith("/")?s:F_(s,a):a,search:H_(l),hash:V_(o)}}function F_(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function df(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $_(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function mm(e){let a=$_(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function hm(e,a,s,l=!1){let o;typeof e=="string"?o=xl(e):(o={...e},It(!o.pathname||!o.pathname.includes("?"),df("?","pathname","search",o)),It(!o.pathname||!o.pathname.includes("#"),df("#","pathname","hash",o)),It(!o.search||!o.search.includes("#"),df("#","search","hash",o)));let d=e===""||o.pathname==="",m=d?"/":o.pathname,h;if(m==null)h=s;else{let S=a.length-1;if(!l&&m.startsWith("..")){let _=m.split("/");for(;_[0]==="..";)_.shift(),S-=1;o.pathname=_.join("/")}h=S>=0?a[S]:"/"}let y=L_(o,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var fs=e=>e.join("/").replace(/\/\/+/g,"/"),I_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Z_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ub=["POST","PUT","PATCH","DELETE"];new Set(ub);var G_=["GET",...ub];new Set(G_);var Sl=b.createContext(null);Sl.displayName="DataRouter";var kc=b.createContext(null);kc.displayName="DataRouterState";b.createContext(!1);var db=b.createContext({isTransitioning:!1});db.displayName="ViewTransition";var Q_=b.createContext(new Map);Q_.displayName="Fetchers";var Y_=b.createContext(null);Y_.displayName="Await";var _a=b.createContext(null);_a.displayName="Navigation";var qi=b.createContext(null);qi.displayName="Location";var wa=b.createContext({outlet:null,matches:[],isDataRoute:!1});wa.displayName="Route";var pm=b.createContext(null);pm.displayName="RouteError";function K_(e,{relative:a}={}){It(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=b.useContext(_a),{hash:o,pathname:d,search:m}=Bi(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:fs([s,d])),l.createHref({pathname:h,search:m,hash:o})}function _l(){return b.useContext(qi)!=null}function kn(){return It(_l(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(qi).location}var fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mb(e){b.useContext(_a).static||b.useLayoutEffect(e)}function wl(){let{isDataRoute:e}=b.useContext(wa);return e?dw():P_()}function P_(){It(_l(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Sl),{basename:a,navigator:s}=b.useContext(_a),{matches:l}=b.useContext(wa),{pathname:o}=kn(),d=JSON.stringify(mm(l)),m=b.useRef(!1);return mb(()=>{m.current=!0}),b.useCallback((y,p={})=>{if(Sa(m.current,fb),!m.current)return;if(typeof y=="number"){s.go(y);return}let v=hm(y,JSON.parse(d),o,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:fs([a,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[a,s,d,o,e])}var X_=b.createContext(null);function J_(e){let a=b.useContext(wa).outlet;return b.useMemo(()=>a&&b.createElement(X_.Provider,{value:e},a),[a,e])}function W_(){let{matches:e}=b.useContext(wa),a=e[e.length-1];return a?a.params:{}}function Bi(e,{relative:a}={}){let{matches:s}=b.useContext(wa),{pathname:l}=kn(),o=JSON.stringify(mm(s));return b.useMemo(()=>hm(e,JSON.parse(o),l,a==="path"),[e,o,l,a])}function ew(e,a){return hb(e,a)}function hb(e,a,s,l,o){It(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(_a),{matches:m}=b.useContext(wa),h=m[m.length-1],y=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",S=h&&h.route;{let D=S&&S.path||"";pb(p,!S||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=kn(),U;if(a){let D=typeof a=="string"?xl(a):a;It(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),U=D}else U=_;let E=U.pathname||"/",R=E;if(v!=="/"){let D=v.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let w=ib(e,{pathname:R});Sa(S||w!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Sa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=rw(w&&w.map(D=>Object.assign({},D,{params:Object.assign({},y,D.params),pathname:fs([v,d.encodeLocation?d.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:fs([v,d.encodeLocation?d.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),m,s,l,o);return a&&H?b.createElement(qi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},H):H}function tw(){let e=uw(),a=Z_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:o},s):null,m)}var nw=b.createElement(tw,null),aw=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(wa.Provider,{value:this.props.routeContext},b.createElement(pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sw({routeContext:e,match:a,children:s}){let l=b.useContext(Sl);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(wa.Provider,{value:e},s)}function rw(e,a=[],s=null,l=null,o=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,m=s?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);It(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,y=-1;if(s)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=p),v.route.id){let{loaderData:S,errors:_}=s,U=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||U){h=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((p,v,S)=>{let _,U=!1,E=null,R=null;s&&(_=m&&v.route.id?m[v.route.id]:void 0,E=v.route.errorElement||nw,h&&(y<0&&S===0?(pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,R=null):y===S&&(U=!0,R=v.route.hydrateFallbackElement||null)));let w=a.concat(d.slice(0,S+1)),H=()=>{let D;return _?D=E:U?D=R:v.route.Component?D=b.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=p,b.createElement(sw,{match:v,routeContext:{outlet:p,matches:w,isDataRoute:s!=null},children:D})};return s&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?b.createElement(aw,{location:s.location,revalidation:s.revalidation,component:E,error:_,children:H(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:l}):H()},null)}function gm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lw(e){let a=b.useContext(Sl);return It(a,gm(e)),a}function iw(e){let a=b.useContext(kc);return It(a,gm(e)),a}function ow(e){let a=b.useContext(wa);return It(a,gm(e)),a}function ym(e){let a=ow(e),s=a.matches[a.matches.length-1];return It(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function cw(){return ym("useRouteId")}function uw(){let e=b.useContext(pm),a=iw("useRouteError"),s=ym("useRouteError");return e!==void 0?e:a.errors?.[s]}function dw(){let{router:e}=lw("useNavigate"),a=ym("useNavigate"),s=b.useRef(!1);return mb(()=>{s.current=!0}),b.useCallback(async(o,d={})=>{Sa(s.current,fb),s.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:a,...d}))},[e,a])}var ky={};function pb(e,a,s){!a&&!ky[e]&&(ky[e]=!0,Sa(!1,s))}b.memo(fw);function fw({routes:e,future:a,state:s,unstable_onError:l}){return hb(e,void 0,s,l,a)}function $s({to:e,replace:a,state:s,relative:l}){It(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(_a);Sa(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(wa),{pathname:m}=kn(),h=wl(),y=hm(e,mm(d),m,l==="path"),p=JSON.stringify(y);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function gb(e){return J_(e.context)}function ln(e){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mw({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:o,static:d=!1}){It(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:o,static:d,future:{}}),[m,o,d]);typeof s=="string"&&(s=xl(s));let{pathname:y="/",search:p="",hash:v="",state:S=null,key:_="default"}=s,U=b.useMemo(()=>{let E=ms(y,m);return E==null?null:{location:{pathname:E,search:p,hash:v,state:S,key:_},navigationType:l}},[m,y,p,v,S,_,l]);return Sa(U!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:b.createElement(_a.Provider,{value:h},b.createElement(qi.Provider,{children:a,value:U}))}function hw({children:e,location:a}){return ew(Ff(e),a)}function Ff(e,a=[]){let s=[];return b.Children.forEach(e,(l,o)=>{if(!b.isValidElement(l))return;let d=[...a,o];if(l.type===b.Fragment){s.push.apply(s,Ff(l.props.children,d));return}It(l.type===ln,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Ff(l.props.children,d)),s.push(m)}),s}var gc="get",yc="application/x-www-form-urlencoded";function Uc(e){return e!=null&&typeof e.tagName=="string"}function pw(e){return Uc(e)&&e.tagName.toLowerCase()==="button"}function gw(e){return Uc(e)&&e.tagName.toLowerCase()==="form"}function yw(e){return Uc(e)&&e.tagName.toLowerCase()==="input"}function vw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bw(e,a){return e.button===0&&(!a||a==="_self")&&!vw(e)}function $f(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(o=>[s,o]):[[s,l]])},[]))}function xw(e,a){let s=$f(e);return a&&a.forEach((l,o)=>{s.has(o)||a.getAll(o).forEach(d=>{s.append(o,d)})}),s}var oc=null;function Sw(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var _w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ff(e){return e!=null&&!_w.has(e)?(Sa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):e}function ww(e,a){let s,l,o,d,m;if(gw(e)){let h=e.getAttribute("action");l=h?ms(h,a):null,s=e.getAttribute("method")||gc,o=ff(e.getAttribute("enctype"))||yc,d=new FormData(e)}else if(pw(e)||yw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||h.getAttribute("action");if(l=y?ms(y,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||gc,o=ff(e.getAttribute("formenctype"))||ff(h.getAttribute("enctype"))||yc,d=new FormData(h,e),!Sw()){let{name:p,type:v,value:S}=e;if(v==="image"){let _=p?`${p}.`:"";d.append(`${_}x`,"0"),d.append(`${_}y`,"0")}else p&&d.append(p,S)}}else{if(Uc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=gc,l=null,o=yc,m=e}return d&&o==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:o,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vm(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Nw(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&ms(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function jw(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ew(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Aw(e,a,s){let l=await Promise.all(e.map(async o=>{let d=a.routes[o.route.id];if(d){let m=await jw(d,s);return m.links?m.links():[]}return[]}));return Tw(l.flat(1).filter(Ew).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uy(e,a,s,l,o,d){let m=(y,p)=>s[p]?y.route.id!==s[p].route.id:!0,h=(y,p)=>s[p].pathname!==y.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==y.params["*"];return d==="assets"?a.filter((y,p)=>m(y,p)||h(y,p)):d==="data"?a.filter((y,p)=>{let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(m(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Ow(e,a,{includeHydrateFallback:s}={}){return Cw(e.map(l=>{let o=a.routes[l.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function Cw(e){return[...new Set(e)]}function Rw(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function Tw(e,a){let s=new Set;return new Set(a),e.reduce((l,o)=>{let d=JSON.stringify(Rw(o));return s.has(d)||(s.add(d),l.push({key:d,link:o})),l},[])}function yb(){let e=b.useContext(Sl);return vm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Dw(){let e=b.useContext(kc);return vm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bm=b.createContext(void 0);bm.displayName="FrameworkContext";function vb(){let e=b.useContext(bm);return vm(e,"You must render this element inside a <HydratedRouter> element"),e}function zw(e,a){let s=b.useContext(bm),[l,o]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:S}=a,_=b.useRef(null);b.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let R=H=>{H.forEach(D=>{m(D.isIntersecting)})},w=new IntersectionObserver(R,{threshold:.5});return _.current&&w.observe(_.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(l){let R=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(R)}}},[l]);let U=()=>{o(!0)},E=()=>{o(!1),m(!1)};return s?e!=="intent"?[d,_,{}]:[d,_,{onFocus:wi(h,U),onBlur:wi(y,E),onMouseEnter:wi(p,U),onMouseLeave:wi(v,E),onTouchStart:wi(S,U)}]:[!1,_,{}]}function wi(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function Mw({page:e,...a}){let{router:s}=yb(),l=b.useMemo(()=>ib(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?b.createElement(Uw,{page:e,matches:l,...a}):null}function kw(e){let{manifest:a,routeModules:s}=vb(),[l,o]=b.useState([]);return b.useEffect(()=>{let d=!1;return Aw(e,a,s).then(m=>{d||o(m)}),()=>{d=!0}},[e,a,s]),l}function Uw({page:e,matches:a,...s}){let l=kn(),{manifest:o,routeModules:d}=vb(),{basename:m}=yb(),{loaderData:h,matches:y}=Dw(),p=b.useMemo(()=>Uy(e,a,y,o,l,"data"),[e,a,y,o,l]),v=b.useMemo(()=>Uy(e,a,y,o,l,"assets"),[e,a,y,o,l]),S=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let E=new Set,R=!1;if(a.forEach(H=>{let D=o.routes[H.route.id];!D||!D.hasLoader||(!p.some(P=>P.route.id===H.route.id)&&H.route.id in h&&d[H.route.id]?.shouldRevalidate||D.hasClientLoader?R=!0:E.add(H.route.id))}),E.size===0)return[];let w=Nw(e,m,"data");return R&&E.size>0&&w.searchParams.set("_routes",a.filter(H=>E.has(H.route.id)).map(H=>H.route.id).join(",")),[w.pathname+w.search]},[m,h,l,o,p,a,e,d]),_=b.useMemo(()=>Ow(v,o),[v,o]),U=kw(v);return b.createElement(b.Fragment,null,S.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),_.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),U.map(({key:E,link:R})=>b.createElement("link",{key:E,nonce:s.nonce,...R})))}function qw(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bb&&(window.__reactRouterVersion="7.9.5")}catch{}function Bw({basename:e,children:a,window:s}){let l=b.useRef();l.current==null&&(l.current=__({window:s,v5Compat:!0}));let o=l.current,[d,m]=b.useState({action:o.action,location:o.location}),h=b.useCallback(y=>{b.startTransition(()=>m(y))},[m]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.createElement(mw,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:o})}var xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_c=b.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:o,reloadDocument:d,replace:m,state:h,target:y,to:p,preventScrollReset:v,viewTransition:S,..._},U){let{basename:E}=b.useContext(_a),R=typeof p=="string"&&xb.test(p),w,H=!1;if(typeof p=="string"&&R&&(w=p,bb))try{let ce=new URL(window.location.href),Ne=p.startsWith("//")?new URL(ce.protocol+p):new URL(p),Oe=ms(Ne.pathname,E);Ne.origin===ce.origin&&Oe!=null?p=Oe+Ne.search+Ne.hash:H=!0}catch{Sa(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=K_(p,{relative:o}),[P,N,T]=zw(l,_),J=$w(p,{replace:m,state:h,target:y,preventScrollReset:v,relative:o,viewTransition:S});function z(ce){a&&a(ce),ce.defaultPrevented||J(ce)}let ee=b.createElement("a",{..._,...T,href:w||D,onClick:H||d?a:z,ref:qw(U,N),target:y,"data-discover":!R&&s==="render"?"true":void 0});return P&&!R?b.createElement(b.Fragment,null,ee,b.createElement(Mw,{page:D})):ee});_c.displayName="Link";var Sb=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:o=!1,style:d,to:m,viewTransition:h,children:y,...p},v){let S=Bi(m,{relative:p.relative}),_=kn(),U=b.useContext(kc),{navigator:E,basename:R}=b.useContext(_a),w=U!=null&&Gw(S)&&h===!0,H=E.encodeLocation?E.encodeLocation(S).pathname:S.pathname,D=_.pathname,P=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;s||(D=D.toLowerCase(),P=P?P.toLowerCase():null,H=H.toLowerCase()),P&&R&&(P=ms(P,R)||P);const N=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let T=D===H||!o&&D.startsWith(H)&&D.charAt(N)==="/",J=P!=null&&(P===H||!o&&P.startsWith(H)&&P.charAt(H.length)==="/"),z={isActive:T,isPending:J,isTransitioning:w},ee=T?a:void 0,ce;typeof l=="function"?ce=l(z):ce=[l,T?"active":null,J?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof d=="function"?d(z):d;return b.createElement(_c,{...p,"aria-current":ee,className:ce,ref:v,style:Ne,to:m,viewTransition:h},typeof y=="function"?y(z):y)});Sb.displayName="NavLink";var Lw=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:o,state:d,method:m=gc,action:h,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:S,..._},U)=>{let E=Vw(),R=Zw(h,{relative:p}),w=m.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&xb.test(h),D=P=>{if(y&&y(P),P.defaultPrevented)return;P.preventDefault();let N=P.nativeEvent.submitter,T=N?.getAttribute("formmethod")||m;E(N||P.currentTarget,{fetcherKey:a,method:T,navigate:s,replace:o,state:d,relative:p,preventScrollReset:v,viewTransition:S})};return b.createElement("form",{ref:U,method:w,action:R,onSubmit:l?y:D,..._,"data-discover":!H&&e==="render"?"true":void 0})});Lw.displayName="Form";function Fw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _b(e){let a=b.useContext(Sl);return It(a,Fw(e)),a}function $w(e,{target:a,replace:s,state:l,preventScrollReset:o,relative:d,viewTransition:m}={}){let h=wl(),y=kn(),p=Bi(e,{relative:d});return b.useCallback(v=>{if(bw(v,a)){v.preventDefault();let S=s!==void 0?s:Ri(y)===Ri(p);h(e,{replace:S,state:l,preventScrollReset:o,relative:d,viewTransition:m})}},[y,h,p,s,l,a,e,o,d,m])}function wb(e){Sa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef($f(e)),s=b.useRef(!1),l=kn(),o=b.useMemo(()=>xw(l.search,s.current?null:a.current),[l.search]),d=wl(),m=b.useCallback((h,y)=>{const p=$f(typeof h=="function"?h(new URLSearchParams(o)):h);s.current=!0,d("?"+p,y)},[d,o]);return[o,m]}var Iw=0,Hw=()=>`__${String(++Iw)}__`;function Vw(){let{router:e}=_b("useSubmit"),{basename:a}=b.useContext(_a),s=cw();return b.useCallback(async(l,o={})=>{let{action:d,method:m,encType:h,formData:y,body:p}=ww(l,a);if(o.navigate===!1){let v=o.fetcherKey||Hw();await e.fetch(v,s,o.action||d,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||m,formEncType:o.encType||h,flushSync:o.flushSync})}else await e.navigate(o.action||d,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||m,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,a,s])}function Zw(e,{relative:a}={}){let{basename:s}=b.useContext(_a),l=b.useContext(wa);It(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),d={...Bi(e||".",{relative:a})},m=kn();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(S=>S).forEach(S=>h.append("index",S));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:fs([s,d.pathname])),Ri(d)}function Gw(e,{relative:a}={}){let s=b.useContext(db);It(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=_b("useViewTransitionState"),o=Bi(e,{relative:a});if(!s.isTransitioning)return!1;let d=ms(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=ms(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Ti(o.pathname,m)!=null||Ti(o.pathname,d)!=null}var Nl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qw={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},Yw=class{#e=Qw;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},mr=new Yw;function Kw(e){setTimeout(e,0)}var yr=typeof window>"u"||"Deno"in globalThis;function Mn(){}function Pw(e,a){return typeof e=="function"?e(a):e}function If(e){return typeof e=="number"&&e>=0&&e!==1/0}function Nb(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Is(e,a){return typeof e=="function"?e(a):e}function ba(e,a){return typeof e=="function"?e(a):e}function qy(e,a){const{type:s="all",exact:l,fetchStatus:o,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==xm(m,a.options))return!1}else if(!Di(a.queryKey,m))return!1}if(s!=="all"){const y=a.isActive();if(s==="active"&&!y||s==="inactive"&&y)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||o&&o!==a.state.fetchStatus||d&&!d(a))}function By(e,a){const{exact:s,status:l,predicate:o,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(vr(a.options.mutationKey)!==vr(d))return!1}else if(!Di(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||o&&!o(a))}function xm(e,a){return(a?.queryKeyHashFn||vr)(e)}function vr(e){return JSON.stringify(e,(a,s)=>Hf(s)?Object.keys(s).sort().reduce((l,o)=>(l[o]=s[o],l),{}):s)}function Di(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>Di(e[s],a[s])):!1}var Xw=Object.prototype.hasOwnProperty;function jb(e,a){if(e===a)return e;const s=Ly(e)&&Ly(a);if(!s&&!(Hf(e)&&Hf(a)))return a;const o=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),m=d.length,h=s?new Array(m):{};let y=0;for(let p=0;p<m;p++){const v=s?p:d[p],S=e[v],_=a[v];if(S===_){h[v]=S,(s?p<o:Xw.call(e,v))&&y++;continue}if(S===null||_===null||typeof S!="object"||typeof _!="object"){h[v]=_;continue}const U=jb(S,_);h[v]=U,U===S&&y++}return o===m&&y===o?e:h}function wc(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function Ly(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hf(e){if(!Fy(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!Fy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fy(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jw(e){return new Promise(a=>{mr.setTimeout(a,e)})}function Vf(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?jb(e,a):a}function Ww(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function eN(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var Sm=Symbol();function Eb(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Sm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ab(e,a){return typeof e=="function"?e(...a):!!e}var tN=class extends Nl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!yr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_m=new tN;function Zf(){let e,a;const s=new Promise((o,d)=>{e=o,a=d});s.status="pending",s.catch(()=>{});function l(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{l({status:"fulfilled",value:o}),e(o)},s.reject=o=>{l({status:"rejected",reason:o}),a(o)},s}var nN=Kw;function aN(){let e=[],a=0,s=h=>{h()},l=h=>{h()},o=nN;const d=h=>{a?e.push(h):o(()=>{s(h)})},m=()=>{const h=e;e=[],h.length&&o(()=>{l(()=>{h.forEach(y=>{s(y)})})})};return{batch:h=>{let y;a++;try{y=h()}finally{a--,a||m()}return y},batchCalls:h=>(...y)=>{d(()=>{h(...y)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{o=h}}}var dn=aN(),sN=class extends Nl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!yr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Nc=new sN;function rN(e){return Math.min(1e3*2**e,3e4)}function Ob(e){return(e??"online")==="online"?Nc.isOnline():!0}var Gf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Cb(e){let a=!1,s=0,l;const o=Zf(),d=()=>o.status!=="pending",m=R=>{if(!d()){const w=new Gf(R);_(w),e.onCancel?.(w)}},h=()=>{a=!0},y=()=>{a=!1},p=()=>_m.isFocused()&&(e.networkMode==="always"||Nc.isOnline())&&e.canRun(),v=()=>Ob(e.networkMode)&&e.canRun(),S=R=>{d()||(l?.(),o.resolve(R))},_=R=>{d()||(l?.(),o.reject(R))},U=()=>new Promise(R=>{l=w=>{(d()||p())&&R(w)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),E=()=>{if(d())return;let R;const w=s===0?e.initialPromise:void 0;try{R=w??e.fn()}catch(H){R=Promise.reject(H)}Promise.resolve(R).then(S).catch(H=>{if(d())return;const D=e.retry??(yr?0:3),P=e.retryDelay??rN,N=typeof P=="function"?P(s,H):P,T=D===!0||typeof D=="number"&&s<D||typeof D=="function"&&D(s,H);if(a||!T){_(H);return}s++,e.onFail?.(s,H),Jw(N).then(()=>p()?void 0:U()).then(()=>{a?_(H):E()})})};return{promise:o,status:()=>o.status,cancel:m,continue:()=>(l?.(),o),cancelRetry:h,continueRetry:y,canStart:v,start:()=>(v()?E():U().then(E),o)}}var Rb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),If(this.gcTime)&&(this.#e=mr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(mr.clearTimeout(this.#e),this.#e=void 0)}},lN=class extends Rb{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Iy(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Iy(this.options);a.data!==void 0&&(this.setState($y(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=Vf(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(Mn).catch(Mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ba(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Is(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Nb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},o=()=>{const h=Eb(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=Cb({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof Gf&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,y)=>{this.#r({type:"failed",failureCount:h,error:y})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Gf){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Tb(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...$y(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),dn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Tb(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ob(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $y(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Iy(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var iN=class extends Nl{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=Zf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Hy(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ba(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),a._defaulted&&!wc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Vy(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||ba(this.options.enabled,this.#t)!==ba(a.enabled,this.#t)||Is(this.options.staleTime,this.#t)!==Is(a.staleTime,this.#t))&&this.#g();const o=this.#y();l&&(this.#t!==s||ba(this.options.enabled,this.#t)!==ba(a.enabled,this.#t)||o!==this.#o)&&this.#v(o)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return cN(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#_();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(Mn)),a}#g(){this.#x();const e=Is(this.options.staleTime,this.#t);if(yr||this.#s.isStale||!If(e))return;const s=Nb(this.#s.dataUpdatedAt,e)+1;this.#c=mr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#S(),this.#o=e,!(yr||ba(this.options.enabled,this.#t)===!1||!If(this.#o)||this.#o===0)&&(this.#u=mr.setInterval(()=>{(this.options.refetchIntervalInBackground||_m.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(mr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(mr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,o=this.#s,d=this.#a,m=this.#l,y=e!==s?e.state:this.#n,{state:p}=e;let v={...p},S=!1,_;if(a._optimisticResults){const ee=this.hasListeners(),ce=!ee&&Hy(e,a),Ne=ee&&Vy(e,s,a,l);(ce||Ne)&&(v={...v,...Tb(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:U,errorUpdatedAt:E,status:R}=v;_=v.data;let w=!1;if(a.placeholderData!==void 0&&_===void 0&&R==="pending"){let ee;o?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(ee=o.data,w=!0):ee=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,ee!==void 0&&(R="success",_=Vf(o?.data,ee,a),S=!0)}if(a.select&&_!==void 0&&!w)if(o&&_===d?.data&&a.select===this.#p)_=this.#f;else try{this.#p=a.select,_=a.select(_),_=Vf(o?.data,_,a),this.#f=_,this.#r=null}catch(ee){this.#r=ee}this.#r&&(U=this.#r,_=this.#f,E=Date.now(),R="error");const H=v.fetchStatus==="fetching",D=R==="pending",P=R==="error",N=D&&H,T=_!==void 0,z={status:R,fetchStatus:v.fetchStatus,isPending:D,isSuccess:R==="success",isError:P,isInitialLoading:N,isLoading:N,data:_,dataUpdatedAt:v.dataUpdatedAt,error:U,errorUpdatedAt:E,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>y.dataUpdateCount||v.errorUpdateCount>y.errorUpdateCount,isFetching:H,isRefetching:H&&!D,isLoadingError:P&&!T,isPaused:v.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:P&&T,isStale:wm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:ba(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const ee=Oe=>{z.status==="error"?Oe.reject(z.error):z.data!==void 0&&Oe.resolve(z.data)},ce=()=>{const Oe=this.#i=z.promise=Zf();ee(Oe)},Ne=this.#i;switch(Ne.status){case"pending":e.queryHash===s.queryHash&&ee(Ne);break;case"fulfilled":(z.status==="error"||z.data!==Ne.value)&&ce();break;case"rejected":(z.status!=="error"||z.error!==Ne.reason)&&ce();break}}return z}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),wc(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!this.#h.size)return!0;const d=new Set(o??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==e[h]&&d.has(h)})};this.#w({listeners:s()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#w(e){dn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function oN(e,a){return ba(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function Hy(e,a){return oN(e,a)||e.state.data!==void 0&&Qf(e,a,a.refetchOnMount)}function Qf(e,a,s){if(ba(a.enabled,e)!==!1&&Is(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&wm(e,a)}return!1}function Vy(e,a,s,l){return(e!==a||ba(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&wm(e,s)}function wm(e,a){return ba(a.enabled,e)!==!1&&e.isStaleByTime(Is(a.staleTime,e))}function cN(e,a){return!wc(e.getCurrentResult(),a)}function Zy(e){return{onFetch:(a,s)=>{const l=a.options,o=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},y=0;const p=async()=>{let v=!1;const S=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},_=Eb(a.options,a.fetchOptions),U=async(E,R,w)=>{if(v)return Promise.reject();if(R==null&&E.pages.length)return Promise.resolve(E);const D=(()=>{const J={client:a.client,queryKey:a.queryKey,pageParam:R,direction:w?"backward":"forward",meta:a.options.meta};return S(J),J})(),P=await _(D),{maxPages:N}=a.options,T=w?eN:Ww;return{pages:T(E.pages,P,N),pageParams:T(E.pageParams,R,N)}};if(o&&d.length){const E=o==="backward",R=E?uN:Gy,w={pages:d,pageParams:m},H=R(l,w);h=await U(w,H,E)}else{const E=e??d.length;do{const R=y===0?m[0]??l.initialPageParam:Gy(l,h);if(y>0&&R==null)break;h=await U(h,R),y++}while(y<E)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function Gy(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function uN(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var dN=class extends Rb{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Db(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Cb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",o=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,s);const m=await this.options.onMutate?.(e,s);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:o})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),dn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Db(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fN=class extends Nl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new dN({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=cc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=cc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=cc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(o=>o.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=cc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>By(a,s))}findAll(e={}){return this.getAll().filter(a=>By(e,a))}notify(e){dn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return dn.batch(()=>Promise.all(e.map(a=>a.continue().catch(Mn))))}};function cc(e){return e.options.scope?.id}var mN=class extends Nl{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),wc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&vr(s.mutationKey)!==vr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Db();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){dn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,o),this.#s.onSettled?.(a.data,null,s,l,o)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,o),this.#s.onSettled?.(void 0,a.error,s,l,o))}this.listeners.forEach(s=>{s(this.#t)})})}},hN=class extends Nl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,o=a.queryHash??xm(l,a);let d=this.get(o);return d||(d=new lN({client:e,queryKey:l,queryHash:o,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>qy(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>qy(e,s)):a}notify(e){dn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pN=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new hN,this.#t=e.mutationCache||new fN,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=_m.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Nc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Is(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=Pw(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...s,manual:!0})}setQueriesData(e,a,s){return dn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;dn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return dn.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=dn.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(l).then(Mn).catch(Mn)}invalidateQueries(e,a={}){return dn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=dn.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let d=o.fetch(void 0,s);return s.throwOnError||(d=d.catch(Mn)),o.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(Mn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Is(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mn).catch(Mn)}fetchInfiniteQuery(e){return e.behavior=Zy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mn).catch(Mn)}ensureInfiniteQueryData(e){return e.behavior=Zy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(vr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{Di(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(vr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{Di(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=xm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Sm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},zb=b.createContext(void 0),Nm=e=>{const a=b.useContext(zb);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},gN=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(zb.Provider,{value:e,children:a})),Mb=b.createContext(!1),yN=()=>b.useContext(Mb);Mb.Provider;function vN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bN=b.createContext(vN()),xN=()=>b.useContext(bN),SN=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},_N=e=>{b.useEffect(()=>{e.clearReset()},[e])},wN=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:o})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(o&&e.data===void 0||Ab(s,[e.error,l])),NN=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...o)=>s(l(...o)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},jN=(e,a)=>e.isLoading&&e.isFetching&&!a,EN=(e,a)=>e?.suspense&&a.isPending,Qy=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function AN(e,a,s){const l=yN(),o=xN(),d=Nm(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",NN(m),SN(m,o),_N(o);const h=!d.getQueryCache().get(m.queryHash),[y]=b.useState(()=>new a(d,m)),p=y.getOptimisticResult(m),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(S=>{const _=v?y.subscribe(dn.batchCalls(S)):Mn;return y.updateResult(),_},[y,v]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),b.useEffect(()=>{y.setOptions(m)},[m,y]),EN(m,p))throw Qy(m,y,o);if(wN({result:p,errorResetBoundary:o,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!yr&&jN(p,l)&&(h?Qy(m,y,o):d.getQueryCache().get(m.queryHash)?.promise)?.catch(Mn).finally(()=>{y.updateResult()}),m.notifyOnChangeProps?p:y.trackResult(p)}function br(e,a){return AN(e,iN)}function ON(e,a){const s=Nm(),[l]=b.useState(()=>new mN(s,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const o=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(dn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(Mn)},[l]);if(o.error&&Ab(l.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:d,mutateAsync:o.mutate}}var Li=e=>e.type==="checkbox",hr=e=>e instanceof Date,Gn=e=>e==null;const kb=e=>typeof e=="object";var on=e=>!Gn(e)&&!Array.isArray(e)&&kb(e)&&!hr(e),CN=e=>on(e)&&e.target?Li(e.target)?e.target.checked:e.target.value:e,RN=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TN=(e,a)=>e.has(RN(a)),DN=e=>{const a=e.constructor&&e.constructor.prototype;return on(a)&&a.hasOwnProperty("isPrototypeOf")},jm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(jm&&(e instanceof Blob||l))&&(s||on(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!DN(e))a=e;else for(const o in e)e.hasOwnProperty(o)&&(a[o]=$t(e[o]));else return e;return a}var qc=e=>/^\w*$/.test(e),Bt=e=>e===void 0,Bc=e=>Array.isArray(e)?e.filter(Boolean):[],Em=e=>Bc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,a,s)=>{if(!a||!on(e))return s;const l=(qc(a)?[a]:Em(a)).reduce((o,d)=>Gn(o)?o:o[d],e);return Bt(l)||l===e?Bt(e[a])?s:e[a]:l},Va=e=>typeof e=="boolean",wt=(e,a,s)=>{let l=-1;const o=qc(a)?[a]:Em(a),d=o.length,m=d-1;for(;++l<d;){const h=o[l];let y=s;if(l!==m){const p=e[h];y=on(p)||Array.isArray(p)?p:isNaN(+o[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=y,e=e[h]}};const Yy={BLUR:"blur",FOCUS_OUT:"focusout"},xa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ds={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ub=at.createContext(null);Ub.displayName="HookFormContext";const qb=()=>at.useContext(Ub);var zN=(e,a,s,l=!0)=>{const o={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(o,d,{get:()=>{const m=d;return a._proxyFormState[m]!==xa.all&&(a._proxyFormState[m]=!l||xa.all),e[m]}});return o};const Am=typeof window<"u"?at.useLayoutEffect:at.useEffect;var ia=e=>typeof e=="string",Yf=(e,a,s,l,o)=>ia(e)?(l&&a.watch.add(e),ze(s,e,o)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),ze(s,d))):(l&&(a.watchAll=!0),s),Kf=e=>Gn(e)||!kb(e);function za(e,a,s=new WeakSet){if(Kf(e)||Kf(a))return e===a;if(hr(e)&&hr(a))return e.getTime()===a.getTime();const l=Object.keys(e),o=Object.keys(a);if(l.length!==o.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const m=e[d];if(!o.includes(d))return!1;if(d!=="ref"){const h=a[d];if(hr(m)&&hr(h)||on(m)&&on(h)||Array.isArray(m)&&Array.isArray(h)?!za(m,h,s):m!==h)return!1}}return!0}function Ni(e){const a=qb(),{control:s=a.control,name:l,defaultValue:o,disabled:d,exact:m,compute:h}=e||{},y=at.useRef(o),p=at.useRef(h),v=at.useRef(void 0),S=at.useRef(s),_=at.useRef(l);p.current=h;const[U,E]=at.useState(()=>{const N=s._getWatch(l,y.current);return p.current?p.current(N):N}),R=at.useCallback(N=>{const T=Yf(l,s._names,N||s._formValues,!1,y.current);return p.current?p.current(T):T},[s._formValues,s._names,l]),w=at.useCallback(N=>{if(!d){const T=Yf(l,s._names,N||s._formValues,!1,y.current);if(p.current){const J=p.current(T);za(J,v.current)||(E(J),v.current=J)}else E(T)}},[s._formValues,s._names,d,l]);Am(()=>((S.current!==s||!za(_.current,l))&&(S.current=s,_.current=l,w()),s._subscribe({name:l,formState:{values:!0},exact:m,callback:N=>{w(N.values)}})),[s,m,l,w]),at.useEffect(()=>s._removeUnmounted());const H=S.current!==s,D=_.current,P=at.useMemo(()=>{if(d)return null;const N=!H&&!za(D,l);return H||N?R():null},[d,H,l,D,R]);return P!==null?P:U}var Om=(e,a,s,l,o)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:o||!0}}:{},Qn=e=>Array.isArray(e)?e:[e],Ky=()=>{let e=[];return{get observers(){return e},next:o=>{for(const d of e)d.next&&d.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(d=>d!==o)}}),unsubscribe:()=>{e=[]}}};function Bb(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const o=e[l],d=a[l];if(o&&on(o)&&d){const m=Bb(o,d);on(m)&&(s[l]=m)}else e[l]&&(s[l]=d)}return s}var Nn=e=>on(e)&&!Object.keys(e).length,Cm=e=>e.type==="file",Ma=e=>typeof e=="function",jc=e=>{if(!jm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},Lb=e=>e.type==="select-multiple",Rm=e=>e.type==="radio",MN=e=>Rm(e)||Li(e),mf=e=>jc(e)&&e.isConnected;function kN(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=Bt(e)?l++:e[a[l++]];return e}function UN(e){for(const a in e)if(e.hasOwnProperty(a)&&!Bt(e[a]))return!1;return!0}function tn(e,a){const s=Array.isArray(a)?a:qc(a)?[a]:Em(a),l=s.length===1?e:kN(e,s),o=s.length-1,d=s[o];return l&&delete l[d],o!==0&&(on(l)&&Nn(l)||Array.isArray(l)&&UN(l))&&tn(e,s.slice(0,-1)),e}var qN=e=>{for(const a in e)if(Ma(e[a]))return!0;return!1};function Fb(e){return Array.isArray(e)||on(e)&&!qN(e)}function Pf(e,a={}){for(const s in e)Fb(e[s])?(a[s]=Array.isArray(e[s])?[]:{},Pf(e[s],a[s])):Bt(e[s])||(a[s]=!0);return a}function cl(e,a,s){s||(s=Pf(a));for(const l in e)Fb(e[l])?Bt(a)||Kf(s[l])?s[l]=Pf(e[l],Array.isArray(e[l])?[]:{}):cl(e[l],Gn(a)?{}:a[l],s[l]):s[l]=!za(e[l],a[l]);return s}const Py={value:!1,isValid:!1},Xy={value:!0,isValid:!0};var $b=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?Xy:{value:e[0].value,isValid:!0}:Xy:Py}return Py},Ib=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>Bt(e)?e:a?e===""?NaN:e&&+e:s&&ia(e)?new Date(e):l?l(e):e;const Jy={isValid:!1,value:null};var Hb=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,Jy):Jy;function Wy(e){const a=e.ref;return Cm(a)?a.files:Rm(a)?Hb(e.refs).value:Lb(a)?[...a.selectedOptions].map(({value:s})=>s):Li(a)?$b(e.refs).value:Ib(Bt(a.value)?e.ref.value:a.value,e)}var BN=(e,a,s,l)=>{const o={};for(const d of e){const m=ze(a,d);m&&wt(o,d,m._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:l}},Ec=e=>e instanceof RegExp,ji=e=>Bt(e)?e:Ec(e)?e.source:on(e)?Ec(e.value)?e.value.source:e.value:e,ul=e=>({isOnSubmit:!e||e===xa.onSubmit,isOnBlur:e===xa.onBlur,isOnChange:e===xa.onChange,isOnAll:e===xa.all,isOnTouch:e===xa.onTouched});const ev="AsyncFunction";var LN=e=>!!e&&!!e.validate&&!!(Ma(e.validate)&&e.validate.constructor.name===ev||on(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===ev)),FN=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Xf=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const fl=(e,a,s,l)=>{for(const o of s||Object.keys(e)){const d=ze(e,o);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],o)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(fl(h,a))break}else if(on(h)&&fl(h,a))break}}};function tv(e,a,s){const l=ze(e,s);if(l||qc(s))return{error:l,name:s};const o=s.split(".");for(;o.length;){const d=o.join("."),m=ze(a,d),h=ze(e,d);if(m&&!Array.isArray(m)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};o.pop()}return{name:s}}var $N=(e,a,s,l)=>{s(e);const{name:o,...d}=e;return Nn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||xa.all))},IN=(e,a,s)=>!e||!a||e===a||Qn(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),HN=(e,a,s,l,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(a||e):(s?l.isOnBlur:o.isOnBlur)?!e:(s?l.isOnChange:o.isOnChange)?e:!0,VN=(e,a)=>!Bc(ze(e,a)).length&&tn(e,a),Vb=(e,a,s)=>{const l=Qn(ze(e,s));return wt(l,"root",a[s]),wt(e,s,l),e};function nv(e,a,s="validate"){if(ia(e)||Array.isArray(e)&&e.every(ia)||Va(e)&&!e)return{type:s,message:ia(e)?e:"",ref:a}}var ll=e=>on(e)&&!Ec(e)?e:{value:e,message:""},Jf=async(e,a,s,l,o,d)=>{const{ref:m,refs:h,required:y,maxLength:p,minLength:v,min:S,max:_,pattern:U,validate:E,name:R,valueAsNumber:w,mount:H}=e._f,D=ze(s,R);if(!H||a.has(R))return{};const P=h?h[0]:m,N=de=>{o&&P.reportValidity&&(P.setCustomValidity(Va(de)?"":de||""),P.reportValidity())},T={},J=Rm(m),z=Li(m),ee=J||z,ce=(w||Cm(m))&&Bt(m.value)&&Bt(D)||jc(m)&&m.value===""||D===""||Array.isArray(D)&&!D.length,Ne=Om.bind(null,R,l,T),Oe=(de,Se,pe,Te=ds.maxLength,q=ds.minLength)=>{const ne=de?Se:pe;T[R]={type:de?Te:q,message:ne,ref:m,...Ne(de?Te:q,ne)}};if(d?!Array.isArray(D)||!D.length:y&&(!ee&&(ce||Gn(D))||Va(D)&&!D||z&&!$b(h).isValid||J&&!Hb(h).isValid)){const{value:de,message:Se}=ia(y)?{value:!!y,message:y}:ll(y);if(de&&(T[R]={type:ds.required,message:Se,ref:P,...Ne(ds.required,Se)},!l))return N(Se),T}if(!ce&&(!Gn(S)||!Gn(_))){let de,Se;const pe=ll(_),Te=ll(S);if(!Gn(D)&&!isNaN(D)){const q=m.valueAsNumber||D&&+D;Gn(pe.value)||(de=q>pe.value),Gn(Te.value)||(Se=q<Te.value)}else{const q=m.valueAsDate||new Date(D),ne=Re=>new Date(new Date().toDateString()+" "+Re),se=m.type=="time",we=m.type=="week";ia(pe.value)&&D&&(de=se?ne(D)>ne(pe.value):we?D>pe.value:q>new Date(pe.value)),ia(Te.value)&&D&&(Se=se?ne(D)<ne(Te.value):we?D<Te.value:q<new Date(Te.value))}if((de||Se)&&(Oe(!!de,pe.message,Te.message,ds.max,ds.min),!l))return N(T[R].message),T}if((p||v)&&!ce&&(ia(D)||d&&Array.isArray(D))){const de=ll(p),Se=ll(v),pe=!Gn(de.value)&&D.length>+de.value,Te=!Gn(Se.value)&&D.length<+Se.value;if((pe||Te)&&(Oe(pe,de.message,Se.message),!l))return N(T[R].message),T}if(U&&!ce&&ia(D)){const{value:de,message:Se}=ll(U);if(Ec(de)&&!D.match(de)&&(T[R]={type:ds.pattern,message:Se,ref:m,...Ne(ds.pattern,Se)},!l))return N(Se),T}if(E){if(Ma(E)){const de=await E(D,s),Se=nv(de,P);if(Se&&(T[R]={...Se,...Ne(ds.validate,Se.message)},!l))return N(Se.message),T}else if(on(E)){let de={};for(const Se in E){if(!Nn(de)&&!l)break;const pe=nv(await E[Se](D,s),P,Se);pe&&(de={...pe,...Ne(Se,pe.message)},N(pe.message),l&&(T[R]=de))}if(!Nn(de)&&(T[R]={ref:P,...de},!l))return T}}return N(!0),T};const ZN={mode:xa.onSubmit,reValidateMode:xa.onChange,shouldFocusError:!0};function GN(e={}){let a={...ZN,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ma(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},o=on(a.defaultValues)||on(a.values)?$t(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:$t(o),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...v};const _={array:Ky(),state:Ky()},U=a.criteriaMode===xa.all,E=j=>k=>{clearTimeout(p),p=setTimeout(j,k)},R=async j=>{if(!a.disabled&&(v.isValid||S.isValid||j)){const k=a.resolver?Nn((await z()).errors):await ce(l,!0);k!==s.isValid&&_.state.next({isValid:k})}},w=(j,k)=>{!a.disabled&&(v.isValidating||v.validatingFields||S.isValidating||S.validatingFields)&&((j||Array.from(h.mount)).forEach(F=>{F&&(k?wt(s.validatingFields,F,k):tn(s.validatingFields,F))}),_.state.next({validatingFields:s.validatingFields,isValidating:!Nn(s.validatingFields)}))},H=(j,k=[],F,ve,W=!0,ie=!0)=>{if(ve&&F&&!a.disabled){if(m.action=!0,ie&&Array.isArray(ze(l,j))){const Ce=F(ze(l,j),ve.argA,ve.argB);W&&wt(l,j,Ce)}if(ie&&Array.isArray(ze(s.errors,j))){const Ce=F(ze(s.errors,j),ve.argA,ve.argB);W&&wt(s.errors,j,Ce),VN(s.errors,j)}if((v.touchedFields||S.touchedFields)&&ie&&Array.isArray(ze(s.touchedFields,j))){const Ce=F(ze(s.touchedFields,j),ve.argA,ve.argB);W&&wt(s.touchedFields,j,Ce)}(v.dirtyFields||S.dirtyFields)&&(s.dirtyFields=cl(o,d)),_.state.next({name:j,isDirty:Oe(j,k),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else wt(d,j,k)},D=(j,k)=>{wt(s.errors,j,k),_.state.next({errors:s.errors})},P=j=>{s.errors=j,_.state.next({errors:s.errors,isValid:!1})},N=(j,k,F,ve)=>{const W=ze(l,j);if(W){const ie=ze(d,j,Bt(F)?ze(o,j):F);Bt(ie)||ve&&ve.defaultChecked||k?wt(d,j,k?ie:Wy(W._f)):pe(j,ie),m.mount&&R()}},T=(j,k,F,ve,W)=>{let ie=!1,Ce=!1;const We={name:j};if(!a.disabled){if(!F||ve){(v.isDirty||S.isDirty)&&(Ce=s.isDirty,s.isDirty=We.isDirty=Oe(),ie=Ce!==We.isDirty);const te=za(ze(o,j),k);Ce=!!ze(s.dirtyFields,j),te?tn(s.dirtyFields,j):wt(s.dirtyFields,j,!0),We.dirtyFields=s.dirtyFields,ie=ie||(v.dirtyFields||S.dirtyFields)&&Ce!==!te}if(F){const te=ze(s.touchedFields,j);te||(wt(s.touchedFields,j,F),We.touchedFields=s.touchedFields,ie=ie||(v.touchedFields||S.touchedFields)&&te!==F)}ie&&W&&_.state.next(We)}return ie?We:{}},J=(j,k,F,ve)=>{const W=ze(s.errors,j),ie=(v.isValid||S.isValid)&&Va(k)&&s.isValid!==k;if(a.delayError&&F?(y=E(()=>D(j,F)),y(a.delayError)):(clearTimeout(p),y=null,F?wt(s.errors,j,F):tn(s.errors,j)),(F?!za(W,F):W)||!Nn(ve)||ie){const Ce={...ve,...ie&&Va(k)?{isValid:k}:{},errors:s.errors,name:j};s={...s,...Ce},_.state.next(Ce)}},z=async j=>{w(j,!0);const k=await a.resolver(d,a.context,BN(j||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return w(j),k},ee=async j=>{const{errors:k}=await z(j);if(j)for(const F of j){const ve=ze(k,F);ve?wt(s.errors,F,ve):tn(s.errors,F)}else s.errors=k;return k},ce=async(j,k,F={valid:!0})=>{for(const ve in j){const W=j[ve];if(W){const{_f:ie,...Ce}=W;if(ie){const We=h.array.has(ie.name),te=W._f&&LN(W._f);te&&v.validatingFields&&w([ie.name],!0);const Ge=await Jf(W,h.disabled,d,U,a.shouldUseNativeValidation&&!k,We);if(te&&v.validatingFields&&w([ie.name]),Ge[ie.name]&&(F.valid=!1,k))break;!k&&(ze(Ge,ie.name)?We?Vb(s.errors,Ge,ie.name):wt(s.errors,ie.name,Ge[ie.name]):tn(s.errors,ie.name))}!Nn(Ce)&&await ce(Ce,k,F)}}return F.valid},Ne=()=>{for(const j of h.unMount){const k=ze(l,j);k&&(k._f.refs?k._f.refs.every(F=>!mf(F)):!mf(k._f.ref))&&Me(j)}h.unMount=new Set},Oe=(j,k)=>!a.disabled&&(j&&k&&wt(d,j,k),!za(Re(),o)),de=(j,k,F)=>Yf(j,h,{...m.mount?d:Bt(k)?o:ia(j)?{[j]:k}:k},F,k),Se=j=>Bc(ze(m.mount?d:o,j,a.shouldUnregister?ze(o,j,[]):[])),pe=(j,k,F={})=>{const ve=ze(l,j);let W=k;if(ve){const ie=ve._f;ie&&(!ie.disabled&&wt(d,j,Ib(k,ie)),W=jc(ie.ref)&&Gn(k)?"":k,Lb(ie.ref)?[...ie.ref.options].forEach(Ce=>Ce.selected=W.includes(Ce.value)):ie.refs?Li(ie.ref)?ie.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(W)?Ce.checked=!!W.find(We=>We===Ce.value):Ce.checked=W===Ce.value||!!W)}):ie.refs.forEach(Ce=>Ce.checked=Ce.value===W):Cm(ie.ref)?ie.ref.value="":(ie.ref.value=W,ie.ref.type||_.state.next({name:j,values:$t(d)})))}(F.shouldDirty||F.shouldTouch)&&T(j,W,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&we(j)},Te=(j,k,F)=>{for(const ve in k){if(!k.hasOwnProperty(ve))return;const W=k[ve],ie=j+"."+ve,Ce=ze(l,ie);(h.array.has(j)||on(W)||Ce&&!Ce._f)&&!hr(W)?Te(ie,W,F):pe(ie,W,F)}},q=(j,k,F={})=>{const ve=ze(l,j),W=h.array.has(j),ie=$t(k);wt(d,j,ie),W?(_.array.next({name:j,values:$t(d)}),(v.isDirty||v.dirtyFields||S.isDirty||S.dirtyFields)&&F.shouldDirty&&_.state.next({name:j,dirtyFields:cl(o,d),isDirty:Oe(j,ie)})):ve&&!ve._f&&!Gn(ie)?Te(j,ie,F):pe(j,ie,F),Xf(j,h)&&_.state.next({...s,name:j}),_.state.next({name:m.mount?j:void 0,values:$t(d)})},ne=async j=>{m.mount=!0;const k=j.target;let F=k.name,ve=!0;const W=ze(l,F),ie=te=>{ve=Number.isNaN(te)||hr(te)&&isNaN(te.getTime())||za(te,ze(d,F,te))},Ce=ul(a.mode),We=ul(a.reValidateMode);if(W){let te,Ge;const Le=k.type?Wy(W._f):CN(j),fe=j.type===Yy.BLUR||j.type===Yy.FOCUS_OUT,Xn=!FN(W._f)&&!a.resolver&&!ze(s.errors,F)&&!W._f.deps||HN(fe,ze(s.touchedFields,F),s.isSubmitted,We,Ce),gn=Xf(F,h,fe);wt(d,F,Le),fe?(!k||!k.readOnly)&&(W._f.onBlur&&W._f.onBlur(j),y&&y(0)):W._f.onChange&&W._f.onChange(j);const xt=T(F,Le,fe),Vt=!Nn(xt)||gn;if(!fe&&_.state.next({name:F,type:j.type,values:$t(d)}),Xn)return(v.isValid||S.isValid)&&(a.mode==="onBlur"?fe&&R():fe||R()),Vt&&_.state.next({name:F,...gn?{}:xt});if(!fe&&gn&&_.state.next({...s}),a.resolver){const{errors:Ot}=await z([F]);if(ie(Le),ve){const Ua=tv(s.errors,l,F),Jn=tv(Ot,l,Ua.name||F);te=Jn.error,F=Jn.name,Ge=Nn(Ot)}}else w([F],!0),te=(await Jf(W,h.disabled,d,U,a.shouldUseNativeValidation))[F],w([F]),ie(Le),ve&&(te?Ge=!1:(v.isValid||S.isValid)&&(Ge=await ce(l,!0)));ve&&(W._f.deps&&(!Array.isArray(W._f.deps)||W._f.deps.length>0)&&we(W._f.deps),J(F,Ge,te,xt))}},se=(j,k)=>{if(ze(s.errors,k)&&j.focus)return j.focus(),1},we=async(j,k={})=>{let F,ve;const W=Qn(j);if(a.resolver){const ie=await ee(Bt(j)?j:W);F=Nn(ie),ve=j?!W.some(Ce=>ze(ie,Ce)):F}else j?(ve=(await Promise.all(W.map(async ie=>{const Ce=ze(l,ie);return await ce(Ce&&Ce._f?{[ie]:Ce}:Ce)}))).every(Boolean),!(!ve&&!s.isValid)&&R()):ve=F=await ce(l);return _.state.next({...!ia(j)||(v.isValid||S.isValid)&&F!==s.isValid?{}:{name:j},...a.resolver||!j?{isValid:F}:{},errors:s.errors}),k.shouldFocus&&!ve&&fl(l,se,j?W:h.mount),ve},Re=(j,k)=>{let F={...m.mount?d:o};return k&&(F=Bb(k.dirtyFields?s.dirtyFields:s.touchedFields,F)),Bt(j)?F:ia(j)?ze(F,j):j.map(ve=>ze(F,ve))},A=(j,k)=>({invalid:!!ze((k||s).errors,j),isDirty:!!ze((k||s).dirtyFields,j),error:ze((k||s).errors,j),isValidating:!!ze(s.validatingFields,j),isTouched:!!ze((k||s).touchedFields,j)}),Y=j=>{j&&Qn(j).forEach(k=>tn(s.errors,k)),_.state.next({errors:j?s.errors:{}})},re=(j,k,F)=>{const ve=(ze(l,j,{_f:{}})._f||{}).ref,W=ze(s.errors,j)||{},{ref:ie,message:Ce,type:We,...te}=W;wt(s.errors,j,{...te,...k,ref:ve}),_.state.next({name:j,errors:s.errors,isValid:!1}),F&&F.shouldFocus&&ve&&ve.focus&&ve.focus()},_e=(j,k)=>Ma(j)?_.state.subscribe({next:F=>"values"in F&&j(de(void 0,k),F)}):de(j,k,!0),Ae=j=>_.state.subscribe({next:k=>{IN(j.name,k.name,j.exact)&&$N(k,j.formState||v,K,j.reRenderRoot)&&j.callback({values:{...d},...s,...k,defaultValues:o})}}).unsubscribe,De=j=>(m.mount=!0,S={...S,...j.formState},Ae({...j,formState:S})),Me=(j,k={})=>{for(const F of j?Qn(j):h.mount)h.mount.delete(F),h.array.delete(F),k.keepValue||(tn(l,F),tn(d,F)),!k.keepError&&tn(s.errors,F),!k.keepDirty&&tn(s.dirtyFields,F),!k.keepTouched&&tn(s.touchedFields,F),!k.keepIsValidating&&tn(s.validatingFields,F),!a.shouldUnregister&&!k.keepDefaultValue&&tn(o,F);_.state.next({values:$t(d)}),_.state.next({...s,...k.keepDirty?{isDirty:Oe()}:{}}),!k.keepIsValid&&R()},Xe=({disabled:j,name:k})=>{(Va(j)&&m.mount||j||h.disabled.has(k))&&(j?h.disabled.add(k):h.disabled.delete(k))},me=(j,k={})=>{let F=ze(l,j);const ve=Va(k.disabled)||Va(a.disabled);return wt(l,j,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:j}},name:j,mount:!0,...k}}),h.mount.add(j),F?Xe({disabled:Va(k.disabled)?k.disabled:a.disabled,name:j}):N(j,!0,k.value),{...ve?{disabled:k.disabled||a.disabled}:{},...a.progressive?{required:!!k.required,min:ji(k.min),max:ji(k.max),minLength:ji(k.minLength),maxLength:ji(k.maxLength),pattern:ji(k.pattern)}:{},name:j,onChange:ne,onBlur:ne,ref:W=>{if(W){me(j,k),F=ze(l,j);const ie=Bt(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,Ce=MN(ie),We=F._f.refs||[];if(Ce?We.find(te=>te===ie):ie===F._f.ref)return;wt(l,j,{_f:{...F._f,...Ce?{refs:[...We.filter(mf),ie,...Array.isArray(ze(o,j))?[{}]:[]],ref:{type:ie.type,name:j}}:{ref:ie}}}),N(j,!1,void 0,ie)}else F=ze(l,j,{}),F._f&&(F._f.mount=!1),(a.shouldUnregister||k.shouldUnregister)&&!(TN(h.array,j)&&m.action)&&h.unMount.add(j)}}},$e=()=>a.shouldFocusError&&fl(l,se,h.mount),Be=j=>{Va(j)&&(_.state.next({disabled:j}),fl(l,(k,F)=>{const ve=ze(l,F);ve&&(k.disabled=ve._f.disabled||j,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(W=>{W.disabled=ve._f.disabled||j}))},0,!1))},je=(j,k)=>async F=>{let ve;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let W=$t(d);if(_.state.next({isSubmitting:!0}),a.resolver){const{errors:ie,values:Ce}=await z();s.errors=ie,W=$t(Ce)}else await ce(l);if(h.disabled.size)for(const ie of h.disabled)tn(W,ie);if(tn(s.errors,"root"),Nn(s.errors)){_.state.next({errors:{}});try{await j(W,F)}catch(ie){ve=ie}}else k&&await k({...s.errors},F),$e(),setTimeout($e);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nn(s.errors)&&!ve,submitCount:s.submitCount+1,errors:s.errors}),ve)throw ve},Ye=(j,k={})=>{ze(l,j)&&(Bt(k.defaultValue)?q(j,$t(ze(o,j))):(q(j,k.defaultValue),wt(o,j,$t(k.defaultValue))),k.keepTouched||tn(s.touchedFields,j),k.keepDirty||(tn(s.dirtyFields,j),s.isDirty=k.defaultValue?Oe(j,$t(ze(o,j))):Oe()),k.keepError||(tn(s.errors,j),v.isValid&&R()),_.state.next({...s}))},Ie=(j,k={})=>{const F=j?$t(j):o,ve=$t(F),W=Nn(j),ie=W?o:ve;if(k.keepDefaultValues||(o=F),!k.keepValues){if(k.keepDirtyValues){const Ce=new Set([...h.mount,...Object.keys(cl(o,d))]);for(const We of Array.from(Ce))ze(s.dirtyFields,We)?wt(ie,We,ze(d,We)):q(We,ze(ie,We))}else{if(jm&&Bt(j))for(const Ce of h.mount){const We=ze(l,Ce);if(We&&We._f){const te=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(jc(te)){const Ge=te.closest("form");if(Ge){Ge.reset();break}}}}if(k.keepFieldsRef)for(const Ce of h.mount)q(Ce,ze(ie,Ce));else l={}}d=a.shouldUnregister?k.keepDefaultValues?$t(o):{}:$t(ie),_.array.next({values:{...ie}}),_.state.next({values:{...ie}})}h={mount:k.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!k.keepIsValid||!!k.keepDirtyValues||!a.shouldUnregister&&!Nn(ie),m.watch=!!a.shouldUnregister,_.state.next({submitCount:k.keepSubmitCount?s.submitCount:0,isDirty:W?!1:k.keepDirty?s.isDirty:!!(k.keepDefaultValues&&!za(j,o)),isSubmitted:k.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:W?{}:k.keepDirtyValues?k.keepDefaultValues&&d?cl(o,d):s.dirtyFields:k.keepDefaultValues&&j?cl(o,j):k.keepDirty?s.dirtyFields:{},touchedFields:k.keepTouched?s.touchedFields:{},errors:k.keepErrors?s.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Pe=(j,k)=>Ie(Ma(j)?j(d):j,k),Ee=(j,k={})=>{const F=ze(l,j),ve=F&&F._f;if(ve){const W=ve.refs?ve.refs[0]:ve.ref;W.focus&&(W.focus(),k.shouldSelect&&Ma(W.select)&&W.select())}},K=j=>{s={...s,...j}},ge={control:{register:me,unregister:Me,getFieldState:A,handleSubmit:je,setError:re,_subscribe:Ae,_runSchema:z,_focusError:$e,_getWatch:de,_getDirty:Oe,_setValid:R,_setFieldArray:H,_setDisabledField:Xe,_setErrors:P,_getFieldArray:Se,_reset:Ie,_resetDefaultValues:()=>Ma(a.defaultValues)&&a.defaultValues().then(j=>{Pe(j,a.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:Ne,_disableForm:Be,_subjects:_,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(j){m=j},get _defaultValues(){return o},get _names(){return h},set _names(j){h=j},get _formState(){return s},get _options(){return a},set _options(j){a={...a,...j}}},subscribe:De,trigger:we,register:me,handleSubmit:je,watch:_e,setValue:q,getValues:Re,reset:Pe,resetField:Ye,clearErrors:Y,unregister:Me,setError:re,setFocus:Ee,getFieldState:A};return{...ge,formControl:ge}}var Fs=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},hf=(e,a,s={})=>s.shouldFocus||Bt(s.shouldFocus)?s.focusName||`${e}.${Bt(s.focusIndex)?a:s.focusIndex}.`:"",pf=(e,a)=>[...e,...Qn(a)],gf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function yf(e,a,s){return[...e.slice(0,a),...Qn(s),...e.slice(a)]}var vf=(e,a,s)=>Array.isArray(e)?(Bt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],bf=(e,a)=>[...Qn(a),...Qn(e)];function QN(e,a){let s=0;const l=[...e];for(const o of a)l.splice(o-s,1),s++;return Bc(l).length?l:[]}var xf=(e,a)=>Bt(a)?[]:QN(e,Qn(a).sort((s,l)=>s-l)),Sf=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},av=(e,a,s)=>(e[a]=s,e);function YN(e){const a=qb(),{control:s=a.control,name:l,keyName:o="id",shouldUnregister:d,rules:m}=e,[h,y]=at.useState(s._getFieldArray(l)),p=at.useRef(s._getFieldArray(l).map(Fs)),v=at.useRef(!1);s._names.array.add(l),at.useMemo(()=>m&&h.length>=0&&s.register(l,m),[s,l,h.length,m]),Am(()=>s._subjects.array.subscribe({next:({values:N,name:T})=>{if(T===l||!T){const J=ze(N,l);Array.isArray(J)&&(y(J),p.current=J.map(Fs))}}}).unsubscribe,[s,l]);const S=at.useCallback(N=>{v.current=!0,s._setFieldArray(l,N)},[s,l]),_=(N,T)=>{const J=Qn($t(N)),z=pf(s._getFieldArray(l),J);s._names.focus=hf(l,z.length-1,T),p.current=pf(p.current,J.map(Fs)),S(z),y(z),s._setFieldArray(l,z,pf,{argA:gf(N)})},U=(N,T)=>{const J=Qn($t(N)),z=bf(s._getFieldArray(l),J);s._names.focus=hf(l,0,T),p.current=bf(p.current,J.map(Fs)),S(z),y(z),s._setFieldArray(l,z,bf,{argA:gf(N)})},E=N=>{const T=xf(s._getFieldArray(l),N);p.current=xf(p.current,N),S(T),y(T),!Array.isArray(ze(s._fields,l))&&wt(s._fields,l,void 0),s._setFieldArray(l,T,xf,{argA:N})},R=(N,T,J)=>{const z=Qn($t(T)),ee=yf(s._getFieldArray(l),N,z);s._names.focus=hf(l,N,J),p.current=yf(p.current,N,z.map(Fs)),S(ee),y(ee),s._setFieldArray(l,ee,yf,{argA:N,argB:gf(T)})},w=(N,T)=>{const J=s._getFieldArray(l);Sf(J,N,T),Sf(p.current,N,T),S(J),y(J),s._setFieldArray(l,J,Sf,{argA:N,argB:T},!1)},H=(N,T)=>{const J=s._getFieldArray(l);vf(J,N,T),vf(p.current,N,T),S(J),y(J),s._setFieldArray(l,J,vf,{argA:N,argB:T},!1)},D=(N,T)=>{const J=$t(T),z=av(s._getFieldArray(l),N,J);p.current=[...z].map((ee,ce)=>!ee||ce===N?Fs():p.current[ce]),S(z),y([...z]),s._setFieldArray(l,z,av,{argA:N,argB:J},!0,!1)},P=N=>{const T=Qn($t(N));p.current=T.map(Fs),S([...T]),y([...T]),s._setFieldArray(l,[...T],J=>J,{},!0,!1)};return at.useEffect(()=>{if(s._state.action=!1,Xf(l,s._names)&&s._subjects.state.next({...s._formState}),v.current&&(!ul(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!ul(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(N=>{const T=ze(N.errors,l),J=ze(s._formState.errors,l);(J?!T&&J.type||T&&(J.type!==T.type||J.message!==T.message):T&&T.type)&&(T?wt(s._formState.errors,l,T):tn(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const N=ze(s._fields,l);N&&N._f&&!(ul(s._options.reValidateMode).isOnSubmit&&ul(s._options.mode).isOnSubmit)&&Jf(N,s._names.disabled,s._formValues,s._options.criteriaMode===xa.all,s._options.shouldUseNativeValidation,!0).then(T=>!Nn(T)&&s._subjects.state.next({errors:Vb(s._formState.errors,T,l)}))}s._subjects.state.next({name:l,values:$t(s._formValues)}),s._names.focus&&fl(s._fields,(N,T)=>{if(s._names.focus&&T.startsWith(s._names.focus)&&N.focus)return N.focus(),1}),s._names.focus="",s._setValid(),v.current=!1},[h,l,s]),at.useEffect(()=>(!ze(s._formValues,l)&&s._setFieldArray(l),()=>{const N=(T,J)=>{const z=ze(s._fields,T);z&&z._f&&(z._f.mount=J)};s._options.shouldUnregister||d?s.unregister(l):N(l,!1)}),[l,s,o,d]),{swap:at.useCallback(w,[S,l,s]),move:at.useCallback(H,[S,l,s]),prepend:at.useCallback(U,[S,l,s]),append:at.useCallback(_,[S,l,s]),remove:at.useCallback(E,[S,l,s]),insert:at.useCallback(R,[S,l,s]),update:at.useCallback(D,[S,l,s]),replace:at.useCallback(P,[S,l,s]),fields:at.useMemo(()=>h.map((N,T)=>({...N,[o]:p.current[T]||Fs()})),[h,o])}}function Lc(e={}){const a=at.useRef(void 0),s=at.useRef(void 0),[l,o]=at.useState({isDirty:!1,isValidating:!1,isLoading:Ma(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ma(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!Ma(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=GN(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,Am(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>o({...d._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),at.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),at.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),at.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),at.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),at.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),at.useEffect(()=>{e.values&&!za(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,o(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),at.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=zN(l,d),a.current}function Zb(e,a){return function(){return e.apply(a,arguments)}}const{toString:KN}=Object.prototype,{getPrototypeOf:Tm}=Object,{iterator:Fc,toStringTag:Gb}=Symbol,$c=(e=>a=>{const s=KN.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ka=e=>(e=e.toLowerCase(),a=>$c(a)===e),Ic=e=>a=>typeof a===e,{isArray:jl}=Array,gl=Ic("undefined");function Fi(e){return e!==null&&!gl(e)&&e.constructor!==null&&!gl(e.constructor)&&Yn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qb=ka("ArrayBuffer");function PN(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&Qb(e.buffer),a}const XN=Ic("string"),Yn=Ic("function"),Yb=Ic("number"),$i=e=>e!==null&&typeof e=="object",JN=e=>e===!0||e===!1,vc=e=>{if($c(e)!=="object")return!1;const a=Tm(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Gb in e)&&!(Fc in e)},WN=e=>{if(!$i(e)||Fi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},e1=ka("Date"),t1=ka("File"),n1=ka("Blob"),a1=ka("FileList"),s1=e=>$i(e)&&Yn(e.pipe),r1=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||Yn(e.append)&&((a=$c(e))==="formdata"||a==="object"&&Yn(e.toString)&&e.toString()==="[object FormData]"))},l1=ka("URLSearchParams"),[i1,o1,c1,u1]=["ReadableStream","Request","Response","Headers"].map(ka),d1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ii(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,o;if(typeof e!="object"&&(e=[e]),jl(e))for(l=0,o=e.length;l<o;l++)a.call(null,e[l],l,e);else{if(Fi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function Kb(e,a){if(Fi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,o;for(;l-- >0;)if(o=s[l],a===o.toLowerCase())return o;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pb=e=>!gl(e)&&e!==pr;function Wf(){const{caseless:e,skipUndefined:a}=Pb(this)&&this||{},s={},l=(o,d)=>{const m=e&&Kb(s,d)||d;vc(s[m])&&vc(o)?s[m]=Wf(s[m],o):vc(o)?s[m]=Wf({},o):jl(o)?s[m]=o.slice():(!a||!gl(o))&&(s[m]=o)};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&Ii(arguments[o],l);return s}const f1=(e,a,s,{allOwnKeys:l}={})=>(Ii(a,(o,d)=>{s&&Yn(o)?e[d]=Zb(o,s):e[d]=o},{allOwnKeys:l}),e),m1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),h1=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},p1=(e,a,s,l)=>{let o,d,m;const h={};if(a=a||{},e==null)return a;do{for(o=Object.getOwnPropertyNames(e),d=o.length;d-- >0;)m=o[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=s!==!1&&Tm(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},g1=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},y1=e=>{if(!e)return null;if(jl(e))return e;let a=e.length;if(!Yb(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},v1=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Tm(Uint8Array)),b1=(e,a)=>{const l=(e&&e[Fc]).call(e);let o;for(;(o=l.next())&&!o.done;){const d=o.value;a.call(e,d[0],d[1])}},x1=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},S1=ka("HTMLFormElement"),_1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,o){return l.toUpperCase()+o}),sv=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),w1=ka("RegExp"),Xb=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Ii(s,(o,d)=>{let m;(m=a(o,d,e))!==!1&&(l[d]=m||o)}),Object.defineProperties(e,l)},N1=e=>{Xb(e,(a,s)=>{if(Yn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(Yn(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},j1=(e,a)=>{const s={},l=o=>{o.forEach(d=>{s[d]=!0})};return jl(e)?l(e):l(String(e).split(a)),s},E1=()=>{},A1=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function O1(e){return!!(e&&Yn(e.append)&&e[Gb]==="FormData"&&e[Fc])}const C1=e=>{const a=new Array(10),s=(l,o)=>{if($i(l)){if(a.indexOf(l)>=0)return;if(Fi(l))return l;if(!("toJSON"in l)){a[o]=l;const d=jl(l)?[]:{};return Ii(l,(m,h)=>{const y=s(m,o+1);!gl(y)&&(d[h]=y)}),a[o]=void 0,d}}return l};return s(e,0)},R1=ka("AsyncFunction"),T1=e=>e&&($i(e)||Yn(e))&&Yn(e.then)&&Yn(e.catch),Jb=((e,a)=>e?setImmediate:a?((s,l)=>(pr.addEventListener("message",({source:o,data:d})=>{o===pr&&d===s&&l.length&&l.shift()()},!1),o=>{l.push(o),pr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Yn(pr.postMessage)),D1=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||Jb,z1=e=>e!=null&&Yn(e[Fc]),Q={isArray:jl,isArrayBuffer:Qb,isBuffer:Fi,isFormData:r1,isArrayBufferView:PN,isString:XN,isNumber:Yb,isBoolean:JN,isObject:$i,isPlainObject:vc,isEmptyObject:WN,isReadableStream:i1,isRequest:o1,isResponse:c1,isHeaders:u1,isUndefined:gl,isDate:e1,isFile:t1,isBlob:n1,isRegExp:w1,isFunction:Yn,isStream:s1,isURLSearchParams:l1,isTypedArray:v1,isFileList:a1,forEach:Ii,merge:Wf,extend:f1,trim:d1,stripBOM:m1,inherits:h1,toFlatObject:p1,kindOf:$c,kindOfTest:ka,endsWith:g1,toArray:y1,forEachEntry:b1,matchAll:x1,isHTMLForm:S1,hasOwnProperty:sv,hasOwnProp:sv,reduceDescriptors:Xb,freezeMethods:N1,toObjectSet:j1,toCamelCase:_1,noop:E1,toFiniteNumber:A1,findKey:Kb,global:pr,isContextDefined:Pb,isSpecCompliantForm:O1,toJSONObject:C1,isAsyncFn:R1,isThenable:T1,setImmediate:Jb,asap:D1,isIterable:z1};function tt(e,a,s,l,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const Wb=tt.prototype,e0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{e0[e]={value:e}});Object.defineProperties(tt,e0);Object.defineProperty(Wb,"isAxiosError",{value:!0});tt.from=(e,a,s,l,o,d)=>{const m=Object.create(Wb);Q.toFlatObject(e,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",y=a==null&&e?e.code:a;return tt.call(m,h,y,s,l,o),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const M1=null;function em(e){return Q.isPlainObject(e)||Q.isArray(e)}function t0(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function rv(e,a,s){return e?e.concat(a).map(function(o,d){return o=t0(o),!s&&d?"["+o+"]":o}).join(s?".":""):a}function k1(e){return Q.isArray(e)&&!e.some(em)}const U1=Q.toFlatObject(Q,{},null,function(a){return/^is[A-Z]/.test(a)});function Hc(e,a,s){if(!Q.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=Q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,w){return!Q.isUndefined(w[R])});const l=s.metaTokens,o=s.visitor||v,d=s.dots,m=s.indexes,y=(s.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(a);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(Q.isDate(E))return E.toISOString();if(Q.isBoolean(E))return E.toString();if(!y&&Q.isBlob(E))throw new tt("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(E)||Q.isTypedArray(E)?y&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function v(E,R,w){let H=E;if(E&&!w&&typeof E=="object"){if(Q.endsWith(R,"{}"))R=l?R:R.slice(0,-2),E=JSON.stringify(E);else if(Q.isArray(E)&&k1(E)||(Q.isFileList(E)||Q.endsWith(R,"[]"))&&(H=Q.toArray(E)))return R=t0(R),H.forEach(function(P,N){!(Q.isUndefined(P)||P===null)&&a.append(m===!0?rv([R],N,d):m===null?R:R+"[]",p(P))}),!1}return em(E)?!0:(a.append(rv(w,R,d),p(E)),!1)}const S=[],_=Object.assign(U1,{defaultVisitor:v,convertValue:p,isVisitable:em});function U(E,R){if(!Q.isUndefined(E)){if(S.indexOf(E)!==-1)throw Error("Circular reference detected in "+R.join("."));S.push(E),Q.forEach(E,function(H,D){(!(Q.isUndefined(H)||H===null)&&o.call(a,H,Q.isString(D)?D.trim():D,R,_))===!0&&U(H,R?R.concat(D):[D])}),S.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return U(e),a}function lv(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Dm(e,a){this._pairs=[],e&&Hc(e,this,a)}const n0=Dm.prototype;n0.append=function(a,s){this._pairs.push([a,s])};n0.toString=function(a){const s=a?function(l){return a.call(this,l,lv)}:lv;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function q1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function a0(e,a,s){if(!a)return e;const l=s&&s.encode||q1;Q.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let d;if(o?d=o(a,s):d=Q.isURLSearchParams(a)?a.toString():new Dm(a,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class iv{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){Q.forEach(this.handlers,function(l){l!==null&&a(l)})}}const s0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B1=typeof URLSearchParams<"u"?URLSearchParams:Dm,L1=typeof FormData<"u"?FormData:null,F1=typeof Blob<"u"?Blob:null,$1={isBrowser:!0,classes:{URLSearchParams:B1,FormData:L1,Blob:F1},protocols:["http","https","file","blob","url","data"]},zm=typeof window<"u"&&typeof document<"u",tm=typeof navigator=="object"&&navigator||void 0,I1=zm&&(!tm||["ReactNative","NativeScript","NS"].indexOf(tm.product)<0),H1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V1=zm&&window.location.href||"http://localhost",Z1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zm,hasStandardBrowserEnv:I1,hasStandardBrowserWebWorkerEnv:H1,navigator:tm,origin:V1},Symbol.toStringTag,{value:"Module"})),jn={...Z1,...$1};function G1(e,a){return Hc(e,new jn.classes.URLSearchParams,{visitor:function(s,l,o,d){return jn.isNode&&Q.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function Q1(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Y1(e){const a={},s=Object.keys(e);let l;const o=s.length;let d;for(l=0;l<o;l++)d=s[l],a[d]=e[d];return a}function r0(e){function a(s,l,o,d){let m=s[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),y=d>=s.length;return m=!m&&Q.isArray(o)?o.length:m,y?(Q.hasOwnProp(o,m)?o[m]=[o[m],l]:o[m]=l,!h):((!o[m]||!Q.isObject(o[m]))&&(o[m]=[]),a(s,l,o[m],d)&&Q.isArray(o[m])&&(o[m]=Y1(o[m])),!h)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const s={};return Q.forEachEntry(e,(l,o)=>{a(Q1(l),o,s,0)}),s}return null}function K1(e,a,s){if(Q.isString(e))try{return(a||JSON.parse)(e),Q.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Hi={transitional:s0,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",o=l.indexOf("application/json")>-1,d=Q.isObject(a);if(d&&Q.isHTMLForm(a)&&(a=new FormData(a)),Q.isFormData(a))return o?JSON.stringify(r0(a)):a;if(Q.isArrayBuffer(a)||Q.isBuffer(a)||Q.isStream(a)||Q.isFile(a)||Q.isBlob(a)||Q.isReadableStream(a))return a;if(Q.isArrayBufferView(a))return a.buffer;if(Q.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return G1(a,this.formSerializer).toString();if((h=Q.isFileList(a))||l.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Hc(h?{"files[]":a}:a,y&&new y,this.formSerializer)}}return d||o?(s.setContentType("application/json",!1),K1(a)):a}],transformResponse:[function(a){const s=this.transitional||Hi.transitional,l=s&&s.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(a)||Q.isReadableStream(a))return a;if(a&&Q.isString(a)&&(l&&!this.responseType||o)){const m=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?tt.from(h,tt.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{Hi.headers[e]={}});const P1=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X1=e=>{const a={};let s,l,o;return e&&e.split(`
`).forEach(function(m){o=m.indexOf(":"),s=m.substring(0,o).trim().toLowerCase(),l=m.substring(o+1).trim(),!(!s||a[s]&&P1[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},ov=Symbol("internals");function Ei(e){return e&&String(e).trim().toLowerCase()}function bc(e){return e===!1||e==null?e:Q.isArray(e)?e.map(bc):String(e)}function J1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const W1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _f(e,a,s,l,o){if(Q.isFunction(l))return l.call(this,a,s);if(o&&(a=s),!!Q.isString(a)){if(Q.isString(l))return a.indexOf(l)!==-1;if(Q.isRegExp(l))return l.test(a)}}function ej(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function tj(e,a){const s=Q.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(o,d,m){return this[l].call(this,a,o,d,m)},configurable:!0})})}let Kn=class{constructor(a){a&&this.set(a)}set(a,s,l){const o=this;function d(h,y,p){const v=Ei(y);if(!v)throw new Error("header name must be a non-empty string");const S=Q.findKey(o,v);(!S||o[S]===void 0||p===!0||p===void 0&&o[S]!==!1)&&(o[S||y]=bc(h))}const m=(h,y)=>Q.forEach(h,(p,v)=>d(p,v,y));if(Q.isPlainObject(a)||a instanceof this.constructor)m(a,s);else if(Q.isString(a)&&(a=a.trim())&&!W1(a))m(X1(a),s);else if(Q.isObject(a)&&Q.isIterable(a)){let h={},y,p;for(const v of a){if(!Q.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(y=h[p])?Q.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}m(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ei(a),a){const l=Q.findKey(this,a);if(l){const o=this[l];if(!s)return o;if(s===!0)return J1(o);if(Q.isFunction(s))return s.call(this,o,l);if(Q.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ei(a),a){const l=Q.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||_f(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let o=!1;function d(m){if(m=Ei(m),m){const h=Q.findKey(l,m);h&&(!s||_f(l,l[h],h,s))&&(delete l[h],o=!0)}}return Q.isArray(a)?a.forEach(d):d(a),o}clear(a){const s=Object.keys(this);let l=s.length,o=!1;for(;l--;){const d=s[l];(!a||_f(this,this[d],d,a,!0))&&(delete this[d],o=!0)}return o}normalize(a){const s=this,l={};return Q.forEach(this,(o,d)=>{const m=Q.findKey(l,d);if(m){s[m]=bc(o),delete s[d];return}const h=a?ej(d):String(d).trim();h!==d&&delete s[d],s[h]=bc(o),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return Q.forEach(this,(l,o)=>{l!=null&&l!==!1&&(s[o]=a&&Q.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(o=>l.set(o)),l}static accessor(a){const l=(this[ov]=this[ov]={accessors:{}}).accessors,o=this.prototype;function d(m){const h=Ei(m);l[h]||(tj(o,m),l[h]=!0)}return Q.isArray(a)?a.forEach(d):d(a),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Kn.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});Q.freezeMethods(Kn);function wf(e,a){const s=this||Hi,l=a||s,o=Kn.from(l.headers);let d=l.data;return Q.forEach(e,function(h){d=h.call(s,d,o.normalize(),a?a.status:void 0)}),o.normalize(),d}function l0(e){return!!(e&&e.__CANCEL__)}function El(e,a,s){tt.call(this,e??"canceled",tt.ERR_CANCELED,a,s),this.name="CanceledError"}Q.inherits(El,tt,{__CANCEL__:!0});function i0(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new tt("Request failed with status code "+s.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function nj(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function aj(e,a){e=e||10;const s=new Array(e),l=new Array(e);let o=0,d=0,m;return a=a!==void 0?a:1e3,function(y){const p=Date.now(),v=l[d];m||(m=p),s[o]=y,l[o]=p;let S=d,_=0;for(;S!==o;)_+=s[S++],S=S%e;if(o=(o+1)%e,o===d&&(d=(d+1)%e),p-m<a)return;const U=v&&p-v;return U?Math.round(_*1e3/U):void 0}}function sj(e,a){let s=0,l=1e3/a,o,d;const m=(p,v=Date.now())=>{s=v,o=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),S=v-s;S>=l?m(p,v):(o=p,d||(d=setTimeout(()=>{d=null,m(o)},l-S)))},()=>o&&m(o)]}const Ac=(e,a,s=3)=>{let l=0;const o=aj(50,250);return sj(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,y=m-l,p=o(y),v=m<=h;l=m;const S={loaded:m,total:h,progress:h?m/h:void 0,bytes:y,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(S)},s)},cv=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},uv=e=>(...a)=>Q.asap(()=>e(...a)),rj=jn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,jn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,lj=jn.hasStandardBrowserEnv?{write(e,a,s,l,o,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];Q.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),Q.isString(l)&&h.push(`path=${l}`),Q.isString(o)&&h.push(`domain=${o}`),d===!0&&h.push("secure"),Q.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ij(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oj(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function o0(e,a,s){let l=!ij(a);return e&&(l||s==!1)?oj(e,a):a}const dv=e=>e instanceof Kn?{...e}:e;function xr(e,a){a=a||{};const s={};function l(p,v,S,_){return Q.isPlainObject(p)&&Q.isPlainObject(v)?Q.merge.call({caseless:_},p,v):Q.isPlainObject(v)?Q.merge({},v):Q.isArray(v)?v.slice():v}function o(p,v,S,_){if(Q.isUndefined(v)){if(!Q.isUndefined(p))return l(void 0,p,S,_)}else return l(p,v,S,_)}function d(p,v){if(!Q.isUndefined(v))return l(void 0,v)}function m(p,v){if(Q.isUndefined(v)){if(!Q.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,S){if(S in a)return l(p,v);if(S in e)return l(void 0,p)}const y={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,S)=>o(dv(p),dv(v),S,!0)};return Q.forEach(Object.keys({...e,...a}),function(v){const S=y[v]||o,_=S(e[v],a[v],v);Q.isUndefined(_)&&S!==h||(s[v]=_)}),s}const c0=e=>{const a=xr({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:o,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=Kn.from(m),a.url=a0(o0(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Q.isFormData(s)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(Q.isFunction(s.getHeaders)){const y=s.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,S])=>{p.includes(v.toLowerCase())&&m.set(v,S)})}}if(jn.hasStandardBrowserEnv&&(l&&Q.isFunction(l)&&(l=l(a)),l||l!==!1&&rj(a.url))){const y=o&&d&&lj.read(d);y&&m.set(o,y)}return a},cj=typeof XMLHttpRequest<"u",uj=cj&&function(e){return new Promise(function(s,l){const o=c0(e);let d=o.data;const m=Kn.from(o.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:p}=o,v,S,_,U,E;function R(){U&&U(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function H(){if(!w)return;const P=Kn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!h||h==="text"||h==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:P,config:e,request:w};i0(function(z){s(z),R()},function(z){l(z),R()},T),w=null}"onloadend"in w?w.onloadend=H:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(H)},w.onabort=function(){w&&(l(new tt("Request aborted",tt.ECONNABORTED,e,w)),w=null)},w.onerror=function(N){const T=N&&N.message?N.message:"Network Error",J=new tt(T,tt.ERR_NETWORK,e,w);J.event=N||null,l(J),w=null},w.ontimeout=function(){let N=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||s0;o.timeoutErrorMessage&&(N=o.timeoutErrorMessage),l(new tt(N,T.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,e,w)),w=null},d===void 0&&m.setContentType(null),"setRequestHeader"in w&&Q.forEach(m.toJSON(),function(N,T){w.setRequestHeader(T,N)}),Q.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),h&&h!=="json"&&(w.responseType=o.responseType),p&&([_,E]=Ac(p,!0),w.addEventListener("progress",_)),y&&w.upload&&([S,U]=Ac(y),w.upload.addEventListener("progress",S),w.upload.addEventListener("loadend",U)),(o.cancelToken||o.signal)&&(v=P=>{w&&(l(!P||P.type?new El(null,e,w):P),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const D=nj(o.url);if(D&&jn.protocols.indexOf(D)===-1){l(new tt("Unsupported protocol "+D+":",tt.ERR_BAD_REQUEST,e));return}w.send(d||null)})},dj=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,o;const d=function(p){if(!o){o=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof tt?v:new El(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new tt(`timeout ${a} of ms exceeded`,tt.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:y}=l;return y.unsubscribe=()=>Q.asap(h),y}},fj=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,o;for(;l<s;)o=l+a,yield e.slice(l,o),l=o},mj=async function*(e,a){for await(const s of hj(e))yield*fj(s,a)},hj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},fv=(e,a,s,l)=>{const o=mj(e,a);let d=0,m,h=y=>{m||(m=!0,l&&l(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await o.next();if(p){h(),y.close();return}let S=v.byteLength;if(s){let _=d+=S;s(_)}y.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(y){return h(y),o.return()}},{highWaterMark:2})},mv=64*1024,{isFunction:uc}=Q,pj=(({Request:e,Response:a})=>({Request:e,Response:a}))(Q.global),{ReadableStream:hv,TextEncoder:pv}=Q.global,gv=(e,...a)=>{try{return!!e(...a)}catch{return!1}},gj=e=>{e=Q.merge.call({skipUndefined:!0},pj,e);const{fetch:a,Request:s,Response:l}=e,o=a?uc(a):typeof fetch=="function",d=uc(s),m=uc(l);if(!o)return!1;const h=o&&uc(hv),y=o&&(typeof pv=="function"?(E=>R=>E.encode(R))(new pv):async E=>new Uint8Array(await new s(E).arrayBuffer())),p=d&&h&&gv(()=>{let E=!1;const R=new s(jn.origin,{body:new hv,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!R}),v=m&&h&&gv(()=>Q.isReadableStream(new l("").body)),S={stream:v&&(E=>E.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!S[E]&&(S[E]=(R,w)=>{let H=R&&R[E];if(H)return H.call(R);throw new tt(`Response type '${E}' is not supported`,tt.ERR_NOT_SUPPORT,w)})});const _=async E=>{if(E==null)return 0;if(Q.isBlob(E))return E.size;if(Q.isSpecCompliantForm(E))return(await new s(jn.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(E)||Q.isArrayBuffer(E))return E.byteLength;if(Q.isURLSearchParams(E)&&(E=E+""),Q.isString(E))return(await y(E)).byteLength},U=async(E,R)=>{const w=Q.toFiniteNumber(E.getContentLength());return w??_(R)};return async E=>{let{url:R,method:w,data:H,signal:D,cancelToken:P,timeout:N,onDownloadProgress:T,onUploadProgress:J,responseType:z,headers:ee,withCredentials:ce="same-origin",fetchOptions:Ne}=c0(E),Oe=a||fetch;z=z?(z+"").toLowerCase():"text";let de=dj([D,P&&P.toAbortSignal()],N),Se=null;const pe=de&&de.unsubscribe&&(()=>{de.unsubscribe()});let Te;try{if(J&&p&&w!=="get"&&w!=="head"&&(Te=await U(ee,H))!==0){let A=new s(R,{method:"POST",body:H,duplex:"half"}),Y;if(Q.isFormData(H)&&(Y=A.headers.get("content-type"))&&ee.setContentType(Y),A.body){const[re,_e]=cv(Te,Ac(uv(J)));H=fv(A.body,mv,re,_e)}}Q.isString(ce)||(ce=ce?"include":"omit");const q=d&&"credentials"in s.prototype,ne={...Ne,signal:de,method:w.toUpperCase(),headers:ee.normalize().toJSON(),body:H,duplex:"half",credentials:q?ce:void 0};Se=d&&new s(R,ne);let se=await(d?Oe(Se,Ne):Oe(R,ne));const we=v&&(z==="stream"||z==="response");if(v&&(T||we&&pe)){const A={};["status","statusText","headers"].forEach(Ae=>{A[Ae]=se[Ae]});const Y=Q.toFiniteNumber(se.headers.get("content-length")),[re,_e]=T&&cv(Y,Ac(uv(T),!0))||[];se=new l(fv(se.body,mv,re,()=>{_e&&_e(),pe&&pe()}),A)}z=z||"text";let Re=await S[Q.findKey(S,z)||"text"](se,E);return!we&&pe&&pe(),await new Promise((A,Y)=>{i0(A,Y,{data:Re,headers:Kn.from(se.headers),status:se.status,statusText:se.statusText,config:E,request:Se})})}catch(q){throw pe&&pe(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,E,Se),{cause:q.cause||q}):tt.from(q,q&&q.code,E,Se)}}},yj=new Map,u0=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:o}=a,d=[l,o,s];let m=d.length,h=m,y,p,v=yj;for(;h--;)y=d[h],p=v.get(y),p===void 0&&v.set(y,p=h?new Map:gj(a)),v=p;return p};u0();const Mm={http:M1,xhr:uj,fetch:{get:u0}};Q.forEach(Mm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const yv=e=>`- ${e}`,vj=e=>Q.isFunction(e)||e===null||e===!1;function bj(e,a){e=Q.isArray(e)?e:[e];const{length:s}=e;let l,o;const d={};for(let m=0;m<s;m++){l=e[m];let h;if(o=l,!vj(l)&&(o=Mm[(h=String(l)).toLowerCase()],o===void 0))throw new tt(`Unknown adapter '${h}'`);if(o&&(Q.isFunction(o)||(o=o.get(a))))break;d[h||"#"+m]=o}if(!o){const m=Object.entries(d).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?m.length>1?`since :
`+m.map(yv).join(`
`):" "+yv(m[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return o}const d0={getAdapter:bj,adapters:Mm};function Nf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new El(null,e)}function vv(e){return Nf(e),e.headers=Kn.from(e.headers),e.data=wf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),d0.getAdapter(e.adapter||Hi.adapter,e)(e).then(function(l){return Nf(e),l.data=wf.call(e,e.transformResponse,l),l.headers=Kn.from(l.headers),l},function(l){return l0(l)||(Nf(e),l&&l.response&&(l.response.data=wf.call(e,e.transformResponse,l.response),l.response.headers=Kn.from(l.response.headers))),Promise.reject(l)})}const f0="1.13.2",Vc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Vc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const bv={};Vc.transitional=function(a,s,l){function o(d,m){return"[Axios v"+f0+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new tt(o(m," has been removed"+(s?" in "+s:"")),tt.ERR_DEPRECATED);return s&&!bv[m]&&(bv[m]=!0,console.warn(o(m," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,m,h):!0}};Vc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function xj(e,a,s){if(typeof e!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let o=l.length;for(;o-- >0;){const d=l[o],m=a[d];if(m){const h=e[d],y=h===void 0||m(h,d,e);if(y!==!0)throw new tt("option "+d+" must be "+y,tt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new tt("Unknown option "+d,tt.ERR_BAD_OPTION)}}const xc={assertOptions:xj,validators:Vc},Ha=xc.validators;let gr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new iv,response:new iv}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=xr(this.defaults,s);const{transitional:l,paramsSerializer:o,headers:d}=s;l!==void 0&&xc.assertOptions(l,{silentJSONParsing:Ha.transitional(Ha.boolean),forcedJSONParsing:Ha.transitional(Ha.boolean),clarifyTimeoutError:Ha.transitional(Ha.boolean)},!1),o!=null&&(Q.isFunction(o)?s.paramsSerializer={serialize:o}:xc.assertOptions(o,{encode:Ha.function,serialize:Ha.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),xc.assertOptions(s,{baseUrl:Ha.spelling("baseURL"),withXsrfToken:Ha.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=d&&Q.merge(d.common,d[s.method]);d&&Q.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),s.headers=Kn.concat(m,d);const h=[];let y=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(y=y&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const p=[];this.interceptors.response.forEach(function(R){p.push(R.fulfilled,R.rejected)});let v,S=0,_;if(!y){const E=[vv.bind(this),void 0];for(E.unshift(...h),E.push(...p),_=E.length,v=Promise.resolve(s);S<_;)v=v.then(E[S++],E[S++]);return v}_=h.length;let U=s;for(;S<_;){const E=h[S++],R=h[S++];try{U=E(U)}catch(w){R.call(this,w);break}}try{v=vv.call(this,U)}catch(E){return Promise.reject(E)}for(S=0,_=p.length;S<_;)v=v.then(p[S++],p[S++]);return v}getUri(a){a=xr(this.defaults,a);const s=o0(a.baseURL,a.url,a.allowAbsoluteUrls);return a0(s,a.params,a.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(a){gr.prototype[a]=function(s,l){return this.request(xr(l||{},{method:a,url:s,data:(l||{}).data}))}});Q.forEach(["post","put","patch"],function(a){function s(l){return function(d,m,h){return this.request(xr(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}gr.prototype[a]=s(),gr.prototype[a+"Form"]=s(!0)});let Sj=class m0{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(o=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](o);l._listeners=null}),this.promise.then=o=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(o);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new El(d,m,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new m0(function(o){a=o}),cancel:a}}};function _j(e){return function(s){return e.apply(null,s)}}function wj(e){return Q.isObject(e)&&e.isAxiosError===!0}const nm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(nm).forEach(([e,a])=>{nm[a]=e});function h0(e){const a=new gr(e),s=Zb(gr.prototype.request,a);return Q.extend(s,gr.prototype,a,{allOwnKeys:!0}),Q.extend(s,a,null,{allOwnKeys:!0}),s.create=function(o){return h0(xr(e,o))},s}const it=h0(Hi);it.Axios=gr;it.CanceledError=El;it.CancelToken=Sj;it.isCancel=l0;it.VERSION=f0;it.toFormData=Hc;it.AxiosError=tt;it.Cancel=it.CanceledError;it.all=function(a){return Promise.all(a)};it.spread=_j;it.isAxiosError=wj;it.mergeConfig=xr;it.AxiosHeaders=Kn;it.formToJSON=e=>r0(Q.isHTMLForm(e)?new FormData(e):e);it.getAdapter=d0.getAdapter;it.HttpStatusCode=nm;it.default=it;const{Axios:HT,AxiosError:VT,CanceledError:ZT,isCancel:GT,CancelToken:QT,VERSION:YT,all:KT,Cancel:PT,isAxiosError:XT,spread:JT,toFormData:WT,AxiosHeaders:e2,HttpStatusCode:t2,formToJSON:n2,getAdapter:a2,mergeConfig:s2}=it,xv="http://127.0.0.1:8000",Al="openOiId",Zc="vi.currentOI",p0="vi.auth",g0="vi_auth",Nj="medileser.selectedBank",jj="medileser:selectedBank",am="medileser.pendingToast",Vi="medileser.pendingAction",Ej="medileser:auth-expired",sm="medileser.sessionUserId",rm="medileser.sessionBankId",y0=()=>typeof window<"u"?window.location.port==="5173"?xv:window.location.origin:xv,Ke=it.create({baseURL:y0()}),v0=it.create({baseURL:y0()}),b0=e=>{try{const a=localStorage.getItem(p0)??localStorage.getItem(g0);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ke.interceptors.request.use(b0);v0.interceptors.request.use(b0);function Aj(){try{const e=sessionStorage.getItem(Al);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const Oj=()=>{try{const e=sessionStorage.getItem(Zc);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function Cj(e){try{sessionStorage.setItem(Al,String(e))}catch{}}function x0(){try{sessionStorage.removeItem(Al)}catch{}}async function Zi(){const e=Aj();if(e)try{await v0.post(`/oi/${e}/close`)}catch{}finally{x0()}}function Rj(e){try{sessionStorage.setItem(am,e)}catch{}}function Tj(){try{const e=sessionStorage.getItem(am);return e?(sessionStorage.removeItem(am),e):null}catch{return null}}function Dj(e){try{sessionStorage.setItem(Vi,JSON.stringify(e))}catch{}}function zj(){try{const e=sessionStorage.getItem(Vi);return e?JSON.parse(e):null}catch{return null}}function Ai(){try{sessionStorage.removeItem(Vi)}catch{}}function S0(){try{const e=sessionStorage.getItem(sm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Sv(e){try{e==null?sessionStorage.removeItem(sm):sessionStorage.setItem(sm,String(e))}catch{}}function _0(){try{const e=sessionStorage.getItem(rm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Oc(e){try{e==null?sessionStorage.removeItem(rm):sessionStorage.setItem(rm,String(e))}catch{}}function w0(e){const a=S0();if(e==null)return!1;if(a===null||a===e)return Sv(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const o=sessionStorage.key(l);o&&(o.startsWith("oi:")||o===Al||o===Zc||o===Vi)&&s.push(o)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Sv(e),Oc(null),!0}function Mj(e){const a=_0();if(e==null)return!1;if(a===null||a===e)return Oc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const o=sessionStorage.key(l);o&&(o.startsWith("oi:")||o===Al||o===Zc||o===Vi)&&s.push(o)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Oc(e),!0}function kj(){try{localStorage.removeItem(p0),localStorage.removeItem(g0),localStorage.removeItem(Nj)}catch{}finally{try{window.dispatchEvent(new Event(jj))}catch{}}try{sessionStorage.removeItem(Zc),sessionStorage.removeItem(Al)}catch{}}let _v=!1;async function N0(e){if(!_v){_v=!0;try{await Zi()}finally{kj();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(Rj(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const Sc=e=>{const a=e?.response?.status;if(a===401||a===403)return!0;const s=e?.response?.data?.detail;return!!(typeof s=="string"&&/token requerido/i.test(s))},jf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},Uj=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:jf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:jf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:jf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},qj=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location;let o=`${a}${s}${l??""}`;if(a==="/oi"||a==="/oi/"){const d=e?.oiId??Oj();d&&(o=`/oi/${d}${s??""}`)}return o},Bj=(e,a,s,l,o)=>{try{window.dispatchEvent(new CustomEvent(Ej,{detail:{status:a,detail:e,url:s,method:l,pending:o}}))}catch{}};Ke.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,o=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&Sc(e)){const m=Uj(e);m&&Dj(m),Bj(l,a,s,o,m);const h=qj(m);await N0({returnTo:h,pending:!!m})}return Promise.reject(e)});const km=async()=>{const{data:e}=await Ke.get("/catalogs");return e},Gc="medileser.selectedBank",Cc="medileser:selectedBank";function Za(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function yl(e){return Za(e)==="technician"}function Um(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function Rc(){try{const e=localStorage.getItem(Gc);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function j0(e){try{localStorage.setItem(Gc,String(e))}finally{window.dispatchEvent(new Event(Cc))}}function E0(){try{localStorage.removeItem(Gc)}finally{window.dispatchEvent(new Event(Cc))}}function Lj(e){const a=()=>e(),s=l=>{l.key===Gc&&e()};return window.addEventListener(Cc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Cc,a),window.removeEventListener("storage",s)}}async function Fj(e,a){try{await Ke.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function $j(e){try{await Zi();const{data:a}=await Ke.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),w0(a.userId??null),!yl(a.role)&&a.bancoId!=null&&Oc(a.bancoId),yl(a.role)?E0():j0(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,o=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(o)}}function En(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,o={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Za(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules:void 0};return o.username&&o.token?o:null}catch{return null}}async function A0(e){await Zi();const{data:a}=await Ke.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),w0(a.userId??null),Mj(e),j0(e),a}function O0(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),E0();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function Ij(){await Zi(),O0()}function zi({label:e,inputId:a,className:s="",inputRef:l,helpText:o,...d}){const[m,h]=b.useState(!1),y=a||d.name||void 0,{ref:p,...v}=d,S=l??p;return c.jsxs("div",{className:s,children:[e&&c.jsx("label",{className:"form-label",htmlFor:y,children:e}),c.jsxs("div",{className:"input-group",children:[c.jsx("input",{...v,id:y,type:m?"text":"password",className:"form-control",ref:S}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(_=>!_),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:c.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),o&&c.jsx("div",{className:"form-text",children:o})]})}function Ol({show:e=!0,label:a="Cargando..."}){return e?c.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[c.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),c.jsx("span",{className:"visually-hidden",children:a})]}):null}const C0=b.createContext(null);function Hj(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function Vj({children:e}){const[a,s]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:y=3500,...p}=d,v={id:m,kind:h,duration:y,...p};s(S=>[...S,v]),window.setTimeout(()=>{s(S=>S.filter(_=>_.id!==m))},y)},[]),o=d=>s(m=>m.filter(h=>h.id!==d));return c.jsxs(C0.Provider,{value:{push:l},children:[e,c.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>c.jsx("div",{className:`toast show align-items-center text-bg-${Hj(d.kind)} border-0 mb-2`,role:"alert",children:c.jsxs("div",{className:"d-flex",children:[c.jsxs("div",{className:"toast-body",children:[d.title&&c.jsx("strong",{className:"me-2",children:d.title}),d.message]}),c.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>o(d.id)})]})},d.id))})]})}function Nr(){const e=b.useContext(C0);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function Zj(){const{register:e,handleSubmit:a}=Lc({defaultValues:{username:"",password:""}}),{toast:s}=Nr(),o=new URLSearchParams(window.location.search).get("returnTo")??"",d=o.startsWith("/")?o:"/home",[m,h]=b.useState(!1),y=b.useRef(d),[p,v]=b.useState(!1),[S,_]=b.useState(0),[U,E]=b.useState(!1),{data:R,isLoading:w,error:H,refetch:D}=br({queryKey:["catalogs"],queryFn:km,enabled:p}),P=R?.bancos??[];b.useEffect(()=>{const ee=Tj();ee&&s({kind:"error",message:ee})},[s]),b.useEffect(()=>{p&&(S>0||P.length>0&&_(P[0].id))},[S,P,p]);const N=async ee=>{try{h(!0);const ce=S0(),Ne=await $j(ee),Oe=ce!=null&&Ne.userId&&ce!==Ne.userId;if(y.current=Oe?"/home":d,yl(Ne.role)){v(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(y.current)}catch(ce){const Ne=ce?.message??ce?.response?.data?.detail??(typeof ce=="string"?ce:"Error de autenticacin");s({kind:"error",title:"Login",message:String(Ne)})}finally{h(!1)}},T=S>0&&!U&&!w,J=async()=>{if(T)try{E(!0);const ee=_0();ee!=null&&ee!==S&&(y.current="/home"),await A0(S),window.location.replace(y.current)}catch(ee){const ce=ee?.response?.data?.detail??ee?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(ce)})}finally{E(!1)}},z=()=>{O0(),v(!1),_(0)};return c.jsxs("div",{className:"vi-login",children:[c.jsx(Ol,{show:m||U,label:U?"Guardando banco...":"Validando credenciales..."}),c.jsxs("div",{className:"vi-login__split",children:[c.jsx("section",{className:"vi-login__left",children:c.jsx("div",{className:"text-center text-md-start",children:c.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),c.jsx("section",{className:"vi-login__right",children:c.jsx("div",{className:"card shadow-sm vi-login__card",children:c.jsxs("div",{className:"card-body p-4 p-md-5",children:[c.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),c.jsxs("form",{onSubmit:a(N),className:"row g-3",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),c.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),c.jsx("div",{className:"col-md-6",children:c.jsx(zi,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),c.jsx("div",{className:"col-12 d-grid",children:c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m||p,"aria-busy":m?"true":"false",children:m?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),p&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),c.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),c.jsx("select",{id:"bankId",className:"form-select",value:S||"",onChange:ee=>_(Number(ee.target.value)),disabled:w||U,children:P.map(ee=>c.jsx("option",{value:ee.id,children:ee.name},ee.id))}),H?c.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>D(),children:"Reintentar"})]}):null]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:z,disabled:U,children:"Cancelar"}),c.jsx("button",{type:"button",className:"btn btn-primary",disabled:!T,onClick:J,children:U?"Guardando...":"Continuar"})]})]})})})]})}const wv=(e,a,s)=>{if(e&&"reportValidity"in e){const l=ze(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},lm=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?wv(l.ref,s,e):l&&l.refs&&l.refs.forEach(o=>wv(o,s,e))}},Nv=(e,a)=>{a.shouldUseNativeValidation&&lm(e,a);const s={};for(const l in e){const o=ze(a.fields,l),d=Object.assign(e[l]||{},{ref:o&&o.ref});if(Gj(a.names||Object.keys(e),l)){const m=Object.assign({},ze(s,l));wt(m,"root",d),wt(s,l,m)}else wt(s,l,d)}return s},Gj=(e,a)=>{const s=jv(a);return e.some(l=>jv(l).match(`^${s}\\.\\d+`))};function jv(e){return e.replace(/\]|\[/g,"")}function he(e,a,s){function l(h,y){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,y);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=y}const o=s?.Parent??Object;class d extends o{}Object.defineProperty(d,"name",{value:e});function m(h){var y;const p=s?.Parent?new d:this;l(p,h),(y=p._zod).deferred??(y.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class ml extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class R0 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const T0={};function Sr(e){return T0}function Qj(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,o])=>a.indexOf(+l)===-1).map(([l,o])=>o)}function im(e,a){return typeof a=="bigint"?a.toString():a}function qm(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Bm(e){return e==null}function Lm(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function Yj(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let o=(l.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(l)){const y=l.match(/\d?e-(\d?)/);y?.[1]&&(o=Number.parseInt(y[1]))}const d=s>o?s:o,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const Ev=Symbol("evaluating");function Mt(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==Ev)return l===void 0&&(l=Ev,l=s()),l},set(o){Object.defineProperty(e,a,{value:o})},configurable:!0})}function jr(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Er(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function Av(e){return JSON.stringify(e)}const D0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Tc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Kj=qm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Mi(e){if(Tc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(Tc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function z0(e){return Mi(e)?{...e}:Array.isArray(e)?[...e]:e}const Pj=new Set(["string","number","symbol"]);function Qc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Hs(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function Ze(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function Xj(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const Jj={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Wj(e,a){const s=e._zod.def,l=Er(e._zod.def,{get shape(){const o={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(o[d]=s.shape[d])}return jr(this,"shape",o),o},checks:[]});return Hs(e,l)}function eE(e,a){const s=e._zod.def,l=Er(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete o[d]}return jr(this,"shape",o),o},checks:[]});return Hs(e,l)}function tE(e,a){if(!Mi(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Er(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return jr(this,"shape",d),d},checks:[]});return Hs(e,o)}function nE(e,a){if(!Mi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return jr(this,"shape",l),l},checks:e._zod.def.checks};return Hs(e,s)}function aE(e,a){const s=Er(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return jr(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Hs(e,s)}function sE(e,a,s){const l=Er(a._zod.def,{get shape(){const o=a._zod.def.shape,d={...o};if(s)for(const m in s){if(!(m in o))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=e?new e({type:"optional",innerType:o[m]}):o[m])}else for(const m in o)d[m]=e?new e({type:"optional",innerType:o[m]}):o[m];return jr(this,"shape",d),d},checks:[]});return Hs(a,l)}function rE(e,a,s){const l=Er(a._zod.def,{get shape(){const o=a._zod.def.shape,d={...o};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=new e({type:"nonoptional",innerType:o[m]}))}else for(const m in o)d[m]=new e({type:"nonoptional",innerType:o[m]});return jr(this,"shape",d),d},checks:[]});return Hs(a,l)}function dl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function M0(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function dc(e){return typeof e=="string"?e:e?.message}function _r(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const o=dc(e.inst?._zod.def?.error?.(e))??dc(a?.error?.(e))??dc(s.customError?.(e))??dc(s.localeError?.(e))??"Invalid input";l.message=o}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function Fm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ki(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const k0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,im,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},$m=he("$ZodError",k0),Yc=he("$ZodError",k0,{Parent:Error});function lE(e,a=s=>s.message){const s={},l=[];for(const o of e.issues)o.path.length>0?(s[o.path[0]]=s[o.path[0]]||[],s[o.path[0]].push(a(o))):l.push(a(o));return{formErrors:l,fieldErrors:s}}function iE(e,a=s=>s.message){const s={_errors:[]},l=o=>{for(const d of o.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let m=s,h=0;for(;h<d.path.length;){const y=d.path[h];h===d.path.length-1?(m[y]=m[y]||{_errors:[]},m[y]._errors.push(a(d))):m[y]=m[y]||{_errors:[]},m=m[y],h++}}};return l(e),s}const Kc=e=>(a,s,l,o)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise)throw new ml;if(m.issues.length){const h=new(o?.Err??e)(m.issues.map(y=>_r(y,d,Sr())));throw D0(h,o?.callee),h}return m.value},oE=Kc(Yc),Pc=e=>async(a,s,l,o)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(o?.Err??e)(m.issues.map(y=>_r(y,d,Sr())));throw D0(h,o?.callee),h}return m.value},cE=Pc(Yc),Xc=e=>(a,s,l)=>{const o=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},o);if(d instanceof Promise)throw new ml;return d.issues.length?{success:!1,error:new(e??$m)(d.issues.map(m=>_r(m,o,Sr())))}:{success:!0,data:d.value}},uE=Xc(Yc),Jc=e=>async(a,s,l)=>{const o=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},o);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>_r(m,o,Sr())))}:{success:!0,data:d.value}},dE=Jc(Yc),fE=e=>(a,s,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Kc(e)(a,s,o)},mE=e=>(a,s,l)=>Kc(e)(a,s,l),hE=e=>async(a,s,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Pc(e)(a,s,o)},pE=e=>async(a,s,l)=>Pc(e)(a,s,l),gE=e=>(a,s,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Xc(e)(a,s,o)},yE=e=>(a,s,l)=>Xc(e)(a,s,l),vE=e=>async(a,s,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Jc(e)(a,s,o)},bE=e=>async(a,s,l)=>Jc(e)(a,s,l),xE=/^[cC][^\s-]{8,}$/,SE=/^[0-9a-z]+$/,_E=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,wE=/^[0-9a-vA-V]{20}$/,NE=/^[A-Za-z0-9]{27}$/,jE=/^[a-zA-Z0-9_-]{21}$/,EE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,AE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ov=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,OE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,CE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function RE(){return new RegExp(CE,"u")}const TE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,zE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ME=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,U0=/^[A-Za-z0-9_-]*$/,UE=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,qE=/^\+(?:[0-9]){6,14}[0-9]$/,q0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",BE=new RegExp(`^${q0}$`);function B0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function LE(e){return new RegExp(`^${B0(e)}$`)}function FE(e){const a=B0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${q0}T(?:${l})$`)}const $E=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},IE=/^-?\d+$/,HE=/^-?\d+(?:\.\d+)?/,VE=/^[^A-Z]*$/,ZE=/^[^a-z]*$/,Pn=he("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),L0={number:"number",bigint:"bigint",object:"date"},F0=he("$ZodCheckLessThan",(e,a)=>{Pn.init(e,a);const s=L0[typeof a.value];e._zod.onattach.push(l=>{const o=l._zod.bag,d=(a.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?o.maximum=a.value:o.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),$0=he("$ZodCheckGreaterThan",(e,a)=>{Pn.init(e,a);const s=L0[typeof a.value];e._zod.onattach.push(l=>{const o=l._zod.bag,d=(a.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?o.minimum=a.value:o.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),GE=he("$ZodCheckMultipleOf",(e,a)=>{Pn.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):Yj(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),QE=he("$ZodCheckNumberFormat",(e,a)=>{Pn.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[o,d]=Jj[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=o,h.maximum=d,s&&(h.pattern=IE)}),e._zod.check=m=>{const h=m.value;if(s){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<o&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),YE=he("$ZodCheckMaxLength",(e,a)=>{var s;Pn.init(e,a),(s=e._zod.def).when??(s.when=l=>{const o=l.value;return!Bm(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<o&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const o=l.value;if(o.length<=a.maximum)return;const m=Fm(o);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:o,inst:e,continue:!a.abort})}}),KE=he("$ZodCheckMinLength",(e,a)=>{var s;Pn.init(e,a),(s=e._zod.def).when??(s.when=l=>{const o=l.value;return!Bm(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>o&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const o=l.value;if(o.length>=a.minimum)return;const m=Fm(o);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:o,inst:e,continue:!a.abort})}}),PE=he("$ZodCheckLengthEquals",(e,a)=>{var s;Pn.init(e,a),(s=e._zod.def).when??(s.when=l=>{const o=l.value;return!Bm(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag;o.minimum=a.length,o.maximum=a.length,o.length=a.length}),e._zod.check=l=>{const o=l.value,d=o.length;if(d===a.length)return;const m=Fm(o),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),Wc=he("$ZodCheckStringFormat",(e,a)=>{var s,l;Pn.init(e,a),e._zod.onattach.push(o=>{const d=o._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=o=>{a.pattern.lastIndex=0,!a.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:a.format,input:o.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),XE=he("$ZodCheckRegex",(e,a)=>{Wc.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),JE=he("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=VE),Wc.init(e,a)}),WE=he("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=ZE),Wc.init(e,a)}),eA=he("$ZodCheckIncludes",(e,a)=>{Pn.init(e,a);const s=Qc(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=o=>{o.value.includes(a.includes,a.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:o.value,inst:e,continue:!a.abort})}}),tA=he("$ZodCheckStartsWith",(e,a)=>{Pn.init(e,a);const s=new RegExp(`^${Qc(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),nA=he("$ZodCheckEndsWith",(e,a)=>{Pn.init(e,a);const s=new RegExp(`.*${Qc(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),aA=he("$ZodCheckOverwrite",(e,a)=>{Pn.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class sA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),o=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(o)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,s=this?.args,o=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,o.join(`
`))}}const rA={major:4,minor:1,patch:12},cn=he("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=rA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const o of l)for(const d of o._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(m,h,y)=>{let p=dl(m),v;for(const S of h){if(S._zod.def.when){if(!S._zod.def.when(m))continue}else if(p)continue;const _=m.issues.length,U=S._zod.check(m);if(U instanceof Promise&&y?.async===!1)throw new ml;if(v||U instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await U,m.issues.length!==_&&(p||(p=dl(m,_)))});else{if(m.issues.length===_)continue;p||(p=dl(m,_))}}return v?v.then(()=>m):m},d=(m,h,y)=>{if(dl(m))return m.aborted=!0,m;const p=o(h,l,y);if(p instanceof Promise){if(y.async===!1)throw new ml;return p.then(v=>e._zod.parse(v,y))}return e._zod.parse(p,y)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const y=e._zod.parse(m,h);if(y instanceof Promise){if(h.async===!1)throw new ml;return y.then(p=>o(p,l,h))}return o(y,l,h)}}e["~standard"]={validate:o=>{try{const d=uE(e,o);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return dE(e,o).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Im=he("$ZodString",(e,a)=>{cn.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??$E(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Ht=he("$ZodStringFormat",(e,a)=>{Wc.init(e,a),Im.init(e,a)}),lA=he("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=AE),Ht.init(e,a)}),iA=he("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Ov(l))}else a.pattern??(a.pattern=Ov());Ht.init(e,a)}),oA=he("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=OE),Ht.init(e,a)}),cA=he("$ZodURL",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),o=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(o.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:UE.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=o.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),uA=he("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=RE()),Ht.init(e,a)}),dA=he("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=jE),Ht.init(e,a)}),fA=he("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=xE),Ht.init(e,a)}),mA=he("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=SE),Ht.init(e,a)}),hA=he("$ZodULID",(e,a)=>{a.pattern??(a.pattern=_E),Ht.init(e,a)}),pA=he("$ZodXID",(e,a)=>{a.pattern??(a.pattern=wE),Ht.init(e,a)}),gA=he("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=NE),Ht.init(e,a)}),yA=he("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=FE(a)),Ht.init(e,a)}),vA=he("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=BE),Ht.init(e,a)}),bA=he("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=LE(a)),Ht.init(e,a)}),xA=he("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=EE),Ht.init(e,a)}),SA=he("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=TE),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),_A=he("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=DE),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),wA=he("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=zE),Ht.init(e,a)}),NA=he("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=ME),Ht.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[o,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${o}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function I0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const jA=he("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=kE),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{I0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function EA(e){if(!U0.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return I0(s)}const AA=he("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=U0),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{EA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),OA=he("$ZodE164",(e,a)=>{a.pattern??(a.pattern=qE),Ht.init(e,a)});function CA(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const o=JSON.parse(atob(l));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||a&&(!("alg"in o)||o.alg!==a))}catch{return!1}}const RA=he("$ZodJWT",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{CA(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),H0=he("$ZodNumber",(e,a)=>{cn.init(e,a),e._zod.pattern=e._zod.bag.pattern??HE,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const o=s.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return s;const d=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...d?{received:d}:{}}),s}}),TA=he("$ZodNumber",(e,a)=>{QE.init(e,a),H0.init(e,a)}),DA=he("$ZodUnknown",(e,a)=>{cn.init(e,a),e._zod.parse=s=>s}),zA=he("$ZodNever",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function Cv(e,a,s){e.issues.length&&a.issues.push(...M0(s,e.issues)),a.value[s]=e.value}const MA=he("$ZodArray",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{const o=s.value;if(!Array.isArray(o))return s.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),s;s.value=Array(o.length);const d=[];for(let m=0;m<o.length;m++){const h=o[m],y=a.element._zod.run({value:h,issues:[]},l);y instanceof Promise?d.push(y.then(p=>Cv(p,s,m))):Cv(y,s,m)}return d.length?Promise.all(d).then(()=>s):s}});function Dc(e,a,s,l){e.issues.length&&a.issues.push(...M0(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function V0(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=Xj(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function Z0(e,a,s,l,o,d){const m=[],h=o.keySet,y=o.catchall._zod,p=y.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const S=y.run({value:a[v],issues:[]},l);S instanceof Promise?e.push(S.then(_=>Dc(_,s,v,a))):Dc(S,s,v,a)}return m.length&&s.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const kA=he("$ZodObject",(e,a)=>{if(cn.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const y={...h};return Object.defineProperty(a,"shape",{value:y}),y}})}const l=qm(()=>V0(a));Mt(e._zod,"propValues",()=>{const h=a.shape,y={};for(const p in h){const v=h[p]._zod;if(v.values){y[p]??(y[p]=new Set);for(const S of v.values)y[p].add(S)}}return y});const o=Tc,d=a.catchall;let m;e._zod.parse=(h,y)=>{m??(m=l.value);const p=h.value;if(!o(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],S=m.shape;for(const _ of m.keys){const E=S[_]._zod.run({value:p[_],issues:[]},y);E instanceof Promise?v.push(E.then(R=>Dc(R,h,_,p))):Dc(E,h,_,p)}return d?Z0(v,p,h,y,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),UA=he("$ZodObjectJIT",(e,a)=>{kA.init(e,a);const s=e._zod.parse,l=qm(()=>V0(a)),o=_=>{const U=new sA(["shape","payload","ctx"]),E=l.value,R=P=>{const N=Av(P);return`shape[${N}]._zod.run({ value: input[${N}], issues: [] }, ctx)`};U.write("const input = payload.value;");const w=Object.create(null);let H=0;for(const P of E.keys)w[P]=`key_${H++}`;U.write("const newResult = {};");for(const P of E.keys){const N=w[P],T=Av(P);U.write(`const ${N} = ${R(P)};`),U.write(`
        if (${N}.issues.length) {
          payload.issues = payload.issues.concat(${N}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        
        if (${N}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${N}.value;
        }
        
      `)}U.write("payload.value = newResult;"),U.write("return payload;");const D=U.compile();return(P,N)=>D(_,P,N)};let d;const m=Tc,h=!T0.jitless,p=h&&Kj.value,v=a.catchall;let S;e._zod.parse=(_,U)=>{S??(S=l.value);const E=_.value;return m(E)?h&&p&&U?.async===!1&&U.jitless!==!0?(d||(d=o(a.shape)),_=d(_,U),v?Z0([],E,_,U,S,e):_):s(_,U):(_.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),_)}});function Rv(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const o=e.filter(d=>!dl(d));return o.length===1?(a.value=o[0].value,o[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(m=>_r(m,l,Sr())))}),a)}const qA=he("$ZodUnion",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Mt(e._zod,"optout",()=>a.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Mt(e._zod,"values",()=>{if(a.options.every(o=>o._zod.values))return new Set(a.options.flatMap(o=>Array.from(o._zod.values)))}),Mt(e._zod,"pattern",()=>{if(a.options.every(o=>o._zod.pattern)){const o=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${o.map(d=>Lm(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(o,d)=>{if(s)return l(o,d);let m=!1;const h=[];for(const y of a.options){const p=y._zod.run({value:o.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(y=>Rv(y,o,e,d)):Rv(h,o,e,d)}}),BA=he("$ZodIntersection",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{const o=s.value,d=a.left._zod.run({value:o,issues:[]},l),m=a.right._zod.run({value:o,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([y,p])=>Tv(s,y,p)):Tv(s,d,m)}});function om(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(Mi(e)&&Mi(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),o={...e,...a};for(const d of l){const m=om(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};o[d]=m.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const o=e[l],d=a[l],m=om(o,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};s.push(m.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Tv(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),dl(e))return e;const l=om(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const LA=he("$ZodEnum",(e,a)=>{cn.init(e,a);const s=Qj(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(o=>Pj.has(typeof o)).map(o=>typeof o=="string"?Qc(o):o.toString()).join("|")})$`),e._zod.parse=(o,d)=>{const m=o.value;return l.has(m)||o.issues.push({code:"invalid_value",values:s,input:m,inst:e}),o}}),FA=he("$ZodTransform",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new R0(e.constructor.name);const o=a.transform(s.value,s);if(l.async)return(o instanceof Promise?o:Promise.resolve(o)).then(m=>(s.value=m,s));if(o instanceof Promise)throw new ml;return s.value=o,s}});function Dv(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const $A=he("$ZodOptional",(e,a)=>{cn.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Lm(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(d=>Dv(d,s.value)):Dv(o,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),IA=he("$ZodNullable",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Lm(s.source)}|null)$`):void 0}),Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),HA=he("$ZodDefault",(e,a)=>{cn.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(d=>zv(d,a)):zv(o,a)}});function zv(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const VA=he("$ZodPrefault",(e,a)=>{cn.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),ZA=he("$ZodNonOptional",(e,a)=>{cn.init(e,a),Mt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(d=>Mv(d,e)):Mv(o,e)}});function Mv(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const GA=he("$ZodCatch",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(m=>_r(m,l,Sr()))},input:s.value}),s.issues=[]),s)):(s.value=o.value,o.issues.length&&(s.value=a.catchValue({...s,error:{issues:o.issues.map(d=>_r(d,l,Sr()))},input:s.value}),s.issues=[]),s)}}),QA=he("$ZodPipe",(e,a)=>{cn.init(e,a),Mt(e._zod,"values",()=>a.in._zod.values),Mt(e._zod,"optin",()=>a.in._zod.optin),Mt(e._zod,"optout",()=>a.out._zod.optout),Mt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(m=>fc(m,a.in,l)):fc(d,a.in,l)}const o=a.in._zod.run(s,l);return o instanceof Promise?o.then(d=>fc(d,a.out,l)):fc(o,a.out,l)}});function fc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const YA=he("$ZodReadonly",(e,a)=>{cn.init(e,a),Mt(e._zod,"propValues",()=>a.innerType._zod.propValues),Mt(e._zod,"values",()=>a.innerType._zod.values),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const o=a.innerType._zod.run(s,l);return o instanceof Promise?o.then(kv):kv(o)}});function kv(e){return e.value=Object.freeze(e.value),e}const KA=he("$ZodCustom",(e,a)=>{Pn.init(e,a),cn.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,o=a.fn(l);if(o instanceof Promise)return o.then(d=>Uv(d,s,l,e));Uv(o,s,l,e)}});function Uv(e,a,s,l){if(!e){const o={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(o.params=l._zod.def.params),a.issues.push(ki(o))}}class PA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const o={...l,...this._map.get(a)};return Object.keys(o).length?o:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function XA(){return new PA}const mc=XA();function JA(e,a){return new e({type:"string",...Ze(a)})}function WA(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ze(a)})}function qv(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ze(a)})}function eO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ze(a)})}function tO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ze(a)})}function nO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ze(a)})}function aO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ze(a)})}function sO(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ze(a)})}function rO(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ze(a)})}function lO(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ze(a)})}function iO(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ze(a)})}function oO(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ze(a)})}function cO(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ze(a)})}function uO(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ze(a)})}function dO(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ze(a)})}function fO(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ze(a)})}function mO(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ze(a)})}function hO(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ze(a)})}function pO(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ze(a)})}function gO(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ze(a)})}function yO(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ze(a)})}function vO(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ze(a)})}function bO(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ze(a)})}function xO(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ze(a)})}function SO(e,a){return new e({type:"string",format:"date",check:"string_format",...Ze(a)})}function _O(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ze(a)})}function wO(e,a){return new e({type:"string",format:"duration",check:"string_format",...Ze(a)})}function NO(e,a){return new e({type:"number",checks:[],...Ze(a)})}function jO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ze(a)})}function EO(e){return new e({type:"unknown"})}function AO(e,a){return new e({type:"never",...Ze(a)})}function Bv(e,a){return new F0({check:"less_than",...Ze(a),value:e,inclusive:!1})}function Ef(e,a){return new F0({check:"less_than",...Ze(a),value:e,inclusive:!0})}function Lv(e,a){return new $0({check:"greater_than",...Ze(a),value:e,inclusive:!1})}function Af(e,a){return new $0({check:"greater_than",...Ze(a),value:e,inclusive:!0})}function Fv(e,a){return new GE({check:"multiple_of",...Ze(a),value:e})}function G0(e,a){return new YE({check:"max_length",...Ze(a),maximum:e})}function zc(e,a){return new KE({check:"min_length",...Ze(a),minimum:e})}function Q0(e,a){return new PE({check:"length_equals",...Ze(a),length:e})}function OO(e,a){return new XE({check:"string_format",format:"regex",...Ze(a),pattern:e})}function CO(e){return new JE({check:"string_format",format:"lowercase",...Ze(e)})}function RO(e){return new WE({check:"string_format",format:"uppercase",...Ze(e)})}function TO(e,a){return new eA({check:"string_format",format:"includes",...Ze(a),includes:e})}function DO(e,a){return new tA({check:"string_format",format:"starts_with",...Ze(a),prefix:e})}function zO(e,a){return new nA({check:"string_format",format:"ends_with",...Ze(a),suffix:e})}function Gi(e){return new aA({check:"overwrite",tx:e})}function MO(e){return Gi(a=>a.normalize(e))}function kO(){return Gi(e=>e.trim())}function UO(){return Gi(e=>e.toLowerCase())}function qO(){return Gi(e=>e.toUpperCase())}function BO(e,a,s){return new e({type:"array",element:a,...Ze(s)})}function LO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...Ze(s)})}function FO(e){const a=$O(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push(ki(l,s.value,a._zod.def));else{const o=l;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=s.value),o.inst??(o.inst=a),o.continue??(o.continue=!a._zod.def.abort),s.issues.push(ki(o))}},e(s.value,s)));return a}function $O(e,a){const s=new Pn({check:"custom",...Ze(a)});return s._zod.check=e,s}function $v(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function IO(e,a){for(var s={};e.length;){var l=e[0],o=l.code,d=l.message,m=l.path.join(".");if(!s[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:o};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(S){return e.push(S)})}),a){var y=s[m].types,p=y&&y[l.code];s[m]=Om(m,a,s,o,p?[].concat(p,l.message):l.message)}e.shift()}return s}function HO(e,a){for(var s={};e.length;){var l=e[0],o=l.code,d=l.message,m=l.path.join(".");if(!s[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:o};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(S){return e.push(S)})}),a){var y=s[m].types,p=y&&y[l.code];s[m]=Om(m,a,s,o,p?[].concat(p,l.message):l.message)}e.shift()}return s}function VO(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,o,d){try{return Promise.resolve($v(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&lm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:Nv(IO(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,o,d){try{return Promise.resolve($v(function(){return Promise.resolve((s.mode==="sync"?oE:cE)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&lm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof $m})(m))return{values:{},errors:Nv(HO(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const ZO=he("ZodISODateTime",(e,a)=>{yA.init(e,a),Gt.init(e,a)});function GO(e){return xO(ZO,e)}const QO=he("ZodISODate",(e,a)=>{vA.init(e,a),Gt.init(e,a)});function YO(e){return SO(QO,e)}const KO=he("ZodISOTime",(e,a)=>{bA.init(e,a),Gt.init(e,a)});function PO(e){return _O(KO,e)}const XO=he("ZodISODuration",(e,a)=>{xA.init(e,a),Gt.init(e,a)});function JO(e){return wO(XO,e)}const WO=(e,a)=>{$m.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>iE(e,s)},flatten:{value:s=>lE(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,im,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,im,2)}},isEmpty:{get(){return e.issues.length===0}}})},Na=he("ZodError",WO,{Parent:Error}),eC=Kc(Na),tC=Pc(Na),nC=Xc(Na),aC=Jc(Na),sC=fE(Na),rC=mE(Na),lC=hE(Na),iC=pE(Na),oC=gE(Na),cC=yE(Na),uC=vE(Na),dC=bE(Na),fn=he("ZodType",(e,a)=>(cn.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Er(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Hs(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>eC(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>nC(e,s,l),e.parseAsync=async(s,l)=>tC(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>aC(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>sC(e,s,l),e.decode=(s,l)=>rC(e,s,l),e.encodeAsync=async(s,l)=>lC(e,s,l),e.decodeAsync=async(s,l)=>iC(e,s,l),e.safeEncode=(s,l)=>oC(e,s,l),e.safeDecode=(s,l)=>cC(e,s,l),e.safeEncodeAsync=async(s,l)=>uC(e,s,l),e.safeDecodeAsync=async(s,l)=>dC(e,s,l),e.refine=(s,l)=>e.check(eR(s,l)),e.superRefine=s=>e.check(tR(s)),e.overwrite=s=>e.check(Gi(s)),e.optional=()=>Zv(e),e.nullable=()=>Gv(e),e.nullish=()=>Zv(Gv(e)),e.nonoptional=s=>QC(e,s),e.array=()=>P0(e),e.or=s=>qC([e,s]),e.and=s=>LC(e,s),e.transform=s=>Qv(e,$C(s)),e.default=s=>VC(e,s),e.prefault=s=>GC(e,s),e.catch=s=>KC(e,s),e.pipe=s=>Qv(e,s),e.readonly=()=>JC(e),e.describe=s=>{const l=e.clone();return mc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return mc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return mc.get(e);const l=e.clone();return mc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Y0=he("_ZodString",(e,a)=>{Im.init(e,a),fn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(OO(...l)),e.includes=(...l)=>e.check(TO(...l)),e.startsWith=(...l)=>e.check(DO(...l)),e.endsWith=(...l)=>e.check(zO(...l)),e.min=(...l)=>e.check(zc(...l)),e.max=(...l)=>e.check(G0(...l)),e.length=(...l)=>e.check(Q0(...l)),e.nonempty=(...l)=>e.check(zc(1,...l)),e.lowercase=l=>e.check(CO(l)),e.uppercase=l=>e.check(RO(l)),e.trim=()=>e.check(kO()),e.normalize=(...l)=>e.check(MO(...l)),e.toLowerCase=()=>e.check(UO()),e.toUpperCase=()=>e.check(qO())}),fC=he("ZodString",(e,a)=>{Im.init(e,a),Y0.init(e,a),e.email=s=>e.check(WA(mC,s)),e.url=s=>e.check(sO(hC,s)),e.jwt=s=>e.check(bO(CC,s)),e.emoji=s=>e.check(rO(pC,s)),e.guid=s=>e.check(qv(Iv,s)),e.uuid=s=>e.check(eO(hc,s)),e.uuidv4=s=>e.check(tO(hc,s)),e.uuidv6=s=>e.check(nO(hc,s)),e.uuidv7=s=>e.check(aO(hc,s)),e.nanoid=s=>e.check(lO(gC,s)),e.guid=s=>e.check(qv(Iv,s)),e.cuid=s=>e.check(iO(yC,s)),e.cuid2=s=>e.check(oO(vC,s)),e.ulid=s=>e.check(cO(bC,s)),e.base64=s=>e.check(gO(EC,s)),e.base64url=s=>e.check(yO(AC,s)),e.xid=s=>e.check(uO(xC,s)),e.ksuid=s=>e.check(dO(SC,s)),e.ipv4=s=>e.check(fO(_C,s)),e.ipv6=s=>e.check(mO(wC,s)),e.cidrv4=s=>e.check(hO(NC,s)),e.cidrv6=s=>e.check(pO(jC,s)),e.e164=s=>e.check(vO(OC,s)),e.datetime=s=>e.check(GO(s)),e.date=s=>e.check(YO(s)),e.time=s=>e.check(PO(s)),e.duration=s=>e.check(JO(s))});function Mc(e){return JA(fC,e)}const Gt=he("ZodStringFormat",(e,a)=>{Ht.init(e,a),Y0.init(e,a)}),mC=he("ZodEmail",(e,a)=>{oA.init(e,a),Gt.init(e,a)}),Iv=he("ZodGUID",(e,a)=>{lA.init(e,a),Gt.init(e,a)}),hc=he("ZodUUID",(e,a)=>{iA.init(e,a),Gt.init(e,a)}),hC=he("ZodURL",(e,a)=>{cA.init(e,a),Gt.init(e,a)}),pC=he("ZodEmoji",(e,a)=>{uA.init(e,a),Gt.init(e,a)}),gC=he("ZodNanoID",(e,a)=>{dA.init(e,a),Gt.init(e,a)}),yC=he("ZodCUID",(e,a)=>{fA.init(e,a),Gt.init(e,a)}),vC=he("ZodCUID2",(e,a)=>{mA.init(e,a),Gt.init(e,a)}),bC=he("ZodULID",(e,a)=>{hA.init(e,a),Gt.init(e,a)}),xC=he("ZodXID",(e,a)=>{pA.init(e,a),Gt.init(e,a)}),SC=he("ZodKSUID",(e,a)=>{gA.init(e,a),Gt.init(e,a)}),_C=he("ZodIPv4",(e,a)=>{SA.init(e,a),Gt.init(e,a)}),wC=he("ZodIPv6",(e,a)=>{_A.init(e,a),Gt.init(e,a)}),NC=he("ZodCIDRv4",(e,a)=>{wA.init(e,a),Gt.init(e,a)}),jC=he("ZodCIDRv6",(e,a)=>{NA.init(e,a),Gt.init(e,a)}),EC=he("ZodBase64",(e,a)=>{jA.init(e,a),Gt.init(e,a)}),AC=he("ZodBase64URL",(e,a)=>{AA.init(e,a),Gt.init(e,a)}),OC=he("ZodE164",(e,a)=>{OA.init(e,a),Gt.init(e,a)}),CC=he("ZodJWT",(e,a)=>{RA.init(e,a),Gt.init(e,a)}),K0=he("ZodNumber",(e,a)=>{H0.init(e,a),fn.init(e,a),e.gt=(l,o)=>e.check(Lv(l,o)),e.gte=(l,o)=>e.check(Af(l,o)),e.min=(l,o)=>e.check(Af(l,o)),e.lt=(l,o)=>e.check(Bv(l,o)),e.lte=(l,o)=>e.check(Ef(l,o)),e.max=(l,o)=>e.check(Ef(l,o)),e.int=l=>e.check(Hv(l)),e.safe=l=>e.check(Hv(l)),e.positive=l=>e.check(Lv(0,l)),e.nonnegative=l=>e.check(Af(0,l)),e.negative=l=>e.check(Bv(0,l)),e.nonpositive=l=>e.check(Ef(0,l)),e.multipleOf=(l,o)=>e.check(Fv(l,o)),e.step=(l,o)=>e.check(Fv(l,o)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function zn(e){return NO(K0,e)}const RC=he("ZodNumberFormat",(e,a)=>{TA.init(e,a),K0.init(e,a)});function Hv(e){return jO(RC,e)}const TC=he("ZodUnknown",(e,a)=>{DA.init(e,a),fn.init(e,a)});function Vv(){return EO(TC)}const DC=he("ZodNever",(e,a)=>{zA.init(e,a),fn.init(e,a)});function zC(e){return AO(DC,e)}const MC=he("ZodArray",(e,a)=>{MA.init(e,a),fn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(zc(s,l)),e.nonempty=s=>e.check(zc(1,s)),e.max=(s,l)=>e.check(G0(s,l)),e.length=(s,l)=>e.check(Q0(s,l)),e.unwrap=()=>e.element});function P0(e,a){return BO(MC,e,a)}const kC=he("ZodObject",(e,a)=>{UA.init(e,a),fn.init(e,a),Mt(e,"shape",()=>a.shape),e.keyof=()=>X0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Vv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Vv()}),e.strict=()=>e.clone({...e._zod.def,catchall:zC()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>tE(e,s),e.safeExtend=s=>nE(e,s),e.merge=s=>aE(e,s),e.pick=s=>Wj(e,s),e.omit=s=>eE(e,s),e.partial=(...s)=>sE(J0,e,s[0]),e.required=(...s)=>rE(W0,e,s[0])});function eu(e,a){const s={type:"object",shape:e??{},...Ze(a)};return new kC(s)}const UC=he("ZodUnion",(e,a)=>{qA.init(e,a),fn.init(e,a),e.options=a.options});function qC(e,a){return new UC({type:"union",options:e,...Ze(a)})}const BC=he("ZodIntersection",(e,a)=>{BA.init(e,a),fn.init(e,a)});function LC(e,a){return new BC({type:"intersection",left:e,right:a})}const cm=he("ZodEnum",(e,a)=>{LA.init(e,a),fn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,o)=>{const d={};for(const m of l)if(s.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new cm({...a,checks:[],...Ze(o),entries:d})},e.exclude=(l,o)=>{const d={...a.entries};for(const m of l)if(s.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new cm({...a,checks:[],...Ze(o),entries:d})}});function X0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new cm({type:"enum",entries:s,...Ze(a)})}const FC=he("ZodTransform",(e,a)=>{FA.init(e,a),fn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new R0(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(ki(d,s.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=s.value),m.inst??(m.inst=e),s.issues.push(ki(m))}};const o=a.transform(s.value,s);return o instanceof Promise?o.then(d=>(s.value=d,s)):(s.value=o,s)}});function $C(e){return new FC({type:"transform",transform:e})}const J0=he("ZodOptional",(e,a)=>{$A.init(e,a),fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function Zv(e){return new J0({type:"optional",innerType:e})}const IC=he("ZodNullable",(e,a)=>{IA.init(e,a),fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function Gv(e){return new IC({type:"nullable",innerType:e})}const HC=he("ZodDefault",(e,a)=>{HA.init(e,a),fn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function VC(e,a){return new HC({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():z0(a)}})}const ZC=he("ZodPrefault",(e,a)=>{VA.init(e,a),fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function GC(e,a){return new ZC({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():z0(a)}})}const W0=he("ZodNonOptional",(e,a)=>{ZA.init(e,a),fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function QC(e,a){return new W0({type:"nonoptional",innerType:e,...Ze(a)})}const YC=he("ZodCatch",(e,a)=>{GA.init(e,a),fn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function KC(e,a){return new YC({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const PC=he("ZodPipe",(e,a)=>{QA.init(e,a),fn.init(e,a),e.in=a.in,e.out=a.out});function Qv(e,a){return new PC({type:"pipe",in:e,out:a})}const XC=he("ZodReadonly",(e,a)=>{YA.init(e,a),fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function JC(e){return new XC({type:"readonly",innerType:e})}const WC=he("ZodCustom",(e,a)=>{KA.init(e,a),fn.init(e,a)});function eR(e,a={}){return LO(WC,e,a)}function tR(e){return FO(e)}const nR=["correlativo","no correlativo"],aR=eu({oi:Mc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:zn(),alcance:zn(),pma:zn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:X0(nR).default("correlativo")}),Of=eu({c1:zn().optional().nullable(),c2:zn().optional().nullable(),c3:zn().optional().nullable(),c4:zn().optional().nullable(),c5:zn().optional().nullable(),c6:zn().optional().nullable(),c7:Mc().optional().nullable(),c7_seconds:zn().optional().nullable(),caudal:zn().optional().nullable(),error:zn().optional().nullable()}),sR=eu({medidor:Mc().optional(),estado:zn().int().min(0).max(5).default(0),q3:Of.optional(),q2:Of.optional(),q1:Of.optional(),conformidad:Mc().optional()});eu({estado:zn().int().min(0).optional(),rows:zn().int().min(1).default(15),rowsData:P0(sR)});function rR(e){return e===16?25.6:e===10?16:NaN}const lR=/^[A-Za-z0-9]{10}$/,iR=e=>(e??"").trim().toUpperCase(),Pt=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},il=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],um=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},Yv=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}um(a)}},pn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function oR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],o=s[2],d=parseInt(o,10)+a;return`${l}${d.toString().padStart(o.length,"0")}`}function Kv(e,a,s){return e?s==="no correlativo"?e.slice(0,4):oR(e,a):""}function Cf(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(o=>parseFloat(o)).filter(o=>!isNaN(o));let l=0;if(s.length>=3){const o=s[0]||0,d=s[1]||0,m=s[2]||0;l=o*60+d+m/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const o=parseFloat(a.replace(",","."));if(!isNaN(o)){const d=Math.floor(o),m=(o-d)*100;l=d*60+m}}return l}function Rf(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function Tf(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function cR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const o=Math.abs(a),d=Math.abs(s),m=Math.abs(l),h=!(o>2.05||d>2.05||m>5.05),y=o<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(s),S=Math.sign(l),_=p>=0&&v>=0&&S>=0||p<=0&&v<=0&&S<=0,U=h&&y;return _?U?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const ol=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const o=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return c.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?c.jsx("span",{className:"text-muted",children:"-"}):c.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=s??l??0,h=l??s??0;let y="vi-e-ok";return e==null||isNaN(e)?y="":h>0&&d>h?y="vi-e-error":m>0&&d>m&&(y="vi-e-warn"),c.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?c.jsx("span",{className:"text-muted",children:"-"}):c.jsx("span",{className:`vi-qe-value fw-bold ${y}`,children:o(e)})})};function uR({show:e,title:a,initial:s,onClose:l,onSubmit:o,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:y,readOnly:p,draftStorageKey:v,isOnline:S,showRetry:_}){const U={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},E=p===!0,R=S!==!1,{register:w,control:H,handleSubmit:D,reset:P,setValue:N,getValues:T}=Lc({defaultValues:U}),J=w("rows",{valueAsNumber:!0}),{fields:z,replace:ee,append:ce,remove:Ne}=YN({control:H,name:"rowsData"}),[Oe,de]=b.useState(0),Se=b.useRef(0),pe=b.useRef(null),[Te,q]=b.useState(0),ne=0,se=5,we=()=>{if(Te>=se){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}q($=>Math.min($+1,se))},Re=()=>{if(Te<=ne){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}q($=>Math.max($-1,ne))},A=b.useRef(null),[Y,re]=b.useState([]),_e=!!s?.version,Ae=b.useRef("rows"),De=b.useRef(null),Me=b.useRef(null),Xe=b.useRef(null),me=b.useRef(new Map),$e=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{s?.rowsData?.length&&z.forEach(($,Z)=>{if(Z===0)return;s.rowsData[Z]?.medidor&&me.current.set($.id,!0)})},[s,z]);const Be=b.useCallback($=>{const Z=$<0?0:$;de(Z),requestAnimationFrame(()=>{const be=document.querySelector(`input.vi-medidor-input[data-row="${Z}"]`);be&&(be.focus(),be.select())})},[]),je=()=>(T("rowsData")??[]).slice(0,z.length);b.useEffect(()=>{Se.current=Oe},[Oe]);const Ye=$=>{const Z=$.target;if(!Z)return;const be=Z.tagName;if(be!=="INPUT"&&be!=="SELECT"&&be!=="TEXTAREA")return;const ke=$.key;if(ke==="Escape"){$.preventDefault(),Wn();return}if(ke==="ArrowUp"||ke==="ArrowDown"||ke==="ArrowLeft"||ke==="ArrowRight"||ke==="Enter"){const mn=Z.name;if(!mn||!mn.startsWith("rowsData."))return;const Rt=mn.match(/^rowsData\.(\d+)\.(.+)$/);if(!Rt)return;const Tt=parseInt(Rt[1],10),Qt=Rt[2],Xt=$.currentTarget,Zt=z.length-1,ht=(gt,Dt)=>{let Jt=gt+Dt;for(;Jt>=0&&Jt<=Zt;){const oa=`[name="rowsData.${Jt}.${Qt}"]`,An=Xt.querySelector(oa);if(An&&!An.disabled)return{index:Jt,el:An};Jt+=Dt}return null};if(ke==="ArrowUp"||ke==="ArrowDown"){$.preventDefault();const Dt=ht(Tt,ke==="ArrowUp"?-1:1);Dt&&Yv(Qt,Dt.el);return}if(ke==="ArrowLeft"||ke==="ArrowRight"){$.preventDefault();const gt=il.indexOf(Qt);if(gt===-1)return;const Jt=gt+(ke==="ArrowRight"?1:-1);if(Jt<0||Jt>=il.length)return;const oa=il[Jt],An=`[name="rowsData.${Tt}.${oa}"]`,Un=Xt.querySelector(An);Un&&!Un.disabled&&um(Un);return}if(ke==="Enter"){$.preventDefault();const gt=il.indexOf(Qt);if(gt===-1)return;const Dt=ht(Tt,1);if(Dt){Yv(Qt,Dt.el);return}const Jt=gt+1;if(Jt<il.length){const oa=il[Jt];for(let An=0;An<=Zt;An++){const Un=`[name="rowsData.${An}.${oa}"]`,qn=Xt.querySelector(Un);if(qn&&!qn.disabled){um(qn);return}}}A.current&&A.current.focus();return}}if(ke!=="Tab")return;const ft=$.currentTarget,ut=Array.from(ft.querySelectorAll("input, select, textarea")).filter(kt=>!kt.hasAttribute("disabled")),qe=ut.indexOf(Z);if(qe===-1)return;if(ke==="Tab"&&$.shiftKey){qe>0&&($.preventDefault(),ut[qe-1].focus());return}const Ct=qe+1;if(Ct<ut.length){$.preventDefault(),ut[Ct].focus();return}A.current&&($.preventDefault(),A.current.focus())},Ie=($,Z)=>{ee($),N("rows",$.length),de(be=>$.length===0?0:typeof Z=="number"?Math.max(0,Math.min(Z,$.length-1)):Math.min(be,$.length-1))},Pe=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Ee=$=>$==null?"":typeof $=="number"?$:typeof $=="string"?$.replace(",","."):$,K=$=>{if(!$)return{};const Z={...$};return["c1","c2","c3","c4","c5","c6"].forEach(be=>{Z[be]=Ee(Z[be])}),Z},ye=()=>{const $=s?.rowsData?.length??s?.rows??15,Z=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:$}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(be=>({medidor:be.medidor??"",estado:be.estado??0,q3:K(be.q3),q2:K(be.q2),q1:K(be.q1)}));return{rows:Z.length,rowsData:Z,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},ge=b.useCallback(()=>{const $=T(),Z=$.rowsData??[];return{estado:$.estado??0,rows:Number($.rows??Z.length),version:$.version??s?.version??null,rowsData:Z,draftCreatedAt:$.draftCreatedAt??s?.draftCreatedAt??null,draftId:$.draftId??s?.draftId??null}},[T,s?.version,s?.draftCreatedAt,s?.draftId]),j=$=>$==null||$===""||typeof $=="number"&&Number.isNaN($),k=$=>$?Number($.estado??0)!==0||$.medidor&&$.medidor.toString().trim()!==""?!0:F($):!1,F=$=>{const Z=[$.q3,$.q2,$.q1];for(const be of Z)if(be){for(const ke of $e)if(!j(be[ke]))return!0}return!1},ve=$=>$?{...$,c4:null,c5:null}:{c4:null,c5:null},W=$=>{if(!$)return $;const Z={...$};return j(Z.c4)&&(Z.c4=null),j(Z.c5)&&(Z.c5=null),Z},ie=$=>{for(let Z=0;Z<$.length;Z++){const be=$[Z],ke=Number(be.estado??0),ft=ke!==0;if(!k(be))continue;if(!be.medidor||be.medidor.toString().trim()==="")return`La fila ${Z+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const qe=[{name:"Q3 (Nominal)",block:be.q3},{name:"Q2 (Transicin)",block:be.q2},{name:"Q1 (Mnimo)",block:be.q1}],Lt=qe.some(({block:Ct})=>Ct&&$e.some(kt=>!j(Ct[kt])));if(ke===0&&!Lt)return`La fila ${Z+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!ft)for(const{name:Ct,block:kt}of qe){if(!kt||!$e.some(Tt=>!j(kt[Tt])))continue;if($e.some(Tt=>j(kt[Tt])))return`La fila ${Z+1} tiene datos incompletos en el bloque ${Ct}. Completa todos los campos o elimina la fila.`}}return null},Ce=$=>$==null||$===""?null:String($).replace(/\./g,","),We=$=>{if(!$)return{};const Z={...$};return["c1","c2","c3","c4","c5","c6","c7"].forEach(be=>{Z[be]=Ce(Z[be])}),Z},te=$=>{const Z=[];let be=null;const ke=(ut,qe,Lt)=>{Z[ut]||(Z[ut]={}),Z[ut][qe]=Lt,be||(be=`Fila ${ut+1}: ${Lt}`)},ft={};return $.forEach(ut=>{const qe=(ut.medidor??"").trim();qe&&(ft[qe]=(ft[qe]??0)+1)}),$.forEach((ut,qe)=>{const Lt=ut.q3||{},Ct=ut.q2||{},kt=ut.q1||{},mn=Lt.c4,Rt=Lt.c5,Tt=Ct.c4,Qt=Ct.c5,Xt=kt.c4,Zt=kt.c5;mn!=null&&Rt!=null&&!Number.isNaN(mn)&&!Number.isNaN(Rt)&&Rt<mn&&ke(qe,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),Tt!=null&&Qt!=null&&!Number.isNaN(Tt)&&!Number.isNaN(Qt)&&Qt<Tt&&ke(qe,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),Xt!=null&&Zt!=null&&!Number.isNaN(Xt)&&!Number.isNaN(Zt)&&Zt<Xt&&ke(qe,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),Rt!=null&&Tt!=null&&!Number.isNaN(Rt)&&!Number.isNaN(Tt)&&Tt<Rt&&ke(qe,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),Qt!=null&&Xt!=null&&!Number.isNaN(Qt)&&!Number.isNaN(Xt)&&Xt<Qt&&ke(qe,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const ht=(ut.medidor??"").trim();ht&&ft[ht]>1&&ke(qe,"medidor_dup","Serie de medidor repetida."),ht&&!lR.test(ht)&&ke(qe,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:Z,firstMessage:be}},Ge=$=>{if(E)return;const Z=($.rowsData??[]).slice(0,z.length),be=ie(Z);if(be){alert(be);return}const{rowErrors:ke,firstMessage:ft}=te(Z);if(re(ke),ft){alert(ft);return}const qe=Z.filter(k).map(Ct=>{const kt=Number(Ct.estado??0),mn=kt>=1&&kt<=4,Rt=kt===5&&!F(Ct),Tt=mn||Rt,Qt=W(Ct.q3),Xt=W(Ct.q2),Zt=W(Ct.q1),ht=gt=>{if(Tt){const Dt=ve(gt);return We(Dt)}return We(gt)};return{...Ct,q3:ht(Qt),q2:ht(Xt),q1:ht(Zt)}}),Lt={...$,rows:qe.length,rowsData:qe,version:$.version??s?.version??null};o(Lt)},Le=Ni({control:H,name:"rowsData.0"}),fe=Ni({control:H,name:"rowsData"}),Xn=Ni({control:H,name:"rowsData.0.q3.c7"}),gn=Ni({control:H,name:"rowsData.0.q2.c7"}),xt=Ni({control:H,name:"rowsData.0.q1.c7"});b.useEffect(()=>{z[0]&&(N("rowsData.0.q3.c7_seconds",Cf(Xn)),N("rowsData.0.q2.c7_seconds",Cf(gn)),N("rowsData.0.q1.c7_seconds",Cf(xt)))},[Xn,gn,xt,N,z]),b.useEffect(()=>{const $=fe??[],{rowErrors:Z}=te($);re(Z)},[fe]),b.useEffect(()=>{if(!Le||z.length<=1)return;const $=fe??[];z.forEach((Z,be)=>{if(be===0)return;const ke=Z.id;(me.current.get(ke)??!1)||N(`rowsData.${be}.medidor`,Kv(Le.medidor||"",be,m));const ut=$[be]?.estado;(ut==null||Number.isNaN(ut))&&N(`rowsData.${be}.estado`,Le.estado),N(`rowsData.${be}.q3.c1`,Le.q3?.c1??null),N(`rowsData.${be}.q3.c2`,Le.q3?.c2??null),N(`rowsData.${be}.q3.c3`,Le.q3?.c3??null),N(`rowsData.${be}.q3.c6`,Le.q3?.c6??null),N(`rowsData.${be}.q3.c7`,Le.q3?.c7??""),N(`rowsData.${be}.q3.c7_seconds`,Le.q3?.c7_seconds??null),N(`rowsData.${be}.q2.c1`,Le.q2?.c1??null),N(`rowsData.${be}.q2.c2`,Le.q2?.c2??null),N(`rowsData.${be}.q2.c3`,Le.q2?.c3??null),N(`rowsData.${be}.q2.c6`,Le.q2?.c6??null),N(`rowsData.${be}.q2.c7`,Le.q2?.c7??""),N(`rowsData.${be}.q2.c7_seconds`,Le.q2?.c7_seconds??null),N(`rowsData.${be}.q1.c1`,Le.q1?.c1??null),N(`rowsData.${be}.q1.c2`,Le.q1?.c2??null),N(`rowsData.${be}.q1.c3`,Le.q1?.c3??null),N(`rowsData.${be}.q1.c6`,Le.q1?.c6??null),N(`rowsData.${be}.q1.c7`,Le.q1?.c7??""),N(`rowsData.${be}.q1.c7_seconds`,Le.q1?.c7_seconds??null)})},[Le,fe,z,N,m]),b.useEffect(()=>{de($=>{const Z=Math.max(z.length-1,0);return $>Z?Z:$})},[z.length]);const Vt=()=>{if(z.length>=50){if(N("rows",50),Be(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){pe.current&&(pe.current.focus(),pe.current.select());return}return}ce(Pe()),N("rows",z.length+1),Be(z.length)},Ot=$=>{if(z.length<=1)return;const Z=Math.max(0,Math.min($,z.length-1));Ne(Z),N("rows",Math.max(z.length-1,1)),Be(Math.max(0,Z-(Z===z.length-1?1:0)))},Ua=()=>{z.length<=1||(Ne(z.length-1),N("rows",Math.max(z.length-1,1)),Be(Math.max(0,z.length-2)))},Jn=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const $=je();if(!$.length)return;const Z=$.map(()=>Pe());Ie(Z,0),Be(0)},mt=()=>{let $=Number(T("rows"));if((!Number.isFinite($)||$<1)&&($=1),$>50){const ke=je();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){N("rows",ke.length),pe.current&&(pe.current.focus(),pe.current.select());return}$=50}const Z=je();if($!==Z.length&&!confirm(`La lista tendr ${$} filas. Quieres continuar?`)){N("rows",Z.length),pe.current&&(pe.current.focus(),pe.current.select());return}if($===Z.length){N("rows",$);return}if($>Z.length){const ke=Math.min($,50)-Z.length;if(ke>0){const ft=Array.from({length:ke},()=>Pe()),ut=[...Z,...ft];Ie(ut,Oe),Be(Z.length)}else N("rows",Z.length);return}const be=Z.slice(0,$);Ie(be,Math.min(Oe,$-1))},ja=$=>{$.key==="Enter"&&($.preventDefault(),mt(),Be(0))},Wn=()=>{const $=T(),Z=document.activeElement;if(pe.current&&Z===pe.current)Ae.current="rows",De.current="rows";else if(Z&&Z instanceof HTMLElement){const be=Z.getAttribute("name");be&&be.startsWith("rowsData.")?(Ae.current="grid",De.current=be):(Ae.current="grid",De.current=null)}else Ae.current="grid",De.current=null;if(v)try{const be=ge(),ke=JSON.stringify({version:1,ts:new Date().toISOString(),data:be});sessionStorage.setItem(v,ke),Xe.current=ke}catch{}d&&d($),l()};b.useEffect(()=>{if(!e)return;const $=Z=>{if(Z.key==="Escape"){Z.preventDefault(),Wn();return}if((Z.key==="+"||Z.key==="=")&&Z.ctrlKey){Z.preventDefault(),Vt();return}(Z.key==="-"||Z.key==="_")&&Z.ctrlKey&&(Z.preventDefault(),Ua())};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[e,Vt,Ua,Wn]),b.useEffect(()=>{const $=ye();P($),Ie($.rowsData,0),me.current.clear(),requestAnimationFrame(()=>{if(_e)Be(0);else if(De.current){const Z=document.querySelector(`[name="${De.current}"]`);if(Z){Z.focus(),"select"in Z&&Z.select?.();return}Be(Se.current||0)}else pe.current&&(pe.current.focus(),pe.current.select())})},[s,P,ee,Be,_e]),b.useEffect(()=>{if(!e||!v)return;const $=ge(),Z=JSON.stringify({version:1,ts:new Date().toISOString(),data:$});if(Z!==Xe.current)return Me.current&&window.clearTimeout(Me.current),Me.current=window.setTimeout(()=>{try{sessionStorage.setItem(v,Z),Xe.current=Z}catch{}},400),()=>{Me.current&&window.clearTimeout(Me.current)}},[e,v,fe,ge]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(_e)Be(0);else if(De.current){const $=document.querySelector(`[name="${De.current}"]`);if($){$.focus(),"select"in $&&$.select?.();return}Be(Se.current||0)}else pe.current&&(pe.current.focus(),pe.current.select())})},[e,Be,_e]);const Ea=Y.some($=>$&&Object.values($).some(Boolean));return e?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:$=>{$.target===$.currentTarget&&Wn()},children:[c.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),c.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:c.jsx("div",{className:"modal-content",children:c.jsxs("form",{onSubmit:D(Ge),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",children:a}),c.jsx("button",{type:"button",className:"btn-close",onClick:Wn,"aria-label":"Close"})]}),c.jsx("fieldset",{disabled:E,children:c.jsxs("div",{className:"modal-body p-2",children:[!R&&c.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),c.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[c.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[c.jsx("label",{className:"form-label mb-1",children:"Filas"}),c.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...J,ref:$=>{pe.current=$,J.ref($)},onBlur:mt,onKeyDown:ja})]}),c.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Vt,children:"+ Agregar Fila"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:Ua,children:"- Quitar ltima fila"}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Jn,children:"Limpiar Todo"})]}),c.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:we,children:"Aumentar tamao"}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Re,children:"Reducir tamao"})]}),c.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",Oe+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),c.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:c.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${Te}`,children:[c.jsxs("thead",{className:"table-light sticky-top z-1",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),c.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),c.jsx("th",{style:{width:"90px"},children:"Estado"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),c.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),c.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),c.jsxs("tr",{style:{fontSize:"0.75rem"},children:[c.jsx("th",{className:"vi-row-index"}),c.jsx("th",{className:"vi-sticky-medidor"}),c.jsx("th",{}),c.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),c.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),c.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),c.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),c.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),c.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),c.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),c.jsx("th",{className:"vi-header-quitar"})]})]}),c.jsx("tbody",{onKeyDown:Ye,children:z.map(($,Z)=>{const be=Z===0,ke=fe?.[Z]||{},ft=Y[Z]||{},ut=Number(ke.estado??0),qe=ut>=1&&ut<=4,Lt=ke.q3?.c6,Ct=ke.q3?.c7_seconds,kt=ke.q3?.c4,mn=ke.q3?.c5,Rt=Rf(Lt,Ct),Tt=Tf(kt,mn,Lt),Qt=ke.q2?.c6,Xt=ke.q2?.c7_seconds,Zt=ke.q2?.c4,ht=ke.q2?.c5,gt=Rf(Qt,Xt),Dt=Tf(Zt,ht,Qt),Jt=ke.q1?.c6,oa=ke.q1?.c7_seconds,An=ke.q1?.c4,Un=ke.q1?.c5,qn=Rf(Jt,oa),Bn=Tf(An,Un,Jt),On=cR(ke.estado,Tt,Dt,Bn),qa=[be?"vi-base-row":"",Oe===Z?"table-active":""].filter(Boolean).join(" "),Cn=w(`rowsData.${Z}.medidor`),_n=iR(ke.medidor??""),zt=_n?h?.[_n]?.message:"",Ba=ft.medidor_format||ft.medidor_dup||zt||"",Ar=!!Ba,Rn=(On||"").toUpperCase(),ca=Rn==="NO CONFORME"?"vi-at-valor--fail":Rn==="CONFORME"?"vi-at-valor--ok":"";return c.jsxs("tr",{className:qa,onMouseEnter:()=>de(Z),onClick:()=>de(Z),onFocusCapture:()=>de(Z),children:[c.jsx("td",{className:"small vi-row-index",children:Z+1}),c.jsx("td",{className:"vi-sticky-medidor",children:c.jsx("input",{"data-row":Z,"data-row-id":$.id,...Cn,size:1,style:{minWidth:"100%"},disabled:qe,onInput:Pt,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Ar?"vi-error-cell":""].filter(Boolean).join(" "),title:Ba||"",onChange:yn=>{const Ga=T(`rowsData.${Z}.medidor`);if(Cn.onChange(yn),y?.(Ga),Z===0)return;const Vs=yn.currentTarget.value.trim();if(!Vs){me.current.delete($.id);return}const Qa=Kv(Le?.medidor??"",Z,m);Qa&&Qa===Vs?me.current.delete($.id):me.current.set($.id,!0)}})}),c.jsx("td",{children:c.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...w(`rowsData.${Z}.estado`,{valueAsNumber:!0}),children:[c.jsx("option",{value:0,children:"0"}),c.jsx("option",{value:1,children:"1"}),c.jsx("option",{value:2,children:"2"}),c.jsx("option",{value:3,children:"3"}),c.jsx("option",{value:4,children:"4"}),c.jsx("option",{value:5,children:"5"})]})}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q3.c1`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q3.c2`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q3.c3`,{setValueAs:pn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:qe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(ft.q3_li?" vi-error-cell":""),title:ft.q3_li||"",...w(`rowsData.${Z}.q3.c4`,{setValueAs:pn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:qe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(ft.q3_lf?" vi-error-cell":""),title:ft.q3_lf||"",...w(`rowsData.${Z}.q3.c5`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q3.c6`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q3.c7`),placeholder:"m,ss,ms"})}),c.jsx(ol,{val:Rt}),c.jsx(ol,{val:Tt,isErr:!0,warnThreshold:2,failThreshold:5}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q2.c1`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q2.c2`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q2.c3`,{setValueAs:pn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:qe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(ft.q2_li?" vi-error-cell":""),title:ft.q2_li||"",...w(`rowsData.${Z}.q2.c4`,{setValueAs:pn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:qe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(ft.q2_lf?" vi-error-cell":""),title:ft.q2_lf||"",...w(`rowsData.${Z}.q2.c5`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q2.c6`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q2.c7`),placeholder:"m,ss,ms"})}),c.jsx(ol,{val:gt}),c.jsx(ol,{val:Dt,isErr:!0,warnThreshold:2,failThreshold:5}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q1.c1`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q1.c2`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q1.c3`,{setValueAs:pn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:qe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(ft.q1_li?" vi-error-cell":""),title:ft.q1_li||"",...w(`rowsData.${Z}.q1.c4`,{setValueAs:pn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:qe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(ft.q1_lf?" vi-error-cell":""),title:ft.q1_lf||"",...w(`rowsData.${Z}.q1.c5`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q1.c6`,{setValueAs:pn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!be||qe,...w(`rowsData.${Z}.q1.c7`),placeholder:"m,ss,ms"})}),c.jsx(ol,{val:qn}),c.jsx(ol,{val:Bn,isErr:!0,warnThreshold:5,failThreshold:5}),c.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${ca}`,children:On}),c.jsx("td",{className:"text-center align-middle bg-light",children:c.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:yn=>{yn.stopPropagation(),Ot(Z)},disabled:z.length<=1,title:"Eliminar esta fila",children:""})})]},$.id)})})]})})]})}),c.jsxs("div",{className:"modal-footer py-1",children:[c.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Wn,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:A,disabled:Ea||E,children:_&&R?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),c.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function Qi({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:o,onConfirm:d}){const[m,h]=b.useState(""),y=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>y.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const S=_=>{_.key==="Escape"&&o()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[e,o]),!e)return null;const v=S=>{S.preventDefault(),p&&d(m.trim())};return c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:S=>{S.target===S.currentTarget&&o()},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:v,children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:o})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"mb-3",children:[c.jsx(zi,{label:"Contrasea",inputId:"pwd",value:m,onChange:S=>h(S.target.value),inputRef:y,minLength:1,required:!0}),c.jsx("div",{className:"form-text",children:l})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:o,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function dR(e,a){try{const{data:s}=await Ke.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",o=new Error(l);throw o.status=s?.response?.status,o}}async function fR(e,a){try{const{data:s}=await Ke.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",o=new Error(l);throw o.status=s?.response?.status,o}}async function mR(e){try{const{data:a}=await Ke.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function Pv(e,a){try{const{data:s}=await Ke.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let o=s?.message??"No se puedo agregar la bancada";typeof l=="string"?o=l:l&&typeof l=="object"&&(o=l.message??l.detail??o);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(o);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function hR(e,a){try{const{data:s}=await Ke.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let o=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?o=l:l&&typeof l=="object"&&(o=l.message??l.detail??o);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(o);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function pR(e,a){try{const{data:s}=await Ke.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",o=new Error(l);throw o.status=s?.response?.status,o}}async function gR(e,a){try{const{data:s}=await Ke.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",o=new Error(l);throw o.status=s?.response?.status,o}}async function Xv(e){try{await Ke.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function ex(e,a){let s;try{s=await Ke.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const S=p?.response?.data;if(S instanceof Blob)try{const _=await S.text();try{const E=JSON.parse(_)?.detail;typeof E=="string"?v=E:Array.isArray(E)&&E.length>0?v=E.map(R=>String(R?.msg??"")).filter(Boolean).join(", "):_&&(v=_)}catch{_&&(v=_)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=s.data,m=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),y=document.createElement("a");y.href=h,y.download=m,document.body.appendChild(y),y.click(),URL.revokeObjectURL(h),y.remove()}async function yR(e){await Ke.delete(`/oi/${e}`)}async function vR(e){try{const{data:a}=await Ke.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function pc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Ke.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",o=new Error(l);throw o.status=s?.response?.status,o}}async function bR(e,a){try{const{data:s}=await Ke.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",o=new Error(l);throw o.status=s?.response?.status,o}}async function Df(e){try{const{data:a}=await Ke.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function xR(e){try{const{data:a}=await Ke.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function SR(e){let a;try{a=await Ke.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const y=m?.response?.data;if(y instanceof Blob)try{const v=await y.text();try{const _=JSON.parse(v)?.detail;typeof _=="string"?h=_:Array.isArray(_)&&_.length>0?h=_.map(U=>String(U?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function _R(){try{const{data:e}=await Ke.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function zf(e){try{const{data:a}=await Ke.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const Hm="vi.currentOI";function Ci(e){sessionStorage.setItem(Hm,JSON.stringify(e))}function Jv(){const e=sessionStorage.getItem(Hm);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function dm(){sessionStorage.removeItem(Hm)}const Mf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},kf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},wR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Mf(e.q3),q2:Mf(e.q2),q1:Mf(e.q1)}),NR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:kf(e.q3),q2:kf(e.q2),q1:kf(e.q1)}),tx=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),jR=e=>e.reduce((a,s)=>a+(s.rows??0),0),ER=e=>JSON.parse(JSON.stringify(e)),Wv=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),eb=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:tx(e),AR=(e,a)=>e==="view"&&a?"view":"edit",tb=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const o=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${o(l.getMonth()+1)}-${o(l.getDate())}T${o(l.getHours())}:${o(l.getMinutes())}`},OR=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},nx=e=>(e??"").trim().toUpperCase(),CR=e=>{const a={};e.forEach(l=>{const o=nx(l.medidor);o&&(a[o]||(a[o]={items:[],ids:[]}),l.bancada_item!=null&&!a[o].items.includes(l.bancada_item)&&a[o].items.push(l.bancada_item),l.bancada_id!=null&&!a[o].ids.includes(l.bancada_id)&&a[o].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,o])=>{let d="Este medidor existe en otra bancada de esta misma OI.";o.items.length>0&&(d=`Este medidor existe en la bancada #${[...o.items].sort((h,y)=>h-y).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:o.items[0],bancadaId:o.ids[0]}}),s},RR="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",TR=(e,a=!0)=>{const l=b.useContext(_a)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const o=l.block(d=>{const m={...d,retry(){o(),d.retry()}};e(m)});return o},[l,e,a])},DR=e=>{const a=Ke.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},zR=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Uf=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function nb(){const{toast:e}=Nr(),a=wl(),s=kn(),{oiId:l}=W_(),[o,d]=wb(),m=zR(),{data:h}=br({queryKey:["catalogs"],queryFn:km}),{register:y,handleSubmit:p,watch:v,formState:{errors:S},reset:_,getValues:U}=Lc({resolver:VO(aR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),E=b.useMemo(()=>En(),[]),R=E?.userId??null,w=Za(E?.role,E?.username)!=="technician",H=Jv(),D=l?Number(l):null,P=Number.isFinite(D)?D:null,N=P!=null||(H?.id??null)!=null,T=(o.get("mode")||"").toLowerCase(),J=AR(T,N),z=J==="view",ee=J==="edit",[ce,Ne]=b.useState(!1),[Oe,de]=b.useState(!1),[Se,pe]=b.useState(null),[Te,q]=b.useState(null),[ne,se]=b.useState(!1),we=Oe||z,[Re,A]=b.useState(!1),[Y,re]=b.useState(null),[_e,Ae]=b.useState(null),[De,Me]=b.useState(null),[Xe,me]=b.useState(!1),[$e,Be]=b.useState(""),[je,Ye]=b.useState(null),[Ie,Pe]=b.useState("bancada"),[Ee,K]=b.useState(!1),[ye,ge]=b.useState(!1),[j,k]=b.useState(null),F=b.useRef([]),ve=b.useRef(null),W=b.useRef(!1),ie=b.useRef(!1),Ce=b.useRef(!1),We=b.useRef(null),te=b.useRef(!1),Ge=b.useRef(m),Le=b.useRef(!1),[fe,Xn]=b.useState(null),[gn,xt]=b.useState(null),[Vt,Ot]=b.useState([]),[Ua,Jn]=b.useState(!1),[mt,ja]=b.useState(null),[Wn,Ea]=b.useState(!1),[$,Z]=b.useState(null),[be,ke]=b.useState(0),[ft,ut]=b.useState({}),[qe,Lt]=b.useState({}),Ct=s.state?.returnTo,kt=()=>typeof Ct=="string"&&Ct?Ct:"/oi/list",mn=O=>{const L=new URLSearchParams(o);L.set("mode",O),d(L,{replace:!0})},Rt="new",Tt=15,Qt=1440*60*1e3,Xt=O=>O?`bancada-${O.id}`:Rt,Zt=O=>{if(!O)return!1;const L=Date.parse(O);return Number.isNaN(L)?!1:Date.now()-L>Qt},ht=O=>O==null?!1:typeof O=="string"?O.trim()!=="":typeof O=="number"?Number.isFinite(O):!0,gt=O=>O?Object.values(O).some(ht):!1,Dt=O=>!O||!Array.isArray(O.rowsData)?!1:O.rowsData.some(L=>{if(!L)return!1;if(Number(L.estado??0)!==0)return!0;const xe=L.medidor;return typeof xe=="string"&&xe.trim()!==""?!0:gt(L.q3)||gt(L.q2)||gt(L.q1)}),Jt=(O=Tt)=>Array.from({length:O}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),oa=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,An=O=>({draftId:oa(),draftCreatedAt:new Date().toISOString(),estado:0,rows:Tt,rowsData:Jt(),version:null}),Un=O=>O?`oi:${O}:new_bancada_draft`:null,qn=O=>{const L=Un(O);if(!L)return null;try{const oe=sessionStorage.getItem(L);if(!oe)return null;const xe=JSON.parse(oe);if(xe&&typeof xe=="object"&&"data"in xe){const st=xe;return Zt(st.ts)?(sessionStorage.removeItem(L),null):!st.data||!Array.isArray(st.data.rowsData)?null:Dt(st.data)?st.data:(sessionStorage.removeItem(L),null)}if(!xe||typeof xe!="object")return null;const Ve=xe;return Array.isArray(Ve.rowsData)?Dt(Ve)?(Bn(O,Ve),Ve):(sessionStorage.removeItem(L),null):null}catch{return null}},Bn=(O,L)=>{const oe=Un(O);if(oe)try{if(!L){sessionStorage.removeItem(oe);return}sessionStorage.setItem(oe,JSON.stringify({version:1,ts:new Date().toISOString(),data:L}))}catch{}},On=O=>O?`oi:${O}:draft:header`:"oi:new:draft:header",qa=O=>{try{const L=sessionStorage.getItem(O);if(!L)return null;const oe=JSON.parse(L);if(oe&&typeof oe=="object"&&"data"in oe){const Ve=oe;return Zt(Ve.ts)?(sessionStorage.removeItem(O),null):Ve.data??null}if(!oe||typeof oe!="object")return null;const xe=oe;return Cn(O,xe),xe}catch{return null}},Cn=(O,L)=>{try{sessionStorage.setItem(O,JSON.stringify({version:1,ts:new Date().toISOString(),data:L}))}catch{}},_n=O=>{try{sessionStorage.removeItem(O)}catch{}},zt=O=>{const L={};return O.q3!=null&&(L.q3=Number(O.q3)),O.alcance!=null&&(L.alcance=Number(O.alcance)),O.pma!=null&&(L.pma=Number(O.pma)),O.numeration_type&&(L.numeration_type=O.numeration_type),L},Ba=(O,L)=>O&&L?`oi:${O}:bancada:${L}:draft`:null,Ar=(O,L)=>{const oe=Ba(O,L);if(!oe)return null;try{const xe=sessionStorage.getItem(oe);if(!xe)return null;const Ve=JSON.parse(xe);if(Ve&&typeof Ve=="object"&&"data"in Ve){const pt=Ve;return Zt(pt.ts)?(sessionStorage.removeItem(oe),null):!pt.data||!Array.isArray(pt.data.rowsData)?null:Dt(pt.data)?pt.data:(sessionStorage.removeItem(oe),null)}if(!Ve||typeof Ve!="object")return null;const st=Ve;return Array.isArray(st.rowsData)?Dt(st)?(Rn(O,L,st),st):(sessionStorage.removeItem(oe),null):null}catch{return null}},Rn=(O,L,oe)=>{const xe=Ba(O,L);if(xe)try{sessionStorage.setItem(xe,JSON.stringify({version:1,ts:new Date().toISOString(),data:oe}))}catch{}},ca=(O,L)=>{const oe=Ba(O,L);if(oe)try{sessionStorage.removeItem(oe)}catch{}},yn=On(fe);b.useEffect(()=>{h&&_(O=>({...O,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,_]),b.useEffect(()=>{const O=Jv(),L=P??O?.id??null;if(!L){Xn(null),Ot([]),F.current=[],ve.current=null,Z(null),ke(0),xt(null),Ae(null),Me(null),A(!1),de(!1),pe(null),q(null),se(!1),re(null);return}(async()=>{try{const oe=await Df(L);Xn(oe.id),Ci({id:oe.id,code:oe.code}),Ot(oe.bancadas??[]),F.current=ER(oe.bancadas??[]),ve.current=oe.updated_at??null,Z(oe.medidores_usuario??null),ke(oe.medidores_total_code??0),Ae(oe.saved_at??null),Me(oe.created_at??null),xt(oe.updated_at??oe.created_at);const xe={oi:oe.code,q3:oe.q3,alcance:oe.alcance,pma:oe.pma,numeration_type:oe.numeration_type??"correlativo"};_(xe),A(!1),de(oe.read_only_for_current_user??!1),pe(oe.locked_by_full_name??null),q(oe.locked_by_user_id??null),se((oe.locked_by_user_id??null)===R),re(xe)}catch{dm()}})()},[_,R,P]),b.useEffect(()=>{if(!fe||qe[Rt])return;const O=qn(fe);O&&(Lt(L=>({...L,[Rt]:O})),e({kind:"info",message:"Se restauro un borrador local."}))},[fe,qe,e]),b.useEffect(()=>{if(!fe||!R||!ee)return;let O=!1;return(async()=>{const L=oe=>{de(oe?.read_only_for_current_user??!1),pe(oe?.locked_by_full_name??null),q(oe?.locked_by_user_id??null),se((oe?.locked_by_user_id??null)===R)};try{const oe=await vR(fe);if(O)return;L(oe)}catch(oe){if(O)return;const xe=oe?.status??oe?.response?.status;let Ve=null;try{const pt=await Df(fe);if(O)return;Ve=pt.locked_by_full_name??null,L({read_only_for_current_user:!0,locked_by_full_name:Ve,locked_by_user_id:pt.locked_by_user_id??null})}catch{de(!0),se(!1)}const st=Ve?`La OI est? siendo editada por ${Ve}. Se abre en modo lectura.`:oe?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:xe===423||xe===409?"warning":"error",title:xe===423||xe===409?"OI bloqueada":"Error",message:st}),de(!0),se(!1),T!=="view"&&mn("view")}})(),()=>{O=!0}},[fe,R,ee]),b.useEffect(()=>()=>{fe&&ne&&pc(fe).catch(()=>{})},[fe,ne]),b.useEffect(()=>{fe&&(!ne||we||!ee||Cj(fe))},[ne,fe,we,ee]),b.useEffect(()=>{ie.current=!1,Ce.current=!1,ge(!1),te.current=!1},[fe]),b.useEffect(()=>{if(!Ge.current&&m){if(!!!En()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Ge.current=m;return}(Ce.current||ye)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Ge.current=m},[m,ye,e]),b.useEffect(()=>{const O=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",O),()=>window.removeEventListener("medileser:auth-expired",O)},[e]),b.useEffect(()=>{const O=zj();if(!O){k(null),Le.current=!1;return}const L=`${s.pathname}${s.search}`,oe=O.route===L,xe=O.oiId==null||O.oiId===fe;if(!oe&&!xe){k(null),Le.current=!1;return}k(O),O.type==="save_bancada"&&ge(!0),O.type==="save_oi"&&(Ce.current=!0),Le.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),Le.current=!0)},[s.pathname,s.search,fe,e]);const Ga=ee&&!we&&(Re||!fe);b.useEffect(()=>{if(!Ga||te.current)return;const O=qa(yn);if(!O)return;const L=U();_({...L,...O,numeration_type:O.numeration_type??L.numeration_type??"correlativo"}),te.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Ga,yn,U,_,e]),b.useEffect(()=>{if(!Ga)return;const O=v(L=>{We.current&&window.clearTimeout(We.current),We.current=window.setTimeout(()=>{Cn(yn,zt(L))},400)});return()=>{O.unsubscribe(),We.current&&window.clearTimeout(We.current)}},[v,Ga,yn]);const Vs=b.useMemo(()=>Object.keys(qe).length>0,[qe]),Qa=ee&&!we&&(ne||Re||Vs);b.useEffect(()=>{if(!Qa)return;const O=L=>{if(!W.current)return L.preventDefault(),L.returnValue="",""};return window.addEventListener("beforeunload",O),()=>window.removeEventListener("beforeunload",O)},[Qa]),TR(O=>{if(!Qa){O.retry();return}if(W.current){O.retry();return}if(O.location.pathname===s.pathname){O.retry();return}window.confirm(RR)&&O.retry()},Qa),b.useEffect(()=>{if(!fe||!ne||we||!ee)return;const O=()=>{if(W.current||ie.current)return;ie.current=!0;const oe=En()?.token,xe=DR(`/oi/${fe}/close`);fetch(xe,{method:"POST",headers:oe?{Authorization:`Bearer ${oe}`}:void 0,keepalive:!0}).catch(()=>{})},L=()=>{O()};return window.addEventListener("pagehide",L),()=>window.removeEventListener("pagehide",L)},[fe,ne,we,ee]);const Zs=v("pma"),Gs=b.useMemo(()=>rR(Number(Zs)),[Zs]),Aa=v("numeration_type")??"correlativo",Tn=async O=>{try{Ne(!0);const L=En();if(!L)throw new Error("Sesin no vlida");const oe=L.bancoId;if(oe==null)throw new Error("Debe seleccionar un banco para crear una OI.");const xe={code:O.oi,q3:Number(O.q3),alcance:Number(O.alcance),pma:Number(O.pma),banco_id:oe,tech_number:L.techNumber,numeration_type:O.numeration_type??"correlativo"},Ve=await mR(xe);return Xn(Ve.id),xt(Ve.updated_at??Ve.created_at),Z(Ve.medidores_usuario??0),ke(Ve.medidores_total_code??0),Ae(Ve.saved_at??null),Me(Ve.created_at??null),Ci({id:Ve.id,code:Ve.code}),re(O),Ce.current=!1,_n(On(null)),_n(On(Ve.id)),Ai(),k(null),e({kind:"success",title:"OI creada",message:`${Ve.code} (#${Ve.id})`}),!0}catch(L){return Uf(L)?(Ce.current=!0,Cn(yn,zt(O)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):Sc(L)?(Ce.current=!0,Cn(yn,zt(O)),!1):(e({kind:"error",title:"Error",message:L?.message??"Error creando OI"}),!1)}finally{Ne(!1)}},Cl=async O=>{if(!fe)return!1;if(we)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(Ne(!0),!fe)throw new Error("No hay OI seleccionada para actualizar.");if(!gn)throw new Error("No se pudo determinar la versin actual de la OI. Recargue la pgina e intntelo de nuevo.");const L=O.oi?.trim(),oe={q3:Number(O.q3),alcance:Number(O.alcance),pma:Number(O.pma),numeration_type:O.numeration_type??"correlativo",updated_at:gn};w&&L&&L!==(Y?.oi??"")&&(oe.code=L);const xe=await dR(fe,oe);return re(O),xt(xe.updated_at??xe.created_at),Ae(xe.saved_at??null),Me(xe.created_at??null),xe.code&&Ci({id:xe.id,code:xe.code}),q(xe.locked_by_user_id??null),pe(xe.locked_by_full_name??null),de(xe.read_only_for_current_user??!1),se((xe.locked_by_user_id??null)===R),A(!1),Ce.current=!1,_n(yn),Ai(),k(null),e({kind:"success",title:"OI actualizada",message:O.oi}),!0}catch(L){if(Uf(L))return Ce.current=!0,Cn(yn,zt(O)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(Sc(L))return Ce.current=!0,Cn(yn,zt(O)),!1;const oe=L?.status??L?.response?.status;return e(oe===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:L?.message??"Error actualizando OI"}),!1}finally{Ne(!1)}},Rl=!!fe&&Re&&!we,Ya=()=>ut({}),Yi=O=>{const L=nx(O);L&&ut(oe=>{if(!oe[L])return oe;const xe={...oe};return delete xe[L],xe})},Or=()=>{if(we){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!fe)return;Ya(),ge(!1);const O=qn(fe),L=O??An();Lt(oe=>({...oe,[Rt]:L})),Bn(fe,L),O&&e({kind:"info",message:"Se restauro un borrador local."}),ja(null),Jn(!0)},au=O=>{if(we&&!z){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}Ya(),ge(!1);const L=Ar(fe,O.id);if(L){const oe=Xt(O);Lt(xe=>({...xe,[oe]:L})),e({kind:"info",message:"Se restauro un borrador local."})}ja(O),Jn(!0)},Ln=b.useMemo(()=>{const O=Xt(mt),L=qe[O];if(L){const Ve=L.version??mt?.updated_at??mt?.created_at??null;return{...L,version:Ve}}if(!mt)return;const xe=tx(mt).map(wR);return{estado:mt.estado,rows:xe.length||mt.rows,rowsData:xe,version:mt.updated_at??mt.created_at??null}},[mt,qe]),Tl=async O=>{if(fe){if(we){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}Ya(),ge(!1);try{Ne(!0);const L=O.draftCreatedAt??qe[Rt]?.draftCreatedAt,oe={estado:Number(O.estado??0),rows:Number(O.rowsData.length),rows_data:O.rowsData.map(NR)};if(mt){const xe=O.version??mt.updated_at??mt.created_at??null;if(!xe)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const Ve={...oe,updated_at:xe},st=await hR(mt.id,Ve);Ot(pt=>pt.map(ua=>ua.id===st.id?st:ua)),xt(st.updated_at??st.created_at??gn),Z(null),ca(fe,mt.id),Lt(pt=>{const ua=`bancada-${mt.id}`,{[ua]:Ys,...Ka}=pt;return Ka}),e({kind:"success",message:"Bancada actualizada"})}else{L&&(oe.draft_created_at=L);const xe=await Pv(fe,oe);Ot(Ve=>[...Ve,xe]),xt(xe.updated_at??xe.created_at??gn),Z(null),Lt(Ve=>{const{new:st,...pt}=Ve;return pt}),Bn(fe,null),e({kind:"success",message:"Bancada agregada"})}try{const xe=await zf(fe);Z(xe.medidores_usuario??null),ke(xe.medidores_total_code??be),Ae(xe.saved_at??null),Me(xe.created_at??null)}catch{}q(E?.userId??Te),pe(E?.fullName??Se),se(R!==null),de(!1),Jn(!1),ja(null),Ai(),k(null),ge(!1)}catch(L){if(Uf(L)){mt?Rn(fe,mt.id,O):Bn(fe,O),ge(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(Sc(L)){mt?Rn(fe,mt.id,O):Bn(fe,O),ge(!0);return}const oe=L?.status??L?.response?.status;if(oe===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(oe===400){const xe=Array.isArray(L?.duplicates)?L.duplicates:Array.isArray(L?.response?.data?.duplicates)?L.response.data.duplicates:[];xe.length>0&&ut(CR(xe)),e({kind:"warning",title:"Validacion",message:L?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:L?.message??"Error guardando bancada"})}finally{Ne(!1)}}},Ki=async O=>{if(confirm(`Eliminar bancada #${O.item}?`)){if(we){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(Ne(!0),!fe)throw new Error("No hay OI cargada.");await Xv(O.id),Ot(oe=>oe.filter(xe=>xe.id!==O.id)),Z(null),Lt(oe=>{const xe=`bancada-${O.id}`,{[xe]:Ve,...st}=oe;return st}),ca(fe,O.id);const L=await zf(fe);xt(L.updated_at??L.created_at??null),Ae(L.saved_at??null),Me(L.created_at??null),q(L.locked_by_user_id??null),pe(L.locked_by_full_name??null),de(L.read_only_for_current_user??!1),se((L.locked_by_user_id??null)===R),Z(L.medidores_usuario??null),ke(L.medidores_total_code??be),e({kind:"success",message:`Bancada #${O.item} eliminada`})}catch(L){e({kind:"error",title:"Error",message:L?.message??"Error eliminando bancada"})}finally{Ne(!1)}}},Dl=()=>{if(!fe){e({kind:"warning",message:"Primero guarda el OI."});return}Ea(!0)},hs=async O=>{if(fe)try{Ne(!0),await ex(fe,O),e({kind:"success",message:"Excel generado"})}catch(L){e({kind:"error",title:"Error",message:L?.message??"Error generando Excel"})}finally{Ne(!1)}},Pi=()=>{if(!fe||!w)return;const O=_e??De;Pe("oi"),Ye(null),Be(tb(O)),me(!0)},Xi=O=>{if(!w)return;Pe("bancada"),Ye(O);const L=O.saved_at??O.created_at??_e??De;Be(tb(L)),me(!0)},ps=async()=>{if(!fe||!w)return;const O=OR($e);if(!O){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Ie==="bancada"&&!je))try{Ne(!0),Ie==="oi"?await bR(fe,{saved_at:O,propagate_to_bancadas:!0}):je&&await pR(je.id,{saved_at:O});const L=await Df(fe);if(Ot(L.bancadas??[]),Z(L.medidores_usuario??null),ke(L.medidores_total_code??0),Ae(L.saved_at??null),Me(L.created_at??null),xt(L.updated_at??L.created_at),pe(L.locked_by_full_name??null),q(L.locked_by_user_id??null),de(L.read_only_for_current_user??!1),se((L.locked_by_user_id??null)===R),!Re){const oe={oi:L.code,q3:L.q3,alcance:L.alcance,pma:L.pma,numeration_type:L.numeration_type??"correlativo"};_(oe),re(oe)}me(!1),Ye(null),Be(""),Pe("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(L){e({kind:"error",title:"Error",message:L?.message??"Error actualizando fecha"})}finally{Ne(!1)}},su=O=>{Ya(),ge(!1);const L=Xt(mt);let oe={...O};if(!mt){const xe=qe[Rt];oe.draftCreatedAt||(oe.draftCreatedAt=xe?.draftCreatedAt??new Date().toISOString()),oe.draftId||(oe.draftId=xe?.draftId??oa())}Lt(xe=>({...xe,[L]:oe})),mt?Rn(fe,mt.id,oe):Bn(fe,oe),Jn(!1)},Ji=()=>{if(we){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const O=U();re({...O,numeration_type:O.numeration_type??"correlativo"}),A(!0)},Wi=()=>{!fe||ee||mn("edit")},zl=()=>{Y&&_(Y),A(!1),Ce.current=!1,_n(yn),Ai(),k(null)},Cr=()=>{fe&&(Bn(fe,null),Object.keys(qe).forEach(O=>{if(!O.startsWith("bancada-"))return;const L=Number(O.replace("bancada-",""));Number.isFinite(L)&&ca(fe,L)})),_n(On(fe)),_n(On(null)),Ce.current=!1,ge(!1),Ai(),k(null),dm(),x0(),Xn(null),Ot([]),F.current=[],Lt({}),A(!1),re(null),xt(null),Ae(null),Me(null),de(!1),pe(null),q(null),se(!1),Z(null),ke(0),Jn(!1),ja(null),Ea(!1),me(!1),K(!1),Be(""),Ye(null),Pe("bancada"),_({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},ru=()=>{ie.current=!0,W.current=!0,Cr(),a(kt())},Rr=async()=>{if(!fe)return!0;const O=F.current??[];if(O.length===0&&Vt.length===0)return!0;const L=new Map(O.map(xe=>[xe.id,xe])),oe=new Map(Vt.map(xe=>[xe.id,xe]));try{for(const st of Vt)L.has(st.id)||await Xv(st.id);for(const st of Vt){const pt=L.get(st.id);if(!pt||Wv(pt)===Wv(st))continue;const ua=eb(pt),Ys=ua.length||pt.rows||1,Ka=st.updated_at??st.created_at??pt.updated_at??pt.created_at;if(!Ka)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await gR(st.id,{medidor:pt.medidor??null,estado:pt.estado??0,rows:Ys,rows_data:ua,current_updated_at:Ka,restore_updated_at:pt.updated_at??null,restore_saved_at:pt.saved_at??null})}for(const st of O)if(!oe.has(st.id)){const pt=eb(st),ua=pt.length||st.rows||1;await Pv(fe,{estado:st.estado??0,rows:ua,rows_data:pt})}const xe=await zf(fe),Ve=xe.updated_at??xe.created_at;await fR(fe,{current_updated_at:Ve,restore_updated_at:ve.current})}catch(xe){return e({kind:"error",title:"Error",message:xe?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},Oa=()=>{ce||K(!0)},Ml=async()=>{if(!ce){K(!1),Ne(!0);try{if(!await Rr())return;fe&&ne&&await pc(fe,"cancel")}catch{}finally{Ne(!1)}ie.current=!0,W.current=!0,Cr(),e({kind:"info",message:"Edicion cancelada"}),a(kt())}},kl=async()=>{if(ce)return;K(!1);let O=!0;if((Re||!fe)&&(O=!1,await p(async oe=>{O=fe?await Cl(oe):await Tn(oe)})()),!!O){Ne(!0);try{fe&&ne&&await pc(fe)}catch{}finally{Ne(!1)}ie.current=!0,W.current=!0,Cr(),e({kind:"info",message:"Cambios guardados"}),a(kt())}},gs=async()=>{if(!ce){Ne(!0);try{fe&&ne&&await pc(fe)}catch{}finally{Ne(!1)}ie.current=!0,W.current=!0,Cr(),e({kind:"info",message:"OI cerrada"}),a(kt())}},ys=b.useMemo(()=>jR(Vt),[Vt]),eo=$??ys,Qs=O=>{if(!O)return"-";const oe=/([zZ]|[+-]\d{2}:?\d{2})$/.test(O)?O:`${O}Z`,xe=new Date(oe);return Number.isNaN(xe.getTime())?O:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(xe)},to=mt?Ba(fe,mt.id):Un(fe);return c.jsxs("div",{className:"oi-page vi-oi-light",children:[c.jsx(Ol,{show:ce}),!m&&c.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),j&&c.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[c.jsx("h1",{className:"h3",children:"Formulario OI"}),c.jsxs("div",{className:"d-flex gap-2",children:[fe&&w&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Pi,disabled:ce,children:"Editar fecha guardado"}),fe&&z&&c.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Wi,disabled:ce,children:"Editar"})]})]}),we&&c.jsx("div",{className:"alert alert-warning mt-2",children:z?"Modo lectura. Use Editar para modificar.":Se?`Esta OI est siendo editada por ${Se}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),c.jsxs("form",{onSubmit:p(Rl?Cl:Tn),className:`row g-3 mt-1 ${Rl?"vi-form-editing":"vi-form-readonly"}`,children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),c.jsx("input",{id:"oi",className:`form-control ${fe&&!(w&&Re&&!we)?"vi-locked":""}`,...y("oi"),disabled:fe?!(w&&Re&&!we):!1}),S.oi&&c.jsx("div",{className:"text-danger small",children:S.oi.message}),w?c.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el cdigo de OI."}):null]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),c.jsx("select",{id:"q3",className:"form-select",...y("q3",{valueAsNumber:!0}),disabled:!!fe&&!Re||we,children:h?.q3.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),c.jsx("select",{id:"alcance",className:"form-select",...y("alcance",{valueAsNumber:!0}),disabled:!!fe&&!Re||we,children:h?.alcance.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),c.jsx("select",{id:"pma",className:"form-select",...y("pma",{valueAsNumber:!0}),disabled:!!fe&&!Re||we,children:h?.pma.map(O=>c.jsx("option",{value:O,children:O},O))}),c.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),c.jsx("input",{id:"presion",className:"form-control",value:isNaN(Gs)?"":Gs,disabled:!0})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),c.jsxs("select",{id:"numeration_type",className:"form-select",...y("numeration_type"),disabled:!!fe&&!Re||we,children:[c.jsx("option",{value:"correlativo",children:"Correlativo"}),c.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),c.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),c.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[c.jsx("button",{className:"btn btn-primary",disabled:ce||!!fe&&(!Re||we),children:fe?Rl?"Guardar cambios":"OI guardada":"Guardar OI"}),fe&&!Re&&ee&&c.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Ji,disabled:ce||we,children:"Editar OI"}),fe&&Re&&ee&&c.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:zl,disabled:ce,children:"Cancelar edicion"}),z&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ru,disabled:ce,children:"Volver al listado"}),c.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:Dl,disabled:!fe||ce||Re,children:"Generar Excel"}),ee&&c.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:gs,disabled:!fe||Re||ce,children:"Cerrar OI"}),ee&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Oa,disabled:ce,children:"Cancelar"})]})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{className:"card vi-card-table mt-3",children:[c.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),c.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",eo," | Total OI: ",be]})]}),c.jsx("button",{className:"btn btn-primary",onClick:Or,disabled:!fe||ce||Re||we,children:"Agregar Bancada"})]}),c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"vi-col-60",children:"Item"}),c.jsx("th",{children:"# Medidor"}),c.jsx("th",{children:"Medidores"}),c.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),c.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),c.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),c.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[Vt.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),Vt.map(O=>{const L=O.rows_data?.[0]?.medidor||O.medidor||"",oe=O.rows_data?.[(O.rows_data?.length||0)-1]?.medidor||"",xe=L&&oe&&L!==oe?`${L} ... ${oe}`:L;return c.jsxs("tr",{children:[c.jsx("td",{children:O.item}),c.jsx("td",{children:xe}),c.jsx("td",{children:O.rows}),c.jsx("td",{children:Qs(O.created_at)}),c.jsx("td",{children:Qs(O.saved_at)}),c.jsx("td",{children:Qs(O.updated_at??O.created_at)}),c.jsxs("td",{className:"text-end",children:[w?c.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>Xi(O),disabled:ce||Re||Oe,"aria-label":`Editar fecha guardado bancada #${O.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>au(O),disabled:ce||Re||!z&&we,"aria-label":`${z?"Ver":"Editar"} bancada #${O.item}`,title:z?"Ver":"Editar",children:z?"Ver":"Editar"}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ki(O),disabled:ce||Re||we,"aria-label":`Eliminar bancada #${O.item}`,title:"Eliminar",children:""})]})]},O.id)})]})]})})})]}),Ua&&c.jsx(uR,{show:Ua,title:mt?`Editar bancada #${mt.item}`:"Nueva bancada",initial:Ln,onClose:()=>{Ya(),Jn(!1)},onSubmit:Tl,onCancelWithDraft:su,numerationType:Aa,readOnly:we,duplicateMap:ft,onClearDuplicate:Yi,draftStorageKey:to,isOnline:m,showRetry:ye}),Ee&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:O=>{O.target===O.currentTarget&&K(!1)},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>K(!1)})]}),c.jsx("div",{className:"modal-body",children:c.jsx("p",{children:"Estas seguro de descartar cambios?"})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Ml,disabled:ce,children:"Descartar cambios"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:kl,disabled:ce,children:"Guardar cambios y volver al listado"})]})]})})}),Xe&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:O=>{O.target===O.currentTarget&&(me(!1),Ye(null),Pe("bancada"))},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:O=>{O.preventDefault(),ps()},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{me(!1),Ye(null),Pe("bancada")}})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),c.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:$e,onChange:O=>Be(O.target.value),required:!0}),c.jsx("div",{className:"form-text",children:Ie==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{me(!1),Ye(null),Pe("bancada")},children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:ce||!$e,children:"Guardar"})]})]})})}),c.jsx(Qi,{show:Wn,title:"Contrasea para proteger Excel",onClose:()=>Ea(!1),onConfirm:O=>{Ea(!1),hs(O)}})]})}function MR(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function kR(){const e=En(),a=kn(),s=e?.token??null,[l,o]=b.useState(()=>!!s);if(b.useEffect(()=>{if(!s){o(!1);return}let S=!1;return o(!0),Ke.get("/auth/me").then(()=>{S||o(!1)}).catch(async _=>{if(S)return;const U=_?.response?.status;if(U===401||U===403){await N0();return}o(!1)}),()=>{S=!0}},[s]),!s)return c.jsx($s,{to:"/login",replace:!0});if(l)return c.jsx(Ol,{show:!0});const d=e,m=Za(d.role,d.username),h=Um(d),y=yl(m),p=Rc();if(y&&!(p&&p>0)&&a.pathname!=="/home")return c.jsx($s,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return c.jsx($s,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return c.jsx($s,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const S=MR(a.pathname),_=d.allowedModules;if(S&&Array.isArray(_)&&!_.includes(S))return c.jsx($s,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return c.jsx(gb,{})}const UR=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),qR=.9;function Vm(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*qR}rem)`}}function Da({to:e,icon:a,label:s,depth:l,collapsed:o}){return c.jsx("li",{className:"vi-sidebar-item",children:c.jsxs(Sb,{to:e,end:!0,className:UR,style:Vm(l,o),title:s,"aria-label":s,children:[c.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function ab({icon:e,label:a,depth:s,collapsed:l}){return c.jsx("li",{className:"vi-sidebar-item",children:c.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:Vm(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[c.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function dr({groupKey:e,icon:a,label:s,depth:l,collapsed:o,open:d,active:m,onToggle:h,children:y}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return c.jsxs("li",{className:"vi-sidebar-item",children:[c.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:Vm(l,o),onClick:()=>{o||h(e)},"aria-expanded":!o&&d,"aria-controls":p,title:s,children:[c.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:c.jsx("i",{className:`ti ${v}`})})]}),!o&&d&&c.jsx("ul",{id:p,className:"list-unstyled mb-0",children:y})]})}function BR({collapsed:e,onToggleSidebar:a}){const s=kn(),l=En(),o=!!l,d=Za(l?.role,l?.username),m=Um(l),h=d==="admin"||d==="administrator",y=l?.allowedModules,p=Te=>m||!Array.isArray(y)||y.includes(Te),v=o&&p("tools_vima_lista"),S=o&&p("tools_actualizacion_bases"),_=o&&p("tools_consol_correlativo"),U=o&&p("tools_consol_no_correlativo"),E=o&&p("oi_formulario"),R=o&&p("oi_listado"),w=o&&h&&p("users_admin"),H=o&&p("future_ot"),D=o&&p("future_logistica"),P=o&&p("future_smart"),N=_||U,T=v||S,J=E||R||H,z=T||J||N,ee=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[ce,Ne]=b.useState(()=>{const Te=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!Te)return ee;try{const q=JSON.parse(Te),ne={...ee};return Object.keys(ne).forEach(se=>{typeof q[se]=="boolean"&&(ne[se]=q[se])}),ne}catch{return ee}}),Oe=s.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(ce))},[ce]);const de=b.useMemo(()=>{const Te=q=>!!Ti({path:q,end:!0},Oe);return{vimaToLista:Te("/oi/tools/vima-to-lista"),actualizacionBases:Te("/oi/tools/actualizacion-base"),consolidacionCorrelativo:Te("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:Te("/oi/tools/consolidacion/no-correlativo"),registroOi:Te("/oi"),listadoOi:Te("/oi/list"),users:Te("/users"),password:Te("/password"),permisos:Te("/admin/permisos"),log01Excel:Te("/logistica/log01/excel")}},[Oe]),Se=b.useMemo(()=>({oi_consolidacion:de.consolidacionCorrelativo||de.consolidacionNoCorrelativo,oi_formato_ac:de.vimaToLista||de.actualizacionBases,oi_verificacion:de.registroOi||de.listadoOi,oi:de.vimaToLista||de.actualizacionBases||de.consolidacionCorrelativo||de.consolidacionNoCorrelativo||de.registroOi||de.listadoOi,usuarios:de.users||de.password,logistica:de.log01Excel,administrar:de.permisos}),[de]);function pe(Te){Ne(q=>({...q,[Te]:!q[Te]}))}return c.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[c.jsxs("div",{className:"vi-sidebar__header",children:[c.jsxs("div",{className:"vi-sidebar__brand",children:[c.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),c.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&c.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:c.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),c.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!o&&c.jsx(Da,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),z&&c.jsxs(dr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:ce.oi,active:Se.oi,onToggle:pe,children:[T&&c.jsxs(dr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:ce.oi_formato_ac,active:Se.oi_formato_ac,onToggle:pe,children:[v&&c.jsx(Da,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),S&&c.jsx(Da,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e})]}),N&&c.jsxs(dr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:ce.oi_consolidacion,active:Se.oi_consolidacion,onToggle:pe,children:[_&&c.jsx(Da,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),U&&c.jsx(Da,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),J&&c.jsxs(dr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:ce.oi_verificacion,active:Se.oi_verificacion,onToggle:pe,children:[H&&c.jsx(ab,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),E&&c.jsx(Da,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),R&&c.jsx(Da,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),D&&c.jsx(dr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:ce.logistica,active:Se.logistica,onToggle:pe,children:c.jsx(Da,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacin Excel",depth:1,collapsed:e})}),P&&c.jsx(ab,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),c.jsxs(dr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:ce.usuarios,active:Se.usuarios,onToggle:pe,children:[w&&c.jsx(Da,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),o&&c.jsx(Da,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&c.jsx(dr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:ce.administrar,active:Se.administrar,onToggle:pe,children:c.jsx(Da,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function LR({sidebarCollapsed:e,onToggleSidebar:a}){const s=En(),l=s?.username??s?.user??"",o=s?yl(s.role):!1,[d,m]=b.useState(()=>Rc());b.useEffect(()=>Lj(()=>m(Rc())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",y=async()=>{try{await Ij()}finally{location.assign("/login")}};return c.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&c.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:c.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),c.jsx("div",{className:"me-auto"}),c.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&c.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",c.jsx("strong",{children:l||"?"}),o&&c.jsxs(c.Fragment,{children:["  ",h,s.techNumber?c.jsxs(c.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&c.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:y,children:"Cerrar sesin"})]})]})}function FR(){const a=kn().pathname==="/home",[s,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),o=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),c.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[c.jsx(BR,{collapsed:s,onToggleSidebar:o}),c.jsxs("div",{className:"vi-main",children:[c.jsx(LR,{sidebarCollapsed:s,onToggleSidebar:o}),c.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:c.jsx(gb,{})})]})]})}function $R(){const{toast:e}=Nr(),a=wl(),s=kn(),[,l]=wb(),[o,d]=b.useState(()=>new URLSearchParams(s.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[y,p]=b.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[v,S]=b.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[_,U]=b.useState(()=>{const te=new URLSearchParams(s.search).get("pageSize"),Ge=te?Number(te):20;return Number.isFinite(Ge)&&Ge>0?Ge:20}),[E,R]=b.useState(()=>{const te=new URLSearchParams(s.search).get("page"),Ge=te?Number(te):1;return Number.isFinite(Ge)&&Ge>0?Math.floor(Ge):1}),[w,H]=b.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),D=(E-1)*_,P=b.useRef(!1);b.useEffect(()=>{if(!P.current){P.current=!0;return}const te=setTimeout(()=>{h(o.trim()),R(1)},300);return()=>clearTimeout(te)},[o]),b.useEffect(()=>{const te=new URLSearchParams,Ge=o.trim();Ge&&te.set("q",Ge),y&&te.set("dateFrom",y),v&&te.set("dateTo",v),w&&te.set("responsableTech",w),E!==1&&te.set("page",String(E)),_!==20&&te.set("pageSize",String(_));const Le=s.search.startsWith("?")?s.search.slice(1):s.search;te.toString()!==Le&&l(te,{replace:!0})},[y,v,s.search,E,_,w,o,l]);const{data:N,isLoading:T,isError:J,error:z,refetch:ee,isFetching:ce}=br({queryKey:["oi","list",{search:m,dateFrom:y,dateTo:v,responsableTech:w,pageSize:_,offset:D}],queryFn:()=>xR({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:w?Number(w):void 0,limit:_,offset:D}),placeholderData:te=>te}),Ne=En(),Oe=Za(Ne?.role,Ne?.username)!=="technician",{data:de=[],isFetching:Se,isError:pe,error:Te}=br({queryKey:["oi","responsables"],queryFn:_R,enabled:Oe,staleTime:6e4,retry:!1}),q=pe?Te?.message??"No se pudo cargar responsables":"",ne=te=>{if(!te)return"-";const Ge=te.endsWith("Z")?te:`${te}Z`,Le=new Date(Ge),fe=Xn=>Xn.toString().padStart(2,"0");return`${fe(Le.getDate())}/${fe(Le.getMonth()+1)}/${Le.getFullYear()} ${fe(Le.getHours())}:${fe(Le.getMinutes())}`},we=N?.items??[],Re=N?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},A=N?.total??0,Y=N?.limit??_,re=Y>0?Math.ceil(A/Y):1,_e=10;let Ae=1,De=re;if(re>_e){const te=Math.floor(_e/2);Ae=Math.max(1,E-te),De=Ae+_e-1,De>re&&(De=re,Ae=Math.max(1,De-_e+1))}const[Me,Xe]=b.useState(!1),[me,$e]=b.useState(null),[Be,je]=b.useState(!1),[Ye,Ie]=b.useState(!1),Pe=T||ce||Be||Ye,Ee=()=>`${s.pathname}${s.search}`,K=(te,Ge)=>{try{Ci({id:te,code:Ge}),e({kind:"success",message:`OI ${Ge} cargada`}),a(`/oi/${te}?mode=view`,{state:{returnTo:Ee()}})}catch(Le){e({kind:"error",title:"Error",message:Le?.message??"No se pudo abrir el OI"})}},ye=(te,Ge)=>{try{Ci({id:te,code:Ge}),e({kind:"success",message:`OI ${Ge} cargada`}),a(`/oi/${te}?mode=edit`,{state:{returnTo:Ee()}})}catch(Le){e({kind:"error",title:"Error",message:Le?.message??"No se pudo abrir el OI"})}},ge=async()=>{try{await Zi()}finally{dm(),a("/oi?mode=edit",{state:{returnTo:Ee()}})}},j=async(te,Ge)=>{if(confirm(`Ests seguro de ELIMINAR la ${Ge}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await yR(te),e({kind:"success",title:"Eliminado",message:`Se elimin ${Ge} correctamente.`}),ee()}catch(Le){e({kind:"error",title:"Error",message:Le.message||"No se pudo eliminar la OI"})}},k=te=>{$e(te),Xe(!0)},F=async te=>{if(me)try{je(!0),await ex(me,te),e({kind:"success",message:"Excel generado"})}catch(Ge){e({kind:"error",title:"Error",message:Ge?.message??"No se pudo generar el Excel"})}finally{je(!1)}},ve=async()=>{try{Ie(!0);const{blob:te,filename:Ge}=await SR({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:w?Number(w):void 0}),Le=URL.createObjectURL(te),fe=document.createElement("a");fe.href=Le,fe.download=Ge,document.body.appendChild(fe),fe.click(),URL.revokeObjectURL(Le),fe.remove()}catch(te){const Ge=te?.status,Le=te?.message??"No se pudo exportar el CSV";e(Ge===403?{kind:"error",title:"No autorizado",message:Le}:{kind:"error",title:"Error",message:Le})}finally{Ie(!1)}},W=()=>{d(""),h(""),p(""),S(""),R(1),H("")},ie=A===0?0:D+1,Ce=A===0?0:Math.min(D+we.length,A),We=A===0?"0 registros":`Mostrando ${ie}-${Ce} de ${A} registros`;return c.jsxs("div",{children:[c.jsx(Ol,{show:Pe}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[c.jsxs("div",{className:"d-flex align-items-center gap-2",children:[c.jsx("button",{className:"btn btn-primary",onClick:ge,disabled:Pe,title:"Nueva OI",children:"Nueva OI"}),c.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),c.jsxs("div",{className:"d-flex gap-2",children:[Oe&&c.jsx("button",{className:"btn btn-outline-secondary",onClick:ve,disabled:Pe,children:Ye?"Exportando...":"Exportar CSV"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:W,disabled:Pe,children:"Limpiar filtros"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>ee(),disabled:Pe,children:"Recargar"})]})]}),J&&c.jsx("div",{className:"alert alert-danger",children:z?.message??"Error cargando listado"}),c.jsxs("div",{className:"card vi-card-table",children:[c.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"h6 mb-0",children:"Registros"}),c.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",Re.medidores_resultado," | OI unicas: ",Re.oi_unicas," | Medidores (Total OI): ",Re.medidores_total_oi_unicas]})]}),c.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[c.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:o,onChange:te=>{d(te.target.value),R(1)},"aria-label":"Buscar por codigo de OI o medidor"}),c.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:te=>{p(te.target.value),R(1)},"aria-label":"Filtrar desde fecha"}),c.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:te=>{S(te.target.value),R(1)},"aria-label":"Filtrar hasta fecha"}),Oe&&c.jsxs("div",{className:"d-flex flex-column",children:[c.jsxs("select",{className:"form-select form-select-sm",value:w,onChange:te=>{H(te.target.value),R(1)},disabled:Pe||Se,"aria-label":"Filtrar por responsable",title:"Responsable",children:[c.jsx("option",{value:"",children:"Responsable: Todos"}),de.map(te=>c.jsx("option",{value:String(te.tech_number),children:te.full_name},te.tech_number))]}),q?c.jsx("small",{className:"text-danger",children:q}):null]}),c.jsxs("div",{className:"d-flex align-items-center",children:[c.jsx("span",{className:"me-1 small",children:"Mostrar"}),c.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:te=>{const Ge=Number(te.target.value)||20;U(Ge),R(1)},"aria-label":"Registros por pgina",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]})]}),c.jsxs("div",{className:"card-body p-0",children:[c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:"OI"}),c.jsx("th",{children:"Medidores"}),c.jsx("th",{children:"Q3"}),c.jsx("th",{children:"Alcance"}),c.jsx("th",{children:"PMA"}),c.jsx("th",{children:"Banco"}),c.jsx("th",{children:"Tcnico"}),c.jsx("th",{children:"Responsable"}),c.jsx("th",{children:"Creacin"}),c.jsx("th",{children:"Guardado"}),c.jsx("th",{children:"lt. mod."}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[!Pe&&we.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:A>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),we.map(te=>c.jsxs("tr",{children:[c.jsx("td",{children:te.id}),c.jsx("td",{children:te.code}),c.jsx("td",{title:"Mi registro / Total OI",children:`${te.medidores_usuario??0} / ${te.medidores_total_code??0}`}),c.jsx("td",{children:te.q3}),c.jsx("td",{children:te.alcance}),c.jsx("td",{children:te.pma}),c.jsx("td",{children:te.banco_id}),c.jsx("td",{children:te.tech_number}),c.jsx("td",{children:te.creator_name}),c.jsx("td",{children:ne(te.created_at)}),c.jsx("td",{children:ne(te.saved_at)}),c.jsx("td",{children:ne(te.updated_at)}),c.jsxs("td",{className:"text-end",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>K(te.id,te.code),disabled:Pe,title:"Ver OI","aria-label":`Ver OI ${te.code}`,children:"Ver"}),c.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>ye(te.id,te.code),disabled:Pe,title:"Editar OI","aria-label":`Editar OI ${te.code}`,children:"Editar"}),c.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>k(te.id),disabled:Pe,title:"Descargar Excel","aria-label":`Descargar Excel ${te.code}`,children:"Excel"}),Oe&&c.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>j(te.id,te.code),disabled:Pe,title:"Eliminar OI (Solo Admin)",children:""})]})]},te.id))]})]})}),re>1&&c.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:c.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[c.jsx("li",{className:`page-item ${E===1?"disabled":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>R(te=>Math.max(1,te-1)),disabled:E===1,children:""})}),Array.from({length:De-Ae+1},(te,Ge)=>{const Le=Ae+Ge;return c.jsx("li",{className:`page-item ${Le===E?"active":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>R(Le),children:Le})},Le)}),c.jsx("li",{className:`page-item ${E===re?"disabled":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>R(te=>Math.min(re,te+1)),disabled:E===re,children:"Siguiente"})})]})})]})]}),c.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:c.jsx("small",{className:"text-muted",children:We})}),c.jsx(Qi,{show:Me,title:"Contrasea para proteger Excel",onClose:()=>{Xe(!1),$e(null)},onConfirm:te=>{Xe(!1),F(te)}})]})}function IR(){const{toast:e}=Nr(),a=En(),s=Za(a?.role,a?.username),l=s==="admin"||s==="administrator",o=Um(a),[d,m]=b.useState(!1),[h,y]=b.useState(!1),[p,v]=b.useState(null),{data:S,refetch:_,isLoading:U}=br({queryKey:["users"],queryFn:async()=>(await Ke.get("/auth/users")).data,enabled:l}),{register:E,handleSubmit:R,reset:w}=Lc(),H=async N=>{try{y(!0),await Ke.post("/auth/users",{...N,tech_number:Number(N.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),m(!1),w(),_()}catch(T){e({kind:"error",title:"Error",message:T.response?.data?.detail||"Error al crear"})}finally{y(!1)}},D=async N=>{if(confirm(`Eliminar usuario ${N.username}?
Esto solo es posible si no tiene registros.`))try{y(!0),await Ke.delete(`/auth/users/${N.id}`),e({kind:"success",message:"Usuario eliminado"}),_()}catch(T){e({kind:"error",title:"No se puede eliminar",message:T.response?.data?.detail||T.message})}finally{y(!1)}},P=async N=>{if(p)try{y(!0),await Ke.put(`/auth/users/${p.id}/password`,{new_password:N}),e({kind:"success",message:`Contrasea de ${p.username} actualizada`}),v(null)}catch(T){e({kind:"error",message:T.response?.data?.detail||"Error actualizando clave"})}finally{y(!1)}};return l?c.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[c.jsx(Ol,{show:U||h}),c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[c.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),c.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:"+ Nuevo Usuario"})]}),c.jsx("div",{className:"card shadow-sm",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover align-middle mb-0",children:[c.jsx("thead",{className:"table-light",children:c.jsxs("tr",{children:[c.jsx("th",{children:"Usuario"}),c.jsx("th",{children:"Nombre"}),c.jsx("th",{children:"Rol"}),c.jsx("th",{children:"N Tcnico"}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[S?.map(N=>c.jsxs("tr",{children:[c.jsx("td",{className:"fw-bold",children:N.username}),c.jsxs("td",{children:[N.first_name," ",N.last_name]}),c.jsx("td",{children:(()=>{const T=Za(N.role,N.username),J=N.username.toLowerCase()==="admin"?"Superusuario":T==="administrator"?"Administrador":T==="technician"?"Tcnico":"Estndar",z=N.username.toLowerCase()==="admin"?"bg-danger":T==="administrator"?"bg-warning text-dark":T==="technician"?"bg-info text-dark":"bg-secondary";return c.jsx("span",{className:`badge ${z}`,children:J})})()}),c.jsx("td",{children:N.tech_number}),c.jsxs("td",{className:"text-end",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Cambiar contrasea","aria-label":`Cambiar contrasea de ${N.username}`,disabled:N.username==="admin"||!o&&Za(N.role,N.username)==="administrator",onClick:()=>v(N),children:c.jsx("i",{className:"ti ti-key"})}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${N.username}`,disabled:N.username==="admin"||!o&&Za(N.role,N.username)==="administrator",onClick:()=>D(N),children:c.jsx("i",{className:"ti ti-trash"})})]})]},N.id)),S?.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),d&&c.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:R(H),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",children:"Nuevo Usuario"}),c.jsx("button",{type:"button",className:"btn-close",onClick:()=>m(!1)})]}),c.jsxs("div",{className:"modal-body row g-3",children:[c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Usuario"}),c.jsx("input",{className:"form-control",...E("username",{required:!0})})]}),c.jsx("div",{className:"col-6",children:c.jsx(zi,{label:"Contrasea",...E("password",{required:!0}),autoComplete:"new-password"})}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Nombre"}),c.jsx("input",{className:"form-control",...E("first_name",{required:!0})})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Apellido"}),c.jsx("input",{className:"form-control",...E("last_name",{required:!0})})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Rol"}),c.jsxs("select",{className:"form-select",...E("role"),children:[c.jsx("option",{value:"technician",children:"Tcnico"}),c.jsx("option",{value:"standard",children:"Estndar"}),o?c.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"N Tcnico"}),c.jsx("input",{type:"number",className:"form-control",...E("tech_number",{required:!0})}),c.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estndar)"})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})})}),c.jsx(Qi,{show:!!p,title:`Cambiar contrasea de ${p?.username}`,onClose:()=>v(null),onConfirm:P,confirmLabel:"Cambiar contrasea",helpText:"Esta accin cambia la contrasea de inicio de sesin del usuario."})]}):c.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function HR(){const{toast:e}=Nr(),[a,s]=b.useState(""),[l,o]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,y=async p=>{if(p.preventDefault(),!!h)try{m(!0),await Fj(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),o("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return c.jsx("div",{className:"container py-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"card shadow-sm",children:[c.jsx("div",{className:"card-header",children:c.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),c.jsxs("form",{onSubmit:y,children:[c.jsxs("div",{className:"card-body",children:[c.jsx("div",{className:"mb-3",children:c.jsx(zi,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),c.jsx("div",{className:"mb-3",children:c.jsx(zi,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>o(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),c.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),o("")},disabled:d,children:"Limpiar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function VR(){const{data:e}=await Ke.get("/admin/permisos");return e}async function ZR(e,a){const{data:s}=await Ke.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const ax=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"future_logistica",label:"Logstica (FUTURO)",path:"FUTURO"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}];function sb(e){const a=new Set(ax.map(o=>o.id)),s=new Set,l=[];for(const o of e)!a.has(o)||s.has(o)||(s.add(o),l.push(o));return l}function GR(){const e=Nm(),{toast:a}=Nr(),{data:s,isLoading:l,error:o}=br({queryKey:["admin","permisos"],queryFn:VR}),[d,m]=b.useState(null),[h,y]=b.useState([]),p=(d?.username??"").toLowerCase()==="admin",v=w=>{m(w),y(sb(w.allowedModules??[]))},S=()=>{m(null),y([])},_=ON({mutationFn:async w=>ZR(w.userId,w.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),S()},onError:w=>{const H=w?.response?.data?.detail??w?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(H)})}}),U=b.useMemo(()=>s??[],[s]),E=w=>{y(H=>{const D=new Set(H);return D.has(w)?D.delete(w):D.add(w),Array.from(D)})},R=()=>{d&&_.mutate({userId:d.id,allowedModules:sb(h)})};return c.jsxs("div",{className:"container-fluid",children:[c.jsx(Ol,{show:_.isPending,label:"Guardando permisos..."}),c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),c.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),l?c.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):o?c.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm align-middle",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Usuario"}),c.jsx("th",{children:"Rol"}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[U.map(w=>c.jsxs("tr",{children:[c.jsx("td",{children:w.username}),c.jsx("td",{children:w.role}),c.jsx("td",{className:"text-end",children:c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>v(w),disabled:(w.username??"").toLowerCase()==="admin",children:"Editar"})})]},w.id)),U.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})})]})})}),d&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:w=>{w.target===w.currentTarget&&S()},children:c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",d.username]}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:S})]}),c.jsxs("div",{className:"modal-body",children:[p?c.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",c.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,c.jsx("div",{className:"row",children:ax.map(w=>c.jsx("div",{className:"col-md-6 mb-2",children:c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${d.id}-${w.id}`,checked:h.includes(w.id),onChange:()=>E(w.id),disabled:_.isPending||p}),c.jsxs("label",{className:"form-check-label",htmlFor:`perm-${d.id}-${w.id}`,children:[w.label," ",c.jsxs("span",{className:"text-muted",children:["(",w.path,")"]})]})]})},w.id))}),c.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:S,disabled:_.isPending,children:"Cancelar"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:R,disabled:_.isPending||p,children:"Guardar"})]})]})})})]})}function QR(e){const a=Ke.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function YR(e,a){return Ke.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function KR(e,a){return Ke.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function rb(e,a,s){const l=QR(`/integrations/vima-to-lista/progress/${e}`),o=En()?.token,d=await fetch(l,{method:"GET",headers:o?{Authorization:`Bearer ${o}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let y="";for(;;){const{value:p,done:v}=await m.read();if(v)break;y+=h.decode(p,{stream:!0});let S;for(;(S=y.indexOf(`
`))>=0;){const _=y.slice(0,S).trim();if(y=y.slice(S+1),!!_)try{a(JSON.parse(_))}catch{}}}}function hl(e){return`${e.name}::${e.size}::${e.lastModified}`}function PR(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function Zm(e,a){const s=PR(a);if(!s)return e;const l=s.filter(o=>o.startsWith("."));return l.length===0?e:e.filter(o=>l.some(d=>o.name.toLowerCase().endsWith(d)))}function XR(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],o=[],d=new Set(e.map(hl));for(const m of a){const h=hl(m);if(d.has(h)){o.push(m);continue}d.add(h),s.push(m),l.push(m)}return{merged:s,added:l,duplicates:o}}function Ui({label:e,accept:a,disabled:s=!1,file:l,onChange:o}){const d=b.useRef(null),m=b.useRef(0),[h,y]=b.useState(!1),p=()=>{s||d.current?.click()},v=()=>{s||(d.current&&(d.current.value=""),o(null))},S=w=>{o(w.target.files?.[0]??null),w.currentTarget.value=""},_=w=>{w.preventDefault(),w.stopPropagation(),!s&&(m.current+=1,y(!0))},U=w=>{w.preventDefault(),w.stopPropagation()},E=w=>{w.preventDefault(),w.stopPropagation(),!s&&(m.current=Math.max(0,m.current-1),m.current===0&&y(!1))},R=w=>{if(w.preventDefault(),w.stopPropagation(),m.current=0,y(!1),s)return;const H=w.dataTransfer?.files?Array.from(w.dataTransfer.files):[],P=Zm(H,a)[0]??null;P&&(d.current&&(d.current.value=""),o(P))};return c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:e}),c.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:S,disabled:s}),c.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:_,onDragOver:U,onDragLeave:E,onDrop:R,"aria-disabled":s?"true":"false",children:c.jsxs("div",{className:"input-group",children:[c.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:s||!l,children:"Eliminar"}),c.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const JR={status:"estado",progress:"progreso",complete:"completado",error:"error"},WR={received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},eT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function sx(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function vl(e){if(!e)return"";const a=e.toLowerCase();return sx(JR[a]??e)}function bl(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return sx(WR[a]??wr(s))}function wr(e){if(!e)return"";let a=e;for(const[s,l]of eT)a=a.replace(s,l);return a}function tT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function nT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function aT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[o,d]=b.useState(""),[m,h]=b.useState(11),[y,p]=b.useState(11),[v,S]=b.useState(!0),[_,U]=b.useState(!0),[E,R]=b.useState(!0),[w,H]=b.useState(!0),[D,P]=b.useState(""),[N,T]=b.useState(null),[J,z]=b.useState(null),[ee,ce]=b.useState(null),[Ne,Oe]=b.useState([]),[de,Se]=b.useState(""),pe=b.useRef(null),Te=b.useRef(null),[q,ne]=b.useState(!1),[se,we]=b.useState(!1),[Re,A]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Y=b.useMemo(()=>!!e&&!!s&&!N,[e,s,N]);function re(je){Oe(Ie=>[je,...Ie].slice(0,200));const Ye=typeof je.percent=="number"?je.percent:typeof je.progress=="number"?je.progress:null;Ye!=null&&Number.isFinite(Ye)&&ce(Math.max(0,Math.min(100,Ye)))}function _e(){pe.current?.abort(),pe.current=null}function Ae(){N&&_e()}function De(je,Ye){if(!e||!s)throw new Error("Faltan archivos");const Ie=new FormData;Ie.append("vima_file",e),Ie.append("lista_file",s);const Pe=(Ye??o).trim();return Pe&&Ie.append("vima_password",Pe),Ie.append("vima_start_row",String(m)),Ie.append("lista_start_row",String(y)),Ie.append("require_all_g_to_n",v?"true":"false"),Ie.append("incremental",_?"true":"false"),Ie.append("strict_incremental",E?"true":"false"),Ie.append("replicate_merges",w?"true":"false"),D.trim()&&Ie.append("oi_pattern",D.trim()),Ie.append("operation_id",je),Ie}function Me(){Te.current=null,we(!1)}function Xe(je,Ye){Te.current=je,A(Ye),we(!0)}function me(je,Ye){if(!it.isAxiosError(je)){Se(String(je));return}const Ie=je;if(Ie.code==="ERR_CANCELED")return;const Pe=Ie.response?.headers?.["x-code"],Ee=Ie.response?.data?.detail??Ie.message;if(Pe==="PASSWORD_REQUIRED"){Se(""),Xe(Ye,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Pe==="WRONG_PASSWORD"){Se(""),Xe(Ye,"Contrasea incorrecta. Intenta nuevamente.");return}Se(String(Ee))}async function $e(je){Se(""),z(null),Oe([]),ce(0);const Ye=crypto.randomUUID();pe.current=new AbortController,rb(Ye,re,pe.current.signal).catch(()=>{}),T("dry");try{const Ie=De(Ye,je?.passwordOverride),Pe=await YR(Ie,pe.current.signal);z(Pe.data)}catch(Ie){me(Ie,"dry")}finally{_e(),T(null)}}async function Be(je){Se(""),Oe([]),ce(0);const Ye=crypto.randomUUID();pe.current=new AbortController,rb(Ye,re,pe.current.signal).catch(()=>{}),T("upload");try{const Ie=De(Ye,je?.passwordOverride),Pe=await KR(Ie,pe.current.signal),Ee=Pe.headers?.["content-disposition"],K=tT(Ee)??"LISTA_SALIDA.xlsx";nT(Pe.data,K)}catch(Ie){me(Ie,"upload")}finally{_e(),T(null)}}return c.jsxs("div",{className:"container-fluid",children:[c.jsxs("div",{className:"row gap-20",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),c.jsx("div",{className:"mB-15",children:c.jsx(Ui,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!N})}),c.jsx("div",{className:"mB-15",children:c.jsx(Ui,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!N})}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),c.jsx("input",{className:"form-control",type:"password",value:o,onChange:je=>d(je.target.value),placeholder:"(opcional)"})]}),q?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),c.jsx("input",{className:"form-control",type:"number",value:m,onChange:je=>h(Number(je.target.value))})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),c.jsx("input",{className:"form-control",type:"number",value:y,onChange:je=>p(Number(je.target.value))})]})]}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),c.jsx("input",{className:"form-control",value:D,onChange:je=>P(je.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),c.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),c.jsxs("div",{className:"row mT-10",children:[c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:je=>S(je.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:w,onChange:je=>H(je.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:_,onChange:je=>U(je.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:E,onChange:je=>R(je.target.checked),disabled:!_}),c.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})})]})]}):null,de&&c.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:de}),c.jsx("div",{className:"d-flex justify-content-end mT-10",children:c.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>ne(je=>!je),disabled:!!N,children:q?"Menos Opciones":"Ms Opciones"})}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary",disabled:!Y,onClick:()=>void Be(),children:N==="upload"?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger",disabled:!N,onClick:Ae,children:"Cancelar"}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!Y,onClick:()=>void $e(),children:N==="dry"?"Analizando...":"Analizar"})]}),J&&c.jsxs("div",{className:"mT-20",children:[c.jsx("h5",{className:"c-grey-900",children:"Resumen"}),c.jsxs("ul",{className:"mB-0",children:[c.jsxs("li",{children:["Filas a copiar: ",c.jsx("b",{children:J.would_copy})]}),c.jsxs("li",{children:["Fila inicio escritura (LISTA): ",c.jsx("b",{children:J.start_write_row})]}),c.jsxs("li",{children:["ltimo OI en LISTA: ",c.jsx("b",{children:String(J.last_oi_in_lista??"-")})]}),c.jsxs("li",{children:["Primer OI a copiar: ",c.jsx("b",{children:String(J.first_oi_to_copy??"-")})]}),c.jsxs("li",{children:["ltimo OI a copiar: ",c.jsx("b",{children:String(J.last_oi_to_copy??"-")})]})]})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),N?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${ee??0}%`},"aria-valuenow":ee??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:Ne.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:Ne.map((je,Ye)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:vl(je.type)})," ",je.stage?c.jsxs("span",{className:"text-muted",children:["[",bl(je.stage),"]"]}):null,typeof je.percent=="number"?c.jsxs("span",{className:"text-muted",children:["  ",je.percent.toFixed(1),"%"]}):null]}),c.jsx("div",{className:"text-muted",children:wr(je.message??je.detail??"")}),je.code?c.jsxs("div",{className:"text-muted",children:["Cdigo: ",je.code]}):null]},Ye))})})]})})]}),c.jsx(Qi,{show:se,title:"Archivo protegido",confirmLabel:"Continuar",helpText:Re,onClose:Me,onConfirm:je=>{d(je),we(!1);const Ye=Te.current;Te.current=null,Ye&&(Ye==="dry"?$e({passwordOverride:je}):Be({passwordOverride:je}))}})]})}const sT=(...e)=>{};function tu(e){const a=Ke.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function rx(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let o="";for(;;){const{value:d,done:m}=await s.read();if(m)break;o+=l.decode(d,{stream:!0});let h;for(;(h=o.indexOf(`
`))>=0;){const y=o.slice(0,h).trim();if(o=o.slice(h+1),!!y)try{a(JSON.parse(y))}catch{}}}}function pl(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function Gm(e,a,s){const l=tu(`/integrations/vima-to-lista/progress/${e}`),o=En()?.token,d=await fetch(l,{method:"GET",headers:{...o?{Authorization:`Bearer ${o}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw pl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await rx(d,a)}async function rT(e,a,s){const l=tu(`/logistica/log01/progress/${e}`),o=En()?.token,d=await fetch(l,{method:"GET",headers:{...o?{Authorization:`Bearer ${o}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const S=d.headers.get("X-Code")??void 0;throw pl(`No se pudo abrir el stream (${d.status})`,d.status,S)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw pl("Stream no es NDJSON",d.status);if(!d.body)throw pl("Stream sin body",d.status);const h=d.body.getReader(),y=new TextDecoder("utf-8");let p="",v=!1;for(;;){const{value:S,done:_}=await h.read();if(_)break;!v&&S&&S.length&&(v=!0),p+=y.decode(S,{stream:!0});let U;for(;(U=p.indexOf(`
`))>=0;){const E=p.slice(0,U).trim();if(p=p.slice(U+1),!!E)try{const R=JSON.parse(E);sT("[LOG01] progress event =",R),a(R)}catch{}}}}async function lT(e,a,s){const l=tu("/bases/actualizar/dry-run-upload"),o=En()?.token,d=await fetch(l,{method:"POST",headers:o?{Authorization:`Bearer ${o}`}:void 0,body:e,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const y=await d.json();y?.detail&&(h=String(y.detail))}catch{}throw pl(h,d.status,m)}await rx(d,a)}async function iT(e,a){return Ke.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function oT(e,a){return Ke.post("/logistica/log01/start",e,{signal:a})}async function cT(e,a,s){const l=tu(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),o=En()?.token,d=await fetch(l,{method:"GET",headers:o?{Authorization:`Bearer ${o}`}:void 0,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw pl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function uT(e,a){return Ke.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function dT(e,a){return Ke.get(`/logistica/log01/result/${encodeURIComponent(e)}/no-conforme`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function fT(e,a){return Ke.get(`/logistica/log01/result/${encodeURIComponent(e)}/manifest`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function mT(e){await Ke.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function lx(){const{data:e}=await Ke.get("/merge/config/upload-limits");return e}async function ix(e,a,s){return Ke.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function ox(e){await Ke.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function hT(e){const{data:a}=await Ke.post("/tools/files/upload",e);return a}async function pT(e){const{data:a}=await Ke.post("/tools/excel/inspect",e);return a}async function gT(e){const{data:a}=await Ke.post("/tools/excel/update",e);return a}async function yT(e){const{data:a}=await Ke.post("/tools/excel/change-password",e);return a}async function vT(e){const{data:a}=await Ke.post("/tools/excel/validate",e);return a}function bT({show:e,disabled:a=!1,title:s,accept:l,files:o,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:y}){const p=b.useRef(null),v=b.useRef(0),[S,_]=b.useState(!1),[U,E]=b.useState("");if(b.useEffect(()=>{if(!e)return;const z=ee=>{ee.key==="Escape"&&d()};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e,d]),b.useEffect(()=>{e||_(!1)},[e]),b.useEffect(()=>{e&&E("")},[e]),!e)return null;const R=z=>{const ee=Zm(z,l);if(ee.length===0)return;const ce=new Set(o.map(hl)),Ne=new Set(ce),Oe=[],de=[];for(const Se of ee){const pe=hl(Se);if(Ne.has(pe)){de.push(Se);continue}Ne.add(pe),Oe.push(Se)}if(de.length>0){const Se=Array.from(new Set(de.map(pe=>pe.name)));E(Se.length===1?`El archivo "${Se[0]}" ya se encuentra cargado.`:`Los archivos ya se encuentran cargados: ${Se.join(", ")}.`)}Oe.length>0&&m(Oe)},w=()=>{a||p.current?.click()},H=z=>{const ee=z.target.files?Array.from(z.target.files):[];R(ee),z.currentTarget.value=""},D=()=>{a||(p.current&&(p.current.value=""),y())},P=z=>{z.preventDefault(),z.stopPropagation(),!a&&(v.current+=1,_(!0))},N=z=>{z.preventDefault(),z.stopPropagation()},T=z=>{z.preventDefault(),z.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&_(!1))},J=z=>{if(z.preventDefault(),z.stopPropagation(),v.current=0,_(!1),a)return;const ee=z.dataTransfer?.files?Array.from(z.dataTransfer.files):[];R(ee)};return c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:z=>{z.target===z.currentTarget&&d()},children:c.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),c.jsxs("div",{className:"modal-body",children:[c.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:H,disabled:a}),U?c.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[c.jsx("div",{children:U}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>E("")})]}):null,c.jsxs("div",{className:`vi-dropzone${S?" is-dragover":""}`,onDragEnter:P,onDragOver:N,onDragLeave:T,onDrop:J,"aria-disabled":a?"true":"false",children:[c.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",c.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:w,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?c.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[c.jsx("div",{className:"text-muted",children:o.length===0?"No se han seleccionado archivos.":o.length===1?"1 archivo seleccionado":`${o.length} archivos seleccionados`}),c.jsxs("div",{className:"d-flex gap-10",children:[c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:w,disabled:a,children:"Agregar ms"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:D,disabled:a||o.length===0,children:"Eliminar todos"})]})]}),o.length===0?null:c.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:c.jsx("ul",{className:"list-group",children:o.map(z=>{const ee=hl(z);return c.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[c.jsx("div",{className:"text-truncate",style:{minWidth:0},children:z.name}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(ee),disabled:a,children:"Eliminar"})]},ee)})})})]}),c.jsx("div",{className:"modal-footer",children:c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function xT(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(s=>s.name)));return a.length===1?`El archivo "${a[0]}" ya se encuentra cargado.`:`Los archivos ya se encuentran cargados: ${a.join(", ")}.`}function nu({label:e,title:a,accept:s,disabled:l=!1,files:o,setFiles:d}){const[m,h]=b.useState(!1),[y,p]=b.useState(!1),[v,S]=b.useState(""),_=b.useRef(0),U=b.useMemo(()=>o.length===0?"No se han seleccionado archivos.":o.length===1?"1 archivo seleccionado":`${o.length} archivos seleccionados`,[o.length]),E=o.length===0?"Agregar archivos":"Modificar/agregar archivos",R=N=>{const T=Zm(N,s);T.length!==0&&d(J=>{const{merged:z,duplicates:ee}=XR(J,T);return ee.length>0&&S(xT(ee)),z})},w=N=>{N.preventDefault(),N.stopPropagation(),!l&&(_.current+=1,p(!0))},H=N=>{N.preventDefault(),N.stopPropagation()},D=N=>{N.preventDefault(),N.stopPropagation(),!l&&(_.current=Math.max(0,_.current-1),_.current===0&&p(!1))},P=N=>{if(N.preventDefault(),N.stopPropagation(),_.current=0,p(!1),l)return;const T=N.dataTransfer?.files?Array.from(N.dataTransfer.files):[];R(T)};return c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:e}),c.jsx("div",{className:`vi-file-drop-target${y?" is-dragover":""}`,onDragEnter:w,onDragOver:H,onDragLeave:D,onDrop:P,"aria-disabled":l?"true":"false",children:c.jsxs("div",{className:"input-group",children:[c.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>h(!0),disabled:l,children:E}),c.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:U})]})}),v?c.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[c.jsx("div",{children:v}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>S("")})]}):null,c.jsx(bT,{show:m,disabled:l,title:a,accept:s,files:o,onClose:()=>h(!1),onAddFiles:R,onRemoveFile:N=>d(T=>T.filter(J=>hl(J)!==N)),onRemoveAll:()=>d([])})]})}function ST(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function _T(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function wT(e){if(!it.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const o=l?.detail??a.message;return{detail:String(o),code:s}}function NT(){const[e,a]=b.useState(null),[s,l]=b.useState([]),[o,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,S]=b.useState(9),[_,U]=b.useState("ERROR FINAL"),[E,R]=b.useState(!0),[w,H]=b.useState(!1),[D,P]=b.useState(!1),[N,T]=b.useState(null),[J,z]=b.useState(null),[ee,ce]=b.useState([]),[Ne,Oe]=b.useState(""),de=b.useRef(null),Se=b.useRef(null),[pe,Te]=b.useState(!1),[q,ne]=b.useState(!1),[se,we]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Re=b.useMemo(()=>!!e&&s.length>0&&!N,[e,s,N]);function A(me){ce(Be=>[me,...Be].slice(0,200));const $e=typeof me.percent=="number"?me.percent:typeof me.progress=="number"?me.progress:null;$e!=null&&Number.isFinite($e)&&z(Math.max(0,Math.min(100,$e)))}function Y(){de.current?.abort(),de.current=null}function re(){N&&Y()}function _e(me,$e){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const Be=new FormData;Be.append("base_file",e);for(const Ye of s)Be.append("oi_files",Ye);const je=($e??o).trim();return je&&Be.append("default_password",je),m.trim()&&Be.append("per_file_passwords_json",m.trim()),y.trim()&&Be.append("oi_pattern",y.trim()),Be.append("oi_start_row",String(v)),_.trim()&&Be.append("base_sheet",_.trim()),me&&Be.append("operation_id",me),Be}function Ae(){Se.current=null,ne(!1)}function De(me,$e){Se.current=me,we($e),ne(!0)}async function Me(me){Oe(""),ce([]),z(0),de.current=new AbortController,T("dry");try{const $e=_e(void 0,me?.passwordOverride);await lT($e,A,de.current.signal)}catch($e){if($e?.name==="AbortError")return;const Be=$e?.code,je=String($e?.message??$e);if(Be==="PASSWORD_REQUIRED"){Oe(""),De("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Be==="WRONG_PASSWORD"){Oe(""),De("dry","Contrasea incorrecta. Intenta nuevamente.");return}else Oe(je)}finally{Y(),T(null)}}async function Xe(me){Oe(""),ce([]),z(0);const $e=crypto.randomUUID();de.current=new AbortController,Gm($e,A,de.current.signal).catch(()=>{}),T("upload");try{const Be=_e($e,me?.passwordOverride);Be.append("replicate_merges",E?"true":"false"),Be.append("replicate_row_heights",w?"true":"false"),Be.append("replicate_col_widths",D?"true":"false");const je=await iT(Be,de.current.signal),Ye=je.headers["content-disposition"],Ie=je.headers["x-file-name"],Pe=ST(Ye)??Ie??"base_actualizada.xlsx";_T(je.data,Pe)}catch(Be){if(it.isAxiosError(Be)&&Be.code==="ERR_CANCELED")return;const{detail:je,code:Ye}=await wT(Be);if(Ye==="PASSWORD_REQUIRED"){Oe(""),De("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ye==="WRONG_PASSWORD"){Oe(""),De("upload","Contrasea incorrecta. Intenta nuevamente.");return}else Oe(je)}finally{Y(),T(null)}}return c.jsxs("div",{className:"container-fluid",children:[c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),c.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Ui,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!N})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(nu,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!N})}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:o,onChange:me=>d(me.target.value),disabled:!!N})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),c.jsx("input",{className:"form-control",value:_,onChange:me=>U(me.target.value),disabled:!!N})]}),pe?c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),c.jsx("input",{className:"form-control",value:y,onChange:me=>p(me.target.value),disabled:!!N})]}):null,c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio OI"}),c.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:me=>S(Number(me.target.value||9)),disabled:!!N})]}),c.jsxs("div",{className:"col-12 mB-15",children:[c.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),c.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:me=>h(me.target.value),disabled:!!N,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),pe?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:E,onChange:me=>R(me.target.checked),disabled:!!N}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:w,onChange:me=>H(me.target.checked),disabled:!!N}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:D,onChange:me=>P(me.target.checked),disabled:!!N}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),Ne&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:Ne}),c.jsx("div",{className:"d-flex justify-content-end mT-10",children:c.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Te(me=>!me),disabled:!!N,children:pe?"Menos Opciones":"Ms Opciones"})}),c.jsxs("div",{className:"d-flex gap-10 mT-15",children:[c.jsx("button",{className:"btn btn-primary",disabled:!Re,onClick:()=>void Xe(),children:N==="upload"?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger",disabled:!N,onClick:re,children:"Cancelar"}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!Re,onClick:()=>void Me(),children:N==="dry"?"Analizando...":"Analizar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),N?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${J??0}%`},"aria-valuenow":J??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:ee.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:ee.map((me,$e)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:vl(me.type)})," ",me.stage?c.jsxs("span",{className:"text-muted",children:["[",bl(me.stage),"]"]}):null,typeof me.percent=="number"?c.jsxs("span",{className:"text-muted",children:["  ",me.percent.toFixed(1),"%"]}):null]}),c.jsx("div",{className:"text-muted",children:wr(me.message??me.detail??"")}),me.code?c.jsxs("div",{className:"text-muted",children:["Cdigo: ",me.code]}):null]},$e))})})]})})]}),c.jsx(Qi,{show:q,title:"Archivo protegido",confirmLabel:"Continuar",helpText:se,onClose:Ae,onConfirm:me=>{d(me),ne(!1);const $e=Se.current;Se.current=null,$e&&($e==="dry"?Me({passwordOverride:me}):Xe({passwordOverride:me}))}})]})}function jT(){return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),c.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6 mB-15",children:c.jsx("div",{className:"card h-100",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h5",{className:"card-title",children:"Correlativo"}),c.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),c.jsx(_c,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),c.jsx("div",{className:"col-md-6 mB-15",children:c.jsx("div",{className:"card h-100",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h5",{className:"card-title",children:"No correlativo"}),c.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),c.jsx(_c,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function ET(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function AT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function OT(e){if(!it.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function CT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[o,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,S]=b.useState(null),[_,U]=b.useState([]),E=b.useRef(null),R=b.useRef(null),w=b.useMemo(()=>!!s&&o.length>0&&!m,[s,o,m]);b.useEffect(()=>{lx().then(a).catch(()=>a(null))},[]);function H(T){U(z=>[T,...z].slice(0,200));const J=typeof T.percent=="number"?T.percent:typeof T.progress=="number"?T.progress:null;J!=null&&Number.isFinite(J)&&S(Math.max(0,Math.min(100,J)))}function D(){E.current?.abort(),E.current=null}function P(){if(!m)return;const T=R.current;T&&ox(T).catch(()=>{}),H({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function N(){if(p(""),U([]),S(0),!s){p("Selecciona el archivo maestro.");return}if(o.length===0){p("Selecciona al menos un archivo de tcnico.");return}const T=new FormData;T.append("master",s);for(const z of o)T.append("technicians",z);const J=crypto.randomUUID();R.current=J,T.append("operation_id",J),E.current=new AbortController,h(!0);try{const z=E.current?.signal;Gm(J,H,z).catch(()=>{});const ee=await ix(T,"correlativo",z),ce=ee.headers["content-disposition"],Ne=ET(ce)??"consolidado_correlativo.xlsx";AT(ee.data,Ne)}catch(z){if(it.isAxiosError(z)&&z.code==="ERR_CANCELED"||it.isAxiosError(z)&&(z.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const ee=await OT(z);H({type:"error",stage:"error",detail:ee}),p(ee)}finally{R.current=null,h(!1),D()}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),c.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&c.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",c.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",c.jsx("b",{children:e.max_tech_files})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Ui,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(nu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:o,setFiles:d,disabled:m})})]}),y&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary mT-10",disabled:!w,onClick:N,children:m?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:P,children:"Cancelar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),m?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:_.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:_.map((T,J)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:vl(T.type)})," ",T.stage?c.jsxs("span",{className:"text-muted",children:["[",bl(T.stage),"]"]}):null]}),c.jsx("div",{className:"text-muted",children:wr(T.message??T.detail??"")})]},J))})})]})})]})})}function RT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function TT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function DT(e){if(!it.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function zT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[o,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,S]=b.useState(null),[_,U]=b.useState([]),E=b.useRef(null),R=b.useRef(null),w=b.useMemo(()=>!!s&&o.length>0&&!m,[s,o,m]);b.useEffect(()=>{lx().then(a).catch(()=>a(null))},[]);function H(T){U(z=>[T,...z].slice(0,200));const J=typeof T.percent=="number"?T.percent:typeof T.progress=="number"?T.progress:null;J!=null&&Number.isFinite(J)&&S(Math.max(0,Math.min(100,J)))}function D(){E.current?.abort(),E.current=null}function P(){if(!m)return;const T=R.current;T&&ox(T).catch(()=>{}),H({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function N(){if(p(""),U([]),S(0),!s){p("Selecciona el archivo maestro.");return}if(o.length===0){p("Selecciona al menos un archivo de tcnico.");return}const T=new FormData;T.append("master",s);for(const z of o)T.append("technicians",z);const J=crypto.randomUUID();R.current=J,T.append("operation_id",J),E.current=new AbortController,h(!0);try{const z=E.current?.signal;Gm(J,H,z).catch(()=>{});const ee=await ix(T,"no-correlativo",z),ce=ee.headers["content-disposition"],Ne=RT(ce)??"consolidado_no_correlativo.xlsx";TT(ee.data,Ne)}catch(z){if(it.isAxiosError(z)&&z.code==="ERR_CANCELED"||it.isAxiosError(z)&&(z.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const ee=await DT(z);H({type:"error",stage:"error",detail:ee}),p(ee)}finally{R.current=null,h(!1),D()}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),c.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&c.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",c.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",c.jsx("b",{children:e.max_tech_files})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(Ui,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(nu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:o,setFiles:d,disabled:m})})]}),y&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary mT-10",disabled:!w,onClick:N,children:m?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:P,children:"Cancelar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),m?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:_.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:_.map((T,J)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:vl(T.type)})," ",T.stage?c.jsxs("span",{className:"text-muted",children:["[",bl(T.stage),"]"]}):null]}),c.jsx("div",{className:"text-muted",children:wr(T.message??T.detail??"")})]},J))})})]})})]})})}async function Oi(e){if(!it.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function MT(){const[e,a]=b.useState(null),[s,l]=b.useState(""),[o,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("ERROR FINAL"),[v,S]=b.useState(""),[_,U]=b.useState("same_password"),[E,R]=b.useState(""),[w,H]=b.useState([{cell:"A1",value:""}]),[D,P]=b.useState(""),[N,T]=b.useState("no_password"),[J,z]=b.useState(""),[ee,ce]=b.useState("ERROR FINAL"),[Ne,Oe]=b.useState(1),[de,Se]=b.useState(""),[pe,Te]=b.useState(""),[q,ne]=b.useState(""),[se,we]=b.useState(null),[Re,A]=b.useState(""),[Y,re]=b.useState(null),[_e,Ae]=b.useState([]),[De,Me]=b.useState(null),Xe=b.useMemo(()=>o.trim().length>0,[o]);function me(Ee){Ae(K=>[Ee,...K].slice(0,200))}function $e(){A(""),Ae([]),re(0),Me(null)}async function Be(){if($e(),!e){A("Selecciona un archivo para subir.");return}we("upload");try{me({type:"status",stage:"upload",message:"Subiendo archivo..."}),re(30);const Ee=new FormData;Ee.append("file",e),s.trim()&&Ee.append("suggested_name",s.trim());const K=await hT(Ee);d(K.relative_path),Me(K),me({type:"complete",stage:"upload",message:"Archivo subido."}),re(100)}catch(Ee){const K=await Oi(Ee);A(K),me({type:"error",stage:"upload",detail:K})}finally{we(null)}}async function je(){if($e(),!Xe){A("Ingresa o sube un archivo para obtener file_path.");return}we("inspect");try{me({type:"status",stage:"inspect",message:"Inspeccionando..."}),re(50);const Ee=await pT({file_path:o.trim(),open_password:m.trim()||null});Me(Ee),me({type:"complete",stage:"inspect",message:"Inspeccin completada."}),re(100)}catch(Ee){const K=await Oi(Ee);A(K),me({type:"error",stage:"inspect",detail:K})}finally{we(null)}}async function Ye(){if($e(),!Xe){A("Ingresa o sube un archivo para obtener file_path.");return}if(!y.trim()){A("Ingresa el nombre de la hoja.");return}const Ee=w.map(K=>({cell:K.cell.trim(),value:K.value})).filter(K=>K.cell);if(Ee.length===0){A("Agrega al menos una edicin.");return}we("update");try{me({type:"status",stage:"update",message:"Aplicando ediciones..."}),re(50);const K=await gT({file_path:o.trim(),edits:Ee.map(ye=>({sheet:y.trim(),cell:ye.cell,value:ye.value})),open_password:v.trim()||null,save_mode:_,new_password:_==="new_password"&&E.trim()||null});Me(K),me({type:"complete",stage:"update",message:"Actualizacin completada."}),re(100)}catch(K){const ye=await Oi(K);A(ye),me({type:"error",stage:"update",detail:ye})}finally{we(null)}}async function Ie(){if($e(),!Xe){A("Ingresa o sube un archivo para obtener file_path.");return}if(!D.trim()){A("Ingresa la contrasea de apertura (open_password).");return}if(N==="new_password"&&!J.trim()){A("Ingresa la nueva contrasea.");return}we("change-password");try{me({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),re(50);const Ee=await yT({file_path:o.trim(),open_password:D.trim(),mode:N,new_password:N==="new_password"?J.trim():null});Me(Ee),me({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),re(100)}catch(Ee){const K=await Oi(Ee);A(K),me({type:"error",stage:"change-password",detail:K})}finally{we(null)}}async function Pe(){if($e(),!Xe){A("Ingresa o sube un archivo para obtener file_path.");return}let Ee={};if(pe.trim())try{Ee=JSON.parse(pe)}catch{A("type_rules debe ser JSON vlido.");return}const K=de.split(",").map(ye=>ye.trim()).filter(Boolean);we("validate");try{me({type:"status",stage:"validate",message:"Validando..."}),re(50);const ye=await vT({file_path:o.trim(),sheet:ee.trim()||null,header_row:Ne,required_columns:K,type_rules:Ee,open_password:q.trim()||null});Me(ye),me({type:"complete",stage:"validate",message:"Validacin completada."}),re(100)}catch(ye){const ge=await Oi(ye);A(ge),me({type:"error",stage:"validate",detail:ge})}finally{we(null)}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),c.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-8 mB-10",children:c.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!se,onChange:Ee=>a(Ee.target.files?.[0]??null)})}),c.jsx("div",{className:"col-md-4 mB-10",children:c.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!se,onChange:Ee=>l(Ee.target.value)})})]}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!!se||!e,onClick:Be,children:se==="upload"?"Subiendo...":"Subir"})]})}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"file_path"}),c.jsx("input",{className:"form-control",value:o,disabled:!!se,onChange:Ee=>d(Ee.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),c.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"2) Inspect"}),c.jsxs("div",{className:"row align-items-end",children:[c.jsxs("div",{className:"col-md-8 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!se,onChange:Ee=>h(Ee.target.value)})]}),c.jsx("div",{className:"col-md-4 mB-10",children:c.jsx("button",{className:"btn btn-primary w-100",disabled:!!se||!Xe,onClick:je,children:se==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"Hoja"}),c.jsx("input",{className:"form-control",value:y,disabled:!!se,onChange:Ee=>p(Ee.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!se,onChange:Ee=>S(Ee.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"save_mode"}),c.jsxs("select",{className:"form-select",value:_,disabled:!!se,onChange:Ee=>U(Ee.target.value),children:[c.jsx("option",{value:"same_password",children:"same_password"}),c.jsx("option",{value:"no_password",children:"no_password"}),c.jsx("option",{value:"new_password",children:"new_password"})]})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"new_password"}),c.jsx("input",{className:"form-control",type:"password",value:E,disabled:!!se||_!=="new_password",onChange:Ee=>R(Ee.target.value),placeholder:_==="new_password"?"Requerido":""})]})]}),c.jsxs("div",{className:"mT-10",children:[c.jsx("label",{className:"form-label",children:"Ediciones"}),w.map((Ee,K)=>c.jsxs("div",{className:"row g-2 mB-10",children:[c.jsx("div",{className:"col-md-3",children:c.jsx("input",{className:"form-control",value:Ee.cell,disabled:!!se,onChange:ye=>{const ge=w.slice();ge[K]={...ge[K],cell:ye.target.value},H(ge)},placeholder:"Celda (A1)"})}),c.jsx("div",{className:"col-md-7",children:c.jsx("input",{className:"form-control",value:Ee.value,disabled:!!se,onChange:ye=>{const ge=w.slice();ge[K]={...ge[K],value:ye.target.value},H(ge)},placeholder:"Valor"})}),c.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!se,onClick:()=>H(ye=>[...ye,{cell:"A1",value:""}]),children:"+"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!se||w.length===1,onClick:()=>H(ye=>ye.filter((ge,j)=>j!==K)),children:""})]})]},K))]}),c.jsx("button",{className:"btn btn-primary",disabled:!!se||!Xe,onClick:Ye,children:se==="update"?"Actualizando...":"Update"})]})}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"4) Change password"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password"}),c.jsx("input",{className:"form-control",type:"password",value:D,disabled:!!se,onChange:Ee=>P(Ee.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"mode"}),c.jsxs("select",{className:"form-select",value:N,disabled:!!se,onChange:Ee=>T(Ee.target.value),children:[c.jsx("option",{value:"no_password",children:"no_password"}),c.jsx("option",{value:"new_password",children:"new_password"})]})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"new_password"}),c.jsx("input",{className:"form-control",type:"password",value:J,disabled:!!se||N!=="new_password",onChange:Ee=>z(Ee.target.value),placeholder:N==="new_password"?"Requerido":""})]}),c.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:c.jsx("button",{className:"btn btn-primary w-100",disabled:!!se||!Xe,onClick:Ie,children:se==="change-password"?"Procesando...":"Change password"})})]})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"5) Validate"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"sheet (opcional)"}),c.jsx("input",{className:"form-control",value:ee,disabled:!!se,onChange:Ee=>ce(Ee.target.value)})]}),c.jsxs("div",{className:"col-md-3 mB-10",children:[c.jsx("label",{className:"form-label",children:"header_row"}),c.jsx("input",{className:"form-control",type:"number",min:1,value:Ne,disabled:!!se,onChange:Ee=>Oe(Number(Ee.target.value||1))})]}),c.jsxs("div",{className:"col-md-3 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:q,disabled:!!se,onChange:Ee=>ne(Ee.target.value)})]}),c.jsxs("div",{className:"col-12 mB-10",children:[c.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),c.jsx("input",{className:"form-control",value:de,disabled:!!se,onChange:Ee=>Se(Ee.target.value),placeholder:"ColA, ColB, ColC"})]}),c.jsxs("div",{className:"col-12 mB-10",children:[c.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),c.jsx("textarea",{className:"form-control",rows:3,value:pe,disabled:!!se,onChange:Ee=>Te(Ee.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),c.jsx("button",{className:"btn btn-primary",disabled:!!se||!Xe,onClick:Pe,children:se==="validate"?"Validando...":"Validate"})]})}),Re&&c.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Re})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),se?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Y??0}%`},"aria-valuenow":Y??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:_e.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:_e.map((Ee,K)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:Ee.type})," ",Ee.stage?c.jsxs("span",{className:"text-muted",children:["[",Ee.stage,"]"]}):null]}),c.jsx("div",{className:"text-muted",children:Ee.message??Ee.detail??""})]},K))})}),c.jsx("hr",{className:"mY-15"}),c.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),De?c.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(De,null,2)}):c.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function kT(){const e=kn(),a=wl(),{toast:s}=Nr(),l=En(),o=yl(l?.role),d=Rc(),m=o&&!(d&&d>0),{data:h,isLoading:y,error:p}=br({queryKey:["catalogs"],queryFn:km,enabled:m}),v=h?.bancos??[],[S,_]=b.useState(()=>d&&d>0?d:0),[U,E]=b.useState(!1),R=b.useMemo(()=>v.find(P=>P.id===S)?.name??null,[v,S]);b.useEffect(()=>{const D=e.state;D?.toast&&(s({kind:D.toast.kind??"info",title:D.toast.title,message:D.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),b.useEffect(()=>{m&&(S>0||v.length>0&&_(v[0].id))},[S,v,m]);const w=S>0&&!U,H=async()=>{if(w)try{E(!0),await A0(S),s({kind:"success",title:"Banco",message:R?`Banco seleccionado: ${R}`:"Banco seleccionado."})}catch(D){const P=D?.response?.data?.detail??D?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(P)})}finally{E(!1)}};return c.jsxs("div",{className:"vi-home",children:[c.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),c.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),c.jsx("select",{id:"bankId",className:"form-select",value:S||"",onChange:D=>_(Number(D.target.value)),disabled:y||U,children:v.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))}),p?c.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),c.jsx("div",{className:"modal-footer",children:c.jsx("button",{type:"button",className:"btn btn-primary",disabled:!w,onClick:H,children:U?"Guardando...":"Continuar"})})]})})})]})}const fr=(...e)=>{};function qf(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function Bf(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function UT(e,a){let s=null,l=!1;const o=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,o])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function qT(){const[e,a]=b.useState([]),[s,l]=b.useState(""),[o,d]=b.useState([]),[m,h]=b.useState(0),[y,p]=b.useState("Listo para procesar"),[v,S]=b.useState(!1),[_,U]=b.useState(""),[E,R]=b.useState(!1),[w,H]=b.useState(null),[D,P]=b.useState(null),[N,T]=b.useState(!1),J=b.useMemo(()=>(Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[]).filter(ye=>ye?.status==="OK"&&String(ye?.source??"").toUpperCase()==="BASES").slice().sort((ye,ge)=>{const j=Number(ye?.oi_num),k=Number(ge?.oi_num),F=Number.isFinite(j),ve=Number.isFinite(k);if(F&&ve)return j-k;if(F&&!ve)return-1;if(!F&&ve)return 1;const W=String(ye?.oi_num??ye?.oi??"").toUpperCase(),ie=String(ge?.oi_num??ge?.oi??"").toUpperCase();return W.localeCompare(ie)}),[D]),z=b.useMemo(()=>(Array.isArray(D?.files_rejected)?D.files_rejected:[]).slice().sort((ye,ge)=>{const j=String(ye?.oi??ye?.filename??"").toUpperCase(),k=String(ge?.oi??ge?.filename??"").toUpperCase();return j.localeCompare(k)}),[D]),ee=b.useMemo(()=>{const K=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),ye=D?.by_source;if(ye&&typeof ye=="object")return ye;const ge={BASES:K(),GASELAG:K()},j=Array.isArray(D?.audit_by_oi)?D.audit_by_oi:[];for(const F of j){if(F?.status!=="OK")continue;const W=String(F?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";ge[W].files_ok+=1,ge[W].rows_read+=Number(F?.rows_read??0)||0,ge[W].conformes+=Number(F?.conformes??0)||0,ge[W].no_conformes+=Number(F?.no_conformes??0)||0,ge[W].rows_ignored_invalid_estado+=Number(F?.rows_ignored_invalid_estado??0)||0}const k=Array.isArray(D?.files_rejected)?D.files_rejected:[];for(const F of k){const W=String(F?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";ge[W].files_error+=1}for(const F of["BASES","GASELAG"])ge[F].files_total=ge[F].files_ok+ge[F].files_error;return ge},[D]),ce=b.useRef(null),Ne=b.useRef(null),Oe=b.useRef(null),de=b.useRef(!1),Se=b.useRef(null),pe=b.useRef(null),Te=b.useRef(null),q=b.useRef(!1),ne=b.useRef(!1),se=b.useRef(-1),we=b.useRef(-1),Re=b.useRef(!1);function A(){return Se.current||(Se.current=crypto.randomUUID()),Se.current}function Y(K){const ye=`${vl(K.type)}  ${bl(K.stage)}  ${wr(K.message??K.detail??"")}`;if(p(ye),d(ge=>{const j=[K,...ge];if(!Re.current&&K.stage==="cancelled"){Re.current=!0;const k=j.filter(ie=>ie.stage==="file_done"||ie.stage==="file_error").length,F=j.filter(ie=>ie.stage==="file_done").length,ve=j.filter(ie=>ie.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${k} (OK: ${F}, Rechazados: ${ve}). No se gener resultado final.`},...j]}return j}),K.type==="complete"){const ge=K.result??null;P(ge)}typeof K.progress=="number"&&h(Math.round(K.progress)),typeof K.percent=="number"&&h(Math.round(K.percent)),!de.current&&(K.type==="complete"||K.stage==="cancelled"||K.stage==="failed")&&(de.current=!0,K.type==="complete"?(R(!0),H(Se.current)):(R(!1),H(null),Se.current=null),S(!1),De("terminal_event"),Me())}function re(K){return typeof K.cursor!="number"?!1:K.cursor<=we.current?!0:(we.current=K.cursor,K.cursor>se.current&&(se.current=K.cursor),!1)}function _e(K){de.current||re(K)||Y(K)}function Ae(K,ye){const ge=new FormData;ge.append("operation_id",K),ge.append("source","AUTO"),s.trim()&&ge.append("output_filename",s.trim());for(const j of ye)ge.append("files",j);return ge}function De(K){Ne.current&&(Oe.current=K,Ne.current.abort(),Ne.current=null)}function Me(K){ne.current&&(ne.current=!1,pe.current!=null&&(window.clearTimeout(pe.current),pe.current=null),Te.current?.abort(),Te.current=null,q.current=!1)}function Xe(K){ne.current&&(pe.current!=null&&window.clearTimeout(pe.current),pe.current=window.setTimeout(()=>{me()},K))}async function me(){if(!ne.current||q.current)return;const K=Se.current;if(!K){Me();return}q.current=!0;try{const ye=await cT(K,se.current,Te.current?.signal);fr("[LOG01] poll cursor =",se.current,"->",ye.cursor_next),se.current=ye.cursor_next;for(const ge of ye.events)_e(ge);if(ye.done&&ye.events.length===0){Me("done");return}}catch(ye){ye?.name}finally{q.current=!1,ne.current&&Xe(350)}}function $e(K){ne.current||(ne.current=!0,Te.current=new AbortController,Xe(0))}function Be(){ce.current?.abort(),ce.current=null}async function je(){if(!v)return;const K=Se.current;if(K)try{await mT(K)}catch(ye){const ge=ye;it.isCancel(ge)||U(ge.response?.data?.detail||ge.message||"No se pudo cancelar la operacion")}Be()}async function Ye(){U(""),d([]),P(null),h(0),p("Listo para procesar"),R(!1),H(null),Oe.current=null,de.current=!1,Re.current=!1,se.current=-1,we.current=-1,Me();const K=[...e];if(!K.length){U("Debes seleccionar al menos 1 Excel.");return}Se.current=null;const ye=A();let ge=null,j=null;const k=new Promise((W,ie)=>{ge=W,j=ie});Ne.current=new AbortController,ce.current=new AbortController,rT(ye,W=>{if(W.type==="hello"){ge&&(ge(),ge=null);return}_e(W)},Ne.current.signal).then(()=>{de.current||$e()}).catch(W=>{W?.name==="AbortError"?fr("[LOG01] progress stream aborted (reason) =",Oe.current):(j&&(j(W),j=null),$e())}),S(!0);try{await UT(k,1800)?fr("[LOG01] hello received"):$e("hello_timeout");const ie=Ae(ye,K);fr("[LOG01] operation_id(start) =",ye),await oT(ie,ce.current.signal)}catch(W){const ie=W;if(it.isCancel(ie))return;const Ce=ie.response?.data?.detail||ie.message||"Error inesperado";U(Ce),S(!1),Be(),De("start_failed"),Me(),Se.current=null}finally{Be()}}async function Ie(){const K=w??Se.current;if(!K){U("No hay resultado disponible.");return}try{U(""),fr("[LOG01] operation_id(result) =",K);const ye=await uT(K),ge=ye.headers["content-disposition"],j=ye.headers["x-file-name"],k=qf(ge)??j??"BD_CONSOLIDADO.xlsx";Bf(ye.data,k)}catch(ye){const ge=ye;if(it.isCancel(ge))return;const j=ge.response?.data?.detail||ge.message||"No se pudo descargar.";U(j)}}async function Pe(){const K=w??Se.current;if(!K){U("No hay resultado disponible.");return}try{U(""),fr("[LOG01] operation_id(manifest) =",K);const ye=await fT(K),ge=ye.headers["content-disposition"],j=ye.headers["x-file-name"],k=qf(ge)??j??"MANIFIESTO.json";Bf(ye.data,k)}catch(ye){const ge=ye;if(it.isCancel(ge))return;const j=ge.response?.data?.detail||ge.message||"No se pudo descargar.";U(j)}}async function Ee(){const K=w??Se.current;if(!K){U("No hay resultado disponible.");return}try{U(""),fr("[LOG01] operation_id(no_conforme) =",K);const ye=await dT(K),ge=ye.headers["content-disposition"],j=ye.headers["x-file-name"],k=qf(ge)??j??"NO_CONFORME_FINAL.json";Bf(ye.data,k)}catch(ye){const ge=ye;if(it.isCancel(ge))return;const j=ge.response?.data?.detail||ge.message||"No se pudo descargar.";U(j)}}return c.jsx("div",{className:"container-fluid",children:c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),_&&c.jsx("div",{className:"alert alert-danger",role:"alert",children:_}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-12 mB-15",children:[c.jsx(nu,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,disabled:v}),c.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),c.jsx("input",{className:"form-control",value:s,onChange:K=>l(K.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),c.jsxs("div",{className:"vi-log01-actions",children:[c.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:Ye,disabled:v,children:v?"Procesando...":"Consolidar"}),v?c.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void je(),children:"Cancelar"}):null,!v&&E?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>void Pe(),children:"Manifiesto (JSON)"}),c.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>void Ee(),children:"No conforme (JSON)"}),c.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void Ie(),children:"Descargar"})]}):null]})]})]}),c.jsxs("div",{className:"mT-10",children:[c.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),v?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress",children:c.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),c.jsx("div",{className:"mT-10 text-muted",children:y})]}),!v&&D?c.jsxs("div",{className:"mT-20",children:[c.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),c.jsx("div",{className:"bd p-10",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("div",{className:"small text-muted",children:"Archivos"}),c.jsxs("div",{className:"small",children:["Total: ",c.jsx("strong",{children:D.files_total??"N/D"}),"  OK:"," ",c.jsx("strong",{children:D.files_ok??"N/D"}),"  Rechazados:"," ",c.jsx("strong",{children:D.files_error??"N/D"})]}),c.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),c.jsx("tbody",{children:["BASES","GASELAG"].map(K=>{const ye=ee?.[K]??{},ge=ye?.files_total??Number(ye?.files_ok??0)+Number(ye?.files_error??0);return c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:K})}),c.jsxs("td",{style:{whiteSpace:"nowrap"},children:[c.jsx("strong",{children:ge??0})," ",c.jsxs("span",{className:"text-muted",children:["(OK: ",ye?.files_ok??0,"  Rech: ",ye?.files_error??0,")"]})]}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:ye?.rows_read??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:ye?.conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:ye?.no_conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:ye?.rows_ignored_invalid_estado??0})})]},K)})})]})}),c.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),J.length>0?c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),c.jsx("tbody",{children:J.map((K,ye)=>c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:K?.oi_num?`OI-${K.oi_num}`:"N/D"}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:K?.rows_read??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:K?.conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:K?.no_conformes??0})})]},ye))})]})}):c.jsx("div",{className:"small text-muted",children:"N/D"}),Number(ee?.GASELAG?.rows_read??0)>0?c.jsxs("div",{className:"mT-10 small",children:[c.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",c.jsx("strong",{children:ee.GASELAG.rows_read??0}),"  Conformes:"," ",c.jsx("strong",{children:ee.GASELAG.conformes??0}),"  No conformes:"," ",c.jsx("strong",{children:ee.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",c.jsx("strong",{children:ee.GASELAG.rows_ignored_invalid_estado??0})]}):null,z.length>0?c.jsxs("div",{className:"mT-15",children:[c.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),c.jsx("tbody",{children:z.map((K,ye)=>{const ge=String(K?.code??""),j=String(K?.detail??"");let k="";ge&&j?k=`(${ge}) ${j}`:ge?k=`(${ge})`:k=j||"N/D";const F=String(K?.source??"").toUpperCase();let ve=K?.filename??"N/D";if(F==="BASES"){const W=Number(K?.oi_num);Number.isFinite(W)&&W>0&&(ve=`OI-${W} / ${ve}`)}else F==="GASELAG"&&(ve=`GASELAG / ${ve}`);return c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:ve}),c.jsx("td",{children:k})]},ye)})})]})})]}):null,c.jsxs("div",{className:"col-12 mT-10 p-0",children:[c.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),c.jsxs("div",{className:"small",children:["Registros ledos:"," ",c.jsx("strong",{children:D.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",c.jsx("strong",{children:D.totals_input?.conformes??"N/D"}),"  No conformes:"," ",c.jsx("strong",{children:D.totals_input?.no_conformes??"N/D"})]})]})]}),c.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[c.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),c.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",c.jsx("strong",{children:D.series_total_dedup??"N/D"}),"  Conformes finales:"," ",c.jsx("strong",{children:D.series_conformes??"N/D"}),"  No conformes finales:"," ",c.jsx("strong",{children:D.series_no_conformes_final??"N/D"})]}),c.jsx("div",{className:"mT-10",children:c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>T(K=>!K),children:N?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),N?c.jsxs("div",{className:"mT-10",children:[c.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),c.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",c.jsx("strong",{children:D.rows_total_read??D.totals_input?.rows_read??"N/D"})," "," Duplicados eliminados:"," ",c.jsx("strong",{children:D.series_duplicates_eliminated??D.detail?.series_duplicates_eliminated??"N/D"})," "," nicas = Ledos  Duplicados:"," ",c.jsx("strong",{children:(()=>{const K=D.technical?.rows_total_read??D.rows_total_read??D.totals_input?.rows_read,ye=D.technical?.series_duplicates_eliminated??D.detail?.series_duplicates_eliminated;if(typeof K=="number"&&typeof ye=="number")return K-ye;const ge=D.series_total_dedup;return typeof ge=="number"?ge:"N/D"})()})]})]}):null]})]})})]}):null,o.length>0&&c.jsxs("div",{className:"mT-20",children:[c.jsx("h6",{className:"c-grey-900",children:"Eventos"}),c.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:o.map((K,ye)=>{const ge=K.message??"",j=K.code??"",k=K.detail??"",F=wr(ge||k||"");let ve="";return j?ve=`${j}${k?`  ${k}`:""}`:k&&ge&&(ve=k),c.jsxs("div",{className:"small",children:[vl(K.type),"  ",bl(K.stage)," "," ",F,ve?c.jsxs("span",{className:"text-muted",children:[" (",ve,")"]}):null]},ye)})})]})]})})})})}function BT(){const e=En();return c.jsx(c.Fragment,{children:c.jsxs(hw,{children:[c.jsx(ln,{path:"/login",element:e?.token?c.jsx($s,{to:"/home",replace:!0}):c.jsx(Zj,{})}),c.jsx(ln,{element:c.jsx(kR,{}),children:c.jsxs(ln,{element:c.jsx(FR,{}),children:[c.jsx(ln,{path:"/",element:c.jsx($s,{to:"/home",replace:!0})}),c.jsx(ln,{path:"/home",element:c.jsx(kT,{})}),c.jsx(ln,{path:"/oi",element:c.jsx(nb,{})}),c.jsx(ln,{path:"/oi/:oiId",element:c.jsx(nb,{})}),c.jsx(ln,{path:"/oi/list",element:c.jsx($R,{})}),c.jsx(ln,{path:"/users",element:c.jsx(IR,{})}),c.jsx(ln,{path:"/password",element:c.jsx(HR,{})}),c.jsx(ln,{path:"/admin/permisos",element:c.jsx(GR,{})}),c.jsx(ln,{path:"/logistica/log01/excel",element:c.jsx(qT,{})}),c.jsx(ln,{path:"/oi/tools/vima-to-lista",element:c.jsx(aT,{})}),c.jsx(ln,{path:"/oi/tools/actualizacion-base",element:c.jsx(NT,{})}),c.jsx(ln,{path:"/oi/tools/consolidacion",element:c.jsx(jT,{})}),c.jsx(ln,{path:"/oi/tools/consolidacion/correlativo",element:c.jsx(CT,{})}),c.jsx(ln,{path:"/oi/tools/consolidacion/no-correlativo",element:c.jsx(zT,{})}),c.jsx(ln,{path:"/oi/tools/excel",element:c.jsx(MT,{})})]})}),c.jsx(ln,{path:"*",element:c.jsx($s,{to:e?.token?"/home":"/login",replace:!0})})]})})}const LT=new pN;S_.createRoot(document.getElementById("root")).render(c.jsx(at.StrictMode,{children:c.jsx(gN,{client:LT,children:c.jsx(Bw,{children:c.jsx(Vj,{children:c.jsx(BT,{})})})})}));
