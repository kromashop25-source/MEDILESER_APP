(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function Ev(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hf={exports:{}},Ei={};var Ly;function DN(){if(Ly)return Ei;Ly=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:l,key:f,ref:c!==void 0?c:null,props:d}}return Ei.Fragment=a,Ei.jsx=s,Ei.jsxs=s,Ei}var By;function zN(){return By||(By=1,hf.exports=DN()),hf.exports}var i=zN(),pf={exports:{}},ot={};var qy;function MN(){if(qy)return ot;qy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function q(w){return w===null||typeof w!="object"?null:(w=N&&w[N]||w["@@iterator"],typeof w=="function"?w:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function B(w,G,ie){this.props=w,this.context=G,this.refs=C,this.updater=ie||j}B.prototype.isReactComponent={},B.prototype.setState=function(w,G){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,G,"setState")},B.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function T(){}T.prototype=B.prototype;function K(w,G,ie){this.props=w,this.context=G,this.refs=C,this.updater=ie||j}var D=K.prototype=new T;D.constructor=K,_(D,B.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function V(){}var U={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function ce(w,G,ie){var k=ie.ref;return{$$typeof:e,type:w,key:G,ref:k!==void 0?k:null,props:ie}}function _e(w,G){return ce(w.type,G,w.props)}function xe(w){return typeof w=="object"&&w!==null&&w.$$typeof===e}function me(w){var G={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ie){return G[ie]})}var Se=/\/+/g;function De(w,G){return typeof w=="object"&&w!==null&&w.key!=null?me(""+w.key):G.toString(36)}function Oe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(V,V):(w.status="pending",w.then(function(G){w.status==="pending"&&(w.status="fulfilled",w.value=G)},function(G){w.status==="pending"&&(w.status="rejected",w.reason=G)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function M(w,G,ie,k,oe){var pe=typeof w;(pe==="undefined"||pe==="boolean")&&(w=null);var Re=!1;if(w===null)Re=!0;else switch(pe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(w.$$typeof){case e:case a:Re=!0;break;case v:return Re=w._init,M(Re(w._payload),G,ie,k,oe)}}if(Re)return oe=oe(w),Re=k===""?"."+De(w,0):k,O(oe)?(ie="",Re!=null&&(ie=Re.replace(Se,"$&/")+"/"),M(oe,G,ie,"",function(Me){return Me})):oe!=null&&(xe(oe)&&(oe=_e(oe,ie+(oe.key==null||w&&w.key===oe.key?"":(""+oe.key).replace(Se,"$&/")+"/")+Re)),G.push(oe)),1;Re=0;var $e=k===""?".":k+":";if(O(w))for(var de=0;de<w.length;de++)k=w[de],pe=$e+De(k,de),Re+=M(k,G,ie,pe,oe);else if(de=q(w),typeof de=="function")for(w=de.call(w),de=0;!(k=w.next()).done;)k=k.value,pe=$e+De(k,de++),Re+=M(k,G,ie,pe,oe);else if(pe==="object"){if(typeof w.then=="function")return M(Oe(w),G,ie,k,oe);throw G=String(w),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Re}function I(w,G,ie){if(w==null)return w;var k=[],oe=0;return M(w,k,"","",function(pe){return G.call(ie,pe,oe++)}),k}function ee(w){if(w._status===-1){var G=w._result;G=G(),G.then(function(ie){(w._status===0||w._status===-1)&&(w._status=1,w._result=ie)},function(ie){(w._status===0||w._status===-1)&&(w._status=2,w._result=ie)}),w._status===-1&&(w._status=0,w._result=G)}if(w._status===1)return w._result.default;throw w._result}var ye=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},je={map:I,forEach:function(w,G,ie){I(w,function(){G.apply(this,arguments)},ie)},count:function(w){var G=0;return I(w,function(){G++}),G},toArray:function(w){return I(w,function(G){return G})||[]},only:function(w){if(!xe(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ot.Activity=x,ot.Children=je,ot.Component=B,ot.Fragment=s,ot.Profiler=c,ot.PureComponent=K,ot.StrictMode=l,ot.Suspense=g,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,ot.__COMPILER_RUNTIME={__proto__:null,c:function(w){return U.H.useMemoCache(w)}},ot.cache=function(w){return function(){return w.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(w,G,ie){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var k=_({},w.props),oe=w.key;if(G!=null)for(pe in G.key!==void 0&&(oe=""+G.key),G)!X.call(G,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&G.ref===void 0||(k[pe]=G[pe]);var pe=arguments.length-2;if(pe===1)k.children=ie;else if(1<pe){for(var Re=Array(pe),$e=0;$e<pe;$e++)Re[$e]=arguments[$e+2];k.children=Re}return ce(w.type,oe,k)},ot.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},ot.createElement=function(w,G,ie){var k,oe={},pe=null;if(G!=null)for(k in G.key!==void 0&&(pe=""+G.key),G)X.call(G,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(oe[k]=G[k]);var Re=arguments.length-2;if(Re===1)oe.children=ie;else if(1<Re){for(var $e=Array(Re),de=0;de<Re;de++)$e[de]=arguments[de+2];oe.children=$e}if(w&&w.defaultProps)for(k in Re=w.defaultProps,Re)oe[k]===void 0&&(oe[k]=Re[k]);return ce(w,pe,oe)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(w){return{$$typeof:h,render:w}},ot.isValidElement=xe,ot.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:ee}},ot.memo=function(w,G){return{$$typeof:p,type:w,compare:G===void 0?null:G}},ot.startTransition=function(w){var G=U.T,ie={};U.T=ie;try{var k=w(),oe=U.S;oe!==null&&oe(ie,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(V,ye)}catch(pe){ye(pe)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),U.T=G}},ot.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},ot.use=function(w){return U.H.use(w)},ot.useActionState=function(w,G,ie){return U.H.useActionState(w,G,ie)},ot.useCallback=function(w,G){return U.H.useCallback(w,G)},ot.useContext=function(w){return U.H.useContext(w)},ot.useDebugValue=function(){},ot.useDeferredValue=function(w,G){return U.H.useDeferredValue(w,G)},ot.useEffect=function(w,G){return U.H.useEffect(w,G)},ot.useEffectEvent=function(w){return U.H.useEffectEvent(w)},ot.useId=function(){return U.H.useId()},ot.useImperativeHandle=function(w,G,ie){return U.H.useImperativeHandle(w,G,ie)},ot.useInsertionEffect=function(w,G){return U.H.useInsertionEffect(w,G)},ot.useLayoutEffect=function(w,G){return U.H.useLayoutEffect(w,G)},ot.useMemo=function(w,G){return U.H.useMemo(w,G)},ot.useOptimistic=function(w,G){return U.H.useOptimistic(w,G)},ot.useReducer=function(w,G,ie){return U.H.useReducer(w,G,ie)},ot.useRef=function(w){return U.H.useRef(w)},ot.useState=function(w){return U.H.useState(w)},ot.useSyncExternalStore=function(w,G,ie){return U.H.useSyncExternalStore(w,G,ie)},ot.useTransition=function(){return U.H.useTransition()},ot.version="19.2.0",ot}var Iy;function Em(){return Iy||(Iy=1,pf.exports=MN()),pf.exports}var b=Em();const mt=Ev(b);var gf={exports:{}},Ai={},yf={exports:{}},bf={};var $y;function kN(){return $y||($y=1,(function(e){function a(M,I){var ee=M.length;M.push(I);e:for(;0<ee;){var ye=ee-1>>>1,je=M[ye];if(0<c(je,I))M[ye]=I,M[ee]=je,ee=ye;else break e}}function s(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var I=M[0],ee=M.pop();if(ee!==I){M[0]=ee;e:for(var ye=0,je=M.length,w=je>>>1;ye<w;){var G=2*(ye+1)-1,ie=M[G],k=G+1,oe=M[k];if(0>c(ie,ee))k<je&&0>c(oe,ie)?(M[ye]=oe,M[k]=ee,ye=k):(M[ye]=ie,M[G]=ee,ye=G);else if(k<je&&0>c(oe,ee))M[ye]=oe,M[k]=ee,ye=k;else break e}}return I}function c(M,I){var ee=M.sortIndex-I.sortIndex;return ee!==0?ee:M.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,h=f.now();e.unstable_now=function(){return f.now()-h}}var g=[],p=[],v=1,x=null,N=3,q=!1,j=!1,_=!1,C=!1,B=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function D(M){for(var I=s(p);I!==null;){if(I.callback===null)l(p);else if(I.startTime<=M)l(p),I.sortIndex=I.expirationTime,a(g,I);else break;I=s(p)}}function O(M){if(_=!1,D(M),!j)if(s(g)!==null)j=!0,V||(V=!0,me());else{var I=s(p);I!==null&&Oe(O,I.startTime-M)}}var V=!1,U=-1,X=5,ce=-1;function _e(){return C?!0:!(e.unstable_now()-ce<X)}function xe(){if(C=!1,V){var M=e.unstable_now();ce=M;var I=!0;try{e:{j=!1,_&&(_=!1,T(U),U=-1),q=!0;var ee=N;try{t:{for(D(M),x=s(g);x!==null&&!(x.expirationTime>M&&_e());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,N=x.priorityLevel;var je=ye(x.expirationTime<=M);if(M=e.unstable_now(),typeof je=="function"){x.callback=je,D(M),I=!0;break t}x===s(g)&&l(g),D(M)}else l(g);x=s(g)}if(x!==null)I=!0;else{var w=s(p);w!==null&&Oe(O,w.startTime-M),I=!1}}break e}finally{x=null,N=ee,q=!1}I=void 0}}finally{I?me():V=!1}}}var me;if(typeof K=="function")me=function(){K(xe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,De=Se.port2;Se.port1.onmessage=xe,me=function(){De.postMessage(null)}}else me=function(){B(xe,0)};function Oe(M,I){U=B(function(){M(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_next=function(M){switch(N){case 1:case 2:case 3:var I=3;break;default:I=N}var ee=N;N=I;try{return M()}finally{N=ee}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=N;N=M;try{return I()}finally{N=ee}},e.unstable_scheduleCallback=function(M,I,ee){var ye=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ye+ee:ye):ee=ye,M){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ee+je,M={id:v++,callback:I,priorityLevel:M,startTime:ee,expirationTime:je,sortIndex:-1},ee>ye?(M.sortIndex=ee,a(p,M),s(g)===null&&M===s(p)&&(_?(T(U),U=-1):_=!0,Oe(O,ee-ye))):(M.sortIndex=je,a(g,M),j||q||(j=!0,V||(V=!0,me()))),M},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(M){var I=N;return function(){var ee=N;N=I;try{return M.apply(this,arguments)}finally{N=ee}}}})(bf)),bf}var Fy;function UN(){return Fy||(Fy=1,yf.exports=kN()),yf.exports}var vf={exports:{}},Gn={};var Hy;function LN(){if(Hy)return Gn;Hy=1;var e=Em();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:p,implementation:v}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Gn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(g,p,null,v)},Gn.flushSync=function(g){var p=f.T,v=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=p,l.p=v,l.d.f()}},Gn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Gn.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Gn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:q}):v==="script"&&l.d.X(g,{crossOrigin:x,integrity:N,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Gn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(g,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Gn.requestFormReset=function(g){l.d.r(g)},Gn.unstable_batchedUpdates=function(g,p){return g(p)},Gn.useFormState=function(g,p,v){return f.H.useFormState(g,p,v)},Gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gn.version="19.2.0",Gn}var Vy;function BN(){if(Vy)return vf.exports;Vy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),vf.exports=LN(),vf.exports}var Zy;function qN(){if(Zy)return Ai;Zy=1;var e=UN(),a=Em(),s=BN();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,o=n;;){var u=r.return;if(u===null)break;var m=u.alternate;if(m===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===r)return g(u),t;if(m===o)return g(u),n;m=m.sibling}throw Error(l(188))}if(r.return!==o.return)r=u,o=m;else{for(var y=!1,S=u.child;S;){if(S===r){y=!0,r=u,o=m;break}if(S===o){y=!0,o=u,r=m;break}S=S.sibling}if(!y){for(S=m.child;S;){if(S===r){y=!0,r=m,o=u;break}if(S===o){y=!0,o=m,r=u;break}S=S.sibling}if(!y)throw Error(l(189))}}if(r.alternate!==o)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),K=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case B:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList";case ce:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case K:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case D:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:De(t.type)||"Memo";case X:n=t._payload,t=t._init;try{return De(t(n))}catch{}}return null}var Oe=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ye=[],je=-1;function w(t){return{current:t}}function G(t){0>je||(t.current=ye[je],ye[je]=null,je--)}function ie(t,n){je++,ye[je]=t.current,t.current=n}var k=w(null),oe=w(null),pe=w(null),Re=w(null);function $e(t,n){switch(ie(pe,n),ie(oe,t),ie(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ly(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ly(n),t=iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(k),ie(k,t)}function de(){G(k),G(oe),G(pe)}function Me(t){t.memoizedState!==null&&ie(Re,t);var n=k.current,r=iy(n,t.type);n!==r&&(ie(oe,t),ie(k,r))}function Ie(t){oe.current===t&&(G(k),G(oe)),Re.current===t&&(G(Re),Ni._currentValue=ee)}var Ze,dt;function Te(t){if(Ze===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ze=n&&n[1]||"",dt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+t+dt}var He=!1;function fe(t,n){if(!t||He)return"";He=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(le){var ne=le}Reflect.construct(t,[],ve)}else{try{ve.call()}catch(le){ne=le}t.call(ve.prototype)}}else{try{throw Error()}catch(le){ne=le}(ve=t())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(le){if(le&&ne&&typeof le.stack=="string")return[le.stack,ne.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),y=m[0],S=m[1];if(y&&S){var z=y.split(`
`),W=S.split(`
`);for(u=o=0;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;for(;u<W.length&&!W[u].includes("DetermineComponentFrameRoot");)u++;if(o===z.length||u===W.length)for(o=z.length-1,u=W.length-1;1<=o&&0<=u&&z[o]!==W[u];)u--;for(;1<=o&&0<=u;o--,u--)if(z[o]!==W[u]){if(o!==1||u!==1)do if(o--,u--,0>u||z[o]!==W[u]){var ue=`
`+z[o].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=o&&0<=u);break}}}finally{He=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Te(r):""}function Fe(t,n){switch(t.tag){case 26:case 27:case 5:return Te(t.type);case 16:return Te("Lazy");case 13:return t.child!==n&&n!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return fe(t.type,!1);case 11:return fe(t.type.render,!1);case 1:return fe(t.type,!0);case 31:return Te("Activity");default:return""}}function Ee(t){try{var n="",r=null;do n+=Fe(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Je=Object.prototype.hasOwnProperty,A=e.unstable_scheduleCallback,H=e.unstable_cancelCallback,R=e.unstable_shouldYield,P=e.unstable_requestPaint,Z=e.unstable_now,se=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,ae=e.unstable_NormalPriority,ke=e.unstable_LowPriority,Ve=e.unstable_IdlePriority,at=e.log,en=e.unstable_setDisableYieldValue,Ne=null,et=null;function Dt(t){if(typeof at=="function"&&en(t),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ne,t)}catch{}}var _t=Math.clz32?Math.clz32:ha,hn=Math.log,ln=Math.LN2;function ha(t){return t>>>=0,t===0?32:31-(hn(t)/ln|0)|0}var Fn=256,st=262144,Un=4194304;function ea(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pa(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,m=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~m,o!==0?u=ea(o):(y&=S,y!==0?u=ea(y):r||(r=S&~t,r!==0&&(u=ea(r))))):(S=o&~m,S!==0?u=ea(S):y!==0?u=ea(y):r||(r=o&~t,r!==0&&(u=ea(r)))),u===0?0:n!==0&&n!==u&&(n&m)===0&&(m=u&-u,r=n&-n,m>=r||m===32&&(r&4194048)!==0)?n:u}function Hn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(){var t=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),t}function te(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ge(t,n,r,o,u,m){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,z=t.expirationTimes,W=t.hiddenUpdates;for(r=y&~r;0<r;){var ue=31-_t(r),ve=1<<ue;S[ue]=0,z[ue]=-1;var ne=W[ue];if(ne!==null)for(W[ue]=null,ue=0;ue<ne.length;ue++){var le=ne[ue];le!==null&&(le.lane&=-536870913)}r&=~ve}o!==0&&nt(t,o,0),m!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=m&~(y&~n))}function nt(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function rt(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-_t(r),u=1<<o;u&n|t[o]&n&&(t[o]|=n),r&=~u}}function Ye(t,n){var r=n&-n;return r=(r&42)!==0?1:zt(r),(r&(t.suspendedLanes|n))!==0?0:r}function zt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function kt(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:Ry(t.type))}function pn(t,n){var r=I.p;try{return I.p=t,n()}finally{I.p=r}}var Et=Math.random().toString(36).slice(2),lt="__reactFiber$"+Et,bt="__reactProps$"+Et,Ht="__reactContainer$"+Et,on="__reactEvents$"+Et,En="__reactListeners$"+Et,gn="__reactHandles$"+Et,cn="__reactResources$"+Et,Zt="__reactMarker$"+Et;function Dn(t){delete t[lt],delete t[bt],delete t[on],delete t[En],delete t[gn]}function Ot(t){var n=t[lt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ht]||r[lt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=hy(t);t!==null;){if(r=t[lt])return r;t=hy(t)}return n}t=r,r=t.parentNode}return null}function un(t){if(t=t[lt]||t[Ht]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function An(t){var n=t[cn];return n||(n=t[cn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ut(t){t[Zt]=!0}var bs=new Set,Ln={};function yn(t,n){Q(t,n),Q(t+"Capture",n)}function Q(t,n){for(Ln[t]=n,t=0;t<n.length;t++)bs.add(n[t])}var be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ue={},Be={};function wt(t){return Je.call(Be,t)?!0:Je.call(Ue,t)?!1:be.test(t)?Be[t]=!0:(Ue[t]=!0,!1)}function jt(t,n,r){if(wt(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ta(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ml(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function no(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){r=""+y,m.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function kl(t){if(!t._valueTracker){var n=Ml(t)?"checked":"value";t._valueTracker=no(t,n,""+t[n])}}function Ul(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ml(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ll=/[\n"\\]/g;function zn(t){return t.replace(Ll,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Bl(t,n,r,o,u,m,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+bn(n)):t.value!==""+bn(n)&&(t.value=""+bn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ws(t,y,bn(n)):r!=null?Ws(t,y,bn(r)):o!=null&&t.removeAttribute("value"),u==null&&m!=null&&(t.defaultChecked=!!m),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+bn(S):t.removeAttribute("name")}function zr(t,n,r,o,u,m,y,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){kl(t);return}r=r!=null?""+bn(r):"",n=n!=null?""+bn(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),kl(t)}function Ws(t,n,r){n==="number"&&Js(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function vs(t,n,r,o){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&o&&(t[r].defaultSelected=!0)}else{for(r=""+bn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function ao(t,n,r){if(n!=null&&(n=""+bn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+bn(r):""}function so(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(l(92));if(Oe(o)){if(1<o.length)throw Error(l(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=bn(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),kl(t)}function xs(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ro(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function lo(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&r[u]!==o&&ro(t,u,o)}else for(var m in n)n.hasOwnProperty(m)&&ro(t,m,n[m])}function ql(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(t){return hu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qa(){}var Ss=null;function Il(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,ws=null;function io(t){var n=un(t);if(n&&(t=n.stateNode)){var r=t[bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Bl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+zn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var u=o[bt]||null;if(!u)throw Error(l(90));Bl(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Ul(o)}break e;case"textarea":ao(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&vs(t,!!r.multiple,n,!1)}}}var $l=!1;function oo(t,n,r){if($l)return t(n,r);$l=!0;try{var o=t(n);return o}finally{if($l=!1,(Ns!==null||ws!==null)&&(Go(),Ns&&(n=Ns,t=ws,ws=Ns=null,io(n),t)))for(n=0;n<t.length;n++)io(t[n])}}function er(t,n){var r=t.stateNode;if(r===null)return null;var o=r[bt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(Ia)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){tr=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{tr=!1}var Pa=null,E=null,F=null;function he(){if(F)return F;var t,n=E,r=n.length,o,u="value"in Pa?Pa.value:Pa.textContent,m=u.length;for(t=0;t<r&&n[t]===u[t];t++);var y=r-t;for(o=1;o<=y&&n[r-o]===u[m-o];o++);return F=u.slice(t,1<o?1-o:void 0)}function ze(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function it(){return!0}function Rt(){return!1}function ht(t){function n(r,o,u,m,y){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?it:Rt,this.isPropagationStopped=Rt,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=it)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=it)},persist:function(){},isPersistent:it}),n}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=ht(vn),Nt=x({},vn,{view:0,detail:0}),kr=ht(Nt),pu,gu,Fl,co=x({},Nt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fl&&(Fl&&t.type==="mousemove"?(pu=t.screenX-Fl.screenX,gu=t.screenY-Fl.screenY):gu=pu=0,Fl=t),pu)},movementY:function(t){return"movementY"in t?t.movementY:gu}}),ch=ht(co),T0=x({},co,{dataTransfer:0}),D0=ht(T0),z0=x({},Nt,{relatedTarget:0}),yu=ht(z0),M0=x({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=ht(M0),U0=x({},vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L0=ht(U0),B0=x({},vn,{data:0}),uh=ht(B0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=$0[t])?!!n[t]:!1}function bu(){return F0}var H0=x({},Nt,{key:function(t){if(t.key){var n=q0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ze(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(t){return t.type==="keypress"?ze(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ze(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V0=ht(H0),Z0=x({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=ht(Z0),G0=x({},Nt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),P0=ht(G0),Q0=x({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y0=ht(Q0),K0=x({},co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X0=ht(K0),J0=x({},vn,{newState:0,oldState:0}),W0=ht(J0),eS=[9,13,27,32],vu=Ia&&"CompositionEvent"in window,Hl=null;Ia&&"documentMode"in document&&(Hl=document.documentMode);var tS=Ia&&"TextEvent"in window&&!Hl,fh=Ia&&(!vu||Hl&&8<Hl&&11>=Hl),mh=" ",hh=!1;function ph(t,n){switch(t){case"keyup":return eS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function nS(t,n){switch(t){case"compositionend":return gh(n);case"keypress":return n.which!==32?null:(hh=!0,mh);case"textInput":return t=n.data,t===mh&&hh?null:t;default:return null}}function aS(t,n){if(Ur)return t==="compositionend"||!vu&&ph(t,n)?(t=he(),F=E=Pa=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fh&&n.locale!=="ko"?null:n.data;default:return null}}var sS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sS[t.type]:n==="textarea"}function bh(t,n,r,o){Ns?ws?ws.push(o):ws=[o]:Ns=o,n=Wo(n,"onChange"),0<n.length&&(r=new na("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Vl=null,Zl=null;function rS(t){ey(t,0)}function uo(t){var n=Zn(t);if(Ul(n))return t}function vh(t,n){if(t==="change")return n}var xh=!1;if(Ia){var xu;if(Ia){var Su="oninput"in document;if(!Su){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),Su=typeof Sh.oninput=="function"}xu=Su}else xu=!1;xh=xu&&(!document.documentMode||9<document.documentMode)}function Nh(){Vl&&(Vl.detachEvent("onpropertychange",wh),Zl=Vl=null)}function wh(t){if(t.propertyName==="value"&&uo(Zl)){var n=[];bh(n,Zl,t,Il(t)),oo(rS,n)}}function lS(t,n,r){t==="focusin"?(Nh(),Vl=n,Zl=r,Vl.attachEvent("onpropertychange",wh)):t==="focusout"&&Nh()}function iS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uo(Zl)}function oS(t,n){if(t==="click")return uo(n)}function cS(t,n){if(t==="input"||t==="change")return uo(n)}function uS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ga=typeof Object.is=="function"?Object.is:uS;function Gl(t,n){if(ga(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!Je.call(n,u)||!ga(t[u],n[u]))return!1}return!0}function jh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _h(t,n){var r=jh(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jh(r)}}function Eh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Eh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ah(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Js(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Js(t.document)}return n}function Nu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var dS=Ia&&"documentMode"in document&&11>=document.documentMode,Lr=null,wu=null,Pl=null,ju=!1;function Ch(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ju||Lr==null||Lr!==Js(o)||(o=Lr,"selectionStart"in o&&Nu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Pl&&Gl(Pl,o)||(Pl=o,o=Wo(wu,"onSelect"),0<o.length&&(n=new na("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Lr)))}function ar(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Br={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},_u={},Oh={};Ia&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function sr(t){if(_u[t])return _u[t];if(!Br[t])return t;var n=Br[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Oh)return _u[t]=n[r];return t}var Rh=sr("animationend"),Th=sr("animationiteration"),Dh=sr("animationstart"),fS=sr("transitionrun"),mS=sr("transitionstart"),hS=sr("transitioncancel"),zh=sr("transitionend"),Mh=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function $a(t,n){Mh.set(t,n),yn(n,[t])}var fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ja=[],qr=0,Au=0;function mo(){for(var t=qr,n=Au=qr=0;n<t;){var r=ja[n];ja[n++]=null;var o=ja[n];ja[n++]=null;var u=ja[n];ja[n++]=null;var m=ja[n];if(ja[n++]=null,o!==null&&u!==null){var y=o.pending;y===null?u.next=u:(u.next=y.next,y.next=u),o.pending=u}m!==0&&kh(r,u,m)}}function ho(t,n,r,o){ja[qr++]=t,ja[qr++]=n,ja[qr++]=r,ja[qr++]=o,Au|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Cu(t,n,r,o){return ho(t,n,r,o),po(t)}function rr(t,n){return ho(t,null,null,n),po(t)}function kh(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var u=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(u=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,u&&n!==null&&(u=31-_t(r),t=m.hiddenUpdates,o=t[u],o===null?t[u]=[n]:o.push(n),n.lane=r|536870912),m):null}function po(t){if(50<pi)throw pi=0,Ld=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ir={};function pS(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(t,n,r,o){return new pS(t,n,r,o)}function Ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var r=t.alternate;return r===null?(r=ya(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Uh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function go(t,n,r,o,u,m){var y=0;if(o=t,typeof t=="function")Ou(t)&&(y=1);else if(typeof t=="string")y=xN(t,r,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ce:return t=ya(31,r,n,u),t.elementType=ce,t.lanes=m,t;case _:return lr(r.children,u,m,n);case C:y=8,u|=24;break;case B:return t=ya(12,r,n,u|2),t.elementType=B,t.lanes=m,t;case O:return t=ya(13,r,n,u),t.elementType=O,t.lanes=m,t;case V:return t=ya(19,r,n,u),t.elementType=V,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:y=10;break e;case T:y=9;break e;case D:y=11;break e;case U:y=14;break e;case X:y=16,o=null;break e}y=29,r=Error(l(130,t===null?"null":typeof t,"")),o=null}return n=ya(y,r,n,u),n.elementType=t,n.type=o,n.lanes=m,n}function lr(t,n,r,o){return t=ya(7,t,o,n),t.lanes=r,t}function Ru(t,n,r){return t=ya(6,t,null,n),t.lanes=r,t}function Lh(t){var n=ya(18,null,null,0);return n.stateNode=t,n}function Tu(t,n,r){return n=ya(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Bh=new WeakMap;function _a(t,n){if(typeof t=="object"&&t!==null){var r=Bh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ee(n)},Bh.set(t,n),n)}return{value:t,source:n,stack:Ee(n)}}var $r=[],Fr=0,yo=null,Ql=0,Ea=[],Aa=0,js=null,Qa=1,Ya="";function ts(t,n){$r[Fr++]=Ql,$r[Fr++]=yo,yo=t,Ql=n}function qh(t,n,r){Ea[Aa++]=Qa,Ea[Aa++]=Ya,Ea[Aa++]=js,js=t;var o=Qa;t=Ya;var u=32-_t(o)-1;o&=~(1<<u),r+=1;var m=32-_t(n)+u;if(30<m){var y=u-u%5;m=(o&(1<<y)-1).toString(32),o>>=y,u-=y,Qa=1<<32-_t(n)+u|r<<u|o,Ya=m+t}else Qa=1<<m|r<<u|o,Ya=t}function Du(t){t.return!==null&&(ts(t,1),qh(t,1,0))}function zu(t){for(;t===yo;)yo=$r[--Fr],$r[Fr]=null,Ql=$r[--Fr],$r[Fr]=null;for(;t===js;)js=Ea[--Aa],Ea[Aa]=null,Ya=Ea[--Aa],Ea[Aa]=null,Qa=Ea[--Aa],Ea[Aa]=null}function Ih(t,n){Ea[Aa++]=Qa,Ea[Aa++]=Ya,Ea[Aa++]=js,Qa=n.id,Ya=n.overflow,js=t}var Bn=null,Pt=null,St=!1,_s=null,Ca=!1,Mu=Error(l(519));function Es(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(_a(n,t)),Mu}function $h(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[lt]=t,n[bt]=o,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(r=0;r<yi.length;r++)yt(yi[r],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":yt("invalid",n),zr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":yt("invalid",n);break;case"textarea":yt("invalid",n),so(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||sy(n.textContent,r)?(o.popover!=null&&(yt("beforetoggle",n),yt("toggle",n)),o.onScroll!=null&&yt("scroll",n),o.onScrollEnd!=null&&yt("scrollend",n),o.onClick!=null&&(n.onclick=qa),n=!0):n=!1,n||Es(t,!0)}function Fh(t){for(Bn=t.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:Bn=Bn.return}}function Hr(t){if(t!==Bn)return!1;if(!St)return Fh(t),St=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Jd(t.type,t.memoizedProps)),r=!r),r&&Pt&&Es(t),Fh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Pt=my(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Pt=my(t)}else n===27?(n=Pt,Is(t.type)?(t=af,af=null,Pt=t):Pt=n):Pt=Bn?Ra(t.stateNode.nextSibling):null;return!0}function ir(){Pt=Bn=null,St=!1}function ku(){var t=_s;return t!==null&&(la===null?la=t:la.push.apply(la,t),_s=null),t}function Yl(t){_s===null?_s=[t]:_s.push(t)}var Uu=w(null),or=null,ns=null;function As(t,n,r){ie(Uu,n._currentValue),n._currentValue=r}function as(t){t._currentValue=Uu.current,G(Uu)}function Lu(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function Bu(t,n,r,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var m=u.dependencies;if(m!==null){var y=u.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=u;for(var z=0;z<n.length;z++)if(S.context===n[z]){m.lanes|=r,S=m.alternate,S!==null&&(S.lanes|=r),Lu(m.return,r,t),o||(y=null);break e}m=S.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=r,m=y.alternate,m!==null&&(m.lanes|=r),Lu(y,r,t),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===t){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Vr(t,n,r,o){t=null;for(var u=n,m=!1;u!==null;){if(!m){if((u.flags&524288)!==0)m=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var S=u.type;ga(u.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(u===Re.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Ni):t=[Ni])}u=u.return}t!==null&&Bu(n,t,r,o),n.flags|=262144}function bo(t){for(t=t.firstContext;t!==null;){if(!ga(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cr(t){or=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qn(t){return Hh(or,t)}function vo(t,n){return or===null&&cr(t),Hh(t,n)}function Hh(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ns===null){if(t===null)throw Error(l(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return r}var gS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},yS=e.unstable_scheduleCallback,bS=e.unstable_NormalPriority,xn={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new gS,data:new Map,refCount:0}}function Kl(t){t.refCount--,t.refCount===0&&yS(bS,function(){t.controller.abort()})}var Xl=null,Iu=0,Zr=0,Gr=null;function vS(t,n){if(Xl===null){var r=Xl=[];Iu=0,Zr=Hd(),Gr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Iu++,n.then(Vh,Vh),n}function Vh(){if(--Iu===0&&Xl!==null){Gr!==null&&(Gr.status="fulfilled");var t=Xl;Xl=null,Zr=0,Gr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xS(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var Zh=M.S;M.S=function(t,n){Cg=Z(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vS(t,n),Zh!==null&&Zh(t,n)};var ur=w(null);function $u(){var t=ur.current;return t!==null?t:Vt.pooledCache}function xo(t,n){n===null?ie(ur,ur.current):ie(ur,n.pool)}function Gh(){var t=$u();return t===null?null:{parent:xn._currentValue,pool:t}}var Pr=Error(l(460)),Fu=Error(l(474)),So=Error(l(542)),No={then:function(){}};function Ph(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(qa,qa),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kh(t),t;default:if(typeof n.status=="string")n.then(qa,qa);else{if(t=Vt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kh(t),t}throw fr=n,Pr}}function dr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(fr=r,Pr):r}}var fr=null;function Yh(){if(fr===null)throw Error(l(459));var t=fr;return fr=null,t}function Kh(t){if(t===Pr||t===So)throw Error(l(483))}var Qr=null,Jl=0;function wo(t){var n=Jl;return Jl+=1,Qr===null&&(Qr=[]),Qh(Qr,t,n)}function Wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function jo(t,n){throw n.$$typeof===N?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xh(t){function n($,L){if(t){var J=$.deletions;J===null?($.deletions=[L],$.flags|=16):J.push(L)}}function r($,L){if(!t)return null;for(;L!==null;)n($,L),L=L.sibling;return null}function o($){for(var L=new Map;$!==null;)$.key!==null?L.set($.key,$):L.set($.index,$),$=$.sibling;return L}function u($,L){return $=es($,L),$.index=0,$.sibling=null,$}function m($,L,J){return $.index=J,t?(J=$.alternate,J!==null?(J=J.index,J<L?($.flags|=67108866,L):J):($.flags|=67108866,L)):($.flags|=1048576,L)}function y($){return t&&$.alternate===null&&($.flags|=67108866),$}function S($,L,J,ge){return L===null||L.tag!==6?(L=Ru(J,$.mode,ge),L.return=$,L):(L=u(L,J),L.return=$,L)}function z($,L,J,ge){var Xe=J.type;return Xe===_?ue($,L,J.props.children,ge,J.key):L!==null&&(L.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===X&&dr(Xe)===L.type)?(L=u(L,J.props),Wl(L,J),L.return=$,L):(L=go(J.type,J.key,J.props,null,$.mode,ge),Wl(L,J),L.return=$,L)}function W($,L,J,ge){return L===null||L.tag!==4||L.stateNode.containerInfo!==J.containerInfo||L.stateNode.implementation!==J.implementation?(L=Tu(J,$.mode,ge),L.return=$,L):(L=u(L,J.children||[]),L.return=$,L)}function ue($,L,J,ge,Xe){return L===null||L.tag!==7?(L=lr(J,$.mode,ge,Xe),L.return=$,L):(L=u(L,J),L.return=$,L)}function ve($,L,J){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ru(""+L,$.mode,J),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return J=go(L.type,L.key,L.props,null,$.mode,J),Wl(J,L),J.return=$,J;case j:return L=Tu(L,$.mode,J),L.return=$,L;case X:return L=dr(L),ve($,L,J)}if(Oe(L)||me(L))return L=lr(L,$.mode,J,null),L.return=$,L;if(typeof L.then=="function")return ve($,wo(L),J);if(L.$$typeof===K)return ve($,vo($,L),J);jo($,L)}return null}function ne($,L,J,ge){var Xe=L!==null?L.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Xe!==null?null:S($,L,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return J.key===Xe?z($,L,J,ge):null;case j:return J.key===Xe?W($,L,J,ge):null;case X:return J=dr(J),ne($,L,J,ge)}if(Oe(J)||me(J))return Xe!==null?null:ue($,L,J,ge,null);if(typeof J.then=="function")return ne($,L,wo(J),ge);if(J.$$typeof===K)return ne($,L,vo($,J),ge);jo($,J)}return null}function le($,L,J,ge,Xe){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return $=$.get(J)||null,S(L,$,""+ge,Xe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case q:return $=$.get(ge.key===null?J:ge.key)||null,z(L,$,ge,Xe);case j:return $=$.get(ge.key===null?J:ge.key)||null,W(L,$,ge,Xe);case X:return ge=dr(ge),le($,L,J,ge,Xe)}if(Oe(ge)||me(ge))return $=$.get(J)||null,ue(L,$,ge,Xe,null);if(typeof ge.then=="function")return le($,L,J,wo(ge),Xe);if(ge.$$typeof===K)return le($,L,J,vo(L,ge),Xe);jo(L,ge)}return null}function Pe($,L,J,ge){for(var Xe=null,At=null,Qe=L,ft=L=0,xt=null;Qe!==null&&ft<J.length;ft++){Qe.index>ft?(xt=Qe,Qe=null):xt=Qe.sibling;var Ct=ne($,Qe,J[ft],ge);if(Ct===null){Qe===null&&(Qe=xt);break}t&&Qe&&Ct.alternate===null&&n($,Qe),L=m(Ct,L,ft),At===null?Xe=Ct:At.sibling=Ct,At=Ct,Qe=xt}if(ft===J.length)return r($,Qe),St&&ts($,ft),Xe;if(Qe===null){for(;ft<J.length;ft++)Qe=ve($,J[ft],ge),Qe!==null&&(L=m(Qe,L,ft),At===null?Xe=Qe:At.sibling=Qe,At=Qe);return St&&ts($,ft),Xe}for(Qe=o(Qe);ft<J.length;ft++)xt=le(Qe,$,ft,J[ft],ge),xt!==null&&(t&&xt.alternate!==null&&Qe.delete(xt.key===null?ft:xt.key),L=m(xt,L,ft),At===null?Xe=xt:At.sibling=xt,At=xt);return t&&Qe.forEach(function(Zs){return n($,Zs)}),St&&ts($,ft),Xe}function tt($,L,J,ge){if(J==null)throw Error(l(151));for(var Xe=null,At=null,Qe=L,ft=L=0,xt=null,Ct=J.next();Qe!==null&&!Ct.done;ft++,Ct=J.next()){Qe.index>ft?(xt=Qe,Qe=null):xt=Qe.sibling;var Zs=ne($,Qe,Ct.value,ge);if(Zs===null){Qe===null&&(Qe=xt);break}t&&Qe&&Zs.alternate===null&&n($,Qe),L=m(Zs,L,ft),At===null?Xe=Zs:At.sibling=Zs,At=Zs,Qe=xt}if(Ct.done)return r($,Qe),St&&ts($,ft),Xe;if(Qe===null){for(;!Ct.done;ft++,Ct=J.next())Ct=ve($,Ct.value,ge),Ct!==null&&(L=m(Ct,L,ft),At===null?Xe=Ct:At.sibling=Ct,At=Ct);return St&&ts($,ft),Xe}for(Qe=o(Qe);!Ct.done;ft++,Ct=J.next())Ct=le(Qe,$,ft,Ct.value,ge),Ct!==null&&(t&&Ct.alternate!==null&&Qe.delete(Ct.key===null?ft:Ct.key),L=m(Ct,L,ft),At===null?Xe=Ct:At.sibling=Ct,At=Ct);return t&&Qe.forEach(function(TN){return n($,TN)}),St&&ts($,ft),Xe}function Ft($,L,J,ge){if(typeof J=="object"&&J!==null&&J.type===_&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case q:e:{for(var Xe=J.key;L!==null;){if(L.key===Xe){if(Xe=J.type,Xe===_){if(L.tag===7){r($,L.sibling),ge=u(L,J.props.children),ge.return=$,$=ge;break e}}else if(L.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===X&&dr(Xe)===L.type){r($,L.sibling),ge=u(L,J.props),Wl(ge,J),ge.return=$,$=ge;break e}r($,L);break}else n($,L);L=L.sibling}J.type===_?(ge=lr(J.props.children,$.mode,ge,J.key),ge.return=$,$=ge):(ge=go(J.type,J.key,J.props,null,$.mode,ge),Wl(ge,J),ge.return=$,$=ge)}return y($);case j:e:{for(Xe=J.key;L!==null;){if(L.key===Xe)if(L.tag===4&&L.stateNode.containerInfo===J.containerInfo&&L.stateNode.implementation===J.implementation){r($,L.sibling),ge=u(L,J.children||[]),ge.return=$,$=ge;break e}else{r($,L);break}else n($,L);L=L.sibling}ge=Tu(J,$.mode,ge),ge.return=$,$=ge}return y($);case X:return J=dr(J),Ft($,L,J,ge)}if(Oe(J))return Pe($,L,J,ge);if(me(J)){if(Xe=me(J),typeof Xe!="function")throw Error(l(150));return J=Xe.call(J),tt($,L,J,ge)}if(typeof J.then=="function")return Ft($,L,wo(J),ge);if(J.$$typeof===K)return Ft($,L,vo($,J),ge);jo($,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,L!==null&&L.tag===6?(r($,L.sibling),ge=u(L,J),ge.return=$,$=ge):(r($,L),ge=Ru(J,$.mode,ge),ge.return=$,$=ge),y($)):r($,L)}return function($,L,J,ge){try{Jl=0;var Xe=Ft($,L,J,ge);return Qr=null,Xe}catch(Qe){if(Qe===Pr||Qe===So)throw Qe;var At=ya(29,Qe,null,$.mode);return At.lanes=ge,At.return=$,At}finally{}}}var mr=Xh(!0),Jh=Xh(!1),Cs=!1;function Hu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Tt&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=po(t),kh(t,null,r),n}return ho(t,o,n,r),po(t)}function ei(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,rt(t,r)}}function Zu(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?u=m=y:m=m.next=y,r=r.next}while(r!==null);m===null?u=m=n:m=m.next=n}else u=m=n;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Gu=!1;function ti(){if(Gu){var t=Gr;if(t!==null)throw t}}function ni(t,n,r,o){Gu=!1;var u=t.updateQueue;Cs=!1;var m=u.firstBaseUpdate,y=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var z=S,W=z.next;z.next=null,y===null?m=W:y.next=W,y=z;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,S=ue.lastBaseUpdate,S!==y&&(S===null?ue.firstBaseUpdate=W:S.next=W,ue.lastBaseUpdate=z))}if(m!==null){var ve=u.baseState;y=0,ue=W=z=null,S=m;do{var ne=S.lane&-536870913,le=ne!==S.lane;if(le?(vt&ne)===ne:(o&ne)===ne){ne!==0&&ne===Zr&&(Gu=!0),ue!==null&&(ue=ue.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Pe=t,tt=S;ne=n;var Ft=r;switch(tt.tag){case 1:if(Pe=tt.payload,typeof Pe=="function"){ve=Pe.call(Ft,ve,ne);break e}ve=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=tt.payload,ne=typeof Pe=="function"?Pe.call(Ft,ve,ne):Pe,ne==null)break e;ve=x({},ve,ne);break e;case 2:Cs=!0}}ne=S.callback,ne!==null&&(t.flags|=64,le&&(t.flags|=8192),le=u.callbacks,le===null?u.callbacks=[ne]:le.push(ne))}else le={lane:ne,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ue===null?(W=ue=le,z=ve):ue=ue.next=le,y|=ne;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;le=S,S=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);ue===null&&(z=ve),u.baseState=z,u.firstBaseUpdate=W,u.lastBaseUpdate=ue,m===null&&(u.shared.lanes=0),ks|=y,t.lanes=y,t.memoizedState=ve}}function Wh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function ep(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Wh(r[t],n)}var Yr=w(null),_o=w(0);function tp(t,n){t=fs,ie(_o,t),ie(Yr,n),fs=t|n.baseLanes}function Pu(){ie(_o,fs),ie(Yr,Yr.current)}function Qu(){fs=_o.current,G(Yr),G(_o)}var ba=w(null),Oa=null;function Ts(t){var n=t.alternate;ie(dn,dn.current&1),ie(ba,t),Oa===null&&(n===null||Yr.current!==null||n.memoizedState!==null)&&(Oa=t)}function Yu(t){ie(dn,dn.current),ie(ba,t),Oa===null&&(Oa=t)}function np(t){t.tag===22?(ie(dn,dn.current),ie(ba,t),Oa===null&&(Oa=t)):Ds()}function Ds(){ie(dn,dn.current),ie(ba,ba.current)}function va(t){G(ba),Oa===t&&(Oa=null),G(dn)}var dn=w(0);function Eo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||tf(r)||nf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,ct=null,It=null,Sn=null,Ao=!1,Kr=!1,hr=!1,Co=0,ai=0,Xr=null,SS=0;function an(){throw Error(l(321))}function Ku(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ga(t[r],n[r]))return!1;return!0}function Xu(t,n,r,o,u,m){return ss=m,ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?qp:fd,hr=!1,m=r(o,u),hr=!1,Kr&&(m=sp(n,r,o,u)),ap(t),m}function ap(t){M.H=li;var n=It!==null&&It.next!==null;if(ss=0,Sn=It=ct=null,Ao=!1,ai=0,Xr=null,n)throw Error(l(300));t===null||Nn||(t=t.dependencies,t!==null&&bo(t)&&(Nn=!0))}function sp(t,n,r,o){ct=t;var u=0;do{if(Kr&&(Xr=null),ai=0,Kr=!1,25<=u)throw Error(l(301));if(u+=1,Sn=It=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=Ip,m=n(r,o)}while(Kr);return m}function NS(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?si(n):n,t=t.useState()[0],(It!==null?It.memoizedState:null)!==t&&(ct.flags|=1024),n}function Ju(){var t=Co!==0;return Co=0,t}function Wu(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ed(t){if(Ao){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ao=!1}ss=0,Sn=It=ct=null,Kr=!1,ai=Co=0,Xr=null}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?ct.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function fn(){if(It===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var n=Sn===null?ct.memoizedState:Sn.next;if(n!==null)Sn=n,It=t;else{if(t===null)throw ct.alternate===null?Error(l(467)):Error(l(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Sn===null?ct.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function si(t){var n=ai;return ai+=1,Xr===null&&(Xr=[]),t=Qh(Xr,t,n),n=ct,(Sn===null?n.memoizedState:Sn.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?qp:fd),t}function Ro(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return si(t);if(t.$$typeof===K)return qn(t)}throw Error(l(438,String(t)))}function td(t){var n=null,r=ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Oo(),ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=_e;return n.index++,r}function rs(t,n){return typeof n=="function"?n(t):n}function To(t){var n=fn();return nd(n,It,t)}function nd(t,n,r){var o=t.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=r;var u=t.baseQueue,m=o.pending;if(m!==null){if(u!==null){var y=u.next;u.next=m.next,m.next=y}n.baseQueue=u=m,o.pending=null}if(m=t.baseState,u===null)t.memoizedState=m;else{n=u.next;var S=y=null,z=null,W=n,ue=!1;do{var ve=W.lane&-536870913;if(ve!==W.lane?(vt&ve)===ve:(ss&ve)===ve){var ne=W.revertLane;if(ne===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ve===Zr&&(ue=!0);else if((ss&ne)===ne){W=W.next,ne===Zr&&(ue=!0);continue}else ve={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(S=z=ve,y=m):z=z.next=ve,ct.lanes|=ne,ks|=ne;ve=W.action,hr&&r(m,ve),m=W.hasEagerState?W.eagerState:r(m,ve)}else ne={lane:ve,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(S=z=ne,y=m):z=z.next=ne,ct.lanes|=ve,ks|=ve;W=W.next}while(W!==null&&W!==n);if(z===null?y=m:z.next=S,!ga(m,t.memoizedState)&&(Nn=!0,ue&&(r=Gr,r!==null)))throw r;t.memoizedState=m,t.baseState=y,t.baseQueue=z,o.lastRenderedState=m}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ad(t){var n=fn(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var o=r.dispatch,u=r.pending,m=n.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do m=t(m,y.action),y=y.next;while(y!==u);ga(m,n.memoizedState)||(Nn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function rp(t,n,r){var o=ct,u=fn(),m=St;if(m){if(r===void 0)throw Error(l(407));r=r()}else r=n();var y=!ga((It||u).memoizedState,r);if(y&&(u.memoizedState=r,Nn=!0),u=u.queue,ld(op.bind(null,o,u,t),[t]),u.getSnapshot!==n||y||Sn!==null&&Sn.memoizedState.tag&1){if(o.flags|=2048,Jr(9,{destroy:void 0},ip.bind(null,o,u,r,n),null),Vt===null)throw Error(l(349));m||(ss&127)!==0||lp(o,n,r)}return r}function lp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ct.updateQueue,n===null?(n=Oo(),ct.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ip(t,n,r,o){n.value=r,n.getSnapshot=o,cp(n)&&up(t)}function op(t,n,r){return r(function(){cp(n)&&up(t)})}function cp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ga(t,r)}catch{return!0}}function up(t){var n=rr(t,2);n!==null&&ia(n,t,2)}function sd(t){var n=Kn();if(typeof t=="function"){var r=t;if(t=r(),hr){Dt(!0);try{r()}finally{Dt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function dp(t,n,r,o){return t.baseState=r,nd(t,It,typeof o=="function"?o:rs)}function wS(t,n,r,o,u){if(Mo(t))throw Error(l(485));if(t=n.action,t!==null){var m={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};M.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,fp(n,m)):(m.next=r.next,n.pending=r.next=m)}}function fp(t,n){var r=n.action,o=n.payload,u=t.state;if(n.isTransition){var m=M.T,y={};M.T=y;try{var S=r(u,o),z=M.S;z!==null&&z(y,S),mp(t,n,S)}catch(W){rd(t,n,W)}finally{m!==null&&y.types!==null&&(m.types=y.types),M.T=m}}else try{m=r(u,o),mp(t,n,m)}catch(W){rd(t,n,W)}}function mp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){hp(t,n,o)},function(o){return rd(t,n,o)}):hp(t,n,r)}function hp(t,n,r){n.status="fulfilled",n.value=r,pp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,fp(t,r)))}function rd(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,pp(n),n=n.next;while(n!==o)}t.action=null}function pp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gp(t,n){return n}function yp(t,n){if(St){var r=Vt.formState;if(r!==null){e:{var o=ct;if(St){if(Pt){t:{for(var u=Pt,m=Ca;u.nodeType!==8;){if(!m){u=null;break t}if(u=Ra(u.nextSibling),u===null){u=null;break t}}m=u.data,u=m==="F!"||m==="F"?u:null}if(u){Pt=Ra(u.nextSibling),o=u.data==="F!";break e}}Es(o)}o=!1}o&&(n=r[0])}}return r=Kn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},r.queue=o,r=Up.bind(null,ct,o),o.dispatch=r,o=sd(!1),m=dd.bind(null,ct,!1,o.queue),o=Kn(),u={state:n,dispatch:null,action:t,pending:null},o.queue=u,r=wS.bind(null,ct,u,m,r),u.dispatch=r,o.memoizedState=t,[n,r,!1]}function bp(t){var n=fn();return vp(n,It,t)}function vp(t,n,r){if(n=nd(t,n,gp)[0],t=To(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=si(n)}catch(y){throw y===Pr?So:y}else o=n;n=fn();var u=n.queue,m=u.dispatch;return r!==n.memoizedState&&(ct.flags|=2048,Jr(9,{destroy:void 0},jS.bind(null,u,r),null)),[o,m,t]}function jS(t,n){t.action=n}function xp(t){var n=fn(),r=It;if(r!==null)return vp(n,r,t);fn(),n=n.memoizedState,r=fn();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Jr(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=ct.updateQueue,n===null&&(n=Oo(),ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Sp(){return fn().memoizedState}function Do(t,n,r,o){var u=Kn();ct.flags|=t,u.memoizedState=Jr(1|n,{destroy:void 0},r,o===void 0?null:o)}function zo(t,n,r,o){var u=fn();o=o===void 0?null:o;var m=u.memoizedState.inst;It!==null&&o!==null&&Ku(o,It.memoizedState.deps)?u.memoizedState=Jr(n,m,r,o):(ct.flags|=t,u.memoizedState=Jr(1|n,m,r,o))}function Np(t,n){Do(8390656,8,t,n)}function ld(t,n){zo(2048,8,t,n)}function _S(t){ct.flags|=4;var n=ct.updateQueue;if(n===null)n=Oo(),ct.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function wp(t){var n=fn().memoizedState;return _S({ref:n,nextImpl:t}),function(){if((Tt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function jp(t,n){return zo(4,2,t,n)}function _p(t,n){return zo(4,4,t,n)}function Ep(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ap(t,n,r){r=r!=null?r.concat([t]):null,zo(4,4,Ep.bind(null,n,t),r)}function id(){}function Cp(t,n){var r=fn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Ku(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Op(t,n){var r=fn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Ku(n,o[1]))return o[0];if(o=t(),hr){Dt(!0);try{t()}finally{Dt(!1)}}return r.memoizedState=[o,n],o}function od(t,n,r){return r===void 0||(ss&1073741824)!==0&&(vt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Rg(),ct.lanes|=t,ks|=t,r)}function Rp(t,n,r,o){return ga(r,n)?r:Yr.current!==null?(t=od(t,r,o),ga(t,n)||(Nn=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(vt&261930)===0?(Nn=!0,t.memoizedState=r):(t=Rg(),ct.lanes|=t,ks|=t,n)}function Tp(t,n,r,o,u){var m=I.p;I.p=m!==0&&8>m?m:8;var y=M.T,S={};M.T=S,dd(t,!1,n,r);try{var z=u(),W=M.S;if(W!==null&&W(S,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ue=xS(z,o);ri(t,n,ue,Na(t))}else ri(t,n,o,Na(t))}catch(ve){ri(t,n,{then:function(){},status:"rejected",reason:ve},Na())}finally{I.p=m,y!==null&&S.types!==null&&(y.types=S.types),M.T=y}}function ES(){}function cd(t,n,r,o){if(t.tag!==5)throw Error(l(476));var u=Dp(t).queue;Tp(t,u,n,ee,r===null?ES:function(){return zp(t),r(o)})}function Dp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ee},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zp(t){var n=Dp(t);n.next===null&&(n=t.alternate.memoizedState),ri(t,n.next.queue,{},Na())}function ud(){return qn(Ni)}function Mp(){return fn().memoizedState}function kp(){return fn().memoizedState}function AS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Na();t=Os(r);var o=Rs(n,t,r);o!==null&&(ia(o,n,r),ei(o,n,r)),n={cache:qu()},t.payload=n;return}n=n.return}}function CS(t,n,r){var o=Na();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Mo(t)?Lp(n,r):(r=Cu(t,n,r,o),r!==null&&(ia(r,t,o),Bp(r,n,o)))}function Up(t,n,r){var o=Na();ri(t,n,r,o)}function ri(t,n,r,o){var u={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mo(t))Lp(n,u);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var y=n.lastRenderedState,S=m(y,r);if(u.hasEagerState=!0,u.eagerState=S,ga(S,y))return ho(t,n,u,0),Vt===null&&mo(),!1}catch{}finally{}if(r=Cu(t,n,u,o),r!==null)return ia(r,t,o),Bp(r,n,o),!0}return!1}function dd(t,n,r,o){if(o={lane:2,revertLane:Hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mo(t)){if(n)throw Error(l(479))}else n=Cu(t,r,o,2),n!==null&&ia(n,t,2)}function Mo(t){var n=t.alternate;return t===ct||n!==null&&n===ct}function Lp(t,n){Kr=Ao=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,rt(t,r)}}var li={readContext:qn,use:Ro,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};li.useEffectEvent=an;var qp={readContext:qn,use:Ro,useCallback:function(t,n){return Kn().memoizedState=[t,n===void 0?null:n],t},useContext:qn,useEffect:Np,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Do(4194308,4,Ep.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Do(4194308,4,t,n)},useInsertionEffect:function(t,n){Do(4,2,t,n)},useMemo:function(t,n){var r=Kn();n=n===void 0?null:n;var o=t();if(hr){Dt(!0);try{t()}finally{Dt(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=Kn();if(r!==void 0){var u=r(n);if(hr){Dt(!0);try{r(n)}finally{Dt(!1)}}}else u=n;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=CS.bind(null,ct,t),[o.memoizedState,t]},useRef:function(t){var n=Kn();return t={current:t},n.memoizedState=t},useState:function(t){t=sd(t);var n=t.queue,r=Up.bind(null,ct,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:id,useDeferredValue:function(t,n){var r=Kn();return od(r,t,n)},useTransition:function(){var t=sd(!1);return t=Tp.bind(null,ct,t.queue,!0,!1),Kn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=ct,u=Kn();if(St){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Vt===null)throw Error(l(349));(vt&127)!==0||lp(o,n,r)}u.memoizedState=r;var m={value:r,getSnapshot:n};return u.queue=m,Np(op.bind(null,o,m,t),[t]),o.flags|=2048,Jr(9,{destroy:void 0},ip.bind(null,o,m,r,n),null),r},useId:function(){var t=Kn(),n=Vt.identifierPrefix;if(St){var r=Ya,o=Qa;r=(o&~(1<<32-_t(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Co++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=SS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ud,useFormState:yp,useActionState:yp,useOptimistic:function(t){var n=Kn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=dd.bind(null,ct,!0,r),r.dispatch=n,[t,n]},useMemoCache:td,useCacheRefresh:function(){return Kn().memoizedState=AS.bind(null,ct)},useEffectEvent:function(t){var n=Kn(),r={impl:t};return n.memoizedState=r,function(){if((Tt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},fd={readContext:qn,use:Ro,useCallback:Cp,useContext:qn,useEffect:ld,useImperativeHandle:Ap,useInsertionEffect:jp,useLayoutEffect:_p,useMemo:Op,useReducer:To,useRef:Sp,useState:function(){return To(rs)},useDebugValue:id,useDeferredValue:function(t,n){var r=fn();return Rp(r,It.memoizedState,t,n)},useTransition:function(){var t=To(rs)[0],n=fn().memoizedState;return[typeof t=="boolean"?t:si(t),n]},useSyncExternalStore:rp,useId:Mp,useHostTransitionStatus:ud,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var r=fn();return dp(r,It,t,n)},useMemoCache:td,useCacheRefresh:kp};fd.useEffectEvent=wp;var Ip={readContext:qn,use:Ro,useCallback:Cp,useContext:qn,useEffect:ld,useImperativeHandle:Ap,useInsertionEffect:jp,useLayoutEffect:_p,useMemo:Op,useReducer:ad,useRef:Sp,useState:function(){return ad(rs)},useDebugValue:id,useDeferredValue:function(t,n){var r=fn();return It===null?od(r,t,n):Rp(r,It.memoizedState,t,n)},useTransition:function(){var t=ad(rs)[0],n=fn().memoizedState;return[typeof t=="boolean"?t:si(t),n]},useSyncExternalStore:rp,useId:Mp,useHostTransitionStatus:ud,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var r=fn();return It!==null?dp(r,It,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:td,useCacheRefresh:kp};Ip.useEffectEvent=wp;function md(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hd={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Na(),u=Os(o);u.payload=n,r!=null&&(u.callback=r),n=Rs(t,u,o),n!==null&&(ia(n,t,o),ei(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Na(),u=Os(o);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Rs(t,u,o),n!==null&&(ia(n,t,o),ei(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Na(),o=Os(r);o.tag=2,n!=null&&(o.callback=n),n=Rs(t,o,r),n!==null&&(ia(n,t,r),ei(n,t,r))}};function $p(t,n,r,o,u,m,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,y):n.prototype&&n.prototype.isPureReactComponent?!Gl(r,o)||!Gl(u,m):!0}function Fp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&hd.enqueueReplaceState(n,n.state,null)}function pr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function Hp(t){fo(t)}function Vp(t){console.error(t)}function Zp(t){fo(t)}function ko(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function pd(t,n,r){return r=Os(r),r.tag=3,r.payload={element:null},r.callback=function(){ko(t,n)},r}function Pp(t){return t=Os(t),t.tag=3,t}function Qp(t,n,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var m=o.value;t.payload=function(){return u(m)},t.callback=function(){Gp(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Gp(n,r,o),typeof u!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function OS(t,n,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Vr(n,r,u,!0),r=ba.current,r!==null){switch(r.tag){case 31:case 13:return Oa===null?Po():r.alternate===null&&sn===0&&(sn=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===No?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Id(t,o,u)),!1;case 22:return r.flags|=65536,o===No?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Id(t,o,u)),!1}throw Error(l(435,r.tag))}return Id(t,o,u),Po(),!1}if(St)return n=ba.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==Mu&&(t=Error(l(422),{cause:o}),Yl(_a(t,r)))):(o!==Mu&&(n=Error(l(423),{cause:o}),Yl(_a(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=_a(o,r),u=pd(t.stateNode,o,u),Zu(t,u),sn!==4&&(sn=2)),!1;var m=Error(l(520),{cause:o});if(m=_a(m,r),hi===null?hi=[m]:hi.push(m),sn!==4&&(sn=2),n===null)return!0;o=_a(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=pd(r.stateNode,o,t),Zu(r,t),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Us===null||!Us.has(m))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Pp(u),Qp(u,t,r,o),Zu(r,u),!1}r=r.return}while(r!==null);return!1}var gd=Error(l(461)),Nn=!1;function In(t,n,r,o){n.child=t===null?Jh(n,null,r,o):mr(n,t.child,r,o)}function Yp(t,n,r,o,u){r=r.render;var m=n.ref;if("ref"in o){var y={};for(var S in o)S!=="ref"&&(y[S]=o[S])}else y=o;return cr(n),o=Xu(t,n,r,y,m,u),S=Ju(),t!==null&&!Nn?(Wu(t,n,u),ls(t,n,u)):(St&&S&&Du(n),n.flags|=1,In(t,n,o,u),n.child)}function Kp(t,n,r,o,u){if(t===null){var m=r.type;return typeof m=="function"&&!Ou(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,Xp(t,n,m,o,u)):(t=go(r.type,null,o,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!jd(t,u)){var y=m.memoizedProps;if(r=r.compare,r=r!==null?r:Gl,r(y,o)&&t.ref===n.ref)return ls(t,n,u)}return n.flags|=1,t=es(m,o),t.ref=n.ref,t.return=n,n.child=t}function Xp(t,n,r,o,u){if(t!==null){var m=t.memoizedProps;if(Gl(m,o)&&t.ref===n.ref)if(Nn=!1,n.pendingProps=o=m,jd(t,u))(t.flags&131072)!==0&&(Nn=!0);else return n.lanes=t.lanes,ls(t,n,u)}return yd(t,n,r,o,u)}function Jp(t,n,r,o){var u=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=n.child=t.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~m}else o=0,n.child=null;return Wp(t,n,m,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xo(n,m!==null?m.cachePool:null),m!==null?tp(n,m):Pu(),np(n);else return o=n.lanes=536870912,Wp(t,n,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(xo(n,m.cachePool),tp(n,m),Ds(),n.memoizedState=null):(t!==null&&xo(n,null),Pu(),Ds());return In(t,n,u,r),n.child}function ii(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(t,n,r,o,u){var m=$u();return m=m===null?null:{parent:xn._currentValue,pool:m},n.memoizedState={baseLanes:r,cachePool:m},t!==null&&xo(n,null),Pu(),np(n),t!==null&&Vr(t,n,o,!0),n.childLanes=u,null}function Uo(t,n){return n=Bo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function eg(t,n,r){return mr(n,t.child,null,r),t=Uo(n,n.pendingProps),t.flags|=2,va(n),n.memoizedState=null,t}function RS(t,n,r){var o=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(St){if(o.mode==="hidden")return t=Uo(n,o),n.lanes=536870912,ii(null,t);if(Yu(n),(t=Pt)?(t=fy(t,Ca),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:Qa,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},r=Lh(t),r.return=n,n.child=r,Bn=n,Pt=null)):t=null,t===null)throw Es(n);return n.lanes=536870912,null}return Uo(n,o)}var m=t.memoizedState;if(m!==null){var y=m.dehydrated;if(Yu(n),u)if(n.flags&256)n.flags&=-257,n=eg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(Nn||Vr(t,n,r,!1),u=(r&t.childLanes)!==0,Nn||u){if(o=Vt,o!==null&&(y=Ye(o,r),y!==0&&y!==m.retryLane))throw m.retryLane=y,rr(t,y),ia(o,t,y),gd;Po(),n=eg(t,n,r)}else t=m.treeContext,Pt=Ra(y.nextSibling),Bn=n,St=!0,_s=null,Ca=!1,t!==null&&Ih(n,t),n=Uo(n,o),n.flags|=4096;return n}return t=es(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Lo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function yd(t,n,r,o,u){return cr(n),r=Xu(t,n,r,o,void 0,u),o=Ju(),t!==null&&!Nn?(Wu(t,n,u),ls(t,n,u)):(St&&o&&Du(n),n.flags|=1,In(t,n,r,u),n.child)}function tg(t,n,r,o,u,m){return cr(n),n.updateQueue=null,r=sp(n,o,r,u),ap(t),o=Ju(),t!==null&&!Nn?(Wu(t,n,m),ls(t,n,m)):(St&&o&&Du(n),n.flags|=1,In(t,n,r,m),n.child)}function ng(t,n,r,o,u){if(cr(n),n.stateNode===null){var m=Ir,y=r.contextType;typeof y=="object"&&y!==null&&(m=qn(y)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Hu(n),y=r.contextType,m.context=typeof y=="object"&&y!==null?qn(y):Ir,m.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(md(n,r,y,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&hd.enqueueReplaceState(m,m.state,null),ni(n,o,m,u),ti(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var S=n.memoizedProps,z=pr(r,S);m.props=z;var W=m.context,ue=r.contextType;y=Ir,typeof ue=="object"&&ue!==null&&(y=qn(ue));var ve=r.getDerivedStateFromProps;ue=typeof ve=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,ue||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||W!==y)&&Fp(n,m,o,y),Cs=!1;var ne=n.memoizedState;m.state=ne,ni(n,o,m,u),ti(),W=n.memoizedState,S||ne!==W||Cs?(typeof ve=="function"&&(md(n,r,ve,o),W=n.memoizedState),(z=Cs||$p(n,r,z,o,ne,W,y))?(ue||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=W),m.props=o,m.state=W,m.context=y,o=z):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Vu(t,n),y=n.memoizedProps,ue=pr(r,y),m.props=ue,ve=n.pendingProps,ne=m.context,W=r.contextType,z=Ir,typeof W=="object"&&W!==null&&(z=qn(W)),S=r.getDerivedStateFromProps,(W=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==ve||ne!==z)&&Fp(n,m,o,z),Cs=!1,ne=n.memoizedState,m.state=ne,ni(n,o,m,u),ti();var le=n.memoizedState;y!==ve||ne!==le||Cs||t!==null&&t.dependencies!==null&&bo(t.dependencies)?(typeof S=="function"&&(md(n,r,S,o),le=n.memoizedState),(ue=Cs||$p(n,r,ue,o,ne,le,z)||t!==null&&t.dependencies!==null&&bo(t.dependencies))?(W||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,le,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,le,z)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=z,o=ue):(typeof m.componentDidUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ne===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Lo(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=mr(n,t.child,null,u),n.child=mr(n,null,r,u)):In(t,n,r,u),n.memoizedState=m.state,t=n.child):t=ls(t,n,u),t}function ag(t,n,r,o){return ir(),n.flags|=256,In(t,n,r,o),n.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Gh()}}function xd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sa),t}function sg(t,n,r){var o=n.pendingProps,u=!1,m=(n.flags&128)!==0,y;if((y=m)||(y=t!==null&&t.memoizedState===null?!1:(dn.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(St){if(u?Ts(n):Ds(),(t=Pt)?(t=fy(t,Ca),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:Qa,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},r=Lh(t),r.return=n,n.child=r,Bn=n,Pt=null)):t=null,t===null)throw Es(n);return nf(t)?n.lanes=32:n.lanes=536870912,null}var S=o.children;return o=o.fallback,u?(Ds(),u=n.mode,S=Bo({mode:"hidden",children:S},u),o=lr(o,u,r,null),S.return=n,o.return=n,S.sibling=o,n.child=S,o=n.child,o.memoizedState=vd(r),o.childLanes=xd(t,y,r),n.memoizedState=bd,ii(null,o)):(Ts(n),Sd(n,S))}var z=t.memoizedState;if(z!==null&&(S=z.dehydrated,S!==null)){if(m)n.flags&256?(Ts(n),n.flags&=-257,n=Nd(t,n,r)):n.memoizedState!==null?(Ds(),n.child=t.child,n.flags|=128,n=null):(Ds(),S=o.fallback,u=n.mode,o=Bo({mode:"visible",children:o.children},u),S=lr(S,u,r,null),S.flags|=2,o.return=n,S.return=n,o.sibling=S,n.child=o,mr(n,t.child,null,r),o=n.child,o.memoizedState=vd(r),o.childLanes=xd(t,y,r),n.memoizedState=bd,n=ii(null,o));else if(Ts(n),nf(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var W=y.dgst;y=W,o=Error(l(419)),o.stack="",o.digest=y,Yl({value:o,source:null,stack:null}),n=Nd(t,n,r)}else if(Nn||Vr(t,n,r,!1),y=(r&t.childLanes)!==0,Nn||y){if(y=Vt,y!==null&&(o=Ye(y,r),o!==0&&o!==z.retryLane))throw z.retryLane=o,rr(t,o),ia(y,t,o),gd;tf(S)||Po(),n=Nd(t,n,r)}else tf(S)?(n.flags|=192,n.child=t.child,n=null):(t=z.treeContext,Pt=Ra(S.nextSibling),Bn=n,St=!0,_s=null,Ca=!1,t!==null&&Ih(n,t),n=Sd(n,o.children),n.flags|=4096);return n}return u?(Ds(),S=o.fallback,u=n.mode,z=t.child,W=z.sibling,o=es(z,{mode:"hidden",children:o.children}),o.subtreeFlags=z.subtreeFlags&65011712,W!==null?S=es(W,S):(S=lr(S,u,r,null),S.flags|=2),S.return=n,o.return=n,o.sibling=S,n.child=o,ii(null,o),o=n.child,S=t.child.memoizedState,S===null?S=vd(r):(u=S.cachePool,u!==null?(z=xn._currentValue,u=u.parent!==z?{parent:z,pool:z}:u):u=Gh(),S={baseLanes:S.baseLanes|r,cachePool:u}),o.memoizedState=S,o.childLanes=xd(t,y,r),n.memoizedState=bd,ii(t.child,o)):(Ts(n),r=t.child,t=r.sibling,r=es(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Sd(t,n){return n=Bo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Bo(t,n){return t=ya(22,t,null,n),t.lanes=0,t}function Nd(t,n,r){return mr(n,t.child,null,r),t=Sd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rg(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Lu(t.return,n,r)}function wd(t,n,r,o,u,m){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u,treeForkCount:m}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=u,y.treeForkCount=m)}function lg(t,n,r){var o=n.pendingProps,u=o.revealOrder,m=o.tail;o=o.children;var y=dn.current,S=(y&2)!==0;if(S?(y=y&1|2,n.flags|=128):y&=1,ie(dn,y),In(t,n,o,r),o=St?Ql:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,r,n);else if(t.tag===19)rg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Eo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),wd(n,!1,u,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Eo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}wd(n,!0,r,null,m,o);break;case"together":wd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ls(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ks|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Vr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=es(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=es(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function jd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bo(t)))}function TS(t,n,r){switch(n.tag){case 3:$e(n,n.stateNode.containerInfo),As(n,xn,t.memoizedState.cache),ir();break;case 27:case 5:Me(n);break;case 4:$e(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Yu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sg(t,n,r):(Ts(n),t=ls(t,n,r),t!==null?t.sibling:null);Ts(n);break;case 19:var u=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Vr(t,n,r,!1),o=(r&n.childLanes)!==0),u){if(o)return lg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ie(dn,dn.current),o)break;return null;case 22:return n.lanes=0,Jp(t,n,r,n.pendingProps);case 24:As(n,xn,t.memoizedState.cache)}return ls(t,n,r)}function ig(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nn=!0;else{if(!jd(t,r)&&(n.flags&128)===0)return Nn=!1,TS(t,n,r);Nn=(t.flags&131072)!==0}else Nn=!1,St&&(n.flags&1048576)!==0&&qh(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=dr(n.elementType),n.type=t,typeof t=="function")Ou(t)?(o=pr(t,o),n.tag=1,n=ng(null,n,t,o,r)):(n.tag=0,n=yd(null,n,t,o,r));else{if(t!=null){var u=t.$$typeof;if(u===D){n.tag=11,n=Yp(null,n,t,o,r);break e}else if(u===U){n.tag=14,n=Kp(null,n,t,o,r);break e}}throw n=De(t)||t,Error(l(306,n,""))}}return n;case 0:return yd(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,u=pr(o,n.pendingProps),ng(t,n,o,u,r);case 3:e:{if($e(n,n.stateNode.containerInfo),t===null)throw Error(l(387));o=n.pendingProps;var m=n.memoizedState;u=m.element,Vu(t,n),ni(n,o,null,r);var y=n.memoizedState;if(o=y.cache,As(n,xn,o),o!==m.cache&&Bu(n,[xn],r,!0),ti(),o=y.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=ag(t,n,o,r);break e}else if(o!==u){u=_a(Error(l(424)),n),Yl(u),n=ag(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pt=Ra(t.firstChild),Bn=n,St=!0,_s=null,Ca=!0,r=Jh(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ir(),o===u){n=ls(t,n,r);break e}In(t,n,o,r)}n=n.child}return n;case 26:return Lo(t,n),t===null?(r=by(n.type,null,n.pendingProps,null))?n.memoizedState=r:St||(r=n.type,t=n.pendingProps,o=ec(pe.current).createElement(r),o[lt]=n,o[bt]=t,$n(o,r,t),Ut(o),n.stateNode=o):n.memoizedState=by(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Me(n),t===null&&St&&(o=n.stateNode=py(n.type,n.pendingProps,pe.current),Bn=n,Ca=!0,u=Pt,Is(n.type)?(af=u,Pt=Ra(o.firstChild)):Pt=u),In(t,n,n.pendingProps.children,r),Lo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&St&&((u=o=Pt)&&(o=iN(o,n.type,n.pendingProps,Ca),o!==null?(n.stateNode=o,Bn=n,Pt=Ra(o.firstChild),Ca=!1,u=!0):u=!1),u||Es(n)),Me(n),u=n.type,m=n.pendingProps,y=t!==null?t.memoizedProps:null,o=m.children,Jd(u,m)?o=null:y!==null&&Jd(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Xu(t,n,NS,null,null,r),Ni._currentValue=u),Lo(t,n),In(t,n,o,r),n.child;case 6:return t===null&&St&&((t=r=Pt)&&(r=oN(r,n.pendingProps,Ca),r!==null?(n.stateNode=r,Bn=n,Pt=null,t=!0):t=!1),t||Es(n)),null;case 13:return sg(t,n,r);case 4:return $e(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=mr(n,null,o,r):In(t,n,o,r),n.child;case 11:return Yp(t,n,n.type,n.pendingProps,r);case 7:return In(t,n,n.pendingProps,r),n.child;case 8:return In(t,n,n.pendingProps.children,r),n.child;case 12:return In(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,As(n,n.type,o.value),In(t,n,o.children,r),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,cr(n),u=qn(u),o=o(u),n.flags|=1,In(t,n,o,r),n.child;case 14:return Kp(t,n,n.type,n.pendingProps,r);case 15:return Xp(t,n,n.type,n.pendingProps,r);case 19:return lg(t,n,r);case 31:return RS(t,n,r);case 22:return Jp(t,n,r,n.pendingProps);case 24:return cr(n),o=qn(xn),t===null?(u=$u(),u===null&&(u=Vt,m=qu(),u.pooledCache=m,m.refCount++,m!==null&&(u.pooledCacheLanes|=r),u=m),n.memoizedState={parent:o,cache:u},Hu(n),As(n,xn,u)):((t.lanes&r)!==0&&(Vu(t,n),ni(n,null,null,r),ti()),u=t.memoizedState,m=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),As(n,xn,o)):(o=m.cache,As(n,xn,o),o!==u.cache&&Bu(n,[xn],r,!0))),In(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function is(t){t.flags|=4}function _d(t,n,r,o,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Mg())t.flags|=8192;else throw fr=No,Fu}else t.flags&=-16777217}function og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wy(n))if(Mg())t.flags|=8192;else throw fr=No,Fu}function qo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Y():536870912,t.lanes|=n,nl|=n)}function oi(t,n){if(!St)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Qt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function DS(t,n,r){var o=n.pendingProps;switch(zu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(n),null;case 1:return Qt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),as(xn),de(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hr(n)?is(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ku())),Qt(n),null;case 26:var u=n.type,m=n.memoizedState;return t===null?(is(n),m!==null?(Qt(n),og(n,m)):(Qt(n),_d(n,u,null,o,r))):m?m!==t.memoizedState?(is(n),Qt(n),og(n,m)):(Qt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&is(n),Qt(n),_d(n,u,t,o,r)),null;case 27:if(Ie(n),r=pe.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Qt(n),null}t=k.current,Hr(n)?$h(n):(t=py(u,o,r),n.stateNode=t,is(n))}return Qt(n),null;case 5:if(Ie(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Qt(n),null}if(m=k.current,Hr(n))$h(n);else{var y=ec(pe.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?y.createElement(u,{is:o.is}):y.createElement(u)}}m[lt]=n,m[bt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=m;e:switch($n(m,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&is(n)}}return Qt(n),_d(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(t=pe.current,Hr(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,u=Bn,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[lt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||sy(t.nodeValue,r)),t||Es(n,!0)}else t=ec(t).createTextNode(o),t[lt]=n,n.stateNode=t}return Qt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Hr(n),r!==null){if(t===null){if(!o)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[lt]=n}else ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qt(n),t=!1}else r=ku(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(va(n),n):(va(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Qt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Hr(n),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[lt]=n}else ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qt(n),u=!1}else u=ku(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(va(n),n):(va(n),null)}return va(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),qo(n,n.updateQueue),Qt(n),null);case 4:return de(),t===null&&Pd(n.stateNode.containerInfo),Qt(n),null;case 10:return as(n.type),Qt(n),null;case 19:if(G(dn),o=n.memoizedState,o===null)return Qt(n),null;if(u=(n.flags&128)!==0,m=o.rendering,m===null)if(u)oi(o,!1);else{if(sn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Eo(t),m!==null){for(n.flags|=128,oi(o,!1),t=m.updateQueue,n.updateQueue=t,qo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Uh(r,t),r=r.sibling;return ie(dn,dn.current&1|2),St&&ts(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Z()>Vo&&(n.flags|=128,u=!0,oi(o,!1),n.lanes=4194304)}else{if(!u)if(t=Eo(m),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,qo(n,t),oi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!St)return Qt(n),null}else 2*Z()-o.renderingStartTime>Vo&&r!==536870912&&(n.flags|=128,u=!0,oi(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Z(),t.sibling=null,r=dn.current,ie(dn,u?r&1|2:r&1),St&&ts(n,o.treeForkCount),t):(Qt(n),null);case 22:case 23:return va(n),Qu(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Qt(n),n.subtreeFlags&6&&(n.flags|=8192)):Qt(n),r=n.updateQueue,r!==null&&qo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&G(ur),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),as(xn),Qt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function zS(t,n){switch(zu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return as(xn),de(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ie(n),null;case 31:if(n.memoizedState!==null){if(va(n),n.alternate===null)throw Error(l(340));ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(va(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(dn),null;case 4:return de(),null;case 10:return as(n.type),null;case 22:case 23:return va(n),Qu(),t!==null&&G(ur),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return as(xn),null;case 25:return null;default:return null}}function cg(t,n){switch(zu(n),n.tag){case 3:as(xn),de();break;case 26:case 27:case 5:Ie(n);break;case 4:de();break;case 31:n.memoizedState!==null&&va(n);break;case 13:va(n);break;case 19:G(dn);break;case 10:as(n.type);break;case 22:case 23:va(n),Qu(),t!==null&&G(ur);break;case 24:as(xn)}}function ci(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&t)===t){o=void 0;var m=r.create,y=r.inst;o=m(),y.destroy=o}r=r.next}while(r!==u)}}catch(S){Bt(n,n.return,S)}}function zs(t,n,r){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&t)===t){var y=o.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,u=n;var z=r,W=S;try{W()}catch(ue){Bt(u,z,ue)}}}o=o.next}while(o!==m)}}catch(ue){Bt(n,n.return,ue)}}function ug(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ep(n,r)}catch(o){Bt(t,t.return,o)}}}function dg(t,n,r){r.props=pr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Bt(t,n,o)}}function ui(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(u){Bt(t,n,u)}}function Ka(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){Bt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Bt(t,n,u)}else r.current=null}function fg(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){Bt(t,t.return,u)}}function Ed(t,n,r){try{var o=t.stateNode;tN(o,t.type,r,n),o[bt]=n}catch(u){Bt(t,t.return,u)}}function mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Is(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Is(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qa));else if(o!==4&&(o===27&&Is(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Cd(t,n,r),t=t.sibling;t!==null;)Cd(t,n,r),t=t.sibling}function Io(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Is(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Io(t,n,r),t=t.sibling;t!==null;)Io(t,n,r),t=t.sibling}function hg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);$n(n,o,r),n[lt]=t,n[bt]=r}catch(m){Bt(t,t.return,m)}}var os=!1,wn=!1,Od=!1,pg=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function MS(t,n){if(t=t.containerInfo,Kd=ic,t=Ah(t),Nu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var y=0,S=-1,z=-1,W=0,ue=0,ve=t,ne=null;t:for(;;){for(var le;ve!==r||u!==0&&ve.nodeType!==3||(S=y+u),ve!==m||o!==0&&ve.nodeType!==3||(z=y+o),ve.nodeType===3&&(y+=ve.nodeValue.length),(le=ve.firstChild)!==null;)ne=ve,ve=le;for(;;){if(ve===t)break t;if(ne===r&&++W===u&&(S=y),ne===m&&++ue===o&&(z=y),(le=ve.nextSibling)!==null)break;ve=ne,ne=ve.parentNode}ve=le}r=S===-1||z===-1?null:{start:S,end:z}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xd={focusedElem:t,selectionRange:r},ic=!1,Mn=n;Mn!==null;)if(n=Mn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Mn=t;else for(;Mn!==null;){switch(n=Mn,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=n,u=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var Pe=pr(r.type,u);t=o.getSnapshotBeforeUpdate(Pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(tt){Bt(r,r.return,tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)ef(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,Mn=t;break}Mn=n.return}}function gg(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:us(t,r),o&4&&ci(5,r);break;case 1:if(us(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Bt(r,r.return,y)}else{var u=pr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Bt(r,r.return,y)}}o&64&&ug(r),o&512&&ui(r,r.return);break;case 3:if(us(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ep(t,n)}catch(y){Bt(r,r.return,y)}}break;case 27:n===null&&o&4&&hg(r);case 26:case 5:us(t,r),n===null&&o&4&&fg(r),o&512&&ui(r,r.return);break;case 12:us(t,r);break;case 31:us(t,r),o&4&&vg(t,r);break;case 13:us(t,r),o&4&&xg(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=HS.bind(null,r),cN(t,r))));break;case 22:if(o=r.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||wn,u=os;var m=wn;os=o,(wn=n)&&!m?ds(t,r,(r.subtreeFlags&8772)!==0):us(t,r),os=u,wn=m}break;case 30:break;default:us(t,r)}}function yg(t){var n=t.alternate;n!==null&&(t.alternate=null,yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Dn(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Kt=null,aa=!1;function cs(t,n,r){for(r=r.child;r!==null;)bg(t,n,r),r=r.sibling}function bg(t,n,r){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ne,r)}catch{}switch(r.tag){case 26:wn||Ka(r,n),cs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:wn||Ka(r,n);var o=Kt,u=aa;Is(r.type)&&(Kt=r.stateNode,aa=!1),cs(t,n,r),vi(r.stateNode),Kt=o,aa=u;break;case 5:wn||Ka(r,n);case 6:if(o=Kt,u=aa,Kt=null,cs(t,n,r),Kt=o,aa=u,Kt!==null)if(aa)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(r.stateNode)}catch(m){Bt(r,n,m)}else try{Kt.removeChild(r.stateNode)}catch(m){Bt(r,n,m)}break;case 18:Kt!==null&&(aa?(t=Kt,uy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ul(t)):uy(Kt,r.stateNode));break;case 4:o=Kt,u=aa,Kt=r.stateNode.containerInfo,aa=!0,cs(t,n,r),Kt=o,aa=u;break;case 0:case 11:case 14:case 15:zs(2,r,n),wn||zs(4,r,n),cs(t,n,r);break;case 1:wn||(Ka(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&dg(r,n,o)),cs(t,n,r);break;case 21:cs(t,n,r);break;case 22:wn=(o=wn)||r.memoizedState!==null,cs(t,n,r),wn=o;break;default:cs(t,n,r)}}function vg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ul(t)}catch(r){Bt(n,n.return,r)}}}function xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ul(t)}catch(r){Bt(n,n.return,r)}}function kS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pg),n;default:throw Error(l(435,t.tag))}}function $o(t,n){var r=kS(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var u=VS.bind(null,t,o);o.then(u,u)}})}function sa(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],m=t,y=n,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Is(S.type)){Kt=S.stateNode,aa=!1;break e}break;case 5:Kt=S.stateNode,aa=!1;break e;case 3:case 4:Kt=S.stateNode.containerInfo,aa=!0;break e}S=S.return}if(Kt===null)throw Error(l(160));bg(m,y,u),Kt=null,aa=!1,m=u.alternate,m!==null&&(m.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sg(n,t),n=n.sibling}var Fa=null;function Sg(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sa(n,t),ra(t),o&4&&(zs(3,t,t.return),ci(3,t),zs(5,t,t.return));break;case 1:sa(n,t),ra(t),o&512&&(wn||r===null||Ka(r,r.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=Fa;if(sa(n,t),ra(t),o&512&&(wn||r===null||Ka(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":m=u.getElementsByTagName("title")[0],(!m||m[Zt]||m[lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=u.createElement(o),u.head.insertBefore(m,u.querySelector("head > title"))),$n(m,o,r),m[lt]=t,Ut(m),o=m;break e;case"link":var y=Sy("link","href",u).get(o+(r.href||""));if(y){for(var S=0;S<y.length;S++)if(m=y[S],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(S,1);break t}}m=u.createElement(o),$n(m,o,r),u.head.appendChild(m);break;case"meta":if(y=Sy("meta","content",u).get(o+(r.content||""))){for(S=0;S<y.length;S++)if(m=y[S],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(S,1);break t}}m=u.createElement(o),$n(m,o,r),u.head.appendChild(m);break;default:throw Error(l(468,o))}m[lt]=t,Ut(m),o=m}t.stateNode=o}else Ny(u,t.type,t.stateNode);else t.stateNode=xy(u,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?Ny(u,t.type,t.stateNode):xy(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,r.memoizedProps)}break;case 27:sa(n,t),ra(t),o&512&&(wn||r===null||Ka(r,r.return)),r!==null&&o&4&&Ed(t,t.memoizedProps,r.memoizedProps);break;case 5:if(sa(n,t),ra(t),o&512&&(wn||r===null||Ka(r,r.return)),t.flags&32){u=t.stateNode;try{xs(u,"")}catch(Pe){Bt(t,t.return,Pe)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Ed(t,u,r!==null?r.memoizedProps:u)),o&1024&&(Od=!0);break;case 6:if(sa(n,t),ra(t),o&4){if(t.stateNode===null)throw Error(l(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Pe){Bt(t,t.return,Pe)}}break;case 3:if(ac=null,u=Fa,Fa=tc(n.containerInfo),sa(n,t),Fa=u,ra(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ul(n.containerInfo)}catch(Pe){Bt(t,t.return,Pe)}Od&&(Od=!1,Ng(t));break;case 4:o=Fa,Fa=tc(t.stateNode.containerInfo),sa(n,t),ra(t),Fa=o;break;case 12:sa(n,t),ra(t);break;case 31:sa(n,t),ra(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$o(t,o)));break;case 13:sa(n,t),ra(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ho=Z()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$o(t,o)));break;case 22:u=t.memoizedState!==null;var z=r!==null&&r.memoizedState!==null,W=os,ue=wn;if(os=W||u,wn=ue||z,sa(n,t),wn=ue,os=W,ra(t),o&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||z||os||wn||gr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){z=r=n;try{if(m=z.stateNode,u)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=z.stateNode;var ve=z.memoizedProps.style,ne=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;S.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Pe){Bt(z,z.return,Pe)}}}else if(n.tag===6){if(r===null){z=n;try{z.stateNode.nodeValue=u?"":z.memoizedProps}catch(Pe){Bt(z,z.return,Pe)}}}else if(n.tag===18){if(r===null){z=n;try{var le=z.stateNode;u?dy(le,!0):dy(z.stateNode,!1)}catch(Pe){Bt(z,z.return,Pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,$o(t,r))));break;case 19:sa(n,t),ra(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$o(t,o)));break;case 30:break;case 21:break;default:sa(n,t),ra(t)}}function ra(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(mg(o)){r=o;break}o=o.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,m=Ad(t);Io(t,m,u);break;case 5:var y=r.stateNode;r.flags&32&&(xs(y,""),r.flags&=-33);var S=Ad(t);Io(t,S,y);break;case 3:case 4:var z=r.stateNode.containerInfo,W=Ad(t);Cd(t,W,z);break;default:throw Error(l(161))}}catch(ue){Bt(t,t.return,ue)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ng(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ng(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gg(t,n.alternate,n),n=n.sibling}function gr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),gr(n);break;case 1:Ka(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dg(n,n.return,r),gr(n);break;case 27:vi(n.stateNode);case 26:case 5:Ka(n,n.return),gr(n);break;case 22:n.memoizedState===null&&gr(n);break;case 30:gr(n);break;default:gr(n)}t=t.sibling}}function ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=t,m=n,y=m.flags;switch(m.tag){case 0:case 11:case 15:ds(u,m,r),ci(4,m);break;case 1:if(ds(u,m,r),o=m,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(W){Bt(o,o.return,W)}if(o=m,u=o.updateQueue,u!==null){var S=o.stateNode;try{var z=u.shared.hiddenCallbacks;if(z!==null)for(u.shared.hiddenCallbacks=null,u=0;u<z.length;u++)Wh(z[u],S)}catch(W){Bt(o,o.return,W)}}r&&y&64&&ug(m),ui(m,m.return);break;case 27:hg(m);case 26:case 5:ds(u,m,r),r&&o===null&&y&4&&fg(m),ui(m,m.return);break;case 12:ds(u,m,r);break;case 31:ds(u,m,r),r&&y&4&&vg(u,m);break;case 13:ds(u,m,r),r&&y&4&&xg(u,m);break;case 22:m.memoizedState===null&&ds(u,m,r),ui(m,m.return);break;case 30:break;default:ds(u,m,r)}n=n.sibling}}function Rd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Kl(r))}function Td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kl(t))}function Ha(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wg(t,n,r,o),n=n.sibling}function wg(t,n,r,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ha(t,n,r,o),u&2048&&ci(9,n);break;case 1:Ha(t,n,r,o);break;case 3:Ha(t,n,r,o),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kl(t)));break;case 12:if(u&2048){Ha(t,n,r,o),t=n.stateNode;try{var m=n.memoizedProps,y=m.id,S=m.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Bt(n,n.return,z)}}else Ha(t,n,r,o);break;case 31:Ha(t,n,r,o);break;case 13:Ha(t,n,r,o);break;case 23:break;case 22:m=n.stateNode,y=n.alternate,n.memoizedState!==null?m._visibility&2?Ha(t,n,r,o):di(t,n):m._visibility&2?Ha(t,n,r,o):(m._visibility|=2,Wr(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Rd(y,n);break;case 24:Ha(t,n,r,o),u&2048&&Td(n.alternate,n);break;default:Ha(t,n,r,o)}}function Wr(t,n,r,o,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,y=n,S=r,z=o,W=y.flags;switch(y.tag){case 0:case 11:case 15:Wr(m,y,S,z,u),ci(8,y);break;case 23:break;case 22:var ue=y.stateNode;y.memoizedState!==null?ue._visibility&2?Wr(m,y,S,z,u):di(m,y):(ue._visibility|=2,Wr(m,y,S,z,u)),u&&W&2048&&Rd(y.alternate,y);break;case 24:Wr(m,y,S,z,u),u&&W&2048&&Td(y.alternate,y);break;default:Wr(m,y,S,z,u)}n=n.sibling}}function di(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,u=o.flags;switch(o.tag){case 22:di(r,o),u&2048&&Rd(o.alternate,o);break;case 24:di(r,o),u&2048&&Td(o.alternate,o);break;default:di(r,o)}n=n.sibling}}var fi=8192;function el(t,n,r){if(t.subtreeFlags&fi)for(t=t.child;t!==null;)jg(t,n,r),t=t.sibling}function jg(t,n,r){switch(t.tag){case 26:el(t,n,r),t.flags&fi&&t.memoizedState!==null&&SN(r,Fa,t.memoizedState,t.memoizedProps);break;case 5:el(t,n,r);break;case 3:case 4:var o=Fa;Fa=tc(t.stateNode.containerInfo),el(t,n,r),Fa=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=fi,fi=16777216,el(t,n,r),fi=o):el(t,n,r));break;default:el(t,n,r)}}function _g(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function mi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Mn=o,Ag(o,t)}_g(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 0:case 11:case 15:mi(t),t.flags&2048&&zs(9,t,t.return);break;case 3:mi(t);break;case 12:mi(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Fo(t)):mi(t);break;default:mi(t)}}function Fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Mn=o,Ag(o,t)}_g(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zs(8,n,n.return),Fo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Fo(n));break;default:Fo(n)}t=t.sibling}}function Ag(t,n){for(;Mn!==null;){var r=Mn;switch(r.tag){case 0:case 11:case 15:zs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Kl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Mn=o;else e:for(r=t;Mn!==null;){o=Mn;var u=o.sibling,m=o.return;if(yg(o),o===r){Mn=null;break e}if(u!==null){u.return=m,Mn=u;break e}Mn=m}}}var US={getCacheForType:function(t){var n=qn(xn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return qn(xn).controller.signal}},LS=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Vt=null,gt=null,vt=0,Lt=0,xa=null,Ms=!1,tl=!1,Dd=!1,fs=0,sn=0,ks=0,yr=0,zd=0,Sa=0,nl=0,hi=null,la=null,Md=!1,Ho=0,Cg=0,Vo=1/0,Zo=null,Us=null,Cn=0,Ls=null,al=null,ms=0,kd=0,Ud=null,Og=null,pi=0,Ld=null;function Na(){return(Tt&2)!==0&&vt!==0?vt&-vt:M.T!==null?Hd():kt()}function Rg(){if(Sa===0)if((vt&536870912)===0||St){var t=st;st<<=1,(st&3932160)===0&&(st=262144),Sa=t}else Sa=536870912;return t=ba.current,t!==null&&(t.flags|=32),Sa}function ia(t,n,r){(t===Vt&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)&&(sl(t,0),Bs(t,vt,Sa,!1)),Ae(t,r),((Tt&2)===0||t!==Vt)&&(t===Vt&&((Tt&2)===0&&(yr|=r),sn===4&&Bs(t,vt,Sa,!1)),Xa(t))}function Tg(t,n,r){if((Tt&6)!==0)throw Error(l(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Hn(t,n),u=o?IS(t,n):qd(t,n,!0),m=o;do{if(u===0){tl&&!o&&Bs(t,n,0,!1);break}else{if(r=t.current.alternate,m&&!BS(r)){u=qd(t,n,!1),m=!1;continue}if(u===2){if(m=n,t.errorRecoveryDisabledLanes&m)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var S=t;u=hi;var z=S.current.memoizedState.isDehydrated;if(z&&(sl(S,y).flags|=256),y=qd(S,y,!1),y!==2){if(Dd&&!z){S.errorRecoveryDisabledLanes|=m,yr|=m,u=4;break e}m=la,la=u,m!==null&&(la===null?la=m:la.push.apply(la,m))}u=y}if(m=!1,u!==2)continue}}if(u===1){sl(t,0),Bs(t,n,0,!0);break}e:{switch(o=t,m=u,m){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Bs(o,n,Sa,!Ms);break e;case 2:la=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Ho+300-Z(),10<u)){if(Bs(o,n,Sa,!Ms),pa(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=oy(Dg.bind(null,o,r,la,Zo,Md,n,Sa,yr,nl,Ms,m,"Throttled",-0,0),u);break e}Dg(o,r,la,Zo,Md,n,Sa,yr,nl,Ms,m,null,-0,0)}}break}while(!0);Xa(t)}function Dg(t,n,r,o,u,m,y,S,z,W,ue,ve,ne,le){if(t.timeoutHandle=-1,ve=n.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},jg(n,m,ve);var Pe=(m&62914560)===m?Ho-Z():(m&4194048)===m?Cg-Z():0;if(Pe=NN(ve,Pe),Pe!==null){ms=m,t.cancelPendingCommit=Pe(Ig.bind(null,t,n,m,r,o,u,y,S,z,ue,ve,null,ne,le)),Bs(t,m,y,!W);return}}Ig(t,n,m,r,o,u,y,S,z)}function BS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],m=u.getSnapshot;u=u.value;try{if(!ga(m(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(t,n,r,o){n&=~zd,n&=~yr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var u=n;0<u;){var m=31-_t(u),y=1<<m;o[m]=-1,u&=~y}r!==0&&nt(t,r,n)}function Go(){return(Tt&6)===0?(gi(0),!1):!0}function Bd(){if(gt!==null){if(Lt===0)var t=gt.return;else t=gt,ns=or=null,ed(t),Qr=null,Jl=0,t=gt;for(;t!==null;)cg(t.alternate,t),t=t.return;gt=null}}function sl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sN(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ms=0,Bd(),Vt=t,gt=r=es(t.current,null),vt=n,Lt=0,xa=null,Ms=!1,tl=Hn(t,n),Dd=!1,nl=Sa=zd=yr=ks=sn=0,la=hi=null,Md=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var u=31-_t(o),m=1<<u;n|=t[u],o&=~m}return fs=n,mo(),r}function zg(t,n){ct=null,M.H=li,n===Pr||n===So?(n=Yh(),Lt=3):n===Fu?(n=Yh(),Lt=4):Lt=n===gd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xa=n,gt===null&&(sn=1,ko(t,_a(n,t.current)))}function Mg(){var t=ba.current;return t===null?!0:(vt&4194048)===vt?Oa===null:(vt&62914560)===vt||(vt&536870912)!==0?t===Oa:!1}function kg(){var t=M.H;return M.H=li,t===null?li:t}function Ug(){var t=M.A;return M.A=US,t}function Po(){sn=4,Ms||(vt&4194048)!==vt&&ba.current!==null||(tl=!0),(ks&134217727)===0&&(yr&134217727)===0||Vt===null||Bs(Vt,vt,Sa,!1)}function qd(t,n,r){var o=Tt;Tt|=2;var u=kg(),m=Ug();(Vt!==t||vt!==n)&&(Zo=null,sl(t,n)),n=!1;var y=sn;e:do try{if(Lt!==0&&gt!==null){var S=gt,z=xa;switch(Lt){case 8:Bd(),y=6;break e;case 3:case 2:case 9:case 6:ba.current===null&&(n=!0);var W=Lt;if(Lt=0,xa=null,rl(t,S,z,W),r&&tl){y=0;break e}break;default:W=Lt,Lt=0,xa=null,rl(t,S,z,W)}}qS(),y=sn;break}catch(ue){zg(t,ue)}while(!0);return n&&t.shellSuspendCounter++,ns=or=null,Tt=o,M.H=u,M.A=m,gt===null&&(Vt=null,vt=0,mo()),y}function qS(){for(;gt!==null;)Lg(gt)}function IS(t,n){var r=Tt;Tt|=2;var o=kg(),u=Ug();Vt!==t||vt!==n?(Zo=null,Vo=Z()+500,sl(t,n)):tl=Hn(t,n);e:do try{if(Lt!==0&&gt!==null){n=gt;var m=xa;t:switch(Lt){case 1:Lt=0,xa=null,rl(t,n,m,1);break;case 2:case 9:if(Ph(m)){Lt=0,xa=null,Bg(n);break}n=function(){Lt!==2&&Lt!==9||Vt!==t||(Lt=7),Xa(t)},m.then(n,n);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Ph(m)?(Lt=0,xa=null,Bg(n)):(Lt=0,xa=null,rl(t,n,m,7));break;case 5:var y=null;switch(gt.tag){case 26:y=gt.memoizedState;case 5:case 27:var S=gt;if(y?wy(y):S.stateNode.complete){Lt=0,xa=null;var z=S.sibling;if(z!==null)gt=z;else{var W=S.return;W!==null?(gt=W,Qo(W)):gt=null}break t}}Lt=0,xa=null,rl(t,n,m,5);break;case 6:Lt=0,xa=null,rl(t,n,m,6);break;case 8:Bd(),sn=6;break e;default:throw Error(l(462))}}$S();break}catch(ue){zg(t,ue)}while(!0);return ns=or=null,M.H=o,M.A=u,Tt=r,gt!==null?0:(Vt=null,vt=0,mo(),sn)}function $S(){for(;gt!==null&&!R();)Lg(gt)}function Lg(t){var n=ig(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?Qo(t):gt=n}function Bg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=tg(r,n,n.pendingProps,n.type,void 0,vt);break;case 11:n=tg(r,n,n.pendingProps,n.type.render,n.ref,vt);break;case 5:ed(n);default:cg(r,n),n=gt=Uh(n,fs),n=ig(r,n,fs)}t.memoizedProps=t.pendingProps,n===null?Qo(t):gt=n}function rl(t,n,r,o){ns=or=null,ed(n),Qr=null,Jl=0;var u=n.return;try{if(OS(t,u,n,r,vt)){sn=1,ko(t,_a(r,t.current)),gt=null;return}}catch(m){if(u!==null)throw gt=u,m;sn=1,ko(t,_a(r,t.current)),gt=null;return}n.flags&32768?(St||o===1?t=!0:tl||(vt&536870912)!==0?t=!1:(Ms=t=!0,(o===2||o===9||o===3||o===6)&&(o=ba.current,o!==null&&o.tag===13&&(o.flags|=16384))),qg(n,t)):Qo(n)}function Qo(t){var n=t;do{if((n.flags&32768)!==0){qg(n,Ms);return}t=n.return;var r=DS(n.alternate,n,fs);if(r!==null){gt=r;return}if(n=n.sibling,n!==null){gt=n;return}gt=n=t}while(n!==null);sn===0&&(sn=5)}function qg(t,n){do{var r=zS(t.alternate,t);if(r!==null){r.flags&=32767,gt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){gt=t;return}gt=t=r}while(t!==null);sn=6,gt=null}function Ig(t,n,r,o,u,m,y,S,z){t.cancelPendingCommit=null;do Yo();while(Cn!==0);if((Tt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(m=n.lanes|n.childLanes,m|=Au,Ge(t,r,m,y,S,z),t===Vt&&(gt=Vt=null,vt=0),al=n,Ls=t,ms=r,kd=m,Ud=u,Og=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZS(ae,function(){return Zg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,u=I.p,I.p=2,y=Tt,Tt|=4;try{MS(t,n,r)}finally{Tt=y,I.p=u,M.T=o}}Cn=1,$g(),Fg(),Hg()}}function $g(){if(Cn===1){Cn=0;var t=Ls,n=al,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var o=I.p;I.p=2;var u=Tt;Tt|=4;try{Sg(n,t);var m=Xd,y=Ah(t.containerInfo),S=m.focusedElem,z=m.selectionRange;if(y!==S&&S&&S.ownerDocument&&Eh(S.ownerDocument.documentElement,S)){if(z!==null&&Nu(S)){var W=z.start,ue=z.end;if(ue===void 0&&(ue=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(ue,S.value.length);else{var ve=S.ownerDocument||document,ne=ve&&ve.defaultView||window;if(ne.getSelection){var le=ne.getSelection(),Pe=S.textContent.length,tt=Math.min(z.start,Pe),Ft=z.end===void 0?tt:Math.min(z.end,Pe);!le.extend&&tt>Ft&&(y=Ft,Ft=tt,tt=y);var $=_h(S,tt),L=_h(S,Ft);if($&&L&&(le.rangeCount!==1||le.anchorNode!==$.node||le.anchorOffset!==$.offset||le.focusNode!==L.node||le.focusOffset!==L.offset)){var J=ve.createRange();J.setStart($.node,$.offset),le.removeAllRanges(),tt>Ft?(le.addRange(J),le.extend(L.node,L.offset)):(J.setEnd(L.node,L.offset),le.addRange(J))}}}}for(ve=[],le=S;le=le.parentNode;)le.nodeType===1&&ve.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ve.length;S++){var ge=ve[S];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}ic=!!Kd,Xd=Kd=null}finally{Tt=u,I.p=o,M.T=r}}t.current=n,Cn=2}}function Fg(){if(Cn===2){Cn=0;var t=Ls,n=al,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var o=I.p;I.p=2;var u=Tt;Tt|=4;try{gg(t,n.alternate,n)}finally{Tt=u,I.p=o,M.T=r}}Cn=3}}function Hg(){if(Cn===4||Cn===3){Cn=0,P();var t=Ls,n=al,r=ms,o=Og;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Cn=5:(Cn=0,al=Ls=null,Vg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Us=null),Mt(r),n=n.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ne,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=M.T,u=I.p,I.p=2,M.T=null;try{for(var m=t.onRecoverableError,y=0;y<o.length;y++){var S=o[y];m(S.value,{componentStack:S.stack})}}finally{M.T=n,I.p=u}}(ms&3)!==0&&Yo(),Xa(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Ld?pi++:(pi=0,Ld=t):pi=0,gi(0)}}function Vg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Kl(n)))}function Yo(){return $g(),Fg(),Hg(),Zg()}function Zg(){if(Cn!==5)return!1;var t=Ls,n=kd;kd=0;var r=Mt(ms),o=M.T,u=I.p;try{I.p=32>r?32:r,M.T=null,r=Ud,Ud=null;var m=Ls,y=ms;if(Cn=0,al=Ls=null,ms=0,(Tt&6)!==0)throw Error(l(331));var S=Tt;if(Tt|=4,Eg(m.current),wg(m,m.current,y,r),Tt=S,gi(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ne,m)}catch{}return!0}finally{I.p=u,M.T=o,Vg(t,n)}}function Gg(t,n,r){n=_a(r,n),n=pd(t.stateNode,n,2),t=Rs(t,n,2),t!==null&&(Ae(t,2),Xa(t))}function Bt(t,n,r){if(t.tag===3)Gg(t,t,r);else for(;n!==null;){if(n.tag===3){Gg(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Us===null||!Us.has(o))){t=_a(r,t),r=Pp(2),o=Rs(n,r,2),o!==null&&(Qp(r,o,n,t),Ae(o,2),Xa(o));break}}n=n.return}}function Id(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new LS;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(r)||(Dd=!0,u.add(r),t=FS.bind(null,t,n,r),n.then(t,t))}function FS(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Vt===t&&(vt&r)===r&&(sn===4||sn===3&&(vt&62914560)===vt&&300>Z()-Ho?(Tt&2)===0&&sl(t,0):zd|=r,nl===vt&&(nl=0)),Xa(t)}function Pg(t,n){n===0&&(n=Y()),t=rr(t,n),t!==null&&(Ae(t,n),Xa(t))}function HS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Pg(t,r)}function VS(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(n),Pg(t,r)}function ZS(t,n){return A(t,n)}var Ko=null,ll=null,$d=!1,Xo=!1,Fd=!1,qs=0;function Xa(t){t!==ll&&t.next===null&&(ll===null?Ko=ll=t:ll=ll.next=t),Xo=!0,$d||($d=!0,PS())}function gi(t,n){if(!Fd&&Xo){Fd=!0;do for(var r=!1,o=Ko;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var m=0;else{var y=o.suspendedLanes,S=o.pingedLanes;m=(1<<31-_t(42|t)+1)-1,m&=u&~(y&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Xg(o,m))}else m=vt,m=pa(o,o===Vt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Hn(o,m)||(r=!0,Xg(o,m));o=o.next}while(r);Fd=!1}}function GS(){Qg()}function Qg(){Xo=$d=!1;var t=0;qs!==0&&aN()&&(t=qs);for(var n=Z(),r=null,o=Ko;o!==null;){var u=o.next,m=Yg(o,n);m===0?(o.next=null,r===null?Ko=u:r.next=u,u===null&&(ll=r)):(r=o,(t!==0||(m&3)!==0)&&(Xo=!0)),o=u}Cn!==0&&Cn!==5||gi(t),qs!==0&&(qs=0)}function Yg(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var y=31-_t(m),S=1<<y,z=u[y];z===-1?((S&r)===0||(S&o)!==0)&&(u[y]=Vn(S,n)):z<=n&&(t.expiredLanes|=S),m&=~S}if(n=Vt,r=vt,r=pa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&H(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Hn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&H(o),Mt(r)){case 2:case 8:r=Le;break;case 32:r=ae;break;case 268435456:r=Ve;break;default:r=ae}return o=Kg.bind(null,t),r=A(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&H(o),t.callbackPriority=2,t.callbackNode=null,2}function Kg(t,n){if(Cn!==0&&Cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Yo()&&t.callbackNode!==r)return null;var o=vt;return o=pa(t,t===Vt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Tg(t,o,n),Yg(t,Z()),t.callbackNode!=null&&t.callbackNode===r?Kg.bind(null,t):null)}function Xg(t,n){if(Yo())return null;Tg(t,n,!0)}function PS(){rN(function(){(Tt&6)!==0?A(Ce,GS):Qg()})}function Hd(){if(qs===0){var t=Zr;t===0&&(t=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),qs=t}return qs}function Jg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mr(""+t)}function Wg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function QS(t,n,r,o,u){if(n==="submit"&&r&&r.stateNode===u){var m=Jg((u[bt]||null).action),y=o.submitter;y&&(n=(n=y[bt]||null)?Jg(n.formAction):y.getAttribute("formAction"),n!==null&&(m=n,y=null));var S=new na("action","action",null,o,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(qs!==0){var z=y?Wg(u,y):new FormData(u);cd(r,{pending:!0,data:z,method:u.method,action:m},null,z)}}else typeof m=="function"&&(S.preventDefault(),z=y?Wg(u,y):new FormData(u),cd(r,{pending:!0,data:z,method:u.method,action:m},m,z))},currentTarget:u}]})}}for(var Vd=0;Vd<Eu.length;Vd++){var Zd=Eu[Vd],YS=Zd.toLowerCase(),KS=Zd[0].toUpperCase()+Zd.slice(1);$a(YS,"on"+KS)}$a(Rh,"onAnimationEnd"),$a(Th,"onAnimationIteration"),$a(Dh,"onAnimationStart"),$a("dblclick","onDoubleClick"),$a("focusin","onFocus"),$a("focusout","onBlur"),$a(fS,"onTransitionRun"),$a(mS,"onTransitionStart"),$a(hS,"onTransitionCancel"),$a(zh,"onTransitionEnd"),Q("onMouseEnter",["mouseout","mouseover"]),Q("onMouseLeave",["mouseout","mouseover"]),Q("onPointerEnter",["pointerout","pointerover"]),Q("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yi));function ey(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],u=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var y=o.length-1;0<=y;y--){var S=o[y],z=S.instance,W=S.currentTarget;if(S=S.listener,z!==m&&u.isPropagationStopped())break e;m=S,u.currentTarget=W;try{m(u)}catch(ue){fo(ue)}u.currentTarget=null,m=z}else for(y=0;y<o.length;y++){if(S=o[y],z=S.instance,W=S.currentTarget,S=S.listener,z!==m&&u.isPropagationStopped())break e;m=S,u.currentTarget=W;try{m(u)}catch(ue){fo(ue)}u.currentTarget=null,m=z}}}}function yt(t,n){var r=n[on];r===void 0&&(r=n[on]=new Set);var o=t+"__bubble";r.has(o)||(ty(n,t,2,!1),r.add(o))}function Gd(t,n,r){var o=0;n&&(o|=4),ty(r,t,o,n)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Jo]){t[Jo]=!0,bs.forEach(function(r){r!=="selectionchange"&&(XS.has(r)||Gd(r,!1,t),Gd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Jo]||(n[Jo]=!0,Gd("selectionchange",!1,n))}}function ty(t,n,r,o){switch(Ry(n)){case 2:var u=_N;break;case 8:u=EN;break;default:u=cf}r=u.bind(null,n,r,t),u=void 0,!tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Qd(t,n,r,o,u){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var S=o.stateNode.containerInfo;if(S===u)break;if(y===4)for(y=o.return;y!==null;){var z=y.tag;if((z===3||z===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;S!==null;){if(y=Ot(S),y===null)return;if(z=y.tag,z===5||z===6||z===26||z===27){o=m=y;continue e}S=S.parentNode}}o=o.return}oo(function(){var W=m,ue=Il(r),ve=[];e:{var ne=Mh.get(t);if(ne!==void 0){var le=na,Pe=t;switch(t){case"keypress":if(ze(r)===0)break e;case"keydown":case"keyup":le=V0;break;case"focusin":Pe="focus",le=yu;break;case"focusout":Pe="blur",le=yu;break;case"beforeblur":case"afterblur":le=yu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=D0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=P0;break;case Rh:case Th:case Dh:le=k0;break;case zh:le=Y0;break;case"scroll":case"scrollend":le=kr;break;case"wheel":le=X0;break;case"copy":case"cut":case"paste":le=L0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=dh;break;case"toggle":case"beforetoggle":le=W0}var tt=(n&4)!==0,Ft=!tt&&(t==="scroll"||t==="scrollend"),$=tt?ne!==null?ne+"Capture":null:ne;tt=[];for(var L=W,J;L!==null;){var ge=L;if(J=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||J===null||$===null||(ge=er(L,$),ge!=null&&tt.push(bi(L,ge,J))),Ft)break;L=L.return}0<tt.length&&(ne=new le(ne,Pe,null,r,ue),ve.push({event:ne,listeners:tt}))}}if((n&7)===0){e:{if(ne=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",ne&&r!==Ss&&(Pe=r.relatedTarget||r.fromElement)&&(Ot(Pe)||Pe[Ht]))break e;if((le||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,le?(Pe=r.relatedTarget||r.toElement,le=W,Pe=Pe?Ot(Pe):null,Pe!==null&&(Ft=d(Pe),tt=Pe.tag,Pe!==Ft||tt!==5&&tt!==27&&tt!==6)&&(Pe=null)):(le=null,Pe=W),le!==Pe)){if(tt=ch,ge="onMouseLeave",$="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(tt=dh,ge="onPointerLeave",$="onPointerEnter",L="pointer"),Ft=le==null?ne:Zn(le),J=Pe==null?ne:Zn(Pe),ne=new tt(ge,L+"leave",le,r,ue),ne.target=Ft,ne.relatedTarget=J,ge=null,Ot(ue)===W&&(tt=new tt($,L+"enter",Pe,r,ue),tt.target=J,tt.relatedTarget=Ft,ge=tt),Ft=ge,le&&Pe)t:{for(tt=JS,$=le,L=Pe,J=0,ge=$;ge;ge=tt(ge))J++;ge=0;for(var Xe=L;Xe;Xe=tt(Xe))ge++;for(;0<J-ge;)$=tt($),J--;for(;0<ge-J;)L=tt(L),ge--;for(;J--;){if($===L||L!==null&&$===L.alternate){tt=$;break t}$=tt($),L=tt(L)}tt=null}else tt=null;le!==null&&ny(ve,ne,le,tt,!1),Pe!==null&&Ft!==null&&ny(ve,Ft,Pe,tt,!0)}}e:{if(ne=W?Zn(W):window,le=ne.nodeName&&ne.nodeName.toLowerCase(),le==="select"||le==="input"&&ne.type==="file")var At=vh;else if(yh(ne))if(xh)At=cS;else{At=iS;var Qe=lS}else le=ne.nodeName,!le||le.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?W&&ql(W.elementType)&&(At=vh):At=oS;if(At&&(At=At(t,W))){bh(ve,At,r,ue);break e}Qe&&Qe(t,ne,W),t==="focusout"&&W&&ne.type==="number"&&W.memoizedProps.value!=null&&Ws(ne,"number",ne.value)}switch(Qe=W?Zn(W):window,t){case"focusin":(yh(Qe)||Qe.contentEditable==="true")&&(Lr=Qe,wu=W,Pl=null);break;case"focusout":Pl=wu=Lr=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,Ch(ve,r,ue);break;case"selectionchange":if(dS)break;case"keydown":case"keyup":Ch(ve,r,ue)}var ft;if(vu)e:{switch(t){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else Ur?ph(t,r)&&(xt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(xt="onCompositionStart");xt&&(fh&&r.locale!=="ko"&&(Ur||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Ur&&(ft=he()):(Pa=ue,E="value"in Pa?Pa.value:Pa.textContent,Ur=!0)),Qe=Wo(W,xt),0<Qe.length&&(xt=new uh(xt,t,null,r,ue),ve.push({event:xt,listeners:Qe}),ft?xt.data=ft:(ft=gh(r),ft!==null&&(xt.data=ft)))),(ft=tS?nS(t,r):aS(t,r))&&(xt=Wo(W,"onBeforeInput"),0<xt.length&&(Qe=new uh("onBeforeInput","beforeinput",null,r,ue),ve.push({event:Qe,listeners:xt}),Qe.data=ft)),QS(ve,t,W,r,ue)}ey(ve,n)})}function bi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Wo(t,n){for(var r=n+"Capture",o=[];t!==null;){var u=t,m=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||m===null||(u=er(t,r),u!=null&&o.unshift(bi(t,u,m)),u=er(t,n),u!=null&&o.push(bi(t,u,m))),t.tag===3)return o;t=t.return}return[]}function JS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ny(t,n,r,o,u){for(var m=n._reactName,y=[];r!==null&&r!==o;){var S=r,z=S.alternate,W=S.stateNode;if(S=S.tag,z!==null&&z===o)break;S!==5&&S!==26&&S!==27||W===null||(z=W,u?(W=er(r,m),W!=null&&y.unshift(bi(r,W,z))):u||(W=er(r,m),W!=null&&y.push(bi(r,W,z)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var WS=/\r\n?/g,eN=/\u0000|\uFFFD/g;function ay(t){return(typeof t=="string"?t:""+t).replace(WS,`
`).replace(eN,"")}function sy(t,n){return n=ay(n),ay(t)===n}function $t(t,n,r,o,u,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||xs(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&xs(t,""+o);break;case"className":Yn(t,"class",o);break;case"tabIndex":Yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,r,o);break;case"style":lo(t,o,m);break;case"data":if(n!=="object"){Yn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Mr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&$t(t,n,"name",u.name,u,null),$t(t,n,"formEncType",u.formEncType,u,null),$t(t,n,"formMethod",u.formMethod,u,null),$t(t,n,"formTarget",u.formTarget,u,null)):($t(t,n,"encType",u.encType,u,null),$t(t,n,"method",u.method,u,null),$t(t,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Mr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=qa);break;case"onScroll":o!=null&&yt("scroll",t);break;case"onScrollEnd":o!=null&&yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Mr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":yt("beforetoggle",t),yt("toggle",t),jt(t,"popover",o);break;case"xlinkActuate":ta(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ta(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ta(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ta(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ta(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ta(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ta(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ta(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ta(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":jt(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,jt(t,r,o))}}function Yd(t,n,r,o,u,m){switch(r){case"style":lo(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof o=="string"?xs(t,o):(typeof o=="number"||typeof o=="bigint")&&xs(t,""+o);break;case"onScroll":o!=null&&yt("scroll",t);break;case"onScrollEnd":o!=null&&yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ln.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),m=t[bt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(n,m,u),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,u);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):jt(t,r,o)}}}function $n(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",t),yt("load",t);var o=!1,u=!1,m;for(m in r)if(r.hasOwnProperty(m)){var y=r[m];if(y!=null)switch(m){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:$t(t,n,m,y,r,null)}}u&&$t(t,n,"srcSet",r.srcSet,r,null),o&&$t(t,n,"src",r.src,r,null);return;case"input":yt("invalid",t);var S=m=y=u=null,z=null,W=null;for(o in r)if(r.hasOwnProperty(o)){var ue=r[o];if(ue!=null)switch(o){case"name":u=ue;break;case"type":y=ue;break;case"checked":z=ue;break;case"defaultChecked":W=ue;break;case"value":m=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(137,n));break;default:$t(t,n,o,ue,r,null)}}zr(t,m,S,z,W,y,u,!1);return;case"select":yt("invalid",t),o=y=m=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":m=S;break;case"defaultValue":y=S;break;case"multiple":o=S;default:$t(t,n,u,S,r,null)}n=m,r=y,t.multiple=!!o,n!=null?vs(t,!!o,n,!1):r!=null&&vs(t,!!o,r,!0);return;case"textarea":yt("invalid",t),m=u=o=null;for(y in r)if(r.hasOwnProperty(y)&&(S=r[y],S!=null))switch(y){case"value":o=S;break;case"defaultValue":u=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:$t(t,n,y,S,r,null)}so(t,o,u,m);return;case"option":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(t,n,z,o,r,null)}return;case"dialog":yt("beforetoggle",t),yt("toggle",t),yt("cancel",t),yt("close",t);break;case"iframe":case"object":yt("load",t);break;case"video":case"audio":for(o=0;o<yi.length;o++)yt(yi[o],t);break;case"image":yt("error",t),yt("load",t);break;case"details":yt("toggle",t);break;case"embed":case"source":case"link":yt("error",t),yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in r)if(r.hasOwnProperty(W)&&(o=r[W],o!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:$t(t,n,W,o,r,null)}return;default:if(ql(n)){for(ue in r)r.hasOwnProperty(ue)&&(o=r[ue],o!==void 0&&Yd(t,n,ue,o,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(o=r[S],o!=null&&$t(t,n,S,o,r,null))}function tN(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,m=null,y=null,S=null,z=null,W=null,ue=null;for(le in r){var ve=r[le];if(r.hasOwnProperty(le)&&ve!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":z=ve;default:o.hasOwnProperty(le)||$t(t,n,le,null,o,ve)}}for(var ne in o){var le=o[ne];if(ve=r[ne],o.hasOwnProperty(ne)&&(le!=null||ve!=null))switch(ne){case"type":m=le;break;case"name":u=le;break;case"checked":W=le;break;case"defaultChecked":ue=le;break;case"value":y=le;break;case"defaultValue":S=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(l(137,n));break;default:le!==ve&&$t(t,n,ne,le,o,ve)}}Bl(t,y,S,z,W,ue,m,u);return;case"select":le=y=S=ne=null;for(m in r)if(z=r[m],r.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":le=z;default:o.hasOwnProperty(m)||$t(t,n,m,null,o,z)}for(u in o)if(m=o[u],z=r[u],o.hasOwnProperty(u)&&(m!=null||z!=null))switch(u){case"value":ne=m;break;case"defaultValue":S=m;break;case"multiple":y=m;default:m!==z&&$t(t,n,u,m,o,z)}n=S,r=y,o=le,ne!=null?vs(t,!!r,ne,!1):!!o!=!!r&&(n!=null?vs(t,!!r,n,!0):vs(t,!!r,r?[]:"",!1));return;case"textarea":le=ne=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:$t(t,n,S,null,o,u)}for(y in o)if(u=o[y],m=r[y],o.hasOwnProperty(y)&&(u!=null||m!=null))switch(y){case"value":ne=u;break;case"defaultValue":le=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==m&&$t(t,n,y,u,o,m)}ao(t,ne,le);return;case"option":for(var Pe in r)if(ne=r[Pe],r.hasOwnProperty(Pe)&&ne!=null&&!o.hasOwnProperty(Pe))switch(Pe){case"selected":t.selected=!1;break;default:$t(t,n,Pe,null,o,ne)}for(z in o)if(ne=o[z],le=r[z],o.hasOwnProperty(z)&&ne!==le&&(ne!=null||le!=null))switch(z){case"selected":t.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:$t(t,n,z,ne,o,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in r)ne=r[tt],r.hasOwnProperty(tt)&&ne!=null&&!o.hasOwnProperty(tt)&&$t(t,n,tt,null,o,ne);for(W in o)if(ne=o[W],le=r[W],o.hasOwnProperty(W)&&ne!==le&&(ne!=null||le!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(l(137,n));break;default:$t(t,n,W,ne,o,le)}return;default:if(ql(n)){for(var Ft in r)ne=r[Ft],r.hasOwnProperty(Ft)&&ne!==void 0&&!o.hasOwnProperty(Ft)&&Yd(t,n,Ft,void 0,o,ne);for(ue in o)ne=o[ue],le=r[ue],!o.hasOwnProperty(ue)||ne===le||ne===void 0&&le===void 0||Yd(t,n,ue,ne,o,le);return}}for(var $ in r)ne=r[$],r.hasOwnProperty($)&&ne!=null&&!o.hasOwnProperty($)&&$t(t,n,$,null,o,ne);for(ve in o)ne=o[ve],le=r[ve],!o.hasOwnProperty(ve)||ne===le||ne==null&&le==null||$t(t,n,ve,ne,o,le)}function ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var u=r[o],m=u.transferSize,y=u.initiatorType,S=u.duration;if(m&&S&&ry(y)){for(y=0,S=u.responseEnd,o+=1;o<r.length;o++){var z=r[o],W=z.startTime;if(W>S)break;var ue=z.transferSize,ve=z.initiatorType;ue&&ry(ve)&&(z=z.responseEnd,y+=ue*(z<S?1:(S-W)/(z-W)))}if(--o,n+=8*(m+y)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Xd=null;function ec(t){return t.nodeType===9?t:t.ownerDocument}function ly(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wd=null;function aN(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,sN=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(t){return cy.resolve(null).then(t).catch(lN)}:oy;function lN(t){setTimeout(function(){throw t})}function Is(t){return t==="head"}function uy(t,n){var r=n,o=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(u),ul(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")vi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,vi(r);for(var m=r.firstChild;m;){var y=m.nextSibling,S=m.nodeName;m[Zt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=y}}else r==="body"&&vi(t.ownerDocument.body);r=u}while(r);ul(n)}function dy(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ef(r),Dn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function iN(t,n,r,o){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Zt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Ra(t.nextSibling),t===null)break}return null}function oN(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ra(t.nextSibling),t===null))return null;return t}function fy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ra(t.nextSibling),t===null))return null;return t}function tf(t){return t.data==="$?"||t.data==="$~"}function nf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cN(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ra(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var af=null;function my(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Ra(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function py(t,n,r){switch(n=ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function vi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Dn(t)}var Ta=new Map,gy=new Set;function tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=I.d;I.d={f:uN,r:dN,D:fN,C:mN,L:hN,m:pN,X:yN,S:gN,M:bN};function uN(){var t=hs.f(),n=Go();return t||n}function dN(t){var n=un(t);n!==null&&n.tag===5&&n.type==="form"?zp(n):hs.r(t)}var il=typeof document>"u"?null:document;function yy(t,n,r){var o=il;if(o&&typeof n=="string"&&n){var u=zn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),gy.has(u)||(gy.add(u),t={rel:t,crossOrigin:r,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),$n(n,"link",t),Ut(n),o.head.appendChild(n)))}}function fN(t){hs.D(t),yy("dns-prefetch",t,null)}function mN(t,n){hs.C(t,n),yy("preconnect",t,n)}function hN(t,n,r){hs.L(t,n,r);var o=il;if(o&&t&&n){var u='link[rel="preload"][as="'+zn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+zn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+zn(r.imageSizes)+'"]')):u+='[href="'+zn(t)+'"]';var m=u;switch(n){case"style":m=ol(t);break;case"script":m=cl(t)}Ta.has(m)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Ta.set(m,t),o.querySelector(u)!==null||n==="style"&&o.querySelector(xi(m))||n==="script"&&o.querySelector(Si(m))||(n=o.createElement("link"),$n(n,"link",t),Ut(n),o.head.appendChild(n)))}}function pN(t,n){hs.m(t,n);var r=il;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+zn(o)+'"][href="'+zn(t)+'"]',m=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=cl(t)}if(!Ta.has(m)&&(t=x({rel:"modulepreload",href:t},n),Ta.set(m,t),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Si(m)))return}o=r.createElement("link"),$n(o,"link",t),Ut(o),r.head.appendChild(o)}}}function gN(t,n,r){hs.S(t,n,r);var o=il;if(o&&t){var u=An(o).hoistableStyles,m=ol(t);n=n||"default";var y=u.get(m);if(!y){var S={loading:0,preload:null};if(y=o.querySelector(xi(m)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Ta.get(m))&&sf(t,r);var z=y=o.createElement("link");Ut(z),$n(z,"link",t),z._p=new Promise(function(W,ue){z.onload=W,z.onerror=ue}),z.addEventListener("load",function(){S.loading|=1}),z.addEventListener("error",function(){S.loading|=2}),S.loading|=4,nc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:S},u.set(m,y)}}}function yN(t,n){hs.X(t,n);var r=il;if(r&&t){var o=An(r).hoistableScripts,u=cl(t),m=o.get(u);m||(m=r.querySelector(Si(u)),m||(t=x({src:t,async:!0},n),(n=Ta.get(u))&&rf(t,n),m=r.createElement("script"),Ut(m),$n(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function bN(t,n){hs.M(t,n);var r=il;if(r&&t){var o=An(r).hoistableScripts,u=cl(t),m=o.get(u);m||(m=r.querySelector(Si(u)),m||(t=x({src:t,async:!0,type:"module"},n),(n=Ta.get(u))&&rf(t,n),m=r.createElement("script"),Ut(m),$n(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function by(t,n,r,o){var u=(u=pe.current)?tc(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ol(r.href),r=An(u).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ol(r.href);var m=An(u).hoistableStyles,y=m.get(t);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,y),(m=u.querySelector(xi(t)))&&!m._p&&(y.instance=m,y.state.loading=5),Ta.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ta.set(t,r),m||vN(u,t,r,y.state))),n&&o===null)throw Error(l(528,""));return y}if(n&&o!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cl(r),r=An(u).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ol(t){return'href="'+zn(t)+'"'}function xi(t){return'link[rel="stylesheet"]['+t+"]"}function vy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function vN(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$n(n,"link",r),Ut(n),t.head.appendChild(n))}function cl(t){return'[src="'+zn(t)+'"]'}function Si(t){return"script[async]"+t}function xy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+zn(r.href)+'"]');if(o)return n.instance=o,Ut(o),o;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ut(o),$n(o,"style",u),nc(o,r.precedence,t),n.instance=o;case"stylesheet":u=ol(r.href);var m=t.querySelector(xi(u));if(m)return n.state.loading|=4,n.instance=m,Ut(m),m;o=vy(r),(u=Ta.get(u))&&sf(o,u),m=(t.ownerDocument||t).createElement("link"),Ut(m);var y=m;return y._p=new Promise(function(S,z){y.onload=S,y.onerror=z}),$n(m,"link",o),n.state.loading|=4,nc(m,r.precedence,t),n.instance=m;case"script":return m=cl(r.src),(u=t.querySelector(Si(m)))?(n.instance=u,Ut(u),u):(o=r,(u=Ta.get(m))&&(o=x({},r),rf(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),Ut(u),$n(u,"link",o),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,nc(o,r.precedence,t));return n.instance}function nc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,m=u,y=0;y<o.length;y++){var S=o[y];if(S.dataset.precedence===n)m=S;else if(m!==u)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ac=null;function Sy(t,n,r){if(ac===null){var o=new Map,u=ac=new Map;u.set(r,o)}else u=ac,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var m=r[u];if(!(m[Zt]||m[lt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(n)||"";y=t+y;var S=o.get(y);S?S.push(m):o.set(y,[m])}}return o}function Ny(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function xN(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function SN(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=ol(o.href),m=n.querySelector(xi(u));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=sc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=m,Ut(m);return}m=n.ownerDocument||n,o=vy(o),(u=Ta.get(u))&&sf(o,u),m=m.createElement("link"),Ut(m);var y=m;y._p=new Promise(function(S,z){y.onload=S,y.onerror=z}),$n(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=sc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var lf=0;function NN(t,n){return t.stylesheets&&t.count===0&&lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&lc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&lf===0&&(lf=62500*nN());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>lf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rc=null;function lc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rc=new Map,n.forEach(wN,t),rc=null,sc.call(t))}function wN(t,n){if(!(n.state.loading&4)){var r=rc.get(t);if(r)var o=r.get(null);else{r=new Map,rc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<u.length;m++){var y=u[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}u=n.instance,y=u.getAttribute("data-precedence"),m=r.get(y)||o,m===o&&r.set(null,u),r.set(y,u),this.count++,o=sc.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),m?m.parentNode.insertBefore(u,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Ni={$$typeof:K,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function jN(t,n,r,o,u,m,y,S,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.hiddenUpdates=te(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function jy(t,n,r,o,u,m,y,S,z,W,ue,ve){return t=new jN(t,n,r,y,z,W,ue,ve,S),n=1,m===!0&&(n|=24),m=ya(3,null,null,n),t.current=m,m.stateNode=t,n=qu(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},Hu(m),t}function _y(t){return t?(t=Ir,t):Ir}function Ey(t,n,r,o,u,m){u=_y(u),o.context===null?o.context=u:o.pendingContext=u,o=Os(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Rs(t,o,n),r!==null&&(ia(r,t,n),ei(r,t,n))}function Ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function of(t,n){Ay(t,n),(t=t.alternate)&&Ay(t,n)}function Cy(t){if(t.tag===13||t.tag===31){var n=rr(t,67108864);n!==null&&ia(n,t,67108864),of(t,67108864)}}function Oy(t){if(t.tag===13||t.tag===31){var n=Na();n=zt(n);var r=rr(t,n);r!==null&&ia(r,t,n),of(t,n)}}var ic=!0;function _N(t,n,r,o){var u=M.T;M.T=null;var m=I.p;try{I.p=2,cf(t,n,r,o)}finally{I.p=m,M.T=u}}function EN(t,n,r,o){var u=M.T;M.T=null;var m=I.p;try{I.p=8,cf(t,n,r,o)}finally{I.p=m,M.T=u}}function cf(t,n,r,o){if(ic){var u=uf(o);if(u===null)Qd(t,n,o,oc,r),Ty(t,o);else if(CN(u,t,n,r,o))o.stopPropagation();else if(Ty(t,o),n&4&&-1<AN.indexOf(t)){for(;u!==null;){var m=un(u);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=ea(m.pendingLanes);if(y!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var z=1<<31-_t(y);S.entanglements[1]|=z,y&=~z}Xa(m),(Tt&6)===0&&(Vo=Z()+500,gi(0))}}break;case 31:case 13:S=rr(m,2),S!==null&&ia(S,m,2),Go(),of(m,2)}if(m=uf(o),m===null&&Qd(t,n,o,oc,r),m===u)break;u=m}u!==null&&o.stopPropagation()}else Qd(t,n,o,null,r)}}function uf(t){return t=Il(t),df(t)}var oc=null;function df(t){if(oc=null,t=Ot(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oc=t,null}function Ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case Ce:return 2;case Le:return 8;case ae:case ke:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var ff=!1,$s=null,Fs=null,Hs=null,wi=new Map,ji=new Map,Vs=[],AN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ty(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":wi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(n.pointerId)}}function _i(t,n,r,o,u,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[u]},n!==null&&(n=un(n),n!==null&&Cy(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function CN(t,n,r,o,u){switch(n){case"focusin":return $s=_i($s,t,n,r,o,u),!0;case"dragenter":return Fs=_i(Fs,t,n,r,o,u),!0;case"mouseover":return Hs=_i(Hs,t,n,r,o,u),!0;case"pointerover":var m=u.pointerId;return wi.set(m,_i(wi.get(m)||null,t,n,r,o,u)),!0;case"gotpointercapture":return m=u.pointerId,ji.set(m,_i(ji.get(m)||null,t,n,r,o,u)),!0}return!1}function Dy(t){var n=Ot(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,pn(t.priority,function(){Oy(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,pn(t.priority,function(){Oy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ss=o,r.target.dispatchEvent(o),Ss=null}else return n=un(r),n!==null&&Cy(n),t.blockedOn=r,!1;n.shift()}return!0}function zy(t,n,r){cc(t)&&r.delete(n)}function ON(){ff=!1,$s!==null&&cc($s)&&($s=null),Fs!==null&&cc(Fs)&&(Fs=null),Hs!==null&&cc(Hs)&&(Hs=null),wi.forEach(zy),ji.forEach(zy)}function uc(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ON)))}var dc=null;function My(t){dc!==t&&(dc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dc===t&&(dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],u=t[n+2];if(typeof o!="function"){if(df(o||r)===null)continue;break}var m=un(r);m!==null&&(t.splice(n,3),n-=3,cd(m,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function ul(t){function n(z){return uc(z,t)}$s!==null&&uc($s,t),Fs!==null&&uc(Fs,t),Hs!==null&&uc(Hs,t),wi.forEach(n),ji.forEach(n);for(var r=0;r<Vs.length;r++){var o=Vs[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)Dy(r),r.blockedOn===null&&Vs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],y=u[bt]||null;if(typeof m=="function")y||My(r);else if(y){var S=null;if(m&&m.hasAttribute("formAction")){if(u=m,y=m[bt]||null)S=y.formAction;else if(df(u)!==null)continue}else S=y.action;typeof S=="function"?r[o+1]=S:(r.splice(o,3),o-=3),My(r)}}}function ky(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function mf(t){this._internalRoot=t}fc.prototype.render=mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,o=Na();Ey(r,o,t,n,null,null)},fc.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ey(t.current,2,null,t,null,null),Go(),n[Ht]=null}};function fc(t){this._internalRoot=t}fc.prototype.unstable_scheduleHydration=function(t){if(t){var n=kt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Vs.length&&n!==0&&n<Vs[r].priority;r++);Vs.splice(r,0,t),r===0&&Dy(t)}};var Uy=a.version;if(Uy!=="19.2.0")throw Error(l(527,Uy,"19.2.0"));I.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var RN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Ne=mc.inject(RN),et=mc}catch{}}return Ai.createRoot=function(t,n){if(!c(t))throw Error(l(299));var r=!1,o="",u=Hp,m=Vp,y=Zp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=jy(t,1,!1,null,null,r,o,null,u,m,y,ky),t[Ht]=n.current,Pd(t),new mf(n)},Ai.hydrateRoot=function(t,n,r){if(!c(t))throw Error(l(299));var o=!1,u="",m=Hp,y=Vp,S=Zp,z=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(z=r.formState)),n=jy(t,1,!0,n,r??null,o,u,z,m,y,S,ky),n.context=_y(null),r=n.current,o=Na(),o=zt(o),u=Os(o),u.callback=null,Rs(r,u,o),r=o,n.current.lanes=r,Ae(n,r),Xa(n),t[Ht]=n.current,Pd(t),new fc(n)},Ai.version="19.2.0",Ai}var Gy;function IN(){if(Gy)return gf.exports;Gy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),gf.exports=qN(),gf.exports}var $N=IN();const FN=Ev($N);var Py="popstate";function HN(e={}){function a(l,c){let{pathname:d,search:f,hash:h}=l.location;return Kf("",{pathname:d,search:f,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:Li(c)}return ZN(a,s,null,e)}function Jt(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function ka(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function VN(){return Math.random().toString(36).substring(2,10)}function Qy(e,a){return{usr:e.state,key:e.key,idx:a}}function Kf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?jl(a):a,state:s,key:a&&a.key||l||VN()}}function Li({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function jl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function ZN(e,a,s,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,f=c.history,h="POP",g=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function x(){h="POP";let C=v(),B=C==null?null:C-p;p=C,g&&g({action:h,location:_.location,delta:B})}function N(C,B){h="PUSH";let T=Kf(_.location,C,B);p=v()+1;let K=Qy(T,p),D=_.createHref(T);try{f.pushState(K,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(D)}d&&g&&g({action:h,location:_.location,delta:1})}function q(C,B){h="REPLACE";let T=Kf(_.location,C,B);p=v();let K=Qy(T,p),D=_.createHref(T);f.replaceState(K,"",D),d&&g&&g({action:h,location:_.location,delta:0})}function j(C){return GN(C)}let _={get action(){return h},get location(){return e(c,f)},listen(C){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Py,x),g=C,()=>{c.removeEventListener(Py,x),g=null}},createHref(C){return a(c,C)},createURL:j,encodeLocation(C){let B=j(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:N,replace:q,go(C){return f.go(C)}};return _}function GN(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:Li(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function Av(e,a,s="/"){return PN(e,a,s,!1)}function PN(e,a,s,l){let c=typeof a=="string"?jl(a):a,d=ys(c.pathname||"/",s);if(d==null)return null;let f=Cv(e);QN(f);let h=null;for(let g=0;h==null&&g<f.length;++g){let p=rw(d);h=aw(f[g],p,l)}return h}function Cv(e,a=[],s=[],l="",c=!1){let d=(f,h,g=c,p)=>{let v={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&g)return;Jt(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=gs([l,v.relativePath]),N=s.concat(v);f.children&&f.children.length>0&&(Jt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Cv(f.children,a,N,x,g)),!(f.path==null&&!f.index)&&a.push({path:x,score:tw(x,f.index),routesMeta:N})};return e.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))d(f,h);else for(let g of Ov(f.path))d(f,h,!0,g)}),a}function Ov(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let f=Ov(l.join("/")),h=[];return h.push(...f.map(g=>g===""?d:[d,g].join("/"))),c&&h.push(...f),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function QN(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:nw(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var YN=/^:[\w-]+$/,KN=3,XN=2,JN=1,WN=10,ew=-2,Yy=e=>e==="*";function tw(e,a){let s=e.split("/"),l=s.length;return s.some(Yy)&&(l+=ew),a&&(l+=XN),s.filter(c=>!Yy(c)).reduce((c,d)=>c+(YN.test(d)?KN:d===""?JN:WN),l)}function nw(e,a){return e.length===a.length&&e.slice(0,-1).every((l,c)=>l===a[c])?e[e.length-1]-a[a.length-1]:0}function aw(e,a,s=!1){let{routesMeta:l}=e,c={},d="/",f=[];for(let h=0;h<l.length;++h){let g=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",x=Bi({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),N=g.route;if(!x&&p&&s&&!l[l.length-1].route.index&&(x=Bi({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!x)return null;Object.assign(c,x.params),f.push({params:c,pathname:gs([d,x.pathname]),pathnameBase:cw(gs([d,x.pathnameBase])),route:N}),x.pathnameBase!=="/"&&(d=gs([d,x.pathnameBase]))}return f}function Bi(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=sw(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},N)=>{if(v==="*"){let j=h[N]||"";f=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const q=h[N];return x&&!q?p[v]=void 0:p[v]=(q||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:f,pattern:e}}function sw(e,a=!1,s=!0){ka(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,g)=>(l.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function rw(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ka(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function ys(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function lw(e,a="/"){let{pathname:s,search:l="",hash:c=""}=typeof e=="string"?jl(e):e;return{pathname:s?s.startsWith("/")?s:iw(s,a):a,search:uw(l),hash:dw(c)}}function iw(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function xf(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ow(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Am(e){let a=ow(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function Cm(e,a,s,l=!1){let c;typeof e=="string"?c=jl(e):(c={...e},Jt(!c.pathname||!c.pathname.includes("?"),xf("?","pathname","search",c)),Jt(!c.pathname||!c.pathname.includes("#"),xf("#","pathname","hash",c)),Jt(!c.search||!c.search.includes("#"),xf("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,h;if(f==null)h=s;else{let x=a.length-1;if(!l&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),x-=1;c.pathname=N.join("/")}h=x>=0?a[x]:"/"}let g=lw(c,h),p=f&&f!=="/"&&f.endsWith("/"),v=(d||f===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var gs=e=>e.join("/").replace(/\/\/+/g,"/"),cw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rv=["POST","PUT","PATCH","DELETE"];new Set(Rv);var mw=["GET",...Rv];new Set(mw);var _l=b.createContext(null);_l.displayName="DataRouter";var Vc=b.createContext(null);Vc.displayName="DataRouterState";b.createContext(!1);var Tv=b.createContext({isTransitioning:!1});Tv.displayName="ViewTransition";var hw=b.createContext(new Map);hw.displayName="Fetchers";var pw=b.createContext(null);pw.displayName="Await";var Ua=b.createContext(null);Ua.displayName="Navigation";var Zi=b.createContext(null);Zi.displayName="Location";var La=b.createContext({outlet:null,matches:[],isDataRoute:!1});La.displayName="Route";var Om=b.createContext(null);Om.displayName="RouteError";function gw(e,{relative:a}={}){Jt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=b.useContext(Ua),{hash:c,pathname:d,search:f}=Gi(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:gs([s,d])),l.createHref({pathname:h,search:f,hash:c})}function El(){return b.useContext(Zi)!=null}function Wn(){return Jt(El(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Zi).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zv(e){b.useContext(Ua).static||b.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=b.useContext(La);return e?Dw():yw()}function yw(){Jt(El(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(_l),{basename:a,navigator:s}=b.useContext(Ua),{matches:l}=b.useContext(La),{pathname:c}=Wn(),d=JSON.stringify(Am(l)),f=b.useRef(!1);return zv(()=>{f.current=!0}),b.useCallback((g,p={})=>{if(ka(f.current,Dv),!f.current)return;if(typeof g=="number"){s.go(g);return}let v=Cm(g,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:gs([a,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[a,s,d,c,e])}var bw=b.createContext(null);function vw(e){let a=b.useContext(La).outlet;return b.useMemo(()=>a&&b.createElement(bw.Provider,{value:e},a),[a,e])}function xw(){let{matches:e}=b.useContext(La),a=e[e.length-1];return a?a.params:{}}function Gi(e,{relative:a}={}){let{matches:s}=b.useContext(La),{pathname:l}=Wn(),c=JSON.stringify(Am(s));return b.useMemo(()=>Cm(e,JSON.parse(c),l,a==="path"),[e,c,l,a])}function Sw(e,a){return Mv(e,a)}function Mv(e,a,s,l,c){Jt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(Ua),{matches:f}=b.useContext(La),h=f[f.length-1],g=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let T=x&&x.path||"";kv(p,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let N=Wn(),q;if(a){let T=typeof a=="string"?jl(a):a;Jt(v==="/"||T.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${T.pathname}" was given in the \`location\` prop.`),q=T}else q=N;let j=q.pathname||"/",_=j;if(v!=="/"){let T=v.replace(/^\//,"").split("/");_="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=Av(e,{pathname:_});ka(x||C!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),ka(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Ew(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},g,T.params),pathname:gs([v,d.encodeLocation?d.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?v:gs([v,d.encodeLocation?d.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),f,s,l,c);return a&&B?b.createElement(Zi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},B):B}function Nw(){let e=Tw(),a=fw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:c},s):null,f)}var ww=b.createElement(Nw,null),jw=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(La.Provider,{value:this.props.routeContext},b.createElement(Om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _w({routeContext:e,match:a,children:s}){let l=b.useContext(_l);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(La.Provider,{value:e},s)}function Ew(e,a=[],s=null,l=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,f=s?.errors;if(f!=null){let p=d.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);Jt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,g=-1;if(s)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=p),v.route.id){let{loaderData:x,errors:N}=s,q=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!N||N[v.route.id]===void 0);if(v.route.lazy||q){h=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,v,x)=>{let N,q=!1,j=null,_=null;s&&(N=f&&v.route.id?f[v.route.id]:void 0,j=v.route.errorElement||ww,h&&(g<0&&x===0?(kv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,_=null):g===x&&(q=!0,_=v.route.hydrateFallbackElement||null)));let C=a.concat(d.slice(0,x+1)),B=()=>{let T;return N?T=j:q?T=_:v.route.Component?T=b.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=p,b.createElement(_w,{match:v,routeContext:{outlet:p,matches:C,isDataRoute:s!=null},children:T})};return s&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(jw,{location:s.location,revalidation:s.revalidation,component:j,error:N,children:B(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:l}):B()},null)}function Rm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aw(e){let a=b.useContext(_l);return Jt(a,Rm(e)),a}function Cw(e){let a=b.useContext(Vc);return Jt(a,Rm(e)),a}function Ow(e){let a=b.useContext(La);return Jt(a,Rm(e)),a}function Tm(e){let a=Ow(e),s=a.matches[a.matches.length-1];return Jt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Rw(){return Tm("useRouteId")}function Tw(){let e=b.useContext(Om),a=Cw("useRouteError"),s=Tm("useRouteError");return e!==void 0?e:a.errors?.[s]}function Dw(){let{router:e}=Aw("useNavigate"),a=Tm("useNavigate"),s=b.useRef(!1);return zv(()=>{s.current=!0}),b.useCallback(async(c,d={})=>{ka(s.current,Dv),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var Ky={};function kv(e,a,s){!a&&!Ky[e]&&(Ky[e]=!0,ka(!1,s))}b.memo(zw);function zw({routes:e,future:a,state:s,unstable_onError:l}){return Mv(e,void 0,s,l,a)}function Qs({to:e,replace:a,state:s,relative:l}){Jt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(Ua);ka(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(La),{pathname:f}=Wn(),h=Or(),g=Cm(e,Am(d),f,l==="path"),p=JSON.stringify(g);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function Uv(e){return vw(e.context)}function tn(e){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mw({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:c,static:d=!1}){Jt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:f,navigator:c,static:d,future:{}}),[f,c,d]);typeof s=="string"&&(s=jl(s));let{pathname:g="/",search:p="",hash:v="",state:x=null,key:N="default"}=s,q=b.useMemo(()=>{let j=ys(g,f);return j==null?null:{location:{pathname:j,search:p,hash:v,state:x,key:N},navigationType:l}},[f,g,p,v,x,N,l]);return ka(q!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:b.createElement(Ua.Provider,{value:h},b.createElement(Zi.Provider,{children:a,value:q}))}function kw({children:e,location:a}){return Sw(Xf(e),a)}function Xf(e,a=[]){let s=[];return b.Children.forEach(e,(l,c)=>{if(!b.isValidElement(l))return;let d=[...a,c];if(l.type===b.Fragment){s.push.apply(s,Xf(l.props.children,d));return}Jt(l.type===tn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Xf(l.props.children,d)),s.push(f)}),s}var wc="get",jc="application/x-www-form-urlencoded";function Zc(e){return e!=null&&typeof e.tagName=="string"}function Uw(e){return Zc(e)&&e.tagName.toLowerCase()==="button"}function Lw(e){return Zc(e)&&e.tagName.toLowerCase()==="form"}function Bw(e){return Zc(e)&&e.tagName.toLowerCase()==="input"}function qw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Iw(e,a){return e.button===0&&(!a||a==="_self")&&!qw(e)}function Jf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function $w(e,a){let s=Jf(e);return a&&a.forEach((l,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var hc=null;function Fw(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var Hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(e){return e!=null&&!Hw.has(e)?(ka(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):e}function Vw(e,a){let s,l,c,d,f;if(Lw(e)){let h=e.getAttribute("action");l=h?ys(h,a):null,s=e.getAttribute("method")||wc,c=Sf(e.getAttribute("enctype"))||jc,d=new FormData(e)}else if(Uw(e)||Bw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||h.getAttribute("action");if(l=g?ys(g,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||wc,c=Sf(e.getAttribute("formenctype"))||Sf(h.getAttribute("enctype"))||jc,d=new FormData(h,e),!Fw()){let{name:p,type:v,value:x}=e;if(v==="image"){let N=p?`${p}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else p&&d.append(p,x)}}else{if(Zc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=wc,l=null,c=jc,f=e}return d&&c==="text/plain"&&(f=d,d=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dm(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Zw(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&ys(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function Gw(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Qw(e,a,s){let l=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let f=await Gw(d,s);return f.links?f.links():[]}return[]}));return Jw(l.flat(1).filter(Pw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Xy(e,a,s,l,c,d){let f=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,h=(g,p)=>s[p].pathname!==g.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==g.params["*"];return d==="assets"?a.filter((g,p)=>f(g,p)||h(g,p)):d==="data"?a.filter((g,p)=>{let v=l.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(f(g,p)||h(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Yw(e,a,{includeHydrateFallback:s}={}){return Kw(e.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Kw(e){return[...new Set(e)]}function Xw(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function Jw(e,a){let s=new Set;return new Set(a),e.reduce((l,c)=>{let d=JSON.stringify(Xw(c));return s.has(d)||(s.add(d),l.push({key:d,link:c})),l},[])}function Lv(){let e=b.useContext(_l);return Dm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ww(){let e=b.useContext(Vc);return Dm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var zm=b.createContext(void 0);zm.displayName="FrameworkContext";function Bv(){let e=b.useContext(zm);return Dm(e,"You must render this element inside a <HydratedRouter> element"),e}function ej(e,a){let s=b.useContext(zm),[l,c]=b.useState(!1),[d,f]=b.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=a,N=b.useRef(null);b.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let _=B=>{B.forEach(T=>{f(T.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return N.current&&C.observe(N.current),()=>{C.disconnect()}}},[e]),b.useEffect(()=>{if(l){let _=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(_)}}},[l]);let q=()=>{c(!0)},j=()=>{c(!1),f(!1)};return s?e!=="intent"?[d,N,{}]:[d,N,{onFocus:Ci(h,q),onBlur:Ci(g,j),onMouseEnter:Ci(p,q),onMouseLeave:Ci(v,j),onTouchStart:Ci(x,q)}]:[!1,N,{}]}function Ci(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function tj({page:e,...a}){let{router:s}=Lv(),l=b.useMemo(()=>Av(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?b.createElement(aj,{page:e,matches:l,...a}):null}function nj(e){let{manifest:a,routeModules:s}=Bv(),[l,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return Qw(e,a,s).then(f=>{d||c(f)}),()=>{d=!0}},[e,a,s]),l}function aj({page:e,matches:a,...s}){let l=Wn(),{manifest:c,routeModules:d}=Bv(),{basename:f}=Lv(),{loaderData:h,matches:g}=Ww(),p=b.useMemo(()=>Xy(e,a,g,c,l,"data"),[e,a,g,c,l]),v=b.useMemo(()=>Xy(e,a,g,c,l,"assets"),[e,a,g,c,l]),x=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let j=new Set,_=!1;if(a.forEach(B=>{let T=c.routes[B.route.id];!T||!T.hasLoader||(!p.some(K=>K.route.id===B.route.id)&&B.route.id in h&&d[B.route.id]?.shouldRevalidate||T.hasClientLoader?_=!0:j.add(B.route.id))}),j.size===0)return[];let C=Zw(e,f,"data");return _&&j.size>0&&C.searchParams.set("_routes",a.filter(B=>j.has(B.route.id)).map(B=>B.route.id).join(",")),[C.pathname+C.search]},[f,h,l,c,p,a,e,d]),N=b.useMemo(()=>Yw(v,c),[v,c]),q=nj(v);return b.createElement(b.Fragment,null,x.map(j=>b.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),N.map(j=>b.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),q.map(({key:j,link:_})=>b.createElement("link",{key:j,nonce:s.nonce,..._})))}function sj(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var qv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qv&&(window.__reactRouterVersion="7.9.5")}catch{}function rj({basename:e,children:a,window:s}){let l=b.useRef();l.current==null&&(l.current=HN({window:s,v5Compat:!0}));let c=l.current,[d,f]=b.useState({action:c.action,location:c.location}),h=b.useCallback(g=>{b.startTransition(()=>f(g))},[f]);return b.useLayoutEffect(()=>c.listen(h),[c,h]),b.createElement(Mw,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var Iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cc=b.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:f,state:h,target:g,to:p,preventScrollReset:v,viewTransition:x,...N},q){let{basename:j}=b.useContext(Ua),_=typeof p=="string"&&Iv.test(p),C,B=!1;if(typeof p=="string"&&_&&(C=p,qv))try{let ce=new URL(window.location.href),_e=p.startsWith("//")?new URL(ce.protocol+p):new URL(p),xe=ys(_e.pathname,j);_e.origin===ce.origin&&xe!=null?p=xe+_e.search+_e.hash:B=!0}catch{ka(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=gw(p,{relative:c}),[K,D,O]=ej(l,N),V=oj(p,{replace:f,state:h,target:g,preventScrollReset:v,relative:c,viewTransition:x});function U(ce){a&&a(ce),ce.defaultPrevented||V(ce)}let X=b.createElement("a",{...N,...O,href:C||T,onClick:B||d?a:U,ref:sj(q,D),target:g,"data-discover":!_&&s==="render"?"true":void 0});return K&&!_?b.createElement(b.Fragment,null,X,b.createElement(tj,{page:T})):X});Cc.displayName="Link";var $v=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:c=!1,style:d,to:f,viewTransition:h,children:g,...p},v){let x=Gi(f,{relative:p.relative}),N=Wn(),q=b.useContext(Vc),{navigator:j,basename:_}=b.useContext(Ua),C=q!=null&&mj(x)&&h===!0,B=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,T=N.pathname,K=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;s||(T=T.toLowerCase(),K=K?K.toLowerCase():null,B=B.toLowerCase()),K&&_&&(K=ys(K,_)||K);const D=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let O=T===B||!c&&T.startsWith(B)&&T.charAt(D)==="/",V=K!=null&&(K===B||!c&&K.startsWith(B)&&K.charAt(B.length)==="/"),U={isActive:O,isPending:V,isTransitioning:C},X=O?a:void 0,ce;typeof l=="function"?ce=l(U):ce=[l,O?"active":null,V?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let _e=typeof d=="function"?d(U):d;return b.createElement(Cc,{...p,"aria-current":X,className:ce,ref:v,style:_e,to:f,viewTransition:h},typeof g=="function"?g(U):g)});$v.displayName="NavLink";var lj=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:c,state:d,method:f=wc,action:h,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:x,...N},q)=>{let j=dj(),_=fj(h,{relative:p}),C=f.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&Iv.test(h),T=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let D=K.nativeEvent.submitter,O=D?.getAttribute("formmethod")||f;j(D||K.currentTarget,{fetcherKey:a,method:O,navigate:s,replace:c,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:q,method:C,action:_,onSubmit:l?g:T,...N,"data-discover":!B&&e==="render"?"true":void 0})});lj.displayName="Form";function ij(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fv(e){let a=b.useContext(_l);return Jt(a,ij(e)),a}function oj(e,{target:a,replace:s,state:l,preventScrollReset:c,relative:d,viewTransition:f}={}){let h=Or(),g=Wn(),p=Gi(e,{relative:d});return b.useCallback(v=>{if(Iw(v,a)){v.preventDefault();let x=s!==void 0?s:Li(g)===Li(p);h(e,{replace:x,state:l,preventScrollReset:c,relative:d,viewTransition:f})}},[g,h,p,s,l,a,e,c,d,f])}function Hv(e){ka(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Jf(e)),s=b.useRef(!1),l=Wn(),c=b.useMemo(()=>$w(l.search,s.current?null:a.current),[l.search]),d=Or(),f=b.useCallback((h,g)=>{const p=Jf(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,g)},[d,c]);return[c,f]}var cj=0,uj=()=>`__${String(++cj)}__`;function dj(){let{router:e}=Fv("useSubmit"),{basename:a}=b.useContext(Ua),s=Rw();return b.useCallback(async(l,c={})=>{let{action:d,method:f,encType:h,formData:g,body:p}=Vw(l,a);if(c.navigate===!1){let v=c.fetcherKey||uj();await e.fetch(v,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function fj(e,{relative:a}={}){let{basename:s}=b.useContext(Ua),l=b.useContext(La);Jt(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Gi(e||".",{relative:a})},f=Wn();if(e==null){d.search=f.search;let h=new URLSearchParams(d.search),g=h.getAll("index");if(g.some(v=>v==="")){h.delete("index"),g.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:gs([s,d.pathname])),Li(d)}function mj(e,{relative:a}={}){let s=b.useContext(Tv);Jt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Fv("useViewTransitionState"),c=Gi(e,{relative:a});if(!s.isTransitioning)return!1;let d=ys(s.currentLocation.pathname,l)||s.currentLocation.pathname,f=ys(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Bi(c.pathname,f)!=null||Bi(c.pathname,d)!=null}var Al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hj={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},pj=class{#e=hj;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},vr=new pj;function gj(e){setTimeout(e,0)}var wr=typeof window>"u"||"Deno"in globalThis;function Jn(){}function yj(e,a){return typeof e=="function"?e(a):e}function Wf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vv(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Ys(e,a){return typeof e=="function"?e(a):e}function Da(e,a){return typeof e=="function"?e(a):e}function Jy(e,a){const{type:s="all",exact:l,fetchStatus:c,predicate:d,queryKey:f,stale:h}=e;if(f){if(l){if(a.queryHash!==Mm(f,a.options))return!1}else if(!qi(a.queryKey,f))return!1}if(s!=="all"){const g=a.isActive();if(s==="active"&&!g||s==="inactive"&&g)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function Wy(e,a){const{exact:s,status:l,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(jr(a.options.mutationKey)!==jr(d))return!1}else if(!qi(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||c&&!c(a))}function Mm(e,a){return(a?.queryKeyHashFn||jr)(e)}function jr(e){return JSON.stringify(e,(a,s)=>em(s)?Object.keys(s).sort().reduce((l,c)=>(l[c]=s[c],l),{}):s)}function qi(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>qi(e[s],a[s])):!1}var bj=Object.prototype.hasOwnProperty;function Zv(e,a){if(e===a)return e;const s=eb(e)&&eb(a);if(!s&&!(em(e)&&em(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),f=d.length,h=s?new Array(f):{};let g=0;for(let p=0;p<f;p++){const v=s?p:d[p],x=e[v],N=a[v];if(x===N){h[v]=x,(s?p<c:bj.call(e,v))&&g++;continue}if(x===null||N===null||typeof x!="object"||typeof N!="object"){h[v]=N;continue}const q=Zv(x,N);h[v]=q,q===x&&g++}return c===f&&g===c?e:h}function Oc(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function eb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function em(e){if(!tb(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!tb(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tb(e){return Object.prototype.toString.call(e)==="[object Object]"}function vj(e){return new Promise(a=>{vr.setTimeout(a,e)})}function tm(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?Zv(e,a):a}function xj(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function Sj(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var km=Symbol();function Gv(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===km?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Pv(e,a){return typeof e=="function"?e(...a):!!e}var Nj=class extends Al{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!wr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Um=new Nj;function nm(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function l(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{l({status:"fulfilled",value:c}),e(c)},s.reject=c=>{l({status:"rejected",reason:c}),a(c)},s}var wj=gj;function jj(){let e=[],a=0,s=h=>{h()},l=h=>{h()},c=wj;const d=h=>{a?e.push(h):c(()=>{s(h)})},f=()=>{const h=e;e=[],h.length&&c(()=>{l(()=>{h.forEach(g=>{s(g)})})})};return{batch:h=>{let g;a++;try{g=h()}finally{a--,a||f()}return g},batchCalls:h=>(...g)=>{d(()=>{h(...g)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{c=h}}}var On=jj(),_j=class extends Al{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!wr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Rc=new _j;function Ej(e){return Math.min(1e3*2**e,3e4)}function Qv(e){return(e??"online")==="online"?Rc.isOnline():!0}var am=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Yv(e){let a=!1,s=0,l;const c=nm(),d=()=>c.status!=="pending",f=_=>{if(!d()){const C=new am(_);N(C),e.onCancel?.(C)}},h=()=>{a=!0},g=()=>{a=!1},p=()=>Um.isFocused()&&(e.networkMode==="always"||Rc.isOnline())&&e.canRun(),v=()=>Qv(e.networkMode)&&e.canRun(),x=_=>{d()||(l?.(),c.resolve(_))},N=_=>{d()||(l?.(),c.reject(_))},q=()=>new Promise(_=>{l=C=>{(d()||p())&&_(C)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),j=()=>{if(d())return;let _;const C=s===0?e.initialPromise:void 0;try{_=C??e.fn()}catch(B){_=Promise.reject(B)}Promise.resolve(_).then(x).catch(B=>{if(d())return;const T=e.retry??(wr?0:3),K=e.retryDelay??Ej,D=typeof K=="function"?K(s,B):K,O=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,B);if(a||!O){N(B);return}s++,e.onFail?.(s,B),vj(D).then(()=>p()?void 0:q()).then(()=>{a?N(B):j()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(l?.(),c),cancelRetry:h,continueRetry:g,canStart:v,start:()=>(v()?j():q().then(j),c)}}var Kv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wf(this.gcTime)&&(this.#e=vr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(vr.clearTimeout(this.#e),this.#e=void 0)}},Aj=class extends Kv{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ab(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=ab(this.options);a.data!==void 0&&(this.setState(nb(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=tm(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(Jn).catch(Jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Da(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===km||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ys(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Vv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=Gv(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},f=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(h),h})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=Yv({initialPromise:a?.initialPromise,fn:f.fetchFn,onCancel:h=>{h instanceof am&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,g)=>{this.#r({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof am){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Xv(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...nb(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),On.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Xv(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qv(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nb(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ab(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Cj=class extends Al{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=nm(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),sb(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Da(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Oc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&rb(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||Da(this.options.enabled,this.#t)!==Da(a.enabled,this.#t)||Ys(this.options.staleTime,this.#t)!==Ys(a.staleTime,this.#t))&&this.#g();const c=this.#y();l&&(this.#t!==s||Da(this.options.enabled,this.#t)!==Da(a.enabled,this.#t)||c!==this.#o)&&this.#b(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return Rj(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#N();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(Jn)),a}#g(){this.#x();const e=Ys(this.options.staleTime,this.#t);if(wr||this.#s.isStale||!Wf(e))return;const s=Vv(this.#s.dataUpdatedAt,e)+1;this.#c=vr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#o=e,!(wr||Da(this.options.enabled,this.#t)===!1||!Wf(this.#o)||this.#o===0)&&(this.#u=vr.setInterval(()=>{(this.options.refetchIntervalInBackground||Um.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(vr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(vr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,c=this.#s,d=this.#a,f=this.#l,g=e!==s?e.state:this.#n,{state:p}=e;let v={...p},x=!1,N;if(a._optimisticResults){const X=this.hasListeners(),ce=!X&&sb(e,a),_e=X&&rb(e,s,a,l);(ce||_e)&&(v={...v,...Xv(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:q,errorUpdatedAt:j,status:_}=v;N=v.data;let C=!1;if(a.placeholderData!==void 0&&N===void 0&&_==="pending"){let X;c?.isPlaceholderData&&a.placeholderData===f?.placeholderData?(X=c.data,C=!0):X=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,X!==void 0&&(_="success",N=tm(c?.data,X,a),x=!0)}if(a.select&&N!==void 0&&!C)if(c&&N===d?.data&&a.select===this.#p)N=this.#f;else try{this.#p=a.select,N=a.select(N),N=tm(c?.data,N,a),this.#f=N,this.#r=null}catch(X){this.#r=X}this.#r&&(q=this.#r,N=this.#f,j=Date.now(),_="error");const B=v.fetchStatus==="fetching",T=_==="pending",K=_==="error",D=T&&B,O=N!==void 0,U={status:_,fetchStatus:v.fetchStatus,isPending:T,isSuccess:_==="success",isError:K,isInitialLoading:D,isLoading:D,data:N,dataUpdatedAt:v.dataUpdatedAt,error:q,errorUpdatedAt:j,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:B,isRefetching:B&&!T,isLoadingError:K&&!O,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:K&&O,isStale:Lm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:Da(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const X=xe=>{U.status==="error"?xe.reject(U.error):U.data!==void 0&&xe.resolve(U.data)},ce=()=>{const xe=this.#i=U.promise=nm();X(xe)},_e=this.#i;switch(_e.status){case"pending":e.queryHash===s.queryHash&&X(_e);break;case"fulfilled":(U.status==="error"||U.data!==_e.value)&&ce();break;case"rejected":(U.status!=="error"||U.error!==_e.reason)&&ce();break}}return U}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Oc(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(f=>{const h=f;return this.#s[h]!==e[h]&&d.has(h)})};this.#w({listeners:s()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(e){On.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Oj(e,a){return Da(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function sb(e,a){return Oj(e,a)||e.state.data!==void 0&&sm(e,a,a.refetchOnMount)}function sm(e,a,s){if(Da(a.enabled,e)!==!1&&Ys(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&Lm(e,a)}return!1}function rb(e,a,s,l){return(e!==a||Da(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Lm(e,s)}function Lm(e,a){return Da(a.enabled,e)!==!1&&e.isStaleByTime(Ys(a.staleTime,e))}function Rj(e,a){return!Oc(e.getCurrentResult(),a)}function lb(e){return{onFetch:(a,s)=>{const l=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],f=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const p=async()=>{let v=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},N=Gv(a.options,a.fetchOptions),q=async(j,_,C)=>{if(v)return Promise.reject();if(_==null&&j.pages.length)return Promise.resolve(j);const T=(()=>{const V={client:a.client,queryKey:a.queryKey,pageParam:_,direction:C?"backward":"forward",meta:a.options.meta};return x(V),V})(),K=await N(T),{maxPages:D}=a.options,O=C?Sj:xj;return{pages:O(j.pages,K,D),pageParams:O(j.pageParams,_,D)}};if(c&&d.length){const j=c==="backward",_=j?Tj:ib,C={pages:d,pageParams:f},B=_(l,C);h=await q(C,B,j)}else{const j=e??d.length;do{const _=g===0?f[0]??l.initialPageParam:ib(l,h);if(g>0&&_==null)break;h=await q(h,_),g++}while(g<j)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function ib(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function Tj(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var Dj=class extends Kv{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Jv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Yv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,f)=>{this.#a({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const f=await this.options.onMutate?.(e,s);f!==this.state.context&&this.#a({type:"pending",context:f,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),On.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Jv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zj=class extends Al{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new Dj({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=pc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=pc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=pc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=pc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){On.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Wy(a,s))}findAll(e={}){return this.getAll().filter(a=>Wy(e,a))}notify(e){On.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return On.batch(()=>Promise.all(e.map(a=>a.continue().catch(Jn))))}};function pc(e){return e.options.scope?.id}var Mj=class extends Al{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),Oc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&jr(s.mutationKey)!==jr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Jv();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){On.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,c),this.#s.onSettled?.(a.data,null,s,l,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,c),this.#s.onSettled?.(void 0,a.error,s,l,c))}this.listeners.forEach(s=>{s(this.#t)})})}},kj=class extends Al{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,c=a.queryHash??Mm(l,a);let d=this.get(c);return d||(d=new Aj({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){On.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Jy(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Jy(e,s)):a}notify(e){On.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){On.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){On.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Uj=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new kj,this.#t=e.mutationCache||new zj,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Um.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Rc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Ys(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,f=yj(a,d);if(f!==void 0)return this.#e.build(this,l).setData(f,{...s,manual:!0})}setQueriesData(e,a,s){return On.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;On.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return On.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=On.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(l).then(Jn).catch(Jn)}invalidateQueries(e,a={}){return On.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=On.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(Jn)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(Jn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Ys(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jn).catch(Jn)}fetchInfiniteQuery(e){return e.behavior=lb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jn).catch(Jn)}ensureInfiniteQueryData(e){return e.behavior=lb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(jr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{qi(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(jr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{qi(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Mm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===km&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Wv=b.createContext(void 0),Bm=e=>{const a=b.useContext(Wv);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},Lj=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(Wv.Provider,{value:e,children:a})),ex=b.createContext(!1),Bj=()=>b.useContext(ex);ex.Provider;function qj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ij=b.createContext(qj()),$j=()=>b.useContext(Ij),Fj=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},Hj=e=>{b.useEffect(()=>{e.clearReset()},[e])},Vj=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(c&&e.data===void 0||Pv(s,[e.error,l])),Zj=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...c)=>s(l(...c)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Gj=(e,a)=>e.isLoading&&e.isFetching&&!a,Pj=(e,a)=>e?.suspense&&a.isPending,ob=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function Qj(e,a,s){const l=Bj(),c=$j(),d=Bm(),f=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=l?"isRestoring":"optimistic",Zj(f),Fj(f,c),Hj(c);const h=!d.getQueryCache().get(f.queryHash),[g]=b.useState(()=>new a(d,f)),p=g.getOptimisticResult(f),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const N=v?g.subscribe(On.batchCalls(x)):Jn;return g.updateResult(),N},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),b.useEffect(()=>{g.setOptions(f)},[f,g]),Pj(f,p))throw ob(f,g,c);if(Vj({result:p,errorResetBoundary:c,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(f,p),f.experimental_prefetchInRender&&!wr&&Gj(p,l)&&(h?ob(f,g,c):d.getQueryCache().get(f.queryHash)?.promise)?.catch(Jn).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?p:g.trackResult(p)}function _r(e,a){return Qj(e,Cj)}function Yj(e,a){const s=Bm(),[l]=b.useState(()=>new Mj(s,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const c=b.useSyncExternalStore(b.useCallback(f=>l.subscribe(On.batchCalls(f)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((f,h)=>{l.mutate(f,h).catch(Jn)},[l]);if(c.error&&Pv(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var Pi=e=>e.type==="checkbox",xr=e=>e instanceof Date,ca=e=>e==null;const tx=e=>typeof e=="object";var jn=e=>!ca(e)&&!Array.isArray(e)&&tx(e)&&!xr(e),Kj=e=>jn(e)&&e.target?Pi(e.target)?e.target.checked:e.target.value:e,Xj=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Jj=(e,a)=>e.has(Xj(a)),Wj=e=>{const a=e.constructor&&e.constructor.prototype;return jn(a)&&a.hasOwnProperty("isPrototypeOf")},qm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(qm&&(e instanceof Blob||l))&&(s||jn(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Wj(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=Xt(e[c]));else return e;return a}var Gc=e=>/^\w*$/.test(e),Yt=e=>e===void 0,Pc=e=>Array.isArray(e)?e.filter(Boolean):[],Im=e=>Pc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(e,a,s)=>{if(!a||!jn(e))return s;const l=(Gc(a)?[a]:Im(a)).reduce((c,d)=>ca(c)?c:c[d],e);return Yt(l)||l===e?Yt(e[a])?s:e[a]:l},Wa=e=>typeof e=="boolean",qt=(e,a,s)=>{let l=-1;const c=Gc(a)?[a]:Im(a),d=c.length,f=d-1;for(;++l<d;){const h=c[l];let g=s;if(l!==f){const p=e[h];g=jn(p)||Array.isArray(p)?p:isNaN(+c[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}};const cb={BLUR:"blur",FOCUS_OUT:"focusout"},za={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ps={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nx=mt.createContext(null);nx.displayName="HookFormContext";const ax=()=>mt.useContext(nx);var e_=(e,a,s,l=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const f=d;return a._proxyFormState[f]!==za.all&&(a._proxyFormState[f]=!l||za.all),e[f]}});return c};const $m=typeof window<"u"?mt.useLayoutEffect:mt.useEffect;var wa=e=>typeof e=="string",rm=(e,a,s,l,c)=>wa(e)?(l&&a.watch.add(e),qe(s,e,c)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),qe(s,d))):(l&&(a.watchAll=!0),s),lm=e=>ca(e)||!tx(e);function Va(e,a,s=new WeakSet){if(lm(e)||lm(a))return e===a;if(xr(e)&&xr(a))return e.getTime()===a.getTime();const l=Object.keys(e),c=Object.keys(a);if(l.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const f=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(xr(f)&&xr(h)||jn(f)&&jn(h)||Array.isArray(f)&&Array.isArray(h)?!Va(f,h,s):f!==h)return!1}}return!0}function Oi(e){const a=ax(),{control:s=a.control,name:l,defaultValue:c,disabled:d,exact:f,compute:h}=e||{},g=mt.useRef(c),p=mt.useRef(h),v=mt.useRef(void 0),x=mt.useRef(s),N=mt.useRef(l);p.current=h;const[q,j]=mt.useState(()=>{const D=s._getWatch(l,g.current);return p.current?p.current(D):D}),_=mt.useCallback(D=>{const O=rm(l,s._names,D||s._formValues,!1,g.current);return p.current?p.current(O):O},[s._formValues,s._names,l]),C=mt.useCallback(D=>{if(!d){const O=rm(l,s._names,D||s._formValues,!1,g.current);if(p.current){const V=p.current(O);Va(V,v.current)||(j(V),v.current=V)}else j(O)}},[s._formValues,s._names,d,l]);$m(()=>((x.current!==s||!Va(N.current,l))&&(x.current=s,N.current=l,C()),s._subscribe({name:l,formState:{values:!0},exact:f,callback:D=>{C(D.values)}})),[s,f,l,C]),mt.useEffect(()=>s._removeUnmounted());const B=x.current!==s,T=N.current,K=mt.useMemo(()=>{if(d)return null;const D=!B&&!Va(T,l);return B||D?_():null},[d,B,l,T,_]);return K!==null?K:q}var Fm=(e,a,s,l,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:c||!0}}:{},ua=e=>Array.isArray(e)?e:[e],ub=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function sx(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],d=a[l];if(c&&jn(c)&&d){const f=sx(c,d);jn(f)&&(s[l]=f)}else e[l]&&(s[l]=d)}return s}var Pn=e=>jn(e)&&!Object.keys(e).length,Hm=e=>e.type==="file",Za=e=>typeof e=="function",Tc=e=>{if(!qm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},rx=e=>e.type==="select-multiple",Vm=e=>e.type==="radio",t_=e=>Vm(e)||Pi(e),Nf=e=>Tc(e)&&e.isConnected;function n_(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=Yt(e)?l++:e[a[l++]];return e}function a_(e){for(const a in e)if(e.hasOwnProperty(a)&&!Yt(e[a]))return!1;return!0}function mn(e,a){const s=Array.isArray(a)?a:Gc(a)?[a]:Im(a),l=s.length===1?e:n_(e,s),c=s.length-1,d=s[c];return l&&delete l[d],c!==0&&(jn(l)&&Pn(l)||Array.isArray(l)&&a_(l))&&mn(e,s.slice(0,-1)),e}var s_=e=>{for(const a in e)if(Za(e[a]))return!0;return!1};function lx(e){return Array.isArray(e)||jn(e)&&!s_(e)}function im(e,a={}){for(const s in e)lx(e[s])?(a[s]=Array.isArray(e[s])?[]:{},im(e[s],a[s])):Yt(e[s])||(a[s]=!0);return a}function gl(e,a,s){s||(s=im(a));for(const l in e)lx(e[l])?Yt(a)||lm(s[l])?s[l]=im(e[l],Array.isArray(e[l])?[]:{}):gl(e[l],ca(a)?{}:a[l],s[l]):s[l]=!Va(e[l],a[l]);return s}const db={value:!1,isValid:!1},fb={value:!0,isValid:!0};var ix=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yt(e[0].attributes.value)?Yt(e[0].value)||e[0].value===""?fb:{value:e[0].value,isValid:!0}:fb:db}return db},ox=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>Yt(e)?e:a?e===""?NaN:e&&+e:s&&wa(e)?new Date(e):l?l(e):e;const mb={isValid:!1,value:null};var cx=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,mb):mb;function hb(e){const a=e.ref;return Hm(a)?a.files:Vm(a)?cx(e.refs).value:rx(a)?[...a.selectedOptions].map(({value:s})=>s):Pi(a)?ix(e.refs).value:ox(Yt(a.value)?e.ref.value:a.value,e)}var r_=(e,a,s,l)=>{const c={};for(const d of e){const f=qe(a,d);f&&qt(c,d,f._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:l}},Dc=e=>e instanceof RegExp,Ri=e=>Yt(e)?e:Dc(e)?e.source:jn(e)?Dc(e.value)?e.value.source:e.value:e,yl=e=>({isOnSubmit:!e||e===za.onSubmit,isOnBlur:e===za.onBlur,isOnChange:e===za.onChange,isOnAll:e===za.all,isOnTouch:e===za.onTouched});const pb="AsyncFunction";var l_=e=>!!e&&!!e.validate&&!!(Za(e.validate)&&e.validate.constructor.name===pb||jn(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===pb)),i_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),om=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const vl=(e,a,s,l)=>{for(const c of s||Object.keys(e)){const d=qe(e,c);if(d){const{_f:f,...h}=d;if(f){if(f.refs&&f.refs[0]&&a(f.refs[0],c)&&!l)return!0;if(f.ref&&a(f.ref,f.name)&&!l)return!0;if(vl(h,a))break}else if(jn(h)&&vl(h,a))break}}};function gb(e,a,s){const l=qe(e,s);if(l||Gc(s))return{error:l,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),f=qe(a,d),h=qe(e,d);if(f&&!Array.isArray(f)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var o_=(e,a,s,l)=>{s(e);const{name:c,...d}=e;return Pn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(f=>a[f]===(!l||za.all))},c_=(e,a,s)=>!e||!a||e===a||ua(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),u_=(e,a,s,l,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?l.isOnBlur:c.isOnBlur)?!e:(s?l.isOnChange:c.isOnChange)?e:!0,d_=(e,a)=>!Pc(qe(e,a)).length&&mn(e,a),ux=(e,a,s)=>{const l=ua(qe(e,s));return qt(l,"root",a[s]),qt(e,s,l),e};function yb(e,a,s="validate"){if(wa(e)||Array.isArray(e)&&e.every(wa)||Wa(e)&&!e)return{type:s,message:wa(e)?e:"",ref:a}}var dl=e=>jn(e)&&!Dc(e)?e:{value:e,message:""},cm=async(e,a,s,l,c,d)=>{const{ref:f,refs:h,required:g,maxLength:p,minLength:v,min:x,max:N,pattern:q,validate:j,name:_,valueAsNumber:C,mount:B}=e._f,T=qe(s,_);if(!B||a.has(_))return{};const K=h?h[0]:f,D=me=>{c&&K.reportValidity&&(K.setCustomValidity(Wa(me)?"":me||""),K.reportValidity())},O={},V=Vm(f),U=Pi(f),X=V||U,ce=(C||Hm(f))&&Yt(f.value)&&Yt(T)||Tc(f)&&f.value===""||T===""||Array.isArray(T)&&!T.length,_e=Fm.bind(null,_,l,O),xe=(me,Se,De,Oe=ps.maxLength,M=ps.minLength)=>{const I=me?Se:De;O[_]={type:me?Oe:M,message:I,ref:f,..._e(me?Oe:M,I)}};if(d?!Array.isArray(T)||!T.length:g&&(!X&&(ce||ca(T))||Wa(T)&&!T||U&&!ix(h).isValid||V&&!cx(h).isValid)){const{value:me,message:Se}=wa(g)?{value:!!g,message:g}:dl(g);if(me&&(O[_]={type:ps.required,message:Se,ref:K,..._e(ps.required,Se)},!l))return D(Se),O}if(!ce&&(!ca(x)||!ca(N))){let me,Se;const De=dl(N),Oe=dl(x);if(!ca(T)&&!isNaN(T)){const M=f.valueAsNumber||T&&+T;ca(De.value)||(me=M>De.value),ca(Oe.value)||(Se=M<Oe.value)}else{const M=f.valueAsDate||new Date(T),I=je=>new Date(new Date().toDateString()+" "+je),ee=f.type=="time",ye=f.type=="week";wa(De.value)&&T&&(me=ee?I(T)>I(De.value):ye?T>De.value:M>new Date(De.value)),wa(Oe.value)&&T&&(Se=ee?I(T)<I(Oe.value):ye?T<Oe.value:M<new Date(Oe.value))}if((me||Se)&&(xe(!!me,De.message,Oe.message,ps.max,ps.min),!l))return D(O[_].message),O}if((p||v)&&!ce&&(wa(T)||d&&Array.isArray(T))){const me=dl(p),Se=dl(v),De=!ca(me.value)&&T.length>+me.value,Oe=!ca(Se.value)&&T.length<+Se.value;if((De||Oe)&&(xe(De,me.message,Se.message),!l))return D(O[_].message),O}if(q&&!ce&&wa(T)){const{value:me,message:Se}=dl(q);if(Dc(me)&&!T.match(me)&&(O[_]={type:ps.pattern,message:Se,ref:f,..._e(ps.pattern,Se)},!l))return D(Se),O}if(j){if(Za(j)){const me=await j(T,s),Se=yb(me,K);if(Se&&(O[_]={...Se,..._e(ps.validate,Se.message)},!l))return D(Se.message),O}else if(jn(j)){let me={};for(const Se in j){if(!Pn(me)&&!l)break;const De=yb(await j[Se](T,s),K,Se);De&&(me={...De,..._e(Se,De.message)},D(De.message),l&&(O[_]=me))}if(!Pn(me)&&(O[_]={ref:K,...me},!l))return O}}return D(!0),O};const f_={mode:za.onSubmit,reValidateMode:za.onChange,shouldFocusError:!0};function m_(e={}){let a={...f_,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Za(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},c=jn(a.defaultValues)||jn(a.values)?Xt(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:Xt(c),f={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const N={array:ub(),state:ub()},q=a.criteriaMode===za.all,j=A=>H=>{clearTimeout(p),p=setTimeout(A,H)},_=async A=>{if(!a.disabled&&(v.isValid||x.isValid||A)){const H=a.resolver?Pn((await U()).errors):await ce(l,!0);H!==s.isValid&&N.state.next({isValid:H})}},C=(A,H)=>{!a.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((A||Array.from(h.mount)).forEach(R=>{R&&(H?qt(s.validatingFields,R,H):mn(s.validatingFields,R))}),N.state.next({validatingFields:s.validatingFields,isValidating:!Pn(s.validatingFields)}))},B=(A,H=[],R,P,Z=!0,se=!0)=>{if(P&&R&&!a.disabled){if(f.action=!0,se&&Array.isArray(qe(l,A))){const Ce=R(qe(l,A),P.argA,P.argB);Z&&qt(l,A,Ce)}if(se&&Array.isArray(qe(s.errors,A))){const Ce=R(qe(s.errors,A),P.argA,P.argB);Z&&qt(s.errors,A,Ce),d_(s.errors,A)}if((v.touchedFields||x.touchedFields)&&se&&Array.isArray(qe(s.touchedFields,A))){const Ce=R(qe(s.touchedFields,A),P.argA,P.argB);Z&&qt(s.touchedFields,A,Ce)}(v.dirtyFields||x.dirtyFields)&&(s.dirtyFields=gl(c,d)),N.state.next({name:A,isDirty:xe(A,H),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else qt(d,A,H)},T=(A,H)=>{qt(s.errors,A,H),N.state.next({errors:s.errors})},K=A=>{s.errors=A,N.state.next({errors:s.errors,isValid:!1})},D=(A,H,R,P)=>{const Z=qe(l,A);if(Z){const se=qe(d,A,Yt(R)?qe(c,A):R);Yt(se)||P&&P.defaultChecked||H?qt(d,A,H?se:hb(Z._f)):De(A,se),f.mount&&_()}},O=(A,H,R,P,Z)=>{let se=!1,Ce=!1;const Le={name:A};if(!a.disabled){if(!R||P){(v.isDirty||x.isDirty)&&(Ce=s.isDirty,s.isDirty=Le.isDirty=xe(),se=Ce!==Le.isDirty);const ae=Va(qe(c,A),H);Ce=!!qe(s.dirtyFields,A),ae?mn(s.dirtyFields,A):qt(s.dirtyFields,A,!0),Le.dirtyFields=s.dirtyFields,se=se||(v.dirtyFields||x.dirtyFields)&&Ce!==!ae}if(R){const ae=qe(s.touchedFields,A);ae||(qt(s.touchedFields,A,R),Le.touchedFields=s.touchedFields,se=se||(v.touchedFields||x.touchedFields)&&ae!==R)}se&&Z&&N.state.next(Le)}return se?Le:{}},V=(A,H,R,P)=>{const Z=qe(s.errors,A),se=(v.isValid||x.isValid)&&Wa(H)&&s.isValid!==H;if(a.delayError&&R?(g=j(()=>T(A,R)),g(a.delayError)):(clearTimeout(p),g=null,R?qt(s.errors,A,R):mn(s.errors,A)),(R?!Va(Z,R):Z)||!Pn(P)||se){const Ce={...P,...se&&Wa(H)?{isValid:H}:{},errors:s.errors,name:A};s={...s,...Ce},N.state.next(Ce)}},U=async A=>{C(A,!0);const H=await a.resolver(d,a.context,r_(A||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return C(A),H},X=async A=>{const{errors:H}=await U(A);if(A)for(const R of A){const P=qe(H,R);P?qt(s.errors,R,P):mn(s.errors,R)}else s.errors=H;return H},ce=async(A,H,R={valid:!0})=>{for(const P in A){const Z=A[P];if(Z){const{_f:se,...Ce}=Z;if(se){const Le=h.array.has(se.name),ae=Z._f&&l_(Z._f);ae&&v.validatingFields&&C([se.name],!0);const ke=await cm(Z,h.disabled,d,q,a.shouldUseNativeValidation&&!H,Le);if(ae&&v.validatingFields&&C([se.name]),ke[se.name]&&(R.valid=!1,H))break;!H&&(qe(ke,se.name)?Le?ux(s.errors,ke,se.name):qt(s.errors,se.name,ke[se.name]):mn(s.errors,se.name))}!Pn(Ce)&&await ce(Ce,H,R)}}return R.valid},_e=()=>{for(const A of h.unMount){const H=qe(l,A);H&&(H._f.refs?H._f.refs.every(R=>!Nf(R)):!Nf(H._f.ref))&&Re(A)}h.unMount=new Set},xe=(A,H)=>!a.disabled&&(A&&H&&qt(d,A,H),!Va(je(),c)),me=(A,H,R)=>rm(A,h,{...f.mount?d:Yt(H)?c:wa(A)?{[A]:H}:H},R,H),Se=A=>Pc(qe(f.mount?d:c,A,a.shouldUnregister?qe(c,A,[]):[])),De=(A,H,R={})=>{const P=qe(l,A);let Z=H;if(P){const se=P._f;se&&(!se.disabled&&qt(d,A,ox(H,se)),Z=Tc(se.ref)&&ca(H)?"":H,rx(se.ref)?[...se.ref.options].forEach(Ce=>Ce.selected=Z.includes(Ce.value)):se.refs?Pi(se.ref)?se.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(Z)?Ce.checked=!!Z.find(Le=>Le===Ce.value):Ce.checked=Z===Ce.value||!!Z)}):se.refs.forEach(Ce=>Ce.checked=Ce.value===Z):Hm(se.ref)?se.ref.value="":(se.ref.value=Z,se.ref.type||N.state.next({name:A,values:Xt(d)})))}(R.shouldDirty||R.shouldTouch)&&O(A,Z,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&ye(A)},Oe=(A,H,R)=>{for(const P in H){if(!H.hasOwnProperty(P))return;const Z=H[P],se=A+"."+P,Ce=qe(l,se);(h.array.has(A)||jn(Z)||Ce&&!Ce._f)&&!xr(Z)?Oe(se,Z,R):De(se,Z,R)}},M=(A,H,R={})=>{const P=qe(l,A),Z=h.array.has(A),se=Xt(H);qt(d,A,se),Z?(N.array.next({name:A,values:Xt(d)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&R.shouldDirty&&N.state.next({name:A,dirtyFields:gl(c,d),isDirty:xe(A,se)})):P&&!P._f&&!ca(se)?Oe(A,se,R):De(A,se,R),om(A,h)&&N.state.next({...s,name:A}),N.state.next({name:f.mount?A:void 0,values:Xt(d)})},I=async A=>{f.mount=!0;const H=A.target;let R=H.name,P=!0;const Z=qe(l,R),se=ae=>{P=Number.isNaN(ae)||xr(ae)&&isNaN(ae.getTime())||Va(ae,qe(d,R,ae))},Ce=yl(a.mode),Le=yl(a.reValidateMode);if(Z){let ae,ke;const Ve=H.type?hb(Z._f):Kj(A),at=A.type===cb.BLUR||A.type===cb.FOCUS_OUT,en=!i_(Z._f)&&!a.resolver&&!qe(s.errors,R)&&!Z._f.deps||u_(at,qe(s.touchedFields,R),s.isSubmitted,Le,Ce),Ne=om(R,h,at);qt(d,R,Ve),at?(!H||!H.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(A),g&&g(0)):Z._f.onChange&&Z._f.onChange(A);const et=O(R,Ve,at),Dt=!Pn(et)||Ne;if(!at&&N.state.next({name:R,type:A.type,values:Xt(d)}),en)return(v.isValid||x.isValid)&&(a.mode==="onBlur"?at&&_():at||_()),Dt&&N.state.next({name:R,...Ne?{}:et});if(!at&&Ne&&N.state.next({...s}),a.resolver){const{errors:_t}=await U([R]);if(se(Ve),P){const hn=gb(s.errors,l,R),ln=gb(_t,l,hn.name||R);ae=ln.error,R=ln.name,ke=Pn(_t)}}else C([R],!0),ae=(await cm(Z,h.disabled,d,q,a.shouldUseNativeValidation))[R],C([R]),se(Ve),P&&(ae?ke=!1:(v.isValid||x.isValid)&&(ke=await ce(l,!0)));P&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&ye(Z._f.deps),V(R,ke,ae,et))}},ee=(A,H)=>{if(qe(s.errors,H)&&A.focus)return A.focus(),1},ye=async(A,H={})=>{let R,P;const Z=ua(A);if(a.resolver){const se=await X(Yt(A)?A:Z);R=Pn(se),P=A?!Z.some(Ce=>qe(se,Ce)):R}else A?(P=(await Promise.all(Z.map(async se=>{const Ce=qe(l,se);return await ce(Ce&&Ce._f?{[se]:Ce}:Ce)}))).every(Boolean),!(!P&&!s.isValid)&&_()):P=R=await ce(l);return N.state.next({...!wa(A)||(v.isValid||x.isValid)&&R!==s.isValid?{}:{name:A},...a.resolver||!A?{isValid:R}:{},errors:s.errors}),H.shouldFocus&&!P&&vl(l,ee,A?Z:h.mount),P},je=(A,H)=>{let R={...f.mount?d:c};return H&&(R=sx(H.dirtyFields?s.dirtyFields:s.touchedFields,R)),Yt(A)?R:wa(A)?qe(R,A):A.map(P=>qe(R,P))},w=(A,H)=>({invalid:!!qe((H||s).errors,A),isDirty:!!qe((H||s).dirtyFields,A),error:qe((H||s).errors,A),isValidating:!!qe(s.validatingFields,A),isTouched:!!qe((H||s).touchedFields,A)}),G=A=>{A&&ua(A).forEach(H=>mn(s.errors,H)),N.state.next({errors:A?s.errors:{}})},ie=(A,H,R)=>{const P=(qe(l,A,{_f:{}})._f||{}).ref,Z=qe(s.errors,A)||{},{ref:se,message:Ce,type:Le,...ae}=Z;qt(s.errors,A,{...ae,...H,ref:P}),N.state.next({name:A,errors:s.errors,isValid:!1}),R&&R.shouldFocus&&P&&P.focus&&P.focus()},k=(A,H)=>Za(A)?N.state.subscribe({next:R=>"values"in R&&A(me(void 0,H),R)}):me(A,H,!0),oe=A=>N.state.subscribe({next:H=>{c_(A.name,H.name,A.exact)&&o_(H,A.formState||v,Fe,A.reRenderRoot)&&A.callback({values:{...d},...s,...H,defaultValues:c})}}).unsubscribe,pe=A=>(f.mount=!0,x={...x,...A.formState},oe({...A,formState:x})),Re=(A,H={})=>{for(const R of A?ua(A):h.mount)h.mount.delete(R),h.array.delete(R),H.keepValue||(mn(l,R),mn(d,R)),!H.keepError&&mn(s.errors,R),!H.keepDirty&&mn(s.dirtyFields,R),!H.keepTouched&&mn(s.touchedFields,R),!H.keepIsValidating&&mn(s.validatingFields,R),!a.shouldUnregister&&!H.keepDefaultValue&&mn(c,R);N.state.next({values:Xt(d)}),N.state.next({...s,...H.keepDirty?{isDirty:xe()}:{}}),!H.keepIsValid&&_()},$e=({disabled:A,name:H})=>{(Wa(A)&&f.mount||A||h.disabled.has(H))&&(A?h.disabled.add(H):h.disabled.delete(H))},de=(A,H={})=>{let R=qe(l,A);const P=Wa(H.disabled)||Wa(a.disabled);return qt(l,A,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:A}},name:A,mount:!0,...H}}),h.mount.add(A),R?$e({disabled:Wa(H.disabled)?H.disabled:a.disabled,name:A}):D(A,!0,H.value),{...P?{disabled:H.disabled||a.disabled}:{},...a.progressive?{required:!!H.required,min:Ri(H.min),max:Ri(H.max),minLength:Ri(H.minLength),maxLength:Ri(H.maxLength),pattern:Ri(H.pattern)}:{},name:A,onChange:I,onBlur:I,ref:Z=>{if(Z){de(A,H),R=qe(l,A);const se=Yt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,Ce=t_(se),Le=R._f.refs||[];if(Ce?Le.find(ae=>ae===se):se===R._f.ref)return;qt(l,A,{_f:{...R._f,...Ce?{refs:[...Le.filter(Nf),se,...Array.isArray(qe(c,A))?[{}]:[]],ref:{type:se.type,name:A}}:{ref:se}}}),D(A,!1,void 0,se)}else R=qe(l,A,{}),R._f&&(R._f.mount=!1),(a.shouldUnregister||H.shouldUnregister)&&!(Jj(h.array,A)&&f.action)&&h.unMount.add(A)}}},Me=()=>a.shouldFocusError&&vl(l,ee,h.mount),Ie=A=>{Wa(A)&&(N.state.next({disabled:A}),vl(l,(H,R)=>{const P=qe(l,R);P&&(H.disabled=P._f.disabled||A,Array.isArray(P._f.refs)&&P._f.refs.forEach(Z=>{Z.disabled=P._f.disabled||A}))},0,!1))},Ze=(A,H)=>async R=>{let P;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let Z=Xt(d);if(N.state.next({isSubmitting:!0}),a.resolver){const{errors:se,values:Ce}=await U();s.errors=se,Z=Xt(Ce)}else await ce(l);if(h.disabled.size)for(const se of h.disabled)mn(Z,se);if(mn(s.errors,"root"),Pn(s.errors)){N.state.next({errors:{}});try{await A(Z,R)}catch(se){P=se}}else H&&await H({...s.errors},R),Me(),setTimeout(Me);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(s.errors)&&!P,submitCount:s.submitCount+1,errors:s.errors}),P)throw P},dt=(A,H={})=>{qe(l,A)&&(Yt(H.defaultValue)?M(A,Xt(qe(c,A))):(M(A,H.defaultValue),qt(c,A,Xt(H.defaultValue))),H.keepTouched||mn(s.touchedFields,A),H.keepDirty||(mn(s.dirtyFields,A),s.isDirty=H.defaultValue?xe(A,Xt(qe(c,A))):xe()),H.keepError||(mn(s.errors,A),v.isValid&&_()),N.state.next({...s}))},Te=(A,H={})=>{const R=A?Xt(A):c,P=Xt(R),Z=Pn(A),se=Z?c:P;if(H.keepDefaultValues||(c=R),!H.keepValues){if(H.keepDirtyValues){const Ce=new Set([...h.mount,...Object.keys(gl(c,d))]);for(const Le of Array.from(Ce))qe(s.dirtyFields,Le)?qt(se,Le,qe(d,Le)):M(Le,qe(se,Le))}else{if(qm&&Yt(A))for(const Ce of h.mount){const Le=qe(l,Ce);if(Le&&Le._f){const ae=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(Tc(ae)){const ke=ae.closest("form");if(ke){ke.reset();break}}}}if(H.keepFieldsRef)for(const Ce of h.mount)M(Ce,qe(se,Ce));else l={}}d=a.shouldUnregister?H.keepDefaultValues?Xt(c):{}:Xt(se),N.array.next({values:{...se}}),N.state.next({values:{...se}})}h={mount:H.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!v.isValid||!!H.keepIsValid||!!H.keepDirtyValues||!a.shouldUnregister&&!Pn(se),f.watch=!!a.shouldUnregister,N.state.next({submitCount:H.keepSubmitCount?s.submitCount:0,isDirty:Z?!1:H.keepDirty?s.isDirty:!!(H.keepDefaultValues&&!Va(A,c)),isSubmitted:H.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Z?{}:H.keepDirtyValues?H.keepDefaultValues&&d?gl(c,d):s.dirtyFields:H.keepDefaultValues&&A?gl(c,A):H.keepDirty?s.dirtyFields:{},touchedFields:H.keepTouched?s.touchedFields:{},errors:H.keepErrors?s.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},He=(A,H)=>Te(Za(A)?A(d):A,H),fe=(A,H={})=>{const R=qe(l,A),P=R&&R._f;if(P){const Z=P.refs?P.refs[0]:P.ref;Z.focus&&(Z.focus(),H.shouldSelect&&Za(Z.select)&&Z.select())}},Fe=A=>{s={...s,...A}},Je={control:{register:de,unregister:Re,getFieldState:w,handleSubmit:Ze,setError:ie,_subscribe:oe,_runSchema:U,_focusError:Me,_getWatch:me,_getDirty:xe,_setValid:_,_setFieldArray:B,_setDisabledField:$e,_setErrors:K,_getFieldArray:Se,_reset:Te,_resetDefaultValues:()=>Za(a.defaultValues)&&a.defaultValues().then(A=>{He(A,a.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:_e,_disableForm:Ie,_subjects:N,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return f},set _state(A){f=A},get _defaultValues(){return c},get _names(){return h},set _names(A){h=A},get _formState(){return s},get _options(){return a},set _options(A){a={...a,...A}}},subscribe:pe,trigger:ye,register:de,handleSubmit:Ze,watch:k,setValue:M,getValues:je,reset:He,resetField:dt,clearErrors:G,unregister:Re,setError:ie,setFocus:fe,getFieldState:w};return{...Je,formControl:Je}}var Gs=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},wf=(e,a,s={})=>s.shouldFocus||Yt(s.shouldFocus)?s.focusName||`${e}.${Yt(s.focusIndex)?a:s.focusIndex}.`:"",jf=(e,a)=>[...e,...ua(a)],_f=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ef(e,a,s){return[...e.slice(0,a),...ua(s),...e.slice(a)]}var Af=(e,a,s)=>Array.isArray(e)?(Yt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],Cf=(e,a)=>[...ua(a),...ua(e)];function h_(e,a){let s=0;const l=[...e];for(const c of a)l.splice(c-s,1),s++;return Pc(l).length?l:[]}var Of=(e,a)=>Yt(a)?[]:h_(e,ua(a).sort((s,l)=>s-l)),Rf=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},bb=(e,a,s)=>(e[a]=s,e);function p_(e){const a=ax(),{control:s=a.control,name:l,keyName:c="id",shouldUnregister:d,rules:f}=e,[h,g]=mt.useState(s._getFieldArray(l)),p=mt.useRef(s._getFieldArray(l).map(Gs)),v=mt.useRef(!1);s._names.array.add(l),mt.useMemo(()=>f&&h.length>=0&&s.register(l,f),[s,l,h.length,f]),$m(()=>s._subjects.array.subscribe({next:({values:D,name:O})=>{if(O===l||!O){const V=qe(D,l);Array.isArray(V)&&(g(V),p.current=V.map(Gs))}}}).unsubscribe,[s,l]);const x=mt.useCallback(D=>{v.current=!0,s._setFieldArray(l,D)},[s,l]),N=(D,O)=>{const V=ua(Xt(D)),U=jf(s._getFieldArray(l),V);s._names.focus=wf(l,U.length-1,O),p.current=jf(p.current,V.map(Gs)),x(U),g(U),s._setFieldArray(l,U,jf,{argA:_f(D)})},q=(D,O)=>{const V=ua(Xt(D)),U=Cf(s._getFieldArray(l),V);s._names.focus=wf(l,0,O),p.current=Cf(p.current,V.map(Gs)),x(U),g(U),s._setFieldArray(l,U,Cf,{argA:_f(D)})},j=D=>{const O=Of(s._getFieldArray(l),D);p.current=Of(p.current,D),x(O),g(O),!Array.isArray(qe(s._fields,l))&&qt(s._fields,l,void 0),s._setFieldArray(l,O,Of,{argA:D})},_=(D,O,V)=>{const U=ua(Xt(O)),X=Ef(s._getFieldArray(l),D,U);s._names.focus=wf(l,D,V),p.current=Ef(p.current,D,U.map(Gs)),x(X),g(X),s._setFieldArray(l,X,Ef,{argA:D,argB:_f(O)})},C=(D,O)=>{const V=s._getFieldArray(l);Rf(V,D,O),Rf(p.current,D,O),x(V),g(V),s._setFieldArray(l,V,Rf,{argA:D,argB:O},!1)},B=(D,O)=>{const V=s._getFieldArray(l);Af(V,D,O),Af(p.current,D,O),x(V),g(V),s._setFieldArray(l,V,Af,{argA:D,argB:O},!1)},T=(D,O)=>{const V=Xt(O),U=bb(s._getFieldArray(l),D,V);p.current=[...U].map((X,ce)=>!X||ce===D?Gs():p.current[ce]),x(U),g([...U]),s._setFieldArray(l,U,bb,{argA:D,argB:V},!0,!1)},K=D=>{const O=ua(Xt(D));p.current=O.map(Gs),x([...O]),g([...O]),s._setFieldArray(l,[...O],V=>V,{},!0,!1)};return mt.useEffect(()=>{if(s._state.action=!1,om(l,s._names)&&s._subjects.state.next({...s._formState}),v.current&&(!yl(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!yl(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(D=>{const O=qe(D.errors,l),V=qe(s._formState.errors,l);(V?!O&&V.type||O&&(V.type!==O.type||V.message!==O.message):O&&O.type)&&(O?qt(s._formState.errors,l,O):mn(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const D=qe(s._fields,l);D&&D._f&&!(yl(s._options.reValidateMode).isOnSubmit&&yl(s._options.mode).isOnSubmit)&&cm(D,s._names.disabled,s._formValues,s._options.criteriaMode===za.all,s._options.shouldUseNativeValidation,!0).then(O=>!Pn(O)&&s._subjects.state.next({errors:ux(s._formState.errors,O,l)}))}s._subjects.state.next({name:l,values:Xt(s._formValues)}),s._names.focus&&vl(s._fields,(D,O)=>{if(s._names.focus&&O.startsWith(s._names.focus)&&D.focus)return D.focus(),1}),s._names.focus="",s._setValid(),v.current=!1},[h,l,s]),mt.useEffect(()=>(!qe(s._formValues,l)&&s._setFieldArray(l),()=>{const D=(O,V)=>{const U=qe(s._fields,O);U&&U._f&&(U._f.mount=V)};s._options.shouldUnregister||d?s.unregister(l):D(l,!1)}),[l,s,c,d]),{swap:mt.useCallback(C,[x,l,s]),move:mt.useCallback(B,[x,l,s]),prepend:mt.useCallback(q,[x,l,s]),append:mt.useCallback(N,[x,l,s]),remove:mt.useCallback(j,[x,l,s]),insert:mt.useCallback(_,[x,l,s]),update:mt.useCallback(T,[x,l,s]),replace:mt.useCallback(K,[x,l,s]),fields:mt.useMemo(()=>h.map((D,O)=>({...D,[c]:p.current[O]||Gs()})),[h,c])}}function Qc(e={}){const a=mt.useRef(void 0),s=mt.useRef(void 0),[l,c]=mt.useState({isDirty:!1,isValidating:!1,isLoading:Za(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Za(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!Za(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...h}=m_(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,$m(()=>{const f=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,f},[d]),mt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),mt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),mt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),mt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),mt.useEffect(()=>{if(d._proxyFormState.isDirty){const f=d._getDirty();f!==l.isDirty&&d._subjects.state.next({isDirty:f})}},[d,l.isDirty]),mt.useEffect(()=>{e.values&&!Va(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(f=>({...f}))):d._resetDefaultValues()},[d,e.values]),mt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=e_(l,d),a.current}function dx(e,a){return function(){return e.apply(a,arguments)}}const{toString:g_}=Object.prototype,{getPrototypeOf:Zm}=Object,{iterator:Yc,toStringTag:fx}=Symbol,Kc=(e=>a=>{const s=g_.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ga=e=>(e=e.toLowerCase(),a=>Kc(a)===e),Xc=e=>a=>typeof a===e,{isArray:Cl}=Array,Sl=Xc("undefined");function Qi(e){return e!==null&&!Sl(e)&&e.constructor!==null&&!Sl(e.constructor)&&da(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const mx=Ga("ArrayBuffer");function y_(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&mx(e.buffer),a}const b_=Xc("string"),da=Xc("function"),hx=Xc("number"),Yi=e=>e!==null&&typeof e=="object",v_=e=>e===!0||e===!1,_c=e=>{if(Kc(e)!=="object")return!1;const a=Zm(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(fx in e)&&!(Yc in e)},x_=e=>{if(!Yi(e)||Qi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},S_=Ga("Date"),N_=Ga("File"),w_=Ga("Blob"),j_=Ga("FileList"),__=e=>Yi(e)&&da(e.pipe),E_=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||da(e.append)&&((a=Kc(e))==="formdata"||a==="object"&&da(e.toString)&&e.toString()==="[object FormData]"))},A_=Ga("URLSearchParams"),[C_,O_,R_,T_]=["ReadableStream","Request","Response","Headers"].map(Ga),D_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ki(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),Cl(e))for(l=0,c=e.length;l<c;l++)a.call(null,e[l],l,e);else{if(Qi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let h;for(l=0;l<f;l++)h=d[l],a.call(null,e[h],h,e)}}function px(e,a){if(Qi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],a===c.toLowerCase())return c;return null}const Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gx=e=>!Sl(e)&&e!==Sr;function um(){const{caseless:e,skipUndefined:a}=gx(this)&&this||{},s={},l=(c,d)=>{const f=e&&px(s,d)||d;_c(s[f])&&_c(c)?s[f]=um(s[f],c):_c(c)?s[f]=um({},c):Cl(c)?s[f]=c.slice():(!a||!Sl(c))&&(s[f]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Ki(arguments[c],l);return s}const z_=(e,a,s,{allOwnKeys:l}={})=>(Ki(a,(c,d)=>{s&&da(c)?e[d]=dx(c,s):e[d]=c},{allOwnKeys:l}),e),M_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),k_=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},U_=(e,a,s,l)=>{let c,d,f;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!l||l(f,e,a))&&!h[f]&&(a[f]=e[f],h[f]=!0);e=s!==!1&&Zm(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},L_=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},B_=e=>{if(!e)return null;if(Cl(e))return e;let a=e.length;if(!hx(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},q_=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Zm(Uint8Array)),I_=(e,a)=>{const l=(e&&e[Yc]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},$_=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},F_=Ga("HTMLFormElement"),H_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),vb=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),V_=Ga("RegExp"),yx=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Ki(s,(c,d)=>{let f;(f=a(c,d,e))!==!1&&(l[d]=f||c)}),Object.defineProperties(e,l)},Z_=e=>{yx(e,(a,s)=>{if(da(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(da(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},G_=(e,a)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return Cl(e)?l(e):l(String(e).split(a)),s},P_=()=>{},Q_=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function Y_(e){return!!(e&&da(e.append)&&e[fx]==="FormData"&&e[Yc])}const K_=e=>{const a=new Array(10),s=(l,c)=>{if(Yi(l)){if(a.indexOf(l)>=0)return;if(Qi(l))return l;if(!("toJSON"in l)){a[c]=l;const d=Cl(l)?[]:{};return Ki(l,(f,h)=>{const g=s(f,c+1);!Sl(g)&&(d[h]=g)}),a[c]=void 0,d}}return l};return s(e,0)},X_=Ga("AsyncFunction"),J_=e=>e&&(Yi(e)||da(e))&&da(e.then)&&da(e.catch),bx=((e,a)=>e?setImmediate:a?((s,l)=>(Sr.addEventListener("message",({source:c,data:d})=>{c===Sr&&d===s&&l.length&&l.shift()()},!1),c=>{l.push(c),Sr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",da(Sr.postMessage)),W_=typeof queueMicrotask<"u"?queueMicrotask.bind(Sr):typeof process<"u"&&process.nextTick||bx,e1=e=>e!=null&&da(e[Yc]),re={isArray:Cl,isArrayBuffer:mx,isBuffer:Qi,isFormData:E_,isArrayBufferView:y_,isString:b_,isNumber:hx,isBoolean:v_,isObject:Yi,isPlainObject:_c,isEmptyObject:x_,isReadableStream:C_,isRequest:O_,isResponse:R_,isHeaders:T_,isUndefined:Sl,isDate:S_,isFile:N_,isBlob:w_,isRegExp:V_,isFunction:da,isStream:__,isURLSearchParams:A_,isTypedArray:q_,isFileList:j_,forEach:Ki,merge:um,extend:z_,trim:D_,stripBOM:M_,inherits:k_,toFlatObject:U_,kindOf:Kc,kindOfTest:Ga,endsWith:L_,toArray:B_,forEachEntry:I_,matchAll:$_,isHTMLForm:F_,hasOwnProperty:vb,hasOwnProp:vb,reduceDescriptors:yx,freezeMethods:Z_,toObjectSet:G_,toCamelCase:H_,noop:P_,toFiniteNumber:Q_,findKey:px,global:Sr,isContextDefined:gx,isSpecCompliantForm:Y_,toJSONObject:K_,isAsyncFn:X_,isThenable:J_,setImmediate:bx,asap:W_,isIterable:e1};function ut(e,a,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}re.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const vx=ut.prototype,xx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xx[e]={value:e}});Object.defineProperties(ut,xx);Object.defineProperty(vx,"isAxiosError",{value:!0});ut.from=(e,a,s,l,c,d)=>{const f=Object.create(vx);re.toFlatObject(e,f,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",g=a==null&&e?e.code:a;return ut.call(f,h,g,s,l,c),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",d&&Object.assign(f,d),f};const t1=null;function dm(e){return re.isPlainObject(e)||re.isArray(e)}function Sx(e){return re.endsWith(e,"[]")?e.slice(0,-2):e}function xb(e,a,s){return e?e.concat(a).map(function(c,d){return c=Sx(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function n1(e){return re.isArray(e)&&!e.some(dm)}const a1=re.toFlatObject(re,{},null,function(a){return/^is[A-Z]/.test(a)});function Jc(e,a,s){if(!re.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=re.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,C){return!re.isUndefined(C[_])});const l=s.metaTokens,c=s.visitor||v,d=s.dots,f=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(a);if(!re.isFunction(c))throw new TypeError("visitor must be a function");function p(j){if(j===null)return"";if(re.isDate(j))return j.toISOString();if(re.isBoolean(j))return j.toString();if(!g&&re.isBlob(j))throw new ut("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(j)||re.isTypedArray(j)?g&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function v(j,_,C){let B=j;if(j&&!C&&typeof j=="object"){if(re.endsWith(_,"{}"))_=l?_:_.slice(0,-2),j=JSON.stringify(j);else if(re.isArray(j)&&n1(j)||(re.isFileList(j)||re.endsWith(_,"[]"))&&(B=re.toArray(j)))return _=Sx(_),B.forEach(function(K,D){!(re.isUndefined(K)||K===null)&&a.append(f===!0?xb([_],D,d):f===null?_:_+"[]",p(K))}),!1}return dm(j)?!0:(a.append(xb(C,_,d),p(j)),!1)}const x=[],N=Object.assign(a1,{defaultVisitor:v,convertValue:p,isVisitable:dm});function q(j,_){if(!re.isUndefined(j)){if(x.indexOf(j)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(j),re.forEach(j,function(B,T){(!(re.isUndefined(B)||B===null)&&c.call(a,B,re.isString(T)?T.trim():T,_,N))===!0&&q(B,_?_.concat(T):[T])}),x.pop()}}if(!re.isObject(e))throw new TypeError("data must be an object");return q(e),a}function Sb(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Gm(e,a){this._pairs=[],e&&Jc(e,this,a)}const Nx=Gm.prototype;Nx.append=function(a,s){this._pairs.push([a,s])};Nx.toString=function(a){const s=a?function(l){return a.call(this,l,Sb)}:Sb;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function s1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wx(e,a,s){if(!a)return e;const l=s&&s.encode||s1;re.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=re.isURLSearchParams(a)?a.toString():new Gm(a,s).toString(l),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class Nb{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){re.forEach(this.handlers,function(l){l!==null&&a(l)})}}const jx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},r1=typeof URLSearchParams<"u"?URLSearchParams:Gm,l1=typeof FormData<"u"?FormData:null,i1=typeof Blob<"u"?Blob:null,o1={isBrowser:!0,classes:{URLSearchParams:r1,FormData:l1,Blob:i1},protocols:["http","https","file","blob","url","data"]},Pm=typeof window<"u"&&typeof document<"u",fm=typeof navigator=="object"&&navigator||void 0,c1=Pm&&(!fm||["ReactNative","NativeScript","NS"].indexOf(fm.product)<0),u1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",d1=Pm&&window.location.href||"http://localhost",f1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pm,hasStandardBrowserEnv:c1,hasStandardBrowserWebWorkerEnv:u1,navigator:fm,origin:d1},Symbol.toStringTag,{value:"Module"})),Qn={...f1,...o1};function m1(e,a){return Jc(e,new Qn.classes.URLSearchParams,{visitor:function(s,l,c,d){return Qn.isNode&&re.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function h1(e){return re.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function p1(e){const a={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],a[d]=e[d];return a}function _x(e){function a(s,l,c,d){let f=s[d++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),g=d>=s.length;return f=!f&&re.isArray(c)?c.length:f,g?(re.hasOwnProp(c,f)?c[f]=[c[f],l]:c[f]=l,!h):((!c[f]||!re.isObject(c[f]))&&(c[f]=[]),a(s,l,c[f],d)&&re.isArray(c[f])&&(c[f]=p1(c[f])),!h)}if(re.isFormData(e)&&re.isFunction(e.entries)){const s={};return re.forEachEntry(e,(l,c)=>{a(h1(l),c,s,0)}),s}return null}function g1(e,a,s){if(re.isString(e))try{return(a||JSON.parse)(e),re.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Xi={transitional:jx,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=re.isObject(a);if(d&&re.isHTMLForm(a)&&(a=new FormData(a)),re.isFormData(a))return c?JSON.stringify(_x(a)):a;if(re.isArrayBuffer(a)||re.isBuffer(a)||re.isStream(a)||re.isFile(a)||re.isBlob(a)||re.isReadableStream(a))return a;if(re.isArrayBufferView(a))return a.buffer;if(re.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return m1(a,this.formSerializer).toString();if((h=re.isFileList(a))||l.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Jc(h?{"files[]":a}:a,g&&new g,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),g1(a)):a}],transformResponse:[function(a){const s=this.transitional||Xi.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(re.isResponse(a)||re.isReadableStream(a))return a;if(a&&re.isString(a)&&(l&&!this.responseType||c)){const f=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?ut.from(h,ut.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qn.classes.FormData,Blob:Qn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],e=>{Xi.headers[e]={}});const y1=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b1=e=>{const a={};let s,l,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),s=f.substring(0,c).trim().toLowerCase(),l=f.substring(c+1).trim(),!(!s||a[s]&&y1[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},wb=Symbol("internals");function Ti(e){return e&&String(e).trim().toLowerCase()}function Ec(e){return e===!1||e==null?e:re.isArray(e)?e.map(Ec):String(e)}function v1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const x1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tf(e,a,s,l,c){if(re.isFunction(l))return l.call(this,a,s);if(c&&(a=s),!!re.isString(a)){if(re.isString(l))return a.indexOf(l)!==-1;if(re.isRegExp(l))return l.test(a)}}function S1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function N1(e,a){const s=re.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,f){return this[l].call(this,a,c,d,f)},configurable:!0})})}let fa=class{constructor(a){a&&this.set(a)}set(a,s,l){const c=this;function d(h,g,p){const v=Ti(g);if(!v)throw new Error("header name must be a non-empty string");const x=re.findKey(c,v);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||g]=Ec(h))}const f=(h,g)=>re.forEach(h,(p,v)=>d(p,v,g));if(re.isPlainObject(a)||a instanceof this.constructor)f(a,s);else if(re.isString(a)&&(a=a.trim())&&!x1(a))f(b1(a),s);else if(re.isObject(a)&&re.isIterable(a)){let h={},g,p;for(const v of a){if(!re.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(g=h[p])?re.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}f(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ti(a),a){const l=re.findKey(this,a);if(l){const c=this[l];if(!s)return c;if(s===!0)return v1(c);if(re.isFunction(s))return s.call(this,c,l);if(re.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ti(a),a){const l=re.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||Tf(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let c=!1;function d(f){if(f=Ti(f),f){const h=re.findKey(l,f);h&&(!s||Tf(l,l[h],h,s))&&(delete l[h],c=!0)}}return re.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let l=s.length,c=!1;for(;l--;){const d=s[l];(!a||Tf(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,l={};return re.forEach(this,(c,d)=>{const f=re.findKey(l,d);if(f){s[f]=Ec(c),delete s[d];return}const h=a?S1(d):String(d).trim();h!==d&&delete s[d],s[h]=Ec(c),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return re.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=a&&re.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(c=>l.set(c)),l}static accessor(a){const l=(this[wb]=this[wb]={accessors:{}}).accessors,c=this.prototype;function d(f){const h=Ti(f);l[h]||(N1(c,f),l[h]=!0)}return re.isArray(a)?a.forEach(d):d(a),this}};fa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(fa.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});re.freezeMethods(fa);function Df(e,a){const s=this||Xi,l=a||s,c=fa.from(l.headers);let d=l.data;return re.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function Ex(e){return!!(e&&e.__CANCEL__)}function Ol(e,a,s){ut.call(this,e??"canceled",ut.ERR_CANCELED,a,s),this.name="CanceledError"}re.inherits(Ol,ut,{__CANCEL__:!0});function Ax(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new ut("Request failed with status code "+s.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function w1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function j1(e,a){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,f;return a=a!==void 0?a:1e3,function(g){const p=Date.now(),v=l[d];f||(f=p),s[c]=g,l[c]=p;let x=d,N=0;for(;x!==c;)N+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-f<a)return;const q=v&&p-v;return q?Math.round(N*1e3/q):void 0}}function _1(e,a){let s=0,l=1e3/a,c,d;const f=(p,v=Date.now())=>{s=v,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),x=v-s;x>=l?f(p,v):(c=p,d||(d=setTimeout(()=>{d=null,f(c)},l-x)))},()=>c&&f(c)]}const zc=(e,a,s=3)=>{let l=0;const c=j1(50,250);return _1(d=>{const f=d.loaded,h=d.lengthComputable?d.total:void 0,g=f-l,p=c(g),v=f<=h;l=f;const x={loaded:f,total:h,progress:h?f/h:void 0,bytes:g,rate:p||void 0,estimated:p&&h&&v?(h-f)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},jb=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},_b=e=>(...a)=>re.asap(()=>e(...a)),E1=Qn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,Qn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(Qn.origin),Qn.navigator&&/(msie|trident)/i.test(Qn.navigator.userAgent)):()=>!0,A1=Qn.hasStandardBrowserEnv?{write(e,a,s,l,c,d,f){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];re.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),re.isString(l)&&h.push(`path=${l}`),re.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),re.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function C1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function O1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function Cx(e,a,s){let l=!C1(a);return e&&(l||s==!1)?O1(e,a):a}const Eb=e=>e instanceof fa?{...e}:e;function Er(e,a){a=a||{};const s={};function l(p,v,x,N){return re.isPlainObject(p)&&re.isPlainObject(v)?re.merge.call({caseless:N},p,v):re.isPlainObject(v)?re.merge({},v):re.isArray(v)?v.slice():v}function c(p,v,x,N){if(re.isUndefined(v)){if(!re.isUndefined(p))return l(void 0,p,x,N)}else return l(p,v,x,N)}function d(p,v){if(!re.isUndefined(v))return l(void 0,v)}function f(p,v){if(re.isUndefined(v)){if(!re.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,x){if(x in a)return l(p,v);if(x in e)return l(void 0,p)}const g={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(p,v,x)=>c(Eb(p),Eb(v),x,!0)};return re.forEach(Object.keys({...e,...a}),function(v){const x=g[v]||c,N=x(e[v],a[v],v);re.isUndefined(N)&&x!==h||(s[v]=N)}),s}const Ox=e=>{const a=Er({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:h}=a;if(a.headers=f=fa.from(f),a.url=wx(Cx(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),re.isFormData(s)){if(Qn.hasStandardBrowserEnv||Qn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(re.isFunction(s.getHeaders)){const g=s.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([v,x])=>{p.includes(v.toLowerCase())&&f.set(v,x)})}}if(Qn.hasStandardBrowserEnv&&(l&&re.isFunction(l)&&(l=l(a)),l||l!==!1&&E1(a.url))){const g=c&&d&&A1.read(d);g&&f.set(c,g)}return a},R1=typeof XMLHttpRequest<"u",T1=R1&&function(e){return new Promise(function(s,l){const c=Ox(e);let d=c.data;const f=fa.from(c.headers).normalize();let{responseType:h,onUploadProgress:g,onDownloadProgress:p}=c,v,x,N,q,j;function _(){q&&q(),j&&j(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let C=new XMLHttpRequest;C.open(c.method.toUpperCase(),c.url,!0),C.timeout=c.timeout;function B(){if(!C)return;const K=fa.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:K,config:e,request:C};Ax(function(U){s(U),_()},function(U){l(U),_()},O),C=null}"onloadend"in C?C.onloadend=B:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(B)},C.onabort=function(){C&&(l(new ut("Request aborted",ut.ECONNABORTED,e,C)),C=null)},C.onerror=function(D){const O=D&&D.message?D.message:"Network Error",V=new ut(O,ut.ERR_NETWORK,e,C);V.event=D||null,l(V),C=null},C.ontimeout=function(){let D=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const O=c.transitional||jx;c.timeoutErrorMessage&&(D=c.timeoutErrorMessage),l(new ut(D,O.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,e,C)),C=null},d===void 0&&f.setContentType(null),"setRequestHeader"in C&&re.forEach(f.toJSON(),function(D,O){C.setRequestHeader(O,D)}),re.isUndefined(c.withCredentials)||(C.withCredentials=!!c.withCredentials),h&&h!=="json"&&(C.responseType=c.responseType),p&&([N,j]=zc(p,!0),C.addEventListener("progress",N)),g&&C.upload&&([x,q]=zc(g),C.upload.addEventListener("progress",x),C.upload.addEventListener("loadend",q)),(c.cancelToken||c.signal)&&(v=K=>{C&&(l(!K||K.type?new Ol(null,e,C):K),C.abort(),C=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const T=w1(c.url);if(T&&Qn.protocols.indexOf(T)===-1){l(new ut("Unsupported protocol "+T+":",ut.ERR_BAD_REQUEST,e));return}C.send(d||null)})},D1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,c;const d=function(p){if(!c){c=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof ut?v:new Ol(v instanceof Error?v.message:v))}};let f=a&&setTimeout(()=>{f=null,d(new ut(`timeout ${a} of ms exceeded`,ut.ETIMEDOUT))},a);const h=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:g}=l;return g.unsubscribe=()=>re.asap(h),g}},z1=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,c;for(;l<s;)c=l+a,yield e.slice(l,c),l=c},M1=async function*(e,a){for await(const s of k1(e))yield*z1(s,a)},k1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},Ab=(e,a,s,l)=>{const c=M1(e,a);let d=0,f,h=g=>{f||(f=!0,l&&l(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await c.next();if(p){h(),g.close();return}let x=v.byteLength;if(s){let N=d+=x;s(N)}g.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(g){return h(g),c.return()}},{highWaterMark:2})},Cb=64*1024,{isFunction:gc}=re,U1=(({Request:e,Response:a})=>({Request:e,Response:a}))(re.global),{ReadableStream:Ob,TextEncoder:Rb}=re.global,Tb=(e,...a)=>{try{return!!e(...a)}catch{return!1}},L1=e=>{e=re.merge.call({skipUndefined:!0},U1,e);const{fetch:a,Request:s,Response:l}=e,c=a?gc(a):typeof fetch=="function",d=gc(s),f=gc(l);if(!c)return!1;const h=c&&gc(Ob),g=c&&(typeof Rb=="function"?(j=>_=>j.encode(_))(new Rb):async j=>new Uint8Array(await new s(j).arrayBuffer())),p=d&&h&&Tb(()=>{let j=!1;const _=new s(Qn.origin,{body:new Ob,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!_}),v=f&&h&&Tb(()=>re.isReadableStream(new l("").body)),x={stream:v&&(j=>j.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!x[j]&&(x[j]=(_,C)=>{let B=_&&_[j];if(B)return B.call(_);throw new ut(`Response type '${j}' is not supported`,ut.ERR_NOT_SUPPORT,C)})});const N=async j=>{if(j==null)return 0;if(re.isBlob(j))return j.size;if(re.isSpecCompliantForm(j))return(await new s(Qn.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(re.isArrayBufferView(j)||re.isArrayBuffer(j))return j.byteLength;if(re.isURLSearchParams(j)&&(j=j+""),re.isString(j))return(await g(j)).byteLength},q=async(j,_)=>{const C=re.toFiniteNumber(j.getContentLength());return C??N(_)};return async j=>{let{url:_,method:C,data:B,signal:T,cancelToken:K,timeout:D,onDownloadProgress:O,onUploadProgress:V,responseType:U,headers:X,withCredentials:ce="same-origin",fetchOptions:_e}=Ox(j),xe=a||fetch;U=U?(U+"").toLowerCase():"text";let me=D1([T,K&&K.toAbortSignal()],D),Se=null;const De=me&&me.unsubscribe&&(()=>{me.unsubscribe()});let Oe;try{if(V&&p&&C!=="get"&&C!=="head"&&(Oe=await q(X,B))!==0){let w=new s(_,{method:"POST",body:B,duplex:"half"}),G;if(re.isFormData(B)&&(G=w.headers.get("content-type"))&&X.setContentType(G),w.body){const[ie,k]=jb(Oe,zc(_b(V)));B=Ab(w.body,Cb,ie,k)}}re.isString(ce)||(ce=ce?"include":"omit");const M=d&&"credentials"in s.prototype,I={..._e,signal:me,method:C.toUpperCase(),headers:X.normalize().toJSON(),body:B,duplex:"half",credentials:M?ce:void 0};Se=d&&new s(_,I);let ee=await(d?xe(Se,_e):xe(_,I));const ye=v&&(U==="stream"||U==="response");if(v&&(O||ye&&De)){const w={};["status","statusText","headers"].forEach(oe=>{w[oe]=ee[oe]});const G=re.toFiniteNumber(ee.headers.get("content-length")),[ie,k]=O&&jb(G,zc(_b(O),!0))||[];ee=new l(Ab(ee.body,Cb,ie,()=>{k&&k(),De&&De()}),w)}U=U||"text";let je=await x[re.findKey(x,U)||"text"](ee,j);return!ye&&De&&De(),await new Promise((w,G)=>{Ax(w,G,{data:je,headers:fa.from(ee.headers),status:ee.status,statusText:ee.statusText,config:j,request:Se})})}catch(M){throw De&&De(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,j,Se),{cause:M.cause||M}):ut.from(M,M&&M.code,j,Se)}}},B1=new Map,Rx=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:c}=a,d=[l,c,s];let f=d.length,h=f,g,p,v=B1;for(;h--;)g=d[h],p=v.get(g),p===void 0&&v.set(g,p=h?new Map:L1(a)),v=p;return p};Rx();const Qm={http:t1,xhr:T1,fetch:{get:Rx}};re.forEach(Qm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const Db=e=>`- ${e}`,q1=e=>re.isFunction(e)||e===null||e===!1;function I1(e,a){e=re.isArray(e)?e:[e];const{length:s}=e;let l,c;const d={};for(let f=0;f<s;f++){l=e[f];let h;if(c=l,!q1(l)&&(c=Qm[(h=String(l)).toLowerCase()],c===void 0))throw new ut(`Unknown adapter '${h}'`);if(c&&(re.isFunction(c)||(c=c.get(a))))break;d[h||"#"+f]=c}if(!c){const f=Object.entries(d).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?f.length>1?`since :
`+f.map(Db).join(`
`):" "+Db(f[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const Tx={getAdapter:I1,adapters:Qm};function zf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ol(null,e)}function zb(e){return zf(e),e.headers=fa.from(e.headers),e.data=Df.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Tx.getAdapter(e.adapter||Xi.adapter,e)(e).then(function(l){return zf(e),l.data=Df.call(e,e.transformResponse,l),l.headers=fa.from(l.headers),l},function(l){return Ex(l)||(zf(e),l&&l.response&&(l.response.data=Df.call(e,e.transformResponse,l.response),l.response.headers=fa.from(l.response.headers))),Promise.reject(l)})}const Dx="1.13.2",Wc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Wc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Mb={};Wc.transitional=function(a,s,l){function c(d,f){return"[Axios v"+Dx+"] Transitional option '"+d+"'"+f+(l?". "+l:"")}return(d,f,h)=>{if(a===!1)throw new ut(c(f," has been removed"+(s?" in "+s:"")),ut.ERR_DEPRECATED);return s&&!Mb[f]&&(Mb[f]=!0,console.warn(c(f," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,f,h):!0}};Wc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function $1(e,a,s){if(typeof e!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],f=a[d];if(f){const h=e[d],g=h===void 0||f(h,d,e);if(g!==!0)throw new ut("option "+d+" must be "+g,ut.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ut("Unknown option "+d,ut.ERR_BAD_OPTION)}}const Ac={assertOptions:$1,validators:Wc},Ja=Ac.validators;let Nr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Nb,response:new Nb}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=Er(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&Ac.assertOptions(l,{silentJSONParsing:Ja.transitional(Ja.boolean),forcedJSONParsing:Ja.transitional(Ja.boolean),clarifyTimeoutError:Ja.transitional(Ja.boolean)},!1),c!=null&&(re.isFunction(c)?s.paramsSerializer={serialize:c}:Ac.assertOptions(c,{encode:Ja.function,serialize:Ja.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ac.assertOptions(s,{baseUrl:Ja.spelling("baseURL"),withXsrfToken:Ja.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=d&&re.merge(d.common,d[s.method]);d&&re.forEach(["delete","get","head","post","put","patch","common"],j=>{delete d[j]}),s.headers=fa.concat(f,d);const h=[];let g=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(g=g&&_.synchronous,h.unshift(_.fulfilled,_.rejected))});const p=[];this.interceptors.response.forEach(function(_){p.push(_.fulfilled,_.rejected)});let v,x=0,N;if(!g){const j=[zb.bind(this),void 0];for(j.unshift(...h),j.push(...p),N=j.length,v=Promise.resolve(s);x<N;)v=v.then(j[x++],j[x++]);return v}N=h.length;let q=s;for(;x<N;){const j=h[x++],_=h[x++];try{q=j(q)}catch(C){_.call(this,C);break}}try{v=zb.call(this,q)}catch(j){return Promise.reject(j)}for(x=0,N=p.length;x<N;)v=v.then(p[x++],p[x++]);return v}getUri(a){a=Er(this.defaults,a);const s=Cx(a.baseURL,a.url,a.allowAbsoluteUrls);return wx(s,a.params,a.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(a){Nr.prototype[a]=function(s,l){return this.request(Er(l||{},{method:a,url:s,data:(l||{}).data}))}});re.forEach(["post","put","patch"],function(a){function s(l){return function(d,f,h){return this.request(Er(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}Nr.prototype[a]=s(),Nr.prototype[a+"Form"]=s(!0)});let F1=class zx{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(h=>{l.subscribe(h),d=h}).then(c);return f.cancel=function(){l.unsubscribe(d)},f},a(function(d,f,h){l.reason||(l.reason=new Ol(d,f,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new zx(function(c){a=c}),cancel:a}}};function H1(e){return function(s){return e.apply(null,s)}}function V1(e){return re.isObject(e)&&e.isAxiosError===!0}const mm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mm).forEach(([e,a])=>{mm[a]=e});function Mx(e){const a=new Nr(e),s=dx(Nr.prototype.request,a);return re.extend(s,Nr.prototype,a,{allOwnKeys:!0}),re.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return Mx(Er(e,c))},s}const pt=Mx(Xi);pt.Axios=Nr;pt.CanceledError=Ol;pt.CancelToken=F1;pt.isCancel=Ex;pt.VERSION=Dx;pt.toFormData=Jc;pt.AxiosError=ut;pt.Cancel=pt.CanceledError;pt.all=function(a){return Promise.all(a)};pt.spread=H1;pt.isAxiosError=V1;pt.mergeConfig=Er;pt.AxiosHeaders=fa;pt.formToJSON=e=>_x(re.isHTMLForm(e)?new FormData(e):e);pt.getAdapter=Tx.getAdapter;pt.HttpStatusCode=mm;pt.default=pt;const{Axios:Q2,AxiosError:Y2,CanceledError:K2,isCancel:X2,CancelToken:J2,VERSION:W2,all:eD,Cancel:tD,isAxiosError:nD,spread:aD,toFormData:sD,AxiosHeaders:rD,HttpStatusCode:lD,formToJSON:iD,getAdapter:oD,mergeConfig:cD}=pt,Z1="medileser:draft:v1",Mc="medileser:recovery:v1",kc="medileser:recovery:intent",G1="vi.auth",P1="vi_auth",Q1="medileser.selectedBank",Y1=1440*60*1e3,Ym=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>Y1},Mf=e=>{const{userId:a,bankId:s,oiId:l,type:c,bancadaId:d,isNew:f}=e;if(!a||s==null)return null;const h=l!=null?String(l):"new",g=`${Z1}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${g}:header`;const p=f?"new":d;return p==null?null:`${g}:bancada:${p}`},ki=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&kx(s)},kf=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:Ym(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Ps=e=>{try{localStorage.removeItem(e)}catch{}},kx=e=>{try{localStorage.setItem(Mc,JSON.stringify(e))}catch{}},Ux=()=>{try{const e=localStorage.getItem(Mc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Ym(a.ts)?(localStorage.removeItem(Mc),null):a}catch{return null}},K1=()=>{try{localStorage.removeItem(Mc)}catch{}},X1=e=>{const a=e.userId??null,s=e.bankId??null,l=e.oiId??null;if(!a||s==null||!l)return;const c=Ux(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:l,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};kx(d)},J1=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(kc,JSON.stringify(a))}catch{}},W1=()=>{try{const e=sessionStorage.getItem(kc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Ym(a.ts)?(sessionStorage.removeItem(kc),null):a}catch{return null}},Uf=()=>{try{sessionStorage.removeItem(kc)}catch{}},eE=()=>{try{const e=localStorage.getItem(G1)??localStorage.getItem(P1);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},tE=()=>{try{const e=localStorage.getItem(Q1);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},hm=(e,a)=>{const s=Ux();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const l=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=l==="/oi"||l==="/oi/"?`/oi/${s.oiId}?mode=edit`:l;return J1(s),{target:c,recovery:s}},kb="http://127.0.0.1:8000",Rl="openOiId",eu="vi.currentOI",Lx="vi.auth",Bx="vi_auth",nE="medileser.selectedBank",aE="medileser:selectedBank",pm="medileser.pendingToast",Ji="medileser.pendingAction",sE="medileser:auth-expired",gm="medileser.sessionUserId",ym="medileser.sessionBankId",qx=()=>typeof window<"u"?window.location.port==="5173"?kb:window.location.origin:kb,Ke=pt.create({baseURL:qx()}),Ix=pt.create({baseURL:qx()}),$x=e=>{try{const a=localStorage.getItem(Lx)??localStorage.getItem(Bx);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ke.interceptors.request.use($x);Ix.interceptors.request.use($x);function rE(){try{const e=sessionStorage.getItem(Rl);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const Fx=()=>{try{const e=sessionStorage.getItem(eu);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function lE(e){try{sessionStorage.setItem(Rl,String(e))}catch{}}function Hx(){try{sessionStorage.removeItem(Rl)}catch{}}async function Wi(){const e=rE();if(e)try{await Ix.post(`/oi/${e}/close`)}catch{}finally{Hx()}}function iE(e){try{sessionStorage.setItem(pm,e)}catch{}}function oE(){try{const e=sessionStorage.getItem(pm);return e?(sessionStorage.removeItem(pm),e):null}catch{return null}}function cE(e){try{sessionStorage.setItem(Ji,JSON.stringify(e))}catch{}}function uE(){try{const e=sessionStorage.getItem(Ji);return e?JSON.parse(e):null}catch{return null}}function fl(){try{sessionStorage.removeItem(Ji)}catch{}}function Vx(){try{const e=sessionStorage.getItem(gm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Ub(e){try{e==null?sessionStorage.removeItem(gm):sessionStorage.setItem(gm,String(e))}catch{}}function Zx(){try{const e=sessionStorage.getItem(ym);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Uc(e){try{e==null?sessionStorage.removeItem(ym):sessionStorage.setItem(ym,String(e))}catch{}}function Gx(e){const a=Vx();if(e==null)return!1;if(a===null||a===e)return Ub(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Rl||c===eu||c===Ji)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Ub(e),Uc(null),!0}function dE(e){const a=Zx();if(e==null)return!1;if(a===null||a===e)return Uc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Rl||c===eu||c===Ji)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Uc(e),!0}function fE(){try{localStorage.removeItem(Lx),localStorage.removeItem(Bx),localStorage.removeItem(nE)}catch{}finally{try{window.dispatchEvent(new Event(aE))}catch{}}try{sessionStorage.removeItem(eu),sessionStorage.removeItem(Rl)}catch{}}let Lb=!1;async function Px(e){if(!Lb){Lb=!0;try{await Wi()}finally{fE();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(iE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const Mi=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401)return!0;const l=e?.response?.data?.detail;return!!(typeof l=="string"&&/token requerido/i.test(l))},Lf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},mE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:Lf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:Lf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:Lf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},hE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const f=c.toString(),h=p=>`${p}${f?`?${f}`:""}${l??""}`;let g=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??Fx();p&&(g=h(`/oi/${p}`))}return g},pE=(e,a,s,l,c)=>{try{window.dispatchEvent(new CustomEvent(sE,{detail:{status:a,detail:e,url:s,method:l,pending:c}}))}catch{}};Ke.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&Mi(e)){const f=mE(e);f&&cE(f),pE(l,a,s,c,f);const h=hE(f),g=eE(),p=g.bankId??tE(),v=f?.oiId??Fx();if(g.userId&&p!=null&&v){const x=f?.type==="save_bancada"?{type:"bancada",bancadaId:f.bancadaId??null,isNew:f.bancadaId==null}:void 0;X1({userId:g.userId,bankId:p,oiId:v,returnTo:h,modal:x})}await Px({returnTo:h,pending:!!f})}return Promise.reject(e)});const Km=async()=>{const{data:e}=await Ke.get("/catalogs");return e},tu="medileser.selectedBank",Lc="medileser:selectedBank";function Ma(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function Nl(e){return Ma(e)==="technician"}function Xm(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function Ii(){try{const e=localStorage.getItem(tu);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Qx(e){try{localStorage.setItem(tu,String(e))}finally{window.dispatchEvent(new Event(Lc))}}function Yx(){try{localStorage.removeItem(tu)}finally{window.dispatchEvent(new Event(Lc))}}function gE(e){const a=()=>e(),s=l=>{l.key===tu&&e()};return window.addEventListener(Lc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Lc,a),window.removeEventListener("storage",s)}}async function yE(e,a){try{await Ke.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function bE(e){try{await Wi();const{data:a}=await Ke.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),Gx(a.userId??null),!Nl(a.role)&&a.bancoId!=null&&Uc(a.bancoId),Nl(a.role)?Yx():Qx(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(c)}}function Rn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Ma(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function Kx(e){await Wi();const{data:a}=await Ke.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),Gx(a.userId??null),dE(e),Qx(e),a}function Xx(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),Yx();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function vE(){await Wi(),Xx()}function $i({label:e,inputId:a,className:s="",inputRef:l,helpText:c,...d}){const[f,h]=b.useState(!1),g=a||d.name||void 0,{ref:p,...v}=d,x=l??p;return i.jsxs("div",{className:s,children:[e&&i.jsx("label",{className:"form-label",htmlFor:g,children:e}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{...v,id:g,type:f?"text":"password",className:"form-control",ref:x}),i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(N=>!N),tabIndex:-1,"aria-label":f?"Ocultar contrasea":"Mostrar contrasea",children:i.jsx("i",{className:`ti ${f?"ti-eye-off":"ti-eye"}`})})]}),c&&i.jsx("div",{className:"form-text",children:c})]})}function Tl({show:e=!0,label:a="Cargando..."}){return e?i.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[i.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),i.jsx("span",{className:"visually-hidden",children:a})]}):null}const Jx=b.createContext(null);function xE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function SE({children:e}){const[a,s]=b.useState([]),l=b.useCallback(d=>{const f=Date.now()+Math.random(),{kind:h="info",duration:g=3500,...p}=d,v={id:f,kind:h,duration:g,...p};s(x=>[...x,v]),window.setTimeout(()=>{s(x=>x.filter(N=>N.id!==f))},g)},[]),c=d=>s(f=>f.filter(h=>h.id!==d));return i.jsxs(Jx.Provider,{value:{push:l},children:[e,i.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>i.jsx("div",{className:`toast show align-items-center text-bg-${xE(d.kind)} border-0 mb-2`,role:"alert",children:i.jsxs("div",{className:"d-flex",children:[i.jsxs("div",{className:"toast-body",children:[d.title&&i.jsx("strong",{className:"me-2",children:d.title}),d.message]}),i.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function Rr(){const e=b.useContext(Jx);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function NE(){const{register:e,handleSubmit:a}=Qc({defaultValues:{username:"",password:""}}),{toast:s}=Rr(),l=new URLSearchParams(window.location.search),c=l.get("returnTo")??"",d=c.startsWith("/")?c:"/home",f=l.get("pending")==="1",[h,g]=b.useState(!1),p=b.useRef(d),[v,x]=b.useState(!1),[N,q]=b.useState(0),[j,_]=b.useState(!1),{data:C,isLoading:B,error:T,refetch:K}=_r({queryKey:["catalogs"],queryFn:Km,enabled:v}),D=C?.bancos??[];b.useEffect(()=>{const ce=oE();ce&&s({kind:"error",message:ce})},[s]),b.useEffect(()=>{v&&(N>0||D.length>0&&q(D[0].id))},[N,D,v]);const O=async ce=>{try{g(!0);const _e=Vx(),xe=await bE(ce),me=_e!=null&&xe.userId&&_e!==xe.userId,Se=hm(xe.userId,xe.bancoId??0);if(Se.target?p.current=Se.target:f||me?p.current="/home":p.current=d,Nl(xe.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(_e){const xe=_e?.message??_e?.response?.data?.detail??(typeof _e=="string"?_e:"Error de autenticacin");s({kind:"error",title:"Login",message:String(xe)})}finally{g(!1)}},V=N>0&&!j&&!B,U=async()=>{if(V)try{_(!0);const ce=Zx(),_e=ce!=null&&ce!==N,xe=await Kx(N),me=hm(xe.userId,xe.bancoId??N);me.target?p.current=me.target:(f||_e)&&(p.current="/home"),window.location.replace(p.current)}catch(ce){const _e=ce?.response?.data?.detail??ce?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(_e)})}finally{_(!1)}},X=()=>{Xx(),x(!1),q(0)};return i.jsxs("div",{className:"vi-login",children:[i.jsx(Tl,{show:h||j,label:j?"Guardando banco...":"Validando credenciales..."}),i.jsxs("div",{className:"vi-login__split",children:[i.jsx("section",{className:"vi-login__left",children:i.jsx("div",{className:"text-center text-md-start",children:i.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),i.jsx("section",{className:"vi-login__right",children:i.jsx("div",{className:"card shadow-sm vi-login__card",children:i.jsxs("div",{className:"card-body p-4 p-md-5",children:[i.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),i.jsxs("form",{onSubmit:a(O),className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),i.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),i.jsx("div",{className:"col-md-6",children:i.jsx($i,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),i.jsx("div",{className:"col-12 d-grid",children:i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||v,"aria-busy":h?"true":"false",children:h?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),v&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsx("div",{className:"modal-header",children:i.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),i.jsxs("div",{className:"modal-body",children:[i.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),i.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),i.jsx("select",{id:"bankId",className:"form-select",value:N||"",onChange:ce=>q(Number(ce.target.value)),disabled:B||j,children:D.map(ce=>i.jsx("option",{value:ce.id,children:ce.name},ce.id))}),T?i.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>K(),children:"Reintentar"})]}):null]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:X,disabled:j,children:"Cancelar"}),i.jsx("button",{type:"button",className:"btn btn-primary",disabled:!V,onClick:U,children:j?"Guardando...":"Continuar"})]})]})})})]})}const Bb=(e,a,s)=>{if(e&&"reportValidity"in e){const l=qe(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},bm=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?Bb(l.ref,s,e):l&&l.refs&&l.refs.forEach(c=>Bb(c,s,e))}},qb=(e,a)=>{a.shouldUseNativeValidation&&bm(e,a);const s={};for(const l in e){const c=qe(a.fields,l),d=Object.assign(e[l]||{},{ref:c&&c.ref});if(wE(a.names||Object.keys(e),l)){const f=Object.assign({},qe(s,l));qt(f,"root",d),qt(s,l,f)}else qt(s,l,d)}return s},wE=(e,a)=>{const s=Ib(a);return e.some(l=>Ib(l).match(`^${s}\\.\\d+`))};function Ib(e){return e.replace(/\]|\[/g,"")}function we(e,a,s){function l(h,g){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,g);for(const v in f.prototype)v in h||Object.defineProperty(h,v,{value:f.prototype[v].bind(h)});h._zod.constr=f,h._zod.def=g}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function f(h){var g;const p=s?.Parent?new d:this;l(p,h),(g=p._zod).deferred??(g.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(f,"init",{value:l}),Object.defineProperty(f,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class xl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Wx extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const e0={};function Ar(e){return e0}function jE(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,c])=>a.indexOf(+l)===-1).map(([l,c])=>c)}function vm(e,a){return typeof a=="bigint"?a.toString():a}function Jm(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Wm(e){return e==null}function eh(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function _E(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let c=(l.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(l)){const g=l.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const d=s>c?s:c,f=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return f%h/10**d}const $b=Symbol("evaluating");function Gt(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==$b)return l===void 0&&(l=$b,l=s()),l},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function Tr(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Dr(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function Fb(e){return JSON.stringify(e)}const t0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Bc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const EE=Jm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Fi(e){if(Bc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(Bc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function n0(e){return Fi(e)?{...e}:Array.isArray(e)?[...e]:e}const AE=new Set(["string","number","symbol"]);function nu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xs(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function We(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function CE(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const OE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function RE(e,a){const s=e._zod.def,l=Dr(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return Tr(this,"shape",c),c},checks:[]});return Xs(e,l)}function TE(e,a){const s=e._zod.def,l=Dr(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return Tr(this,"shape",c),c},checks:[]});return Xs(e,l)}function DE(e,a){if(!Fi(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Dr(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Tr(this,"shape",d),d},checks:[]});return Xs(e,c)}function zE(e,a){if(!Fi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Tr(this,"shape",l),l},checks:e._zod.def.checks};return Xs(e,s)}function ME(e,a){const s=Dr(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Tr(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Xs(e,s)}function kE(e,a,s){const l=Dr(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const f in s){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);s[f]&&(d[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)d[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return Tr(this,"shape",d),d},checks:[]});return Xs(a,l)}function UE(e,a,s){const l=Dr(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const f in s){if(!(f in d))throw new Error(`Unrecognized key: "${f}"`);s[f]&&(d[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)d[f]=new e({type:"nonoptional",innerType:c[f]});return Tr(this,"shape",d),d},checks:[]});return Xs(a,l)}function bl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function a0(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function yc(e){return typeof e=="string"?e:e?.message}function Cr(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const c=yc(e.inst?._zod.def?.error?.(e))??yc(a?.error?.(e))??yc(s.customError?.(e))??yc(s.localeError?.(e))??"Invalid input";l.message=c}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function th(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Hi(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const s0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,vm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},nh=we("$ZodError",s0),au=we("$ZodError",s0,{Parent:Error});function LE(e,a=s=>s.message){const s={},l=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):l.push(a(c));return{formErrors:l,fieldErrors:s}}function BE(e,a=s=>s.message){const s={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(f=>l({issues:f}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let f=s,h=0;for(;h<d.path.length;){const g=d.path[h];h===d.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(a(d))):f[g]=f[g]||{_errors:[]},f=f[g],h++}}};return l(e),s}const su=e=>(a,s,l,c)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},f=a._zod.run({value:s,issues:[]},d);if(f instanceof Promise)throw new xl;if(f.issues.length){const h=new(c?.Err??e)(f.issues.map(g=>Cr(g,d,Ar())));throw t0(h,c?.callee),h}return f.value},qE=su(au),ru=e=>async(a,s,l,c)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let f=a._zod.run({value:s,issues:[]},d);if(f instanceof Promise&&(f=await f),f.issues.length){const h=new(c?.Err??e)(f.issues.map(g=>Cr(g,d,Ar())));throw t0(h,c?.callee),h}return f.value},IE=ru(au),lu=e=>(a,s,l)=>{const c=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new xl;return d.issues.length?{success:!1,error:new(e??nh)(d.issues.map(f=>Cr(f,c,Ar())))}:{success:!0,data:d.value}},$E=lu(au),iu=e=>async(a,s,l)=>{const c=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(f=>Cr(f,c,Ar())))}:{success:!0,data:d.value}},FE=iu(au),HE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return su(e)(a,s,c)},VE=e=>(a,s,l)=>su(e)(a,s,l),ZE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return ru(e)(a,s,c)},GE=e=>async(a,s,l)=>ru(e)(a,s,l),PE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return lu(e)(a,s,c)},QE=e=>(a,s,l)=>lu(e)(a,s,l),YE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return iu(e)(a,s,c)},KE=e=>async(a,s,l)=>iu(e)(a,s,l),XE=/^[cC][^\s-]{8,}$/,JE=/^[0-9a-z]+$/,WE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,eA=/^[0-9a-vA-V]{20}$/,tA=/^[A-Za-z0-9]{27}$/,nA=/^[a-zA-Z0-9_-]{21}$/,aA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,sA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Hb=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,rA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,lA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function iA(){return new RegExp(lA,"u")}const oA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,uA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,dA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,r0=/^[A-Za-z0-9_-]*$/,mA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,hA=/^\+(?:[0-9]){6,14}[0-9]$/,l0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",pA=new RegExp(`^${l0}$`);function i0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function gA(e){return new RegExp(`^${i0(e)}$`)}function yA(e){const a=i0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${l0}T(?:${l})$`)}const bA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},vA=/^-?\d+$/,xA=/^-?\d+(?:\.\d+)?/,SA=/^[^A-Z]*$/,NA=/^[^a-z]*$/,ma=we("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),o0={number:"number",bigint:"bigint",object:"date"},c0=we("$ZodCheckLessThan",(e,a)=>{ma.init(e,a);const s=o0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),u0=we("$ZodCheckGreaterThan",(e,a)=>{ma.init(e,a);const s=o0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),wA=we("$ZodCheckMultipleOf",(e,a)=>{ma.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):_E(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),jA=we("$ZodCheckNumberFormat",(e,a)=>{ma.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[c,d]=OE[a.format];e._zod.onattach.push(f=>{const h=f._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=vA)}),e._zod.check=f=>{const h=f.value;if(s){if(!Number.isInteger(h)){f.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?f.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):f.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<c&&f.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&f.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),_A=we("$ZodCheckMaxLength",(e,a)=>{var s;ma.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Wm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const c=l.value;if(c.length<=a.maximum)return;const f=th(c);l.issues.push({origin:f,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),EA=we("$ZodCheckMinLength",(e,a)=>{var s;ma.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Wm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const c=l.value;if(c.length>=a.minimum)return;const f=th(c);l.issues.push({origin:f,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),AA=we("$ZodCheckLengthEquals",(e,a)=>{var s;ma.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Wm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=l=>{const c=l.value,d=c.length;if(d===a.length)return;const f=th(c),h=d>a.length;l.issues.push({origin:f,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),ou=we("$ZodCheckStringFormat",(e,a)=>{var s,l;ma.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),CA=we("$ZodCheckRegex",(e,a)=>{ou.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),OA=we("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=SA),ou.init(e,a)}),RA=we("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=NA),ou.init(e,a)}),TA=we("$ZodCheckIncludes",(e,a)=>{ma.init(e,a);const s=nu(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),DA=we("$ZodCheckStartsWith",(e,a)=>{ma.init(e,a);const s=new RegExp(`^${nu(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),zA=we("$ZodCheckEndsWith",(e,a)=>{ma.init(e,a);const s=new RegExp(`.*${nu(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),MA=we("$ZodCheckOverwrite",(e,a)=>{ma.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class kA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(f=>f),c=Math.min(...l.map(f=>f.length-f.trimStart().length)),d=l.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of d)this.content.push(f)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const UA={major:4,minor:1,patch:12},_n=we("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=UA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const c of l)for(const d of c._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,h,g)=>{let p=bl(f),v;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(f))continue}else if(p)continue;const N=f.issues.length,q=x._zod.check(f);if(q instanceof Promise&&g?.async===!1)throw new xl;if(v||q instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await q,f.issues.length!==N&&(p||(p=bl(f,N)))});else{if(f.issues.length===N)continue;p||(p=bl(f,N))}}return v?v.then(()=>f):f},d=(f,h,g)=>{if(bl(f))return f.aborted=!0,f;const p=c(h,l,g);if(p instanceof Promise){if(g.async===!1)throw new xl;return p.then(v=>e._zod.parse(v,g))}return e._zod.parse(p,g)};e._zod.run=(f,h)=>{if(h.skipChecks)return e._zod.parse(f,h);if(h.direction==="backward"){const p=e._zod.parse({value:f.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,f,h)):d(p,f,h)}const g=e._zod.parse(f,h);if(g instanceof Promise){if(h.async===!1)throw new xl;return g.then(p=>c(p,l,h))}return c(g,l,h)}}e["~standard"]={validate:c=>{try{const d=$E(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return FE(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),ah=we("$ZodString",(e,a)=>{_n.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??bA(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Wt=we("$ZodStringFormat",(e,a)=>{ou.init(e,a),ah.init(e,a)}),LA=we("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=sA),Wt.init(e,a)}),BA=we("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Hb(l))}else a.pattern??(a.pattern=Hb());Wt.init(e,a)}),qA=we("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=rA),Wt.init(e,a)}),IA=we("$ZodURL",(e,a)=>{Wt.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),c=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:mA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),$A=we("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=iA()),Wt.init(e,a)}),FA=we("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=nA),Wt.init(e,a)}),HA=we("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=XE),Wt.init(e,a)}),VA=we("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=JE),Wt.init(e,a)}),ZA=we("$ZodULID",(e,a)=>{a.pattern??(a.pattern=WE),Wt.init(e,a)}),GA=we("$ZodXID",(e,a)=>{a.pattern??(a.pattern=eA),Wt.init(e,a)}),PA=we("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=tA),Wt.init(e,a)}),QA=we("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=yA(a)),Wt.init(e,a)}),YA=we("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=pA),Wt.init(e,a)}),KA=we("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=gA(a)),Wt.init(e,a)}),XA=we("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=aA),Wt.init(e,a)}),JA=we("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=oA),Wt.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),WA=we("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=cA),Wt.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),eC=we("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=uA),Wt.init(e,a)}),tC=we("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=dA),Wt.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[c,d]=l;if(!d)throw new Error;const f=Number(d);if(`${f}`!==d)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function d0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const nC=we("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=fA),Wt.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{d0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function aC(e){if(!r0.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return d0(s)}const sC=we("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=r0),Wt.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{aC(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),rC=we("$ZodE164",(e,a)=>{a.pattern??(a.pattern=hA),Wt.init(e,a)});function lC(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const c=JSON.parse(atob(l));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const iC=we("$ZodJWT",(e,a)=>{Wt.init(e,a),e._zod.check=s=>{lC(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),f0=we("$ZodNumber",(e,a)=>{_n.init(e,a),e._zod.pattern=e._zod.bag.pattern??xA,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),oC=we("$ZodNumber",(e,a)=>{jA.init(e,a),f0.init(e,a)}),cC=we("$ZodUnknown",(e,a)=>{_n.init(e,a),e._zod.parse=s=>s}),uC=we("$ZodNever",(e,a)=>{_n.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function Vb(e,a,s){e.issues.length&&a.issues.push(...a0(s,e.issues)),a.value[s]=e.value}const dC=we("$ZodArray",(e,a)=>{_n.init(e,a),e._zod.parse=(s,l)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let f=0;f<c.length;f++){const h=c[f],g=a.element._zod.run({value:h,issues:[]},l);g instanceof Promise?d.push(g.then(p=>Vb(p,s,f))):Vb(g,s,f)}return d.length?Promise.all(d).then(()=>s):s}});function qc(e,a,s,l){e.issues.length&&a.issues.push(...a0(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function m0(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=CE(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function h0(e,a,s,l,c,d){const f=[],h=c.keySet,g=c.catchall._zod,p=g.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){f.push(v);continue}const x=g.run({value:a[v],issues:[]},l);x instanceof Promise?e.push(x.then(N=>qc(N,s,v,a))):qc(x,s,v,a)}return f.length&&s.issues.push({code:"unrecognized_keys",keys:f,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const fC=we("$ZodObject",(e,a)=>{if(_n.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const g={...h};return Object.defineProperty(a,"shape",{value:g}),g}})}const l=Jm(()=>m0(a));Gt(e._zod,"propValues",()=>{const h=a.shape,g={};for(const p in h){const v=h[p]._zod;if(v.values){g[p]??(g[p]=new Set);for(const x of v.values)g[p].add(x)}}return g});const c=Bc,d=a.catchall;let f;e._zod.parse=(h,g)=>{f??(f=l.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],x=f.shape;for(const N of f.keys){const j=x[N]._zod.run({value:p[N],issues:[]},g);j instanceof Promise?v.push(j.then(_=>qc(_,h,N,p))):qc(j,h,N,p)}return d?h0(v,p,h,g,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),mC=we("$ZodObjectJIT",(e,a)=>{fC.init(e,a);const s=e._zod.parse,l=Jm(()=>m0(a)),c=N=>{const q=new kA(["shape","payload","ctx"]),j=l.value,_=K=>{const D=Fb(K);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};q.write("const input = payload.value;");const C=Object.create(null);let B=0;for(const K of j.keys)C[K]=`key_${B++}`;q.write("const newResult = {};");for(const K of j.keys){const D=C[K],O=Fb(K);q.write(`const ${D} = ${_(K)};`),q.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${D}.value;
        }
        
      `)}q.write("payload.value = newResult;"),q.write("return payload;");const T=q.compile();return(K,D)=>T(N,K,D)};let d;const f=Bc,h=!e0.jitless,p=h&&EE.value,v=a.catchall;let x;e._zod.parse=(N,q)=>{x??(x=l.value);const j=N.value;return f(j)?h&&p&&q?.async===!1&&q.jitless!==!0?(d||(d=c(a.shape)),N=d(N,q),v?h0([],j,N,q,x,e):N):s(N,q):(N.issues.push({expected:"object",code:"invalid_type",input:j,inst:e}),N)}});function Zb(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!bl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(f=>Cr(f,l,Ar())))}),a)}const hC=we("$ZodUnion",(e,a)=>{_n.init(e,a),Gt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Gt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Gt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Gt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>eh(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return l(c,d);let f=!1;const h=[];for(const g of a.options){const p=g._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),f=!0;else{if(p.issues.length===0)return p;h.push(p)}}return f?Promise.all(h).then(g=>Zb(g,c,e,d)):Zb(h,c,e,d)}}),pC=we("$ZodIntersection",(e,a)=>{_n.init(e,a),e._zod.parse=(s,l)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},l),f=a.right._zod.run({value:c,issues:[]},l);return d instanceof Promise||f instanceof Promise?Promise.all([d,f]).then(([g,p])=>Gb(s,g,p)):Gb(s,d,f)}});function xm(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(Fi(e)&&Fi(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of l){const f=xm(e[d],a[d]);if(!f.valid)return{valid:!1,mergeErrorPath:[d,...f.mergeErrorPath]};c[d]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const c=e[l],d=a[l],f=xm(c,d);if(!f.valid)return{valid:!1,mergeErrorPath:[l,...f.mergeErrorPath]};s.push(f.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Gb(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),bl(e))return e;const l=xm(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const gC=we("$ZodEnum",(e,a)=>{_n.init(e,a);const s=jE(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(c=>AE.has(typeof c)).map(c=>typeof c=="string"?nu(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const f=c.value;return l.has(f)||c.issues.push({code:"invalid_value",values:s,input:f,inst:e}),c}}),yC=we("$ZodTransform",(e,a)=>{_n.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Wx(e.constructor.name);const c=a.transform(s.value,s);if(l.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(s.value=f,s));if(c instanceof Promise)throw new xl;return s.value=c,s}});function Pb(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const bC=we("$ZodOptional",(e,a)=>{_n.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Gt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Gt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${eh(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Pb(d,s.value)):Pb(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),vC=we("$ZodNullable",(e,a)=>{_n.init(e,a),Gt(e._zod,"optin",()=>a.innerType._zod.optin),Gt(e._zod,"optout",()=>a.innerType._zod.optout),Gt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${eh(s.source)}|null)$`):void 0}),Gt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),xC=we("$ZodDefault",(e,a)=>{_n.init(e,a),e._zod.optin="optional",Gt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Qb(d,a)):Qb(c,a)}});function Qb(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const SC=we("$ZodPrefault",(e,a)=>{_n.init(e,a),e._zod.optin="optional",Gt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),NC=we("$ZodNonOptional",(e,a)=>{_n.init(e,a),Gt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Yb(d,e)):Yb(c,e)}});function Yb(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const wC=we("$ZodCatch",(e,a)=>{_n.init(e,a),Gt(e._zod,"optin",()=>a.innerType._zod.optin),Gt(e._zod,"optout",()=>a.innerType._zod.optout),Gt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(f=>Cr(f,l,Ar()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>Cr(d,l,Ar()))},input:s.value}),s.issues=[]),s)}}),jC=we("$ZodPipe",(e,a)=>{_n.init(e,a),Gt(e._zod,"values",()=>a.in._zod.values),Gt(e._zod,"optin",()=>a.in._zod.optin),Gt(e._zod,"optout",()=>a.out._zod.optout),Gt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(f=>bc(f,a.in,l)):bc(d,a.in,l)}const c=a.in._zod.run(s,l);return c instanceof Promise?c.then(d=>bc(d,a.out,l)):bc(c,a.out,l)}});function bc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const _C=we("$ZodReadonly",(e,a)=>{_n.init(e,a),Gt(e._zod,"propValues",()=>a.innerType._zod.propValues),Gt(e._zod,"values",()=>a.innerType._zod.values),Gt(e._zod,"optin",()=>a.innerType._zod.optin),Gt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(Kb):Kb(c)}});function Kb(e){return e.value=Object.freeze(e.value),e}const EC=we("$ZodCustom",(e,a)=>{ma.init(e,a),_n.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,c=a.fn(l);if(c instanceof Promise)return c.then(d=>Xb(d,s,l,e));Xb(c,s,l,e)}});function Xb(e,a,s,l){if(!e){const c={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(c.params=l._zod.def.params),a.issues.push(Hi(c))}}class AC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const c={...l,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function CC(){return new AC}const vc=CC();function OC(e,a){return new e({type:"string",...We(a)})}function RC(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...We(a)})}function Jb(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...We(a)})}function TC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...We(a)})}function DC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...We(a)})}function zC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...We(a)})}function MC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...We(a)})}function kC(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...We(a)})}function UC(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...We(a)})}function LC(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...We(a)})}function BC(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...We(a)})}function qC(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...We(a)})}function IC(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...We(a)})}function $C(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...We(a)})}function FC(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...We(a)})}function HC(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...We(a)})}function VC(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...We(a)})}function ZC(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...We(a)})}function GC(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...We(a)})}function PC(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...We(a)})}function QC(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...We(a)})}function YC(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...We(a)})}function KC(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...We(a)})}function XC(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...We(a)})}function JC(e,a){return new e({type:"string",format:"date",check:"string_format",...We(a)})}function WC(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...We(a)})}function eO(e,a){return new e({type:"string",format:"duration",check:"string_format",...We(a)})}function tO(e,a){return new e({type:"number",checks:[],...We(a)})}function nO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...We(a)})}function aO(e){return new e({type:"unknown"})}function sO(e,a){return new e({type:"never",...We(a)})}function Wb(e,a){return new c0({check:"less_than",...We(a),value:e,inclusive:!1})}function Bf(e,a){return new c0({check:"less_than",...We(a),value:e,inclusive:!0})}function ev(e,a){return new u0({check:"greater_than",...We(a),value:e,inclusive:!1})}function qf(e,a){return new u0({check:"greater_than",...We(a),value:e,inclusive:!0})}function tv(e,a){return new wA({check:"multiple_of",...We(a),value:e})}function p0(e,a){return new _A({check:"max_length",...We(a),maximum:e})}function Ic(e,a){return new EA({check:"min_length",...We(a),minimum:e})}function g0(e,a){return new AA({check:"length_equals",...We(a),length:e})}function rO(e,a){return new CA({check:"string_format",format:"regex",...We(a),pattern:e})}function lO(e){return new OA({check:"string_format",format:"lowercase",...We(e)})}function iO(e){return new RA({check:"string_format",format:"uppercase",...We(e)})}function oO(e,a){return new TA({check:"string_format",format:"includes",...We(a),includes:e})}function cO(e,a){return new DA({check:"string_format",format:"starts_with",...We(a),prefix:e})}function uO(e,a){return new zA({check:"string_format",format:"ends_with",...We(a),suffix:e})}function eo(e){return new MA({check:"overwrite",tx:e})}function dO(e){return eo(a=>a.normalize(e))}function fO(){return eo(e=>e.trim())}function mO(){return eo(e=>e.toLowerCase())}function hO(){return eo(e=>e.toUpperCase())}function pO(e,a,s){return new e({type:"array",element:a,...We(s)})}function gO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...We(s)})}function yO(e){const a=bO(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push(Hi(l,s.value,a._zod.def));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(Hi(c))}},e(s.value,s)));return a}function bO(e,a){const s=new ma({check:"custom",...We(a)});return s._zod.check=e,s}function nv(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function vO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,f=l.path.join(".");if(!s[f])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[f]={message:h.message,type:h.code}}else s[f]={message:d,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),a){var g=s[f].types,p=g&&g[l.code];s[f]=Fm(f,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function xO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,f=l.path.join(".");if(!s[f])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[f]={message:h.message,type:h.code}}else s[f]={message:d,type:c};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(x){return e.push(x)})}),a){var g=s[f].types,p=g&&g[l.code];s[f]=Fm(f,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function SO(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,c,d){try{return Promise.resolve(nv(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(f){return d.shouldUseNativeValidation&&bm({},d),{errors:{},values:s.raw?Object.assign({},l):f}})},function(f){if((function(h){return Array.isArray(h?.issues)})(f))return{values:{},errors:qb(vO(f.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw f}))}catch(f){return Promise.reject(f)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,c,d){try{return Promise.resolve(nv(function(){return Promise.resolve((s.mode==="sync"?qE:IE)(e,l,a)).then(function(f){return d.shouldUseNativeValidation&&bm({},d),{errors:{},values:s.raw?Object.assign({},l):f}})},function(f){if((function(h){return h instanceof nh})(f))return{values:{},errors:qb(xO(f.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}const NO=we("ZodISODateTime",(e,a)=>{QA.init(e,a),nn.init(e,a)});function wO(e){return XC(NO,e)}const jO=we("ZodISODate",(e,a)=>{YA.init(e,a),nn.init(e,a)});function _O(e){return JC(jO,e)}const EO=we("ZodISOTime",(e,a)=>{KA.init(e,a),nn.init(e,a)});function AO(e){return WC(EO,e)}const CO=we("ZodISODuration",(e,a)=>{XA.init(e,a),nn.init(e,a)});function OO(e){return eO(CO,e)}const RO=(e,a)=>{nh.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>BE(e,s)},flatten:{value:s=>LE(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,vm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,vm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ba=we("ZodError",RO,{Parent:Error}),TO=su(Ba),DO=ru(Ba),zO=lu(Ba),MO=iu(Ba),kO=HE(Ba),UO=VE(Ba),LO=ZE(Ba),BO=GE(Ba),qO=PE(Ba),IO=QE(Ba),$O=YE(Ba),FO=KE(Ba),Tn=we("ZodType",(e,a)=>(_n.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Dr(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Xs(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>TO(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>zO(e,s,l),e.parseAsync=async(s,l)=>DO(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>MO(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>kO(e,s,l),e.decode=(s,l)=>UO(e,s,l),e.encodeAsync=async(s,l)=>LO(e,s,l),e.decodeAsync=async(s,l)=>BO(e,s,l),e.safeEncode=(s,l)=>qO(e,s,l),e.safeDecode=(s,l)=>IO(e,s,l),e.safeEncodeAsync=async(s,l)=>$O(e,s,l),e.safeDecodeAsync=async(s,l)=>FO(e,s,l),e.refine=(s,l)=>e.check(TR(s,l)),e.superRefine=s=>e.check(DR(s)),e.overwrite=s=>e.check(eo(s)),e.optional=()=>lv(e),e.nullable=()=>iv(e),e.nullish=()=>lv(iv(e)),e.nonoptional=s=>jR(e,s),e.array=()=>v0(e),e.or=s=>hR([e,s]),e.and=s=>gR(e,s),e.transform=s=>ov(e,bR(s)),e.default=s=>SR(e,s),e.prefault=s=>wR(e,s),e.catch=s=>ER(e,s),e.pipe=s=>ov(e,s),e.readonly=()=>OR(e),e.describe=s=>{const l=e.clone();return vc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return vc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return vc.get(e);const l=e.clone();return vc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),y0=we("_ZodString",(e,a)=>{ah.init(e,a),Tn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(rO(...l)),e.includes=(...l)=>e.check(oO(...l)),e.startsWith=(...l)=>e.check(cO(...l)),e.endsWith=(...l)=>e.check(uO(...l)),e.min=(...l)=>e.check(Ic(...l)),e.max=(...l)=>e.check(p0(...l)),e.length=(...l)=>e.check(g0(...l)),e.nonempty=(...l)=>e.check(Ic(1,...l)),e.lowercase=l=>e.check(lO(l)),e.uppercase=l=>e.check(iO(l)),e.trim=()=>e.check(fO()),e.normalize=(...l)=>e.check(dO(...l)),e.toLowerCase=()=>e.check(mO()),e.toUpperCase=()=>e.check(hO())}),HO=we("ZodString",(e,a)=>{ah.init(e,a),y0.init(e,a),e.email=s=>e.check(RC(VO,s)),e.url=s=>e.check(kC(ZO,s)),e.jwt=s=>e.check(KC(lR,s)),e.emoji=s=>e.check(UC(GO,s)),e.guid=s=>e.check(Jb(av,s)),e.uuid=s=>e.check(TC(xc,s)),e.uuidv4=s=>e.check(DC(xc,s)),e.uuidv6=s=>e.check(zC(xc,s)),e.uuidv7=s=>e.check(MC(xc,s)),e.nanoid=s=>e.check(LC(PO,s)),e.guid=s=>e.check(Jb(av,s)),e.cuid=s=>e.check(BC(QO,s)),e.cuid2=s=>e.check(qC(YO,s)),e.ulid=s=>e.check(IC(KO,s)),e.base64=s=>e.check(PC(aR,s)),e.base64url=s=>e.check(QC(sR,s)),e.xid=s=>e.check($C(XO,s)),e.ksuid=s=>e.check(FC(JO,s)),e.ipv4=s=>e.check(HC(WO,s)),e.ipv6=s=>e.check(VC(eR,s)),e.cidrv4=s=>e.check(ZC(tR,s)),e.cidrv6=s=>e.check(GC(nR,s)),e.e164=s=>e.check(YC(rR,s)),e.datetime=s=>e.check(wO(s)),e.date=s=>e.check(_O(s)),e.time=s=>e.check(AO(s)),e.duration=s=>e.check(OO(s))});function $c(e){return OC(HO,e)}const nn=we("ZodStringFormat",(e,a)=>{Wt.init(e,a),y0.init(e,a)}),VO=we("ZodEmail",(e,a)=>{qA.init(e,a),nn.init(e,a)}),av=we("ZodGUID",(e,a)=>{LA.init(e,a),nn.init(e,a)}),xc=we("ZodUUID",(e,a)=>{BA.init(e,a),nn.init(e,a)}),ZO=we("ZodURL",(e,a)=>{IA.init(e,a),nn.init(e,a)}),GO=we("ZodEmoji",(e,a)=>{$A.init(e,a),nn.init(e,a)}),PO=we("ZodNanoID",(e,a)=>{FA.init(e,a),nn.init(e,a)}),QO=we("ZodCUID",(e,a)=>{HA.init(e,a),nn.init(e,a)}),YO=we("ZodCUID2",(e,a)=>{VA.init(e,a),nn.init(e,a)}),KO=we("ZodULID",(e,a)=>{ZA.init(e,a),nn.init(e,a)}),XO=we("ZodXID",(e,a)=>{GA.init(e,a),nn.init(e,a)}),JO=we("ZodKSUID",(e,a)=>{PA.init(e,a),nn.init(e,a)}),WO=we("ZodIPv4",(e,a)=>{JA.init(e,a),nn.init(e,a)}),eR=we("ZodIPv6",(e,a)=>{WA.init(e,a),nn.init(e,a)}),tR=we("ZodCIDRv4",(e,a)=>{eC.init(e,a),nn.init(e,a)}),nR=we("ZodCIDRv6",(e,a)=>{tC.init(e,a),nn.init(e,a)}),aR=we("ZodBase64",(e,a)=>{nC.init(e,a),nn.init(e,a)}),sR=we("ZodBase64URL",(e,a)=>{sC.init(e,a),nn.init(e,a)}),rR=we("ZodE164",(e,a)=>{rC.init(e,a),nn.init(e,a)}),lR=we("ZodJWT",(e,a)=>{iC.init(e,a),nn.init(e,a)}),b0=we("ZodNumber",(e,a)=>{f0.init(e,a),Tn.init(e,a),e.gt=(l,c)=>e.check(ev(l,c)),e.gte=(l,c)=>e.check(qf(l,c)),e.min=(l,c)=>e.check(qf(l,c)),e.lt=(l,c)=>e.check(Wb(l,c)),e.lte=(l,c)=>e.check(Bf(l,c)),e.max=(l,c)=>e.check(Bf(l,c)),e.int=l=>e.check(sv(l)),e.safe=l=>e.check(sv(l)),e.positive=l=>e.check(ev(0,l)),e.nonnegative=l=>e.check(qf(0,l)),e.negative=l=>e.check(Wb(0,l)),e.nonpositive=l=>e.check(Bf(0,l)),e.multipleOf=(l,c)=>e.check(tv(l,c)),e.step=(l,c)=>e.check(tv(l,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function Xn(e){return tO(b0,e)}const iR=we("ZodNumberFormat",(e,a)=>{oC.init(e,a),b0.init(e,a)});function sv(e){return nO(iR,e)}const oR=we("ZodUnknown",(e,a)=>{cC.init(e,a),Tn.init(e,a)});function rv(){return aO(oR)}const cR=we("ZodNever",(e,a)=>{uC.init(e,a),Tn.init(e,a)});function uR(e){return sO(cR,e)}const dR=we("ZodArray",(e,a)=>{dC.init(e,a),Tn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(Ic(s,l)),e.nonempty=s=>e.check(Ic(1,s)),e.max=(s,l)=>e.check(p0(s,l)),e.length=(s,l)=>e.check(g0(s,l)),e.unwrap=()=>e.element});function v0(e,a){return pO(dR,e,a)}const fR=we("ZodObject",(e,a)=>{mC.init(e,a),Tn.init(e,a),Gt(e,"shape",()=>a.shape),e.keyof=()=>x0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:rv()}),e.loose=()=>e.clone({...e._zod.def,catchall:rv()}),e.strict=()=>e.clone({...e._zod.def,catchall:uR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>DE(e,s),e.safeExtend=s=>zE(e,s),e.merge=s=>ME(e,s),e.pick=s=>RE(e,s),e.omit=s=>TE(e,s),e.partial=(...s)=>kE(S0,e,s[0]),e.required=(...s)=>UE(N0,e,s[0])});function cu(e,a){const s={type:"object",shape:e??{},...We(a)};return new fR(s)}const mR=we("ZodUnion",(e,a)=>{hC.init(e,a),Tn.init(e,a),e.options=a.options});function hR(e,a){return new mR({type:"union",options:e,...We(a)})}const pR=we("ZodIntersection",(e,a)=>{pC.init(e,a),Tn.init(e,a)});function gR(e,a){return new pR({type:"intersection",left:e,right:a})}const Sm=we("ZodEnum",(e,a)=>{gC.init(e,a),Tn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,c)=>{const d={};for(const f of l)if(s.has(f))d[f]=a.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Sm({...a,checks:[],...We(c),entries:d})},e.exclude=(l,c)=>{const d={...a.entries};for(const f of l)if(s.has(f))delete d[f];else throw new Error(`Key ${f} not found in enum`);return new Sm({...a,checks:[],...We(c),entries:d})}});function x0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new Sm({type:"enum",entries:s,...We(a)})}const yR=we("ZodTransform",(e,a)=>{yC.init(e,a),Tn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Wx(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(Hi(d,s.value,a));else{const f=d;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=s.value),f.inst??(f.inst=e),s.issues.push(Hi(f))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function bR(e){return new yR({type:"transform",transform:e})}const S0=we("ZodOptional",(e,a)=>{bC.init(e,a),Tn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function lv(e){return new S0({type:"optional",innerType:e})}const vR=we("ZodNullable",(e,a)=>{vC.init(e,a),Tn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function iv(e){return new vR({type:"nullable",innerType:e})}const xR=we("ZodDefault",(e,a)=>{xC.init(e,a),Tn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function SR(e,a){return new xR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():n0(a)}})}const NR=we("ZodPrefault",(e,a)=>{SC.init(e,a),Tn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function wR(e,a){return new NR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():n0(a)}})}const N0=we("ZodNonOptional",(e,a)=>{NC.init(e,a),Tn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function jR(e,a){return new N0({type:"nonoptional",innerType:e,...We(a)})}const _R=we("ZodCatch",(e,a)=>{wC.init(e,a),Tn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function ER(e,a){return new _R({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const AR=we("ZodPipe",(e,a)=>{jC.init(e,a),Tn.init(e,a),e.in=a.in,e.out=a.out});function ov(e,a){return new AR({type:"pipe",in:e,out:a})}const CR=we("ZodReadonly",(e,a)=>{_C.init(e,a),Tn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function OR(e){return new CR({type:"readonly",innerType:e})}const RR=we("ZodCustom",(e,a)=>{EC.init(e,a),Tn.init(e,a)});function TR(e,a={}){return gO(RR,e,a)}function DR(e){return yO(e)}const zR=["correlativo","no correlativo"],MR=cu({oi:$c().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:Xn(),alcance:Xn(),pma:Xn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:x0(zR).default("correlativo")}),If=cu({c1:Xn().optional().nullable(),c2:Xn().optional().nullable(),c3:Xn().optional().nullable(),c4:Xn().optional().nullable(),c5:Xn().optional().nullable(),c6:Xn().optional().nullable(),c7:$c().optional().nullable(),c7_seconds:Xn().optional().nullable(),caudal:Xn().optional().nullable(),error:Xn().optional().nullable()}),kR=cu({medidor:$c().optional(),estado:Xn().int().min(0).max(5).default(0),q3:If.optional(),q2:If.optional(),q1:If.optional(),conformidad:$c().optional()});cu({estado:Xn().int().min(0).optional(),rows:Xn().int().min(1).default(15),rowsData:v0(kR)});function UR(e){return e===16?25.6:e===10?16:NaN}const LR=/^[A-Za-z0-9]{10}$/,BR=e=>(e??"").trim().toUpperCase(),rn=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},ml=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],Nm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},cv=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}Nm(a)}},kn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function qR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],c=s[2],d=parseInt(c,10)+a;return`${l}${d.toString().padStart(c.length,"0")}`}function uv(e,a,s){return e?s==="no correlativo"?e.slice(0,4):qR(e,a):""}function $f(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let l=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,f=s[2]||0;l=c*60+d+f/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),f=(c-d)*100;l=d*60+f}}return l}function Ff(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function Hf(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function IR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const c=Math.abs(a),d=Math.abs(s),f=Math.abs(l),h=!(c>2.05||d>2.05||f>5.05),g=c<1.05||d<1.05||f<2.55,p=Math.sign(a),v=Math.sign(s),x=Math.sign(l),N=p>=0&&v>=0&&x>=0||p<=0&&v<=0&&x<=0,q=h&&g;return N?q?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const hl=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const c=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return i.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?i.jsx("span",{className:"text-muted",children:"-"}):i.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),f=s??l??0,h=l??s??0;let g="vi-e-ok";return e==null||isNaN(e)?g="":h>0&&d>h?g="vi-e-error":f>0&&d>f&&(g="vi-e-warn"),i.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?i.jsx("span",{className:"text-muted",children:"-"}):i.jsx("span",{className:`vi-qe-value fw-bold ${g}`,children:c(e)})})};function $R({show:e,title:a,initial:s,onClose:l,onSubmit:c,onCancelWithDraft:d,numerationType:f,duplicateMap:h,onClearDuplicate:g,readOnly:p,draftStorageKey:v,draftMeta:x,isOnline:N,showRetry:q}){const j={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},_=p===!0,C=N!==!1,{register:B,control:T,handleSubmit:K,reset:D,setValue:O,getValues:V}=Qc({defaultValues:j}),U=B("rows",{valueAsNumber:!0}),{fields:X,replace:ce,append:_e,remove:xe}=p_({control:T,name:"rowsData"}),[me,Se]=b.useState(0),De=b.useRef(0),Oe=b.useRef(null),[M,I]=b.useState(0),ee=0,ye=5,je=()=>{if(M>=ye){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}I(Y=>Math.min(Y+1,ye))},w=()=>{if(M<=ee){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}I(Y=>Math.max(Y-1,ee))},G=b.useRef(null),[ie,k]=b.useState([]),oe=!!s?.version,pe=b.useRef("rows"),Re=b.useRef(null),$e=b.useRef(null),de=b.useRef(null),Me=b.useRef(new Map),Ie=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{s?.rowsData?.length&&X.forEach((Y,te)=>{if(te===0)return;s.rowsData[te]?.medidor&&Me.current.set(Y.id,!0)})},[s,X]);const Ze=b.useCallback(Y=>{const te=Y<0?0:Y;Se(te),requestAnimationFrame(()=>{const Ae=document.querySelector(`input.vi-medidor-input[data-row="${te}"]`);Ae&&(Ae.focus(),Ae.select())})},[]),dt=()=>(V("rowsData")??[]).slice(0,X.length);b.useEffect(()=>{De.current=me},[me]);const Te=Y=>{const te=Y.target;if(!te)return;const Ae=te.tagName;if(Ae!=="INPUT"&&Ae!=="SELECT"&&Ae!=="TEXTAREA")return;const Ge=Y.key;if(Ge==="Escape"){Y.preventDefault(),Hn();return}if(Ge==="ArrowUp"||Ge==="ArrowDown"||Ge==="ArrowLeft"||Ge==="ArrowRight"||Ge==="Enter"){const pn=te.name;if(!pn||!pn.startsWith("rowsData."))return;const Et=pn.match(/^rowsData\.(\d+)\.(.+)$/);if(!Et)return;const lt=parseInt(Et[1],10),bt=Et[2],Ht=Y.currentTarget,on=X.length-1,En=(gn,cn)=>{let Zt=gn+cn;for(;Zt>=0&&Zt<=on;){const Dn=`[name="rowsData.${Zt}.${bt}"]`,Ot=Ht.querySelector(Dn);if(Ot&&!Ot.disabled)return{index:Zt,el:Ot};Zt+=cn}return null};if(Ge==="ArrowUp"||Ge==="ArrowDown"){Y.preventDefault();const cn=En(lt,Ge==="ArrowUp"?-1:1);cn&&cv(bt,cn.el);return}if(Ge==="ArrowLeft"||Ge==="ArrowRight"){Y.preventDefault();const gn=ml.indexOf(bt);if(gn===-1)return;const Zt=gn+(Ge==="ArrowRight"?1:-1);if(Zt<0||Zt>=ml.length)return;const Dn=ml[Zt],Ot=`[name="rowsData.${lt}.${Dn}"]`,un=Ht.querySelector(Ot);un&&!un.disabled&&Nm(un);return}if(Ge==="Enter"){Y.preventDefault();const gn=ml.indexOf(bt);if(gn===-1)return;const cn=En(lt,1);if(cn){cv(bt,cn.el);return}const Zt=gn+1;if(Zt<ml.length){const Dn=ml[Zt];for(let Ot=0;Ot<=on;Ot++){const un=`[name="rowsData.${Ot}.${Dn}"]`,Zn=Ht.querySelector(un);if(Zn&&!Zn.disabled){Nm(Zn);return}}}G.current&&G.current.focus();return}}if(Ge!=="Tab")return;const nt=Y.currentTarget,rt=Array.from(nt.querySelectorAll("input, select, textarea")).filter(kt=>!kt.hasAttribute("disabled")),Ye=rt.indexOf(te);if(Ye===-1)return;if(Ge==="Tab"&&Y.shiftKey){Ye>0&&(Y.preventDefault(),rt[Ye-1].focus());return}const Mt=Ye+1;if(Mt<rt.length){Y.preventDefault(),rt[Mt].focus();return}G.current&&(Y.preventDefault(),G.current.focus())},He=(Y,te)=>{ce(Y),O("rows",Y.length),Se(Ae=>Y.length===0?0:typeof te=="number"?Math.max(0,Math.min(te,Y.length-1)):Math.min(Ae,Y.length-1))},fe=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Fe=Y=>Y==null?"":typeof Y=="number"?Y:typeof Y=="string"?Y.replace(",","."):Y,Ee=Y=>{if(!Y)return{};const te={...Y};return["c1","c2","c3","c4","c5","c6"].forEach(Ae=>{te[Ae]=Fe(te[Ae])}),te},Je=()=>{const Y=s?.rowsData?.length??s?.rows??15,te=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:Y}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(Ae=>({medidor:Ae.medidor??"",estado:Ae.estado??0,q3:Ee(Ae.q3),q2:Ee(Ae.q2),q1:Ee(Ae.q1)}));return{rows:te.length,rowsData:te,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},A=b.useCallback(()=>{const Y=V(),te=Y.rowsData??[];return{estado:Y.estado??0,rows:Number(Y.rows??te.length),version:Y.version??s?.version??null,rowsData:te,draftCreatedAt:Y.draftCreatedAt??s?.draftCreatedAt??null,draftId:Y.draftId??s?.draftId??null}},[V,s?.version,s?.draftCreatedAt,s?.draftId]),H=Y=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:Y}:null,R=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,P=Y=>Y==null||Y===""||typeof Y=="number"&&Number.isNaN(Y),Z=Y=>Y?Number(Y.estado??0)!==0||Y.medidor&&Y.medidor.toString().trim()!==""?!0:Ce(Y):!1,se=Y=>(Y.rowsData??[]).some(Ae=>Z(Ae)),Ce=Y=>{const te=[Y.q3,Y.q2,Y.q1];for(const Ae of te)if(Ae){for(const Ge of Ie)if(!P(Ae[Ge]))return!0}return!1},Le=Y=>Y?{...Y,c4:null,c5:null}:{c4:null,c5:null},ae=Y=>{if(!Y)return Y;const te={...Y};return P(te.c4)&&(te.c4=null),P(te.c5)&&(te.c5=null),te},ke=Y=>{for(let te=0;te<Y.length;te++){const Ae=Y[te],Ge=Number(Ae.estado??0),nt=Ge!==0;if(!Z(Ae))continue;if(!Ae.medidor||Ae.medidor.toString().trim()==="")return`La fila ${te+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Ye=[{name:"Q3 (Nominal)",block:Ae.q3},{name:"Q2 (Transicin)",block:Ae.q2},{name:"Q1 (Mnimo)",block:Ae.q1}],zt=Ye.some(({block:Mt})=>Mt&&Ie.some(kt=>!P(Mt[kt])));if(Ge===0&&!zt)return`La fila ${te+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!nt)for(const{name:Mt,block:kt}of Ye){if(!kt||!Ie.some(lt=>!P(kt[lt])))continue;if(Ie.some(lt=>P(kt[lt])))return`La fila ${te+1} tiene datos incompletos en el bloque ${Mt}. Completa todos los campos o elimina la fila.`}}return null},Ve=Y=>Y==null||Y===""?null:String(Y).replace(/\./g,","),at=Y=>{if(!Y)return{};const te={...Y};return["c1","c2","c3","c4","c5","c6","c7"].forEach(Ae=>{te[Ae]=Ve(te[Ae])}),te},en=Y=>{const te=[];let Ae=null;const Ge=(rt,Ye,zt)=>{te[rt]||(te[rt]={}),te[rt][Ye]=zt,Ae||(Ae=`Fila ${rt+1}: ${zt}`)},nt={};return Y.forEach(rt=>{const Ye=(rt.medidor??"").trim();Ye&&(nt[Ye]=(nt[Ye]??0)+1)}),Y.forEach((rt,Ye)=>{const zt=rt.q3||{},Mt=rt.q2||{},kt=rt.q1||{},pn=zt.c4,Et=zt.c5,lt=Mt.c4,bt=Mt.c5,Ht=kt.c4,on=kt.c5;pn!=null&&Et!=null&&!Number.isNaN(pn)&&!Number.isNaN(Et)&&Et<pn&&Ge(Ye,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),lt!=null&&bt!=null&&!Number.isNaN(lt)&&!Number.isNaN(bt)&&bt<lt&&Ge(Ye,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),Ht!=null&&on!=null&&!Number.isNaN(Ht)&&!Number.isNaN(on)&&on<Ht&&Ge(Ye,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),Et!=null&&lt!=null&&!Number.isNaN(Et)&&!Number.isNaN(lt)&&lt<Et&&Ge(Ye,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),bt!=null&&Ht!=null&&!Number.isNaN(bt)&&!Number.isNaN(Ht)&&Ht<bt&&Ge(Ye,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const En=(rt.medidor??"").trim();En&&nt[En]>1&&Ge(Ye,"medidor_dup","Serie de medidor repetida."),En&&!LR.test(En)&&Ge(Ye,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:te,firstMessage:Ae}},Ne=Y=>{if(_)return;const te=(Y.rowsData??[]).slice(0,X.length),Ae=ke(te);if(Ae){alert(Ae);return}const{rowErrors:Ge,firstMessage:nt}=en(te);if(k(Ge),nt){alert(nt);return}const Ye=te.filter(Z).map(Mt=>{const kt=Number(Mt.estado??0),pn=kt>=1&&kt<=4,Et=kt===5&&!Ce(Mt),lt=pn||Et,bt=ae(Mt.q3),Ht=ae(Mt.q2),on=ae(Mt.q1),En=gn=>{if(lt){const cn=Le(gn);return at(cn)}return at(gn)};return{...Mt,q3:En(bt),q2:En(Ht),q1:En(on)}}),zt={...Y,rows:Ye.length,rowsData:Ye,version:Y.version??s?.version??null};c(zt)},et=Oi({control:T,name:"rowsData.0"}),Dt=Oi({control:T,name:"rowsData"}),_t=Oi({control:T,name:"rowsData.0.q3.c7"}),hn=Oi({control:T,name:"rowsData.0.q2.c7"}),ln=Oi({control:T,name:"rowsData.0.q1.c7"});b.useEffect(()=>{X[0]&&(O("rowsData.0.q3.c7_seconds",$f(_t)),O("rowsData.0.q2.c7_seconds",$f(hn)),O("rowsData.0.q1.c7_seconds",$f(ln)))},[_t,hn,ln,O,X]),b.useEffect(()=>{const Y=Dt??[],{rowErrors:te}=en(Y);k(te)},[Dt]),b.useEffect(()=>{if(!et||X.length<=1)return;const Y=Dt??[];X.forEach((te,Ae)=>{if(Ae===0)return;const Ge=te.id;(Me.current.get(Ge)??!1)||O(`rowsData.${Ae}.medidor`,uv(et.medidor||"",Ae,f));const rt=Y[Ae]?.estado;(rt==null||Number.isNaN(rt))&&O(`rowsData.${Ae}.estado`,et.estado),O(`rowsData.${Ae}.q3.c1`,et.q3?.c1??null),O(`rowsData.${Ae}.q3.c2`,et.q3?.c2??null),O(`rowsData.${Ae}.q3.c3`,et.q3?.c3??null),O(`rowsData.${Ae}.q3.c6`,et.q3?.c6??null),O(`rowsData.${Ae}.q3.c7`,et.q3?.c7??""),O(`rowsData.${Ae}.q3.c7_seconds`,et.q3?.c7_seconds??null),O(`rowsData.${Ae}.q2.c1`,et.q2?.c1??null),O(`rowsData.${Ae}.q2.c2`,et.q2?.c2??null),O(`rowsData.${Ae}.q2.c3`,et.q2?.c3??null),O(`rowsData.${Ae}.q2.c6`,et.q2?.c6??null),O(`rowsData.${Ae}.q2.c7`,et.q2?.c7??""),O(`rowsData.${Ae}.q2.c7_seconds`,et.q2?.c7_seconds??null),O(`rowsData.${Ae}.q1.c1`,et.q1?.c1??null),O(`rowsData.${Ae}.q1.c2`,et.q1?.c2??null),O(`rowsData.${Ae}.q1.c3`,et.q1?.c3??null),O(`rowsData.${Ae}.q1.c6`,et.q1?.c6??null),O(`rowsData.${Ae}.q1.c7`,et.q1?.c7??""),O(`rowsData.${Ae}.q1.c7_seconds`,et.q1?.c7_seconds??null)})},[et,Dt,X,O,f]),b.useEffect(()=>{Se(Y=>{const te=Math.max(X.length-1,0);return Y>te?te:Y})},[X.length]);const ha=()=>{if(X.length>=50){if(O("rows",50),Ze(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){Oe.current&&(Oe.current.focus(),Oe.current.select());return}return}_e(fe()),O("rows",X.length+1),Ze(X.length)},Fn=Y=>{if(X.length<=1)return;const te=Math.max(0,Math.min(Y,X.length-1));xe(te),O("rows",Math.max(X.length-1,1)),Ze(Math.max(0,te-(te===X.length-1?1:0)))},st=()=>{X.length<=1||(xe(X.length-1),O("rows",Math.max(X.length-1,1)),Ze(Math.max(0,X.length-2)))},Un=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const Y=dt();if(!Y.length)return;const te=Y.map(()=>fe());He(te,0),Ze(0)},ea=()=>{let Y=Number(V("rows"));if((!Number.isFinite(Y)||Y<1)&&(Y=1),Y>50){const Ge=dt();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){O("rows",Ge.length),Oe.current&&(Oe.current.focus(),Oe.current.select());return}Y=50}const te=dt();if(Y!==te.length&&!confirm(`La lista tendr ${Y} filas. Quieres continuar?`)){O("rows",te.length),Oe.current&&(Oe.current.focus(),Oe.current.select());return}if(Y===te.length){O("rows",Y);return}if(Y>te.length){const Ge=Math.min(Y,50)-te.length;if(Ge>0){const nt=Array.from({length:Ge},()=>fe()),rt=[...te,...nt];He(rt,me),Ze(te.length)}else O("rows",te.length);return}const Ae=te.slice(0,Y);He(Ae,Math.min(me,Y-1))},pa=Y=>{Y.key==="Enter"&&(Y.preventDefault(),ea(),Ze(0))},Hn=()=>{const Y=V(),te=document.activeElement;if(Oe.current&&te===Oe.current)pe.current="rows",Re.current="rows";else if(te&&te instanceof HTMLElement){const Ae=te.getAttribute("name");Ae&&Ae.startsWith("rowsData.")?(pe.current="grid",Re.current=Ae):(pe.current="grid",Re.current=null)}else pe.current="grid",Re.current=null;if(v){const Ae=A();if(!se(Ae))Ps(v),de.current=null;else{const Ge=H(Ae);if(Ge){const nt=JSON.stringify(Ge);ki(v,Ge,R()),de.current=nt}}}d&&d(Y),l()};b.useEffect(()=>{if(!e)return;const Y=te=>{if(te.key==="Escape"){te.preventDefault(),Hn();return}if((te.key==="+"||te.key==="=")&&te.ctrlKey){te.preventDefault(),ha();return}(te.key==="-"||te.key==="_")&&te.ctrlKey&&(te.preventDefault(),st())};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[e,ha,st,Hn]),b.useEffect(()=>{const Y=Je();D(Y),He(Y.rowsData,0),Me.current.clear(),requestAnimationFrame(()=>{if(oe)Ze(0);else if(Re.current){const te=document.querySelector(`[name="${Re.current}"]`);if(te){te.focus(),"select"in te&&te.select?.();return}Ze(De.current||0)}else Oe.current&&(Oe.current.focus(),Oe.current.select())})},[s,D,ce,Ze,oe]),b.useEffect(()=>{if(!e||!v)return;const Y=A();if(!se(Y)){Ps(v),de.current=null;return}const te=H(Y);if(!te)return;const Ae=JSON.stringify(te);if(Ae!==de.current)return $e.current&&window.clearTimeout($e.current),$e.current=window.setTimeout(()=>{ki(v,te,R()),de.current=Ae},400),()=>{$e.current&&window.clearTimeout($e.current)}},[e,v,Dt,A]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(oe)Ze(0);else if(Re.current){const Y=document.querySelector(`[name="${Re.current}"]`);if(Y){Y.focus(),"select"in Y&&Y.select?.();return}Ze(De.current||0)}else Oe.current&&(Oe.current.focus(),Oe.current.select())})},[e,Ze,oe]);const Vn=ie.some(Y=>Y&&Object.values(Y).some(Boolean));return e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:Y=>{Y.target===Y.currentTarget&&Hn()},children:[i.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),i.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:i.jsx("div",{className:"modal-content",children:i.jsxs("form",{onSubmit:K(Ne),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:a}),i.jsx("button",{type:"button",className:"btn-close",onClick:Hn,"aria-label":"Close"})]}),i.jsx("fieldset",{disabled:_,children:i.jsxs("div",{className:"modal-body p-2",children:[!C&&i.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),i.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[i.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[i.jsx("label",{className:"form-label mb-1",children:"Filas"}),i.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...U,ref:Y=>{Oe.current=Y,U.ref(Y)},onBlur:ea,onKeyDown:pa})]}),i.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:ha,children:"+ Agregar Fila"}),i.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:st,children:"- Quitar ltima fila"}),i.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Un,children:"Limpiar Todo"})]}),i.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:je,children:"Aumentar tamao"}),i.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:w,children:"Reducir tamao"})]}),i.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",me+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),i.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:i.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${M}`,children:[i.jsxs("thead",{className:"table-light sticky-top z-1",children:[i.jsxs("tr",{children:[i.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),i.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),i.jsx("th",{style:{width:"90px"},children:"Estado"}),i.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),i.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),i.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),i.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),i.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),i.jsxs("tr",{style:{fontSize:"0.75rem"},children:[i.jsx("th",{className:"vi-row-index"}),i.jsx("th",{className:"vi-sticky-medidor"}),i.jsx("th",{}),i.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),i.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),i.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),i.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),i.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),i.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),i.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),i.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),i.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),i.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),i.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),i.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),i.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),i.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),i.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),i.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),i.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),i.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),i.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),i.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),i.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),i.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),i.jsx("th",{className:"vi-header-quitar"})]})]}),i.jsx("tbody",{onKeyDown:Te,children:X.map((Y,te)=>{const Ae=te===0,Ge=Dt?.[te]||{},nt=ie[te]||{},rt=Number(Ge.estado??0),Ye=rt>=1&&rt<=4,zt=Ge.q3?.c6,Mt=Ge.q3?.c7_seconds,kt=Ge.q3?.c4,pn=Ge.q3?.c5,Et=Ff(zt,Mt),lt=Hf(kt,pn,zt),bt=Ge.q2?.c6,Ht=Ge.q2?.c7_seconds,on=Ge.q2?.c4,En=Ge.q2?.c5,gn=Ff(bt,Ht),cn=Hf(on,En,bt),Zt=Ge.q1?.c6,Dn=Ge.q1?.c7_seconds,Ot=Ge.q1?.c4,un=Ge.q1?.c5,Zn=Ff(Zt,Dn),An=Hf(Ot,un,Zt),Ut=IR(Ge.estado,lt,cn,An),bs=[Ae?"vi-base-row":"",me===te?"table-active":""].filter(Boolean).join(" "),Ln=B(`rowsData.${te}.medidor`),yn=BR(Ge.medidor??""),Q=yn?h?.[yn]?.message:"",be=nt.medidor_format||nt.medidor_dup||Q||"",Ue=!!be,Be=(Ut||"").toUpperCase(),wt=Be==="NO CONFORME"?"vi-at-valor--fail":Be==="CONFORME"?"vi-at-valor--ok":"";return i.jsxs("tr",{className:bs,onMouseEnter:()=>Se(te),onClick:()=>Se(te),onFocusCapture:()=>Se(te),children:[i.jsx("td",{className:"small vi-row-index",children:te+1}),i.jsx("td",{className:"vi-sticky-medidor",children:i.jsx("input",{"data-row":te,"data-row-id":Y.id,...Ln,size:1,style:{minWidth:"100%"},disabled:Ye,onInput:rn,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Ue?"vi-error-cell":""].filter(Boolean).join(" "),title:be||"",onChange:jt=>{const Yn=V(`rowsData.${te}.medidor`);if(Ln.onChange(jt),g?.(Yn),te===0)return;const ta=jt.currentTarget.value.trim();if(!ta){Me.current.delete(Y.id);return}const bn=uv(et?.medidor??"",te,f);bn&&bn===ta?Me.current.delete(Y.id):Me.current.set(Y.id,!0)}})}),i.jsx("td",{children:i.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...B(`rowsData.${te}.estado`,{valueAsNumber:!0}),children:[i.jsx("option",{value:0,children:"0"}),i.jsx("option",{value:1,children:"1"}),i.jsx("option",{value:2,children:"2"}),i.jsx("option",{value:3,children:"3"}),i.jsx("option",{value:4,children:"4"}),i.jsx("option",{value:5,children:"5"})]})}),i.jsx("td",{className:"border-start border-dark",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q3.c1`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q3.c2`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q3.c3`,{setValueAs:kn})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ye,onInput:rn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q3_li?" vi-error-cell":""),title:nt.q3_li||"",...B(`rowsData.${te}.q3.c4`,{setValueAs:kn})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ye,onInput:rn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q3_lf?" vi-error-cell":""),title:nt.q3_lf||"",...B(`rowsData.${te}.q3.c5`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q3.c6`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q3.c7`),placeholder:"m,ss,ms"})}),i.jsx(hl,{val:Et}),i.jsx(hl,{val:lt,isErr:!0,warnThreshold:2,failThreshold:5}),i.jsx("td",{className:"border-start border-dark",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q2.c1`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q2.c2`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q2.c3`,{setValueAs:kn})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ye,onInput:rn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q2_li?" vi-error-cell":""),title:nt.q2_li||"",...B(`rowsData.${te}.q2.c4`,{setValueAs:kn})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ye,onInput:rn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q2_lf?" vi-error-cell":""),title:nt.q2_lf||"",...B(`rowsData.${te}.q2.c5`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q2.c6`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q2.c7`),placeholder:"m,ss,ms"})}),i.jsx(hl,{val:gn}),i.jsx(hl,{val:cn,isErr:!0,warnThreshold:2,failThreshold:5}),i.jsx("td",{className:"border-start border-dark",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q1.c1`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q1.c2`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q1.c3`,{setValueAs:kn})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Ye,onInput:rn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q1_li?" vi-error-cell":""),title:nt.q1_li||"",...B(`rowsData.${te}.q1.c4`,{setValueAs:kn})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ye,onInput:rn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q1_lf?" vi-error-cell":""),title:nt.q1_lf||"",...B(`rowsData.${te}.q1.c5`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q1.c6`,{setValueAs:kn})})}),i.jsx("td",{children:i.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:rn,disabled:!Ae||Ye,...B(`rowsData.${te}.q1.c7`),placeholder:"m,ss,ms"})}),i.jsx(hl,{val:Zn}),i.jsx(hl,{val:An,isErr:!0,warnThreshold:5,failThreshold:5}),i.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${wt}`,children:Ut}),i.jsx("td",{className:"text-center align-middle bg-light",children:i.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:jt=>{jt.stopPropagation(),Fn(te)},disabled:X.length<=1,title:"Eliminar esta fila",children:""})})]},Y.id)})})]})})]})}),i.jsxs("div",{className:"modal-footer py-1",children:[i.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Hn,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:G,disabled:Vn||_,children:q&&C?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),i.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function uu({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[f,h]=b.useState(""),g=b.useRef(null),p=f.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>g.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const x=N=>{N.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const v=x=>{x.preventDefault(),p&&d(f.trim())};return i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:i.jsx("div",{className:"modal-dialog",children:i.jsxs("form",{className:"modal-content",onSubmit:v,children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"mb-3",children:[i.jsx($i,{label:"Contrasea",inputId:"pwd",value:f,onChange:x=>h(x.target.value),inputRef:g,minLength:1,required:!0}),i.jsx("div",{className:"form-text",children:l})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:c,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function FR(e,a){try{const{data:s}=await Ke.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function HR(e,a){try{const{data:s}=await Ke.patch(`/oi/${e}/code`,{code:a});return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar el codigo de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function VR(e,a){try{const{data:s}=await Ke.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function ZR(e){try{const{data:a}=await Ke.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function dv(e,a){try{const{data:s}=await Ke.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),f=new Error(c);throw f.status=s?.response?.status,Array.isArray(d)&&(f.duplicates=d),f}}async function GR(e,a){try{const{data:s}=await Ke.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),f=new Error(c);throw f.status=s?.response?.status,Array.isArray(d)&&(f.duplicates=d),f}}async function PR(e,a){try{const{data:s}=await Ke.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function QR(e,a){try{const{data:s}=await Ke.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function fv(e){try{await Ke.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function w0(e,a){let s;try{s=await Ke.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const N=await x.text();try{const j=JSON.parse(N)?.detail;typeof j=="string"?v=j:Array.isArray(j)&&j.length>0?v=j.map(_=>String(_?.msg??"")).filter(Boolean).join(", "):N&&(v=N)}catch{N&&(v=N)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=s.data,f=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),g=document.createElement("a");g.href=h,g.download=f,document.body.appendChild(g),g.click(),URL.revokeObjectURL(h),g.remove()}async function YR(e){await Ke.delete(`/oi/${e}`)}async function KR(e){try{const{data:a}=await Ke.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function Sc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Ke.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function XR(e,a){try{const{data:s}=await Ke.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(l);throw c.status=s?.response?.status,c}}async function Vf(e){try{const{data:a}=await Ke.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function JR(e){try{const{data:a}=await Ke.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function WR(e){let a;try{a=await Ke.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(f){let h=f?.message??"No se pudo exportar el CSV";const g=f?.response?.data;if(g instanceof Blob)try{const v=await g.text();try{const N=JSON.parse(v)?.detail;typeof N=="string"?h=N:Array.isArray(N)&&N.length>0?h=N.map(q=>String(q?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=f?.response?.data?.detail??h;const p=new Error(h);throw p.status=f?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function eT(){try{const{data:e}=await Ke.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function Zf(e){try{const{data:a}=await Ke.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const sh="vi.currentOI";function Ui(e){sessionStorage.setItem(sh,JSON.stringify(e))}function mv(){const e=sessionStorage.getItem(sh);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function wm(){sessionStorage.removeItem(sh)}const Gf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Pf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},tT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Gf(e.q3),q2:Gf(e.q2),q1:Gf(e.q1)}),nT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Pf(e.q3),q2:Pf(e.q2),q1:Pf(e.q1)}),j0=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),aT=e=>e.reduce((a,s)=>a+(s.rows??0),0),sT=e=>JSON.parse(JSON.stringify(e)),hv=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),pv=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:j0(e),rT=(e,a)=>e==="view"&&a?"view":"edit",gv=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}T${c(l.getHours())}:${c(l.getMinutes())}`},lT=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},_0=e=>(e??"").trim().toUpperCase(),iT=e=>{const a={};e.forEach(l=>{const c=_0(l.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),l.bancada_item!=null&&!a[c].items.includes(l.bancada_item)&&a[c].items.push(l.bancada_item),l.bancada_id!=null&&!a[c].ids.includes(l.bancada_id)&&a[c].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,g)=>h-g).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},oT="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",cT=(e,a=!0)=>{const l=b.useContext(Ua)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const c=l.block(d=>{const f={...d,retry(){c(),d.retry()}};e(f)});return c},[l,e,a])},uT=e=>{const a=Ke.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},dT=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Nc=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function yv(){const{toast:e}=Rr(),a=Or(),s=Wn(),{oiId:l}=xw(),[c,d]=Hv(),f=dT(),{data:h}=_r({queryKey:["catalogs"],queryFn:Km}),{register:g,handleSubmit:p,watch:v,formState:{errors:x},reset:N,getValues:q}=Qc({resolver:SO(MR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),j=Rn(),_=j?.userId??null,C=j?.bancoId??Ii(),B=Ma(j?.role,j?.username)!=="technician",T=mv(),K=l?Number(l):null,D=Number.isFinite(K)?K:null,O=D!=null||(T?.id??null)!=null,V=(c.get("mode")||"").toLowerCase(),U=rT(V,O),X=U==="view",ce=U==="edit",[_e,xe]=b.useState(!1),[me,Se]=b.useState(!1),[De,Oe]=b.useState(null),[M,I]=b.useState(null),[ee,ye]=b.useState(!1),je=me||X,[w,G]=b.useState(!1),[ie,k]=b.useState(null),[oe,pe]=b.useState(null),[Re,$e]=b.useState(null),[de,Me]=b.useState(!1),[Ie,Ze]=b.useState(""),[dt,Te]=b.useState(null),[He,fe]=b.useState("bancada"),[Fe,Ee]=b.useState(!1),[Je,A]=b.useState(!1),[H,R]=b.useState(null),P=b.useRef([]),Z=b.useRef(null),se=b.useRef(!1),Ce=b.useRef(!1),Le=b.useRef(!1),ae=b.useRef(null),ke=b.useRef(!1),Ve=b.useRef(f),at=b.useRef(!1),en=b.useRef(!1),[Ne,et]=b.useState(null),[Dt,_t]=b.useState(null),[hn,ln]=b.useState([]),[ha,Fn]=b.useState(!1),[st,Un]=b.useState(null),[ea,pa]=b.useState(!1),[Hn,Vn]=b.useState(null),[Y,te]=b.useState(0),[Ae,Ge]=b.useState({}),[nt,rt]=b.useState({}),Ye=s.state?.returnTo,zt=()=>typeof Ye=="string"&&Ye?Ye:"/oi/list",Mt=E=>{const F=new URLSearchParams(c);F.set("mode",E),d(F,{replace:!0})},kt="new",pn=15,Et=E=>E?`bancada-${E.id}`:kt,lt=E=>E==null?!1:typeof E=="string"?E.trim()!=="":typeof E=="number"?Number.isFinite(E):!0,bt=E=>E==="c7_seconds"||E==="caudal"||E==="error",Ht=E=>E?Object.entries(E).some(([F,he])=>bt(F)?!1:lt(he)):!1,on=E=>!E||!Array.isArray(E.rowsData)?!1:E.rowsData.some(F=>{if(!F)return!1;if(Number(F.estado??0)!==0)return!0;const ze=F.medidor;return typeof ze=="string"&&ze.trim()!==""?!0:Ht(F.q3)||Ht(F.q2)||Ht(F.q1)}),En=(E=pn)=>Array.from({length:E}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),gn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,cn=E=>({draftId:gn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:pn,rowsData:En(),version:null}),Zt=E=>{const F=new URLSearchParams(s.search);F.set("mode","edit");const he=s.pathname==="/oi"||s.pathname==="/oi/"?E?`/oi/${E}`:"/oi":s.pathname,ze=F.toString();return ze?`${he}?${ze}`:he},Dn=(E,F)=>!E||!_||C==null?null:{version:1,ts:new Date().toISOString(),userId:_,bankId:C,oiId:E,oiCode:q("oi")??null,returnTo:Zt(E),mode:"edit",modal:F},Ot=()=>{if(ha)return st?{type:"bancada",bancadaId:st.id}:{type:"bancada",isNew:!0}},un=E=>Mf({userId:_,bankId:C,oiId:E,type:"bancada",isNew:!0}),Zn=E=>{const F=un(E);if(!F)return null;const he=kf(F);if(!he||!_||C==null||!E||he.userId!==_||he.bankId!==C||he.oiId!==E)return null;const ze=he?.data??null;return on(ze)?ze:(Ps(F),null)},An=(E,F)=>{const he=un(E);if(!he)return;if(!F||!on(F)){Ps(he);return}if(!_||C==null||!E)return;const ze={version:1,ts:new Date().toISOString(),userId:_,bankId:C,oiId:E,isNew:!0,data:F},it=Dn(E,{type:"bancada",isNew:!0});ki(he,ze,it)},Ut=E=>Mf({userId:_,bankId:C,oiId:E,type:"header"}),bs=E=>{if(!E)return null;const F=kf(E);return!F||!_||C==null||F.userId!==_||F.bankId!==C||Ne!=null&&F.oiId!==Ne?null:F?.data??null},Ln=(E,F)=>{if(!E||!_||C==null)return;const he=Ne??0,ze={version:1,ts:new Date().toISOString(),userId:_,bankId:C,oiId:he,data:F},it=Dn(Ne,Ot());ki(E,ze,it)},yn=E=>{E&&Ps(E)},Q=E=>{const F={};return E.q3!=null&&(F.q3=Number(E.q3)),E.alcance!=null&&(F.alcance=Number(E.alcance)),E.pma!=null&&(F.pma=Number(E.pma)),E.numeration_type&&(F.numeration_type=E.numeration_type),F},be=(E,F)=>Mf({userId:_,bankId:C,oiId:E,type:"bancada",bancadaId:F}),Ue=(E,F)=>{const he=be(E,F);if(!he)return null;const ze=kf(he);if(!ze||!_||C==null||!E||!F||ze.userId!==_||ze.bankId!==C||ze.oiId!==E)return null;const it=ze?.data??null;return on(it)?it:(Ps(he),null)},Be=(E,F,he)=>{const ze=be(E,F);if(!ze)return;if(!on(he)){Ps(ze);return}if(!_||C==null||!E||!F)return;const it={version:1,ts:new Date().toISOString(),userId:_,bankId:C,oiId:E,bancadaId:F,data:he},Rt=Dn(E,{type:"bancada",bancadaId:F});ki(ze,it,Rt)},wt=(E,F)=>{const he=be(E,F);he&&Ps(he)},jt=Ut(Ne);b.useEffect(()=>{h&&N(E=>({...E,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,N]),b.useEffect(()=>{const E=mv(),F=D??E?.id??null;if(!F){et(null),ln([]),P.current=[],Z.current=null,Vn(null),te(0),_t(null),pe(null),$e(null),G(!1),Se(!1),Oe(null),I(null),ye(!1),k(null);return}(async()=>{try{const he=await Vf(F);et(he.id),Ui({id:he.id,code:he.code}),ln(he.bancadas??[]),P.current=sT(he.bancadas??[]),Z.current=he.updated_at??null,Vn(he.medidores_usuario??null),te(he.medidores_total_code??0),pe(he.saved_at??null),$e(he.created_at??null),_t(he.updated_at??he.created_at);const ze={oi:he.code,q3:he.q3,alcance:he.alcance,pma:he.pma,numeration_type:he.numeration_type??"correlativo"};N(ze),G(!1),Se(he.read_only_for_current_user??!1),Oe(he.locked_by_full_name??null),I(he.locked_by_user_id??null),ye((he.locked_by_user_id??null)===_),k(ze)}catch{wm()}})()},[N,_,D]),b.useEffect(()=>{if(!Ne||nt[kt])return;const E=Zn(Ne);E&&(rt(F=>({...F,[kt]:E})),e({kind:"info",message:"Se restauro un borrador local."}))},[Ne,nt,e]),b.useEffect(()=>{if(!Ne||!_||!ce)return;let E=!1;return(async()=>{const F=he=>{Se(he?.read_only_for_current_user??!1),Oe(he?.locked_by_full_name??null),I(he?.locked_by_user_id??null),ye((he?.locked_by_user_id??null)===_)};try{const he=await KR(Ne);if(E)return;F(he)}catch(he){if(E)return;const ze=he?.status??he?.response?.status;let it=null;try{const ht=await Vf(Ne);if(E)return;it=ht.locked_by_full_name??null,F({read_only_for_current_user:!0,locked_by_full_name:it,locked_by_user_id:ht.locked_by_user_id??null})}catch{Se(!0),ye(!1)}const Rt=it?`La OI est? siendo editada por ${it}. Se abre en modo lectura.`:he?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:ze===423||ze===409?"warning":"error",title:ze===423||ze===409?"OI bloqueada":"Error",message:Rt}),Se(!0),ye(!1),V!=="view"&&Mt("view")}})(),()=>{E=!0}},[Ne,_,ce]),b.useEffect(()=>()=>{Ne&&ee&&Sc(Ne).catch(()=>{})},[Ne,ee]),b.useEffect(()=>{Ne&&(!ee||je||!ce||lE(Ne))},[ee,Ne,je,ce]),b.useEffect(()=>{Ce.current=!1,Le.current=!1,A(!1),ke.current=!1,en.current=!1},[Ne]),b.useEffect(()=>{if(!Ve.current&&f){if(!!!Rn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Ve.current=f;return}(Le.current||Je)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Ve.current=f},[f,Je,e]),b.useEffect(()=>{const E=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",E),()=>window.removeEventListener("medileser:auth-expired",E)},[e]),b.useEffect(()=>{const E=uE();if(!E){R(null),at.current=!1;return}const F=`${s.pathname}${s.search}`,he=E.route===F,ze=E.oiId==null||E.oiId===Ne;if(!he&&!ze){R(null),at.current=!1;return}R(E),E.type==="save_bancada"&&A(!0),E.type==="save_oi"&&(Le.current=!0),at.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),at.current=!0)},[s.pathname,s.search,Ne,e]);const Yn=ce&&!je&&(w||!Ne);b.useEffect(()=>{if(!Yn||ke.current)return;const E=bs(jt);if(!E)return;const F=q();N({...F,...E,numeration_type:E.numeration_type??F.numeration_type??"correlativo"}),ke.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Yn,jt,q,N,e]),b.useEffect(()=>{if(!Yn)return;const E=v(F=>{ae.current&&window.clearTimeout(ae.current),ae.current=window.setTimeout(()=>{Ln(jt,Q(F))},400)});return()=>{E.unsubscribe(),ae.current&&window.clearTimeout(ae.current)}},[v,Yn,jt]);const ta=b.useMemo(()=>Object.keys(nt).length>0,[nt]),bn=ce&&!je&&(ee||w||ta);b.useEffect(()=>{if(!bn)return;const E=F=>{if(!se.current)return F.preventDefault(),F.returnValue="",""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[bn]),cT(E=>{if(!bn){E.retry();return}if(se.current){E.retry();return}if(E.location.pathname===s.pathname){E.retry();return}window.confirm(oT)&&E.retry()},bn),b.useEffect(()=>{if(!Ne||!ee||je||!ce)return;const E=()=>{if(se.current||Ce.current)return;Ce.current=!0;const he=Rn()?.token,ze=uT(`/oi/${Ne}/close`);fetch(ze,{method:"POST",headers:he?{Authorization:`Bearer ${he}`}:void 0,keepalive:!0}).catch(()=>{})},F=()=>{E()};return window.addEventListener("pagehide",F),()=>window.removeEventListener("pagehide",F)},[Ne,ee,je,ce]);const Ml=v("pma"),no=b.useMemo(()=>UR(Number(Ml)),[Ml]),kl=v("numeration_type")??"correlativo",Ul=async E=>{try{xe(!0);const F=Rn();if(!F)throw new Error("Sesin no vlida");const he=F.bancoId;if(he==null)throw new Error("Debe seleccionar un banco para crear una OI.");const ze={code:E.oi,q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),banco_id:he,tech_number:F.techNumber,numeration_type:E.numeration_type??"correlativo"},it=await ZR(ze);return et(it.id),_t(it.updated_at??it.created_at),Vn(it.medidores_usuario??0),te(it.medidores_total_code??0),pe(it.saved_at??null),$e(it.created_at??null),Ui({id:it.id,code:it.code}),k(E),Le.current=!1,yn(Ut(null)),yn(Ut(it.id)),fl(),R(null),e({kind:"success",title:"OI creada",message:`${it.code} (#${it.id})`}),!0}catch(F){return Nc(F)?(Le.current=!0,Ln(jt,Q(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):Mi(F)?(Le.current=!0,Ln(jt,Q(E)),!1):(e({kind:"error",title:"Error",message:F?.message??"Error creando OI"}),!1)}finally{xe(!1)}},Js=async E=>{if(!Ne)return!1;if(je)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(xe(!0),!Ne)throw new Error("No hay OI seleccionada para actualizar.");const F=E.oi?.trim(),he=E.numeration_type??"correlativo",ze=ie?.numeration_type??"correlativo",it=!ie||Number(E.q3)!==Number(ie.q3)||Number(E.alcance)!==Number(ie.alcance)||Number(E.pma)!==Number(ie.pma)||he!==ze,Rt=B&&!!F&&F!==(ie?.oi??""),ht=!Rt||it,vn=Nt=>{_t(Nt.updated_at??Nt.created_at),pe(Nt.saved_at??null),$e(Nt.created_at??null),Nt.code&&Ui({id:Nt.id,code:Nt.code}),I(Nt.locked_by_user_id??null),Oe(Nt.locked_by_full_name??null),Se(Nt.read_only_for_current_user??!1),ye((Nt.locked_by_user_id??null)===_)};let na=null;if(ht){if(!Dt)throw new Error("No se pudo determinar la version actual de la OI. Recargue la pagina e intentelo de nuevo.");const Nt={q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),numeration_type:he,updated_at:Dt};na=await FR(Ne,Nt),vn(na)}if(Rt&&F)try{const Nt=await HR(Ne,F);na=Nt,vn(Nt)}catch(Nt){if(Nc(Nt)||Mi(Nt))throw Nt;const kr=Nt?.status??Nt?.response?.status;return e(kr===409?{kind:"error",title:"Conflicto",message:"Ya existe una OI con ese codigo."}:kr===403?{kind:"error",title:"No autorizado",message:"No autorizado."}:kr===422||kr===400?{kind:"error",title:"Formato",message:"Formato de OI invalido. Debe ser OI-####-YYYY."}:{kind:"error",title:"Error",message:Nt?.message??"Error actualizando OI"}),!1}return na?(k({...E,oi:na.code,numeration_type:he}),G(!1),Le.current=!1,yn(jt),fl(),R(null),e({kind:"success",title:"OI actualizada",message:na.code??E.oi}),!0):(G(!1),Le.current=!1,yn(jt),fl(),R(null),e({kind:"success",title:"OI actualizada",message:E.oi}),!0)}catch(F){if(Nc(F))return Le.current=!0,Ln(jt,Q(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(Mi(F))return Le.current=!0,Ln(jt,Q(E)),!1;const he=F?.status??F?.response?.status;return e(he===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:F?.message??"Error actualizando OI"}),!1}finally{xe(!1)}},Ll=!!Ne&&w&&!je,zn=()=>Ge({}),Bl=E=>{const F=_0(E);F&&Ge(he=>{if(!he[F])return he;const ze={...he};return delete ze[F],ze})},zr=()=>{if(je){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!Ne)return;zn(),A(!1);const E=Zn(Ne),F=E??cn();rt(he=>({...he,[kt]:F})),An(Ne,F),E&&e({kind:"info",message:"Se restauro un borrador local."}),Un(null),Fn(!0)},Ws=E=>{if(je&&!X){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}zn(),A(!1);const F=Ue(Ne,E.id);if(F){const he=Et(E);rt(ze=>({...ze,[he]:F})),e({kind:"info",message:"Se restauro un borrador local."})}Un(E),Fn(!0)};b.useEffect(()=>{if(!Ne||en.current)return;const E=W1();if(E&&!(!_||C==null)&&!(E.userId!==_||E.bankId!==C)&&E.oiId===Ne){if(E.modal?.type==="bancada"){if(E.modal.isNew){en.current=!0,Uf(),zr();return}if(E.modal.bancadaId){const F=hn.find(he=>he.id===E.modal?.bancadaId);if(!F)return;en.current=!0,Uf(),Ws(F);return}}en.current=!0,Uf()}},[_,C,hn,Ne,zr,Ws]);const vs=b.useMemo(()=>{const E=Et(st),F=nt[E];if(F){const it=F.version??st?.updated_at??st?.created_at??null;return{...F,version:it}}if(!st)return;const ze=j0(st).map(tT);return{estado:st.estado,rows:ze.length||st.rows,rowsData:ze,version:st.updated_at??st.created_at??null}},[st,nt]),ao=async E=>{if(Ne){if(je){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}zn(),A(!1);try{xe(!0);const F=E.draftCreatedAt??nt[kt]?.draftCreatedAt,he={estado:Number(E.estado??0),rows:Number(E.rowsData.length),rows_data:E.rowsData.map(nT)};if(st){const ze=E.version??st.updated_at??st.created_at??null;if(!ze)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const it={...he,updated_at:ze},Rt=await GR(st.id,it);ln(ht=>ht.map(vn=>vn.id===Rt.id?Rt:vn)),_t(Rt.updated_at??Rt.created_at??Dt),Vn(null),wt(Ne,st.id),rt(ht=>{const vn=`bancada-${st.id}`,{[vn]:na,...Nt}=ht;return Nt}),e({kind:"success",message:"Bancada actualizada"})}else{F&&(he.draft_created_at=F);const ze=await dv(Ne,he);ln(it=>[...it,ze]),_t(ze.updated_at??ze.created_at??Dt),Vn(null),rt(it=>{const{new:Rt,...ht}=it;return ht}),An(Ne,null),e({kind:"success",message:"Bancada agregada"})}try{const ze=await Zf(Ne);Vn(ze.medidores_usuario??null),te(ze.medidores_total_code??Y),pe(ze.saved_at??null),$e(ze.created_at??null)}catch{}I(j?.userId??M),Oe(j?.fullName??De),ye(_!==null),Se(!1),Fn(!1),Un(null),fl(),R(null),A(!1)}catch(F){if(Nc(F)){st?Be(Ne,st.id,E):An(Ne,E),A(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(Mi(F)){st?Be(Ne,st.id,E):An(Ne,E),A(!0);return}const he=F?.status??F?.response?.status;if(he===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(he===400){const ze=Array.isArray(F?.duplicates)?F.duplicates:Array.isArray(F?.response?.data?.duplicates)?F.response.data.duplicates:[];ze.length>0&&Ge(iT(ze)),e({kind:"warning",title:"Validacion",message:F?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:F?.message??"Error guardando bancada"})}finally{xe(!1)}}},so=async E=>{if(confirm(`Eliminar bancada #${E.item}?`)){if(je){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(xe(!0),!Ne)throw new Error("No hay OI cargada.");await fv(E.id),ln(he=>he.filter(ze=>ze.id!==E.id)),Vn(null),rt(he=>{const ze=`bancada-${E.id}`,{[ze]:it,...Rt}=he;return Rt}),wt(Ne,E.id);const F=await Zf(Ne);_t(F.updated_at??F.created_at??null),pe(F.saved_at??null),$e(F.created_at??null),I(F.locked_by_user_id??null),Oe(F.locked_by_full_name??null),Se(F.read_only_for_current_user??!1),ye((F.locked_by_user_id??null)===_),Vn(F.medidores_usuario??null),te(F.medidores_total_code??Y),e({kind:"success",message:`Bancada #${E.item} eliminada`})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error eliminando bancada"})}finally{xe(!1)}}},xs=()=>{if(!Ne){e({kind:"warning",message:"Primero guarda el OI."});return}pa(!0)},fu=async E=>{if(Ne)try{xe(!0),await w0(Ne,E),e({kind:"success",message:"Excel generado"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error generando Excel"})}finally{xe(!1)}},ro=()=>{if(!Ne||!B)return;const E=oe??Re;fe("oi"),Te(null),Ze(gv(E)),Me(!0)},lo=E=>{if(!B)return;fe("bancada"),Te(E);const F=E.saved_at??E.created_at??oe??Re;Ze(gv(F)),Me(!0)},ql=async()=>{if(!Ne||!B)return;const E=lT(Ie);if(!E){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(He==="bancada"&&!dt))try{xe(!0),He==="oi"?await XR(Ne,{saved_at:E,propagate_to_bancadas:!0}):dt&&await PR(dt.id,{saved_at:E});const F=await Vf(Ne);if(ln(F.bancadas??[]),Vn(F.medidores_usuario??null),te(F.medidores_total_code??0),pe(F.saved_at??null),$e(F.created_at??null),_t(F.updated_at??F.created_at),Oe(F.locked_by_full_name??null),I(F.locked_by_user_id??null),Se(F.read_only_for_current_user??!1),ye((F.locked_by_user_id??null)===_),!w){const he={oi:F.code,q3:F.q3,alcance:F.alcance,pma:F.pma,numeration_type:F.numeration_type??"correlativo"};N(he),k(he)}Me(!1),Te(null),Ze(""),fe("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error actualizando fecha"})}finally{xe(!1)}},mu=E=>{zn(),A(!1);const F=Et(st);let he={...E};if(!st){const ze=nt[kt];he.draftCreatedAt||(he.draftCreatedAt=ze?.draftCreatedAt??new Date().toISOString()),he.draftId||(he.draftId=ze?.draftId??gn())}rt(ze=>({...ze,[F]:he})),st?Be(Ne,st.id,he):An(Ne,he),Fn(!1)},hu=()=>{if(je){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const E=q();k({...E,numeration_type:E.numeration_type??"correlativo"}),G(!0)},Mr=()=>{!Ne||ce||Mt("edit")},qa=()=>{ie&&N(ie),G(!1),Le.current=!1,yn(jt),fl(),R(null)},Ss=()=>{Ne&&(An(Ne,null),Object.keys(nt).forEach(E=>{if(!E.startsWith("bancada-"))return;const F=Number(E.replace("bancada-",""));Number.isFinite(F)&&wt(Ne,F)})),yn(Ut(Ne)),yn(Ut(null)),K1(),Le.current=!1,A(!1),fl(),R(null),wm(),Hx(),et(null),ln([]),P.current=[],rt({}),G(!1),k(null),_t(null),pe(null),$e(null),Se(!1),Oe(null),I(null),ye(!1),Vn(null),te(0),Fn(!1),Un(null),pa(!1),Me(!1),Ee(!1),Ze(""),Te(null),fe("bancada"),N({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Il=()=>{Ce.current=!0,se.current=!0,Ss(),a(zt())},Ns=async()=>{if(!Ne)return!0;const E=P.current??[];if(E.length===0&&hn.length===0)return!0;const F=new Map(E.map(ze=>[ze.id,ze])),he=new Map(hn.map(ze=>[ze.id,ze]));try{for(const Rt of hn)F.has(Rt.id)||await fv(Rt.id);for(const Rt of hn){const ht=F.get(Rt.id);if(!ht||hv(ht)===hv(Rt))continue;const vn=pv(ht),na=vn.length||ht.rows||1,Nt=Rt.updated_at??Rt.created_at??ht.updated_at??ht.created_at;if(!Nt)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await QR(Rt.id,{medidor:ht.medidor??null,estado:ht.estado??0,rows:na,rows_data:vn,current_updated_at:Nt,restore_updated_at:ht.updated_at??null,restore_saved_at:ht.saved_at??null})}for(const Rt of E)if(!he.has(Rt.id)){const ht=pv(Rt),vn=ht.length||Rt.rows||1;await dv(Ne,{estado:Rt.estado??0,rows:vn,rows_data:ht})}const ze=await Zf(Ne),it=ze.updated_at??ze.created_at;await VR(Ne,{current_updated_at:it,restore_updated_at:Z.current})}catch(ze){return e({kind:"error",title:"Error",message:ze?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},ws=()=>{_e||Ee(!0)},io=async()=>{if(!_e){Ee(!1),xe(!0);try{if(!await Ns())return;Ne&&ee&&await Sc(Ne,"cancel")}catch{}finally{xe(!1)}Ce.current=!0,se.current=!0,Ss(),e({kind:"info",message:"Edicion cancelada"}),a(zt())}},$l=async()=>{if(_e)return;Ee(!1);let E=!0;if((w||!Ne)&&(E=!1,await p(async he=>{E=Ne?await Js(he):await Ul(he)})()),!!E){xe(!0);try{Ne&&ee&&await Sc(Ne)}catch{}finally{xe(!1)}Ce.current=!0,se.current=!0,Ss(),e({kind:"info",message:"Cambios guardados"}),a(zt())}},oo=async()=>{if(!_e){xe(!0);try{Ne&&ee&&await Sc(Ne)}catch{}finally{xe(!1)}Ce.current=!0,se.current=!0,Ss(),e({kind:"info",message:"OI cerrada"}),a(zt())}},er=b.useMemo(()=>aT(hn),[hn]),Ia=Hn??er,tr=E=>{if(!E)return"-";const he=/([zZ]|[+-]\d{2}:?\d{2})$/.test(E)?E:`${E}Z`,ze=new Date(he);return Number.isNaN(ze.getTime())?E:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(ze)},nr=st?be(Ne,st.id):un(Ne),Pa=_&&C!=null&&Ne?{userId:_,bankId:C,oiId:Ne,bancadaId:st?.id??null,isNew:!st,returnTo:Zt(Ne),oiCode:q("oi")??null}:null;return i.jsxs("div",{className:"oi-page vi-oi-light",children:[i.jsx(Tl,{show:_e}),!f&&i.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),H&&i.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[i.jsx("h1",{className:"h3",children:"Formulario OI"}),i.jsxs("div",{className:"d-flex gap-2",children:[Ne&&B&&i.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ro,disabled:_e,children:"Editar fecha guardado"}),Ne&&X&&i.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Mr,disabled:_e,children:"Editar"})]})]}),je&&i.jsx("div",{className:"alert alert-warning mt-2",children:X?"Modo lectura. Use Editar para modificar.":De?`Esta OI est siendo editada por ${De}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),i.jsxs("form",{onSubmit:p(Ll?Js:Ul),className:`row g-3 mt-1 ${Ll?"vi-form-editing":"vi-form-readonly"}`,children:[i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),i.jsx("input",{id:"oi",className:`form-control ${Ne&&!(B&&w&&!je)?"vi-locked":""}`,...g("oi"),disabled:Ne?!(B&&w&&!je):!1}),x.oi&&i.jsx("div",{className:"text-danger small",children:x.oi.message}),B?null:i.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el codigo de OI."})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),i.jsx("select",{id:"q3",className:"form-select",...g("q3",{valueAsNumber:!0}),disabled:!!Ne&&!w||je,children:h?.q3.map(E=>i.jsx("option",{value:E,children:E},E))})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),i.jsx("select",{id:"alcance",className:"form-select",...g("alcance",{valueAsNumber:!0}),disabled:!!Ne&&!w||je,children:h?.alcance.map(E=>i.jsx("option",{value:E,children:E},E))})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),i.jsx("select",{id:"pma",className:"form-select",...g("pma",{valueAsNumber:!0}),disabled:!!Ne&&!w||je,children:h?.pma.map(E=>i.jsx("option",{value:E,children:E},E))}),i.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),i.jsx("input",{id:"presion",className:"form-control",value:isNaN(no)?"":no,disabled:!0})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),i.jsxs("select",{id:"numeration_type",className:"form-select",...g("numeration_type"),disabled:!!Ne&&!w||je,children:[i.jsx("option",{value:"correlativo",children:"Correlativo"}),i.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),i.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),i.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[i.jsx("button",{className:"btn btn-primary",disabled:_e||!!Ne&&(!w||je),children:Ne?Ll?"Guardar cambios":"OI guardada":"Guardar OI"}),Ne&&!w&&ce&&i.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:hu,disabled:_e||je,children:"Editar OI"}),Ne&&w&&ce&&i.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:qa,disabled:_e,children:"Cancelar edicion"}),X&&i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Il,disabled:_e,children:"Volver al listado"}),i.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:xs,disabled:!Ne||_e||w,children:"Generar Excel"}),ce&&i.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:oo,disabled:!Ne||w||_e,children:"Cerrar OI"}),ce&&i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ws,disabled:_e,children:"Cancelar"})]})]}),i.jsx("hr",{className:"my-4"}),i.jsxs("div",{className:"card vi-card-table mt-3",children:[i.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),i.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",Ia," | Total OI: ",Y]})]}),i.jsx("button",{className:"btn btn-primary",onClick:zr,disabled:!Ne||_e||w||je,children:"Agregar Bancada"})]}),i.jsx("div",{className:"card-body p-0",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"vi-col-60",children:"Item"}),i.jsx("th",{children:"# Medidor"}),i.jsx("th",{children:"Medidores"}),i.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),i.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),i.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),i.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),i.jsxs("tbody",{children:[hn.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),hn.map(E=>{const F=E.rows_data?.[0]?.medidor||E.medidor||"",he=E.rows_data?.[(E.rows_data?.length||0)-1]?.medidor||"",ze=F&&he&&F!==he?`${F} ... ${he}`:F;return i.jsxs("tr",{children:[i.jsx("td",{children:E.item}),i.jsx("td",{children:ze}),i.jsx("td",{children:E.rows}),i.jsx("td",{children:tr(E.created_at)}),i.jsx("td",{children:tr(E.saved_at)}),i.jsx("td",{children:tr(E.updated_at??E.created_at)}),i.jsxs("td",{className:"text-end",children:[B?i.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>lo(E),disabled:_e||w||me,"aria-label":`Editar fecha guardado bancada #${E.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,i.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ws(E),disabled:_e||w||!X&&je,"aria-label":`${X?"Ver":"Editar"} bancada #${E.item}`,title:X?"Ver":"Editar",children:X?"Ver":"Editar"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>so(E),disabled:_e||w||je,"aria-label":`Eliminar bancada #${E.item}`,title:"Eliminar",children:""})]})]},E.id)})]})]})})})]}),ha&&i.jsx($R,{show:ha,title:st?`Editar bancada #${st.item}`:"Nueva bancada",initial:vs,onClose:()=>{zn(),Fn(!1)},onSubmit:ao,onCancelWithDraft:mu,numerationType:kl,readOnly:je,duplicateMap:Ae,onClearDuplicate:Bl,draftStorageKey:nr,draftMeta:Pa,isOnline:f,showRetry:Je}),Fe&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:E=>{E.target===E.currentTarget&&Ee(!1)},children:i.jsx("div",{className:"modal-dialog",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Ee(!1)})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{children:"Estas seguro de descartar cambios?"})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:io,disabled:_e,children:"Descartar cambios"}),i.jsx("button",{type:"button",className:"btn btn-primary",onClick:$l,disabled:_e,children:"Guardar cambios y volver al listado"})]})]})})}),de&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:E=>{E.target===E.currentTarget&&(Me(!1),Te(null),fe("bancada"))},children:i.jsx("div",{className:"modal-dialog",children:i.jsxs("form",{className:"modal-content",onSubmit:E=>{E.preventDefault(),ql()},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{Me(!1),Te(null),fe("bancada")}})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),i.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:Ie,onChange:E=>Ze(E.target.value),required:!0}),i.jsx("div",{className:"form-text",children:He==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{Me(!1),Te(null),fe("bancada")},children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:_e||!Ie,children:"Guardar"})]})]})})}),i.jsx(uu,{show:ea,title:"Contrasea para proteger Excel",onClose:()=>pa(!1),onConfirm:E=>{pa(!1),fu(E)}})]})}function fT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e==="/logistica/log01/history"?"logistica_history":e==="/logistica/log01/excel"?"logistica":e==="/logistica/log02/pdfs"?"logistica_pdfs":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function mT(){const e=Rn(),a=Wn(),s=e?.token??null,[l,c]=b.useState(()=>!!s);if(b.useEffect(()=>{if(!s){c(!1);return}let N=!1;return c(!0),Ke.get("/auth/me").then(()=>{N||c(!1)}).catch(async q=>{if(N)return;if(q?.response?.status===401){await Px();return}c(!1)}),()=>{N=!0}},[s]),!s)return i.jsx(Qs,{to:"/login",replace:!0});if(l)return i.jsx(Tl,{show:!0});const d=e,f=Ma(d.role,d.username),h=Xm(d),g=Nl(f),p=Ii(),v=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(g&&v&&!(p&&p>0)&&a.pathname!=="/home")return i.jsx(Qs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return i.jsx(Qs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(f==="admin"||f==="administrator"))return i.jsx(Qs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const N=fT(a.pathname),q=d.allowedModules;if(N&&Array.isArray(q)&&!q.includes(N))return i.jsx(Qs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return i.jsx(Uv,{})}const hT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),pT=.9;function rh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*pT}rem)`}}function oa({to:e,icon:a,label:s,depth:l,collapsed:c}){return i.jsx("li",{className:"vi-sidebar-item",children:i.jsxs($v,{to:e,end:!0,className:hT,style:rh(l,c),title:s,"aria-label":s,children:[i.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),i.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function bv({icon:e,label:a,depth:s,collapsed:l}){return i.jsx("li",{className:"vi-sidebar-item",children:i.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:rh(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[i.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),i.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function br({groupKey:e,icon:a,label:s,depth:l,collapsed:c,open:d,active:f,onToggle:h,children:g}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return i.jsxs("li",{className:"vi-sidebar-item",children:[i.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(f?" active":""),style:rh(l,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[i.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),i.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),i.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:i.jsx("i",{className:`ti ${v}`})})]}),!c&&d&&i.jsx("ul",{id:p,className:"list-unstyled mb-0",children:g})]})}function gT({collapsed:e,onToggleSidebar:a}){const s=Wn(),l=Rn(),c=!!l,d=Ma(l?.role,l?.username),f=Xm(l),h=d==="admin"||d==="administrator",g=l?.allowedModules,p=ye=>f||!Array.isArray(g)||g.includes(ye),v=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),N=c&&p("tools_historial_ac"),q=c&&p("tools_consol_correlativo"),j=c&&p("tools_consol_no_correlativo"),_=c&&p("oi_formulario"),C=c&&p("oi_listado"),B=c&&h&&p("users_admin"),T=c&&p("future_ot"),K=c&&p("logistica"),D=c&&p("logistica_history"),O=c&&p("logistica_pdfs"),V=K||D||O,U=c&&p("future_smart"),X=q||j,ce=v||x||N,_e=_||C||T,xe=ce||_e||X,me=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[Se,De]=b.useState(()=>{const ye=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!ye)return me;try{const je=JSON.parse(ye),w={...me};return Object.keys(w).forEach(G=>{typeof je[G]=="boolean"&&(w[G]=je[G])}),w}catch{return me}}),Oe=s.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(Se))},[Se]);const M=b.useMemo(()=>{const ye=je=>!!Bi({path:je,end:!0},Oe);return{vimaToLista:ye("/oi/tools/vima-to-lista"),actualizacionBases:ye("/oi/tools/actualizacion-base"),formatoAcHistory:ye("/oi/tools/formato-ac/history"),consolidacionCorrelativo:ye("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:ye("/oi/tools/consolidacion/no-correlativo"),registroOi:ye("/oi"),listadoOi:ye("/oi/list"),users:ye("/users"),password:ye("/password"),permisos:ye("/admin/permisos"),log01Excel:ye("/logistica/log01/excel"),log01History:ye("/logistica/log01/history"),log02Pdfs:ye("/logistica/log02/pdfs")}},[Oe]),I=b.useMemo(()=>({oi_consolidacion:M.consolidacionCorrelativo||M.consolidacionNoCorrelativo,oi_formato_ac:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory,oi_verificacion:M.registroOi||M.listadoOi,oi:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory||M.consolidacionCorrelativo||M.consolidacionNoCorrelativo||M.registroOi||M.listadoOi,usuarios:M.users||M.password,logistica:M.log01Excel||M.log01History||M.log02Pdfs,administrar:M.permisos}),[M]);function ee(ye){De(je=>({...je,[ye]:!je[ye]}))}return i.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[i.jsxs("div",{className:"vi-sidebar__header",children:[i.jsxs("div",{className:"vi-sidebar__brand",children:[i.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),i.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&i.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:i.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),i.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&i.jsx(oa,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),xe&&i.jsxs(br,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:Se.oi,active:I.oi,onToggle:ee,children:[ce&&i.jsxs(br,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:Se.oi_formato_ac,active:I.oi_formato_ac,onToggle:ee,children:[v&&i.jsx(oa,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&i.jsx(oa,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),N&&i.jsx(oa,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),X&&i.jsxs(br,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:Se.oi_consolidacion,active:I.oi_consolidacion,onToggle:ee,children:[q&&i.jsx(oa,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),j&&i.jsx(oa,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),_e&&i.jsxs(br,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:Se.oi_verificacion,active:I.oi_verificacion,onToggle:ee,children:[T&&i.jsx(bv,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),_&&i.jsx(oa,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),C&&i.jsx(oa,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),V&&i.jsxs(br,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:Se.logistica,active:I.logistica,onToggle:ee,children:[K&&i.jsx(oa,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacion Excel",depth:1,collapsed:e}),D&&i.jsx(oa,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e}),O&&i.jsx(oa,{to:"/logistica/log02/pdfs",icon:"ti-filter",label:"Filtrado de Cert.PDFs",depth:1,collapsed:e})]}),U&&i.jsx(bv,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),i.jsxs(br,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:Se.usuarios,active:I.usuarios,onToggle:ee,children:[B&&i.jsx(oa,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&i.jsx(oa,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),f&&i.jsx(br,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:Se.administrar,active:I.administrar,onToggle:ee,children:i.jsx(oa,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function yT({sidebarCollapsed:e,onToggleSidebar:a}){const s=Rn(),l=s?.username??s?.user??"",c=s?Nl(s.role):!1,[d,f]=b.useState(()=>Ii());b.useEffect(()=>gE(()=>f(Ii())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",g=async()=>{try{await vE()}finally{location.assign("/login")}};return i.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&i.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:i.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),i.jsx("div",{className:"me-auto"}),i.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&i.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",i.jsx("strong",{children:l||"?"}),c&&i.jsxs(i.Fragment,{children:["  ",h,s.techNumber?i.jsxs(i.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&i.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:g,children:"Cerrar sesin"})]})]})}function bT(){const a=Wn().pathname==="/home",[s,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),i.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[i.jsx(gT,{collapsed:s,onToggleSidebar:c}),i.jsxs("div",{className:"vi-main",children:[i.jsx(yT,{sidebarCollapsed:s,onToggleSidebar:c}),i.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:i.jsx(Uv,{})})]})]})}function vT(){const{toast:e}=Rr(),a=Or(),s=Wn(),[,l]=Hv(),[c,d]=b.useState(()=>new URLSearchParams(s.search).get("q")??""),[f,h]=b.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[g,p]=b.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[v,x]=b.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[N,q]=b.useState(()=>{const ae=new URLSearchParams(s.search).get("pageSize"),ke=ae?Number(ae):20;return Number.isFinite(ke)&&ke>0?ke:20}),[j,_]=b.useState(()=>{const ae=new URLSearchParams(s.search).get("page"),ke=ae?Number(ae):1;return Number.isFinite(ke)&&ke>0?Math.floor(ke):1}),[C,B]=b.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),T=(j-1)*N,K=b.useRef(!1);b.useEffect(()=>{if(!K.current){K.current=!0;return}const ae=setTimeout(()=>{h(c.trim()),_(1)},300);return()=>clearTimeout(ae)},[c]),b.useEffect(()=>{const ae=new URLSearchParams,ke=c.trim();ke&&ae.set("q",ke),g&&ae.set("dateFrom",g),v&&ae.set("dateTo",v),C&&ae.set("responsableTech",C),j!==1&&ae.set("page",String(j)),N!==20&&ae.set("pageSize",String(N));const Ve=s.search.startsWith("?")?s.search.slice(1):s.search;ae.toString()!==Ve&&l(ae,{replace:!0})},[g,v,s.search,j,N,C,c,l]);const{data:D,isLoading:O,isError:V,error:U,refetch:X,isFetching:ce}=_r({queryKey:["oi","list",{search:f,dateFrom:g,dateTo:v,responsableTech:C,pageSize:N,offset:T}],queryFn:()=>JR({q:f||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:C?Number(C):void 0,limit:N,offset:T}),placeholderData:ae=>ae}),_e=Rn(),xe=Ma(_e?.role,_e?.username)!=="technician",{data:me=[],isFetching:Se,isError:De,error:Oe}=_r({queryKey:["oi","responsables"],queryFn:eT,enabled:xe,staleTime:6e4,retry:!1}),M=De?Oe?.message??"No se pudo cargar responsables":"",I=ae=>{if(!ae)return"-";const ke=ae.endsWith("Z")?ae:`${ae}Z`,Ve=new Date(ke),at=en=>en.toString().padStart(2,"0");return`${at(Ve.getDate())}/${at(Ve.getMonth()+1)}/${Ve.getFullYear()} ${at(Ve.getHours())}:${at(Ve.getMinutes())}`},ye=D?.items??[],je=D?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},w=D?.total??0,G=D?.limit??N,ie=G>0?Math.ceil(w/G):1,k=10;let oe=1,pe=ie;if(ie>k){const ae=Math.floor(k/2);oe=Math.max(1,j-ae),pe=oe+k-1,pe>ie&&(pe=ie,oe=Math.max(1,pe-k+1))}const[Re,$e]=b.useState(!1),[de,Me]=b.useState(null),[Ie,Ze]=b.useState(!1),[dt,Te]=b.useState(!1),He=O||ce||Ie||dt,fe=()=>`${s.pathname}${s.search}`,Fe=(ae,ke)=>{try{Ui({id:ae,code:ke}),e({kind:"success",message:`OI ${ke} cargada`}),a(`/oi/${ae}?mode=view`,{state:{returnTo:fe()}})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo abrir el OI"})}},Ee=(ae,ke)=>{try{Ui({id:ae,code:ke}),e({kind:"success",message:`OI ${ke} cargada`}),a(`/oi/${ae}?mode=edit`,{state:{returnTo:fe()}})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo abrir el OI"})}},Je=async()=>{try{await Wi()}finally{wm(),a("/oi?mode=edit",{state:{returnTo:fe()}})}},A=async(ae,ke)=>{if(confirm(`Ests seguro de ELIMINAR la ${ke}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await YR(ae),e({kind:"success",title:"Eliminado",message:`Se elimin ${ke} correctamente.`}),X()}catch(Ve){e({kind:"error",title:"Error",message:Ve.message||"No se pudo eliminar la OI"})}},H=ae=>{Me(ae),$e(!0)},R=async ae=>{if(de)try{Ze(!0),await w0(de,ae),e({kind:"success",message:"Excel generado"})}catch(ke){e({kind:"error",title:"Error",message:ke?.message??"No se pudo generar el Excel"})}finally{Ze(!1)}},P=async()=>{try{Te(!0);const{blob:ae,filename:ke}=await WR({q:f||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:C?Number(C):void 0}),Ve=URL.createObjectURL(ae),at=document.createElement("a");at.href=Ve,at.download=ke,document.body.appendChild(at),at.click(),URL.revokeObjectURL(Ve),at.remove()}catch(ae){const ke=ae?.status,Ve=ae?.message??"No se pudo exportar el CSV";e(ke===403?{kind:"error",title:"No autorizado",message:Ve}:{kind:"error",title:"Error",message:Ve})}finally{Te(!1)}},Z=()=>{d(""),h(""),p(""),x(""),_(1),B("")},se=w===0?0:T+1,Ce=w===0?0:Math.min(T+ye.length,w),Le=w===0?"0 registros":`Mostrando ${se}-${Ce} de ${w} registros`;return i.jsxs("div",{children:[i.jsx(Tl,{show:He}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[i.jsxs("div",{className:"d-flex align-items-center gap-2",children:[i.jsx("button",{className:"btn btn-primary",onClick:Je,disabled:He,title:"Nueva OI",children:"Nueva OI"}),i.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),i.jsxs("div",{className:"d-flex gap-2",children:[xe&&i.jsx("button",{className:"btn btn-outline-secondary",onClick:P,disabled:He,children:dt?"Exportando...":"Exportar CSV"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:Z,disabled:He,children:"Limpiar filtros"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>X(),disabled:He,children:"Recargar"})]})]}),V&&i.jsx("div",{className:"alert alert-danger",children:U?.message??"Error cargando listado"}),i.jsxs("div",{className:"card vi-card-table",children:[i.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"h6 mb-0",children:"Registros"}),i.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",je.medidores_resultado," | OI unicas: ",je.oi_unicas," | Medidores (Total OI): ",je.medidores_total_oi_unicas]})]}),i.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:ae=>{d(ae.target.value),_(1)},"aria-label":"Buscar por codigo de OI o medidor"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:g,onChange:ae=>{p(ae.target.value),_(1)},"aria-label":"Filtrar desde fecha"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:ae=>{x(ae.target.value),_(1)},"aria-label":"Filtrar hasta fecha"}),xe&&i.jsxs("div",{className:"d-flex flex-column",children:[i.jsxs("select",{className:"form-select form-select-sm",value:C,onChange:ae=>{B(ae.target.value),_(1)},disabled:He||Se,"aria-label":"Filtrar por responsable",title:"Responsable",children:[i.jsx("option",{value:"",children:"Responsable: Todos"}),me.map(ae=>i.jsx("option",{value:String(ae.tech_number),children:ae.full_name},ae.tech_number))]}),M?i.jsx("small",{className:"text-danger",children:M}):null]}),i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("span",{className:"me-1 small",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:N,onChange:ae=>{const ke=Number(ae.target.value)||20;q(ke),_(1)},"aria-label":"Registros por pgina",children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"})]})]})]})]}),i.jsxs("div",{className:"card-body p-0",children:[i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"OI"}),i.jsx("th",{children:"Medidores"}),i.jsx("th",{children:"Q3"}),i.jsx("th",{children:"Alcance"}),i.jsx("th",{children:"PMA"}),i.jsx("th",{children:"Banco"}),i.jsx("th",{children:"Tcnico"}),i.jsx("th",{children:"Responsable"}),i.jsx("th",{children:"Creacin"}),i.jsx("th",{children:"Guardado"}),i.jsx("th",{children:"lt. mod."}),i.jsx("th",{className:"text-end",children:"Acciones"})]})}),i.jsxs("tbody",{children:[!He&&ye.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:w>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),ye.map(ae=>i.jsxs("tr",{children:[i.jsx("td",{children:ae.id}),i.jsx("td",{children:ae.code}),i.jsx("td",{title:"Mi registro / Total OI",children:`${ae.medidores_usuario??0} / ${ae.medidores_total_code??0}`}),i.jsx("td",{children:ae.q3}),i.jsx("td",{children:ae.alcance}),i.jsx("td",{children:ae.pma}),i.jsx("td",{children:ae.banco_id}),i.jsx("td",{children:ae.tech_number}),i.jsx("td",{children:ae.creator_name}),i.jsx("td",{children:I(ae.created_at)}),i.jsx("td",{children:I(ae.saved_at)}),i.jsx("td",{children:I(ae.updated_at)}),i.jsxs("td",{className:"text-end",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Fe(ae.id,ae.code),disabled:He,title:"Ver OI","aria-label":`Ver OI ${ae.code}`,children:"Ver"}),i.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>Ee(ae.id,ae.code),disabled:He,title:"Editar OI","aria-label":`Editar OI ${ae.code}`,children:"Editar"}),i.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>H(ae.id),disabled:He,title:"Descargar Excel","aria-label":`Descargar Excel ${ae.code}`,children:"Excel"}),xe&&i.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>A(ae.id,ae.code),disabled:He,title:"Eliminar OI (Solo Admin)",children:""})]})]},ae.id))]})]})}),ie>1&&i.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:i.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[i.jsx("li",{className:`page-item ${j===1?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>_(ae=>Math.max(1,ae-1)),disabled:j===1,children:""})}),Array.from({length:pe-oe+1},(ae,ke)=>{const Ve=oe+ke;return i.jsx("li",{className:`page-item ${Ve===j?"active":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>_(Ve),children:Ve})},Ve)}),i.jsx("li",{className:`page-item ${j===ie?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>_(ae=>Math.min(ie,ae+1)),disabled:j===ie,children:"Siguiente"})})]})})]})]}),i.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:i.jsx("small",{className:"text-muted",children:Le})}),i.jsx(uu,{show:Re,title:"Contrasea para proteger Excel",onClose:()=>{$e(!1),Me(null)},onConfirm:ae=>{$e(!1),R(ae)}})]})}async function xT(e){return(await Ke.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function ST(){const{toast:e}=Rr(),a=Rn(),s=Ma(a?.role,a?.username),l=s==="admin"||s==="administrator",c=Xm(a),[d,f]=b.useState(!1),[h,g]=b.useState(null),[p,v]=b.useState(!1),[x,N]=b.useState(""),[q,j]=b.useState(""),[_,C]=b.useState(""),[B,T]=b.useState(20),[K,D]=b.useState(1),O=(K-1)*B,V=b.useRef(!1);b.useEffect(()=>{if(!V.current){V.current=!0;return}const Ee=setTimeout(()=>{j(x.trim()),D(1)},250);return()=>clearTimeout(Ee)},[x]);const{data:U,refetch:X,isLoading:ce,isFetching:_e,error:xe}=_r({queryKey:["users",{search:q,roleFilter:_,pageSize:B,offset:O}],queryFn:()=>xT({q:q||void 0,role:_||void 0,limit:B,offset:O}),enabled:l,placeholderData:Ee=>Ee}),{register:me,handleSubmit:Se,reset:De}=Qc(),Oe=()=>{g(null),De({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),f(!0)},M=Ee=>{g(Ee),De({username:Ee.username,password:"",first_name:Ee.first_name,last_name:Ee.last_name,role:Ma(Ee.role,Ee.username),tech_number:Ee.tech_number}),f(!0)},I=()=>{f(!1),g(null),De()},ee=async Ee=>{try{v(!0),await Ke.post("/auth/users",{...Ee,tech_number:Number(Ee.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),I(),X()}catch(Je){e({kind:"error",title:"Error",message:Je.response?.data?.detail||"Error al crear"})}finally{v(!1)}},ye=async Ee=>{if(!h)return;const Je=String(Ee.password||"").trim();try{if(v(!0),c){const A={username:String(Ee.username||"").trim(),first_name:String(Ee.first_name||"").trim(),last_name:String(Ee.last_name||"").trim(),role:Ee.role,tech_number:Number(Ee.tech_number)};Je&&(A.password=Je),await Ke.put(`/auth/users/${h.id}`,A),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!Je){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Ke.put(`/auth/users/${h.id}/password`,{new_password:Je}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}I(),X()}catch(A){const H=A?.response?.data?.detail||A?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:H})}finally{v(!1)}},je=async Ee=>{if(confirm(`Eliminar usuario? ${Ee.username}?
Esto solo es posible si no tiene registros.`))try{v(!0),await Ke.delete(`/auth/users/${Ee.id}`),e({kind:"success",message:"Usuario eliminado"}),X()}catch(Je){e({kind:"error",title:"No se puede eliminar",message:Je.response?.data?.detail||Je.message})}finally{v(!1)}},w=b.useMemo(()=>U?.items??[],[U]),G=U?.total??0,ie=U?.limit??B,k=ie>0?Math.ceil(G/ie):1,oe=10;let pe=1,Re=k;if(k>oe){const Ee=Math.floor(oe/2);pe=Math.max(1,K-Ee),Re=pe+oe-1,Re>k&&(Re=k,pe=Math.max(1,Re-oe+1))}const $e=G===0?0:O+1,de=G===0?0:Math.min(O+w.length,G),Me=G===0?"0 registros":`Mostrando ${$e}-${de} de ${G} registros`,Ie=ce||_e||p,Ze=()=>{N(""),j(""),C(""),D(1),T(20)},dt=!!h,Te=dt&&!c,He=!dt||!c,fe=(h?.username??"").toLowerCase()==="admin",Fe=dt?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return l?i.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[i.jsx(Tl,{show:Ie}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[i.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),i.jsx("button",{className:"btn btn-primary",onClick:Oe,disabled:Ie,children:"+ Nuevo Usuario"})]}),i.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[i.jsxs("div",{style:{minWidth:260},children:[i.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:Ee=>{N(Ee.target.value),D(1)}})]}),i.jsxs("div",{style:{minWidth:220},children:[i.jsx("label",{className:"form-label small mb-1",children:"Rol"}),i.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:Ee=>{C(Ee.target.value),D(1)},children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"admin",children:"admin"}),i.jsx("option",{value:"administrator",children:"administrator"}),i.jsx("option",{value:"technician",children:"technician"}),i.jsx("option",{value:"standard",children:"standard"}),i.jsx("option",{value:"user",children:"user (legacy)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:B,onChange:Ee=>{const Je=Number(Ee.target.value)||20;T(Je),D(1)},children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Ze,disabled:Ie,children:"Limpiar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>X(),disabled:Ie,children:"Recargar"})]})]}),xe?i.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,i.jsx("div",{className:"card shadow-sm",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-hover align-middle mb-0",children:[i.jsx("thead",{className:"table-light",children:i.jsxs("tr",{children:[i.jsx("th",{children:"Usuario"}),i.jsx("th",{children:"Nombre"}),i.jsx("th",{children:"Rol"}),i.jsx("th",{children:"N Tcnico"}),i.jsx("th",{className:"text-end",children:"Acciones"})]})}),i.jsxs("tbody",{children:[w.map(Ee=>i.jsxs("tr",{children:[i.jsx("td",{className:"fw-bold",children:Ee.username}),i.jsxs("td",{children:[Ee.first_name," ",Ee.last_name]}),i.jsx("td",{children:(()=>{const Je=Ma(Ee.role,Ee.username),A=Ee.username.toLowerCase()==="admin"?"Superusuario":Je==="administrator"?"Administrador":Je==="technician"?"Tcnico":"Estndar",H=Ee.username.toLowerCase()==="admin"?"bg-danger":Je==="administrator"?"bg-warning text-dark":Je==="technician"?"bg-info text-dark":"bg-secondary";return i.jsx("span",{className:`badge ${H}`,children:A})})()}),i.jsx("td",{children:Ee.tech_number}),i.jsxs("td",{className:"text-end",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${Ee.username}`,disabled:Ie||Ee.username==="admin"||!c&&Ma(Ee.role,Ee.username)==="administrator",onClick:()=>M(Ee),children:i.jsx("i",{className:"ti ti-edit"})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${Ee.username}`,disabled:Ie||Ee.username==="admin"||!c&&Ma(Ee.role,Ee.username)==="administrator",onClick:()=>je(Ee),children:i.jsx("i",{className:"ti ti-trash"})})]})]},Ee.id)),w.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),k>1&&i.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:i.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[i.jsx("li",{className:`page-item ${K===1?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>D(Ee=>Math.max(1,Ee-1)),disabled:K===1,children:"Anterior"})}),Array.from({length:Re-pe+1},(Ee,Je)=>{const A=pe+Je;return i.jsx("li",{className:`page-item ${A===K?"active":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>D(A),children:A})},A)}),i.jsx("li",{className:`page-item ${K===k?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>D(Ee=>Math.min(k,Ee+1)),disabled:K===k,children:"Siguiente"})})]})}),i.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:i.jsx("small",{className:"text-muted",children:Me})}),d&&i.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:i.jsx("div",{className:"modal-dialog",children:i.jsxs("form",{className:"modal-content",onSubmit:Se(dt?ye:ee),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:dt?"Actualizar Usuario":"Nuevo Usuario"}),i.jsx("button",{type:"button",className:"btn-close",onClick:I})]}),i.jsxs("div",{className:"modal-body row g-3",children:[i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"Usuario"}),i.jsx("input",{className:"form-control",disabled:Te,...me("username",{required:!0})})]}),i.jsx("div",{className:"col-6",children:i.jsx($i,{label:"Contrasea",...me("password",{required:He}),autoComplete:"new-password",helpText:Fe})}),i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"Nombre"}),i.jsx("input",{className:"form-control",disabled:Te,...me("first_name",{required:!0})})]}),i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"Apellido"}),i.jsx("input",{className:"form-control",disabled:Te,...me("last_name",{required:!0})})]}),i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"Rol"}),i.jsxs("select",{className:"form-select",disabled:Te,...me("role"),children:[fe?i.jsx("option",{value:"admin",children:"Superusuario"}):null,i.jsx("option",{value:"technician",children:"Tecnico"}),i.jsx("option",{value:"standard",children:"Estandar"}),c?i.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"N Tecnico"}),i.jsx("input",{type:"number",className:"form-control",disabled:Te,...me("tech_number",{required:!0})}),i.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:I,disabled:Ie,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ie,children:dt?"Actualizar":"Guardar"})]})]})})})]}):i.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function NT(){const{toast:e}=Rr(),[a,s]=b.useState(""),[l,c]=b.useState(""),[d,f]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,g=async p=>{if(p.preventDefault(),!!h)try{f(!0),await yE(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{f(!1)}};return i.jsx("div",{className:"container py-4",children:i.jsx("div",{className:"row justify-content-center",children:i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"card shadow-sm",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),i.jsxs("form",{onSubmit:g,children:[i.jsxs("div",{className:"card-body",children:[i.jsx("div",{className:"mb-3",children:i.jsx($i,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),i.jsx("div",{className:"mb-3",children:i.jsx($i,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),i.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function wT(e){return(await Ke.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function jT(e,a){const{data:s}=await Ke.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const jm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"logistica_history",label:"Historial de consolidaciones",path:"/logistica/log01/history"},{id:"logistica_pdfs",label:"Filtrado de Cert.PDFs",path:"/logistica/log02/pdfs"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],vv=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica","logistica_history","logistica_pdfs"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function xv(e){const a=new Set(jm.map(c=>c.id)),s=new Set,l=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),l.push(d))}return l}const Sv="admin_permisos:collapsed_groups";function _T(){const e=Bm(),{toast:a}=Rr(),[s,l]=b.useState(""),[c,d]=b.useState(""),[f,h]=b.useState(""),[g,p]=b.useState(20),[v,x]=b.useState(1),N=(v-1)*g,q=b.useRef(!1);b.useEffect(()=>{if(!q.current){q.current=!0;return}const k=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(k)},[s]);const{data:j,isLoading:_,error:C,refetch:B}=_r({queryKey:["admin","permisos",{search:c,roleFilter:f,pageSize:g,offset:N}],queryFn:()=>wT({q:c||void 0,role:f||void 0,limit:g,offset:N}),placeholderData:k=>k}),[T,K]=b.useState(null),[D,O]=b.useState([]),V=(T?.username??"").toLowerCase()==="admin",[U,X]=b.useState(()=>{const k=Object.fromEntries(vv.map(oe=>[oe.id,!0]));try{const oe=localStorage.getItem(Sv);if(!oe)return k;const pe=JSON.parse(oe);return!pe||typeof pe!="object"?k:{...k,...pe}}catch{return k}}),ce=(k,oe)=>{X(pe=>{const Re={...pe,[k]:oe};try{localStorage.setItem(Sv,JSON.stringify(Re))}catch{}return Re})},_e=k=>{K(k),O(xv(k.allowedModules??[]))},xe=()=>{K(null),O([])},me=Yj({mutationFn:async k=>jT(k.userId,k.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),xe()},onError:k=>{const oe=k?.response?.data?.detail??k?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(oe)})}}),Se=b.useMemo(()=>j?.items??[],[j]),De=j?.total??0,Oe=j?.limit??g,M=Oe>0?Math.ceil(De/Oe):1,I=De===0?0:N+1,ee=De===0?0:Math.min(N+Se.length,De),ye=De===0?"0 registros":`Mostrando ${I}-${ee} de ${De} registros`,je=k=>{O(oe=>{const pe=new Set(oe);return pe.has(k)?pe.delete(k):pe.add(k),Array.from(pe)})},w=k=>{O(oe=>{const pe=new Set(oe),Re=k.moduleIds.filter(de=>jm.some(Me=>Me.id===de));if(Re.length>0&&Re.every(de=>pe.has(de)))for(const de of Re)pe.delete(de);else for(const de of Re)pe.add(de);return Array.from(pe)})},G=()=>{T&&me.mutate({userId:T.id,allowedModules:xv(D)})},ie=()=>{l(""),d(""),h(""),x(1),p(20)};return i.jsxs("div",{className:"container-fluid",children:[i.jsx(Tl,{show:me.isPending,label:"Guardando permisos..."}),i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),i.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),i.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[i.jsxs("div",{style:{minWidth:260},children:[i.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:k=>{l(k.target.value),x(1)}})]}),i.jsxs("div",{style:{minWidth:220},children:[i.jsx("label",{className:"form-label small mb-1",children:"Rol"}),i.jsxs("select",{className:"form-select form-select-sm",value:f,onChange:k=>{h(k.target.value),x(1)},children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"admin",children:"admin"}),i.jsx("option",{value:"administrator",children:"administrator"}),i.jsx("option",{value:"technician",children:"technician"}),i.jsx("option",{value:"standard",children:"standard"}),i.jsx("option",{value:"user",children:"user (legacy)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:g,onChange:k=>{const oe=Number(k.target.value)||20;p(oe),x(1)},children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:ie,disabled:_||me.isPending,children:"Limpiar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>B(),disabled:_||me.isPending,children:"Recargar"})]})]}),_?i.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):C?i.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm align-middle",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Usuario"}),i.jsx("th",{children:"Rol"}),i.jsx("th",{className:"text-end",children:"Acciones"})]})}),i.jsxs("tbody",{children:[Se.map(k=>i.jsxs("tr",{children:[i.jsx("td",{children:k.username}),i.jsx("td",{children:k.role}),i.jsx("td",{className:"text-end",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>_e(k),disabled:(k.username??"").toLowerCase()==="admin",children:"Editar"})})]},k.id)),Se.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),i.jsx("div",{className:"d-flex justify-content-end mt-2",children:i.jsx("small",{className:"text-muted",children:ye})}),M>1&&i.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:i.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[i.jsx("li",{className:`page-item ${v===1?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.max(1,k-1)),disabled:v===1,children:""})}),i.jsx("li",{className:"page-item disabled",children:i.jsxs("span",{className:"page-link",children:["Pgina ",v," / ",M]})}),i.jsx("li",{className:`page-item ${v===M?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.min(M,k+1)),disabled:v===M,children:"Siguiente"})})]})})]})})}),T&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:k=>{k.target===k.currentTarget&&xe()},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",T.username]}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:xe})]}),i.jsxs("div",{className:"modal-body",children:[V?i.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",i.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,vv.map(k=>{const oe=k.moduleIds.map(Me=>jm.find(Ie=>Ie.id===Me)).filter(Boolean),pe=oe.filter(Me=>D.includes(Me.id)).length,Re=oe.length>0&&pe===oe.length,$e=pe>0&&!Re,de=!!U[k.id];return i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[i.jsxs("div",{className:"form-check mb-0",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${T.id}-${k.id}`,checked:Re,ref:Me=>{Me&&(Me.indeterminate=$e)},onChange:()=>w(k),disabled:me.isPending||V}),i.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${T.id}-${k.id}`,children:[k.label,i.jsxs("span",{className:"text-muted ms-2 small",children:["(",pe,"/",oe.length,")"]})]})]}),i.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Acciones ${k.label}`,children:i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>ce(k.id,!de),disabled:me.isPending,children:de?"Expandir":"Contraer"})})]}),!de&&i.jsx("div",{className:"mt-2 ms-4 ps-3 border-start border-2 border-light",children:i.jsx("div",{className:"row",children:oe.map(Me=>i.jsx("div",{className:"col-md-6 mb-2",children:i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${T.id}-${Me.id}`,checked:D.includes(Me.id),onChange:()=>je(Me.id),disabled:me.isPending||V}),i.jsxs("label",{className:"form-check-label",htmlFor:`perm-${T.id}-${Me.id}`,children:[Me.label," ",i.jsxs("span",{className:"text-muted",children:["(",Me.path,")"]})]})]})},Me.id))})})]},k.id)}),i.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:xe,disabled:me.isPending,children:"Cancelar"}),i.jsx("button",{type:"button",className:"btn btn-primary",onClick:G,disabled:me.isPending||V,children:"Guardar"})]})]})})})]})}function ET(e){const a=Ke.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function AT(e,a){return Ke.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function CT(e,a){return Ke.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function Nv(e,a,s){const l=ET(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const f=d.body.getReader(),h=new TextDecoder("utf-8");let g="";for(;;){const{value:p,done:v}=await f.read();if(v)break;g+=h.decode(p,{stream:!0});let x;for(;(x=g.indexOf(`
`))>=0;){const N=g.slice(0,x).trim();if(g=g.slice(x+1),!!N)try{a(JSON.parse(N))}catch{}}}}function E0(e){return`${e.name}::${e.size}::${e.lastModified}`}function OT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function Fc(e){return OT(e.name)}function RT(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function lh(e,a){const s=RT(a);if(!s)return e;const l=s.filter(c=>c.startsWith("."));return l.length===0?e:e.filter(c=>l.some(d=>c.name.toLowerCase().endsWith(d)))}function TT(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],c=[],d=new Set(e.map(Fc));for(const f of a){const h=Fc(f);if(d.has(h)){c.push(f);continue}d.add(h),s.push(f),l.push(f)}return{merged:s,added:l,duplicates:c}}function Vi({label:e,accept:a,disabled:s=!1,file:l,onChange:c}){const d=b.useRef(null),f=b.useRef(0),[h,g]=b.useState(!1),p=()=>{s||d.current?.click()},v=()=>{s||(d.current&&(d.current.value=""),c(null))},x=C=>{c(C.target.files?.[0]??null),C.currentTarget.value=""},N=C=>{C.preventDefault(),C.stopPropagation(),!s&&(f.current+=1,g(!0))},q=C=>{C.preventDefault(),C.stopPropagation()},j=C=>{C.preventDefault(),C.stopPropagation(),!s&&(f.current=Math.max(0,f.current-1),f.current===0&&g(!1))},_=C=>{if(C.preventDefault(),C.stopPropagation(),f.current=0,g(!1),s)return;const B=C.dataTransfer?.files?Array.from(C.dataTransfer.files):[],K=lh(B,a)[0]??null;K&&(d.current&&(d.current.value=""),c(K))};return i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:e}),i.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),i.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:N,onDragOver:q,onDragLeave:j,onDrop:_,"aria-disabled":s?"true":"false",children:i.jsxs("div",{className:"input-group",children:[i.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),i.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:s||!l,children:"Eliminar"}),i.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const DT={status:"estado",progress:"progreso",complete:"completado",error:"error"},zT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},MT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function A0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function wl(e){if(!e)return"";const a=e.toLowerCase();return A0(DT[a]??e)}function to(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return A0(zT[a]??Dl(s))}function Dl(e){if(!e)return"";let a=e;for(const[s,l]of MT)a=a.replace(s,l);return a}function kT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function UT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function LT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState(""),[f,h]=b.useState(11),[g,p]=b.useState(11),[v,x]=b.useState(!0),[N,q]=b.useState(!0),[j,_]=b.useState(!0),[C,B]=b.useState(!0),[T,K]=b.useState(!1),[D,O]=b.useState(""),[V,U]=b.useState(null),[X,ce]=b.useState(null),[_e,xe]=b.useState(null),[me,Se]=b.useState([]),[De,Oe]=b.useState(""),M=b.useRef(null),I=b.useRef(null),[ee,ye]=b.useState(!1),[je,w]=b.useState(!1),[G,ie]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),k=b.useMemo(()=>!!e&&!!s&&!V,[e,s,V]);function oe(Te){Se(fe=>[Te,...fe].slice(0,200));const He=typeof Te.percent=="number"?Te.percent:typeof Te.progress=="number"?Te.progress:null;He!=null&&Number.isFinite(He)&&xe(Math.max(0,Math.min(100,He)))}function pe(){M.current?.abort(),M.current=null}function Re(){V&&pe()}function $e(Te,He){if(!e||!s)throw new Error("Faltan archivos");const fe=new FormData;fe.append("vima_file",e),fe.append("lista_file",s);const Fe=(He??c).trim();return Fe&&fe.append("vima_password",Fe),fe.append("vima_start_row",String(f)),fe.append("lista_start_row",String(g)),fe.append("require_all_g_to_n",v?"true":"false"),fe.append("incremental",N?"true":"false"),fe.append("strict_incremental",j?"true":"false"),fe.append("replicate_merges",C?"true":"false"),fe.append("update_existing_periodo",T?"true":"false"),D.trim()&&fe.append("oi_pattern",D.trim()),fe.append("operation_id",Te),fe}function de(){I.current=null,w(!1)}function Me(Te,He){I.current=Te,ie(He),w(!0)}function Ie(Te,He){if(!pt.isAxiosError(Te)){Oe(String(Te));return}const fe=Te;if(fe.code==="ERR_CANCELED")return;const Fe=fe.response?.headers?.["x-code"],Ee=fe.response?.data?.detail??fe.message;if(Fe==="PASSWORD_REQUIRED"){Oe(""),Me(He,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Fe==="WRONG_PASSWORD"){Oe(""),Me(He,"Contrasea incorrecta. Intenta nuevamente.");return}Oe(String(Ee))}async function Ze(Te){Oe(""),ce(null),Se([]),xe(0);const He=crypto.randomUUID();M.current=new AbortController,Nv(He,oe,M.current.signal).catch(()=>{}),U("dry");try{const fe=$e(He,Te?.passwordOverride),Fe=await AT(fe,M.current.signal);ce(Fe.data)}catch(fe){Ie(fe,"dry")}finally{pe(),U(null)}}async function dt(Te){Oe(""),Se([]),xe(0);const He=crypto.randomUUID();M.current=new AbortController,Nv(He,oe,M.current.signal).catch(()=>{}),U("upload");try{const fe=$e(He,Te?.passwordOverride),Fe=await CT(fe,M.current.signal),Ee=Fe.headers?.["content-disposition"],Je=kT(Ee)??"LISTA_SALIDA.xlsx";UT(Fe.data,Je)}catch(fe){Ie(fe,"upload")}finally{pe(),U(null)}}return i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"row gap-20",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),i.jsx("div",{className:"mB-15",children:i.jsx(Vi,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!V})}),i.jsx("div",{className:"mB-15",children:i.jsx(Vi,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!V})}),i.jsxs("div",{className:"mB-15",children:[i.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),i.jsx("input",{className:"form-control",type:"password",value:c,onChange:Te=>d(Te.target.value),placeholder:"(opcional)"})]}),ee?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),i.jsx("input",{className:"form-control",type:"number",value:f,onChange:Te=>h(Number(Te.target.value))})]}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),i.jsx("input",{className:"form-control",type:"number",value:g,onChange:Te=>p(Number(Te.target.value))})]})]}),i.jsxs("div",{className:"mB-15",children:[i.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),i.jsx("input",{className:"form-control",value:D,onChange:Te=>O(Te.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),i.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),i.jsxs("div",{className:"row mT-10",children:[i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:Te=>x(Te.target.checked)}),i.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:C,onChange:Te=>B(Te.target.checked)}),i.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:N,onChange:Te=>q(Te.target.checked)}),i.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:j,onChange:Te=>_(Te.target.checked),disabled:!N}),i.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:T,onChange:Te=>K(Te.target.checked),disabled:!N}),i.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,De&&i.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:De}),i.jsx("div",{className:"d-flex justify-content-end mT-10",children:i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>ye(Te=>!Te),disabled:!!V,children:ee?"Menos Opciones":"Ms Opciones"})}),i.jsxs("div",{className:"d-flex gap-10 mT-20",children:[i.jsx("button",{className:"btn btn-primary",disabled:!k,onClick:()=>void dt(),children:V==="upload"?"Procesando...":"Procesar y Descargar"}),i.jsx("button",{className:"btn btn-outline-danger",disabled:!V,onClick:Re,children:"Cancelar"}),i.jsx("button",{className:"btn btn-outline-primary",disabled:!k,onClick:()=>void Ze(),children:V==="dry"?"Analizando...":"Analizar"})]}),X&&i.jsxs("div",{className:"mT-20",children:[i.jsx("h5",{className:"c-grey-900",children:"Resumen"}),i.jsxs("ul",{className:"mB-0",children:[i.jsxs("li",{children:["Filas a copiar: ",i.jsx("b",{children:X.would_copy})]}),i.jsxs("li",{children:["Fila inicio escritura (LISTA): ",i.jsx("b",{children:X.start_write_row})]}),i.jsxs("li",{children:["ltimo OI en LISTA: ",i.jsx("b",{children:String(X.last_oi_in_lista??"-")})]}),i.jsxs("li",{children:["Primer OI a copiar: ",i.jsx("b",{children:String(X.first_oi_to_copy??"-")})]}),i.jsxs("li",{children:["ltimo OI a copiar: ",i.jsx("b",{children:String(X.last_oi_to_copy??"-")})]})]})]})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),V?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${_e??0}%`},"aria-valuenow":_e??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:me.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:me.map((Te,He)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:wl(Te.type)})," ",Te.stage?i.jsxs("span",{className:"text-muted",children:["[",to(Te.stage),"]"]}):null,typeof Te.percent=="number"?i.jsxs("span",{className:"text-muted",children:["  ",Te.percent.toFixed(1),"%"]}):null]}),i.jsx("div",{className:"text-muted",children:Dl(Te.message??Te.detail??"")}),Te.code?i.jsxs("div",{className:"text-muted",children:["Cdigo: ",Te.code]}):null]},He))})})]})})]}),i.jsx(uu,{show:je,title:"Archivo protegido",confirmLabel:"Continuar",helpText:G,onClose:de,onConfirm:Te=>{d(Te),w(!1);const He=I.current;I.current=null,He&&(He==="dry"?Ze({passwordOverride:Te}):dt({passwordOverride:Te}))}})]})}function Hc(e){const a=e,s=String(a?.name||""),l=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(l)||/abort/i.test(l)}function zl(e){const a=Ke.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function ih(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let c="";try{for(;;){let f;try{f=await s.read()}catch(v){if(Hc(v))return;throw v}const{value:h,done:g}=f;if(g)break;if(!h||h.length===0)continue;c+=l.decode(h,{stream:!0});let p;for(;(p=c.indexOf(`
`))>=0;){const v=c.slice(0,p).trim();if(c=c.slice(p+1),!!v)try{a(JSON.parse(v))}catch{}}}const d=c.trim();if(d)try{a(JSON.parse(d))}catch{}}catch(d){if(Hc(d))return;throw d}}function Ks(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function oh(e,a,s){const l=zl(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw Ks(`No se pudo abrir el stream (${d.status})`,d.status,f)}await ih(d,a)}async function BT(e,a,s){const l=zl(`/logistica/log01/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const v=d.headers.get("X-Code")??void 0;throw Ks(`No se pudo abrir el stream (${d.status})`,d.status,v)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw Ks("Stream no es NDJSON",d.status);if(!d.body)throw Ks("Stream sin body",d.status);const h=d.body.getReader(),g=new TextDecoder("utf-8");let p="";try{for(;;){let x;try{x=await h.read()}catch(_){if(Hc(_))return;throw _}const{value:N,done:q}=x;if(q)break;if(!N||N.length===0)continue;p+=g.decode(N,{stream:!0});let j;for(;(j=p.indexOf(`
`))>=0;){const _=p.slice(0,j).trim();if(p=p.slice(j+1),!!_)try{a(JSON.parse(_))}catch{}}}const v=p.trim();if(v)try{a(JSON.parse(v))}catch{}}catch(v){if(Hc(v))return;throw v}}async function qT(e,a,s){const l=zl("/bases/actualizar/dry-run-upload"),c=Rn()?.token,d=await fetch(l,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const g=await d.json();g?.detail&&(h=String(g.detail))}catch{}throw Ks(h,d.status,f)}await ih(d,a)}async function IT(e,a){return Ke.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function $T(e,a){return Ke.post("/logistica/log01/start",e,{signal:a})}async function FT(e,a,s){const l=zl(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw Ks(`No se pudo hacer poll (${d.status})`,d.status,f)}return await d.json()}async function HT(e,a){return Ke.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function VT(e){await Ke.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function _m(e={}){const{limit:a=20,offset:s=0,include_deleted:l=!1,q:c,dateFrom:d,dateTo:f,source:h,status:g}=e,p={limit:a,offset:s,include_deleted:l};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),f&&f.trim()&&(p.dateTo=f.trim()),h&&h.trim()&&(p.source=h.trim()),g&&g.trim()&&(p.status=g.trim());const{data:v}=await Ke.get("/logistica/log01/history",{params:p});return v}async function ZT(e,a,s){return Ke.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:l=>l===200})}async function GT(e,a){await Ke.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function PT(){return(await Ke.get("/logistica/log02/explorador/roots")).data}async function QT(e){return(await Ke.get("/logistica/log02/explorador/listar",{params:{path:e}})).data}async function YT(e){return(await Ke.post("/logistica/log02/validar-rutas-unc",e)).data}async function KT(e,a){return(await Ke.post("/logistica/log02/copiar-conformes/start",e,{signal:a})).data}async function XT(e,a,s){const l=zl(`/logistica/log02/copiar-conformes/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw Ks(`No se pudo abrir el stream (${d.status})`,d.status,f)}await ih(d,a)}async function JT(e,a,s){const l=zl(`/logistica/log02/copiar-conformes/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw Ks(`No se pudo hacer poll (${d.status})`,d.status,f)}return await d.json()}async function WT(e){await Ke.post(`/logistica/log02/copiar-conformes/cancel/${encodeURIComponent(e)}`)}async function e2(e={}){const{limit:a=20,offset:s=0,q:l,dateFrom:c,dateTo:d,origin:f}=e,h={limit:a,offset:s};l&&l.trim()&&(h.q=l.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),f&&f.trim()&&(h.origin=f.trim());const{data:g}=await Ke.get("/oi/tools/formato-ac/history",{params:h});return g}async function t2(e,a){return Ke.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function C0(){const{data:e}=await Ke.get("/merge/config/upload-limits");return e}async function O0(e,a,s){return Ke.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function R0(e){await Ke.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function n2(e){const{data:a}=await Ke.post("/tools/files/upload",e);return a}async function a2(e){const{data:a}=await Ke.post("/tools/excel/inspect",e);return a}async function s2(e){const{data:a}=await Ke.post("/tools/excel/update",e);return a}async function r2(e){const{data:a}=await Ke.post("/tools/excel/change-password",e);return a}async function l2(e){const{data:a}=await Ke.post("/tools/excel/validate",e);return a}function i2({show:e,disabled:a=!1,title:s,accept:l,files:c,onClose:d,onAddFiles:f,onRemoveFile:h,onRemoveAll:g}){const p=b.useRef(null),v=b.useRef(0),[x,N]=b.useState(!1),[q,j]=b.useState("");b.useEffect(()=>{if(!e)return;const U=X=>{X.key==="Escape"&&d()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e,d]),b.useEffect(()=>{e||N(!1)},[e]),b.useEffect(()=>{e&&j("")},[e]);const _=b.useCallback(U=>{const X=lh(U,l);if(X.length===0)return;const ce=new Set(c.map(Fc)),_e=new Set(ce),xe=[],me=[];for(const Se of X){const De=Fc(Se);if(_e.has(De)){me.push(Se);continue}_e.add(De),xe.push(Se)}if(me.length>0){const Se=Array.from(new Set(me.map(Oe=>Oe.name))),De=me.length;if(Se.length===1){const Oe=De===1?"Se omiti 1 archivo duplicado":`Se omitieron ${De} archivos duplicados`;j(`${Oe}: "${Se[0]}".`)}else j(`Se omitieron ${De} archivos duplicados: ${Se.join(", ")}.`)}xe.length>0&&f(xe)},[l,c,f]);if(b.useEffect(()=>{if(!e)return;const U=ce=>{ce.preventDefault(),ce.stopPropagation()},X=ce=>{if(ce.preventDefault(),ce.stopPropagation(),a)return;const _e=ce.dataTransfer?.files?Array.from(ce.dataTransfer.files):[];_(_e)};return window.addEventListener("dragover",U,!0),window.addEventListener("drop",X,!0),()=>{window.removeEventListener("dragover",U,!0),window.removeEventListener("drop",X,!0)}},[e,a,_]),!e)return null;const C=()=>{a||p.current?.click()},B=U=>{const X=U.target.files?Array.from(U.target.files):[];_(X),U.currentTarget.value=""},T=()=>{a||(p.current&&(p.current.value=""),g())},K=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current+=1,N(!0))},D=U=>{U.preventDefault(),U.stopPropagation()},O=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&N(!1))},V=U=>{if(U.preventDefault(),U.stopPropagation(),v.current=0,N(!1),a)return;const X=U.dataTransfer?.files?Array.from(U.dataTransfer.files):[];_(X)};return i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:U=>{U.target===U.currentTarget&&d()},children:i.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),i.jsxs("div",{className:"modal-body",children:[i.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:B,disabled:a}),q?i.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[i.jsx("div",{children:q}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>j("")})]}):null,i.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:K,onDragOver:D,onDragLeave:O,onDrop:V,"aria-disabled":a?"true":"false",children:[i.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",i.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:C,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?i.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[i.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:C,disabled:a,children:"Agregar ms"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:T,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:i.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:i.jsx("ul",{className:"list-group",children:c.map(U=>{const X=E0(U);return i.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[i.jsx("div",{className:"text-truncate",style:{minWidth:0},children:U.name}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(X),disabled:a,children:"Eliminar"})]},X)})})})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function o2(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(l=>l.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function du({label:e,title:a,accept:s,disabled:l=!1,fullDropArea:c=!1,files:d,setFiles:f}){const[h,g]=b.useState(!1),[p,v]=b.useState(!1),[x,N]=b.useState(""),q=b.useRef(0),j=b.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),_=d.length===0?"Agregar archivos":"Modificar/agregar archivos",C=V=>{const U=lh(V,s);U.length!==0&&f(X=>{const{merged:ce,duplicates:_e}=TT(X,U);return _e.length>0&&N(o2(_e)),ce})},B=V=>{V.preventDefault(),V.stopPropagation(),!l&&(q.current+=1,v(!0))},T=V=>{V.preventDefault(),V.stopPropagation()},K=V=>{V.preventDefault(),V.stopPropagation(),!l&&(q.current=Math.max(0,q.current-1),q.current===0&&v(!1))},D=V=>{if(V.preventDefault(),V.stopPropagation(),q.current=0,v(!1),l)return;const U=V.dataTransfer?.files?Array.from(V.dataTransfer.files):[];C(U)},O=i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"form-label",children:e}),i.jsxs("div",{className:"input-group",children:[i.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:_}),i.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:j})]}),x?i.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[i.jsx("div",{children:x}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>N("")})]}):null]});return i.jsxs(i.Fragment,{children:[c?i.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:K,onDrop:D,"aria-disabled":l?"true":"false",children:O}):i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:e}),i.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:K,onDrop:D,"aria-disabled":l?"true":"false",children:i.jsxs("div",{className:"input-group",children:[i.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:_}),i.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:j})]})}),x?i.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[i.jsx("div",{children:x}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>N("")})]}):null]}),i.jsx(i2,{show:h,disabled:l,title:a,accept:s,files:d,onClose:()=>g(!1),onAddFiles:C,onRemoveFile:V=>f(U=>U.filter(X=>E0(X)!==V)),onRemoveAll:()=>f([])})]})}function c2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function u2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function d2(e){if(!pt.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),f=JSON.parse(d);return{detail:String(f?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=l?.detail??a.message;return{detail:String(c),code:s}}function f2(){const[e,a]=b.useState(null),[s,l]=b.useState([]),[c,d]=b.useState(""),[f,h]=b.useState(""),[g,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,x]=b.useState(9),[N,q]=b.useState("ERROR FINAL"),[j,_]=b.useState(!0),[C,B]=b.useState(!1),[T,K]=b.useState(!1),[D,O]=b.useState(null),[V,U]=b.useState(null),[X,ce]=b.useState([]),[_e,xe]=b.useState(""),me=b.useRef(null),Se=b.useRef(null),[De,Oe]=b.useState(!1),[M,I]=b.useState(!1),[ee,ye]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),je=b.useMemo(()=>!!e&&s.length>0&&!D,[e,s,D]);function w(de){ce(Ie=>[de,...Ie].slice(0,200));const Me=typeof de.percent=="number"?de.percent:typeof de.progress=="number"?de.progress:null;Me!=null&&Number.isFinite(Me)&&U(Math.max(0,Math.min(100,Me)))}function G(){me.current?.abort(),me.current=null}function ie(){D&&G()}function k(de,Me){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const Ie=new FormData;Ie.append("base_file",e);for(const dt of s)Ie.append("oi_files",dt);const Ze=(Me??c).trim();return Ze&&Ie.append("default_password",Ze),f.trim()&&Ie.append("per_file_passwords_json",f.trim()),g.trim()&&Ie.append("oi_pattern",g.trim()),Ie.append("oi_start_row",String(v)),N.trim()&&Ie.append("base_sheet",N.trim()),de&&Ie.append("operation_id",de),Ie}function oe(){Se.current=null,I(!1)}function pe(de,Me){Se.current=de,ye(Me),I(!0)}async function Re(de){xe(""),ce([]),U(0),me.current=new AbortController,O("dry");try{const Me=k(void 0,de?.passwordOverride);await qT(Me,w,me.current.signal)}catch(Me){if(Me?.name==="AbortError")return;const Ie=Me?.code,Ze=String(Me?.message??Me);if(Ie==="PASSWORD_REQUIRED"){xe(""),pe("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ie==="WRONG_PASSWORD"){xe(""),pe("dry","Contrasea incorrecta. Intenta nuevamente.");return}else xe(Ze)}finally{G(),O(null)}}async function $e(de){xe(""),ce([]),U(0);const Me=crypto.randomUUID();me.current=new AbortController,oh(Me,w,me.current.signal).catch(()=>{}),O("upload");try{const Ie=k(Me,de?.passwordOverride);Ie.append("replicate_merges",j?"true":"false"),Ie.append("replicate_row_heights",C?"true":"false"),Ie.append("replicate_col_widths",T?"true":"false");const Ze=await IT(Ie,me.current.signal),dt=Ze.headers["content-disposition"],Te=Ze.headers["x-file-name"],He=c2(dt)??Te??"base_actualizada.xlsx";u2(Ze.data,He)}catch(Ie){if(pt.isAxiosError(Ie)&&Ie.code==="ERR_CANCELED")return;const{detail:Ze,code:dt}=await d2(Ie);if(dt==="PASSWORD_REQUIRED"){xe(""),pe("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(dt==="WRONG_PASSWORD"){xe(""),pe("upload","Contrasea incorrecta. Intenta nuevamente.");return}else xe(Ze)}finally{G(),O(null)}}return i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),i.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-12 mB-15",children:i.jsx(Vi,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!D})}),i.jsx("div",{className:"col-12 mB-15",children:i.jsx(du,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!D})}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),i.jsx("input",{className:"form-control",type:"password",value:c,onChange:de=>d(de.target.value),disabled:!!D})]}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),i.jsx("input",{className:"form-control",value:N,onChange:de=>q(de.target.value),disabled:!!D})]}),De?i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),i.jsx("input",{className:"form-control",value:g,onChange:de=>p(de.target.value),disabled:!!D})]}):null,i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Fila inicio OI"}),i.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:de=>x(Number(de.target.value||9)),disabled:!!D})]}),i.jsxs("div",{className:"col-12 mB-15",children:[i.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),i.jsx("textarea",{className:"form-control",rows:4,value:f,onChange:de=>h(de.target.value),disabled:!!D,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),De?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"col-md-4 mB-15",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:j,onChange:de=>_(de.target.checked),disabled:!!D}),i.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),i.jsx("div",{className:"col-md-4 mB-15",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:C,onChange:de=>B(de.target.checked),disabled:!!D}),i.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),i.jsx("div",{className:"col-md-4 mB-15",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:T,onChange:de=>K(de.target.checked),disabled:!!D}),i.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),_e&&i.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:_e}),i.jsx("div",{className:"d-flex justify-content-end mT-10",children:i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Oe(de=>!de),disabled:!!D,children:De?"Menos Opciones":"Ms Opciones"})}),i.jsxs("div",{className:"d-flex gap-10 mT-15",children:[i.jsx("button",{className:"btn btn-primary",disabled:!je,onClick:()=>void $e(),children:D==="upload"?"Procesando...":"Procesar y Descargar"}),i.jsx("button",{className:"btn btn-outline-danger",disabled:!D,onClick:ie,children:"Cancelar"}),i.jsx("button",{className:"btn btn-outline-primary",disabled:!je,onClick:()=>void Re(),children:D==="dry"?"Analizando...":"Analizar"})]})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),D?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${V??0}%`},"aria-valuenow":V??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:X.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:X.map((de,Me)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:wl(de.type)})," ",de.stage?i.jsxs("span",{className:"text-muted",children:["[",to(de.stage),"]"]}):null,typeof de.percent=="number"?i.jsxs("span",{className:"text-muted",children:["  ",de.percent.toFixed(1),"%"]}):null]}),i.jsx("div",{className:"text-muted",children:Dl(de.message??de.detail??"")}),de.code?i.jsxs("div",{className:"text-muted",children:["Cdigo: ",de.code]}):null]},Me))})})]})})]}),i.jsx(uu,{show:M,title:"Archivo protegido",confirmLabel:"Continuar",helpText:ee,onClose:oe,onConfirm:de=>{d(de),I(!1);const Me=Se.current;Se.current=null,Me&&(Me==="dry"?Re({passwordOverride:de}):$e({passwordOverride:de}))}})]})}const m2="America/Lima";function h2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function p2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function g2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:m2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),f=h=>d.find(g=>g.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function y2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function b2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function v2(){const[e,a]=b.useState([]),[s,l]=b.useState(0),[c,d]=b.useState(!1),[f,h]=b.useState(""),[g,p]=b.useState(0),[v,x]=b.useState(""),[N,q]=b.useState(""),[j,_]=b.useState(""),[C,B]=b.useState(""),[T,K]=b.useState(20),[D,O]=b.useState(1),[V,U]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),X=b.useMemo(()=>(D-1)*T,[D,T]);b.useEffect(()=>{let I=!1;return d(!0),h(""),e2({limit:T,offset:X,q:V.q||void 0,dateFrom:V.dateFrom||void 0,dateTo:V.dateTo||void 0,origin:V.origin||void 0}).then(ee=>{I||(a(Array.isArray(ee?.items)?ee.items:[]),l(typeof ee?.total=="number"?ee.total:0))}).catch(ee=>{if(I)return;const ye=ee,je=ye.response?.data?.detail||ye.message||"No se pudo cargar historial.";h(je)}).finally(()=>{I||d(!1)}),()=>{I=!0}},[V,X,T,g]);const ce=()=>{U({q:v.trim(),dateFrom:N.trim(),dateTo:j.trim(),origin:C.trim()}),O(1)},_e=()=>{x(""),q(""),_(""),B(""),U({q:"",dateFrom:"",dateTo:"",origin:""}),O(1),p(I=>I+1)},xe=()=>p(I=>I+1),me=async I=>{try{h("");const ee=await t2(I),ye=ee.headers["content-disposition"],je=ee.headers["x-file-name"],w=h2(ye)??je??"formato_ac.xlsx";p2(ee.data,w)}catch(ee){const ye=ee;if(pt.isCancel(ye))return;const je=ye.response?.data?.detail||ye.message||"No se pudo descargar.";h(je)}},Se=s===0?0:X+1,De=s===0?0:Math.min(X+e.length,s),Oe=D>1,M=X+e.length<s;return i.jsx("div",{className:"container-fluid",children:i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[i.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:i.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),f?i.jsx("div",{className:"alert alert-danger",role:"alert",children:f}):null,i.jsxs("form",{className:"row g-2 align-items-end",onSubmit:I=>{I.preventDefault(),ce()},children:[i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{className:"form-label",children:"Buscar"}),i.jsx("input",{className:"form-control form-control-sm",value:v,onChange:I=>x(I.target.value),onKeyDown:I=>{I.key==="Enter"&&ce()},placeholder:"Operacion o usuario..."})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Fecha desde"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:N,onChange:I=>q(I.target.value)})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Fecha hasta"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:j,onChange:I=>_(I.target.value)})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Origen"}),i.jsxs("select",{className:"form-select form-select-sm",value:C,onChange:I=>B(I.target.value),children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),i.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:T,onChange:I=>{const ee=Number(I.target.value);K(Number.isFinite(ee)?ee:20),O(1)},children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[i.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:_e,children:"Limpiar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:xe,children:"Recargar"})]})]}),i.jsxs("div",{className:"mT-15",children:[c?i.jsx("div",{className:"text-muted",children:"Cargando historial..."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),i.jsx("tbody",{children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(I=>{const ee=I.created_by_full_name||I.created_by_username||"N/D";return i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:I.operation_id}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:g2(I.created_at)}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:ee}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:b2(I.origin)}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("span",{className:y2(I.status),children:I.status})}),i.jsx("td",{children:i.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void me(I.id),children:"Descargar"})})})]},I.id)})})]})}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[i.jsxs("div",{className:"small text-muted",children:["Mostrando ",Se,"-",De," de ",s," registros"]}),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>Math.max(1,I-1)),disabled:!Oe||c,children:"Anterior"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>I+1),disabled:!M||c,children:"Siguiente"})]})]})]})]})})})})}function x2(){return i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),i.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6 mB-15",children:i.jsx("div",{className:"card h-100",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title",children:"Correlativo"}),i.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),i.jsx(Cc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),i.jsx("div",{className:"col-md-6 mB-15",children:i.jsx("div",{className:"card h-100",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title",children:"No correlativo"}),i.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),i.jsx(Cc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function S2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function N2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function w2(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function j2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[f,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[N,q]=b.useState([]),j=b.useRef(null),_=b.useRef(null),C=b.useMemo(()=>!!s&&c.length>0&&!f,[s,c,f]);b.useEffect(()=>{C0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const V=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;V!=null&&Number.isFinite(V)&&x(Math.max(0,Math.min(100,V)))}function T(){j.current?.abort(),j.current=null}function K(){if(!f)return;const O=_.current;O&&R0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function D(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const V=crypto.randomUUID();_.current=V,O.append("operation_id",V),j.current=new AbortController,h(!0);try{const U=j.current?.signal;oh(V,B,U).catch(()=>{});const X=await O0(O,"correlativo",U),ce=X.headers["content-disposition"],_e=S2(ce)??"consolidado_correlativo.xlsx";N2(X.data,_e)}catch(U){if(pt.isAxiosError(U)&&U.code==="ERR_CANCELED"||pt.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const X=await w2(U);B({type:"error",stage:"error",detail:X}),p(X)}finally{_.current=null,h(!1),T()}}return i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),i.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&i.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",i.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",i.jsx("b",{children:e.max_tech_files})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-12 mB-15",children:i.jsx(Vi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:f})}),i.jsx("div",{className:"col-12 mB-15",children:i.jsx(du,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:f})})]}),g&&i.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),i.jsxs("div",{className:"d-flex gap-10 mT-20",children:[i.jsx("button",{className:"btn btn-primary mT-10",disabled:!C,onClick:D,children:f?"Procesando...":"Procesar y Descargar"}),i.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!f,onClick:K,children:"Cancelar"})]})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),f?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:N.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:N.map((O,V)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:wl(O.type)})," ",O.stage?i.jsxs("span",{className:"text-muted",children:["[",to(O.stage),"]"]}):null]}),i.jsx("div",{className:"text-muted",children:Dl(O.message??O.detail??"")})]},V))})})]})})]})})}function _2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function E2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function A2(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function C2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[f,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[N,q]=b.useState([]),j=b.useRef(null),_=b.useRef(null),C=b.useMemo(()=>!!s&&c.length>0&&!f,[s,c,f]);b.useEffect(()=>{C0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const V=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;V!=null&&Number.isFinite(V)&&x(Math.max(0,Math.min(100,V)))}function T(){j.current?.abort(),j.current=null}function K(){if(!f)return;const O=_.current;O&&R0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function D(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const V=crypto.randomUUID();_.current=V,O.append("operation_id",V),j.current=new AbortController,h(!0);try{const U=j.current?.signal;oh(V,B,U).catch(()=>{});const X=await O0(O,"no-correlativo",U),ce=X.headers["content-disposition"],_e=_2(ce)??"consolidado_no_correlativo.xlsx";E2(X.data,_e)}catch(U){if(pt.isAxiosError(U)&&U.code==="ERR_CANCELED"||pt.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const X=await A2(U);B({type:"error",stage:"error",detail:X}),p(X)}finally{_.current=null,h(!1),T()}}return i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),i.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&i.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",i.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",i.jsx("b",{children:e.max_tech_files})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-12 mB-15",children:i.jsx(Vi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:f})}),i.jsx("div",{className:"col-12 mB-15",children:i.jsx(du,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:f})})]}),g&&i.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),i.jsxs("div",{className:"d-flex gap-10 mT-20",children:[i.jsx("button",{className:"btn btn-primary mT-10",disabled:!C,onClick:D,children:f?"Procesando...":"Procesar y Descargar"}),i.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!f,onClick:K,children:"Cancelar"})]})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),f?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:N.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:N.map((O,V)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:wl(O.type)})," ",O.stage?i.jsxs("span",{className:"text-muted",children:["[",to(O.stage),"]"]}):null]}),i.jsx("div",{className:"text-muted",children:Dl(O.message??O.detail??"")})]},V))})})]})})]})})}async function Di(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function O2(){const[e,a]=b.useState(null),[s,l]=b.useState(""),[c,d]=b.useState(""),[f,h]=b.useState(""),[g,p]=b.useState("ERROR FINAL"),[v,x]=b.useState(""),[N,q]=b.useState("same_password"),[j,_]=b.useState(""),[C,B]=b.useState([{cell:"A1",value:""}]),[T,K]=b.useState(""),[D,O]=b.useState("no_password"),[V,U]=b.useState(""),[X,ce]=b.useState("ERROR FINAL"),[_e,xe]=b.useState(1),[me,Se]=b.useState(""),[De,Oe]=b.useState(""),[M,I]=b.useState(""),[ee,ye]=b.useState(null),[je,w]=b.useState(""),[G,ie]=b.useState(null),[k,oe]=b.useState([]),[pe,Re]=b.useState(null),$e=b.useMemo(()=>c.trim().length>0,[c]);function de(fe){oe(Fe=>[fe,...Fe].slice(0,200))}function Me(){w(""),oe([]),ie(0),Re(null)}async function Ie(){if(Me(),!e){w("Selecciona un archivo para subir.");return}ye("upload");try{de({type:"status",stage:"upload",message:"Subiendo archivo..."}),ie(30);const fe=new FormData;fe.append("file",e),s.trim()&&fe.append("suggested_name",s.trim());const Fe=await n2(fe);d(Fe.relative_path),Re(Fe),de({type:"complete",stage:"upload",message:"Archivo subido."}),ie(100)}catch(fe){const Fe=await Di(fe);w(Fe),de({type:"error",stage:"upload",detail:Fe})}finally{ye(null)}}async function Ze(){if(Me(),!$e){w("Ingresa o sube un archivo para obtener file_path.");return}ye("inspect");try{de({type:"status",stage:"inspect",message:"Inspeccionando..."}),ie(50);const fe=await a2({file_path:c.trim(),open_password:f.trim()||null});Re(fe),de({type:"complete",stage:"inspect",message:"Inspeccin completada."}),ie(100)}catch(fe){const Fe=await Di(fe);w(Fe),de({type:"error",stage:"inspect",detail:Fe})}finally{ye(null)}}async function dt(){if(Me(),!$e){w("Ingresa o sube un archivo para obtener file_path.");return}if(!g.trim()){w("Ingresa el nombre de la hoja.");return}const fe=C.map(Fe=>({cell:Fe.cell.trim(),value:Fe.value})).filter(Fe=>Fe.cell);if(fe.length===0){w("Agrega al menos una edicin.");return}ye("update");try{de({type:"status",stage:"update",message:"Aplicando ediciones..."}),ie(50);const Fe=await s2({file_path:c.trim(),edits:fe.map(Ee=>({sheet:g.trim(),cell:Ee.cell,value:Ee.value})),open_password:v.trim()||null,save_mode:N,new_password:N==="new_password"&&j.trim()||null});Re(Fe),de({type:"complete",stage:"update",message:"Actualizacin completada."}),ie(100)}catch(Fe){const Ee=await Di(Fe);w(Ee),de({type:"error",stage:"update",detail:Ee})}finally{ye(null)}}async function Te(){if(Me(),!$e){w("Ingresa o sube un archivo para obtener file_path.");return}if(!T.trim()){w("Ingresa la contrasea de apertura (open_password).");return}if(D==="new_password"&&!V.trim()){w("Ingresa la nueva contrasea.");return}ye("change-password");try{de({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),ie(50);const fe=await r2({file_path:c.trim(),open_password:T.trim(),mode:D,new_password:D==="new_password"?V.trim():null});Re(fe),de({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),ie(100)}catch(fe){const Fe=await Di(fe);w(Fe),de({type:"error",stage:"change-password",detail:Fe})}finally{ye(null)}}async function He(){if(Me(),!$e){w("Ingresa o sube un archivo para obtener file_path.");return}let fe={};if(De.trim())try{fe=JSON.parse(De)}catch{w("type_rules debe ser JSON vlido.");return}const Fe=me.split(",").map(Ee=>Ee.trim()).filter(Boolean);ye("validate");try{de({type:"status",stage:"validate",message:"Validando..."}),ie(50);const Ee=await l2({file_path:c.trim(),sheet:X.trim()||null,header_row:_e,required_columns:Fe,type_rules:fe,open_password:M.trim()||null});Re(Ee),de({type:"complete",stage:"validate",message:"Validacin completada."}),ie(100)}catch(Ee){const Je=await Di(Ee);w(Je),de({type:"error",stage:"validate",detail:Je})}finally{ye(null)}}return i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),i.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),i.jsx("div",{className:"card mB-15",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-8 mB-10",children:i.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!ee,onChange:fe=>a(fe.target.files?.[0]??null)})}),i.jsx("div",{className:"col-md-4 mB-10",children:i.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!ee,onChange:fe=>l(fe.target.value)})})]}),i.jsx("button",{className:"btn btn-outline-primary",disabled:!!ee||!e,onClick:Ie,children:ee==="upload"?"Subiendo...":"Subir"})]})}),i.jsxs("div",{className:"mB-15",children:[i.jsx("label",{className:"form-label",children:"file_path"}),i.jsx("input",{className:"form-control",value:c,disabled:!!ee,onChange:fe=>d(fe.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),i.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),i.jsx("div",{className:"card mB-15",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"2) Inspect"}),i.jsxs("div",{className:"row align-items-end",children:[i.jsxs("div",{className:"col-md-8 mB-10",children:[i.jsx("label",{className:"form-label",children:"open_password (opcional)"}),i.jsx("input",{className:"form-control",type:"password",value:f,disabled:!!ee,onChange:fe=>h(fe.target.value)})]}),i.jsx("div",{className:"col-md-4 mB-10",children:i.jsx("button",{className:"btn btn-primary w-100",disabled:!!ee||!$e,onClick:Ze,children:ee==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),i.jsx("div",{className:"card mB-15",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"Hoja"}),i.jsx("input",{className:"form-control",value:g,disabled:!!ee,onChange:fe=>p(fe.target.value)})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"open_password (opcional)"}),i.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!ee,onChange:fe=>x(fe.target.value)})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"save_mode"}),i.jsxs("select",{className:"form-select",value:N,disabled:!!ee,onChange:fe=>q(fe.target.value),children:[i.jsx("option",{value:"same_password",children:"same_password"}),i.jsx("option",{value:"no_password",children:"no_password"}),i.jsx("option",{value:"new_password",children:"new_password"})]})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"new_password"}),i.jsx("input",{className:"form-control",type:"password",value:j,disabled:!!ee||N!=="new_password",onChange:fe=>_(fe.target.value),placeholder:N==="new_password"?"Requerido":""})]})]}),i.jsxs("div",{className:"mT-10",children:[i.jsx("label",{className:"form-label",children:"Ediciones"}),C.map((fe,Fe)=>i.jsxs("div",{className:"row g-2 mB-10",children:[i.jsx("div",{className:"col-md-3",children:i.jsx("input",{className:"form-control",value:fe.cell,disabled:!!ee,onChange:Ee=>{const Je=C.slice();Je[Fe]={...Je[Fe],cell:Ee.target.value},B(Je)},placeholder:"Celda (A1)"})}),i.jsx("div",{className:"col-md-7",children:i.jsx("input",{className:"form-control",value:fe.value,disabled:!!ee,onChange:Ee=>{const Je=C.slice();Je[Fe]={...Je[Fe],value:Ee.target.value},B(Je)},placeholder:"Valor"})}),i.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!ee,onClick:()=>B(Ee=>[...Ee,{cell:"A1",value:""}]),children:"+"}),i.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!ee||C.length===1,onClick:()=>B(Ee=>Ee.filter((Je,A)=>A!==Fe)),children:""})]})]},Fe))]}),i.jsx("button",{className:"btn btn-primary",disabled:!!ee||!$e,onClick:dt,children:ee==="update"?"Actualizando...":"Update"})]})}),i.jsx("div",{className:"card mB-15",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"4) Change password"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"open_password"}),i.jsx("input",{className:"form-control",type:"password",value:T,disabled:!!ee,onChange:fe=>K(fe.target.value)})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"mode"}),i.jsxs("select",{className:"form-select",value:D,disabled:!!ee,onChange:fe=>O(fe.target.value),children:[i.jsx("option",{value:"no_password",children:"no_password"}),i.jsx("option",{value:"new_password",children:"new_password"})]})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"new_password"}),i.jsx("input",{className:"form-control",type:"password",value:V,disabled:!!ee||D!=="new_password",onChange:fe=>U(fe.target.value),placeholder:D==="new_password"?"Requerido":""})]}),i.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:i.jsx("button",{className:"btn btn-primary w-100",disabled:!!ee||!$e,onClick:Te,children:ee==="change-password"?"Procesando...":"Change password"})})]})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"5) Validate"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"sheet (opcional)"}),i.jsx("input",{className:"form-control",value:X,disabled:!!ee,onChange:fe=>ce(fe.target.value)})]}),i.jsxs("div",{className:"col-md-3 mB-10",children:[i.jsx("label",{className:"form-label",children:"header_row"}),i.jsx("input",{className:"form-control",type:"number",min:1,value:_e,disabled:!!ee,onChange:fe=>xe(Number(fe.target.value||1))})]}),i.jsxs("div",{className:"col-md-3 mB-10",children:[i.jsx("label",{className:"form-label",children:"open_password (opcional)"}),i.jsx("input",{className:"form-control",type:"password",value:M,disabled:!!ee,onChange:fe=>I(fe.target.value)})]}),i.jsxs("div",{className:"col-12 mB-10",children:[i.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),i.jsx("input",{className:"form-control",value:me,disabled:!!ee,onChange:fe=>Se(fe.target.value),placeholder:"ColA, ColB, ColC"})]}),i.jsxs("div",{className:"col-12 mB-10",children:[i.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),i.jsx("textarea",{className:"form-control",rows:3,value:De,disabled:!!ee,onChange:fe=>Oe(fe.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),i.jsx("button",{className:"btn btn-primary",disabled:!!ee||!$e,onClick:He,children:ee==="validate"?"Validando...":"Validate"})]})}),je&&i.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:je})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),ee?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${G??0}%`},"aria-valuenow":G??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:k.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:k.map((fe,Fe)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:fe.type})," ",fe.stage?i.jsxs("span",{className:"text-muted",children:["[",fe.stage,"]"]}):null]}),i.jsx("div",{className:"text-muted",children:fe.message??fe.detail??""})]},Fe))})}),i.jsx("hr",{className:"mY-15"}),i.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),pe?i.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(pe,null,2)}):i.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function R2(){const e=Wn(),a=Or(),{toast:s}=Rr(),l=Rn(),c=Nl(l?.role),d=Ii(),f=c&&!(d&&d>0),{data:h,isLoading:g,error:p}=_r({queryKey:["catalogs"],queryFn:Km,enabled:f}),v=h?.bancos??[],[x,N]=b.useState(()=>d&&d>0?d:0),[q,j]=b.useState(!1),_=b.useMemo(()=>v.find(K=>K.id===x)?.name??null,[v,x]);b.useEffect(()=>{const T=e.state;T?.toast&&(s({kind:T.toast.kind??"info",title:T.toast.title,message:T.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),b.useEffect(()=>{f&&(x>0||v.length>0&&N(v[0].id))},[x,v,f]);const C=x>0&&!q,B=async()=>{if(C)try{j(!0);const T=await Kx(x),K=hm(T.userId,T.bancoId??x);if(K.target){a(K.target,{replace:!0});return}s({kind:"success",title:"Banco",message:_?`Banco seleccionado: ${_}`:"Banco seleccionado."})}catch(T){const K=T?.response?.data?.detail??T?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(K)})}finally{j(!1)}};return i.jsxs("div",{className:"vi-home",children:[i.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),f&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsx("div",{className:"modal-header",children:i.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),i.jsxs("div",{className:"modal-body",children:[i.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),i.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),i.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:T=>N(Number(T.target.value)),disabled:g||q,children:v.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))}),p?i.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{type:"button",className:"btn btn-primary",disabled:!C,onClick:B,children:q?"Guardando...":"Continuar"})})]})})})]})}const zi=(...e)=>{};function T2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function D2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function z2(e,a){let s=null,l=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function M2(){const[e,a]=b.useState([]),[s,l]=b.useState(""),[c,d]=b.useState([]),[f,h]=b.useState(0),[g,p]=b.useState("Listo para procesar"),[v,x]=b.useState(!1),[N,q]=b.useState(""),[j,_]=b.useState(!1),[C,B]=b.useState(null),[T,K]=b.useState(null),[D,O]=b.useState(!1);function V(R){const P=R?.series_duplicates_eliminated??R?.detail?.series_duplicates_eliminated??R?.series_duplcates_eliminated;return typeof P=="number"?P:null}const U={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function X(R){const P=String(R??"").trim().toUpperCase();return P?U[P]??P:""}function ce(R){if(!R)return"";let P=Dl(R);P=P.replace(/\bERROR\b/gi,"Error");for(const[Z,se]of Object.entries(U))P=P.replace(new RegExp(`\\b${Z}\\b`,"g"),se);return P}function _e(R,P){const Z=X(R),se=ce(P);return se?Z&&!se.toLowerCase().includes(Z.toLowerCase())?`${Z}: ${se}`:se:Z||"N/D"}function xe(R,P,Z){const se=String(Z??"").trim();if(se)return se;const Ce=Number(R);if(!Number.isFinite(Ce)||Ce<=0)return"N/D";const Le=Number(P);return Number.isFinite(Le)&&Le>0?`OI-${String(Ce).padStart(4,"0")}-${String(Le).padStart(4,"0")}`:`OI-${String(Ce).padStart(4,"0")}`}function me(R){const P=R?.rows_total_read??R?.totals_input?.rows_read;return typeof P=="number"?P:null}const Se=b.useMemo(()=>(Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[]).filter(P=>P?.status==="OK"&&String(P?.source??"").toUpperCase()==="BASES").slice().sort((P,Z)=>{const se=Number(P?.oi_year),Ce=Number(Z?.oi_year),Le=Number.isFinite(se)&&se>0,ae=Number.isFinite(Ce)&&Ce>0;if(Le&&ae&&se!==Ce)return se-Ce;if(Le&&!ae)return-1;if(!Le&&ae)return 1;const ke=Number(P?.oi_num),Ve=Number(Z?.oi_num),at=Number.isFinite(ke),en=Number.isFinite(Ve);if(at&&en&&ke!==Ve)return ke-Ve;if(at&&!en)return-1;if(!at&&en)return 1;const Ne=String(P?.oi_tag??P?.oi??P?.oi_num??"").toUpperCase(),et=String(Z?.oi_tag??Z?.oi??Z?.oi_num??"").toUpperCase();return Ne.localeCompare(et)}),[T]),De=b.useMemo(()=>(Array.isArray(T?.files_rejected)?T.files_rejected:[]).slice().sort((P,Z)=>{const se=String(P?.oi??P?.filename??"").toUpperCase(),Ce=String(Z?.oi??Z?.filename??"").toUpperCase();return se.localeCompare(Ce)}),[T]),Oe=b.useMemo(()=>{const R=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),P=T?.by_source;if(P&&typeof P=="object")return P;const Z={BASES:R(),GASELAG:R()},se=Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[];for(const Le of se){if(Le?.status!=="OK")continue;const ke=String(Le?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";Z[ke].files_ok+=1,Z[ke].rows_read+=Number(Le?.rows_read??0)||0,Z[ke].conformes+=Number(Le?.conformes??0)||0,Z[ke].no_conformes+=Number(Le?.no_conformes??0)||0,Z[ke].rows_ignored_invalid_estado+=Number(Le?.rows_ignored_invalid_estado??0)||0}const Ce=Array.isArray(T?.files_rejected)?T.files_rejected:[];for(const Le of Ce){const ke=String(Le?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";Z[ke].files_error+=1}for(const Le of["BASES","GASELAG"])Z[Le].files_total=Z[Le].files_ok+Z[Le].files_error;return Z},[T]),M=b.useRef(null),I=b.useRef(null),ee=b.useRef(null),ye=b.useRef(!1),je=b.useRef(null),w=b.useRef(null),G=b.useRef(null),ie=b.useRef(!1),k=b.useRef(!1),oe=b.useRef(-1),pe=b.useRef(-1),Re=b.useRef(!1);function $e(){return je.current||(je.current=crypto.randomUUID()),je.current}function de(R){const P=`${wl(R.type)}  ${to(R.stage)}  ${ce(R.message??R.detail??"")}`;if(p(P),d(Z=>{const se=[R,...Z];if(!Re.current&&R.stage==="cancelled"){Re.current=!0;const Ce=se.filter(Ve=>Ve.stage==="file_done"||Ve.stage==="file_error").length,Le=se.filter(Ve=>Ve.stage==="file_done").length,ae=se.filter(Ve=>Ve.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Ce} (OK: ${Le}, Rechazados: ${ae}). No se gener resultado final.`},...se]}return se}),R.type==="complete"){const Z=R.result??null;K(Z)}typeof R.progress=="number"&&h(Math.round(R.progress)),typeof R.percent=="number"&&h(Math.round(R.percent)),!ye.current&&(R.type==="complete"||R.stage==="cancelled"||R.stage==="failed")&&(ye.current=!0,R.type==="complete"?(_(!0),B(je.current)):(_(!1),B(null),je.current=null),x(!1),dt("terminal_event"),Te())}function Me(R){return typeof R.cursor!="number"?!1:R.cursor<=pe.current?!0:(pe.current=R.cursor,R.cursor>oe.current&&(oe.current=R.cursor),!1)}function Ie(R){ye.current||Me(R)||de(R)}function Ze(R,P){const Z=new FormData;Z.append("operation_id",R),Z.append("source","AUTO"),s.trim()&&Z.append("output_filename",s.trim());for(const se of P)Z.append("files",se);return Z}function dt(R){I.current&&(ee.current=R,I.current.abort(),I.current=null)}function Te(R){k.current&&(k.current=!1,w.current!=null&&(window.clearTimeout(w.current),w.current=null),G.current?.abort(),G.current=null,ie.current=!1)}function He(R){k.current&&(w.current!=null&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>{fe()},R))}async function fe(){if(!k.current||ie.current)return;const R=je.current;if(!R){Te();return}ie.current=!0;try{const P=await FT(R,oe.current,G.current?.signal);zi("[LOG01] poll cursor =",oe.current,"->",P.cursor_next),oe.current=P.cursor_next;for(const Z of P.events)Ie(Z);if(P.done&&P.events.length===0){Te("done");return}}catch(P){P?.name}finally{ie.current=!1,k.current&&He(350)}}function Fe(R){k.current||(k.current=!0,G.current=new AbortController,He(0))}function Ee(){M.current?.abort(),M.current=null}async function Je(){if(!v)return;const R=je.current;if(R)try{await VT(R)}catch(P){const Z=P;pt.isCancel(Z)||q(Z.response?.data?.detail||Z.message||"No se pudo cancelar la operacion")}Ee()}async function A(){q(""),d([]),K(null),h(0),p("Listo para procesar"),_(!1),B(null),ee.current=null,ye.current=!1,Re.current=!1,oe.current=-1,pe.current=-1,Te();const R=[...e];if(!R.length){q("Debes seleccionar al menos 1 Excel.");return}je.current=null;const P=$e();let Z=null,se=null;const Ce=new Promise((ke,Ve)=>{Z=ke,se=Ve});I.current=new AbortController,M.current=new AbortController,BT(P,ke=>{if(ke.type==="hello"){Z&&(Z(),Z=null);return}Ie(ke)},I.current.signal).then(()=>{ye.current||Fe()}).catch(ke=>{ke?.name==="AbortError"?zi("[LOG01] progress stream aborted (reason) =",ee.current):(se&&(se(ke),se=null),Fe())}),x(!0);try{await z2(Ce,1800)?zi("[LOG01] hello received"):Fe("hello_timeout");const Ve=Ze(P,R);zi("[LOG01] operation_id(start) =",P),await $T(Ve,M.current.signal)}catch(ke){const Ve=ke;if(pt.isCancel(Ve))return;const at=Ve.response?.data?.detail||Ve.message||"Error inesperado";q(at),x(!1),Ee(),dt("start_failed"),Te(),je.current=null}finally{Ee()}}async function H(){const R=C??je.current;if(!R){q("No hay resultado disponible.");return}try{q(""),zi("[LOG01] operation_id(result) =",R);const P=await HT(R),Z=P.headers["content-disposition"],se=P.headers["x-file-name"],Ce=T2(Z)??se??"BD_CONSOLIDADO.xlsx";D2(P.data,Ce)}catch(P){const Z=P;if(pt.isCancel(Z))return;const se=Z.response?.data?.detail||Z.message||"No se pudo descargar.";q(se)}}return i.jsx("div",{className:"container-fluid",children:i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),N&&i.jsx("div",{className:"alert alert-danger",role:"alert",children:N}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-12 mB-15",children:[i.jsx(du,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:v}),i.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),i.jsx("input",{className:"form-control",value:s,onChange:R=>l(R.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),i.jsxs("div",{className:"vi-log01-actions",children:[i.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:A,disabled:v,children:v?"Procesando...":"Consolidar"}),v?i.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Je(),children:"Cancelar"}):null,!v&&j?i.jsx(i.Fragment,{children:i.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void H(),children:"Descargar Excel"})}):null]})]})]}),i.jsxs("div",{className:"mT-10",children:[i.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),v?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress",children:i.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${f}%`},"aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":100,children:[f,"%"]})}),i.jsx("div",{className:"mT-10 text-muted",children:g})]}),!v&&T?i.jsxs("div",{className:"mT-20",children:[i.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),i.jsx("div",{className:"bd p-10",children:i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("div",{className:"small text-muted",children:"Archivos"}),i.jsxs("div",{className:"small",children:["Total: ",i.jsx("strong",{children:T.files_total??"N/D"}),"  OK:"," ",i.jsx("strong",{children:T.files_ok??"N/D"}),"  Rechazados:"," ",i.jsx("strong",{children:T.files_error??"N/D"})]}),i.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),i.jsx("tbody",{children:["BASES","GASELAG"].map(R=>{const P=Oe?.[R]??{},Z=P?.files_total??Number(P?.files_ok??0)+Number(P?.files_error??0);return i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:R})}),i.jsxs("td",{style:{whiteSpace:"nowrap"},children:[i.jsx("strong",{children:Z??0})," ",i.jsxs("span",{className:"text-muted",children:["(OK: ",P?.files_ok??0,"  Rech: ",P?.files_error??0,")"]})]}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:P?.rows_read??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:P?.conformes??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:P?.no_conformes??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:P?.rows_ignored_invalid_estado??0})})]},R)})})]})}),i.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),Se.length>0?i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),i.jsx("tbody",{children:Se.map((R,P)=>i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:xe(R?.oi_num,R?.oi_year,R?.oi_tag??R?.oi)}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:R?.rows_read??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:R?.conformes??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:R?.no_conformes??0})})]},P))})]})}):i.jsx("div",{className:"small text-muted",children:"N/D"}),Number(Oe?.GASELAG?.rows_read??0)>0?i.jsxs("div",{className:"mT-10 small",children:[i.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",i.jsx("strong",{children:Oe.GASELAG.rows_read??0}),"  Conformes:"," ",i.jsx("strong",{children:Oe.GASELAG.conformes??0}),"  No conformes:"," ",i.jsx("strong",{children:Oe.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",i.jsx("strong",{children:Oe.GASELAG.rows_ignored_invalid_estado??0})]}):null,i.jsxs("div",{className:"col-12 mT-10 p-0",children:[i.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),i.jsxs("div",{className:"small",children:["Registros ledos:"," ",i.jsx("strong",{children:T.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",i.jsx("strong",{children:T.totals_input?.conformes??"N/D"}),"  No conformes:"," ",i.jsx("strong",{children:T.totals_input?.no_conformes??"N/D"})]})]})]}),i.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[De.length>0?i.jsxs("div",{className:"mT-15",children:[i.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),i.jsx("tbody",{children:De.map((R,P)=>{const Z=_e(R?.code,R?.detail),se=String(R?.source??"").toUpperCase();let Ce=R?.filename??"N/D";if(se==="BASES"){const Le=Number(R?.oi_num),ae=xe(Le,R?.oi_year,R?.oi_tag??R?.oi);ae!=="N/D"&&(Ce=`${ae} / ${Ce}`)}else se==="GASELAG"&&(Ce=`GASELAG / ${Ce}`);return i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:Ce}),i.jsx("td",{children:Z})]},P)})})]})})]}):null,i.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),i.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",i.jsx("strong",{children:T.series_total_dedup??"N/D"}),"  Conformes finales:"," ",i.jsx("strong",{children:T.series_conformes??"N/D"}),"  No conformes finales:"," ",i.jsx("strong",{children:T.series_no_conformes_final??"N/D"})]}),i.jsx("div",{className:"mT-10",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(R=>!R),children:D?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),D?i.jsxs("div",{className:"mT-10",children:[i.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),i.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",i.jsx("strong",{children:me(T)??"N/D"})," "," Duplicados eliminados:"," ",i.jsx("strong",{children:V(T)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",i.jsx("strong",{children:(()=>{const R=me(T),P=V(T);if(typeof R=="number"&&typeof P=="number")return R-P;const Z=T.series_total_dedup;return typeof Z=="number"?Z:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&i.jsxs("div",{className:"mT-20",children:[i.jsx("h6",{className:"c-grey-900",children:"Eventos"}),i.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((R,P)=>{const Z=String(R.message??""),se=String(R.code??""),Ce=String(R.detail??""),Le=ce(Z||Ce||""),ae=Le.toLowerCase(),ke=X(se),Ve=ce(Ce),at=[];ke&&!ae.includes(ke.toLowerCase())&&at.push(ke),Ve&&!ae.includes(Ve.toLowerCase())&&at.push(Ve);const en=at.join("  ");return i.jsxs("div",{className:"small",children:[wl(R.type),"  ",Le,en?i.jsxs("span",{className:"text-muted",children:[" (",en,")"]}):null]},P)})})]})]})})})})}const k2="America/Lima";function U2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function L2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function B2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:k2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),f=h=>d.find(g=>g.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function Qf(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function wv(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function q2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning text-dark":"badge bg-secondary"}function I2(){const e=Or(),a=Rn(),s=Ma(a?.role,a?.username),l=s==="admin"||s==="administrator",[c,d]=b.useState([]),[f,h]=b.useState(0),[g,p]=b.useState(!1),[v,x]=b.useState(""),[N,q]=b.useState(0),[j,_]=b.useState(""),[C,B]=b.useState(""),[T,K]=b.useState(""),[D,O]=b.useState(""),[V,U]=b.useState(""),[X,ce]=b.useState(20),[_e,xe]=b.useState(1),[me,Se]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),De=b.useMemo(()=>(_e-1)*X,[_e,X]);b.useEffect(()=>{let k=!1;return p(!0),x(""),_m({limit:X,offset:De,include_deleted:!1,q:me.q||void 0,dateFrom:me.dateFrom||void 0,dateTo:me.dateTo||void 0,source:me.source||void 0,status:me.status||void 0}).then(oe=>{k||(d(Array.isArray(oe?.items)?oe.items:[]),h(typeof oe?.total=="number"?oe.total:0))}).catch(oe=>{if(k)return;const pe=oe,Re=pe.response?.data?.detail||pe.message||"No se pudo cargar historial.";x(Re)}).finally(()=>{k||p(!1)}),()=>{k=!0}},[me,De,X,N]);const Oe=()=>{Se({q:j.trim(),dateFrom:C.trim(),dateTo:T.trim(),source:D.trim(),status:V.trim()}),xe(1)},M=()=>{_(""),B(""),K(""),O(""),U(""),Se({q:"",dateFrom:"",dateTo:"",source:"",status:""}),xe(1),q(k=>k+1)},I=()=>q(k=>k+1),ee=async(k,oe)=>{try{x("");const pe=await ZT(k,oe),Re=pe.headers["content-disposition"],$e=pe.headers["x-file-name"],de=U2(Re)??$e??`${oe}.bin`;L2(pe.data,de)}catch(pe){const Re=pe;if(pt.isCancel(Re))return;const $e=Re.response?.data?.detail||Re.message||"No se pudo descargar.";x($e)}},ye=async k=>{if(l&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await GT(k),I()}catch(oe){const pe=oe;if(pt.isCancel(pe))return;const Re=pe.response?.data?.detail||pe.message||"No se pudo eliminar.";x(Re)}},je=f===0?0:De+1,w=f===0?0:Math.min(De+c.length,f),G=_e>1,ie=De+c.length<f;return i.jsx("div",{className:"container-fluid",children:i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[i.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[i.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),i.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),v?i.jsx("div",{className:"alert alert-danger",role:"alert",children:v}):null,i.jsxs("form",{className:"row g-2 align-items-end",onSubmit:k=>{k.preventDefault(),Oe()},children:[i.jsxs("div",{className:"col-md-3",children:[i.jsx("label",{className:"form-label",children:"Buscar"}),i.jsx("input",{className:"form-control form-control-sm",value:j,onChange:k=>_(k.target.value),onKeyDown:k=>{k.key==="Enter"&&Oe()},placeholder:"Usuario, serie inicial, serie final..."})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Fecha desde"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:C,onChange:k=>B(k.target.value)})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Fecha hasta"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:T,onChange:k=>K(k.target.value)})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Origen"}),i.jsxs("select",{className:"form-select form-select-sm",value:D,onChange:k=>O(k.target.value),children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"AUTO",children:"AUTO"}),i.jsx("option",{value:"BASES",children:"BASES"}),i.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Estado"}),i.jsxs("select",{className:"form-select form-select-sm",value:V,onChange:k=>U(k.target.value),children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),i.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),i.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),i.jsxs("div",{className:"col-md-1",children:[i.jsx("label",{className:"form-label",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:X,onChange:k=>{const oe=Number(k.target.value);ce(Number.isFinite(oe)?oe:20),xe(1)},children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[i.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:g,children:"Buscar"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:M,children:"Limpiar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:I,children:"Recargar"})]})]}),i.jsxs("div",{className:"mT-15",children:[g?i.jsx("div",{className:"text-muted",children:"Cargando historial..."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),i.jsx("tbody",{children:c.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(k=>{const oe=k.summary_json,pe=wv(oe,"serie_ini"),Re=wv(oe,"serie_fin"),$e=Qf(oe,"series_total_dedup"),de=Qf(oe,"series_conformes"),Me=Qf(oe,"series_no_conformes_final"),Ie=k.created_by_full_name||k.created_by_username||"N/D";return i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:B2(k.created_at)}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:Ie}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("span",{className:q2(k.status),children:k.status})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:pe}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:Re}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:$e})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:de})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:Me})}),i.jsx("td",{children:i.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void ee(k.id,"excel"),children:"Excel"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void ee(k.id,"no-conforme"),children:"No conforme"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void ee(k.id,"manifiesto"),children:"Manifiesto"}),l?i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void ye(k.id),children:"Eliminar"}):null]})})]},k.id)})})]})}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[i.jsxs("div",{className:"small text-muted",children:["Mostrando ",je,"-",w," de ",f]}),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>xe(k=>Math.max(1,k-1)),disabled:!G||g,children:"Anterior"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>xe(k=>k+1),disabled:!ie||g,children:"Siguiente"})]})]})]})]})})})})}function pl(e){return e===!0?"badge bg-success":e===!1?"badge bg-danger":"badge bg-secondary"}const Yf="medileser_log02_rutas_v1",$2="America/Lima";function jv(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:$2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),f=h=>d.find(g=>g.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function _v(e){const a=e,s=String(a?.name||""),l=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(l)||/abort/i.test(l)}function F2(){const[e,a]=b.useState([""]),[s,l]=b.useState(""),[c,d]=b.useState(!1),[f,h]=b.useState(""),[g,p]=b.useState(null),[v,x]=b.useState(!1),[N,q]=b.useState(!1),[j,_]=b.useState(!1),[C,B]=b.useState(""),[T,K]=b.useState([]),[D,O]=b.useState(null),[V,U]=b.useState(""),[X,ce]=b.useState(""),[_e,xe]=b.useState(""),[me,Se]=b.useState(""),[De,Oe]=b.useState("COMPLETADO"),[M,I]=b.useState(!1),[ee,ye]=b.useState(""),[je,w]=b.useState(0),[G,ie]=b.useState(""),[k,oe]=b.useState(""),[pe,Re]=b.useState(""),[$e,de]=b.useState([]),[Me,Ie]=b.useState([]),[Ze,dt]=b.useState(null),Te=b.useRef(null),He=b.useRef(!1),fe=b.useRef(!1),Fe=b.useRef(null),Ee=b.useRef(null),Je=b.useRef(!1),A=b.useRef(!1),H=b.useRef(-1),R=b.useRef(-1),P=b.useRef(""),Z=b.useRef(!0),[se,Ce]=b.useState(!1),[Le,ae]=b.useState("origen"),[ke,Ve]=b.useState(null),[at,en]=b.useState([]),[Ne,et]=b.useState(""),[Dt,_t]=b.useState(""),[hn,ln]=b.useState([]),[ha,Fn]=b.useState(!1),[st,Un]=b.useState("");b.useEffect(()=>{try{const Q=localStorage.getItem(Yf);if(!Q)return;const be=JSON.parse(Q),Ue=Array.isArray(be.origenes)?be.origenes:[],Be=typeof be?.destino=="string"?be.destino:"",wt=typeof be?.run_id=="number"?be.run_id:null;Ue.length&&a(Ue),Be&&l(Be),wt!==null&&O({id:wt})}catch{}},[]),b.useEffect(()=>{try{const Q={origenes:e,destino:s,run_id:D?.id??null};localStorage.setItem(Yf,JSON.stringify(Q))}catch{}},[e,s,D?.id]),b.useEffect(()=>(Z.current=!0,()=>{if(Z.current=!1,Ot(),He.current||fe.current)try{Te.current?.abort()}catch{}}),[]);function ea(){a([""]),l(""),p(null),h(""),x(!1),O(null),dt(null),de([]),Ie([]),oe(""),ie(""),w(0),Re(""),ye("");try{localStorage.removeItem(Yf)}catch{}}function pa(){a(Q=>{const be=new Set,Ue=[];for(const Be of Q){const wt=(Be||"").trim();if(!wt)continue;const jt=wt.toLowerCase();be.has(jt)||(be.add(jt),Ue.push(wt))}return Ue.length?Ue:[""]})}function Hn(){x(!0),Ve(null),Et("origen")}function Vn(Q){x(!0),Ve(Q),Et("origen")}function Y(){x(!0),Ve(null),Et("destino")}async function te(Q=5){B(""),_(!0);try{const be=await _m({limit:Q,offset:0,include_deleted:!1,status:"COMPLETADO"}),Ue=Array.isArray(be?.items)?be.items:[];if(K(Ue),!D?.id&&Ue.length)O(Ue[0]);else if(!D?.id&&!Ue.length){const Be=Ue.find(wt=>wt.id===D?.id);Be&&O(Be)}}catch(be){const Ue=be,Be=Ue.response?.data?.detail||Ue.message||"No se pudo cargar las corridas.";B(Be),K([])}finally{_(!1)}}async function Ae(){B(""),_(!0);try{const Q=await _m({limit:20,offset:0,include_deleted:!1,q:V.trim()||void 0,dateFrom:X.trim()||void 0,dateTo:_e.trim()||void 0,source:me.trim()||void 0,status:De.trim()||void 0}),be=Array.isArray(Q?.items)?Q.items:[];K(be)}catch(Q){const be=Q,Ue=be.response?.data?.detail||be.message||"No se pudo cargar las corridas.";B(Ue),K([])}finally{_(!1)}}function Ge(){q(!0),te(5)}function nt(Q){O(Q),q(!1)}const rt=b.useMemo(()=>e.map(Q=>(Q??"").trim()),[e]),Ye=b.useMemo(()=>rt.filter(Q=>Q),[rt]),zt=b.useMemo(()=>(s??"").trim(),[s]),Mt=b.useMemo(()=>Ye.length>0&&!!zt,[Ye.length,zt]);function kt(Q,be){a(Ue=>{const Be=Ue.slice();return Be[Q]=be,Be})}function pn(Q){a(be=>{if(be.length<=1)return[""];const Ue=be.slice();return Ue.splice(Q,1),Ue})}async function Et(Q){ae(Q),Un(""),Ce(!0);try{const Ue=(await PT()).roots||[];en(Ue);const Be=Ue[0]||"";et(Be),_t(Be),Be?await lt(Be):(ln([]),Un("No hay rutas raz configuradas para el explorador. Configure VI_LOG02_UNC_ROOTS en el servidor."))}catch(be){const Ue=be,Be=Ue.response?.data?.detail||Ue.message||"No se pudo cargar las rutas raz.";Un(Be),ln([])}}async function lt(Q){if(Un(""),!Q){ln([]);return}try{Fn(!0);const be=await QT(Q);_t(be.path),ln(be.folders||[])}catch(be){const Ue=be,Be=Ue.response?.data?.detail||Ue.message||"No se pudo listar la carpeta.";Un(Be),ln([])}finally{Fn(!1)}}function bt(){const Q=(Dt||"").replace(/[\\\/]+$/,""),be=Q.lastIndexOf("\\");if(be<=0)return;const Ue=Q.slice(0,be);lt(Ue)}function Ht(){Dt&&(Le==="destino"?l(Dt):a(Q=>{const be=Dt.trim();if(!be)return Q;const Ue=Q.slice();return ke!==null&&ke>=0&&ke<Ue.length?(Ue[ke]=be,Ue):Ue.map(wt=>(wt||"").trim().toLowerCase()).includes(be.toLowerCase())?Ue:Ue.length===1&&!(Ue[0]||"").trim()?[be]:[...Ue,be]}),Ve(null),Ce(!1))}async function on(){h(""),p(null),x(!0);const Q=zt,be=Ye;if(!be.length){h("Debes ingresar al menos una ruta de origen.");return}if(!Q){h("Debes ingresar una ruta de destino.");return}try{d(!0);const Ue=await YT({rutas_origen:be,ruta_destino:Q});p(Ue),Ue.ok||h("Validacin incompleta: revisa los detalles de permisos y existencia.")}catch(Ue){const Be=Ue;if(pt.isCancel(Be))return;const wt=Be.response?.data?.detail||Be.message||"No se pudo validar las rutas.";h(wt)}finally{d(!1)}}const En=b.useMemo(()=>!!g?.ok&&!!D?.id&&!M,[g?.ok,D?.id,M]);function gn(Q){const be=Q?.cursor;return typeof be!="number"?!1:be<=R.current?!0:(R.current=be,be>H.current&&(H.current=be),!1)}function cn(Q){const be=Q?.percent??Q?.progress,Ue=typeof be=="number"?be:typeof be=="string"?Number(be):NaN;if(Number.isFinite(Ue)){const Be=Math.max(0,Math.min(100,Ue));w(Be)}}function Zt(Q){const be=String(Q?.type||"");if(cn(Q),be==="status"||be==="progress"){const Ue=Q?.stage?String(Q.stage):be;if(Ue&&ie(Ue),typeof Q?.message=="string"&&Q.message&&oe(Q.message),Ue){const Be=Ue.toLowerCase();(Be==="cancelado"||Be==="cancelled")&&(He.current=!0,I(!1),Ot())}return}if(be==="oi"){typeof Q?.oi=="string"&&Re(Q.oi);return}if(be==="oi_warn"){const Ue=String(Q?.oi||""),Be=String(Q?.message||""),wt=Q?.code?String(Q.code):void 0;Ue&&Be&&de(jt=>[...jt,{oi:Ue,code:wt,message:Be}]);return}if(be==="oi_error"||be==="file_error"){const Ue=Q?.oi?String(Q.oi):void 0,Be=Q?.file?String(Q.file):void 0,wt=String(Q?.message||"Error");Ie(jt=>[...jt,{oi:Ue,file:Be,message:wt}]);return}if(be==="error"){const Ue=String(Q?.message||"Fallo en el proceso.");Ie(Be=>[...Be,{message:Ue}]),oe(Ue),ie("error"),I(!1),Ot();return}if(be==="complete"){fe.current=!0,typeof Q?.message=="string"&&oe(Q.message),ie("completado"),w(100),dt(Q?.audit??null),I(!1),Ot();return}}function Dn(Q){gn(Q)||Zt(Q)}function Ot(Q){if(A.current){A.current=!1,Fe.current!=null&&(window.clearTimeout(Fe.current),Fe.current=null);try{Ee.current?.abort()}catch{}Ee.current=null,Je.current=!1}}function un(Q){A.current&&(Fe.current!=null&&window.clearTimeout(Fe.current),Fe.current=window.setTimeout(()=>{Zn()},Q))}async function Zn(){if(!A.current||Je.current)return;const Q=P.current;if(!Q){Ot();return}Je.current=!0;try{const be=await JT(Q,H.current,Ee.current?.signal);H.current=be.cursor_next;for(const Ue of be.events||[])Dn(Ue);if(be.done&&(!be.events||be.events.length===0)){Ot("done");return}}catch(be){if(He.current||fe.current)return;if(be?.name!=="AbortError"){const Be=be,wt=Be.response?.data?.detail||Be.message||"No se pudo leer el progreso.";Ie(jt=>[...jt,{message:wt}]),ie("error"),oe(wt),I(!1),Ot()}}finally{Je.current=!1,A.current&&un(350)}}function An(Q,be){A.current||(A.current=!0,P.current=Q,Ee.current=new AbortController,un(0))}async function Ut(){if(h(""),!g?.ok){h("Debes validar rutas correctamente antes de iniciar el copiado.");return}if(!D?.id){h("Debes seleccionar una corrida de LOG-01 (Historial) para usar su manifiesto.");return}const Q=Ye,be=zt;if(!Q.length||!be){h("Completa orgenes y destino antes de iniciar.");return}He.current=!1,fe.current=!1,Ie([]),de([]),dt(null),ie("inicio"),oe("inicio"),oe("Iniciando copiado..."),w(0),Re(""),ye(""),Ot(),H.current=-1,R.current=-1,I(!0);try{const Be=(await KT({run_id:D.id,rutas_origen:Q,ruta_destino:be})).operation_id;ye(Be);const wt=new AbortController;Te.current=wt,XT(Be,Yn=>{Z.current&&Dn(Yn)},wt.signal).then(()=>{!fe.current&&!He.current&&An(Be,"stream_closed")}).catch(Yn=>{_v(Yn)||He.current||fe.current||An(Be,"stream_error")})}catch(Ue){if(He.current||fe.current||_v(Ue))return;const Be=Ue,wt=Be.response?.data?.detail||Be.message||"No se pudo iniciar/leer el progreso.";Ie(jt=>[...jt,{message:wt}]),ie("error"),oe(wt),Ot(),I(!1)}}async function bs(){if(ee){He.current=!0;try{await WT(ee)}catch{}try{Te.current?.abort()}catch{}Ot(),I(!1),ie("cancelado"),oe("Cancelado por el usuario.")}}const Ln=b.useMemo(()=>{if(!g)return null;const Q=(g.origenes||[]).filter(Be=>Be.existe&&Be.lectura).length,be=(g.origenes||[]).length,Ue=!!(g.destino?.existe&&g.destino?.es_directorio&&g.destino?.lectura&&g.destino?.escritura);return{okOrigenes:Q,totalOrigenes:be,okDestino:Ue}},[g]);async function yn(){if(!g)return;const Q=[];Q.push("LOG-02 - Resultado de validacin"),Q.push("");for(const Be of g.origenes||[])Q.push(`ORIGEN | ${Be.ruta} | existe=${Be.existe?"SI":"NO"} | lectura=${Be.lectura?"SI":"NO"} | detalle=${Be.detalle||""}`);const be=g.destino;Q.push(`DESTINO | ${be?.ruta||""} | existe=${be?.existe?"SI":"NO"} | lectura=${be?.lectura?"SI":"NO"} | escritura=${be?.escritura?"SI":"NO"} | detalle=${be?.detalle||""}`);const Ue=Q.join(`
`);try{await navigator.clipboard.writeText(Ue)}catch{try{const Be=document.createElement("textarea");Be.value=Ue,document.body.appendChild(Be),Be.select(),document.execCommand("copy"),document.body.removeChild(Be)}catch{}}}return i.jsxs("div",{className:"container-fluid",children:[i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Filtrado de certificados PDF (LOG-02)"}),i.jsxs("div",{className:"text-muted small",children:["Este mdulo se orienta a ",i.jsx("strong",{children:"copiar"})," y ",i.jsx("strong",{children:"filtrar"})," certificados PDF desde una",i.jsx("strong",{children:" carpeta compartida"})," (no ZIP).",i.jsx("br",{}),"Configura las rutas UNC y valida accesos antes de iniciar el filtrado."]}),f?i.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:f}):null,i.jsxs("div",{className:"mT-15",children:[i.jsx("h6",{className:"c-grey-900 mB-10",children:"Rutas UNC"}),i.jsxs("div",{className:"row g-2",children:[i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label",children:"Rutas origen (UNC)  lectura"}),e.map((Q,be)=>i.jsxs("div",{className:"d-flex gap-10 mB-10",children:[i.jsx("input",{className:"form-control form-control-sm"+(v&&!rt[be]?" is-invalid":""),value:Q,onChange:Ue=>kt(be,Ue.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Certificados",disabled:c}),v&&!rt[be]?i.jsx("div",{className:"small text-danger mT-5",children:"Requerido"}):null,i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Vn(be),disabled:c,title:"Elegir carpeta",children:(Q||"").trim()?"Editar":"Agregar"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>pn(be),disabled:c,title:"Quitar ruta",style:{width:52,textAlign:"center"},children:""})]},be)),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:Hn,disabled:c,title:"Agregar origen",children:"Agregar origen"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:pa,disabled:c,title:"Quitar duplicados (solo UI)",children:"Quitar duplicados"})]}),i.jsxs("div",{className:"small text-muted",children:["Nota: estas rutas deben ser accesibles ",i.jsx("strong",{children:"desde el servidor"})," donde corre el backend."]})]}),i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label",children:"Ruta destino (UNC)  lectura y escritura"}),i.jsxs("div",{className:"d-flex gap-10 mB-10",children:[i.jsx("input",{className:"form-control form-control-sm "+(v&&!zt?"is-invalid":""),value:s,onChange:Q=>l(Q.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Salida_LOG02",disabled:c}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Y,disabled:c,title:"Editar carpeta",children:zt?"Editar":"Agregar"}),"                  "]}),v&&!zt?i.jsx("div",{className:"small text-danger mT-5",children:"Destino requerido."}):null,i.jsxs("div",{className:"mT-5",children:[i.jsx("div",{className:"small text-muted mB-5",children:Mt?"Listo para validar.":"Completa orgenes y destino."}),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void on(),disabled:c||!Mt,children:c?"Validando...":"Validar"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:ea,disabled:c,title:"Limpia orgenes y destino",children:"Limpiar rutas"})]})]})]})]})]}),g?i.jsxs("div",{className:"mT-20",children:[i.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado de validacin"}),Ln?i.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center mB-10",children:[i.jsxs("span",{className:"badge bg-light text-dark",children:["Orgenes OK: ",i.jsx("strong",{children:Ln.okOrigenes})," / ",Ln.totalOrigenes]}),i.jsxs("span",{className:Ln.okDestino?"badge bg-success":"badge bg-danger",children:["Destino: ",Ln.okDestino?"OK":"No OK"]}),g.ok?null:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void yn(),children:"Copiar detalle"})]}):null,i.jsxs("div",{className:"mT-25",children:[i.jsx("h6",{className:"c-grey-900 mB-10",children:"Copiado de PDFs conformes por OI (PB-LOG-015)"}),i.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between gap-10",children:[i.jsxs("div",{className:"small text-muted",children:["Corrida LOG-01 seleccionada:"," ",D?.id?i.jsxs("span",{className:"badge bg-light text-dark",children:["#",D.id,D?.created_at?`  ${jv(D.created_at)}`:"",D?.source?`  ${D.source}`:"",D?.status?`  ${D.status}`:""]}):i.jsx("span",{className:"badge bg-warning text-dark",children:"No seleccionada"})]}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Ge,disabled:M,children:D?.id?"Cambiar corrida":"Elegir corrida"})]}),D?.id?null:i.jsx("div",{className:"alert alert-warning mT-10",role:"alert",children:"Debes seleccionar una corrida de LOG-01 (historial) para usar su manifiesto y NO CONFORME."}),i.jsxs("div",{className:"d-flex flex-wrap gap-10 mT-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void Ut(),disabled:!En,children:M?"Copiando...":"Iniciar copiado"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void bs(),disabled:!M||!ee,children:"Cancelar"})]}),i.jsxs("div",{className:"mT-10",children:[i.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),M?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),G||k?i.jsxs("div",{className:"small text-muted",children:[i.jsx("strong",{children:"Estado:"})," ",G||"",pe?i.jsxs("span",{children:[" "," ",i.jsx("strong",{children:"OI:"})," ",pe]}):null,k?i.jsxs("span",{children:["  ",k]}):null]}):null,i.jsx("div",{className:"progress",style:{height:10},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Math.max(0,Math.min(100,je))}%`},"aria-valuenow":je,"aria-valuemin":0,"aria-valuemax":100})}),i.jsxs("div",{className:"small text-muted mT-5",children:[je.toFixed(0),"%"]})]}),Me.length?i.jsxs("div",{className:"alert alert-danger mT-10",role:"alert",children:[i.jsx("strong",{children:"Se detectaron errores:"}),i.jsx("ul",{className:"mB-0 mT-5",children:Me.slice(-8).map((Q,be)=>i.jsxs("li",{children:[Q.oi?`[${Q.oi}] `:"",Q.file?`${Q.file}: `:"",Q.message]},`ce-${be}`))})]}):null,$e.length?i.jsxs("div",{className:"alert alert-warning mT-10",role:"alert",children:[i.jsx("strong",{children:"Advertencias:"}),i.jsx("ul",{className:"mB-0 mT-5",children:$e.slice(-8).map((Q,be)=>i.jsxs("li",{children:["[",Q.oi,"] ",Q.code?`${Q.code}: `:"",Q.message]},`cw-${be}`))})]}):null,Ze?i.jsxs("div",{className:"mT-15",children:[i.jsx("h6",{className:"c-grey-900 mB-10",children:"Auditora de copiado"}),i.jsxs("div",{className:"row g-2",children:[i.jsx("div",{className:"col-12 col-md-4",children:i.jsxs("div",{className:"alert alert-light mB-0",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Total OIs:"})," ",Ze?.total_ois??"N/D"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"OIs OK:"})," ",Ze?.ois_ok??"N/D"]})]})}),i.jsx("div",{className:"col-12 col-md-8",children:i.jsx("div",{className:"alert alert-light mB-0",children:i.jsxs("div",{className:"d-flex flex-wrap gap-10",children:[i.jsxs("span",{children:[i.jsx("strong",{children:"PDF detectados:"})," ",Ze?.archivos?.pdf_detectados??"N/D"]}),i.jsxs("span",{children:[i.jsx("strong",{children:"PDF copiados:"})," ",Ze?.archivos?.pdf_copiados??"N/D"]}),i.jsxs("span",{children:[i.jsx("strong",{children:"Omitidos NO CONFORME:"})," ",Ze?.archivos?.pdf_omitidos_no_conforme??"N/D"]}),i.jsxs("span",{children:[i.jsx("strong",{children:"No PDF omitidos:"})," ",Ze?.archivos?.archivos_no_pdf_omitidos??"N/D"]})]})})})]}),Ze?.ois_faltantes?.length||Ze?.ois_duplicadas?.length||Ze?.destinos_duplicados?.length?i.jsxs("div",{className:"mT-10",children:[Ze?.ois_faltantes?.length?i.jsxs("div",{className:"alert alert-warning",role:"alert",children:[i.jsx("strong",{children:"OIs sin carpeta:"}),i.jsx("ul",{className:"mB-0 mT-5",children:Ze.ois_faltantes.slice(0,10).map((Q,be)=>i.jsxs("li",{children:[Q?.oi,"  ",Q?.detalle||""]},`of-${be}`))})]}):null,Ze?.ois_duplicadas?.length?i.jsxs("div",{className:"alert alert-warning",role:"alert",children:[i.jsx("strong",{children:"OIs con mltiples carpetas (duplicadas):"}),i.jsx("ul",{className:"mB-0 mT-5",children:Ze.ois_duplicadas.slice(0,10).map((Q,be)=>i.jsxs("li",{children:[Q?.oi,"  ",Array.isArray(Q?.carpetas)?Q.carpetas.join(" | "):""]},`od-${be}`))})]}):null,Ze?.destinos_duplicados?.length?i.jsxs("div",{className:"alert alert-warning",role:"alert",children:[i.jsx("strong",{children:"Destinos ya existentes:"}),i.jsx("ul",{className:"mB-0 mT-5",children:Ze.destinos_duplicados.slice(0,10).map((Q,be)=>i.jsxs("li",{children:[Q?.oi,"  ",Q?.destino||""]},`dd-${be}`))})]}):null]}):null]}):null,N?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:i.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Seleccionar corrida de LOG-01 (Historial)"}),i.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>q(!1),children:i.jsx("span",{"aria-hidden":"true",children:""})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"text-muted small mB-10",children:["Por defecto se cargan las ",i.jsx("strong",{children:"ltimas 5 corridas completadas"}),". Puedes usar filtros si lo necesitas."]}),C?i.jsx("div",{className:"alert alert-danger",role:"alert",children:C}):null,i.jsxs("form",{className:"row g-2 align-items-end",onSubmit:Q=>{Q.preventDefault(),Ae()},children:[i.jsxs("div",{className:"col-12 col-md-4",children:[i.jsx("label",{className:"form-label",children:"Buscar"}),i.jsx("input",{className:"form-control form-control-sm",value:V,onChange:Q=>U(Q.target.value),placeholder:"Serie / OI / usuario..."})]}),i.jsxs("div",{className:"col-6 col-md-2",children:[i.jsx("label",{className:"form-label",children:"Desde"}),i.jsx("input",{className:"form-control form-control-sm",type:"date",value:X,onChange:Q=>ce(Q.target.value)})]}),i.jsxs("div",{className:"col-6 col-md-2",children:[i.jsx("label",{className:"form-label",children:"Hasta"}),i.jsx("input",{className:"form-control form-control-sm",type:"date",value:_e,onChange:Q=>xe(Q.target.value)})]}),i.jsxs("div",{className:"col-6 col-md-2",children:[i.jsx("label",{className:"form-label",children:"Origen"}),i.jsx("input",{className:"form-control form-control-sm",value:me,onChange:Q=>Se(Q.target.value),placeholder:"AUTO/BASES/..."})]}),i.jsxs("div",{className:"col-6 col-md-2",children:[i.jsx("label",{className:"form-label",children:"Estado"}),i.jsx("input",{className:"form-control form-control-sm",value:De,onChange:Q=>Oe(Q.target.value),placeholder:"COMPLETADO"})]}),i.jsxs("div",{className:"col-12 d-flex gap-10",children:[i.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:j,children:j?"Buscando...":"Aplicar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>{U(""),ce(""),xe(""),Se(""),Oe("COMPLETADO"),te(5)},disabled:j,children:"Ver ltimas 5 exitosas"})]})]}),i.jsx("hr",{}),j?i.jsx("div",{className:"text-muted small",children:"Cargando corridas..."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{width:90},children:"ID"}),i.jsx("th",{children:"Creado"}),i.jsx("th",{style:{width:120},children:"Origen"}),i.jsx("th",{style:{width:140},children:"Estado"}),i.jsx("th",{style:{width:120}})]})}),i.jsx("tbody",{children:T.length?T.map(Q=>i.jsxs("tr",{className:"small",children:[i.jsx("td",{children:i.jsxs("strong",{children:["#",Q.id]})}),i.jsx("td",{children:jv(Q.created_at)}),i.jsx("td",{children:Q.source||"N/D"}),i.jsx("td",{children:Q.status||"N/D"}),i.jsx("td",{children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>nt(Q),children:"Usar"})})]},Q.id)):i.jsx("tr",{className:"small",children:i.jsx("td",{colSpan:5,className:"text-muted",children:"Sin resultados."})})})]})})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>q(!1),children:"Cerrar"})})]})})}),i.jsx("div",{className:"modal-backdrop fade show"})]}):null]}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),i.jsx("th",{children:"Ruta"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Existe"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Lectura"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Escritura"}),i.jsx("th",{children:"Detalle"})]})}),i.jsxs("tbody",{children:[g.origenes.map((Q,be)=>i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:"Origen"})}),i.jsx("td",{style:{wordBreak:"break-all"},children:Q.ruta||"N/D"}),i.jsx("td",{children:i.jsx("span",{className:pl(Q.existe),children:Q.existe?"S":"No"})}),i.jsx("td",{children:i.jsx("span",{className:pl(Q.lectura),children:Q.lectura?"S":"No"})}),i.jsx("td",{children:i.jsx("span",{className:pl(null),children:""})}),i.jsx("td",{children:Q.detalle||""})]},`o-${be}`)),i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:"Destino"})}),i.jsx("td",{style:{wordBreak:"break-all"},children:g.destino.ruta||"N/D"}),i.jsx("td",{children:i.jsx("span",{className:pl(g.destino.existe),children:g.destino.existe?"S":"No"})}),i.jsx("td",{children:i.jsx("span",{className:pl(g.destino.lectura),children:g.destino.lectura?"S":"No"})}),i.jsx("td",{children:i.jsx("span",{className:pl(!!g.destino.escritura),children:g.destino.escritura?"S":"No"})}),i.jsx("td",{children:g.destino.detalle||""})]})]})]})}),g.ok?i.jsx("div",{className:"alert alert-success mT-15",role:"alert",children:"Rutas validadas correctamente. Puedes continuar con la siguiente fase."}):i.jsx("div",{className:"alert alert-warning mT-15",role:"alert",children:"Hay rutas con problemas. Corrige existencia/permisos y vuelve a validar."})]}):null]})})}),se?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:i.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:Le==="destino"?"Elegir carpeta de destino":"Elegir carpeta de origen"}),i.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>Ce(!1),children:i.jsx("span",{"aria-hidden":"true",children:""})})]}),i.jsxs("div",{className:"modal-body",children:[st?i.jsx("div",{className:"alert alert-danger",role:"alert",children:st}):null,i.jsxs("div",{className:"row g-2",children:[i.jsxs("div",{className:"col-12 col-md-6",children:[i.jsx("label",{className:"form-label",children:"Raz"}),i.jsx("select",{className:"form-control form-control-sm",value:Ne,onChange:Q=>{const be=Q.target.value;et(be),lt(be)},disabled:!at.length,children:at.length?at.map(Q=>i.jsx("option",{value:Q,children:Q},Q)):i.jsx("option",{value:"",children:"Sin races"})})]}),i.jsxs("div",{className:"col-12 col-md-6",children:[i.jsx("label",{className:"form-label",children:"Carpeta actual"}),i.jsx("input",{className:"form-control form-control-sm",value:Dt,readOnly:!0})]})]}),i.jsxs("div",{className:"d-flex gap-10 mT-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:bt,disabled:!Dt||ha,children:"Subir nivel"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:Ht,disabled:!Dt||ha,children:"Seleccionar esta carpeta"})]}),i.jsx("hr",{}),ha?i.jsx("div",{className:"text-muted small",children:"Cargando carpetas..."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{children:"Subcarpetas"}),i.jsx("th",{style:{width:120}})]})}),i.jsx("tbody",{children:hn.length?hn.map(Q=>i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{wordBreak:"break-all"},children:Q.name}),i.jsx("td",{children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>void lt(Q.path),children:"Entrar"})})]},Q.path)):i.jsx("tr",{className:"small",children:i.jsx("td",{colSpan:2,className:"text-muted",children:"Sin subcarpetas o sin permisos para listar."})})})]})})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>Ce(!1),children:"Cerrar"})})]})})}),i.jsx("div",{className:"modal-backdrop fade show"})]}):null]})}function H2(){const e=Rn();return i.jsx(i.Fragment,{children:i.jsxs(kw,{children:[i.jsx(tn,{path:"/login",element:e?.token?i.jsx(Qs,{to:"/home",replace:!0}):i.jsx(NE,{})}),i.jsx(tn,{element:i.jsx(mT,{}),children:i.jsxs(tn,{element:i.jsx(bT,{}),children:[i.jsx(tn,{path:"/",element:i.jsx(Qs,{to:"/home",replace:!0})}),i.jsx(tn,{path:"/home",element:i.jsx(R2,{})}),i.jsx(tn,{path:"/oi",element:i.jsx(yv,{})}),i.jsx(tn,{path:"/oi/:oiId",element:i.jsx(yv,{})}),i.jsx(tn,{path:"/oi/list",element:i.jsx(vT,{})}),i.jsx(tn,{path:"/users",element:i.jsx(ST,{})}),i.jsx(tn,{path:"/password",element:i.jsx(NT,{})}),i.jsx(tn,{path:"/admin/permisos",element:i.jsx(_T,{})}),i.jsx(tn,{path:"/logistica/log01/excel",element:i.jsx(M2,{})}),i.jsx(tn,{path:"/logistica/log01/history",element:i.jsx(I2,{})}),i.jsx(tn,{path:"/logistica/log02/pdfs",element:i.jsx(F2,{})}),i.jsx(tn,{path:"/oi/tools/vima-to-lista",element:i.jsx(LT,{})}),i.jsx(tn,{path:"/oi/tools/actualizacion-base",element:i.jsx(f2,{})}),i.jsx(tn,{path:"/oi/tools/formato-ac/history",element:i.jsx(v2,{})}),i.jsx(tn,{path:"/oi/tools/consolidacion",element:i.jsx(x2,{})}),i.jsx(tn,{path:"/oi/tools/consolidacion/correlativo",element:i.jsx(j2,{})}),i.jsx(tn,{path:"/oi/tools/consolidacion/no-correlativo",element:i.jsx(C2,{})}),i.jsx(tn,{path:"/oi/tools/excel",element:i.jsx(O2,{})})]})}),i.jsx(tn,{path:"*",element:i.jsx(Qs,{to:e?.token?"/home":"/login",replace:!0})})]})})}const V2=new Uj;FN.createRoot(document.getElementById("root")).render(i.jsx(mt.StrictMode,{children:i.jsx(Lj,{client:V2,children:i.jsx(rj,{children:i.jsx(SE,{children:i.jsx(H2,{})})})})}));
