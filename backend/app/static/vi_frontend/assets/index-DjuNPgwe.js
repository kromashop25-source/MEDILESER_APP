(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function hb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uf={exports:{}},wi={};var Ry;function _w(){if(Ry)return wi;Ry=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:l,key:m,ref:c!==void 0?c:null,props:d}}return wi.Fragment=a,wi.jsx=s,wi.jsxs=s,wi}var Ty;function Nw(){return Ty||(Ty=1,uf.exports=_w()),uf.exports}var o=Nw(),df={exports:{}},Je={};var Dy;function jw(){if(Dy)return Je;Dy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function L(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function k(j,Y,oe){this.props=j,this.context=Y,this.refs=N,this.updater=oe||_}k.prototype.isReactComponent={},k.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=k.prototype;function ee(j,Y,oe){this.props=j,this.context=Y,this.refs=N,this.updater=oe||_}var D=ee.prototype=new z;D.constructor=ee,A(D,k.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function Q(){}var U={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function se(j,Y,oe){var X=oe.ref;return{$$typeof:e,type:j,key:Y,ref:X!==void 0?X:null,props:oe}}function Se(j,Y){return se(j.type,Y,j.props)}function ve(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function de(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return Y[oe]})}var be=/\/+/g;function je(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?de(""+j.key):Y.toString(36)}function ge(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Q,Q):(j.status="pending",j.then(function(Y){j.status==="pending"&&(j.status="fulfilled",j.value=Y)},function(Y){j.status==="pending"&&(j.status="rejected",j.reason=Y)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,Y,oe,X,we){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var Te=!1;if(j===null)Te=!0;else switch(Ae){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(j.$$typeof){case e:case a:Te=!0;break;case v:return Te=j._init,q(Te(j._payload),Y,oe,X,we)}}if(Te)return we=we(j),Te=X===""?"."+je(j,0):X,O(we)?(oe="",Te!=null&&(oe=Te.replace(be,"$&/")+"/"),q(we,Y,oe,"",function(Ue){return Ue})):we!=null&&(ve(we)&&(we=Se(we,oe+(we.key==null||j&&j.key===we.key?"":(""+we.key).replace(be,"$&/")+"/")+Te)),Y.push(we)),1;Te=0;var Be=X===""?".":X+":";if(O(j))for(var he=0;he<j.length;he++)X=j[he],Ae=Be+je(X,he),Te+=q(X,Y,oe,Ae,we);else if(he=L(j),typeof he=="function")for(j=he.call(j),he=0;!(X=j.next()).done;)X=X.value,Ae=Be+je(X,he++),Te+=q(X,Y,oe,Ae,we);else if(Ae==="object"){if(typeof j.then=="function")return q(ge(j),Y,oe,X,we);throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ie(j,Y,oe){if(j==null)return j;var X=[],we=0;return q(j,X,"","",function(Ae){return Y.call(oe,Ae,we++)}),X}function re(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var Ce=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Oe={map:ie,forEach:function(j,Y,oe){ie(j,function(){Y.apply(this,arguments)},oe)},count:function(j){var Y=0;return ie(j,function(){Y++}),Y},toArray:function(j){return ie(j,function(Y){return Y})||[]},only:function(j){if(!ve(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Je.Activity=x,Je.Children=Oe,Je.Component=k,Je.Fragment=s,Je.Profiler=c,Je.PureComponent=ee,Je.StrictMode=l,Je.Suspense=y,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Je.__COMPILER_RUNTIME={__proto__:null,c:function(j){return U.H.useMemoCache(j)}},Je.cache=function(j){return function(){return j.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(j,Y,oe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var X=A({},j.props),we=j.key;if(Y!=null)for(Ae in Y.key!==void 0&&(we=""+Y.key),Y)!te.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(X[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)X.children=oe;else if(1<Ae){for(var Te=Array(Ae),Be=0;Be<Ae;Be++)Te[Be]=arguments[Be+2];X.children=Te}return se(j.type,we,X)},Je.createContext=function(j){return j={$$typeof:m,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},Je.createElement=function(j,Y,oe){var X,we={},Ae=null;if(Y!=null)for(X in Y.key!==void 0&&(Ae=""+Y.key),Y)te.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(we[X]=Y[X]);var Te=arguments.length-2;if(Te===1)we.children=oe;else if(1<Te){for(var Be=Array(Te),he=0;he<Te;he++)Be[he]=arguments[he+2];we.children=Be}if(j&&j.defaultProps)for(X in Te=j.defaultProps,Te)we[X]===void 0&&(we[X]=Te[X]);return se(j,Ae,we)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(j){return{$$typeof:h,render:j}},Je.isValidElement=ve,Je.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:re}},Je.memo=function(j,Y){return{$$typeof:p,type:j,compare:Y===void 0?null:Y}},Je.startTransition=function(j){var Y=U.T,oe={};U.T=oe;try{var X=j(),we=U.S;we!==null&&we(oe,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Q,Ce)}catch(Ae){Ce(Ae)}finally{Y!==null&&oe.types!==null&&(Y.types=oe.types),U.T=Y}},Je.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Je.use=function(j){return U.H.use(j)},Je.useActionState=function(j,Y,oe){return U.H.useActionState(j,Y,oe)},Je.useCallback=function(j,Y){return U.H.useCallback(j,Y)},Je.useContext=function(j){return U.H.useContext(j)},Je.useDebugValue=function(){},Je.useDeferredValue=function(j,Y){return U.H.useDeferredValue(j,Y)},Je.useEffect=function(j,Y){return U.H.useEffect(j,Y)},Je.useEffectEvent=function(j){return U.H.useEffectEvent(j)},Je.useId=function(){return U.H.useId()},Je.useImperativeHandle=function(j,Y,oe){return U.H.useImperativeHandle(j,Y,oe)},Je.useInsertionEffect=function(j,Y){return U.H.useInsertionEffect(j,Y)},Je.useLayoutEffect=function(j,Y){return U.H.useLayoutEffect(j,Y)},Je.useMemo=function(j,Y){return U.H.useMemo(j,Y)},Je.useOptimistic=function(j,Y){return U.H.useOptimistic(j,Y)},Je.useReducer=function(j,Y,oe){return U.H.useReducer(j,Y,oe)},Je.useRef=function(j){return U.H.useRef(j)},Je.useState=function(j){return U.H.useState(j)},Je.useSyncExternalStore=function(j,Y,oe){return U.H.useSyncExternalStore(j,Y,oe)},Je.useTransition=function(){return U.H.useTransition()},Je.version="19.2.0",Je}var zy;function xm(){return zy||(zy=1,df.exports=jw()),df.exports}var b=xm();const st=hb(b);var ff={exports:{}},_i={},mf={exports:{}},hf={};var My;function Ew(){return My||(My=1,(function(e){function a(q,ie){var re=q.length;q.push(ie);e:for(;0<re;){var Ce=re-1>>>1,Oe=q[Ce];if(0<c(Oe,ie))q[Ce]=ie,q[re]=Oe,re=Ce;else break e}}function s(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var ie=q[0],re=q.pop();if(re!==ie){q[0]=re;e:for(var Ce=0,Oe=q.length,j=Oe>>>1;Ce<j;){var Y=2*(Ce+1)-1,oe=q[Y],X=Y+1,we=q[X];if(0>c(oe,re))X<Oe&&0>c(we,oe)?(q[Ce]=we,q[X]=re,Ce=X):(q[Ce]=oe,q[Y]=re,Ce=Y);else if(X<Oe&&0>c(we,re))q[Ce]=we,q[X]=re,Ce=X;else break e}}return ie}function c(q,ie){var re=q.sortIndex-ie.sortIndex;return re!==0?re:q.id-ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var y=[],p=[],v=1,x=null,w=3,L=!1,_=!1,A=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function D(q){for(var ie=s(p);ie!==null;){if(ie.callback===null)l(p);else if(ie.startTime<=q)l(p),ie.sortIndex=ie.expirationTime,a(y,ie);else break;ie=s(p)}}function O(q){if(A=!1,D(q),!_)if(s(y)!==null)_=!0,Q||(Q=!0,de());else{var ie=s(p);ie!==null&&ge(O,ie.startTime-q)}}var Q=!1,U=-1,te=5,se=-1;function Se(){return N?!0:!(e.unstable_now()-se<te)}function ve(){if(N=!1,Q){var q=e.unstable_now();se=q;var ie=!0;try{e:{_=!1,A&&(A=!1,z(U),U=-1),L=!0;var re=w;try{t:{for(D(q),x=s(y);x!==null&&!(x.expirationTime>q&&Se());){var Ce=x.callback;if(typeof Ce=="function"){x.callback=null,w=x.priorityLevel;var Oe=Ce(x.expirationTime<=q);if(q=e.unstable_now(),typeof Oe=="function"){x.callback=Oe,D(q),ie=!0;break t}x===s(y)&&l(y),D(q)}else l(y);x=s(y)}if(x!==null)ie=!0;else{var j=s(p);j!==null&&ge(O,j.startTime-q),ie=!1}}break e}finally{x=null,w=re,L=!1}ie=void 0}}finally{ie?de():Q=!1}}}var de;if(typeof ee=="function")de=function(){ee(ve)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,je=be.port2;be.port1.onmessage=ve,de=function(){je.postMessage(null)}}else de=function(){k(ve,0)};function ge(q,ie){U=k(function(){q(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(q){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var re=w;w=ie;try{return q()}finally{w=re}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=w;w=q;try{return ie()}finally{w=re}},e.unstable_scheduleCallback=function(q,ie,re){var Ce=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ce+re:Ce):re=Ce,q){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=re+Oe,q={id:v++,callback:ie,priorityLevel:q,startTime:re,expirationTime:Oe,sortIndex:-1},re>Ce?(q.sortIndex=re,a(p,q),s(y)===null&&q===s(p)&&(A?(z(U),U=-1):A=!0,ge(O,re-Ce))):(q.sortIndex=Oe,a(y,q),_||L||(_=!0,Q||(Q=!0,de()))),q},e.unstable_shouldYield=Se,e.unstable_wrapCallback=function(q){var ie=w;return function(){var re=w;w=ie;try{return q.apply(this,arguments)}finally{w=re}}}})(hf)),hf}var ky;function Aw(){return ky||(ky=1,mf.exports=Ew()),mf.exports}var pf={exports:{}},Dn={};var Uy;function Ow(){if(Uy)return Dn;Uy=1;var e=xm();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:y,containerInfo:p,implementation:v}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Dn.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(y,p,null,v)},Dn.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},Dn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},Dn.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Dn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:L}):v==="script"&&l.d.X(y,{crossOrigin:x,integrity:w,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Dn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},Dn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Dn.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},Dn.requestFormReset=function(y){l.d.r(y)},Dn.unstable_batchedUpdates=function(y,p){return y(p)},Dn.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},Dn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var Ly;function Cw(){if(Ly)return pf.exports;Ly=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),pf.exports=Ow(),pf.exports}var qy;function Rw(){if(qy)return _i;qy=1;var e=Aw(),a=xm(),s=Cw();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,i=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return y(u),t;if(f===i)return y(u),n;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var g=!1,S=u.child;S;){if(S===r){g=!0,r=u,i=f;break}if(S===i){g=!0,i=u,r=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===r){g=!0,r=f,i=u;break}if(S===i){g=!0,i=f,r=u;break}S=S.sibling}if(!g)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=ve&&t[ve]||t["@@iterator"],typeof t=="function"?t:null)}var be=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===be?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case Q:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case ee:return t.displayName||"Context";case z:return(t._context.displayName||"Context")+".Consumer";case D:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:je(t.type)||"Memo";case te:n=t._payload,t=t._init;try{return je(t(n))}catch{}}return null}var ge=Array.isArray,q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ce=[],Oe=-1;function j(t){return{current:t}}function Y(t){0>Oe||(t.current=Ce[Oe],Ce[Oe]=null,Oe--)}function oe(t,n){Oe++,Ce[Oe]=t.current,t.current=n}var X=j(null),we=j(null),Ae=j(null),Te=j(null);function Be(t,n){switch(oe(Ae,n),oe(we,t),oe(X,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wg(n),t=ey(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(X),oe(X,t)}function he(){Y(X),Y(we),Y(Ae)}function Ue(t){t.memoizedState!==null&&oe(Te,t);var n=X.current,r=ey(n,t.type);n!==r&&(oe(we,t),oe(X,r))}function Ge(t){we.current===t&&(Y(X),Y(we)),Te.current===t&&(Y(Te),vi._currentValue=re)}var _e,Qe;function Le(t){if(_e===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);_e=n&&n[1]||"",Qe=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+t+Qe}var Pe=!1;function Ee(t,n){if(!t||Pe)return"";Pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ne){var P=ne}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(ne){P=ne}t.call(fe.prototype)}}else{try{throw Error()}catch(ne){P=ne}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ne){if(ne&&P&&typeof ne.stack=="string")return[ne.stack,P.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),g=f[0],S=f[1];if(g&&S){var T=g.split(`
`),G=S.split(`
`);for(u=i=0;i<T.length&&!T[i].includes("DetermineComponentFrameRoot");)i++;for(;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;if(i===T.length||u===G.length)for(i=T.length-1,u=G.length-1;1<=i&&0<=u&&T[i]!==G[u];)u--;for(;1<=i&&0<=u;i--,u--)if(T[i]!==G[u]){if(i!==1||u!==1)do if(i--,u--,0>u||T[i]!==G[u]){var le=`
`+T[i].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=i&&0<=u);break}}}finally{Pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Le(r):""}function Ye(t,n){switch(t.tag){case 26:case 27:case 5:return Le(t.type);case 16:return Le("Lazy");case 13:return t.child!==n&&n!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Ee(t.type,!1);case 11:return Ee(t.type.render,!1);case 1:return Ee(t.type,!0);case 31:return Le("Activity");default:return""}}function rt(t){try{var n="",r=null;do n+=Ye(t,r),r=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Nt=Object.prototype.hasOwnProperty,C=e.unstable_scheduleCallback,$=e.unstable_cancelCallback,R=e.unstable_shouldYield,F=e.unstable_requestPaint,H=e.unstable_now,ae=e.unstable_getCurrentPriorityLevel,Ne=e.unstable_ImmediatePriority,De=e.unstable_UserBlockingPriority,J=e.unstable_NormalPriority,Re=e.unstable_LowPriority,Ie=e.unstable_IdlePriority,ft=e.log,Sn=e.unstable_setDisableYieldValue,pe=null,Ke=null;function Zt(t){if(typeof ft=="function"&&Sn(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(pe,t)}catch{}}var xt=Math.clz32?Math.clz32:Ya,wn=Math.log,kn=Math.LN2;function Ya(t){return t>>>=0,t===0?32:31-(wn(t)/kn|0)|0}var na=256,nt=262144,Aa=4194304;function da(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oa(t,n,r){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=da(i):(g&=S,g!==0?u=da(g):r||(r=S&~t,r!==0&&(u=da(r))))):(S=i&~f,S!==0?u=da(S):g!==0?u=da(g):r||(r=i&~t,r!==0&&(u=da(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function Fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $n(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var t=Aa;return Aa<<=1,(Aa&62914560)===0&&(Aa=4194304),t}function K(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ye(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ke(t,n,r,i,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,T=t.expirationTimes,G=t.hiddenUpdates;for(r=g&~r;0<r;){var le=31-xt(r),fe=1<<le;S[le]=0,T[le]=-1;var P=G[le];if(P!==null)for(G[le]=null,le=0;le<P.length;le++){var ne=P[le];ne!==null&&(ne.lane&=-536870913)}r&=~fe}i!==0&&Xe(t,i,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Xe(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-xt(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|r&261930}function lt(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var i=31-xt(r),u=1<<i;u&n|t[i]&n&&(t[i]|=n),r&=~u}}function Fe(t,n){var r=n&-n;return r=(r&42)!==0?1:Gt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Gt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rt(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:_y(t.type))}function pn(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var jt=Math.random().toString(36).slice(2),it="__reactFiber$"+jt,gt="__reactProps$"+jt,kt="__reactContainer$"+jt,un="__reactEvents$"+jt,_n="__reactListeners$"+jt,gn="__reactHandles$"+jt,dn="__reactResources$"+jt,Bt="__reactMarker$"+jt;function Un(t){delete t[it],delete t[gt],delete t[un],delete t[_n],delete t[gn]}function en(t){var n=t[it];if(n)return n;for(var r=t.parentNode;r;){if(n=r[kt]||r[it]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=iy(t);t!==null;){if(r=t[it])return r;t=iy(t)}return n}t=r,r=t.parentNode}return null}function yn(t){if(t=t[it]||t[kt]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Tn(t){var n=t[dn];return n||(n=t[dn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[Bt]=!0}var Rr=new Set,Ca={};function Nn(t,n){Vn(t,n),Vn(t+"Capture",n)}function Vn(t,n){for(Ca[t]=n,t=0;t<n.length;t++)Rr.add(n[t])}var Pa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tr={},Ka={};function Qs(t){return Nt.call(Ka,t)?!0:Nt.call(Tr,t)?!1:Pa.test(t)?Ka[t]=!0:(Tr[t]=!0,!1)}function tn(t,n,r){if(Qs(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ra(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Zn(t,n,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+i)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wi(t,n,r){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Tl(t){if(!t._valueTracker){var n=Rl(t)?"checked":"value";t._valueTracker=Wi(t,n,""+t[n])}}function Dl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return t&&(i=Rl(t)?t.checked?"true":"false":t.value),t=i,t!==r?(n.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zl=/[\n"\\]/g;function vn(t){return t.replace(zl,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ml(t,n,r,i,u,f,g,S){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ps(t,g,nn(n)):r!=null?Ps(t,g,nn(r)):i!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+nn(S):t.removeAttribute("name")}function Dr(t,n,r,i,u,f,g,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Tl(t);return}r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=S?t.checked:!!i,t.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Tl(t)}function Ps(t,n,r){n==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ps(t,n,r,i){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&i&&(t[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function eo(t,n,r){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+nn(r):""}function to(t,n,r,i){if(n==null){if(i!=null){if(r!=null)throw Error(l(92));if(ge(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),n=r}r=nn(n),t.defaultValue=r,i=t.textContent,i===r&&i!==""&&i!==null&&(t.value=i),Tl(t)}function gs(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,n,r){var i=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,r):typeof r!="number"||r===0||ou.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ao(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&r[u]!==i&&no(t,u,i)}else for(var f in n)n.hasOwnProperty(f)&&no(t,f,n[f])}function kl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return uu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ta(){}var ys=null;function Ul(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,bs=null;function so(t){var n=yn(t);if(n&&(t=n.stateNode)){var r=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ml(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==t&&i.form===t.form){var u=i[gt]||null;if(!u)throw Error(l(90));Ml(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)i=r[n],i.form===t.form&&Dl(i)}break e;case"textarea":eo(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ps(t,!!r.multiple,n,!1)}}}var Ll=!1;function ro(t,n,r){if(Ll)return t(n,r);Ll=!0;try{var i=t(n);return i}finally{if(Ll=!1,(vs!==null||bs!==null)&&(Ho(),vs&&(n=vs,t=bs,bs=vs=null,so(n),t)))for(n=0;n<t.length;n++)so(t[n])}}function Ks(t,n){var r=t.stateNode;if(r===null)return null;var i=r[gt]||null;if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Da)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Xs=!1}var Ia=null,E=null,I=null;function ce(){if(I)return I;var t,n=E,r=n.length,i,u="value"in Ia?Ia.value:Ia.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(i=1;i<=g&&n[r-i]===u[f-i];i++);return I=u.slice(t,1<i?1-i:void 0)}function xe(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function We(){return!0}function Et(){return!1}function ot(t){function n(r,i,u,f,g){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?We:Et,this.isPropagationStopped=Et,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=We)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=We)},persist:function(){},isPersistent:We}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=ot(jn),Fa=x({},jn,{view:0,detail:0}),Sx=ot(Fa),du,fu,ql,lo=x({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(du=t.screenX-ql.screenX,fu=t.screenY-ql.screenY):fu=du=0,ql=t),du)},movementY:function(t){return"movementY"in t?t.movementY:fu}}),nh=ot(lo),wx=x({},lo,{dataTransfer:0}),_x=ot(wx),Nx=x({},Fa,{relatedTarget:0}),mu=ot(Nx),jx=x({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ex=ot(jx),Ax=x({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ox=ot(Ax),Cx=x({},jn,{data:0}),ah=ot(Cx),Rx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zx(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Dx[t])?!!n[t]:!1}function hu(){return zx}var Mx=x({},Fa,{key:function(t){if(t.key){var n=Rx[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xe(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(t){return t.type==="keypress"?xe(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xe(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kx=ot(Mx),Ux=x({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=ot(Ux),Lx=x({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),qx=ot(Lx),Bx=x({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=ot(Bx),Fx=x({},lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$x=ot(Fx),Hx=x({},jn,{newState:0,oldState:0}),Vx=ot(Hx),Zx=[9,13,27,32],pu=Da&&"CompositionEvent"in window,Bl=null;Da&&"documentMode"in document&&(Bl=document.documentMode);var Gx=Da&&"TextEvent"in window&&!Bl,rh=Da&&(!pu||Bl&&8<Bl&&11>=Bl),lh=" ",ih=!1;function oh(t,n){switch(t){case"keyup":return Zx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function Qx(t,n){switch(t){case"compositionend":return ch(n);case"keypress":return n.which!==32?null:(ih=!0,lh);case"textInput":return t=n.data,t===lh&&ih?null:t;default:return null}}function Yx(t,n){if(Mr)return t==="compositionend"||!pu&&oh(t,n)?(t=ce(),I=E=Ia=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rh&&n.locale!=="ko"?null:n.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Px[t.type]:n==="textarea"}function dh(t,n,r,i){vs?bs?bs.push(i):bs=[i]:vs=i,n=Ko(n,"onChange"),0<n.length&&(r=new Ws("onChange","change",null,r,i),t.push({event:r,listeners:n}))}var Il=null,Fl=null;function Kx(t){Qg(t,0)}function io(t){var n=Hn(t);if(Dl(n))return t}function fh(t,n){if(t==="change")return n}var mh=!1;if(Da){var gu;if(Da){var yu="oninput"in document;if(!yu){var hh=document.createElement("div");hh.setAttribute("oninput","return;"),yu=typeof hh.oninput=="function"}gu=yu}else gu=!1;mh=gu&&(!document.documentMode||9<document.documentMode)}function ph(){Il&&(Il.detachEvent("onpropertychange",gh),Fl=Il=null)}function gh(t){if(t.propertyName==="value"&&io(Fl)){var n=[];dh(n,Fl,t,Ul(t)),ro(Kx,n)}}function Xx(t,n,r){t==="focusin"?(ph(),Il=n,Fl=r,Il.attachEvent("onpropertychange",gh)):t==="focusout"&&ph()}function Jx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io(Fl)}function Wx(t,n){if(t==="click")return io(n)}function eS(t,n){if(t==="input"||t==="change")return io(n)}function tS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var aa=typeof Object.is=="function"?Object.is:tS;function $l(t,n){if(aa(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!Nt.call(n,u)||!aa(t[u],n[u]))return!1}return!0}function yh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vh(t,n){var r=yh(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=n&&i>=n)return{node:r,offset:n-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yh(r)}}function bh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?bh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ys(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ys(t.document)}return n}function vu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nS=Da&&"documentMode"in document&&11>=document.documentMode,kr=null,bu=null,Hl=null,xu=!1;function Sh(t,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xu||kr==null||kr!==Ys(i)||(i=kr,"selectionStart"in i&&vu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Hl&&$l(Hl,i)||(Hl=i,i=Ko(bu,"onSelect"),0<i.length&&(n=new Ws("onSelect","select",null,n,r),t.push({event:n,listeners:i}),n.target=kr)))}function er(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ur={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},Su={},wh={};Da&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function tr(t){if(Su[t])return Su[t];if(!Ur[t])return t;var n=Ur[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in wh)return Su[t]=n[r];return t}var _h=tr("animationend"),Nh=tr("animationiteration"),jh=tr("animationstart"),aS=tr("transitionrun"),sS=tr("transitionstart"),rS=tr("transitioncancel"),Eh=tr("transitionend"),Ah=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function za(t,n){Ah.set(t,n),Nn(n,[t])}var oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fa=[],Lr=0,_u=0;function co(){for(var t=Lr,n=_u=Lr=0;n<t;){var r=fa[n];fa[n++]=null;var i=fa[n];fa[n++]=null;var u=fa[n];fa[n++]=null;var f=fa[n];if(fa[n++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}f!==0&&Oh(r,u,f)}}function uo(t,n,r,i){fa[Lr++]=t,fa[Lr++]=n,fa[Lr++]=r,fa[Lr++]=i,_u|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Nu(t,n,r,i){return uo(t,n,r,i),fo(t)}function nr(t,n){return uo(t,null,null,n),fo(t)}function Oh(t,n,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-xt(r),t=f.hiddenUpdates,i=t[u],i===null?t[u]=[n]:i.push(n),n.lane=r|536870912),f):null}function fo(t){if(50<di)throw di=0,zd=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qr={};function lS(t,n,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(t,n,r,i){return new lS(t,n,r,i)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xa(t,n){var r=t.alternate;return r===null?(r=sa(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ch(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mo(t,n,r,i,u,f){var g=0;if(i=t,typeof t=="function")ju(t)&&(g=1);else if(typeof t=="string")g=dw(t,r,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=sa(31,r,n,u),t.elementType=se,t.lanes=f,t;case A:return ar(r.children,u,f,n);case N:g=8,u|=24;break;case k:return t=sa(12,r,n,u|2),t.elementType=k,t.lanes=f,t;case O:return t=sa(13,r,n,u),t.elementType=O,t.lanes=f,t;case Q:return t=sa(19,r,n,u),t.elementType=Q,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:g=10;break e;case z:g=9;break e;case D:g=11;break e;case U:g=14;break e;case te:g=16,i=null;break e}g=29,r=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=sa(g,r,n,u),n.elementType=t,n.type=i,n.lanes=f,n}function ar(t,n,r,i){return t=sa(7,t,i,n),t.lanes=r,t}function Eu(t,n,r){return t=sa(6,t,null,n),t.lanes=r,t}function Rh(t){var n=sa(18,null,null,0);return n.stateNode=t,n}function Au(t,n,r){return n=sa(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Th=new WeakMap;function ma(t,n){if(typeof t=="object"&&t!==null){var r=Th.get(t);return r!==void 0?r:(n={value:t,source:n,stack:rt(n)},Th.set(t,n),n)}return{value:t,source:n,stack:rt(n)}}var Br=[],Ir=0,ho=null,Vl=0,ha=[],pa=0,xs=null,$a=1,Ha="";function Ja(t,n){Br[Ir++]=Vl,Br[Ir++]=ho,ho=t,Vl=n}function Dh(t,n,r){ha[pa++]=$a,ha[pa++]=Ha,ha[pa++]=xs,xs=t;var i=$a;t=Ha;var u=32-xt(i)-1;i&=~(1<<u),r+=1;var f=32-xt(n)+u;if(30<f){var g=u-u%5;f=(i&(1<<g)-1).toString(32),i>>=g,u-=g,$a=1<<32-xt(n)+u|r<<u|i,Ha=f+t}else $a=1<<f|r<<u|i,Ha=t}function Ou(t){t.return!==null&&(Ja(t,1),Dh(t,1,0))}function Cu(t){for(;t===ho;)ho=Br[--Ir],Br[Ir]=null,Vl=Br[--Ir],Br[Ir]=null;for(;t===xs;)xs=ha[--pa],ha[pa]=null,Ha=ha[--pa],ha[pa]=null,$a=ha[--pa],ha[pa]=null}function zh(t,n){ha[pa++]=$a,ha[pa++]=Ha,ha[pa++]=xs,$a=n.id,Ha=n.overflow,xs=t}var En=null,Ut=null,pt=!1,Ss=null,ga=!1,Ru=Error(l(519));function ws(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(ma(n,t)),Ru}function Mh(t){var n=t.stateNode,r=t.type,i=t.memoizedProps;switch(n[it]=t,n[gt]=i,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(r=0;r<mi.length;r++)ut(mi[r],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":ut("invalid",n),Dr(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ut("invalid",n);break;case"textarea":ut("invalid",n),to(n,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||i.suppressHydrationWarning===!0||Xg(n.textContent,r)?(i.popover!=null&&(ut("beforetoggle",n),ut("toggle",n)),i.onScroll!=null&&ut("scroll",n),i.onScrollEnd!=null&&ut("scrollend",n),i.onClick!=null&&(n.onclick=Ta),n=!0):n=!1,n||ws(t,!0)}function kh(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:En=En.return}}function Fr(t){if(t!==En)return!1;if(!pt)return kh(t),pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Yd(t.type,t.memoizedProps)),r=!r),r&&Ut&&ws(t),kh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=ly(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Ut=ly(t)}else n===27?(n=Ut,Us(t.type)?(t=Wd,Wd=null,Ut=t):Ut=n):Ut=En?va(t.stateNode.nextSibling):null;return!0}function sr(){Ut=En=null,pt=!1}function Tu(){var t=Ss;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),Ss=null),t}function Zl(t){Ss===null?Ss=[t]:Ss.push(t)}var Du=j(null),rr=null,Wa=null;function _s(t,n,r){oe(Du,n._currentValue),n._currentValue=r}function es(t){t._currentValue=Du.current,Y(Du)}function zu(t,n,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===r)break;t=t.return}}function Mu(t,n,r,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var T=0;T<n.length;T++)if(S.context===n[T]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),zu(f.return,r,t),i||(g=null);break e}f=S.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),zu(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function $r(t,n,r,i){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var S=u.type;aa(u.pendingProps.value,g.value)||(t!==null?t.push(S):t=[S])}}else if(u===Te.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(vi):t=[vi])}u=u.return}t!==null&&Mu(n,t,r,i),n.flags|=262144}function po(t){for(t=t.firstContext;t!==null;){if(!aa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){rr=t,Wa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return Uh(rr,t)}function go(t,n){return rr===null&&lr(t),Uh(t,n)}function Uh(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wa===null){if(t===null)throw Error(l(308));Wa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wa=Wa.next=n;return r}var iS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},oS=e.unstable_scheduleCallback,cS=e.unstable_NormalPriority,an={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ku(){return{controller:new iS,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&oS(cS,function(){t.controller.abort()})}var Ql=null,Uu=0,Hr=0,Vr=null;function uS(t,n){if(Ql===null){var r=Ql=[];Uu=0,Hr=Bd(),Vr={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Uu++,n.then(Lh,Lh),n}function Lh(){if(--Uu===0&&Ql!==null){Vr!==null&&(Vr.status="fulfilled");var t=Ql;Ql=null,Hr=0,Vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dS(t,n){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var qh=q.S;q.S=function(t,n){Sg=H(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uS(t,n),qh!==null&&qh(t,n)};var ir=j(null);function Lu(){var t=ir.current;return t!==null?t:Dt.pooledCache}function yo(t,n){n===null?oe(ir,ir.current):oe(ir,n.pool)}function Bh(){var t=Lu();return t===null?null:{parent:an._currentValue,pool:t}}var Zr=Error(l(460)),qu=Error(l(474)),vo=Error(l(542)),bo={then:function(){}};function Ih(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ta,Ta),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hh(t),t;default:if(typeof n.status=="string")n.then(Ta,Ta);else{if(t=Dt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hh(t),t}throw cr=n,Zr}}function or(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(cr=r,Zr):r}}var cr=null;function $h(){if(cr===null)throw Error(l(459));var t=cr;return cr=null,t}function Hh(t){if(t===Zr||t===vo)throw Error(l(483))}var Gr=null,Yl=0;function xo(t){var n=Yl;return Yl+=1,Gr===null&&(Gr=[]),Fh(Gr,t,n)}function Pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function So(t,n){throw n.$$typeof===w?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Vh(t){function n(B,M){if(t){var Z=B.deletions;Z===null?(B.deletions=[M],B.flags|=16):Z.push(M)}}function r(B,M){if(!t)return null;for(;M!==null;)n(B,M),M=M.sibling;return null}function i(B){for(var M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function u(B,M){return B=Xa(B,M),B.index=0,B.sibling=null,B}function f(B,M,Z){return B.index=Z,t?(Z=B.alternate,Z!==null?(Z=Z.index,Z<M?(B.flags|=67108866,M):Z):(B.flags|=67108866,M)):(B.flags|=1048576,M)}function g(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function S(B,M,Z,ue){return M===null||M.tag!==6?(M=Eu(Z,B.mode,ue),M.return=B,M):(M=u(M,Z),M.return=B,M)}function T(B,M,Z,ue){var $e=Z.type;return $e===A?le(B,M,Z.props.children,ue,Z.key):M!==null&&(M.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===te&&or($e)===M.type)?(M=u(M,Z.props),Pl(M,Z),M.return=B,M):(M=mo(Z.type,Z.key,Z.props,null,B.mode,ue),Pl(M,Z),M.return=B,M)}function G(B,M,Z,ue){return M===null||M.tag!==4||M.stateNode.containerInfo!==Z.containerInfo||M.stateNode.implementation!==Z.implementation?(M=Au(Z,B.mode,ue),M.return=B,M):(M=u(M,Z.children||[]),M.return=B,M)}function le(B,M,Z,ue,$e){return M===null||M.tag!==7?(M=ar(Z,B.mode,ue,$e),M.return=B,M):(M=u(M,Z),M.return=B,M)}function fe(B,M,Z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Eu(""+M,B.mode,Z),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return Z=mo(M.type,M.key,M.props,null,B.mode,Z),Pl(Z,M),Z.return=B,Z;case _:return M=Au(M,B.mode,Z),M.return=B,M;case te:return M=or(M),fe(B,M,Z)}if(ge(M)||de(M))return M=ar(M,B.mode,Z,null),M.return=B,M;if(typeof M.then=="function")return fe(B,xo(M),Z);if(M.$$typeof===ee)return fe(B,go(B,M),Z);So(B,M)}return null}function P(B,M,Z,ue){var $e=M!==null?M.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return $e!==null?null:S(B,M,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return Z.key===$e?T(B,M,Z,ue):null;case _:return Z.key===$e?G(B,M,Z,ue):null;case te:return Z=or(Z),P(B,M,Z,ue)}if(ge(Z)||de(Z))return $e!==null?null:le(B,M,Z,ue,null);if(typeof Z.then=="function")return P(B,M,xo(Z),ue);if(Z.$$typeof===ee)return P(B,M,go(B,Z),ue);So(B,Z)}return null}function ne(B,M,Z,ue,$e){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return B=B.get(Z)||null,S(M,B,""+ue,$e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return B=B.get(ue.key===null?Z:ue.key)||null,T(M,B,ue,$e);case _:return B=B.get(ue.key===null?Z:ue.key)||null,G(M,B,ue,$e);case te:return ue=or(ue),ne(B,M,Z,ue,$e)}if(ge(ue)||de(ue))return B=B.get(Z)||null,le(M,B,ue,$e,null);if(typeof ue.then=="function")return ne(B,M,Z,xo(ue),$e);if(ue.$$typeof===ee)return ne(B,M,Z,go(M,ue),$e);So(M,ue)}return null}function Me(B,M,Z,ue){for(var $e=null,yt=null,qe=M,at=M=0,ht=null;qe!==null&&at<Z.length;at++){qe.index>at?(ht=qe,qe=null):ht=qe.sibling;var vt=P(B,qe,Z[at],ue);if(vt===null){qe===null&&(qe=ht);break}t&&qe&&vt.alternate===null&&n(B,qe),M=f(vt,M,at),yt===null?$e=vt:yt.sibling=vt,yt=vt,qe=ht}if(at===Z.length)return r(B,qe),pt&&Ja(B,at),$e;if(qe===null){for(;at<Z.length;at++)qe=fe(B,Z[at],ue),qe!==null&&(M=f(qe,M,at),yt===null?$e=qe:yt.sibling=qe,yt=qe);return pt&&Ja(B,at),$e}for(qe=i(qe);at<Z.length;at++)ht=ne(qe,B,at,Z[at],ue),ht!==null&&(t&&ht.alternate!==null&&qe.delete(ht.key===null?at:ht.key),M=f(ht,M,at),yt===null?$e=ht:yt.sibling=ht,yt=ht);return t&&qe.forEach(function(Fs){return n(B,Fs)}),pt&&Ja(B,at),$e}function Ve(B,M,Z,ue){if(Z==null)throw Error(l(151));for(var $e=null,yt=null,qe=M,at=M=0,ht=null,vt=Z.next();qe!==null&&!vt.done;at++,vt=Z.next()){qe.index>at?(ht=qe,qe=null):ht=qe.sibling;var Fs=P(B,qe,vt.value,ue);if(Fs===null){qe===null&&(qe=ht);break}t&&qe&&Fs.alternate===null&&n(B,qe),M=f(Fs,M,at),yt===null?$e=Fs:yt.sibling=Fs,yt=Fs,qe=ht}if(vt.done)return r(B,qe),pt&&Ja(B,at),$e;if(qe===null){for(;!vt.done;at++,vt=Z.next())vt=fe(B,vt.value,ue),vt!==null&&(M=f(vt,M,at),yt===null?$e=vt:yt.sibling=vt,yt=vt);return pt&&Ja(B,at),$e}for(qe=i(qe);!vt.done;at++,vt=Z.next())vt=ne(qe,B,at,vt.value,ue),vt!==null&&(t&&vt.alternate!==null&&qe.delete(vt.key===null?at:vt.key),M=f(vt,M,at),yt===null?$e=vt:yt.sibling=vt,yt=vt);return t&&qe.forEach(function(ww){return n(B,ww)}),pt&&Ja(B,at),$e}function Ct(B,M,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:e:{for(var $e=Z.key;M!==null;){if(M.key===$e){if($e=Z.type,$e===A){if(M.tag===7){r(B,M.sibling),ue=u(M,Z.props.children),ue.return=B,B=ue;break e}}else if(M.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===te&&or($e)===M.type){r(B,M.sibling),ue=u(M,Z.props),Pl(ue,Z),ue.return=B,B=ue;break e}r(B,M);break}else n(B,M);M=M.sibling}Z.type===A?(ue=ar(Z.props.children,B.mode,ue,Z.key),ue.return=B,B=ue):(ue=mo(Z.type,Z.key,Z.props,null,B.mode,ue),Pl(ue,Z),ue.return=B,B=ue)}return g(B);case _:e:{for($e=Z.key;M!==null;){if(M.key===$e)if(M.tag===4&&M.stateNode.containerInfo===Z.containerInfo&&M.stateNode.implementation===Z.implementation){r(B,M.sibling),ue=u(M,Z.children||[]),ue.return=B,B=ue;break e}else{r(B,M);break}else n(B,M);M=M.sibling}ue=Au(Z,B.mode,ue),ue.return=B,B=ue}return g(B);case te:return Z=or(Z),Ct(B,M,Z,ue)}if(ge(Z))return Me(B,M,Z,ue);if(de(Z)){if($e=de(Z),typeof $e!="function")throw Error(l(150));return Z=$e.call(Z),Ve(B,M,Z,ue)}if(typeof Z.then=="function")return Ct(B,M,xo(Z),ue);if(Z.$$typeof===ee)return Ct(B,M,go(B,Z),ue);So(B,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,M!==null&&M.tag===6?(r(B,M.sibling),ue=u(M,Z),ue.return=B,B=ue):(r(B,M),ue=Eu(Z,B.mode,ue),ue.return=B,B=ue),g(B)):r(B,M)}return function(B,M,Z,ue){try{Yl=0;var $e=Ct(B,M,Z,ue);return Gr=null,$e}catch(qe){if(qe===Zr||qe===vo)throw qe;var yt=sa(29,qe,null,B.mode);return yt.lanes=ue,yt.return=B,yt}finally{}}}var ur=Vh(!0),Zh=Vh(!1),Ns=!1;function Bu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(bt&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=fo(t),Oh(t,null,r),n}return uo(t,i,n,r),fo(t)}function Kl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,lt(t,r)}}function Fu(t,n){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var $u=!1;function Xl(){if($u){var t=Vr;if(t!==null)throw t}}function Jl(t,n,r,i){$u=!1;var u=t.updateQueue;Ns=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,G=T.next;T.next=null,g===null?f=G:g.next=G,g=T;var le=t.alternate;le!==null&&(le=le.updateQueue,S=le.lastBaseUpdate,S!==g&&(S===null?le.firstBaseUpdate=G:S.next=G,le.lastBaseUpdate=T))}if(f!==null){var fe=u.baseState;g=0,le=G=T=null,S=f;do{var P=S.lane&-536870913,ne=P!==S.lane;if(ne?(mt&P)===P:(i&P)===P){P!==0&&P===Hr&&($u=!0),le!==null&&(le=le.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=t,Ve=S;P=n;var Ct=r;switch(Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){fe=Me.call(Ct,fe,P);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,P=typeof Me=="function"?Me.call(Ct,fe,P):Me,P==null)break e;fe=x({},fe,P);break e;case 2:Ns=!0}}P=S.callback,P!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=u.callbacks,ne===null?u.callbacks=[P]:ne.push(P))}else ne={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},le===null?(G=le=ne,T=fe):le=le.next=ne,g|=P;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;ne=S,S=ne.next,ne.next=null,u.lastBaseUpdate=ne,u.shared.pending=null}}while(!0);le===null&&(T=fe),u.baseState=T,u.firstBaseUpdate=G,u.lastBaseUpdate=le,f===null&&(u.shared.lanes=0),Ts|=g,t.lanes=g,t.memoizedState=fe}}function Gh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Qh(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Gh(r[t],n)}var Qr=j(null),wo=j(0);function Yh(t,n){t=cs,oe(wo,t),oe(Qr,n),cs=t|n.baseLanes}function Hu(){oe(wo,cs),oe(Qr,Qr.current)}function Vu(){cs=wo.current,Y(Qr),Y(wo)}var ra=j(null),ya=null;function As(t){var n=t.alternate;oe(Kt,Kt.current&1),oe(ra,t),ya===null&&(n===null||Qr.current!==null||n.memoizedState!==null)&&(ya=t)}function Zu(t){oe(Kt,Kt.current),oe(ra,t),ya===null&&(ya=t)}function Ph(t){t.tag===22?(oe(Kt,Kt.current),oe(ra,t),ya===null&&(ya=t)):Os()}function Os(){oe(Kt,Kt.current),oe(ra,ra.current)}function la(t){Y(ra),ya===t&&(ya=null),Y(Kt)}var Kt=j(0);function _o(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Xd(r)||Jd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,et=null,At=null,sn=null,No=!1,Yr=!1,dr=!1,jo=0,Wl=0,Pr=null,fS=0;function Qt(){throw Error(l(321))}function Gu(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!aa(t[r],n[r]))return!1;return!0}function Qu(t,n,r,i,u,f){return ts=f,et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Dp:od,dr=!1,f=r(i,u),dr=!1,Yr&&(f=Xh(n,r,i,u)),Kh(t),f}function Kh(t){q.H=ni;var n=At!==null&&At.next!==null;if(ts=0,sn=At=et=null,No=!1,Wl=0,Pr=null,n)throw Error(l(300));t===null||rn||(t=t.dependencies,t!==null&&po(t)&&(rn=!0))}function Xh(t,n,r,i){et=t;var u=0;do{if(Yr&&(Pr=null),Wl=0,Yr=!1,25<=u)throw Error(l(301));if(u+=1,sn=At=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=zp,f=n(r,i)}while(Yr);return f}function mS(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?ei(n):n,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(et.flags|=1024),n}function Yu(){var t=jo!==0;return jo=0,t}function Pu(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ku(t){if(No){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}No=!1}ts=0,sn=At=et=null,Yr=!1,Wl=jo=0,Pr=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?et.memoizedState=sn=t:sn=sn.next=t,sn}function Xt(){if(At===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var n=sn===null?et.memoizedState:sn.next;if(n!==null)sn=n,At=t;else{if(t===null)throw et.alternate===null?Error(l(467)):Error(l(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},sn===null?et.memoizedState=sn=t:sn=sn.next=t}return sn}function Eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ei(t){var n=Wl;return Wl+=1,Pr===null&&(Pr=[]),t=Fh(Pr,t,n),n=et,(sn===null?n.memoizedState:sn.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Dp:od),t}function Ao(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ei(t);if(t.$$typeof===ee)return An(t)}throw Error(l(438,String(t)))}function Xu(t){var n=null,r=et.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Eo(),et.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),i=0;i<t;i++)r[i]=Se;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function Oo(t){var n=Xt();return Ju(n,At,t)}function Ju(t,n,r){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=t.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,i.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var S=g=null,T=null,G=n,le=!1;do{var fe=G.lane&-536870913;if(fe!==G.lane?(mt&fe)===fe:(ts&fe)===fe){var P=G.revertLane;if(P===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),fe===Hr&&(le=!0);else if((ts&P)===P){G=G.next,P===Hr&&(le=!0);continue}else fe={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},T===null?(S=T=fe,g=f):T=T.next=fe,et.lanes|=P,Ts|=P;fe=G.action,dr&&r(f,fe),f=G.hasEagerState?G.eagerState:r(f,fe)}else P={lane:fe,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},T===null?(S=T=P,g=f):T=T.next=P,et.lanes|=fe,Ts|=fe;G=G.next}while(G!==null&&G!==n);if(T===null?g=f:T.next=S,!aa(f,t.memoizedState)&&(rn=!0,le&&(r=Vr,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=T,i.lastRenderedState=f}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Wu(t){var n=Xt(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var i=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);aa(f,n.memoizedState)||(rn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,i]}function Jh(t,n,r){var i=et,u=Xt(),f=pt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var g=!aa((At||u).memoizedState,r);if(g&&(u.memoizedState=r,rn=!0),u=u.queue,nd(tp.bind(null,i,u,t),[t]),u.getSnapshot!==n||g||sn!==null&&sn.memoizedState.tag&1){if(i.flags|=2048,Kr(9,{destroy:void 0},ep.bind(null,i,u,r,n),null),Dt===null)throw Error(l(349));f||(ts&127)!==0||Wh(i,n,r)}return r}function Wh(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=et.updateQueue,n===null?(n=Eo(),et.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ep(t,n,r,i){n.value=r,n.getSnapshot=i,np(n)&&ap(t)}function tp(t,n,r){return r(function(){np(n)&&ap(t)})}function np(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!aa(t,r)}catch{return!0}}function ap(t){var n=nr(t,2);n!==null&&Kn(n,t,2)}function ed(t){var n=Ln();if(typeof t=="function"){var r=t;if(t=r(),dr){Zt(!0);try{r()}finally{Zt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function sp(t,n,r,i){return t.baseState=r,Ju(t,At,typeof i=="function"?i:ns)}function hS(t,n,r,i,u){if(To(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,i(f),r=n.pending,r===null?(f.next=n.pending=f,rp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function rp(t,n){var r=n.action,i=n.payload,u=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var S=r(u,i),T=q.S;T!==null&&T(g,S),lp(t,n,S)}catch(G){td(t,n,G)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(u,i),lp(t,n,f)}catch(G){td(t,n,G)}}function lp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){ip(t,n,i)},function(i){return td(t,n,i)}):ip(t,n,r)}function ip(t,n,r){n.status="fulfilled",n.value=r,op(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,rp(t,r)))}function td(t,n,r){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,op(n),n=n.next;while(n!==i)}t.action=null}function op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function cp(t,n){return n}function up(t,n){if(pt){var r=Dt.formState;if(r!==null){e:{var i=et;if(pt){if(Ut){t:{for(var u=Ut,f=ga;u.nodeType!==8;){if(!f){u=null;break t}if(u=va(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ut=va(u.nextSibling),i=u.data==="F!";break e}}ws(i)}i=!1}i&&(n=r[0])}}return r=Ln(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:n},r.queue=i,r=Cp.bind(null,et,i),i.dispatch=r,i=ed(!1),f=id.bind(null,et,!1,i.queue),i=Ln(),u={state:n,dispatch:null,action:t,pending:null},i.queue=u,r=hS.bind(null,et,u,f,r),u.dispatch=r,i.memoizedState=t,[n,r,!1]}function dp(t){var n=Xt();return fp(n,At,t)}function fp(t,n,r){if(n=Ju(t,n,cp)[0],t=Oo(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=ei(n)}catch(g){throw g===Zr?vo:g}else i=n;n=Xt();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(et.flags|=2048,Kr(9,{destroy:void 0},pS.bind(null,u,r),null)),[i,f,t]}function pS(t,n){t.action=n}function mp(t){var n=Xt(),r=At;if(r!==null)return fp(n,r,t);Xt(),n=n.memoizedState,r=Xt();var i=r.queue.dispatch;return r.memoizedState=t,[n,i,!1]}function Kr(t,n,r,i){return t={tag:t,create:r,deps:i,inst:n,next:null},n=et.updateQueue,n===null&&(n=Eo(),et.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,n.lastEffect=t),t}function hp(){return Xt().memoizedState}function Co(t,n,r,i){var u=Ln();et.flags|=t,u.memoizedState=Kr(1|n,{destroy:void 0},r,i===void 0?null:i)}function Ro(t,n,r,i){var u=Xt();i=i===void 0?null:i;var f=u.memoizedState.inst;At!==null&&i!==null&&Gu(i,At.memoizedState.deps)?u.memoizedState=Kr(n,f,r,i):(et.flags|=t,u.memoizedState=Kr(1|n,f,r,i))}function pp(t,n){Co(8390656,8,t,n)}function nd(t,n){Ro(2048,8,t,n)}function gS(t){et.flags|=4;var n=et.updateQueue;if(n===null)n=Eo(),et.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function gp(t){var n=Xt().memoizedState;return gS({ref:n,nextImpl:t}),function(){if((bt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function yp(t,n){return Ro(4,2,t,n)}function vp(t,n){return Ro(4,4,t,n)}function bp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xp(t,n,r){r=r!=null?r.concat([t]):null,Ro(4,4,bp.bind(null,n,t),r)}function ad(){}function Sp(t,n){var r=Xt();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&Gu(n,i[1])?i[0]:(r.memoizedState=[t,n],t)}function wp(t,n){var r=Xt();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&Gu(n,i[1]))return i[0];if(i=t(),dr){Zt(!0);try{t()}finally{Zt(!1)}}return r.memoizedState=[i,n],i}function sd(t,n,r){return r===void 0||(ts&1073741824)!==0&&(mt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=_g(),et.lanes|=t,Ts|=t,r)}function _p(t,n,r,i){return aa(r,n)?r:Qr.current!==null?(t=sd(t,r,i),aa(t,n)||(rn=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(mt&261930)===0?(rn=!0,t.memoizedState=r):(t=_g(),et.lanes|=t,Ts|=t,n)}function Np(t,n,r,i,u){var f=ie.p;ie.p=f!==0&&8>f?f:8;var g=q.T,S={};q.T=S,id(t,!1,n,r);try{var T=u(),G=q.S;if(G!==null&&G(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var le=dS(T,i);ti(t,n,le,ca(t))}else ti(t,n,i,ca(t))}catch(fe){ti(t,n,{then:function(){},status:"rejected",reason:fe},ca())}finally{ie.p=f,g!==null&&S.types!==null&&(g.types=S.types),q.T=g}}function yS(){}function rd(t,n,r,i){if(t.tag!==5)throw Error(l(476));var u=jp(t).queue;Np(t,u,n,re,r===null?yS:function(){return Ep(t),r(i)})}function jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:re},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ep(t){var n=jp(t);n.next===null&&(n=t.alternate.memoizedState),ti(t,n.next.queue,{},ca())}function ld(){return An(vi)}function Ap(){return Xt().memoizedState}function Op(){return Xt().memoizedState}function vS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ca();t=js(r);var i=Es(n,t,r);i!==null&&(Kn(i,n,r),Kl(i,n,r)),n={cache:ku()},t.payload=n;return}n=n.return}}function bS(t,n,r){var i=ca();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},To(t)?Rp(n,r):(r=Nu(t,n,r,i),r!==null&&(Kn(r,t,i),Tp(r,n,i)))}function Cp(t,n,r){var i=ca();ti(t,n,r,i)}function ti(t,n,r,i){var u={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(To(t))Rp(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,r);if(u.hasEagerState=!0,u.eagerState=S,aa(S,g))return uo(t,n,u,0),Dt===null&&co(),!1}catch{}finally{}if(r=Nu(t,n,u,i),r!==null)return Kn(r,t,i),Tp(r,n,i),!0}return!1}function id(t,n,r,i){if(i={lane:2,revertLane:Bd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},To(t)){if(n)throw Error(l(479))}else n=Nu(t,r,i,2),n!==null&&Kn(n,t,2)}function To(t){var n=t.alternate;return t===et||n!==null&&n===et}function Rp(t,n){Yr=No=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Tp(t,n,r){if((r&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,lt(t,r)}}var ni={readContext:An,use:Ao,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};ni.useEffectEvent=Qt;var Dp={readContext:An,use:Ao,useCallback:function(t,n){return Ln().memoizedState=[t,n===void 0?null:n],t},useContext:An,useEffect:pp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Co(4194308,4,bp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Co(4194308,4,t,n)},useInsertionEffect:function(t,n){Co(4,2,t,n)},useMemo:function(t,n){var r=Ln();n=n===void 0?null:n;var i=t();if(dr){Zt(!0);try{t()}finally{Zt(!1)}}return r.memoizedState=[i,n],i},useReducer:function(t,n,r){var i=Ln();if(r!==void 0){var u=r(n);if(dr){Zt(!0);try{r(n)}finally{Zt(!1)}}}else u=n;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=bS.bind(null,et,t),[i.memoizedState,t]},useRef:function(t){var n=Ln();return t={current:t},n.memoizedState=t},useState:function(t){t=ed(t);var n=t.queue,r=Cp.bind(null,et,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ad,useDeferredValue:function(t,n){var r=Ln();return sd(r,t,n)},useTransition:function(){var t=ed(!1);return t=Np.bind(null,et,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var i=et,u=Ln();if(pt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Dt===null)throw Error(l(349));(mt&127)!==0||Wh(i,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,pp(tp.bind(null,i,f,t),[t]),i.flags|=2048,Kr(9,{destroy:void 0},ep.bind(null,i,f,r,n),null),r},useId:function(){var t=Ln(),n=Dt.identifierPrefix;if(pt){var r=Ha,i=$a;r=(i&~(1<<32-xt(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=jo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=fS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ld,useFormState:up,useActionState:up,useOptimistic:function(t){var n=Ln();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=id.bind(null,et,!0,r),r.dispatch=n,[t,n]},useMemoCache:Xu,useCacheRefresh:function(){return Ln().memoizedState=vS.bind(null,et)},useEffectEvent:function(t){var n=Ln(),r={impl:t};return n.memoizedState=r,function(){if((bt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},od={readContext:An,use:Ao,useCallback:Sp,useContext:An,useEffect:nd,useImperativeHandle:xp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:wp,useReducer:Oo,useRef:hp,useState:function(){return Oo(ns)},useDebugValue:ad,useDeferredValue:function(t,n){var r=Xt();return _p(r,At.memoizedState,t,n)},useTransition:function(){var t=Oo(ns)[0],n=Xt().memoizedState;return[typeof t=="boolean"?t:ei(t),n]},useSyncExternalStore:Jh,useId:Ap,useHostTransitionStatus:ld,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var r=Xt();return sp(r,At,t,n)},useMemoCache:Xu,useCacheRefresh:Op};od.useEffectEvent=gp;var zp={readContext:An,use:Ao,useCallback:Sp,useContext:An,useEffect:nd,useImperativeHandle:xp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:wp,useReducer:Wu,useRef:hp,useState:function(){return Wu(ns)},useDebugValue:ad,useDeferredValue:function(t,n){var r=Xt();return At===null?sd(r,t,n):_p(r,At.memoizedState,t,n)},useTransition:function(){var t=Wu(ns)[0],n=Xt().memoizedState;return[typeof t=="boolean"?t:ei(t),n]},useSyncExternalStore:Jh,useId:Ap,useHostTransitionStatus:ld,useFormState:mp,useActionState:mp,useOptimistic:function(t,n){var r=Xt();return At!==null?sp(r,At,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:Op};zp.useEffectEvent=gp;function cd(t,n,r,i){n=t.memoizedState,r=r(i,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ud={enqueueSetState:function(t,n,r){t=t._reactInternals;var i=ca(),u=js(i);u.payload=n,r!=null&&(u.callback=r),n=Es(t,u,i),n!==null&&(Kn(n,t,i),Kl(n,t,i))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var i=ca(),u=js(i);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Es(t,u,i),n!==null&&(Kn(n,t,i),Kl(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ca(),i=js(r);i.tag=2,n!=null&&(i.callback=n),n=Es(t,i,r),n!==null&&(Kn(n,t,r),Kl(n,t,r))}};function Mp(t,n,r,i,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,f,g):n.prototype&&n.prototype.isPureReactComponent?!$l(r,i)||!$l(u,f):!0}function kp(t,n,r,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==t&&ud.enqueueReplaceState(n,n.state,null)}function fr(t,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function Up(t){oo(t)}function Lp(t){console.error(t)}function qp(t){oo(t)}function Do(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Bp(t,n,r){try{var i=t.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function dd(t,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){Do(t,n)},r}function Ip(t){return t=js(t),t.tag=3,t}function Fp(t,n,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;t.payload=function(){return u(f)},t.callback=function(){Bp(n,r,i)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Bp(n,r,i),typeof u!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function xS(t,n,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&$r(n,r,u,!0),r=ra.current,r!==null){switch(r.tag){case 31:case 13:return ya===null?Vo():r.alternate===null&&Yt===0&&(Yt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===bo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),Ud(t,i,u)),!1;case 22:return r.flags|=65536,i===bo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),Ud(t,i,u)),!1}throw Error(l(435,r.tag))}return Ud(t,i,u),Vo(),!1}if(pt)return n=ra.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==Ru&&(t=Error(l(422),{cause:i}),Zl(ma(t,r)))):(i!==Ru&&(n=Error(l(423),{cause:i}),Zl(ma(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=ma(i,r),u=dd(t.stateNode,i,u),Fu(t,u),Yt!==4&&(Yt=2)),!1;var f=Error(l(520),{cause:i});if(f=ma(f,r),ui===null?ui=[f]:ui.push(f),Yt!==4&&(Yt=2),n===null)return!0;i=ma(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=dd(r.stateNode,i,t),Fu(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Ip(u),Fp(u,t,r,i),Fu(r,u),!1}r=r.return}while(r!==null);return!1}var fd=Error(l(461)),rn=!1;function On(t,n,r,i){n.child=t===null?Zh(n,null,r,i):ur(n,t.child,r,i)}function $p(t,n,r,i,u){r=r.render;var f=n.ref;if("ref"in i){var g={};for(var S in i)S!=="ref"&&(g[S]=i[S])}else g=i;return lr(n),i=Qu(t,n,r,g,f,u),S=Yu(),t!==null&&!rn?(Pu(t,n,u),as(t,n,u)):(pt&&S&&Ou(n),n.flags|=1,On(t,n,i,u),n.child)}function Hp(t,n,r,i,u){if(t===null){var f=r.type;return typeof f=="function"&&!ju(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Vp(t,n,f,i,u)):(t=mo(r.type,null,i,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!xd(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:$l,r(g,i)&&t.ref===n.ref)return as(t,n,u)}return n.flags|=1,t=Xa(f,i),t.ref=n.ref,t.return=n,n.child=t}function Vp(t,n,r,i,u){if(t!==null){var f=t.memoizedProps;if($l(f,i)&&t.ref===n.ref)if(rn=!1,n.pendingProps=i=f,xd(t,u))(t.flags&131072)!==0&&(rn=!0);else return n.lanes=t.lanes,as(t,n,u)}return md(t,n,r,i,u)}function Zp(t,n,r,i){var u=i.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(i=n.child=t.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return Gp(t,n,f,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yo(n,f!==null?f.cachePool:null),f!==null?Yh(n,f):Hu(),Ph(n);else return i=n.lanes=536870912,Gp(t,n,f!==null?f.baseLanes|r:r,r,i)}else f!==null?(yo(n,f.cachePool),Yh(n,f),Os(),n.memoizedState=null):(t!==null&&yo(n,null),Hu(),Os());return On(t,n,u,r),n.child}function ai(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gp(t,n,r,i,u){var f=Lu();return f=f===null?null:{parent:an._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&yo(n,null),Hu(),Ph(n),t!==null&&$r(t,n,i,!0),n.childLanes=u,null}function zo(t,n){return n=ko({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Qp(t,n,r){return ur(n,t.child,null,r),t=zo(n,n.pendingProps),t.flags|=2,la(n),n.memoizedState=null,t}function SS(t,n,r){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(pt){if(i.mode==="hidden")return t=zo(n,i),n.lanes=536870912,ai(null,t);if(Zu(n),(t=Ut)?(t=ry(t,ga),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:$a,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},r=Rh(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw ws(n);return n.lanes=536870912,null}return zo(n,i)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Zu(n),u)if(n.flags&256)n.flags&=-257,n=Qp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(rn||$r(t,n,r,!1),u=(r&t.childLanes)!==0,rn||u){if(i=Dt,i!==null&&(g=Fe(i,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,nr(t,g),Kn(i,t,g),fd;Vo(),n=Qp(t,n,r)}else t=f.treeContext,Ut=va(g.nextSibling),En=n,pt=!0,Ss=null,ga=!1,t!==null&&zh(n,t),n=zo(n,i),n.flags|=4096;return n}return t=Xa(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Mo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function md(t,n,r,i,u){return lr(n),r=Qu(t,n,r,i,void 0,u),i=Yu(),t!==null&&!rn?(Pu(t,n,u),as(t,n,u)):(pt&&i&&Ou(n),n.flags|=1,On(t,n,r,u),n.child)}function Yp(t,n,r,i,u,f){return lr(n),n.updateQueue=null,r=Xh(n,i,r,u),Kh(t),i=Yu(),t!==null&&!rn?(Pu(t,n,f),as(t,n,f)):(pt&&i&&Ou(n),n.flags|=1,On(t,n,r,f),n.child)}function Pp(t,n,r,i,u){if(lr(n),n.stateNode===null){var f=qr,g=r.contextType;typeof g=="object"&&g!==null&&(f=An(g)),f=new r(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ud,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},Bu(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?An(g):qr,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(cd(n,r,g,i),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&ud.enqueueReplaceState(f,f.state,null),Jl(n,i,f,u),Xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,T=fr(r,S);f.props=T;var G=f.context,le=r.contextType;g=qr,typeof le=="object"&&le!==null&&(g=An(le));var fe=r.getDerivedStateFromProps;le=typeof fe=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,le||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||G!==g)&&kp(n,f,i,g),Ns=!1;var P=n.memoizedState;f.state=P,Jl(n,i,f,u),Xl(),G=n.memoizedState,S||P!==G||Ns?(typeof fe=="function"&&(cd(n,r,fe,i),G=n.memoizedState),(T=Ns||Mp(n,r,T,i,P,G,g))?(le||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=G),f.props=i,f.state=G,f.context=g,i=T):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,Iu(t,n),g=n.memoizedProps,le=fr(r,g),f.props=le,fe=n.pendingProps,P=f.context,G=r.contextType,T=qr,typeof G=="object"&&G!==null&&(T=An(G)),S=r.getDerivedStateFromProps,(G=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==fe||P!==T)&&kp(n,f,i,T),Ns=!1,P=n.memoizedState,f.state=P,Jl(n,i,f,u),Xl();var ne=n.memoizedState;g!==fe||P!==ne||Ns||t!==null&&t.dependencies!==null&&po(t.dependencies)?(typeof S=="function"&&(cd(n,r,S,i),ne=n.memoizedState),(le=Ns||Mp(n,r,le,i,P,ne,T)||t!==null&&t.dependencies!==null&&po(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,ne,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,ne,T)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=ne),f.props=i,f.state=ne,f.context=T,i=le):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),i=!1)}return f=i,Mo(t,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&i?(n.child=ur(n,t.child,null,u),n.child=ur(n,null,r,u)):On(t,n,r,u),n.memoizedState=f.state,t=n.child):t=as(t,n,u),t}function Kp(t,n,r,i){return sr(),n.flags|=256,On(t,n,r,i),n.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Bh()}}function gd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=oa),t}function Xp(t,n,r){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(pt){if(u?As(n):Os(),(t=Ut)?(t=ry(t,ga),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xs!==null?{id:$a,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},r=Rh(t),r.return=n,n.child=r,En=n,Ut=null)):t=null,t===null)throw ws(n);return Jd(t)?n.lanes=32:n.lanes=536870912,null}var S=i.children;return i=i.fallback,u?(Os(),u=n.mode,S=ko({mode:"hidden",children:S},u),i=ar(i,u,r,null),S.return=n,i.return=n,S.sibling=i,n.child=S,i=n.child,i.memoizedState=pd(r),i.childLanes=gd(t,g,r),n.memoizedState=hd,ai(null,i)):(As(n),yd(n,S))}var T=t.memoizedState;if(T!==null&&(S=T.dehydrated,S!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=vd(t,n,r)):n.memoizedState!==null?(Os(),n.child=t.child,n.flags|=128,n=null):(Os(),S=i.fallback,u=n.mode,i=ko({mode:"visible",children:i.children},u),S=ar(S,u,r,null),S.flags|=2,i.return=n,S.return=n,i.sibling=S,n.child=i,ur(n,t.child,null,r),i=n.child,i.memoizedState=pd(r),i.childLanes=gd(t,g,r),n.memoizedState=hd,n=ai(null,i));else if(As(n),Jd(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var G=g.dgst;g=G,i=Error(l(419)),i.stack="",i.digest=g,Zl({value:i,source:null,stack:null}),n=vd(t,n,r)}else if(rn||$r(t,n,r,!1),g=(r&t.childLanes)!==0,rn||g){if(g=Dt,g!==null&&(i=Fe(g,r),i!==0&&i!==T.retryLane))throw T.retryLane=i,nr(t,i),Kn(g,t,i),fd;Xd(S)||Vo(),n=vd(t,n,r)}else Xd(S)?(n.flags|=192,n.child=t.child,n=null):(t=T.treeContext,Ut=va(S.nextSibling),En=n,pt=!0,Ss=null,ga=!1,t!==null&&zh(n,t),n=yd(n,i.children),n.flags|=4096);return n}return u?(Os(),S=i.fallback,u=n.mode,T=t.child,G=T.sibling,i=Xa(T,{mode:"hidden",children:i.children}),i.subtreeFlags=T.subtreeFlags&65011712,G!==null?S=Xa(G,S):(S=ar(S,u,r,null),S.flags|=2),S.return=n,i.return=n,i.sibling=S,n.child=i,ai(null,i),i=n.child,S=t.child.memoizedState,S===null?S=pd(r):(u=S.cachePool,u!==null?(T=an._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Bh(),S={baseLanes:S.baseLanes|r,cachePool:u}),i.memoizedState=S,i.childLanes=gd(t,g,r),n.memoizedState=hd,ai(t.child,i)):(As(n),r=t.child,t=r.sibling,r=Xa(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function yd(t,n){return n=ko({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ko(t,n){return t=sa(22,t,null,n),t.lanes=0,t}function vd(t,n,r){return ur(n,t.child,null,r),t=yd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jp(t,n,r){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),zu(t.return,n,r)}function bd(t,n,r,i,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=r,g.tailMode=u,g.treeForkCount=f)}function Wp(t,n,r){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var g=Kt.current,S=(g&2)!==0;if(S?(g=g&1|2,n.flags|=128):g&=1,oe(Kt,g),On(t,n,i,r),i=pt?Vl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jp(t,r,n);else if(t.tag===19)Jp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&_o(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),bd(n,!1,u,r,f,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&_o(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}bd(n,!0,r,null,f,i);break;case"together":bd(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(r&n.childLanes)===0)if(t!==null){if($r(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=Xa(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xa(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function xd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&po(t)))}function wS(t,n,r){switch(n.tag){case 3:Be(n,n.stateNode.containerInfo),_s(n,an,t.memoizedState.cache),sr();break;case 27:case 5:Ue(n);break;case 4:Be(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zu(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(As(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xp(t,n,r):(As(n),t=as(t,n,r),t!==null?t.sibling:null);As(n);break;case 19:var u=(t.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||($r(t,n,r,!1),i=(r&n.childLanes)!==0),u){if(i)return Wp(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),oe(Kt,Kt.current),i)break;return null;case 22:return n.lanes=0,Zp(t,n,r,n.pendingProps);case 24:_s(n,an,t.memoizedState.cache)}return as(t,n,r)}function eg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)rn=!0;else{if(!xd(t,r)&&(n.flags&128)===0)return rn=!1,wS(t,n,r);rn=(t.flags&131072)!==0}else rn=!1,pt&&(n.flags&1048576)!==0&&Dh(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=or(n.elementType),n.type=t,typeof t=="function")ju(t)?(i=fr(t,i),n.tag=1,n=Pp(null,n,t,i,r)):(n.tag=0,n=md(null,n,t,i,r));else{if(t!=null){var u=t.$$typeof;if(u===D){n.tag=11,n=$p(null,n,t,i,r);break e}else if(u===U){n.tag=14,n=Hp(null,n,t,i,r);break e}}throw n=je(t)||t,Error(l(306,n,""))}}return n;case 0:return md(t,n,n.type,n.pendingProps,r);case 1:return i=n.type,u=fr(i,n.pendingProps),Pp(t,n,i,u,r);case 3:e:{if(Be(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,Iu(t,n),Jl(n,i,null,r);var g=n.memoizedState;if(i=g.cache,_s(n,an,i),i!==f.cache&&Mu(n,[an],r,!0),Xl(),i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(t,n,i,r);break e}else if(i!==u){u=ma(Error(l(424)),n),Zl(u),n=Kp(t,n,i,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ut=va(t.firstChild),En=n,pt=!0,Ss=null,ga=!0,r=Zh(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sr(),i===u){n=as(t,n,r);break e}On(t,n,i,r)}n=n.child}return n;case 26:return Mo(t,n),t===null?(r=dy(n.type,null,n.pendingProps,null))?n.memoizedState=r:pt||(r=n.type,t=n.pendingProps,i=Xo(Ae.current).createElement(r),i[it]=n,i[gt]=t,Cn(i,r,t),Tt(i),n.stateNode=i):n.memoizedState=dy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ue(n),t===null&&pt&&(i=n.stateNode=oy(n.type,n.pendingProps,Ae.current),En=n,ga=!0,u=Ut,Us(n.type)?(Wd=u,Ut=va(i.firstChild)):Ut=u),On(t,n,n.pendingProps.children,r),Mo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&pt&&((u=i=Ut)&&(i=JS(i,n.type,n.pendingProps,ga),i!==null?(n.stateNode=i,En=n,Ut=va(i.firstChild),ga=!1,u=!0):u=!1),u||ws(n)),Ue(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,i=f.children,Yd(u,f)?i=null:g!==null&&Yd(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Qu(t,n,mS,null,null,r),vi._currentValue=u),Mo(t,n),On(t,n,i,r),n.child;case 6:return t===null&&pt&&((t=r=Ut)&&(r=WS(r,n.pendingProps,ga),r!==null?(n.stateNode=r,En=n,Ut=null,t=!0):t=!1),t||ws(n)),null;case 13:return Xp(t,n,r);case 4:return Be(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=ur(n,null,i,r):On(t,n,i,r),n.child;case 11:return $p(t,n,n.type,n.pendingProps,r);case 7:return On(t,n,n.pendingProps,r),n.child;case 8:return On(t,n,n.pendingProps.children,r),n.child;case 12:return On(t,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,_s(n,n.type,i.value),On(t,n,i.children,r),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,lr(n),u=An(u),i=i(u),n.flags|=1,On(t,n,i,r),n.child;case 14:return Hp(t,n,n.type,n.pendingProps,r);case 15:return Vp(t,n,n.type,n.pendingProps,r);case 19:return Wp(t,n,r);case 31:return SS(t,n,r);case 22:return Zp(t,n,r,n.pendingProps);case 24:return lr(n),i=An(an),t===null?(u=Lu(),u===null&&(u=Dt,f=ku(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:i,cache:u},Bu(n),_s(n,an,u)):((t.lanes&r)!==0&&(Iu(t,n),Jl(n,null,null,r),Xl()),u=t.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),_s(n,an,i)):(i=f.cache,_s(n,an,i),i!==u.cache&&Mu(n,[an],r,!0))),On(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ss(t){t.flags|=4}function Sd(t,n,r,i,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Ag())t.flags|=8192;else throw cr=bo,qu}else t.flags&=-16777217}function tg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gy(n))if(Ag())t.flags|=8192;else throw cr=bo,qu}function Uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?V():536870912,t.lanes|=n,el|=n)}function si(t,n){if(!pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=r,n}function _S(t,n,r){var i=n.pendingProps;switch(Cu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Lt(n),null;case 3:return r=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),es(an),he(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fr(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tu())),Lt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(Lt(n),tg(n,f)):(Lt(n),Sd(n,u,null,i,r))):f?f!==t.memoizedState?(ss(n),Lt(n),tg(n,f)):(Lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&ss(n),Lt(n),Sd(n,u,t,i,r)),null;case 27:if(Ge(n),r=Ae.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Lt(n),null}t=X.current,Fr(n)?Mh(n):(t=oy(u,i,r),n.stateNode=t,ss(n))}return Lt(n),null;case 5:if(Ge(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Lt(n),null}if(f=X.current,Fr(n))Mh(n);else{var g=Xo(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?g.createElement(u,{is:i.is}):g.createElement(u)}}f[it]=n,f[gt]=i;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Cn(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ss(n)}}return Lt(n),Sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&ss(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=Ae.current,Fr(n)){if(t=n.stateNode,r=n.memoizedProps,i=null,u=En,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[it]=n,t=!!(t.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Xg(t.nodeValue,r)),t||ws(n,!0)}else t=Xo(t).createTextNode(i),t[it]=n,n.stateNode=t}return Lt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(i=Fr(n),r!==null){if(t===null){if(!i)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[it]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),t=!1}else r=Tu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(la(n),n):(la(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Lt(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Fr(n),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[it]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),u=!1}else u=Tu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(la(n),n):(la(n),null)}return la(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,t=t!==null&&t.memoizedState!==null,r&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Uo(n,n.updateQueue),Lt(n),null);case 4:return he(),t===null&&Hd(n.stateNode.containerInfo),Lt(n),null;case 10:return es(n.type),Lt(n),null;case 19:if(Y(Kt),i=n.memoizedState,i===null)return Lt(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)si(i,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=_o(t),f!==null){for(n.flags|=128,si(i,!1),t=f.updateQueue,n.updateQueue=t,Uo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ch(r,t),r=r.sibling;return oe(Kt,Kt.current&1|2),pt&&Ja(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&H()>Fo&&(n.flags|=128,u=!0,si(i,!1),n.lanes=4194304)}else{if(!u)if(t=_o(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Uo(n,t),si(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!pt)return Lt(n),null}else 2*H()-i.renderingStartTime>Fo&&r!==536870912&&(n.flags|=128,u=!0,si(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(t=i.last,t!==null?t.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=H(),t.sibling=null,r=Kt.current,oe(Kt,u?r&1|2:r&1),pt&&Ja(n,i.treeForkCount),t):(Lt(n),null);case 22:case 23:return la(n),Vu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),r=n.updateQueue,r!==null&&Uo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),t!==null&&Y(ir),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(an),Lt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function NS(t,n){switch(Cu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(an),he(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ge(n),null;case 31:if(n.memoizedState!==null){if(la(n),n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(la(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Kt),null;case 4:return he(),null;case 10:return es(n.type),null;case 22:case 23:return la(n),Vu(),t!==null&&Y(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(an),null;case 25:return null;default:return null}}function ng(t,n){switch(Cu(n),n.tag){case 3:es(an),he();break;case 26:case 27:case 5:Ge(n);break;case 4:he();break;case 31:n.memoizedState!==null&&la(n);break;case 13:la(n);break;case 19:Y(Kt);break;case 10:es(n.type);break;case 22:case 23:la(n),Vu(),t!==null&&Y(ir);break;case 24:es(an)}}function ri(t,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&t)===t){i=void 0;var f=r.create,g=r.inst;i=f(),g.destroy=i}r=r.next}while(r!==u)}}catch(S){wt(n,n.return,S)}}function Cs(t,n,r){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&t)===t){var g=i.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,u=n;var T=r,G=S;try{G()}catch(le){wt(u,T,le)}}}i=i.next}while(i!==f)}}catch(le){wt(n,n.return,le)}}function ag(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Qh(n,r)}catch(i){wt(t,t.return,i)}}}function sg(t,n,r){r.props=fr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(i){wt(t,n,i)}}function li(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(u){wt(t,n,u)}}function Va(t,n){var r=t.ref,i=t.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){wt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){wt(t,n,u)}else r.current=null}function rg(t){var n=t.type,r=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){wt(t,t.return,u)}}function wd(t,n,r){try{var i=t.stateNode;GS(i,t.type,r,n),i[gt]=n}catch(u){wt(t,t.return,u)}}function lg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ta));else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Nd(t,n,r),t=t.sibling;t!==null;)Nd(t,n,r),t=t.sibling}function Lo(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(i!==4&&(i===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Lo(t,n,r),t=t.sibling;t!==null;)Lo(t,n,r),t=t.sibling}function ig(t){var n=t.stateNode,r=t.memoizedProps;try{for(var i=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Cn(n,i,r),n[it]=t,n[gt]=r}catch(f){wt(t,t.return,f)}}var rs=!1,ln=!1,jd=!1,og=typeof WeakSet=="function"?WeakSet:Set,bn=null;function jS(t,n){if(t=t.containerInfo,Gd=sc,t=xh(t),vu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,S=-1,T=-1,G=0,le=0,fe=t,P=null;t:for(;;){for(var ne;fe!==r||u!==0&&fe.nodeType!==3||(S=g+u),fe!==f||i!==0&&fe.nodeType!==3||(T=g+i),fe.nodeType===3&&(g+=fe.nodeValue.length),(ne=fe.firstChild)!==null;)P=fe,fe=ne;for(;;){if(fe===t)break t;if(P===r&&++G===u&&(S=g),P===f&&++le===i&&(T=g),(ne=fe.nextSibling)!==null)break;fe=P,P=fe.parentNode}fe=ne}r=S===-1||T===-1?null:{start:S,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qd={focusedElem:t,selectionRange:r},sc=!1,bn=n;bn!==null;)if(n=bn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,bn=t;else for(;bn!==null;){switch(n=bn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var Me=fr(r.type,u);t=i.getSnapshotBeforeUpdate(Me,f),i.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){wt(r,r.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Kd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,bn=t;break}bn=n.return}}function cg(t,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:is(t,r),i&4&&ri(5,r);break;case 1:if(is(t,r),i&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){wt(r,r.return,g)}else{var u=fr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){wt(r,r.return,g)}}i&64&&ag(r),i&512&&li(r,r.return);break;case 3:if(is(t,r),i&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Qh(t,n)}catch(g){wt(r,r.return,g)}}break;case 27:n===null&&i&4&&ig(r);case 26:case 5:is(t,r),n===null&&i&4&&rg(r),i&512&&li(r,r.return);break;case 12:is(t,r);break;case 31:is(t,r),i&4&&fg(t,r);break;case 13:is(t,r),i&4&&mg(t,r),i&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=MS.bind(null,r),ew(t,r))));break;case 22:if(i=r.memoizedState!==null||rs,!i){n=n!==null&&n.memoizedState!==null||ln,u=rs;var f=ln;rs=i,(ln=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):is(t,r),rs=u,ln=f}break;case 30:break;default:is(t,r)}}function ug(t){var n=t.alternate;n!==null&&(t.alternate=null,ug(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Un(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Gn=!1;function ls(t,n,r){for(r=r.child;r!==null;)dg(t,n,r),r=r.sibling}function dg(t,n,r){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(pe,r)}catch{}switch(r.tag){case 26:ln||Va(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ln||Va(r,n);var i=It,u=Gn;Us(r.type)&&(It=r.stateNode,Gn=!1),ls(t,n,r),pi(r.stateNode),It=i,Gn=u;break;case 5:ln||Va(r,n);case 6:if(i=It,u=Gn,It=null,ls(t,n,r),It=i,Gn=u,It!==null)if(Gn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(r.stateNode)}catch(f){wt(r,n,f)}else try{It.removeChild(r.stateNode)}catch(f){wt(r,n,f)}break;case 18:It!==null&&(Gn?(t=It,ay(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ol(t)):ay(It,r.stateNode));break;case 4:i=It,u=Gn,It=r.stateNode.containerInfo,Gn=!0,ls(t,n,r),It=i,Gn=u;break;case 0:case 11:case 14:case 15:Cs(2,r,n),ln||Cs(4,r,n),ls(t,n,r);break;case 1:ln||(Va(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&sg(r,n,i)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:ln=(i=ln)||r.memoizedState!==null,ls(t,n,r),ln=i;break;default:ls(t,n,r)}}function fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(r){wt(n,n.return,r)}}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(r){wt(n,n.return,r)}}function ES(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new og),n;default:throw Error(l(435,t.tag))}}function qo(t,n){var r=ES(t);n.forEach(function(i){if(!r.has(i)){r.add(i);var u=kS.bind(null,t,i);i.then(u,u)}})}function Qn(t,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=t,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 27:if(Us(S.type)){It=S.stateNode,Gn=!1;break e}break;case 5:It=S.stateNode,Gn=!1;break e;case 3:case 4:It=S.stateNode.containerInfo,Gn=!0;break e}S=S.return}if(It===null)throw Error(l(160));dg(f,g,u),It=null,Gn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hg(n,t),n=n.sibling}var Ma=null;function hg(t,n){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qn(n,t),Yn(t),i&4&&(Cs(3,t,t.return),ri(3,t),Cs(5,t,t.return));break;case 1:Qn(n,t),Yn(t),i&512&&(ln||r===null||Va(r,r.return)),i&64&&rs&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=Ma;if(Qn(n,t),Yn(t),i&512&&(ln||r===null||Va(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=t.memoizedState,r===null)if(i===null)if(t.stateNode===null){e:{i=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Bt]||f[it]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),Cn(f,i,r),f[it]=t,Tt(f),i=f;break e;case"link":var g=hy("link","href",u).get(i+(r.href||""));if(g){for(var S=0;S<g.length;S++)if(f=g[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(S,1);break t}}f=u.createElement(i),Cn(f,i,r),u.head.appendChild(f);break;case"meta":if(g=hy("meta","content",u).get(i+(r.content||""))){for(S=0;S<g.length;S++)if(f=g[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(S,1);break t}}f=u.createElement(i),Cn(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[it]=t,Tt(f),i=f}t.stateNode=i}else py(u,t.type,t.stateNode);else t.stateNode=my(u,i,t.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?py(u,t.type,t.stateNode):my(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&wd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Qn(n,t),Yn(t),i&512&&(ln||r===null||Va(r,r.return)),r!==null&&i&4&&wd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Qn(n,t),Yn(t),i&512&&(ln||r===null||Va(r,r.return)),t.flags&32){u=t.stateNode;try{gs(u,"")}catch(Me){wt(t,t.return,Me)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,wd(t,u,r!==null?r.memoizedProps:u)),i&1024&&(jd=!0);break;case 6:if(Qn(n,t),Yn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,r=t.stateNode;try{r.nodeValue=i}catch(Me){wt(t,t.return,Me)}}break;case 3:if(ec=null,u=Ma,Ma=Jo(n.containerInfo),Qn(n,t),Ma=u,Yn(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(Me){wt(t,t.return,Me)}jd&&(jd=!1,pg(t));break;case 4:i=Ma,Ma=Jo(t.stateNode.containerInfo),Qn(n,t),Yn(t),Ma=i;break;case 12:Qn(n,t),Yn(t);break;case 31:Qn(n,t),Yn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qo(t,i)));break;case 13:Qn(n,t),Yn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Io=H()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qo(t,i)));break;case 22:u=t.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,G=rs,le=ln;if(rs=G||u,ln=le||T,Qn(n,t),ln=le,rs=G,Yn(t),i&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||T||rs||ln||mr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){T=r=n;try{if(f=T.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=T.stateNode;var fe=T.memoizedProps.style,P=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(Me){wt(T,T.return,Me)}}}else if(n.tag===6){if(r===null){T=n;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(Me){wt(T,T.return,Me)}}}else if(n.tag===18){if(r===null){T=n;try{var ne=T.stateNode;u?sy(ne,!0):sy(T.stateNode,!1)}catch(Me){wt(T,T.return,Me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,qo(t,r))));break;case 19:Qn(n,t),Yn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qo(t,i)));break;case 30:break;case 21:break;default:Qn(n,t),Yn(t)}}function Yn(t){var n=t.flags;if(n&2){try{for(var r,i=t.return;i!==null;){if(lg(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=_d(t);Lo(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(gs(g,""),r.flags&=-33);var S=_d(t);Lo(t,S,g);break;case 3:case 4:var T=r.stateNode.containerInfo,G=_d(t);Nd(t,G,T);break;default:throw Error(l(161))}}catch(le){wt(t,t.return,le)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cg(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),mr(n);break;case 1:Va(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sg(n,n.return,r),mr(n);break;case 27:pi(n.stateNode);case 26:case 5:Va(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:os(u,f,r),ri(4,f);break;case 1:if(os(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(G){wt(i,i.return,G)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Gh(T[u],S)}catch(G){wt(i,i.return,G)}}r&&g&64&&ag(f),li(f,f.return);break;case 27:ig(f);case 26:case 5:os(u,f,r),r&&i===null&&g&4&&rg(f),li(f,f.return);break;case 12:os(u,f,r);break;case 31:os(u,f,r),r&&g&4&&fg(u,f);break;case 13:os(u,f,r),r&&g&4&&mg(u,f);break;case 22:f.memoizedState===null&&os(u,f,r),li(f,f.return);break;case 30:break;default:os(u,f,r)}n=n.sibling}}function Ed(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Gl(r))}function Ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t))}function ka(t,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gg(t,n,r,i),n=n.sibling}function gg(t,n,r,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:ka(t,n,r,i),u&2048&&ri(9,n);break;case 1:ka(t,n,r,i);break;case 3:ka(t,n,r,i),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t)));break;case 12:if(u&2048){ka(t,n,r,i),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,S=f.onPostCommit;typeof S=="function"&&S(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){wt(n,n.return,T)}}else ka(t,n,r,i);break;case 31:ka(t,n,r,i);break;case 13:ka(t,n,r,i);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ka(t,n,r,i):ii(t,n):f._visibility&2?ka(t,n,r,i):(f._visibility|=2,Xr(t,n,r,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ed(g,n);break;case 24:ka(t,n,r,i),u&2048&&Ad(n.alternate,n);break;default:ka(t,n,r,i)}}function Xr(t,n,r,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,S=r,T=i,G=g.flags;switch(g.tag){case 0:case 11:case 15:Xr(f,g,S,T,u),ri(8,g);break;case 23:break;case 22:var le=g.stateNode;g.memoizedState!==null?le._visibility&2?Xr(f,g,S,T,u):ii(f,g):(le._visibility|=2,Xr(f,g,S,T,u)),u&&G&2048&&Ed(g.alternate,g);break;case 24:Xr(f,g,S,T,u),u&&G&2048&&Ad(g.alternate,g);break;default:Xr(f,g,S,T,u)}n=n.sibling}}function ii(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,i=n,u=i.flags;switch(i.tag){case 22:ii(r,i),u&2048&&Ed(i.alternate,i);break;case 24:ii(r,i),u&2048&&Ad(i.alternate,i);break;default:ii(r,i)}n=n.sibling}}var oi=8192;function Jr(t,n,r){if(t.subtreeFlags&oi)for(t=t.child;t!==null;)yg(t,n,r),t=t.sibling}function yg(t,n,r){switch(t.tag){case 26:Jr(t,n,r),t.flags&oi&&t.memoizedState!==null&&fw(r,Ma,t.memoizedState,t.memoizedProps);break;case 5:Jr(t,n,r);break;case 3:case 4:var i=Ma;Ma=Jo(t.stateNode.containerInfo),Jr(t,n,r),Ma=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=oi,oi=16777216,Jr(t,n,r),oi=i):Jr(t,n,r));break;default:Jr(t,n,r)}}function vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ci(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];bn=i,xg(i,t)}vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bg(t),t=t.sibling}function bg(t){switch(t.tag){case 0:case 11:case 15:ci(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:ci(t);break;case 12:ci(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bo(t)):ci(t);break;default:ci(t)}}function Bo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];bn=i,xg(i,t)}vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Bo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Bo(n));break;default:Bo(n)}t=t.sibling}}function xg(t,n){for(;bn!==null;){var r=bn;switch(r.tag){case 0:case 11:case 15:Cs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Gl(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,bn=i;else e:for(r=t;bn!==null;){i=bn;var u=i.sibling,f=i.return;if(ug(i),i===r){bn=null;break e}if(u!==null){u.return=f,bn=u;break e}bn=f}}}var AS={getCacheForType:function(t){var n=An(an),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return An(an).controller.signal}},OS=typeof WeakMap=="function"?WeakMap:Map,bt=0,Dt=null,ct=null,mt=0,St=0,ia=null,Rs=!1,Wr=!1,Od=!1,cs=0,Yt=0,Ts=0,hr=0,Cd=0,oa=0,el=0,ui=null,Pn=null,Rd=!1,Io=0,Sg=0,Fo=1/0,$o=null,Ds=null,fn=0,zs=null,tl=null,us=0,Td=0,Dd=null,wg=null,di=0,zd=null;function ca(){return(bt&2)!==0&&mt!==0?mt&-mt:q.T!==null?Bd():Rt()}function _g(){if(oa===0)if((mt&536870912)===0||pt){var t=nt;nt<<=1,(nt&3932160)===0&&(nt=262144),oa=t}else oa=536870912;return t=ra.current,t!==null&&(t.flags|=32),oa}function Kn(t,n,r){(t===Dt&&(St===2||St===9)||t.cancelPendingCommit!==null)&&(nl(t,0),Ms(t,mt,oa,!1)),ye(t,r),((bt&2)===0||t!==Dt)&&(t===Dt&&((bt&2)===0&&(hr|=r),Yt===4&&Ms(t,mt,oa,!1)),Za(t))}function Ng(t,n,r){if((bt&6)!==0)throw Error(l(327));var i=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Fn(t,n),u=i?TS(t,n):kd(t,n,!0),f=i;do{if(u===0){Wr&&!i&&Ms(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!CS(r)){u=kd(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var S=t;u=ui;var T=S.current.memoizedState.isDehydrated;if(T&&(nl(S,g).flags|=256),g=kd(S,g,!1),g!==2){if(Od&&!T){S.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Pn,Pn=u,f!==null&&(Pn===null?Pn=f:Pn.push.apply(Pn,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){nl(t,0),Ms(t,n,0,!0);break}e:{switch(i=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ms(i,n,oa,!Rs);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Io+300-H(),10<u)){if(Ms(i,n,oa,!Rs),Oa(i,0,!0)!==0)break e;us=n,i.timeoutHandle=ty(jg.bind(null,i,r,Pn,$o,Rd,n,oa,hr,el,Rs,f,"Throttled",-0,0),u);break e}jg(i,r,Pn,$o,Rd,n,oa,hr,el,Rs,f,null,-0,0)}}break}while(!0);Za(t)}function jg(t,n,r,i,u,f,g,S,T,G,le,fe,P,ne){if(t.timeoutHandle=-1,fe=n.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},yg(n,f,fe);var Me=(f&62914560)===f?Io-H():(f&4194048)===f?Sg-H():0;if(Me=mw(fe,Me),Me!==null){us=f,t.cancelPendingCommit=Me(zg.bind(null,t,n,f,r,i,u,g,S,T,le,fe,null,P,ne)),Ms(t,f,g,!G);return}}zg(t,n,f,r,i,u,g,S,T)}function CS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!aa(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,r,i){n&=~Cd,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var u=n;0<u;){var f=31-xt(u),g=1<<f;i[f]=-1,u&=~g}r!==0&&Xe(t,r,n)}function Ho(){return(bt&6)===0?(fi(0),!1):!0}function Md(){if(ct!==null){if(St===0)var t=ct.return;else t=ct,Wa=rr=null,Ku(t),Gr=null,Yl=0,t=ct;for(;t!==null;)ng(t.alternate,t),t=t.return;ct=null}}function nl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,PS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,Md(),Dt=t,ct=r=Xa(t.current,null),mt=n,St=0,ia=null,Rs=!1,Wr=Fn(t,n),Od=!1,el=oa=Cd=hr=Ts=Yt=0,Pn=ui=null,Rd=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var u=31-xt(i),f=1<<u;n|=t[u],i&=~f}return cs=n,co(),r}function Eg(t,n){et=null,q.H=ni,n===Zr||n===vo?(n=$h(),St=3):n===qu?(n=$h(),St=4):St=n===fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ia=n,ct===null&&(Yt=1,Do(t,ma(n,t.current)))}function Ag(){var t=ra.current;return t===null?!0:(mt&4194048)===mt?ya===null:(mt&62914560)===mt||(mt&536870912)!==0?t===ya:!1}function Og(){var t=q.H;return q.H=ni,t===null?ni:t}function Cg(){var t=q.A;return q.A=AS,t}function Vo(){Yt=4,Rs||(mt&4194048)!==mt&&ra.current!==null||(Wr=!0),(Ts&134217727)===0&&(hr&134217727)===0||Dt===null||Ms(Dt,mt,oa,!1)}function kd(t,n,r){var i=bt;bt|=2;var u=Og(),f=Cg();(Dt!==t||mt!==n)&&($o=null,nl(t,n)),n=!1;var g=Yt;e:do try{if(St!==0&&ct!==null){var S=ct,T=ia;switch(St){case 8:Md(),g=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(n=!0);var G=St;if(St=0,ia=null,al(t,S,T,G),r&&Wr){g=0;break e}break;default:G=St,St=0,ia=null,al(t,S,T,G)}}RS(),g=Yt;break}catch(le){Eg(t,le)}while(!0);return n&&t.shellSuspendCounter++,Wa=rr=null,bt=i,q.H=u,q.A=f,ct===null&&(Dt=null,mt=0,co()),g}function RS(){for(;ct!==null;)Rg(ct)}function TS(t,n){var r=bt;bt|=2;var i=Og(),u=Cg();Dt!==t||mt!==n?($o=null,Fo=H()+500,nl(t,n)):Wr=Fn(t,n);e:do try{if(St!==0&&ct!==null){n=ct;var f=ia;t:switch(St){case 1:St=0,ia=null,al(t,n,f,1);break;case 2:case 9:if(Ih(f)){St=0,ia=null,Tg(n);break}n=function(){St!==2&&St!==9||Dt!==t||(St=7),Za(t)},f.then(n,n);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:Ih(f)?(St=0,ia=null,Tg(n)):(St=0,ia=null,al(t,n,f,7));break;case 5:var g=null;switch(ct.tag){case 26:g=ct.memoizedState;case 5:case 27:var S=ct;if(g?gy(g):S.stateNode.complete){St=0,ia=null;var T=S.sibling;if(T!==null)ct=T;else{var G=S.return;G!==null?(ct=G,Zo(G)):ct=null}break t}}St=0,ia=null,al(t,n,f,5);break;case 6:St=0,ia=null,al(t,n,f,6);break;case 8:Md(),Yt=6;break e;default:throw Error(l(462))}}DS();break}catch(le){Eg(t,le)}while(!0);return Wa=rr=null,q.H=i,q.A=u,bt=r,ct!==null?0:(Dt=null,mt=0,co(),Yt)}function DS(){for(;ct!==null&&!R();)Rg(ct)}function Rg(t){var n=eg(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?Zo(t):ct=n}function Tg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Yp(r,n,n.pendingProps,n.type,void 0,mt);break;case 11:n=Yp(r,n,n.pendingProps,n.type.render,n.ref,mt);break;case 5:Ku(n);default:ng(r,n),n=ct=Ch(n,cs),n=eg(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?Zo(t):ct=n}function al(t,n,r,i){Wa=rr=null,Ku(n),Gr=null,Yl=0;var u=n.return;try{if(xS(t,u,n,r,mt)){Yt=1,Do(t,ma(r,t.current)),ct=null;return}}catch(f){if(u!==null)throw ct=u,f;Yt=1,Do(t,ma(r,t.current)),ct=null;return}n.flags&32768?(pt||i===1?t=!0:Wr||(mt&536870912)!==0?t=!1:(Rs=t=!0,(i===2||i===9||i===3||i===6)&&(i=ra.current,i!==null&&i.tag===13&&(i.flags|=16384))),Dg(n,t)):Zo(n)}function Zo(t){var n=t;do{if((n.flags&32768)!==0){Dg(n,Rs);return}t=n.return;var r=_S(n.alternate,n,cs);if(r!==null){ct=r;return}if(n=n.sibling,n!==null){ct=n;return}ct=n=t}while(n!==null);Yt===0&&(Yt=5)}function Dg(t,n){do{var r=NS(t.alternate,t);if(r!==null){r.flags&=32767,ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ct=t;return}ct=t=r}while(t!==null);Yt=6,ct=null}function zg(t,n,r,i,u,f,g,S,T){t.cancelPendingCommit=null;do Go();while(fn!==0);if((bt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=_u,ke(t,r,f,g,S,T),t===Dt&&(ct=Dt=null,mt=0),tl=n,zs=t,us=r,Td=f,Dd=u,wg=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,US(J,function(){return qg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=q.T,q.T=null,u=ie.p,ie.p=2,g=bt,bt|=4;try{jS(t,n,r)}finally{bt=g,ie.p=u,q.T=i}}fn=1,Mg(),kg(),Ug()}}function Mg(){if(fn===1){fn=0;var t=zs,n=tl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var i=ie.p;ie.p=2;var u=bt;bt|=4;try{hg(n,t);var f=Qd,g=xh(t.containerInfo),S=f.focusedElem,T=f.selectionRange;if(g!==S&&S&&S.ownerDocument&&bh(S.ownerDocument.documentElement,S)){if(T!==null&&vu(S)){var G=T.start,le=T.end;if(le===void 0&&(le=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(le,S.value.length);else{var fe=S.ownerDocument||document,P=fe&&fe.defaultView||window;if(P.getSelection){var ne=P.getSelection(),Me=S.textContent.length,Ve=Math.min(T.start,Me),Ct=T.end===void 0?Ve:Math.min(T.end,Me);!ne.extend&&Ve>Ct&&(g=Ct,Ct=Ve,Ve=g);var B=vh(S,Ve),M=vh(S,Ct);if(B&&M&&(ne.rangeCount!==1||ne.anchorNode!==B.node||ne.anchorOffset!==B.offset||ne.focusNode!==M.node||ne.focusOffset!==M.offset)){var Z=fe.createRange();Z.setStart(B.node,B.offset),ne.removeAllRanges(),Ve>Ct?(ne.addRange(Z),ne.extend(M.node,M.offset)):(Z.setEnd(M.node,M.offset),ne.addRange(Z))}}}}for(fe=[],ne=S;ne=ne.parentNode;)ne.nodeType===1&&fe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var ue=fe[S];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}sc=!!Gd,Qd=Gd=null}finally{bt=u,ie.p=i,q.T=r}}t.current=n,fn=2}}function kg(){if(fn===2){fn=0;var t=zs,n=tl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var i=ie.p;ie.p=2;var u=bt;bt|=4;try{cg(t,n.alternate,n)}finally{bt=u,ie.p=i,q.T=r}}fn=3}}function Ug(){if(fn===4||fn===3){fn=0,F();var t=zs,n=tl,r=us,i=wg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?fn=5:(fn=0,tl=zs=null,Lg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ds=null),zt(r),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(pe,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=q.T,u=ie.p,ie.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<i.length;g++){var S=i[g];f(S.value,{componentStack:S.stack})}}finally{q.T=n,ie.p=u}}(us&3)!==0&&Go(),Za(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===zd?di++:(di=0,zd=t):di=0,fi(0)}}function Lg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Gl(n)))}function Go(){return Mg(),kg(),Ug(),qg()}function qg(){if(fn!==5)return!1;var t=zs,n=Td;Td=0;var r=zt(us),i=q.T,u=ie.p;try{ie.p=32>r?32:r,q.T=null,r=Dd,Dd=null;var f=zs,g=us;if(fn=0,tl=zs=null,us=0,(bt&6)!==0)throw Error(l(331));var S=bt;if(bt|=4,bg(f.current),gg(f,f.current,g,r),bt=S,fi(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(pe,f)}catch{}return!0}finally{ie.p=u,q.T=i,Lg(t,n)}}function Bg(t,n,r){n=ma(r,n),n=dd(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(ye(t,2),Za(t))}function wt(t,n,r){if(t.tag===3)Bg(t,t,r);else for(;n!==null;){if(n.tag===3){Bg(n,t,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ds===null||!Ds.has(i))){t=ma(r,t),r=Ip(2),i=Es(n,r,2),i!==null&&(Fp(r,i,n,t),ye(i,2),Za(i));break}}n=n.return}}function Ud(t,n,r){var i=t.pingCache;if(i===null){i=t.pingCache=new OS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(r)||(Od=!0,u.add(r),t=zS.bind(null,t,n,r),n.then(t,t))}function zS(t,n,r){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Dt===t&&(mt&r)===r&&(Yt===4||Yt===3&&(mt&62914560)===mt&&300>H()-Io?(bt&2)===0&&nl(t,0):Cd|=r,el===mt&&(el=0)),Za(t)}function Ig(t,n){n===0&&(n=V()),t=nr(t,n),t!==null&&(ye(t,n),Za(t))}function MS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ig(t,r)}function kS(t,n){var r=0;switch(t.tag){case 31:case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),Ig(t,r)}function US(t,n){return C(t,n)}var Qo=null,sl=null,Ld=!1,Yo=!1,qd=!1,ks=0;function Za(t){t!==sl&&t.next===null&&(sl===null?Qo=sl=t:sl=sl.next=t),Yo=!0,Ld||(Ld=!0,qS())}function fi(t,n){if(!qd&&Yo){qd=!0;do for(var r=!1,i=Qo;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var g=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-xt(42|t)+1)-1,f&=u&~(g&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Vg(i,f))}else f=mt,f=Oa(i,i===Dt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Fn(i,f)||(r=!0,Vg(i,f));i=i.next}while(r);qd=!1}}function LS(){Fg()}function Fg(){Yo=Ld=!1;var t=0;ks!==0&&YS()&&(t=ks);for(var n=H(),r=null,i=Qo;i!==null;){var u=i.next,f=$g(i,n);f===0?(i.next=null,r===null?Qo=u:r.next=u,u===null&&(sl=r)):(r=i,(t!==0||(f&3)!==0)&&(Yo=!0)),i=u}fn!==0&&fn!==5||fi(t),ks!==0&&(ks=0)}function $g(t,n){for(var r=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-xt(f),S=1<<g,T=u[g];T===-1?((S&r)===0||(S&i)!==0)&&(u[g]=$n(S,n)):T<=n&&(t.expiredLanes|=S),f&=~S}if(n=Dt,r=mt,r=Oa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,r===0||t===n&&(St===2||St===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&$(i),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Fn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(i!==null&&$(i),zt(r)){case 2:case 8:r=De;break;case 32:r=J;break;case 268435456:r=Ie;break;default:r=J}return i=Hg.bind(null,t),r=C(r,i),t.callbackPriority=n,t.callbackNode=r,n}return i!==null&&i!==null&&$(i),t.callbackPriority=2,t.callbackNode=null,2}function Hg(t,n){if(fn!==0&&fn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Go()&&t.callbackNode!==r)return null;var i=mt;return i=Oa(t,t===Dt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Ng(t,i,n),$g(t,H()),t.callbackNode!=null&&t.callbackNode===r?Hg.bind(null,t):null)}function Vg(t,n){if(Go())return null;Ng(t,n,!0)}function qS(){KS(function(){(bt&6)!==0?C(Ne,LS):Fg()})}function Bd(){if(ks===0){var t=Hr;t===0&&(t=na,na<<=1,(na&261888)===0&&(na=256)),ks=t}return ks}function Zg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function Gg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function BS(t,n,r,i,u){if(n==="submit"&&r&&r.stateNode===u){var f=Zg((u[gt]||null).action),g=i.submitter;g&&(n=(n=g[gt]||null)?Zg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var S=new Ws("action","action",null,i,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ks!==0){var T=g?Gg(u,g):new FormData(u);rd(r,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=g?Gg(u,g):new FormData(u),rd(r,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var Id=0;Id<wu.length;Id++){var Fd=wu[Id],IS=Fd.toLowerCase(),FS=Fd[0].toUpperCase()+Fd.slice(1);za(IS,"on"+FS)}za(_h,"onAnimationEnd"),za(Nh,"onAnimationIteration"),za(jh,"onAnimationStart"),za("dblclick","onDoubleClick"),za("focusin","onFocus"),za("focusout","onBlur"),za(aS,"onTransitionRun"),za(sS,"onTransitionStart"),za(rS,"onTransitionCancel"),za(Eh,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mi));function Qg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var g=i.length-1;0<=g;g--){var S=i[g],T=S.instance,G=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=G;try{f(u)}catch(le){oo(le)}u.currentTarget=null,f=T}else for(g=0;g<i.length;g++){if(S=i[g],T=S.instance,G=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=G;try{f(u)}catch(le){oo(le)}u.currentTarget=null,f=T}}}}function ut(t,n){var r=n[un];r===void 0&&(r=n[un]=new Set);var i=t+"__bubble";r.has(i)||(Yg(n,t,2,!1),r.add(i))}function $d(t,n,r){var i=0;n&&(i|=4),Yg(r,t,i,n)}var Po="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[Po]){t[Po]=!0,Rr.forEach(function(r){r!=="selectionchange"&&($S.has(r)||$d(r,!1,t),$d(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Po]||(n[Po]=!0,$d("selectionchange",!1,n))}}function Yg(t,n,r,i){switch(_y(n)){case 2:var u=gw;break;case 8:u=yw;break;default:u=sf}r=u.bind(null,n,r,t),u=void 0,!Xs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Vd(t,n,r,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var S=i.stateNode.containerInfo;if(S===u)break;if(g===4)for(g=i.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;S!==null;){if(g=en(S),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){i=f=g;continue e}S=S.parentNode}}i=i.return}ro(function(){var G=f,le=Ul(r),fe=[];e:{var P=Ah.get(t);if(P!==void 0){var ne=Ws,Me=t;switch(t){case"keypress":if(xe(r)===0)break e;case"keydown":case"keyup":ne=kx;break;case"focusin":Me="focus",ne=mu;break;case"focusout":Me="blur",ne=mu;break;case"beforeblur":case"afterblur":ne=mu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=qx;break;case _h:case Nh:case jh:ne=Ex;break;case Eh:ne=Ix;break;case"scroll":case"scrollend":ne=Sx;break;case"wheel":ne=$x;break;case"copy":case"cut":case"paste":ne=Ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=sh;break;case"toggle":case"beforetoggle":ne=Vx}var Ve=(n&4)!==0,Ct=!Ve&&(t==="scroll"||t==="scrollend"),B=Ve?P!==null?P+"Capture":null:P;Ve=[];for(var M=G,Z;M!==null;){var ue=M;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||B===null||(ue=Ks(M,B),ue!=null&&Ve.push(hi(M,ue,Z))),Ct)break;M=M.return}0<Ve.length&&(P=new ne(P,Me,null,r,le),fe.push({event:P,listeners:Ve}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",P&&r!==ys&&(Me=r.relatedTarget||r.fromElement)&&(en(Me)||Me[kt]))break e;if((ne||P)&&(P=le.window===le?le:(P=le.ownerDocument)?P.defaultView||P.parentWindow:window,ne?(Me=r.relatedTarget||r.toElement,ne=G,Me=Me?en(Me):null,Me!==null&&(Ct=d(Me),Ve=Me.tag,Me!==Ct||Ve!==5&&Ve!==27&&Ve!==6)&&(Me=null)):(ne=null,Me=G),ne!==Me)){if(Ve=nh,ue="onMouseLeave",B="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=sh,ue="onPointerLeave",B="onPointerEnter",M="pointer"),Ct=ne==null?P:Hn(ne),Z=Me==null?P:Hn(Me),P=new Ve(ue,M+"leave",ne,r,le),P.target=Ct,P.relatedTarget=Z,ue=null,en(le)===G&&(Ve=new Ve(B,M+"enter",Me,r,le),Ve.target=Z,Ve.relatedTarget=Ct,ue=Ve),Ct=ue,ne&&Me)t:{for(Ve=HS,B=ne,M=Me,Z=0,ue=B;ue;ue=Ve(ue))Z++;ue=0;for(var $e=M;$e;$e=Ve($e))ue++;for(;0<Z-ue;)B=Ve(B),Z--;for(;0<ue-Z;)M=Ve(M),ue--;for(;Z--;){if(B===M||M!==null&&B===M.alternate){Ve=B;break t}B=Ve(B),M=Ve(M)}Ve=null}else Ve=null;ne!==null&&Pg(fe,P,ne,Ve,!1),Me!==null&&Ct!==null&&Pg(fe,Ct,Me,Ve,!0)}}e:{if(P=G?Hn(G):window,ne=P.nodeName&&P.nodeName.toLowerCase(),ne==="select"||ne==="input"&&P.type==="file")var yt=fh;else if(uh(P))if(mh)yt=eS;else{yt=Jx;var qe=Xx}else ne=P.nodeName,!ne||ne.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?G&&kl(G.elementType)&&(yt=fh):yt=Wx;if(yt&&(yt=yt(t,G))){dh(fe,yt,r,le);break e}qe&&qe(t,P,G),t==="focusout"&&G&&P.type==="number"&&G.memoizedProps.value!=null&&Ps(P,"number",P.value)}switch(qe=G?Hn(G):window,t){case"focusin":(uh(qe)||qe.contentEditable==="true")&&(kr=qe,bu=G,Hl=null);break;case"focusout":Hl=bu=kr=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,Sh(fe,r,le);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":Sh(fe,r,le)}var at;if(pu)e:{switch(t){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Mr?oh(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(rh&&r.locale!=="ko"&&(Mr||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Mr&&(at=ce()):(Ia=le,E="value"in Ia?Ia.value:Ia.textContent,Mr=!0)),qe=Ko(G,ht),0<qe.length&&(ht=new ah(ht,t,null,r,le),fe.push({event:ht,listeners:qe}),at?ht.data=at:(at=ch(r),at!==null&&(ht.data=at)))),(at=Gx?Qx(t,r):Yx(t,r))&&(ht=Ko(G,"onBeforeInput"),0<ht.length&&(qe=new ah("onBeforeInput","beforeinput",null,r,le),fe.push({event:qe,listeners:ht}),qe.data=at)),BS(fe,t,G,r,le)}Qg(fe,n)})}function hi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ko(t,n){for(var r=n+"Capture",i=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ks(t,r),u!=null&&i.unshift(hi(t,u,f)),u=Ks(t,n),u!=null&&i.push(hi(t,u,f))),t.tag===3)return i;t=t.return}return[]}function HS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pg(t,n,r,i,u){for(var f=n._reactName,g=[];r!==null&&r!==i;){var S=r,T=S.alternate,G=S.stateNode;if(S=S.tag,T!==null&&T===i)break;S!==5&&S!==26&&S!==27||G===null||(T=G,u?(G=Ks(r,f),G!=null&&g.unshift(hi(r,G,T))):u||(G=Ks(r,f),G!=null&&g.push(hi(r,G,T)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var VS=/\r\n?/g,ZS=/\u0000|\uFFFD/g;function Kg(t){return(typeof t=="string"?t:""+t).replace(VS,`
`).replace(ZS,"")}function Xg(t,n){return n=Kg(n),Kg(t)===n}function Ot(t,n,r,i,u,f){switch(r){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||gs(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&gs(t,""+i);break;case"className":Ra(t,"class",i);break;case"tabIndex":Ra(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ra(t,r,i);break;case"style":ao(t,i,f);break;case"data":if(n!=="object"){Ra(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ot(t,n,"name",u.name,u,null),Ot(t,n,"formEncType",u.formEncType,u,null),Ot(t,n,"formMethod",u.formMethod,u,null),Ot(t,n,"formTarget",u.formTarget,u,null)):(Ot(t,n,"encType",u.encType,u,null),Ot(t,n,"method",u.method,u,null),Ot(t,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"onClick":i!=null&&(t.onclick=Ta);break;case"onScroll":i!=null&&ut("scroll",t);break;case"onScrollEnd":i!=null&&ut("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}r=zr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""+i):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":i===!0?t.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,i):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(r,i):t.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(r):t.setAttribute(r,i);break;case"popover":ut("beforetoggle",t),ut("toggle",t),tn(t,"popover",i);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tn(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,tn(t,r,i))}}function Zd(t,n,r,i,u,f){switch(r){case"style":ao(t,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof i=="string"?gs(t,i):(typeof i=="number"||typeof i=="bigint")&&gs(t,""+i);break;case"onScroll":i!=null&&ut("scroll",t);break;case"onScrollEnd":i!=null&&ut("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,i,u);break e}r in t?t[r]=i:i===!0?t.setAttribute(r,""):tn(t,r,i)}}}function Cn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",t),ut("load",t);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ot(t,n,f,g,r,null)}}u&&Ot(t,n,"srcSet",r.srcSet,r,null),i&&Ot(t,n,"src",r.src,r,null);return;case"input":ut("invalid",t);var S=f=g=u=null,T=null,G=null;for(i in r)if(r.hasOwnProperty(i)){var le=r[i];if(le!=null)switch(i){case"name":u=le;break;case"type":g=le;break;case"checked":T=le;break;case"defaultChecked":G=le;break;case"value":f=le;break;case"defaultValue":S=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(l(137,n));break;default:Ot(t,n,i,le,r,null)}}Dr(t,f,S,T,G,g,u,!1);return;case"select":ut("invalid",t),i=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":g=S;break;case"multiple":i=S;default:Ot(t,n,u,S,r,null)}n=f,r=g,t.multiple=!!i,n!=null?ps(t,!!i,n,!1):r!=null&&ps(t,!!i,r,!0);return;case"textarea":ut("invalid",t),f=u=i=null;for(g in r)if(r.hasOwnProperty(g)&&(S=r[g],S!=null))switch(g){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ot(t,n,g,S,r,null)}to(t,i,u,f);return;case"option":for(T in r)if(r.hasOwnProperty(T)&&(i=r[T],i!=null))switch(T){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ot(t,n,T,i,r,null)}return;case"dialog":ut("beforetoggle",t),ut("toggle",t),ut("cancel",t),ut("close",t);break;case"iframe":case"object":ut("load",t);break;case"video":case"audio":for(i=0;i<mi.length;i++)ut(mi[i],t);break;case"image":ut("error",t),ut("load",t);break;case"details":ut("toggle",t);break;case"embed":case"source":case"link":ut("error",t),ut("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in r)if(r.hasOwnProperty(G)&&(i=r[G],i!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ot(t,n,G,i,r,null)}return;default:if(kl(n)){for(le in r)r.hasOwnProperty(le)&&(i=r[le],i!==void 0&&Zd(t,n,le,i,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(i=r[S],i!=null&&Ot(t,n,S,i,r,null))}function GS(t,n,r,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,S=null,T=null,G=null,le=null;for(ne in r){var fe=r[ne];if(r.hasOwnProperty(ne)&&fe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":T=fe;default:i.hasOwnProperty(ne)||Ot(t,n,ne,null,i,fe)}}for(var P in i){var ne=i[P];if(fe=r[P],i.hasOwnProperty(P)&&(ne!=null||fe!=null))switch(P){case"type":f=ne;break;case"name":u=ne;break;case"checked":G=ne;break;case"defaultChecked":le=ne;break;case"value":g=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(l(137,n));break;default:ne!==fe&&Ot(t,n,P,ne,i,fe)}}Ml(t,g,S,T,G,le,f,u);return;case"select":ne=g=S=P=null;for(f in r)if(T=r[f],r.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":ne=T;default:i.hasOwnProperty(f)||Ot(t,n,f,null,i,T)}for(u in i)if(f=i[u],T=r[u],i.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":P=f;break;case"defaultValue":S=f;break;case"multiple":g=f;default:f!==T&&Ot(t,n,u,f,i,T)}n=S,r=g,i=ne,P!=null?ps(t,!!r,P,!1):!!i!=!!r&&(n!=null?ps(t,!!r,n,!0):ps(t,!!r,r?[]:"",!1));return;case"textarea":ne=P=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ot(t,n,S,null,i,u)}for(g in i)if(u=i[g],f=r[g],i.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":P=u;break;case"defaultValue":ne=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ot(t,n,g,u,i,f)}eo(t,P,ne);return;case"option":for(var Me in r)if(P=r[Me],r.hasOwnProperty(Me)&&P!=null&&!i.hasOwnProperty(Me))switch(Me){case"selected":t.selected=!1;break;default:Ot(t,n,Me,null,i,P)}for(T in i)if(P=i[T],ne=r[T],i.hasOwnProperty(T)&&P!==ne&&(P!=null||ne!=null))switch(T){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ot(t,n,T,P,i,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in r)P=r[Ve],r.hasOwnProperty(Ve)&&P!=null&&!i.hasOwnProperty(Ve)&&Ot(t,n,Ve,null,i,P);for(G in i)if(P=i[G],ne=r[G],i.hasOwnProperty(G)&&P!==ne&&(P!=null||ne!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,n));break;default:Ot(t,n,G,P,i,ne)}return;default:if(kl(n)){for(var Ct in r)P=r[Ct],r.hasOwnProperty(Ct)&&P!==void 0&&!i.hasOwnProperty(Ct)&&Zd(t,n,Ct,void 0,i,P);for(le in i)P=i[le],ne=r[le],!i.hasOwnProperty(le)||P===ne||P===void 0&&ne===void 0||Zd(t,n,le,P,i,ne);return}}for(var B in r)P=r[B],r.hasOwnProperty(B)&&P!=null&&!i.hasOwnProperty(B)&&Ot(t,n,B,null,i,P);for(fe in i)P=i[fe],ne=r[fe],!i.hasOwnProperty(fe)||P===ne||P==null&&ne==null||Ot(t,n,fe,P,i,ne)}function Jg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var u=r[i],f=u.transferSize,g=u.initiatorType,S=u.duration;if(f&&S&&Jg(g)){for(g=0,S=u.responseEnd,i+=1;i<r.length;i++){var T=r[i],G=T.startTime;if(G>S)break;var le=T.transferSize,fe=T.initiatorType;le&&Jg(fe)&&(T=T.responseEnd,g+=le*(T<S?1:(S-G)/(T-G)))}if(--i,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Qd=null;function Xo(t){return t.nodeType===9?t:t.ownerDocument}function Wg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pd=null;function YS(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var ty=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(XS)}:ty;function XS(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function ay(t,n){var r=n,i=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(i===0){t.removeChild(u),ol(n);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")pi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,pi(r);for(var f=r.firstChild;f;){var g=f.nextSibling,S=f.nodeName;f[Bt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&pi(t.ownerDocument.body);r=u}while(r);ol(n)}function sy(t,n){var r=t;t=0;do{var i=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=i}while(r)}function Kd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Kd(r),Un(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function JS(t,n,r,i){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Bt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=va(t.nextSibling),t===null)break}return null}function WS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=va(t.nextSibling),t===null))return null;return t}function ry(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=va(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ew(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var i=function(){n(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function va(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Wd=null;function ly(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return va(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function oy(t,n,r){switch(n=Xo(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function pi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Un(t)}var ba=new Map,cy=new Set;function Jo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ie.d;ie.d={f:tw,r:nw,D:aw,C:sw,L:rw,m:lw,X:ow,S:iw,M:cw};function tw(){var t=ds.f(),n=Ho();return t||n}function nw(t){var n=yn(t);n!==null&&n.tag===5&&n.type==="form"?Ep(n):ds.r(t)}var rl=typeof document>"u"?null:document;function uy(t,n,r){var i=rl;if(i&&typeof n=="string"&&n){var u=vn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),cy.has(u)||(cy.add(u),t={rel:t,crossOrigin:r,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),Cn(n,"link",t),Tt(n),i.head.appendChild(n)))}}function aw(t){ds.D(t),uy("dns-prefetch",t,null)}function sw(t,n){ds.C(t,n),uy("preconnect",t,n)}function rw(t,n,r){ds.L(t,n,r);var i=rl;if(i&&t&&n){var u='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+vn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+vn(r.imageSizes)+'"]')):u+='[href="'+vn(t)+'"]';var f=u;switch(n){case"style":f=ll(t);break;case"script":f=il(t)}ba.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ba.set(f,t),i.querySelector(u)!==null||n==="style"&&i.querySelector(gi(f))||n==="script"&&i.querySelector(yi(f))||(n=i.createElement("link"),Cn(n,"link",t),Tt(n),i.head.appendChild(n)))}}function lw(t,n){ds.m(t,n);var r=rl;if(r&&t){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+vn(i)+'"][href="'+vn(t)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ba.has(f)&&(t=x({rel:"modulepreload",href:t},n),ba.set(f,t),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yi(f)))return}i=r.createElement("link"),Cn(i,"link",t),Tt(i),r.head.appendChild(i)}}}function iw(t,n,r){ds.S(t,n,r);var i=rl;if(i&&t){var u=Tn(i).hoistableStyles,f=ll(t);n=n||"default";var g=u.get(f);if(!g){var S={loading:0,preload:null};if(g=i.querySelector(gi(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ba.get(f))&&ef(t,r);var T=g=i.createElement("link");Tt(T),Cn(T,"link",t),T._p=new Promise(function(G,le){T.onload=G,T.onerror=le}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wo(g,n,i)}g={type:"stylesheet",instance:g,count:1,state:S},u.set(f,g)}}}function ow(t,n){ds.X(t,n);var r=rl;if(r&&t){var i=Tn(r).hoistableScripts,u=il(t),f=i.get(u);f||(f=r.querySelector(yi(u)),f||(t=x({src:t,async:!0},n),(n=ba.get(u))&&tf(t,n),f=r.createElement("script"),Tt(f),Cn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function cw(t,n){ds.M(t,n);var r=rl;if(r&&t){var i=Tn(r).hoistableScripts,u=il(t),f=i.get(u);f||(f=r.querySelector(yi(u)),f||(t=x({src:t,async:!0,type:"module"},n),(n=ba.get(u))&&tf(t,n),f=r.createElement("script"),Tt(f),Cn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function dy(t,n,r,i){var u=(u=Ae.current)?Jo(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ll(r.href),r=Tn(u).hoistableStyles,i=r.get(n),i||(i={type:"style",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ll(r.href);var f=Tn(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(gi(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ba.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ba.set(t,r),f||uw(u,t,r,g.state))),n&&i===null)throw Error(l(528,""));return g}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Tn(u).hoistableScripts,i=r.get(n),i||(i={type:"script",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ll(t){return'href="'+vn(t)+'"'}function gi(t){return'link[rel="stylesheet"]['+t+"]"}function fy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function uw(t,n,r,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),Cn(n,"link",r),Tt(n),t.head.appendChild(n))}function il(t){return'[src="'+vn(t)+'"]'}function yi(t){return"script[async]"+t}function my(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+vn(r.href)+'"]');if(i)return n.instance=i,Tt(i),i;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Tt(i),Cn(i,"style",u),Wo(i,r.precedence,t),n.instance=i;case"stylesheet":u=ll(r.href);var f=t.querySelector(gi(u));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;i=fy(r),(u=ba.get(u))&&ef(i,u),f=(t.ownerDocument||t).createElement("link"),Tt(f);var g=f;return g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),Cn(f,"link",i),n.state.loading|=4,Wo(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(u=t.querySelector(yi(f)))?(n.instance=u,Tt(u),u):(i=r,(u=ba.get(f))&&(i=x({},r),tf(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),Tt(u),Cn(u,"link",i),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,Wo(i,r.precedence,t));return n.instance}function Wo(t,n,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,g=0;g<i.length;g++){var S=i[g];if(S.dataset.precedence===n)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ec=null;function hy(t,n,r){if(ec===null){var i=new Map,u=ec=new Map;u.set(r,i)}else u=ec,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(t))return i;for(i.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[Bt]||f[it]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var S=i.get(g);S?S.push(f):i.set(g,[f])}}return i}function py(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function dw(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fw(t,n,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=ll(i.href),f=n.querySelector(gi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=tc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,i=fy(i),(u=ba.get(u))&&ef(i,u),f=f.createElement("link"),Tt(f);var g=f;g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),Cn(f,"link",i),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=tc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var nf=0;function mw(t,n){return t.stylesheets&&t.count===0&&ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var i=setTimeout(function(){if(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*QS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nc=null;function ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nc=new Map,n.forEach(hw,t),nc=null,tc.call(t))}function hw(t,n){if(!(n.state.loading&4)){var r=nc.get(t);if(r)var i=r.get(null);else{r=new Map,nc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),i=g)}i&&r.set(null,i)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||i,f===i&&r.set(null,u),r.set(g,u),this.count++,i=tc.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var vi={$$typeof:ee,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function pw(t,n,r,i,u,f,g,S,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=K(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K(0),this.hiddenUpdates=K(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function yy(t,n,r,i,u,f,g,S,T,G,le,fe){return t=new pw(t,n,r,g,T,G,le,fe,S),n=1,f===!0&&(n|=24),f=sa(3,null,null,n),t.current=f,f.stateNode=t,n=ku(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:n},Bu(f),t}function vy(t){return t?(t=qr,t):qr}function by(t,n,r,i,u,f){u=vy(u),i.context===null?i.context=u:i.pendingContext=u,i=js(n),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Es(t,i,n),r!==null&&(Kn(r,t,n),Kl(r,t,n))}function xy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function af(t,n){xy(t,n),(t=t.alternate)&&xy(t,n)}function Sy(t){if(t.tag===13||t.tag===31){var n=nr(t,67108864);n!==null&&Kn(n,t,67108864),af(t,67108864)}}function wy(t){if(t.tag===13||t.tag===31){var n=ca();n=Gt(n);var r=nr(t,n);r!==null&&Kn(r,t,n),af(t,n)}}var sc=!0;function gw(t,n,r,i){var u=q.T;q.T=null;var f=ie.p;try{ie.p=2,sf(t,n,r,i)}finally{ie.p=f,q.T=u}}function yw(t,n,r,i){var u=q.T;q.T=null;var f=ie.p;try{ie.p=8,sf(t,n,r,i)}finally{ie.p=f,q.T=u}}function sf(t,n,r,i){if(sc){var u=rf(i);if(u===null)Vd(t,n,i,rc,r),Ny(t,i);else if(bw(u,t,n,r,i))i.stopPropagation();else if(Ny(t,i),n&4&&-1<vw.indexOf(t)){for(;u!==null;){var f=yn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=da(f.pendingLanes);if(g!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var T=1<<31-xt(g);S.entanglements[1]|=T,g&=~T}Za(f),(bt&6)===0&&(Fo=H()+500,fi(0))}}break;case 31:case 13:S=nr(f,2),S!==null&&Kn(S,f,2),Ho(),af(f,2)}if(f=rf(i),f===null&&Vd(t,n,i,rc,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Vd(t,n,i,null,r)}}function rf(t){return t=Ul(t),lf(t)}var rc=null;function lf(t){if(rc=null,t=en(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return rc=t,null}function _y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case Ne:return 2;case De:return 8;case J:case Re:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var of=!1,Ls=null,qs=null,Bs=null,bi=new Map,xi=new Map,Is=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":bi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xi.delete(n.pointerId)}}function Si(t,n,r,i,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=yn(n),n!==null&&Sy(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function bw(t,n,r,i,u){switch(n){case"focusin":return Ls=Si(Ls,t,n,r,i,u),!0;case"dragenter":return qs=Si(qs,t,n,r,i,u),!0;case"mouseover":return Bs=Si(Bs,t,n,r,i,u),!0;case"pointerover":var f=u.pointerId;return bi.set(f,Si(bi.get(f)||null,t,n,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,xi.set(f,Si(xi.get(f)||null,t,n,r,i,u)),!0}return!1}function jy(t){var n=en(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,pn(t.priority,function(){wy(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,pn(t.priority,function(){wy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);ys=i,r.target.dispatchEvent(i),ys=null}else return n=yn(r),n!==null&&Sy(n),t.blockedOn=r,!1;n.shift()}return!0}function Ey(t,n,r){lc(t)&&r.delete(n)}function xw(){of=!1,Ls!==null&&lc(Ls)&&(Ls=null),qs!==null&&lc(qs)&&(qs=null),Bs!==null&&lc(Bs)&&(Bs=null),bi.forEach(Ey),xi.forEach(Ey)}function ic(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xw)))}var oc=null;function Ay(t){oc!==t&&(oc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){oc===t&&(oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],i=t[n+1],u=t[n+2];if(typeof i!="function"){if(lf(i||r)===null)continue;break}var f=yn(r);f!==null&&(t.splice(n,3),n-=3,rd(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function ol(t){function n(T){return ic(T,t)}Ls!==null&&ic(Ls,t),qs!==null&&ic(qs,t),Bs!==null&&ic(Bs,t),bi.forEach(n),xi.forEach(n);for(var r=0;r<Is.length;r++){var i=Is[r];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Is.length&&(r=Is[0],r.blockedOn===null);)jy(r),r.blockedOn===null&&Is.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],g=u[gt]||null;if(typeof f=="function")g||Ay(r);else if(g){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[gt]||null)S=g.formAction;else if(lf(u)!==null)continue}else S=g.action;typeof S=="function"?r[i+1]=S:(r.splice(i,3),i-=3),Ay(r)}}}function Oy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function cf(t){this._internalRoot=t}cc.prototype.render=cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,i=ca();by(r,i,t,n,null,null)},cc.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;by(t.current,2,null,t,null,null),Ho(),n[kt]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Rt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Is.length&&n!==0&&n<Is[r].priority;r++);Is.splice(r,0,t),r===0&&jy(t)}};var Cy=a.version;if(Cy!=="19.2.0")throw Error(l(527,Cy,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Sw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{pe=uc.inject(Sw),Ke=uc}catch{}}return _i.createRoot=function(t,n){if(!c(t))throw Error(l(299));var r=!1,i="",u=Up,f=Lp,g=qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=yy(t,1,!1,null,null,r,i,null,u,f,g,Oy),t[kt]=n.current,Hd(t),new cf(n)},_i.hydrateRoot=function(t,n,r){if(!c(t))throw Error(l(299));var i=!1,u="",f=Up,g=Lp,S=qp,T=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(T=r.formState)),n=yy(t,1,!0,n,r??null,i,u,T,f,g,S,Oy),n.context=vy(null),r=n.current,i=ca(),i=Gt(i),u=js(i),u.callback=null,Es(r,u,i),r=i,n.current.lanes=r,ye(n,r),Za(n),t[kt]=n.current,Hd(t),new cc(n)},_i.version="19.2.0",_i}var By;function Tw(){if(By)return ff.exports;By=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),ff.exports=Rw(),ff.exports}var Dw=Tw();const zw=hb(Dw);var Iy="popstate";function Mw(e={}){function a(l,c){let{pathname:d,search:m,hash:h}=l.location;return Gf("",{pathname:d,search:m,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:zi(c)}return Uw(a,s,null,e)}function $t(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function _a(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function kw(){return Math.random().toString(36).substring(2,10)}function Fy(e,a){return{usr:e.state,key:e.key,idx:a}}function Gf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Sl(a):a,state:s,key:a&&a.key||l||kw()}}function zi({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Sl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function Uw(e,a,s,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,m=c.history,h="POP",y=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function x(){h="POP";let N=v(),k=N==null?null:N-p;p=N,y&&y({action:h,location:A.location,delta:k})}function w(N,k){h="PUSH";let z=Gf(A.location,N,k);p=v()+1;let ee=Fy(z,p),D=A.createHref(z);try{m.pushState(ee,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(D)}d&&y&&y({action:h,location:A.location,delta:1})}function L(N,k){h="REPLACE";let z=Gf(A.location,N,k);p=v();let ee=Fy(z,p),D=A.createHref(z);m.replaceState(ee,"",D),d&&y&&y({action:h,location:A.location,delta:0})}function _(N){return Lw(N)}let A={get action(){return h},get location(){return e(c,m)},listen(N){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(Iy,x),y=N,()=>{c.removeEventListener(Iy,x),y=null}},createHref(N){return a(c,N)},createURL:_,encodeLocation(N){let k=_(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:L,go(N){return m.go(N)}};return A}function Lw(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$t(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:zi(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function pb(e,a,s="/"){return qw(e,a,s,!1)}function qw(e,a,s,l){let c=typeof a=="string"?Sl(a):a,d=hs(c.pathname||"/",s);if(d==null)return null;let m=gb(e);Bw(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let p=Kw(d);h=Yw(m[y],p,l)}return h}function gb(e,a=[],s=[],l="",c=!1){let d=(m,h,y=c,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&y)return;$t(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=ms([l,v.relativePath]),w=s.concat(v);m.children&&m.children.length>0&&($t(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),gb(m.children,a,w,x,y)),!(m.path==null&&!m.index)&&a.push({path:x,score:Gw(x,m.index),routesMeta:w})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let y of yb(m.path))d(m,h,!0,y)}),a}function yb(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let m=yb(l.join("/")),h=[];return h.push(...m.map(y=>y===""?d:[d,y].join("/"))),c&&h.push(...m),h.map(y=>e.startsWith("/")&&y===""?"/":y)}function Bw(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:Qw(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var Iw=/^:[\w-]+$/,Fw=3,$w=2,Hw=1,Vw=10,Zw=-2,$y=e=>e==="*";function Gw(e,a){let s=e.split("/"),l=s.length;return s.some($y)&&(l+=Zw),a&&(l+=$w),s.filter(c=>!$y(c)).reduce((c,d)=>c+(Iw.test(d)?Fw:d===""?Hw:Vw),l)}function Qw(e,a){return e.length===a.length&&e.slice(0,-1).every((l,c)=>l===a[c])?e[e.length-1]-a[a.length-1]:0}function Yw(e,a,s=!1){let{routesMeta:l}=e,c={},d="/",m=[];for(let h=0;h<l.length;++h){let y=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",x=Mi({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),w=y.route;if(!x&&p&&s&&!l[l.length-1].route.index&&(x=Mi({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:ms([d,x.pathname]),pathnameBase:e_(ms([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=ms([d,x.pathnameBase]))}return m}function Mi(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=Pw(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},w)=>{if(v==="*"){let _=h[w]||"";m=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const L=h[w];return x&&!L?p[v]=void 0:p[v]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function Pw(e,a=!1,s=!0){_a(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(l.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function Kw(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return _a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function hs(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function Xw(e,a="/"){let{pathname:s,search:l="",hash:c=""}=typeof e=="string"?Sl(e):e;return{pathname:s?s.startsWith("/")?s:Jw(s,a):a,search:t_(l),hash:n_(c)}}function Jw(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function gf(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ww(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Sm(e){let a=Ww(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function wm(e,a,s,l=!1){let c;typeof e=="string"?c=Sl(e):(c={...e},$t(!c.pathname||!c.pathname.includes("?"),gf("?","pathname","search",c)),$t(!c.pathname||!c.pathname.includes("#"),gf("#","pathname","hash",c)),$t(!c.search||!c.search.includes("#"),gf("#","search","hash",c)));let d=e===""||c.pathname==="",m=d?"/":c.pathname,h;if(m==null)h=s;else{let x=a.length-1;if(!l&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),x-=1;c.pathname=w.join("/")}h=x>=0?a[x]:"/"}let y=Xw(c,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),e_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,n_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function a_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vb=["POST","PUT","PATCH","DELETE"];new Set(vb);var s_=["GET",...vb];new Set(s_);var wl=b.createContext(null);wl.displayName="DataRouter";var Ic=b.createContext(null);Ic.displayName="DataRouterState";b.createContext(!1);var bb=b.createContext({isTransitioning:!1});bb.displayName="ViewTransition";var r_=b.createContext(new Map);r_.displayName="Fetchers";var l_=b.createContext(null);l_.displayName="Await";var Na=b.createContext(null);Na.displayName="Navigation";var Fi=b.createContext(null);Fi.displayName="Location";var ja=b.createContext({outlet:null,matches:[],isDataRoute:!1});ja.displayName="Route";var _m=b.createContext(null);_m.displayName="RouteError";function i_(e,{relative:a}={}){$t(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=b.useContext(Na),{hash:c,pathname:d,search:m}=$i(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:ms([s,d])),l.createHref({pathname:h,search:m,hash:c})}function _l(){return b.useContext(Fi)!=null}function In(){return $t(_l(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Fi).location}var xb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sb(e){b.useContext(Na).static||b.useLayoutEffect(e)}function Er(){let{isDataRoute:e}=b.useContext(ja);return e?__():o_()}function o_(){$t(_l(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(wl),{basename:a,navigator:s}=b.useContext(Na),{matches:l}=b.useContext(ja),{pathname:c}=In(),d=JSON.stringify(Sm(l)),m=b.useRef(!1);return Sb(()=>{m.current=!0}),b.useCallback((y,p={})=>{if(_a(m.current,xb),!m.current)return;if(typeof y=="number"){s.go(y);return}let v=wm(y,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:ms([a,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[a,s,d,c,e])}var c_=b.createContext(null);function u_(e){let a=b.useContext(ja).outlet;return b.useMemo(()=>a&&b.createElement(c_.Provider,{value:e},a),[a,e])}function d_(){let{matches:e}=b.useContext(ja),a=e[e.length-1];return a?a.params:{}}function $i(e,{relative:a}={}){let{matches:s}=b.useContext(ja),{pathname:l}=In(),c=JSON.stringify(Sm(s));return b.useMemo(()=>wm(e,JSON.parse(c),l,a==="path"),[e,c,l,a])}function f_(e,a){return wb(e,a)}function wb(e,a,s,l,c){$t(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(Na),{matches:m}=b.useContext(ja),h=m[m.length-1],y=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let z=x&&x.path||"";_b(p,!x||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let w=In(),L;if(a){let z=typeof a=="string"?Sl(a):a;$t(v==="/"||z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),L=z}else L=w;let _=L.pathname||"/",A=_;if(v!=="/"){let z=v.replace(/^\//,"").split("/");A="/"+_.replace(/^\//,"").split("/").slice(z.length).join("/")}let N=pb(e,{pathname:A});_a(x||N!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),_a(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=y_(N&&N.map(z=>Object.assign({},z,{params:Object.assign({},y,z.params),pathname:ms([v,d.encodeLocation?d.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:ms([v,d.encodeLocation?d.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),m,s,l,c);return a&&k?b.createElement(Fi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},k):k}function m_(){let e=w_(),a=a_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:c},s):null,m)}var h_=b.createElement(m_,null),p_=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(ja.Provider,{value:this.props.routeContext},b.createElement(_m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g_({routeContext:e,match:a,children:s}){let l=b.useContext(wl);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(ja.Provider,{value:e},s)}function y_(e,a=[],s=null,l=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,m=s?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);$t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,y=-1;if(s)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=p),v.route.id){let{loaderData:x,errors:w}=s,L=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||L){h=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((p,v,x)=>{let w,L=!1,_=null,A=null;s&&(w=m&&v.route.id?m[v.route.id]:void 0,_=v.route.errorElement||h_,h&&(y<0&&x===0?(_b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,A=null):y===x&&(L=!0,A=v.route.hydrateFallbackElement||null)));let N=a.concat(d.slice(0,x+1)),k=()=>{let z;return w?z=_:L?z=A:v.route.Component?z=b.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=p,b.createElement(g_,{match:v,routeContext:{outlet:p,matches:N,isDataRoute:s!=null},children:z})};return s&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(p_,{location:s.location,revalidation:s.revalidation,component:_,error:w,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:l}):k()},null)}function Nm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v_(e){let a=b.useContext(wl);return $t(a,Nm(e)),a}function b_(e){let a=b.useContext(Ic);return $t(a,Nm(e)),a}function x_(e){let a=b.useContext(ja);return $t(a,Nm(e)),a}function jm(e){let a=x_(e),s=a.matches[a.matches.length-1];return $t(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function S_(){return jm("useRouteId")}function w_(){let e=b.useContext(_m),a=b_("useRouteError"),s=jm("useRouteError");return e!==void 0?e:a.errors?.[s]}function __(){let{router:e}=v_("useNavigate"),a=jm("useNavigate"),s=b.useRef(!1);return Sb(()=>{s.current=!0}),b.useCallback(async(c,d={})=>{_a(s.current,xb),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var Hy={};function _b(e,a,s){!a&&!Hy[e]&&(Hy[e]=!0,_a(!1,s))}b.memo(N_);function N_({routes:e,future:a,state:s,unstable_onError:l}){return wb(e,void 0,s,l,a)}function Vs({to:e,replace:a,state:s,relative:l}){$t(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(Na);_a(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(ja),{pathname:m}=In(),h=Er(),y=wm(e,Sm(d),m,l==="path"),p=JSON.stringify(y);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function Nb(e){return u_(e.context)}function Jt(e){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j_({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:c,static:d=!1}){$t(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof s=="string"&&(s=Sl(s));let{pathname:y="/",search:p="",hash:v="",state:x=null,key:w="default"}=s,L=b.useMemo(()=>{let _=hs(y,m);return _==null?null:{location:{pathname:_,search:p,hash:v,state:x,key:w},navigationType:l}},[m,y,p,v,x,w,l]);return _a(L!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:b.createElement(Na.Provider,{value:h},b.createElement(Fi.Provider,{children:a,value:L}))}function E_({children:e,location:a}){return f_(Qf(e),a)}function Qf(e,a=[]){let s=[];return b.Children.forEach(e,(l,c)=>{if(!b.isValidElement(l))return;let d=[...a,c];if(l.type===b.Fragment){s.push.apply(s,Qf(l.props.children,d));return}$t(l.type===Jt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Qf(l.props.children,d)),s.push(m)}),s}var bc="get",xc="application/x-www-form-urlencoded";function Fc(e){return e!=null&&typeof e.tagName=="string"}function A_(e){return Fc(e)&&e.tagName.toLowerCase()==="button"}function O_(e){return Fc(e)&&e.tagName.toLowerCase()==="form"}function C_(e){return Fc(e)&&e.tagName.toLowerCase()==="input"}function R_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T_(e,a){return e.button===0&&(!a||a==="_self")&&!R_(e)}function Yf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function D_(e,a){let s=Yf(e);return a&&a.forEach((l,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var dc=null;function z_(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var M_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(e){return e!=null&&!M_.has(e)?(_a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):e}function k_(e,a){let s,l,c,d,m;if(O_(e)){let h=e.getAttribute("action");l=h?hs(h,a):null,s=e.getAttribute("method")||bc,c=yf(e.getAttribute("enctype"))||xc,d=new FormData(e)}else if(A_(e)||C_(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||h.getAttribute("action");if(l=y?hs(y,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||bc,c=yf(e.getAttribute("formenctype"))||yf(h.getAttribute("enctype"))||xc,d=new FormData(h,e),!z_()){let{name:p,type:v,value:x}=e;if(v==="image"){let w=p?`${p}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else p&&d.append(p,x)}}else{if(Fc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=bc,l=null,c=xc,m=e}return d&&c==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Em(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function U_(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&hs(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function L_(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function B_(e,a,s){let l=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let m=await L_(d,s);return m.links?m.links():[]}return[]}));return H_(l.flat(1).filter(q_).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Vy(e,a,s,l,c,d){let m=(y,p)=>s[p]?y.route.id!==s[p].route.id:!0,h=(y,p)=>s[p].pathname!==y.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==y.params["*"];return d==="assets"?a.filter((y,p)=>m(y,p)||h(y,p)):d==="data"?a.filter((y,p)=>{let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(m(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function I_(e,a,{includeHydrateFallback:s}={}){return F_(e.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function F_(e){return[...new Set(e)]}function $_(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function H_(e,a){let s=new Set;return new Set(a),e.reduce((l,c)=>{let d=JSON.stringify($_(c));return s.has(d)||(s.add(d),l.push({key:d,link:c})),l},[])}function jb(){let e=b.useContext(wl);return Em(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function V_(){let e=b.useContext(Ic);return Em(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Am=b.createContext(void 0);Am.displayName="FrameworkContext";function Eb(){let e=b.useContext(Am);return Em(e,"You must render this element inside a <HydratedRouter> element"),e}function Z_(e,a){let s=b.useContext(Am),[l,c]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=a,w=b.useRef(null);b.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let A=k=>{k.forEach(z=>{m(z.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[e]),b.useEffect(()=>{if(l){let A=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(A)}}},[l]);let L=()=>{c(!0)},_=()=>{c(!1),m(!1)};return s?e!=="intent"?[d,w,{}]:[d,w,{onFocus:Ni(h,L),onBlur:Ni(y,_),onMouseEnter:Ni(p,L),onMouseLeave:Ni(v,_),onTouchStart:Ni(x,L)}]:[!1,w,{}]}function Ni(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function G_({page:e,...a}){let{router:s}=jb(),l=b.useMemo(()=>pb(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?b.createElement(Y_,{page:e,matches:l,...a}):null}function Q_(e){let{manifest:a,routeModules:s}=Eb(),[l,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return B_(e,a,s).then(m=>{d||c(m)}),()=>{d=!0}},[e,a,s]),l}function Y_({page:e,matches:a,...s}){let l=In(),{manifest:c,routeModules:d}=Eb(),{basename:m}=jb(),{loaderData:h,matches:y}=V_(),p=b.useMemo(()=>Vy(e,a,y,c,l,"data"),[e,a,y,c,l]),v=b.useMemo(()=>Vy(e,a,y,c,l,"assets"),[e,a,y,c,l]),x=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let _=new Set,A=!1;if(a.forEach(k=>{let z=c.routes[k.route.id];!z||!z.hasLoader||(!p.some(ee=>ee.route.id===k.route.id)&&k.route.id in h&&d[k.route.id]?.shouldRevalidate||z.hasClientLoader?A=!0:_.add(k.route.id))}),_.size===0)return[];let N=U_(e,m,"data");return A&&_.size>0&&N.searchParams.set("_routes",a.filter(k=>_.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[m,h,l,c,p,a,e,d]),w=b.useMemo(()=>I_(v,c),[v,c]),L=Q_(v);return b.createElement(b.Fragment,null,x.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),w.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),L.map(({key:_,link:A})=>b.createElement("link",{key:_,nonce:s.nonce,...A})))}function P_(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ab&&(window.__reactRouterVersion="7.9.5")}catch{}function K_({basename:e,children:a,window:s}){let l=b.useRef();l.current==null&&(l.current=Mw({window:s,v5Compat:!0}));let c=l.current,[d,m]=b.useState({action:c.action,location:c.location}),h=b.useCallback(y=>{b.startTransition(()=>m(y))},[m]);return b.useLayoutEffect(()=>c.listen(h),[c,h]),b.createElement(j_,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var Ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=b.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:m,state:h,target:y,to:p,preventScrollReset:v,viewTransition:x,...w},L){let{basename:_}=b.useContext(Na),A=typeof p=="string"&&Ob.test(p),N,k=!1;if(typeof p=="string"&&A&&(N=p,Ab))try{let se=new URL(window.location.href),Se=p.startsWith("//")?new URL(se.protocol+p):new URL(p),ve=hs(Se.pathname,_);Se.origin===se.origin&&ve!=null?p=ve+Se.search+Se.hash:k=!0}catch{_a(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=i_(p,{relative:c}),[ee,D,O]=Z_(l,w),Q=W_(p,{replace:m,state:h,target:y,preventScrollReset:v,relative:c,viewTransition:x});function U(se){a&&a(se),se.defaultPrevented||Q(se)}let te=b.createElement("a",{...w,...O,href:N||z,onClick:k||d?a:U,ref:P_(L,D),target:y,"data-discover":!A&&s==="render"?"true":void 0});return ee&&!A?b.createElement(b.Fragment,null,te,b.createElement(G_,{page:z})):te});jc.displayName="Link";var Cb=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:h,children:y,...p},v){let x=$i(m,{relative:p.relative}),w=In(),L=b.useContext(Ic),{navigator:_,basename:A}=b.useContext(Na),N=L!=null&&sN(x)&&h===!0,k=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,z=w.pathname,ee=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;s||(z=z.toLowerCase(),ee=ee?ee.toLowerCase():null,k=k.toLowerCase()),ee&&A&&(ee=hs(ee,A)||ee);const D=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=z===k||!c&&z.startsWith(k)&&z.charAt(D)==="/",Q=ee!=null&&(ee===k||!c&&ee.startsWith(k)&&ee.charAt(k.length)==="/"),U={isActive:O,isPending:Q,isTransitioning:N},te=O?a:void 0,se;typeof l=="function"?se=l(U):se=[l,O?"active":null,Q?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Se=typeof d=="function"?d(U):d;return b.createElement(jc,{...p,"aria-current":te,className:se,ref:v,style:Se,to:m,viewTransition:h},typeof y=="function"?y(U):y)});Cb.displayName="NavLink";var X_=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:c,state:d,method:m=bc,action:h,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:x,...w},L)=>{let _=nN(),A=aN(h,{relative:p}),N=m.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&Ob.test(h),z=ee=>{if(y&&y(ee),ee.defaultPrevented)return;ee.preventDefault();let D=ee.nativeEvent.submitter,O=D?.getAttribute("formmethod")||m;_(D||ee.currentTarget,{fetcherKey:a,method:O,navigate:s,replace:c,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:L,method:N,action:A,onSubmit:l?y:z,...w,"data-discover":!k&&e==="render"?"true":void 0})});X_.displayName="Form";function J_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rb(e){let a=b.useContext(wl);return $t(a,J_(e)),a}function W_(e,{target:a,replace:s,state:l,preventScrollReset:c,relative:d,viewTransition:m}={}){let h=Er(),y=In(),p=$i(e,{relative:d});return b.useCallback(v=>{if(T_(v,a)){v.preventDefault();let x=s!==void 0?s:zi(y)===zi(p);h(e,{replace:x,state:l,preventScrollReset:c,relative:d,viewTransition:m})}},[y,h,p,s,l,a,e,c,d,m])}function Tb(e){_a(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Yf(e)),s=b.useRef(!1),l=In(),c=b.useMemo(()=>D_(l.search,s.current?null:a.current),[l.search]),d=Er(),m=b.useCallback((h,y)=>{const p=Yf(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,y)},[d,c]);return[c,m]}var eN=0,tN=()=>`__${String(++eN)}__`;function nN(){let{router:e}=Rb("useSubmit"),{basename:a}=b.useContext(Na),s=S_();return b.useCallback(async(l,c={})=>{let{action:d,method:m,encType:h,formData:y,body:p}=k_(l,a);if(c.navigate===!1){let v=c.fetcherKey||tN();await e.fetch(v,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:p,formMethod:c.method||m,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:p,formMethod:c.method||m,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function aN(e,{relative:a}={}){let{basename:s}=b.useContext(Na),l=b.useContext(ja);$t(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...$i(e||".",{relative:a})},m=In();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:ms([s,d.pathname])),zi(d)}function sN(e,{relative:a}={}){let s=b.useContext(bb);$t(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Rb("useViewTransitionState"),c=$i(e,{relative:a});if(!s.isTransitioning)return!1;let d=hs(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=hs(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Mi(c.pathname,m)!=null||Mi(c.pathname,d)!=null}var Nl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rN={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},lN=class{#e=rN;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},gr=new lN;function iN(e){setTimeout(e,0)}var xr=typeof window>"u"||"Deno"in globalThis;function Bn(){}function oN(e,a){return typeof e=="function"?e(a):e}function Pf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Db(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Zs(e,a){return typeof e=="function"?e(a):e}function Sa(e,a){return typeof e=="function"?e(a):e}function Zy(e,a){const{type:s="all",exact:l,fetchStatus:c,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==Om(m,a.options))return!1}else if(!ki(a.queryKey,m))return!1}if(s!=="all"){const y=a.isActive();if(s==="active"&&!y||s==="inactive"&&y)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function Gy(e,a){const{exact:s,status:l,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(Sr(a.options.mutationKey)!==Sr(d))return!1}else if(!ki(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||c&&!c(a))}function Om(e,a){return(a?.queryKeyHashFn||Sr)(e)}function Sr(e){return JSON.stringify(e,(a,s)=>Kf(s)?Object.keys(s).sort().reduce((l,c)=>(l[c]=s[c],l),{}):s)}function ki(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>ki(e[s],a[s])):!1}var cN=Object.prototype.hasOwnProperty;function zb(e,a){if(e===a)return e;const s=Qy(e)&&Qy(a);if(!s&&!(Kf(e)&&Kf(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),m=d.length,h=s?new Array(m):{};let y=0;for(let p=0;p<m;p++){const v=s?p:d[p],x=e[v],w=a[v];if(x===w){h[v]=x,(s?p<c:cN.call(e,v))&&y++;continue}if(x===null||w===null||typeof x!="object"||typeof w!="object"){h[v]=w;continue}const L=zb(x,w);h[v]=L,L===x&&y++}return c===m&&y===c?e:h}function Ec(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function Qy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kf(e){if(!Yy(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!Yy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yy(e){return Object.prototype.toString.call(e)==="[object Object]"}function uN(e){return new Promise(a=>{gr.setTimeout(a,e)})}function Xf(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?zb(e,a):a}function dN(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function fN(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var Cm=Symbol();function Mb(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===Cm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kb(e,a){return typeof e=="function"?e(...a):!!e}var mN=class extends Nl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Rm=new mN;function Jf(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function l(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{l({status:"fulfilled",value:c}),e(c)},s.reject=c=>{l({status:"rejected",reason:c}),a(c)},s}var hN=iN;function pN(){let e=[],a=0,s=h=>{h()},l=h=>{h()},c=hN;const d=h=>{a?e.push(h):c(()=>{s(h)})},m=()=>{const h=e;e=[],h.length&&c(()=>{l(()=>{h.forEach(y=>{s(y)})})})};return{batch:h=>{let y;a++;try{y=h()}finally{a--,a||m()}return y},batchCalls:h=>(...y)=>{d(()=>{h(...y)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{c=h}}}var mn=pN(),gN=class extends Nl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Ac=new gN;function yN(e){return Math.min(1e3*2**e,3e4)}function Ub(e){return(e??"online")==="online"?Ac.isOnline():!0}var Wf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Lb(e){let a=!1,s=0,l;const c=Jf(),d=()=>c.status!=="pending",m=A=>{if(!d()){const N=new Wf(A);w(N),e.onCancel?.(N)}},h=()=>{a=!0},y=()=>{a=!1},p=()=>Rm.isFocused()&&(e.networkMode==="always"||Ac.isOnline())&&e.canRun(),v=()=>Ub(e.networkMode)&&e.canRun(),x=A=>{d()||(l?.(),c.resolve(A))},w=A=>{d()||(l?.(),c.reject(A))},L=()=>new Promise(A=>{l=N=>{(d()||p())&&A(N)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),_=()=>{if(d())return;let A;const N=s===0?e.initialPromise:void 0;try{A=N??e.fn()}catch(k){A=Promise.reject(k)}Promise.resolve(A).then(x).catch(k=>{if(d())return;const z=e.retry??(xr?0:3),ee=e.retryDelay??yN,D=typeof ee=="function"?ee(s,k):ee,O=z===!0||typeof z=="number"&&s<z||typeof z=="function"&&z(s,k);if(a||!O){w(k);return}s++,e.onFail?.(s,k),uN(D).then(()=>p()?void 0:L()).then(()=>{a?w(k):_()})})};return{promise:c,status:()=>c.status,cancel:m,continue:()=>(l?.(),c),cancelRetry:h,continueRetry:y,canStart:v,start:()=>(v()?_():L().then(_),c)}}var qb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pf(this.gcTime)&&(this.#e=gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gr.clearTimeout(this.#e),this.#e=void 0)}},vN=class extends qb{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ky(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Ky(this.options);a.data!==void 0&&(this.setState(Py(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=Xf(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(Bn).catch(Bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Sa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Db(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=Mb(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=Lb({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof Wf&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,y)=>{this.#r({type:"failed",failureCount:h,error:y})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Wf){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Bb(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...Py(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),mn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Bb(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ub(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Py(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ky(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var bN=class extends Nl{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=Jf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Xy(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return em(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return em(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),a._defaulted&&!Ec(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Jy(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||Sa(this.options.enabled,this.#t)!==Sa(a.enabled,this.#t)||Zs(this.options.staleTime,this.#t)!==Zs(a.staleTime,this.#t))&&this.#g();const c=this.#y();l&&(this.#t!==s||Sa(this.options.enabled,this.#t)!==Sa(a.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return SN(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#w();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(Bn)),a}#g(){this.#x();const e=Zs(this.options.staleTime,this.#t);if(xr||this.#s.isStale||!Pf(e))return;const s=Db(this.#s.dataUpdatedAt,e)+1;this.#c=gr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#S(),this.#o=e,!(xr||Sa(this.options.enabled,this.#t)===!1||!Pf(this.#o)||this.#o===0)&&(this.#u=gr.setInterval(()=>{(this.options.refetchIntervalInBackground||Rm.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(gr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(gr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,c=this.#s,d=this.#a,m=this.#l,y=e!==s?e.state:this.#n,{state:p}=e;let v={...p},x=!1,w;if(a._optimisticResults){const te=this.hasListeners(),se=!te&&Xy(e,a),Se=te&&Jy(e,s,a,l);(se||Se)&&(v={...v,...Bb(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:L,errorUpdatedAt:_,status:A}=v;w=v.data;let N=!1;if(a.placeholderData!==void 0&&w===void 0&&A==="pending"){let te;c?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(te=c.data,N=!0):te=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,te!==void 0&&(A="success",w=Xf(c?.data,te,a),x=!0)}if(a.select&&w!==void 0&&!N)if(c&&w===d?.data&&a.select===this.#p)w=this.#f;else try{this.#p=a.select,w=a.select(w),w=Xf(c?.data,w,a),this.#f=w,this.#r=null}catch(te){this.#r=te}this.#r&&(L=this.#r,w=this.#f,_=Date.now(),A="error");const k=v.fetchStatus==="fetching",z=A==="pending",ee=A==="error",D=z&&k,O=w!==void 0,U={status:A,fetchStatus:v.fetchStatus,isPending:z,isSuccess:A==="success",isError:ee,isInitialLoading:D,isLoading:D,data:w,dataUpdatedAt:v.dataUpdatedAt,error:L,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>y.dataUpdateCount||v.errorUpdateCount>y.errorUpdateCount,isFetching:k,isRefetching:k&&!z,isLoadingError:ee&&!O,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:ee&&O,isStale:Tm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:Sa(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const te=ve=>{U.status==="error"?ve.reject(U.error):U.data!==void 0&&ve.resolve(U.data)},se=()=>{const ve=this.#i=U.promise=Jf();te(ve)},Se=this.#i;switch(Se.status){case"pending":e.queryHash===s.queryHash&&te(Se);break;case"fulfilled":(U.status==="error"||U.data!==Se.value)&&se();break;case"rejected":(U.status!=="error"||U.error!==Se.reason)&&se();break}}return U}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Ec(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==e[h]&&d.has(h)})};this.#_({listeners:s()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(e){mn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function xN(e,a){return Sa(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function Xy(e,a){return xN(e,a)||e.state.data!==void 0&&em(e,a,a.refetchOnMount)}function em(e,a,s){if(Sa(a.enabled,e)!==!1&&Zs(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&Tm(e,a)}return!1}function Jy(e,a,s,l){return(e!==a||Sa(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Tm(e,s)}function Tm(e,a){return Sa(a.enabled,e)!==!1&&e.isStaleByTime(Zs(a.staleTime,e))}function SN(e,a){return!Ec(e.getCurrentResult(),a)}function Wy(e){return{onFetch:(a,s)=>{const l=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},y=0;const p=async()=>{let v=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},w=Mb(a.options,a.fetchOptions),L=async(_,A,N)=>{if(v)return Promise.reject();if(A==null&&_.pages.length)return Promise.resolve(_);const z=(()=>{const Q={client:a.client,queryKey:a.queryKey,pageParam:A,direction:N?"backward":"forward",meta:a.options.meta};return x(Q),Q})(),ee=await w(z),{maxPages:D}=a.options,O=N?fN:dN;return{pages:O(_.pages,ee,D),pageParams:O(_.pageParams,A,D)}};if(c&&d.length){const _=c==="backward",A=_?wN:ev,N={pages:d,pageParams:m},k=A(l,N);h=await L(N,k,_)}else{const _=e??d.length;do{const A=y===0?m[0]??l.initialPageParam:ev(l,h);if(y>0&&A==null)break;h=await L(h,A),y++}while(y<_)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function ev(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function wN(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var _N=class extends qb{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Ib(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Lb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const m=await this.options.onMutate?.(e,s);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),mn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Ib(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var NN=class extends Nl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new _N({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=fc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=fc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=fc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=fc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){mn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Gy(a,s))}findAll(e={}){return this.getAll().filter(a=>Gy(e,a))}notify(e){mn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return mn.batch(()=>Promise.all(e.map(a=>a.continue().catch(Bn))))}};function fc(e){return e.options.scope?.id}var jN=class extends Nl{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),Ec(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&Sr(s.mutationKey)!==Sr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Ib();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){mn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,c),this.#s.onSettled?.(a.data,null,s,l,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,c),this.#s.onSettled?.(void 0,a.error,s,l,c))}this.listeners.forEach(s=>{s(this.#t)})})}},EN=class extends Nl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,c=a.queryHash??Om(l,a);let d=this.get(c);return d||(d=new vN({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Zy(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Zy(e,s)):a}notify(e){mn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},AN=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new EN,this.#t=e.mutationCache||new NN,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Rm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Ac.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Zs(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=oN(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...s,manual:!0})}setQueriesData(e,a,s){return mn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;mn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return mn.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=mn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(l).then(Bn).catch(Bn)}invalidateQueries(e,a={}){return mn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=mn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(Bn)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(Bn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Zs(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bn).catch(Bn)}fetchInfiniteQuery(e){return e.behavior=Wy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bn).catch(Bn)}ensureInfiniteQueryData(e){return e.behavior=Wy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ac.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(Sr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{ki(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(Sr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{ki(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Om(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Cm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Fb=b.createContext(void 0),Dm=e=>{const a=b.useContext(Fb);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},ON=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Fb.Provider,{value:e,children:a})),$b=b.createContext(!1),CN=()=>b.useContext($b);$b.Provider;function RN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var TN=b.createContext(RN()),DN=()=>b.useContext(TN),zN=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},MN=e=>{b.useEffect(()=>{e.clearReset()},[e])},kN=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(c&&e.data===void 0||kb(s,[e.error,l])),UN=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...c)=>s(l(...c)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},LN=(e,a)=>e.isLoading&&e.isFetching&&!a,qN=(e,a)=>e?.suspense&&a.isPending,tv=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function BN(e,a,s){const l=CN(),c=DN(),d=Dm(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",UN(m),zN(m,c),MN(c);const h=!d.getQueryCache().get(m.queryHash),[y]=b.useState(()=>new a(d,m)),p=y.getOptimisticResult(m),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const w=v?y.subscribe(mn.batchCalls(x)):Bn;return y.updateResult(),w},[y,v]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),b.useEffect(()=>{y.setOptions(m)},[m,y]),qN(m,p))throw tv(m,y,c);if(kN({result:p,errorResetBoundary:c,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!xr&&LN(p,l)&&(h?tv(m,y,c):d.getQueryCache().get(m.queryHash)?.promise)?.catch(Bn).finally(()=>{y.updateResult()}),m.notifyOnChangeProps?p:y.trackResult(p)}function wr(e,a){return BN(e,bN)}function IN(e,a){const s=Dm(),[l]=b.useState(()=>new jN(s,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const c=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(mn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(Bn)},[l]);if(c.error&&kb(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var Hi=e=>e.type==="checkbox",yr=e=>e instanceof Date,Xn=e=>e==null;const Hb=e=>typeof e=="object";var on=e=>!Xn(e)&&!Array.isArray(e)&&Hb(e)&&!yr(e),FN=e=>on(e)&&e.target?Hi(e.target)?e.target.checked:e.target.value:e,$N=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,HN=(e,a)=>e.has($N(a)),VN=e=>{const a=e.constructor&&e.constructor.prototype;return on(a)&&a.hasOwnProperty("isPrototypeOf")},zm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ft(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(zm&&(e instanceof Blob||l))&&(s||on(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!VN(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=Ft(e[c]));else return e;return a}var $c=e=>/^\w*$/.test(e),qt=e=>e===void 0,Hc=e=>Array.isArray(e)?e.filter(Boolean):[],Mm=e=>Hc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,a,s)=>{if(!a||!on(e))return s;const l=($c(a)?[a]:Mm(a)).reduce((c,d)=>Xn(c)?c:c[d],e);return qt(l)||l===e?qt(e[a])?s:e[a]:l},Qa=e=>typeof e=="boolean",_t=(e,a,s)=>{let l=-1;const c=$c(a)?[a]:Mm(a),d=c.length,m=d-1;for(;++l<d;){const h=c[l];let y=s;if(l!==m){const p=e[h];y=on(p)||Array.isArray(p)?p:isNaN(+c[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=y,e=e[h]}};const nv={BLUR:"blur",FOCUS_OUT:"focusout"},wa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Vb=st.createContext(null);Vb.displayName="HookFormContext";const Zb=()=>st.useContext(Vb);var ZN=(e,a,s,l=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const m=d;return a._proxyFormState[m]!==wa.all&&(a._proxyFormState[m]=!l||wa.all),e[m]}});return c};const km=typeof window<"u"?st.useLayoutEffect:st.useEffect;var ua=e=>typeof e=="string",tm=(e,a,s,l,c)=>ua(e)?(l&&a.watch.add(e),ze(s,e,c)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),ze(s,d))):(l&&(a.watchAll=!0),s),nm=e=>Xn(e)||!Hb(e);function Ua(e,a,s=new WeakSet){if(nm(e)||nm(a))return e===a;if(yr(e)&&yr(a))return e.getTime()===a.getTime();const l=Object.keys(e),c=Object.keys(a);if(l.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const m=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(yr(m)&&yr(h)||on(m)&&on(h)||Array.isArray(m)&&Array.isArray(h)?!Ua(m,h,s):m!==h)return!1}}return!0}function ji(e){const a=Zb(),{control:s=a.control,name:l,defaultValue:c,disabled:d,exact:m,compute:h}=e||{},y=st.useRef(c),p=st.useRef(h),v=st.useRef(void 0),x=st.useRef(s),w=st.useRef(l);p.current=h;const[L,_]=st.useState(()=>{const D=s._getWatch(l,y.current);return p.current?p.current(D):D}),A=st.useCallback(D=>{const O=tm(l,s._names,D||s._formValues,!1,y.current);return p.current?p.current(O):O},[s._formValues,s._names,l]),N=st.useCallback(D=>{if(!d){const O=tm(l,s._names,D||s._formValues,!1,y.current);if(p.current){const Q=p.current(O);Ua(Q,v.current)||(_(Q),v.current=Q)}else _(O)}},[s._formValues,s._names,d,l]);km(()=>((x.current!==s||!Ua(w.current,l))&&(x.current=s,w.current=l,N()),s._subscribe({name:l,formState:{values:!0},exact:m,callback:D=>{N(D.values)}})),[s,m,l,N]),st.useEffect(()=>s._removeUnmounted());const k=x.current!==s,z=w.current,ee=st.useMemo(()=>{if(d)return null;const D=!k&&!Ua(z,l);return k||D?A():null},[d,k,l,z,A]);return ee!==null?ee:L}var Um=(e,a,s,l,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:c||!0}}:{},Jn=e=>Array.isArray(e)?e:[e],av=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function Gb(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],d=a[l];if(c&&on(c)&&d){const m=Gb(c,d);on(m)&&(s[l]=m)}else e[l]&&(s[l]=d)}return s}var zn=e=>on(e)&&!Object.keys(e).length,Lm=e=>e.type==="file",La=e=>typeof e=="function",Oc=e=>{if(!zm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},Qb=e=>e.type==="select-multiple",qm=e=>e.type==="radio",GN=e=>qm(e)||Hi(e),vf=e=>Oc(e)&&e.isConnected;function QN(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=qt(e)?l++:e[a[l++]];return e}function YN(e){for(const a in e)if(e.hasOwnProperty(a)&&!qt(e[a]))return!1;return!0}function Wt(e,a){const s=Array.isArray(a)?a:$c(a)?[a]:Mm(a),l=s.length===1?e:QN(e,s),c=s.length-1,d=s[c];return l&&delete l[d],c!==0&&(on(l)&&zn(l)||Array.isArray(l)&&YN(l))&&Wt(e,s.slice(0,-1)),e}var PN=e=>{for(const a in e)if(La(e[a]))return!0;return!1};function Yb(e){return Array.isArray(e)||on(e)&&!PN(e)}function am(e,a={}){for(const s in e)Yb(e[s])?(a[s]=Array.isArray(e[s])?[]:{},am(e[s],a[s])):qt(e[s])||(a[s]=!0);return a}function fl(e,a,s){s||(s=am(a));for(const l in e)Yb(e[l])?qt(a)||nm(s[l])?s[l]=am(e[l],Array.isArray(e[l])?[]:{}):fl(e[l],Xn(a)?{}:a[l],s[l]):s[l]=!Ua(e[l],a[l]);return s}const sv={value:!1,isValid:!1},rv={value:!0,isValid:!0};var Pb=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qt(e[0].attributes.value)?qt(e[0].value)||e[0].value===""?rv:{value:e[0].value,isValid:!0}:rv:sv}return sv},Kb=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>qt(e)?e:a?e===""?NaN:e&&+e:s&&ua(e)?new Date(e):l?l(e):e;const lv={isValid:!1,value:null};var Xb=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,lv):lv;function iv(e){const a=e.ref;return Lm(a)?a.files:qm(a)?Xb(e.refs).value:Qb(a)?[...a.selectedOptions].map(({value:s})=>s):Hi(a)?Pb(e.refs).value:Kb(qt(a.value)?e.ref.value:a.value,e)}var KN=(e,a,s,l)=>{const c={};for(const d of e){const m=ze(a,d);m&&_t(c,d,m._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:l}},Cc=e=>e instanceof RegExp,Ei=e=>qt(e)?e:Cc(e)?e.source:on(e)?Cc(e.value)?e.value.source:e.value:e,ml=e=>({isOnSubmit:!e||e===wa.onSubmit,isOnBlur:e===wa.onBlur,isOnChange:e===wa.onChange,isOnAll:e===wa.all,isOnTouch:e===wa.onTouched});const ov="AsyncFunction";var XN=e=>!!e&&!!e.validate&&!!(La(e.validate)&&e.validate.constructor.name===ov||on(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===ov)),JN=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),sm=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const pl=(e,a,s,l)=>{for(const c of s||Object.keys(e)){const d=ze(e,c);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],c)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(pl(h,a))break}else if(on(h)&&pl(h,a))break}}};function cv(e,a,s){const l=ze(e,s);if(l||$c(s))return{error:l,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),m=ze(a,d),h=ze(e,d);if(m&&!Array.isArray(m)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var WN=(e,a,s,l)=>{s(e);const{name:c,...d}=e;return zn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||wa.all))},e1=(e,a,s)=>!e||!a||e===a||Jn(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),t1=(e,a,s,l,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?l.isOnBlur:c.isOnBlur)?!e:(s?l.isOnChange:c.isOnChange)?e:!0,n1=(e,a)=>!Hc(ze(e,a)).length&&Wt(e,a),Jb=(e,a,s)=>{const l=Jn(ze(e,s));return _t(l,"root",a[s]),_t(e,s,l),e};function uv(e,a,s="validate"){if(ua(e)||Array.isArray(e)&&e.every(ua)||Qa(e)&&!e)return{type:s,message:ua(e)?e:"",ref:a}}var cl=e=>on(e)&&!Cc(e)?e:{value:e,message:""},rm=async(e,a,s,l,c,d)=>{const{ref:m,refs:h,required:y,maxLength:p,minLength:v,min:x,max:w,pattern:L,validate:_,name:A,valueAsNumber:N,mount:k}=e._f,z=ze(s,A);if(!k||a.has(A))return{};const ee=h?h[0]:m,D=de=>{c&&ee.reportValidity&&(ee.setCustomValidity(Qa(de)?"":de||""),ee.reportValidity())},O={},Q=qm(m),U=Hi(m),te=Q||U,se=(N||Lm(m))&&qt(m.value)&&qt(z)||Oc(m)&&m.value===""||z===""||Array.isArray(z)&&!z.length,Se=Um.bind(null,A,l,O),ve=(de,be,je,ge=fs.maxLength,q=fs.minLength)=>{const ie=de?be:je;O[A]={type:de?ge:q,message:ie,ref:m,...Se(de?ge:q,ie)}};if(d?!Array.isArray(z)||!z.length:y&&(!te&&(se||Xn(z))||Qa(z)&&!z||U&&!Pb(h).isValid||Q&&!Xb(h).isValid)){const{value:de,message:be}=ua(y)?{value:!!y,message:y}:cl(y);if(de&&(O[A]={type:fs.required,message:be,ref:ee,...Se(fs.required,be)},!l))return D(be),O}if(!se&&(!Xn(x)||!Xn(w))){let de,be;const je=cl(w),ge=cl(x);if(!Xn(z)&&!isNaN(z)){const q=m.valueAsNumber||z&&+z;Xn(je.value)||(de=q>je.value),Xn(ge.value)||(be=q<ge.value)}else{const q=m.valueAsDate||new Date(z),ie=Oe=>new Date(new Date().toDateString()+" "+Oe),re=m.type=="time",Ce=m.type=="week";ua(je.value)&&z&&(de=re?ie(z)>ie(je.value):Ce?z>je.value:q>new Date(je.value)),ua(ge.value)&&z&&(be=re?ie(z)<ie(ge.value):Ce?z<ge.value:q<new Date(ge.value))}if((de||be)&&(ve(!!de,je.message,ge.message,fs.max,fs.min),!l))return D(O[A].message),O}if((p||v)&&!se&&(ua(z)||d&&Array.isArray(z))){const de=cl(p),be=cl(v),je=!Xn(de.value)&&z.length>+de.value,ge=!Xn(be.value)&&z.length<+be.value;if((je||ge)&&(ve(je,de.message,be.message),!l))return D(O[A].message),O}if(L&&!se&&ua(z)){const{value:de,message:be}=cl(L);if(Cc(de)&&!z.match(de)&&(O[A]={type:fs.pattern,message:be,ref:m,...Se(fs.pattern,be)},!l))return D(be),O}if(_){if(La(_)){const de=await _(z,s),be=uv(de,ee);if(be&&(O[A]={...be,...Se(fs.validate,be.message)},!l))return D(be.message),O}else if(on(_)){let de={};for(const be in _){if(!zn(de)&&!l)break;const je=uv(await _[be](z,s),ee,be);je&&(de={...je,...Se(be,je.message)},D(je.message),l&&(O[A]=de))}if(!zn(de)&&(O[A]={ref:ee,...de},!l))return O}}return D(!0),O};const a1={mode:wa.onSubmit,reValidateMode:wa.onChange,shouldFocusError:!0};function s1(e={}){let a={...a1,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:La(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},c=on(a.defaultValues)||on(a.values)?Ft(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:Ft(c),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const w={array:av(),state:av()},L=a.criteriaMode===wa.all,_=C=>$=>{clearTimeout(p),p=setTimeout(C,$)},A=async C=>{if(!a.disabled&&(v.isValid||x.isValid||C)){const $=a.resolver?zn((await U()).errors):await se(l,!0);$!==s.isValid&&w.state.next({isValid:$})}},N=(C,$)=>{!a.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((C||Array.from(h.mount)).forEach(R=>{R&&($?_t(s.validatingFields,R,$):Wt(s.validatingFields,R))}),w.state.next({validatingFields:s.validatingFields,isValidating:!zn(s.validatingFields)}))},k=(C,$=[],R,F,H=!0,ae=!0)=>{if(F&&R&&!a.disabled){if(m.action=!0,ae&&Array.isArray(ze(l,C))){const Ne=R(ze(l,C),F.argA,F.argB);H&&_t(l,C,Ne)}if(ae&&Array.isArray(ze(s.errors,C))){const Ne=R(ze(s.errors,C),F.argA,F.argB);H&&_t(s.errors,C,Ne),n1(s.errors,C)}if((v.touchedFields||x.touchedFields)&&ae&&Array.isArray(ze(s.touchedFields,C))){const Ne=R(ze(s.touchedFields,C),F.argA,F.argB);H&&_t(s.touchedFields,C,Ne)}(v.dirtyFields||x.dirtyFields)&&(s.dirtyFields=fl(c,d)),w.state.next({name:C,isDirty:ve(C,$),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else _t(d,C,$)},z=(C,$)=>{_t(s.errors,C,$),w.state.next({errors:s.errors})},ee=C=>{s.errors=C,w.state.next({errors:s.errors,isValid:!1})},D=(C,$,R,F)=>{const H=ze(l,C);if(H){const ae=ze(d,C,qt(R)?ze(c,C):R);qt(ae)||F&&F.defaultChecked||$?_t(d,C,$?ae:iv(H._f)):je(C,ae),m.mount&&A()}},O=(C,$,R,F,H)=>{let ae=!1,Ne=!1;const De={name:C};if(!a.disabled){if(!R||F){(v.isDirty||x.isDirty)&&(Ne=s.isDirty,s.isDirty=De.isDirty=ve(),ae=Ne!==De.isDirty);const J=Ua(ze(c,C),$);Ne=!!ze(s.dirtyFields,C),J?Wt(s.dirtyFields,C):_t(s.dirtyFields,C,!0),De.dirtyFields=s.dirtyFields,ae=ae||(v.dirtyFields||x.dirtyFields)&&Ne!==!J}if(R){const J=ze(s.touchedFields,C);J||(_t(s.touchedFields,C,R),De.touchedFields=s.touchedFields,ae=ae||(v.touchedFields||x.touchedFields)&&J!==R)}ae&&H&&w.state.next(De)}return ae?De:{}},Q=(C,$,R,F)=>{const H=ze(s.errors,C),ae=(v.isValid||x.isValid)&&Qa($)&&s.isValid!==$;if(a.delayError&&R?(y=_(()=>z(C,R)),y(a.delayError)):(clearTimeout(p),y=null,R?_t(s.errors,C,R):Wt(s.errors,C)),(R?!Ua(H,R):H)||!zn(F)||ae){const Ne={...F,...ae&&Qa($)?{isValid:$}:{},errors:s.errors,name:C};s={...s,...Ne},w.state.next(Ne)}},U=async C=>{N(C,!0);const $=await a.resolver(d,a.context,KN(C||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return N(C),$},te=async C=>{const{errors:$}=await U(C);if(C)for(const R of C){const F=ze($,R);F?_t(s.errors,R,F):Wt(s.errors,R)}else s.errors=$;return $},se=async(C,$,R={valid:!0})=>{for(const F in C){const H=C[F];if(H){const{_f:ae,...Ne}=H;if(ae){const De=h.array.has(ae.name),J=H._f&&XN(H._f);J&&v.validatingFields&&N([ae.name],!0);const Re=await rm(H,h.disabled,d,L,a.shouldUseNativeValidation&&!$,De);if(J&&v.validatingFields&&N([ae.name]),Re[ae.name]&&(R.valid=!1,$))break;!$&&(ze(Re,ae.name)?De?Jb(s.errors,Re,ae.name):_t(s.errors,ae.name,Re[ae.name]):Wt(s.errors,ae.name))}!zn(Ne)&&await se(Ne,$,R)}}return R.valid},Se=()=>{for(const C of h.unMount){const $=ze(l,C);$&&($._f.refs?$._f.refs.every(R=>!vf(R)):!vf($._f.ref))&&Te(C)}h.unMount=new Set},ve=(C,$)=>!a.disabled&&(C&&$&&_t(d,C,$),!Ua(Oe(),c)),de=(C,$,R)=>tm(C,h,{...m.mount?d:qt($)?c:ua(C)?{[C]:$}:$},R,$),be=C=>Hc(ze(m.mount?d:c,C,a.shouldUnregister?ze(c,C,[]):[])),je=(C,$,R={})=>{const F=ze(l,C);let H=$;if(F){const ae=F._f;ae&&(!ae.disabled&&_t(d,C,Kb($,ae)),H=Oc(ae.ref)&&Xn($)?"":$,Qb(ae.ref)?[...ae.ref.options].forEach(Ne=>Ne.selected=H.includes(Ne.value)):ae.refs?Hi(ae.ref)?ae.refs.forEach(Ne=>{(!Ne.defaultChecked||!Ne.disabled)&&(Array.isArray(H)?Ne.checked=!!H.find(De=>De===Ne.value):Ne.checked=H===Ne.value||!!H)}):ae.refs.forEach(Ne=>Ne.checked=Ne.value===H):Lm(ae.ref)?ae.ref.value="":(ae.ref.value=H,ae.ref.type||w.state.next({name:C,values:Ft(d)})))}(R.shouldDirty||R.shouldTouch)&&O(C,H,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&Ce(C)},ge=(C,$,R)=>{for(const F in $){if(!$.hasOwnProperty(F))return;const H=$[F],ae=C+"."+F,Ne=ze(l,ae);(h.array.has(C)||on(H)||Ne&&!Ne._f)&&!yr(H)?ge(ae,H,R):je(ae,H,R)}},q=(C,$,R={})=>{const F=ze(l,C),H=h.array.has(C),ae=Ft($);_t(d,C,ae),H?(w.array.next({name:C,values:Ft(d)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&R.shouldDirty&&w.state.next({name:C,dirtyFields:fl(c,d),isDirty:ve(C,ae)})):F&&!F._f&&!Xn(ae)?ge(C,ae,R):je(C,ae,R),sm(C,h)&&w.state.next({...s,name:C}),w.state.next({name:m.mount?C:void 0,values:Ft(d)})},ie=async C=>{m.mount=!0;const $=C.target;let R=$.name,F=!0;const H=ze(l,R),ae=J=>{F=Number.isNaN(J)||yr(J)&&isNaN(J.getTime())||Ua(J,ze(d,R,J))},Ne=ml(a.mode),De=ml(a.reValidateMode);if(H){let J,Re;const Ie=$.type?iv(H._f):FN(C),ft=C.type===nv.BLUR||C.type===nv.FOCUS_OUT,Sn=!JN(H._f)&&!a.resolver&&!ze(s.errors,R)&&!H._f.deps||t1(ft,ze(s.touchedFields,R),s.isSubmitted,De,Ne),pe=sm(R,h,ft);_t(d,R,Ie),ft?(!$||!$.readOnly)&&(H._f.onBlur&&H._f.onBlur(C),y&&y(0)):H._f.onChange&&H._f.onChange(C);const Ke=O(R,Ie,ft),Zt=!zn(Ke)||pe;if(!ft&&w.state.next({name:R,type:C.type,values:Ft(d)}),Sn)return(v.isValid||x.isValid)&&(a.mode==="onBlur"?ft&&A():ft||A()),Zt&&w.state.next({name:R,...pe?{}:Ke});if(!ft&&pe&&w.state.next({...s}),a.resolver){const{errors:xt}=await U([R]);if(ae(Ie),F){const wn=cv(s.errors,l,R),kn=cv(xt,l,wn.name||R);J=kn.error,R=kn.name,Re=zn(xt)}}else N([R],!0),J=(await rm(H,h.disabled,d,L,a.shouldUseNativeValidation))[R],N([R]),ae(Ie),F&&(J?Re=!1:(v.isValid||x.isValid)&&(Re=await se(l,!0)));F&&(H._f.deps&&(!Array.isArray(H._f.deps)||H._f.deps.length>0)&&Ce(H._f.deps),Q(R,Re,J,Ke))}},re=(C,$)=>{if(ze(s.errors,$)&&C.focus)return C.focus(),1},Ce=async(C,$={})=>{let R,F;const H=Jn(C);if(a.resolver){const ae=await te(qt(C)?C:H);R=zn(ae),F=C?!H.some(Ne=>ze(ae,Ne)):R}else C?(F=(await Promise.all(H.map(async ae=>{const Ne=ze(l,ae);return await se(Ne&&Ne._f?{[ae]:Ne}:Ne)}))).every(Boolean),!(!F&&!s.isValid)&&A()):F=R=await se(l);return w.state.next({...!ua(C)||(v.isValid||x.isValid)&&R!==s.isValid?{}:{name:C},...a.resolver||!C?{isValid:R}:{},errors:s.errors}),$.shouldFocus&&!F&&pl(l,re,C?H:h.mount),F},Oe=(C,$)=>{let R={...m.mount?d:c};return $&&(R=Gb($.dirtyFields?s.dirtyFields:s.touchedFields,R)),qt(C)?R:ua(C)?ze(R,C):C.map(F=>ze(R,F))},j=(C,$)=>({invalid:!!ze(($||s).errors,C),isDirty:!!ze(($||s).dirtyFields,C),error:ze(($||s).errors,C),isValidating:!!ze(s.validatingFields,C),isTouched:!!ze(($||s).touchedFields,C)}),Y=C=>{C&&Jn(C).forEach($=>Wt(s.errors,$)),w.state.next({errors:C?s.errors:{}})},oe=(C,$,R)=>{const F=(ze(l,C,{_f:{}})._f||{}).ref,H=ze(s.errors,C)||{},{ref:ae,message:Ne,type:De,...J}=H;_t(s.errors,C,{...J,...$,ref:F}),w.state.next({name:C,errors:s.errors,isValid:!1}),R&&R.shouldFocus&&F&&F.focus&&F.focus()},X=(C,$)=>La(C)?w.state.subscribe({next:R=>"values"in R&&C(de(void 0,$),R)}):de(C,$,!0),we=C=>w.state.subscribe({next:$=>{e1(C.name,$.name,C.exact)&&WN($,C.formState||v,Ye,C.reRenderRoot)&&C.callback({values:{...d},...s,...$,defaultValues:c})}}).unsubscribe,Ae=C=>(m.mount=!0,x={...x,...C.formState},we({...C,formState:x})),Te=(C,$={})=>{for(const R of C?Jn(C):h.mount)h.mount.delete(R),h.array.delete(R),$.keepValue||(Wt(l,R),Wt(d,R)),!$.keepError&&Wt(s.errors,R),!$.keepDirty&&Wt(s.dirtyFields,R),!$.keepTouched&&Wt(s.touchedFields,R),!$.keepIsValidating&&Wt(s.validatingFields,R),!a.shouldUnregister&&!$.keepDefaultValue&&Wt(c,R);w.state.next({values:Ft(d)}),w.state.next({...s,...$.keepDirty?{isDirty:ve()}:{}}),!$.keepIsValid&&A()},Be=({disabled:C,name:$})=>{(Qa(C)&&m.mount||C||h.disabled.has($))&&(C?h.disabled.add($):h.disabled.delete($))},he=(C,$={})=>{let R=ze(l,C);const F=Qa($.disabled)||Qa(a.disabled);return _t(l,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...$}}),h.mount.add(C),R?Be({disabled:Qa($.disabled)?$.disabled:a.disabled,name:C}):D(C,!0,$.value),{...F?{disabled:$.disabled||a.disabled}:{},...a.progressive?{required:!!$.required,min:Ei($.min),max:Ei($.max),minLength:Ei($.minLength),maxLength:Ei($.maxLength),pattern:Ei($.pattern)}:{},name:C,onChange:ie,onBlur:ie,ref:H=>{if(H){he(C,$),R=ze(l,C);const ae=qt(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,Ne=GN(ae),De=R._f.refs||[];if(Ne?De.find(J=>J===ae):ae===R._f.ref)return;_t(l,C,{_f:{...R._f,...Ne?{refs:[...De.filter(vf),ae,...Array.isArray(ze(c,C))?[{}]:[]],ref:{type:ae.type,name:C}}:{ref:ae}}}),D(C,!1,void 0,ae)}else R=ze(l,C,{}),R._f&&(R._f.mount=!1),(a.shouldUnregister||$.shouldUnregister)&&!(HN(h.array,C)&&m.action)&&h.unMount.add(C)}}},Ue=()=>a.shouldFocusError&&pl(l,re,h.mount),Ge=C=>{Qa(C)&&(w.state.next({disabled:C}),pl(l,($,R)=>{const F=ze(l,R);F&&($.disabled=F._f.disabled||C,Array.isArray(F._f.refs)&&F._f.refs.forEach(H=>{H.disabled=F._f.disabled||C}))},0,!1))},_e=(C,$)=>async R=>{let F;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let H=Ft(d);if(w.state.next({isSubmitting:!0}),a.resolver){const{errors:ae,values:Ne}=await U();s.errors=ae,H=Ft(Ne)}else await se(l);if(h.disabled.size)for(const ae of h.disabled)Wt(H,ae);if(Wt(s.errors,"root"),zn(s.errors)){w.state.next({errors:{}});try{await C(H,R)}catch(ae){F=ae}}else $&&await $({...s.errors},R),Ue(),setTimeout(Ue);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zn(s.errors)&&!F,submitCount:s.submitCount+1,errors:s.errors}),F)throw F},Qe=(C,$={})=>{ze(l,C)&&(qt($.defaultValue)?q(C,Ft(ze(c,C))):(q(C,$.defaultValue),_t(c,C,Ft($.defaultValue))),$.keepTouched||Wt(s.touchedFields,C),$.keepDirty||(Wt(s.dirtyFields,C),s.isDirty=$.defaultValue?ve(C,Ft(ze(c,C))):ve()),$.keepError||(Wt(s.errors,C),v.isValid&&A()),w.state.next({...s}))},Le=(C,$={})=>{const R=C?Ft(C):c,F=Ft(R),H=zn(C),ae=H?c:F;if($.keepDefaultValues||(c=R),!$.keepValues){if($.keepDirtyValues){const Ne=new Set([...h.mount,...Object.keys(fl(c,d))]);for(const De of Array.from(Ne))ze(s.dirtyFields,De)?_t(ae,De,ze(d,De)):q(De,ze(ae,De))}else{if(zm&&qt(C))for(const Ne of h.mount){const De=ze(l,Ne);if(De&&De._f){const J=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(Oc(J)){const Re=J.closest("form");if(Re){Re.reset();break}}}}if($.keepFieldsRef)for(const Ne of h.mount)q(Ne,ze(ae,Ne));else l={}}d=a.shouldUnregister?$.keepDefaultValues?Ft(c):{}:Ft(ae),w.array.next({values:{...ae}}),w.state.next({values:{...ae}})}h={mount:$.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!$.keepIsValid||!!$.keepDirtyValues||!a.shouldUnregister&&!zn(ae),m.watch=!!a.shouldUnregister,w.state.next({submitCount:$.keepSubmitCount?s.submitCount:0,isDirty:H?!1:$.keepDirty?s.isDirty:!!($.keepDefaultValues&&!Ua(C,c)),isSubmitted:$.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:H?{}:$.keepDirtyValues?$.keepDefaultValues&&d?fl(c,d):s.dirtyFields:$.keepDefaultValues&&C?fl(c,C):$.keepDirty?s.dirtyFields:{},touchedFields:$.keepTouched?s.touchedFields:{},errors:$.keepErrors?s.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Pe=(C,$)=>Le(La(C)?C(d):C,$),Ee=(C,$={})=>{const R=ze(l,C),F=R&&R._f;if(F){const H=F.refs?F.refs[0]:F.ref;H.focus&&(H.focus(),$.shouldSelect&&La(H.select)&&H.select())}},Ye=C=>{s={...s,...C}},Nt={control:{register:he,unregister:Te,getFieldState:j,handleSubmit:_e,setError:oe,_subscribe:we,_runSchema:U,_focusError:Ue,_getWatch:de,_getDirty:ve,_setValid:A,_setFieldArray:k,_setDisabledField:Be,_setErrors:ee,_getFieldArray:be,_reset:Le,_resetDefaultValues:()=>La(a.defaultValues)&&a.defaultValues().then(C=>{Pe(C,a.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:Se,_disableForm:Ge,_subjects:w,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(C){m=C},get _defaultValues(){return c},get _names(){return h},set _names(C){h=C},get _formState(){return s},get _options(){return a},set _options(C){a={...a,...C}}},subscribe:Ae,trigger:Ce,register:he,handleSubmit:_e,watch:X,setValue:q,getValues:Oe,reset:Pe,resetField:Qe,clearErrors:Y,unregister:Te,setError:oe,setFocus:Ee,getFieldState:j};return{...Nt,formControl:Nt}}var $s=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},bf=(e,a,s={})=>s.shouldFocus||qt(s.shouldFocus)?s.focusName||`${e}.${qt(s.focusIndex)?a:s.focusIndex}.`:"",xf=(e,a)=>[...e,...Jn(a)],Sf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function wf(e,a,s){return[...e.slice(0,a),...Jn(s),...e.slice(a)]}var _f=(e,a,s)=>Array.isArray(e)?(qt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],Nf=(e,a)=>[...Jn(a),...Jn(e)];function r1(e,a){let s=0;const l=[...e];for(const c of a)l.splice(c-s,1),s++;return Hc(l).length?l:[]}var jf=(e,a)=>qt(a)?[]:r1(e,Jn(a).sort((s,l)=>s-l)),Ef=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},dv=(e,a,s)=>(e[a]=s,e);function l1(e){const a=Zb(),{control:s=a.control,name:l,keyName:c="id",shouldUnregister:d,rules:m}=e,[h,y]=st.useState(s._getFieldArray(l)),p=st.useRef(s._getFieldArray(l).map($s)),v=st.useRef(!1);s._names.array.add(l),st.useMemo(()=>m&&h.length>=0&&s.register(l,m),[s,l,h.length,m]),km(()=>s._subjects.array.subscribe({next:({values:D,name:O})=>{if(O===l||!O){const Q=ze(D,l);Array.isArray(Q)&&(y(Q),p.current=Q.map($s))}}}).unsubscribe,[s,l]);const x=st.useCallback(D=>{v.current=!0,s._setFieldArray(l,D)},[s,l]),w=(D,O)=>{const Q=Jn(Ft(D)),U=xf(s._getFieldArray(l),Q);s._names.focus=bf(l,U.length-1,O),p.current=xf(p.current,Q.map($s)),x(U),y(U),s._setFieldArray(l,U,xf,{argA:Sf(D)})},L=(D,O)=>{const Q=Jn(Ft(D)),U=Nf(s._getFieldArray(l),Q);s._names.focus=bf(l,0,O),p.current=Nf(p.current,Q.map($s)),x(U),y(U),s._setFieldArray(l,U,Nf,{argA:Sf(D)})},_=D=>{const O=jf(s._getFieldArray(l),D);p.current=jf(p.current,D),x(O),y(O),!Array.isArray(ze(s._fields,l))&&_t(s._fields,l,void 0),s._setFieldArray(l,O,jf,{argA:D})},A=(D,O,Q)=>{const U=Jn(Ft(O)),te=wf(s._getFieldArray(l),D,U);s._names.focus=bf(l,D,Q),p.current=wf(p.current,D,U.map($s)),x(te),y(te),s._setFieldArray(l,te,wf,{argA:D,argB:Sf(O)})},N=(D,O)=>{const Q=s._getFieldArray(l);Ef(Q,D,O),Ef(p.current,D,O),x(Q),y(Q),s._setFieldArray(l,Q,Ef,{argA:D,argB:O},!1)},k=(D,O)=>{const Q=s._getFieldArray(l);_f(Q,D,O),_f(p.current,D,O),x(Q),y(Q),s._setFieldArray(l,Q,_f,{argA:D,argB:O},!1)},z=(D,O)=>{const Q=Ft(O),U=dv(s._getFieldArray(l),D,Q);p.current=[...U].map((te,se)=>!te||se===D?$s():p.current[se]),x(U),y([...U]),s._setFieldArray(l,U,dv,{argA:D,argB:Q},!0,!1)},ee=D=>{const O=Jn(Ft(D));p.current=O.map($s),x([...O]),y([...O]),s._setFieldArray(l,[...O],Q=>Q,{},!0,!1)};return st.useEffect(()=>{if(s._state.action=!1,sm(l,s._names)&&s._subjects.state.next({...s._formState}),v.current&&(!ml(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!ml(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(D=>{const O=ze(D.errors,l),Q=ze(s._formState.errors,l);(Q?!O&&Q.type||O&&(Q.type!==O.type||Q.message!==O.message):O&&O.type)&&(O?_t(s._formState.errors,l,O):Wt(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const D=ze(s._fields,l);D&&D._f&&!(ml(s._options.reValidateMode).isOnSubmit&&ml(s._options.mode).isOnSubmit)&&rm(D,s._names.disabled,s._formValues,s._options.criteriaMode===wa.all,s._options.shouldUseNativeValidation,!0).then(O=>!zn(O)&&s._subjects.state.next({errors:Jb(s._formState.errors,O,l)}))}s._subjects.state.next({name:l,values:Ft(s._formValues)}),s._names.focus&&pl(s._fields,(D,O)=>{if(s._names.focus&&O.startsWith(s._names.focus)&&D.focus)return D.focus(),1}),s._names.focus="",s._setValid(),v.current=!1},[h,l,s]),st.useEffect(()=>(!ze(s._formValues,l)&&s._setFieldArray(l),()=>{const D=(O,Q)=>{const U=ze(s._fields,O);U&&U._f&&(U._f.mount=Q)};s._options.shouldUnregister||d?s.unregister(l):D(l,!1)}),[l,s,c,d]),{swap:st.useCallback(N,[x,l,s]),move:st.useCallback(k,[x,l,s]),prepend:st.useCallback(L,[x,l,s]),append:st.useCallback(w,[x,l,s]),remove:st.useCallback(_,[x,l,s]),insert:st.useCallback(A,[x,l,s]),update:st.useCallback(z,[x,l,s]),replace:st.useCallback(ee,[x,l,s]),fields:st.useMemo(()=>h.map((D,O)=>({...D,[c]:p.current[O]||$s()})),[h,c])}}function Vc(e={}){const a=st.useRef(void 0),s=st.useRef(void 0),[l,c]=st.useState({isDirty:!1,isValidating:!1,isLoading:La(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:La(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!La(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=s1(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,km(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),st.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),st.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),st.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),st.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),st.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),st.useEffect(()=>{e.values&&!Ua(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),st.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=ZN(l,d),a.current}function Wb(e,a){return function(){return e.apply(a,arguments)}}const{toString:i1}=Object.prototype,{getPrototypeOf:Bm}=Object,{iterator:Zc,toStringTag:e0}=Symbol,Gc=(e=>a=>{const s=i1.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ba=e=>(e=e.toLowerCase(),a=>Gc(a)===e),Qc=e=>a=>typeof a===e,{isArray:jl}=Array,vl=Qc("undefined");function Vi(e){return e!==null&&!vl(e)&&e.constructor!==null&&!vl(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const t0=Ba("ArrayBuffer");function o1(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&t0(e.buffer),a}const c1=Qc("string"),Wn=Qc("function"),n0=Qc("number"),Zi=e=>e!==null&&typeof e=="object",u1=e=>e===!0||e===!1,Sc=e=>{if(Gc(e)!=="object")return!1;const a=Bm(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(e0 in e)&&!(Zc in e)},d1=e=>{if(!Zi(e)||Vi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},f1=Ba("Date"),m1=Ba("File"),h1=Ba("Blob"),p1=Ba("FileList"),g1=e=>Zi(e)&&Wn(e.pipe),y1=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((a=Gc(e))==="formdata"||a==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},v1=Ba("URLSearchParams"),[b1,x1,S1,w1]=["ReadableStream","Request","Response","Headers"].map(Ba),_1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gi(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),jl(e))for(l=0,c=e.length;l<c;l++)a.call(null,e[l],l,e);else{if(Vi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function a0(e,a){if(Vi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],a===c.toLowerCase())return c;return null}const vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,s0=e=>!vl(e)&&e!==vr;function lm(){const{caseless:e,skipUndefined:a}=s0(this)&&this||{},s={},l=(c,d)=>{const m=e&&a0(s,d)||d;Sc(s[m])&&Sc(c)?s[m]=lm(s[m],c):Sc(c)?s[m]=lm({},c):jl(c)?s[m]=c.slice():(!a||!vl(c))&&(s[m]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Gi(arguments[c],l);return s}const N1=(e,a,s,{allOwnKeys:l}={})=>(Gi(a,(c,d)=>{s&&Wn(c)?e[d]=Wb(c,s):e[d]=c},{allOwnKeys:l}),e),j1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),E1=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},A1=(e,a,s,l)=>{let c,d,m;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=s!==!1&&Bm(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},O1=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},C1=e=>{if(!e)return null;if(jl(e))return e;let a=e.length;if(!n0(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},R1=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Bm(Uint8Array)),T1=(e,a)=>{const l=(e&&e[Zc]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},D1=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},z1=Ba("HTMLFormElement"),M1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),fv=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),k1=Ba("RegExp"),r0=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Gi(s,(c,d)=>{let m;(m=a(c,d,e))!==!1&&(l[d]=m||c)}),Object.defineProperties(e,l)},U1=e=>{r0(e,(a,s)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(Wn(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},L1=(e,a)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return jl(e)?l(e):l(String(e).split(a)),s},q1=()=>{},B1=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function I1(e){return!!(e&&Wn(e.append)&&e[e0]==="FormData"&&e[Zc])}const F1=e=>{const a=new Array(10),s=(l,c)=>{if(Zi(l)){if(a.indexOf(l)>=0)return;if(Vi(l))return l;if(!("toJSON"in l)){a[c]=l;const d=jl(l)?[]:{};return Gi(l,(m,h)=>{const y=s(m,c+1);!vl(y)&&(d[h]=y)}),a[c]=void 0,d}}return l};return s(e,0)},$1=Ba("AsyncFunction"),H1=e=>e&&(Zi(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),l0=((e,a)=>e?setImmediate:a?((s,l)=>(vr.addEventListener("message",({source:c,data:d})=>{c===vr&&d===s&&l.length&&l.shift()()},!1),c=>{l.push(c),vr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Wn(vr.postMessage)),V1=typeof queueMicrotask<"u"?queueMicrotask.bind(vr):typeof process<"u"&&process.nextTick||l0,Z1=e=>e!=null&&Wn(e[Zc]),W={isArray:jl,isArrayBuffer:t0,isBuffer:Vi,isFormData:y1,isArrayBufferView:o1,isString:c1,isNumber:n0,isBoolean:u1,isObject:Zi,isPlainObject:Sc,isEmptyObject:d1,isReadableStream:b1,isRequest:x1,isResponse:S1,isHeaders:w1,isUndefined:vl,isDate:f1,isFile:m1,isBlob:h1,isRegExp:k1,isFunction:Wn,isStream:g1,isURLSearchParams:v1,isTypedArray:R1,isFileList:p1,forEach:Gi,merge:lm,extend:N1,trim:_1,stripBOM:j1,inherits:E1,toFlatObject:A1,kindOf:Gc,kindOfTest:Ba,endsWith:O1,toArray:C1,forEachEntry:T1,matchAll:D1,isHTMLForm:z1,hasOwnProperty:fv,hasOwnProp:fv,reduceDescriptors:r0,freezeMethods:U1,toObjectSet:L1,toCamelCase:M1,noop:q1,toFiniteNumber:B1,findKey:a0,global:vr,isContextDefined:s0,isSpecCompliantForm:I1,toJSONObject:F1,isAsyncFn:$1,isThenable:H1,setImmediate:l0,asap:V1,isIterable:Z1};function tt(e,a,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}W.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const i0=tt.prototype,o0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{o0[e]={value:e}});Object.defineProperties(tt,o0);Object.defineProperty(i0,"isAxiosError",{value:!0});tt.from=(e,a,s,l,c,d)=>{const m=Object.create(i0);W.toFlatObject(e,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",y=a==null&&e?e.code:a;return tt.call(m,h,y,s,l,c),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const G1=null;function im(e){return W.isPlainObject(e)||W.isArray(e)}function c0(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function mv(e,a,s){return e?e.concat(a).map(function(c,d){return c=c0(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function Q1(e){return W.isArray(e)&&!e.some(im)}const Y1=W.toFlatObject(W,{},null,function(a){return/^is[A-Z]/.test(a)});function Yc(e,a,s){if(!W.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=W.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,N){return!W.isUndefined(N[A])});const l=s.metaTokens,c=s.visitor||v,d=s.dots,m=s.indexes,y=(s.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(a);if(!W.isFunction(c))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(W.isDate(_))return _.toISOString();if(W.isBoolean(_))return _.toString();if(!y&&W.isBlob(_))throw new tt("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(_)||W.isTypedArray(_)?y&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,A,N){let k=_;if(_&&!N&&typeof _=="object"){if(W.endsWith(A,"{}"))A=l?A:A.slice(0,-2),_=JSON.stringify(_);else if(W.isArray(_)&&Q1(_)||(W.isFileList(_)||W.endsWith(A,"[]"))&&(k=W.toArray(_)))return A=c0(A),k.forEach(function(ee,D){!(W.isUndefined(ee)||ee===null)&&a.append(m===!0?mv([A],D,d):m===null?A:A+"[]",p(ee))}),!1}return im(_)?!0:(a.append(mv(N,A,d),p(_)),!1)}const x=[],w=Object.assign(Y1,{defaultVisitor:v,convertValue:p,isVisitable:im});function L(_,A){if(!W.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+A.join("."));x.push(_),W.forEach(_,function(k,z){(!(W.isUndefined(k)||k===null)&&c.call(a,k,W.isString(z)?z.trim():z,A,w))===!0&&L(k,A?A.concat(z):[z])}),x.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return L(e),a}function hv(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Im(e,a){this._pairs=[],e&&Yc(e,this,a)}const u0=Im.prototype;u0.append=function(a,s){this._pairs.push([a,s])};u0.toString=function(a){const s=a?function(l){return a.call(this,l,hv)}:hv;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function P1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function d0(e,a,s){if(!a)return e;const l=s&&s.encode||P1;W.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=W.isURLSearchParams(a)?a.toString():new Im(a,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class pv{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){W.forEach(this.handlers,function(l){l!==null&&a(l)})}}const f0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K1=typeof URLSearchParams<"u"?URLSearchParams:Im,X1=typeof FormData<"u"?FormData:null,J1=typeof Blob<"u"?Blob:null,W1={isBrowser:!0,classes:{URLSearchParams:K1,FormData:X1,Blob:J1},protocols:["http","https","file","blob","url","data"]},Fm=typeof window<"u"&&typeof document<"u",om=typeof navigator=="object"&&navigator||void 0,ej=Fm&&(!om||["ReactNative","NativeScript","NS"].indexOf(om.product)<0),tj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nj=Fm&&window.location.href||"http://localhost",aj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fm,hasStandardBrowserEnv:ej,hasStandardBrowserWebWorkerEnv:tj,navigator:om,origin:nj},Symbol.toStringTag,{value:"Module"})),Mn={...aj,...W1};function sj(e,a){return Yc(e,new Mn.classes.URLSearchParams,{visitor:function(s,l,c,d){return Mn.isNode&&W.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function rj(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function lj(e){const a={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],a[d]=e[d];return a}function m0(e){function a(s,l,c,d){let m=s[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),y=d>=s.length;return m=!m&&W.isArray(c)?c.length:m,y?(W.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!h):((!c[m]||!W.isObject(c[m]))&&(c[m]=[]),a(s,l,c[m],d)&&W.isArray(c[m])&&(c[m]=lj(c[m])),!h)}if(W.isFormData(e)&&W.isFunction(e.entries)){const s={};return W.forEachEntry(e,(l,c)=>{a(rj(l),c,s,0)}),s}return null}function ij(e,a,s){if(W.isString(e))try{return(a||JSON.parse)(e),W.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Qi={transitional:f0,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=W.isObject(a);if(d&&W.isHTMLForm(a)&&(a=new FormData(a)),W.isFormData(a))return c?JSON.stringify(m0(a)):a;if(W.isArrayBuffer(a)||W.isBuffer(a)||W.isStream(a)||W.isFile(a)||W.isBlob(a)||W.isReadableStream(a))return a;if(W.isArrayBufferView(a))return a.buffer;if(W.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return sj(a,this.formSerializer).toString();if((h=W.isFileList(a))||l.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Yc(h?{"files[]":a}:a,y&&new y,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),ij(a)):a}],transformResponse:[function(a){const s=this.transitional||Qi.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(W.isResponse(a)||W.isReadableStream(a))return a;if(a&&W.isString(a)&&(l&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?tt.from(h,tt.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Qi.headers[e]={}});const oj=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cj=e=>{const a={};let s,l,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!s||a[s]&&oj[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},gv=Symbol("internals");function Ai(e){return e&&String(e).trim().toLowerCase()}function wc(e){return e===!1||e==null?e:W.isArray(e)?e.map(wc):String(e)}function uj(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const dj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Af(e,a,s,l,c){if(W.isFunction(l))return l.call(this,a,s);if(c&&(a=s),!!W.isString(a)){if(W.isString(l))return a.indexOf(l)!==-1;if(W.isRegExp(l))return l.test(a)}}function fj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function mj(e,a){const s=W.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,m){return this[l].call(this,a,c,d,m)},configurable:!0})})}let ea=class{constructor(a){a&&this.set(a)}set(a,s,l){const c=this;function d(h,y,p){const v=Ai(y);if(!v)throw new Error("header name must be a non-empty string");const x=W.findKey(c,v);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||y]=wc(h))}const m=(h,y)=>W.forEach(h,(p,v)=>d(p,v,y));if(W.isPlainObject(a)||a instanceof this.constructor)m(a,s);else if(W.isString(a)&&(a=a.trim())&&!dj(a))m(cj(a),s);else if(W.isObject(a)&&W.isIterable(a)){let h={},y,p;for(const v of a){if(!W.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(y=h[p])?W.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}m(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ai(a),a){const l=W.findKey(this,a);if(l){const c=this[l];if(!s)return c;if(s===!0)return uj(c);if(W.isFunction(s))return s.call(this,c,l);if(W.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ai(a),a){const l=W.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||Af(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let c=!1;function d(m){if(m=Ai(m),m){const h=W.findKey(l,m);h&&(!s||Af(l,l[h],h,s))&&(delete l[h],c=!0)}}return W.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let l=s.length,c=!1;for(;l--;){const d=s[l];(!a||Af(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,l={};return W.forEach(this,(c,d)=>{const m=W.findKey(l,d);if(m){s[m]=wc(c),delete s[d];return}const h=a?fj(d):String(d).trim();h!==d&&delete s[d],s[h]=wc(c),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return W.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=a&&W.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(c=>l.set(c)),l}static accessor(a){const l=(this[gv]=this[gv]={accessors:{}}).accessors,c=this.prototype;function d(m){const h=Ai(m);l[h]||(mj(c,m),l[h]=!0)}return W.isArray(a)?a.forEach(d):d(a),this}};ea.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(ea.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});W.freezeMethods(ea);function Of(e,a){const s=this||Qi,l=a||s,c=ea.from(l.headers);let d=l.data;return W.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function h0(e){return!!(e&&e.__CANCEL__)}function El(e,a,s){tt.call(this,e??"canceled",tt.ERR_CANCELED,a,s),this.name="CanceledError"}W.inherits(El,tt,{__CANCEL__:!0});function p0(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new tt("Request failed with status code "+s.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function hj(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function pj(e,a){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,m;return a=a!==void 0?a:1e3,function(y){const p=Date.now(),v=l[d];m||(m=p),s[c]=y,l[c]=p;let x=d,w=0;for(;x!==c;)w+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-m<a)return;const L=v&&p-v;return L?Math.round(w*1e3/L):void 0}}function gj(e,a){let s=0,l=1e3/a,c,d;const m=(p,v=Date.now())=>{s=v,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),x=v-s;x>=l?m(p,v):(c=p,d||(d=setTimeout(()=>{d=null,m(c)},l-x)))},()=>c&&m(c)]}const Rc=(e,a,s=3)=>{let l=0;const c=pj(50,250);return gj(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,y=m-l,p=c(y),v=m<=h;l=m;const x={loaded:m,total:h,progress:h?m/h:void 0,bytes:y,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},yv=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},vv=e=>(...a)=>W.asap(()=>e(...a)),yj=Mn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,Mn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,vj=Mn.hasStandardBrowserEnv?{write(e,a,s,l,c,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];W.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),W.isString(l)&&h.push(`path=${l}`),W.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),W.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function bj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xj(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function g0(e,a,s){let l=!bj(a);return e&&(l||s==!1)?xj(e,a):a}const bv=e=>e instanceof ea?{...e}:e;function _r(e,a){a=a||{};const s={};function l(p,v,x,w){return W.isPlainObject(p)&&W.isPlainObject(v)?W.merge.call({caseless:w},p,v):W.isPlainObject(v)?W.merge({},v):W.isArray(v)?v.slice():v}function c(p,v,x,w){if(W.isUndefined(v)){if(!W.isUndefined(p))return l(void 0,p,x,w)}else return l(p,v,x,w)}function d(p,v){if(!W.isUndefined(v))return l(void 0,v)}function m(p,v){if(W.isUndefined(v)){if(!W.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,x){if(x in a)return l(p,v);if(x in e)return l(void 0,p)}const y={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,x)=>c(bv(p),bv(v),x,!0)};return W.forEach(Object.keys({...e,...a}),function(v){const x=y[v]||c,w=x(e[v],a[v],v);W.isUndefined(w)&&x!==h||(s[v]=w)}),s}const y0=e=>{const a=_r({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=ea.from(m),a.url=d0(g0(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),W.isFormData(s)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(W.isFunction(s.getHeaders)){const y=s.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,x])=>{p.includes(v.toLowerCase())&&m.set(v,x)})}}if(Mn.hasStandardBrowserEnv&&(l&&W.isFunction(l)&&(l=l(a)),l||l!==!1&&yj(a.url))){const y=c&&d&&vj.read(d);y&&m.set(c,y)}return a},Sj=typeof XMLHttpRequest<"u",wj=Sj&&function(e){return new Promise(function(s,l){const c=y0(e);let d=c.data;const m=ea.from(c.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:p}=c,v,x,w,L,_;function A(){L&&L(),_&&_(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let N=new XMLHttpRequest;N.open(c.method.toUpperCase(),c.url,!0),N.timeout=c.timeout;function k(){if(!N)return;const ee=ea.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:ee,config:e,request:N};p0(function(U){s(U),A()},function(U){l(U),A()},O),N=null}"onloadend"in N?N.onloadend=k:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(k)},N.onabort=function(){N&&(l(new tt("Request aborted",tt.ECONNABORTED,e,N)),N=null)},N.onerror=function(D){const O=D&&D.message?D.message:"Network Error",Q=new tt(O,tt.ERR_NETWORK,e,N);Q.event=D||null,l(Q),N=null},N.ontimeout=function(){let D=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const O=c.transitional||f0;c.timeoutErrorMessage&&(D=c.timeoutErrorMessage),l(new tt(D,O.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,e,N)),N=null},d===void 0&&m.setContentType(null),"setRequestHeader"in N&&W.forEach(m.toJSON(),function(D,O){N.setRequestHeader(O,D)}),W.isUndefined(c.withCredentials)||(N.withCredentials=!!c.withCredentials),h&&h!=="json"&&(N.responseType=c.responseType),p&&([w,_]=Rc(p,!0),N.addEventListener("progress",w)),y&&N.upload&&([x,L]=Rc(y),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",L)),(c.cancelToken||c.signal)&&(v=ee=>{N&&(l(!ee||ee.type?new El(null,e,N):ee),N.abort(),N=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const z=hj(c.url);if(z&&Mn.protocols.indexOf(z)===-1){l(new tt("Unsupported protocol "+z+":",tt.ERR_BAD_REQUEST,e));return}N.send(d||null)})},_j=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,c;const d=function(p){if(!c){c=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof tt?v:new El(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new tt(`timeout ${a} of ms exceeded`,tt.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:y}=l;return y.unsubscribe=()=>W.asap(h),y}},Nj=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,c;for(;l<s;)c=l+a,yield e.slice(l,c),l=c},jj=async function*(e,a){for await(const s of Ej(e))yield*Nj(s,a)},Ej=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},xv=(e,a,s,l)=>{const c=jj(e,a);let d=0,m,h=y=>{m||(m=!0,l&&l(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await c.next();if(p){h(),y.close();return}let x=v.byteLength;if(s){let w=d+=x;s(w)}y.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(y){return h(y),c.return()}},{highWaterMark:2})},Sv=64*1024,{isFunction:mc}=W,Aj=(({Request:e,Response:a})=>({Request:e,Response:a}))(W.global),{ReadableStream:wv,TextEncoder:_v}=W.global,Nv=(e,...a)=>{try{return!!e(...a)}catch{return!1}},Oj=e=>{e=W.merge.call({skipUndefined:!0},Aj,e);const{fetch:a,Request:s,Response:l}=e,c=a?mc(a):typeof fetch=="function",d=mc(s),m=mc(l);if(!c)return!1;const h=c&&mc(wv),y=c&&(typeof _v=="function"?(_=>A=>_.encode(A))(new _v):async _=>new Uint8Array(await new s(_).arrayBuffer())),p=d&&h&&Nv(()=>{let _=!1;const A=new s(Mn.origin,{body:new wv,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!A}),v=m&&h&&Nv(()=>W.isReadableStream(new l("").body)),x={stream:v&&(_=>_.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!x[_]&&(x[_]=(A,N)=>{let k=A&&A[_];if(k)return k.call(A);throw new tt(`Response type '${_}' is not supported`,tt.ERR_NOT_SUPPORT,N)})});const w=async _=>{if(_==null)return 0;if(W.isBlob(_))return _.size;if(W.isSpecCompliantForm(_))return(await new s(Mn.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(W.isArrayBufferView(_)||W.isArrayBuffer(_))return _.byteLength;if(W.isURLSearchParams(_)&&(_=_+""),W.isString(_))return(await y(_)).byteLength},L=async(_,A)=>{const N=W.toFiniteNumber(_.getContentLength());return N??w(A)};return async _=>{let{url:A,method:N,data:k,signal:z,cancelToken:ee,timeout:D,onDownloadProgress:O,onUploadProgress:Q,responseType:U,headers:te,withCredentials:se="same-origin",fetchOptions:Se}=y0(_),ve=a||fetch;U=U?(U+"").toLowerCase():"text";let de=_j([z,ee&&ee.toAbortSignal()],D),be=null;const je=de&&de.unsubscribe&&(()=>{de.unsubscribe()});let ge;try{if(Q&&p&&N!=="get"&&N!=="head"&&(ge=await L(te,k))!==0){let j=new s(A,{method:"POST",body:k,duplex:"half"}),Y;if(W.isFormData(k)&&(Y=j.headers.get("content-type"))&&te.setContentType(Y),j.body){const[oe,X]=yv(ge,Rc(vv(Q)));k=xv(j.body,Sv,oe,X)}}W.isString(se)||(se=se?"include":"omit");const q=d&&"credentials"in s.prototype,ie={...Se,signal:de,method:N.toUpperCase(),headers:te.normalize().toJSON(),body:k,duplex:"half",credentials:q?se:void 0};be=d&&new s(A,ie);let re=await(d?ve(be,Se):ve(A,ie));const Ce=v&&(U==="stream"||U==="response");if(v&&(O||Ce&&je)){const j={};["status","statusText","headers"].forEach(we=>{j[we]=re[we]});const Y=W.toFiniteNumber(re.headers.get("content-length")),[oe,X]=O&&yv(Y,Rc(vv(O),!0))||[];re=new l(xv(re.body,Sv,oe,()=>{X&&X(),je&&je()}),j)}U=U||"text";let Oe=await x[W.findKey(x,U)||"text"](re,_);return!Ce&&je&&je(),await new Promise((j,Y)=>{p0(j,Y,{data:Oe,headers:ea.from(re.headers),status:re.status,statusText:re.statusText,config:_,request:be})})}catch(q){throw je&&je(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,_,be),{cause:q.cause||q}):tt.from(q,q&&q.code,_,be)}}},Cj=new Map,v0=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:c}=a,d=[l,c,s];let m=d.length,h=m,y,p,v=Cj;for(;h--;)y=d[h],p=v.get(y),p===void 0&&v.set(y,p=h?new Map:Oj(a)),v=p;return p};v0();const $m={http:G1,xhr:wj,fetch:{get:v0}};W.forEach($m,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const jv=e=>`- ${e}`,Rj=e=>W.isFunction(e)||e===null||e===!1;function Tj(e,a){e=W.isArray(e)?e:[e];const{length:s}=e;let l,c;const d={};for(let m=0;m<s;m++){l=e[m];let h;if(c=l,!Rj(l)&&(c=$m[(h=String(l)).toLowerCase()],c===void 0))throw new tt(`Unknown adapter '${h}'`);if(c&&(W.isFunction(c)||(c=c.get(a))))break;d[h||"#"+m]=c}if(!c){const m=Object.entries(d).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?m.length>1?`since :
`+m.map(jv).join(`
`):" "+jv(m[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const b0={getAdapter:Tj,adapters:$m};function Cf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new El(null,e)}function Ev(e){return Cf(e),e.headers=ea.from(e.headers),e.data=Of.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),b0.getAdapter(e.adapter||Qi.adapter,e)(e).then(function(l){return Cf(e),l.data=Of.call(e,e.transformResponse,l),l.headers=ea.from(l.headers),l},function(l){return h0(l)||(Cf(e),l&&l.response&&(l.response.data=Of.call(e,e.transformResponse,l.response),l.response.headers=ea.from(l.response.headers))),Promise.reject(l)})}const x0="1.13.2",Pc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Pc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Av={};Pc.transitional=function(a,s,l){function c(d,m){return"[Axios v"+x0+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new tt(c(m," has been removed"+(s?" in "+s:"")),tt.ERR_DEPRECATED);return s&&!Av[m]&&(Av[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,m,h):!0}};Pc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function Dj(e,a,s){if(typeof e!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],m=a[d];if(m){const h=e[d],y=h===void 0||m(h,d,e);if(y!==!0)throw new tt("option "+d+" must be "+y,tt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new tt("Unknown option "+d,tt.ERR_BAD_OPTION)}}const _c={assertOptions:Dj,validators:Pc},Ga=_c.validators;let br=class{constructor(a){this.defaults=a||{},this.interceptors={request:new pv,response:new pv}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=_r(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&_c.assertOptions(l,{silentJSONParsing:Ga.transitional(Ga.boolean),forcedJSONParsing:Ga.transitional(Ga.boolean),clarifyTimeoutError:Ga.transitional(Ga.boolean)},!1),c!=null&&(W.isFunction(c)?s.paramsSerializer={serialize:c}:_c.assertOptions(c,{encode:Ga.function,serialize:Ga.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),_c.assertOptions(s,{baseUrl:Ga.spelling("baseURL"),withXsrfToken:Ga.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=d&&W.merge(d.common,d[s.method]);d&&W.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),s.headers=ea.concat(m,d);const h=[];let y=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(s)===!1||(y=y&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let v,x=0,w;if(!y){const _=[Ev.bind(this),void 0];for(_.unshift(...h),_.push(...p),w=_.length,v=Promise.resolve(s);x<w;)v=v.then(_[x++],_[x++]);return v}w=h.length;let L=s;for(;x<w;){const _=h[x++],A=h[x++];try{L=_(L)}catch(N){A.call(this,N);break}}try{v=Ev.call(this,L)}catch(_){return Promise.reject(_)}for(x=0,w=p.length;x<w;)v=v.then(p[x++],p[x++]);return v}getUri(a){a=_r(this.defaults,a);const s=g0(a.baseURL,a.url,a.allowAbsoluteUrls);return d0(s,a.params,a.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(a){br.prototype[a]=function(s,l){return this.request(_r(l||{},{method:a,url:s,data:(l||{}).data}))}});W.forEach(["post","put","patch"],function(a){function s(l){return function(d,m,h){return this.request(_r(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}br.prototype[a]=s(),br.prototype[a+"Form"]=s(!0)});let zj=class S0{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new El(d,m,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new S0(function(c){a=c}),cancel:a}}};function Mj(e){return function(s){return e.apply(null,s)}}function kj(e){return W.isObject(e)&&e.isAxiosError===!0}const cm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cm).forEach(([e,a])=>{cm[a]=e});function w0(e){const a=new br(e),s=Wb(br.prototype.request,a);return W.extend(s,br.prototype,a,{allOwnKeys:!0}),W.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return w0(_r(e,c))},s}const dt=w0(Qi);dt.Axios=br;dt.CanceledError=El;dt.CancelToken=zj;dt.isCancel=h0;dt.VERSION=x0;dt.toFormData=Yc;dt.AxiosError=tt;dt.Cancel=dt.CanceledError;dt.all=function(a){return Promise.all(a)};dt.spread=Mj;dt.isAxiosError=kj;dt.mergeConfig=_r;dt.AxiosHeaders=ea;dt.formToJSON=e=>m0(W.isHTMLForm(e)?new FormData(e):e);dt.getAdapter=b0.getAdapter;dt.HttpStatusCode=cm;dt.default=dt;const{Axios:x2,AxiosError:S2,CanceledError:w2,isCancel:_2,CancelToken:N2,VERSION:j2,all:E2,Cancel:A2,isAxiosError:O2,spread:C2,toFormData:R2,AxiosHeaders:T2,HttpStatusCode:D2,formToJSON:z2,getAdapter:M2,mergeConfig:k2}=dt,Uj="medileser:draft:v1",Tc="medileser:recovery:v1",Dc="medileser:recovery:intent",Lj="vi.auth",qj="vi_auth",Bj="medileser.selectedBank",Ij=1440*60*1e3,Hm=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>Ij},Rf=e=>{const{userId:a,bankId:s,oiId:l,type:c,bancadaId:d,isNew:m}=e;if(!a||s==null)return null;const h=l!=null?String(l):"new",y=`${Uj}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${y}:header`;const p=m?"new":d;return p==null?null:`${y}:bancada:${p}`},Ti=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&_0(s)},Tf=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:Hm(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Hs=e=>{try{localStorage.removeItem(e)}catch{}},_0=e=>{try{localStorage.setItem(Tc,JSON.stringify(e))}catch{}},N0=()=>{try{const e=localStorage.getItem(Tc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Hm(a.ts)?(localStorage.removeItem(Tc),null):a}catch{return null}},Fj=()=>{try{localStorage.removeItem(Tc)}catch{}},$j=e=>{const a=e.userId??null,s=e.bankId??null,l=e.oiId??null;if(!a||s==null||!l)return;const c=N0(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:l,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};_0(d)},Hj=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(Dc,JSON.stringify(a))}catch{}},Vj=()=>{try{const e=sessionStorage.getItem(Dc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Hm(a.ts)?(sessionStorage.removeItem(Dc),null):a}catch{return null}},Df=()=>{try{sessionStorage.removeItem(Dc)}catch{}},Zj=()=>{try{const e=localStorage.getItem(Lj)??localStorage.getItem(qj);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},Gj=()=>{try{const e=localStorage.getItem(Bj);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},um=(e,a)=>{const s=N0();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const l=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=l==="/oi"||l==="/oi/"?`/oi/${s.oiId}?mode=edit`:l;return Hj(s),{target:c,recovery:s}},Ov="http://127.0.0.1:8000",Al="openOiId",Kc="vi.currentOI",j0="vi.auth",E0="vi_auth",Qj="medileser.selectedBank",Yj="medileser:selectedBank",dm="medileser.pendingToast",Yi="medileser.pendingAction",Pj="medileser:auth-expired",fm="medileser.sessionUserId",mm="medileser.sessionBankId",A0=()=>typeof window<"u"?window.location.port==="5173"?Ov:window.location.origin:Ov,Ze=dt.create({baseURL:A0()}),O0=dt.create({baseURL:A0()}),C0=e=>{try{const a=localStorage.getItem(j0)??localStorage.getItem(E0);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ze.interceptors.request.use(C0);O0.interceptors.request.use(C0);function Kj(){try{const e=sessionStorage.getItem(Al);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const R0=()=>{try{const e=sessionStorage.getItem(Kc);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function Xj(e){try{sessionStorage.setItem(Al,String(e))}catch{}}function T0(){try{sessionStorage.removeItem(Al)}catch{}}async function Pi(){const e=Kj();if(e)try{await O0.post(`/oi/${e}/close`)}catch{}finally{T0()}}function Jj(e){try{sessionStorage.setItem(dm,e)}catch{}}function Wj(){try{const e=sessionStorage.getItem(dm);return e?(sessionStorage.removeItem(dm),e):null}catch{return null}}function eE(e){try{sessionStorage.setItem(Yi,JSON.stringify(e))}catch{}}function tE(){try{const e=sessionStorage.getItem(Yi);return e?JSON.parse(e):null}catch{return null}}function Oi(){try{sessionStorage.removeItem(Yi)}catch{}}function D0(){try{const e=sessionStorage.getItem(fm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Cv(e){try{e==null?sessionStorage.removeItem(fm):sessionStorage.setItem(fm,String(e))}catch{}}function z0(){try{const e=sessionStorage.getItem(mm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function zc(e){try{e==null?sessionStorage.removeItem(mm):sessionStorage.setItem(mm,String(e))}catch{}}function M0(e){const a=D0();if(e==null)return!1;if(a===null||a===e)return Cv(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Al||c===Kc||c===Yi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Cv(e),zc(null),!0}function nE(e){const a=z0();if(e==null)return!1;if(a===null||a===e)return zc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Al||c===Kc||c===Yi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return zc(e),!0}function aE(){try{localStorage.removeItem(j0),localStorage.removeItem(E0),localStorage.removeItem(Qj)}catch{}finally{try{window.dispatchEvent(new Event(Yj))}catch{}}try{sessionStorage.removeItem(Kc),sessionStorage.removeItem(Al)}catch{}}let Rv=!1;async function k0(e){if(!Rv){Rv=!0;try{await Pi()}finally{aE();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(Jj(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const Nc=e=>{const a=e?.response?.status;if(a===401||a===403)return!0;const s=e?.response?.data?.detail;return!!(typeof s=="string"&&/token requerido/i.test(s))},zf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},sE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:zf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:zf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:zf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},rE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const m=c.toString(),h=p=>`${p}${m?`?${m}`:""}${l??""}`;let y=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??R0();p&&(y=h(`/oi/${p}`))}return y},lE=(e,a,s,l,c)=>{try{window.dispatchEvent(new CustomEvent(Pj,{detail:{status:a,detail:e,url:s,method:l,pending:c}}))}catch{}};Ze.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&Nc(e)){const m=sE(e);m&&eE(m),lE(l,a,s,c,m);const h=rE(m),y=Zj(),p=y.bankId??Gj(),v=m?.oiId??R0();if(y.userId&&p!=null&&v){const x=m?.type==="save_bancada"?{type:"bancada",bancadaId:m.bancadaId??null,isNew:m.bancadaId==null}:void 0;$j({userId:y.userId,bankId:p,oiId:v,returnTo:h,modal:x})}await k0({returnTo:h,pending:!!m})}return Promise.reject(e)});const Vm=async()=>{const{data:e}=await Ze.get("/catalogs");return e},Xc="medileser.selectedBank",Mc="medileser:selectedBank";function qa(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function bl(e){return qa(e)==="technician"}function Zm(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function Ui(){try{const e=localStorage.getItem(Xc);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function U0(e){try{localStorage.setItem(Xc,String(e))}finally{window.dispatchEvent(new Event(Mc))}}function L0(){try{localStorage.removeItem(Xc)}finally{window.dispatchEvent(new Event(Mc))}}function iE(e){const a=()=>e(),s=l=>{l.key===Xc&&e()};return window.addEventListener(Mc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Mc,a),window.removeEventListener("storage",s)}}async function oE(e,a){try{await Ze.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function cE(e){try{await Pi();const{data:a}=await Ze.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),M0(a.userId??null),!bl(a.role)&&a.bancoId!=null&&zc(a.bancoId),bl(a.role)?L0():U0(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(c)}}function Rn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:qa(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function q0(e){await Pi();const{data:a}=await Ze.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),M0(a.userId??null),nE(e),U0(e),a}function B0(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),L0();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function uE(){await Pi(),B0()}function Li({label:e,inputId:a,className:s="",inputRef:l,helpText:c,...d}){const[m,h]=b.useState(!1),y=a||d.name||void 0,{ref:p,...v}=d,x=l??p;return o.jsxs("div",{className:s,children:[e&&o.jsx("label",{className:"form-label",htmlFor:y,children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("input",{...v,id:y,type:m?"text":"password",className:"form-control",ref:x}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(w=>!w),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:o.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),c&&o.jsx("div",{className:"form-text",children:c})]})}function Ol({show:e=!0,label:a="Cargando..."}){return e?o.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[o.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),o.jsx("span",{className:"visually-hidden",children:a})]}):null}const I0=b.createContext(null);function dE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function fE({children:e}){const[a,s]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:y=3500,...p}=d,v={id:m,kind:h,duration:y,...p};s(x=>[...x,v]),window.setTimeout(()=>{s(x=>x.filter(w=>w.id!==m))},y)},[]),c=d=>s(m=>m.filter(h=>h.id!==d));return o.jsxs(I0.Provider,{value:{push:l},children:[e,o.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>o.jsx("div",{className:`toast show align-items-center text-bg-${dE(d.kind)} border-0 mb-2`,role:"alert",children:o.jsxs("div",{className:"d-flex",children:[o.jsxs("div",{className:"toast-body",children:[d.title&&o.jsx("strong",{className:"me-2",children:d.title}),d.message]}),o.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function Ar(){const e=b.useContext(I0);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function mE(){const{register:e,handleSubmit:a}=Vc({defaultValues:{username:"",password:""}}),{toast:s}=Ar(),l=new URLSearchParams(window.location.search),c=l.get("returnTo")??"",d=c.startsWith("/")?c:"/home",m=l.get("pending")==="1",[h,y]=b.useState(!1),p=b.useRef(d),[v,x]=b.useState(!1),[w,L]=b.useState(0),[_,A]=b.useState(!1),{data:N,isLoading:k,error:z,refetch:ee}=wr({queryKey:["catalogs"],queryFn:Vm,enabled:v}),D=N?.bancos??[];b.useEffect(()=>{const se=Wj();se&&s({kind:"error",message:se})},[s]),b.useEffect(()=>{v&&(w>0||D.length>0&&L(D[0].id))},[w,D,v]);const O=async se=>{try{y(!0);const Se=D0(),ve=await cE(se),de=Se!=null&&ve.userId&&Se!==ve.userId,be=um(ve.userId,ve.bancoId??0);if(be.target?p.current=be.target:m||de?p.current="/home":p.current=d,bl(ve.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(Se){const ve=Se?.message??Se?.response?.data?.detail??(typeof Se=="string"?Se:"Error de autenticacin");s({kind:"error",title:"Login",message:String(ve)})}finally{y(!1)}},Q=w>0&&!_&&!k,U=async()=>{if(Q)try{A(!0);const se=z0(),Se=se!=null&&se!==w,ve=await q0(w),de=um(ve.userId,ve.bancoId??w);de.target?p.current=de.target:(m||Se)&&(p.current="/home"),window.location.replace(p.current)}catch(se){const Se=se?.response?.data?.detail??se?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(Se)})}finally{A(!1)}},te=()=>{B0(),x(!1),L(0)};return o.jsxs("div",{className:"vi-login",children:[o.jsx(Ol,{show:h||_,label:_?"Guardando banco...":"Validando credenciales..."}),o.jsxs("div",{className:"vi-login__split",children:[o.jsx("section",{className:"vi-login__left",children:o.jsx("div",{className:"text-center text-md-start",children:o.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),o.jsx("section",{className:"vi-login__right",children:o.jsx("div",{className:"card shadow-sm vi-login__card",children:o.jsxs("div",{className:"card-body p-4 p-md-5",children:[o.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),o.jsxs("form",{onSubmit:a(O),className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),o.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),o.jsx("div",{className:"col-md-6",children:o.jsx(Li,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),o.jsx("div",{className:"col-12 d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||v,"aria-busy":h?"true":"false",children:h?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),v&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:w||"",onChange:se=>L(Number(se.target.value)),disabled:k||_,children:D.map(se=>o.jsx("option",{value:se.id,children:se.name},se.id))}),z?o.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>ee(),children:"Reintentar"})]}):null]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:te,disabled:_,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!Q,onClick:U,children:_?"Guardando...":"Continuar"})]})]})})})]})}const Tv=(e,a,s)=>{if(e&&"reportValidity"in e){const l=ze(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},hm=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?Tv(l.ref,s,e):l&&l.refs&&l.refs.forEach(c=>Tv(c,s,e))}},Dv=(e,a)=>{a.shouldUseNativeValidation&&hm(e,a);const s={};for(const l in e){const c=ze(a.fields,l),d=Object.assign(e[l]||{},{ref:c&&c.ref});if(hE(a.names||Object.keys(e),l)){const m=Object.assign({},ze(s,l));_t(m,"root",d),_t(s,l,m)}else _t(s,l,d)}return s},hE=(e,a)=>{const s=zv(a);return e.some(l=>zv(l).match(`^${s}\\.\\d+`))};function zv(e){return e.replace(/\]|\[/g,"")}function me(e,a,s){function l(h,y){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,y);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=y}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function m(h){var y;const p=s?.Parent?new d:this;l(p,h),(y=p._zod).deferred??(y.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class gl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class F0 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const $0={};function Nr(e){return $0}function pE(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,c])=>a.indexOf(+l)===-1).map(([l,c])=>c)}function pm(e,a){return typeof a=="bigint"?a.toString():a}function Gm(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Qm(e){return e==null}function Ym(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function gE(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let c=(l.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(l)){const y=l.match(/\d?e-(\d?)/);y?.[1]&&(c=Number.parseInt(y[1]))}const d=s>c?s:c,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const Mv=Symbol("evaluating");function Mt(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==Mv)return l===void 0&&(l=Mv,l=s()),l},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function Or(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Cr(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function kv(e){return JSON.stringify(e)}const H0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function kc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const yE=Gm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function qi(e){if(kc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(kc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function V0(e){return qi(e)?{...e}:Array.isArray(e)?[...e]:e}const vE=new Set(["string","number","symbol"]);function Jc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gs(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function He(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function bE(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const xE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function SE(e,a){const s=e._zod.def,l=Cr(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return Or(this,"shape",c),c},checks:[]});return Gs(e,l)}function wE(e,a){const s=e._zod.def,l=Cr(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return Or(this,"shape",c),c},checks:[]});return Gs(e,l)}function _E(e,a){if(!qi(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Cr(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Or(this,"shape",d),d},checks:[]});return Gs(e,c)}function NE(e,a){if(!qi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Or(this,"shape",l),l},checks:e._zod.def.checks};return Gs(e,s)}function jE(e,a){const s=Cr(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Or(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Gs(e,s)}function EE(e,a,s){const l=Cr(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in c))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=e?new e({type:"optional",innerType:c[m]}):c[m])}else for(const m in c)d[m]=e?new e({type:"optional",innerType:c[m]}):c[m];return Or(this,"shape",d),d},checks:[]});return Gs(a,l)}function AE(e,a,s){const l=Cr(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=new e({type:"nonoptional",innerType:c[m]}))}else for(const m in c)d[m]=new e({type:"nonoptional",innerType:c[m]});return Or(this,"shape",d),d},checks:[]});return Gs(a,l)}function hl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function Z0(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function hc(e){return typeof e=="string"?e:e?.message}function jr(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const c=hc(e.inst?._zod.def?.error?.(e))??hc(a?.error?.(e))??hc(s.customError?.(e))??hc(s.localeError?.(e))??"Invalid input";l.message=c}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function Pm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Bi(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const G0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,pm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Km=me("$ZodError",G0),Wc=me("$ZodError",G0,{Parent:Error});function OE(e,a=s=>s.message){const s={},l=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):l.push(a(c));return{formErrors:l,fieldErrors:s}}function CE(e,a=s=>s.message){const s={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let m=s,h=0;for(;h<d.path.length;){const y=d.path[h];h===d.path.length-1?(m[y]=m[y]||{_errors:[]},m[y]._errors.push(a(d))):m[y]=m[y]||{_errors:[]},m=m[y],h++}}};return l(e),s}const eu=e=>(a,s,l,c)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise)throw new gl;if(m.issues.length){const h=new(c?.Err??e)(m.issues.map(y=>jr(y,d,Nr())));throw H0(h,c?.callee),h}return m.value},RE=eu(Wc),tu=e=>async(a,s,l,c)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(c?.Err??e)(m.issues.map(y=>jr(y,d,Nr())));throw H0(h,c?.callee),h}return m.value},TE=tu(Wc),nu=e=>(a,s,l)=>{const c=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new gl;return d.issues.length?{success:!1,error:new(e??Km)(d.issues.map(m=>jr(m,c,Nr())))}:{success:!0,data:d.value}},DE=nu(Wc),au=e=>async(a,s,l)=>{const c=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>jr(m,c,Nr())))}:{success:!0,data:d.value}},zE=au(Wc),ME=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return eu(e)(a,s,c)},kE=e=>(a,s,l)=>eu(e)(a,s,l),UE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return tu(e)(a,s,c)},LE=e=>async(a,s,l)=>tu(e)(a,s,l),qE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return nu(e)(a,s,c)},BE=e=>(a,s,l)=>nu(e)(a,s,l),IE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return au(e)(a,s,c)},FE=e=>async(a,s,l)=>au(e)(a,s,l),$E=/^[cC][^\s-]{8,}$/,HE=/^[0-9a-z]+$/,VE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ZE=/^[0-9a-vA-V]{20}$/,GE=/^[A-Za-z0-9]{27}$/,QE=/^[a-zA-Z0-9_-]{21}$/,YE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,PE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Uv=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,KE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,XE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function JE(){return new RegExp(XE,"u")}const WE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,tA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,nA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Q0=/^[A-Za-z0-9_-]*$/,sA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,rA=/^\+(?:[0-9]){6,14}[0-9]$/,Y0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",lA=new RegExp(`^${Y0}$`);function P0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function iA(e){return new RegExp(`^${P0(e)}$`)}function oA(e){const a=P0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${Y0}T(?:${l})$`)}const cA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},uA=/^-?\d+$/,dA=/^-?\d+(?:\.\d+)?/,fA=/^[^A-Z]*$/,mA=/^[^a-z]*$/,ta=me("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),K0={number:"number",bigint:"bigint",object:"date"},X0=me("$ZodCheckLessThan",(e,a)=>{ta.init(e,a);const s=K0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),J0=me("$ZodCheckGreaterThan",(e,a)=>{ta.init(e,a);const s=K0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),hA=me("$ZodCheckMultipleOf",(e,a)=>{ta.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):gE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),pA=me("$ZodCheckNumberFormat",(e,a)=>{ta.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[c,d]=xE[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=uA)}),e._zod.check=m=>{const h=m.value;if(s){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<c&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),gA=me("$ZodCheckMaxLength",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Qm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const c=l.value;if(c.length<=a.maximum)return;const m=Pm(c);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),yA=me("$ZodCheckMinLength",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Qm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const c=l.value;if(c.length>=a.minimum)return;const m=Pm(c);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),vA=me("$ZodCheckLengthEquals",(e,a)=>{var s;ta.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Qm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=l=>{const c=l.value,d=c.length;if(d===a.length)return;const m=Pm(c),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),su=me("$ZodCheckStringFormat",(e,a)=>{var s,l;ta.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),bA=me("$ZodCheckRegex",(e,a)=>{su.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),xA=me("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=fA),su.init(e,a)}),SA=me("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=mA),su.init(e,a)}),wA=me("$ZodCheckIncludes",(e,a)=>{ta.init(e,a);const s=Jc(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),_A=me("$ZodCheckStartsWith",(e,a)=>{ta.init(e,a);const s=new RegExp(`^${Jc(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),NA=me("$ZodCheckEndsWith",(e,a)=>{ta.init(e,a);const s=new RegExp(`.*${Jc(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),jA=me("$ZodCheckOverwrite",(e,a)=>{ta.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class EA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),c=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(c)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const AA={major:4,minor:1,patch:12},cn=me("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=AA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const c of l)for(const d of c._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(m,h,y)=>{let p=hl(m),v;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(m))continue}else if(p)continue;const w=m.issues.length,L=x._zod.check(m);if(L instanceof Promise&&y?.async===!1)throw new gl;if(v||L instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await L,m.issues.length!==w&&(p||(p=hl(m,w)))});else{if(m.issues.length===w)continue;p||(p=hl(m,w))}}return v?v.then(()=>m):m},d=(m,h,y)=>{if(hl(m))return m.aborted=!0,m;const p=c(h,l,y);if(p instanceof Promise){if(y.async===!1)throw new gl;return p.then(v=>e._zod.parse(v,y))}return e._zod.parse(p,y)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const y=e._zod.parse(m,h);if(y instanceof Promise){if(h.async===!1)throw new gl;return y.then(p=>c(p,l,h))}return c(y,l,h)}}e["~standard"]={validate:c=>{try{const d=DE(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return zE(e,c).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Xm=me("$ZodString",(e,a)=>{cn.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??cA(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Ht=me("$ZodStringFormat",(e,a)=>{su.init(e,a),Xm.init(e,a)}),OA=me("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=PE),Ht.init(e,a)}),CA=me("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Uv(l))}else a.pattern??(a.pattern=Uv());Ht.init(e,a)}),RA=me("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=KE),Ht.init(e,a)}),TA=me("$ZodURL",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),c=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:sA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),DA=me("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=JE()),Ht.init(e,a)}),zA=me("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=QE),Ht.init(e,a)}),MA=me("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=$E),Ht.init(e,a)}),kA=me("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=HE),Ht.init(e,a)}),UA=me("$ZodULID",(e,a)=>{a.pattern??(a.pattern=VE),Ht.init(e,a)}),LA=me("$ZodXID",(e,a)=>{a.pattern??(a.pattern=ZE),Ht.init(e,a)}),qA=me("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=GE),Ht.init(e,a)}),BA=me("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=oA(a)),Ht.init(e,a)}),IA=me("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=lA),Ht.init(e,a)}),FA=me("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=iA(a)),Ht.init(e,a)}),$A=me("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=YE),Ht.init(e,a)}),HA=me("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=WE),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),VA=me("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=eA),Ht.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),ZA=me("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=tA),Ht.init(e,a)}),GA=me("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=nA),Ht.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[c,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function W0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const QA=me("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=aA),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{W0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function YA(e){if(!Q0.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return W0(s)}const PA=me("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=Q0),Ht.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{YA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),KA=me("$ZodE164",(e,a)=>{a.pattern??(a.pattern=rA),Ht.init(e,a)});function XA(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const c=JSON.parse(atob(l));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const JA=me("$ZodJWT",(e,a)=>{Ht.init(e,a),e._zod.check=s=>{XA(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),ex=me("$ZodNumber",(e,a)=>{cn.init(e,a),e._zod.pattern=e._zod.bag.pattern??dA,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),WA=me("$ZodNumber",(e,a)=>{pA.init(e,a),ex.init(e,a)}),eO=me("$ZodUnknown",(e,a)=>{cn.init(e,a),e._zod.parse=s=>s}),tO=me("$ZodNever",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function Lv(e,a,s){e.issues.length&&a.issues.push(...Z0(s,e.issues)),a.value[s]=e.value}const nO=me("$ZodArray",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let m=0;m<c.length;m++){const h=c[m],y=a.element._zod.run({value:h,issues:[]},l);y instanceof Promise?d.push(y.then(p=>Lv(p,s,m))):Lv(y,s,m)}return d.length?Promise.all(d).then(()=>s):s}});function Uc(e,a,s,l){e.issues.length&&a.issues.push(...Z0(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function tx(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=bE(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function nx(e,a,s,l,c,d){const m=[],h=c.keySet,y=c.catchall._zod,p=y.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const x=y.run({value:a[v],issues:[]},l);x instanceof Promise?e.push(x.then(w=>Uc(w,s,v,a))):Uc(x,s,v,a)}return m.length&&s.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const aO=me("$ZodObject",(e,a)=>{if(cn.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const y={...h};return Object.defineProperty(a,"shape",{value:y}),y}})}const l=Gm(()=>tx(a));Mt(e._zod,"propValues",()=>{const h=a.shape,y={};for(const p in h){const v=h[p]._zod;if(v.values){y[p]??(y[p]=new Set);for(const x of v.values)y[p].add(x)}}return y});const c=kc,d=a.catchall;let m;e._zod.parse=(h,y)=>{m??(m=l.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],x=m.shape;for(const w of m.keys){const _=x[w]._zod.run({value:p[w],issues:[]},y);_ instanceof Promise?v.push(_.then(A=>Uc(A,h,w,p))):Uc(_,h,w,p)}return d?nx(v,p,h,y,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),sO=me("$ZodObjectJIT",(e,a)=>{aO.init(e,a);const s=e._zod.parse,l=Gm(()=>tx(a)),c=w=>{const L=new EA(["shape","payload","ctx"]),_=l.value,A=ee=>{const D=kv(ee);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};L.write("const input = payload.value;");const N=Object.create(null);let k=0;for(const ee of _.keys)N[ee]=`key_${k++}`;L.write("const newResult = {};");for(const ee of _.keys){const D=N[ee],O=kv(ee);L.write(`const ${D} = ${A(ee)};`),L.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${D}.value;
        }
        
      `)}L.write("payload.value = newResult;"),L.write("return payload;");const z=L.compile();return(ee,D)=>z(w,ee,D)};let d;const m=kc,h=!$0.jitless,p=h&&yE.value,v=a.catchall;let x;e._zod.parse=(w,L)=>{x??(x=l.value);const _=w.value;return m(_)?h&&p&&L?.async===!1&&L.jitless!==!0?(d||(d=c(a.shape)),w=d(w,L),v?nx([],_,w,L,x,e):w):s(w,L):(w.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),w)}});function qv(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!hl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(m=>jr(m,l,Nr())))}),a)}const rO=me("$ZodUnion",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Mt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Mt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Mt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>Ym(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return l(c,d);let m=!1;const h=[];for(const y of a.options){const p=y._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(y=>qv(y,c,e,d)):qv(h,c,e,d)}}),lO=me("$ZodIntersection",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},l),m=a.right._zod.run({value:c,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([y,p])=>Bv(s,y,p)):Bv(s,d,m)}});function gm(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(qi(e)&&qi(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of l){const m=gm(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};c[d]=m.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const c=e[l],d=a[l],m=gm(c,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};s.push(m.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Bv(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),hl(e))return e;const l=gm(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const iO=me("$ZodEnum",(e,a)=>{cn.init(e,a);const s=pE(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(c=>vE.has(typeof c)).map(c=>typeof c=="string"?Jc(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const m=c.value;return l.has(m)||c.issues.push({code:"invalid_value",values:s,input:m,inst:e}),c}}),oO=me("$ZodTransform",(e,a)=>{cn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new F0(e.constructor.name);const c=a.transform(s.value,s);if(l.async)return(c instanceof Promise?c:Promise.resolve(c)).then(m=>(s.value=m,s));if(c instanceof Promise)throw new gl;return s.value=c,s}});function Iv(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const cO=me("$ZodOptional",(e,a)=>{cn.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Ym(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Iv(d,s.value)):Iv(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),uO=me("$ZodNullable",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Ym(s.source)}|null)$`):void 0}),Mt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),dO=me("$ZodDefault",(e,a)=>{cn.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Fv(d,a)):Fv(c,a)}});function Fv(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const fO=me("$ZodPrefault",(e,a)=>{cn.init(e,a),e._zod.optin="optional",Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),mO=me("$ZodNonOptional",(e,a)=>{cn.init(e,a),Mt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>$v(d,e)):$v(c,e)}});function $v(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const hO=me("$ZodCatch",(e,a)=>{cn.init(e,a),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),Mt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(m=>jr(m,l,Nr()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>jr(d,l,Nr()))},input:s.value}),s.issues=[]),s)}}),pO=me("$ZodPipe",(e,a)=>{cn.init(e,a),Mt(e._zod,"values",()=>a.in._zod.values),Mt(e._zod,"optin",()=>a.in._zod.optin),Mt(e._zod,"optout",()=>a.out._zod.optout),Mt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(m=>pc(m,a.in,l)):pc(d,a.in,l)}const c=a.in._zod.run(s,l);return c instanceof Promise?c.then(d=>pc(d,a.out,l)):pc(c,a.out,l)}});function pc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const gO=me("$ZodReadonly",(e,a)=>{cn.init(e,a),Mt(e._zod,"propValues",()=>a.innerType._zod.propValues),Mt(e._zod,"values",()=>a.innerType._zod.values),Mt(e._zod,"optin",()=>a.innerType._zod.optin),Mt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(Hv):Hv(c)}});function Hv(e){return e.value=Object.freeze(e.value),e}const yO=me("$ZodCustom",(e,a)=>{ta.init(e,a),cn.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,c=a.fn(l);if(c instanceof Promise)return c.then(d=>Vv(d,s,l,e));Vv(c,s,l,e)}});function Vv(e,a,s,l){if(!e){const c={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(c.params=l._zod.def.params),a.issues.push(Bi(c))}}class vO{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const c={...l,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function bO(){return new vO}const gc=bO();function xO(e,a){return new e({type:"string",...He(a)})}function SO(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...He(a)})}function Zv(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...He(a)})}function wO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...He(a)})}function _O(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...He(a)})}function NO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...He(a)})}function jO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...He(a)})}function EO(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...He(a)})}function AO(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...He(a)})}function OO(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...He(a)})}function CO(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...He(a)})}function RO(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...He(a)})}function TO(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...He(a)})}function DO(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...He(a)})}function zO(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...He(a)})}function MO(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...He(a)})}function kO(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...He(a)})}function UO(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...He(a)})}function LO(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...He(a)})}function qO(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...He(a)})}function BO(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...He(a)})}function IO(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...He(a)})}function FO(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...He(a)})}function $O(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...He(a)})}function HO(e,a){return new e({type:"string",format:"date",check:"string_format",...He(a)})}function VO(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...He(a)})}function ZO(e,a){return new e({type:"string",format:"duration",check:"string_format",...He(a)})}function GO(e,a){return new e({type:"number",checks:[],...He(a)})}function QO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...He(a)})}function YO(e){return new e({type:"unknown"})}function PO(e,a){return new e({type:"never",...He(a)})}function Gv(e,a){return new X0({check:"less_than",...He(a),value:e,inclusive:!1})}function Mf(e,a){return new X0({check:"less_than",...He(a),value:e,inclusive:!0})}function Qv(e,a){return new J0({check:"greater_than",...He(a),value:e,inclusive:!1})}function kf(e,a){return new J0({check:"greater_than",...He(a),value:e,inclusive:!0})}function Yv(e,a){return new hA({check:"multiple_of",...He(a),value:e})}function ax(e,a){return new gA({check:"max_length",...He(a),maximum:e})}function Lc(e,a){return new yA({check:"min_length",...He(a),minimum:e})}function sx(e,a){return new vA({check:"length_equals",...He(a),length:e})}function KO(e,a){return new bA({check:"string_format",format:"regex",...He(a),pattern:e})}function XO(e){return new xA({check:"string_format",format:"lowercase",...He(e)})}function JO(e){return new SA({check:"string_format",format:"uppercase",...He(e)})}function WO(e,a){return new wA({check:"string_format",format:"includes",...He(a),includes:e})}function eC(e,a){return new _A({check:"string_format",format:"starts_with",...He(a),prefix:e})}function tC(e,a){return new NA({check:"string_format",format:"ends_with",...He(a),suffix:e})}function Ki(e){return new jA({check:"overwrite",tx:e})}function nC(e){return Ki(a=>a.normalize(e))}function aC(){return Ki(e=>e.trim())}function sC(){return Ki(e=>e.toLowerCase())}function rC(){return Ki(e=>e.toUpperCase())}function lC(e,a,s){return new e({type:"array",element:a,...He(s)})}function iC(e,a,s){return new e({type:"custom",check:"custom",fn:a,...He(s)})}function oC(e){const a=cC(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push(Bi(l,s.value,a._zod.def));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(Bi(c))}},e(s.value,s)));return a}function cC(e,a){const s=new ta({check:"custom",...He(a)});return s._zod.check=e,s}function Pv(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function uC(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),a){var y=s[m].types,p=y&&y[l.code];s[m]=Um(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function dC(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(x){return e.push(x)})}),a){var y=s[m].types,p=y&&y[l.code];s[m]=Um(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function fC(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,c,d){try{return Promise.resolve(Pv(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&hm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:Dv(uC(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,c,d){try{return Promise.resolve(Pv(function(){return Promise.resolve((s.mode==="sync"?RE:TE)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&hm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof Km})(m))return{values:{},errors:Dv(dC(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const mC=me("ZodISODateTime",(e,a)=>{BA.init(e,a),Vt.init(e,a)});function hC(e){return $O(mC,e)}const pC=me("ZodISODate",(e,a)=>{IA.init(e,a),Vt.init(e,a)});function gC(e){return HO(pC,e)}const yC=me("ZodISOTime",(e,a)=>{FA.init(e,a),Vt.init(e,a)});function vC(e){return VO(yC,e)}const bC=me("ZodISODuration",(e,a)=>{$A.init(e,a),Vt.init(e,a)});function xC(e){return ZO(bC,e)}const SC=(e,a)=>{Km.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>CE(e,s)},flatten:{value:s=>OE(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,pm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,pm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ea=me("ZodError",SC,{Parent:Error}),wC=eu(Ea),_C=tu(Ea),NC=nu(Ea),jC=au(Ea),EC=ME(Ea),AC=kE(Ea),OC=UE(Ea),CC=LE(Ea),RC=qE(Ea),TC=BE(Ea),DC=IE(Ea),zC=FE(Ea),hn=me("ZodType",(e,a)=>(cn.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Cr(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Gs(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>wC(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>NC(e,s,l),e.parseAsync=async(s,l)=>_C(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>jC(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>EC(e,s,l),e.decode=(s,l)=>AC(e,s,l),e.encodeAsync=async(s,l)=>OC(e,s,l),e.decodeAsync=async(s,l)=>CC(e,s,l),e.safeEncode=(s,l)=>RC(e,s,l),e.safeDecode=(s,l)=>TC(e,s,l),e.safeEncodeAsync=async(s,l)=>DC(e,s,l),e.safeDecodeAsync=async(s,l)=>zC(e,s,l),e.refine=(s,l)=>e.check(wR(s,l)),e.superRefine=s=>e.check(_R(s)),e.overwrite=s=>e.check(Ki(s)),e.optional=()=>Wv(e),e.nullable=()=>eb(e),e.nullish=()=>Wv(eb(e)),e.nonoptional=s=>pR(e,s),e.array=()=>ix(e),e.or=s=>rR([e,s]),e.and=s=>iR(e,s),e.transform=s=>tb(e,cR(s)),e.default=s=>fR(e,s),e.prefault=s=>hR(e,s),e.catch=s=>yR(e,s),e.pipe=s=>tb(e,s),e.readonly=()=>xR(e),e.describe=s=>{const l=e.clone();return gc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return gc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return gc.get(e);const l=e.clone();return gc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),rx=me("_ZodString",(e,a)=>{Xm.init(e,a),hn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(KO(...l)),e.includes=(...l)=>e.check(WO(...l)),e.startsWith=(...l)=>e.check(eC(...l)),e.endsWith=(...l)=>e.check(tC(...l)),e.min=(...l)=>e.check(Lc(...l)),e.max=(...l)=>e.check(ax(...l)),e.length=(...l)=>e.check(sx(...l)),e.nonempty=(...l)=>e.check(Lc(1,...l)),e.lowercase=l=>e.check(XO(l)),e.uppercase=l=>e.check(JO(l)),e.trim=()=>e.check(aC()),e.normalize=(...l)=>e.check(nC(...l)),e.toLowerCase=()=>e.check(sC()),e.toUpperCase=()=>e.check(rC())}),MC=me("ZodString",(e,a)=>{Xm.init(e,a),rx.init(e,a),e.email=s=>e.check(SO(kC,s)),e.url=s=>e.check(EO(UC,s)),e.jwt=s=>e.check(FO(XC,s)),e.emoji=s=>e.check(AO(LC,s)),e.guid=s=>e.check(Zv(Kv,s)),e.uuid=s=>e.check(wO(yc,s)),e.uuidv4=s=>e.check(_O(yc,s)),e.uuidv6=s=>e.check(NO(yc,s)),e.uuidv7=s=>e.check(jO(yc,s)),e.nanoid=s=>e.check(OO(qC,s)),e.guid=s=>e.check(Zv(Kv,s)),e.cuid=s=>e.check(CO(BC,s)),e.cuid2=s=>e.check(RO(IC,s)),e.ulid=s=>e.check(TO(FC,s)),e.base64=s=>e.check(qO(YC,s)),e.base64url=s=>e.check(BO(PC,s)),e.xid=s=>e.check(DO($C,s)),e.ksuid=s=>e.check(zO(HC,s)),e.ipv4=s=>e.check(MO(VC,s)),e.ipv6=s=>e.check(kO(ZC,s)),e.cidrv4=s=>e.check(UO(GC,s)),e.cidrv6=s=>e.check(LO(QC,s)),e.e164=s=>e.check(IO(KC,s)),e.datetime=s=>e.check(hC(s)),e.date=s=>e.check(gC(s)),e.time=s=>e.check(vC(s)),e.duration=s=>e.check(xC(s))});function qc(e){return xO(MC,e)}const Vt=me("ZodStringFormat",(e,a)=>{Ht.init(e,a),rx.init(e,a)}),kC=me("ZodEmail",(e,a)=>{RA.init(e,a),Vt.init(e,a)}),Kv=me("ZodGUID",(e,a)=>{OA.init(e,a),Vt.init(e,a)}),yc=me("ZodUUID",(e,a)=>{CA.init(e,a),Vt.init(e,a)}),UC=me("ZodURL",(e,a)=>{TA.init(e,a),Vt.init(e,a)}),LC=me("ZodEmoji",(e,a)=>{DA.init(e,a),Vt.init(e,a)}),qC=me("ZodNanoID",(e,a)=>{zA.init(e,a),Vt.init(e,a)}),BC=me("ZodCUID",(e,a)=>{MA.init(e,a),Vt.init(e,a)}),IC=me("ZodCUID2",(e,a)=>{kA.init(e,a),Vt.init(e,a)}),FC=me("ZodULID",(e,a)=>{UA.init(e,a),Vt.init(e,a)}),$C=me("ZodXID",(e,a)=>{LA.init(e,a),Vt.init(e,a)}),HC=me("ZodKSUID",(e,a)=>{qA.init(e,a),Vt.init(e,a)}),VC=me("ZodIPv4",(e,a)=>{HA.init(e,a),Vt.init(e,a)}),ZC=me("ZodIPv6",(e,a)=>{VA.init(e,a),Vt.init(e,a)}),GC=me("ZodCIDRv4",(e,a)=>{ZA.init(e,a),Vt.init(e,a)}),QC=me("ZodCIDRv6",(e,a)=>{GA.init(e,a),Vt.init(e,a)}),YC=me("ZodBase64",(e,a)=>{QA.init(e,a),Vt.init(e,a)}),PC=me("ZodBase64URL",(e,a)=>{PA.init(e,a),Vt.init(e,a)}),KC=me("ZodE164",(e,a)=>{KA.init(e,a),Vt.init(e,a)}),XC=me("ZodJWT",(e,a)=>{JA.init(e,a),Vt.init(e,a)}),lx=me("ZodNumber",(e,a)=>{ex.init(e,a),hn.init(e,a),e.gt=(l,c)=>e.check(Qv(l,c)),e.gte=(l,c)=>e.check(kf(l,c)),e.min=(l,c)=>e.check(kf(l,c)),e.lt=(l,c)=>e.check(Gv(l,c)),e.lte=(l,c)=>e.check(Mf(l,c)),e.max=(l,c)=>e.check(Mf(l,c)),e.int=l=>e.check(Xv(l)),e.safe=l=>e.check(Xv(l)),e.positive=l=>e.check(Qv(0,l)),e.nonnegative=l=>e.check(kf(0,l)),e.negative=l=>e.check(Gv(0,l)),e.nonpositive=l=>e.check(Mf(0,l)),e.multipleOf=(l,c)=>e.check(Yv(l,c)),e.step=(l,c)=>e.check(Yv(l,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function qn(e){return GO(lx,e)}const JC=me("ZodNumberFormat",(e,a)=>{WA.init(e,a),lx.init(e,a)});function Xv(e){return QO(JC,e)}const WC=me("ZodUnknown",(e,a)=>{eO.init(e,a),hn.init(e,a)});function Jv(){return YO(WC)}const eR=me("ZodNever",(e,a)=>{tO.init(e,a),hn.init(e,a)});function tR(e){return PO(eR,e)}const nR=me("ZodArray",(e,a)=>{nO.init(e,a),hn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(Lc(s,l)),e.nonempty=s=>e.check(Lc(1,s)),e.max=(s,l)=>e.check(ax(s,l)),e.length=(s,l)=>e.check(sx(s,l)),e.unwrap=()=>e.element});function ix(e,a){return lC(nR,e,a)}const aR=me("ZodObject",(e,a)=>{sO.init(e,a),hn.init(e,a),Mt(e,"shape",()=>a.shape),e.keyof=()=>ox(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Jv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Jv()}),e.strict=()=>e.clone({...e._zod.def,catchall:tR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>_E(e,s),e.safeExtend=s=>NE(e,s),e.merge=s=>jE(e,s),e.pick=s=>SE(e,s),e.omit=s=>wE(e,s),e.partial=(...s)=>EE(cx,e,s[0]),e.required=(...s)=>AE(ux,e,s[0])});function ru(e,a){const s={type:"object",shape:e??{},...He(a)};return new aR(s)}const sR=me("ZodUnion",(e,a)=>{rO.init(e,a),hn.init(e,a),e.options=a.options});function rR(e,a){return new sR({type:"union",options:e,...He(a)})}const lR=me("ZodIntersection",(e,a)=>{lO.init(e,a),hn.init(e,a)});function iR(e,a){return new lR({type:"intersection",left:e,right:a})}const ym=me("ZodEnum",(e,a)=>{iO.init(e,a),hn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,c)=>{const d={};for(const m of l)if(s.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new ym({...a,checks:[],...He(c),entries:d})},e.exclude=(l,c)=>{const d={...a.entries};for(const m of l)if(s.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new ym({...a,checks:[],...He(c),entries:d})}});function ox(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new ym({type:"enum",entries:s,...He(a)})}const oR=me("ZodTransform",(e,a)=>{oO.init(e,a),hn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new F0(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(Bi(d,s.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=s.value),m.inst??(m.inst=e),s.issues.push(Bi(m))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function cR(e){return new oR({type:"transform",transform:e})}const cx=me("ZodOptional",(e,a)=>{cO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function Wv(e){return new cx({type:"optional",innerType:e})}const uR=me("ZodNullable",(e,a)=>{uO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function eb(e){return new uR({type:"nullable",innerType:e})}const dR=me("ZodDefault",(e,a)=>{dO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function fR(e,a){return new dR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():V0(a)}})}const mR=me("ZodPrefault",(e,a)=>{fO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function hR(e,a){return new mR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():V0(a)}})}const ux=me("ZodNonOptional",(e,a)=>{mO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function pR(e,a){return new ux({type:"nonoptional",innerType:e,...He(a)})}const gR=me("ZodCatch",(e,a)=>{hO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function yR(e,a){return new gR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const vR=me("ZodPipe",(e,a)=>{pO.init(e,a),hn.init(e,a),e.in=a.in,e.out=a.out});function tb(e,a){return new vR({type:"pipe",in:e,out:a})}const bR=me("ZodReadonly",(e,a)=>{gO.init(e,a),hn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function xR(e){return new bR({type:"readonly",innerType:e})}const SR=me("ZodCustom",(e,a)=>{yO.init(e,a),hn.init(e,a)});function wR(e,a={}){return iC(SR,e,a)}function _R(e){return oC(e)}const NR=["correlativo","no correlativo"],jR=ru({oi:qc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:qn(),alcance:qn(),pma:qn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:ox(NR).default("correlativo")}),Uf=ru({c1:qn().optional().nullable(),c2:qn().optional().nullable(),c3:qn().optional().nullable(),c4:qn().optional().nullable(),c5:qn().optional().nullable(),c6:qn().optional().nullable(),c7:qc().optional().nullable(),c7_seconds:qn().optional().nullable(),caudal:qn().optional().nullable(),error:qn().optional().nullable()}),ER=ru({medidor:qc().optional(),estado:qn().int().min(0).max(5).default(0),q3:Uf.optional(),q2:Uf.optional(),q1:Uf.optional(),conformidad:qc().optional()});ru({estado:qn().int().min(0).optional(),rows:qn().int().min(1).default(15),rowsData:ix(ER)});function AR(e){return e===16?25.6:e===10?16:NaN}const OR=/^[A-Za-z0-9]{10}$/,CR=e=>(e??"").trim().toUpperCase(),Pt=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},ul=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],vm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},nb=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}vm(a)}},xn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function RR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],c=s[2],d=parseInt(c,10)+a;return`${l}${d.toString().padStart(c.length,"0")}`}function ab(e,a,s){return e?s==="no correlativo"?e.slice(0,4):RR(e,a):""}function Lf(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let l=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,m=s[2]||0;l=c*60+d+m/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),m=(c-d)*100;l=d*60+m}}return l}function qf(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function Bf(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function TR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const c=Math.abs(a),d=Math.abs(s),m=Math.abs(l),h=!(c>2.05||d>2.05||m>5.05),y=c<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(s),x=Math.sign(l),w=p>=0&&v>=0&&x>=0||p<=0&&v<=0&&x<=0,L=h&&y;return w?L?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const dl=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const c=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=s??l??0,h=l??s??0;let y="vi-e-ok";return e==null||isNaN(e)?y="":h>0&&d>h?y="vi-e-error":m>0&&d>m&&(y="vi-e-warn"),o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:`vi-qe-value fw-bold ${y}`,children:c(e)})})};function DR({show:e,title:a,initial:s,onClose:l,onSubmit:c,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:y,readOnly:p,draftStorageKey:v,draftMeta:x,isOnline:w,showRetry:L}){const _={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},A=p===!0,N=w!==!1,{register:k,control:z,handleSubmit:ee,reset:D,setValue:O,getValues:Q}=Vc({defaultValues:_}),U=k("rows",{valueAsNumber:!0}),{fields:te,replace:se,append:Se,remove:ve}=l1({control:z,name:"rowsData"}),[de,be]=b.useState(0),je=b.useRef(0),ge=b.useRef(null),[q,ie]=b.useState(0),re=0,Ce=5,Oe=()=>{if(q>=Ce){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}ie(V=>Math.min(V+1,Ce))},j=()=>{if(q<=re){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}ie(V=>Math.max(V-1,re))},Y=b.useRef(null),[oe,X]=b.useState([]),we=!!s?.version,Ae=b.useRef("rows"),Te=b.useRef(null),Be=b.useRef(null),he=b.useRef(null),Ue=b.useRef(new Map),Ge=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{s?.rowsData?.length&&te.forEach((V,K)=>{if(K===0)return;s.rowsData[K]?.medidor&&Ue.current.set(V.id,!0)})},[s,te]);const _e=b.useCallback(V=>{const K=V<0?0:V;be(K),requestAnimationFrame(()=>{const ye=document.querySelector(`input.vi-medidor-input[data-row="${K}"]`);ye&&(ye.focus(),ye.select())})},[]),Qe=()=>(Q("rowsData")??[]).slice(0,te.length);b.useEffect(()=>{je.current=de},[de]);const Le=V=>{const K=V.target;if(!K)return;const ye=K.tagName;if(ye!=="INPUT"&&ye!=="SELECT"&&ye!=="TEXTAREA")return;const ke=V.key;if(ke==="Escape"){V.preventDefault(),Fn();return}if(ke==="ArrowUp"||ke==="ArrowDown"||ke==="ArrowLeft"||ke==="ArrowRight"||ke==="Enter"){const pn=K.name;if(!pn||!pn.startsWith("rowsData."))return;const jt=pn.match(/^rowsData\.(\d+)\.(.+)$/);if(!jt)return;const it=parseInt(jt[1],10),gt=jt[2],kt=V.currentTarget,un=te.length-1,_n=(gn,dn)=>{let Bt=gn+dn;for(;Bt>=0&&Bt<=un;){const Un=`[name="rowsData.${Bt}.${gt}"]`,en=kt.querySelector(Un);if(en&&!en.disabled)return{index:Bt,el:en};Bt+=dn}return null};if(ke==="ArrowUp"||ke==="ArrowDown"){V.preventDefault();const dn=_n(it,ke==="ArrowUp"?-1:1);dn&&nb(gt,dn.el);return}if(ke==="ArrowLeft"||ke==="ArrowRight"){V.preventDefault();const gn=ul.indexOf(gt);if(gn===-1)return;const Bt=gn+(ke==="ArrowRight"?1:-1);if(Bt<0||Bt>=ul.length)return;const Un=ul[Bt],en=`[name="rowsData.${it}.${Un}"]`,yn=kt.querySelector(en);yn&&!yn.disabled&&vm(yn);return}if(ke==="Enter"){V.preventDefault();const gn=ul.indexOf(gt);if(gn===-1)return;const dn=_n(it,1);if(dn){nb(gt,dn.el);return}const Bt=gn+1;if(Bt<ul.length){const Un=ul[Bt];for(let en=0;en<=un;en++){const yn=`[name="rowsData.${en}.${Un}"]`,Hn=kt.querySelector(yn);if(Hn&&!Hn.disabled){vm(Hn);return}}}Y.current&&Y.current.focus();return}}if(ke!=="Tab")return;const Xe=V.currentTarget,lt=Array.from(Xe.querySelectorAll("input, select, textarea")).filter(Rt=>!Rt.hasAttribute("disabled")),Fe=lt.indexOf(K);if(Fe===-1)return;if(ke==="Tab"&&V.shiftKey){Fe>0&&(V.preventDefault(),lt[Fe-1].focus());return}const zt=Fe+1;if(zt<lt.length){V.preventDefault(),lt[zt].focus();return}Y.current&&(V.preventDefault(),Y.current.focus())},Pe=(V,K)=>{se(V),O("rows",V.length),be(ye=>V.length===0?0:typeof K=="number"?Math.max(0,Math.min(K,V.length-1)):Math.min(ye,V.length-1))},Ee=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Ye=V=>V==null?"":typeof V=="number"?V:typeof V=="string"?V.replace(",","."):V,rt=V=>{if(!V)return{};const K={...V};return["c1","c2","c3","c4","c5","c6"].forEach(ye=>{K[ye]=Ye(K[ye])}),K},Nt=()=>{const V=s?.rowsData?.length??s?.rows??15,K=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:V}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(ye=>({medidor:ye.medidor??"",estado:ye.estado??0,q3:rt(ye.q3),q2:rt(ye.q2),q1:rt(ye.q1)}));return{rows:K.length,rowsData:K,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},C=b.useCallback(()=>{const V=Q(),K=V.rowsData??[];return{estado:V.estado??0,rows:Number(V.rows??K.length),version:V.version??s?.version??null,rowsData:K,draftCreatedAt:V.draftCreatedAt??s?.draftCreatedAt??null,draftId:V.draftId??s?.draftId??null}},[Q,s?.version,s?.draftCreatedAt,s?.draftId]),$=V=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:V}:null,R=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,F=V=>V==null||V===""||typeof V=="number"&&Number.isNaN(V),H=V=>V?Number(V.estado??0)!==0||V.medidor&&V.medidor.toString().trim()!==""?!0:Ne(V):!1,ae=V=>(V.rowsData??[]).some(ye=>H(ye)),Ne=V=>{const K=[V.q3,V.q2,V.q1];for(const ye of K)if(ye){for(const ke of Ge)if(!F(ye[ke]))return!0}return!1},De=V=>V?{...V,c4:null,c5:null}:{c4:null,c5:null},J=V=>{if(!V)return V;const K={...V};return F(K.c4)&&(K.c4=null),F(K.c5)&&(K.c5=null),K},Re=V=>{for(let K=0;K<V.length;K++){const ye=V[K],ke=Number(ye.estado??0),Xe=ke!==0;if(!H(ye))continue;if(!ye.medidor||ye.medidor.toString().trim()==="")return`La fila ${K+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Fe=[{name:"Q3 (Nominal)",block:ye.q3},{name:"Q2 (Transicin)",block:ye.q2},{name:"Q1 (Mnimo)",block:ye.q1}],Gt=Fe.some(({block:zt})=>zt&&Ge.some(Rt=>!F(zt[Rt])));if(ke===0&&!Gt)return`La fila ${K+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!Xe)for(const{name:zt,block:Rt}of Fe){if(!Rt||!Ge.some(it=>!F(Rt[it])))continue;if(Ge.some(it=>F(Rt[it])))return`La fila ${K+1} tiene datos incompletos en el bloque ${zt}. Completa todos los campos o elimina la fila.`}}return null},Ie=V=>V==null||V===""?null:String(V).replace(/\./g,","),ft=V=>{if(!V)return{};const K={...V};return["c1","c2","c3","c4","c5","c6","c7"].forEach(ye=>{K[ye]=Ie(K[ye])}),K},Sn=V=>{const K=[];let ye=null;const ke=(lt,Fe,Gt)=>{K[lt]||(K[lt]={}),K[lt][Fe]=Gt,ye||(ye=`Fila ${lt+1}: ${Gt}`)},Xe={};return V.forEach(lt=>{const Fe=(lt.medidor??"").trim();Fe&&(Xe[Fe]=(Xe[Fe]??0)+1)}),V.forEach((lt,Fe)=>{const Gt=lt.q3||{},zt=lt.q2||{},Rt=lt.q1||{},pn=Gt.c4,jt=Gt.c5,it=zt.c4,gt=zt.c5,kt=Rt.c4,un=Rt.c5;pn!=null&&jt!=null&&!Number.isNaN(pn)&&!Number.isNaN(jt)&&jt<pn&&ke(Fe,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),it!=null&&gt!=null&&!Number.isNaN(it)&&!Number.isNaN(gt)&&gt<it&&ke(Fe,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),kt!=null&&un!=null&&!Number.isNaN(kt)&&!Number.isNaN(un)&&un<kt&&ke(Fe,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),jt!=null&&it!=null&&!Number.isNaN(jt)&&!Number.isNaN(it)&&it<jt&&ke(Fe,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),gt!=null&&kt!=null&&!Number.isNaN(gt)&&!Number.isNaN(kt)&&kt<gt&&ke(Fe,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const _n=(lt.medidor??"").trim();_n&&Xe[_n]>1&&ke(Fe,"medidor_dup","Serie de medidor repetida."),_n&&!OR.test(_n)&&ke(Fe,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:K,firstMessage:ye}},pe=V=>{if(A)return;const K=(V.rowsData??[]).slice(0,te.length),ye=Re(K);if(ye){alert(ye);return}const{rowErrors:ke,firstMessage:Xe}=Sn(K);if(X(ke),Xe){alert(Xe);return}const Fe=K.filter(H).map(zt=>{const Rt=Number(zt.estado??0),pn=Rt>=1&&Rt<=4,jt=Rt===5&&!Ne(zt),it=pn||jt,gt=J(zt.q3),kt=J(zt.q2),un=J(zt.q1),_n=gn=>{if(it){const dn=De(gn);return ft(dn)}return ft(gn)};return{...zt,q3:_n(gt),q2:_n(kt),q1:_n(un)}}),Gt={...V,rows:Fe.length,rowsData:Fe,version:V.version??s?.version??null};c(Gt)},Ke=ji({control:z,name:"rowsData.0"}),Zt=ji({control:z,name:"rowsData"}),xt=ji({control:z,name:"rowsData.0.q3.c7"}),wn=ji({control:z,name:"rowsData.0.q2.c7"}),kn=ji({control:z,name:"rowsData.0.q1.c7"});b.useEffect(()=>{te[0]&&(O("rowsData.0.q3.c7_seconds",Lf(xt)),O("rowsData.0.q2.c7_seconds",Lf(wn)),O("rowsData.0.q1.c7_seconds",Lf(kn)))},[xt,wn,kn,O,te]),b.useEffect(()=>{const V=Zt??[],{rowErrors:K}=Sn(V);X(K)},[Zt]),b.useEffect(()=>{if(!Ke||te.length<=1)return;const V=Zt??[];te.forEach((K,ye)=>{if(ye===0)return;const ke=K.id;(Ue.current.get(ke)??!1)||O(`rowsData.${ye}.medidor`,ab(Ke.medidor||"",ye,m));const lt=V[ye]?.estado;(lt==null||Number.isNaN(lt))&&O(`rowsData.${ye}.estado`,Ke.estado),O(`rowsData.${ye}.q3.c1`,Ke.q3?.c1??null),O(`rowsData.${ye}.q3.c2`,Ke.q3?.c2??null),O(`rowsData.${ye}.q3.c3`,Ke.q3?.c3??null),O(`rowsData.${ye}.q3.c6`,Ke.q3?.c6??null),O(`rowsData.${ye}.q3.c7`,Ke.q3?.c7??""),O(`rowsData.${ye}.q3.c7_seconds`,Ke.q3?.c7_seconds??null),O(`rowsData.${ye}.q2.c1`,Ke.q2?.c1??null),O(`rowsData.${ye}.q2.c2`,Ke.q2?.c2??null),O(`rowsData.${ye}.q2.c3`,Ke.q2?.c3??null),O(`rowsData.${ye}.q2.c6`,Ke.q2?.c6??null),O(`rowsData.${ye}.q2.c7`,Ke.q2?.c7??""),O(`rowsData.${ye}.q2.c7_seconds`,Ke.q2?.c7_seconds??null),O(`rowsData.${ye}.q1.c1`,Ke.q1?.c1??null),O(`rowsData.${ye}.q1.c2`,Ke.q1?.c2??null),O(`rowsData.${ye}.q1.c3`,Ke.q1?.c3??null),O(`rowsData.${ye}.q1.c6`,Ke.q1?.c6??null),O(`rowsData.${ye}.q1.c7`,Ke.q1?.c7??""),O(`rowsData.${ye}.q1.c7_seconds`,Ke.q1?.c7_seconds??null)})},[Ke,Zt,te,O,m]),b.useEffect(()=>{be(V=>{const K=Math.max(te.length-1,0);return V>K?K:V})},[te.length]);const Ya=()=>{if(te.length>=50){if(O("rows",50),_e(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){ge.current&&(ge.current.focus(),ge.current.select());return}return}Se(Ee()),O("rows",te.length+1),_e(te.length)},na=V=>{if(te.length<=1)return;const K=Math.max(0,Math.min(V,te.length-1));ve(K),O("rows",Math.max(te.length-1,1)),_e(Math.max(0,K-(K===te.length-1?1:0)))},nt=()=>{te.length<=1||(ve(te.length-1),O("rows",Math.max(te.length-1,1)),_e(Math.max(0,te.length-2)))},Aa=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const V=Qe();if(!V.length)return;const K=V.map(()=>Ee());Pe(K,0),_e(0)},da=()=>{let V=Number(Q("rows"));if((!Number.isFinite(V)||V<1)&&(V=1),V>50){const ke=Qe();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){O("rows",ke.length),ge.current&&(ge.current.focus(),ge.current.select());return}V=50}const K=Qe();if(V!==K.length&&!confirm(`La lista tendr ${V} filas. Quieres continuar?`)){O("rows",K.length),ge.current&&(ge.current.focus(),ge.current.select());return}if(V===K.length){O("rows",V);return}if(V>K.length){const ke=Math.min(V,50)-K.length;if(ke>0){const Xe=Array.from({length:ke},()=>Ee()),lt=[...K,...Xe];Pe(lt,de),_e(K.length)}else O("rows",K.length);return}const ye=K.slice(0,V);Pe(ye,Math.min(de,V-1))},Oa=V=>{V.key==="Enter"&&(V.preventDefault(),da(),_e(0))},Fn=()=>{const V=Q(),K=document.activeElement;if(ge.current&&K===ge.current)Ae.current="rows",Te.current="rows";else if(K&&K instanceof HTMLElement){const ye=K.getAttribute("name");ye&&ye.startsWith("rowsData.")?(Ae.current="grid",Te.current=ye):(Ae.current="grid",Te.current=null)}else Ae.current="grid",Te.current=null;if(v){const ye=C();if(!ae(ye))Hs(v),he.current=null;else{const ke=$(ye);if(ke){const Xe=JSON.stringify(ke);Ti(v,ke,R()),he.current=Xe}}}d&&d(V),l()};b.useEffect(()=>{if(!e)return;const V=K=>{if(K.key==="Escape"){K.preventDefault(),Fn();return}if((K.key==="+"||K.key==="=")&&K.ctrlKey){K.preventDefault(),Ya();return}(K.key==="-"||K.key==="_")&&K.ctrlKey&&(K.preventDefault(),nt())};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[e,Ya,nt,Fn]),b.useEffect(()=>{const V=Nt();D(V),Pe(V.rowsData,0),Ue.current.clear(),requestAnimationFrame(()=>{if(we)_e(0);else if(Te.current){const K=document.querySelector(`[name="${Te.current}"]`);if(K){K.focus(),"select"in K&&K.select?.();return}_e(je.current||0)}else ge.current&&(ge.current.focus(),ge.current.select())})},[s,D,se,_e,we]),b.useEffect(()=>{if(!e||!v)return;const V=C();if(!ae(V)){Hs(v),he.current=null;return}const K=$(V);if(!K)return;const ye=JSON.stringify(K);if(ye!==he.current)return Be.current&&window.clearTimeout(Be.current),Be.current=window.setTimeout(()=>{Ti(v,K,R()),he.current=ye},400),()=>{Be.current&&window.clearTimeout(Be.current)}},[e,v,Zt,C]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(we)_e(0);else if(Te.current){const V=document.querySelector(`[name="${Te.current}"]`);if(V){V.focus(),"select"in V&&V.select?.();return}_e(je.current||0)}else ge.current&&(ge.current.focus(),ge.current.select())})},[e,_e,we]);const $n=oe.some(V=>V&&Object.values(V).some(Boolean));return e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:V=>{V.target===V.currentTarget&&Fn()},children:[o.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),o.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:o.jsx("div",{className:"modal-content",children:o.jsxs("form",{onSubmit:ee(pe),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close",onClick:Fn,"aria-label":"Close"})]}),o.jsx("fieldset",{disabled:A,children:o.jsxs("div",{className:"modal-body p-2",children:[!N&&o.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),o.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[o.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[o.jsx("label",{className:"form-label mb-1",children:"Filas"}),o.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...U,ref:V=>{ge.current=V,U.ref(V)},onBlur:da,onKeyDown:Oa})]}),o.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Ya,children:"+ Agregar Fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:nt,children:"- Quitar ltima fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Aa,children:"Limpiar Todo"})]}),o.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Oe,children:"Aumentar tamao"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:j,children:"Reducir tamao"})]}),o.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",de+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),o.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:o.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${q}`,children:[o.jsxs("thead",{className:"table-light sticky-top z-1",children:[o.jsxs("tr",{children:[o.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),o.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),o.jsx("th",{style:{width:"90px"},children:"Estado"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),o.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),o.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),o.jsxs("tr",{style:{fontSize:"0.75rem"},children:[o.jsx("th",{className:"vi-row-index"}),o.jsx("th",{className:"vi-sticky-medidor"}),o.jsx("th",{}),o.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),o.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),o.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),o.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),o.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),o.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),o.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),o.jsx("th",{className:"vi-header-quitar"})]})]}),o.jsx("tbody",{onKeyDown:Le,children:te.map((V,K)=>{const ye=K===0,ke=Zt?.[K]||{},Xe=oe[K]||{},lt=Number(ke.estado??0),Fe=lt>=1&&lt<=4,Gt=ke.q3?.c6,zt=ke.q3?.c7_seconds,Rt=ke.q3?.c4,pn=ke.q3?.c5,jt=qf(Gt,zt),it=Bf(Rt,pn,Gt),gt=ke.q2?.c6,kt=ke.q2?.c7_seconds,un=ke.q2?.c4,_n=ke.q2?.c5,gn=qf(gt,kt),dn=Bf(un,_n,gt),Bt=ke.q1?.c6,Un=ke.q1?.c7_seconds,en=ke.q1?.c4,yn=ke.q1?.c5,Hn=qf(Bt,Un),Tn=Bf(en,yn,Bt),Tt=TR(ke.estado,it,dn,Tn),Rr=[ye?"vi-base-row":"",de===K?"table-active":""].filter(Boolean).join(" "),Ca=k(`rowsData.${K}.medidor`),Nn=CR(ke.medidor??""),Vn=Nn?h?.[Nn]?.message:"",Pa=Xe.medidor_format||Xe.medidor_dup||Vn||"",Tr=!!Pa,Ka=(Tt||"").toUpperCase(),Qs=Ka==="NO CONFORME"?"vi-at-valor--fail":Ka==="CONFORME"?"vi-at-valor--ok":"";return o.jsxs("tr",{className:Rr,onMouseEnter:()=>be(K),onClick:()=>be(K),onFocusCapture:()=>be(K),children:[o.jsx("td",{className:"small vi-row-index",children:K+1}),o.jsx("td",{className:"vi-sticky-medidor",children:o.jsx("input",{"data-row":K,"data-row-id":V.id,...Ca,size:1,style:{minWidth:"100%"},disabled:Fe,onInput:Pt,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Tr?"vi-error-cell":""].filter(Boolean).join(" "),title:Pa||"",onChange:tn=>{const Ra=Q(`rowsData.${K}.medidor`);if(Ca.onChange(tn),y?.(Ra),K===0)return;const Zn=tn.currentTarget.value.trim();if(!Zn){Ue.current.delete(V.id);return}const nn=ab(Ke?.medidor??"",K,m);nn&&nn===Zn?Ue.current.delete(V.id):Ue.current.set(V.id,!0)}})}),o.jsx("td",{children:o.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...k(`rowsData.${K}.estado`,{valueAsNumber:!0}),children:[o.jsx("option",{value:0,children:"0"}),o.jsx("option",{value:1,children:"1"}),o.jsx("option",{value:2,children:"2"}),o.jsx("option",{value:3,children:"3"}),o.jsx("option",{value:4,children:"4"}),o.jsx("option",{value:5,children:"5"})]})}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q3.c1`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q3.c2`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q3.c3`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Fe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Xe.q3_li?" vi-error-cell":""),title:Xe.q3_li||"",...k(`rowsData.${K}.q3.c4`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Fe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Xe.q3_lf?" vi-error-cell":""),title:Xe.q3_lf||"",...k(`rowsData.${K}.q3.c5`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q3.c6`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q3.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:jt}),o.jsx(dl,{val:it,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q2.c1`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q2.c2`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q2.c3`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Fe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Xe.q2_li?" vi-error-cell":""),title:Xe.q2_li||"",...k(`rowsData.${K}.q2.c4`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Fe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Xe.q2_lf?" vi-error-cell":""),title:Xe.q2_lf||"",...k(`rowsData.${K}.q2.c5`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q2.c6`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q2.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:gn}),o.jsx(dl,{val:dn,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q1.c1`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q1.c2`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q1.c3`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Fe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Xe.q1_li?" vi-error-cell":""),title:Xe.q1_li||"",...k(`rowsData.${K}.q1.c4`,{setValueAs:xn})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Fe,onInput:Pt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(Xe.q1_lf?" vi-error-cell":""),title:Xe.q1_lf||"",...k(`rowsData.${K}.q1.c5`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q1.c6`,{setValueAs:xn})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Pt,disabled:!ye||Fe,...k(`rowsData.${K}.q1.c7`),placeholder:"m,ss,ms"})}),o.jsx(dl,{val:Hn}),o.jsx(dl,{val:Tn,isErr:!0,warnThreshold:5,failThreshold:5}),o.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${Qs}`,children:Tt}),o.jsx("td",{className:"text-center align-middle bg-light",children:o.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:tn=>{tn.stopPropagation(),na(K)},disabled:te.length<=1,title:"Eliminar esta fila",children:""})})]},V.id)})})]})})]})}),o.jsxs("div",{className:"modal-footer py-1",children:[o.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Fn,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:Y,disabled:$n||A,children:L&&N?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),o.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function Xi({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[m,h]=b.useState(""),y=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>y.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const x=w=>{w.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const v=x=>{x.preventDefault(),p&&d(m.trim())};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:v,children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx(Li,{label:"Contrasea",inputId:"pwd",value:m,onChange:x=>h(x.target.value),inputRef:y,minLength:1,required:!0}),o.jsx("div",{className:"form-text",children:l})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:c,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function zR(e,a){try{const{data:s}=await Ze.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function MR(e,a){try{const{data:s}=await Ze.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function kR(e){try{const{data:a}=await Ze.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function sb(e,a){try{const{data:s}=await Ze.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function UR(e,a){try{const{data:s}=await Ze.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function LR(e,a){try{const{data:s}=await Ze.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function qR(e,a){try{const{data:s}=await Ze.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function rb(e){try{await Ze.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function dx(e,a){let s;try{s=await Ze.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const w=await x.text();try{const _=JSON.parse(w)?.detail;typeof _=="string"?v=_:Array.isArray(_)&&_.length>0?v=_.map(A=>String(A?.msg??"")).filter(Boolean).join(", "):w&&(v=w)}catch{w&&(v=w)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=s.data,m=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),y=document.createElement("a");y.href=h,y.download=m,document.body.appendChild(y),y.click(),URL.revokeObjectURL(h),y.remove()}async function BR(e){await Ze.delete(`/oi/${e}`)}async function IR(e){try{const{data:a}=await Ze.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function vc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Ze.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function FR(e,a){try{const{data:s}=await Ze.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(l);throw c.status=s?.response?.status,c}}async function If(e){try{const{data:a}=await Ze.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function $R(e){try{const{data:a}=await Ze.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function HR(e){let a;try{a=await Ze.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const y=m?.response?.data;if(y instanceof Blob)try{const v=await y.text();try{const w=JSON.parse(v)?.detail;typeof w=="string"?h=w:Array.isArray(w)&&w.length>0?h=w.map(L=>String(L?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function VR(){try{const{data:e}=await Ze.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function Ff(e){try{const{data:a}=await Ze.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const Jm="vi.currentOI";function Di(e){sessionStorage.setItem(Jm,JSON.stringify(e))}function lb(){const e=sessionStorage.getItem(Jm);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function bm(){sessionStorage.removeItem(Jm)}const $f=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Hf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},ZR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:$f(e.q3),q2:$f(e.q2),q1:$f(e.q1)}),GR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Hf(e.q3),q2:Hf(e.q2),q1:Hf(e.q1)}),fx=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),QR=e=>e.reduce((a,s)=>a+(s.rows??0),0),YR=e=>JSON.parse(JSON.stringify(e)),ib=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),ob=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:fx(e),PR=(e,a)=>e==="view"&&a?"view":"edit",cb=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}T${c(l.getHours())}:${c(l.getMinutes())}`},KR=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},mx=e=>(e??"").trim().toUpperCase(),XR=e=>{const a={};e.forEach(l=>{const c=mx(l.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),l.bancada_item!=null&&!a[c].items.includes(l.bancada_item)&&a[c].items.push(l.bancada_item),l.bancada_id!=null&&!a[c].ids.includes(l.bancada_id)&&a[c].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,y)=>h-y).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},JR="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",WR=(e,a=!0)=>{const l=b.useContext(Na)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const c=l.block(d=>{const m={...d,retry(){c(),d.retry()}};e(m)});return c},[l,e,a])},eT=e=>{const a=Ze.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},tT=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Vf=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function ub(){const{toast:e}=Ar(),a=Er(),s=In(),{oiId:l}=d_(),[c,d]=Tb(),m=tT(),{data:h}=wr({queryKey:["catalogs"],queryFn:Vm}),{register:y,handleSubmit:p,watch:v,formState:{errors:x},reset:w,getValues:L}=Vc({resolver:fC(jR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),_=Rn(),A=_?.userId??null,N=_?.bancoId??Ui(),k=qa(_?.role,_?.username)!=="technician",z=lb(),ee=l?Number(l):null,D=Number.isFinite(ee)?ee:null,O=D!=null||(z?.id??null)!=null,Q=(c.get("mode")||"").toLowerCase(),U=PR(Q,O),te=U==="view",se=U==="edit",[Se,ve]=b.useState(!1),[de,be]=b.useState(!1),[je,ge]=b.useState(null),[q,ie]=b.useState(null),[re,Ce]=b.useState(!1),Oe=de||te,[j,Y]=b.useState(!1),[oe,X]=b.useState(null),[we,Ae]=b.useState(null),[Te,Be]=b.useState(null),[he,Ue]=b.useState(!1),[Ge,_e]=b.useState(""),[Qe,Le]=b.useState(null),[Pe,Ee]=b.useState("bancada"),[Ye,rt]=b.useState(!1),[Nt,C]=b.useState(!1),[$,R]=b.useState(null),F=b.useRef([]),H=b.useRef(null),ae=b.useRef(!1),Ne=b.useRef(!1),De=b.useRef(!1),J=b.useRef(null),Re=b.useRef(!1),Ie=b.useRef(m),ft=b.useRef(!1),Sn=b.useRef(!1),[pe,Ke]=b.useState(null),[Zt,xt]=b.useState(null),[wn,kn]=b.useState([]),[Ya,na]=b.useState(!1),[nt,Aa]=b.useState(null),[da,Oa]=b.useState(!1),[Fn,$n]=b.useState(null),[V,K]=b.useState(0),[ye,ke]=b.useState({}),[Xe,lt]=b.useState({}),Fe=s.state?.returnTo,Gt=()=>typeof Fe=="string"&&Fe?Fe:"/oi/list",zt=E=>{const I=new URLSearchParams(c);I.set("mode",E),d(I,{replace:!0})},Rt="new",pn=15,jt=E=>E?`bancada-${E.id}`:Rt,it=E=>E==null?!1:typeof E=="string"?E.trim()!=="":typeof E=="number"?Number.isFinite(E):!0,gt=E=>E==="c7_seconds"||E==="caudal"||E==="error",kt=E=>E?Object.entries(E).some(([I,ce])=>gt(I)?!1:it(ce)):!1,un=E=>!E||!Array.isArray(E.rowsData)?!1:E.rowsData.some(I=>{if(!I)return!1;if(Number(I.estado??0)!==0)return!0;const xe=I.medidor;return typeof xe=="string"&&xe.trim()!==""?!0:kt(I.q3)||kt(I.q2)||kt(I.q1)}),_n=(E=pn)=>Array.from({length:E}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),gn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,dn=E=>({draftId:gn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:pn,rowsData:_n(),version:null}),Bt=E=>{const I=new URLSearchParams(s.search);I.set("mode","edit");const ce=s.pathname==="/oi"||s.pathname==="/oi/"?E?`/oi/${E}`:"/oi":s.pathname,xe=I.toString();return xe?`${ce}?${xe}`:ce},Un=(E,I)=>!E||!A||N==null?null:{version:1,ts:new Date().toISOString(),userId:A,bankId:N,oiId:E,oiCode:L("oi")??null,returnTo:Bt(E),mode:"edit",modal:I},en=()=>{if(Ya)return nt?{type:"bancada",bancadaId:nt.id}:{type:"bancada",isNew:!0}},yn=E=>Rf({userId:A,bankId:N,oiId:E,type:"bancada",isNew:!0}),Hn=E=>{const I=yn(E);if(!I)return null;const ce=Tf(I);if(!ce||!A||N==null||!E||ce.userId!==A||ce.bankId!==N||ce.oiId!==E)return null;const xe=ce?.data??null;return un(xe)?xe:(Hs(I),null)},Tn=(E,I)=>{const ce=yn(E);if(!ce)return;if(!I||!un(I)){Hs(ce);return}if(!A||N==null||!E)return;const xe={version:1,ts:new Date().toISOString(),userId:A,bankId:N,oiId:E,isNew:!0,data:I},We=Un(E,{type:"bancada",isNew:!0});Ti(ce,xe,We)},Tt=E=>Rf({userId:A,bankId:N,oiId:E,type:"header"}),Rr=E=>{if(!E)return null;const I=Tf(E);return!I||!A||N==null||I.userId!==A||I.bankId!==N||pe!=null&&I.oiId!==pe?null:I?.data??null},Ca=(E,I)=>{if(!E||!A||N==null)return;const ce=pe??0,xe={version:1,ts:new Date().toISOString(),userId:A,bankId:N,oiId:ce,data:I},We=Un(pe,en());Ti(E,xe,We)},Nn=E=>{E&&Hs(E)},Vn=E=>{const I={};return E.q3!=null&&(I.q3=Number(E.q3)),E.alcance!=null&&(I.alcance=Number(E.alcance)),E.pma!=null&&(I.pma=Number(E.pma)),E.numeration_type&&(I.numeration_type=E.numeration_type),I},Pa=(E,I)=>Rf({userId:A,bankId:N,oiId:E,type:"bancada",bancadaId:I}),Tr=(E,I)=>{const ce=Pa(E,I);if(!ce)return null;const xe=Tf(ce);if(!xe||!A||N==null||!E||!I||xe.userId!==A||xe.bankId!==N||xe.oiId!==E)return null;const We=xe?.data??null;return un(We)?We:(Hs(ce),null)},Ka=(E,I,ce)=>{const xe=Pa(E,I);if(!xe)return;if(!un(ce)){Hs(xe);return}if(!A||N==null||!E||!I)return;const We={version:1,ts:new Date().toISOString(),userId:A,bankId:N,oiId:E,bancadaId:I,data:ce},Et=Un(E,{type:"bancada",bancadaId:I});Ti(xe,We,Et)},Qs=(E,I)=>{const ce=Pa(E,I);ce&&Hs(ce)},tn=Tt(pe);b.useEffect(()=>{h&&w(E=>({...E,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,w]),b.useEffect(()=>{const E=lb(),I=D??E?.id??null;if(!I){Ke(null),kn([]),F.current=[],H.current=null,$n(null),K(0),xt(null),Ae(null),Be(null),Y(!1),be(!1),ge(null),ie(null),Ce(!1),X(null);return}(async()=>{try{const ce=await If(I);Ke(ce.id),Di({id:ce.id,code:ce.code}),kn(ce.bancadas??[]),F.current=YR(ce.bancadas??[]),H.current=ce.updated_at??null,$n(ce.medidores_usuario??null),K(ce.medidores_total_code??0),Ae(ce.saved_at??null),Be(ce.created_at??null),xt(ce.updated_at??ce.created_at);const xe={oi:ce.code,q3:ce.q3,alcance:ce.alcance,pma:ce.pma,numeration_type:ce.numeration_type??"correlativo"};w(xe),Y(!1),be(ce.read_only_for_current_user??!1),ge(ce.locked_by_full_name??null),ie(ce.locked_by_user_id??null),Ce((ce.locked_by_user_id??null)===A),X(xe)}catch{bm()}})()},[w,A,D]),b.useEffect(()=>{if(!pe||Xe[Rt])return;const E=Hn(pe);E&&(lt(I=>({...I,[Rt]:E})),e({kind:"info",message:"Se restauro un borrador local."}))},[pe,Xe,e]),b.useEffect(()=>{if(!pe||!A||!se)return;let E=!1;return(async()=>{const I=ce=>{be(ce?.read_only_for_current_user??!1),ge(ce?.locked_by_full_name??null),ie(ce?.locked_by_user_id??null),Ce((ce?.locked_by_user_id??null)===A)};try{const ce=await IR(pe);if(E)return;I(ce)}catch(ce){if(E)return;const xe=ce?.status??ce?.response?.status;let We=null;try{const ot=await If(pe);if(E)return;We=ot.locked_by_full_name??null,I({read_only_for_current_user:!0,locked_by_full_name:We,locked_by_user_id:ot.locked_by_user_id??null})}catch{be(!0),Ce(!1)}const Et=We?`La OI est? siendo editada por ${We}. Se abre en modo lectura.`:ce?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:xe===423||xe===409?"warning":"error",title:xe===423||xe===409?"OI bloqueada":"Error",message:Et}),be(!0),Ce(!1),Q!=="view"&&zt("view")}})(),()=>{E=!0}},[pe,A,se]),b.useEffect(()=>()=>{pe&&re&&vc(pe).catch(()=>{})},[pe,re]),b.useEffect(()=>{pe&&(!re||Oe||!se||Xj(pe))},[re,pe,Oe,se]),b.useEffect(()=>{Ne.current=!1,De.current=!1,C(!1),Re.current=!1,Sn.current=!1},[pe]),b.useEffect(()=>{if(!Ie.current&&m){if(!!!Rn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Ie.current=m;return}(De.current||Nt)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Ie.current=m},[m,Nt,e]),b.useEffect(()=>{const E=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",E),()=>window.removeEventListener("medileser:auth-expired",E)},[e]),b.useEffect(()=>{const E=tE();if(!E){R(null),ft.current=!1;return}const I=`${s.pathname}${s.search}`,ce=E.route===I,xe=E.oiId==null||E.oiId===pe;if(!ce&&!xe){R(null),ft.current=!1;return}R(E),E.type==="save_bancada"&&C(!0),E.type==="save_oi"&&(De.current=!0),ft.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),ft.current=!0)},[s.pathname,s.search,pe,e]);const Ra=se&&!Oe&&(j||!pe);b.useEffect(()=>{if(!Ra||Re.current)return;const E=Rr(tn);if(!E)return;const I=L();w({...I,...E,numeration_type:E.numeration_type??I.numeration_type??"correlativo"}),Re.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Ra,tn,L,w,e]),b.useEffect(()=>{if(!Ra)return;const E=v(I=>{J.current&&window.clearTimeout(J.current),J.current=window.setTimeout(()=>{Ca(tn,Vn(I))},400)});return()=>{E.unsubscribe(),J.current&&window.clearTimeout(J.current)}},[v,Ra,tn]);const Zn=b.useMemo(()=>Object.keys(Xe).length>0,[Xe]),nn=se&&!Oe&&(re||j||Zn);b.useEffect(()=>{if(!nn)return;const E=I=>{if(!ae.current)return I.preventDefault(),I.returnValue="",""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[nn]),WR(E=>{if(!nn){E.retry();return}if(ae.current){E.retry();return}if(E.location.pathname===s.pathname){E.retry();return}window.confirm(JR)&&E.retry()},nn),b.useEffect(()=>{if(!pe||!re||Oe||!se)return;const E=()=>{if(ae.current||Ne.current)return;Ne.current=!0;const ce=Rn()?.token,xe=eT(`/oi/${pe}/close`);fetch(xe,{method:"POST",headers:ce?{Authorization:`Bearer ${ce}`}:void 0,keepalive:!0}).catch(()=>{})},I=()=>{E()};return window.addEventListener("pagehide",I),()=>window.removeEventListener("pagehide",I)},[pe,re,Oe,se]);const Rl=v("pma"),Wi=b.useMemo(()=>AR(Number(Rl)),[Rl]),Tl=v("numeration_type")??"correlativo",Dl=async E=>{try{ve(!0);const I=Rn();if(!I)throw new Error("Sesin no vlida");const ce=I.bancoId;if(ce==null)throw new Error("Debe seleccionar un banco para crear una OI.");const xe={code:E.oi,q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),banco_id:ce,tech_number:I.techNumber,numeration_type:E.numeration_type??"correlativo"},We=await kR(xe);return Ke(We.id),xt(We.updated_at??We.created_at),$n(We.medidores_usuario??0),K(We.medidores_total_code??0),Ae(We.saved_at??null),Be(We.created_at??null),Di({id:We.id,code:We.code}),X(E),De.current=!1,Nn(Tt(null)),Nn(Tt(We.id)),Oi(),R(null),e({kind:"success",title:"OI creada",message:`${We.code} (#${We.id})`}),!0}catch(I){return Vf(I)?(De.current=!0,Ca(tn,Vn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):Nc(I)?(De.current=!0,Ca(tn,Vn(E)),!1):(e({kind:"error",title:"Error",message:I?.message??"Error creando OI"}),!1)}finally{ve(!1)}},Ys=async E=>{if(!pe)return!1;if(Oe)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(ve(!0),!pe)throw new Error("No hay OI seleccionada para actualizar.");if(!Zt)throw new Error("No se pudo determinar la versin actual de la OI. Recargue la pgina e intntelo de nuevo.");const I=E.oi?.trim(),ce={q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),numeration_type:E.numeration_type??"correlativo",updated_at:Zt};k&&I&&I!==(oe?.oi??"")&&(ce.code=I);const xe=await zR(pe,ce);return X(E),xt(xe.updated_at??xe.created_at),Ae(xe.saved_at??null),Be(xe.created_at??null),xe.code&&Di({id:xe.id,code:xe.code}),ie(xe.locked_by_user_id??null),ge(xe.locked_by_full_name??null),be(xe.read_only_for_current_user??!1),Ce((xe.locked_by_user_id??null)===A),Y(!1),De.current=!1,Nn(tn),Oi(),R(null),e({kind:"success",title:"OI actualizada",message:E.oi}),!0}catch(I){if(Vf(I))return De.current=!0,Ca(tn,Vn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(Nc(I))return De.current=!0,Ca(tn,Vn(E)),!1;const ce=I?.status??I?.response?.status;return e(ce===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:I?.message??"Error actualizando OI"}),!1}finally{ve(!1)}},zl=!!pe&&j&&!Oe,vn=()=>ke({}),Ml=E=>{const I=mx(E);I&&ke(ce=>{if(!ce[I])return ce;const xe={...ce};return delete xe[I],xe})},Dr=()=>{if(Oe){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!pe)return;vn(),C(!1);const E=Hn(pe),I=E??dn();lt(ce=>({...ce,[Rt]:I})),Tn(pe,I),E&&e({kind:"info",message:"Se restauro un borrador local."}),Aa(null),na(!0)},Ps=E=>{if(Oe&&!te){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}vn(),C(!1);const I=Tr(pe,E.id);if(I){const ce=jt(E);lt(xe=>({...xe,[ce]:I})),e({kind:"info",message:"Se restauro un borrador local."})}Aa(E),na(!0)};b.useEffect(()=>{if(!pe||Sn.current)return;const E=Vj();if(E&&!(!A||N==null)&&!(E.userId!==A||E.bankId!==N)&&E.oiId===pe){if(E.modal?.type==="bancada"){if(E.modal.isNew){Sn.current=!0,Df(),Dr();return}if(E.modal.bancadaId){const I=wn.find(ce=>ce.id===E.modal?.bancadaId);if(!I)return;Sn.current=!0,Df(),Ps(I);return}}Sn.current=!0,Df()}},[A,N,wn,pe,Dr,Ps]);const ps=b.useMemo(()=>{const E=jt(nt),I=Xe[E];if(I){const We=I.version??nt?.updated_at??nt?.created_at??null;return{...I,version:We}}if(!nt)return;const xe=fx(nt).map(ZR);return{estado:nt.estado,rows:xe.length||nt.rows,rowsData:xe,version:nt.updated_at??nt.created_at??null}},[nt,Xe]),eo=async E=>{if(pe){if(Oe){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}vn(),C(!1);try{ve(!0);const I=E.draftCreatedAt??Xe[Rt]?.draftCreatedAt,ce={estado:Number(E.estado??0),rows:Number(E.rowsData.length),rows_data:E.rowsData.map(GR)};if(nt){const xe=E.version??nt.updated_at??nt.created_at??null;if(!xe)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const We={...ce,updated_at:xe},Et=await UR(nt.id,We);kn(ot=>ot.map(jn=>jn.id===Et.id?Et:jn)),xt(Et.updated_at??Et.created_at??Zt),$n(null),Qs(pe,nt.id),lt(ot=>{const jn=`bancada-${nt.id}`,{[jn]:Ws,...Fa}=ot;return Fa}),e({kind:"success",message:"Bancada actualizada"})}else{I&&(ce.draft_created_at=I);const xe=await sb(pe,ce);kn(We=>[...We,xe]),xt(xe.updated_at??xe.created_at??Zt),$n(null),lt(We=>{const{new:Et,...ot}=We;return ot}),Tn(pe,null),e({kind:"success",message:"Bancada agregada"})}try{const xe=await Ff(pe);$n(xe.medidores_usuario??null),K(xe.medidores_total_code??V),Ae(xe.saved_at??null),Be(xe.created_at??null)}catch{}ie(_?.userId??q),ge(_?.fullName??je),Ce(A!==null),be(!1),na(!1),Aa(null),Oi(),R(null),C(!1)}catch(I){if(Vf(I)){nt?Ka(pe,nt.id,E):Tn(pe,E),C(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(Nc(I)){nt?Ka(pe,nt.id,E):Tn(pe,E),C(!0);return}const ce=I?.status??I?.response?.status;if(ce===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(ce===400){const xe=Array.isArray(I?.duplicates)?I.duplicates:Array.isArray(I?.response?.data?.duplicates)?I.response.data.duplicates:[];xe.length>0&&ke(XR(xe)),e({kind:"warning",title:"Validacion",message:I?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:I?.message??"Error guardando bancada"})}finally{ve(!1)}}},to=async E=>{if(confirm(`Eliminar bancada #${E.item}?`)){if(Oe){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(ve(!0),!pe)throw new Error("No hay OI cargada.");await rb(E.id),kn(ce=>ce.filter(xe=>xe.id!==E.id)),$n(null),lt(ce=>{const xe=`bancada-${E.id}`,{[xe]:We,...Et}=ce;return Et}),Qs(pe,E.id);const I=await Ff(pe);xt(I.updated_at??I.created_at??null),Ae(I.saved_at??null),Be(I.created_at??null),ie(I.locked_by_user_id??null),ge(I.locked_by_full_name??null),be(I.read_only_for_current_user??!1),Ce((I.locked_by_user_id??null)===A),$n(I.medidores_usuario??null),K(I.medidores_total_code??V),e({kind:"success",message:`Bancada #${E.item} eliminada`})}catch(I){e({kind:"error",title:"Error",message:I?.message??"Error eliminando bancada"})}finally{ve(!1)}}},gs=()=>{if(!pe){e({kind:"warning",message:"Primero guarda el OI."});return}Oa(!0)},ou=async E=>{if(pe)try{ve(!0),await dx(pe,E),e({kind:"success",message:"Excel generado"})}catch(I){e({kind:"error",title:"Error",message:I?.message??"Error generando Excel"})}finally{ve(!1)}},no=()=>{if(!pe||!k)return;const E=we??Te;Ee("oi"),Le(null),_e(cb(E)),Ue(!0)},ao=E=>{if(!k)return;Ee("bancada"),Le(E);const I=E.saved_at??E.created_at??we??Te;_e(cb(I)),Ue(!0)},kl=async()=>{if(!pe||!k)return;const E=KR(Ge);if(!E){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Pe==="bancada"&&!Qe))try{ve(!0),Pe==="oi"?await FR(pe,{saved_at:E,propagate_to_bancadas:!0}):Qe&&await LR(Qe.id,{saved_at:E});const I=await If(pe);if(kn(I.bancadas??[]),$n(I.medidores_usuario??null),K(I.medidores_total_code??0),Ae(I.saved_at??null),Be(I.created_at??null),xt(I.updated_at??I.created_at),ge(I.locked_by_full_name??null),ie(I.locked_by_user_id??null),be(I.read_only_for_current_user??!1),Ce((I.locked_by_user_id??null)===A),!j){const ce={oi:I.code,q3:I.q3,alcance:I.alcance,pma:I.pma,numeration_type:I.numeration_type??"correlativo"};w(ce),X(ce)}Ue(!1),Le(null),_e(""),Ee("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(I){e({kind:"error",title:"Error",message:I?.message??"Error actualizando fecha"})}finally{ve(!1)}},cu=E=>{vn(),C(!1);const I=jt(nt);let ce={...E};if(!nt){const xe=Xe[Rt];ce.draftCreatedAt||(ce.draftCreatedAt=xe?.draftCreatedAt??new Date().toISOString()),ce.draftId||(ce.draftId=xe?.draftId??gn())}lt(xe=>({...xe,[I]:ce})),nt?Ka(pe,nt.id,ce):Tn(pe,ce),na(!1)},uu=()=>{if(Oe){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const E=L();X({...E,numeration_type:E.numeration_type??"correlativo"}),Y(!0)},zr=()=>{!pe||se||zt("edit")},Ta=()=>{oe&&w(oe),Y(!1),De.current=!1,Nn(tn),Oi(),R(null)},ys=()=>{pe&&(Tn(pe,null),Object.keys(Xe).forEach(E=>{if(!E.startsWith("bancada-"))return;const I=Number(E.replace("bancada-",""));Number.isFinite(I)&&Qs(pe,I)})),Nn(Tt(pe)),Nn(Tt(null)),Fj(),De.current=!1,C(!1),Oi(),R(null),bm(),T0(),Ke(null),kn([]),F.current=[],lt({}),Y(!1),X(null),xt(null),Ae(null),Be(null),be(!1),ge(null),ie(null),Ce(!1),$n(null),K(0),na(!1),Aa(null),Oa(!1),Ue(!1),rt(!1),_e(""),Le(null),Ee("bancada"),w({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Ul=()=>{Ne.current=!0,ae.current=!0,ys(),a(Gt())},vs=async()=>{if(!pe)return!0;const E=F.current??[];if(E.length===0&&wn.length===0)return!0;const I=new Map(E.map(xe=>[xe.id,xe])),ce=new Map(wn.map(xe=>[xe.id,xe]));try{for(const Et of wn)I.has(Et.id)||await rb(Et.id);for(const Et of wn){const ot=I.get(Et.id);if(!ot||ib(ot)===ib(Et))continue;const jn=ob(ot),Ws=jn.length||ot.rows||1,Fa=Et.updated_at??Et.created_at??ot.updated_at??ot.created_at;if(!Fa)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await qR(Et.id,{medidor:ot.medidor??null,estado:ot.estado??0,rows:Ws,rows_data:jn,current_updated_at:Fa,restore_updated_at:ot.updated_at??null,restore_saved_at:ot.saved_at??null})}for(const Et of E)if(!ce.has(Et.id)){const ot=ob(Et),jn=ot.length||Et.rows||1;await sb(pe,{estado:Et.estado??0,rows:jn,rows_data:ot})}const xe=await Ff(pe),We=xe.updated_at??xe.created_at;await MR(pe,{current_updated_at:We,restore_updated_at:H.current})}catch(xe){return e({kind:"error",title:"Error",message:xe?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},bs=()=>{Se||rt(!0)},so=async()=>{if(!Se){rt(!1),ve(!0);try{if(!await vs())return;pe&&re&&await vc(pe,"cancel")}catch{}finally{ve(!1)}Ne.current=!0,ae.current=!0,ys(),e({kind:"info",message:"Edicion cancelada"}),a(Gt())}},Ll=async()=>{if(Se)return;rt(!1);let E=!0;if((j||!pe)&&(E=!1,await p(async ce=>{E=pe?await Ys(ce):await Dl(ce)})()),!!E){ve(!0);try{pe&&re&&await vc(pe)}catch{}finally{ve(!1)}Ne.current=!0,ae.current=!0,ys(),e({kind:"info",message:"Cambios guardados"}),a(Gt())}},ro=async()=>{if(!Se){ve(!0);try{pe&&re&&await vc(pe)}catch{}finally{ve(!1)}Ne.current=!0,ae.current=!0,ys(),e({kind:"info",message:"OI cerrada"}),a(Gt())}},Ks=b.useMemo(()=>QR(wn),[wn]),Da=Fn??Ks,Xs=E=>{if(!E)return"-";const ce=/([zZ]|[+-]\d{2}:?\d{2})$/.test(E)?E:`${E}Z`,xe=new Date(ce);return Number.isNaN(xe.getTime())?E:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(xe)},Js=nt?Pa(pe,nt.id):yn(pe),Ia=A&&N!=null&&pe?{userId:A,bankId:N,oiId:pe,bancadaId:nt?.id??null,isNew:!nt,returnTo:Bt(pe),oiCode:L("oi")??null}:null;return o.jsxs("div",{className:"oi-page vi-oi-light",children:[o.jsx(Ol,{show:Se}),!m&&o.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),$&&o.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsx("h1",{className:"h3",children:"Formulario OI"}),o.jsxs("div",{className:"d-flex gap-2",children:[pe&&k&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:no,disabled:Se,children:"Editar fecha guardado"}),pe&&te&&o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:zr,disabled:Se,children:"Editar"})]})]}),Oe&&o.jsx("div",{className:"alert alert-warning mt-2",children:te?"Modo lectura. Use Editar para modificar.":je?`Esta OI est siendo editada por ${je}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),o.jsxs("form",{onSubmit:p(zl?Ys:Dl),className:`row g-3 mt-1 ${zl?"vi-form-editing":"vi-form-readonly"}`,children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),o.jsx("input",{id:"oi",className:`form-control ${pe&&!(k&&j&&!Oe)?"vi-locked":""}`,...y("oi"),disabled:pe?!(k&&j&&!Oe):!1}),x.oi&&o.jsx("div",{className:"text-danger small",children:x.oi.message}),k?o.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el cdigo de OI."}):null]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),o.jsx("select",{id:"q3",className:"form-select",...y("q3",{valueAsNumber:!0}),disabled:!!pe&&!j||Oe,children:h?.q3.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),o.jsx("select",{id:"alcance",className:"form-select",...y("alcance",{valueAsNumber:!0}),disabled:!!pe&&!j||Oe,children:h?.alcance.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),o.jsx("select",{id:"pma",className:"form-select",...y("pma",{valueAsNumber:!0}),disabled:!!pe&&!j||Oe,children:h?.pma.map(E=>o.jsx("option",{value:E,children:E},E))}),o.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),o.jsx("input",{id:"presion",className:"form-control",value:isNaN(Wi)?"":Wi,disabled:!0})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),o.jsxs("select",{id:"numeration_type",className:"form-select",...y("numeration_type"),disabled:!!pe&&!j||Oe,children:[o.jsx("option",{value:"correlativo",children:"Correlativo"}),o.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),o.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),o.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",disabled:Se||!!pe&&(!j||Oe),children:pe?zl?"Guardar cambios":"OI guardada":"Guardar OI"}),pe&&!j&&se&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:uu,disabled:Se||Oe,children:"Editar OI"}),pe&&j&&se&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Ta,disabled:Se,children:"Cancelar edicion"}),te&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Ul,disabled:Se,children:"Volver al listado"}),o.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:gs,disabled:!pe||Se||j,children:"Generar Excel"}),se&&o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:ro,disabled:!pe||j||Se,children:"Cerrar OI"}),se&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:bs,disabled:Se,children:"Cancelar"})]})]}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"card vi-card-table mt-3",children:[o.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),o.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",Da," | Total OI: ",V]})]}),o.jsx("button",{className:"btn btn-primary",onClick:Dr,disabled:!pe||Se||j||Oe,children:"Agregar Bancada"})]}),o.jsx("div",{className:"card-body p-0",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"vi-col-60",children:"Item"}),o.jsx("th",{children:"# Medidor"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),o.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),o.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),o.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[wn.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),wn.map(E=>{const I=E.rows_data?.[0]?.medidor||E.medidor||"",ce=E.rows_data?.[(E.rows_data?.length||0)-1]?.medidor||"",xe=I&&ce&&I!==ce?`${I} ... ${ce}`:I;return o.jsxs("tr",{children:[o.jsx("td",{children:E.item}),o.jsx("td",{children:xe}),o.jsx("td",{children:E.rows}),o.jsx("td",{children:Xs(E.created_at)}),o.jsx("td",{children:Xs(E.saved_at)}),o.jsx("td",{children:Xs(E.updated_at??E.created_at)}),o.jsxs("td",{className:"text-end",children:[k?o.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>ao(E),disabled:Se||j||de,"aria-label":`Editar fecha guardado bancada #${E.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ps(E),disabled:Se||j||!te&&Oe,"aria-label":`${te?"Ver":"Editar"} bancada #${E.item}`,title:te?"Ver":"Editar",children:te?"Ver":"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>to(E),disabled:Se||j||Oe,"aria-label":`Eliminar bancada #${E.item}`,title:"Eliminar",children:""})]})]},E.id)})]})]})})})]}),Ya&&o.jsx(DR,{show:Ya,title:nt?`Editar bancada #${nt.item}`:"Nueva bancada",initial:ps,onClose:()=>{vn(),na(!1)},onSubmit:eo,onCancelWithDraft:cu,numerationType:Tl,readOnly:Oe,duplicateMap:ye,onClearDuplicate:Ml,draftStorageKey:Js,draftMeta:Ia,isOnline:m,showRetry:Nt}),Ye&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:E=>{E.target===E.currentTarget&&rt(!1)},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>rt(!1)})]}),o.jsx("div",{className:"modal-body",children:o.jsx("p",{children:"Estas seguro de descartar cambios?"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:so,disabled:Se,children:"Descartar cambios"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:Ll,disabled:Se,children:"Guardar cambios y volver al listado"})]})]})})}),he&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:E=>{E.target===E.currentTarget&&(Ue(!1),Le(null),Ee("bancada"))},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:E=>{E.preventDefault(),kl()},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{Ue(!1),Le(null),Ee("bancada")}})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),o.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:Ge,onChange:E=>_e(E.target.value),required:!0}),o.jsx("div",{className:"form-text",children:Pe==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{Ue(!1),Le(null),Ee("bancada")},children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Se||!Ge,children:"Guardar"})]})]})})}),o.jsx(Xi,{show:da,title:"Contrasea para proteger Excel",onClose:()=>Oa(!1),onConfirm:E=>{Oa(!1),ou(E)}})]})}function nT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function aT(){const e=Rn(),a=In(),s=e?.token??null,[l,c]=b.useState(()=>!!s);if(b.useEffect(()=>{if(!s){c(!1);return}let w=!1;return c(!0),Ze.get("/auth/me").then(()=>{w||c(!1)}).catch(async L=>{if(w)return;const _=L?.response?.status;if(_===401||_===403){await k0();return}c(!1)}),()=>{w=!0}},[s]),!s)return o.jsx(Vs,{to:"/login",replace:!0});if(l)return o.jsx(Ol,{show:!0});const d=e,m=qa(d.role,d.username),h=Zm(d),y=bl(m),p=Ui(),v=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(y&&v&&!(p&&p>0)&&a.pathname!=="/home")return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const w=nT(a.pathname),L=d.allowedModules;if(w&&Array.isArray(L)&&!L.includes(w))return o.jsx(Vs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return o.jsx(Nb,{})}const sT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),rT=.9;function Wm(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*rT}rem)`}}function xa({to:e,icon:a,label:s,depth:l,collapsed:c}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs(Cb,{to:e,end:!0,className:sT,style:Wm(l,c),title:s,"aria-label":s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function db({icon:e,label:a,depth:s,collapsed:l}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:Wm(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[o.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function pr({groupKey:e,icon:a,label:s,depth:l,collapsed:c,open:d,active:m,onToggle:h,children:y}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return o.jsxs("li",{className:"vi-sidebar-item",children:[o.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:Wm(l,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:o.jsx("i",{className:`ti ${v}`})})]}),!c&&d&&o.jsx("ul",{id:p,className:"list-unstyled mb-0",children:y})]})}function lT({collapsed:e,onToggleSidebar:a}){const s=In(),l=Rn(),c=!!l,d=qa(l?.role,l?.username),m=Zm(l),h=d==="admin"||d==="administrator",y=l?.allowedModules,p=ge=>m||!Array.isArray(y)||y.includes(ge),v=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),w=c&&p("tools_consol_correlativo"),L=c&&p("tools_consol_no_correlativo"),_=c&&p("oi_formulario"),A=c&&p("oi_listado"),N=c&&h&&p("users_admin"),k=c&&p("future_ot"),z=c&&p("logistica"),ee=c&&p("future_smart"),D=w||L,O=v||x,Q=_||A||k,U=O||Q||D,te=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[se,Se]=b.useState(()=>{const ge=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!ge)return te;try{const q=JSON.parse(ge),ie={...te};return Object.keys(ie).forEach(re=>{typeof q[re]=="boolean"&&(ie[re]=q[re])}),ie}catch{return te}}),ve=s.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(se))},[se]);const de=b.useMemo(()=>{const ge=q=>!!Mi({path:q,end:!0},ve);return{vimaToLista:ge("/oi/tools/vima-to-lista"),actualizacionBases:ge("/oi/tools/actualizacion-base"),consolidacionCorrelativo:ge("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:ge("/oi/tools/consolidacion/no-correlativo"),registroOi:ge("/oi"),listadoOi:ge("/oi/list"),users:ge("/users"),password:ge("/password"),permisos:ge("/admin/permisos"),log01Excel:ge("/logistica/log01/excel"),log01History:ge("/logistica/log01/history")}},[ve]),be=b.useMemo(()=>({oi_consolidacion:de.consolidacionCorrelativo||de.consolidacionNoCorrelativo,oi_formato_ac:de.vimaToLista||de.actualizacionBases,oi_verificacion:de.registroOi||de.listadoOi,oi:de.vimaToLista||de.actualizacionBases||de.consolidacionCorrelativo||de.consolidacionNoCorrelativo||de.registroOi||de.listadoOi,usuarios:de.users||de.password,logistica:de.log01Excel||de.log01History,administrar:de.permisos}),[de]);function je(ge){Se(q=>({...q,[ge]:!q[ge]}))}return o.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[o.jsxs("div",{className:"vi-sidebar__header",children:[o.jsxs("div",{className:"vi-sidebar__brand",children:[o.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),o.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&o.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),o.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&o.jsx(xa,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),U&&o.jsxs(pr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:se.oi,active:be.oi,onToggle:je,children:[O&&o.jsxs(pr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:se.oi_formato_ac,active:be.oi_formato_ac,onToggle:je,children:[v&&o.jsx(xa,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&o.jsx(xa,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e})]}),D&&o.jsxs(pr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:se.oi_consolidacion,active:be.oi_consolidacion,onToggle:je,children:[w&&o.jsx(xa,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),L&&o.jsx(xa,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),Q&&o.jsxs(pr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:se.oi_verificacion,active:be.oi_verificacion,onToggle:je,children:[k&&o.jsx(db,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),_&&o.jsx(xa,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),A&&o.jsx(xa,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),z&&o.jsxs(pr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:se.logistica,active:be.logistica,onToggle:je,children:[o.jsx(xa,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacin Excel",depth:1,collapsed:e}),o.jsx(xa,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e})]}),ee&&o.jsx(db,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),o.jsxs(pr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:se.usuarios,active:be.usuarios,onToggle:je,children:[N&&o.jsx(xa,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&o.jsx(xa,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&o.jsx(pr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:se.administrar,active:be.administrar,onToggle:je,children:o.jsx(xa,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function iT({sidebarCollapsed:e,onToggleSidebar:a}){const s=Rn(),l=s?.username??s?.user??"",c=s?bl(s.role):!1,[d,m]=b.useState(()=>Ui());b.useEffect(()=>iE(()=>m(Ui())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",y=async()=>{try{await uE()}finally{location.assign("/login")}};return o.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&o.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),o.jsx("div",{className:"me-auto"}),o.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&o.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",o.jsx("strong",{children:l||"?"}),c&&o.jsxs(o.Fragment,{children:["  ",h,s.techNumber?o.jsxs(o.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:y,children:"Cerrar sesin"})]})]})}function oT(){const a=In().pathname==="/home",[s,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),o.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[o.jsx(lT,{collapsed:s,onToggleSidebar:c}),o.jsxs("div",{className:"vi-main",children:[o.jsx(iT,{sidebarCollapsed:s,onToggleSidebar:c}),o.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:o.jsx(Nb,{})})]})]})}function cT(){const{toast:e}=Ar(),a=Er(),s=In(),[,l]=Tb(),[c,d]=b.useState(()=>new URLSearchParams(s.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[y,p]=b.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[v,x]=b.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[w,L]=b.useState(()=>{const J=new URLSearchParams(s.search).get("pageSize"),Re=J?Number(J):20;return Number.isFinite(Re)&&Re>0?Re:20}),[_,A]=b.useState(()=>{const J=new URLSearchParams(s.search).get("page"),Re=J?Number(J):1;return Number.isFinite(Re)&&Re>0?Math.floor(Re):1}),[N,k]=b.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),z=(_-1)*w,ee=b.useRef(!1);b.useEffect(()=>{if(!ee.current){ee.current=!0;return}const J=setTimeout(()=>{h(c.trim()),A(1)},300);return()=>clearTimeout(J)},[c]),b.useEffect(()=>{const J=new URLSearchParams,Re=c.trim();Re&&J.set("q",Re),y&&J.set("dateFrom",y),v&&J.set("dateTo",v),N&&J.set("responsableTech",N),_!==1&&J.set("page",String(_)),w!==20&&J.set("pageSize",String(w));const Ie=s.search.startsWith("?")?s.search.slice(1):s.search;J.toString()!==Ie&&l(J,{replace:!0})},[y,v,s.search,_,w,N,c,l]);const{data:D,isLoading:O,isError:Q,error:U,refetch:te,isFetching:se}=wr({queryKey:["oi","list",{search:m,dateFrom:y,dateTo:v,responsableTech:N,pageSize:w,offset:z}],queryFn:()=>$R({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:N?Number(N):void 0,limit:w,offset:z}),placeholderData:J=>J}),Se=Rn(),ve=qa(Se?.role,Se?.username)!=="technician",{data:de=[],isFetching:be,isError:je,error:ge}=wr({queryKey:["oi","responsables"],queryFn:VR,enabled:ve,staleTime:6e4,retry:!1}),q=je?ge?.message??"No se pudo cargar responsables":"",ie=J=>{if(!J)return"-";const Re=J.endsWith("Z")?J:`${J}Z`,Ie=new Date(Re),ft=Sn=>Sn.toString().padStart(2,"0");return`${ft(Ie.getDate())}/${ft(Ie.getMonth()+1)}/${Ie.getFullYear()} ${ft(Ie.getHours())}:${ft(Ie.getMinutes())}`},Ce=D?.items??[],Oe=D?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},j=D?.total??0,Y=D?.limit??w,oe=Y>0?Math.ceil(j/Y):1,X=10;let we=1,Ae=oe;if(oe>X){const J=Math.floor(X/2);we=Math.max(1,_-J),Ae=we+X-1,Ae>oe&&(Ae=oe,we=Math.max(1,Ae-X+1))}const[Te,Be]=b.useState(!1),[he,Ue]=b.useState(null),[Ge,_e]=b.useState(!1),[Qe,Le]=b.useState(!1),Pe=O||se||Ge||Qe,Ee=()=>`${s.pathname}${s.search}`,Ye=(J,Re)=>{try{Di({id:J,code:Re}),e({kind:"success",message:`OI ${Re} cargada`}),a(`/oi/${J}?mode=view`,{state:{returnTo:Ee()}})}catch(Ie){e({kind:"error",title:"Error",message:Ie?.message??"No se pudo abrir el OI"})}},rt=(J,Re)=>{try{Di({id:J,code:Re}),e({kind:"success",message:`OI ${Re} cargada`}),a(`/oi/${J}?mode=edit`,{state:{returnTo:Ee()}})}catch(Ie){e({kind:"error",title:"Error",message:Ie?.message??"No se pudo abrir el OI"})}},Nt=async()=>{try{await Pi()}finally{bm(),a("/oi?mode=edit",{state:{returnTo:Ee()}})}},C=async(J,Re)=>{if(confirm(`Ests seguro de ELIMINAR la ${Re}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await BR(J),e({kind:"success",title:"Eliminado",message:`Se elimin ${Re} correctamente.`}),te()}catch(Ie){e({kind:"error",title:"Error",message:Ie.message||"No se pudo eliminar la OI"})}},$=J=>{Ue(J),Be(!0)},R=async J=>{if(he)try{_e(!0),await dx(he,J),e({kind:"success",message:"Excel generado"})}catch(Re){e({kind:"error",title:"Error",message:Re?.message??"No se pudo generar el Excel"})}finally{_e(!1)}},F=async()=>{try{Le(!0);const{blob:J,filename:Re}=await HR({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:N?Number(N):void 0}),Ie=URL.createObjectURL(J),ft=document.createElement("a");ft.href=Ie,ft.download=Re,document.body.appendChild(ft),ft.click(),URL.revokeObjectURL(Ie),ft.remove()}catch(J){const Re=J?.status,Ie=J?.message??"No se pudo exportar el CSV";e(Re===403?{kind:"error",title:"No autorizado",message:Ie}:{kind:"error",title:"Error",message:Ie})}finally{Le(!1)}},H=()=>{d(""),h(""),p(""),x(""),A(1),k("")},ae=j===0?0:z+1,Ne=j===0?0:Math.min(z+Ce.length,j),De=j===0?"0 registros":`Mostrando ${ae}-${Ne} de ${j} registros`;return o.jsxs("div",{children:[o.jsx(Ol,{show:Pe}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",onClick:Nt,disabled:Pe,title:"Nueva OI",children:"Nueva OI"}),o.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),o.jsxs("div",{className:"d-flex gap-2",children:[ve&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:F,disabled:Pe,children:Qe?"Exportando...":"Exportar CSV"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:H,disabled:Pe,children:"Limpiar filtros"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>te(),disabled:Pe,children:"Recargar"})]})]}),Q&&o.jsx("div",{className:"alert alert-danger",children:U?.message??"Error cargando listado"}),o.jsxs("div",{className:"card vi-card-table",children:[o.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Registros"}),o.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",Oe.medidores_resultado," | OI unicas: ",Oe.oi_unicas," | Medidores (Total OI): ",Oe.medidores_total_oi_unicas]})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:J=>{d(J.target.value),A(1)},"aria-label":"Buscar por codigo de OI o medidor"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:J=>{p(J.target.value),A(1)},"aria-label":"Filtrar desde fecha"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:J=>{x(J.target.value),A(1)},"aria-label":"Filtrar hasta fecha"}),ve&&o.jsxs("div",{className:"d-flex flex-column",children:[o.jsxs("select",{className:"form-select form-select-sm",value:N,onChange:J=>{k(J.target.value),A(1)},disabled:Pe||be,"aria-label":"Filtrar por responsable",title:"Responsable",children:[o.jsx("option",{value:"",children:"Responsable: Todos"}),de.map(J=>o.jsx("option",{value:String(J.tech_number),children:J.full_name},J.tech_number))]}),q?o.jsx("small",{className:"text-danger",children:q}):null]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("span",{className:"me-1 small",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:w,onChange:J=>{const Re=Number(J.target.value)||20;L(Re),A(1)},"aria-label":"Registros por pgina",children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"})]})]})]})]}),o.jsxs("div",{className:"card-body p-0",children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ID"}),o.jsx("th",{children:"OI"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{children:"Q3"}),o.jsx("th",{children:"Alcance"}),o.jsx("th",{children:"PMA"}),o.jsx("th",{children:"Banco"}),o.jsx("th",{children:"Tcnico"}),o.jsx("th",{children:"Responsable"}),o.jsx("th",{children:"Creacin"}),o.jsx("th",{children:"Guardado"}),o.jsx("th",{children:"lt. mod."}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[!Pe&&Ce.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:j>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),Ce.map(J=>o.jsxs("tr",{children:[o.jsx("td",{children:J.id}),o.jsx("td",{children:J.code}),o.jsx("td",{title:"Mi registro / Total OI",children:`${J.medidores_usuario??0} / ${J.medidores_total_code??0}`}),o.jsx("td",{children:J.q3}),o.jsx("td",{children:J.alcance}),o.jsx("td",{children:J.pma}),o.jsx("td",{children:J.banco_id}),o.jsx("td",{children:J.tech_number}),o.jsx("td",{children:J.creator_name}),o.jsx("td",{children:ie(J.created_at)}),o.jsx("td",{children:ie(J.saved_at)}),o.jsx("td",{children:ie(J.updated_at)}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ye(J.id,J.code),disabled:Pe,title:"Ver OI","aria-label":`Ver OI ${J.code}`,children:"Ver"}),o.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>rt(J.id,J.code),disabled:Pe,title:"Editar OI","aria-label":`Editar OI ${J.code}`,children:"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>$(J.id),disabled:Pe,title:"Descargar Excel","aria-label":`Descargar Excel ${J.code}`,children:"Excel"}),ve&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>C(J.id,J.code),disabled:Pe,title:"Eliminar OI (Solo Admin)",children:""})]})]},J.id))]})]})}),oe>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${_===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>A(J=>Math.max(1,J-1)),disabled:_===1,children:""})}),Array.from({length:Ae-we+1},(J,Re)=>{const Ie=we+Re;return o.jsx("li",{className:`page-item ${Ie===_?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>A(Ie),children:Ie})},Ie)}),o.jsx("li",{className:`page-item ${_===oe?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>A(J=>Math.min(oe,J+1)),disabled:_===oe,children:"Siguiente"})})]})})]})]}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:De})}),o.jsx(Xi,{show:Te,title:"Contrasea para proteger Excel",onClose:()=>{Be(!1),Ue(null)},onConfirm:J=>{Be(!1),R(J)}})]})}function uT(){const{toast:e}=Ar(),a=Rn(),s=qa(a?.role,a?.username),l=s==="admin"||s==="administrator",c=Zm(a),[d,m]=b.useState(!1),[h,y]=b.useState(!1),[p,v]=b.useState(null),{data:x,refetch:w,isLoading:L}=wr({queryKey:["users"],queryFn:async()=>(await Ze.get("/auth/users")).data,enabled:l}),{register:_,handleSubmit:A,reset:N}=Vc(),k=async D=>{try{y(!0),await Ze.post("/auth/users",{...D,tech_number:Number(D.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),m(!1),N(),w()}catch(O){e({kind:"error",title:"Error",message:O.response?.data?.detail||"Error al crear"})}finally{y(!1)}},z=async D=>{if(confirm(`Eliminar usuario ${D.username}?
Esto solo es posible si no tiene registros.`))try{y(!0),await Ze.delete(`/auth/users/${D.id}`),e({kind:"success",message:"Usuario eliminado"}),w()}catch(O){e({kind:"error",title:"No se puede eliminar",message:O.response?.data?.detail||O.message})}finally{y(!1)}},ee=async D=>{if(p)try{y(!0),await Ze.put(`/auth/users/${p.id}/password`,{new_password:D}),e({kind:"success",message:`Contrasea de ${p.username} actualizada`}),v(null)}catch(O){e({kind:"error",message:O.response?.data?.detail||"Error actualizando clave"})}finally{y(!1)}};return l?o.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[o.jsx(Ol,{show:L||h}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),o.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:"+ Nuevo Usuario"})]}),o.jsx("div",{className:"card shadow-sm",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover align-middle mb-0",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Nombre"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{children:"N Tcnico"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[x?.map(D=>o.jsxs("tr",{children:[o.jsx("td",{className:"fw-bold",children:D.username}),o.jsxs("td",{children:[D.first_name," ",D.last_name]}),o.jsx("td",{children:(()=>{const O=qa(D.role,D.username),Q=D.username.toLowerCase()==="admin"?"Superusuario":O==="administrator"?"Administrador":O==="technician"?"Tcnico":"Estndar",U=D.username.toLowerCase()==="admin"?"bg-danger":O==="administrator"?"bg-warning text-dark":O==="technician"?"bg-info text-dark":"bg-secondary";return o.jsx("span",{className:`badge ${U}`,children:Q})})()}),o.jsx("td",{children:D.tech_number}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Cambiar contrasea","aria-label":`Cambiar contrasea de ${D.username}`,disabled:D.username==="admin"||!c&&qa(D.role,D.username)==="administrator",onClick:()=>v(D),children:o.jsx("i",{className:"ti ti-key"})}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${D.username}`,disabled:D.username==="admin"||!c&&qa(D.role,D.username)==="administrator",onClick:()=>z(D),children:o.jsx("i",{className:"ti ti-trash"})})]})]},D.id)),x?.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),d&&o.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:A(k),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Nuevo Usuario"}),o.jsx("button",{type:"button",className:"btn-close",onClick:()=>m(!1)})]}),o.jsxs("div",{className:"modal-body row g-3",children:[o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Usuario"}),o.jsx("input",{className:"form-control",..._("username",{required:!0})})]}),o.jsx("div",{className:"col-6",children:o.jsx(Li,{label:"Contrasea",..._("password",{required:!0}),autoComplete:"new-password"})}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Nombre"}),o.jsx("input",{className:"form-control",..._("first_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Apellido"}),o.jsx("input",{className:"form-control",..._("last_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Rol"}),o.jsxs("select",{className:"form-select",..._("role"),children:[o.jsx("option",{value:"technician",children:"Tcnico"}),o.jsx("option",{value:"standard",children:"Estndar"}),c?o.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"N Tcnico"}),o.jsx("input",{type:"number",className:"form-control",..._("tech_number",{required:!0})}),o.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estndar)"})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})})}),o.jsx(Xi,{show:!!p,title:`Cambiar contrasea de ${p?.username}`,onClose:()=>v(null),onConfirm:ee,confirmLabel:"Cambiar contrasea",helpText:"Esta accin cambia la contrasea de inicio de sesin del usuario."})]}):o.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function dT(){const{toast:e}=Ar(),[a,s]=b.useState(""),[l,c]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,y=async p=>{if(p.preventDefault(),!!h)try{m(!0),await oE(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return o.jsx("div",{className:"container py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"card shadow-sm",children:[o.jsx("div",{className:"card-header",children:o.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),o.jsxs("form",{onSubmit:y,children:[o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"mb-3",children:o.jsx(Li,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),o.jsx("div",{className:"mb-3",children:o.jsx(Li,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),o.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function fT(){const{data:e}=await Ze.get("/admin/permisos");return e}async function mT(e,a){const{data:s}=await Ze.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const hx=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}];function fb(e){const a=new Set(hx.map(c=>c.id)),s=new Set,l=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),l.push(d))}return l}function hT(){const e=Dm(),{toast:a}=Ar(),{data:s,isLoading:l,error:c}=wr({queryKey:["admin","permisos"],queryFn:fT}),[d,m]=b.useState(null),[h,y]=b.useState([]),p=(d?.username??"").toLowerCase()==="admin",v=N=>{m(N),y(fb(N.allowedModules??[]))},x=()=>{m(null),y([])},w=IN({mutationFn:async N=>mT(N.userId,N.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),x()},onError:N=>{const k=N?.response?.data?.detail??N?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(k)})}}),L=b.useMemo(()=>s??[],[s]),_=N=>{y(k=>{const z=new Set(k);return z.has(N)?z.delete(N):z.add(N),Array.from(z)})},A=()=>{d&&w.mutate({userId:d.id,allowedModules:fb(h)})};return o.jsxs("div",{className:"container-fluid",children:[o.jsx(Ol,{show:w.isPending,label:"Guardando permisos..."}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),o.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),l?o.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):c?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[L.map(N=>o.jsxs("tr",{children:[o.jsx("td",{children:N.username}),o.jsx("td",{children:N.role}),o.jsx("td",{className:"text-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>v(N),disabled:(N.username??"").toLowerCase()==="admin",children:"Editar"})})]},N.id)),L.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})})]})})}),d&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:N=>{N.target===N.currentTarget&&x()},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",d.username]}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:x})]}),o.jsxs("div",{className:"modal-body",children:[p?o.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",o.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,o.jsx("div",{className:"row",children:hx.map(N=>o.jsx("div",{className:"col-md-6 mb-2",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${d.id}-${N.id}`,checked:h.includes(N.id),onChange:()=>_(N.id),disabled:w.isPending||p}),o.jsxs("label",{className:"form-check-label",htmlFor:`perm-${d.id}-${N.id}`,children:[N.label," ",o.jsxs("span",{className:"text-muted",children:["(",N.path,")"]})]})]})},N.id))}),o.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:x,disabled:w.isPending,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:A,disabled:w.isPending||p,children:"Guardar"})]})]})})})]})}function pT(e){const a=Ze.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function gT(e,a){return Ze.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function yT(e,a){return Ze.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function mb(e,a,s){const l=pT(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let y="";for(;;){const{value:p,done:v}=await m.read();if(v)break;y+=h.decode(p,{stream:!0});let x;for(;(x=y.indexOf(`
`))>=0;){const w=y.slice(0,x).trim();if(y=y.slice(x+1),!!w)try{a(JSON.parse(w))}catch{}}}}function px(e){return`${e.name}::${e.size}::${e.lastModified}`}function vT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function Bc(e){return vT(e.name)}function bT(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function eh(e,a){const s=bT(a);if(!s)return e;const l=s.filter(c=>c.startsWith("."));return l.length===0?e:e.filter(c=>l.some(d=>c.name.toLowerCase().endsWith(d)))}function xT(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],c=[],d=new Set(e.map(Bc));for(const m of a){const h=Bc(m);if(d.has(h)){c.push(m);continue}d.add(h),s.push(m),l.push(m)}return{merged:s,added:l,duplicates:c}}function Ii({label:e,accept:a,disabled:s=!1,file:l,onChange:c}){const d=b.useRef(null),m=b.useRef(0),[h,y]=b.useState(!1),p=()=>{s||d.current?.click()},v=()=>{s||(d.current&&(d.current.value=""),c(null))},x=N=>{c(N.target.files?.[0]??null),N.currentTarget.value=""},w=N=>{N.preventDefault(),N.stopPropagation(),!s&&(m.current+=1,y(!0))},L=N=>{N.preventDefault(),N.stopPropagation()},_=N=>{N.preventDefault(),N.stopPropagation(),!s&&(m.current=Math.max(0,m.current-1),m.current===0&&y(!1))},A=N=>{if(N.preventDefault(),N.stopPropagation(),m.current=0,y(!1),s)return;const k=N.dataTransfer?.files?Array.from(N.dataTransfer.files):[],ee=eh(k,a)[0]??null;ee&&(d.current&&(d.current.value=""),c(ee))};return o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),o.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:w,onDragOver:L,onDragLeave:_,onDrop:A,"aria-disabled":s?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:s||!l,children:"Eliminar"}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const ST={status:"estado",progress:"progreso",complete:"completado",error:"error"},wT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},_T=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function gx(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function xl(e){if(!e)return"";const a=e.toLowerCase();return gx(ST[a]??e)}function Ji(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return gx(wT[a]??Cl(s))}function Cl(e){if(!e)return"";let a=e;for(const[s,l]of _T)a=a.replace(s,l);return a}function NT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function jT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function ET(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState(""),[m,h]=b.useState(11),[y,p]=b.useState(11),[v,x]=b.useState(!0),[w,L]=b.useState(!0),[_,A]=b.useState(!0),[N,k]=b.useState(!0),[z,ee]=b.useState(""),[D,O]=b.useState(null),[Q,U]=b.useState(null),[te,se]=b.useState(null),[Se,ve]=b.useState([]),[de,be]=b.useState(""),je=b.useRef(null),ge=b.useRef(null),[q,ie]=b.useState(!1),[re,Ce]=b.useState(!1),[Oe,j]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Y=b.useMemo(()=>!!e&&!!s&&!D,[e,s,D]);function oe(_e){ve(Le=>[_e,...Le].slice(0,200));const Qe=typeof _e.percent=="number"?_e.percent:typeof _e.progress=="number"?_e.progress:null;Qe!=null&&Number.isFinite(Qe)&&se(Math.max(0,Math.min(100,Qe)))}function X(){je.current?.abort(),je.current=null}function we(){D&&X()}function Ae(_e,Qe){if(!e||!s)throw new Error("Faltan archivos");const Le=new FormData;Le.append("vima_file",e),Le.append("lista_file",s);const Pe=(Qe??c).trim();return Pe&&Le.append("vima_password",Pe),Le.append("vima_start_row",String(m)),Le.append("lista_start_row",String(y)),Le.append("require_all_g_to_n",v?"true":"false"),Le.append("incremental",w?"true":"false"),Le.append("strict_incremental",_?"true":"false"),Le.append("replicate_merges",N?"true":"false"),z.trim()&&Le.append("oi_pattern",z.trim()),Le.append("operation_id",_e),Le}function Te(){ge.current=null,Ce(!1)}function Be(_e,Qe){ge.current=_e,j(Qe),Ce(!0)}function he(_e,Qe){if(!dt.isAxiosError(_e)){be(String(_e));return}const Le=_e;if(Le.code==="ERR_CANCELED")return;const Pe=Le.response?.headers?.["x-code"],Ee=Le.response?.data?.detail??Le.message;if(Pe==="PASSWORD_REQUIRED"){be(""),Be(Qe,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Pe==="WRONG_PASSWORD"){be(""),Be(Qe,"Contrasea incorrecta. Intenta nuevamente.");return}be(String(Ee))}async function Ue(_e){be(""),U(null),ve([]),se(0);const Qe=crypto.randomUUID();je.current=new AbortController,mb(Qe,oe,je.current.signal).catch(()=>{}),O("dry");try{const Le=Ae(Qe,_e?.passwordOverride),Pe=await gT(Le,je.current.signal);U(Pe.data)}catch(Le){he(Le,"dry")}finally{X(),O(null)}}async function Ge(_e){be(""),ve([]),se(0);const Qe=crypto.randomUUID();je.current=new AbortController,mb(Qe,oe,je.current.signal).catch(()=>{}),O("upload");try{const Le=Ae(Qe,_e?.passwordOverride),Pe=await yT(Le,je.current.signal),Ee=Pe.headers?.["content-disposition"],Ye=NT(Ee)??"LISTA_SALIDA.xlsx";jT(Pe.data,Ye)}catch(Le){he(Le,"upload")}finally{X(),O(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row gap-20",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),o.jsx("div",{className:"mB-15",children:o.jsx(Ii,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!D})}),o.jsx("div",{className:"mB-15",children:o.jsx(Ii,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!D})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:_e=>d(_e.target.value),placeholder:"(opcional)"})]}),q?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),o.jsx("input",{className:"form-control",type:"number",value:m,onChange:_e=>h(Number(_e.target.value))})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),o.jsx("input",{className:"form-control",type:"number",value:y,onChange:_e=>p(Number(_e.target.value))})]})]}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),o.jsx("input",{className:"form-control",value:z,onChange:_e=>ee(_e.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),o.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),o.jsxs("div",{className:"row mT-10",children:[o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:_e=>x(_e.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:N,onChange:_e=>k(_e.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:w,onChange:_e=>L(_e.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:_,onChange:_e=>A(_e.target.checked),disabled:!w}),o.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})})]})]}):null,de&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:de}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>ie(_e=>!_e),disabled:!!D,children:q?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary",disabled:!Y,onClick:()=>void Ge(),children:D==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!D,onClick:we,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!Y,onClick:()=>void Ue(),children:D==="dry"?"Analizando...":"Analizar"})]}),Q&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h5",{className:"c-grey-900",children:"Resumen"}),o.jsxs("ul",{className:"mB-0",children:[o.jsxs("li",{children:["Filas a copiar: ",o.jsx("b",{children:Q.would_copy})]}),o.jsxs("li",{children:["Fila inicio escritura (LISTA): ",o.jsx("b",{children:Q.start_write_row})]}),o.jsxs("li",{children:["ltimo OI en LISTA: ",o.jsx("b",{children:String(Q.last_oi_in_lista??"-")})]}),o.jsxs("li",{children:["Primer OI a copiar: ",o.jsx("b",{children:String(Q.first_oi_to_copy??"-")})]}),o.jsxs("li",{children:["ltimo OI a copiar: ",o.jsx("b",{children:String(Q.last_oi_to_copy??"-")})]})]})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),D?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${te??0}%`},"aria-valuenow":te??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:Se.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:Se.map((_e,Qe)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:xl(_e.type)})," ",_e.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(_e.stage),"]"]}):null,typeof _e.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",_e.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Cl(_e.message??_e.detail??"")}),_e.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",_e.code]}):null]},Qe))})})]})})]}),o.jsx(Xi,{show:re,title:"Archivo protegido",confirmLabel:"Continuar",helpText:Oe,onClose:Te,onConfirm:_e=>{d(_e),Ce(!1);const Qe=ge.current;ge.current=null,Qe&&(Qe==="dry"?Ue({passwordOverride:_e}):Ge({passwordOverride:_e}))}})]})}const AT=(...e)=>{};function lu(e){const a=Ze.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function yx(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let c="";for(;;){const{value:d,done:m}=await s.read();if(m)break;c+=l.decode(d,{stream:!0});let h;for(;(h=c.indexOf(`
`))>=0;){const y=c.slice(0,h).trim();if(c=c.slice(h+1),!!y)try{a(JSON.parse(y))}catch{}}}}function yl(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function th(e,a,s){const l=lu(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw yl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await yx(d,a)}async function OT(e,a,s){const l=lu(`/logistica/log01/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const x=d.headers.get("X-Code")??void 0;throw yl(`No se pudo abrir el stream (${d.status})`,d.status,x)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw yl("Stream no es NDJSON",d.status);if(!d.body)throw yl("Stream sin body",d.status);const h=d.body.getReader(),y=new TextDecoder("utf-8");let p="",v=!1;for(;;){const{value:x,done:w}=await h.read();if(w)break;!v&&x&&x.length&&(v=!0),p+=y.decode(x,{stream:!0});let L;for(;(L=p.indexOf(`
`))>=0;){const _=p.slice(0,L).trim();if(p=p.slice(L+1),!!_)try{const A=JSON.parse(_);AT("[LOG01] progress event =",A),a(A)}catch{}}}}async function CT(e,a,s){const l=lu("/bases/actualizar/dry-run-upload"),c=Rn()?.token,d=await fetch(l,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const y=await d.json();y?.detail&&(h=String(y.detail))}catch{}throw yl(h,d.status,m)}await yx(d,a)}async function RT(e,a){return Ze.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function TT(e,a){return Ze.post("/logistica/log01/start",e,{signal:a})}async function DT(e,a,s){const l=lu(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw yl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function zT(e,a){return Ze.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function MT(e){await Ze.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function kT(e={}){const{limit:a=20,offset:s=0,include_deleted:l=!1,q:c,dateFrom:d,dateTo:m,source:h,status:y}=e,p={limit:a,offset:s,include_deleted:l};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),m&&m.trim()&&(p.dateTo=m.trim()),h&&h.trim()&&(p.source=h.trim()),y&&y.trim()&&(p.status=y.trim());const{data:v}=await Ze.get("/logistica/log01/history",{params:p});return v}async function UT(e,a,s){return Ze.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:l=>l===200})}async function LT(e,a){await Ze.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function vx(){const{data:e}=await Ze.get("/merge/config/upload-limits");return e}async function bx(e,a,s){return Ze.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function xx(e){await Ze.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function qT(e){const{data:a}=await Ze.post("/tools/files/upload",e);return a}async function BT(e){const{data:a}=await Ze.post("/tools/excel/inspect",e);return a}async function IT(e){const{data:a}=await Ze.post("/tools/excel/update",e);return a}async function FT(e){const{data:a}=await Ze.post("/tools/excel/change-password",e);return a}async function $T(e){const{data:a}=await Ze.post("/tools/excel/validate",e);return a}function HT({show:e,disabled:a=!1,title:s,accept:l,files:c,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:y}){const p=b.useRef(null),v=b.useRef(0),[x,w]=b.useState(!1),[L,_]=b.useState("");b.useEffect(()=>{if(!e)return;const U=te=>{te.key==="Escape"&&d()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e,d]),b.useEffect(()=>{e||w(!1)},[e]),b.useEffect(()=>{e&&_("")},[e]);const A=b.useCallback(U=>{const te=eh(U,l);if(te.length===0)return;const se=new Set(c.map(Bc)),Se=new Set(se),ve=[],de=[];for(const be of te){const je=Bc(be);if(Se.has(je)){de.push(be);continue}Se.add(je),ve.push(be)}if(de.length>0){const be=Array.from(new Set(de.map(ge=>ge.name))),je=de.length;if(be.length===1){const ge=je===1?"Se omiti 1 archivo duplicado":`Se omitieron ${je} archivos duplicados`;_(`${ge}: "${be[0]}".`)}else _(`Se omitieron ${je} archivos duplicados: ${be.join(", ")}.`)}ve.length>0&&m(ve)},[l,c,m]);if(b.useEffect(()=>{if(!e)return;const U=se=>{se.preventDefault(),se.stopPropagation()},te=se=>{if(se.preventDefault(),se.stopPropagation(),a)return;const Se=se.dataTransfer?.files?Array.from(se.dataTransfer.files):[];A(Se)};return window.addEventListener("dragover",U,!0),window.addEventListener("drop",te,!0),()=>{window.removeEventListener("dragover",U,!0),window.removeEventListener("drop",te,!0)}},[e,a,A]),!e)return null;const N=()=>{a||p.current?.click()},k=U=>{const te=U.target.files?Array.from(U.target.files):[];A(te),U.currentTarget.value=""},z=()=>{a||(p.current&&(p.current.value=""),y())},ee=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current+=1,w(!0))},D=U=>{U.preventDefault(),U.stopPropagation()},O=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&w(!1))},Q=U=>{if(U.preventDefault(),U.stopPropagation(),v.current=0,w(!1),a)return;const te=U.dataTransfer?.files?Array.from(U.dataTransfer.files):[];A(te)};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:U=>{U.target===U.currentTarget&&d()},children:o.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:k,disabled:a}),L?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[o.jsx("div",{children:L}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>_("")})]}):null,o.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:ee,onDragOver:D,onDragLeave:O,onDrop:Q,"aria-disabled":a?"true":"false",children:[o.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",o.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:N,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?o.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[o.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:N,disabled:a,children:"Agregar ms"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:z,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:o.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:o.jsx("ul",{className:"list-group",children:c.map(U=>{const te=px(U);return o.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[o.jsx("div",{className:"text-truncate",style:{minWidth:0},children:U.name}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(te),disabled:a,children:"Eliminar"})]},te)})})})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function VT(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(l=>l.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function iu({label:e,title:a,accept:s,disabled:l=!1,fullDropArea:c=!1,files:d,setFiles:m}){const[h,y]=b.useState(!1),[p,v]=b.useState(!1),[x,w]=b.useState(""),L=b.useRef(0),_=b.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),A=d.length===0?"Agregar archivos":"Modificar/agregar archivos",N=Q=>{const U=eh(Q,s);U.length!==0&&m(te=>{const{merged:se,duplicates:Se}=xT(te,U);return Se.length>0&&w(VT(Se)),se})},k=Q=>{Q.preventDefault(),Q.stopPropagation(),!l&&(L.current+=1,v(!0))},z=Q=>{Q.preventDefault(),Q.stopPropagation()},ee=Q=>{Q.preventDefault(),Q.stopPropagation(),!l&&(L.current=Math.max(0,L.current-1),L.current===0&&v(!1))},D=Q=>{if(Q.preventDefault(),Q.stopPropagation(),L.current=0,v(!1),l)return;const U=Q.dataTransfer?.files?Array.from(Q.dataTransfer.files):[];N(U)},O=o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"form-label",children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>y(!0),disabled:l,children:A}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>w("")})]}):null]});return o.jsxs(o.Fragment,{children:[c?o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:k,onDragOver:z,onDragLeave:ee,onDrop:D,"aria-disabled":l?"true":"false",children:O}):o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:k,onDragOver:z,onDragLeave:ee,onDrop:D,"aria-disabled":l?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>y(!0),disabled:l,children:A}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]})}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>w("")})]}):null]}),o.jsx(HT,{show:h,disabled:l,title:a,accept:s,files:d,onClose:()=>y(!1),onAddFiles:N,onRemoveFile:Q=>m(U=>U.filter(te=>px(te)!==Q)),onRemoveAll:()=>m([])})]})}function ZT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function GT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function QT(e){if(!dt.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=l?.detail??a.message;return{detail:String(c),code:s}}function YT(){const[e,a]=b.useState(null),[s,l]=b.useState([]),[c,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,x]=b.useState(9),[w,L]=b.useState("ERROR FINAL"),[_,A]=b.useState(!0),[N,k]=b.useState(!1),[z,ee]=b.useState(!1),[D,O]=b.useState(null),[Q,U]=b.useState(null),[te,se]=b.useState([]),[Se,ve]=b.useState(""),de=b.useRef(null),be=b.useRef(null),[je,ge]=b.useState(!1),[q,ie]=b.useState(!1),[re,Ce]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Oe=b.useMemo(()=>!!e&&s.length>0&&!D,[e,s,D]);function j(he){se(Ge=>[he,...Ge].slice(0,200));const Ue=typeof he.percent=="number"?he.percent:typeof he.progress=="number"?he.progress:null;Ue!=null&&Number.isFinite(Ue)&&U(Math.max(0,Math.min(100,Ue)))}function Y(){de.current?.abort(),de.current=null}function oe(){D&&Y()}function X(he,Ue){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const Ge=new FormData;Ge.append("base_file",e);for(const Qe of s)Ge.append("oi_files",Qe);const _e=(Ue??c).trim();return _e&&Ge.append("default_password",_e),m.trim()&&Ge.append("per_file_passwords_json",m.trim()),y.trim()&&Ge.append("oi_pattern",y.trim()),Ge.append("oi_start_row",String(v)),w.trim()&&Ge.append("base_sheet",w.trim()),he&&Ge.append("operation_id",he),Ge}function we(){be.current=null,ie(!1)}function Ae(he,Ue){be.current=he,Ce(Ue),ie(!0)}async function Te(he){ve(""),se([]),U(0),de.current=new AbortController,O("dry");try{const Ue=X(void 0,he?.passwordOverride);await CT(Ue,j,de.current.signal)}catch(Ue){if(Ue?.name==="AbortError")return;const Ge=Ue?.code,_e=String(Ue?.message??Ue);if(Ge==="PASSWORD_REQUIRED"){ve(""),Ae("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ge==="WRONG_PASSWORD"){ve(""),Ae("dry","Contrasea incorrecta. Intenta nuevamente.");return}else ve(_e)}finally{Y(),O(null)}}async function Be(he){ve(""),se([]),U(0);const Ue=crypto.randomUUID();de.current=new AbortController,th(Ue,j,de.current.signal).catch(()=>{}),O("upload");try{const Ge=X(Ue,he?.passwordOverride);Ge.append("replicate_merges",_?"true":"false"),Ge.append("replicate_row_heights",N?"true":"false"),Ge.append("replicate_col_widths",z?"true":"false");const _e=await RT(Ge,de.current.signal),Qe=_e.headers["content-disposition"],Le=_e.headers["x-file-name"],Pe=ZT(Qe)??Le??"base_actualizada.xlsx";GT(_e.data,Pe)}catch(Ge){if(dt.isAxiosError(Ge)&&Ge.code==="ERR_CANCELED")return;const{detail:_e,code:Qe}=await QT(Ge);if(Qe==="PASSWORD_REQUIRED"){ve(""),Ae("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Qe==="WRONG_PASSWORD"){ve(""),Ae("upload","Contrasea incorrecta. Intenta nuevamente.");return}else ve(_e)}finally{Y(),O(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),o.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Ii,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!D})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(iu,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!D})}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:he=>d(he.target.value),disabled:!!D})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),o.jsx("input",{className:"form-control",value:w,onChange:he=>L(he.target.value),disabled:!!D})]}),je?o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),o.jsx("input",{className:"form-control",value:y,onChange:he=>p(he.target.value),disabled:!!D})]}):null,o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio OI"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:he=>x(Number(he.target.value||9)),disabled:!!D})]}),o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),o.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:he=>h(he.target.value),disabled:!!D,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),je?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:_,onChange:he=>A(he.target.checked),disabled:!!D}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:N,onChange:he=>k(he.target.checked),disabled:!!D}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:z,onChange:he=>ee(he.target.checked),disabled:!!D}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),Se&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:Se}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>ge(he=>!he),disabled:!!D,children:je?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-15",children:[o.jsx("button",{className:"btn btn-primary",disabled:!Oe,onClick:()=>void Be(),children:D==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!D,onClick:oe,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!Oe,onClick:()=>void Te(),children:D==="dry"?"Analizando...":"Analizar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),D?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Q??0}%`},"aria-valuenow":Q??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:te.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:te.map((he,Ue)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:xl(he.type)})," ",he.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(he.stage),"]"]}):null,typeof he.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",he.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Cl(he.message??he.detail??"")}),he.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",he.code]}):null]},Ue))})})]})})]}),o.jsx(Xi,{show:q,title:"Archivo protegido",confirmLabel:"Continuar",helpText:re,onClose:we,onConfirm:he=>{d(he),ie(!1);const Ue=be.current;be.current=null,Ue&&(Ue==="dry"?Te({passwordOverride:he}):Be({passwordOverride:he}))}})]})}function PT(){return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),o.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),o.jsx(jc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"No correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),o.jsx(jc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function KT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function XT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function JT(e){if(!dt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function WT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,x]=b.useState(null),[w,L]=b.useState([]),_=b.useRef(null),A=b.useRef(null),N=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{vx().then(a).catch(()=>a(null))},[]);function k(O){L(U=>[O,...U].slice(0,200));const Q=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;Q!=null&&Number.isFinite(Q)&&x(Math.max(0,Math.min(100,Q)))}function z(){_.current?.abort(),_.current=null}function ee(){if(!m)return;const O=A.current;O&&xx(O).catch(()=>{}),k({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),z()}async function D(){if(p(""),L([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const Q=crypto.randomUUID();A.current=Q,O.append("operation_id",Q),_.current=new AbortController,h(!0);try{const U=_.current?.signal;th(Q,k,U).catch(()=>{});const te=await bx(O,"correlativo",U),se=te.headers["content-disposition"],Se=KT(se)??"consolidado_correlativo.xlsx";XT(te.data,Se)}catch(U){if(dt.isAxiosError(U)&&U.code==="ERR_CANCELED"||dt.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const te=await JT(U);k({type:"error",stage:"error",detail:te}),p(te)}finally{A.current=null,h(!1),z()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Ii,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(iu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),y&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!N,onClick:D,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:ee,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:w.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:w.map((O,Q)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:xl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Cl(O.message??O.detail??"")})]},Q))})})]})})]})})}function e2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function t2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function n2(e){if(!dt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function a2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,x]=b.useState(null),[w,L]=b.useState([]),_=b.useRef(null),A=b.useRef(null),N=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{vx().then(a).catch(()=>a(null))},[]);function k(O){L(U=>[O,...U].slice(0,200));const Q=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;Q!=null&&Number.isFinite(Q)&&x(Math.max(0,Math.min(100,Q)))}function z(){_.current?.abort(),_.current=null}function ee(){if(!m)return;const O=A.current;O&&xx(O).catch(()=>{}),k({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),z()}async function D(){if(p(""),L([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const Q=crypto.randomUUID();A.current=Q,O.append("operation_id",Q),_.current=new AbortController,h(!0);try{const U=_.current?.signal;th(Q,k,U).catch(()=>{});const te=await bx(O,"no-correlativo",U),se=te.headers["content-disposition"],Se=e2(se)??"consolidado_no_correlativo.xlsx";t2(te.data,Se)}catch(U){if(dt.isAxiosError(U)&&U.code==="ERR_CANCELED"||dt.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const te=await n2(U);k({type:"error",stage:"error",detail:te}),p(te)}finally{A.current=null,h(!1),z()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Ii,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(iu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),y&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!N,onClick:D,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:ee,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:w.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:w.map((O,Q)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:xl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",Ji(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Cl(O.message??O.detail??"")})]},Q))})})]})})]})})}async function Ci(e){if(!dt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function s2(){const[e,a]=b.useState(null),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("ERROR FINAL"),[v,x]=b.useState(""),[w,L]=b.useState("same_password"),[_,A]=b.useState(""),[N,k]=b.useState([{cell:"A1",value:""}]),[z,ee]=b.useState(""),[D,O]=b.useState("no_password"),[Q,U]=b.useState(""),[te,se]=b.useState("ERROR FINAL"),[Se,ve]=b.useState(1),[de,be]=b.useState(""),[je,ge]=b.useState(""),[q,ie]=b.useState(""),[re,Ce]=b.useState(null),[Oe,j]=b.useState(""),[Y,oe]=b.useState(null),[X,we]=b.useState([]),[Ae,Te]=b.useState(null),Be=b.useMemo(()=>c.trim().length>0,[c]);function he(Ee){we(Ye=>[Ee,...Ye].slice(0,200))}function Ue(){j(""),we([]),oe(0),Te(null)}async function Ge(){if(Ue(),!e){j("Selecciona un archivo para subir.");return}Ce("upload");try{he({type:"status",stage:"upload",message:"Subiendo archivo..."}),oe(30);const Ee=new FormData;Ee.append("file",e),s.trim()&&Ee.append("suggested_name",s.trim());const Ye=await qT(Ee);d(Ye.relative_path),Te(Ye),he({type:"complete",stage:"upload",message:"Archivo subido."}),oe(100)}catch(Ee){const Ye=await Ci(Ee);j(Ye),he({type:"error",stage:"upload",detail:Ye})}finally{Ce(null)}}async function _e(){if(Ue(),!Be){j("Ingresa o sube un archivo para obtener file_path.");return}Ce("inspect");try{he({type:"status",stage:"inspect",message:"Inspeccionando..."}),oe(50);const Ee=await BT({file_path:c.trim(),open_password:m.trim()||null});Te(Ee),he({type:"complete",stage:"inspect",message:"Inspeccin completada."}),oe(100)}catch(Ee){const Ye=await Ci(Ee);j(Ye),he({type:"error",stage:"inspect",detail:Ye})}finally{Ce(null)}}async function Qe(){if(Ue(),!Be){j("Ingresa o sube un archivo para obtener file_path.");return}if(!y.trim()){j("Ingresa el nombre de la hoja.");return}const Ee=N.map(Ye=>({cell:Ye.cell.trim(),value:Ye.value})).filter(Ye=>Ye.cell);if(Ee.length===0){j("Agrega al menos una edicin.");return}Ce("update");try{he({type:"status",stage:"update",message:"Aplicando ediciones..."}),oe(50);const Ye=await IT({file_path:c.trim(),edits:Ee.map(rt=>({sheet:y.trim(),cell:rt.cell,value:rt.value})),open_password:v.trim()||null,save_mode:w,new_password:w==="new_password"&&_.trim()||null});Te(Ye),he({type:"complete",stage:"update",message:"Actualizacin completada."}),oe(100)}catch(Ye){const rt=await Ci(Ye);j(rt),he({type:"error",stage:"update",detail:rt})}finally{Ce(null)}}async function Le(){if(Ue(),!Be){j("Ingresa o sube un archivo para obtener file_path.");return}if(!z.trim()){j("Ingresa la contrasea de apertura (open_password).");return}if(D==="new_password"&&!Q.trim()){j("Ingresa la nueva contrasea.");return}Ce("change-password");try{he({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),oe(50);const Ee=await FT({file_path:c.trim(),open_password:z.trim(),mode:D,new_password:D==="new_password"?Q.trim():null});Te(Ee),he({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),oe(100)}catch(Ee){const Ye=await Ci(Ee);j(Ye),he({type:"error",stage:"change-password",detail:Ye})}finally{Ce(null)}}async function Pe(){if(Ue(),!Be){j("Ingresa o sube un archivo para obtener file_path.");return}let Ee={};if(je.trim())try{Ee=JSON.parse(je)}catch{j("type_rules debe ser JSON vlido.");return}const Ye=de.split(",").map(rt=>rt.trim()).filter(Boolean);Ce("validate");try{he({type:"status",stage:"validate",message:"Validando..."}),oe(50);const rt=await $T({file_path:c.trim(),sheet:te.trim()||null,header_row:Se,required_columns:Ye,type_rules:Ee,open_password:q.trim()||null});Te(rt),he({type:"complete",stage:"validate",message:"Validacin completada."}),oe(100)}catch(rt){const Nt=await Ci(rt);j(Nt),he({type:"error",stage:"validate",detail:Nt})}finally{Ce(null)}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),o.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-8 mB-10",children:o.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!re,onChange:Ee=>a(Ee.target.files?.[0]??null)})}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!re,onChange:Ee=>l(Ee.target.value)})})]}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!!re||!e,onClick:Ge,children:re==="upload"?"Subiendo...":"Subir"})]})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"file_path"}),o.jsx("input",{className:"form-control",value:c,disabled:!!re,onChange:Ee=>d(Ee.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),o.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"2) Inspect"}),o.jsxs("div",{className:"row align-items-end",children:[o.jsxs("div",{className:"col-md-8 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!re,onChange:Ee=>h(Ee.target.value)})]}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!re||!Be,onClick:_e,children:re==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"Hoja"}),o.jsx("input",{className:"form-control",value:y,disabled:!!re,onChange:Ee=>p(Ee.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!re,onChange:Ee=>x(Ee.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"save_mode"}),o.jsxs("select",{className:"form-select",value:w,disabled:!!re,onChange:Ee=>L(Ee.target.value),children:[o.jsx("option",{value:"same_password",children:"same_password"}),o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:_,disabled:!!re||w!=="new_password",onChange:Ee=>A(Ee.target.value),placeholder:w==="new_password"?"Requerido":""})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsx("label",{className:"form-label",children:"Ediciones"}),N.map((Ee,Ye)=>o.jsxs("div",{className:"row g-2 mB-10",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("input",{className:"form-control",value:Ee.cell,disabled:!!re,onChange:rt=>{const Nt=N.slice();Nt[Ye]={...Nt[Ye],cell:rt.target.value},k(Nt)},placeholder:"Celda (A1)"})}),o.jsx("div",{className:"col-md-7",children:o.jsx("input",{className:"form-control",value:Ee.value,disabled:!!re,onChange:rt=>{const Nt=N.slice();Nt[Ye]={...Nt[Ye],value:rt.target.value},k(Nt)},placeholder:"Valor"})}),o.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!re,onClick:()=>k(rt=>[...rt,{cell:"A1",value:""}]),children:"+"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!re||N.length===1,onClick:()=>k(rt=>rt.filter((Nt,C)=>C!==Ye)),children:""})]})]},Ye))]}),o.jsx("button",{className:"btn btn-primary",disabled:!!re||!Be,onClick:Qe,children:re==="update"?"Actualizando...":"Update"})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"4) Change password"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password"}),o.jsx("input",{className:"form-control",type:"password",value:z,disabled:!!re,onChange:Ee=>ee(Ee.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"mode"}),o.jsxs("select",{className:"form-select",value:D,disabled:!!re,onChange:Ee=>O(Ee.target.value),children:[o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:Q,disabled:!!re||D!=="new_password",onChange:Ee=>U(Ee.target.value),placeholder:D==="new_password"?"Requerido":""})]}),o.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!re||!Be,onClick:Le,children:re==="change-password"?"Procesando...":"Change password"})})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"5) Validate"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"sheet (opcional)"}),o.jsx("input",{className:"form-control",value:te,disabled:!!re,onChange:Ee=>se(Ee.target.value)})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"header_row"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:Se,disabled:!!re,onChange:Ee=>ve(Number(Ee.target.value||1))})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:q,disabled:!!re,onChange:Ee=>ie(Ee.target.value)})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),o.jsx("input",{className:"form-control",value:de,disabled:!!re,onChange:Ee=>be(Ee.target.value),placeholder:"ColA, ColB, ColC"})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),o.jsx("textarea",{className:"form-control",rows:3,value:je,disabled:!!re,onChange:Ee=>ge(Ee.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),o.jsx("button",{className:"btn btn-primary",disabled:!!re||!Be,onClick:Pe,children:re==="validate"?"Validando...":"Validate"})]})}),Oe&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Oe})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),re?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Y??0}%`},"aria-valuenow":Y??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:X.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:X.map((Ee,Ye)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:Ee.type})," ",Ee.stage?o.jsxs("span",{className:"text-muted",children:["[",Ee.stage,"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Ee.message??Ee.detail??""})]},Ye))})}),o.jsx("hr",{className:"mY-15"}),o.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),Ae?o.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(Ae,null,2)}):o.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function r2(){const e=In(),a=Er(),{toast:s}=Ar(),l=Rn(),c=bl(l?.role),d=Ui(),m=c&&!(d&&d>0),{data:h,isLoading:y,error:p}=wr({queryKey:["catalogs"],queryFn:Vm,enabled:m}),v=h?.bancos??[],[x,w]=b.useState(()=>d&&d>0?d:0),[L,_]=b.useState(!1),A=b.useMemo(()=>v.find(ee=>ee.id===x)?.name??null,[v,x]);b.useEffect(()=>{const z=e.state;z?.toast&&(s({kind:z.toast.kind??"info",title:z.toast.title,message:z.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),b.useEffect(()=>{m&&(x>0||v.length>0&&w(v[0].id))},[x,v,m]);const N=x>0&&!L,k=async()=>{if(N)try{_(!0);const z=await q0(x),ee=um(z.userId,z.bancoId??x);if(ee.target){a(ee.target,{replace:!0});return}s({kind:"success",title:"Banco",message:A?`Banco seleccionado: ${A}`:"Banco seleccionado."})}catch(z){const ee=z?.response?.data?.detail??z?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(ee)})}finally{_(!1)}};return o.jsxs("div",{className:"vi-home",children:[o.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:z=>w(Number(z.target.value)),disabled:y||L,children:v.map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))}),p?o.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!N,onClick:k,children:L?"Guardando...":"Continuar"})})]})})})]})}const Ri=(...e)=>{};function l2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function i2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function o2(e,a){let s=null,l=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function c2(){const[e,a]=b.useState([]),[s,l]=b.useState(""),[c,d]=b.useState([]),[m,h]=b.useState(0),[y,p]=b.useState("Listo para procesar"),[v,x]=b.useState(!1),[w,L]=b.useState(""),[_,A]=b.useState(!1),[N,k]=b.useState(null),[z,ee]=b.useState(null),[D,O]=b.useState(!1);function Q(R){const F=R?.series_duplicates_eliminated??R?.detail?.series_duplicates_eliminated??R?.series_duplcates_eliminated;return typeof F=="number"?F:null}const U={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function te(R){const F=String(R??"").trim().toUpperCase();return F?U[F]??F:""}function se(R){if(!R)return"";let F=Cl(R);F=F.replace(/\bERROR\b/gi,"Error");for(const[H,ae]of Object.entries(U))F=F.replace(new RegExp(`\\b${H}\\b`,"g"),ae);return F}function Se(R,F){const H=te(R),ae=se(F);return ae?H&&!ae.toLowerCase().includes(H.toLowerCase())?`${H}: ${ae}`:ae:H||"N/D"}function ve(R){const F=Number(R);return!Number.isFinite(F)||F<=0?"N/D":`OI-${String(F).padStart(4,"0")}`}function de(R){const F=R?.rows_total_read??R?.totals_input?.rows_read;return typeof F=="number"?F:null}const be=b.useMemo(()=>(Array.isArray(z?.audit_by_oi)?z.audit_by_oi:[]).filter(F=>F?.status==="OK"&&String(F?.source??"").toUpperCase()==="BASES").slice().sort((F,H)=>{const ae=Number(F?.oi_num),Ne=Number(H?.oi_num),De=Number.isFinite(ae),J=Number.isFinite(Ne);if(De&&J)return ae-Ne;if(De&&!J)return-1;if(!De&&J)return 1;const Re=String(F?.oi_num??F?.oi??"").toUpperCase(),Ie=String(H?.oi_num??H?.oi??"").toUpperCase();return Re.localeCompare(Ie)}),[z]),je=b.useMemo(()=>(Array.isArray(z?.files_rejected)?z.files_rejected:[]).slice().sort((F,H)=>{const ae=String(F?.oi??F?.filename??"").toUpperCase(),Ne=String(H?.oi??H?.filename??"").toUpperCase();return ae.localeCompare(Ne)}),[z]),ge=b.useMemo(()=>{const R=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),F=z?.by_source;if(F&&typeof F=="object")return F;const H={BASES:R(),GASELAG:R()},ae=Array.isArray(z?.audit_by_oi)?z.audit_by_oi:[];for(const De of ae){if(De?.status!=="OK")continue;const Re=String(De?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";H[Re].files_ok+=1,H[Re].rows_read+=Number(De?.rows_read??0)||0,H[Re].conformes+=Number(De?.conformes??0)||0,H[Re].no_conformes+=Number(De?.no_conformes??0)||0,H[Re].rows_ignored_invalid_estado+=Number(De?.rows_ignored_invalid_estado??0)||0}const Ne=Array.isArray(z?.files_rejected)?z.files_rejected:[];for(const De of Ne){const Re=String(De?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";H[Re].files_error+=1}for(const De of["BASES","GASELAG"])H[De].files_total=H[De].files_ok+H[De].files_error;return H},[z]),q=b.useRef(null),ie=b.useRef(null),re=b.useRef(null),Ce=b.useRef(!1),Oe=b.useRef(null),j=b.useRef(null),Y=b.useRef(null),oe=b.useRef(!1),X=b.useRef(!1),we=b.useRef(-1),Ae=b.useRef(-1),Te=b.useRef(!1);function Be(){return Oe.current||(Oe.current=crypto.randomUUID()),Oe.current}function he(R){const F=`${xl(R.type)}  ${Ji(R.stage)}  ${se(R.message??R.detail??"")}`;if(p(F),d(H=>{const ae=[R,...H];if(!Te.current&&R.stage==="cancelled"){Te.current=!0;const Ne=ae.filter(Ie=>Ie.stage==="file_done"||Ie.stage==="file_error").length,De=ae.filter(Ie=>Ie.stage==="file_done").length,J=ae.filter(Ie=>Ie.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Ne} (OK: ${De}, Rechazados: ${J}). No se gener resultado final.`},...ae]}return ae}),R.type==="complete"){const H=R.result??null;ee(H)}typeof R.progress=="number"&&h(Math.round(R.progress)),typeof R.percent=="number"&&h(Math.round(R.percent)),!Ce.current&&(R.type==="complete"||R.stage==="cancelled"||R.stage==="failed")&&(Ce.current=!0,R.type==="complete"?(A(!0),k(Oe.current)):(A(!1),k(null),Oe.current=null),x(!1),Qe("terminal_event"),Le())}function Ue(R){return typeof R.cursor!="number"?!1:R.cursor<=Ae.current?!0:(Ae.current=R.cursor,R.cursor>we.current&&(we.current=R.cursor),!1)}function Ge(R){Ce.current||Ue(R)||he(R)}function _e(R,F){const H=new FormData;H.append("operation_id",R),H.append("source","AUTO"),s.trim()&&H.append("output_filename",s.trim());for(const ae of F)H.append("files",ae);return H}function Qe(R){ie.current&&(re.current=R,ie.current.abort(),ie.current=null)}function Le(R){X.current&&(X.current=!1,j.current!=null&&(window.clearTimeout(j.current),j.current=null),Y.current?.abort(),Y.current=null,oe.current=!1)}function Pe(R){X.current&&(j.current!=null&&window.clearTimeout(j.current),j.current=window.setTimeout(()=>{Ee()},R))}async function Ee(){if(!X.current||oe.current)return;const R=Oe.current;if(!R){Le();return}oe.current=!0;try{const F=await DT(R,we.current,Y.current?.signal);Ri("[LOG01] poll cursor =",we.current,"->",F.cursor_next),we.current=F.cursor_next;for(const H of F.events)Ge(H);if(F.done&&F.events.length===0){Le("done");return}}catch(F){F?.name}finally{oe.current=!1,X.current&&Pe(350)}}function Ye(R){X.current||(X.current=!0,Y.current=new AbortController,Pe(0))}function rt(){q.current?.abort(),q.current=null}async function Nt(){if(!v)return;const R=Oe.current;if(R)try{await MT(R)}catch(F){const H=F;dt.isCancel(H)||L(H.response?.data?.detail||H.message||"No se pudo cancelar la operacion")}rt()}async function C(){L(""),d([]),ee(null),h(0),p("Listo para procesar"),A(!1),k(null),re.current=null,Ce.current=!1,Te.current=!1,we.current=-1,Ae.current=-1,Le();const R=[...e];if(!R.length){L("Debes seleccionar al menos 1 Excel.");return}Oe.current=null;const F=Be();let H=null,ae=null;const Ne=new Promise((Re,Ie)=>{H=Re,ae=Ie});ie.current=new AbortController,q.current=new AbortController,OT(F,Re=>{if(Re.type==="hello"){H&&(H(),H=null);return}Ge(Re)},ie.current.signal).then(()=>{Ce.current||Ye()}).catch(Re=>{Re?.name==="AbortError"?Ri("[LOG01] progress stream aborted (reason) =",re.current):(ae&&(ae(Re),ae=null),Ye())}),x(!0);try{await o2(Ne,1800)?Ri("[LOG01] hello received"):Ye("hello_timeout");const Ie=_e(F,R);Ri("[LOG01] operation_id(start) =",F),await TT(Ie,q.current.signal)}catch(Re){const Ie=Re;if(dt.isCancel(Ie))return;const ft=Ie.response?.data?.detail||Ie.message||"Error inesperado";L(ft),x(!1),rt(),Qe("start_failed"),Le(),Oe.current=null}finally{rt()}}async function $(){const R=N??Oe.current;if(!R){L("No hay resultado disponible.");return}try{L(""),Ri("[LOG01] operation_id(result) =",R);const F=await zT(R),H=F.headers["content-disposition"],ae=F.headers["x-file-name"],Ne=l2(H)??ae??"BD_CONSOLIDADO.xlsx";i2(F.data,Ne)}catch(F){const H=F;if(dt.isCancel(H))return;const ae=H.response?.data?.detail||H.message||"No se pudo descargar.";L(ae)}}return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),w&&o.jsx("div",{className:"alert alert-danger",role:"alert",children:w}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx(iu,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:v}),o.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),o.jsx("input",{className:"form-control",value:s,onChange:R=>l(R.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),o.jsxs("div",{className:"vi-log01-actions",children:[o.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:C,disabled:v,children:v?"Procesando...":"Consolidar"}),v?o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Nt(),children:"Cancelar"}):null,!v&&_?o.jsx(o.Fragment,{children:o.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void $(),children:"Descargar Excel"})}):null]})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),v?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),o.jsx("div",{className:"mT-10 text-muted",children:y})]}),!v&&z?o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),o.jsx("div",{className:"bd p-10",children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("div",{className:"small text-muted",children:"Archivos"}),o.jsxs("div",{className:"small",children:["Total: ",o.jsx("strong",{children:z.files_total??"N/D"}),"  OK:"," ",o.jsx("strong",{children:z.files_ok??"N/D"}),"  Rechazados:"," ",o.jsx("strong",{children:z.files_error??"N/D"})]}),o.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),o.jsx("tbody",{children:["BASES","GASELAG"].map(R=>{const F=ge?.[R]??{},H=F?.files_total??Number(F?.files_ok??0)+Number(F?.files_error??0);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R})}),o.jsxs("td",{style:{whiteSpace:"nowrap"},children:[o.jsx("strong",{children:H??0})," ",o.jsxs("span",{className:"text-muted",children:["(OK: ",F?.files_ok??0,"  Rech: ",F?.files_error??0,")"]})]}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:F?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:F?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:F?.no_conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:F?.rows_ignored_invalid_estado??0})})]},R)})})]})}),o.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),be.length>0?o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),o.jsx("tbody",{children:be.map((R,F)=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:ve(R?.oi_num)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.no_conformes??0})})]},F))})]})}):o.jsx("div",{className:"small text-muted",children:"N/D"}),Number(ge?.GASELAG?.rows_read??0)>0?o.jsxs("div",{className:"mT-10 small",children:[o.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",o.jsx("strong",{children:ge.GASELAG.rows_read??0}),"  Conformes:"," ",o.jsx("strong",{children:ge.GASELAG.conformes??0}),"  No conformes:"," ",o.jsx("strong",{children:ge.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",o.jsx("strong",{children:ge.GASELAG.rows_ignored_invalid_estado??0})]}):null,o.jsxs("div",{className:"col-12 mT-10 p-0",children:[o.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),o.jsxs("div",{className:"small",children:["Registros ledos:"," ",o.jsx("strong",{children:z.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",o.jsx("strong",{children:z.totals_input?.conformes??"N/D"}),"  No conformes:"," ",o.jsx("strong",{children:z.totals_input?.no_conformes??"N/D"})]})]})]}),o.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[je.length>0?o.jsxs("div",{className:"mT-15",children:[o.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),o.jsx("tbody",{children:je.map((R,F)=>{const H=Se(R?.code,R?.detail),ae=String(R?.source??"").toUpperCase();let Ne=R?.filename??"N/D";if(ae==="BASES"){const De=Number(R?.oi_num),J=ve(De);J!=="N/D"&&(Ne=`${J} / ${Ne}`)}else ae==="GASELAG"&&(Ne=`GASELAG / ${Ne}`);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:Ne}),o.jsx("td",{children:H})]},F)})})]})})]}):null,o.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),o.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",o.jsx("strong",{children:z.series_total_dedup??"N/D"}),"  Conformes finales:"," ",o.jsx("strong",{children:z.series_conformes??"N/D"}),"  No conformes finales:"," ",o.jsx("strong",{children:z.series_no_conformes_final??"N/D"})]}),o.jsx("div",{className:"mT-10",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(R=>!R),children:D?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),D?o.jsxs("div",{className:"mT-10",children:[o.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),o.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",o.jsx("strong",{children:de(z)??"N/D"})," "," Duplicados eliminados:"," ",o.jsx("strong",{children:Q(z)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",o.jsx("strong",{children:(()=>{const R=de(z),F=Q(z);if(typeof R=="number"&&typeof F=="number")return R-F;const H=z.series_total_dedup;return typeof H=="number"?H:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Eventos"}),o.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((R,F)=>{const H=String(R.message??""),ae=String(R.code??""),Ne=String(R.detail??""),De=se(H||Ne||""),J=De.toLowerCase(),Re=te(ae),Ie=se(Ne),ft=[];Re&&!J.includes(Re.toLowerCase())&&ft.push(Re),Ie&&!J.includes(Ie.toLowerCase())&&ft.push(Ie);const Sn=ft.join("  ");return o.jsxs("div",{className:"small",children:[xl(R.type),"  ",De,Sn?o.jsxs("span",{className:"text-muted",children:[" (",Sn,")"]}):null]},F)})})]})]})})})})}function u2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function d2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function f2(e){if(!e)return"N/D";const a=new Date(e);if(Number.isNaN(a.getTime()))return String(e);const s=l=>String(l).padStart(2,"0");return`${s(a.getDate())}/${s(a.getMonth()+1)}/${a.getFullYear()} ${s(a.getHours())}:${s(a.getMinutes())}`}function Zf(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function m2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning text-dark":"badge bg-secondary"}function h2(){const e=Er(),a=Rn(),s=qa(a?.role,a?.username),l=s==="admin"||s==="administrator",[c,d]=b.useState([]),[m,h]=b.useState(0),[y,p]=b.useState(!1),[v,x]=b.useState(""),[w,L]=b.useState(0),[_,A]=b.useState(""),[N,k]=b.useState(""),[z,ee]=b.useState(""),[D,O]=b.useState(""),[Q,U]=b.useState(""),[te,se]=b.useState(20),[Se,ve]=b.useState(1),[de,be]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),je=b.useMemo(()=>(Se-1)*te,[Se,te]);b.useEffect(()=>{let X=!1;return p(!0),x(""),kT({limit:te,offset:je,include_deleted:!1,q:de.q||void 0,dateFrom:de.dateFrom||void 0,dateTo:de.dateTo||void 0,source:de.source||void 0,status:de.status||void 0}).then(we=>{X||(d(Array.isArray(we?.items)?we.items:[]),h(typeof we?.total=="number"?we.total:0))}).catch(we=>{if(X)return;const Ae=we,Te=Ae.response?.data?.detail||Ae.message||"No se pudo cargar historial.";x(Te)}).finally(()=>{X||p(!1)}),()=>{X=!0}},[de,je,te,w]);const ge=()=>{be({q:_.trim(),dateFrom:N.trim(),dateTo:z.trim(),source:D.trim(),status:Q.trim()}),ve(1)},q=()=>{A(""),k(""),ee(""),O(""),U(""),be({q:"",dateFrom:"",dateTo:"",source:"",status:""}),ve(1),L(X=>X+1)},ie=()=>L(X=>X+1),re=async(X,we)=>{try{x("");const Ae=await UT(X,we),Te=Ae.headers["content-disposition"],Be=Ae.headers["x-file-name"],he=u2(Te)??Be??`${we}.bin`;d2(Ae.data,he)}catch(Ae){const Te=Ae;if(dt.isCancel(Te))return;const Be=Te.response?.data?.detail||Te.message||"No se pudo descargar.";x(Be)}},Ce=async X=>{if(l&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await LT(X),ie()}catch(we){const Ae=we;if(dt.isCancel(Ae))return;const Te=Ae.response?.data?.detail||Ae.message||"No se pudo eliminar.";x(Te)}},Oe=m===0?0:je+1,j=m===0?0:Math.min(je+c.length,m),Y=Se>1,oe=je+c.length<m;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),v?o.jsx("div",{className:"alert alert-danger",role:"alert",children:v}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:X=>{X.preventDefault(),ge()},children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:_,onChange:X=>A(X.target.value),onKeyDown:X=>{X.key==="Enter"&&ge()},placeholder:"Usuario, operacin, archivo..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:N,onChange:X=>k(X.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:z,onChange:X=>ee(X.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:D,onChange:X=>O(X.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"AUTO",children:"AUTO"}),o.jsx("option",{value:"BASES",children:"BASES"}),o.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Estado"}),o.jsxs("select",{className:"form-select form-select-sm",value:Q,onChange:X=>U(X.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),o.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),o.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),o.jsxs("div",{className:"col-md-1",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:te,onChange:X=>{const we=Number(X.target.value);se(Number.isFinite(we)?we:20),ve(1)},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:y,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:q,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:ie,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[y?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:c.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(X=>{const we=X.summary_json,Ae=Zf(we,"series_total_dedup"),Te=Zf(we,"series_conformes"),Be=Zf(we,"series_no_conformes_final"),he=X.created_by_full_name||X.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:f2(X.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:he}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:m2(X.status),children:X.status})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Ae})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Te})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Be})}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void re(X.id,"excel"),children:"Excel"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void re(X.id,"no-conforme"),children:"No conforme"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void re(X.id,"manifiesto"),children:"Manifiesto"}),l?o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void Ce(X.id),children:"Eliminar"}):null]})})]},X.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",Oe,"-",j," de ",m]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>ve(X=>Math.max(1,X-1)),disabled:!Y||y,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>ve(X=>X+1),disabled:!oe||y,children:"Siguiente"})]})]})]})]})})})})}function p2(){const e=Rn();return o.jsx(o.Fragment,{children:o.jsxs(E_,{children:[o.jsx(Jt,{path:"/login",element:e?.token?o.jsx(Vs,{to:"/home",replace:!0}):o.jsx(mE,{})}),o.jsx(Jt,{element:o.jsx(aT,{}),children:o.jsxs(Jt,{element:o.jsx(oT,{}),children:[o.jsx(Jt,{path:"/",element:o.jsx(Vs,{to:"/home",replace:!0})}),o.jsx(Jt,{path:"/home",element:o.jsx(r2,{})}),o.jsx(Jt,{path:"/oi",element:o.jsx(ub,{})}),o.jsx(Jt,{path:"/oi/:oiId",element:o.jsx(ub,{})}),o.jsx(Jt,{path:"/oi/list",element:o.jsx(cT,{})}),o.jsx(Jt,{path:"/users",element:o.jsx(uT,{})}),o.jsx(Jt,{path:"/password",element:o.jsx(dT,{})}),o.jsx(Jt,{path:"/admin/permisos",element:o.jsx(hT,{})}),o.jsx(Jt,{path:"/logistica/log01/excel",element:o.jsx(c2,{})}),o.jsx(Jt,{path:"/logistica/log01/history",element:o.jsx(h2,{})}),o.jsx(Jt,{path:"/oi/tools/vima-to-lista",element:o.jsx(ET,{})}),o.jsx(Jt,{path:"/oi/tools/actualizacion-base",element:o.jsx(YT,{})}),o.jsx(Jt,{path:"/oi/tools/consolidacion",element:o.jsx(PT,{})}),o.jsx(Jt,{path:"/oi/tools/consolidacion/correlativo",element:o.jsx(WT,{})}),o.jsx(Jt,{path:"/oi/tools/consolidacion/no-correlativo",element:o.jsx(a2,{})}),o.jsx(Jt,{path:"/oi/tools/excel",element:o.jsx(s2,{})})]})}),o.jsx(Jt,{path:"*",element:o.jsx(Vs,{to:e?.token?"/home":"/login",replace:!0})})]})})}const g2=new AN;zw.createRoot(document.getElementById("root")).render(o.jsx(st.StrictMode,{children:o.jsx(ON,{client:g2,children:o.jsx(K_,{children:o.jsx(fE,{children:o.jsx(p2,{})})})})}));
