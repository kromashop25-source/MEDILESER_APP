(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function _v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hf={exports:{}},_i={};var Ly;function TN(){if(Ly)return _i;Ly=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:l,key:m,ref:c!==void 0?c:null,props:d}}return _i.Fragment=a,_i.jsx=s,_i.jsxs=s,_i}var By;function DN(){return By||(By=1,hf.exports=TN()),hf.exports}var i=DN(),pf={exports:{}},it={};var qy;function zN(){if(qy)return it;qy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function q(j){return j===null||typeof j!="object"?null:(j=N&&j[N]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function B(j,Z,ie){this.props=j,this.context=Z,this.refs=A,this.updater=ie||w}B.prototype.isReactComponent={},B.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},B.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=B.prototype;function Y(j,Z,ie){this.props=j,this.context=Z,this.refs=A,this.updater=ie||w}var D=Y.prototype=new T;D.constructor=Y,_(D,B.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function H(){}var U={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function ce(j,Z,ie){var k=ie.ref;return{$$typeof:e,type:j,key:Z,ref:k!==void 0?k:null,props:ie}}function _e(j,Z){return ce(j.type,Z,j.props)}function ve(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function fe(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ie){return Z[ie]})}var Se=/\/+/g;function De(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?fe(""+j.key):Z.toString(36)}function Oe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(H,H):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function M(j,Z,ie,k,oe){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var Re=!1;if(j===null)Re=!0;else switch(pe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(j.$$typeof){case e:case a:Re=!0;break;case v:return Re=j._init,M(Re(j._payload),Z,ie,k,oe)}}if(Re)return oe=oe(j),Re=k===""?"."+De(j,0):k,O(oe)?(ie="",Re!=null&&(ie=Re.replace(Se,"$&/")+"/"),M(oe,Z,ie,"",function(ke){return ke})):oe!=null&&(ve(oe)&&(oe=_e(oe,ie+(oe.key==null||j&&j.key===oe.key?"":(""+oe.key).replace(Se,"$&/")+"/")+Re)),Z.push(oe)),1;Re=0;var Ie=k===""?".":k+":";if(O(j))for(var de=0;de<j.length;de++)k=j[de],pe=Ie+De(k,de),Re+=M(k,Z,ie,pe,oe);else if(de=q(j),typeof de=="function")for(j=de.call(j),de=0;!(k=j.next()).done;)k=k.value,pe=Ie+De(k,de++),Re+=M(k,Z,ie,pe,oe);else if(pe==="object"){if(typeof j.then=="function")return M(Oe(j),Z,ie,k,oe);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Re}function I(j,Z,ie){if(j==null)return j;var k=[],oe=0;return M(j,k,"","",function(pe){return Z.call(ie,pe,oe++)}),k}function W(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(ie){(j._status===0||j._status===-1)&&(j._status=1,j._result=ie)},function(ie){(j._status===0||j._status===-1)&&(j._status=2,j._result=ie)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var ye=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},we={map:I,forEach:function(j,Z,ie){I(j,function(){Z.apply(this,arguments)},ie)},count:function(j){var Z=0;return I(j,function(){Z++}),Z},toArray:function(j){return I(j,function(Z){return Z})||[]},only:function(j){if(!ve(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return it.Activity=x,it.Children=we,it.Component=B,it.Fragment=s,it.Profiler=c,it.PureComponent=Y,it.StrictMode=l,it.Suspense=g,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,it.__COMPILER_RUNTIME={__proto__:null,c:function(j){return U.H.useMemoCache(j)}},it.cache=function(j){return function(){return j.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(j,Z,ie){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var k=_({},j.props),oe=j.key;if(Z!=null)for(pe in Z.key!==void 0&&(oe=""+Z.key),Z)!K.call(Z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Z.ref===void 0||(k[pe]=Z[pe]);var pe=arguments.length-2;if(pe===1)k.children=ie;else if(1<pe){for(var Re=Array(pe),Ie=0;Ie<pe;Ie++)Re[Ie]=arguments[Ie+2];k.children=Re}return ce(j.type,oe,k)},it.createContext=function(j){return j={$$typeof:m,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},it.createElement=function(j,Z,ie){var k,oe={},pe=null;if(Z!=null)for(k in Z.key!==void 0&&(pe=""+Z.key),Z)K.call(Z,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(oe[k]=Z[k]);var Re=arguments.length-2;if(Re===1)oe.children=ie;else if(1<Re){for(var Ie=Array(Re),de=0;de<Re;de++)Ie[de]=arguments[de+2];oe.children=Ie}if(j&&j.defaultProps)for(k in Re=j.defaultProps,Re)oe[k]===void 0&&(oe[k]=Re[k]);return ce(j,pe,oe)},it.createRef=function(){return{current:null}},it.forwardRef=function(j){return{$$typeof:h,render:j}},it.isValidElement=ve,it.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:W}},it.memo=function(j,Z){return{$$typeof:p,type:j,compare:Z===void 0?null:Z}},it.startTransition=function(j){var Z=U.T,ie={};U.T=ie;try{var k=j(),oe=U.S;oe!==null&&oe(ie,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(H,ye)}catch(pe){ye(pe)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),U.T=Z}},it.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},it.use=function(j){return U.H.use(j)},it.useActionState=function(j,Z,ie){return U.H.useActionState(j,Z,ie)},it.useCallback=function(j,Z){return U.H.useCallback(j,Z)},it.useContext=function(j){return U.H.useContext(j)},it.useDebugValue=function(){},it.useDeferredValue=function(j,Z){return U.H.useDeferredValue(j,Z)},it.useEffect=function(j,Z){return U.H.useEffect(j,Z)},it.useEffectEvent=function(j){return U.H.useEffectEvent(j)},it.useId=function(){return U.H.useId()},it.useImperativeHandle=function(j,Z,ie){return U.H.useImperativeHandle(j,Z,ie)},it.useInsertionEffect=function(j,Z){return U.H.useInsertionEffect(j,Z)},it.useLayoutEffect=function(j,Z){return U.H.useLayoutEffect(j,Z)},it.useMemo=function(j,Z){return U.H.useMemo(j,Z)},it.useOptimistic=function(j,Z){return U.H.useOptimistic(j,Z)},it.useReducer=function(j,Z,ie){return U.H.useReducer(j,Z,ie)},it.useRef=function(j){return U.H.useRef(j)},it.useState=function(j){return U.H.useState(j)},it.useSyncExternalStore=function(j,Z,ie){return U.H.useSyncExternalStore(j,Z,ie)},it.useTransition=function(){return U.H.useTransition()},it.version="19.2.0",it}var Iy;function Em(){return Iy||(Iy=1,pf.exports=zN()),pf.exports}var b=Em();const mt=_v(b);var gf={exports:{}},Ei={},yf={exports:{}},bf={};var $y;function MN(){return $y||($y=1,(function(e){function a(M,I){var W=M.length;M.push(I);e:for(;0<W;){var ye=W-1>>>1,we=M[ye];if(0<c(we,I))M[ye]=I,M[W]=we,W=ye;else break e}}function s(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var I=M[0],W=M.pop();if(W!==I){M[0]=W;e:for(var ye=0,we=M.length,j=we>>>1;ye<j;){var Z=2*(ye+1)-1,ie=M[Z],k=Z+1,oe=M[k];if(0>c(ie,W))k<we&&0>c(oe,ie)?(M[ye]=oe,M[k]=W,ye=k):(M[ye]=ie,M[Z]=W,ye=Z);else if(k<we&&0>c(oe,W))M[ye]=oe,M[k]=W,ye=k;else break e}}return I}function c(M,I){var W=M.sortIndex-I.sortIndex;return W!==0?W:M.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var g=[],p=[],v=1,x=null,N=3,q=!1,w=!1,_=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function D(M){for(var I=s(p);I!==null;){if(I.callback===null)l(p);else if(I.startTime<=M)l(p),I.sortIndex=I.expirationTime,a(g,I);else break;I=s(p)}}function O(M){if(_=!1,D(M),!w)if(s(g)!==null)w=!0,H||(H=!0,fe());else{var I=s(p);I!==null&&Oe(O,I.startTime-M)}}var H=!1,U=-1,K=5,ce=-1;function _e(){return A?!0:!(e.unstable_now()-ce<K)}function ve(){if(A=!1,H){var M=e.unstable_now();ce=M;var I=!0;try{e:{w=!1,_&&(_=!1,T(U),U=-1),q=!0;var W=N;try{t:{for(D(M),x=s(g);x!==null&&!(x.expirationTime>M&&_e());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,N=x.priorityLevel;var we=ye(x.expirationTime<=M);if(M=e.unstable_now(),typeof we=="function"){x.callback=we,D(M),I=!0;break t}x===s(g)&&l(g),D(M)}else l(g);x=s(g)}if(x!==null)I=!0;else{var j=s(p);j!==null&&Oe(O,j.startTime-M),I=!1}}break e}finally{x=null,N=W,q=!1}I=void 0}}finally{I?fe():H=!1}}}var fe;if(typeof Y=="function")fe=function(){Y(ve)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,De=Se.port2;Se.port1.onmessage=ve,fe=function(){De.postMessage(null)}}else fe=function(){B(ve,0)};function Oe(M,I){U=B(function(){M(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_next=function(M){switch(N){case 1:case 2:case 3:var I=3;break;default:I=N}var W=N;N=I;try{return M()}finally{N=W}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=N;N=M;try{return I()}finally{N=W}},e.unstable_scheduleCallback=function(M,I,W){var ye=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ye+W:ye):W=ye,M){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=W+we,M={id:v++,callback:I,priorityLevel:M,startTime:W,expirationTime:we,sortIndex:-1},W>ye?(M.sortIndex=W,a(p,M),s(g)===null&&M===s(p)&&(_?(T(U),U=-1):_=!0,Oe(O,W-ye))):(M.sortIndex=we,a(g,M),w||q||(w=!0,H||(H=!0,fe()))),M},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(M){var I=N;return function(){var W=N;N=I;try{return M.apply(this,arguments)}finally{N=W}}}})(bf)),bf}var Fy;function kN(){return Fy||(Fy=1,yf.exports=MN()),yf.exports}var vf={exports:{}},Ln={};var Hy;function UN(){if(Hy)return Ln;Hy=1;var e=Em();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:p,implementation:v}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ln.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(g,p,null,v)},Ln.flushSync=function(g){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,g)return g()}finally{m.T=p,l.p=v,l.d.f()}},Ln.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Ln.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Ln.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:q}):v==="script"&&l.d.X(g,{crossOrigin:x,integrity:N,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ln.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Ln.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(g,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ln.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Ln.requestFormReset=function(g){l.d.r(g)},Ln.unstable_batchedUpdates=function(g,p){return g(p)},Ln.useFormState=function(g,p,v){return m.H.useFormState(g,p,v)},Ln.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ln.version="19.2.0",Ln}var Vy;function LN(){if(Vy)return vf.exports;Vy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),vf.exports=UN(),vf.exports}var Zy;function BN(){if(Zy)return Ei;Zy=1;var e=kN(),a=Em(),s=LN();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,o=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return g(u),t;if(f===o)return g(u),n;f=f.sibling}throw Error(l(188))}if(r.return!==o.return)r=u,o=f;else{for(var y=!1,S=u.child;S;){if(S===r){y=!0,r=u,o=f;break}if(S===o){y=!0,o=u,r=f;break}S=S.sibling}if(!y){for(S=f.child;S;){if(S===r){y=!0,r=f,o=u;break}if(S===o){y=!0,o=f,r=u;break}S=S.sibling}if(!y)throw Error(l(189))}}if(r.alternate!==o)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=ve&&t[ve]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case B:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case H:return"SuspenseList";case ce:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case Y:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case D:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:De(t.type)||"Memo";case K:n=t._payload,t=t._init;try{return De(t(n))}catch{}}return null}var Oe=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ye=[],we=-1;function j(t){return{current:t}}function Z(t){0>we||(t.current=ye[we],ye[we]=null,we--)}function ie(t,n){we++,ye[we]=t.current,t.current=n}var k=j(null),oe=j(null),pe=j(null),Re=j(null);function Ie(t,n){switch(ie(pe,n),ie(oe,t),ie(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ly(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ly(n),t=iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(k),ie(k,t)}function de(){Z(k),Z(oe),Z(pe)}function ke(t){t.memoizedState!==null&&ie(Re,t);var n=k.current,r=iy(n,t.type);n!==r&&(ie(oe,t),ie(k,r))}function $e(t){oe.current===t&&(Z(k),Z(oe)),Re.current===t&&(Z(Re),Si._currentValue=W)}var Fe,ut;function Te(t){if(Fe===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fe=n&&n[1]||"",ut=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+t+ut}var Pe=!1;function me(t,n){if(!t||Pe)return"";Pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(le){var ae=le}Reflect.construct(t,[],be)}else{try{be.call()}catch(le){ae=le}t.call(be.prototype)}}else{try{throw Error()}catch(le){ae=le}(be=t())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],S=f[1];if(y&&S){var z=y.split(`
`),J=S.split(`
`);for(u=o=0;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;for(;u<J.length&&!J[u].includes("DetermineComponentFrameRoot");)u++;if(o===z.length||u===J.length)for(o=z.length-1,u=J.length-1;1<=o&&0<=u&&z[o]!==J[u];)u--;for(;1<=o&&0<=u;o--,u--)if(z[o]!==J[u]){if(o!==1||u!==1)do if(o--,u--,0>u||z[o]!==J[u]){var ue=`
`+z[o].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=o&&0<=u);break}}}finally{Pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Te(r):""}function He(t,n){switch(t.tag){case 26:case 27:case 5:return Te(t.type);case 16:return Te("Lazy");case 13:return t.child!==n&&n!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return me(t.type,!1);case 11:return me(t.type.render,!1);case 1:return me(t.type,!0);case 31:return Te("Activity");default:return""}}function Ae(t){try{var n="",r=null;do n+=He(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Je=Object.prototype.hasOwnProperty,C=e.unstable_scheduleCallback,G=e.unstable_cancelCallback,R=e.unstable_shouldYield,P=e.unstable_requestPaint,V=e.unstable_now,se=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,te=e.unstable_NormalPriority,Ue=e.unstable_LowPriority,Ze=e.unstable_IdlePriority,at=e.log,Vt=e.unstable_setDisableYieldValue,xe=null,et=null;function Ut(t){if(typeof at=="function"&&Vt(t),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(xe,t)}catch{}}var Et=Math.clz32?Math.clz32:Da,vn=Math.log,Tn=Math.LN2;function Da(t){return t>>>=0,t===0?32:31-(vn(t)/Tn|0)|0}var In=256,st=262144,ia=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=Zn(o):(y&=S,y!==0?u=Zn(y):r||(r=S&~t,r!==0&&(u=Zn(r))))):(S=o&~f,S!==0?u=Zn(S):y!==0?u=Zn(y):r||(r=o&~t,r!==0&&(u=Zn(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q(){var t=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),t}function ne(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ee(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ve(t,n,r,o,u,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,z=t.expirationTimes,J=t.hiddenUpdates;for(r=y&~r;0<r;){var ue=31-Et(r),be=1<<ue;S[ue]=0,z[ue]=-1;var ae=J[ue];if(ae!==null)for(J[ue]=null,ue=0;ue<ae.length;ue++){var le=ae[ue];le!==null&&(le.lane&=-536870913)}r&=~be}o!==0&&nt(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function nt(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Et(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function rt(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Et(r),u=1<<o;u&n|t[o]&n&&(t[o]|=n),r&=~u}}function Ke(t,n){var r=n&-n;return r=(r&42)!==0?1:Qt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Qt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Lt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Dt(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:Ry(t.type))}function un(t,n){var r=I.p;try{return I.p=t,n()}finally{I.p=r}}var Tt=Math.random().toString(36).slice(2),dt="__reactFiber$"+Tt,vt="__reactProps$"+Tt,At="__reactContainer$"+Tt,sn="__reactEvents$"+Tt,ee="__reactListeners$"+Tt,Ne="__reactHandles$"+Tt,ze="__reactResources$"+Tt,Be="__reactMarker$"+Tt;function gt(t){delete t[dt],delete t[vt],delete t[sn],delete t[ee],delete t[Ne]}function Ct(t){var n=t[dt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[At]||r[dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=hy(t);t!==null;){if(r=t[dt])return r;t=hy(t)}return n}t=r,r=t.parentNode}return null}function _n(t){if(t=t[dt]||t[At]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Un(t){var n=t[ze];return n||(n=t[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(t){t[Be]=!0}var Tr=new Set,za={};function En(t,n){Pn(t,n),Pn(t+"Capture",n)}function Pn(t,n){for(za[t]=n,t=0;t<n.length;t++)Tr.add(n[t])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dr={},Xa={};function Qs(t){return Je.call(Xa,t)?!0:Je.call(Dr,t)?!1:Ka.test(t)?Xa[t]=!0:(Dr[t]=!0,!1)}function rn(t,n,r){if(Qs(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ma(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Qn(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function no(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ml(t){if(!t._valueTracker){var n=zl(t)?"checked":"value";t._valueTracker=no(t,n,""+t[n])}}function kl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=zl(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ul=/[\n"\\]/g;function An(t){return t.replace(Ul,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ll(t,n,r,o,u,f,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+dn(n)):t.value!==""+dn(n)&&(t.value=""+dn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ks(t,y,dn(n)):r!=null?Ks(t,y,dn(r)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+dn(S):t.removeAttribute("name")}function zr(t,n,r,o,u,f,y,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ml(t);return}r=r!=null?""+dn(r):"",n=n!=null?""+dn(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ml(t)}function Ks(t,n,r){n==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function gs(t,n,r,o){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&o&&(t[r].defaultSelected=!0)}else{for(r=""+dn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function ao(t,n,r){if(n!=null&&(n=""+dn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+dn(r):""}function so(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(l(92));if(Oe(o)){if(1<o.length)throw Error(l(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=dn(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Ml(t)}function ys(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ro(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function lo(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&r[u]!==o&&ro(t,u,o)}else for(var f in n)n.hasOwnProperty(f)&&ro(t,f,n[f])}function Bl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(t){return hu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ka(){}var bs=null;function ql(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,xs=null;function io(t){var n=_n(t);if(n&&(t=n.stateNode)){var r=t[vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ll(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var u=o[vt]||null;if(!u)throw Error(l(90));Ll(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&kl(o)}break e;case"textarea":ao(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&gs(t,!!r.multiple,n,!1)}}}var Il=!1;function oo(t,n,r){if(Il)return t(n,r);Il=!0;try{var o=t(n);return o}finally{if(Il=!1,(vs!==null||xs!==null)&&(Go(),vs&&(n=vs,t=xs,xs=vs=null,io(n),t)))for(n=0;n<t.length;n++)io(t[n])}}function Xs(t,n){var r=t.stateNode;if(r===null)return null;var o=r[vt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(Ua)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Js=!1}var Ha=null,E=null,F=null;function he(){if(F)return F;var t,n=E,r=n.length,o,u="value"in Ha?Ha.value:Ha.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var y=r-t;for(o=1;o<=y&&n[r-o]===u[f-o];o++);return F=u.slice(t,1<o?1-o:void 0)}function Me(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function lt(){return!0}function Ot(){return!1}function ht(t){function n(r,o,u,f,y){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?lt:Ot,this.isPropagationStopped=Ot,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lt)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lt)},persist:function(){},isPersistent:lt}),n}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yn=ht(fn),jt=x({},fn,{view:0,detail:0}),kr=ht(jt),pu,gu,$l,co=x({},jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(pu=t.screenX-$l.screenX,gu=t.screenY-$l.screenY):gu=pu=0,$l=t),pu)},movementY:function(t){return"movementY"in t?t.movementY:gu}}),ch=ht(co),R0=x({},co,{dataTransfer:0}),T0=ht(R0),D0=x({},jt,{relatedTarget:0}),yu=ht(D0),z0=x({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),M0=ht(z0),k0=x({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U0=ht(k0),L0=x({},fn,{data:0}),uh=ht(L0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=I0[t])?!!n[t]:!1}function bu(){return $0}var F0=x({},jt,{key:function(t){if(t.key){var n=B0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Me(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(t){return t.type==="keypress"?Me(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Me(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H0=ht(F0),V0=x({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=ht(V0),Z0=x({},jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),G0=ht(Z0),P0=x({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=ht(P0),Y0=x({},co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K0=ht(Y0),X0=x({},fn,{newState:0,oldState:0}),J0=ht(X0),W0=[9,13,27,32],vu=Ua&&"CompositionEvent"in window,Fl=null;Ua&&"documentMode"in document&&(Fl=document.documentMode);var eS=Ua&&"TextEvent"in window&&!Fl,fh=Ua&&(!vu||Fl&&8<Fl&&11>=Fl),mh=" ",hh=!1;function ph(t,n){switch(t){case"keyup":return W0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function tS(t,n){switch(t){case"compositionend":return gh(n);case"keypress":return n.which!==32?null:(hh=!0,mh);case"textInput":return t=n.data,t===mh&&hh?null:t;default:return null}}function nS(t,n){if(Ur)return t==="compositionend"||!vu&&ph(t,n)?(t=he(),F=E=Ha=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fh&&n.locale!=="ko"?null:n.data;default:return null}}var aS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!aS[t.type]:n==="textarea"}function bh(t,n,r,o){vs?xs?xs.push(o):xs=[o]:vs=o,n=Wo(n,"onChange"),0<n.length&&(r=new Yn("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Hl=null,Vl=null;function sS(t){ey(t,0)}function uo(t){var n=Gn(t);if(kl(n))return t}function vh(t,n){if(t==="change")return n}var xh=!1;if(Ua){var xu;if(Ua){var Su="oninput"in document;if(!Su){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),Su=typeof Sh.oninput=="function"}xu=Su}else xu=!1;xh=xu&&(!document.documentMode||9<document.documentMode)}function Nh(){Hl&&(Hl.detachEvent("onpropertychange",jh),Vl=Hl=null)}function jh(t){if(t.propertyName==="value"&&uo(Vl)){var n=[];bh(n,Vl,t,ql(t)),oo(sS,n)}}function rS(t,n,r){t==="focusin"?(Nh(),Hl=n,Vl=r,Hl.attachEvent("onpropertychange",jh)):t==="focusout"&&Nh()}function lS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uo(Vl)}function iS(t,n){if(t==="click")return uo(n)}function oS(t,n){if(t==="input"||t==="change")return uo(n)}function cS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ca=typeof Object.is=="function"?Object.is:cS;function Zl(t,n){if(ca(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!Je.call(n,u)||!ca(t[u],n[u]))return!1}return!0}function wh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _h(t,n){var r=wh(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wh(r)}}function Eh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Eh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ah(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ys(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ys(t.document)}return n}function Nu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var uS=Ua&&"documentMode"in document&&11>=document.documentMode,Lr=null,ju=null,Gl=null,wu=!1;function Ch(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wu||Lr==null||Lr!==Ys(o)||(o=Lr,"selectionStart"in o&&Nu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Gl&&Zl(Gl,o)||(Gl=o,o=Wo(ju,"onSelect"),0<o.length&&(n=new Yn("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Lr)))}function er(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Br={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},_u={},Oh={};Ua&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function tr(t){if(_u[t])return _u[t];if(!Br[t])return t;var n=Br[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Oh)return _u[t]=n[r];return t}var Rh=tr("animationend"),Th=tr("animationiteration"),Dh=tr("animationstart"),dS=tr("transitionrun"),fS=tr("transitionstart"),mS=tr("transitioncancel"),zh=tr("transitionend"),Mh=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function La(t,n){Mh.set(t,n),En(n,[t])}var fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ya=[],qr=0,Au=0;function mo(){for(var t=qr,n=Au=qr=0;n<t;){var r=ya[n];ya[n++]=null;var o=ya[n];ya[n++]=null;var u=ya[n];ya[n++]=null;var f=ya[n];if(ya[n++]=null,o!==null&&u!==null){var y=o.pending;y===null?u.next=u:(u.next=y.next,y.next=u),o.pending=u}f!==0&&kh(r,u,f)}}function ho(t,n,r,o){ya[qr++]=t,ya[qr++]=n,ya[qr++]=r,ya[qr++]=o,Au|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Cu(t,n,r,o){return ho(t,n,r,o),po(t)}function nr(t,n){return ho(t,null,null,n),po(t)}function kh(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-Et(r),t=f.hiddenUpdates,o=t[u],o===null?t[u]=[n]:o.push(n),n.lane=r|536870912),f):null}function po(t){if(50<hi)throw hi=0,Ld=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ir={};function hS(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(t,n,r,o){return new hS(t,n,r,o)}function Ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ja(t,n){var r=t.alternate;return r===null?(r=ua(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Uh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function go(t,n,r,o,u,f){var y=0;if(o=t,typeof t=="function")Ou(t)&&(y=1);else if(typeof t=="string")y=vN(t,r,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ce:return t=ua(31,r,n,u),t.elementType=ce,t.lanes=f,t;case _:return ar(r.children,u,f,n);case A:y=8,u|=24;break;case B:return t=ua(12,r,n,u|2),t.elementType=B,t.lanes=f,t;case O:return t=ua(13,r,n,u),t.elementType=O,t.lanes=f,t;case H:return t=ua(19,r,n,u),t.elementType=H,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:y=10;break e;case T:y=9;break e;case D:y=11;break e;case U:y=14;break e;case K:y=16,o=null;break e}y=29,r=Error(l(130,t===null?"null":typeof t,"")),o=null}return n=ua(y,r,n,u),n.elementType=t,n.type=o,n.lanes=f,n}function ar(t,n,r,o){return t=ua(7,t,o,n),t.lanes=r,t}function Ru(t,n,r){return t=ua(6,t,null,n),t.lanes=r,t}function Lh(t){var n=ua(18,null,null,0);return n.stateNode=t,n}function Tu(t,n,r){return n=ua(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Bh=new WeakMap;function ba(t,n){if(typeof t=="object"&&t!==null){var r=Bh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ae(n)},Bh.set(t,n),n)}return{value:t,source:n,stack:Ae(n)}}var $r=[],Fr=0,yo=null,Pl=0,va=[],xa=0,Ss=null,Va=1,Za="";function Wa(t,n){$r[Fr++]=Pl,$r[Fr++]=yo,yo=t,Pl=n}function qh(t,n,r){va[xa++]=Va,va[xa++]=Za,va[xa++]=Ss,Ss=t;var o=Va;t=Za;var u=32-Et(o)-1;o&=~(1<<u),r+=1;var f=32-Et(n)+u;if(30<f){var y=u-u%5;f=(o&(1<<y)-1).toString(32),o>>=y,u-=y,Va=1<<32-Et(n)+u|r<<u|o,Za=f+t}else Va=1<<f|r<<u|o,Za=t}function Du(t){t.return!==null&&(Wa(t,1),qh(t,1,0))}function zu(t){for(;t===yo;)yo=$r[--Fr],$r[Fr]=null,Pl=$r[--Fr],$r[Fr]=null;for(;t===Ss;)Ss=va[--xa],va[xa]=null,Za=va[--xa],va[xa]=null,Va=va[--xa],va[xa]=null}function Ih(t,n){va[xa++]=Va,va[xa++]=Za,va[xa++]=Ss,Va=n.id,Za=n.overflow,Ss=t}var Dn=null,Zt=null,Nt=!1,Ns=null,Sa=!1,Mu=Error(l(519));function js(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(ba(n,t)),Mu}function $h(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[dt]=t,n[vt]=o,r){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(r=0;r<gi.length;r++)bt(gi[r],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":bt("invalid",n),zr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":bt("invalid",n);break;case"textarea":bt("invalid",n),so(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||sy(n.textContent,r)?(o.popover!=null&&(bt("beforetoggle",n),bt("toggle",n)),o.onScroll!=null&&bt("scroll",n),o.onScrollEnd!=null&&bt("scrollend",n),o.onClick!=null&&(n.onclick=ka),n=!0):n=!1,n||js(t,!0)}function Fh(t){for(Dn=t.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Sa=!1;return;case 27:case 3:Sa=!0;return;default:Dn=Dn.return}}function Hr(t){if(t!==Dn)return!1;if(!Nt)return Fh(t),Nt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Jd(t.type,t.memoizedProps)),r=!r),r&&Zt&&js(t),Fh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Zt=my(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Zt=my(t)}else n===27?(n=Zt,Ls(t.type)?(t=af,af=null,Zt=t):Zt=n):Zt=Dn?ja(t.stateNode.nextSibling):null;return!0}function sr(){Zt=Dn=null,Nt=!1}function ku(){var t=Ns;return t!==null&&(Wn===null?Wn=t:Wn.push.apply(Wn,t),Ns=null),t}function Ql(t){Ns===null?Ns=[t]:Ns.push(t)}var Uu=j(null),rr=null,es=null;function ws(t,n,r){ie(Uu,n._currentValue),n._currentValue=r}function ts(t){t._currentValue=Uu.current,Z(Uu)}function Lu(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function Bu(t,n,r,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var z=0;z<n.length;z++)if(S.context===n[z]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Lu(f.return,r,t),o||(y=null);break e}f=S.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Lu(y,r,t),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===t){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Vr(t,n,r,o){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var S=u.type;ca(u.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(u===Re.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Si):t=[Si])}u=u.return}t!==null&&Bu(n,t,r,o),n.flags|=262144}function bo(t){for(t=t.firstContext;t!==null;){if(!ca(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){rr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function zn(t){return Hh(rr,t)}function vo(t,n){return rr===null&&lr(t),Hh(t,n)}function Hh(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},es===null){if(t===null)throw Error(l(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return r}var pS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},gS=e.unstable_scheduleCallback,yS=e.unstable_NormalPriority,mn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new pS,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&gS(yS,function(){t.controller.abort()})}var Kl=null,Iu=0,Zr=0,Gr=null;function bS(t,n){if(Kl===null){var r=Kl=[];Iu=0,Zr=Hd(),Gr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Iu++,n.then(Vh,Vh),n}function Vh(){if(--Iu===0&&Kl!==null){Gr!==null&&(Gr.status="fulfilled");var t=Kl;Kl=null,Zr=0,Gr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vS(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var Zh=M.S;M.S=function(t,n){Cg=V(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bS(t,n),Zh!==null&&Zh(t,n)};var ir=j(null);function $u(){var t=ir.current;return t!==null?t:Ft.pooledCache}function xo(t,n){n===null?ie(ir,ir.current):ie(ir,n.pool)}function Gh(){var t=$u();return t===null?null:{parent:mn._currentValue,pool:t}}var Pr=Error(l(460)),Fu=Error(l(474)),So=Error(l(542)),No={then:function(){}};function Ph(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ka,ka),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kh(t),t;default:if(typeof n.status=="string")n.then(ka,ka);else{if(t=Ft,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kh(t),t}throw cr=n,Pr}}function or(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(cr=r,Pr):r}}var cr=null;function Yh(){if(cr===null)throw Error(l(459));var t=cr;return cr=null,t}function Kh(t){if(t===Pr||t===So)throw Error(l(483))}var Qr=null,Xl=0;function jo(t){var n=Xl;return Xl+=1,Qr===null&&(Qr=[]),Qh(Qr,t,n)}function Jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function wo(t,n){throw n.$$typeof===N?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xh(t){function n($,L){if(t){var X=$.deletions;X===null?($.deletions=[L],$.flags|=16):X.push(L)}}function r($,L){if(!t)return null;for(;L!==null;)n($,L),L=L.sibling;return null}function o($){for(var L=new Map;$!==null;)$.key!==null?L.set($.key,$):L.set($.index,$),$=$.sibling;return L}function u($,L){return $=Ja($,L),$.index=0,$.sibling=null,$}function f($,L,X){return $.index=X,t?(X=$.alternate,X!==null?(X=X.index,X<L?($.flags|=67108866,L):X):($.flags|=67108866,L)):($.flags|=1048576,L)}function y($){return t&&$.alternate===null&&($.flags|=67108866),$}function S($,L,X,ge){return L===null||L.tag!==6?(L=Ru(X,$.mode,ge),L.return=$,L):(L=u(L,X),L.return=$,L)}function z($,L,X,ge){var Xe=X.type;return Xe===_?ue($,L,X.props.children,ge,X.key):L!==null&&(L.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===K&&or(Xe)===L.type)?(L=u(L,X.props),Jl(L,X),L.return=$,L):(L=go(X.type,X.key,X.props,null,$.mode,ge),Jl(L,X),L.return=$,L)}function J($,L,X,ge){return L===null||L.tag!==4||L.stateNode.containerInfo!==X.containerInfo||L.stateNode.implementation!==X.implementation?(L=Tu(X,$.mode,ge),L.return=$,L):(L=u(L,X.children||[]),L.return=$,L)}function ue($,L,X,ge,Xe){return L===null||L.tag!==7?(L=ar(X,$.mode,ge,Xe),L.return=$,L):(L=u(L,X),L.return=$,L)}function be($,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ru(""+L,$.mode,X),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return X=go(L.type,L.key,L.props,null,$.mode,X),Jl(X,L),X.return=$,X;case w:return L=Tu(L,$.mode,X),L.return=$,L;case K:return L=or(L),be($,L,X)}if(Oe(L)||fe(L))return L=ar(L,$.mode,X,null),L.return=$,L;if(typeof L.then=="function")return be($,jo(L),X);if(L.$$typeof===Y)return be($,vo($,L),X);wo($,L)}return null}function ae($,L,X,ge){var Xe=L!==null?L.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Xe!==null?null:S($,L,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return X.key===Xe?z($,L,X,ge):null;case w:return X.key===Xe?J($,L,X,ge):null;case K:return X=or(X),ae($,L,X,ge)}if(Oe(X)||fe(X))return Xe!==null?null:ue($,L,X,ge,null);if(typeof X.then=="function")return ae($,L,jo(X),ge);if(X.$$typeof===Y)return ae($,L,vo($,X),ge);wo($,X)}return null}function le($,L,X,ge,Xe){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return $=$.get(X)||null,S(L,$,""+ge,Xe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case q:return $=$.get(ge.key===null?X:ge.key)||null,z(L,$,ge,Xe);case w:return $=$.get(ge.key===null?X:ge.key)||null,J(L,$,ge,Xe);case K:return ge=or(ge),le($,L,X,ge,Xe)}if(Oe(ge)||fe(ge))return $=$.get(X)||null,ue(L,$,ge,Xe,null);if(typeof ge.then=="function")return le($,L,X,jo(ge),Xe);if(ge.$$typeof===Y)return le($,L,X,vo(L,ge),Xe);wo(L,ge)}return null}function Ge($,L,X,ge){for(var Xe=null,wt=null,Qe=L,ft=L=0,St=null;Qe!==null&&ft<X.length;ft++){Qe.index>ft?(St=Qe,Qe=null):St=Qe.sibling;var _t=ae($,Qe,X[ft],ge);if(_t===null){Qe===null&&(Qe=St);break}t&&Qe&&_t.alternate===null&&n($,Qe),L=f(_t,L,ft),wt===null?Xe=_t:wt.sibling=_t,wt=_t,Qe=St}if(ft===X.length)return r($,Qe),Nt&&Wa($,ft),Xe;if(Qe===null){for(;ft<X.length;ft++)Qe=be($,X[ft],ge),Qe!==null&&(L=f(Qe,L,ft),wt===null?Xe=Qe:wt.sibling=Qe,wt=Qe);return Nt&&Wa($,ft),Xe}for(Qe=o(Qe);ft<X.length;ft++)St=le(Qe,$,ft,X[ft],ge),St!==null&&(t&&St.alternate!==null&&Qe.delete(St.key===null?ft:St.key),L=f(St,L,ft),wt===null?Xe=St:wt.sibling=St,wt=St);return t&&Qe.forEach(function(Fs){return n($,Fs)}),Nt&&Wa($,ft),Xe}function tt($,L,X,ge){if(X==null)throw Error(l(151));for(var Xe=null,wt=null,Qe=L,ft=L=0,St=null,_t=X.next();Qe!==null&&!_t.done;ft++,_t=X.next()){Qe.index>ft?(St=Qe,Qe=null):St=Qe.sibling;var Fs=ae($,Qe,_t.value,ge);if(Fs===null){Qe===null&&(Qe=St);break}t&&Qe&&Fs.alternate===null&&n($,Qe),L=f(Fs,L,ft),wt===null?Xe=Fs:wt.sibling=Fs,wt=Fs,Qe=St}if(_t.done)return r($,Qe),Nt&&Wa($,ft),Xe;if(Qe===null){for(;!_t.done;ft++,_t=X.next())_t=be($,_t.value,ge),_t!==null&&(L=f(_t,L,ft),wt===null?Xe=_t:wt.sibling=_t,wt=_t);return Nt&&Wa($,ft),Xe}for(Qe=o(Qe);!_t.done;ft++,_t=X.next())_t=le(Qe,$,ft,_t.value,ge),_t!==null&&(t&&_t.alternate!==null&&Qe.delete(_t.key===null?ft:_t.key),L=f(_t,L,ft),wt===null?Xe=_t:wt.sibling=_t,wt=_t);return t&&Qe.forEach(function(RN){return n($,RN)}),Nt&&Wa($,ft),Xe}function It($,L,X,ge){if(typeof X=="object"&&X!==null&&X.type===_&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case q:e:{for(var Xe=X.key;L!==null;){if(L.key===Xe){if(Xe=X.type,Xe===_){if(L.tag===7){r($,L.sibling),ge=u(L,X.props.children),ge.return=$,$=ge;break e}}else if(L.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===K&&or(Xe)===L.type){r($,L.sibling),ge=u(L,X.props),Jl(ge,X),ge.return=$,$=ge;break e}r($,L);break}else n($,L);L=L.sibling}X.type===_?(ge=ar(X.props.children,$.mode,ge,X.key),ge.return=$,$=ge):(ge=go(X.type,X.key,X.props,null,$.mode,ge),Jl(ge,X),ge.return=$,$=ge)}return y($);case w:e:{for(Xe=X.key;L!==null;){if(L.key===Xe)if(L.tag===4&&L.stateNode.containerInfo===X.containerInfo&&L.stateNode.implementation===X.implementation){r($,L.sibling),ge=u(L,X.children||[]),ge.return=$,$=ge;break e}else{r($,L);break}else n($,L);L=L.sibling}ge=Tu(X,$.mode,ge),ge.return=$,$=ge}return y($);case K:return X=or(X),It($,L,X,ge)}if(Oe(X))return Ge($,L,X,ge);if(fe(X)){if(Xe=fe(X),typeof Xe!="function")throw Error(l(150));return X=Xe.call(X),tt($,L,X,ge)}if(typeof X.then=="function")return It($,L,jo(X),ge);if(X.$$typeof===Y)return It($,L,vo($,X),ge);wo($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,L!==null&&L.tag===6?(r($,L.sibling),ge=u(L,X),ge.return=$,$=ge):(r($,L),ge=Ru(X,$.mode,ge),ge.return=$,$=ge),y($)):r($,L)}return function($,L,X,ge){try{Xl=0;var Xe=It($,L,X,ge);return Qr=null,Xe}catch(Qe){if(Qe===Pr||Qe===So)throw Qe;var wt=ua(29,Qe,null,$.mode);return wt.lanes=ge,wt.return=$,wt}finally{}}}var ur=Xh(!0),Jh=Xh(!1),_s=!1;function Hu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function As(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Rt&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=po(t),kh(t,null,r),n}return ho(t,o,n,r),po(t)}function Wl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,rt(t,r)}}function Zu(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Gu=!1;function ei(){if(Gu){var t=Gr;if(t!==null)throw t}}function ti(t,n,r,o){Gu=!1;var u=t.updateQueue;_s=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var z=S,J=z.next;z.next=null,y===null?f=J:y.next=J,y=z;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,S=ue.lastBaseUpdate,S!==y&&(S===null?ue.firstBaseUpdate=J:S.next=J,ue.lastBaseUpdate=z))}if(f!==null){var be=u.baseState;y=0,ue=J=z=null,S=f;do{var ae=S.lane&-536870913,le=ae!==S.lane;if(le?(xt&ae)===ae:(o&ae)===ae){ae!==0&&ae===Zr&&(Gu=!0),ue!==null&&(ue=ue.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ge=t,tt=S;ae=n;var It=r;switch(tt.tag){case 1:if(Ge=tt.payload,typeof Ge=="function"){be=Ge.call(It,be,ae);break e}be=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=tt.payload,ae=typeof Ge=="function"?Ge.call(It,be,ae):Ge,ae==null)break e;be=x({},be,ae);break e;case 2:_s=!0}}ae=S.callback,ae!==null&&(t.flags|=64,le&&(t.flags|=8192),le=u.callbacks,le===null?u.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ue===null?(J=ue=le,z=be):ue=ue.next=le,y|=ae;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;le=S,S=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);ue===null&&(z=be),u.baseState=z,u.firstBaseUpdate=J,u.lastBaseUpdate=ue,f===null&&(u.shared.lanes=0),Ds|=y,t.lanes=y,t.memoizedState=be}}function Wh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function ep(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Wh(r[t],n)}var Yr=j(null),_o=j(0);function tp(t,n){t=us,ie(_o,t),ie(Yr,n),us=t|n.baseLanes}function Pu(){ie(_o,us),ie(Yr,Yr.current)}function Qu(){us=_o.current,Z(Yr),Z(_o)}var da=j(null),Na=null;function Cs(t){var n=t.alternate;ie(ln,ln.current&1),ie(da,t),Na===null&&(n===null||Yr.current!==null||n.memoizedState!==null)&&(Na=t)}function Yu(t){ie(ln,ln.current),ie(da,t),Na===null&&(Na=t)}function np(t){t.tag===22?(ie(ln,ln.current),ie(da,t),Na===null&&(Na=t)):Os()}function Os(){ie(ln,ln.current),ie(da,da.current)}function fa(t){Z(da),Na===t&&(Na=null),Z(ln)}var ln=j(0);function Eo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||tf(r)||nf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,ot=null,Bt=null,hn=null,Ao=!1,Kr=!1,dr=!1,Co=0,ni=0,Xr=null,xS=0;function tn(){throw Error(l(321))}function Ku(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ca(t[r],n[r]))return!1;return!0}function Xu(t,n,r,o,u,f){return ns=f,ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?qp:fd,dr=!1,f=r(o,u),dr=!1,Kr&&(f=sp(n,r,o,u)),ap(t),f}function ap(t){M.H=ri;var n=Bt!==null&&Bt.next!==null;if(ns=0,hn=Bt=ot=null,Ao=!1,ni=0,Xr=null,n)throw Error(l(300));t===null||pn||(t=t.dependencies,t!==null&&bo(t)&&(pn=!0))}function sp(t,n,r,o){ot=t;var u=0;do{if(Kr&&(Xr=null),ni=0,Kr=!1,25<=u)throw Error(l(301));if(u+=1,hn=Bt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Ip,f=n(r,o)}while(Kr);return f}function SS(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?ai(n):n,t=t.useState()[0],(Bt!==null?Bt.memoizedState:null)!==t&&(ot.flags|=1024),n}function Ju(){var t=Co!==0;return Co=0,t}function Wu(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ed(t){if(Ao){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ao=!1}ns=0,hn=Bt=ot=null,Kr=!1,ni=Co=0,Xr=null}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?ot.memoizedState=hn=t:hn=hn.next=t,hn}function on(){if(Bt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var n=hn===null?ot.memoizedState:hn.next;if(n!==null)hn=n,Bt=t;else{if(t===null)throw ot.alternate===null?Error(l(467)):Error(l(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},hn===null?ot.memoizedState=hn=t:hn=hn.next=t}return hn}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ai(t){var n=ni;return ni+=1,Xr===null&&(Xr=[]),t=Qh(Xr,t,n),n=ot,(hn===null?n.memoizedState:hn.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?qp:fd),t}function Ro(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ai(t);if(t.$$typeof===Y)return zn(t)}throw Error(l(438,String(t)))}function td(t){var n=null,r=ot.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Oo(),ot.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=_e;return n.index++,r}function as(t,n){return typeof n=="function"?n(t):n}function To(t){var n=on();return nd(n,Bt,t)}function nd(t,n,r){var o=t.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=r;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}n.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var S=y=null,z=null,J=n,ue=!1;do{var be=J.lane&-536870913;if(be!==J.lane?(xt&be)===be:(ns&be)===be){var ae=J.revertLane;if(ae===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),be===Zr&&(ue=!0);else if((ns&ae)===ae){J=J.next,ae===Zr&&(ue=!0);continue}else be={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(S=z=be,y=f):z=z.next=be,ot.lanes|=ae,Ds|=ae;be=J.action,dr&&r(f,be),f=J.hasEagerState?J.eagerState:r(f,be)}else ae={lane:be,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(S=z=ae,y=f):z=z.next=ae,ot.lanes|=be,Ds|=be;J=J.next}while(J!==null&&J!==n);if(z===null?y=f:z.next=S,!ca(f,t.memoizedState)&&(pn=!0,ue&&(r=Gr,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=z,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ad(t){var n=on(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var o=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=t(f,y.action),y=y.next;while(y!==u);ca(f,n.memoizedState)||(pn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function rp(t,n,r){var o=ot,u=on(),f=Nt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var y=!ca((Bt||u).memoizedState,r);if(y&&(u.memoizedState=r,pn=!0),u=u.queue,ld(op.bind(null,o,u,t),[t]),u.getSnapshot!==n||y||hn!==null&&hn.memoizedState.tag&1){if(o.flags|=2048,Jr(9,{destroy:void 0},ip.bind(null,o,u,r,n),null),Ft===null)throw Error(l(349));f||(ns&127)!==0||lp(o,n,r)}return r}function lp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ot.updateQueue,n===null?(n=Oo(),ot.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ip(t,n,r,o){n.value=r,n.getSnapshot=o,cp(n)&&up(t)}function op(t,n,r){return r(function(){cp(n)&&up(t)})}function cp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ca(t,r)}catch{return!0}}function up(t){var n=nr(t,2);n!==null&&ea(n,t,2)}function sd(t){var n=$n();if(typeof t=="function"){var r=t;if(t=r(),dr){Ut(!0);try{r()}finally{Ut(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function dp(t,n,r,o){return t.baseState=r,nd(t,Bt,typeof o=="function"?o:as)}function NS(t,n,r,o,u){if(Mo(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};M.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,fp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function fp(t,n){var r=n.action,o=n.payload,u=t.state;if(n.isTransition){var f=M.T,y={};M.T=y;try{var S=r(u,o),z=M.S;z!==null&&z(y,S),mp(t,n,S)}catch(J){rd(t,n,J)}finally{f!==null&&y.types!==null&&(f.types=y.types),M.T=f}}else try{f=r(u,o),mp(t,n,f)}catch(J){rd(t,n,J)}}function mp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){hp(t,n,o)},function(o){return rd(t,n,o)}):hp(t,n,r)}function hp(t,n,r){n.status="fulfilled",n.value=r,pp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,fp(t,r)))}function rd(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,pp(n),n=n.next;while(n!==o)}t.action=null}function pp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gp(t,n){return n}function yp(t,n){if(Nt){var r=Ft.formState;if(r!==null){e:{var o=ot;if(Nt){if(Zt){t:{for(var u=Zt,f=Sa;u.nodeType!==8;){if(!f){u=null;break t}if(u=ja(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Zt=ja(u.nextSibling),o=u.data==="F!";break e}}js(o)}o=!1}o&&(n=r[0])}}return r=$n(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},r.queue=o,r=Up.bind(null,ot,o),o.dispatch=r,o=sd(!1),f=dd.bind(null,ot,!1,o.queue),o=$n(),u={state:n,dispatch:null,action:t,pending:null},o.queue=u,r=NS.bind(null,ot,u,f,r),u.dispatch=r,o.memoizedState=t,[n,r,!1]}function bp(t){var n=on();return vp(n,Bt,t)}function vp(t,n,r){if(n=nd(t,n,gp)[0],t=To(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ai(n)}catch(y){throw y===Pr?So:y}else o=n;n=on();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(ot.flags|=2048,Jr(9,{destroy:void 0},jS.bind(null,u,r),null)),[o,f,t]}function jS(t,n){t.action=n}function xp(t){var n=on(),r=Bt;if(r!==null)return vp(n,r,t);on(),n=n.memoizedState,r=on();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Jr(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=ot.updateQueue,n===null&&(n=Oo(),ot.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Sp(){return on().memoizedState}function Do(t,n,r,o){var u=$n();ot.flags|=t,u.memoizedState=Jr(1|n,{destroy:void 0},r,o===void 0?null:o)}function zo(t,n,r,o){var u=on();o=o===void 0?null:o;var f=u.memoizedState.inst;Bt!==null&&o!==null&&Ku(o,Bt.memoizedState.deps)?u.memoizedState=Jr(n,f,r,o):(ot.flags|=t,u.memoizedState=Jr(1|n,f,r,o))}function Np(t,n){Do(8390656,8,t,n)}function ld(t,n){zo(2048,8,t,n)}function wS(t){ot.flags|=4;var n=ot.updateQueue;if(n===null)n=Oo(),ot.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function jp(t){var n=on().memoizedState;return wS({ref:n,nextImpl:t}),function(){if((Rt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function wp(t,n){return zo(4,2,t,n)}function _p(t,n){return zo(4,4,t,n)}function Ep(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ap(t,n,r){r=r!=null?r.concat([t]):null,zo(4,4,Ep.bind(null,n,t),r)}function id(){}function Cp(t,n){var r=on();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Ku(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Op(t,n){var r=on();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Ku(n,o[1]))return o[0];if(o=t(),dr){Ut(!0);try{t()}finally{Ut(!1)}}return r.memoizedState=[o,n],o}function od(t,n,r){return r===void 0||(ns&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Rg(),ot.lanes|=t,Ds|=t,r)}function Rp(t,n,r,o){return ca(r,n)?r:Yr.current!==null?(t=od(t,r,o),ca(t,n)||(pn=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(xt&261930)===0?(pn=!0,t.memoizedState=r):(t=Rg(),ot.lanes|=t,Ds|=t,n)}function Tp(t,n,r,o,u){var f=I.p;I.p=f!==0&&8>f?f:8;var y=M.T,S={};M.T=S,dd(t,!1,n,r);try{var z=u(),J=M.S;if(J!==null&&J(S,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ue=vS(z,o);si(t,n,ue,pa(t))}else si(t,n,o,pa(t))}catch(be){si(t,n,{then:function(){},status:"rejected",reason:be},pa())}finally{I.p=f,y!==null&&S.types!==null&&(y.types=S.types),M.T=y}}function _S(){}function cd(t,n,r,o){if(t.tag!==5)throw Error(l(476));var u=Dp(t).queue;Tp(t,u,n,W,r===null?_S:function(){return zp(t),r(o)})}function Dp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:W},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zp(t){var n=Dp(t);n.next===null&&(n=t.alternate.memoizedState),si(t,n.next.queue,{},pa())}function ud(){return zn(Si)}function Mp(){return on().memoizedState}function kp(){return on().memoizedState}function ES(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=pa();t=Es(r);var o=As(n,t,r);o!==null&&(ea(o,n,r),Wl(o,n,r)),n={cache:qu()},t.payload=n;return}n=n.return}}function AS(t,n,r){var o=pa();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Mo(t)?Lp(n,r):(r=Cu(t,n,r,o),r!==null&&(ea(r,t,o),Bp(r,n,o)))}function Up(t,n,r){var o=pa();si(t,n,r,o)}function si(t,n,r,o){var u={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mo(t))Lp(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,S=f(y,r);if(u.hasEagerState=!0,u.eagerState=S,ca(S,y))return ho(t,n,u,0),Ft===null&&mo(),!1}catch{}finally{}if(r=Cu(t,n,u,o),r!==null)return ea(r,t,o),Bp(r,n,o),!0}return!1}function dd(t,n,r,o){if(o={lane:2,revertLane:Hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mo(t)){if(n)throw Error(l(479))}else n=Cu(t,r,o,2),n!==null&&ea(n,t,2)}function Mo(t){var n=t.alternate;return t===ot||n!==null&&n===ot}function Lp(t,n){Kr=Ao=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,rt(t,r)}}var ri={readContext:zn,use:Ro,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};ri.useEffectEvent=tn;var qp={readContext:zn,use:Ro,useCallback:function(t,n){return $n().memoizedState=[t,n===void 0?null:n],t},useContext:zn,useEffect:Np,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Do(4194308,4,Ep.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Do(4194308,4,t,n)},useInsertionEffect:function(t,n){Do(4,2,t,n)},useMemo:function(t,n){var r=$n();n=n===void 0?null:n;var o=t();if(dr){Ut(!0);try{t()}finally{Ut(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=$n();if(r!==void 0){var u=r(n);if(dr){Ut(!0);try{r(n)}finally{Ut(!1)}}}else u=n;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=AS.bind(null,ot,t),[o.memoizedState,t]},useRef:function(t){var n=$n();return t={current:t},n.memoizedState=t},useState:function(t){t=sd(t);var n=t.queue,r=Up.bind(null,ot,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:id,useDeferredValue:function(t,n){var r=$n();return od(r,t,n)},useTransition:function(){var t=sd(!1);return t=Tp.bind(null,ot,t.queue,!0,!1),$n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=ot,u=$n();if(Nt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Ft===null)throw Error(l(349));(xt&127)!==0||lp(o,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,Np(op.bind(null,o,f,t),[t]),o.flags|=2048,Jr(9,{destroy:void 0},ip.bind(null,o,f,r,n),null),r},useId:function(){var t=$n(),n=Ft.identifierPrefix;if(Nt){var r=Za,o=Va;r=(o&~(1<<32-Et(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Co++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=xS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ud,useFormState:yp,useActionState:yp,useOptimistic:function(t){var n=$n();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=dd.bind(null,ot,!0,r),r.dispatch=n,[t,n]},useMemoCache:td,useCacheRefresh:function(){return $n().memoizedState=ES.bind(null,ot)},useEffectEvent:function(t){var n=$n(),r={impl:t};return n.memoizedState=r,function(){if((Rt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},fd={readContext:zn,use:Ro,useCallback:Cp,useContext:zn,useEffect:ld,useImperativeHandle:Ap,useInsertionEffect:wp,useLayoutEffect:_p,useMemo:Op,useReducer:To,useRef:Sp,useState:function(){return To(as)},useDebugValue:id,useDeferredValue:function(t,n){var r=on();return Rp(r,Bt.memoizedState,t,n)},useTransition:function(){var t=To(as)[0],n=on().memoizedState;return[typeof t=="boolean"?t:ai(t),n]},useSyncExternalStore:rp,useId:Mp,useHostTransitionStatus:ud,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var r=on();return dp(r,Bt,t,n)},useMemoCache:td,useCacheRefresh:kp};fd.useEffectEvent=jp;var Ip={readContext:zn,use:Ro,useCallback:Cp,useContext:zn,useEffect:ld,useImperativeHandle:Ap,useInsertionEffect:wp,useLayoutEffect:_p,useMemo:Op,useReducer:ad,useRef:Sp,useState:function(){return ad(as)},useDebugValue:id,useDeferredValue:function(t,n){var r=on();return Bt===null?od(r,t,n):Rp(r,Bt.memoizedState,t,n)},useTransition:function(){var t=ad(as)[0],n=on().memoizedState;return[typeof t=="boolean"?t:ai(t),n]},useSyncExternalStore:rp,useId:Mp,useHostTransitionStatus:ud,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var r=on();return Bt!==null?dp(r,Bt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:td,useCacheRefresh:kp};Ip.useEffectEvent=jp;function md(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hd={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=pa(),u=Es(o);u.payload=n,r!=null&&(u.callback=r),n=As(t,u,o),n!==null&&(ea(n,t,o),Wl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=pa(),u=Es(o);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=As(t,u,o),n!==null&&(ea(n,t,o),Wl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=pa(),o=Es(r);o.tag=2,n!=null&&(o.callback=n),n=As(t,o,r),n!==null&&(ea(n,t,r),Wl(n,t,r))}};function $p(t,n,r,o,u,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Zl(r,o)||!Zl(u,f):!0}function Fp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&hd.enqueueReplaceState(n,n.state,null)}function fr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function Hp(t){fo(t)}function Vp(t){console.error(t)}function Zp(t){fo(t)}function ko(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function pd(t,n,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){ko(t,n)},r}function Pp(t){return t=Es(t),t.tag=3,t}function Qp(t,n,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){Gp(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Gp(n,r,o),typeof u!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function CS(t,n,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Vr(n,r,u,!0),r=da.current,r!==null){switch(r.tag){case 31:case 13:return Na===null?Po():r.alternate===null&&nn===0&&(nn=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===No?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Id(t,o,u)),!1;case 22:return r.flags|=65536,o===No?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Id(t,o,u)),!1}throw Error(l(435,r.tag))}return Id(t,o,u),Po(),!1}if(Nt)return n=da.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==Mu&&(t=Error(l(422),{cause:o}),Ql(ba(t,r)))):(o!==Mu&&(n=Error(l(423),{cause:o}),Ql(ba(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=ba(o,r),u=pd(t.stateNode,o,u),Zu(t,u),nn!==4&&(nn=2)),!1;var f=Error(l(520),{cause:o});if(f=ba(f,r),mi===null?mi=[f]:mi.push(f),nn!==4&&(nn=2),n===null)return!0;o=ba(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=pd(r.stateNode,o,t),Zu(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Pp(u),Qp(u,t,r,o),Zu(r,u),!1}r=r.return}while(r!==null);return!1}var gd=Error(l(461)),pn=!1;function Mn(t,n,r,o){n.child=t===null?Jh(n,null,r,o):ur(n,t.child,r,o)}function Yp(t,n,r,o,u){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var S in o)S!=="ref"&&(y[S]=o[S])}else y=o;return lr(n),o=Xu(t,n,r,y,f,u),S=Ju(),t!==null&&!pn?(Wu(t,n,u),ss(t,n,u)):(Nt&&S&&Du(n),n.flags|=1,Mn(t,n,o,u),n.child)}function Kp(t,n,r,o,u){if(t===null){var f=r.type;return typeof f=="function"&&!Ou(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xp(t,n,f,o,u)):(t=go(r.type,null,o,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!wd(t,u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(y,o)&&t.ref===n.ref)return ss(t,n,u)}return n.flags|=1,t=Ja(f,o),t.ref=n.ref,t.return=n,n.child=t}function Xp(t,n,r,o,u){if(t!==null){var f=t.memoizedProps;if(Zl(f,o)&&t.ref===n.ref)if(pn=!1,n.pendingProps=o=f,wd(t,u))(t.flags&131072)!==0&&(pn=!0);else return n.lanes=t.lanes,ss(t,n,u)}return yd(t,n,r,o,u)}function Jp(t,n,r,o){var u=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~f}else o=0,n.child=null;return Wp(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xo(n,f!==null?f.cachePool:null),f!==null?tp(n,f):Pu(),np(n);else return o=n.lanes=536870912,Wp(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(xo(n,f.cachePool),tp(n,f),Os(),n.memoizedState=null):(t!==null&&xo(n,null),Pu(),Os());return Mn(t,n,u,r),n.child}function li(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(t,n,r,o,u){var f=$u();return f=f===null?null:{parent:mn._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&xo(n,null),Pu(),np(n),t!==null&&Vr(t,n,o,!0),n.childLanes=u,null}function Uo(t,n){return n=Bo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function eg(t,n,r){return ur(n,t.child,null,r),t=Uo(n,n.pendingProps),t.flags|=2,fa(n),n.memoizedState=null,t}function OS(t,n,r){var o=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Nt){if(o.mode==="hidden")return t=Uo(n,o),n.lanes=536870912,li(null,t);if(Yu(n),(t=Zt)?(t=fy(t,Sa),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Va,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},r=Lh(t),r.return=n,n.child=r,Dn=n,Zt=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return Uo(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Yu(n),u)if(n.flags&256)n.flags&=-257,n=eg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(pn||Vr(t,n,r,!1),u=(r&t.childLanes)!==0,pn||u){if(o=Ft,o!==null&&(y=Ke(o,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,nr(t,y),ea(o,t,y),gd;Po(),n=eg(t,n,r)}else t=f.treeContext,Zt=ja(y.nextSibling),Dn=n,Nt=!0,Ns=null,Sa=!1,t!==null&&Ih(n,t),n=Uo(n,o),n.flags|=4096;return n}return t=Ja(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Lo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function yd(t,n,r,o,u){return lr(n),r=Xu(t,n,r,o,void 0,u),o=Ju(),t!==null&&!pn?(Wu(t,n,u),ss(t,n,u)):(Nt&&o&&Du(n),n.flags|=1,Mn(t,n,r,u),n.child)}function tg(t,n,r,o,u,f){return lr(n),n.updateQueue=null,r=sp(n,o,r,u),ap(t),o=Ju(),t!==null&&!pn?(Wu(t,n,f),ss(t,n,f)):(Nt&&o&&Du(n),n.flags|=1,Mn(t,n,r,f),n.child)}function ng(t,n,r,o,u){if(lr(n),n.stateNode===null){var f=Ir,y=r.contextType;typeof y=="object"&&y!==null&&(f=zn(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Hu(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?zn(y):Ir,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(md(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&hd.enqueueReplaceState(f,f.state,null),ti(n,o,f,u),ei(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,z=fr(r,S);f.props=z;var J=f.context,ue=r.contextType;y=Ir,typeof ue=="object"&&ue!==null&&(y=zn(ue));var be=r.getDerivedStateFromProps;ue=typeof be=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,ue||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||J!==y)&&Fp(n,f,o,y),_s=!1;var ae=n.memoizedState;f.state=ae,ti(n,o,f,u),ei(),J=n.memoizedState,S||ae!==J||_s?(typeof be=="function"&&(md(n,r,be,o),J=n.memoizedState),(z=_s||$p(n,r,z,o,ae,J,y))?(ue||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=J),f.props=o,f.state=J,f.context=y,o=z):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Vu(t,n),y=n.memoizedProps,ue=fr(r,y),f.props=ue,be=n.pendingProps,ae=f.context,J=r.contextType,z=Ir,typeof J=="object"&&J!==null&&(z=zn(J)),S=r.getDerivedStateFromProps,(J=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==be||ae!==z)&&Fp(n,f,o,z),_s=!1,ae=n.memoizedState,f.state=ae,ti(n,o,f,u),ei();var le=n.memoizedState;y!==be||ae!==le||_s||t!==null&&t.dependencies!==null&&bo(t.dependencies)?(typeof S=="function"&&(md(n,r,S,o),le=n.memoizedState),(ue=_s||$p(n,r,ue,o,ae,le,z)||t!==null&&t.dependencies!==null&&bo(t.dependencies))?(J||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,le,z),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,le,z)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&ae===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ae===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=le),f.props=o,f.state=le,f.context=z,o=ue):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&ae===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ae===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Lo(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=ur(n,t.child,null,u),n.child=ur(n,null,r,u)):Mn(t,n,r,u),n.memoizedState=f.state,t=n.child):t=ss(t,n,u),t}function ag(t,n,r,o){return sr(),n.flags|=256,Mn(t,n,r,o),n.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Gh()}}function xd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=ha),t}function sg(t,n,r){var o=n.pendingProps,u=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(ln.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Nt){if(u?Cs(n):Os(),(t=Zt)?(t=fy(t,Sa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Va,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},r=Lh(t),r.return=n,n.child=r,Dn=n,Zt=null)):t=null,t===null)throw js(n);return nf(t)?n.lanes=32:n.lanes=536870912,null}var S=o.children;return o=o.fallback,u?(Os(),u=n.mode,S=Bo({mode:"hidden",children:S},u),o=ar(o,u,r,null),S.return=n,o.return=n,S.sibling=o,n.child=S,o=n.child,o.memoizedState=vd(r),o.childLanes=xd(t,y,r),n.memoizedState=bd,li(null,o)):(Cs(n),Sd(n,S))}var z=t.memoizedState;if(z!==null&&(S=z.dehydrated,S!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Nd(t,n,r)):n.memoizedState!==null?(Os(),n.child=t.child,n.flags|=128,n=null):(Os(),S=o.fallback,u=n.mode,o=Bo({mode:"visible",children:o.children},u),S=ar(S,u,r,null),S.flags|=2,o.return=n,S.return=n,o.sibling=S,n.child=o,ur(n,t.child,null,r),o=n.child,o.memoizedState=vd(r),o.childLanes=xd(t,y,r),n.memoizedState=bd,n=li(null,o));else if(Cs(n),nf(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var J=y.dgst;y=J,o=Error(l(419)),o.stack="",o.digest=y,Ql({value:o,source:null,stack:null}),n=Nd(t,n,r)}else if(pn||Vr(t,n,r,!1),y=(r&t.childLanes)!==0,pn||y){if(y=Ft,y!==null&&(o=Ke(y,r),o!==0&&o!==z.retryLane))throw z.retryLane=o,nr(t,o),ea(y,t,o),gd;tf(S)||Po(),n=Nd(t,n,r)}else tf(S)?(n.flags|=192,n.child=t.child,n=null):(t=z.treeContext,Zt=ja(S.nextSibling),Dn=n,Nt=!0,Ns=null,Sa=!1,t!==null&&Ih(n,t),n=Sd(n,o.children),n.flags|=4096);return n}return u?(Os(),S=o.fallback,u=n.mode,z=t.child,J=z.sibling,o=Ja(z,{mode:"hidden",children:o.children}),o.subtreeFlags=z.subtreeFlags&65011712,J!==null?S=Ja(J,S):(S=ar(S,u,r,null),S.flags|=2),S.return=n,o.return=n,o.sibling=S,n.child=o,li(null,o),o=n.child,S=t.child.memoizedState,S===null?S=vd(r):(u=S.cachePool,u!==null?(z=mn._currentValue,u=u.parent!==z?{parent:z,pool:z}:u):u=Gh(),S={baseLanes:S.baseLanes|r,cachePool:u}),o.memoizedState=S,o.childLanes=xd(t,y,r),n.memoizedState=bd,li(t.child,o)):(Cs(n),r=t.child,t=r.sibling,r=Ja(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Sd(t,n){return n=Bo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Bo(t,n){return t=ua(22,t,null,n),t.lanes=0,t}function Nd(t,n,r){return ur(n,t.child,null,r),t=Sd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rg(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Lu(t.return,n,r)}function jd(t,n,r,o,u,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=u,y.treeForkCount=f)}function lg(t,n,r){var o=n.pendingProps,u=o.revealOrder,f=o.tail;o=o.children;var y=ln.current,S=(y&2)!==0;if(S?(y=y&1|2,n.flags|=128):y&=1,ie(ln,y),Mn(t,n,o,r),o=Nt?Pl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,r,n);else if(t.tag===19)rg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Eo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),jd(n,!1,u,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Eo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}jd(n,!0,r,null,f,o);break;case"together":jd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ss(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ds|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Vr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=Ja(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ja(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function wd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bo(t)))}function RS(t,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ws(n,mn,t.memoizedState.cache),sr();break;case 27:case 5:ke(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Yu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Cs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sg(t,n,r):(Cs(n),t=ss(t,n,r),t!==null?t.sibling:null);Cs(n);break;case 19:var u=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Vr(t,n,r,!1),o=(r&n.childLanes)!==0),u){if(o)return lg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ie(ln,ln.current),o)break;return null;case 22:return n.lanes=0,Jp(t,n,r,n.pendingProps);case 24:ws(n,mn,t.memoizedState.cache)}return ss(t,n,r)}function ig(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)pn=!0;else{if(!wd(t,r)&&(n.flags&128)===0)return pn=!1,RS(t,n,r);pn=(t.flags&131072)!==0}else pn=!1,Nt&&(n.flags&1048576)!==0&&qh(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=or(n.elementType),n.type=t,typeof t=="function")Ou(t)?(o=fr(t,o),n.tag=1,n=ng(null,n,t,o,r)):(n.tag=0,n=yd(null,n,t,o,r));else{if(t!=null){var u=t.$$typeof;if(u===D){n.tag=11,n=Yp(null,n,t,o,r);break e}else if(u===U){n.tag=14,n=Kp(null,n,t,o,r);break e}}throw n=De(t)||t,Error(l(306,n,""))}}return n;case 0:return yd(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,u=fr(o,n.pendingProps),ng(t,n,o,u,r);case 3:e:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(l(387));o=n.pendingProps;var f=n.memoizedState;u=f.element,Vu(t,n),ti(n,o,null,r);var y=n.memoizedState;if(o=y.cache,ws(n,mn,o),o!==f.cache&&Bu(n,[mn],r,!0),ei(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ag(t,n,o,r);break e}else if(o!==u){u=ba(Error(l(424)),n),Ql(u),n=ag(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Zt=ja(t.firstChild),Dn=n,Nt=!0,Ns=null,Sa=!0,r=Jh(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sr(),o===u){n=ss(t,n,r);break e}Mn(t,n,o,r)}n=n.child}return n;case 26:return Lo(t,n),t===null?(r=by(n.type,null,n.pendingProps,null))?n.memoizedState=r:Nt||(r=n.type,t=n.pendingProps,o=ec(pe.current).createElement(r),o[dt]=n,o[vt]=t,kn(o,r,t),$t(o),n.stateNode=o):n.memoizedState=by(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ke(n),t===null&&Nt&&(o=n.stateNode=py(n.type,n.pendingProps,pe.current),Dn=n,Sa=!0,u=Zt,Ls(n.type)?(af=u,Zt=ja(o.firstChild)):Zt=u),Mn(t,n,n.pendingProps.children,r),Lo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Nt&&((u=o=Zt)&&(o=lN(o,n.type,n.pendingProps,Sa),o!==null?(n.stateNode=o,Dn=n,Zt=ja(o.firstChild),Sa=!1,u=!0):u=!1),u||js(n)),ke(n),u=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Jd(u,f)?o=null:y!==null&&Jd(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Xu(t,n,SS,null,null,r),Si._currentValue=u),Lo(t,n),Mn(t,n,o,r),n.child;case 6:return t===null&&Nt&&((t=r=Zt)&&(r=iN(r,n.pendingProps,Sa),r!==null?(n.stateNode=r,Dn=n,Zt=null,t=!0):t=!1),t||js(n)),null;case 13:return sg(t,n,r);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ur(n,null,o,r):Mn(t,n,o,r),n.child;case 11:return Yp(t,n,n.type,n.pendingProps,r);case 7:return Mn(t,n,n.pendingProps,r),n.child;case 8:return Mn(t,n,n.pendingProps.children,r),n.child;case 12:return Mn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ws(n,n.type,o.value),Mn(t,n,o.children,r),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,lr(n),u=zn(u),o=o(u),n.flags|=1,Mn(t,n,o,r),n.child;case 14:return Kp(t,n,n.type,n.pendingProps,r);case 15:return Xp(t,n,n.type,n.pendingProps,r);case 19:return lg(t,n,r);case 31:return OS(t,n,r);case 22:return Jp(t,n,r,n.pendingProps);case 24:return lr(n),o=zn(mn),t===null?(u=$u(),u===null&&(u=Ft,f=qu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:o,cache:u},Hu(n),ws(n,mn,u)):((t.lanes&r)!==0&&(Vu(t,n),ti(n,null,null,r),ei()),u=t.memoizedState,f=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ws(n,mn,o)):(o=f.cache,ws(n,mn,o),o!==u.cache&&Bu(n,[mn],r,!0))),Mn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function rs(t){t.flags|=4}function _d(t,n,r,o,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Mg())t.flags|=8192;else throw cr=No,Fu}else t.flags&=-16777217}function og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jy(n))if(Mg())t.flags|=8192;else throw cr=No,Fu}function qo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Q():536870912,t.lanes|=n,nl|=n)}function ii(t,n){if(!Nt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function TS(t,n,r){var o=n.pendingProps;switch(zu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(n),null;case 1:return Gt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ts(mn),de(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hr(n)?rs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ku())),Gt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(rs(n),f!==null?(Gt(n),og(n,f)):(Gt(n),_d(n,u,null,o,r))):f?f!==t.memoizedState?(rs(n),Gt(n),og(n,f)):(Gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&rs(n),Gt(n),_d(n,u,t,o,r)),null;case 27:if($e(n),r=pe.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&rs(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Gt(n),null}t=k.current,Hr(n)?$h(n):(t=py(u,o,r),n.stateNode=t,rs(n))}return Gt(n),null;case 5:if($e(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&rs(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Gt(n),null}if(f=k.current,Hr(n))$h(n);else{var y=ec(pe.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(u,{is:o.is}):y.createElement(u)}}f[dt]=n,f[vt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(kn(f,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&rs(n)}}return Gt(n),_d(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&rs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(t=pe.current,Hr(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,u=Dn,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[dt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||sy(t.nodeValue,r)),t||js(n,!0)}else t=ec(t).createTextNode(o),t[dt]=n,n.stateNode=t}return Gt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Hr(n),r!==null){if(t===null){if(!o)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[dt]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gt(n),t=!1}else r=ku(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(fa(n),n):(fa(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Hr(n),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[dt]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gt(n),u=!1}else u=ku(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(fa(n),n):(fa(n),null)}return fa(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),qo(n,n.updateQueue),Gt(n),null);case 4:return de(),t===null&&Pd(n.stateNode.containerInfo),Gt(n),null;case 10:return ts(n.type),Gt(n),null;case 19:if(Z(ln),o=n.memoizedState,o===null)return Gt(n),null;if(u=(n.flags&128)!==0,f=o.rendering,f===null)if(u)ii(o,!1);else{if(nn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Eo(t),f!==null){for(n.flags|=128,ii(o,!1),t=f.updateQueue,n.updateQueue=t,qo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Uh(r,t),r=r.sibling;return ie(ln,ln.current&1|2),Nt&&Wa(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&V()>Vo&&(n.flags|=128,u=!0,ii(o,!1),n.lanes=4194304)}else{if(!u)if(t=Eo(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,qo(n,t),ii(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Nt)return Gt(n),null}else 2*V()-o.renderingStartTime>Vo&&r!==536870912&&(n.flags|=128,u=!0,ii(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=V(),t.sibling=null,r=ln.current,ie(ln,u?r&1|2:r&1),Nt&&Wa(n,o.treeForkCount),t):(Gt(n),null);case 22:case 23:return fa(n),Qu(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Gt(n),n.subtreeFlags&6&&(n.flags|=8192)):Gt(n),r=n.updateQueue,r!==null&&qo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Z(ir),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ts(mn),Gt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function DS(t,n){switch(zu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(mn),de(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return $e(n),null;case 31:if(n.memoizedState!==null){if(fa(n),n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(fa(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(ln),null;case 4:return de(),null;case 10:return ts(n.type),null;case 22:case 23:return fa(n),Qu(),t!==null&&Z(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(mn),null;case 25:return null;default:return null}}function cg(t,n){switch(zu(n),n.tag){case 3:ts(mn),de();break;case 26:case 27:case 5:$e(n);break;case 4:de();break;case 31:n.memoizedState!==null&&fa(n);break;case 13:fa(n);break;case 19:Z(ln);break;case 10:ts(n.type);break;case 22:case 23:fa(n),Qu(),t!==null&&Z(ir);break;case 24:ts(mn)}}function oi(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&t)===t){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==u)}}catch(S){Mt(n,n.return,S)}}function Rs(t,n,r){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var y=o.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,u=n;var z=r,J=S;try{J()}catch(ue){Mt(u,z,ue)}}}o=o.next}while(o!==f)}}catch(ue){Mt(n,n.return,ue)}}function ug(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ep(n,r)}catch(o){Mt(t,t.return,o)}}}function dg(t,n,r){r.props=fr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Mt(t,n,o)}}function ci(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(u){Mt(t,n,u)}}function Ga(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){Mt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Mt(t,n,u)}else r.current=null}function fg(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){Mt(t,t.return,u)}}function Ed(t,n,r){try{var o=t.stateNode;eN(o,t.type,r,n),o[vt]=n}catch(u){Mt(t,t.return,u)}}function mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ls(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ka));else if(o!==4&&(o===27&&Ls(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Cd(t,n,r),t=t.sibling;t!==null;)Cd(t,n,r),t=t.sibling}function Io(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Ls(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Io(t,n,r),t=t.sibling;t!==null;)Io(t,n,r),t=t.sibling}function hg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);kn(n,o,r),n[dt]=t,n[vt]=r}catch(f){Mt(t,t.return,f)}}var ls=!1,gn=!1,Od=!1,pg=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function zS(t,n){if(t=t.containerInfo,Kd=ic,t=Ah(t),Nu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,S=-1,z=-1,J=0,ue=0,be=t,ae=null;t:for(;;){for(var le;be!==r||u!==0&&be.nodeType!==3||(S=y+u),be!==f||o!==0&&be.nodeType!==3||(z=y+o),be.nodeType===3&&(y+=be.nodeValue.length),(le=be.firstChild)!==null;)ae=be,be=le;for(;;){if(be===t)break t;if(ae===r&&++J===u&&(S=y),ae===f&&++ue===o&&(z=y),(le=be.nextSibling)!==null)break;be=ae,ae=be.parentNode}be=le}r=S===-1||z===-1?null:{start:S,end:z}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xd={focusedElem:t,selectionRange:r},ic=!1,Cn=n;Cn!==null;)if(n=Cn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Cn=t;else for(;Cn!==null;){switch(n=Cn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var Ge=fr(r.type,u);t=o.getSnapshotBeforeUpdate(Ge,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(tt){Mt(r,r.return,tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)ef(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,Cn=t;break}Cn=n.return}}function gg(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),o&4&&oi(5,r);break;case 1:if(os(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Mt(r,r.return,y)}else{var u=fr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Mt(r,r.return,y)}}o&64&&ug(r),o&512&&ci(r,r.return);break;case 3:if(os(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ep(t,n)}catch(y){Mt(r,r.return,y)}}break;case 27:n===null&&o&4&&hg(r);case 26:case 5:os(t,r),n===null&&o&4&&fg(r),o&512&&ci(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),o&4&&vg(t,r);break;case 13:os(t,r),o&4&&xg(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=FS.bind(null,r),oN(t,r))));break;case 22:if(o=r.memoizedState!==null||ls,!o){n=n!==null&&n.memoizedState!==null||gn,u=ls;var f=gn;ls=o,(gn=n)&&!f?cs(t,r,(r.subtreeFlags&8772)!==0):os(t,r),ls=u,gn=f}break;case 30:break;default:os(t,r)}}function yg(t){var n=t.alternate;n!==null&&(t.alternate=null,yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&gt(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Yt=null,Kn=!1;function is(t,n,r){for(r=r.child;r!==null;)bg(t,n,r),r=r.sibling}function bg(t,n,r){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(xe,r)}catch{}switch(r.tag){case 26:gn||Ga(r,n),is(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:gn||Ga(r,n);var o=Yt,u=Kn;Ls(r.type)&&(Yt=r.stateNode,Kn=!1),is(t,n,r),bi(r.stateNode),Yt=o,Kn=u;break;case 5:gn||Ga(r,n);case 6:if(o=Yt,u=Kn,Yt=null,is(t,n,r),Yt=o,Kn=u,Yt!==null)if(Kn)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(r.stateNode)}catch(f){Mt(r,n,f)}else try{Yt.removeChild(r.stateNode)}catch(f){Mt(r,n,f)}break;case 18:Yt!==null&&(Kn?(t=Yt,uy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ul(t)):uy(Yt,r.stateNode));break;case 4:o=Yt,u=Kn,Yt=r.stateNode.containerInfo,Kn=!0,is(t,n,r),Yt=o,Kn=u;break;case 0:case 11:case 14:case 15:Rs(2,r,n),gn||Rs(4,r,n),is(t,n,r);break;case 1:gn||(Ga(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&dg(r,n,o)),is(t,n,r);break;case 21:is(t,n,r);break;case 22:gn=(o=gn)||r.memoizedState!==null,is(t,n,r),gn=o;break;default:is(t,n,r)}}function vg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ul(t)}catch(r){Mt(n,n.return,r)}}}function xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ul(t)}catch(r){Mt(n,n.return,r)}}function MS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pg),n;default:throw Error(l(435,t.tag))}}function $o(t,n){var r=MS(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var u=HS.bind(null,t,o);o.then(u,u)}})}function Xn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],f=t,y=n,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Ls(S.type)){Yt=S.stateNode,Kn=!1;break e}break;case 5:Yt=S.stateNode,Kn=!1;break e;case 3:case 4:Yt=S.stateNode.containerInfo,Kn=!0;break e}S=S.return}if(Yt===null)throw Error(l(160));bg(f,y,u),Yt=null,Kn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sg(n,t),n=n.sibling}var Ba=null;function Sg(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xn(n,t),Jn(t),o&4&&(Rs(3,t,t.return),oi(3,t),Rs(5,t,t.return));break;case 1:Xn(n,t),Jn(t),o&512&&(gn||r===null||Ga(r,r.return)),o&64&&ls&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=Ba;if(Xn(n,t),Jn(t),o&512&&(gn||r===null||Ga(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Be]||f[dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),kn(f,o,r),f[dt]=t,$t(f),o=f;break e;case"link":var y=Sy("link","href",u).get(o+(r.href||""));if(y){for(var S=0;S<y.length;S++)if(f=y[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(S,1);break t}}f=u.createElement(o),kn(f,o,r),u.head.appendChild(f);break;case"meta":if(y=Sy("meta","content",u).get(o+(r.content||""))){for(S=0;S<y.length;S++)if(f=y[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(S,1);break t}}f=u.createElement(o),kn(f,o,r),u.head.appendChild(f);break;default:throw Error(l(468,o))}f[dt]=t,$t(f),o=f}t.stateNode=o}else Ny(u,t.type,t.stateNode);else t.stateNode=xy(u,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Ny(u,t.type,t.stateNode):xy(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,r.memoizedProps)}break;case 27:Xn(n,t),Jn(t),o&512&&(gn||r===null||Ga(r,r.return)),r!==null&&o&4&&Ed(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Xn(n,t),Jn(t),o&512&&(gn||r===null||Ga(r,r.return)),t.flags&32){u=t.stateNode;try{ys(u,"")}catch(Ge){Mt(t,t.return,Ge)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Ed(t,u,r!==null?r.memoizedProps:u)),o&1024&&(Od=!0);break;case 6:if(Xn(n,t),Jn(t),o&4){if(t.stateNode===null)throw Error(l(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Ge){Mt(t,t.return,Ge)}}break;case 3:if(ac=null,u=Ba,Ba=tc(n.containerInfo),Xn(n,t),Ba=u,Jn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ul(n.containerInfo)}catch(Ge){Mt(t,t.return,Ge)}Od&&(Od=!1,Ng(t));break;case 4:o=Ba,Ba=tc(t.stateNode.containerInfo),Xn(n,t),Jn(t),Ba=o;break;case 12:Xn(n,t),Jn(t);break;case 31:Xn(n,t),Jn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$o(t,o)));break;case 13:Xn(n,t),Jn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ho=V()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$o(t,o)));break;case 22:u=t.memoizedState!==null;var z=r!==null&&r.memoizedState!==null,J=ls,ue=gn;if(ls=J||u,gn=ue||z,Xn(n,t),gn=ue,ls=J,Jn(t),o&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||z||ls||gn||mr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){z=r=n;try{if(f=z.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=z.stateNode;var be=z.memoizedProps.style,ae=be!=null&&be.hasOwnProperty("display")?be.display:null;S.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Ge){Mt(z,z.return,Ge)}}}else if(n.tag===6){if(r===null){z=n;try{z.stateNode.nodeValue=u?"":z.memoizedProps}catch(Ge){Mt(z,z.return,Ge)}}}else if(n.tag===18){if(r===null){z=n;try{var le=z.stateNode;u?dy(le,!0):dy(z.stateNode,!1)}catch(Ge){Mt(z,z.return,Ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,$o(t,r))));break;case 19:Xn(n,t),Jn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$o(t,o)));break;case 30:break;case 21:break;default:Xn(n,t),Jn(t)}}function Jn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(mg(o)){r=o;break}o=o.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=Ad(t);Io(t,f,u);break;case 5:var y=r.stateNode;r.flags&32&&(ys(y,""),r.flags&=-33);var S=Ad(t);Io(t,S,y);break;case 3:case 4:var z=r.stateNode.containerInfo,J=Ad(t);Cd(t,J,z);break;default:throw Error(l(161))}}catch(ue){Mt(t,t.return,ue)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ng(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ng(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gg(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),mr(n);break;case 1:Ga(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dg(n,n.return,r),mr(n);break;case 27:bi(n.stateNode);case 26:case 5:Ga(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function cs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:cs(u,f,r),oi(4,f);break;case 1:if(cs(u,f,r),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(J){Mt(o,o.return,J)}if(o=f,u=o.updateQueue,u!==null){var S=o.stateNode;try{var z=u.shared.hiddenCallbacks;if(z!==null)for(u.shared.hiddenCallbacks=null,u=0;u<z.length;u++)Wh(z[u],S)}catch(J){Mt(o,o.return,J)}}r&&y&64&&ug(f),ci(f,f.return);break;case 27:hg(f);case 26:case 5:cs(u,f,r),r&&o===null&&y&4&&fg(f),ci(f,f.return);break;case 12:cs(u,f,r);break;case 31:cs(u,f,r),r&&y&4&&vg(u,f);break;case 13:cs(u,f,r),r&&y&4&&xg(u,f);break;case 22:f.memoizedState===null&&cs(u,f,r),ci(f,f.return);break;case 30:break;default:cs(u,f,r)}n=n.sibling}}function Rd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Yl(r))}function Td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function qa(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jg(t,n,r,o),n=n.sibling}function jg(t,n,r,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:qa(t,n,r,o),u&2048&&oi(9,n);break;case 1:qa(t,n,r,o);break;case 3:qa(t,n,r,o),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(u&2048){qa(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,S=f.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Mt(n,n.return,z)}}else qa(t,n,r,o);break;case 31:qa(t,n,r,o);break;case 13:qa(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?qa(t,n,r,o):ui(t,n):f._visibility&2?qa(t,n,r,o):(f._visibility|=2,Wr(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Rd(y,n);break;case 24:qa(t,n,r,o),u&2048&&Td(n.alternate,n);break;default:qa(t,n,r,o)}}function Wr(t,n,r,o,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,S=r,z=o,J=y.flags;switch(y.tag){case 0:case 11:case 15:Wr(f,y,S,z,u),oi(8,y);break;case 23:break;case 22:var ue=y.stateNode;y.memoizedState!==null?ue._visibility&2?Wr(f,y,S,z,u):ui(f,y):(ue._visibility|=2,Wr(f,y,S,z,u)),u&&J&2048&&Rd(y.alternate,y);break;case 24:Wr(f,y,S,z,u),u&&J&2048&&Td(y.alternate,y);break;default:Wr(f,y,S,z,u)}n=n.sibling}}function ui(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,u=o.flags;switch(o.tag){case 22:ui(r,o),u&2048&&Rd(o.alternate,o);break;case 24:ui(r,o),u&2048&&Td(o.alternate,o);break;default:ui(r,o)}n=n.sibling}}var di=8192;function el(t,n,r){if(t.subtreeFlags&di)for(t=t.child;t!==null;)wg(t,n,r),t=t.sibling}function wg(t,n,r){switch(t.tag){case 26:el(t,n,r),t.flags&di&&t.memoizedState!==null&&xN(r,Ba,t.memoizedState,t.memoizedProps);break;case 5:el(t,n,r);break;case 3:case 4:var o=Ba;Ba=tc(t.stateNode.containerInfo),el(t,n,r),Ba=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=di,di=16777216,el(t,n,r),di=o):el(t,n,r));break;default:el(t,n,r)}}function _g(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Cn=o,Ag(o,t)}_g(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 0:case 11:case 15:fi(t),t.flags&2048&&Rs(9,t,t.return);break;case 3:fi(t);break;case 12:fi(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Fo(t)):fi(t);break;default:fi(t)}}function Fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Cn=o,Ag(o,t)}_g(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),Fo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Fo(n));break;default:Fo(n)}t=t.sibling}}function Ag(t,n){for(;Cn!==null;){var r=Cn;switch(r.tag){case 0:case 11:case 15:Rs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Cn=o;else e:for(r=t;Cn!==null;){o=Cn;var u=o.sibling,f=o.return;if(yg(o),o===r){Cn=null;break e}if(u!==null){u.return=f,Cn=u;break e}Cn=f}}}var kS={getCacheForType:function(t){var n=zn(mn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return zn(mn).controller.signal}},US=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Ft=null,yt=null,xt=0,zt=0,ma=null,Ts=!1,tl=!1,Dd=!1,us=0,nn=0,Ds=0,hr=0,zd=0,ha=0,nl=0,mi=null,Wn=null,Md=!1,Ho=0,Cg=0,Vo=1/0,Zo=null,zs=null,Nn=0,Ms=null,al=null,ds=0,kd=0,Ud=null,Og=null,hi=0,Ld=null;function pa(){return(Rt&2)!==0&&xt!==0?xt&-xt:M.T!==null?Hd():Dt()}function Rg(){if(ha===0)if((xt&536870912)===0||Nt){var t=st;st<<=1,(st&3932160)===0&&(st=262144),ha=t}else ha=536870912;return t=da.current,t!==null&&(t.flags|=32),ha}function ea(t,n,r){(t===Ft&&(zt===2||zt===9)||t.cancelPendingCommit!==null)&&(sl(t,0),ks(t,xt,ha,!1)),Ee(t,r),((Rt&2)===0||t!==Ft)&&(t===Ft&&((Rt&2)===0&&(hr|=r),nn===4&&ks(t,xt,ha,!1)),Pa(t))}function Tg(t,n,r){if((Rt&6)!==0)throw Error(l(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||xn(t,n),u=o?qS(t,n):qd(t,n,!0),f=o;do{if(u===0){tl&&!o&&ks(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!LS(r)){u=qd(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var S=t;u=mi;var z=S.current.memoizedState.isDehydrated;if(z&&(sl(S,y).flags|=256),y=qd(S,y,!1),y!==2){if(Dd&&!z){S.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Wn,Wn=u,f!==null&&(Wn===null?Wn=f:Wn.push.apply(Wn,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){sl(t,0),ks(t,n,0,!0);break}e:{switch(o=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ks(o,n,ha,!Ts);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Ho+300-V(),10<u)){if(ks(o,n,ha,!Ts),oa(o,0,!0)!==0)break e;ds=n,o.timeoutHandle=oy(Dg.bind(null,o,r,Wn,Zo,Md,n,ha,hr,nl,Ts,f,"Throttled",-0,0),u);break e}Dg(o,r,Wn,Zo,Md,n,ha,hr,nl,Ts,f,null,-0,0)}}break}while(!0);Pa(t)}function Dg(t,n,r,o,u,f,y,S,z,J,ue,be,ae,le){if(t.timeoutHandle=-1,be=n.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ka},wg(n,f,be);var Ge=(f&62914560)===f?Ho-V():(f&4194048)===f?Cg-V():0;if(Ge=SN(be,Ge),Ge!==null){ds=f,t.cancelPendingCommit=Ge(Ig.bind(null,t,n,f,r,o,u,y,S,z,ue,be,null,ae,le)),ks(t,f,y,!J);return}}Ig(t,n,f,r,o,u,y,S,z)}function LS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],f=u.getSnapshot;u=u.value;try{if(!ca(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(t,n,r,o){n&=~zd,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var u=n;0<u;){var f=31-Et(u),y=1<<f;o[f]=-1,u&=~y}r!==0&&nt(t,r,n)}function Go(){return(Rt&6)===0?(pi(0),!1):!0}function Bd(){if(yt!==null){if(zt===0)var t=yt.return;else t=yt,es=rr=null,ed(t),Qr=null,Xl=0,t=yt;for(;t!==null;)cg(t.alternate,t),t=t.return;yt=null}}function sl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,aN(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ds=0,Bd(),Ft=t,yt=r=Ja(t.current,null),xt=n,zt=0,ma=null,Ts=!1,tl=xn(t,n),Dd=!1,nl=ha=zd=hr=Ds=nn=0,Wn=mi=null,Md=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var u=31-Et(o),f=1<<u;n|=t[u],o&=~f}return us=n,mo(),r}function zg(t,n){ot=null,M.H=ri,n===Pr||n===So?(n=Yh(),zt=3):n===Fu?(n=Yh(),zt=4):zt=n===gd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ma=n,yt===null&&(nn=1,ko(t,ba(n,t.current)))}function Mg(){var t=da.current;return t===null?!0:(xt&4194048)===xt?Na===null:(xt&62914560)===xt||(xt&536870912)!==0?t===Na:!1}function kg(){var t=M.H;return M.H=ri,t===null?ri:t}function Ug(){var t=M.A;return M.A=kS,t}function Po(){nn=4,Ts||(xt&4194048)!==xt&&da.current!==null||(tl=!0),(Ds&134217727)===0&&(hr&134217727)===0||Ft===null||ks(Ft,xt,ha,!1)}function qd(t,n,r){var o=Rt;Rt|=2;var u=kg(),f=Ug();(Ft!==t||xt!==n)&&(Zo=null,sl(t,n)),n=!1;var y=nn;e:do try{if(zt!==0&&yt!==null){var S=yt,z=ma;switch(zt){case 8:Bd(),y=6;break e;case 3:case 2:case 9:case 6:da.current===null&&(n=!0);var J=zt;if(zt=0,ma=null,rl(t,S,z,J),r&&tl){y=0;break e}break;default:J=zt,zt=0,ma=null,rl(t,S,z,J)}}BS(),y=nn;break}catch(ue){zg(t,ue)}while(!0);return n&&t.shellSuspendCounter++,es=rr=null,Rt=o,M.H=u,M.A=f,yt===null&&(Ft=null,xt=0,mo()),y}function BS(){for(;yt!==null;)Lg(yt)}function qS(t,n){var r=Rt;Rt|=2;var o=kg(),u=Ug();Ft!==t||xt!==n?(Zo=null,Vo=V()+500,sl(t,n)):tl=xn(t,n);e:do try{if(zt!==0&&yt!==null){n=yt;var f=ma;t:switch(zt){case 1:zt=0,ma=null,rl(t,n,f,1);break;case 2:case 9:if(Ph(f)){zt=0,ma=null,Bg(n);break}n=function(){zt!==2&&zt!==9||Ft!==t||(zt=7),Pa(t)},f.then(n,n);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Ph(f)?(zt=0,ma=null,Bg(n)):(zt=0,ma=null,rl(t,n,f,7));break;case 5:var y=null;switch(yt.tag){case 26:y=yt.memoizedState;case 5:case 27:var S=yt;if(y?jy(y):S.stateNode.complete){zt=0,ma=null;var z=S.sibling;if(z!==null)yt=z;else{var J=S.return;J!==null?(yt=J,Qo(J)):yt=null}break t}}zt=0,ma=null,rl(t,n,f,5);break;case 6:zt=0,ma=null,rl(t,n,f,6);break;case 8:Bd(),nn=6;break e;default:throw Error(l(462))}}IS();break}catch(ue){zg(t,ue)}while(!0);return es=rr=null,M.H=o,M.A=u,Rt=r,yt!==null?0:(Ft=null,xt=0,mo(),nn)}function IS(){for(;yt!==null&&!R();)Lg(yt)}function Lg(t){var n=ig(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?Qo(t):yt=n}function Bg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=tg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=tg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:ed(n);default:cg(r,n),n=yt=Uh(n,us),n=ig(r,n,us)}t.memoizedProps=t.pendingProps,n===null?Qo(t):yt=n}function rl(t,n,r,o){es=rr=null,ed(n),Qr=null,Xl=0;var u=n.return;try{if(CS(t,u,n,r,xt)){nn=1,ko(t,ba(r,t.current)),yt=null;return}}catch(f){if(u!==null)throw yt=u,f;nn=1,ko(t,ba(r,t.current)),yt=null;return}n.flags&32768?(Nt||o===1?t=!0:tl||(xt&536870912)!==0?t=!1:(Ts=t=!0,(o===2||o===9||o===3||o===6)&&(o=da.current,o!==null&&o.tag===13&&(o.flags|=16384))),qg(n,t)):Qo(n)}function Qo(t){var n=t;do{if((n.flags&32768)!==0){qg(n,Ts);return}t=n.return;var r=TS(n.alternate,n,us);if(r!==null){yt=r;return}if(n=n.sibling,n!==null){yt=n;return}yt=n=t}while(n!==null);nn===0&&(nn=5)}function qg(t,n){do{var r=DS(t.alternate,t);if(r!==null){r.flags&=32767,yt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){yt=t;return}yt=t=r}while(t!==null);nn=6,yt=null}function Ig(t,n,r,o,u,f,y,S,z){t.cancelPendingCommit=null;do Yo();while(Nn!==0);if((Rt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Au,Ve(t,r,f,y,S,z),t===Ft&&(yt=Ft=null,xt=0),al=n,Ms=t,ds=r,kd=f,Ud=u,Og=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VS(te,function(){return Zg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,u=I.p,I.p=2,y=Rt,Rt|=4;try{zS(t,n,r)}finally{Rt=y,I.p=u,M.T=o}}Nn=1,$g(),Fg(),Hg()}}function $g(){if(Nn===1){Nn=0;var t=Ms,n=al,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var o=I.p;I.p=2;var u=Rt;Rt|=4;try{Sg(n,t);var f=Xd,y=Ah(t.containerInfo),S=f.focusedElem,z=f.selectionRange;if(y!==S&&S&&S.ownerDocument&&Eh(S.ownerDocument.documentElement,S)){if(z!==null&&Nu(S)){var J=z.start,ue=z.end;if(ue===void 0&&(ue=J),"selectionStart"in S)S.selectionStart=J,S.selectionEnd=Math.min(ue,S.value.length);else{var be=S.ownerDocument||document,ae=be&&be.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Ge=S.textContent.length,tt=Math.min(z.start,Ge),It=z.end===void 0?tt:Math.min(z.end,Ge);!le.extend&&tt>It&&(y=It,It=tt,tt=y);var $=_h(S,tt),L=_h(S,It);if($&&L&&(le.rangeCount!==1||le.anchorNode!==$.node||le.anchorOffset!==$.offset||le.focusNode!==L.node||le.focusOffset!==L.offset)){var X=be.createRange();X.setStart($.node,$.offset),le.removeAllRanges(),tt>It?(le.addRange(X),le.extend(L.node,L.offset)):(X.setEnd(L.node,L.offset),le.addRange(X))}}}}for(be=[],le=S;le=le.parentNode;)le.nodeType===1&&be.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<be.length;S++){var ge=be[S];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}ic=!!Kd,Xd=Kd=null}finally{Rt=u,I.p=o,M.T=r}}t.current=n,Nn=2}}function Fg(){if(Nn===2){Nn=0;var t=Ms,n=al,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var o=I.p;I.p=2;var u=Rt;Rt|=4;try{gg(t,n.alternate,n)}finally{Rt=u,I.p=o,M.T=r}}Nn=3}}function Hg(){if(Nn===4||Nn===3){Nn=0,P();var t=Ms,n=al,r=ds,o=Og;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Nn=5:(Nn=0,al=Ms=null,Vg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(zs=null),Lt(r),n=n.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(xe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=M.T,u=I.p,I.p=2,M.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var S=o[y];f(S.value,{componentStack:S.stack})}}finally{M.T=n,I.p=u}}(ds&3)!==0&&Yo(),Pa(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Ld?hi++:(hi=0,Ld=t):hi=0,pi(0)}}function Vg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function Yo(){return $g(),Fg(),Hg(),Zg()}function Zg(){if(Nn!==5)return!1;var t=Ms,n=kd;kd=0;var r=Lt(ds),o=M.T,u=I.p;try{I.p=32>r?32:r,M.T=null,r=Ud,Ud=null;var f=Ms,y=ds;if(Nn=0,al=Ms=null,ds=0,(Rt&6)!==0)throw Error(l(331));var S=Rt;if(Rt|=4,Eg(f.current),jg(f,f.current,y,r),Rt=S,pi(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(xe,f)}catch{}return!0}finally{I.p=u,M.T=o,Vg(t,n)}}function Gg(t,n,r){n=ba(r,n),n=pd(t.stateNode,n,2),t=As(t,n,2),t!==null&&(Ee(t,2),Pa(t))}function Mt(t,n,r){if(t.tag===3)Gg(t,t,r);else for(;n!==null;){if(n.tag===3){Gg(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){t=ba(r,t),r=Pp(2),o=As(n,r,2),o!==null&&(Qp(r,o,n,t),Ee(o,2),Pa(o));break}}n=n.return}}function Id(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new US;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(r)||(Dd=!0,u.add(r),t=$S.bind(null,t,n,r),n.then(t,t))}function $S(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ft===t&&(xt&r)===r&&(nn===4||nn===3&&(xt&62914560)===xt&&300>V()-Ho?(Rt&2)===0&&sl(t,0):zd|=r,nl===xt&&(nl=0)),Pa(t)}function Pg(t,n){n===0&&(n=Q()),t=nr(t,n),t!==null&&(Ee(t,n),Pa(t))}function FS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Pg(t,r)}function HS(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(n),Pg(t,r)}function VS(t,n){return C(t,n)}var Ko=null,ll=null,$d=!1,Xo=!1,Fd=!1,Us=0;function Pa(t){t!==ll&&t.next===null&&(ll===null?Ko=ll=t:ll=ll.next=t),Xo=!0,$d||($d=!0,GS())}function pi(t,n){if(!Fd&&Xo){Fd=!0;do for(var r=!1,o=Ko;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var y=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=u&~(y&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xg(o,f))}else f=xt,f=oa(o,o===Ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(r=!0,Xg(o,f));o=o.next}while(r);Fd=!1}}function ZS(){Qg()}function Qg(){Xo=$d=!1;var t=0;Us!==0&&nN()&&(t=Us);for(var n=V(),r=null,o=Ko;o!==null;){var u=o.next,f=Yg(o,n);f===0?(o.next=null,r===null?Ko=u:r.next=u,u===null&&(ll=r)):(r=o,(t!==0||(f&3)!==0)&&(Xo=!0)),o=u}Nn!==0&&Nn!==5||pi(t),Us!==0&&(Us=0)}function Yg(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Et(f),S=1<<y,z=u[y];z===-1?((S&r)===0||(S&o)!==0)&&(u[y]=Sn(S,n)):z<=n&&(t.expiredLanes|=S),f&=~S}if(n=Ft,r=xt,r=oa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(zt===2||zt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&G(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&G(o),Lt(r)){case 2:case 8:r=Le;break;case 32:r=te;break;case 268435456:r=Ze;break;default:r=te}return o=Kg.bind(null,t),r=C(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&G(o),t.callbackPriority=2,t.callbackNode=null,2}function Kg(t,n){if(Nn!==0&&Nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Yo()&&t.callbackNode!==r)return null;var o=xt;return o=oa(t,t===Ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Tg(t,o,n),Yg(t,V()),t.callbackNode!=null&&t.callbackNode===r?Kg.bind(null,t):null)}function Xg(t,n){if(Yo())return null;Tg(t,n,!0)}function GS(){sN(function(){(Rt&6)!==0?C(Ce,ZS):Qg()})}function Hd(){if(Us===0){var t=Zr;t===0&&(t=In,In<<=1,(In&261888)===0&&(In=256)),Us=t}return Us}function Jg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mr(""+t)}function Wg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function PS(t,n,r,o,u){if(n==="submit"&&r&&r.stateNode===u){var f=Jg((u[vt]||null).action),y=o.submitter;y&&(n=(n=y[vt]||null)?Jg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var S=new Yn("action","action",null,o,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var z=y?Wg(u,y):new FormData(u);cd(r,{pending:!0,data:z,method:u.method,action:f},null,z)}}else typeof f=="function"&&(S.preventDefault(),z=y?Wg(u,y):new FormData(u),cd(r,{pending:!0,data:z,method:u.method,action:f},f,z))},currentTarget:u}]})}}for(var Vd=0;Vd<Eu.length;Vd++){var Zd=Eu[Vd],QS=Zd.toLowerCase(),YS=Zd[0].toUpperCase()+Zd.slice(1);La(QS,"on"+YS)}La(Rh,"onAnimationEnd"),La(Th,"onAnimationIteration"),La(Dh,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(dS,"onTransitionRun"),La(fS,"onTransitionStart"),La(mS,"onTransitionCancel"),La(zh,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gi));function ey(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],u=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var S=o[y],z=S.instance,J=S.currentTarget;if(S=S.listener,z!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=J;try{f(u)}catch(ue){fo(ue)}u.currentTarget=null,f=z}else for(y=0;y<o.length;y++){if(S=o[y],z=S.instance,J=S.currentTarget,S=S.listener,z!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=J;try{f(u)}catch(ue){fo(ue)}u.currentTarget=null,f=z}}}}function bt(t,n){var r=n[sn];r===void 0&&(r=n[sn]=new Set);var o=t+"__bubble";r.has(o)||(ty(n,t,2,!1),r.add(o))}function Gd(t,n,r){var o=0;n&&(o|=4),ty(r,t,o,n)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Jo]){t[Jo]=!0,Tr.forEach(function(r){r!=="selectionchange"&&(KS.has(r)||Gd(r,!1,t),Gd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Jo]||(n[Jo]=!0,Gd("selectionchange",!1,n))}}function ty(t,n,r,o){switch(Ry(n)){case 2:var u=wN;break;case 8:u=_N;break;default:u=cf}r=u.bind(null,n,r,t),u=void 0,!Js||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Qd(t,n,r,o,u){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var S=o.stateNode.containerInfo;if(S===u)break;if(y===4)for(y=o.return;y!==null;){var z=y.tag;if((z===3||z===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;S!==null;){if(y=Ct(S),y===null)return;if(z=y.tag,z===5||z===6||z===26||z===27){o=f=y;continue e}S=S.parentNode}}o=o.return}oo(function(){var J=f,ue=ql(r),be=[];e:{var ae=Mh.get(t);if(ae!==void 0){var le=Yn,Ge=t;switch(t){case"keypress":if(Me(r)===0)break e;case"keydown":case"keyup":le=H0;break;case"focusin":Ge="focus",le=yu;break;case"focusout":Ge="blur",le=yu;break;case"beforeblur":case"afterblur":le=yu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=G0;break;case Rh:case Th:case Dh:le=M0;break;case zh:le=Q0;break;case"scroll":case"scrollend":le=kr;break;case"wheel":le=K0;break;case"copy":case"cut":case"paste":le=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=dh;break;case"toggle":case"beforetoggle":le=J0}var tt=(n&4)!==0,It=!tt&&(t==="scroll"||t==="scrollend"),$=tt?ae!==null?ae+"Capture":null:ae;tt=[];for(var L=J,X;L!==null;){var ge=L;if(X=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||X===null||$===null||(ge=Xs(L,$),ge!=null&&tt.push(yi(L,ge,X))),It)break;L=L.return}0<tt.length&&(ae=new le(ae,Ge,null,r,ue),be.push({event:ae,listeners:tt}))}}if((n&7)===0){e:{if(ae=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",ae&&r!==bs&&(Ge=r.relatedTarget||r.fromElement)&&(Ct(Ge)||Ge[At]))break e;if((le||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Ge=r.relatedTarget||r.toElement,le=J,Ge=Ge?Ct(Ge):null,Ge!==null&&(It=d(Ge),tt=Ge.tag,Ge!==It||tt!==5&&tt!==27&&tt!==6)&&(Ge=null)):(le=null,Ge=J),le!==Ge)){if(tt=ch,ge="onMouseLeave",$="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(tt=dh,ge="onPointerLeave",$="onPointerEnter",L="pointer"),It=le==null?ae:Gn(le),X=Ge==null?ae:Gn(Ge),ae=new tt(ge,L+"leave",le,r,ue),ae.target=It,ae.relatedTarget=X,ge=null,Ct(ue)===J&&(tt=new tt($,L+"enter",Ge,r,ue),tt.target=X,tt.relatedTarget=It,ge=tt),It=ge,le&&Ge)t:{for(tt=XS,$=le,L=Ge,X=0,ge=$;ge;ge=tt(ge))X++;ge=0;for(var Xe=L;Xe;Xe=tt(Xe))ge++;for(;0<X-ge;)$=tt($),X--;for(;0<ge-X;)L=tt(L),ge--;for(;X--;){if($===L||L!==null&&$===L.alternate){tt=$;break t}$=tt($),L=tt(L)}tt=null}else tt=null;le!==null&&ny(be,ae,le,tt,!1),Ge!==null&&It!==null&&ny(be,It,Ge,tt,!0)}}e:{if(ae=J?Gn(J):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var wt=vh;else if(yh(ae))if(xh)wt=oS;else{wt=lS;var Qe=rS}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?J&&Bl(J.elementType)&&(wt=vh):wt=iS;if(wt&&(wt=wt(t,J))){bh(be,wt,r,ue);break e}Qe&&Qe(t,ae,J),t==="focusout"&&J&&ae.type==="number"&&J.memoizedProps.value!=null&&Ks(ae,"number",ae.value)}switch(Qe=J?Gn(J):window,t){case"focusin":(yh(Qe)||Qe.contentEditable==="true")&&(Lr=Qe,ju=J,Gl=null);break;case"focusout":Gl=ju=Lr=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,Ch(be,r,ue);break;case"selectionchange":if(uS)break;case"keydown":case"keyup":Ch(be,r,ue)}var ft;if(vu)e:{switch(t){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Ur?ph(t,r)&&(St="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(St="onCompositionStart");St&&(fh&&r.locale!=="ko"&&(Ur||St!=="onCompositionStart"?St==="onCompositionEnd"&&Ur&&(ft=he()):(Ha=ue,E="value"in Ha?Ha.value:Ha.textContent,Ur=!0)),Qe=Wo(J,St),0<Qe.length&&(St=new uh(St,t,null,r,ue),be.push({event:St,listeners:Qe}),ft?St.data=ft:(ft=gh(r),ft!==null&&(St.data=ft)))),(ft=eS?tS(t,r):nS(t,r))&&(St=Wo(J,"onBeforeInput"),0<St.length&&(Qe=new uh("onBeforeInput","beforeinput",null,r,ue),be.push({event:Qe,listeners:St}),Qe.data=ft)),PS(be,t,J,r,ue)}ey(be,n)})}function yi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Wo(t,n){for(var r=n+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Xs(t,r),u!=null&&o.unshift(yi(t,u,f)),u=Xs(t,n),u!=null&&o.push(yi(t,u,f))),t.tag===3)return o;t=t.return}return[]}function XS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ny(t,n,r,o,u){for(var f=n._reactName,y=[];r!==null&&r!==o;){var S=r,z=S.alternate,J=S.stateNode;if(S=S.tag,z!==null&&z===o)break;S!==5&&S!==26&&S!==27||J===null||(z=J,u?(J=Xs(r,f),J!=null&&y.unshift(yi(r,J,z))):u||(J=Xs(r,f),J!=null&&y.push(yi(r,J,z)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var JS=/\r\n?/g,WS=/\u0000|\uFFFD/g;function ay(t){return(typeof t=="string"?t:""+t).replace(JS,`
`).replace(WS,"")}function sy(t,n){return n=ay(n),ay(t)===n}function qt(t,n,r,o,u,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ys(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ys(t,""+o);break;case"className":Ma(t,"class",o);break;case"tabIndex":Ma(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ma(t,r,o);break;case"style":lo(t,o,f);break;case"data":if(n!=="object"){Ma(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Mr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&qt(t,n,"name",u.name,u,null),qt(t,n,"formEncType",u.formEncType,u,null),qt(t,n,"formMethod",u.formMethod,u,null),qt(t,n,"formTarget",u.formTarget,u,null)):(qt(t,n,"encType",u.encType,u,null),qt(t,n,"method",u.method,u,null),qt(t,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Mr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ka);break;case"onScroll":o!=null&&bt("scroll",t);break;case"onScrollEnd":o!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Mr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":bt("beforetoggle",t),bt("toggle",t),rn(t,"popover",o);break;case"xlinkActuate":Qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Qn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Qn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Qn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Qn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,rn(t,r,o))}}function Yd(t,n,r,o,u,f){switch(r){case"style":lo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof o=="string"?ys(t,o):(typeof o=="number"||typeof o=="bigint")&&ys(t,""+o);break;case"onScroll":o!=null&&bt("scroll",t);break;case"onScrollEnd":o!=null&&bt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[vt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,u);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):rn(t,r,o)}}}function kn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var o=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:qt(t,n,f,y,r,null)}}u&&qt(t,n,"srcSet",r.srcSet,r,null),o&&qt(t,n,"src",r.src,r,null);return;case"input":bt("invalid",t);var S=f=y=u=null,z=null,J=null;for(o in r)if(r.hasOwnProperty(o)){var ue=r[o];if(ue!=null)switch(o){case"name":u=ue;break;case"type":y=ue;break;case"checked":z=ue;break;case"defaultChecked":J=ue;break;case"value":f=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(137,n));break;default:qt(t,n,o,ue,r,null)}}zr(t,f,S,z,J,y,u,!1);return;case"select":bt("invalid",t),o=y=f=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":y=S;break;case"multiple":o=S;default:qt(t,n,u,S,r,null)}n=f,r=y,t.multiple=!!o,n!=null?gs(t,!!o,n,!1):r!=null&&gs(t,!!o,r,!0);return;case"textarea":bt("invalid",t),f=u=o=null;for(y in r)if(r.hasOwnProperty(y)&&(S=r[y],S!=null))switch(y){case"value":o=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:qt(t,n,y,S,r,null)}so(t,o,u,f);return;case"option":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:qt(t,n,z,o,r,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(o=0;o<gi.length;o++)bt(gi[o],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in r)if(r.hasOwnProperty(J)&&(o=r[J],o!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:qt(t,n,J,o,r,null)}return;default:if(Bl(n)){for(ue in r)r.hasOwnProperty(ue)&&(o=r[ue],o!==void 0&&Yd(t,n,ue,o,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(o=r[S],o!=null&&qt(t,n,S,o,r,null))}function eN(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,S=null,z=null,J=null,ue=null;for(le in r){var be=r[le];if(r.hasOwnProperty(le)&&be!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":z=be;default:o.hasOwnProperty(le)||qt(t,n,le,null,o,be)}}for(var ae in o){var le=o[ae];if(be=r[ae],o.hasOwnProperty(ae)&&(le!=null||be!=null))switch(ae){case"type":f=le;break;case"name":u=le;break;case"checked":J=le;break;case"defaultChecked":ue=le;break;case"value":y=le;break;case"defaultValue":S=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(l(137,n));break;default:le!==be&&qt(t,n,ae,le,o,be)}}Ll(t,y,S,z,J,ue,f,u);return;case"select":le=y=S=ae=null;for(f in r)if(z=r[f],r.hasOwnProperty(f)&&z!=null)switch(f){case"value":break;case"multiple":le=z;default:o.hasOwnProperty(f)||qt(t,n,f,null,o,z)}for(u in o)if(f=o[u],z=r[u],o.hasOwnProperty(u)&&(f!=null||z!=null))switch(u){case"value":ae=f;break;case"defaultValue":S=f;break;case"multiple":y=f;default:f!==z&&qt(t,n,u,f,o,z)}n=S,r=y,o=le,ae!=null?gs(t,!!r,ae,!1):!!o!=!!r&&(n!=null?gs(t,!!r,n,!0):gs(t,!!r,r?[]:"",!1));return;case"textarea":le=ae=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:qt(t,n,S,null,o,u)}for(y in o)if(u=o[y],f=r[y],o.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":ae=u;break;case"defaultValue":le=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&qt(t,n,y,u,o,f)}ao(t,ae,le);return;case"option":for(var Ge in r)if(ae=r[Ge],r.hasOwnProperty(Ge)&&ae!=null&&!o.hasOwnProperty(Ge))switch(Ge){case"selected":t.selected=!1;break;default:qt(t,n,Ge,null,o,ae)}for(z in o)if(ae=o[z],le=r[z],o.hasOwnProperty(z)&&ae!==le&&(ae!=null||le!=null))switch(z){case"selected":t.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:qt(t,n,z,ae,o,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in r)ae=r[tt],r.hasOwnProperty(tt)&&ae!=null&&!o.hasOwnProperty(tt)&&qt(t,n,tt,null,o,ae);for(J in o)if(ae=o[J],le=r[J],o.hasOwnProperty(J)&&ae!==le&&(ae!=null||le!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,n));break;default:qt(t,n,J,ae,o,le)}return;default:if(Bl(n)){for(var It in r)ae=r[It],r.hasOwnProperty(It)&&ae!==void 0&&!o.hasOwnProperty(It)&&Yd(t,n,It,void 0,o,ae);for(ue in o)ae=o[ue],le=r[ue],!o.hasOwnProperty(ue)||ae===le||ae===void 0&&le===void 0||Yd(t,n,ue,ae,o,le);return}}for(var $ in r)ae=r[$],r.hasOwnProperty($)&&ae!=null&&!o.hasOwnProperty($)&&qt(t,n,$,null,o,ae);for(be in o)ae=o[be],le=r[be],!o.hasOwnProperty(be)||ae===le||ae==null&&le==null||qt(t,n,be,ae,o,le)}function ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var u=r[o],f=u.transferSize,y=u.initiatorType,S=u.duration;if(f&&S&&ry(y)){for(y=0,S=u.responseEnd,o+=1;o<r.length;o++){var z=r[o],J=z.startTime;if(J>S)break;var ue=z.transferSize,be=z.initiatorType;ue&&ry(be)&&(z=z.responseEnd,y+=ue*(z<S?1:(S-J)/(z-J)))}if(--o,n+=8*(f+y)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Xd=null;function ec(t){return t.nodeType===9?t:t.ownerDocument}function ly(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wd=null;function nN(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,cy=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof cy<"u"?function(t){return cy.resolve(null).then(t).catch(rN)}:oy;function rN(t){setTimeout(function(){throw t})}function Ls(t){return t==="head"}function uy(t,n){var r=n,o=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(u),ul(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")bi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,bi(r);for(var f=r.firstChild;f;){var y=f.nextSibling,S=f.nodeName;f[Be]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&bi(t.ownerDocument.body);r=u}while(r);ul(n)}function dy(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ef(r),gt(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function lN(t,n,r,o){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Be])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ja(t.nextSibling),t===null)break}return null}function iN(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ja(t.nextSibling),t===null))return null;return t}function fy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ja(t.nextSibling),t===null))return null;return t}function tf(t){return t.data==="$?"||t.data==="$~"}function nf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oN(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ja(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var af=null;function my(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ja(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function py(t,n,r){switch(n=ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function bi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);gt(t)}var wa=new Map,gy=new Set;function tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=I.d;I.d={f:cN,r:uN,D:dN,C:fN,L:mN,m:hN,X:gN,S:pN,M:yN};function cN(){var t=fs.f(),n=Go();return t||n}function uN(t){var n=_n(t);n!==null&&n.tag===5&&n.type==="form"?zp(n):fs.r(t)}var il=typeof document>"u"?null:document;function yy(t,n,r){var o=il;if(o&&typeof n=="string"&&n){var u=An(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),gy.has(u)||(gy.add(u),t={rel:t,crossOrigin:r,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),kn(n,"link",t),$t(n),o.head.appendChild(n)))}}function dN(t){fs.D(t),yy("dns-prefetch",t,null)}function fN(t,n){fs.C(t,n),yy("preconnect",t,n)}function mN(t,n,r){fs.L(t,n,r);var o=il;if(o&&t&&n){var u='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+An(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+An(r.imageSizes)+'"]')):u+='[href="'+An(t)+'"]';var f=u;switch(n){case"style":f=ol(t);break;case"script":f=cl(t)}wa.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wa.set(f,t),o.querySelector(u)!==null||n==="style"&&o.querySelector(vi(f))||n==="script"&&o.querySelector(xi(f))||(n=o.createElement("link"),kn(n,"link",t),$t(n),o.head.appendChild(n)))}}function hN(t,n){fs.m(t,n);var r=il;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+An(o)+'"][href="'+An(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cl(t)}if(!wa.has(f)&&(t=x({rel:"modulepreload",href:t},n),wa.set(f,t),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xi(f)))return}o=r.createElement("link"),kn(o,"link",t),$t(o),r.head.appendChild(o)}}}function pN(t,n,r){fs.S(t,n,r);var o=il;if(o&&t){var u=Un(o).hoistableStyles,f=ol(t);n=n||"default";var y=u.get(f);if(!y){var S={loading:0,preload:null};if(y=o.querySelector(vi(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wa.get(f))&&sf(t,r);var z=y=o.createElement("link");$t(z),kn(z,"link",t),z._p=new Promise(function(J,ue){z.onload=J,z.onerror=ue}),z.addEventListener("load",function(){S.loading|=1}),z.addEventListener("error",function(){S.loading|=2}),S.loading|=4,nc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:S},u.set(f,y)}}}function gN(t,n){fs.X(t,n);var r=il;if(r&&t){var o=Un(r).hoistableScripts,u=cl(t),f=o.get(u);f||(f=r.querySelector(xi(u)),f||(t=x({src:t,async:!0},n),(n=wa.get(u))&&rf(t,n),f=r.createElement("script"),$t(f),kn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function yN(t,n){fs.M(t,n);var r=il;if(r&&t){var o=Un(r).hoistableScripts,u=cl(t),f=o.get(u);f||(f=r.querySelector(xi(u)),f||(t=x({src:t,async:!0,type:"module"},n),(n=wa.get(u))&&rf(t,n),f=r.createElement("script"),$t(f),kn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function by(t,n,r,o){var u=(u=pe.current)?tc(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ol(r.href),r=Un(u).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ol(r.href);var f=Un(u).hoistableStyles,y=f.get(t);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=u.querySelector(vi(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wa.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wa.set(t,r),f||bN(u,t,r,y.state))),n&&o===null)throw Error(l(528,""));return y}if(n&&o!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cl(r),r=Un(u).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ol(t){return'href="'+An(t)+'"'}function vi(t){return'link[rel="stylesheet"]['+t+"]"}function vy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function bN(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),kn(n,"link",r),$t(n),t.head.appendChild(n))}function cl(t){return'[src="'+An(t)+'"]'}function xi(t){return"script[async]"+t}function xy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+An(r.href)+'"]');if(o)return n.instance=o,$t(o),o;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),$t(o),kn(o,"style",u),nc(o,r.precedence,t),n.instance=o;case"stylesheet":u=ol(r.href);var f=t.querySelector(vi(u));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;o=vy(r),(u=wa.get(u))&&sf(o,u),f=(t.ownerDocument||t).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(S,z){y.onload=S,y.onerror=z}),kn(f,"link",o),n.state.loading|=4,nc(f,r.precedence,t),n.instance=f;case"script":return f=cl(r.src),(u=t.querySelector(xi(f)))?(n.instance=u,$t(u),u):(o=r,(u=wa.get(f))&&(o=x({},r),rf(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),$t(u),kn(u,"link",o),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,nc(o,r.precedence,t));return n.instance}function nc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,y=0;y<o.length;y++){var S=o[y];if(S.dataset.precedence===n)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ac=null;function Sy(t,n,r){if(ac===null){var o=new Map,u=ac=new Map;u.set(r,o)}else u=ac,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[Be]||f[dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var S=o.get(y);S?S.push(f):o.set(y,[f])}}return o}function Ny(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function vN(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xN(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=ol(o.href),f=n.querySelector(vi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=sc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,$t(f);return}f=n.ownerDocument||n,o=vy(o),(u=wa.get(u))&&sf(o,u),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(S,z){y.onload=S,y.onerror=z}),kn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=sc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var lf=0;function SN(t,n){return t.stylesheets&&t.count===0&&lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&lc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&lf===0&&(lf=62500*tN());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>lf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rc=null;function lc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rc=new Map,n.forEach(NN,t),rc=null,sc.call(t))}function NN(t,n){if(!(n.state.loading&4)){var r=rc.get(t);if(r)var o=r.get(null);else{r=new Map,rc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}u=n.instance,y=u.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,u),r.set(y,u),this.count++,o=sc.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Si={$$typeof:Y,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function jN(t,n,r,o,u,f,y,S,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function wy(t,n,r,o,u,f,y,S,z,J,ue,be){return t=new jN(t,n,r,y,z,J,ue,be,S),n=1,f===!0&&(n|=24),f=ua(3,null,null,n),t.current=f,f.stateNode=t,n=qu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Hu(f),t}function _y(t){return t?(t=Ir,t):Ir}function Ey(t,n,r,o,u,f){u=_y(u),o.context===null?o.context=u:o.pendingContext=u,o=Es(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=As(t,o,n),r!==null&&(ea(r,t,n),Wl(r,t,n))}function Ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function of(t,n){Ay(t,n),(t=t.alternate)&&Ay(t,n)}function Cy(t){if(t.tag===13||t.tag===31){var n=nr(t,67108864);n!==null&&ea(n,t,67108864),of(t,67108864)}}function Oy(t){if(t.tag===13||t.tag===31){var n=pa();n=Qt(n);var r=nr(t,n);r!==null&&ea(r,t,n),of(t,n)}}var ic=!0;function wN(t,n,r,o){var u=M.T;M.T=null;var f=I.p;try{I.p=2,cf(t,n,r,o)}finally{I.p=f,M.T=u}}function _N(t,n,r,o){var u=M.T;M.T=null;var f=I.p;try{I.p=8,cf(t,n,r,o)}finally{I.p=f,M.T=u}}function cf(t,n,r,o){if(ic){var u=uf(o);if(u===null)Qd(t,n,o,oc,r),Ty(t,o);else if(AN(u,t,n,r,o))o.stopPropagation();else if(Ty(t,o),n&4&&-1<EN.indexOf(t)){for(;u!==null;){var f=_n(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Zn(f.pendingLanes);if(y!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var z=1<<31-Et(y);S.entanglements[1]|=z,y&=~z}Pa(f),(Rt&6)===0&&(Vo=V()+500,pi(0))}}break;case 31:case 13:S=nr(f,2),S!==null&&ea(S,f,2),Go(),of(f,2)}if(f=uf(o),f===null&&Qd(t,n,o,oc,r),f===u)break;u=f}u!==null&&o.stopPropagation()}else Qd(t,n,o,null,r)}}function uf(t){return t=ql(t),df(t)}var oc=null;function df(t){if(oc=null,t=Ct(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oc=t,null}function Ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case Ce:return 2;case Le:return 8;case te:case Ue:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var ff=!1,Bs=null,qs=null,Is=null,Ni=new Map,ji=new Map,$s=[],EN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ty(t,n){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Ni.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(n.pointerId)}}function wi(t,n,r,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},n!==null&&(n=_n(n),n!==null&&Cy(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function AN(t,n,r,o,u){switch(n){case"focusin":return Bs=wi(Bs,t,n,r,o,u),!0;case"dragenter":return qs=wi(qs,t,n,r,o,u),!0;case"mouseover":return Is=wi(Is,t,n,r,o,u),!0;case"pointerover":var f=u.pointerId;return Ni.set(f,wi(Ni.get(f)||null,t,n,r,o,u)),!0;case"gotpointercapture":return f=u.pointerId,ji.set(f,wi(ji.get(f)||null,t,n,r,o,u)),!0}return!1}function Dy(t){var n=Ct(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,un(t.priority,function(){Oy(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,un(t.priority,function(){Oy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);bs=o,r.target.dispatchEvent(o),bs=null}else return n=_n(r),n!==null&&Cy(n),t.blockedOn=r,!1;n.shift()}return!0}function zy(t,n,r){cc(t)&&r.delete(n)}function CN(){ff=!1,Bs!==null&&cc(Bs)&&(Bs=null),qs!==null&&cc(qs)&&(qs=null),Is!==null&&cc(Is)&&(Is=null),Ni.forEach(zy),ji.forEach(zy)}function uc(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CN)))}var dc=null;function My(t){dc!==t&&(dc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dc===t&&(dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],u=t[n+2];if(typeof o!="function"){if(df(o||r)===null)continue;break}var f=_n(r);f!==null&&(t.splice(n,3),n-=3,cd(f,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function ul(t){function n(z){return uc(z,t)}Bs!==null&&uc(Bs,t),qs!==null&&uc(qs,t),Is!==null&&uc(Is,t),Ni.forEach(n),ji.forEach(n);for(var r=0;r<$s.length;r++){var o=$s[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<$s.length&&(r=$s[0],r.blockedOn===null);)Dy(r),r.blockedOn===null&&$s.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],y=u[vt]||null;if(typeof f=="function")y||My(r);else if(y){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[vt]||null)S=y.formAction;else if(df(u)!==null)continue}else S=y.action;typeof S=="function"?r[o+1]=S:(r.splice(o,3),o-=3),My(r)}}}function ky(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function mf(t){this._internalRoot=t}fc.prototype.render=mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,o=pa();Ey(r,o,t,n,null,null)},fc.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ey(t.current,2,null,t,null,null),Go(),n[At]=null}};function fc(t){this._internalRoot=t}fc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Dt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<$s.length&&n!==0&&n<$s[r].priority;r++);$s.splice(r,0,t),r===0&&Dy(t)}};var Uy=a.version;if(Uy!=="19.2.0")throw Error(l(527,Uy,"19.2.0"));I.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var ON={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{xe=mc.inject(ON),et=mc}catch{}}return Ei.createRoot=function(t,n){if(!c(t))throw Error(l(299));var r=!1,o="",u=Hp,f=Vp,y=Zp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=wy(t,1,!1,null,null,r,o,null,u,f,y,ky),t[At]=n.current,Pd(t),new mf(n)},Ei.hydrateRoot=function(t,n,r){if(!c(t))throw Error(l(299));var o=!1,u="",f=Hp,y=Vp,S=Zp,z=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(z=r.formState)),n=wy(t,1,!0,n,r??null,o,u,z,f,y,S,ky),n.context=_y(null),r=n.current,o=pa(),o=Qt(o),u=Es(o),u.callback=null,As(r,u,o),r=o,n.current.lanes=r,Ee(n,r),Pa(n),t[At]=n.current,Pd(t),new fc(n)},Ei.version="19.2.0",Ei}var Gy;function qN(){if(Gy)return gf.exports;Gy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),gf.exports=BN(),gf.exports}var IN=qN();const $N=_v(IN);var Py="popstate";function FN(e={}){function a(l,c){let{pathname:d,search:m,hash:h}=l.location;return Kf("",{pathname:d,search:m,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:Ui(c)}return VN(a,s,null,e)}function Xt(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Ca(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function HN(){return Math.random().toString(36).substring(2,10)}function Qy(e,a){return{usr:e.state,key:e.key,idx:a}}function Kf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?wl(a):a,state:s,key:a&&a.key||l||HN()}}function Ui({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function wl(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function VN(e,a,s,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,m=c.history,h="POP",g=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function x(){h="POP";let A=v(),B=A==null?null:A-p;p=A,g&&g({action:h,location:_.location,delta:B})}function N(A,B){h="PUSH";let T=Kf(_.location,A,B);p=v()+1;let Y=Qy(T,p),D=_.createHref(T);try{m.pushState(Y,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(D)}d&&g&&g({action:h,location:_.location,delta:1})}function q(A,B){h="REPLACE";let T=Kf(_.location,A,B);p=v();let Y=Qy(T,p),D=_.createHref(T);m.replaceState(Y,"",D),d&&g&&g({action:h,location:_.location,delta:0})}function w(A){return ZN(A)}let _={get action(){return h},get location(){return e(c,m)},listen(A){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Py,x),g=A,()=>{c.removeEventListener(Py,x),g=null}},createHref(A){return a(c,A)},createURL:w,encodeLocation(A){let B=w(A);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:N,replace:q,go(A){return m.go(A)}};return _}function ZN(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:Ui(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function Ev(e,a,s="/"){return GN(e,a,s,!1)}function GN(e,a,s,l){let c=typeof a=="string"?wl(a):a,d=ps(c.pathname||"/",s);if(d==null)return null;let m=Av(e);PN(m);let h=null;for(let g=0;h==null&&g<m.length;++g){let p=sj(d);h=nj(m[g],p,l)}return h}function Av(e,a=[],s=[],l="",c=!1){let d=(m,h,g=c,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&g)return;Xt(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=hs([l,v.relativePath]),N=s.concat(v);m.children&&m.children.length>0&&(Xt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Av(m.children,a,N,x,g)),!(m.path==null&&!m.index)&&a.push({path:x,score:ej(x,m.index),routesMeta:N})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let g of Cv(m.path))d(m,h,!0,g)}),a}function Cv(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let m=Cv(l.join("/")),h=[];return h.push(...m.map(g=>g===""?d:[d,g].join("/"))),c&&h.push(...m),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function PN(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:tj(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var QN=/^:[\w-]+$/,YN=3,KN=2,XN=1,JN=10,WN=-2,Yy=e=>e==="*";function ej(e,a){let s=e.split("/"),l=s.length;return s.some(Yy)&&(l+=WN),a&&(l+=KN),s.filter(c=>!Yy(c)).reduce((c,d)=>c+(QN.test(d)?YN:d===""?XN:JN),l)}function tj(e,a){return e.length===a.length&&e.slice(0,-1).every((l,c)=>l===a[c])?e[e.length-1]-a[a.length-1]:0}function nj(e,a,s=!1){let{routesMeta:l}=e,c={},d="/",m=[];for(let h=0;h<l.length;++h){let g=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",x=Li({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),N=g.route;if(!x&&p&&s&&!l[l.length-1].route.index&&(x=Li({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:hs([d,x.pathname]),pathnameBase:oj(hs([d,x.pathnameBase])),route:N}),x.pathnameBase!=="/"&&(d=hs([d,x.pathnameBase]))}return m}function Li(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=aj(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},N)=>{if(v==="*"){let w=h[N]||"";m=d.slice(0,d.length-w.length).replace(/(.)\/+$/,"$1")}const q=h[N];return x&&!q?p[v]=void 0:p[v]=(q||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function aj(e,a=!1,s=!0){Ca(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,g)=>(l.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function sj(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ca(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function ps(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function rj(e,a="/"){let{pathname:s,search:l="",hash:c=""}=typeof e=="string"?wl(e):e;return{pathname:s?s.startsWith("/")?s:lj(s,a):a,search:cj(l),hash:uj(c)}}function lj(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function xf(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ij(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Am(e){let a=ij(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function Cm(e,a,s,l=!1){let c;typeof e=="string"?c=wl(e):(c={...e},Xt(!c.pathname||!c.pathname.includes("?"),xf("?","pathname","search",c)),Xt(!c.pathname||!c.pathname.includes("#"),xf("#","pathname","hash",c)),Xt(!c.search||!c.search.includes("#"),xf("#","search","hash",c)));let d=e===""||c.pathname==="",m=d?"/":c.pathname,h;if(m==null)h=s;else{let x=a.length-1;if(!l&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),x-=1;c.pathname=N.join("/")}h=x>=0?a[x]:"/"}let g=rj(c,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var hs=e=>e.join("/").replace(/\/\/+/g,"/"),oj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ov=["POST","PUT","PATCH","DELETE"];new Set(Ov);var fj=["GET",...Ov];new Set(fj);var _l=b.createContext(null);_l.displayName="DataRouter";var Vc=b.createContext(null);Vc.displayName="DataRouterState";b.createContext(!1);var Rv=b.createContext({isTransitioning:!1});Rv.displayName="ViewTransition";var mj=b.createContext(new Map);mj.displayName="Fetchers";var hj=b.createContext(null);hj.displayName="Await";var Oa=b.createContext(null);Oa.displayName="Navigation";var Vi=b.createContext(null);Vi.displayName="Location";var Ra=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var Om=b.createContext(null);Om.displayName="RouteError";function pj(e,{relative:a}={}){Xt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=b.useContext(Oa),{hash:c,pathname:d,search:m}=Zi(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:hs([s,d])),l.createHref({pathname:h,search:m,hash:c})}function El(){return b.useContext(Vi)!=null}function Vn(){return Xt(El(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Vi).location}var Tv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dv(e){b.useContext(Oa).static||b.useLayoutEffect(e)}function Ar(){let{isDataRoute:e}=b.useContext(Ra);return e?Tj():gj()}function gj(){Xt(El(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(_l),{basename:a,navigator:s}=b.useContext(Oa),{matches:l}=b.useContext(Ra),{pathname:c}=Vn(),d=JSON.stringify(Am(l)),m=b.useRef(!1);return Dv(()=>{m.current=!0}),b.useCallback((g,p={})=>{if(Ca(m.current,Tv),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=Cm(g,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:hs([a,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[a,s,d,c,e])}var yj=b.createContext(null);function bj(e){let a=b.useContext(Ra).outlet;return b.useMemo(()=>a&&b.createElement(yj.Provider,{value:e},a),[a,e])}function vj(){let{matches:e}=b.useContext(Ra),a=e[e.length-1];return a?a.params:{}}function Zi(e,{relative:a}={}){let{matches:s}=b.useContext(Ra),{pathname:l}=Vn(),c=JSON.stringify(Am(s));return b.useMemo(()=>Cm(e,JSON.parse(c),l,a==="path"),[e,c,l,a])}function xj(e,a){return zv(e,a)}function zv(e,a,s,l,c){Xt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(Oa),{matches:m}=b.useContext(Ra),h=m[m.length-1],g=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let T=x&&x.path||"";Mv(p,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let N=Vn(),q;if(a){let T=typeof a=="string"?wl(a):a;Xt(v==="/"||T.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${T.pathname}" was given in the \`location\` prop.`),q=T}else q=N;let w=q.pathname||"/",_=w;if(v!=="/"){let T=v.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=Ev(e,{pathname:_});Ca(x||A!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),Ca(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=_j(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},g,T.params),pathname:hs([v,d.encodeLocation?d.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?v:hs([v,d.encodeLocation?d.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),m,s,l,c);return a&&B?b.createElement(Vi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},B):B}function Sj(){let e=Rj(),a=dj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:c},s):null,m)}var Nj=b.createElement(Sj,null),jj=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ra.Provider,{value:this.props.routeContext},b.createElement(Om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wj({routeContext:e,match:a,children:s}){let l=b.useContext(_l);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(Ra.Provider,{value:e},s)}function _j(e,a=[],s=null,l=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,m=s?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);Xt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,g=-1;if(s)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=p),v.route.id){let{loaderData:x,errors:N}=s,q=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!N||N[v.route.id]===void 0);if(v.route.lazy||q){h=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,v,x)=>{let N,q=!1,w=null,_=null;s&&(N=m&&v.route.id?m[v.route.id]:void 0,w=v.route.errorElement||Nj,h&&(g<0&&x===0?(Mv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,_=null):g===x&&(q=!0,_=v.route.hydrateFallbackElement||null)));let A=a.concat(d.slice(0,x+1)),B=()=>{let T;return N?T=w:q?T=_:v.route.Component?T=b.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=p,b.createElement(wj,{match:v,routeContext:{outlet:p,matches:A,isDataRoute:s!=null},children:T})};return s&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(jj,{location:s.location,revalidation:s.revalidation,component:w,error:N,children:B(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:l}):B()},null)}function Rm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ej(e){let a=b.useContext(_l);return Xt(a,Rm(e)),a}function Aj(e){let a=b.useContext(Vc);return Xt(a,Rm(e)),a}function Cj(e){let a=b.useContext(Ra);return Xt(a,Rm(e)),a}function Tm(e){let a=Cj(e),s=a.matches[a.matches.length-1];return Xt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Oj(){return Tm("useRouteId")}function Rj(){let e=b.useContext(Om),a=Aj("useRouteError"),s=Tm("useRouteError");return e!==void 0?e:a.errors?.[s]}function Tj(){let{router:e}=Ej("useNavigate"),a=Tm("useNavigate"),s=b.useRef(!1);return Dv(()=>{s.current=!0}),b.useCallback(async(c,d={})=>{Ca(s.current,Tv),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var Ky={};function Mv(e,a,s){!a&&!Ky[e]&&(Ky[e]=!0,Ca(!1,s))}b.memo(Dj);function Dj({routes:e,future:a,state:s,unstable_onError:l}){return zv(e,void 0,s,l,a)}function Zs({to:e,replace:a,state:s,relative:l}){Xt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(Oa);Ca(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(Ra),{pathname:m}=Vn(),h=Ar(),g=Cm(e,Am(d),m,l==="path"),p=JSON.stringify(g);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function kv(e){return bj(e.context)}function Wt(e){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zj({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:c,static:d=!1}){Xt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof s=="string"&&(s=wl(s));let{pathname:g="/",search:p="",hash:v="",state:x=null,key:N="default"}=s,q=b.useMemo(()=>{let w=ps(g,m);return w==null?null:{location:{pathname:w,search:p,hash:v,state:x,key:N},navigationType:l}},[m,g,p,v,x,N,l]);return Ca(q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:b.createElement(Oa.Provider,{value:h},b.createElement(Vi.Provider,{children:a,value:q}))}function Mj({children:e,location:a}){return xj(Xf(e),a)}function Xf(e,a=[]){let s=[];return b.Children.forEach(e,(l,c)=>{if(!b.isValidElement(l))return;let d=[...a,c];if(l.type===b.Fragment){s.push.apply(s,Xf(l.props.children,d));return}Xt(l.type===Wt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Xf(l.props.children,d)),s.push(m)}),s}var jc="get",wc="application/x-www-form-urlencoded";function Zc(e){return e!=null&&typeof e.tagName=="string"}function kj(e){return Zc(e)&&e.tagName.toLowerCase()==="button"}function Uj(e){return Zc(e)&&e.tagName.toLowerCase()==="form"}function Lj(e){return Zc(e)&&e.tagName.toLowerCase()==="input"}function Bj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qj(e,a){return e.button===0&&(!a||a==="_self")&&!Bj(e)}function Jf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function Ij(e,a){let s=Jf(e);return a&&a.forEach((l,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var hc=null;function $j(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var Fj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(e){return e!=null&&!Fj.has(e)?(Ca(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wc}"`),null):e}function Hj(e,a){let s,l,c,d,m;if(Uj(e)){let h=e.getAttribute("action");l=h?ps(h,a):null,s=e.getAttribute("method")||jc,c=Sf(e.getAttribute("enctype"))||wc,d=new FormData(e)}else if(kj(e)||Lj(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||h.getAttribute("action");if(l=g?ps(g,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||jc,c=Sf(e.getAttribute("formenctype"))||Sf(h.getAttribute("enctype"))||wc,d=new FormData(h,e),!$j()){let{name:p,type:v,value:x}=e;if(v==="image"){let N=p?`${p}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else p&&d.append(p,x)}}else{if(Zc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=jc,l=null,c=wc,m=e}return d&&c==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dm(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Vj(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&ps(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function Zj(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Pj(e,a,s){let l=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let m=await Zj(d,s);return m.links?m.links():[]}return[]}));return Xj(l.flat(1).filter(Gj).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Xy(e,a,s,l,c,d){let m=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,h=(g,p)=>s[p].pathname!==g.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==g.params["*"];return d==="assets"?a.filter((g,p)=>m(g,p)||h(g,p)):d==="data"?a.filter((g,p)=>{let v=l.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(m(g,p)||h(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Qj(e,a,{includeHydrateFallback:s}={}){return Yj(e.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Yj(e){return[...new Set(e)]}function Kj(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function Xj(e,a){let s=new Set;return new Set(a),e.reduce((l,c)=>{let d=JSON.stringify(Kj(c));return s.has(d)||(s.add(d),l.push({key:d,link:c})),l},[])}function Uv(){let e=b.useContext(_l);return Dm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Jj(){let e=b.useContext(Vc);return Dm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var zm=b.createContext(void 0);zm.displayName="FrameworkContext";function Lv(){let e=b.useContext(zm);return Dm(e,"You must render this element inside a <HydratedRouter> element"),e}function Wj(e,a){let s=b.useContext(zm),[l,c]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=a,N=b.useRef(null);b.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let _=B=>{B.forEach(T=>{m(T.isIntersecting)})},A=new IntersectionObserver(_,{threshold:.5});return N.current&&A.observe(N.current),()=>{A.disconnect()}}},[e]),b.useEffect(()=>{if(l){let _=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(_)}}},[l]);let q=()=>{c(!0)},w=()=>{c(!1),m(!1)};return s?e!=="intent"?[d,N,{}]:[d,N,{onFocus:Ai(h,q),onBlur:Ai(g,w),onMouseEnter:Ai(p,q),onMouseLeave:Ai(v,w),onTouchStart:Ai(x,q)}]:[!1,N,{}]}function Ai(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function ew({page:e,...a}){let{router:s}=Uv(),l=b.useMemo(()=>Ev(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?b.createElement(nw,{page:e,matches:l,...a}):null}function tw(e){let{manifest:a,routeModules:s}=Lv(),[l,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return Pj(e,a,s).then(m=>{d||c(m)}),()=>{d=!0}},[e,a,s]),l}function nw({page:e,matches:a,...s}){let l=Vn(),{manifest:c,routeModules:d}=Lv(),{basename:m}=Uv(),{loaderData:h,matches:g}=Jj(),p=b.useMemo(()=>Xy(e,a,g,c,l,"data"),[e,a,g,c,l]),v=b.useMemo(()=>Xy(e,a,g,c,l,"assets"),[e,a,g,c,l]),x=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let w=new Set,_=!1;if(a.forEach(B=>{let T=c.routes[B.route.id];!T||!T.hasLoader||(!p.some(Y=>Y.route.id===B.route.id)&&B.route.id in h&&d[B.route.id]?.shouldRevalidate||T.hasClientLoader?_=!0:w.add(B.route.id))}),w.size===0)return[];let A=Vj(e,m,"data");return _&&w.size>0&&A.searchParams.set("_routes",a.filter(B=>w.has(B.route.id)).map(B=>B.route.id).join(",")),[A.pathname+A.search]},[m,h,l,c,p,a,e,d]),N=b.useMemo(()=>Qj(v,c),[v,c]),q=tw(v);return b.createElement(b.Fragment,null,x.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...s})),N.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...s})),q.map(({key:w,link:_})=>b.createElement("link",{key:w,nonce:s.nonce,..._})))}function aw(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bv&&(window.__reactRouterVersion="7.9.5")}catch{}function sw({basename:e,children:a,window:s}){let l=b.useRef();l.current==null&&(l.current=FN({window:s,v5Compat:!0}));let c=l.current,[d,m]=b.useState({action:c.action,location:c.location}),h=b.useCallback(g=>{b.startTransition(()=>m(g))},[m]);return b.useLayoutEffect(()=>c.listen(h),[c,h]),b.createElement(zj,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cc=b.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:m,state:h,target:g,to:p,preventScrollReset:v,viewTransition:x,...N},q){let{basename:w}=b.useContext(Oa),_=typeof p=="string"&&qv.test(p),A,B=!1;if(typeof p=="string"&&_&&(A=p,Bv))try{let ce=new URL(window.location.href),_e=p.startsWith("//")?new URL(ce.protocol+p):new URL(p),ve=ps(_e.pathname,w);_e.origin===ce.origin&&ve!=null?p=ve+_e.search+_e.hash:B=!0}catch{Ca(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=pj(p,{relative:c}),[Y,D,O]=Wj(l,N),H=iw(p,{replace:m,state:h,target:g,preventScrollReset:v,relative:c,viewTransition:x});function U(ce){a&&a(ce),ce.defaultPrevented||H(ce)}let K=b.createElement("a",{...N,...O,href:A||T,onClick:B||d?a:U,ref:aw(q,D),target:g,"data-discover":!_&&s==="render"?"true":void 0});return Y&&!_?b.createElement(b.Fragment,null,K,b.createElement(ew,{page:T})):K});Cc.displayName="Link";var Iv=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:h,children:g,...p},v){let x=Zi(m,{relative:p.relative}),N=Vn(),q=b.useContext(Vc),{navigator:w,basename:_}=b.useContext(Oa),A=q!=null&&fw(x)&&h===!0,B=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,T=N.pathname,Y=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;s||(T=T.toLowerCase(),Y=Y?Y.toLowerCase():null,B=B.toLowerCase()),Y&&_&&(Y=ps(Y,_)||Y);const D=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let O=T===B||!c&&T.startsWith(B)&&T.charAt(D)==="/",H=Y!=null&&(Y===B||!c&&Y.startsWith(B)&&Y.charAt(B.length)==="/"),U={isActive:O,isPending:H,isTransitioning:A},K=O?a:void 0,ce;typeof l=="function"?ce=l(U):ce=[l,O?"active":null,H?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let _e=typeof d=="function"?d(U):d;return b.createElement(Cc,{...p,"aria-current":K,className:ce,ref:v,style:_e,to:m,viewTransition:h},typeof g=="function"?g(U):g)});Iv.displayName="NavLink";var rw=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:c,state:d,method:m=jc,action:h,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:x,...N},q)=>{let w=uw(),_=dw(h,{relative:p}),A=m.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&qv.test(h),T=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let D=Y.nativeEvent.submitter,O=D?.getAttribute("formmethod")||m;w(D||Y.currentTarget,{fetcherKey:a,method:O,navigate:s,replace:c,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:q,method:A,action:_,onSubmit:l?g:T,...N,"data-discover":!B&&e==="render"?"true":void 0})});rw.displayName="Form";function lw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $v(e){let a=b.useContext(_l);return Xt(a,lw(e)),a}function iw(e,{target:a,replace:s,state:l,preventScrollReset:c,relative:d,viewTransition:m}={}){let h=Ar(),g=Vn(),p=Zi(e,{relative:d});return b.useCallback(v=>{if(qj(v,a)){v.preventDefault();let x=s!==void 0?s:Ui(g)===Ui(p);h(e,{replace:x,state:l,preventScrollReset:c,relative:d,viewTransition:m})}},[g,h,p,s,l,a,e,c,d,m])}function Fv(e){Ca(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Jf(e)),s=b.useRef(!1),l=Vn(),c=b.useMemo(()=>Ij(l.search,s.current?null:a.current),[l.search]),d=Ar(),m=b.useCallback((h,g)=>{const p=Jf(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,g)},[d,c]);return[c,m]}var ow=0,cw=()=>`__${String(++ow)}__`;function uw(){let{router:e}=$v("useSubmit"),{basename:a}=b.useContext(Oa),s=Oj();return b.useCallback(async(l,c={})=>{let{action:d,method:m,encType:h,formData:g,body:p}=Hj(l,a);if(c.navigate===!1){let v=c.fetcherKey||cw();await e.fetch(v,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function dw(e,{relative:a}={}){let{basename:s}=b.useContext(Oa),l=b.useContext(Ra);Xt(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Zi(e||".",{relative:a})},m=Vn();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),g=h.getAll("index");if(g.some(v=>v==="")){h.delete("index"),g.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:hs([s,d.pathname])),Ui(d)}function fw(e,{relative:a}={}){let s=b.useContext(Rv);Xt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=$v("useViewTransitionState"),c=Zi(e,{relative:a});if(!s.isTransitioning)return!1;let d=ps(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=ps(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Li(c.pathname,m)!=null||Li(c.pathname,d)!=null}var Al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mw={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},hw=class{#e=mw;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},gr=new hw;function pw(e){setTimeout(e,0)}var Sr=typeof window>"u"||"Deno"in globalThis;function Hn(){}function gw(e,a){return typeof e=="function"?e(a):e}function Wf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hv(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Gs(e,a){return typeof e=="function"?e(a):e}function _a(e,a){return typeof e=="function"?e(a):e}function Jy(e,a){const{type:s="all",exact:l,fetchStatus:c,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==Mm(m,a.options))return!1}else if(!Bi(a.queryKey,m))return!1}if(s!=="all"){const g=a.isActive();if(s==="active"&&!g||s==="inactive"&&g)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function Wy(e,a){const{exact:s,status:l,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(Nr(a.options.mutationKey)!==Nr(d))return!1}else if(!Bi(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||c&&!c(a))}function Mm(e,a){return(a?.queryKeyHashFn||Nr)(e)}function Nr(e){return JSON.stringify(e,(a,s)=>em(s)?Object.keys(s).sort().reduce((l,c)=>(l[c]=s[c],l),{}):s)}function Bi(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>Bi(e[s],a[s])):!1}var yw=Object.prototype.hasOwnProperty;function Vv(e,a){if(e===a)return e;const s=eb(e)&&eb(a);if(!s&&!(em(e)&&em(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),m=d.length,h=s?new Array(m):{};let g=0;for(let p=0;p<m;p++){const v=s?p:d[p],x=e[v],N=a[v];if(x===N){h[v]=x,(s?p<c:yw.call(e,v))&&g++;continue}if(x===null||N===null||typeof x!="object"||typeof N!="object"){h[v]=N;continue}const q=Vv(x,N);h[v]=q,q===x&&g++}return c===m&&g===c?e:h}function Oc(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function eb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function em(e){if(!tb(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!tb(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tb(e){return Object.prototype.toString.call(e)==="[object Object]"}function bw(e){return new Promise(a=>{gr.setTimeout(a,e)})}function tm(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?Vv(e,a):a}function vw(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function xw(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var km=Symbol();function Zv(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===km?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Gv(e,a){return typeof e=="function"?e(...a):!!e}var Sw=class extends Al{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Sr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Um=new Sw;function nm(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function l(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{l({status:"fulfilled",value:c}),e(c)},s.reject=c=>{l({status:"rejected",reason:c}),a(c)},s}var Nw=pw;function jw(){let e=[],a=0,s=h=>{h()},l=h=>{h()},c=Nw;const d=h=>{a?e.push(h):c(()=>{s(h)})},m=()=>{const h=e;e=[],h.length&&c(()=>{l(()=>{h.forEach(g=>{s(g)})})})};return{batch:h=>{let g;a++;try{g=h()}finally{a--,a||m()}return g},batchCalls:h=>(...g)=>{d(()=>{h(...g)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{c=h}}}var jn=jw(),ww=class extends Al{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Sr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Rc=new ww;function _w(e){return Math.min(1e3*2**e,3e4)}function Pv(e){return(e??"online")==="online"?Rc.isOnline():!0}var am=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Qv(e){let a=!1,s=0,l;const c=nm(),d=()=>c.status!=="pending",m=_=>{if(!d()){const A=new am(_);N(A),e.onCancel?.(A)}},h=()=>{a=!0},g=()=>{a=!1},p=()=>Um.isFocused()&&(e.networkMode==="always"||Rc.isOnline())&&e.canRun(),v=()=>Pv(e.networkMode)&&e.canRun(),x=_=>{d()||(l?.(),c.resolve(_))},N=_=>{d()||(l?.(),c.reject(_))},q=()=>new Promise(_=>{l=A=>{(d()||p())&&_(A)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),w=()=>{if(d())return;let _;const A=s===0?e.initialPromise:void 0;try{_=A??e.fn()}catch(B){_=Promise.reject(B)}Promise.resolve(_).then(x).catch(B=>{if(d())return;const T=e.retry??(Sr?0:3),Y=e.retryDelay??_w,D=typeof Y=="function"?Y(s,B):Y,O=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,B);if(a||!O){N(B);return}s++,e.onFail?.(s,B),bw(D).then(()=>p()?void 0:q()).then(()=>{a?N(B):w()})})};return{promise:c,status:()=>c.status,cancel:m,continue:()=>(l?.(),c),cancelRetry:h,continueRetry:g,canStart:v,start:()=>(v()?w():q().then(w),c)}}var Yv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wf(this.gcTime)&&(this.#e=gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gr.clearTimeout(this.#e),this.#e=void 0)}},Ew=class extends Yv{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ab(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=ab(this.options);a.data!==void 0&&(this.setState(nb(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=tm(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>_a(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===km||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Hv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=Zv(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=Qv({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof am&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,g)=>{this.#r({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof am){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Kv(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...nb(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),jn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Kv(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pv(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nb(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ab(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Aw=class extends Al{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=nm(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),sb(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _a(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Oc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&rb(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||_a(this.options.enabled,this.#t)!==_a(a.enabled,this.#t)||Gs(this.options.staleTime,this.#t)!==Gs(a.staleTime,this.#t))&&this.#g();const c=this.#y();l&&(this.#t!==s||_a(this.options.enabled,this.#t)!==_a(a.enabled,this.#t)||c!==this.#o)&&this.#b(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return Ow(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#N();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(Hn)),a}#g(){this.#x();const e=Gs(this.options.staleTime,this.#t);if(Sr||this.#s.isStale||!Wf(e))return;const s=Hv(this.#s.dataUpdatedAt,e)+1;this.#c=gr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#o=e,!(Sr||_a(this.options.enabled,this.#t)===!1||!Wf(this.#o)||this.#o===0)&&(this.#u=gr.setInterval(()=>{(this.options.refetchIntervalInBackground||Um.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(gr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(gr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,c=this.#s,d=this.#a,m=this.#l,g=e!==s?e.state:this.#n,{state:p}=e;let v={...p},x=!1,N;if(a._optimisticResults){const K=this.hasListeners(),ce=!K&&sb(e,a),_e=K&&rb(e,s,a,l);(ce||_e)&&(v={...v,...Kv(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:q,errorUpdatedAt:w,status:_}=v;N=v.data;let A=!1;if(a.placeholderData!==void 0&&N===void 0&&_==="pending"){let K;c?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(K=c.data,A=!0):K=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,K!==void 0&&(_="success",N=tm(c?.data,K,a),x=!0)}if(a.select&&N!==void 0&&!A)if(c&&N===d?.data&&a.select===this.#p)N=this.#f;else try{this.#p=a.select,N=a.select(N),N=tm(c?.data,N,a),this.#f=N,this.#r=null}catch(K){this.#r=K}this.#r&&(q=this.#r,N=this.#f,w=Date.now(),_="error");const B=v.fetchStatus==="fetching",T=_==="pending",Y=_==="error",D=T&&B,O=N!==void 0,U={status:_,fetchStatus:v.fetchStatus,isPending:T,isSuccess:_==="success",isError:Y,isInitialLoading:D,isLoading:D,data:N,dataUpdatedAt:v.dataUpdatedAt,error:q,errorUpdatedAt:w,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:B,isRefetching:B&&!T,isLoadingError:Y&&!O,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:Y&&O,isStale:Lm(e,a),refetch:this.refetch,promise:this.#i,isEnabled:_a(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const K=ve=>{U.status==="error"?ve.reject(U.error):U.data!==void 0&&ve.resolve(U.data)},ce=()=>{const ve=this.#i=U.promise=nm();K(ve)},_e=this.#i;switch(_e.status){case"pending":e.queryHash===s.queryHash&&K(_e);break;case"fulfilled":(U.status==="error"||U.data!==_e.value)&&ce();break;case"rejected":(U.status!=="error"||U.error!==_e.reason)&&ce();break}}return U}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Oc(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==e[h]&&d.has(h)})};this.#j({listeners:s()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#j(e){jn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Cw(e,a){return _a(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function sb(e,a){return Cw(e,a)||e.state.data!==void 0&&sm(e,a,a.refetchOnMount)}function sm(e,a,s){if(_a(a.enabled,e)!==!1&&Gs(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&Lm(e,a)}return!1}function rb(e,a,s,l){return(e!==a||_a(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Lm(e,s)}function Lm(e,a){return _a(a.enabled,e)!==!1&&e.isStaleByTime(Gs(a.staleTime,e))}function Ow(e,a){return!Oc(e.getCurrentResult(),a)}function lb(e){return{onFetch:(a,s)=>{const l=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const p=async()=>{let v=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},N=Zv(a.options,a.fetchOptions),q=async(w,_,A)=>{if(v)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const T=(()=>{const H={client:a.client,queryKey:a.queryKey,pageParam:_,direction:A?"backward":"forward",meta:a.options.meta};return x(H),H})(),Y=await N(T),{maxPages:D}=a.options,O=A?xw:vw;return{pages:O(w.pages,Y,D),pageParams:O(w.pageParams,_,D)}};if(c&&d.length){const w=c==="backward",_=w?Rw:ib,A={pages:d,pageParams:m},B=_(l,A);h=await q(A,B,w)}else{const w=e??d.length;do{const _=g===0?m[0]??l.initialPageParam:ib(l,h);if(g>0&&_==null)break;h=await q(h,_),g++}while(g<w)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function ib(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function Rw(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var Tw=class extends Yv{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Xv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Qv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const m=await this.options.onMutate?.(e,s);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),jn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Xv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dw=class extends Al{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new Tw({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=pc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=pc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=pc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=pc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){jn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Wy(a,s))}findAll(e={}){return this.getAll().filter(a=>Wy(e,a))}notify(e){jn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return jn.batch(()=>Promise.all(e.map(a=>a.continue().catch(Hn))))}};function pc(e){return e.options.scope?.id}var zw=class extends Al{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),Oc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&Nr(s.mutationKey)!==Nr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Xv();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){jn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,c),this.#s.onSettled?.(a.data,null,s,l,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,c),this.#s.onSettled?.(void 0,a.error,s,l,c))}this.listeners.forEach(s=>{s(this.#t)})})}},Mw=class extends Al{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,c=a.queryHash??Mm(l,a);let d=this.get(c);return d||(d=new Ew({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Jy(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Jy(e,s)):a}notify(e){jn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){jn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kw=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new Mw,this.#t=e.mutationCache||new Dw,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Um.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Rc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Gs(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=gw(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...s,manual:!0})}setQueriesData(e,a,s){return jn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;jn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return jn.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=jn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(l).then(Hn).catch(Hn)}invalidateQueries(e,a={}){return jn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=jn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(Hn)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(Hn)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Gs(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hn).catch(Hn)}fetchInfiniteQuery(e){return e.behavior=lb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hn).catch(Hn)}ensureInfiniteQueryData(e){return e.behavior=lb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(Nr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{Bi(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(Nr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{Bi(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Mm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===km&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Jv=b.createContext(void 0),Bm=e=>{const a=b.useContext(Jv);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},Uw=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(Jv.Provider,{value:e,children:a})),Wv=b.createContext(!1),Lw=()=>b.useContext(Wv);Wv.Provider;function Bw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qw=b.createContext(Bw()),Iw=()=>b.useContext(qw),$w=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},Fw=e=>{b.useEffect(()=>{e.clearReset()},[e])},Hw=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(c&&e.data===void 0||Gv(s,[e.error,l])),Vw=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...c)=>s(l(...c)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Zw=(e,a)=>e.isLoading&&e.isFetching&&!a,Gw=(e,a)=>e?.suspense&&a.isPending,ob=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function Pw(e,a,s){const l=Lw(),c=Iw(),d=Bm(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",Vw(m),$w(m,c),Fw(c);const h=!d.getQueryCache().get(m.queryHash),[g]=b.useState(()=>new a(d,m)),p=g.getOptimisticResult(m),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const N=v?g.subscribe(jn.batchCalls(x)):Hn;return g.updateResult(),N},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),b.useEffect(()=>{g.setOptions(m)},[m,g]),Gw(m,p))throw ob(m,g,c);if(Hw({result:p,errorResetBoundary:c,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!Sr&&Zw(p,l)&&(h?ob(m,g,c):d.getQueryCache().get(m.queryHash)?.promise)?.catch(Hn).finally(()=>{g.updateResult()}),m.notifyOnChangeProps?p:g.trackResult(p)}function jr(e,a){return Pw(e,Aw)}function Qw(e,a){const s=Bm(),[l]=b.useState(()=>new zw(s,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const c=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(jn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(Hn)},[l]);if(c.error&&Gv(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var Gi=e=>e.type==="checkbox",yr=e=>e instanceof Date,na=e=>e==null;const ex=e=>typeof e=="object";var yn=e=>!na(e)&&!Array.isArray(e)&&ex(e)&&!yr(e),Yw=e=>yn(e)&&e.target?Gi(e.target)?e.target.checked:e.target.value:e,Kw=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Xw=(e,a)=>e.has(Kw(a)),Jw=e=>{const a=e.constructor&&e.constructor.prototype;return yn(a)&&a.hasOwnProperty("isPrototypeOf")},qm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Kt(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(qm&&(e instanceof Blob||l))&&(s||yn(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Jw(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=Kt(e[c]));else return e;return a}var Gc=e=>/^\w*$/.test(e),Pt=e=>e===void 0,Pc=e=>Array.isArray(e)?e.filter(Boolean):[],Im=e=>Pc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(e,a,s)=>{if(!a||!yn(e))return s;const l=(Gc(a)?[a]:Im(a)).reduce((c,d)=>na(c)?c:c[d],e);return Pt(l)||l===e?Pt(e[a])?s:e[a]:l},Ya=e=>typeof e=="boolean",kt=(e,a,s)=>{let l=-1;const c=Gc(a)?[a]:Im(a),d=c.length,m=d-1;for(;++l<d;){const h=c[l];let g=s;if(l!==m){const p=e[h];g=yn(p)||Array.isArray(p)?p:isNaN(+c[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}};const cb={BLUR:"blur",FOCUS_OUT:"focusout"},Ea={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tx=mt.createContext(null);tx.displayName="HookFormContext";const nx=()=>mt.useContext(tx);var Ww=(e,a,s,l=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const m=d;return a._proxyFormState[m]!==Ea.all&&(a._proxyFormState[m]=!l||Ea.all),e[m]}});return c};const $m=typeof window<"u"?mt.useLayoutEffect:mt.useEffect;var ga=e=>typeof e=="string",rm=(e,a,s,l,c)=>ga(e)?(l&&a.watch.add(e),qe(s,e,c)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),qe(s,d))):(l&&(a.watchAll=!0),s),lm=e=>na(e)||!ex(e);function Ia(e,a,s=new WeakSet){if(lm(e)||lm(a))return e===a;if(yr(e)&&yr(a))return e.getTime()===a.getTime();const l=Object.keys(e),c=Object.keys(a);if(l.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const m=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(yr(m)&&yr(h)||yn(m)&&yn(h)||Array.isArray(m)&&Array.isArray(h)?!Ia(m,h,s):m!==h)return!1}}return!0}function Ci(e){const a=nx(),{control:s=a.control,name:l,defaultValue:c,disabled:d,exact:m,compute:h}=e||{},g=mt.useRef(c),p=mt.useRef(h),v=mt.useRef(void 0),x=mt.useRef(s),N=mt.useRef(l);p.current=h;const[q,w]=mt.useState(()=>{const D=s._getWatch(l,g.current);return p.current?p.current(D):D}),_=mt.useCallback(D=>{const O=rm(l,s._names,D||s._formValues,!1,g.current);return p.current?p.current(O):O},[s._formValues,s._names,l]),A=mt.useCallback(D=>{if(!d){const O=rm(l,s._names,D||s._formValues,!1,g.current);if(p.current){const H=p.current(O);Ia(H,v.current)||(w(H),v.current=H)}else w(O)}},[s._formValues,s._names,d,l]);$m(()=>((x.current!==s||!Ia(N.current,l))&&(x.current=s,N.current=l,A()),s._subscribe({name:l,formState:{values:!0},exact:m,callback:D=>{A(D.values)}})),[s,m,l,A]),mt.useEffect(()=>s._removeUnmounted());const B=x.current!==s,T=N.current,Y=mt.useMemo(()=>{if(d)return null;const D=!B&&!Ia(T,l);return B||D?_():null},[d,B,l,T,_]);return Y!==null?Y:q}var Fm=(e,a,s,l,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:c||!0}}:{},aa=e=>Array.isArray(e)?e:[e],ub=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function ax(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],d=a[l];if(c&&yn(c)&&d){const m=ax(c,d);yn(m)&&(s[l]=m)}else e[l]&&(s[l]=d)}return s}var Bn=e=>yn(e)&&!Object.keys(e).length,Hm=e=>e.type==="file",$a=e=>typeof e=="function",Tc=e=>{if(!qm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},sx=e=>e.type==="select-multiple",Vm=e=>e.type==="radio",e_=e=>Vm(e)||Gi(e),Nf=e=>Tc(e)&&e.isConnected;function t_(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=Pt(e)?l++:e[a[l++]];return e}function n_(e){for(const a in e)if(e.hasOwnProperty(a)&&!Pt(e[a]))return!1;return!0}function cn(e,a){const s=Array.isArray(a)?a:Gc(a)?[a]:Im(a),l=s.length===1?e:t_(e,s),c=s.length-1,d=s[c];return l&&delete l[d],c!==0&&(yn(l)&&Bn(l)||Array.isArray(l)&&n_(l))&&cn(e,s.slice(0,-1)),e}var a_=e=>{for(const a in e)if($a(e[a]))return!0;return!1};function rx(e){return Array.isArray(e)||yn(e)&&!a_(e)}function im(e,a={}){for(const s in e)rx(e[s])?(a[s]=Array.isArray(e[s])?[]:{},im(e[s],a[s])):Pt(e[s])||(a[s]=!0);return a}function gl(e,a,s){s||(s=im(a));for(const l in e)rx(e[l])?Pt(a)||lm(s[l])?s[l]=im(e[l],Array.isArray(e[l])?[]:{}):gl(e[l],na(a)?{}:a[l],s[l]):s[l]=!Ia(e[l],a[l]);return s}const db={value:!1,isValid:!1},fb={value:!0,isValid:!0};var lx=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?fb:{value:e[0].value,isValid:!0}:fb:db}return db},ix=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>Pt(e)?e:a?e===""?NaN:e&&+e:s&&ga(e)?new Date(e):l?l(e):e;const mb={isValid:!1,value:null};var ox=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,mb):mb;function hb(e){const a=e.ref;return Hm(a)?a.files:Vm(a)?ox(e.refs).value:sx(a)?[...a.selectedOptions].map(({value:s})=>s):Gi(a)?lx(e.refs).value:ix(Pt(a.value)?e.ref.value:a.value,e)}var s_=(e,a,s,l)=>{const c={};for(const d of e){const m=qe(a,d);m&&kt(c,d,m._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:l}},Dc=e=>e instanceof RegExp,Oi=e=>Pt(e)?e:Dc(e)?e.source:yn(e)?Dc(e.value)?e.value.source:e.value:e,yl=e=>({isOnSubmit:!e||e===Ea.onSubmit,isOnBlur:e===Ea.onBlur,isOnChange:e===Ea.onChange,isOnAll:e===Ea.all,isOnTouch:e===Ea.onTouched});const pb="AsyncFunction";var r_=e=>!!e&&!!e.validate&&!!($a(e.validate)&&e.validate.constructor.name===pb||yn(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===pb)),l_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),om=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const vl=(e,a,s,l)=>{for(const c of s||Object.keys(e)){const d=qe(e,c);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],c)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(vl(h,a))break}else if(yn(h)&&vl(h,a))break}}};function gb(e,a,s){const l=qe(e,s);if(l||Gc(s))return{error:l,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),m=qe(a,d),h=qe(e,d);if(m&&!Array.isArray(m)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var i_=(e,a,s,l)=>{s(e);const{name:c,...d}=e;return Bn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||Ea.all))},o_=(e,a,s)=>!e||!a||e===a||aa(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),c_=(e,a,s,l,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?l.isOnBlur:c.isOnBlur)?!e:(s?l.isOnChange:c.isOnChange)?e:!0,u_=(e,a)=>!Pc(qe(e,a)).length&&cn(e,a),cx=(e,a,s)=>{const l=aa(qe(e,s));return kt(l,"root",a[s]),kt(e,s,l),e};function yb(e,a,s="validate"){if(ga(e)||Array.isArray(e)&&e.every(ga)||Ya(e)&&!e)return{type:s,message:ga(e)?e:"",ref:a}}var dl=e=>yn(e)&&!Dc(e)?e:{value:e,message:""},cm=async(e,a,s,l,c,d)=>{const{ref:m,refs:h,required:g,maxLength:p,minLength:v,min:x,max:N,pattern:q,validate:w,name:_,valueAsNumber:A,mount:B}=e._f,T=qe(s,_);if(!B||a.has(_))return{};const Y=h?h[0]:m,D=fe=>{c&&Y.reportValidity&&(Y.setCustomValidity(Ya(fe)?"":fe||""),Y.reportValidity())},O={},H=Vm(m),U=Gi(m),K=H||U,ce=(A||Hm(m))&&Pt(m.value)&&Pt(T)||Tc(m)&&m.value===""||T===""||Array.isArray(T)&&!T.length,_e=Fm.bind(null,_,l,O),ve=(fe,Se,De,Oe=ms.maxLength,M=ms.minLength)=>{const I=fe?Se:De;O[_]={type:fe?Oe:M,message:I,ref:m,..._e(fe?Oe:M,I)}};if(d?!Array.isArray(T)||!T.length:g&&(!K&&(ce||na(T))||Ya(T)&&!T||U&&!lx(h).isValid||H&&!ox(h).isValid)){const{value:fe,message:Se}=ga(g)?{value:!!g,message:g}:dl(g);if(fe&&(O[_]={type:ms.required,message:Se,ref:Y,..._e(ms.required,Se)},!l))return D(Se),O}if(!ce&&(!na(x)||!na(N))){let fe,Se;const De=dl(N),Oe=dl(x);if(!na(T)&&!isNaN(T)){const M=m.valueAsNumber||T&&+T;na(De.value)||(fe=M>De.value),na(Oe.value)||(Se=M<Oe.value)}else{const M=m.valueAsDate||new Date(T),I=we=>new Date(new Date().toDateString()+" "+we),W=m.type=="time",ye=m.type=="week";ga(De.value)&&T&&(fe=W?I(T)>I(De.value):ye?T>De.value:M>new Date(De.value)),ga(Oe.value)&&T&&(Se=W?I(T)<I(Oe.value):ye?T<Oe.value:M<new Date(Oe.value))}if((fe||Se)&&(ve(!!fe,De.message,Oe.message,ms.max,ms.min),!l))return D(O[_].message),O}if((p||v)&&!ce&&(ga(T)||d&&Array.isArray(T))){const fe=dl(p),Se=dl(v),De=!na(fe.value)&&T.length>+fe.value,Oe=!na(Se.value)&&T.length<+Se.value;if((De||Oe)&&(ve(De,fe.message,Se.message),!l))return D(O[_].message),O}if(q&&!ce&&ga(T)){const{value:fe,message:Se}=dl(q);if(Dc(fe)&&!T.match(fe)&&(O[_]={type:ms.pattern,message:Se,ref:m,..._e(ms.pattern,Se)},!l))return D(Se),O}if(w){if($a(w)){const fe=await w(T,s),Se=yb(fe,Y);if(Se&&(O[_]={...Se,..._e(ms.validate,Se.message)},!l))return D(Se.message),O}else if(yn(w)){let fe={};for(const Se in w){if(!Bn(fe)&&!l)break;const De=yb(await w[Se](T,s),Y,Se);De&&(fe={...De,..._e(Se,De.message)},D(De.message),l&&(O[_]=fe))}if(!Bn(fe)&&(O[_]={ref:Y,...fe},!l))return O}}return D(!0),O};const d_={mode:Ea.onSubmit,reValidateMode:Ea.onChange,shouldFocusError:!0};function f_(e={}){let a={...d_,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:$a(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},c=yn(a.defaultValues)||yn(a.values)?Kt(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:Kt(c),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const N={array:ub(),state:ub()},q=a.criteriaMode===Ea.all,w=C=>G=>{clearTimeout(p),p=setTimeout(C,G)},_=async C=>{if(!a.disabled&&(v.isValid||x.isValid||C)){const G=a.resolver?Bn((await U()).errors):await ce(l,!0);G!==s.isValid&&N.state.next({isValid:G})}},A=(C,G)=>{!a.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((C||Array.from(h.mount)).forEach(R=>{R&&(G?kt(s.validatingFields,R,G):cn(s.validatingFields,R))}),N.state.next({validatingFields:s.validatingFields,isValidating:!Bn(s.validatingFields)}))},B=(C,G=[],R,P,V=!0,se=!0)=>{if(P&&R&&!a.disabled){if(m.action=!0,se&&Array.isArray(qe(l,C))){const Ce=R(qe(l,C),P.argA,P.argB);V&&kt(l,C,Ce)}if(se&&Array.isArray(qe(s.errors,C))){const Ce=R(qe(s.errors,C),P.argA,P.argB);V&&kt(s.errors,C,Ce),u_(s.errors,C)}if((v.touchedFields||x.touchedFields)&&se&&Array.isArray(qe(s.touchedFields,C))){const Ce=R(qe(s.touchedFields,C),P.argA,P.argB);V&&kt(s.touchedFields,C,Ce)}(v.dirtyFields||x.dirtyFields)&&(s.dirtyFields=gl(c,d)),N.state.next({name:C,isDirty:ve(C,G),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else kt(d,C,G)},T=(C,G)=>{kt(s.errors,C,G),N.state.next({errors:s.errors})},Y=C=>{s.errors=C,N.state.next({errors:s.errors,isValid:!1})},D=(C,G,R,P)=>{const V=qe(l,C);if(V){const se=qe(d,C,Pt(R)?qe(c,C):R);Pt(se)||P&&P.defaultChecked||G?kt(d,C,G?se:hb(V._f)):De(C,se),m.mount&&_()}},O=(C,G,R,P,V)=>{let se=!1,Ce=!1;const Le={name:C};if(!a.disabled){if(!R||P){(v.isDirty||x.isDirty)&&(Ce=s.isDirty,s.isDirty=Le.isDirty=ve(),se=Ce!==Le.isDirty);const te=Ia(qe(c,C),G);Ce=!!qe(s.dirtyFields,C),te?cn(s.dirtyFields,C):kt(s.dirtyFields,C,!0),Le.dirtyFields=s.dirtyFields,se=se||(v.dirtyFields||x.dirtyFields)&&Ce!==!te}if(R){const te=qe(s.touchedFields,C);te||(kt(s.touchedFields,C,R),Le.touchedFields=s.touchedFields,se=se||(v.touchedFields||x.touchedFields)&&te!==R)}se&&V&&N.state.next(Le)}return se?Le:{}},H=(C,G,R,P)=>{const V=qe(s.errors,C),se=(v.isValid||x.isValid)&&Ya(G)&&s.isValid!==G;if(a.delayError&&R?(g=w(()=>T(C,R)),g(a.delayError)):(clearTimeout(p),g=null,R?kt(s.errors,C,R):cn(s.errors,C)),(R?!Ia(V,R):V)||!Bn(P)||se){const Ce={...P,...se&&Ya(G)?{isValid:G}:{},errors:s.errors,name:C};s={...s,...Ce},N.state.next(Ce)}},U=async C=>{A(C,!0);const G=await a.resolver(d,a.context,s_(C||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return A(C),G},K=async C=>{const{errors:G}=await U(C);if(C)for(const R of C){const P=qe(G,R);P?kt(s.errors,R,P):cn(s.errors,R)}else s.errors=G;return G},ce=async(C,G,R={valid:!0})=>{for(const P in C){const V=C[P];if(V){const{_f:se,...Ce}=V;if(se){const Le=h.array.has(se.name),te=V._f&&r_(V._f);te&&v.validatingFields&&A([se.name],!0);const Ue=await cm(V,h.disabled,d,q,a.shouldUseNativeValidation&&!G,Le);if(te&&v.validatingFields&&A([se.name]),Ue[se.name]&&(R.valid=!1,G))break;!G&&(qe(Ue,se.name)?Le?cx(s.errors,Ue,se.name):kt(s.errors,se.name,Ue[se.name]):cn(s.errors,se.name))}!Bn(Ce)&&await ce(Ce,G,R)}}return R.valid},_e=()=>{for(const C of h.unMount){const G=qe(l,C);G&&(G._f.refs?G._f.refs.every(R=>!Nf(R)):!Nf(G._f.ref))&&Re(C)}h.unMount=new Set},ve=(C,G)=>!a.disabled&&(C&&G&&kt(d,C,G),!Ia(we(),c)),fe=(C,G,R)=>rm(C,h,{...m.mount?d:Pt(G)?c:ga(C)?{[C]:G}:G},R,G),Se=C=>Pc(qe(m.mount?d:c,C,a.shouldUnregister?qe(c,C,[]):[])),De=(C,G,R={})=>{const P=qe(l,C);let V=G;if(P){const se=P._f;se&&(!se.disabled&&kt(d,C,ix(G,se)),V=Tc(se.ref)&&na(G)?"":G,sx(se.ref)?[...se.ref.options].forEach(Ce=>Ce.selected=V.includes(Ce.value)):se.refs?Gi(se.ref)?se.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(V)?Ce.checked=!!V.find(Le=>Le===Ce.value):Ce.checked=V===Ce.value||!!V)}):se.refs.forEach(Ce=>Ce.checked=Ce.value===V):Hm(se.ref)?se.ref.value="":(se.ref.value=V,se.ref.type||N.state.next({name:C,values:Kt(d)})))}(R.shouldDirty||R.shouldTouch)&&O(C,V,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&ye(C)},Oe=(C,G,R)=>{for(const P in G){if(!G.hasOwnProperty(P))return;const V=G[P],se=C+"."+P,Ce=qe(l,se);(h.array.has(C)||yn(V)||Ce&&!Ce._f)&&!yr(V)?Oe(se,V,R):De(se,V,R)}},M=(C,G,R={})=>{const P=qe(l,C),V=h.array.has(C),se=Kt(G);kt(d,C,se),V?(N.array.next({name:C,values:Kt(d)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&R.shouldDirty&&N.state.next({name:C,dirtyFields:gl(c,d),isDirty:ve(C,se)})):P&&!P._f&&!na(se)?Oe(C,se,R):De(C,se,R),om(C,h)&&N.state.next({...s,name:C}),N.state.next({name:m.mount?C:void 0,values:Kt(d)})},I=async C=>{m.mount=!0;const G=C.target;let R=G.name,P=!0;const V=qe(l,R),se=te=>{P=Number.isNaN(te)||yr(te)&&isNaN(te.getTime())||Ia(te,qe(d,R,te))},Ce=yl(a.mode),Le=yl(a.reValidateMode);if(V){let te,Ue;const Ze=G.type?hb(V._f):Yw(C),at=C.type===cb.BLUR||C.type===cb.FOCUS_OUT,Vt=!l_(V._f)&&!a.resolver&&!qe(s.errors,R)&&!V._f.deps||c_(at,qe(s.touchedFields,R),s.isSubmitted,Le,Ce),xe=om(R,h,at);kt(d,R,Ze),at?(!G||!G.readOnly)&&(V._f.onBlur&&V._f.onBlur(C),g&&g(0)):V._f.onChange&&V._f.onChange(C);const et=O(R,Ze,at),Ut=!Bn(et)||xe;if(!at&&N.state.next({name:R,type:C.type,values:Kt(d)}),Vt)return(v.isValid||x.isValid)&&(a.mode==="onBlur"?at&&_():at||_()),Ut&&N.state.next({name:R,...xe?{}:et});if(!at&&xe&&N.state.next({...s}),a.resolver){const{errors:Et}=await U([R]);if(se(Ze),P){const vn=gb(s.errors,l,R),Tn=gb(Et,l,vn.name||R);te=Tn.error,R=Tn.name,Ue=Bn(Et)}}else A([R],!0),te=(await cm(V,h.disabled,d,q,a.shouldUseNativeValidation))[R],A([R]),se(Ze),P&&(te?Ue=!1:(v.isValid||x.isValid)&&(Ue=await ce(l,!0)));P&&(V._f.deps&&(!Array.isArray(V._f.deps)||V._f.deps.length>0)&&ye(V._f.deps),H(R,Ue,te,et))}},W=(C,G)=>{if(qe(s.errors,G)&&C.focus)return C.focus(),1},ye=async(C,G={})=>{let R,P;const V=aa(C);if(a.resolver){const se=await K(Pt(C)?C:V);R=Bn(se),P=C?!V.some(Ce=>qe(se,Ce)):R}else C?(P=(await Promise.all(V.map(async se=>{const Ce=qe(l,se);return await ce(Ce&&Ce._f?{[se]:Ce}:Ce)}))).every(Boolean),!(!P&&!s.isValid)&&_()):P=R=await ce(l);return N.state.next({...!ga(C)||(v.isValid||x.isValid)&&R!==s.isValid?{}:{name:C},...a.resolver||!C?{isValid:R}:{},errors:s.errors}),G.shouldFocus&&!P&&vl(l,W,C?V:h.mount),P},we=(C,G)=>{let R={...m.mount?d:c};return G&&(R=ax(G.dirtyFields?s.dirtyFields:s.touchedFields,R)),Pt(C)?R:ga(C)?qe(R,C):C.map(P=>qe(R,P))},j=(C,G)=>({invalid:!!qe((G||s).errors,C),isDirty:!!qe((G||s).dirtyFields,C),error:qe((G||s).errors,C),isValidating:!!qe(s.validatingFields,C),isTouched:!!qe((G||s).touchedFields,C)}),Z=C=>{C&&aa(C).forEach(G=>cn(s.errors,G)),N.state.next({errors:C?s.errors:{}})},ie=(C,G,R)=>{const P=(qe(l,C,{_f:{}})._f||{}).ref,V=qe(s.errors,C)||{},{ref:se,message:Ce,type:Le,...te}=V;kt(s.errors,C,{...te,...G,ref:P}),N.state.next({name:C,errors:s.errors,isValid:!1}),R&&R.shouldFocus&&P&&P.focus&&P.focus()},k=(C,G)=>$a(C)?N.state.subscribe({next:R=>"values"in R&&C(fe(void 0,G),R)}):fe(C,G,!0),oe=C=>N.state.subscribe({next:G=>{o_(C.name,G.name,C.exact)&&i_(G,C.formState||v,He,C.reRenderRoot)&&C.callback({values:{...d},...s,...G,defaultValues:c})}}).unsubscribe,pe=C=>(m.mount=!0,x={...x,...C.formState},oe({...C,formState:x})),Re=(C,G={})=>{for(const R of C?aa(C):h.mount)h.mount.delete(R),h.array.delete(R),G.keepValue||(cn(l,R),cn(d,R)),!G.keepError&&cn(s.errors,R),!G.keepDirty&&cn(s.dirtyFields,R),!G.keepTouched&&cn(s.touchedFields,R),!G.keepIsValidating&&cn(s.validatingFields,R),!a.shouldUnregister&&!G.keepDefaultValue&&cn(c,R);N.state.next({values:Kt(d)}),N.state.next({...s,...G.keepDirty?{isDirty:ve()}:{}}),!G.keepIsValid&&_()},Ie=({disabled:C,name:G})=>{(Ya(C)&&m.mount||C||h.disabled.has(G))&&(C?h.disabled.add(G):h.disabled.delete(G))},de=(C,G={})=>{let R=qe(l,C);const P=Ya(G.disabled)||Ya(a.disabled);return kt(l,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...G}}),h.mount.add(C),R?Ie({disabled:Ya(G.disabled)?G.disabled:a.disabled,name:C}):D(C,!0,G.value),{...P?{disabled:G.disabled||a.disabled}:{},...a.progressive?{required:!!G.required,min:Oi(G.min),max:Oi(G.max),minLength:Oi(G.minLength),maxLength:Oi(G.maxLength),pattern:Oi(G.pattern)}:{},name:C,onChange:I,onBlur:I,ref:V=>{if(V){de(C,G),R=qe(l,C);const se=Pt(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,Ce=e_(se),Le=R._f.refs||[];if(Ce?Le.find(te=>te===se):se===R._f.ref)return;kt(l,C,{_f:{...R._f,...Ce?{refs:[...Le.filter(Nf),se,...Array.isArray(qe(c,C))?[{}]:[]],ref:{type:se.type,name:C}}:{ref:se}}}),D(C,!1,void 0,se)}else R=qe(l,C,{}),R._f&&(R._f.mount=!1),(a.shouldUnregister||G.shouldUnregister)&&!(Xw(h.array,C)&&m.action)&&h.unMount.add(C)}}},ke=()=>a.shouldFocusError&&vl(l,W,h.mount),$e=C=>{Ya(C)&&(N.state.next({disabled:C}),vl(l,(G,R)=>{const P=qe(l,R);P&&(G.disabled=P._f.disabled||C,Array.isArray(P._f.refs)&&P._f.refs.forEach(V=>{V.disabled=P._f.disabled||C}))},0,!1))},Fe=(C,G)=>async R=>{let P;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let V=Kt(d);if(N.state.next({isSubmitting:!0}),a.resolver){const{errors:se,values:Ce}=await U();s.errors=se,V=Kt(Ce)}else await ce(l);if(h.disabled.size)for(const se of h.disabled)cn(V,se);if(cn(s.errors,"root"),Bn(s.errors)){N.state.next({errors:{}});try{await C(V,R)}catch(se){P=se}}else G&&await G({...s.errors},R),ke(),setTimeout(ke);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bn(s.errors)&&!P,submitCount:s.submitCount+1,errors:s.errors}),P)throw P},ut=(C,G={})=>{qe(l,C)&&(Pt(G.defaultValue)?M(C,Kt(qe(c,C))):(M(C,G.defaultValue),kt(c,C,Kt(G.defaultValue))),G.keepTouched||cn(s.touchedFields,C),G.keepDirty||(cn(s.dirtyFields,C),s.isDirty=G.defaultValue?ve(C,Kt(qe(c,C))):ve()),G.keepError||(cn(s.errors,C),v.isValid&&_()),N.state.next({...s}))},Te=(C,G={})=>{const R=C?Kt(C):c,P=Kt(R),V=Bn(C),se=V?c:P;if(G.keepDefaultValues||(c=R),!G.keepValues){if(G.keepDirtyValues){const Ce=new Set([...h.mount,...Object.keys(gl(c,d))]);for(const Le of Array.from(Ce))qe(s.dirtyFields,Le)?kt(se,Le,qe(d,Le)):M(Le,qe(se,Le))}else{if(qm&&Pt(C))for(const Ce of h.mount){const Le=qe(l,Ce);if(Le&&Le._f){const te=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(Tc(te)){const Ue=te.closest("form");if(Ue){Ue.reset();break}}}}if(G.keepFieldsRef)for(const Ce of h.mount)M(Ce,qe(se,Ce));else l={}}d=a.shouldUnregister?G.keepDefaultValues?Kt(c):{}:Kt(se),N.array.next({values:{...se}}),N.state.next({values:{...se}})}h={mount:G.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!a.shouldUnregister&&!Bn(se),m.watch=!!a.shouldUnregister,N.state.next({submitCount:G.keepSubmitCount?s.submitCount:0,isDirty:V?!1:G.keepDirty?s.isDirty:!!(G.keepDefaultValues&&!Ia(C,c)),isSubmitted:G.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:V?{}:G.keepDirtyValues?G.keepDefaultValues&&d?gl(c,d):s.dirtyFields:G.keepDefaultValues&&C?gl(c,C):G.keepDirty?s.dirtyFields:{},touchedFields:G.keepTouched?s.touchedFields:{},errors:G.keepErrors?s.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Pe=(C,G)=>Te($a(C)?C(d):C,G),me=(C,G={})=>{const R=qe(l,C),P=R&&R._f;if(P){const V=P.refs?P.refs[0]:P.ref;V.focus&&(V.focus(),G.shouldSelect&&$a(V.select)&&V.select())}},He=C=>{s={...s,...C}},Je={control:{register:de,unregister:Re,getFieldState:j,handleSubmit:Fe,setError:ie,_subscribe:oe,_runSchema:U,_focusError:ke,_getWatch:fe,_getDirty:ve,_setValid:_,_setFieldArray:B,_setDisabledField:Ie,_setErrors:Y,_getFieldArray:Se,_reset:Te,_resetDefaultValues:()=>$a(a.defaultValues)&&a.defaultValues().then(C=>{Pe(C,a.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:_e,_disableForm:$e,_subjects:N,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(C){m=C},get _defaultValues(){return c},get _names(){return h},set _names(C){h=C},get _formState(){return s},get _options(){return a},set _options(C){a={...a,...C}}},subscribe:pe,trigger:ye,register:de,handleSubmit:Fe,watch:k,setValue:M,getValues:we,reset:Pe,resetField:ut,clearErrors:Z,unregister:Re,setError:ie,setFocus:me,getFieldState:j};return{...Je,formControl:Je}}var Hs=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},jf=(e,a,s={})=>s.shouldFocus||Pt(s.shouldFocus)?s.focusName||`${e}.${Pt(s.focusIndex)?a:s.focusIndex}.`:"",wf=(e,a)=>[...e,...aa(a)],_f=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ef(e,a,s){return[...e.slice(0,a),...aa(s),...e.slice(a)]}var Af=(e,a,s)=>Array.isArray(e)?(Pt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],Cf=(e,a)=>[...aa(a),...aa(e)];function m_(e,a){let s=0;const l=[...e];for(const c of a)l.splice(c-s,1),s++;return Pc(l).length?l:[]}var Of=(e,a)=>Pt(a)?[]:m_(e,aa(a).sort((s,l)=>s-l)),Rf=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},bb=(e,a,s)=>(e[a]=s,e);function h_(e){const a=nx(),{control:s=a.control,name:l,keyName:c="id",shouldUnregister:d,rules:m}=e,[h,g]=mt.useState(s._getFieldArray(l)),p=mt.useRef(s._getFieldArray(l).map(Hs)),v=mt.useRef(!1);s._names.array.add(l),mt.useMemo(()=>m&&h.length>=0&&s.register(l,m),[s,l,h.length,m]),$m(()=>s._subjects.array.subscribe({next:({values:D,name:O})=>{if(O===l||!O){const H=qe(D,l);Array.isArray(H)&&(g(H),p.current=H.map(Hs))}}}).unsubscribe,[s,l]);const x=mt.useCallback(D=>{v.current=!0,s._setFieldArray(l,D)},[s,l]),N=(D,O)=>{const H=aa(Kt(D)),U=wf(s._getFieldArray(l),H);s._names.focus=jf(l,U.length-1,O),p.current=wf(p.current,H.map(Hs)),x(U),g(U),s._setFieldArray(l,U,wf,{argA:_f(D)})},q=(D,O)=>{const H=aa(Kt(D)),U=Cf(s._getFieldArray(l),H);s._names.focus=jf(l,0,O),p.current=Cf(p.current,H.map(Hs)),x(U),g(U),s._setFieldArray(l,U,Cf,{argA:_f(D)})},w=D=>{const O=Of(s._getFieldArray(l),D);p.current=Of(p.current,D),x(O),g(O),!Array.isArray(qe(s._fields,l))&&kt(s._fields,l,void 0),s._setFieldArray(l,O,Of,{argA:D})},_=(D,O,H)=>{const U=aa(Kt(O)),K=Ef(s._getFieldArray(l),D,U);s._names.focus=jf(l,D,H),p.current=Ef(p.current,D,U.map(Hs)),x(K),g(K),s._setFieldArray(l,K,Ef,{argA:D,argB:_f(O)})},A=(D,O)=>{const H=s._getFieldArray(l);Rf(H,D,O),Rf(p.current,D,O),x(H),g(H),s._setFieldArray(l,H,Rf,{argA:D,argB:O},!1)},B=(D,O)=>{const H=s._getFieldArray(l);Af(H,D,O),Af(p.current,D,O),x(H),g(H),s._setFieldArray(l,H,Af,{argA:D,argB:O},!1)},T=(D,O)=>{const H=Kt(O),U=bb(s._getFieldArray(l),D,H);p.current=[...U].map((K,ce)=>!K||ce===D?Hs():p.current[ce]),x(U),g([...U]),s._setFieldArray(l,U,bb,{argA:D,argB:H},!0,!1)},Y=D=>{const O=aa(Kt(D));p.current=O.map(Hs),x([...O]),g([...O]),s._setFieldArray(l,[...O],H=>H,{},!0,!1)};return mt.useEffect(()=>{if(s._state.action=!1,om(l,s._names)&&s._subjects.state.next({...s._formState}),v.current&&(!yl(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!yl(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(D=>{const O=qe(D.errors,l),H=qe(s._formState.errors,l);(H?!O&&H.type||O&&(H.type!==O.type||H.message!==O.message):O&&O.type)&&(O?kt(s._formState.errors,l,O):cn(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const D=qe(s._fields,l);D&&D._f&&!(yl(s._options.reValidateMode).isOnSubmit&&yl(s._options.mode).isOnSubmit)&&cm(D,s._names.disabled,s._formValues,s._options.criteriaMode===Ea.all,s._options.shouldUseNativeValidation,!0).then(O=>!Bn(O)&&s._subjects.state.next({errors:cx(s._formState.errors,O,l)}))}s._subjects.state.next({name:l,values:Kt(s._formValues)}),s._names.focus&&vl(s._fields,(D,O)=>{if(s._names.focus&&O.startsWith(s._names.focus)&&D.focus)return D.focus(),1}),s._names.focus="",s._setValid(),v.current=!1},[h,l,s]),mt.useEffect(()=>(!qe(s._formValues,l)&&s._setFieldArray(l),()=>{const D=(O,H)=>{const U=qe(s._fields,O);U&&U._f&&(U._f.mount=H)};s._options.shouldUnregister||d?s.unregister(l):D(l,!1)}),[l,s,c,d]),{swap:mt.useCallback(A,[x,l,s]),move:mt.useCallback(B,[x,l,s]),prepend:mt.useCallback(q,[x,l,s]),append:mt.useCallback(N,[x,l,s]),remove:mt.useCallback(w,[x,l,s]),insert:mt.useCallback(_,[x,l,s]),update:mt.useCallback(T,[x,l,s]),replace:mt.useCallback(Y,[x,l,s]),fields:mt.useMemo(()=>h.map((D,O)=>({...D,[c]:p.current[O]||Hs()})),[h,c])}}function Qc(e={}){const a=mt.useRef(void 0),s=mt.useRef(void 0),[l,c]=mt.useState({isDirty:!1,isValidating:!1,isLoading:$a(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$a(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!$a(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=f_(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,$m(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),mt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),mt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),mt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),mt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),mt.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),mt.useEffect(()=>{e.values&&!Ia(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),mt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=Ww(l,d),a.current}function ux(e,a){return function(){return e.apply(a,arguments)}}const{toString:p_}=Object.prototype,{getPrototypeOf:Zm}=Object,{iterator:Yc,toStringTag:dx}=Symbol,Kc=(e=>a=>{const s=p_.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=e=>(e=e.toLowerCase(),a=>Kc(a)===e),Xc=e=>a=>typeof a===e,{isArray:Cl}=Array,Sl=Xc("undefined");function Pi(e){return e!==null&&!Sl(e)&&e.constructor!==null&&!Sl(e.constructor)&&sa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fx=Fa("ArrayBuffer");function g_(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&fx(e.buffer),a}const y_=Xc("string"),sa=Xc("function"),mx=Xc("number"),Qi=e=>e!==null&&typeof e=="object",b_=e=>e===!0||e===!1,_c=e=>{if(Kc(e)!=="object")return!1;const a=Zm(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(dx in e)&&!(Yc in e)},v_=e=>{if(!Qi(e)||Pi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},x_=Fa("Date"),S_=Fa("File"),N_=Fa("Blob"),j_=Fa("FileList"),w_=e=>Qi(e)&&sa(e.pipe),__=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||sa(e.append)&&((a=Kc(e))==="formdata"||a==="object"&&sa(e.toString)&&e.toString()==="[object FormData]"))},E_=Fa("URLSearchParams"),[A_,C_,O_,R_]=["ReadableStream","Request","Response","Headers"].map(Fa),T_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yi(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),Cl(e))for(l=0,c=e.length;l<c;l++)a.call(null,e[l],l,e);else{if(Pi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function hx(e,a){if(Pi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],a===c.toLowerCase())return c;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,px=e=>!Sl(e)&&e!==br;function um(){const{caseless:e,skipUndefined:a}=px(this)&&this||{},s={},l=(c,d)=>{const m=e&&hx(s,d)||d;_c(s[m])&&_c(c)?s[m]=um(s[m],c):_c(c)?s[m]=um({},c):Cl(c)?s[m]=c.slice():(!a||!Sl(c))&&(s[m]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Yi(arguments[c],l);return s}const D_=(e,a,s,{allOwnKeys:l}={})=>(Yi(a,(c,d)=>{s&&sa(c)?e[d]=ux(c,s):e[d]=c},{allOwnKeys:l}),e),z_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),M_=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},k_=(e,a,s,l)=>{let c,d,m;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=s!==!1&&Zm(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},U_=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},L_=e=>{if(!e)return null;if(Cl(e))return e;let a=e.length;if(!mx(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},B_=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Zm(Uint8Array)),q_=(e,a)=>{const l=(e&&e[Yc]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},I_=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},$_=Fa("HTMLFormElement"),F_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),vb=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),H_=Fa("RegExp"),gx=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Yi(s,(c,d)=>{let m;(m=a(c,d,e))!==!1&&(l[d]=m||c)}),Object.defineProperties(e,l)},V_=e=>{gx(e,(a,s)=>{if(sa(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(sa(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Z_=(e,a)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return Cl(e)?l(e):l(String(e).split(a)),s},G_=()=>{},P_=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function Q_(e){return!!(e&&sa(e.append)&&e[dx]==="FormData"&&e[Yc])}const Y_=e=>{const a=new Array(10),s=(l,c)=>{if(Qi(l)){if(a.indexOf(l)>=0)return;if(Pi(l))return l;if(!("toJSON"in l)){a[c]=l;const d=Cl(l)?[]:{};return Yi(l,(m,h)=>{const g=s(m,c+1);!Sl(g)&&(d[h]=g)}),a[c]=void 0,d}}return l};return s(e,0)},K_=Fa("AsyncFunction"),X_=e=>e&&(Qi(e)||sa(e))&&sa(e.then)&&sa(e.catch),yx=((e,a)=>e?setImmediate:a?((s,l)=>(br.addEventListener("message",({source:c,data:d})=>{c===br&&d===s&&l.length&&l.shift()()},!1),c=>{l.push(c),br.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",sa(br.postMessage)),J_=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||yx,W_=e=>e!=null&&sa(e[Yc]),re={isArray:Cl,isArrayBuffer:fx,isBuffer:Pi,isFormData:__,isArrayBufferView:g_,isString:y_,isNumber:mx,isBoolean:b_,isObject:Qi,isPlainObject:_c,isEmptyObject:v_,isReadableStream:A_,isRequest:C_,isResponse:O_,isHeaders:R_,isUndefined:Sl,isDate:x_,isFile:S_,isBlob:N_,isRegExp:H_,isFunction:sa,isStream:w_,isURLSearchParams:E_,isTypedArray:B_,isFileList:j_,forEach:Yi,merge:um,extend:D_,trim:T_,stripBOM:z_,inherits:M_,toFlatObject:k_,kindOf:Kc,kindOfTest:Fa,endsWith:U_,toArray:L_,forEachEntry:q_,matchAll:I_,isHTMLForm:$_,hasOwnProperty:vb,hasOwnProp:vb,reduceDescriptors:gx,freezeMethods:V_,toObjectSet:Z_,toCamelCase:F_,noop:G_,toFiniteNumber:P_,findKey:hx,global:br,isContextDefined:px,isSpecCompliantForm:Q_,toJSONObject:Y_,isAsyncFn:K_,isThenable:X_,setImmediate:yx,asap:J_,isIterable:W_};function ct(e,a,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}re.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const bx=ct.prototype,vx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vx[e]={value:e}});Object.defineProperties(ct,vx);Object.defineProperty(bx,"isAxiosError",{value:!0});ct.from=(e,a,s,l,c,d)=>{const m=Object.create(bx);re.toFlatObject(e,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",g=a==null&&e?e.code:a;return ct.call(m,h,g,s,l,c),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const e1=null;function dm(e){return re.isPlainObject(e)||re.isArray(e)}function xx(e){return re.endsWith(e,"[]")?e.slice(0,-2):e}function xb(e,a,s){return e?e.concat(a).map(function(c,d){return c=xx(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function t1(e){return re.isArray(e)&&!e.some(dm)}const n1=re.toFlatObject(re,{},null,function(a){return/^is[A-Z]/.test(a)});function Jc(e,a,s){if(!re.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=re.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!re.isUndefined(A[_])});const l=s.metaTokens,c=s.visitor||v,d=s.dots,m=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(a);if(!re.isFunction(c))throw new TypeError("visitor must be a function");function p(w){if(w===null)return"";if(re.isDate(w))return w.toISOString();if(re.isBoolean(w))return w.toString();if(!g&&re.isBlob(w))throw new ct("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(w)||re.isTypedArray(w)?g&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function v(w,_,A){let B=w;if(w&&!A&&typeof w=="object"){if(re.endsWith(_,"{}"))_=l?_:_.slice(0,-2),w=JSON.stringify(w);else if(re.isArray(w)&&t1(w)||(re.isFileList(w)||re.endsWith(_,"[]"))&&(B=re.toArray(w)))return _=xx(_),B.forEach(function(Y,D){!(re.isUndefined(Y)||Y===null)&&a.append(m===!0?xb([_],D,d):m===null?_:_+"[]",p(Y))}),!1}return dm(w)?!0:(a.append(xb(A,_,d),p(w)),!1)}const x=[],N=Object.assign(n1,{defaultVisitor:v,convertValue:p,isVisitable:dm});function q(w,_){if(!re.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(w),re.forEach(w,function(B,T){(!(re.isUndefined(B)||B===null)&&c.call(a,B,re.isString(T)?T.trim():T,_,N))===!0&&q(B,_?_.concat(T):[T])}),x.pop()}}if(!re.isObject(e))throw new TypeError("data must be an object");return q(e),a}function Sb(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Gm(e,a){this._pairs=[],e&&Jc(e,this,a)}const Sx=Gm.prototype;Sx.append=function(a,s){this._pairs.push([a,s])};Sx.toString=function(a){const s=a?function(l){return a.call(this,l,Sb)}:Sb;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function a1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Nx(e,a,s){if(!a)return e;const l=s&&s.encode||a1;re.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=re.isURLSearchParams(a)?a.toString():new Gm(a,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class Nb{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){re.forEach(this.handlers,function(l){l!==null&&a(l)})}}const jx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},s1=typeof URLSearchParams<"u"?URLSearchParams:Gm,r1=typeof FormData<"u"?FormData:null,l1=typeof Blob<"u"?Blob:null,i1={isBrowser:!0,classes:{URLSearchParams:s1,FormData:r1,Blob:l1},protocols:["http","https","file","blob","url","data"]},Pm=typeof window<"u"&&typeof document<"u",fm=typeof navigator=="object"&&navigator||void 0,o1=Pm&&(!fm||["ReactNative","NativeScript","NS"].indexOf(fm.product)<0),c1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",u1=Pm&&window.location.href||"http://localhost",d1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pm,hasStandardBrowserEnv:o1,hasStandardBrowserWebWorkerEnv:c1,navigator:fm,origin:u1},Symbol.toStringTag,{value:"Module"})),qn={...d1,...i1};function f1(e,a){return Jc(e,new qn.classes.URLSearchParams,{visitor:function(s,l,c,d){return qn.isNode&&re.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function m1(e){return re.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function h1(e){const a={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],a[d]=e[d];return a}function wx(e){function a(s,l,c,d){let m=s[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),g=d>=s.length;return m=!m&&re.isArray(c)?c.length:m,g?(re.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!h):((!c[m]||!re.isObject(c[m]))&&(c[m]=[]),a(s,l,c[m],d)&&re.isArray(c[m])&&(c[m]=h1(c[m])),!h)}if(re.isFormData(e)&&re.isFunction(e.entries)){const s={};return re.forEachEntry(e,(l,c)=>{a(m1(l),c,s,0)}),s}return null}function p1(e,a,s){if(re.isString(e))try{return(a||JSON.parse)(e),re.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Ki={transitional:jx,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=re.isObject(a);if(d&&re.isHTMLForm(a)&&(a=new FormData(a)),re.isFormData(a))return c?JSON.stringify(wx(a)):a;if(re.isArrayBuffer(a)||re.isBuffer(a)||re.isStream(a)||re.isFile(a)||re.isBlob(a)||re.isReadableStream(a))return a;if(re.isArrayBufferView(a))return a.buffer;if(re.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return f1(a,this.formSerializer).toString();if((h=re.isFileList(a))||l.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Jc(h?{"files[]":a}:a,g&&new g,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),p1(a)):a}],transformResponse:[function(a){const s=this.transitional||Ki.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(re.isResponse(a)||re.isReadableStream(a))return a;if(a&&re.isString(a)&&(l&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?ct.from(h,ct.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],e=>{Ki.headers[e]={}});const g1=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y1=e=>{const a={};let s,l,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!s||a[s]&&g1[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},jb=Symbol("internals");function Ri(e){return e&&String(e).trim().toLowerCase()}function Ec(e){return e===!1||e==null?e:re.isArray(e)?e.map(Ec):String(e)}function b1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const v1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tf(e,a,s,l,c){if(re.isFunction(l))return l.call(this,a,s);if(c&&(a=s),!!re.isString(a)){if(re.isString(l))return a.indexOf(l)!==-1;if(re.isRegExp(l))return l.test(a)}}function x1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function S1(e,a){const s=re.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,m){return this[l].call(this,a,c,d,m)},configurable:!0})})}let ra=class{constructor(a){a&&this.set(a)}set(a,s,l){const c=this;function d(h,g,p){const v=Ri(g);if(!v)throw new Error("header name must be a non-empty string");const x=re.findKey(c,v);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||g]=Ec(h))}const m=(h,g)=>re.forEach(h,(p,v)=>d(p,v,g));if(re.isPlainObject(a)||a instanceof this.constructor)m(a,s);else if(re.isString(a)&&(a=a.trim())&&!v1(a))m(y1(a),s);else if(re.isObject(a)&&re.isIterable(a)){let h={},g,p;for(const v of a){if(!re.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(g=h[p])?re.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}m(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ri(a),a){const l=re.findKey(this,a);if(l){const c=this[l];if(!s)return c;if(s===!0)return b1(c);if(re.isFunction(s))return s.call(this,c,l);if(re.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ri(a),a){const l=re.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||Tf(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let c=!1;function d(m){if(m=Ri(m),m){const h=re.findKey(l,m);h&&(!s||Tf(l,l[h],h,s))&&(delete l[h],c=!0)}}return re.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let l=s.length,c=!1;for(;l--;){const d=s[l];(!a||Tf(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,l={};return re.forEach(this,(c,d)=>{const m=re.findKey(l,d);if(m){s[m]=Ec(c),delete s[d];return}const h=a?x1(d):String(d).trim();h!==d&&delete s[d],s[h]=Ec(c),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return re.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=a&&re.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(c=>l.set(c)),l}static accessor(a){const l=(this[jb]=this[jb]={accessors:{}}).accessors,c=this.prototype;function d(m){const h=Ri(m);l[h]||(S1(c,m),l[h]=!0)}return re.isArray(a)?a.forEach(d):d(a),this}};ra.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(ra.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});re.freezeMethods(ra);function Df(e,a){const s=this||Ki,l=a||s,c=ra.from(l.headers);let d=l.data;return re.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function _x(e){return!!(e&&e.__CANCEL__)}function Ol(e,a,s){ct.call(this,e??"canceled",ct.ERR_CANCELED,a,s),this.name="CanceledError"}re.inherits(Ol,ct,{__CANCEL__:!0});function Ex(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new ct("Request failed with status code "+s.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function N1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function j1(e,a){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,m;return a=a!==void 0?a:1e3,function(g){const p=Date.now(),v=l[d];m||(m=p),s[c]=g,l[c]=p;let x=d,N=0;for(;x!==c;)N+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-m<a)return;const q=v&&p-v;return q?Math.round(N*1e3/q):void 0}}function w1(e,a){let s=0,l=1e3/a,c,d;const m=(p,v=Date.now())=>{s=v,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),x=v-s;x>=l?m(p,v):(c=p,d||(d=setTimeout(()=>{d=null,m(c)},l-x)))},()=>c&&m(c)]}const zc=(e,a,s=3)=>{let l=0;const c=j1(50,250);return w1(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,g=m-l,p=c(g),v=m<=h;l=m;const x={loaded:m,total:h,progress:h?m/h:void 0,bytes:g,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},wb=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},_b=e=>(...a)=>re.asap(()=>e(...a)),_1=qn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,qn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,E1=qn.hasStandardBrowserEnv?{write(e,a,s,l,c,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];re.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),re.isString(l)&&h.push(`path=${l}`),re.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),re.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function A1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function C1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function Ax(e,a,s){let l=!A1(a);return e&&(l||s==!1)?C1(e,a):a}const Eb=e=>e instanceof ra?{...e}:e;function wr(e,a){a=a||{};const s={};function l(p,v,x,N){return re.isPlainObject(p)&&re.isPlainObject(v)?re.merge.call({caseless:N},p,v):re.isPlainObject(v)?re.merge({},v):re.isArray(v)?v.slice():v}function c(p,v,x,N){if(re.isUndefined(v)){if(!re.isUndefined(p))return l(void 0,p,x,N)}else return l(p,v,x,N)}function d(p,v){if(!re.isUndefined(v))return l(void 0,v)}function m(p,v){if(re.isUndefined(v)){if(!re.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,x){if(x in a)return l(p,v);if(x in e)return l(void 0,p)}const g={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,x)=>c(Eb(p),Eb(v),x,!0)};return re.forEach(Object.keys({...e,...a}),function(v){const x=g[v]||c,N=x(e[v],a[v],v);re.isUndefined(N)&&x!==h||(s[v]=N)}),s}const Cx=e=>{const a=wr({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=ra.from(m),a.url=Nx(Ax(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),re.isFormData(s)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(re.isFunction(s.getHeaders)){const g=s.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([v,x])=>{p.includes(v.toLowerCase())&&m.set(v,x)})}}if(qn.hasStandardBrowserEnv&&(l&&re.isFunction(l)&&(l=l(a)),l||l!==!1&&_1(a.url))){const g=c&&d&&E1.read(d);g&&m.set(c,g)}return a},O1=typeof XMLHttpRequest<"u",R1=O1&&function(e){return new Promise(function(s,l){const c=Cx(e);let d=c.data;const m=ra.from(c.headers).normalize();let{responseType:h,onUploadProgress:g,onDownloadProgress:p}=c,v,x,N,q,w;function _(){q&&q(),w&&w(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let A=new XMLHttpRequest;A.open(c.method.toUpperCase(),c.url,!0),A.timeout=c.timeout;function B(){if(!A)return;const Y=ra.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:Y,config:e,request:A};Ex(function(U){s(U),_()},function(U){l(U),_()},O),A=null}"onloadend"in A?A.onloadend=B:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(B)},A.onabort=function(){A&&(l(new ct("Request aborted",ct.ECONNABORTED,e,A)),A=null)},A.onerror=function(D){const O=D&&D.message?D.message:"Network Error",H=new ct(O,ct.ERR_NETWORK,e,A);H.event=D||null,l(H),A=null},A.ontimeout=function(){let D=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const O=c.transitional||jx;c.timeoutErrorMessage&&(D=c.timeoutErrorMessage),l(new ct(D,O.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,e,A)),A=null},d===void 0&&m.setContentType(null),"setRequestHeader"in A&&re.forEach(m.toJSON(),function(D,O){A.setRequestHeader(O,D)}),re.isUndefined(c.withCredentials)||(A.withCredentials=!!c.withCredentials),h&&h!=="json"&&(A.responseType=c.responseType),p&&([N,w]=zc(p,!0),A.addEventListener("progress",N)),g&&A.upload&&([x,q]=zc(g),A.upload.addEventListener("progress",x),A.upload.addEventListener("loadend",q)),(c.cancelToken||c.signal)&&(v=Y=>{A&&(l(!Y||Y.type?new Ol(null,e,A):Y),A.abort(),A=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const T=N1(c.url);if(T&&qn.protocols.indexOf(T)===-1){l(new ct("Unsupported protocol "+T+":",ct.ERR_BAD_REQUEST,e));return}A.send(d||null)})},T1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,c;const d=function(p){if(!c){c=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof ct?v:new Ol(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new ct(`timeout ${a} of ms exceeded`,ct.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:g}=l;return g.unsubscribe=()=>re.asap(h),g}},D1=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,c;for(;l<s;)c=l+a,yield e.slice(l,c),l=c},z1=async function*(e,a){for await(const s of M1(e))yield*D1(s,a)},M1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},Ab=(e,a,s,l)=>{const c=z1(e,a);let d=0,m,h=g=>{m||(m=!0,l&&l(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await c.next();if(p){h(),g.close();return}let x=v.byteLength;if(s){let N=d+=x;s(N)}g.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(g){return h(g),c.return()}},{highWaterMark:2})},Cb=64*1024,{isFunction:gc}=re,k1=(({Request:e,Response:a})=>({Request:e,Response:a}))(re.global),{ReadableStream:Ob,TextEncoder:Rb}=re.global,Tb=(e,...a)=>{try{return!!e(...a)}catch{return!1}},U1=e=>{e=re.merge.call({skipUndefined:!0},k1,e);const{fetch:a,Request:s,Response:l}=e,c=a?gc(a):typeof fetch=="function",d=gc(s),m=gc(l);if(!c)return!1;const h=c&&gc(Ob),g=c&&(typeof Rb=="function"?(w=>_=>w.encode(_))(new Rb):async w=>new Uint8Array(await new s(w).arrayBuffer())),p=d&&h&&Tb(()=>{let w=!1;const _=new s(qn.origin,{body:new Ob,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!_}),v=m&&h&&Tb(()=>re.isReadableStream(new l("").body)),x={stream:v&&(w=>w.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!x[w]&&(x[w]=(_,A)=>{let B=_&&_[w];if(B)return B.call(_);throw new ct(`Response type '${w}' is not supported`,ct.ERR_NOT_SUPPORT,A)})});const N=async w=>{if(w==null)return 0;if(re.isBlob(w))return w.size;if(re.isSpecCompliantForm(w))return(await new s(qn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(re.isArrayBufferView(w)||re.isArrayBuffer(w))return w.byteLength;if(re.isURLSearchParams(w)&&(w=w+""),re.isString(w))return(await g(w)).byteLength},q=async(w,_)=>{const A=re.toFiniteNumber(w.getContentLength());return A??N(_)};return async w=>{let{url:_,method:A,data:B,signal:T,cancelToken:Y,timeout:D,onDownloadProgress:O,onUploadProgress:H,responseType:U,headers:K,withCredentials:ce="same-origin",fetchOptions:_e}=Cx(w),ve=a||fetch;U=U?(U+"").toLowerCase():"text";let fe=T1([T,Y&&Y.toAbortSignal()],D),Se=null;const De=fe&&fe.unsubscribe&&(()=>{fe.unsubscribe()});let Oe;try{if(H&&p&&A!=="get"&&A!=="head"&&(Oe=await q(K,B))!==0){let j=new s(_,{method:"POST",body:B,duplex:"half"}),Z;if(re.isFormData(B)&&(Z=j.headers.get("content-type"))&&K.setContentType(Z),j.body){const[ie,k]=wb(Oe,zc(_b(H)));B=Ab(j.body,Cb,ie,k)}}re.isString(ce)||(ce=ce?"include":"omit");const M=d&&"credentials"in s.prototype,I={..._e,signal:fe,method:A.toUpperCase(),headers:K.normalize().toJSON(),body:B,duplex:"half",credentials:M?ce:void 0};Se=d&&new s(_,I);let W=await(d?ve(Se,_e):ve(_,I));const ye=v&&(U==="stream"||U==="response");if(v&&(O||ye&&De)){const j={};["status","statusText","headers"].forEach(oe=>{j[oe]=W[oe]});const Z=re.toFiniteNumber(W.headers.get("content-length")),[ie,k]=O&&wb(Z,zc(_b(O),!0))||[];W=new l(Ab(W.body,Cb,ie,()=>{k&&k(),De&&De()}),j)}U=U||"text";let we=await x[re.findKey(x,U)||"text"](W,w);return!ye&&De&&De(),await new Promise((j,Z)=>{Ex(j,Z,{data:we,headers:ra.from(W.headers),status:W.status,statusText:W.statusText,config:w,request:Se})})}catch(M){throw De&&De(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,w,Se),{cause:M.cause||M}):ct.from(M,M&&M.code,w,Se)}}},L1=new Map,Ox=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:c}=a,d=[l,c,s];let m=d.length,h=m,g,p,v=L1;for(;h--;)g=d[h],p=v.get(g),p===void 0&&v.set(g,p=h?new Map:U1(a)),v=p;return p};Ox();const Qm={http:e1,xhr:R1,fetch:{get:Ox}};re.forEach(Qm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const Db=e=>`- ${e}`,B1=e=>re.isFunction(e)||e===null||e===!1;function q1(e,a){e=re.isArray(e)?e:[e];const{length:s}=e;let l,c;const d={};for(let m=0;m<s;m++){l=e[m];let h;if(c=l,!B1(l)&&(c=Qm[(h=String(l)).toLowerCase()],c===void 0))throw new ct(`Unknown adapter '${h}'`);if(c&&(re.isFunction(c)||(c=c.get(a))))break;d[h||"#"+m]=c}if(!c){const m=Object.entries(d).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?m.length>1?`since :
`+m.map(Db).join(`
`):" "+Db(m[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const Rx={getAdapter:q1,adapters:Qm};function zf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ol(null,e)}function zb(e){return zf(e),e.headers=ra.from(e.headers),e.data=Df.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rx.getAdapter(e.adapter||Ki.adapter,e)(e).then(function(l){return zf(e),l.data=Df.call(e,e.transformResponse,l),l.headers=ra.from(l.headers),l},function(l){return _x(l)||(zf(e),l&&l.response&&(l.response.data=Df.call(e,e.transformResponse,l.response),l.response.headers=ra.from(l.response.headers))),Promise.reject(l)})}const Tx="1.13.2",Wc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Wc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Mb={};Wc.transitional=function(a,s,l){function c(d,m){return"[Axios v"+Tx+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new ct(c(m," has been removed"+(s?" in "+s:"")),ct.ERR_DEPRECATED);return s&&!Mb[m]&&(Mb[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,m,h):!0}};Wc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function I1(e,a,s){if(typeof e!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],m=a[d];if(m){const h=e[d],g=h===void 0||m(h,d,e);if(g!==!0)throw new ct("option "+d+" must be "+g,ct.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ct("Unknown option "+d,ct.ERR_BAD_OPTION)}}const Ac={assertOptions:I1,validators:Wc},Qa=Ac.validators;let vr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Nb,response:new Nb}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=wr(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&Ac.assertOptions(l,{silentJSONParsing:Qa.transitional(Qa.boolean),forcedJSONParsing:Qa.transitional(Qa.boolean),clarifyTimeoutError:Qa.transitional(Qa.boolean)},!1),c!=null&&(re.isFunction(c)?s.paramsSerializer={serialize:c}:Ac.assertOptions(c,{encode:Qa.function,serialize:Qa.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ac.assertOptions(s,{baseUrl:Qa.spelling("baseURL"),withXsrfToken:Qa.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=d&&re.merge(d.common,d[s.method]);d&&re.forEach(["delete","get","head","post","put","patch","common"],w=>{delete d[w]}),s.headers=ra.concat(m,d);const h=[];let g=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(g=g&&_.synchronous,h.unshift(_.fulfilled,_.rejected))});const p=[];this.interceptors.response.forEach(function(_){p.push(_.fulfilled,_.rejected)});let v,x=0,N;if(!g){const w=[zb.bind(this),void 0];for(w.unshift(...h),w.push(...p),N=w.length,v=Promise.resolve(s);x<N;)v=v.then(w[x++],w[x++]);return v}N=h.length;let q=s;for(;x<N;){const w=h[x++],_=h[x++];try{q=w(q)}catch(A){_.call(this,A);break}}try{v=zb.call(this,q)}catch(w){return Promise.reject(w)}for(x=0,N=p.length;x<N;)v=v.then(p[x++],p[x++]);return v}getUri(a){a=wr(this.defaults,a);const s=Ax(a.baseURL,a.url,a.allowAbsoluteUrls);return Nx(s,a.params,a.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(a){vr.prototype[a]=function(s,l){return this.request(wr(l||{},{method:a,url:s,data:(l||{}).data}))}});re.forEach(["post","put","patch"],function(a){function s(l){return function(d,m,h){return this.request(wr(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}vr.prototype[a]=s(),vr.prototype[a+"Form"]=s(!0)});let $1=class Dx{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new Ol(d,m,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new Dx(function(c){a=c}),cancel:a}}};function F1(e){return function(s){return e.apply(null,s)}}function H1(e){return re.isObject(e)&&e.isAxiosError===!0}const mm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mm).forEach(([e,a])=>{mm[a]=e});function zx(e){const a=new vr(e),s=ux(vr.prototype.request,a);return re.extend(s,vr.prototype,a,{allOwnKeys:!0}),re.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return zx(wr(e,c))},s}const pt=zx(Ki);pt.Axios=vr;pt.CanceledError=Ol;pt.CancelToken=$1;pt.isCancel=_x;pt.VERSION=Tx;pt.toFormData=Jc;pt.AxiosError=ct;pt.Cancel=pt.CanceledError;pt.all=function(a){return Promise.all(a)};pt.spread=F1;pt.isAxiosError=H1;pt.mergeConfig=wr;pt.AxiosHeaders=ra;pt.formToJSON=e=>wx(re.isHTMLForm(e)?new FormData(e):e);pt.getAdapter=Rx.getAdapter;pt.HttpStatusCode=mm;pt.default=pt;const{Axios:P2,AxiosError:Q2,CanceledError:Y2,isCancel:K2,CancelToken:X2,VERSION:J2,all:W2,Cancel:eD,isAxiosError:tD,spread:nD,toFormData:aD,AxiosHeaders:sD,HttpStatusCode:rD,formToJSON:lD,getAdapter:iD,mergeConfig:oD}=pt,V1="medileser:draft:v1",Mc="medileser:recovery:v1",kc="medileser:recovery:intent",Z1="vi.auth",G1="vi_auth",P1="medileser.selectedBank",Q1=1440*60*1e3,Ym=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>Q1},Mf=e=>{const{userId:a,bankId:s,oiId:l,type:c,bancadaId:d,isNew:m}=e;if(!a||s==null)return null;const h=l!=null?String(l):"new",g=`${V1}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${g}:header`;const p=m?"new":d;return p==null?null:`${g}:bancada:${p}`},Mi=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&Mx(s)},kf=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:Ym(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Vs=e=>{try{localStorage.removeItem(e)}catch{}},Mx=e=>{try{localStorage.setItem(Mc,JSON.stringify(e))}catch{}},kx=()=>{try{const e=localStorage.getItem(Mc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Ym(a.ts)?(localStorage.removeItem(Mc),null):a}catch{return null}},Y1=()=>{try{localStorage.removeItem(Mc)}catch{}},K1=e=>{const a=e.userId??null,s=e.bankId??null,l=e.oiId??null;if(!a||s==null||!l)return;const c=kx(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:l,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};Mx(d)},X1=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(kc,JSON.stringify(a))}catch{}},J1=()=>{try{const e=sessionStorage.getItem(kc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Ym(a.ts)?(sessionStorage.removeItem(kc),null):a}catch{return null}},Uf=()=>{try{sessionStorage.removeItem(kc)}catch{}},W1=()=>{try{const e=localStorage.getItem(Z1)??localStorage.getItem(G1);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},eE=()=>{try{const e=localStorage.getItem(P1);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},hm=(e,a)=>{const s=kx();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const l=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=l==="/oi"||l==="/oi/"?`/oi/${s.oiId}?mode=edit`:l;return X1(s),{target:c,recovery:s}},kb="http://127.0.0.1:8000",Rl="openOiId",eu="vi.currentOI",Ux="vi.auth",Lx="vi_auth",tE="medileser.selectedBank",nE="medileser:selectedBank",pm="medileser.pendingToast",Xi="medileser.pendingAction",aE="medileser:auth-expired",gm="medileser.sessionUserId",ym="medileser.sessionBankId",Bx=()=>typeof window<"u"?window.location.port==="5173"?kb:window.location.origin:kb,Ye=pt.create({baseURL:Bx()}),qx=pt.create({baseURL:Bx()}),Ix=e=>{try{const a=localStorage.getItem(Ux)??localStorage.getItem(Lx);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ye.interceptors.request.use(Ix);qx.interceptors.request.use(Ix);function sE(){try{const e=sessionStorage.getItem(Rl);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const $x=()=>{try{const e=sessionStorage.getItem(eu);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function rE(e){try{sessionStorage.setItem(Rl,String(e))}catch{}}function Fx(){try{sessionStorage.removeItem(Rl)}catch{}}async function Ji(){const e=sE();if(e)try{await qx.post(`/oi/${e}/close`)}catch{}finally{Fx()}}function lE(e){try{sessionStorage.setItem(pm,e)}catch{}}function iE(){try{const e=sessionStorage.getItem(pm);return e?(sessionStorage.removeItem(pm),e):null}catch{return null}}function oE(e){try{sessionStorage.setItem(Xi,JSON.stringify(e))}catch{}}function cE(){try{const e=sessionStorage.getItem(Xi);return e?JSON.parse(e):null}catch{return null}}function fl(){try{sessionStorage.removeItem(Xi)}catch{}}function Hx(){try{const e=sessionStorage.getItem(gm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Ub(e){try{e==null?sessionStorage.removeItem(gm):sessionStorage.setItem(gm,String(e))}catch{}}function Vx(){try{const e=sessionStorage.getItem(ym);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Uc(e){try{e==null?sessionStorage.removeItem(ym):sessionStorage.setItem(ym,String(e))}catch{}}function Zx(e){const a=Hx();if(e==null)return!1;if(a===null||a===e)return Ub(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Rl||c===eu||c===Xi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Ub(e),Uc(null),!0}function uE(e){const a=Vx();if(e==null)return!1;if(a===null||a===e)return Uc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Rl||c===eu||c===Xi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return Uc(e),!0}function dE(){try{localStorage.removeItem(Ux),localStorage.removeItem(Lx),localStorage.removeItem(tE)}catch{}finally{try{window.dispatchEvent(new Event(nE))}catch{}}try{sessionStorage.removeItem(eu),sessionStorage.removeItem(Rl)}catch{}}let Lb=!1;async function Gx(e){if(!Lb){Lb=!0;try{await Ji()}finally{dE();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(lE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const zi=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401)return!0;const l=e?.response?.data?.detail;return!!(typeof l=="string"&&/token requerido/i.test(l))},Lf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},fE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:Lf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:Lf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:Lf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},mE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const m=c.toString(),h=p=>`${p}${m?`?${m}`:""}${l??""}`;let g=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??$x();p&&(g=h(`/oi/${p}`))}return g},hE=(e,a,s,l,c)=>{try{window.dispatchEvent(new CustomEvent(aE,{detail:{status:a,detail:e,url:s,method:l,pending:c}}))}catch{}};Ye.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&zi(e)){const m=fE(e);m&&oE(m),hE(l,a,s,c,m);const h=mE(m),g=W1(),p=g.bankId??eE(),v=m?.oiId??$x();if(g.userId&&p!=null&&v){const x=m?.type==="save_bancada"?{type:"bancada",bancadaId:m.bancadaId??null,isNew:m.bancadaId==null}:void 0;K1({userId:g.userId,bankId:p,oiId:v,returnTo:h,modal:x})}await Gx({returnTo:h,pending:!!m})}return Promise.reject(e)});const Km=async()=>{const{data:e}=await Ye.get("/catalogs");return e},tu="medileser.selectedBank",Lc="medileser:selectedBank";function Aa(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function Nl(e){return Aa(e)==="technician"}function Xm(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function qi(){try{const e=localStorage.getItem(tu);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Px(e){try{localStorage.setItem(tu,String(e))}finally{window.dispatchEvent(new Event(Lc))}}function Qx(){try{localStorage.removeItem(tu)}finally{window.dispatchEvent(new Event(Lc))}}function pE(e){const a=()=>e(),s=l=>{l.key===tu&&e()};return window.addEventListener(Lc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Lc,a),window.removeEventListener("storage",s)}}async function gE(e,a){try{await Ye.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function yE(e){try{await Ji();const{data:a}=await Ye.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),Zx(a.userId??null),!Nl(a.role)&&a.bancoId!=null&&Uc(a.bancoId),Nl(a.role)?Qx():Px(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(c)}}function Rn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Aa(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function Yx(e){await Ji();const{data:a}=await Ye.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),Zx(a.userId??null),uE(e),Px(e),a}function Kx(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),Qx();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function bE(){await Ji(),Kx()}function Ii({label:e,inputId:a,className:s="",inputRef:l,helpText:c,...d}){const[m,h]=b.useState(!1),g=a||d.name||void 0,{ref:p,...v}=d,x=l??p;return i.jsxs("div",{className:s,children:[e&&i.jsx("label",{className:"form-label",htmlFor:g,children:e}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{...v,id:g,type:m?"text":"password",className:"form-control",ref:x}),i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(N=>!N),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:i.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),c&&i.jsx("div",{className:"form-text",children:c})]})}function Tl({show:e=!0,label:a="Cargando..."}){return e?i.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[i.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),i.jsx("span",{className:"visually-hidden",children:a})]}):null}const Xx=b.createContext(null);function vE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function xE({children:e}){const[a,s]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:g=3500,...p}=d,v={id:m,kind:h,duration:g,...p};s(x=>[...x,v]),window.setTimeout(()=>{s(x=>x.filter(N=>N.id!==m))},g)},[]),c=d=>s(m=>m.filter(h=>h.id!==d));return i.jsxs(Xx.Provider,{value:{push:l},children:[e,i.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>i.jsx("div",{className:`toast show align-items-center text-bg-${vE(d.kind)} border-0 mb-2`,role:"alert",children:i.jsxs("div",{className:"d-flex",children:[i.jsxs("div",{className:"toast-body",children:[d.title&&i.jsx("strong",{className:"me-2",children:d.title}),d.message]}),i.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function Cr(){const e=b.useContext(Xx);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function SE(){const{register:e,handleSubmit:a}=Qc({defaultValues:{username:"",password:""}}),{toast:s}=Cr(),l=new URLSearchParams(window.location.search),c=l.get("returnTo")??"",d=c.startsWith("/")?c:"/home",m=l.get("pending")==="1",[h,g]=b.useState(!1),p=b.useRef(d),[v,x]=b.useState(!1),[N,q]=b.useState(0),[w,_]=b.useState(!1),{data:A,isLoading:B,error:T,refetch:Y}=jr({queryKey:["catalogs"],queryFn:Km,enabled:v}),D=A?.bancos??[];b.useEffect(()=>{const ce=iE();ce&&s({kind:"error",message:ce})},[s]),b.useEffect(()=>{v&&(N>0||D.length>0&&q(D[0].id))},[N,D,v]);const O=async ce=>{try{g(!0);const _e=Hx(),ve=await yE(ce),fe=_e!=null&&ve.userId&&_e!==ve.userId,Se=hm(ve.userId,ve.bancoId??0);if(Se.target?p.current=Se.target:m||fe?p.current="/home":p.current=d,Nl(ve.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(_e){const ve=_e?.message??_e?.response?.data?.detail??(typeof _e=="string"?_e:"Error de autenticacin");s({kind:"error",title:"Login",message:String(ve)})}finally{g(!1)}},H=N>0&&!w&&!B,U=async()=>{if(H)try{_(!0);const ce=Vx(),_e=ce!=null&&ce!==N,ve=await Yx(N),fe=hm(ve.userId,ve.bancoId??N);fe.target?p.current=fe.target:(m||_e)&&(p.current="/home"),window.location.replace(p.current)}catch(ce){const _e=ce?.response?.data?.detail??ce?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(_e)})}finally{_(!1)}},K=()=>{Kx(),x(!1),q(0)};return i.jsxs("div",{className:"vi-login",children:[i.jsx(Tl,{show:h||w,label:w?"Guardando banco...":"Validando credenciales..."}),i.jsxs("div",{className:"vi-login__split",children:[i.jsx("section",{className:"vi-login__left",children:i.jsx("div",{className:"text-center text-md-start",children:i.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),i.jsx("section",{className:"vi-login__right",children:i.jsx("div",{className:"card shadow-sm vi-login__card",children:i.jsxs("div",{className:"card-body p-4 p-md-5",children:[i.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),i.jsxs("form",{onSubmit:a(O),className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),i.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),i.jsx("div",{className:"col-md-6",children:i.jsx(Ii,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),i.jsx("div",{className:"col-12 d-grid",children:i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||v,"aria-busy":h?"true":"false",children:h?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),v&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsx("div",{className:"modal-header",children:i.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),i.jsxs("div",{className:"modal-body",children:[i.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),i.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),i.jsx("select",{id:"bankId",className:"form-select",value:N||"",onChange:ce=>q(Number(ce.target.value)),disabled:B||w,children:D.map(ce=>i.jsx("option",{value:ce.id,children:ce.name},ce.id))}),T?i.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>Y(),children:"Reintentar"})]}):null]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:K,disabled:w,children:"Cancelar"}),i.jsx("button",{type:"button",className:"btn btn-primary",disabled:!H,onClick:U,children:w?"Guardando...":"Continuar"})]})]})})})]})}const Bb=(e,a,s)=>{if(e&&"reportValidity"in e){const l=qe(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},bm=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?Bb(l.ref,s,e):l&&l.refs&&l.refs.forEach(c=>Bb(c,s,e))}},qb=(e,a)=>{a.shouldUseNativeValidation&&bm(e,a);const s={};for(const l in e){const c=qe(a.fields,l),d=Object.assign(e[l]||{},{ref:c&&c.ref});if(NE(a.names||Object.keys(e),l)){const m=Object.assign({},qe(s,l));kt(m,"root",d),kt(s,l,m)}else kt(s,l,d)}return s},NE=(e,a)=>{const s=Ib(a);return e.some(l=>Ib(l).match(`^${s}\\.\\d+`))};function Ib(e){return e.replace(/\]|\[/g,"")}function je(e,a,s){function l(h,g){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,g);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=g}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function m(h){var g;const p=s?.Parent?new d:this;l(p,h),(g=p._zod).deferred??(g.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class xl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Jx extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const Wx={};function _r(e){return Wx}function jE(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,c])=>a.indexOf(+l)===-1).map(([l,c])=>c)}function vm(e,a){return typeof a=="bigint"?a.toString():a}function Jm(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Wm(e){return e==null}function eh(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function wE(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let c=(l.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(l)){const g=l.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const d=s>c?s:c,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const $b=Symbol("evaluating");function Ht(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==$b)return l===void 0&&(l=$b,l=s()),l},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function Or(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Rr(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function Fb(e){return JSON.stringify(e)}const e0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Bc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const _E=Jm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function $i(e){if(Bc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(Bc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function t0(e){return $i(e)?{...e}:Array.isArray(e)?[...e]:e}const EE=new Set(["string","number","symbol"]);function nu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ps(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function We(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function AE(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const CE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function OE(e,a){const s=e._zod.def,l=Rr(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return Or(this,"shape",c),c},checks:[]});return Ps(e,l)}function RE(e,a){const s=e._zod.def,l=Rr(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return Or(this,"shape",c),c},checks:[]});return Ps(e,l)}function TE(e,a){if(!$i(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Rr(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Or(this,"shape",d),d},checks:[]});return Ps(e,c)}function DE(e,a){if(!$i(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Or(this,"shape",l),l},checks:e._zod.def.checks};return Ps(e,s)}function zE(e,a){const s=Rr(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Or(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Ps(e,s)}function ME(e,a,s){const l=Rr(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in c))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=e?new e({type:"optional",innerType:c[m]}):c[m])}else for(const m in c)d[m]=e?new e({type:"optional",innerType:c[m]}):c[m];return Or(this,"shape",d),d},checks:[]});return Ps(a,l)}function kE(e,a,s){const l=Rr(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=new e({type:"nonoptional",innerType:c[m]}))}else for(const m in c)d[m]=new e({type:"nonoptional",innerType:c[m]});return Or(this,"shape",d),d},checks:[]});return Ps(a,l)}function bl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function n0(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function yc(e){return typeof e=="string"?e:e?.message}function Er(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const c=yc(e.inst?._zod.def?.error?.(e))??yc(a?.error?.(e))??yc(s.customError?.(e))??yc(s.localeError?.(e))??"Invalid input";l.message=c}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function th(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Fi(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const a0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,vm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},nh=je("$ZodError",a0),au=je("$ZodError",a0,{Parent:Error});function UE(e,a=s=>s.message){const s={},l=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):l.push(a(c));return{formErrors:l,fieldErrors:s}}function LE(e,a=s=>s.message){const s={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let m=s,h=0;for(;h<d.path.length;){const g=d.path[h];h===d.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(a(d))):m[g]=m[g]||{_errors:[]},m=m[g],h++}}};return l(e),s}const su=e=>(a,s,l,c)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise)throw new xl;if(m.issues.length){const h=new(c?.Err??e)(m.issues.map(g=>Er(g,d,_r())));throw e0(h,c?.callee),h}return m.value},BE=su(au),ru=e=>async(a,s,l,c)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(c?.Err??e)(m.issues.map(g=>Er(g,d,_r())));throw e0(h,c?.callee),h}return m.value},qE=ru(au),lu=e=>(a,s,l)=>{const c=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new xl;return d.issues.length?{success:!1,error:new(e??nh)(d.issues.map(m=>Er(m,c,_r())))}:{success:!0,data:d.value}},IE=lu(au),iu=e=>async(a,s,l)=>{const c=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>Er(m,c,_r())))}:{success:!0,data:d.value}},$E=iu(au),FE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return su(e)(a,s,c)},HE=e=>(a,s,l)=>su(e)(a,s,l),VE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return ru(e)(a,s,c)},ZE=e=>async(a,s,l)=>ru(e)(a,s,l),GE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return lu(e)(a,s,c)},PE=e=>(a,s,l)=>lu(e)(a,s,l),QE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return iu(e)(a,s,c)},YE=e=>async(a,s,l)=>iu(e)(a,s,l),KE=/^[cC][^\s-]{8,}$/,XE=/^[0-9a-z]+$/,JE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,WE=/^[0-9a-vA-V]{20}$/,eA=/^[A-Za-z0-9]{27}$/,tA=/^[a-zA-Z0-9_-]{21}$/,nA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,aA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Hb=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,sA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,rA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function lA(){return new RegExp(rA,"u")}const iA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,uA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,s0=/^[A-Za-z0-9_-]*$/,fA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,mA=/^\+(?:[0-9]){6,14}[0-9]$/,r0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",hA=new RegExp(`^${r0}$`);function l0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pA(e){return new RegExp(`^${l0(e)}$`)}function gA(e){const a=l0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${r0}T(?:${l})$`)}const yA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},bA=/^-?\d+$/,vA=/^-?\d+(?:\.\d+)?/,xA=/^[^A-Z]*$/,SA=/^[^a-z]*$/,la=je("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),i0={number:"number",bigint:"bigint",object:"date"},o0=je("$ZodCheckLessThan",(e,a)=>{la.init(e,a);const s=i0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),c0=je("$ZodCheckGreaterThan",(e,a)=>{la.init(e,a);const s=i0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),NA=je("$ZodCheckMultipleOf",(e,a)=>{la.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):wE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),jA=je("$ZodCheckNumberFormat",(e,a)=>{la.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[c,d]=CE[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=bA)}),e._zod.check=m=>{const h=m.value;if(s){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<c&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),wA=je("$ZodCheckMaxLength",(e,a)=>{var s;la.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Wm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const c=l.value;if(c.length<=a.maximum)return;const m=th(c);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),_A=je("$ZodCheckMinLength",(e,a)=>{var s;la.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Wm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const c=l.value;if(c.length>=a.minimum)return;const m=th(c);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),EA=je("$ZodCheckLengthEquals",(e,a)=>{var s;la.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Wm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=l=>{const c=l.value,d=c.length;if(d===a.length)return;const m=th(c),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),ou=je("$ZodCheckStringFormat",(e,a)=>{var s,l;la.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),AA=je("$ZodCheckRegex",(e,a)=>{ou.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),CA=je("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=xA),ou.init(e,a)}),OA=je("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=SA),ou.init(e,a)}),RA=je("$ZodCheckIncludes",(e,a)=>{la.init(e,a);const s=nu(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),TA=je("$ZodCheckStartsWith",(e,a)=>{la.init(e,a);const s=new RegExp(`^${nu(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),DA=je("$ZodCheckEndsWith",(e,a)=>{la.init(e,a);const s=new RegExp(`.*${nu(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),zA=je("$ZodCheckOverwrite",(e,a)=>{la.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class MA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),c=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(c)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const kA={major:4,minor:1,patch:12},bn=je("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=kA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const c of l)for(const d of c._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(m,h,g)=>{let p=bl(m),v;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(m))continue}else if(p)continue;const N=m.issues.length,q=x._zod.check(m);if(q instanceof Promise&&g?.async===!1)throw new xl;if(v||q instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await q,m.issues.length!==N&&(p||(p=bl(m,N)))});else{if(m.issues.length===N)continue;p||(p=bl(m,N))}}return v?v.then(()=>m):m},d=(m,h,g)=>{if(bl(m))return m.aborted=!0,m;const p=c(h,l,g);if(p instanceof Promise){if(g.async===!1)throw new xl;return p.then(v=>e._zod.parse(v,g))}return e._zod.parse(p,g)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const g=e._zod.parse(m,h);if(g instanceof Promise){if(h.async===!1)throw new xl;return g.then(p=>c(p,l,h))}return c(g,l,h)}}e["~standard"]={validate:c=>{try{const d=IE(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return $E(e,c).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),ah=je("$ZodString",(e,a)=>{bn.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??yA(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Jt=je("$ZodStringFormat",(e,a)=>{ou.init(e,a),ah.init(e,a)}),UA=je("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=aA),Jt.init(e,a)}),LA=je("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Hb(l))}else a.pattern??(a.pattern=Hb());Jt.init(e,a)}),BA=je("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=sA),Jt.init(e,a)}),qA=je("$ZodURL",(e,a)=>{Jt.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),c=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:fA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),IA=je("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=lA()),Jt.init(e,a)}),$A=je("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=tA),Jt.init(e,a)}),FA=je("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=KE),Jt.init(e,a)}),HA=je("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=XE),Jt.init(e,a)}),VA=je("$ZodULID",(e,a)=>{a.pattern??(a.pattern=JE),Jt.init(e,a)}),ZA=je("$ZodXID",(e,a)=>{a.pattern??(a.pattern=WE),Jt.init(e,a)}),GA=je("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=eA),Jt.init(e,a)}),PA=je("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=gA(a)),Jt.init(e,a)}),QA=je("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=hA),Jt.init(e,a)}),YA=je("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=pA(a)),Jt.init(e,a)}),KA=je("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=nA),Jt.init(e,a)}),XA=je("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=iA),Jt.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),JA=je("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=oA),Jt.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),WA=je("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=cA),Jt.init(e,a)}),eC=je("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=uA),Jt.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[c,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function u0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const tC=je("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=dA),Jt.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{u0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function nC(e){if(!s0.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return u0(s)}const aC=je("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=s0),Jt.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{nC(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),sC=je("$ZodE164",(e,a)=>{a.pattern??(a.pattern=mA),Jt.init(e,a)});function rC(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const c=JSON.parse(atob(l));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const lC=je("$ZodJWT",(e,a)=>{Jt.init(e,a),e._zod.check=s=>{rC(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),d0=je("$ZodNumber",(e,a)=>{bn.init(e,a),e._zod.pattern=e._zod.bag.pattern??vA,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),iC=je("$ZodNumber",(e,a)=>{jA.init(e,a),d0.init(e,a)}),oC=je("$ZodUnknown",(e,a)=>{bn.init(e,a),e._zod.parse=s=>s}),cC=je("$ZodNever",(e,a)=>{bn.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function Vb(e,a,s){e.issues.length&&a.issues.push(...n0(s,e.issues)),a.value[s]=e.value}const uC=je("$ZodArray",(e,a)=>{bn.init(e,a),e._zod.parse=(s,l)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let m=0;m<c.length;m++){const h=c[m],g=a.element._zod.run({value:h,issues:[]},l);g instanceof Promise?d.push(g.then(p=>Vb(p,s,m))):Vb(g,s,m)}return d.length?Promise.all(d).then(()=>s):s}});function qc(e,a,s,l){e.issues.length&&a.issues.push(...n0(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function f0(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=AE(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function m0(e,a,s,l,c,d){const m=[],h=c.keySet,g=c.catchall._zod,p=g.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const x=g.run({value:a[v],issues:[]},l);x instanceof Promise?e.push(x.then(N=>qc(N,s,v,a))):qc(x,s,v,a)}return m.length&&s.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const dC=je("$ZodObject",(e,a)=>{if(bn.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const g={...h};return Object.defineProperty(a,"shape",{value:g}),g}})}const l=Jm(()=>f0(a));Ht(e._zod,"propValues",()=>{const h=a.shape,g={};for(const p in h){const v=h[p]._zod;if(v.values){g[p]??(g[p]=new Set);for(const x of v.values)g[p].add(x)}}return g});const c=Bc,d=a.catchall;let m;e._zod.parse=(h,g)=>{m??(m=l.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],x=m.shape;for(const N of m.keys){const w=x[N]._zod.run({value:p[N],issues:[]},g);w instanceof Promise?v.push(w.then(_=>qc(_,h,N,p))):qc(w,h,N,p)}return d?m0(v,p,h,g,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),fC=je("$ZodObjectJIT",(e,a)=>{dC.init(e,a);const s=e._zod.parse,l=Jm(()=>f0(a)),c=N=>{const q=new MA(["shape","payload","ctx"]),w=l.value,_=Y=>{const D=Fb(Y);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};q.write("const input = payload.value;");const A=Object.create(null);let B=0;for(const Y of w.keys)A[Y]=`key_${B++}`;q.write("const newResult = {};");for(const Y of w.keys){const D=A[Y],O=Fb(Y);q.write(`const ${D} = ${_(Y)};`),q.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${D}.value;
        }
        
      `)}q.write("payload.value = newResult;"),q.write("return payload;");const T=q.compile();return(Y,D)=>T(N,Y,D)};let d;const m=Bc,h=!Wx.jitless,p=h&&_E.value,v=a.catchall;let x;e._zod.parse=(N,q)=>{x??(x=l.value);const w=N.value;return m(w)?h&&p&&q?.async===!1&&q.jitless!==!0?(d||(d=c(a.shape)),N=d(N,q),v?m0([],w,N,q,x,e):N):s(N,q):(N.issues.push({expected:"object",code:"invalid_type",input:w,inst:e}),N)}});function Zb(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!bl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(m=>Er(m,l,_r())))}),a)}const mC=je("$ZodUnion",(e,a)=>{bn.init(e,a),Ht(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Ht(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Ht(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Ht(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>eh(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return l(c,d);let m=!1;const h=[];for(const g of a.options){const p=g._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(g=>Zb(g,c,e,d)):Zb(h,c,e,d)}}),hC=je("$ZodIntersection",(e,a)=>{bn.init(e,a),e._zod.parse=(s,l)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},l),m=a.right._zod.run({value:c,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([g,p])=>Gb(s,g,p)):Gb(s,d,m)}});function xm(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if($i(e)&&$i(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of l){const m=xm(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};c[d]=m.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const c=e[l],d=a[l],m=xm(c,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};s.push(m.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Gb(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),bl(e))return e;const l=xm(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const pC=je("$ZodEnum",(e,a)=>{bn.init(e,a);const s=jE(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(c=>EE.has(typeof c)).map(c=>typeof c=="string"?nu(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const m=c.value;return l.has(m)||c.issues.push({code:"invalid_value",values:s,input:m,inst:e}),c}}),gC=je("$ZodTransform",(e,a)=>{bn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Jx(e.constructor.name);const c=a.transform(s.value,s);if(l.async)return(c instanceof Promise?c:Promise.resolve(c)).then(m=>(s.value=m,s));if(c instanceof Promise)throw new xl;return s.value=c,s}});function Pb(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const yC=je("$ZodOptional",(e,a)=>{bn.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Ht(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Ht(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${eh(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Pb(d,s.value)):Pb(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),bC=je("$ZodNullable",(e,a)=>{bn.init(e,a),Ht(e._zod,"optin",()=>a.innerType._zod.optin),Ht(e._zod,"optout",()=>a.innerType._zod.optout),Ht(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${eh(s.source)}|null)$`):void 0}),Ht(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),vC=je("$ZodDefault",(e,a)=>{bn.init(e,a),e._zod.optin="optional",Ht(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Qb(d,a)):Qb(c,a)}});function Qb(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const xC=je("$ZodPrefault",(e,a)=>{bn.init(e,a),e._zod.optin="optional",Ht(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),SC=je("$ZodNonOptional",(e,a)=>{bn.init(e,a),Ht(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Yb(d,e)):Yb(c,e)}});function Yb(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const NC=je("$ZodCatch",(e,a)=>{bn.init(e,a),Ht(e._zod,"optin",()=>a.innerType._zod.optin),Ht(e._zod,"optout",()=>a.innerType._zod.optout),Ht(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(m=>Er(m,l,_r()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>Er(d,l,_r()))},input:s.value}),s.issues=[]),s)}}),jC=je("$ZodPipe",(e,a)=>{bn.init(e,a),Ht(e._zod,"values",()=>a.in._zod.values),Ht(e._zod,"optin",()=>a.in._zod.optin),Ht(e._zod,"optout",()=>a.out._zod.optout),Ht(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(m=>bc(m,a.in,l)):bc(d,a.in,l)}const c=a.in._zod.run(s,l);return c instanceof Promise?c.then(d=>bc(d,a.out,l)):bc(c,a.out,l)}});function bc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const wC=je("$ZodReadonly",(e,a)=>{bn.init(e,a),Ht(e._zod,"propValues",()=>a.innerType._zod.propValues),Ht(e._zod,"values",()=>a.innerType._zod.values),Ht(e._zod,"optin",()=>a.innerType._zod.optin),Ht(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(Kb):Kb(c)}});function Kb(e){return e.value=Object.freeze(e.value),e}const _C=je("$ZodCustom",(e,a)=>{la.init(e,a),bn.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,c=a.fn(l);if(c instanceof Promise)return c.then(d=>Xb(d,s,l,e));Xb(c,s,l,e)}});function Xb(e,a,s,l){if(!e){const c={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(c.params=l._zod.def.params),a.issues.push(Fi(c))}}class EC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const c={...l,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function AC(){return new EC}const vc=AC();function CC(e,a){return new e({type:"string",...We(a)})}function OC(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...We(a)})}function Jb(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...We(a)})}function RC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...We(a)})}function TC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...We(a)})}function DC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...We(a)})}function zC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...We(a)})}function MC(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...We(a)})}function kC(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...We(a)})}function UC(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...We(a)})}function LC(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...We(a)})}function BC(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...We(a)})}function qC(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...We(a)})}function IC(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...We(a)})}function $C(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...We(a)})}function FC(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...We(a)})}function HC(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...We(a)})}function VC(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...We(a)})}function ZC(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...We(a)})}function GC(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...We(a)})}function PC(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...We(a)})}function QC(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...We(a)})}function YC(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...We(a)})}function KC(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...We(a)})}function XC(e,a){return new e({type:"string",format:"date",check:"string_format",...We(a)})}function JC(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...We(a)})}function WC(e,a){return new e({type:"string",format:"duration",check:"string_format",...We(a)})}function eO(e,a){return new e({type:"number",checks:[],...We(a)})}function tO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...We(a)})}function nO(e){return new e({type:"unknown"})}function aO(e,a){return new e({type:"never",...We(a)})}function Wb(e,a){return new o0({check:"less_than",...We(a),value:e,inclusive:!1})}function Bf(e,a){return new o0({check:"less_than",...We(a),value:e,inclusive:!0})}function ev(e,a){return new c0({check:"greater_than",...We(a),value:e,inclusive:!1})}function qf(e,a){return new c0({check:"greater_than",...We(a),value:e,inclusive:!0})}function tv(e,a){return new NA({check:"multiple_of",...We(a),value:e})}function h0(e,a){return new wA({check:"max_length",...We(a),maximum:e})}function Ic(e,a){return new _A({check:"min_length",...We(a),minimum:e})}function p0(e,a){return new EA({check:"length_equals",...We(a),length:e})}function sO(e,a){return new AA({check:"string_format",format:"regex",...We(a),pattern:e})}function rO(e){return new CA({check:"string_format",format:"lowercase",...We(e)})}function lO(e){return new OA({check:"string_format",format:"uppercase",...We(e)})}function iO(e,a){return new RA({check:"string_format",format:"includes",...We(a),includes:e})}function oO(e,a){return new TA({check:"string_format",format:"starts_with",...We(a),prefix:e})}function cO(e,a){return new DA({check:"string_format",format:"ends_with",...We(a),suffix:e})}function Wi(e){return new zA({check:"overwrite",tx:e})}function uO(e){return Wi(a=>a.normalize(e))}function dO(){return Wi(e=>e.trim())}function fO(){return Wi(e=>e.toLowerCase())}function mO(){return Wi(e=>e.toUpperCase())}function hO(e,a,s){return new e({type:"array",element:a,...We(s)})}function pO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...We(s)})}function gO(e){const a=yO(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push(Fi(l,s.value,a._zod.def));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(Fi(c))}},e(s.value,s)));return a}function yO(e,a){const s=new la({check:"custom",...We(a)});return s._zod.check=e,s}function nv(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function bO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),a){var g=s[m].types,p=g&&g[l.code];s[m]=Fm(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function vO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(x){return e.push(x)})}),a){var g=s[m].types,p=g&&g[l.code];s[m]=Fm(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function xO(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,c,d){try{return Promise.resolve(nv(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&bm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:qb(bO(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,c,d){try{return Promise.resolve(nv(function(){return Promise.resolve((s.mode==="sync"?BE:qE)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&bm({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof nh})(m))return{values:{},errors:qb(vO(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const SO=je("ZodISODateTime",(e,a)=>{PA.init(e,a),en.init(e,a)});function NO(e){return KC(SO,e)}const jO=je("ZodISODate",(e,a)=>{QA.init(e,a),en.init(e,a)});function wO(e){return XC(jO,e)}const _O=je("ZodISOTime",(e,a)=>{YA.init(e,a),en.init(e,a)});function EO(e){return JC(_O,e)}const AO=je("ZodISODuration",(e,a)=>{KA.init(e,a),en.init(e,a)});function CO(e){return WC(AO,e)}const OO=(e,a)=>{nh.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>LE(e,s)},flatten:{value:s=>UE(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,vm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,vm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ta=je("ZodError",OO,{Parent:Error}),RO=su(Ta),TO=ru(Ta),DO=lu(Ta),zO=iu(Ta),MO=FE(Ta),kO=HE(Ta),UO=VE(Ta),LO=ZE(Ta),BO=GE(Ta),qO=PE(Ta),IO=QE(Ta),$O=YE(Ta),wn=je("ZodType",(e,a)=>(bn.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Rr(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Ps(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>RO(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>DO(e,s,l),e.parseAsync=async(s,l)=>TO(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>zO(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>MO(e,s,l),e.decode=(s,l)=>kO(e,s,l),e.encodeAsync=async(s,l)=>UO(e,s,l),e.decodeAsync=async(s,l)=>LO(e,s,l),e.safeEncode=(s,l)=>BO(e,s,l),e.safeDecode=(s,l)=>qO(e,s,l),e.safeEncodeAsync=async(s,l)=>IO(e,s,l),e.safeDecodeAsync=async(s,l)=>$O(e,s,l),e.refine=(s,l)=>e.check(RR(s,l)),e.superRefine=s=>e.check(TR(s)),e.overwrite=s=>e.check(Wi(s)),e.optional=()=>lv(e),e.nullable=()=>iv(e),e.nullish=()=>lv(iv(e)),e.nonoptional=s=>jR(e,s),e.array=()=>b0(e),e.or=s=>mR([e,s]),e.and=s=>pR(e,s),e.transform=s=>ov(e,yR(s)),e.default=s=>xR(e,s),e.prefault=s=>NR(e,s),e.catch=s=>_R(e,s),e.pipe=s=>ov(e,s),e.readonly=()=>CR(e),e.describe=s=>{const l=e.clone();return vc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return vc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return vc.get(e);const l=e.clone();return vc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),g0=je("_ZodString",(e,a)=>{ah.init(e,a),wn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(sO(...l)),e.includes=(...l)=>e.check(iO(...l)),e.startsWith=(...l)=>e.check(oO(...l)),e.endsWith=(...l)=>e.check(cO(...l)),e.min=(...l)=>e.check(Ic(...l)),e.max=(...l)=>e.check(h0(...l)),e.length=(...l)=>e.check(p0(...l)),e.nonempty=(...l)=>e.check(Ic(1,...l)),e.lowercase=l=>e.check(rO(l)),e.uppercase=l=>e.check(lO(l)),e.trim=()=>e.check(dO()),e.normalize=(...l)=>e.check(uO(...l)),e.toLowerCase=()=>e.check(fO()),e.toUpperCase=()=>e.check(mO())}),FO=je("ZodString",(e,a)=>{ah.init(e,a),g0.init(e,a),e.email=s=>e.check(OC(HO,s)),e.url=s=>e.check(MC(VO,s)),e.jwt=s=>e.check(YC(rR,s)),e.emoji=s=>e.check(kC(ZO,s)),e.guid=s=>e.check(Jb(av,s)),e.uuid=s=>e.check(RC(xc,s)),e.uuidv4=s=>e.check(TC(xc,s)),e.uuidv6=s=>e.check(DC(xc,s)),e.uuidv7=s=>e.check(zC(xc,s)),e.nanoid=s=>e.check(UC(GO,s)),e.guid=s=>e.check(Jb(av,s)),e.cuid=s=>e.check(LC(PO,s)),e.cuid2=s=>e.check(BC(QO,s)),e.ulid=s=>e.check(qC(YO,s)),e.base64=s=>e.check(GC(nR,s)),e.base64url=s=>e.check(PC(aR,s)),e.xid=s=>e.check(IC(KO,s)),e.ksuid=s=>e.check($C(XO,s)),e.ipv4=s=>e.check(FC(JO,s)),e.ipv6=s=>e.check(HC(WO,s)),e.cidrv4=s=>e.check(VC(eR,s)),e.cidrv6=s=>e.check(ZC(tR,s)),e.e164=s=>e.check(QC(sR,s)),e.datetime=s=>e.check(NO(s)),e.date=s=>e.check(wO(s)),e.time=s=>e.check(EO(s)),e.duration=s=>e.check(CO(s))});function $c(e){return CC(FO,e)}const en=je("ZodStringFormat",(e,a)=>{Jt.init(e,a),g0.init(e,a)}),HO=je("ZodEmail",(e,a)=>{BA.init(e,a),en.init(e,a)}),av=je("ZodGUID",(e,a)=>{UA.init(e,a),en.init(e,a)}),xc=je("ZodUUID",(e,a)=>{LA.init(e,a),en.init(e,a)}),VO=je("ZodURL",(e,a)=>{qA.init(e,a),en.init(e,a)}),ZO=je("ZodEmoji",(e,a)=>{IA.init(e,a),en.init(e,a)}),GO=je("ZodNanoID",(e,a)=>{$A.init(e,a),en.init(e,a)}),PO=je("ZodCUID",(e,a)=>{FA.init(e,a),en.init(e,a)}),QO=je("ZodCUID2",(e,a)=>{HA.init(e,a),en.init(e,a)}),YO=je("ZodULID",(e,a)=>{VA.init(e,a),en.init(e,a)}),KO=je("ZodXID",(e,a)=>{ZA.init(e,a),en.init(e,a)}),XO=je("ZodKSUID",(e,a)=>{GA.init(e,a),en.init(e,a)}),JO=je("ZodIPv4",(e,a)=>{XA.init(e,a),en.init(e,a)}),WO=je("ZodIPv6",(e,a)=>{JA.init(e,a),en.init(e,a)}),eR=je("ZodCIDRv4",(e,a)=>{WA.init(e,a),en.init(e,a)}),tR=je("ZodCIDRv6",(e,a)=>{eC.init(e,a),en.init(e,a)}),nR=je("ZodBase64",(e,a)=>{tC.init(e,a),en.init(e,a)}),aR=je("ZodBase64URL",(e,a)=>{aC.init(e,a),en.init(e,a)}),sR=je("ZodE164",(e,a)=>{sC.init(e,a),en.init(e,a)}),rR=je("ZodJWT",(e,a)=>{lC.init(e,a),en.init(e,a)}),y0=je("ZodNumber",(e,a)=>{d0.init(e,a),wn.init(e,a),e.gt=(l,c)=>e.check(ev(l,c)),e.gte=(l,c)=>e.check(qf(l,c)),e.min=(l,c)=>e.check(qf(l,c)),e.lt=(l,c)=>e.check(Wb(l,c)),e.lte=(l,c)=>e.check(Bf(l,c)),e.max=(l,c)=>e.check(Bf(l,c)),e.int=l=>e.check(sv(l)),e.safe=l=>e.check(sv(l)),e.positive=l=>e.check(ev(0,l)),e.nonnegative=l=>e.check(qf(0,l)),e.negative=l=>e.check(Wb(0,l)),e.nonpositive=l=>e.check(Bf(0,l)),e.multipleOf=(l,c)=>e.check(tv(l,c)),e.step=(l,c)=>e.check(tv(l,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function Fn(e){return eO(y0,e)}const lR=je("ZodNumberFormat",(e,a)=>{iC.init(e,a),y0.init(e,a)});function sv(e){return tO(lR,e)}const iR=je("ZodUnknown",(e,a)=>{oC.init(e,a),wn.init(e,a)});function rv(){return nO(iR)}const oR=je("ZodNever",(e,a)=>{cC.init(e,a),wn.init(e,a)});function cR(e){return aO(oR,e)}const uR=je("ZodArray",(e,a)=>{uC.init(e,a),wn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(Ic(s,l)),e.nonempty=s=>e.check(Ic(1,s)),e.max=(s,l)=>e.check(h0(s,l)),e.length=(s,l)=>e.check(p0(s,l)),e.unwrap=()=>e.element});function b0(e,a){return hO(uR,e,a)}const dR=je("ZodObject",(e,a)=>{fC.init(e,a),wn.init(e,a),Ht(e,"shape",()=>a.shape),e.keyof=()=>v0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:rv()}),e.loose=()=>e.clone({...e._zod.def,catchall:rv()}),e.strict=()=>e.clone({...e._zod.def,catchall:cR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>TE(e,s),e.safeExtend=s=>DE(e,s),e.merge=s=>zE(e,s),e.pick=s=>OE(e,s),e.omit=s=>RE(e,s),e.partial=(...s)=>ME(x0,e,s[0]),e.required=(...s)=>kE(S0,e,s[0])});function cu(e,a){const s={type:"object",shape:e??{},...We(a)};return new dR(s)}const fR=je("ZodUnion",(e,a)=>{mC.init(e,a),wn.init(e,a),e.options=a.options});function mR(e,a){return new fR({type:"union",options:e,...We(a)})}const hR=je("ZodIntersection",(e,a)=>{hC.init(e,a),wn.init(e,a)});function pR(e,a){return new hR({type:"intersection",left:e,right:a})}const Sm=je("ZodEnum",(e,a)=>{pC.init(e,a),wn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,c)=>{const d={};for(const m of l)if(s.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new Sm({...a,checks:[],...We(c),entries:d})},e.exclude=(l,c)=>{const d={...a.entries};for(const m of l)if(s.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new Sm({...a,checks:[],...We(c),entries:d})}});function v0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new Sm({type:"enum",entries:s,...We(a)})}const gR=je("ZodTransform",(e,a)=>{gC.init(e,a),wn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Jx(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(Fi(d,s.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=s.value),m.inst??(m.inst=e),s.issues.push(Fi(m))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function yR(e){return new gR({type:"transform",transform:e})}const x0=je("ZodOptional",(e,a)=>{yC.init(e,a),wn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function lv(e){return new x0({type:"optional",innerType:e})}const bR=je("ZodNullable",(e,a)=>{bC.init(e,a),wn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function iv(e){return new bR({type:"nullable",innerType:e})}const vR=je("ZodDefault",(e,a)=>{vC.init(e,a),wn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function xR(e,a){return new vR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():t0(a)}})}const SR=je("ZodPrefault",(e,a)=>{xC.init(e,a),wn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function NR(e,a){return new SR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():t0(a)}})}const S0=je("ZodNonOptional",(e,a)=>{SC.init(e,a),wn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function jR(e,a){return new S0({type:"nonoptional",innerType:e,...We(a)})}const wR=je("ZodCatch",(e,a)=>{NC.init(e,a),wn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function _R(e,a){return new wR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const ER=je("ZodPipe",(e,a)=>{jC.init(e,a),wn.init(e,a),e.in=a.in,e.out=a.out});function ov(e,a){return new ER({type:"pipe",in:e,out:a})}const AR=je("ZodReadonly",(e,a)=>{wC.init(e,a),wn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function CR(e){return new AR({type:"readonly",innerType:e})}const OR=je("ZodCustom",(e,a)=>{_C.init(e,a),wn.init(e,a)});function RR(e,a={}){return pO(OR,e,a)}function TR(e){return gO(e)}const DR=["correlativo","no correlativo"],zR=cu({oi:$c().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:Fn(),alcance:Fn(),pma:Fn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:v0(DR).default("correlativo")}),If=cu({c1:Fn().optional().nullable(),c2:Fn().optional().nullable(),c3:Fn().optional().nullable(),c4:Fn().optional().nullable(),c5:Fn().optional().nullable(),c6:Fn().optional().nullable(),c7:$c().optional().nullable(),c7_seconds:Fn().optional().nullable(),caudal:Fn().optional().nullable(),error:Fn().optional().nullable()}),MR=cu({medidor:$c().optional(),estado:Fn().int().min(0).max(5).default(0),q3:If.optional(),q2:If.optional(),q1:If.optional(),conformidad:$c().optional()});cu({estado:Fn().int().min(0).optional(),rows:Fn().int().min(1).default(15),rowsData:b0(MR)});function kR(e){return e===16?25.6:e===10?16:NaN}const UR=/^[A-Za-z0-9]{10}$/,LR=e=>(e??"").trim().toUpperCase(),an=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},ml=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],Nm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},cv=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}Nm(a)}},On=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function BR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],c=s[2],d=parseInt(c,10)+a;return`${l}${d.toString().padStart(c.length,"0")}`}function uv(e,a,s){return e?s==="no correlativo"?e.slice(0,4):BR(e,a):""}function $f(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let l=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,m=s[2]||0;l=c*60+d+m/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),m=(c-d)*100;l=d*60+m}}return l}function Ff(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function Hf(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function qR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const c=Math.abs(a),d=Math.abs(s),m=Math.abs(l),h=!(c>2.05||d>2.05||m>5.05),g=c<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(s),x=Math.sign(l),N=p>=0&&v>=0&&x>=0||p<=0&&v<=0&&x<=0,q=h&&g;return N?q?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const hl=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const c=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return i.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?i.jsx("span",{className:"text-muted",children:"-"}):i.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=s??l??0,h=l??s??0;let g="vi-e-ok";return e==null||isNaN(e)?g="":h>0&&d>h?g="vi-e-error":m>0&&d>m&&(g="vi-e-warn"),i.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?i.jsx("span",{className:"text-muted",children:"-"}):i.jsx("span",{className:`vi-qe-value fw-bold ${g}`,children:c(e)})})};function IR({show:e,title:a,initial:s,onClose:l,onSubmit:c,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:g,readOnly:p,draftStorageKey:v,draftMeta:x,isOnline:N,showRetry:q}){const w={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},_=p===!0,A=N!==!1,{register:B,control:T,handleSubmit:Y,reset:D,setValue:O,getValues:H}=Qc({defaultValues:w}),U=B("rows",{valueAsNumber:!0}),{fields:K,replace:ce,append:_e,remove:ve}=h_({control:T,name:"rowsData"}),[fe,Se]=b.useState(0),De=b.useRef(0),Oe=b.useRef(null),[M,I]=b.useState(0),W=0,ye=5,we=()=>{if(M>=ye){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}I(Q=>Math.min(Q+1,ye))},j=()=>{if(M<=W){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}I(Q=>Math.max(Q-1,W))},Z=b.useRef(null),[ie,k]=b.useState([]),oe=!!s?.version,pe=b.useRef("rows"),Re=b.useRef(null),Ie=b.useRef(null),de=b.useRef(null),ke=b.useRef(new Map),$e=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{s?.rowsData?.length&&K.forEach((Q,ne)=>{if(ne===0)return;s.rowsData[ne]?.medidor&&ke.current.set(Q.id,!0)})},[s,K]);const Fe=b.useCallback(Q=>{const ne=Q<0?0:Q;Se(ne),requestAnimationFrame(()=>{const Ee=document.querySelector(`input.vi-medidor-input[data-row="${ne}"]`);Ee&&(Ee.focus(),Ee.select())})},[]),ut=()=>(H("rowsData")??[]).slice(0,K.length);b.useEffect(()=>{De.current=fe},[fe]);const Te=Q=>{const ne=Q.target;if(!ne)return;const Ee=ne.tagName;if(Ee!=="INPUT"&&Ee!=="SELECT"&&Ee!=="TEXTAREA")return;const Ve=Q.key;if(Ve==="Escape"){Q.preventDefault(),xn();return}if(Ve==="ArrowUp"||Ve==="ArrowDown"||Ve==="ArrowLeft"||Ve==="ArrowRight"||Ve==="Enter"){const un=ne.name;if(!un||!un.startsWith("rowsData."))return;const Tt=un.match(/^rowsData\.(\d+)\.(.+)$/);if(!Tt)return;const dt=parseInt(Tt[1],10),vt=Tt[2],At=Q.currentTarget,sn=K.length-1,ee=(Ne,ze)=>{let Be=Ne+ze;for(;Be>=0&&Be<=sn;){const gt=`[name="rowsData.${Be}.${vt}"]`,Ct=At.querySelector(gt);if(Ct&&!Ct.disabled)return{index:Be,el:Ct};Be+=ze}return null};if(Ve==="ArrowUp"||Ve==="ArrowDown"){Q.preventDefault();const ze=ee(dt,Ve==="ArrowUp"?-1:1);ze&&cv(vt,ze.el);return}if(Ve==="ArrowLeft"||Ve==="ArrowRight"){Q.preventDefault();const Ne=ml.indexOf(vt);if(Ne===-1)return;const Be=Ne+(Ve==="ArrowRight"?1:-1);if(Be<0||Be>=ml.length)return;const gt=ml[Be],Ct=`[name="rowsData.${dt}.${gt}"]`,_n=At.querySelector(Ct);_n&&!_n.disabled&&Nm(_n);return}if(Ve==="Enter"){Q.preventDefault();const Ne=ml.indexOf(vt);if(Ne===-1)return;const ze=ee(dt,1);if(ze){cv(vt,ze.el);return}const Be=Ne+1;if(Be<ml.length){const gt=ml[Be];for(let Ct=0;Ct<=sn;Ct++){const _n=`[name="rowsData.${Ct}.${gt}"]`,Gn=At.querySelector(_n);if(Gn&&!Gn.disabled){Nm(Gn);return}}}Z.current&&Z.current.focus();return}}if(Ve!=="Tab")return;const nt=Q.currentTarget,rt=Array.from(nt.querySelectorAll("input, select, textarea")).filter(Dt=>!Dt.hasAttribute("disabled")),Ke=rt.indexOf(ne);if(Ke===-1)return;if(Ve==="Tab"&&Q.shiftKey){Ke>0&&(Q.preventDefault(),rt[Ke-1].focus());return}const Lt=Ke+1;if(Lt<rt.length){Q.preventDefault(),rt[Lt].focus();return}Z.current&&(Q.preventDefault(),Z.current.focus())},Pe=(Q,ne)=>{ce(Q),O("rows",Q.length),Se(Ee=>Q.length===0?0:typeof ne=="number"?Math.max(0,Math.min(ne,Q.length-1)):Math.min(Ee,Q.length-1))},me=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),He=Q=>Q==null?"":typeof Q=="number"?Q:typeof Q=="string"?Q.replace(",","."):Q,Ae=Q=>{if(!Q)return{};const ne={...Q};return["c1","c2","c3","c4","c5","c6"].forEach(Ee=>{ne[Ee]=He(ne[Ee])}),ne},Je=()=>{const Q=s?.rowsData?.length??s?.rows??15,ne=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:Q}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(Ee=>({medidor:Ee.medidor??"",estado:Ee.estado??0,q3:Ae(Ee.q3),q2:Ae(Ee.q2),q1:Ae(Ee.q1)}));return{rows:ne.length,rowsData:ne,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},C=b.useCallback(()=>{const Q=H(),ne=Q.rowsData??[];return{estado:Q.estado??0,rows:Number(Q.rows??ne.length),version:Q.version??s?.version??null,rowsData:ne,draftCreatedAt:Q.draftCreatedAt??s?.draftCreatedAt??null,draftId:Q.draftId??s?.draftId??null}},[H,s?.version,s?.draftCreatedAt,s?.draftId]),G=Q=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:Q}:null,R=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,P=Q=>Q==null||Q===""||typeof Q=="number"&&Number.isNaN(Q),V=Q=>Q?Number(Q.estado??0)!==0||Q.medidor&&Q.medidor.toString().trim()!==""?!0:Ce(Q):!1,se=Q=>(Q.rowsData??[]).some(Ee=>V(Ee)),Ce=Q=>{const ne=[Q.q3,Q.q2,Q.q1];for(const Ee of ne)if(Ee){for(const Ve of $e)if(!P(Ee[Ve]))return!0}return!1},Le=Q=>Q?{...Q,c4:null,c5:null}:{c4:null,c5:null},te=Q=>{if(!Q)return Q;const ne={...Q};return P(ne.c4)&&(ne.c4=null),P(ne.c5)&&(ne.c5=null),ne},Ue=Q=>{for(let ne=0;ne<Q.length;ne++){const Ee=Q[ne],Ve=Number(Ee.estado??0),nt=Ve!==0;if(!V(Ee))continue;if(!Ee.medidor||Ee.medidor.toString().trim()==="")return`La fila ${ne+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Ke=[{name:"Q3 (Nominal)",block:Ee.q3},{name:"Q2 (Transicin)",block:Ee.q2},{name:"Q1 (Mnimo)",block:Ee.q1}],Qt=Ke.some(({block:Lt})=>Lt&&$e.some(Dt=>!P(Lt[Dt])));if(Ve===0&&!Qt)return`La fila ${ne+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!nt)for(const{name:Lt,block:Dt}of Ke){if(!Dt||!$e.some(dt=>!P(Dt[dt])))continue;if($e.some(dt=>P(Dt[dt])))return`La fila ${ne+1} tiene datos incompletos en el bloque ${Lt}. Completa todos los campos o elimina la fila.`}}return null},Ze=Q=>Q==null||Q===""?null:String(Q).replace(/\./g,","),at=Q=>{if(!Q)return{};const ne={...Q};return["c1","c2","c3","c4","c5","c6","c7"].forEach(Ee=>{ne[Ee]=Ze(ne[Ee])}),ne},Vt=Q=>{const ne=[];let Ee=null;const Ve=(rt,Ke,Qt)=>{ne[rt]||(ne[rt]={}),ne[rt][Ke]=Qt,Ee||(Ee=`Fila ${rt+1}: ${Qt}`)},nt={};return Q.forEach(rt=>{const Ke=(rt.medidor??"").trim();Ke&&(nt[Ke]=(nt[Ke]??0)+1)}),Q.forEach((rt,Ke)=>{const Qt=rt.q3||{},Lt=rt.q2||{},Dt=rt.q1||{},un=Qt.c4,Tt=Qt.c5,dt=Lt.c4,vt=Lt.c5,At=Dt.c4,sn=Dt.c5;un!=null&&Tt!=null&&!Number.isNaN(un)&&!Number.isNaN(Tt)&&Tt<un&&Ve(Ke,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),dt!=null&&vt!=null&&!Number.isNaN(dt)&&!Number.isNaN(vt)&&vt<dt&&Ve(Ke,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),At!=null&&sn!=null&&!Number.isNaN(At)&&!Number.isNaN(sn)&&sn<At&&Ve(Ke,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),Tt!=null&&dt!=null&&!Number.isNaN(Tt)&&!Number.isNaN(dt)&&dt<Tt&&Ve(Ke,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),vt!=null&&At!=null&&!Number.isNaN(vt)&&!Number.isNaN(At)&&At<vt&&Ve(Ke,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const ee=(rt.medidor??"").trim();ee&&nt[ee]>1&&Ve(Ke,"medidor_dup","Serie de medidor repetida."),ee&&!UR.test(ee)&&Ve(Ke,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:ne,firstMessage:Ee}},xe=Q=>{if(_)return;const ne=(Q.rowsData??[]).slice(0,K.length),Ee=Ue(ne);if(Ee){alert(Ee);return}const{rowErrors:Ve,firstMessage:nt}=Vt(ne);if(k(Ve),nt){alert(nt);return}const Ke=ne.filter(V).map(Lt=>{const Dt=Number(Lt.estado??0),un=Dt>=1&&Dt<=4,Tt=Dt===5&&!Ce(Lt),dt=un||Tt,vt=te(Lt.q3),At=te(Lt.q2),sn=te(Lt.q1),ee=Ne=>{if(dt){const ze=Le(Ne);return at(ze)}return at(Ne)};return{...Lt,q3:ee(vt),q2:ee(At),q1:ee(sn)}}),Qt={...Q,rows:Ke.length,rowsData:Ke,version:Q.version??s?.version??null};c(Qt)},et=Ci({control:T,name:"rowsData.0"}),Ut=Ci({control:T,name:"rowsData"}),Et=Ci({control:T,name:"rowsData.0.q3.c7"}),vn=Ci({control:T,name:"rowsData.0.q2.c7"}),Tn=Ci({control:T,name:"rowsData.0.q1.c7"});b.useEffect(()=>{K[0]&&(O("rowsData.0.q3.c7_seconds",$f(Et)),O("rowsData.0.q2.c7_seconds",$f(vn)),O("rowsData.0.q1.c7_seconds",$f(Tn)))},[Et,vn,Tn,O,K]),b.useEffect(()=>{const Q=Ut??[],{rowErrors:ne}=Vt(Q);k(ne)},[Ut]),b.useEffect(()=>{if(!et||K.length<=1)return;const Q=Ut??[];K.forEach((ne,Ee)=>{if(Ee===0)return;const Ve=ne.id;(ke.current.get(Ve)??!1)||O(`rowsData.${Ee}.medidor`,uv(et.medidor||"",Ee,m));const rt=Q[Ee]?.estado;(rt==null||Number.isNaN(rt))&&O(`rowsData.${Ee}.estado`,et.estado),O(`rowsData.${Ee}.q3.c1`,et.q3?.c1??null),O(`rowsData.${Ee}.q3.c2`,et.q3?.c2??null),O(`rowsData.${Ee}.q3.c3`,et.q3?.c3??null),O(`rowsData.${Ee}.q3.c6`,et.q3?.c6??null),O(`rowsData.${Ee}.q3.c7`,et.q3?.c7??""),O(`rowsData.${Ee}.q3.c7_seconds`,et.q3?.c7_seconds??null),O(`rowsData.${Ee}.q2.c1`,et.q2?.c1??null),O(`rowsData.${Ee}.q2.c2`,et.q2?.c2??null),O(`rowsData.${Ee}.q2.c3`,et.q2?.c3??null),O(`rowsData.${Ee}.q2.c6`,et.q2?.c6??null),O(`rowsData.${Ee}.q2.c7`,et.q2?.c7??""),O(`rowsData.${Ee}.q2.c7_seconds`,et.q2?.c7_seconds??null),O(`rowsData.${Ee}.q1.c1`,et.q1?.c1??null),O(`rowsData.${Ee}.q1.c2`,et.q1?.c2??null),O(`rowsData.${Ee}.q1.c3`,et.q1?.c3??null),O(`rowsData.${Ee}.q1.c6`,et.q1?.c6??null),O(`rowsData.${Ee}.q1.c7`,et.q1?.c7??""),O(`rowsData.${Ee}.q1.c7_seconds`,et.q1?.c7_seconds??null)})},[et,Ut,K,O,m]),b.useEffect(()=>{Se(Q=>{const ne=Math.max(K.length-1,0);return Q>ne?ne:Q})},[K.length]);const Da=()=>{if(K.length>=50){if(O("rows",50),Fe(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){Oe.current&&(Oe.current.focus(),Oe.current.select());return}return}_e(me()),O("rows",K.length+1),Fe(K.length)},In=Q=>{if(K.length<=1)return;const ne=Math.max(0,Math.min(Q,K.length-1));ve(ne),O("rows",Math.max(K.length-1,1)),Fe(Math.max(0,ne-(ne===K.length-1?1:0)))},st=()=>{K.length<=1||(ve(K.length-1),O("rows",Math.max(K.length-1,1)),Fe(Math.max(0,K.length-2)))},ia=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const Q=ut();if(!Q.length)return;const ne=Q.map(()=>me());Pe(ne,0),Fe(0)},Zn=()=>{let Q=Number(H("rows"));if((!Number.isFinite(Q)||Q<1)&&(Q=1),Q>50){const Ve=ut();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){O("rows",Ve.length),Oe.current&&(Oe.current.focus(),Oe.current.select());return}Q=50}const ne=ut();if(Q!==ne.length&&!confirm(`La lista tendr ${Q} filas. Quieres continuar?`)){O("rows",ne.length),Oe.current&&(Oe.current.focus(),Oe.current.select());return}if(Q===ne.length){O("rows",Q);return}if(Q>ne.length){const Ve=Math.min(Q,50)-ne.length;if(Ve>0){const nt=Array.from({length:Ve},()=>me()),rt=[...ne,...nt];Pe(rt,fe),Fe(ne.length)}else O("rows",ne.length);return}const Ee=ne.slice(0,Q);Pe(Ee,Math.min(fe,Q-1))},oa=Q=>{Q.key==="Enter"&&(Q.preventDefault(),Zn(),Fe(0))},xn=()=>{const Q=H(),ne=document.activeElement;if(Oe.current&&ne===Oe.current)pe.current="rows",Re.current="rows";else if(ne&&ne instanceof HTMLElement){const Ee=ne.getAttribute("name");Ee&&Ee.startsWith("rowsData.")?(pe.current="grid",Re.current=Ee):(pe.current="grid",Re.current=null)}else pe.current="grid",Re.current=null;if(v){const Ee=C();if(!se(Ee))Vs(v),de.current=null;else{const Ve=G(Ee);if(Ve){const nt=JSON.stringify(Ve);Mi(v,Ve,R()),de.current=nt}}}d&&d(Q),l()};b.useEffect(()=>{if(!e)return;const Q=ne=>{if(ne.key==="Escape"){ne.preventDefault(),xn();return}if((ne.key==="+"||ne.key==="=")&&ne.ctrlKey){ne.preventDefault(),Da();return}(ne.key==="-"||ne.key==="_")&&ne.ctrlKey&&(ne.preventDefault(),st())};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[e,Da,st,xn]),b.useEffect(()=>{const Q=Je();D(Q),Pe(Q.rowsData,0),ke.current.clear(),requestAnimationFrame(()=>{if(oe)Fe(0);else if(Re.current){const ne=document.querySelector(`[name="${Re.current}"]`);if(ne){ne.focus(),"select"in ne&&ne.select?.();return}Fe(De.current||0)}else Oe.current&&(Oe.current.focus(),Oe.current.select())})},[s,D,ce,Fe,oe]),b.useEffect(()=>{if(!e||!v)return;const Q=C();if(!se(Q)){Vs(v),de.current=null;return}const ne=G(Q);if(!ne)return;const Ee=JSON.stringify(ne);if(Ee!==de.current)return Ie.current&&window.clearTimeout(Ie.current),Ie.current=window.setTimeout(()=>{Mi(v,ne,R()),de.current=Ee},400),()=>{Ie.current&&window.clearTimeout(Ie.current)}},[e,v,Ut,C]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(oe)Fe(0);else if(Re.current){const Q=document.querySelector(`[name="${Re.current}"]`);if(Q){Q.focus(),"select"in Q&&Q.select?.();return}Fe(De.current||0)}else Oe.current&&(Oe.current.focus(),Oe.current.select())})},[e,Fe,oe]);const Sn=ie.some(Q=>Q&&Object.values(Q).some(Boolean));return e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:Q=>{Q.target===Q.currentTarget&&xn()},children:[i.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),i.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:i.jsx("div",{className:"modal-content",children:i.jsxs("form",{onSubmit:Y(xe),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:a}),i.jsx("button",{type:"button",className:"btn-close",onClick:xn,"aria-label":"Close"})]}),i.jsx("fieldset",{disabled:_,children:i.jsxs("div",{className:"modal-body p-2",children:[!A&&i.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),i.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[i.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[i.jsx("label",{className:"form-label mb-1",children:"Filas"}),i.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...U,ref:Q=>{Oe.current=Q,U.ref(Q)},onBlur:Zn,onKeyDown:oa})]}),i.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Da,children:"+ Agregar Fila"}),i.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:st,children:"- Quitar ltima fila"}),i.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ia,children:"Limpiar Todo"})]}),i.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:we,children:"Aumentar tamao"}),i.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:j,children:"Reducir tamao"})]}),i.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",fe+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),i.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:i.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${M}`,children:[i.jsxs("thead",{className:"table-light sticky-top z-1",children:[i.jsxs("tr",{children:[i.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),i.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),i.jsx("th",{style:{width:"90px"},children:"Estado"}),i.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),i.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),i.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),i.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),i.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),i.jsxs("tr",{style:{fontSize:"0.75rem"},children:[i.jsx("th",{className:"vi-row-index"}),i.jsx("th",{className:"vi-sticky-medidor"}),i.jsx("th",{}),i.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),i.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),i.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),i.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),i.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),i.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),i.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),i.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),i.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),i.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),i.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),i.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),i.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),i.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),i.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),i.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),i.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),i.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),i.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),i.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),i.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),i.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),i.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),i.jsx("th",{className:"vi-header-quitar"})]})]}),i.jsx("tbody",{onKeyDown:Te,children:K.map((Q,ne)=>{const Ee=ne===0,Ve=Ut?.[ne]||{},nt=ie[ne]||{},rt=Number(Ve.estado??0),Ke=rt>=1&&rt<=4,Qt=Ve.q3?.c6,Lt=Ve.q3?.c7_seconds,Dt=Ve.q3?.c4,un=Ve.q3?.c5,Tt=Ff(Qt,Lt),dt=Hf(Dt,un,Qt),vt=Ve.q2?.c6,At=Ve.q2?.c7_seconds,sn=Ve.q2?.c4,ee=Ve.q2?.c5,Ne=Ff(vt,At),ze=Hf(sn,ee,vt),Be=Ve.q1?.c6,gt=Ve.q1?.c7_seconds,Ct=Ve.q1?.c4,_n=Ve.q1?.c5,Gn=Ff(Be,gt),Un=Hf(Ct,_n,Be),$t=qR(Ve.estado,dt,ze,Un),Tr=[Ee?"vi-base-row":"",fe===ne?"table-active":""].filter(Boolean).join(" "),za=B(`rowsData.${ne}.medidor`),En=LR(Ve.medidor??""),Pn=En?h?.[En]?.message:"",Ka=nt.medidor_format||nt.medidor_dup||Pn||"",Dr=!!Ka,Xa=($t||"").toUpperCase(),Qs=Xa==="NO CONFORME"?"vi-at-valor--fail":Xa==="CONFORME"?"vi-at-valor--ok":"";return i.jsxs("tr",{className:Tr,onMouseEnter:()=>Se(ne),onClick:()=>Se(ne),onFocusCapture:()=>Se(ne),children:[i.jsx("td",{className:"small vi-row-index",children:ne+1}),i.jsx("td",{className:"vi-sticky-medidor",children:i.jsx("input",{"data-row":ne,"data-row-id":Q.id,...za,size:1,style:{minWidth:"100%"},disabled:Ke,onInput:an,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Dr?"vi-error-cell":""].filter(Boolean).join(" "),title:Ka||"",onChange:rn=>{const Ma=H(`rowsData.${ne}.medidor`);if(za.onChange(rn),g?.(Ma),ne===0)return;const Qn=rn.currentTarget.value.trim();if(!Qn){ke.current.delete(Q.id);return}const dn=uv(et?.medidor??"",ne,m);dn&&dn===Qn?ke.current.delete(Q.id):ke.current.set(Q.id,!0)}})}),i.jsx("td",{children:i.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...B(`rowsData.${ne}.estado`,{valueAsNumber:!0}),children:[i.jsx("option",{value:0,children:"0"}),i.jsx("option",{value:1,children:"1"}),i.jsx("option",{value:2,children:"2"}),i.jsx("option",{value:3,children:"3"}),i.jsx("option",{value:4,children:"4"}),i.jsx("option",{value:5,children:"5"})]})}),i.jsx("td",{className:"border-start border-dark",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q3.c1`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q3.c2`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q3.c3`,{setValueAs:On})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:an,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q3_li?" vi-error-cell":""),title:nt.q3_li||"",...B(`rowsData.${ne}.q3.c4`,{setValueAs:On})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:an,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q3_lf?" vi-error-cell":""),title:nt.q3_lf||"",...B(`rowsData.${ne}.q3.c5`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q3.c6`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q3.c7`),placeholder:"m,ss,ms"})}),i.jsx(hl,{val:Tt}),i.jsx(hl,{val:dt,isErr:!0,warnThreshold:2,failThreshold:5}),i.jsx("td",{className:"border-start border-dark",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q2.c1`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q2.c2`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q2.c3`,{setValueAs:On})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:an,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q2_li?" vi-error-cell":""),title:nt.q2_li||"",...B(`rowsData.${ne}.q2.c4`,{setValueAs:On})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:an,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q2_lf?" vi-error-cell":""),title:nt.q2_lf||"",...B(`rowsData.${ne}.q2.c5`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q2.c6`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q2.c7`),placeholder:"m,ss,ms"})}),i.jsx(hl,{val:Ne}),i.jsx(hl,{val:ze,isErr:!0,warnThreshold:2,failThreshold:5}),i.jsx("td",{className:"border-start border-dark",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q1.c1`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q1.c2`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q1.c3`,{setValueAs:On})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:an,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q1_li?" vi-error-cell":""),title:nt.q1_li||"",...B(`rowsData.${ne}.q1.c4`,{setValueAs:On})})}),i.jsx("td",{className:"bg-white",children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:an,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q1_lf?" vi-error-cell":""),title:nt.q1_lf||"",...B(`rowsData.${ne}.q1.c5`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q1.c6`,{setValueAs:On})})}),i.jsx("td",{children:i.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:an,disabled:!Ee||Ke,...B(`rowsData.${ne}.q1.c7`),placeholder:"m,ss,ms"})}),i.jsx(hl,{val:Gn}),i.jsx(hl,{val:Un,isErr:!0,warnThreshold:5,failThreshold:5}),i.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${Qs}`,children:$t}),i.jsx("td",{className:"text-center align-middle bg-light",children:i.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:rn=>{rn.stopPropagation(),In(ne)},disabled:K.length<=1,title:"Eliminar esta fila",children:""})})]},Q.id)})})]})})]})}),i.jsxs("div",{className:"modal-footer py-1",children:[i.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:xn,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:Z,disabled:Sn||_,children:q&&A?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),i.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function uu({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[m,h]=b.useState(""),g=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>g.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const x=N=>{N.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const v=x=>{x.preventDefault(),p&&d(m.trim())};return i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:i.jsx("div",{className:"modal-dialog",children:i.jsxs("form",{className:"modal-content",onSubmit:v,children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"mb-3",children:[i.jsx(Ii,{label:"Contrasea",inputId:"pwd",value:m,onChange:x=>h(x.target.value),inputRef:g,minLength:1,required:!0}),i.jsx("div",{className:"form-text",children:l})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:c,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function $R(e,a){try{const{data:s}=await Ye.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function FR(e,a){try{const{data:s}=await Ye.patch(`/oi/${e}/code`,{code:a});return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar el codigo de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function HR(e,a){try{const{data:s}=await Ye.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function VR(e){try{const{data:a}=await Ye.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function dv(e,a){try{const{data:s}=await Ye.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function ZR(e,a){try{const{data:s}=await Ye.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function GR(e,a){try{const{data:s}=await Ye.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function PR(e,a){try{const{data:s}=await Ye.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function fv(e){try{await Ye.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function N0(e,a){let s;try{s=await Ye.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const N=await x.text();try{const w=JSON.parse(N)?.detail;typeof w=="string"?v=w:Array.isArray(w)&&w.length>0?v=w.map(_=>String(_?.msg??"")).filter(Boolean).join(", "):N&&(v=N)}catch{N&&(v=N)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=s.data,m=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),g=document.createElement("a");g.href=h,g.download=m,document.body.appendChild(g),g.click(),URL.revokeObjectURL(h),g.remove()}async function QR(e){await Ye.delete(`/oi/${e}`)}async function YR(e){try{const{data:a}=await Ye.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function Sc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Ye.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function KR(e,a){try{const{data:s}=await Ye.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(l);throw c.status=s?.response?.status,c}}async function Vf(e){try{const{data:a}=await Ye.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function XR(e){try{const{data:a}=await Ye.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function JR(e){let a;try{a=await Ye.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const g=m?.response?.data;if(g instanceof Blob)try{const v=await g.text();try{const N=JSON.parse(v)?.detail;typeof N=="string"?h=N:Array.isArray(N)&&N.length>0?h=N.map(q=>String(q?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function WR(){try{const{data:e}=await Ye.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function Zf(e){try{const{data:a}=await Ye.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const sh="vi.currentOI";function ki(e){sessionStorage.setItem(sh,JSON.stringify(e))}function mv(){const e=sessionStorage.getItem(sh);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function jm(){sessionStorage.removeItem(sh)}const Gf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Pf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},eT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Gf(e.q3),q2:Gf(e.q2),q1:Gf(e.q1)}),tT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Pf(e.q3),q2:Pf(e.q2),q1:Pf(e.q1)}),j0=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),nT=e=>e.reduce((a,s)=>a+(s.rows??0),0),aT=e=>JSON.parse(JSON.stringify(e)),hv=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),pv=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:j0(e),sT=(e,a)=>e==="view"&&a?"view":"edit",gv=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}T${c(l.getHours())}:${c(l.getMinutes())}`},rT=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},w0=e=>(e??"").trim().toUpperCase(),lT=e=>{const a={};e.forEach(l=>{const c=w0(l.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),l.bancada_item!=null&&!a[c].items.includes(l.bancada_item)&&a[c].items.push(l.bancada_item),l.bancada_id!=null&&!a[c].ids.includes(l.bancada_id)&&a[c].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,g)=>h-g).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},iT="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",oT=(e,a=!0)=>{const l=b.useContext(Oa)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const c=l.block(d=>{const m={...d,retry(){c(),d.retry()}};e(m)});return c},[l,e,a])},cT=e=>{const a=Ye.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},uT=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Nc=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function yv(){const{toast:e}=Cr(),a=Ar(),s=Vn(),{oiId:l}=vj(),[c,d]=Fv(),m=uT(),{data:h}=jr({queryKey:["catalogs"],queryFn:Km}),{register:g,handleSubmit:p,watch:v,formState:{errors:x},reset:N,getValues:q}=Qc({resolver:xO(zR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),w=Rn(),_=w?.userId??null,A=w?.bancoId??qi(),B=Aa(w?.role,w?.username)!=="technician",T=mv(),Y=l?Number(l):null,D=Number.isFinite(Y)?Y:null,O=D!=null||(T?.id??null)!=null,H=(c.get("mode")||"").toLowerCase(),U=sT(H,O),K=U==="view",ce=U==="edit",[_e,ve]=b.useState(!1),[fe,Se]=b.useState(!1),[De,Oe]=b.useState(null),[M,I]=b.useState(null),[W,ye]=b.useState(!1),we=fe||K,[j,Z]=b.useState(!1),[ie,k]=b.useState(null),[oe,pe]=b.useState(null),[Re,Ie]=b.useState(null),[de,ke]=b.useState(!1),[$e,Fe]=b.useState(""),[ut,Te]=b.useState(null),[Pe,me]=b.useState("bancada"),[He,Ae]=b.useState(!1),[Je,C]=b.useState(!1),[G,R]=b.useState(null),P=b.useRef([]),V=b.useRef(null),se=b.useRef(!1),Ce=b.useRef(!1),Le=b.useRef(!1),te=b.useRef(null),Ue=b.useRef(!1),Ze=b.useRef(m),at=b.useRef(!1),Vt=b.useRef(!1),[xe,et]=b.useState(null),[Ut,Et]=b.useState(null),[vn,Tn]=b.useState([]),[Da,In]=b.useState(!1),[st,ia]=b.useState(null),[Zn,oa]=b.useState(!1),[xn,Sn]=b.useState(null),[Q,ne]=b.useState(0),[Ee,Ve]=b.useState({}),[nt,rt]=b.useState({}),Ke=s.state?.returnTo,Qt=()=>typeof Ke=="string"&&Ke?Ke:"/oi/list",Lt=E=>{const F=new URLSearchParams(c);F.set("mode",E),d(F,{replace:!0})},Dt="new",un=15,Tt=E=>E?`bancada-${E.id}`:Dt,dt=E=>E==null?!1:typeof E=="string"?E.trim()!=="":typeof E=="number"?Number.isFinite(E):!0,vt=E=>E==="c7_seconds"||E==="caudal"||E==="error",At=E=>E?Object.entries(E).some(([F,he])=>vt(F)?!1:dt(he)):!1,sn=E=>!E||!Array.isArray(E.rowsData)?!1:E.rowsData.some(F=>{if(!F)return!1;if(Number(F.estado??0)!==0)return!0;const Me=F.medidor;return typeof Me=="string"&&Me.trim()!==""?!0:At(F.q3)||At(F.q2)||At(F.q1)}),ee=(E=un)=>Array.from({length:E}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),Ne=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,ze=E=>({draftId:Ne(),draftCreatedAt:new Date().toISOString(),estado:0,rows:un,rowsData:ee(),version:null}),Be=E=>{const F=new URLSearchParams(s.search);F.set("mode","edit");const he=s.pathname==="/oi"||s.pathname==="/oi/"?E?`/oi/${E}`:"/oi":s.pathname,Me=F.toString();return Me?`${he}?${Me}`:he},gt=(E,F)=>!E||!_||A==null?null:{version:1,ts:new Date().toISOString(),userId:_,bankId:A,oiId:E,oiCode:q("oi")??null,returnTo:Be(E),mode:"edit",modal:F},Ct=()=>{if(Da)return st?{type:"bancada",bancadaId:st.id}:{type:"bancada",isNew:!0}},_n=E=>Mf({userId:_,bankId:A,oiId:E,type:"bancada",isNew:!0}),Gn=E=>{const F=_n(E);if(!F)return null;const he=kf(F);if(!he||!_||A==null||!E||he.userId!==_||he.bankId!==A||he.oiId!==E)return null;const Me=he?.data??null;return sn(Me)?Me:(Vs(F),null)},Un=(E,F)=>{const he=_n(E);if(!he)return;if(!F||!sn(F)){Vs(he);return}if(!_||A==null||!E)return;const Me={version:1,ts:new Date().toISOString(),userId:_,bankId:A,oiId:E,isNew:!0,data:F},lt=gt(E,{type:"bancada",isNew:!0});Mi(he,Me,lt)},$t=E=>Mf({userId:_,bankId:A,oiId:E,type:"header"}),Tr=E=>{if(!E)return null;const F=kf(E);return!F||!_||A==null||F.userId!==_||F.bankId!==A||xe!=null&&F.oiId!==xe?null:F?.data??null},za=(E,F)=>{if(!E||!_||A==null)return;const he=xe??0,Me={version:1,ts:new Date().toISOString(),userId:_,bankId:A,oiId:he,data:F},lt=gt(xe,Ct());Mi(E,Me,lt)},En=E=>{E&&Vs(E)},Pn=E=>{const F={};return E.q3!=null&&(F.q3=Number(E.q3)),E.alcance!=null&&(F.alcance=Number(E.alcance)),E.pma!=null&&(F.pma=Number(E.pma)),E.numeration_type&&(F.numeration_type=E.numeration_type),F},Ka=(E,F)=>Mf({userId:_,bankId:A,oiId:E,type:"bancada",bancadaId:F}),Dr=(E,F)=>{const he=Ka(E,F);if(!he)return null;const Me=kf(he);if(!Me||!_||A==null||!E||!F||Me.userId!==_||Me.bankId!==A||Me.oiId!==E)return null;const lt=Me?.data??null;return sn(lt)?lt:(Vs(he),null)},Xa=(E,F,he)=>{const Me=Ka(E,F);if(!Me)return;if(!sn(he)){Vs(Me);return}if(!_||A==null||!E||!F)return;const lt={version:1,ts:new Date().toISOString(),userId:_,bankId:A,oiId:E,bancadaId:F,data:he},Ot=gt(E,{type:"bancada",bancadaId:F});Mi(Me,lt,Ot)},Qs=(E,F)=>{const he=Ka(E,F);he&&Vs(he)},rn=$t(xe);b.useEffect(()=>{h&&N(E=>({...E,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,N]),b.useEffect(()=>{const E=mv(),F=D??E?.id??null;if(!F){et(null),Tn([]),P.current=[],V.current=null,Sn(null),ne(0),Et(null),pe(null),Ie(null),Z(!1),Se(!1),Oe(null),I(null),ye(!1),k(null);return}(async()=>{try{const he=await Vf(F);et(he.id),ki({id:he.id,code:he.code}),Tn(he.bancadas??[]),P.current=aT(he.bancadas??[]),V.current=he.updated_at??null,Sn(he.medidores_usuario??null),ne(he.medidores_total_code??0),pe(he.saved_at??null),Ie(he.created_at??null),Et(he.updated_at??he.created_at);const Me={oi:he.code,q3:he.q3,alcance:he.alcance,pma:he.pma,numeration_type:he.numeration_type??"correlativo"};N(Me),Z(!1),Se(he.read_only_for_current_user??!1),Oe(he.locked_by_full_name??null),I(he.locked_by_user_id??null),ye((he.locked_by_user_id??null)===_),k(Me)}catch{jm()}})()},[N,_,D]),b.useEffect(()=>{if(!xe||nt[Dt])return;const E=Gn(xe);E&&(rt(F=>({...F,[Dt]:E})),e({kind:"info",message:"Se restauro un borrador local."}))},[xe,nt,e]),b.useEffect(()=>{if(!xe||!_||!ce)return;let E=!1;return(async()=>{const F=he=>{Se(he?.read_only_for_current_user??!1),Oe(he?.locked_by_full_name??null),I(he?.locked_by_user_id??null),ye((he?.locked_by_user_id??null)===_)};try{const he=await YR(xe);if(E)return;F(he)}catch(he){if(E)return;const Me=he?.status??he?.response?.status;let lt=null;try{const ht=await Vf(xe);if(E)return;lt=ht.locked_by_full_name??null,F({read_only_for_current_user:!0,locked_by_full_name:lt,locked_by_user_id:ht.locked_by_user_id??null})}catch{Se(!0),ye(!1)}const Ot=lt?`La OI est? siendo editada por ${lt}. Se abre en modo lectura.`:he?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:Me===423||Me===409?"warning":"error",title:Me===423||Me===409?"OI bloqueada":"Error",message:Ot}),Se(!0),ye(!1),H!=="view"&&Lt("view")}})(),()=>{E=!0}},[xe,_,ce]),b.useEffect(()=>()=>{xe&&W&&Sc(xe).catch(()=>{})},[xe,W]),b.useEffect(()=>{xe&&(!W||we||!ce||rE(xe))},[W,xe,we,ce]),b.useEffect(()=>{Ce.current=!1,Le.current=!1,C(!1),Ue.current=!1,Vt.current=!1},[xe]),b.useEffect(()=>{if(!Ze.current&&m){if(!!!Rn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Ze.current=m;return}(Le.current||Je)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Ze.current=m},[m,Je,e]),b.useEffect(()=>{const E=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",E),()=>window.removeEventListener("medileser:auth-expired",E)},[e]),b.useEffect(()=>{const E=cE();if(!E){R(null),at.current=!1;return}const F=`${s.pathname}${s.search}`,he=E.route===F,Me=E.oiId==null||E.oiId===xe;if(!he&&!Me){R(null),at.current=!1;return}R(E),E.type==="save_bancada"&&C(!0),E.type==="save_oi"&&(Le.current=!0),at.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),at.current=!0)},[s.pathname,s.search,xe,e]);const Ma=ce&&!we&&(j||!xe);b.useEffect(()=>{if(!Ma||Ue.current)return;const E=Tr(rn);if(!E)return;const F=q();N({...F,...E,numeration_type:E.numeration_type??F.numeration_type??"correlativo"}),Ue.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[Ma,rn,q,N,e]),b.useEffect(()=>{if(!Ma)return;const E=v(F=>{te.current&&window.clearTimeout(te.current),te.current=window.setTimeout(()=>{za(rn,Pn(F))},400)});return()=>{E.unsubscribe(),te.current&&window.clearTimeout(te.current)}},[v,Ma,rn]);const Qn=b.useMemo(()=>Object.keys(nt).length>0,[nt]),dn=ce&&!we&&(W||j||Qn);b.useEffect(()=>{if(!dn)return;const E=F=>{if(!se.current)return F.preventDefault(),F.returnValue="",""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[dn]),oT(E=>{if(!dn){E.retry();return}if(se.current){E.retry();return}if(E.location.pathname===s.pathname){E.retry();return}window.confirm(iT)&&E.retry()},dn),b.useEffect(()=>{if(!xe||!W||we||!ce)return;const E=()=>{if(se.current||Ce.current)return;Ce.current=!0;const he=Rn()?.token,Me=cT(`/oi/${xe}/close`);fetch(Me,{method:"POST",headers:he?{Authorization:`Bearer ${he}`}:void 0,keepalive:!0}).catch(()=>{})},F=()=>{E()};return window.addEventListener("pagehide",F),()=>window.removeEventListener("pagehide",F)},[xe,W,we,ce]);const zl=v("pma"),no=b.useMemo(()=>kR(Number(zl)),[zl]),Ml=v("numeration_type")??"correlativo",kl=async E=>{try{ve(!0);const F=Rn();if(!F)throw new Error("Sesin no vlida");const he=F.bancoId;if(he==null)throw new Error("Debe seleccionar un banco para crear una OI.");const Me={code:E.oi,q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),banco_id:he,tech_number:F.techNumber,numeration_type:E.numeration_type??"correlativo"},lt=await VR(Me);return et(lt.id),Et(lt.updated_at??lt.created_at),Sn(lt.medidores_usuario??0),ne(lt.medidores_total_code??0),pe(lt.saved_at??null),Ie(lt.created_at??null),ki({id:lt.id,code:lt.code}),k(E),Le.current=!1,En($t(null)),En($t(lt.id)),fl(),R(null),e({kind:"success",title:"OI creada",message:`${lt.code} (#${lt.id})`}),!0}catch(F){return Nc(F)?(Le.current=!0,za(rn,Pn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):zi(F)?(Le.current=!0,za(rn,Pn(E)),!1):(e({kind:"error",title:"Error",message:F?.message??"Error creando OI"}),!1)}finally{ve(!1)}},Ys=async E=>{if(!xe)return!1;if(we)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(ve(!0),!xe)throw new Error("No hay OI seleccionada para actualizar.");const F=E.oi?.trim(),he=E.numeration_type??"correlativo",Me=ie?.numeration_type??"correlativo",lt=!ie||Number(E.q3)!==Number(ie.q3)||Number(E.alcance)!==Number(ie.alcance)||Number(E.pma)!==Number(ie.pma)||he!==Me,Ot=B&&!!F&&F!==(ie?.oi??""),ht=!Ot||lt,fn=jt=>{Et(jt.updated_at??jt.created_at),pe(jt.saved_at??null),Ie(jt.created_at??null),jt.code&&ki({id:jt.id,code:jt.code}),I(jt.locked_by_user_id??null),Oe(jt.locked_by_full_name??null),Se(jt.read_only_for_current_user??!1),ye((jt.locked_by_user_id??null)===_)};let Yn=null;if(ht){if(!Ut)throw new Error("No se pudo determinar la version actual de la OI. Recargue la pagina e intentelo de nuevo.");const jt={q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),numeration_type:he,updated_at:Ut};Yn=await $R(xe,jt),fn(Yn)}if(Ot&&F)try{const jt=await FR(xe,F);Yn=jt,fn(jt)}catch(jt){if(Nc(jt)||zi(jt))throw jt;const kr=jt?.status??jt?.response?.status;return e(kr===409?{kind:"error",title:"Conflicto",message:"Ya existe una OI con ese codigo."}:kr===403?{kind:"error",title:"No autorizado",message:"No autorizado."}:kr===422||kr===400?{kind:"error",title:"Formato",message:"Formato de OI invalido. Debe ser OI-####-YYYY."}:{kind:"error",title:"Error",message:jt?.message??"Error actualizando OI"}),!1}return Yn?(k({...E,oi:Yn.code,numeration_type:he}),Z(!1),Le.current=!1,En(rn),fl(),R(null),e({kind:"success",title:"OI actualizada",message:Yn.code??E.oi}),!0):(Z(!1),Le.current=!1,En(rn),fl(),R(null),e({kind:"success",title:"OI actualizada",message:E.oi}),!0)}catch(F){if(Nc(F))return Le.current=!0,za(rn,Pn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(zi(F))return Le.current=!0,za(rn,Pn(E)),!1;const he=F?.status??F?.response?.status;return e(he===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:F?.message??"Error actualizando OI"}),!1}finally{ve(!1)}},Ul=!!xe&&j&&!we,An=()=>Ve({}),Ll=E=>{const F=w0(E);F&&Ve(he=>{if(!he[F])return he;const Me={...he};return delete Me[F],Me})},zr=()=>{if(we){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!xe)return;An(),C(!1);const E=Gn(xe),F=E??ze();rt(he=>({...he,[Dt]:F})),Un(xe,F),E&&e({kind:"info",message:"Se restauro un borrador local."}),ia(null),In(!0)},Ks=E=>{if(we&&!K){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}An(),C(!1);const F=Dr(xe,E.id);if(F){const he=Tt(E);rt(Me=>({...Me,[he]:F})),e({kind:"info",message:"Se restauro un borrador local."})}ia(E),In(!0)};b.useEffect(()=>{if(!xe||Vt.current)return;const E=J1();if(E&&!(!_||A==null)&&!(E.userId!==_||E.bankId!==A)&&E.oiId===xe){if(E.modal?.type==="bancada"){if(E.modal.isNew){Vt.current=!0,Uf(),zr();return}if(E.modal.bancadaId){const F=vn.find(he=>he.id===E.modal?.bancadaId);if(!F)return;Vt.current=!0,Uf(),Ks(F);return}}Vt.current=!0,Uf()}},[_,A,vn,xe,zr,Ks]);const gs=b.useMemo(()=>{const E=Tt(st),F=nt[E];if(F){const lt=F.version??st?.updated_at??st?.created_at??null;return{...F,version:lt}}if(!st)return;const Me=j0(st).map(eT);return{estado:st.estado,rows:Me.length||st.rows,rowsData:Me,version:st.updated_at??st.created_at??null}},[st,nt]),ao=async E=>{if(xe){if(we){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}An(),C(!1);try{ve(!0);const F=E.draftCreatedAt??nt[Dt]?.draftCreatedAt,he={estado:Number(E.estado??0),rows:Number(E.rowsData.length),rows_data:E.rowsData.map(tT)};if(st){const Me=E.version??st.updated_at??st.created_at??null;if(!Me)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const lt={...he,updated_at:Me},Ot=await ZR(st.id,lt);Tn(ht=>ht.map(fn=>fn.id===Ot.id?Ot:fn)),Et(Ot.updated_at??Ot.created_at??Ut),Sn(null),Qs(xe,st.id),rt(ht=>{const fn=`bancada-${st.id}`,{[fn]:Yn,...jt}=ht;return jt}),e({kind:"success",message:"Bancada actualizada"})}else{F&&(he.draft_created_at=F);const Me=await dv(xe,he);Tn(lt=>[...lt,Me]),Et(Me.updated_at??Me.created_at??Ut),Sn(null),rt(lt=>{const{new:Ot,...ht}=lt;return ht}),Un(xe,null),e({kind:"success",message:"Bancada agregada"})}try{const Me=await Zf(xe);Sn(Me.medidores_usuario??null),ne(Me.medidores_total_code??Q),pe(Me.saved_at??null),Ie(Me.created_at??null)}catch{}I(w?.userId??M),Oe(w?.fullName??De),ye(_!==null),Se(!1),In(!1),ia(null),fl(),R(null),C(!1)}catch(F){if(Nc(F)){st?Xa(xe,st.id,E):Un(xe,E),C(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(zi(F)){st?Xa(xe,st.id,E):Un(xe,E),C(!0);return}const he=F?.status??F?.response?.status;if(he===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(he===400){const Me=Array.isArray(F?.duplicates)?F.duplicates:Array.isArray(F?.response?.data?.duplicates)?F.response.data.duplicates:[];Me.length>0&&Ve(lT(Me)),e({kind:"warning",title:"Validacion",message:F?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:F?.message??"Error guardando bancada"})}finally{ve(!1)}}},so=async E=>{if(confirm(`Eliminar bancada #${E.item}?`)){if(we){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(ve(!0),!xe)throw new Error("No hay OI cargada.");await fv(E.id),Tn(he=>he.filter(Me=>Me.id!==E.id)),Sn(null),rt(he=>{const Me=`bancada-${E.id}`,{[Me]:lt,...Ot}=he;return Ot}),Qs(xe,E.id);const F=await Zf(xe);Et(F.updated_at??F.created_at??null),pe(F.saved_at??null),Ie(F.created_at??null),I(F.locked_by_user_id??null),Oe(F.locked_by_full_name??null),Se(F.read_only_for_current_user??!1),ye((F.locked_by_user_id??null)===_),Sn(F.medidores_usuario??null),ne(F.medidores_total_code??Q),e({kind:"success",message:`Bancada #${E.item} eliminada`})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error eliminando bancada"})}finally{ve(!1)}}},ys=()=>{if(!xe){e({kind:"warning",message:"Primero guarda el OI."});return}oa(!0)},fu=async E=>{if(xe)try{ve(!0),await N0(xe,E),e({kind:"success",message:"Excel generado"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error generando Excel"})}finally{ve(!1)}},ro=()=>{if(!xe||!B)return;const E=oe??Re;me("oi"),Te(null),Fe(gv(E)),ke(!0)},lo=E=>{if(!B)return;me("bancada"),Te(E);const F=E.saved_at??E.created_at??oe??Re;Fe(gv(F)),ke(!0)},Bl=async()=>{if(!xe||!B)return;const E=rT($e);if(!E){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Pe==="bancada"&&!ut))try{ve(!0),Pe==="oi"?await KR(xe,{saved_at:E,propagate_to_bancadas:!0}):ut&&await GR(ut.id,{saved_at:E});const F=await Vf(xe);if(Tn(F.bancadas??[]),Sn(F.medidores_usuario??null),ne(F.medidores_total_code??0),pe(F.saved_at??null),Ie(F.created_at??null),Et(F.updated_at??F.created_at),Oe(F.locked_by_full_name??null),I(F.locked_by_user_id??null),Se(F.read_only_for_current_user??!1),ye((F.locked_by_user_id??null)===_),!j){const he={oi:F.code,q3:F.q3,alcance:F.alcance,pma:F.pma,numeration_type:F.numeration_type??"correlativo"};N(he),k(he)}ke(!1),Te(null),Fe(""),me("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(F){e({kind:"error",title:"Error",message:F?.message??"Error actualizando fecha"})}finally{ve(!1)}},mu=E=>{An(),C(!1);const F=Tt(st);let he={...E};if(!st){const Me=nt[Dt];he.draftCreatedAt||(he.draftCreatedAt=Me?.draftCreatedAt??new Date().toISOString()),he.draftId||(he.draftId=Me?.draftId??Ne())}rt(Me=>({...Me,[F]:he})),st?Xa(xe,st.id,he):Un(xe,he),In(!1)},hu=()=>{if(we){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const E=q();k({...E,numeration_type:E.numeration_type??"correlativo"}),Z(!0)},Mr=()=>{!xe||ce||Lt("edit")},ka=()=>{ie&&N(ie),Z(!1),Le.current=!1,En(rn),fl(),R(null)},bs=()=>{xe&&(Un(xe,null),Object.keys(nt).forEach(E=>{if(!E.startsWith("bancada-"))return;const F=Number(E.replace("bancada-",""));Number.isFinite(F)&&Qs(xe,F)})),En($t(xe)),En($t(null)),Y1(),Le.current=!1,C(!1),fl(),R(null),jm(),Fx(),et(null),Tn([]),P.current=[],rt({}),Z(!1),k(null),Et(null),pe(null),Ie(null),Se(!1),Oe(null),I(null),ye(!1),Sn(null),ne(0),In(!1),ia(null),oa(!1),ke(!1),Ae(!1),Fe(""),Te(null),me("bancada"),N({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},ql=()=>{Ce.current=!0,se.current=!0,bs(),a(Qt())},vs=async()=>{if(!xe)return!0;const E=P.current??[];if(E.length===0&&vn.length===0)return!0;const F=new Map(E.map(Me=>[Me.id,Me])),he=new Map(vn.map(Me=>[Me.id,Me]));try{for(const Ot of vn)F.has(Ot.id)||await fv(Ot.id);for(const Ot of vn){const ht=F.get(Ot.id);if(!ht||hv(ht)===hv(Ot))continue;const fn=pv(ht),Yn=fn.length||ht.rows||1,jt=Ot.updated_at??Ot.created_at??ht.updated_at??ht.created_at;if(!jt)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await PR(Ot.id,{medidor:ht.medidor??null,estado:ht.estado??0,rows:Yn,rows_data:fn,current_updated_at:jt,restore_updated_at:ht.updated_at??null,restore_saved_at:ht.saved_at??null})}for(const Ot of E)if(!he.has(Ot.id)){const ht=pv(Ot),fn=ht.length||Ot.rows||1;await dv(xe,{estado:Ot.estado??0,rows:fn,rows_data:ht})}const Me=await Zf(xe),lt=Me.updated_at??Me.created_at;await HR(xe,{current_updated_at:lt,restore_updated_at:V.current})}catch(Me){return e({kind:"error",title:"Error",message:Me?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},xs=()=>{_e||Ae(!0)},io=async()=>{if(!_e){Ae(!1),ve(!0);try{if(!await vs())return;xe&&W&&await Sc(xe,"cancel")}catch{}finally{ve(!1)}Ce.current=!0,se.current=!0,bs(),e({kind:"info",message:"Edicion cancelada"}),a(Qt())}},Il=async()=>{if(_e)return;Ae(!1);let E=!0;if((j||!xe)&&(E=!1,await p(async he=>{E=xe?await Ys(he):await kl(he)})()),!!E){ve(!0);try{xe&&W&&await Sc(xe)}catch{}finally{ve(!1)}Ce.current=!0,se.current=!0,bs(),e({kind:"info",message:"Cambios guardados"}),a(Qt())}},oo=async()=>{if(!_e){ve(!0);try{xe&&W&&await Sc(xe)}catch{}finally{ve(!1)}Ce.current=!0,se.current=!0,bs(),e({kind:"info",message:"OI cerrada"}),a(Qt())}},Xs=b.useMemo(()=>nT(vn),[vn]),Ua=xn??Xs,Js=E=>{if(!E)return"-";const he=/([zZ]|[+-]\d{2}:?\d{2})$/.test(E)?E:`${E}Z`,Me=new Date(he);return Number.isNaN(Me.getTime())?E:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(Me)},Ws=st?Ka(xe,st.id):_n(xe),Ha=_&&A!=null&&xe?{userId:_,bankId:A,oiId:xe,bancadaId:st?.id??null,isNew:!st,returnTo:Be(xe),oiCode:q("oi")??null}:null;return i.jsxs("div",{className:"oi-page vi-oi-light",children:[i.jsx(Tl,{show:_e}),!m&&i.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),G&&i.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[i.jsx("h1",{className:"h3",children:"Formulario OI"}),i.jsxs("div",{className:"d-flex gap-2",children:[xe&&B&&i.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ro,disabled:_e,children:"Editar fecha guardado"}),xe&&K&&i.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Mr,disabled:_e,children:"Editar"})]})]}),we&&i.jsx("div",{className:"alert alert-warning mt-2",children:K?"Modo lectura. Use Editar para modificar.":De?`Esta OI est siendo editada por ${De}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),i.jsxs("form",{onSubmit:p(Ul?Ys:kl),className:`row g-3 mt-1 ${Ul?"vi-form-editing":"vi-form-readonly"}`,children:[i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),i.jsx("input",{id:"oi",className:`form-control ${xe&&!(B&&j&&!we)?"vi-locked":""}`,...g("oi"),disabled:xe?!(B&&j&&!we):!1}),x.oi&&i.jsx("div",{className:"text-danger small",children:x.oi.message}),B?null:i.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el codigo de OI."})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),i.jsx("select",{id:"q3",className:"form-select",...g("q3",{valueAsNumber:!0}),disabled:!!xe&&!j||we,children:h?.q3.map(E=>i.jsx("option",{value:E,children:E},E))})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),i.jsx("select",{id:"alcance",className:"form-select",...g("alcance",{valueAsNumber:!0}),disabled:!!xe&&!j||we,children:h?.alcance.map(E=>i.jsx("option",{value:E,children:E},E))})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),i.jsx("select",{id:"pma",className:"form-select",...g("pma",{valueAsNumber:!0}),disabled:!!xe&&!j||we,children:h?.pma.map(E=>i.jsx("option",{value:E,children:E},E))}),i.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),i.jsx("input",{id:"presion",className:"form-control",value:isNaN(no)?"":no,disabled:!0})]}),i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),i.jsxs("select",{id:"numeration_type",className:"form-select",...g("numeration_type"),disabled:!!xe&&!j||we,children:[i.jsx("option",{value:"correlativo",children:"Correlativo"}),i.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),i.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),i.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[i.jsx("button",{className:"btn btn-primary",disabled:_e||!!xe&&(!j||we),children:xe?Ul?"Guardar cambios":"OI guardada":"Guardar OI"}),xe&&!j&&ce&&i.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:hu,disabled:_e||we,children:"Editar OI"}),xe&&j&&ce&&i.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:ka,disabled:_e,children:"Cancelar edicion"}),K&&i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ql,disabled:_e,children:"Volver al listado"}),i.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:ys,disabled:!xe||_e||j,children:"Generar Excel"}),ce&&i.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:oo,disabled:!xe||j||_e,children:"Cerrar OI"}),ce&&i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:xs,disabled:_e,children:"Cancelar"})]})]}),i.jsx("hr",{className:"my-4"}),i.jsxs("div",{className:"card vi-card-table mt-3",children:[i.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),i.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",Ua," | Total OI: ",Q]})]}),i.jsx("button",{className:"btn btn-primary",onClick:zr,disabled:!xe||_e||j||we,children:"Agregar Bancada"})]}),i.jsx("div",{className:"card-body p-0",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"vi-col-60",children:"Item"}),i.jsx("th",{children:"# Medidor"}),i.jsx("th",{children:"Medidores"}),i.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),i.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),i.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),i.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),i.jsxs("tbody",{children:[vn.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),vn.map(E=>{const F=E.rows_data?.[0]?.medidor||E.medidor||"",he=E.rows_data?.[(E.rows_data?.length||0)-1]?.medidor||"",Me=F&&he&&F!==he?`${F} ... ${he}`:F;return i.jsxs("tr",{children:[i.jsx("td",{children:E.item}),i.jsx("td",{children:Me}),i.jsx("td",{children:E.rows}),i.jsx("td",{children:Js(E.created_at)}),i.jsx("td",{children:Js(E.saved_at)}),i.jsx("td",{children:Js(E.updated_at??E.created_at)}),i.jsxs("td",{className:"text-end",children:[B?i.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>lo(E),disabled:_e||j||fe,"aria-label":`Editar fecha guardado bancada #${E.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,i.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ks(E),disabled:_e||j||!K&&we,"aria-label":`${K?"Ver":"Editar"} bancada #${E.item}`,title:K?"Ver":"Editar",children:K?"Ver":"Editar"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>so(E),disabled:_e||j||we,"aria-label":`Eliminar bancada #${E.item}`,title:"Eliminar",children:""})]})]},E.id)})]})]})})})]}),Da&&i.jsx(IR,{show:Da,title:st?`Editar bancada #${st.item}`:"Nueva bancada",initial:gs,onClose:()=>{An(),In(!1)},onSubmit:ao,onCancelWithDraft:mu,numerationType:Ml,readOnly:we,duplicateMap:Ee,onClearDuplicate:Ll,draftStorageKey:Ws,draftMeta:Ha,isOnline:m,showRetry:Je}),He&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:E=>{E.target===E.currentTarget&&Ae(!1)},children:i.jsx("div",{className:"modal-dialog",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Ae(!1)})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{children:"Estas seguro de descartar cambios?"})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:io,disabled:_e,children:"Descartar cambios"}),i.jsx("button",{type:"button",className:"btn btn-primary",onClick:Il,disabled:_e,children:"Guardar cambios y volver al listado"})]})]})})}),de&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:E=>{E.target===E.currentTarget&&(ke(!1),Te(null),me("bancada"))},children:i.jsx("div",{className:"modal-dialog",children:i.jsxs("form",{className:"modal-content",onSubmit:E=>{E.preventDefault(),Bl()},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{ke(!1),Te(null),me("bancada")}})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),i.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:$e,onChange:E=>Fe(E.target.value),required:!0}),i.jsx("div",{className:"form-text",children:Pe==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{ke(!1),Te(null),me("bancada")},children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:_e||!$e,children:"Guardar"})]})]})})}),i.jsx(uu,{show:Zn,title:"Contrasea para proteger Excel",onClose:()=>oa(!1),onConfirm:E=>{oa(!1),fu(E)}})]})}function dT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e==="/logistica/log01/history"?"logistica_history":e==="/logistica/log01/excel"?"logistica":e==="/logistica/log02/pdfs"?"logistica_pdfs":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function fT(){const e=Rn(),a=Vn(),s=e?.token??null,[l,c]=b.useState(()=>!!s);if(b.useEffect(()=>{if(!s){c(!1);return}let N=!1;return c(!0),Ye.get("/auth/me").then(()=>{N||c(!1)}).catch(async q=>{if(N)return;if(q?.response?.status===401){await Gx();return}c(!1)}),()=>{N=!0}},[s]),!s)return i.jsx(Zs,{to:"/login",replace:!0});if(l)return i.jsx(Tl,{show:!0});const d=e,m=Aa(d.role,d.username),h=Xm(d),g=Nl(m),p=qi(),v=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(g&&v&&!(p&&p>0)&&a.pathname!=="/home")return i.jsx(Zs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return i.jsx(Zs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return i.jsx(Zs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const N=dT(a.pathname),q=d.allowedModules;if(N&&Array.isArray(q)&&!q.includes(N))return i.jsx(Zs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return i.jsx(kv,{})}const mT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),hT=.9;function rh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*hT}rem)`}}function ta({to:e,icon:a,label:s,depth:l,collapsed:c}){return i.jsx("li",{className:"vi-sidebar-item",children:i.jsxs(Iv,{to:e,end:!0,className:mT,style:rh(l,c),title:s,"aria-label":s,children:[i.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),i.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function bv({icon:e,label:a,depth:s,collapsed:l}){return i.jsx("li",{className:"vi-sidebar-item",children:i.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:rh(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[i.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),i.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function pr({groupKey:e,icon:a,label:s,depth:l,collapsed:c,open:d,active:m,onToggle:h,children:g}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return i.jsxs("li",{className:"vi-sidebar-item",children:[i.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:rh(l,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[i.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),i.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),i.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:i.jsx("i",{className:`ti ${v}`})})]}),!c&&d&&i.jsx("ul",{id:p,className:"list-unstyled mb-0",children:g})]})}function pT({collapsed:e,onToggleSidebar:a}){const s=Vn(),l=Rn(),c=!!l,d=Aa(l?.role,l?.username),m=Xm(l),h=d==="admin"||d==="administrator",g=l?.allowedModules,p=ye=>m||!Array.isArray(g)||g.includes(ye),v=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),N=c&&p("tools_historial_ac"),q=c&&p("tools_consol_correlativo"),w=c&&p("tools_consol_no_correlativo"),_=c&&p("oi_formulario"),A=c&&p("oi_listado"),B=c&&h&&p("users_admin"),T=c&&p("future_ot"),Y=c&&p("logistica"),D=c&&p("logistica_history"),O=c&&p("logistica_pdfs"),H=Y||D||O,U=c&&p("future_smart"),K=q||w,ce=v||x||N,_e=_||A||T,ve=ce||_e||K,fe=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[Se,De]=b.useState(()=>{const ye=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!ye)return fe;try{const we=JSON.parse(ye),j={...fe};return Object.keys(j).forEach(Z=>{typeof we[Z]=="boolean"&&(j[Z]=we[Z])}),j}catch{return fe}}),Oe=s.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(Se))},[Se]);const M=b.useMemo(()=>{const ye=we=>!!Li({path:we,end:!0},Oe);return{vimaToLista:ye("/oi/tools/vima-to-lista"),actualizacionBases:ye("/oi/tools/actualizacion-base"),formatoAcHistory:ye("/oi/tools/formato-ac/history"),consolidacionCorrelativo:ye("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:ye("/oi/tools/consolidacion/no-correlativo"),registroOi:ye("/oi"),listadoOi:ye("/oi/list"),users:ye("/users"),password:ye("/password"),permisos:ye("/admin/permisos"),log01Excel:ye("/logistica/log01/excel"),log01History:ye("/logistica/log01/history"),log02Pdfs:ye("/logistica/log02/pdfs")}},[Oe]),I=b.useMemo(()=>({oi_consolidacion:M.consolidacionCorrelativo||M.consolidacionNoCorrelativo,oi_formato_ac:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory,oi_verificacion:M.registroOi||M.listadoOi,oi:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory||M.consolidacionCorrelativo||M.consolidacionNoCorrelativo||M.registroOi||M.listadoOi,usuarios:M.users||M.password,logistica:M.log01Excel||M.log01History||M.log02Pdfs,administrar:M.permisos}),[M]);function W(ye){De(we=>({...we,[ye]:!we[ye]}))}return i.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[i.jsxs("div",{className:"vi-sidebar__header",children:[i.jsxs("div",{className:"vi-sidebar__brand",children:[i.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),i.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&i.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:i.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),i.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&i.jsx(ta,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),ve&&i.jsxs(pr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:Se.oi,active:I.oi,onToggle:W,children:[ce&&i.jsxs(pr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:Se.oi_formato_ac,active:I.oi_formato_ac,onToggle:W,children:[v&&i.jsx(ta,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&i.jsx(ta,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),N&&i.jsx(ta,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),K&&i.jsxs(pr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:Se.oi_consolidacion,active:I.oi_consolidacion,onToggle:W,children:[q&&i.jsx(ta,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),w&&i.jsx(ta,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),_e&&i.jsxs(pr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:Se.oi_verificacion,active:I.oi_verificacion,onToggle:W,children:[T&&i.jsx(bv,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),_&&i.jsx(ta,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),A&&i.jsx(ta,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),H&&i.jsxs(pr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:Se.logistica,active:I.logistica,onToggle:W,children:[Y&&i.jsx(ta,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacion Excel",depth:1,collapsed:e}),D&&i.jsx(ta,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e}),O&&i.jsx(ta,{to:"/logistica/log02/pdfs",icon:"ti-filter",label:"Filtrado de Cert.PDFs",depth:1,collapsed:e})]}),U&&i.jsx(bv,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),i.jsxs(pr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:Se.usuarios,active:I.usuarios,onToggle:W,children:[B&&i.jsx(ta,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&i.jsx(ta,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&i.jsx(pr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:Se.administrar,active:I.administrar,onToggle:W,children:i.jsx(ta,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function gT({sidebarCollapsed:e,onToggleSidebar:a}){const s=Rn(),l=s?.username??s?.user??"",c=s?Nl(s.role):!1,[d,m]=b.useState(()=>qi());b.useEffect(()=>pE(()=>m(qi())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",g=async()=>{try{await bE()}finally{location.assign("/login")}};return i.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&i.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:i.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),i.jsx("div",{className:"me-auto"}),i.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&i.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",i.jsx("strong",{children:l||"?"}),c&&i.jsxs(i.Fragment,{children:["  ",h,s.techNumber?i.jsxs(i.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&i.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:g,children:"Cerrar sesin"})]})]})}function yT(){const a=Vn().pathname==="/home",[s,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),i.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[i.jsx(pT,{collapsed:s,onToggleSidebar:c}),i.jsxs("div",{className:"vi-main",children:[i.jsx(gT,{sidebarCollapsed:s,onToggleSidebar:c}),i.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:i.jsx(kv,{})})]})]})}function bT(){const{toast:e}=Cr(),a=Ar(),s=Vn(),[,l]=Fv(),[c,d]=b.useState(()=>new URLSearchParams(s.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[g,p]=b.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[v,x]=b.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[N,q]=b.useState(()=>{const te=new URLSearchParams(s.search).get("pageSize"),Ue=te?Number(te):20;return Number.isFinite(Ue)&&Ue>0?Ue:20}),[w,_]=b.useState(()=>{const te=new URLSearchParams(s.search).get("page"),Ue=te?Number(te):1;return Number.isFinite(Ue)&&Ue>0?Math.floor(Ue):1}),[A,B]=b.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),T=(w-1)*N,Y=b.useRef(!1);b.useEffect(()=>{if(!Y.current){Y.current=!0;return}const te=setTimeout(()=>{h(c.trim()),_(1)},300);return()=>clearTimeout(te)},[c]),b.useEffect(()=>{const te=new URLSearchParams,Ue=c.trim();Ue&&te.set("q",Ue),g&&te.set("dateFrom",g),v&&te.set("dateTo",v),A&&te.set("responsableTech",A),w!==1&&te.set("page",String(w)),N!==20&&te.set("pageSize",String(N));const Ze=s.search.startsWith("?")?s.search.slice(1):s.search;te.toString()!==Ze&&l(te,{replace:!0})},[g,v,s.search,w,N,A,c,l]);const{data:D,isLoading:O,isError:H,error:U,refetch:K,isFetching:ce}=jr({queryKey:["oi","list",{search:m,dateFrom:g,dateTo:v,responsableTech:A,pageSize:N,offset:T}],queryFn:()=>XR({q:m||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0,limit:N,offset:T}),placeholderData:te=>te}),_e=Rn(),ve=Aa(_e?.role,_e?.username)!=="technician",{data:fe=[],isFetching:Se,isError:De,error:Oe}=jr({queryKey:["oi","responsables"],queryFn:WR,enabled:ve,staleTime:6e4,retry:!1}),M=De?Oe?.message??"No se pudo cargar responsables":"",I=te=>{if(!te)return"-";const Ue=te.endsWith("Z")?te:`${te}Z`,Ze=new Date(Ue),at=Vt=>Vt.toString().padStart(2,"0");return`${at(Ze.getDate())}/${at(Ze.getMonth()+1)}/${Ze.getFullYear()} ${at(Ze.getHours())}:${at(Ze.getMinutes())}`},ye=D?.items??[],we=D?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},j=D?.total??0,Z=D?.limit??N,ie=Z>0?Math.ceil(j/Z):1,k=10;let oe=1,pe=ie;if(ie>k){const te=Math.floor(k/2);oe=Math.max(1,w-te),pe=oe+k-1,pe>ie&&(pe=ie,oe=Math.max(1,pe-k+1))}const[Re,Ie]=b.useState(!1),[de,ke]=b.useState(null),[$e,Fe]=b.useState(!1),[ut,Te]=b.useState(!1),Pe=O||ce||$e||ut,me=()=>`${s.pathname}${s.search}`,He=(te,Ue)=>{try{ki({id:te,code:Ue}),e({kind:"success",message:`OI ${Ue} cargada`}),a(`/oi/${te}?mode=view`,{state:{returnTo:me()}})}catch(Ze){e({kind:"error",title:"Error",message:Ze?.message??"No se pudo abrir el OI"})}},Ae=(te,Ue)=>{try{ki({id:te,code:Ue}),e({kind:"success",message:`OI ${Ue} cargada`}),a(`/oi/${te}?mode=edit`,{state:{returnTo:me()}})}catch(Ze){e({kind:"error",title:"Error",message:Ze?.message??"No se pudo abrir el OI"})}},Je=async()=>{try{await Ji()}finally{jm(),a("/oi?mode=edit",{state:{returnTo:me()}})}},C=async(te,Ue)=>{if(confirm(`Ests seguro de ELIMINAR la ${Ue}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await QR(te),e({kind:"success",title:"Eliminado",message:`Se elimin ${Ue} correctamente.`}),K()}catch(Ze){e({kind:"error",title:"Error",message:Ze.message||"No se pudo eliminar la OI"})}},G=te=>{ke(te),Ie(!0)},R=async te=>{if(de)try{Fe(!0),await N0(de,te),e({kind:"success",message:"Excel generado"})}catch(Ue){e({kind:"error",title:"Error",message:Ue?.message??"No se pudo generar el Excel"})}finally{Fe(!1)}},P=async()=>{try{Te(!0);const{blob:te,filename:Ue}=await JR({q:m||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0}),Ze=URL.createObjectURL(te),at=document.createElement("a");at.href=Ze,at.download=Ue,document.body.appendChild(at),at.click(),URL.revokeObjectURL(Ze),at.remove()}catch(te){const Ue=te?.status,Ze=te?.message??"No se pudo exportar el CSV";e(Ue===403?{kind:"error",title:"No autorizado",message:Ze}:{kind:"error",title:"Error",message:Ze})}finally{Te(!1)}},V=()=>{d(""),h(""),p(""),x(""),_(1),B("")},se=j===0?0:T+1,Ce=j===0?0:Math.min(T+ye.length,j),Le=j===0?"0 registros":`Mostrando ${se}-${Ce} de ${j} registros`;return i.jsxs("div",{children:[i.jsx(Tl,{show:Pe}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[i.jsxs("div",{className:"d-flex align-items-center gap-2",children:[i.jsx("button",{className:"btn btn-primary",onClick:Je,disabled:Pe,title:"Nueva OI",children:"Nueva OI"}),i.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),i.jsxs("div",{className:"d-flex gap-2",children:[ve&&i.jsx("button",{className:"btn btn-outline-secondary",onClick:P,disabled:Pe,children:ut?"Exportando...":"Exportar CSV"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:V,disabled:Pe,children:"Limpiar filtros"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>K(),disabled:Pe,children:"Recargar"})]})]}),H&&i.jsx("div",{className:"alert alert-danger",children:U?.message??"Error cargando listado"}),i.jsxs("div",{className:"card vi-card-table",children:[i.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"h6 mb-0",children:"Registros"}),i.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",we.medidores_resultado," | OI unicas: ",we.oi_unicas," | Medidores (Total OI): ",we.medidores_total_oi_unicas]})]}),i.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:te=>{d(te.target.value),_(1)},"aria-label":"Buscar por codigo de OI o medidor"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:g,onChange:te=>{p(te.target.value),_(1)},"aria-label":"Filtrar desde fecha"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:te=>{x(te.target.value),_(1)},"aria-label":"Filtrar hasta fecha"}),ve&&i.jsxs("div",{className:"d-flex flex-column",children:[i.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:te=>{B(te.target.value),_(1)},disabled:Pe||Se,"aria-label":"Filtrar por responsable",title:"Responsable",children:[i.jsx("option",{value:"",children:"Responsable: Todos"}),fe.map(te=>i.jsx("option",{value:String(te.tech_number),children:te.full_name},te.tech_number))]}),M?i.jsx("small",{className:"text-danger",children:M}):null]}),i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("span",{className:"me-1 small",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:N,onChange:te=>{const Ue=Number(te.target.value)||20;q(Ue),_(1)},"aria-label":"Registros por pgina",children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"})]})]})]})]}),i.jsxs("div",{className:"card-body p-0",children:[i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"OI"}),i.jsx("th",{children:"Medidores"}),i.jsx("th",{children:"Q3"}),i.jsx("th",{children:"Alcance"}),i.jsx("th",{children:"PMA"}),i.jsx("th",{children:"Banco"}),i.jsx("th",{children:"Tcnico"}),i.jsx("th",{children:"Responsable"}),i.jsx("th",{children:"Creacin"}),i.jsx("th",{children:"Guardado"}),i.jsx("th",{children:"lt. mod."}),i.jsx("th",{className:"text-end",children:"Acciones"})]})}),i.jsxs("tbody",{children:[!Pe&&ye.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:j>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),ye.map(te=>i.jsxs("tr",{children:[i.jsx("td",{children:te.id}),i.jsx("td",{children:te.code}),i.jsx("td",{title:"Mi registro / Total OI",children:`${te.medidores_usuario??0} / ${te.medidores_total_code??0}`}),i.jsx("td",{children:te.q3}),i.jsx("td",{children:te.alcance}),i.jsx("td",{children:te.pma}),i.jsx("td",{children:te.banco_id}),i.jsx("td",{children:te.tech_number}),i.jsx("td",{children:te.creator_name}),i.jsx("td",{children:I(te.created_at)}),i.jsx("td",{children:I(te.saved_at)}),i.jsx("td",{children:I(te.updated_at)}),i.jsxs("td",{className:"text-end",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>He(te.id,te.code),disabled:Pe,title:"Ver OI","aria-label":`Ver OI ${te.code}`,children:"Ver"}),i.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>Ae(te.id,te.code),disabled:Pe,title:"Editar OI","aria-label":`Editar OI ${te.code}`,children:"Editar"}),i.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>G(te.id),disabled:Pe,title:"Descargar Excel","aria-label":`Descargar Excel ${te.code}`,children:"Excel"}),ve&&i.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>C(te.id,te.code),disabled:Pe,title:"Eliminar OI (Solo Admin)",children:""})]})]},te.id))]})]})}),ie>1&&i.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:i.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[i.jsx("li",{className:`page-item ${w===1?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>_(te=>Math.max(1,te-1)),disabled:w===1,children:""})}),Array.from({length:pe-oe+1},(te,Ue)=>{const Ze=oe+Ue;return i.jsx("li",{className:`page-item ${Ze===w?"active":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>_(Ze),children:Ze})},Ze)}),i.jsx("li",{className:`page-item ${w===ie?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>_(te=>Math.min(ie,te+1)),disabled:w===ie,children:"Siguiente"})})]})})]})]}),i.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:i.jsx("small",{className:"text-muted",children:Le})}),i.jsx(uu,{show:Re,title:"Contrasea para proteger Excel",onClose:()=>{Ie(!1),ke(null)},onConfirm:te=>{Ie(!1),R(te)}})]})}async function vT(e){return(await Ye.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function xT(){const{toast:e}=Cr(),a=Rn(),s=Aa(a?.role,a?.username),l=s==="admin"||s==="administrator",c=Xm(a),[d,m]=b.useState(!1),[h,g]=b.useState(null),[p,v]=b.useState(!1),[x,N]=b.useState(""),[q,w]=b.useState(""),[_,A]=b.useState(""),[B,T]=b.useState(20),[Y,D]=b.useState(1),O=(Y-1)*B,H=b.useRef(!1);b.useEffect(()=>{if(!H.current){H.current=!0;return}const Ae=setTimeout(()=>{w(x.trim()),D(1)},250);return()=>clearTimeout(Ae)},[x]);const{data:U,refetch:K,isLoading:ce,isFetching:_e,error:ve}=jr({queryKey:["users",{search:q,roleFilter:_,pageSize:B,offset:O}],queryFn:()=>vT({q:q||void 0,role:_||void 0,limit:B,offset:O}),enabled:l,placeholderData:Ae=>Ae}),{register:fe,handleSubmit:Se,reset:De}=Qc(),Oe=()=>{g(null),De({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),m(!0)},M=Ae=>{g(Ae),De({username:Ae.username,password:"",first_name:Ae.first_name,last_name:Ae.last_name,role:Aa(Ae.role,Ae.username),tech_number:Ae.tech_number}),m(!0)},I=()=>{m(!1),g(null),De()},W=async Ae=>{try{v(!0),await Ye.post("/auth/users",{...Ae,tech_number:Number(Ae.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),I(),K()}catch(Je){e({kind:"error",title:"Error",message:Je.response?.data?.detail||"Error al crear"})}finally{v(!1)}},ye=async Ae=>{if(!h)return;const Je=String(Ae.password||"").trim();try{if(v(!0),c){const C={username:String(Ae.username||"").trim(),first_name:String(Ae.first_name||"").trim(),last_name:String(Ae.last_name||"").trim(),role:Ae.role,tech_number:Number(Ae.tech_number)};Je&&(C.password=Je),await Ye.put(`/auth/users/${h.id}`,C),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!Je){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Ye.put(`/auth/users/${h.id}/password`,{new_password:Je}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}I(),K()}catch(C){const G=C?.response?.data?.detail||C?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:G})}finally{v(!1)}},we=async Ae=>{if(confirm(`Eliminar usuario? ${Ae.username}?
Esto solo es posible si no tiene registros.`))try{v(!0),await Ye.delete(`/auth/users/${Ae.id}`),e({kind:"success",message:"Usuario eliminado"}),K()}catch(Je){e({kind:"error",title:"No se puede eliminar",message:Je.response?.data?.detail||Je.message})}finally{v(!1)}},j=b.useMemo(()=>U?.items??[],[U]),Z=U?.total??0,ie=U?.limit??B,k=ie>0?Math.ceil(Z/ie):1,oe=10;let pe=1,Re=k;if(k>oe){const Ae=Math.floor(oe/2);pe=Math.max(1,Y-Ae),Re=pe+oe-1,Re>k&&(Re=k,pe=Math.max(1,Re-oe+1))}const Ie=Z===0?0:O+1,de=Z===0?0:Math.min(O+j.length,Z),ke=Z===0?"0 registros":`Mostrando ${Ie}-${de} de ${Z} registros`,$e=ce||_e||p,Fe=()=>{N(""),w(""),A(""),D(1),T(20)},ut=!!h,Te=ut&&!c,Pe=!ut||!c,me=(h?.username??"").toLowerCase()==="admin",He=ut?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return l?i.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[i.jsx(Tl,{show:$e}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[i.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),i.jsx("button",{className:"btn btn-primary",onClick:Oe,disabled:$e,children:"+ Nuevo Usuario"})]}),i.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[i.jsxs("div",{style:{minWidth:260},children:[i.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:Ae=>{N(Ae.target.value),D(1)}})]}),i.jsxs("div",{style:{minWidth:220},children:[i.jsx("label",{className:"form-label small mb-1",children:"Rol"}),i.jsxs("select",{className:"form-select form-select-sm",value:_,onChange:Ae=>{A(Ae.target.value),D(1)},children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"admin",children:"admin"}),i.jsx("option",{value:"administrator",children:"administrator"}),i.jsx("option",{value:"technician",children:"technician"}),i.jsx("option",{value:"standard",children:"standard"}),i.jsx("option",{value:"user",children:"user (legacy)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:B,onChange:Ae=>{const Je=Number(Ae.target.value)||20;T(Je),D(1)},children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Fe,disabled:$e,children:"Limpiar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>K(),disabled:$e,children:"Recargar"})]})]}),ve?i.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,i.jsx("div",{className:"card shadow-sm",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-hover align-middle mb-0",children:[i.jsx("thead",{className:"table-light",children:i.jsxs("tr",{children:[i.jsx("th",{children:"Usuario"}),i.jsx("th",{children:"Nombre"}),i.jsx("th",{children:"Rol"}),i.jsx("th",{children:"N Tcnico"}),i.jsx("th",{className:"text-end",children:"Acciones"})]})}),i.jsxs("tbody",{children:[j.map(Ae=>i.jsxs("tr",{children:[i.jsx("td",{className:"fw-bold",children:Ae.username}),i.jsxs("td",{children:[Ae.first_name," ",Ae.last_name]}),i.jsx("td",{children:(()=>{const Je=Aa(Ae.role,Ae.username),C=Ae.username.toLowerCase()==="admin"?"Superusuario":Je==="administrator"?"Administrador":Je==="technician"?"Tcnico":"Estndar",G=Ae.username.toLowerCase()==="admin"?"bg-danger":Je==="administrator"?"bg-warning text-dark":Je==="technician"?"bg-info text-dark":"bg-secondary";return i.jsx("span",{className:`badge ${G}`,children:C})})()}),i.jsx("td",{children:Ae.tech_number}),i.jsxs("td",{className:"text-end",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${Ae.username}`,disabled:$e||Ae.username==="admin"||!c&&Aa(Ae.role,Ae.username)==="administrator",onClick:()=>M(Ae),children:i.jsx("i",{className:"ti ti-edit"})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${Ae.username}`,disabled:$e||Ae.username==="admin"||!c&&Aa(Ae.role,Ae.username)==="administrator",onClick:()=>we(Ae),children:i.jsx("i",{className:"ti ti-trash"})})]})]},Ae.id)),j.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),k>1&&i.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:i.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[i.jsx("li",{className:`page-item ${Y===1?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>D(Ae=>Math.max(1,Ae-1)),disabled:Y===1,children:"Anterior"})}),Array.from({length:Re-pe+1},(Ae,Je)=>{const C=pe+Je;return i.jsx("li",{className:`page-item ${C===Y?"active":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>D(C),children:C})},C)}),i.jsx("li",{className:`page-item ${Y===k?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>D(Ae=>Math.min(k,Ae+1)),disabled:Y===k,children:"Siguiente"})})]})}),i.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:i.jsx("small",{className:"text-muted",children:ke})}),d&&i.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:i.jsx("div",{className:"modal-dialog",children:i.jsxs("form",{className:"modal-content",onSubmit:Se(ut?ye:W),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:ut?"Actualizar Usuario":"Nuevo Usuario"}),i.jsx("button",{type:"button",className:"btn-close",onClick:I})]}),i.jsxs("div",{className:"modal-body row g-3",children:[i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"Usuario"}),i.jsx("input",{className:"form-control",disabled:Te,...fe("username",{required:!0})})]}),i.jsx("div",{className:"col-6",children:i.jsx(Ii,{label:"Contrasea",...fe("password",{required:Pe}),autoComplete:"new-password",helpText:He})}),i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"Nombre"}),i.jsx("input",{className:"form-control",disabled:Te,...fe("first_name",{required:!0})})]}),i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"Apellido"}),i.jsx("input",{className:"form-control",disabled:Te,...fe("last_name",{required:!0})})]}),i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"Rol"}),i.jsxs("select",{className:"form-select",disabled:Te,...fe("role"),children:[me?i.jsx("option",{value:"admin",children:"Superusuario"}):null,i.jsx("option",{value:"technician",children:"Tecnico"}),i.jsx("option",{value:"standard",children:"Estandar"}),c?i.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),i.jsxs("div",{className:"col-6",children:[i.jsx("label",{className:"form-label",children:"N Tecnico"}),i.jsx("input",{type:"number",className:"form-control",disabled:Te,...fe("tech_number",{required:!0})}),i.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:I,disabled:$e,children:"Cancelar"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:$e,children:ut?"Actualizar":"Guardar"})]})]})})})]}):i.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function ST(){const{toast:e}=Cr(),[a,s]=b.useState(""),[l,c]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,g=async p=>{if(p.preventDefault(),!!h)try{m(!0),await gE(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return i.jsx("div",{className:"container py-4",children:i.jsx("div",{className:"row justify-content-center",children:i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"card shadow-sm",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),i.jsxs("form",{onSubmit:g,children:[i.jsxs("div",{className:"card-body",children:[i.jsx("div",{className:"mb-3",children:i.jsx(Ii,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),i.jsx("div",{className:"mb-3",children:i.jsx(Ii,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),i.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function NT(e){return(await Ye.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function jT(e,a){const{data:s}=await Ye.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const wm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"logistica_history",label:"Historial de consolidaciones",path:"/logistica/log01/history"},{id:"logistica_pdfs",label:"Filtrado de Cert.PDFs",path:"/logistica/log02/pdfs"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],vv=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica","logistica_history","logistica_pdfs"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function xv(e){const a=new Set(wm.map(c=>c.id)),s=new Set,l=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),l.push(d))}return l}const Sv="admin_permisos:collapsed_groups";function wT(){const e=Bm(),{toast:a}=Cr(),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState(20),[v,x]=b.useState(1),N=(v-1)*g,q=b.useRef(!1);b.useEffect(()=>{if(!q.current){q.current=!0;return}const k=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(k)},[s]);const{data:w,isLoading:_,error:A,refetch:B}=jr({queryKey:["admin","permisos",{search:c,roleFilter:m,pageSize:g,offset:N}],queryFn:()=>NT({q:c||void 0,role:m||void 0,limit:g,offset:N}),placeholderData:k=>k}),[T,Y]=b.useState(null),[D,O]=b.useState([]),H=(T?.username??"").toLowerCase()==="admin",[U,K]=b.useState(()=>{const k=Object.fromEntries(vv.map(oe=>[oe.id,!0]));try{const oe=localStorage.getItem(Sv);if(!oe)return k;const pe=JSON.parse(oe);return!pe||typeof pe!="object"?k:{...k,...pe}}catch{return k}}),ce=(k,oe)=>{K(pe=>{const Re={...pe,[k]:oe};try{localStorage.setItem(Sv,JSON.stringify(Re))}catch{}return Re})},_e=k=>{Y(k),O(xv(k.allowedModules??[]))},ve=()=>{Y(null),O([])},fe=Qw({mutationFn:async k=>jT(k.userId,k.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),ve()},onError:k=>{const oe=k?.response?.data?.detail??k?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(oe)})}}),Se=b.useMemo(()=>w?.items??[],[w]),De=w?.total??0,Oe=w?.limit??g,M=Oe>0?Math.ceil(De/Oe):1,I=De===0?0:N+1,W=De===0?0:Math.min(N+Se.length,De),ye=De===0?"0 registros":`Mostrando ${I}-${W} de ${De} registros`,we=k=>{O(oe=>{const pe=new Set(oe);return pe.has(k)?pe.delete(k):pe.add(k),Array.from(pe)})},j=k=>{O(oe=>{const pe=new Set(oe),Re=k.moduleIds.filter(de=>wm.some(ke=>ke.id===de));if(Re.length>0&&Re.every(de=>pe.has(de)))for(const de of Re)pe.delete(de);else for(const de of Re)pe.add(de);return Array.from(pe)})},Z=()=>{T&&fe.mutate({userId:T.id,allowedModules:xv(D)})},ie=()=>{l(""),d(""),h(""),x(1),p(20)};return i.jsxs("div",{className:"container-fluid",children:[i.jsx(Tl,{show:fe.isPending,label:"Guardando permisos..."}),i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),i.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),i.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[i.jsxs("div",{style:{minWidth:260},children:[i.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:k=>{l(k.target.value),x(1)}})]}),i.jsxs("div",{style:{minWidth:220},children:[i.jsx("label",{className:"form-label small mb-1",children:"Rol"}),i.jsxs("select",{className:"form-select form-select-sm",value:m,onChange:k=>{h(k.target.value),x(1)},children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"admin",children:"admin"}),i.jsx("option",{value:"administrator",children:"administrator"}),i.jsx("option",{value:"technician",children:"technician"}),i.jsx("option",{value:"standard",children:"standard"}),i.jsx("option",{value:"user",children:"user (legacy)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:g,onChange:k=>{const oe=Number(k.target.value)||20;p(oe),x(1)},children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:ie,disabled:_||fe.isPending,children:"Limpiar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>B(),disabled:_||fe.isPending,children:"Recargar"})]})]}),_?i.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):A?i.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm align-middle",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Usuario"}),i.jsx("th",{children:"Rol"}),i.jsx("th",{className:"text-end",children:"Acciones"})]})}),i.jsxs("tbody",{children:[Se.map(k=>i.jsxs("tr",{children:[i.jsx("td",{children:k.username}),i.jsx("td",{children:k.role}),i.jsx("td",{className:"text-end",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>_e(k),disabled:(k.username??"").toLowerCase()==="admin",children:"Editar"})})]},k.id)),Se.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),i.jsx("div",{className:"d-flex justify-content-end mt-2",children:i.jsx("small",{className:"text-muted",children:ye})}),M>1&&i.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:i.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[i.jsx("li",{className:`page-item ${v===1?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.max(1,k-1)),disabled:v===1,children:""})}),i.jsx("li",{className:"page-item disabled",children:i.jsxs("span",{className:"page-link",children:["Pgina ",v," / ",M]})}),i.jsx("li",{className:`page-item ${v===M?"disabled":""}`,children:i.jsx("button",{className:"page-link",onClick:()=>x(k=>Math.min(M,k+1)),disabled:v===M,children:"Siguiente"})})]})})]})})}),T&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:k=>{k.target===k.currentTarget&&ve()},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",T.username]}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:ve})]}),i.jsxs("div",{className:"modal-body",children:[H?i.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",i.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,vv.map(k=>{const oe=k.moduleIds.map(ke=>wm.find($e=>$e.id===ke)).filter(Boolean),pe=oe.filter(ke=>D.includes(ke.id)).length,Re=oe.length>0&&pe===oe.length,Ie=pe>0&&!Re,de=!!U[k.id];return i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[i.jsxs("div",{className:"form-check mb-0",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${T.id}-${k.id}`,checked:Re,ref:ke=>{ke&&(ke.indeterminate=Ie)},onChange:()=>j(k),disabled:fe.isPending||H}),i.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${T.id}-${k.id}`,children:[k.label,i.jsxs("span",{className:"text-muted ms-2 small",children:["(",pe,"/",oe.length,")"]})]})]}),i.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Acciones ${k.label}`,children:i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>ce(k.id,!de),disabled:fe.isPending,children:de?"Expandir":"Contraer"})})]}),!de&&i.jsx("div",{className:"mt-2 ms-4 ps-3 border-start border-2 border-light",children:i.jsx("div",{className:"row",children:oe.map(ke=>i.jsx("div",{className:"col-md-6 mb-2",children:i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${T.id}-${ke.id}`,checked:D.includes(ke.id),onChange:()=>we(ke.id),disabled:fe.isPending||H}),i.jsxs("label",{className:"form-check-label",htmlFor:`perm-${T.id}-${ke.id}`,children:[ke.label," ",i.jsxs("span",{className:"text-muted",children:["(",ke.path,")"]})]})]})},ke.id))})})]},k.id)}),i.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ve,disabled:fe.isPending,children:"Cancelar"}),i.jsx("button",{type:"button",className:"btn btn-primary",onClick:Z,disabled:fe.isPending||H,children:"Guardar"})]})]})})})]})}function _T(e){const a=Ye.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function ET(e,a){return Ye.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function AT(e,a){return Ye.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function Nv(e,a,s){const l=_T(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let g="";for(;;){const{value:p,done:v}=await m.read();if(v)break;g+=h.decode(p,{stream:!0});let x;for(;(x=g.indexOf(`
`))>=0;){const N=g.slice(0,x).trim();if(g=g.slice(x+1),!!N)try{a(JSON.parse(N))}catch{}}}}function _0(e){return`${e.name}::${e.size}::${e.lastModified}`}function CT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function Fc(e){return CT(e.name)}function OT(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function lh(e,a){const s=OT(a);if(!s)return e;const l=s.filter(c=>c.startsWith("."));return l.length===0?e:e.filter(c=>l.some(d=>c.name.toLowerCase().endsWith(d)))}function RT(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],c=[],d=new Set(e.map(Fc));for(const m of a){const h=Fc(m);if(d.has(h)){c.push(m);continue}d.add(h),s.push(m),l.push(m)}return{merged:s,added:l,duplicates:c}}function Hi({label:e,accept:a,disabled:s=!1,file:l,onChange:c}){const d=b.useRef(null),m=b.useRef(0),[h,g]=b.useState(!1),p=()=>{s||d.current?.click()},v=()=>{s||(d.current&&(d.current.value=""),c(null))},x=A=>{c(A.target.files?.[0]??null),A.currentTarget.value=""},N=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current+=1,g(!0))},q=A=>{A.preventDefault(),A.stopPropagation()},w=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current=Math.max(0,m.current-1),m.current===0&&g(!1))},_=A=>{if(A.preventDefault(),A.stopPropagation(),m.current=0,g(!1),s)return;const B=A.dataTransfer?.files?Array.from(A.dataTransfer.files):[],Y=lh(B,a)[0]??null;Y&&(d.current&&(d.current.value=""),c(Y))};return i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:e}),i.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),i.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:N,onDragOver:q,onDragLeave:w,onDrop:_,"aria-disabled":s?"true":"false",children:i.jsxs("div",{className:"input-group",children:[i.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),i.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:s||!l,children:"Eliminar"}),i.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const TT={status:"estado",progress:"progreso",complete:"completado",error:"error"},DT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},zT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function E0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function jl(e){if(!e)return"";const a=e.toLowerCase();return E0(TT[a]??e)}function eo(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return E0(DT[a]??Dl(s))}function Dl(e){if(!e)return"";let a=e;for(const[s,l]of zT)a=a.replace(s,l);return a}function MT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function kT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function UT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState(""),[m,h]=b.useState(11),[g,p]=b.useState(11),[v,x]=b.useState(!0),[N,q]=b.useState(!0),[w,_]=b.useState(!0),[A,B]=b.useState(!0),[T,Y]=b.useState(!1),[D,O]=b.useState(""),[H,U]=b.useState(null),[K,ce]=b.useState(null),[_e,ve]=b.useState(null),[fe,Se]=b.useState([]),[De,Oe]=b.useState(""),M=b.useRef(null),I=b.useRef(null),[W,ye]=b.useState(!1),[we,j]=b.useState(!1),[Z,ie]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),k=b.useMemo(()=>!!e&&!!s&&!H,[e,s,H]);function oe(Te){Se(me=>[Te,...me].slice(0,200));const Pe=typeof Te.percent=="number"?Te.percent:typeof Te.progress=="number"?Te.progress:null;Pe!=null&&Number.isFinite(Pe)&&ve(Math.max(0,Math.min(100,Pe)))}function pe(){M.current?.abort(),M.current=null}function Re(){H&&pe()}function Ie(Te,Pe){if(!e||!s)throw new Error("Faltan archivos");const me=new FormData;me.append("vima_file",e),me.append("lista_file",s);const He=(Pe??c).trim();return He&&me.append("vima_password",He),me.append("vima_start_row",String(m)),me.append("lista_start_row",String(g)),me.append("require_all_g_to_n",v?"true":"false"),me.append("incremental",N?"true":"false"),me.append("strict_incremental",w?"true":"false"),me.append("replicate_merges",A?"true":"false"),me.append("update_existing_periodo",T?"true":"false"),D.trim()&&me.append("oi_pattern",D.trim()),me.append("operation_id",Te),me}function de(){I.current=null,j(!1)}function ke(Te,Pe){I.current=Te,ie(Pe),j(!0)}function $e(Te,Pe){if(!pt.isAxiosError(Te)){Oe(String(Te));return}const me=Te;if(me.code==="ERR_CANCELED")return;const He=me.response?.headers?.["x-code"],Ae=me.response?.data?.detail??me.message;if(He==="PASSWORD_REQUIRED"){Oe(""),ke(Pe,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(He==="WRONG_PASSWORD"){Oe(""),ke(Pe,"Contrasea incorrecta. Intenta nuevamente.");return}Oe(String(Ae))}async function Fe(Te){Oe(""),ce(null),Se([]),ve(0);const Pe=crypto.randomUUID();M.current=new AbortController,Nv(Pe,oe,M.current.signal).catch(()=>{}),U("dry");try{const me=Ie(Pe,Te?.passwordOverride),He=await ET(me,M.current.signal);ce(He.data)}catch(me){$e(me,"dry")}finally{pe(),U(null)}}async function ut(Te){Oe(""),Se([]),ve(0);const Pe=crypto.randomUUID();M.current=new AbortController,Nv(Pe,oe,M.current.signal).catch(()=>{}),U("upload");try{const me=Ie(Pe,Te?.passwordOverride),He=await AT(me,M.current.signal),Ae=He.headers?.["content-disposition"],Je=MT(Ae)??"LISTA_SALIDA.xlsx";kT(He.data,Je)}catch(me){$e(me,"upload")}finally{pe(),U(null)}}return i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"row gap-20",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),i.jsx("div",{className:"mB-15",children:i.jsx(Hi,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!H})}),i.jsx("div",{className:"mB-15",children:i.jsx(Hi,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!H})}),i.jsxs("div",{className:"mB-15",children:[i.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),i.jsx("input",{className:"form-control",type:"password",value:c,onChange:Te=>d(Te.target.value),placeholder:"(opcional)"})]}),W?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),i.jsx("input",{className:"form-control",type:"number",value:m,onChange:Te=>h(Number(Te.target.value))})]}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),i.jsx("input",{className:"form-control",type:"number",value:g,onChange:Te=>p(Number(Te.target.value))})]})]}),i.jsxs("div",{className:"mB-15",children:[i.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),i.jsx("input",{className:"form-control",value:D,onChange:Te=>O(Te.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),i.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),i.jsxs("div",{className:"row mT-10",children:[i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:Te=>x(Te.target.checked)}),i.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:A,onChange:Te=>B(Te.target.checked)}),i.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:N,onChange:Te=>q(Te.target.checked)}),i.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:w,onChange:Te=>_(Te.target.checked),disabled:!N}),i.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),i.jsx("div",{className:"col-md-6 mB-10",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:T,onChange:Te=>Y(Te.target.checked),disabled:!N}),i.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,De&&i.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:De}),i.jsx("div",{className:"d-flex justify-content-end mT-10",children:i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>ye(Te=>!Te),disabled:!!H,children:W?"Menos Opciones":"Ms Opciones"})}),i.jsxs("div",{className:"d-flex gap-10 mT-20",children:[i.jsx("button",{className:"btn btn-primary",disabled:!k,onClick:()=>void ut(),children:H==="upload"?"Procesando...":"Procesar y Descargar"}),i.jsx("button",{className:"btn btn-outline-danger",disabled:!H,onClick:Re,children:"Cancelar"}),i.jsx("button",{className:"btn btn-outline-primary",disabled:!k,onClick:()=>void Fe(),children:H==="dry"?"Analizando...":"Analizar"})]}),K&&i.jsxs("div",{className:"mT-20",children:[i.jsx("h5",{className:"c-grey-900",children:"Resumen"}),i.jsxs("ul",{className:"mB-0",children:[i.jsxs("li",{children:["Filas a copiar: ",i.jsx("b",{children:K.would_copy})]}),i.jsxs("li",{children:["Fila inicio escritura (LISTA): ",i.jsx("b",{children:K.start_write_row})]}),i.jsxs("li",{children:["ltimo OI en LISTA: ",i.jsx("b",{children:String(K.last_oi_in_lista??"-")})]}),i.jsxs("li",{children:["Primer OI a copiar: ",i.jsx("b",{children:String(K.first_oi_to_copy??"-")})]}),i.jsxs("li",{children:["ltimo OI a copiar: ",i.jsx("b",{children:String(K.last_oi_to_copy??"-")})]})]})]})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),H?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${_e??0}%`},"aria-valuenow":_e??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:fe.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:fe.map((Te,Pe)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:jl(Te.type)})," ",Te.stage?i.jsxs("span",{className:"text-muted",children:["[",eo(Te.stage),"]"]}):null,typeof Te.percent=="number"?i.jsxs("span",{className:"text-muted",children:["  ",Te.percent.toFixed(1),"%"]}):null]}),i.jsx("div",{className:"text-muted",children:Dl(Te.message??Te.detail??"")}),Te.code?i.jsxs("div",{className:"text-muted",children:["Cdigo: ",Te.code]}):null]},Pe))})})]})})]}),i.jsx(uu,{show:we,title:"Archivo protegido",confirmLabel:"Continuar",helpText:Z,onClose:de,onConfirm:Te=>{d(Te),j(!1);const Pe=I.current;I.current=null,Pe&&(Pe==="dry"?Fe({passwordOverride:Te}):ut({passwordOverride:Te}))}})]})}function Hc(e){const a=e,s=String(a?.name||""),l=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(l)||/abort/i.test(l)}function to(e){const a=Ye.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function ih(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let c="";try{for(;;){let m;try{m=await s.read()}catch(v){if(Hc(v))return;throw v}const{value:h,done:g}=m;if(g)break;if(!h||h.length===0)continue;c+=l.decode(h,{stream:!0});let p;for(;(p=c.indexOf(`
`))>=0;){const v=c.slice(0,p).trim();if(c=c.slice(p+1),!!v)try{a(JSON.parse(v))}catch{}}}const d=c.trim();if(d)try{a(JSON.parse(d))}catch{}}catch(d){if(Hc(d))return;throw d}}function xr(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function oh(e,a,s){const l=to(`/integrations/vima-to-lista/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw xr(`No se pudo abrir el stream (${d.status})`,d.status,m)}await ih(d,a)}async function LT(e,a,s){const l=to(`/logistica/log01/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const v=d.headers.get("X-Code")??void 0;throw xr(`No se pudo abrir el stream (${d.status})`,d.status,v)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw xr("Stream no es NDJSON",d.status);if(!d.body)throw xr("Stream sin body",d.status);const h=d.body.getReader(),g=new TextDecoder("utf-8");let p="";try{for(;;){let x;try{x=await h.read()}catch(_){if(Hc(_))return;throw _}const{value:N,done:q}=x;if(q)break;if(!N||N.length===0)continue;p+=g.decode(N,{stream:!0});let w;for(;(w=p.indexOf(`
`))>=0;){const _=p.slice(0,w).trim();if(p=p.slice(w+1),!!_)try{a(JSON.parse(_))}catch{}}}const v=p.trim();if(v)try{a(JSON.parse(v))}catch{}}catch(v){if(Hc(v))return;throw v}}async function BT(e,a,s){const l=to("/bases/actualizar/dry-run-upload"),c=Rn()?.token,d=await fetch(l,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const g=await d.json();g?.detail&&(h=String(g.detail))}catch{}throw xr(h,d.status,m)}await ih(d,a)}async function qT(e,a){return Ye.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function IT(e,a){return Ye.post("/logistica/log01/start",e,{signal:a})}async function $T(e,a,s){const l=to(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw xr(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function FT(e,a){return Ye.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function HT(e){await Ye.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function _m(e={}){const{limit:a=20,offset:s=0,include_deleted:l=!1,q:c,dateFrom:d,dateTo:m,source:h,status:g}=e,p={limit:a,offset:s,include_deleted:l};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),m&&m.trim()&&(p.dateTo=m.trim()),h&&h.trim()&&(p.source=h.trim()),g&&g.trim()&&(p.status=g.trim());const{data:v}=await Ye.get("/logistica/log01/history",{params:p});return v}async function VT(e,a,s){return Ye.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:l=>l===200})}async function ZT(e,a){await Ye.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function GT(){return(await Ye.get("/logistica/log02/explorador/roots")).data}async function PT(e){return(await Ye.get("/logistica/log02/explorador/listar",{params:{path:e}})).data}async function QT(e){return(await Ye.post("/logistica/log02/validar-rutas-unc",e)).data}async function YT(e,a){return(await Ye.post("/logistica/log02/copiar-conformes/start",e,{signal:a})).data}async function KT(e,a,s){const l=to(`/logistica/log02/copiar-conformes/progress/${e}`),c=Rn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw xr(`No se pudo abrir el stream (${d.status})`,d.status,m)}await ih(d,a)}async function XT(e){await Ye.post(`/logistica/log02/copiar-conformes/cancel/${encodeURIComponent(e)}`)}async function JT(e={}){const{limit:a=20,offset:s=0,q:l,dateFrom:c,dateTo:d,origin:m}=e,h={limit:a,offset:s};l&&l.trim()&&(h.q=l.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),m&&m.trim()&&(h.origin=m.trim());const{data:g}=await Ye.get("/oi/tools/formato-ac/history",{params:h});return g}async function WT(e,a){return Ye.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function A0(){const{data:e}=await Ye.get("/merge/config/upload-limits");return e}async function C0(e,a,s){return Ye.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function O0(e){await Ye.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function e2(e){const{data:a}=await Ye.post("/tools/files/upload",e);return a}async function t2(e){const{data:a}=await Ye.post("/tools/excel/inspect",e);return a}async function n2(e){const{data:a}=await Ye.post("/tools/excel/update",e);return a}async function a2(e){const{data:a}=await Ye.post("/tools/excel/change-password",e);return a}async function s2(e){const{data:a}=await Ye.post("/tools/excel/validate",e);return a}function r2({show:e,disabled:a=!1,title:s,accept:l,files:c,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:g}){const p=b.useRef(null),v=b.useRef(0),[x,N]=b.useState(!1),[q,w]=b.useState("");b.useEffect(()=>{if(!e)return;const U=K=>{K.key==="Escape"&&d()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e,d]),b.useEffect(()=>{e||N(!1)},[e]),b.useEffect(()=>{e&&w("")},[e]);const _=b.useCallback(U=>{const K=lh(U,l);if(K.length===0)return;const ce=new Set(c.map(Fc)),_e=new Set(ce),ve=[],fe=[];for(const Se of K){const De=Fc(Se);if(_e.has(De)){fe.push(Se);continue}_e.add(De),ve.push(Se)}if(fe.length>0){const Se=Array.from(new Set(fe.map(Oe=>Oe.name))),De=fe.length;if(Se.length===1){const Oe=De===1?"Se omiti 1 archivo duplicado":`Se omitieron ${De} archivos duplicados`;w(`${Oe}: "${Se[0]}".`)}else w(`Se omitieron ${De} archivos duplicados: ${Se.join(", ")}.`)}ve.length>0&&m(ve)},[l,c,m]);if(b.useEffect(()=>{if(!e)return;const U=ce=>{ce.preventDefault(),ce.stopPropagation()},K=ce=>{if(ce.preventDefault(),ce.stopPropagation(),a)return;const _e=ce.dataTransfer?.files?Array.from(ce.dataTransfer.files):[];_(_e)};return window.addEventListener("dragover",U,!0),window.addEventListener("drop",K,!0),()=>{window.removeEventListener("dragover",U,!0),window.removeEventListener("drop",K,!0)}},[e,a,_]),!e)return null;const A=()=>{a||p.current?.click()},B=U=>{const K=U.target.files?Array.from(U.target.files):[];_(K),U.currentTarget.value=""},T=()=>{a||(p.current&&(p.current.value=""),g())},Y=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current+=1,N(!0))},D=U=>{U.preventDefault(),U.stopPropagation()},O=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&N(!1))},H=U=>{if(U.preventDefault(),U.stopPropagation(),v.current=0,N(!1),a)return;const K=U.dataTransfer?.files?Array.from(U.dataTransfer.files):[];_(K)};return i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:U=>{U.target===U.currentTarget&&d()},children:i.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),i.jsxs("div",{className:"modal-body",children:[i.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:B,disabled:a}),q?i.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[i.jsx("div",{children:q}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>w("")})]}):null,i.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:Y,onDragOver:D,onDragLeave:O,onDrop:H,"aria-disabled":a?"true":"false",children:[i.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",i.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:A,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?i.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[i.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:A,disabled:a,children:"Agregar ms"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:T,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:i.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:i.jsx("ul",{className:"list-group",children:c.map(U=>{const K=_0(U);return i.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[i.jsx("div",{className:"text-truncate",style:{minWidth:0},children:U.name}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(K),disabled:a,children:"Eliminar"})]},K)})})})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function l2(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(l=>l.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function du({label:e,title:a,accept:s,disabled:l=!1,fullDropArea:c=!1,files:d,setFiles:m}){const[h,g]=b.useState(!1),[p,v]=b.useState(!1),[x,N]=b.useState(""),q=b.useRef(0),w=b.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),_=d.length===0?"Agregar archivos":"Modificar/agregar archivos",A=H=>{const U=lh(H,s);U.length!==0&&m(K=>{const{merged:ce,duplicates:_e}=RT(K,U);return _e.length>0&&N(l2(_e)),ce})},B=H=>{H.preventDefault(),H.stopPropagation(),!l&&(q.current+=1,v(!0))},T=H=>{H.preventDefault(),H.stopPropagation()},Y=H=>{H.preventDefault(),H.stopPropagation(),!l&&(q.current=Math.max(0,q.current-1),q.current===0&&v(!1))},D=H=>{if(H.preventDefault(),H.stopPropagation(),q.current=0,v(!1),l)return;const U=H.dataTransfer?.files?Array.from(H.dataTransfer.files):[];A(U)},O=i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"form-label",children:e}),i.jsxs("div",{className:"input-group",children:[i.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:_}),i.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:w})]}),x?i.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[i.jsx("div",{children:x}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>N("")})]}):null]});return i.jsxs(i.Fragment,{children:[c?i.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:Y,onDrop:D,"aria-disabled":l?"true":"false",children:O}):i.jsxs("div",{children:[i.jsx("label",{className:"form-label",children:e}),i.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:Y,onDrop:D,"aria-disabled":l?"true":"false",children:i.jsxs("div",{className:"input-group",children:[i.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:_}),i.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:w})]})}),x?i.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[i.jsx("div",{children:x}),i.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>N("")})]}):null]}),i.jsx(r2,{show:h,disabled:l,title:a,accept:s,files:d,onClose:()=>g(!1),onAddFiles:A,onRemoveFile:H=>m(U=>U.filter(K=>_0(K)!==H)),onRemoveAll:()=>m([])})]})}function i2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function o2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function c2(e){if(!pt.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=l?.detail??a.message;return{detail:String(c),code:s}}function u2(){const[e,a]=b.useState(null),[s,l]=b.useState([]),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,x]=b.useState(9),[N,q]=b.useState("ERROR FINAL"),[w,_]=b.useState(!0),[A,B]=b.useState(!1),[T,Y]=b.useState(!1),[D,O]=b.useState(null),[H,U]=b.useState(null),[K,ce]=b.useState([]),[_e,ve]=b.useState(""),fe=b.useRef(null),Se=b.useRef(null),[De,Oe]=b.useState(!1),[M,I]=b.useState(!1),[W,ye]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),we=b.useMemo(()=>!!e&&s.length>0&&!D,[e,s,D]);function j(de){ce($e=>[de,...$e].slice(0,200));const ke=typeof de.percent=="number"?de.percent:typeof de.progress=="number"?de.progress:null;ke!=null&&Number.isFinite(ke)&&U(Math.max(0,Math.min(100,ke)))}function Z(){fe.current?.abort(),fe.current=null}function ie(){D&&Z()}function k(de,ke){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const $e=new FormData;$e.append("base_file",e);for(const ut of s)$e.append("oi_files",ut);const Fe=(ke??c).trim();return Fe&&$e.append("default_password",Fe),m.trim()&&$e.append("per_file_passwords_json",m.trim()),g.trim()&&$e.append("oi_pattern",g.trim()),$e.append("oi_start_row",String(v)),N.trim()&&$e.append("base_sheet",N.trim()),de&&$e.append("operation_id",de),$e}function oe(){Se.current=null,I(!1)}function pe(de,ke){Se.current=de,ye(ke),I(!0)}async function Re(de){ve(""),ce([]),U(0),fe.current=new AbortController,O("dry");try{const ke=k(void 0,de?.passwordOverride);await BT(ke,j,fe.current.signal)}catch(ke){if(ke?.name==="AbortError")return;const $e=ke?.code,Fe=String(ke?.message??ke);if($e==="PASSWORD_REQUIRED"){ve(""),pe("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if($e==="WRONG_PASSWORD"){ve(""),pe("dry","Contrasea incorrecta. Intenta nuevamente.");return}else ve(Fe)}finally{Z(),O(null)}}async function Ie(de){ve(""),ce([]),U(0);const ke=crypto.randomUUID();fe.current=new AbortController,oh(ke,j,fe.current.signal).catch(()=>{}),O("upload");try{const $e=k(ke,de?.passwordOverride);$e.append("replicate_merges",w?"true":"false"),$e.append("replicate_row_heights",A?"true":"false"),$e.append("replicate_col_widths",T?"true":"false");const Fe=await qT($e,fe.current.signal),ut=Fe.headers["content-disposition"],Te=Fe.headers["x-file-name"],Pe=i2(ut)??Te??"base_actualizada.xlsx";o2(Fe.data,Pe)}catch($e){if(pt.isAxiosError($e)&&$e.code==="ERR_CANCELED")return;const{detail:Fe,code:ut}=await c2($e);if(ut==="PASSWORD_REQUIRED"){ve(""),pe("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(ut==="WRONG_PASSWORD"){ve(""),pe("upload","Contrasea incorrecta. Intenta nuevamente.");return}else ve(Fe)}finally{Z(),O(null)}}return i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),i.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-12 mB-15",children:i.jsx(Hi,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!D})}),i.jsx("div",{className:"col-12 mB-15",children:i.jsx(du,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!D})}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),i.jsx("input",{className:"form-control",type:"password",value:c,onChange:de=>d(de.target.value),disabled:!!D})]}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),i.jsx("input",{className:"form-control",value:N,onChange:de=>q(de.target.value),disabled:!!D})]}),De?i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),i.jsx("input",{className:"form-control",value:g,onChange:de=>p(de.target.value),disabled:!!D})]}):null,i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label",children:"Fila inicio OI"}),i.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:de=>x(Number(de.target.value||9)),disabled:!!D})]}),i.jsxs("div",{className:"col-12 mB-15",children:[i.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),i.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:de=>h(de.target.value),disabled:!!D,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),De?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"col-md-4 mB-15",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:w,onChange:de=>_(de.target.checked),disabled:!!D}),i.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),i.jsx("div",{className:"col-md-4 mB-15",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:A,onChange:de=>B(de.target.checked),disabled:!!D}),i.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),i.jsx("div",{className:"col-md-4 mB-15",children:i.jsxs("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:T,onChange:de=>Y(de.target.checked),disabled:!!D}),i.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),_e&&i.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:_e}),i.jsx("div",{className:"d-flex justify-content-end mT-10",children:i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Oe(de=>!de),disabled:!!D,children:De?"Menos Opciones":"Ms Opciones"})}),i.jsxs("div",{className:"d-flex gap-10 mT-15",children:[i.jsx("button",{className:"btn btn-primary",disabled:!we,onClick:()=>void Ie(),children:D==="upload"?"Procesando...":"Procesar y Descargar"}),i.jsx("button",{className:"btn btn-outline-danger",disabled:!D,onClick:ie,children:"Cancelar"}),i.jsx("button",{className:"btn btn-outline-primary",disabled:!we,onClick:()=>void Re(),children:D==="dry"?"Analizando...":"Analizar"})]})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),D?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${H??0}%`},"aria-valuenow":H??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:K.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:K.map((de,ke)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:jl(de.type)})," ",de.stage?i.jsxs("span",{className:"text-muted",children:["[",eo(de.stage),"]"]}):null,typeof de.percent=="number"?i.jsxs("span",{className:"text-muted",children:["  ",de.percent.toFixed(1),"%"]}):null]}),i.jsx("div",{className:"text-muted",children:Dl(de.message??de.detail??"")}),de.code?i.jsxs("div",{className:"text-muted",children:["Cdigo: ",de.code]}):null]},ke))})})]})})]}),i.jsx(uu,{show:M,title:"Archivo protegido",confirmLabel:"Continuar",helpText:W,onClose:oe,onConfirm:de=>{d(de),I(!1);const ke=Se.current;Se.current=null,ke&&(ke==="dry"?Re({passwordOverride:de}):Ie({passwordOverride:de}))}})]})}const d2="America/Lima";function f2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function m2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function h2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:d2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function p2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function g2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function y2(){const[e,a]=b.useState([]),[s,l]=b.useState(0),[c,d]=b.useState(!1),[m,h]=b.useState(""),[g,p]=b.useState(0),[v,x]=b.useState(""),[N,q]=b.useState(""),[w,_]=b.useState(""),[A,B]=b.useState(""),[T,Y]=b.useState(20),[D,O]=b.useState(1),[H,U]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),K=b.useMemo(()=>(D-1)*T,[D,T]);b.useEffect(()=>{let I=!1;return d(!0),h(""),JT({limit:T,offset:K,q:H.q||void 0,dateFrom:H.dateFrom||void 0,dateTo:H.dateTo||void 0,origin:H.origin||void 0}).then(W=>{I||(a(Array.isArray(W?.items)?W.items:[]),l(typeof W?.total=="number"?W.total:0))}).catch(W=>{if(I)return;const ye=W,we=ye.response?.data?.detail||ye.message||"No se pudo cargar historial.";h(we)}).finally(()=>{I||d(!1)}),()=>{I=!0}},[H,K,T,g]);const ce=()=>{U({q:v.trim(),dateFrom:N.trim(),dateTo:w.trim(),origin:A.trim()}),O(1)},_e=()=>{x(""),q(""),_(""),B(""),U({q:"",dateFrom:"",dateTo:"",origin:""}),O(1),p(I=>I+1)},ve=()=>p(I=>I+1),fe=async I=>{try{h("");const W=await WT(I),ye=W.headers["content-disposition"],we=W.headers["x-file-name"],j=f2(ye)??we??"formato_ac.xlsx";m2(W.data,j)}catch(W){const ye=W;if(pt.isCancel(ye))return;const we=ye.response?.data?.detail||ye.message||"No se pudo descargar.";h(we)}},Se=s===0?0:K+1,De=s===0?0:Math.min(K+e.length,s),Oe=D>1,M=K+e.length<s;return i.jsx("div",{className:"container-fluid",children:i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[i.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:i.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),m?i.jsx("div",{className:"alert alert-danger",role:"alert",children:m}):null,i.jsxs("form",{className:"row g-2 align-items-end",onSubmit:I=>{I.preventDefault(),ce()},children:[i.jsxs("div",{className:"col-md-4",children:[i.jsx("label",{className:"form-label",children:"Buscar"}),i.jsx("input",{className:"form-control form-control-sm",value:v,onChange:I=>x(I.target.value),onKeyDown:I=>{I.key==="Enter"&&ce()},placeholder:"Operacion o usuario..."})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Fecha desde"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:N,onChange:I=>q(I.target.value)})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Fecha hasta"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:w,onChange:I=>_(I.target.value)})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Origen"}),i.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:I=>B(I.target.value),children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),i.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:T,onChange:I=>{const W=Number(I.target.value);Y(Number.isFinite(W)?W:20),O(1)},children:[i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[i.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:_e,children:"Limpiar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:ve,children:"Recargar"})]})]}),i.jsxs("div",{className:"mT-15",children:[c?i.jsx("div",{className:"text-muted",children:"Cargando historial..."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),i.jsx("tbody",{children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(I=>{const W=I.created_by_full_name||I.created_by_username||"N/D";return i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:I.operation_id}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:h2(I.created_at)}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:W}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:g2(I.origin)}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("span",{className:p2(I.status),children:I.status})}),i.jsx("td",{children:i.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void fe(I.id),children:"Descargar"})})})]},I.id)})})]})}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[i.jsxs("div",{className:"small text-muted",children:["Mostrando ",Se,"-",De," de ",s," registros"]}),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>Math.max(1,I-1)),disabled:!Oe||c,children:"Anterior"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>I+1),disabled:!M||c,children:"Siguiente"})]})]})]})]})})})})}function b2(){return i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),i.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6 mB-15",children:i.jsx("div",{className:"card h-100",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title",children:"Correlativo"}),i.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),i.jsx(Cc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),i.jsx("div",{className:"col-md-6 mB-15",children:i.jsx("div",{className:"card h-100",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title",children:"No correlativo"}),i.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),i.jsx(Cc,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function v2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function x2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function S2(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function N2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[N,q]=b.useState([]),w=b.useRef(null),_=b.useRef(null),A=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{A0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const H=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;H!=null&&Number.isFinite(H)&&x(Math.max(0,Math.min(100,H)))}function T(){w.current?.abort(),w.current=null}function Y(){if(!m)return;const O=_.current;O&&O0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function D(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const H=crypto.randomUUID();_.current=H,O.append("operation_id",H),w.current=new AbortController,h(!0);try{const U=w.current?.signal;oh(H,B,U).catch(()=>{});const K=await C0(O,"correlativo",U),ce=K.headers["content-disposition"],_e=v2(ce)??"consolidado_correlativo.xlsx";x2(K.data,_e)}catch(U){if(pt.isAxiosError(U)&&U.code==="ERR_CANCELED"||pt.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const K=await S2(U);B({type:"error",stage:"error",detail:K}),p(K)}finally{_.current=null,h(!1),T()}}return i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),i.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&i.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",i.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",i.jsx("b",{children:e.max_tech_files})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-12 mB-15",children:i.jsx(Hi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),i.jsx("div",{className:"col-12 mB-15",children:i.jsx(du,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),g&&i.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),i.jsxs("div",{className:"d-flex gap-10 mT-20",children:[i.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:D,children:m?"Procesando...":"Procesar y Descargar"}),i.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:Y,children:"Cancelar"})]})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),m?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:N.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:N.map((O,H)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:jl(O.type)})," ",O.stage?i.jsxs("span",{className:"text-muted",children:["[",eo(O.stage),"]"]}):null]}),i.jsx("div",{className:"text-muted",children:Dl(O.message??O.detail??"")})]},H))})})]})})]})})}function j2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function w2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function _2(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function E2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[N,q]=b.useState([]),w=b.useRef(null),_=b.useRef(null),A=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{A0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const H=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;H!=null&&Number.isFinite(H)&&x(Math.max(0,Math.min(100,H)))}function T(){w.current?.abort(),w.current=null}function Y(){if(!m)return;const O=_.current;O&&O0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function D(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const H=crypto.randomUUID();_.current=H,O.append("operation_id",H),w.current=new AbortController,h(!0);try{const U=w.current?.signal;oh(H,B,U).catch(()=>{});const K=await C0(O,"no-correlativo",U),ce=K.headers["content-disposition"],_e=j2(ce)??"consolidado_no_correlativo.xlsx";w2(K.data,_e)}catch(U){if(pt.isAxiosError(U)&&U.code==="ERR_CANCELED"||pt.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const K=await _2(U);B({type:"error",stage:"error",detail:K}),p(K)}finally{_.current=null,h(!1),T()}}return i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),i.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&i.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",i.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",i.jsx("b",{children:e.max_tech_files})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-12 mB-15",children:i.jsx(Hi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),i.jsx("div",{className:"col-12 mB-15",children:i.jsx(du,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),g&&i.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),i.jsxs("div",{className:"d-flex gap-10 mT-20",children:[i.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:D,children:m?"Procesando...":"Procesar y Descargar"}),i.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:Y,children:"Cancelar"})]})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),m?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:N.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:N.map((O,H)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:jl(O.type)})," ",O.stage?i.jsxs("span",{className:"text-muted",children:["[",eo(O.stage),"]"]}):null]}),i.jsx("div",{className:"text-muted",children:Dl(O.message??O.detail??"")})]},H))})})]})})]})})}async function Ti(e){if(!pt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function A2(){const[e,a]=b.useState(null),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState("ERROR FINAL"),[v,x]=b.useState(""),[N,q]=b.useState("same_password"),[w,_]=b.useState(""),[A,B]=b.useState([{cell:"A1",value:""}]),[T,Y]=b.useState(""),[D,O]=b.useState("no_password"),[H,U]=b.useState(""),[K,ce]=b.useState("ERROR FINAL"),[_e,ve]=b.useState(1),[fe,Se]=b.useState(""),[De,Oe]=b.useState(""),[M,I]=b.useState(""),[W,ye]=b.useState(null),[we,j]=b.useState(""),[Z,ie]=b.useState(null),[k,oe]=b.useState([]),[pe,Re]=b.useState(null),Ie=b.useMemo(()=>c.trim().length>0,[c]);function de(me){oe(He=>[me,...He].slice(0,200))}function ke(){j(""),oe([]),ie(0),Re(null)}async function $e(){if(ke(),!e){j("Selecciona un archivo para subir.");return}ye("upload");try{de({type:"status",stage:"upload",message:"Subiendo archivo..."}),ie(30);const me=new FormData;me.append("file",e),s.trim()&&me.append("suggested_name",s.trim());const He=await e2(me);d(He.relative_path),Re(He),de({type:"complete",stage:"upload",message:"Archivo subido."}),ie(100)}catch(me){const He=await Ti(me);j(He),de({type:"error",stage:"upload",detail:He})}finally{ye(null)}}async function Fe(){if(ke(),!Ie){j("Ingresa o sube un archivo para obtener file_path.");return}ye("inspect");try{de({type:"status",stage:"inspect",message:"Inspeccionando..."}),ie(50);const me=await t2({file_path:c.trim(),open_password:m.trim()||null});Re(me),de({type:"complete",stage:"inspect",message:"Inspeccin completada."}),ie(100)}catch(me){const He=await Ti(me);j(He),de({type:"error",stage:"inspect",detail:He})}finally{ye(null)}}async function ut(){if(ke(),!Ie){j("Ingresa o sube un archivo para obtener file_path.");return}if(!g.trim()){j("Ingresa el nombre de la hoja.");return}const me=A.map(He=>({cell:He.cell.trim(),value:He.value})).filter(He=>He.cell);if(me.length===0){j("Agrega al menos una edicin.");return}ye("update");try{de({type:"status",stage:"update",message:"Aplicando ediciones..."}),ie(50);const He=await n2({file_path:c.trim(),edits:me.map(Ae=>({sheet:g.trim(),cell:Ae.cell,value:Ae.value})),open_password:v.trim()||null,save_mode:N,new_password:N==="new_password"&&w.trim()||null});Re(He),de({type:"complete",stage:"update",message:"Actualizacin completada."}),ie(100)}catch(He){const Ae=await Ti(He);j(Ae),de({type:"error",stage:"update",detail:Ae})}finally{ye(null)}}async function Te(){if(ke(),!Ie){j("Ingresa o sube un archivo para obtener file_path.");return}if(!T.trim()){j("Ingresa la contrasea de apertura (open_password).");return}if(D==="new_password"&&!H.trim()){j("Ingresa la nueva contrasea.");return}ye("change-password");try{de({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),ie(50);const me=await a2({file_path:c.trim(),open_password:T.trim(),mode:D,new_password:D==="new_password"?H.trim():null});Re(me),de({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),ie(100)}catch(me){const He=await Ti(me);j(He),de({type:"error",stage:"change-password",detail:He})}finally{ye(null)}}async function Pe(){if(ke(),!Ie){j("Ingresa o sube un archivo para obtener file_path.");return}let me={};if(De.trim())try{me=JSON.parse(De)}catch{j("type_rules debe ser JSON vlido.");return}const He=fe.split(",").map(Ae=>Ae.trim()).filter(Boolean);ye("validate");try{de({type:"status",stage:"validate",message:"Validando..."}),ie(50);const Ae=await s2({file_path:c.trim(),sheet:K.trim()||null,header_row:_e,required_columns:He,type_rules:me,open_password:M.trim()||null});Re(Ae),de({type:"complete",stage:"validate",message:"Validacin completada."}),ie(100)}catch(Ae){const Je=await Ti(Ae);j(Je),de({type:"error",stage:"validate",detail:Je})}finally{ye(null)}}return i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-7",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),i.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),i.jsx("div",{className:"card mB-15",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-8 mB-10",children:i.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!W,onChange:me=>a(me.target.files?.[0]??null)})}),i.jsx("div",{className:"col-md-4 mB-10",children:i.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!W,onChange:me=>l(me.target.value)})})]}),i.jsx("button",{className:"btn btn-outline-primary",disabled:!!W||!e,onClick:$e,children:W==="upload"?"Subiendo...":"Subir"})]})}),i.jsxs("div",{className:"mB-15",children:[i.jsx("label",{className:"form-label",children:"file_path"}),i.jsx("input",{className:"form-control",value:c,disabled:!!W,onChange:me=>d(me.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),i.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),i.jsx("div",{className:"card mB-15",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"2) Inspect"}),i.jsxs("div",{className:"row align-items-end",children:[i.jsxs("div",{className:"col-md-8 mB-10",children:[i.jsx("label",{className:"form-label",children:"open_password (opcional)"}),i.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!W,onChange:me=>h(me.target.value)})]}),i.jsx("div",{className:"col-md-4 mB-10",children:i.jsx("button",{className:"btn btn-primary w-100",disabled:!!W||!Ie,onClick:Fe,children:W==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),i.jsx("div",{className:"card mB-15",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"Hoja"}),i.jsx("input",{className:"form-control",value:g,disabled:!!W,onChange:me=>p(me.target.value)})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"open_password (opcional)"}),i.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!W,onChange:me=>x(me.target.value)})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"save_mode"}),i.jsxs("select",{className:"form-select",value:N,disabled:!!W,onChange:me=>q(me.target.value),children:[i.jsx("option",{value:"same_password",children:"same_password"}),i.jsx("option",{value:"no_password",children:"no_password"}),i.jsx("option",{value:"new_password",children:"new_password"})]})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"new_password"}),i.jsx("input",{className:"form-control",type:"password",value:w,disabled:!!W||N!=="new_password",onChange:me=>_(me.target.value),placeholder:N==="new_password"?"Requerido":""})]})]}),i.jsxs("div",{className:"mT-10",children:[i.jsx("label",{className:"form-label",children:"Ediciones"}),A.map((me,He)=>i.jsxs("div",{className:"row g-2 mB-10",children:[i.jsx("div",{className:"col-md-3",children:i.jsx("input",{className:"form-control",value:me.cell,disabled:!!W,onChange:Ae=>{const Je=A.slice();Je[He]={...Je[He],cell:Ae.target.value},B(Je)},placeholder:"Celda (A1)"})}),i.jsx("div",{className:"col-md-7",children:i.jsx("input",{className:"form-control",value:me.value,disabled:!!W,onChange:Ae=>{const Je=A.slice();Je[He]={...Je[He],value:Ae.target.value},B(Je)},placeholder:"Valor"})}),i.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!W,onClick:()=>B(Ae=>[...Ae,{cell:"A1",value:""}]),children:"+"}),i.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!W||A.length===1,onClick:()=>B(Ae=>Ae.filter((Je,C)=>C!==He)),children:""})]})]},He))]}),i.jsx("button",{className:"btn btn-primary",disabled:!!W||!Ie,onClick:ut,children:W==="update"?"Actualizando...":"Update"})]})}),i.jsx("div",{className:"card mB-15",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"4) Change password"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"open_password"}),i.jsx("input",{className:"form-control",type:"password",value:T,disabled:!!W,onChange:me=>Y(me.target.value)})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"mode"}),i.jsxs("select",{className:"form-select",value:D,disabled:!!W,onChange:me=>O(me.target.value),children:[i.jsx("option",{value:"no_password",children:"no_password"}),i.jsx("option",{value:"new_password",children:"new_password"})]})]}),i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"new_password"}),i.jsx("input",{className:"form-control",type:"password",value:H,disabled:!!W||D!=="new_password",onChange:me=>U(me.target.value),placeholder:D==="new_password"?"Requerido":""})]}),i.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:i.jsx("button",{className:"btn btn-primary w-100",disabled:!!W||!Ie,onClick:Te,children:W==="change-password"?"Procesando...":"Change password"})})]})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title",children:"5) Validate"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mB-10",children:[i.jsx("label",{className:"form-label",children:"sheet (opcional)"}),i.jsx("input",{className:"form-control",value:K,disabled:!!W,onChange:me=>ce(me.target.value)})]}),i.jsxs("div",{className:"col-md-3 mB-10",children:[i.jsx("label",{className:"form-label",children:"header_row"}),i.jsx("input",{className:"form-control",type:"number",min:1,value:_e,disabled:!!W,onChange:me=>ve(Number(me.target.value||1))})]}),i.jsxs("div",{className:"col-md-3 mB-10",children:[i.jsx("label",{className:"form-label",children:"open_password (opcional)"}),i.jsx("input",{className:"form-control",type:"password",value:M,disabled:!!W,onChange:me=>I(me.target.value)})]}),i.jsxs("div",{className:"col-12 mB-10",children:[i.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),i.jsx("input",{className:"form-control",value:fe,disabled:!!W,onChange:me=>Se(me.target.value),placeholder:"ColA, ColB, ColC"})]}),i.jsxs("div",{className:"col-12 mB-10",children:[i.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),i.jsx("textarea",{className:"form-control",rows:3,value:De,disabled:!!W,onChange:me=>Oe(me.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),i.jsx("button",{className:"btn btn-primary",disabled:!!W||!Ie,onClick:Pe,children:W==="validate"?"Validando...":"Validate"})]})}),we&&i.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:we})]})}),i.jsx("div",{className:"col-md-5",children:i.jsxs("div",{className:"bgc-white p-20 bd",children:[i.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),W?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress mB-15",style:{height:12},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Z??0}%`},"aria-valuenow":Z??0,"aria-valuemin":0,"aria-valuemax":100})}),i.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:k.length===0?i.jsx("div",{className:"text-muted",children:"Sin eventos an."}):i.jsx("ul",{className:"list-unstyled mB-0",children:k.map((me,He)=>i.jsxs("li",{className:"mB-10",children:[i.jsxs("div",{children:[i.jsx("b",{children:me.type})," ",me.stage?i.jsxs("span",{className:"text-muted",children:["[",me.stage,"]"]}):null]}),i.jsx("div",{className:"text-muted",children:me.message??me.detail??""})]},He))})}),i.jsx("hr",{className:"mY-15"}),i.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),pe?i.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(pe,null,2)}):i.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function C2(){const e=Vn(),a=Ar(),{toast:s}=Cr(),l=Rn(),c=Nl(l?.role),d=qi(),m=c&&!(d&&d>0),{data:h,isLoading:g,error:p}=jr({queryKey:["catalogs"],queryFn:Km,enabled:m}),v=h?.bancos??[],[x,N]=b.useState(()=>d&&d>0?d:0),[q,w]=b.useState(!1),_=b.useMemo(()=>v.find(Y=>Y.id===x)?.name??null,[v,x]);b.useEffect(()=>{const T=e.state;T?.toast&&(s({kind:T.toast.kind??"info",title:T.toast.title,message:T.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),b.useEffect(()=>{m&&(x>0||v.length>0&&N(v[0].id))},[x,v,m]);const A=x>0&&!q,B=async()=>{if(A)try{w(!0);const T=await Yx(x),Y=hm(T.userId,T.bancoId??x);if(Y.target){a(Y.target,{replace:!0});return}s({kind:"success",title:"Banco",message:_?`Banco seleccionado: ${_}`:"Banco seleccionado."})}catch(T){const Y=T?.response?.data?.detail??T?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(Y)})}finally{w(!1)}};return i.jsxs("div",{className:"vi-home",children:[i.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsx("div",{className:"modal-header",children:i.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),i.jsxs("div",{className:"modal-body",children:[i.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),i.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),i.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:T=>N(Number(T.target.value)),disabled:g||q,children:v.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))}),p?i.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{type:"button",className:"btn btn-primary",disabled:!A,onClick:B,children:q?"Guardando...":"Continuar"})})]})})})]})}const Di=(...e)=>{};function O2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function R2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function T2(e,a){let s=null,l=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function D2(){const[e,a]=b.useState([]),[s,l]=b.useState(""),[c,d]=b.useState([]),[m,h]=b.useState(0),[g,p]=b.useState("Listo para procesar"),[v,x]=b.useState(!1),[N,q]=b.useState(""),[w,_]=b.useState(!1),[A,B]=b.useState(null),[T,Y]=b.useState(null),[D,O]=b.useState(!1);function H(R){const P=R?.series_duplicates_eliminated??R?.detail?.series_duplicates_eliminated??R?.series_duplcates_eliminated;return typeof P=="number"?P:null}const U={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function K(R){const P=String(R??"").trim().toUpperCase();return P?U[P]??P:""}function ce(R){if(!R)return"";let P=Dl(R);P=P.replace(/\bERROR\b/gi,"Error");for(const[V,se]of Object.entries(U))P=P.replace(new RegExp(`\\b${V}\\b`,"g"),se);return P}function _e(R,P){const V=K(R),se=ce(P);return se?V&&!se.toLowerCase().includes(V.toLowerCase())?`${V}: ${se}`:se:V||"N/D"}function ve(R,P,V){const se=String(V??"").trim();if(se)return se;const Ce=Number(R);if(!Number.isFinite(Ce)||Ce<=0)return"N/D";const Le=Number(P);return Number.isFinite(Le)&&Le>0?`OI-${String(Ce).padStart(4,"0")}-${String(Le).padStart(4,"0")}`:`OI-${String(Ce).padStart(4,"0")}`}function fe(R){const P=R?.rows_total_read??R?.totals_input?.rows_read;return typeof P=="number"?P:null}const Se=b.useMemo(()=>(Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[]).filter(P=>P?.status==="OK"&&String(P?.source??"").toUpperCase()==="BASES").slice().sort((P,V)=>{const se=Number(P?.oi_year),Ce=Number(V?.oi_year),Le=Number.isFinite(se)&&se>0,te=Number.isFinite(Ce)&&Ce>0;if(Le&&te&&se!==Ce)return se-Ce;if(Le&&!te)return-1;if(!Le&&te)return 1;const Ue=Number(P?.oi_num),Ze=Number(V?.oi_num),at=Number.isFinite(Ue),Vt=Number.isFinite(Ze);if(at&&Vt&&Ue!==Ze)return Ue-Ze;if(at&&!Vt)return-1;if(!at&&Vt)return 1;const xe=String(P?.oi_tag??P?.oi??P?.oi_num??"").toUpperCase(),et=String(V?.oi_tag??V?.oi??V?.oi_num??"").toUpperCase();return xe.localeCompare(et)}),[T]),De=b.useMemo(()=>(Array.isArray(T?.files_rejected)?T.files_rejected:[]).slice().sort((P,V)=>{const se=String(P?.oi??P?.filename??"").toUpperCase(),Ce=String(V?.oi??V?.filename??"").toUpperCase();return se.localeCompare(Ce)}),[T]),Oe=b.useMemo(()=>{const R=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),P=T?.by_source;if(P&&typeof P=="object")return P;const V={BASES:R(),GASELAG:R()},se=Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[];for(const Le of se){if(Le?.status!=="OK")continue;const Ue=String(Le?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";V[Ue].files_ok+=1,V[Ue].rows_read+=Number(Le?.rows_read??0)||0,V[Ue].conformes+=Number(Le?.conformes??0)||0,V[Ue].no_conformes+=Number(Le?.no_conformes??0)||0,V[Ue].rows_ignored_invalid_estado+=Number(Le?.rows_ignored_invalid_estado??0)||0}const Ce=Array.isArray(T?.files_rejected)?T.files_rejected:[];for(const Le of Ce){const Ue=String(Le?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";V[Ue].files_error+=1}for(const Le of["BASES","GASELAG"])V[Le].files_total=V[Le].files_ok+V[Le].files_error;return V},[T]),M=b.useRef(null),I=b.useRef(null),W=b.useRef(null),ye=b.useRef(!1),we=b.useRef(null),j=b.useRef(null),Z=b.useRef(null),ie=b.useRef(!1),k=b.useRef(!1),oe=b.useRef(-1),pe=b.useRef(-1),Re=b.useRef(!1);function Ie(){return we.current||(we.current=crypto.randomUUID()),we.current}function de(R){const P=`${jl(R.type)}  ${eo(R.stage)}  ${ce(R.message??R.detail??"")}`;if(p(P),d(V=>{const se=[R,...V];if(!Re.current&&R.stage==="cancelled"){Re.current=!0;const Ce=se.filter(Ze=>Ze.stage==="file_done"||Ze.stage==="file_error").length,Le=se.filter(Ze=>Ze.stage==="file_done").length,te=se.filter(Ze=>Ze.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Ce} (OK: ${Le}, Rechazados: ${te}). No se gener resultado final.`},...se]}return se}),R.type==="complete"){const V=R.result??null;Y(V)}typeof R.progress=="number"&&h(Math.round(R.progress)),typeof R.percent=="number"&&h(Math.round(R.percent)),!ye.current&&(R.type==="complete"||R.stage==="cancelled"||R.stage==="failed")&&(ye.current=!0,R.type==="complete"?(_(!0),B(we.current)):(_(!1),B(null),we.current=null),x(!1),ut("terminal_event"),Te())}function ke(R){return typeof R.cursor!="number"?!1:R.cursor<=pe.current?!0:(pe.current=R.cursor,R.cursor>oe.current&&(oe.current=R.cursor),!1)}function $e(R){ye.current||ke(R)||de(R)}function Fe(R,P){const V=new FormData;V.append("operation_id",R),V.append("source","AUTO"),s.trim()&&V.append("output_filename",s.trim());for(const se of P)V.append("files",se);return V}function ut(R){I.current&&(W.current=R,I.current.abort(),I.current=null)}function Te(R){k.current&&(k.current=!1,j.current!=null&&(window.clearTimeout(j.current),j.current=null),Z.current?.abort(),Z.current=null,ie.current=!1)}function Pe(R){k.current&&(j.current!=null&&window.clearTimeout(j.current),j.current=window.setTimeout(()=>{me()},R))}async function me(){if(!k.current||ie.current)return;const R=we.current;if(!R){Te();return}ie.current=!0;try{const P=await $T(R,oe.current,Z.current?.signal);Di("[LOG01] poll cursor =",oe.current,"->",P.cursor_next),oe.current=P.cursor_next;for(const V of P.events)$e(V);if(P.done&&P.events.length===0){Te("done");return}}catch(P){P?.name}finally{ie.current=!1,k.current&&Pe(350)}}function He(R){k.current||(k.current=!0,Z.current=new AbortController,Pe(0))}function Ae(){M.current?.abort(),M.current=null}async function Je(){if(!v)return;const R=we.current;if(R)try{await HT(R)}catch(P){const V=P;pt.isCancel(V)||q(V.response?.data?.detail||V.message||"No se pudo cancelar la operacion")}Ae()}async function C(){q(""),d([]),Y(null),h(0),p("Listo para procesar"),_(!1),B(null),W.current=null,ye.current=!1,Re.current=!1,oe.current=-1,pe.current=-1,Te();const R=[...e];if(!R.length){q("Debes seleccionar al menos 1 Excel.");return}we.current=null;const P=Ie();let V=null,se=null;const Ce=new Promise((Ue,Ze)=>{V=Ue,se=Ze});I.current=new AbortController,M.current=new AbortController,LT(P,Ue=>{if(Ue.type==="hello"){V&&(V(),V=null);return}$e(Ue)},I.current.signal).then(()=>{ye.current||He()}).catch(Ue=>{Ue?.name==="AbortError"?Di("[LOG01] progress stream aborted (reason) =",W.current):(se&&(se(Ue),se=null),He())}),x(!0);try{await T2(Ce,1800)?Di("[LOG01] hello received"):He("hello_timeout");const Ze=Fe(P,R);Di("[LOG01] operation_id(start) =",P),await IT(Ze,M.current.signal)}catch(Ue){const Ze=Ue;if(pt.isCancel(Ze))return;const at=Ze.response?.data?.detail||Ze.message||"Error inesperado";q(at),x(!1),Ae(),ut("start_failed"),Te(),we.current=null}finally{Ae()}}async function G(){const R=A??we.current;if(!R){q("No hay resultado disponible.");return}try{q(""),Di("[LOG01] operation_id(result) =",R);const P=await FT(R),V=P.headers["content-disposition"],se=P.headers["x-file-name"],Ce=O2(V)??se??"BD_CONSOLIDADO.xlsx";R2(P.data,Ce)}catch(P){const V=P;if(pt.isCancel(V))return;const se=V.response?.data?.detail||V.message||"No se pudo descargar.";q(se)}}return i.jsx("div",{className:"container-fluid",children:i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),N&&i.jsx("div",{className:"alert alert-danger",role:"alert",children:N}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-12 mB-15",children:[i.jsx(du,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:v}),i.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),i.jsx("input",{className:"form-control",value:s,onChange:R=>l(R.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),i.jsxs("div",{className:"col-md-6 mB-15",children:[i.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),i.jsxs("div",{className:"vi-log01-actions",children:[i.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:C,disabled:v,children:v?"Procesando...":"Consolidar"}),v?i.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Je(),children:"Cancelar"}):null,!v&&w?i.jsx(i.Fragment,{children:i.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void G(),children:"Descargar Excel"})}):null]})]})]}),i.jsxs("div",{className:"mT-10",children:[i.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),v?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),i.jsx("div",{className:"progress",children:i.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),i.jsx("div",{className:"mT-10 text-muted",children:g})]}),!v&&T?i.jsxs("div",{className:"mT-20",children:[i.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),i.jsx("div",{className:"bd p-10",children:i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("div",{className:"small text-muted",children:"Archivos"}),i.jsxs("div",{className:"small",children:["Total: ",i.jsx("strong",{children:T.files_total??"N/D"}),"  OK:"," ",i.jsx("strong",{children:T.files_ok??"N/D"}),"  Rechazados:"," ",i.jsx("strong",{children:T.files_error??"N/D"})]}),i.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),i.jsx("tbody",{children:["BASES","GASELAG"].map(R=>{const P=Oe?.[R]??{},V=P?.files_total??Number(P?.files_ok??0)+Number(P?.files_error??0);return i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:R})}),i.jsxs("td",{style:{whiteSpace:"nowrap"},children:[i.jsx("strong",{children:V??0})," ",i.jsxs("span",{className:"text-muted",children:["(OK: ",P?.files_ok??0,"  Rech: ",P?.files_error??0,")"]})]}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:P?.rows_read??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:P?.conformes??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:P?.no_conformes??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:P?.rows_ignored_invalid_estado??0})})]},R)})})]})}),i.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),Se.length>0?i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),i.jsx("tbody",{children:Se.map((R,P)=>i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:ve(R?.oi_num,R?.oi_year,R?.oi_tag??R?.oi)}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:R?.rows_read??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:R?.conformes??0})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:R?.no_conformes??0})})]},P))})]})}):i.jsx("div",{className:"small text-muted",children:"N/D"}),Number(Oe?.GASELAG?.rows_read??0)>0?i.jsxs("div",{className:"mT-10 small",children:[i.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",i.jsx("strong",{children:Oe.GASELAG.rows_read??0}),"  Conformes:"," ",i.jsx("strong",{children:Oe.GASELAG.conformes??0}),"  No conformes:"," ",i.jsx("strong",{children:Oe.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",i.jsx("strong",{children:Oe.GASELAG.rows_ignored_invalid_estado??0})]}):null,i.jsxs("div",{className:"col-12 mT-10 p-0",children:[i.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),i.jsxs("div",{className:"small",children:["Registros ledos:"," ",i.jsx("strong",{children:T.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",i.jsx("strong",{children:T.totals_input?.conformes??"N/D"}),"  No conformes:"," ",i.jsx("strong",{children:T.totals_input?.no_conformes??"N/D"})]})]})]}),i.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[De.length>0?i.jsxs("div",{className:"mT-15",children:[i.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),i.jsx("tbody",{children:De.map((R,P)=>{const V=_e(R?.code,R?.detail),se=String(R?.source??"").toUpperCase();let Ce=R?.filename??"N/D";if(se==="BASES"){const Le=Number(R?.oi_num),te=ve(Le,R?.oi_year,R?.oi_tag??R?.oi);te!=="N/D"&&(Ce=`${te} / ${Ce}`)}else se==="GASELAG"&&(Ce=`GASELAG / ${Ce}`);return i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:Ce}),i.jsx("td",{children:V})]},P)})})]})})]}):null,i.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),i.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",i.jsx("strong",{children:T.series_total_dedup??"N/D"}),"  Conformes finales:"," ",i.jsx("strong",{children:T.series_conformes??"N/D"}),"  No conformes finales:"," ",i.jsx("strong",{children:T.series_no_conformes_final??"N/D"})]}),i.jsx("div",{className:"mT-10",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(R=>!R),children:D?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),D?i.jsxs("div",{className:"mT-10",children:[i.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),i.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",i.jsx("strong",{children:fe(T)??"N/D"})," "," Duplicados eliminados:"," ",i.jsx("strong",{children:H(T)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",i.jsx("strong",{children:(()=>{const R=fe(T),P=H(T);if(typeof R=="number"&&typeof P=="number")return R-P;const V=T.series_total_dedup;return typeof V=="number"?V:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&i.jsxs("div",{className:"mT-20",children:[i.jsx("h6",{className:"c-grey-900",children:"Eventos"}),i.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((R,P)=>{const V=String(R.message??""),se=String(R.code??""),Ce=String(R.detail??""),Le=ce(V||Ce||""),te=Le.toLowerCase(),Ue=K(se),Ze=ce(Ce),at=[];Ue&&!te.includes(Ue.toLowerCase())&&at.push(Ue),Ze&&!te.includes(Ze.toLowerCase())&&at.push(Ze);const Vt=at.join("  ");return i.jsxs("div",{className:"small",children:[jl(R.type),"  ",Le,Vt?i.jsxs("span",{className:"text-muted",children:[" (",Vt,")"]}):null]},P)})})]})]})})})})}const z2="America/Lima";function M2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function k2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function U2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:z2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function Qf(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function jv(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function L2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning text-dark":"badge bg-secondary"}function B2(){const e=Ar(),a=Rn(),s=Aa(a?.role,a?.username),l=s==="admin"||s==="administrator",[c,d]=b.useState([]),[m,h]=b.useState(0),[g,p]=b.useState(!1),[v,x]=b.useState(""),[N,q]=b.useState(0),[w,_]=b.useState(""),[A,B]=b.useState(""),[T,Y]=b.useState(""),[D,O]=b.useState(""),[H,U]=b.useState(""),[K,ce]=b.useState(20),[_e,ve]=b.useState(1),[fe,Se]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),De=b.useMemo(()=>(_e-1)*K,[_e,K]);b.useEffect(()=>{let k=!1;return p(!0),x(""),_m({limit:K,offset:De,include_deleted:!1,q:fe.q||void 0,dateFrom:fe.dateFrom||void 0,dateTo:fe.dateTo||void 0,source:fe.source||void 0,status:fe.status||void 0}).then(oe=>{k||(d(Array.isArray(oe?.items)?oe.items:[]),h(typeof oe?.total=="number"?oe.total:0))}).catch(oe=>{if(k)return;const pe=oe,Re=pe.response?.data?.detail||pe.message||"No se pudo cargar historial.";x(Re)}).finally(()=>{k||p(!1)}),()=>{k=!0}},[fe,De,K,N]);const Oe=()=>{Se({q:w.trim(),dateFrom:A.trim(),dateTo:T.trim(),source:D.trim(),status:H.trim()}),ve(1)},M=()=>{_(""),B(""),Y(""),O(""),U(""),Se({q:"",dateFrom:"",dateTo:"",source:"",status:""}),ve(1),q(k=>k+1)},I=()=>q(k=>k+1),W=async(k,oe)=>{try{x("");const pe=await VT(k,oe),Re=pe.headers["content-disposition"],Ie=pe.headers["x-file-name"],de=M2(Re)??Ie??`${oe}.bin`;k2(pe.data,de)}catch(pe){const Re=pe;if(pt.isCancel(Re))return;const Ie=Re.response?.data?.detail||Re.message||"No se pudo descargar.";x(Ie)}},ye=async k=>{if(l&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await ZT(k),I()}catch(oe){const pe=oe;if(pt.isCancel(pe))return;const Re=pe.response?.data?.detail||pe.message||"No se pudo eliminar.";x(Re)}},we=m===0?0:De+1,j=m===0?0:Math.min(De+c.length,m),Z=_e>1,ie=De+c.length<m;return i.jsx("div",{className:"container-fluid",children:i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[i.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[i.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),i.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),v?i.jsx("div",{className:"alert alert-danger",role:"alert",children:v}):null,i.jsxs("form",{className:"row g-2 align-items-end",onSubmit:k=>{k.preventDefault(),Oe()},children:[i.jsxs("div",{className:"col-md-3",children:[i.jsx("label",{className:"form-label",children:"Buscar"}),i.jsx("input",{className:"form-control form-control-sm",value:w,onChange:k=>_(k.target.value),onKeyDown:k=>{k.key==="Enter"&&Oe()},placeholder:"Usuario, serie inicial, serie final..."})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Fecha desde"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:A,onChange:k=>B(k.target.value)})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Fecha hasta"}),i.jsx("input",{type:"date",className:"form-control form-control-sm",value:T,onChange:k=>Y(k.target.value)})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Origen"}),i.jsxs("select",{className:"form-select form-select-sm",value:D,onChange:k=>O(k.target.value),children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"AUTO",children:"AUTO"}),i.jsx("option",{value:"BASES",children:"BASES"}),i.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label",children:"Estado"}),i.jsxs("select",{className:"form-select form-select-sm",value:H,onChange:k=>U(k.target.value),children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),i.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),i.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),i.jsxs("div",{className:"col-md-1",children:[i.jsx("label",{className:"form-label",children:"Mostrar"}),i.jsxs("select",{className:"form-select form-select-sm",value:K,onChange:k=>{const oe=Number(k.target.value);ce(Number.isFinite(oe)?oe:20),ve(1)},children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:20,children:"20"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]}),i.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[i.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:g,children:"Buscar"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:M,children:"Limpiar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:I,children:"Recargar"})]})]}),i.jsxs("div",{className:"mT-15",children:[g?i.jsx("div",{className:"text-muted",children:"Cargando historial..."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),i.jsx("tbody",{children:c.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(k=>{const oe=k.summary_json,pe=jv(oe,"serie_ini"),Re=jv(oe,"serie_fin"),Ie=Qf(oe,"series_total_dedup"),de=Qf(oe,"series_conformes"),ke=Qf(oe,"series_no_conformes_final"),$e=k.created_by_full_name||k.created_by_username||"N/D";return i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:U2(k.created_at)}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:$e}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("span",{className:L2(k.status),children:k.status})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:pe}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:Re}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:Ie})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:de})}),i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:ke})}),i.jsx("td",{children:i.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void W(k.id,"excel"),children:"Excel"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void W(k.id,"no-conforme"),children:"No conforme"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void W(k.id,"manifiesto"),children:"Manifiesto"}),l?i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void ye(k.id),children:"Eliminar"}):null]})})]},k.id)})})]})}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[i.jsxs("div",{className:"small text-muted",children:["Mostrando ",we,"-",j," de ",m]}),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>ve(k=>Math.max(1,k-1)),disabled:!Z||g,children:"Anterior"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>ve(k=>k+1),disabled:!ie||g,children:"Siguiente"})]})]})]})]})})})})}function pl(e){return e===!0?"badge bg-success":e===!1?"badge bg-danger":"badge bg-secondary"}const Yf="medileser_log02_rutas_v1",q2="America/Lima";function wv(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:q2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function I2(e){const a=e,s=String(a?.name||""),l=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(l)||/abort/i.test(l)}function $2(){const[e,a]=b.useState([""]),[s,l]=b.useState(""),[c,d]=b.useState(!1),[m,h]=b.useState(""),[g,p]=b.useState(null),[v,x]=b.useState(!1),[N,q]=b.useState(!1),[w,_]=b.useState(!1),[A,B]=b.useState(""),[T,Y]=b.useState([]),[D,O]=b.useState(null),[H,U]=b.useState(""),[K,ce]=b.useState(""),[_e,ve]=b.useState(""),[fe,Se]=b.useState(""),[De,Oe]=b.useState("COMPLETADO"),[M,I]=b.useState(!1),[W,ye]=b.useState(""),[we,j]=b.useState(0),[Z,ie]=b.useState(""),[k,oe]=b.useState(""),[pe,Re]=b.useState(""),[Ie,de]=b.useState([]),[ke,$e]=b.useState([]),[Fe,ut]=b.useState(null),Te=b.useRef(null),Pe=b.useRef(!1),me=b.useRef(!1),He=b.useRef(!0),[Ae,Je]=b.useState(!1),[C,G]=b.useState("origen"),[R,P]=b.useState(null),[V,se]=b.useState([]),[Ce,Le]=b.useState(""),[te,Ue]=b.useState(""),[Ze,at]=b.useState([]),[Vt,xe]=b.useState(!1),[et,Ut]=b.useState("");b.useEffect(()=>{try{const ee=localStorage.getItem(Yf);if(!ee)return;const Ne=JSON.parse(ee),ze=Array.isArray(Ne.origenes)?Ne.origenes:[],Be=typeof Ne?.destino=="string"?Ne.destino:"",gt=typeof Ne?.run_id=="number"?Ne.run_id:null;ze.length&&a(ze),Be&&l(Be),gt!==null&&O({id:gt})}catch{}},[]),b.useEffect(()=>{try{const ee={origenes:e,destino:s,run_id:D?.id??null};localStorage.setItem(Yf,JSON.stringify(ee))}catch{}},[e,s,D?.id]),b.useEffect(()=>(He.current=!0,()=>{if(He.current=!1,Pe.current||me.current)try{Te.current?.abort()}catch{}}),[]);function Et(){a([""]),l(""),p(null),h(""),x(!1),O(null),ut(null),de([]),$e([]),oe(""),ie(""),j(0),Re(""),ye("");try{localStorage.removeItem(Yf)}catch{}}function vn(){a(ee=>{const Ne=new Set,ze=[];for(const Be of ee){const gt=(Be||"").trim();if(!gt)continue;const Ct=gt.toLowerCase();Ne.has(Ct)||(Ne.add(Ct),ze.push(gt))}return ze.length?ze:[""]})}function Tn(){x(!0),P(null),nt("origen")}function Da(ee){x(!0),P(ee),nt("origen")}function In(){x(!0),P(null),nt("destino")}async function st(ee=5){B(""),_(!0);try{const Ne=await _m({limit:ee,offset:0,include_deleted:!1,status:"COMPLETADO"}),ze=Array.isArray(Ne?.items)?Ne.items:[];if(Y(ze),!D?.id&&ze.length)O(ze[0]);else if(!D?.id&&!ze.length){const Be=ze.find(gt=>gt.id===D?.id);Be&&O(Be)}}catch(Ne){const ze=Ne,Be=ze.response?.data?.detail||ze.message||"No se pudo cargar las corridas.";B(Be),Y([])}finally{_(!1)}}async function ia(){B(""),_(!0);try{const ee=await _m({limit:20,offset:0,include_deleted:!1,q:H.trim()||void 0,dateFrom:K.trim()||void 0,dateTo:_e.trim()||void 0,source:fe.trim()||void 0,status:De.trim()||void 0}),Ne=Array.isArray(ee?.items)?ee.items:[];Y(Ne)}catch(ee){const Ne=ee,ze=Ne.response?.data?.detail||Ne.message||"No se pudo cargar las corridas.";B(ze),Y([])}finally{_(!1)}}function Zn(){q(!0),st(5)}function oa(ee){O(ee),q(!1)}const xn=b.useMemo(()=>e.map(ee=>(ee??"").trim()),[e]),Sn=b.useMemo(()=>xn.filter(ee=>ee),[xn]),Q=b.useMemo(()=>(s??"").trim(),[s]),ne=b.useMemo(()=>Sn.length>0&&!!Q,[Sn.length,Q]);function Ee(ee,Ne){a(ze=>{const Be=ze.slice();return Be[ee]=Ne,Be})}function Ve(ee){a(Ne=>{if(Ne.length<=1)return[""];const ze=Ne.slice();return ze.splice(ee,1),ze})}async function nt(ee){G(ee),Ut(""),Je(!0);try{const ze=(await GT()).roots||[];se(ze);const Be=ze[0]||"";Le(Be),Ue(Be),Be?await rt(Be):(at([]),Ut("No hay rutas raz configuradas para el explorador. Configure VI_LOG02_UNC_ROOTS en el servidor."))}catch(Ne){const ze=Ne,Be=ze.response?.data?.detail||ze.message||"No se pudo cargar las rutas raz.";Ut(Be),at([])}}async function rt(ee){if(Ut(""),!ee){at([]);return}try{xe(!0);const Ne=await PT(ee);Ue(Ne.path),at(Ne.folders||[])}catch(Ne){const ze=Ne,Be=ze.response?.data?.detail||ze.message||"No se pudo listar la carpeta.";Ut(Be),at([])}finally{xe(!1)}}function Ke(){const ee=(te||"").replace(/[\\\/]+$/,""),Ne=ee.lastIndexOf("\\");if(Ne<=0)return;const ze=ee.slice(0,Ne);rt(ze)}function Qt(){te&&(C==="destino"?l(te):a(ee=>{const Ne=te.trim();if(!Ne)return ee;const ze=ee.slice();return R!==null&&R>=0&&R<ze.length?(ze[R]=Ne,ze):ze.map(gt=>(gt||"").trim().toLowerCase()).includes(Ne.toLowerCase())?ze:ze.length===1&&!(ze[0]||"").trim()?[Ne]:[...ze,Ne]}),P(null),Je(!1))}async function Lt(){h(""),p(null),x(!0);const ee=Q,Ne=Sn;if(!Ne.length){h("Debes ingresar al menos una ruta de origen.");return}if(!ee){h("Debes ingresar una ruta de destino.");return}try{d(!0);const ze=await QT({rutas_origen:Ne,ruta_destino:ee});p(ze),ze.ok||h("Validacin incompleta: revisa los detalles de permisos y existencia.")}catch(ze){const Be=ze;if(pt.isCancel(Be))return;const gt=Be.response?.data?.detail||Be.message||"No se pudo validar las rutas.";h(gt)}finally{d(!1)}}const Dt=b.useMemo(()=>!!g?.ok&&!!D?.id&&!M,[g?.ok,D?.id,M]);function un(ee){const Ne=ee?.percent??ee?.progress,ze=typeof Ne=="number"?Ne:typeof Ne=="string"?Number(Ne):NaN;if(Number.isFinite(ze)){const Be=Math.max(0,Math.min(100,ze));j(Be)}}function Tt(ee){const Ne=String(ee?.type||"");if(un(ee),Ne==="status"||Ne==="progress"){const ze=ee?.stage?String(ee.stage):Ne;ze&&ie(ze),typeof ee?.message=="string"&&ee.message&&oe(ee.message);return}if(Ne==="oi"){typeof ee?.oi=="string"&&Re(ee.oi);return}if(Ne==="oi_warn"){const ze=String(ee?.oi||""),Be=String(ee?.message||""),gt=ee?.code?String(ee.code):void 0;ze&&Be&&de(Ct=>[...Ct,{oi:ze,code:gt,message:Be}]);return}if(Ne==="oi_error"||Ne==="file_error"){const ze=ee?.oi?String(ee.oi):void 0,Be=ee?.file?String(ee.file):void 0,gt=String(ee?.message||"Error");$e(Ct=>[...Ct,{oi:ze,file:Be,message:gt}]);return}if(Ne==="error"){const ze=String(ee?.message||"Fallo en el proceso.");$e(Be=>[...Be,{message:ze}]),oe(ze),ie("error");return}if(Ne==="complete"){me.current=!0,typeof ee?.message=="string"&&oe(ee.message),ie("completado"),j(100),ut(ee?.audit??null),I(!1);return}}async function dt(){if(h(""),!g?.ok){h("Debes validar rutas correctamente antes de iniciar el copiado.");return}if(!D?.id){h("Debes seleccionar una corrida de LOG-01 (Historial) para usar su manifiesto.");return}const ee=Sn,Ne=Q;if(!ee.length||!Ne){h("Completa orgenes y destino antes de iniciar.");return}Pe.current=!1,me.current=!1,$e([]),de([]),ut(null),ie("inicio"),oe("inicio"),oe("Iniciando copiado..."),j(0),Re(""),ye(""),I(!0);try{const Be=(await YT({run_id:D.id,rutas_origen:ee,ruta_destino:Ne})).operation_id;ye(Be);const gt=new AbortController;Te.current=gt,await KT(Be,Ct=>{He.current&&Tt(Ct)},gt.signal)}catch(ze){if(Pe.current||me.current||I2(ze))return;const Be=ze,gt=Be.response?.data?.detail||Be.message||"No se pudo iniciar/leer el progreso.";$e(Ct=>[...Ct,{message:gt}]),ie("error"),oe(gt)}finally{He.current&&I(!1)}}async function vt(){if(W){Pe.current=!0;try{await XT(W)}catch{}try{Te.current?.abort()}catch{}I(!1),ie("cancelado"),oe("Cancelado por el usuario.")}}const At=b.useMemo(()=>{if(!g)return null;const ee=(g.origenes||[]).filter(Be=>Be.existe&&Be.lectura).length,Ne=(g.origenes||[]).length,ze=!!(g.destino?.existe&&g.destino?.es_directorio&&g.destino?.lectura&&g.destino?.escritura);return{okOrigenes:ee,totalOrigenes:Ne,okDestino:ze}},[g]);async function sn(){if(!g)return;const ee=[];ee.push("LOG-02 - Resultado de validacin"),ee.push("");for(const Be of g.origenes||[])ee.push(`ORIGEN | ${Be.ruta} | existe=${Be.existe?"SI":"NO"} | lectura=${Be.lectura?"SI":"NO"} | detalle=${Be.detalle||""}`);const Ne=g.destino;ee.push(`DESTINO | ${Ne?.ruta||""} | existe=${Ne?.existe?"SI":"NO"} | lectura=${Ne?.lectura?"SI":"NO"} | escritura=${Ne?.escritura?"SI":"NO"} | detalle=${Ne?.detalle||""}`);const ze=ee.join(`
`);try{await navigator.clipboard.writeText(ze)}catch{try{const Be=document.createElement("textarea");Be.value=ze,document.body.appendChild(Be),Be.select(),document.execCommand("copy"),document.body.removeChild(Be)}catch{}}}return i.jsxs("div",{className:"container-fluid",children:[i.jsx("div",{className:"row",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[i.jsx("h4",{className:"c-grey-900 mB-10",children:"Filtrado de certificados PDF (LOG-02)"}),i.jsxs("div",{className:"text-muted small",children:["Este mdulo se orienta a ",i.jsx("strong",{children:"copiar"})," y ",i.jsx("strong",{children:"filtrar"})," certificados PDF desde una",i.jsx("strong",{children:" carpeta compartida"})," (no ZIP).",i.jsx("br",{}),"Configura las rutas UNC y valida accesos antes de iniciar el filtrado."]}),m?i.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:m}):null,i.jsxs("div",{className:"mT-15",children:[i.jsx("h6",{className:"c-grey-900 mB-10",children:"Rutas UNC"}),i.jsxs("div",{className:"row g-2",children:[i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label",children:"Rutas origen (UNC)  lectura"}),e.map((ee,Ne)=>i.jsxs("div",{className:"d-flex gap-10 mB-10",children:[i.jsx("input",{className:"form-control form-control-sm"+(v&&!xn[Ne]?" is-invalid":""),value:ee,onChange:ze=>Ee(Ne,ze.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Certificados",disabled:c}),v&&!xn[Ne]?i.jsx("div",{className:"small text-danger mT-5",children:"Requerido"}):null,i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Da(Ne),disabled:c,title:"Elegir carpeta",children:(ee||"").trim()?"Editar":"Agregar"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Ve(Ne),disabled:c,title:"Quitar ruta",style:{width:52,textAlign:"center"},children:""})]},Ne)),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:Tn,disabled:c,title:"Agregar origen",children:"Agregar origen"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:vn,disabled:c,title:"Quitar duplicados (solo UI)",children:"Quitar duplicados"})]}),i.jsxs("div",{className:"small text-muted",children:["Nota: estas rutas deben ser accesibles ",i.jsx("strong",{children:"desde el servidor"})," donde corre el backend."]})]}),i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label",children:"Ruta destino (UNC)  lectura y escritura"}),i.jsxs("div",{className:"d-flex gap-10 mB-10",children:[i.jsx("input",{className:"form-control form-control-sm "+(v&&!Q?"is-invalid":""),value:s,onChange:ee=>l(ee.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Salida_LOG02",disabled:c}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:In,disabled:c,title:"Editar carpeta",children:Q?"Editar":"Agregar"}),"                  "]}),v&&!Q?i.jsx("div",{className:"small text-danger mT-5",children:"Destino requerido."}):null,i.jsxs("div",{className:"mT-5",children:[i.jsx("div",{className:"small text-muted mB-5",children:ne?"Listo para validar.":"Completa orgenes y destino."}),i.jsxs("div",{className:"d-flex gap-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void Lt(),disabled:c||!ne,children:c?"Validando...":"Validar"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:Et,disabled:c,title:"Limpia orgenes y destino",children:"Limpiar rutas"})]})]})]})]})]}),g?i.jsxs("div",{className:"mT-20",children:[i.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado de validacin"}),At?i.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center mB-10",children:[i.jsxs("span",{className:"badge bg-light text-dark",children:["Orgenes OK: ",i.jsx("strong",{children:At.okOrigenes})," / ",At.totalOrigenes]}),i.jsxs("span",{className:At.okDestino?"badge bg-success":"badge bg-danger",children:["Destino: ",At.okDestino?"OK":"No OK"]}),g.ok?null:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void sn(),children:"Copiar detalle"})]}):null,i.jsxs("div",{className:"mT-25",children:[i.jsx("h6",{className:"c-grey-900 mB-10",children:"Copiado de PDFs conformes por OI (PB-LOG-015)"}),i.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between gap-10",children:[i.jsxs("div",{className:"small text-muted",children:["Corrida LOG-01 seleccionada:"," ",D?.id?i.jsxs("span",{className:"badge bg-light text-dark",children:["#",D.id,D?.created_at?`  ${wv(D.created_at)}`:"",D?.source?`  ${D.source}`:"",D?.status?`  ${D.status}`:""]}):i.jsx("span",{className:"badge bg-warning text-dark",children:"No seleccionada"})]}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Zn,disabled:M,children:D?.id?"Cambiar corrida":"Elegir corrida"})]}),D?.id?null:i.jsx("div",{className:"alert alert-warning mT-10",role:"alert",children:"Debes seleccionar una corrida de LOG-01 (historial) para usar su manifiesto y NO CONFORME."}),i.jsxs("div",{className:"d-flex flex-wrap gap-10 mT-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void dt(),disabled:!Dt,children:M?"Copiando...":"Iniciar copiado"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void vt(),disabled:!M||!W,children:"Cancelar"})]}),i.jsxs("div",{className:"mT-10",children:[i.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[i.jsx("span",{children:"Progreso"}),M?i.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),Z||k?i.jsxs("div",{className:"small text-muted",children:[i.jsx("strong",{children:"Estado:"})," ",Z||"",pe?i.jsxs("span",{children:[" "," ",i.jsx("strong",{children:"OI:"})," ",pe]}):null,k?i.jsxs("span",{children:["  ",k]}):null]}):null,i.jsx("div",{className:"progress",style:{height:10},children:i.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Math.max(0,Math.min(100,we))}%`},"aria-valuenow":we,"aria-valuemin":0,"aria-valuemax":100})}),i.jsxs("div",{className:"small text-muted mT-5",children:[we.toFixed(0),"%"]})]}),ke.length?i.jsxs("div",{className:"alert alert-danger mT-10",role:"alert",children:[i.jsx("strong",{children:"Se detectaron errores:"}),i.jsx("ul",{className:"mB-0 mT-5",children:ke.slice(-8).map((ee,Ne)=>i.jsxs("li",{children:[ee.oi?`[${ee.oi}] `:"",ee.file?`${ee.file}: `:"",ee.message]},`ce-${Ne}`))})]}):null,Ie.length?i.jsxs("div",{className:"alert alert-warning mT-10",role:"alert",children:[i.jsx("strong",{children:"Advertencias:"}),i.jsx("ul",{className:"mB-0 mT-5",children:Ie.slice(-8).map((ee,Ne)=>i.jsxs("li",{children:["[",ee.oi,"] ",ee.code?`${ee.code}: `:"",ee.message]},`cw-${Ne}`))})]}):null,Fe?i.jsxs("div",{className:"mT-15",children:[i.jsx("h6",{className:"c-grey-900 mB-10",children:"Auditora de copiado"}),i.jsxs("div",{className:"row g-2",children:[i.jsx("div",{className:"col-12 col-md-4",children:i.jsxs("div",{className:"alert alert-light mB-0",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Total OIs:"})," ",Fe?.total_ois??"N/D"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"OIs OK:"})," ",Fe?.ois_ok??"N/D"]})]})}),i.jsx("div",{className:"col-12 col-md-8",children:i.jsx("div",{className:"alert alert-light mB-0",children:i.jsxs("div",{className:"d-flex flex-wrap gap-10",children:[i.jsxs("span",{children:[i.jsx("strong",{children:"PDF detectados:"})," ",Fe?.archivos?.pdf_detectados??"N/D"]}),i.jsxs("span",{children:[i.jsx("strong",{children:"PDF copiados:"})," ",Fe?.archivos?.pdf_copiados??"N/D"]}),i.jsxs("span",{children:[i.jsx("strong",{children:"Omitidos NO CONFORME:"})," ",Fe?.archivos?.pdf_omitidos_no_conforme??"N/D"]}),i.jsxs("span",{children:[i.jsx("strong",{children:"No PDF omitidos:"})," ",Fe?.archivos?.archivos_no_pdf_omitidos??"N/D"]})]})})})]}),Fe?.ois_faltantes?.length||Fe?.ois_duplicadas?.length||Fe?.destinos_duplicados?.length?i.jsxs("div",{className:"mT-10",children:[Fe?.ois_faltantes?.length?i.jsxs("div",{className:"alert alert-warning",role:"alert",children:[i.jsx("strong",{children:"OIs sin carpeta:"}),i.jsx("ul",{className:"mB-0 mT-5",children:Fe.ois_faltantes.slice(0,10).map((ee,Ne)=>i.jsxs("li",{children:[ee?.oi,"  ",ee?.detalle||""]},`of-${Ne}`))})]}):null,Fe?.ois_duplicadas?.length?i.jsxs("div",{className:"alert alert-warning",role:"alert",children:[i.jsx("strong",{children:"OIs con mltiples carpetas (duplicadas):"}),i.jsx("ul",{className:"mB-0 mT-5",children:Fe.ois_duplicadas.slice(0,10).map((ee,Ne)=>i.jsxs("li",{children:[ee?.oi,"  ",Array.isArray(ee?.carpetas)?ee.carpetas.join(" | "):""]},`od-${Ne}`))})]}):null,Fe?.destinos_duplicados?.length?i.jsxs("div",{className:"alert alert-warning",role:"alert",children:[i.jsx("strong",{children:"Destinos ya existentes:"}),i.jsx("ul",{className:"mB-0 mT-5",children:Fe.destinos_duplicados.slice(0,10).map((ee,Ne)=>i.jsxs("li",{children:[ee?.oi,"  ",ee?.destino||""]},`dd-${Ne}`))})]}):null]}):null]}):null,N?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:i.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Seleccionar corrida de LOG-01 (Historial)"}),i.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>q(!1),children:i.jsx("span",{"aria-hidden":"true",children:""})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"text-muted small mB-10",children:["Por defecto se cargan las ",i.jsx("strong",{children:"ltimas 5 corridas completadas"}),". Puedes usar filtros si lo necesitas."]}),A?i.jsx("div",{className:"alert alert-danger",role:"alert",children:A}):null,i.jsxs("form",{className:"row g-2 align-items-end",onSubmit:ee=>{ee.preventDefault(),ia()},children:[i.jsxs("div",{className:"col-12 col-md-4",children:[i.jsx("label",{className:"form-label",children:"Buscar"}),i.jsx("input",{className:"form-control form-control-sm",value:H,onChange:ee=>U(ee.target.value),placeholder:"Serie / OI / usuario..."})]}),i.jsxs("div",{className:"col-6 col-md-2",children:[i.jsx("label",{className:"form-label",children:"Desde"}),i.jsx("input",{className:"form-control form-control-sm",type:"date",value:K,onChange:ee=>ce(ee.target.value)})]}),i.jsxs("div",{className:"col-6 col-md-2",children:[i.jsx("label",{className:"form-label",children:"Hasta"}),i.jsx("input",{className:"form-control form-control-sm",type:"date",value:_e,onChange:ee=>ve(ee.target.value)})]}),i.jsxs("div",{className:"col-6 col-md-2",children:[i.jsx("label",{className:"form-label",children:"Origen"}),i.jsx("input",{className:"form-control form-control-sm",value:fe,onChange:ee=>Se(ee.target.value),placeholder:"AUTO/BASES/..."})]}),i.jsxs("div",{className:"col-6 col-md-2",children:[i.jsx("label",{className:"form-label",children:"Estado"}),i.jsx("input",{className:"form-control form-control-sm",value:De,onChange:ee=>Oe(ee.target.value),placeholder:"COMPLETADO"})]}),i.jsxs("div",{className:"col-12 d-flex gap-10",children:[i.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:w,children:w?"Buscando...":"Aplicar filtros"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>{U(""),ce(""),ve(""),Se(""),Oe("COMPLETADO"),st(5)},disabled:w,children:"Ver ltimas 5 exitosas"})]})]}),i.jsx("hr",{}),w?i.jsx("div",{className:"text-muted small",children:"Cargando corridas..."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{width:90},children:"ID"}),i.jsx("th",{children:"Creado"}),i.jsx("th",{style:{width:120},children:"Origen"}),i.jsx("th",{style:{width:140},children:"Estado"}),i.jsx("th",{style:{width:120}})]})}),i.jsx("tbody",{children:T.length?T.map(ee=>i.jsxs("tr",{className:"small",children:[i.jsx("td",{children:i.jsxs("strong",{children:["#",ee.id]})}),i.jsx("td",{children:wv(ee.created_at)}),i.jsx("td",{children:ee.source||"N/D"}),i.jsx("td",{children:ee.status||"N/D"}),i.jsx("td",{children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>oa(ee),children:"Usar"})})]},ee.id)):i.jsx("tr",{className:"small",children:i.jsx("td",{colSpan:5,className:"text-muted",children:"Sin resultados."})})})]})})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>q(!1),children:"Cerrar"})})]})})}),i.jsx("div",{className:"modal-backdrop fade show"})]}):null]}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),i.jsx("th",{children:"Ruta"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Existe"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Lectura"}),i.jsx("th",{style:{whiteSpace:"nowrap"},children:"Escritura"}),i.jsx("th",{children:"Detalle"})]})}),i.jsxs("tbody",{children:[g.origenes.map((ee,Ne)=>i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:"Origen"})}),i.jsx("td",{style:{wordBreak:"break-all"},children:ee.ruta||"N/D"}),i.jsx("td",{children:i.jsx("span",{className:pl(ee.existe),children:ee.existe?"S":"No"})}),i.jsx("td",{children:i.jsx("span",{className:pl(ee.lectura),children:ee.lectura?"S":"No"})}),i.jsx("td",{children:i.jsx("span",{className:pl(null),children:""})}),i.jsx("td",{children:ee.detalle||""})]},`o-${Ne}`)),i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{whiteSpace:"nowrap"},children:i.jsx("strong",{children:"Destino"})}),i.jsx("td",{style:{wordBreak:"break-all"},children:g.destino.ruta||"N/D"}),i.jsx("td",{children:i.jsx("span",{className:pl(g.destino.existe),children:g.destino.existe?"S":"No"})}),i.jsx("td",{children:i.jsx("span",{className:pl(g.destino.lectura),children:g.destino.lectura?"S":"No"})}),i.jsx("td",{children:i.jsx("span",{className:pl(!!g.destino.escritura),children:g.destino.escritura?"S":"No"})}),i.jsx("td",{children:g.destino.detalle||""})]})]})]})}),g.ok?i.jsx("div",{className:"alert alert-success mT-15",role:"alert",children:"Rutas validadas correctamente. Puedes continuar con la siguiente fase."}):i.jsx("div",{className:"alert alert-warning mT-15",role:"alert",children:"Hay rutas con problemas. Corrige existencia/permisos y vuelve a validar."})]}):null]})})}),Ae?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:i.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:C==="destino"?"Elegir carpeta de destino":"Elegir carpeta de origen"}),i.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>Je(!1),children:i.jsx("span",{"aria-hidden":"true",children:""})})]}),i.jsxs("div",{className:"modal-body",children:[et?i.jsx("div",{className:"alert alert-danger",role:"alert",children:et}):null,i.jsxs("div",{className:"row g-2",children:[i.jsxs("div",{className:"col-12 col-md-6",children:[i.jsx("label",{className:"form-label",children:"Raz"}),i.jsx("select",{className:"form-control form-control-sm",value:Ce,onChange:ee=>{const Ne=ee.target.value;Le(Ne),rt(Ne)},disabled:!V.length,children:V.length?V.map(ee=>i.jsx("option",{value:ee,children:ee},ee)):i.jsx("option",{value:"",children:"Sin races"})})]}),i.jsxs("div",{className:"col-12 col-md-6",children:[i.jsx("label",{className:"form-label",children:"Carpeta actual"}),i.jsx("input",{className:"form-control form-control-sm",value:te,readOnly:!0})]})]}),i.jsxs("div",{className:"d-flex gap-10 mT-10",children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Ke,disabled:!te||Vt,children:"Subir nivel"}),i.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:Qt,disabled:!te||Vt,children:"Seleccionar esta carpeta"})]}),i.jsx("hr",{}),Vt?i.jsx("div",{className:"text-muted small",children:"Cargando carpetas..."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-sm mB-0",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"small",children:[i.jsx("th",{children:"Subcarpetas"}),i.jsx("th",{style:{width:120}})]})}),i.jsx("tbody",{children:Ze.length?Ze.map(ee=>i.jsxs("tr",{className:"small",children:[i.jsx("td",{style:{wordBreak:"break-all"},children:ee.name}),i.jsx("td",{children:i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>void rt(ee.path),children:"Entrar"})})]},ee.path)):i.jsx("tr",{className:"small",children:i.jsx("td",{colSpan:2,className:"text-muted",children:"Sin subcarpetas o sin permisos para listar."})})})]})})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>Je(!1),children:"Cerrar"})})]})})}),i.jsx("div",{className:"modal-backdrop fade show"})]}):null]})}function F2(){const e=Rn();return i.jsx(i.Fragment,{children:i.jsxs(Mj,{children:[i.jsx(Wt,{path:"/login",element:e?.token?i.jsx(Zs,{to:"/home",replace:!0}):i.jsx(SE,{})}),i.jsx(Wt,{element:i.jsx(fT,{}),children:i.jsxs(Wt,{element:i.jsx(yT,{}),children:[i.jsx(Wt,{path:"/",element:i.jsx(Zs,{to:"/home",replace:!0})}),i.jsx(Wt,{path:"/home",element:i.jsx(C2,{})}),i.jsx(Wt,{path:"/oi",element:i.jsx(yv,{})}),i.jsx(Wt,{path:"/oi/:oiId",element:i.jsx(yv,{})}),i.jsx(Wt,{path:"/oi/list",element:i.jsx(bT,{})}),i.jsx(Wt,{path:"/users",element:i.jsx(xT,{})}),i.jsx(Wt,{path:"/password",element:i.jsx(ST,{})}),i.jsx(Wt,{path:"/admin/permisos",element:i.jsx(wT,{})}),i.jsx(Wt,{path:"/logistica/log01/excel",element:i.jsx(D2,{})}),i.jsx(Wt,{path:"/logistica/log01/history",element:i.jsx(B2,{})}),i.jsx(Wt,{path:"/logistica/log02/pdfs",element:i.jsx($2,{})}),i.jsx(Wt,{path:"/oi/tools/vima-to-lista",element:i.jsx(UT,{})}),i.jsx(Wt,{path:"/oi/tools/actualizacion-base",element:i.jsx(u2,{})}),i.jsx(Wt,{path:"/oi/tools/formato-ac/history",element:i.jsx(y2,{})}),i.jsx(Wt,{path:"/oi/tools/consolidacion",element:i.jsx(b2,{})}),i.jsx(Wt,{path:"/oi/tools/consolidacion/correlativo",element:i.jsx(N2,{})}),i.jsx(Wt,{path:"/oi/tools/consolidacion/no-correlativo",element:i.jsx(E2,{})}),i.jsx(Wt,{path:"/oi/tools/excel",element:i.jsx(A2,{})})]})}),i.jsx(Wt,{path:"*",element:i.jsx(Zs,{to:e?.token?"/home":"/login",replace:!0})})]})})}const H2=new kw;$N.createRoot(document.getElementById("root")).render(i.jsx(mt.StrictMode,{children:i.jsx(Uw,{client:H2,children:i.jsx(sw,{children:i.jsx(xE,{children:i.jsx(F2,{})})})})}));
