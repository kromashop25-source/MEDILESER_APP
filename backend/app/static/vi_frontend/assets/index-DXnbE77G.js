(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function lx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var If={exports:{}},so={};var dv;function Wj(){if(dv)return so;dv=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:i,key:f,ref:c!==void 0?c:null,props:d}}return so.Fragment=a,so.jsx=s,so.jsxs=s,so}var fv;function eS(){return fv||(fv=1,If.exports=Wj()),If.exports}var l=eS(),$f={exports:{}},ut={};var mv;function tS(){if(mv)return ut;mv=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),j=Symbol.iterator;function F(_){return _===null||typeof _!="object"?null:(_=j&&_[j]||_["@@iterator"],typeof _=="function"?_:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function $(_,X,ce){this.props=_,this.context=X,this.refs=R,this.updater=ce||E}$.prototype.isReactComponent={},$.prototype.setState=function(_,X){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,X,"setState")},$.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function z(){}z.prototype=$.prototype;function te(_,X,ce){this.props=_,this.context=X,this.refs=R,this.updater=ce||E}var M=te.prototype=new z;M.constructor=te,A(M,$.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function K(){}var B={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function de(_,X,ce){var Y=ce.ref;return{$$typeof:e,type:_,key:X,ref:Y!==void 0?Y:null,props:ce}}function Te(_,X){return de(_.type,X,_.props)}function Oe(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function ve(_){var X={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ce){return X[ce]})}var Ee=/\/+/g;function ke(_,X){return typeof _=="object"&&_!==null&&_.key!=null?ve(""+_.key):X.toString(36)}function De(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(K,K):(_.status="pending",_.then(function(X){_.status==="pending"&&(_.status="fulfilled",_.value=X)},function(X){_.status==="pending"&&(_.status="rejected",_.reason=X)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function U(_,X,ce,Y,ye){var Se=typeof _;(Se==="undefined"||Se==="boolean")&&(_=null);var Le=!1;if(_===null)Le=!0;else switch(Se){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(_.$$typeof){case e:case a:Le=!0;break;case y:return Le=_._init,U(Le(_._payload),X,ce,Y,ye)}}if(Le)return ye=ye(_),Le=Y===""?"."+ke(_,0):Y,D(ye)?(ce="",Le!=null&&(ce=Le.replace(Ee,"$&/")+"/"),U(ye,X,ce,"",function(Be){return Be})):ye!=null&&(Oe(ye)&&(ye=Te(ye,ce+(ye.key==null||_&&_.key===ye.key?"":(""+ye.key).replace(Ee,"$&/")+"/")+Le)),X.push(ye)),1;Le=0;var Ve=Y===""?".":Y+":";if(D(_))for(var pe=0;pe<_.length;pe++)Y=_[pe],Se=Ve+ke(Y,pe),Le+=U(Y,X,ce,Se,ye);else if(pe=F(_),typeof pe=="function")for(_=pe.call(_),pe=0;!(Y=_.next()).done;)Y=Y.value,Se=Ve+ke(Y,pe++),Le+=U(Y,X,ce,Se,ye);else if(Se==="object"){if(typeof _.then=="function")return U(De(_),X,ce,Y,ye);throw X=String(_),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Le}function V(_,X,ce){if(_==null)return _;var Y=[],ye=0;return U(_,Y,"","",function(Se){return X.call(ce,Se,ye++)}),Y}function ae(_){if(_._status===-1){var X=_._result;X=X(),X.then(function(ce){(_._status===0||_._status===-1)&&(_._status=1,_._result=ce)},function(ce){(_._status===0||_._status===-1)&&(_._status=2,_._result=ce)}),_._status===-1&&(_._status=0,_._result=X)}if(_._status===1)return _._result.default;throw _._result}var he=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},fe={map:V,forEach:function(_,X,ce){V(_,function(){X.apply(this,arguments)},ce)},count:function(_){var X=0;return V(_,function(){X++}),X},toArray:function(_){return V(_,function(X){return X})||[]},only:function(_){if(!Oe(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ut.Activity=x,ut.Children=fe,ut.Component=$,ut.Fragment=s,ut.Profiler=c,ut.PureComponent=te,ut.StrictMode=i,ut.Suspense=v,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ut.__COMPILER_RUNTIME={__proto__:null,c:function(_){return B.H.useMemoCache(_)}},ut.cache=function(_){return function(){return _.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(_,X,ce){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Y=A({},_.props),ye=_.key;if(X!=null)for(Se in X.key!==void 0&&(ye=""+X.key),X)!H.call(X,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&X.ref===void 0||(Y[Se]=X[Se]);var Se=arguments.length-2;if(Se===1)Y.children=ce;else if(1<Se){for(var Le=Array(Se),Ve=0;Ve<Se;Ve++)Le[Ve]=arguments[Ve+2];Y.children=Le}return de(_.type,ye,Y)},ut.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},ut.createElement=function(_,X,ce){var Y,ye={},Se=null;if(X!=null)for(Y in X.key!==void 0&&(Se=""+X.key),X)H.call(X,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ye[Y]=X[Y]);var Le=arguments.length-2;if(Le===1)ye.children=ce;else if(1<Le){for(var Ve=Array(Le),pe=0;pe<Le;pe++)Ve[pe]=arguments[pe+2];ye.children=Ve}if(_&&_.defaultProps)for(Y in Le=_.defaultProps,Le)ye[Y]===void 0&&(ye[Y]=Le[Y]);return de(_,Se,ye)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(_){return{$$typeof:h,render:_}},ut.isValidElement=Oe,ut.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:ae}},ut.memo=function(_,X){return{$$typeof:g,type:_,compare:X===void 0?null:X}},ut.startTransition=function(_){var X=B.T,ce={};B.T=ce;try{var Y=_(),ye=B.S;ye!==null&&ye(ce,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(K,he)}catch(Se){he(Se)}finally{X!==null&&ce.types!==null&&(X.types=ce.types),B.T=X}},ut.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ut.use=function(_){return B.H.use(_)},ut.useActionState=function(_,X,ce){return B.H.useActionState(_,X,ce)},ut.useCallback=function(_,X){return B.H.useCallback(_,X)},ut.useContext=function(_){return B.H.useContext(_)},ut.useDebugValue=function(){},ut.useDeferredValue=function(_,X){return B.H.useDeferredValue(_,X)},ut.useEffect=function(_,X){return B.H.useEffect(_,X)},ut.useEffectEvent=function(_){return B.H.useEffectEvent(_)},ut.useId=function(){return B.H.useId()},ut.useImperativeHandle=function(_,X,ce){return B.H.useImperativeHandle(_,X,ce)},ut.useInsertionEffect=function(_,X){return B.H.useInsertionEffect(_,X)},ut.useLayoutEffect=function(_,X){return B.H.useLayoutEffect(_,X)},ut.useMemo=function(_,X){return B.H.useMemo(_,X)},ut.useOptimistic=function(_,X){return B.H.useOptimistic(_,X)},ut.useReducer=function(_,X,ce){return B.H.useReducer(_,X,ce)},ut.useRef=function(_){return B.H.useRef(_)},ut.useState=function(_){return B.H.useState(_)},ut.useSyncExternalStore=function(_,X,ce){return B.H.useSyncExternalStore(_,X,ce)},ut.useTransition=function(){return B.H.useTransition()},ut.version="19.2.0",ut}var hv;function nh(){return hv||(hv=1,$f.exports=tS()),$f.exports}var p=nh();const gt=lx(p);var Ff={exports:{}},ro={},Hf={exports:{}},Vf={};var pv;function nS(){return pv||(pv=1,(function(e){function a(U,V){var ae=U.length;U.push(V);e:for(;0<ae;){var he=ae-1>>>1,fe=U[he];if(0<c(fe,V))U[he]=V,U[ae]=fe,ae=he;else break e}}function s(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var V=U[0],ae=U.pop();if(ae!==V){U[0]=ae;e:for(var he=0,fe=U.length,_=fe>>>1;he<_;){var X=2*(he+1)-1,ce=U[X],Y=X+1,ye=U[Y];if(0>c(ce,ae))Y<fe&&0>c(ye,ce)?(U[he]=ye,U[Y]=ae,he=Y):(U[he]=ce,U[X]=ae,he=X);else if(Y<fe&&0>c(ye,ae))U[he]=ye,U[Y]=ae,he=Y;else break e}}return V}function c(U,V){var ae=U.sortIndex-V.sortIndex;return ae!==0?ae:U.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,h=f.now();e.unstable_now=function(){return f.now()-h}}var v=[],g=[],y=1,x=null,j=3,F=!1,E=!1,A=!1,R=!1,$=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function M(U){for(var V=s(g);V!==null;){if(V.callback===null)i(g);else if(V.startTime<=U)i(g),V.sortIndex=V.expirationTime,a(v,V);else break;V=s(g)}}function D(U){if(A=!1,M(U),!E)if(s(v)!==null)E=!0,K||(K=!0,ve());else{var V=s(g);V!==null&&De(D,V.startTime-U)}}var K=!1,B=-1,H=5,de=-1;function Te(){return R?!0:!(e.unstable_now()-de<H)}function Oe(){if(R=!1,K){var U=e.unstable_now();de=U;var V=!0;try{e:{E=!1,A&&(A=!1,z(B),B=-1),F=!0;var ae=j;try{t:{for(M(U),x=s(v);x!==null&&!(x.expirationTime>U&&Te());){var he=x.callback;if(typeof he=="function"){x.callback=null,j=x.priorityLevel;var fe=he(x.expirationTime<=U);if(U=e.unstable_now(),typeof fe=="function"){x.callback=fe,M(U),V=!0;break t}x===s(v)&&i(v),M(U)}else i(v);x=s(v)}if(x!==null)V=!0;else{var _=s(g);_!==null&&De(D,_.startTime-U),V=!1}}break e}finally{x=null,j=ae,F=!1}V=void 0}}finally{V?ve():K=!1}}}var ve;if(typeof te=="function")ve=function(){te(Oe)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ke=Ee.port2;Ee.port1.onmessage=Oe,ve=function(){ke.postMessage(null)}}else ve=function(){$(Oe,0)};function De(U,V){B=$(function(){U(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_next=function(U){switch(j){case 1:case 2:case 3:var V=3;break;default:V=j}var ae=j;j=V;try{return U()}finally{j=ae}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=j;j=U;try{return V()}finally{j=ae}},e.unstable_scheduleCallback=function(U,V,ae){var he=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?he+ae:he):ae=he,U){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ae+fe,U={id:y++,callback:V,priorityLevel:U,startTime:ae,expirationTime:fe,sortIndex:-1},ae>he?(U.sortIndex=ae,a(g,U),s(v)===null&&U===s(g)&&(A?(z(B),B=-1):A=!0,De(D,ae-he))):(U.sortIndex=fe,a(v,U),E||F||(E=!0,K||(K=!0,ve()))),U},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(U){var V=j;return function(){var ae=j;j=V;try{return U.apply(this,arguments)}finally{j=ae}}}})(Vf)),Vf}var gv;function aS(){return gv||(gv=1,Hf.exports=nS()),Hf.exports}var Zf={exports:{}},ra={};var bv;function sS(){if(bv)return ra;bv=1;var e=nh();function a(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,g,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:v,containerInfo:g,implementation:y}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ra.createPortal=function(v,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return d(v,g,null,y)},ra.flushSync=function(v){var g=f.T,y=i.p;try{if(f.T=null,i.p=2,v)return v()}finally{f.T=g,i.p=y,i.d.f()}},ra.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(v,g))},ra.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},ra.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var y=g.as,x=h(y,g.crossOrigin),j=typeof g.integrity=="string"?g.integrity:void 0,F=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:j,fetchPriority:F}):y==="script"&&i.d.X(v,{crossOrigin:x,integrity:j,fetchPriority:F,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ra.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(v)},ra.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,x=h(y,g.crossOrigin);i.d.L(v,y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ra.preloadModule=function(v,g){if(typeof v=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(v)},ra.requestFormReset=function(v){i.d.r(v)},ra.unstable_batchedUpdates=function(v,g){return v(g)},ra.useFormState=function(v,g,y){return f.H.useFormState(v,g,y)},ra.useFormStatus=function(){return f.H.useHostTransitionStatus()},ra.version="19.2.0",ra}var vv;function rS(){if(vv)return Zf.exports;vv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),Zf.exports=sS(),Zf.exports}var yv;function lS(){if(yv)return ro;yv=1;var e=aS(),a=nh(),s=rS();function i(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(d(t)!==t)throw Error(i(188))}function g(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(i(188));return n!==t?null:t}for(var r=t,o=n;;){var u=r.return;if(u===null)break;var m=u.alternate;if(m===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===r)return v(u),t;if(m===o)return v(u),n;m=m.sibling}throw Error(i(188))}if(r.return!==o.return)r=u,o=m;else{for(var b=!1,N=u.child;N;){if(N===r){b=!0,r=u,o=m;break}if(N===o){b=!0,o=u,r=m;break}N=N.sibling}if(!b){for(N=m.child;N;){if(N===r){b=!0,r=m,o=u;break}if(N===o){b=!0,o=m,r=u;break}N=N.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,j=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),te=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=Oe&&t[Oe]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case $:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case K:return"SuspenseList";case de:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case te:return t.displayName||"Context";case z:return(t._context.displayName||"Context")+".Consumer";case M:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return n=t.displayName||null,n!==null?n:ke(t.type)||"Memo";case H:n=t._payload,t=t._init;try{return ke(t(n))}catch{}}return null}var De=Array.isArray,U=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},he=[],fe=-1;function _(t){return{current:t}}function X(t){0>fe||(t.current=he[fe],he[fe]=null,fe--)}function ce(t,n){fe++,he[fe]=t.current,t.current=n}var Y=_(null),ye=_(null),Se=_(null),Le=_(null);function Ve(t,n){switch(ce(Se,n),ce(ye,t),ce(Y,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kb(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kb(n),t=Mb(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(Y),ce(Y,t)}function pe(){X(Y),X(ye),X(Se)}function Be(t){t.memoizedState!==null&&ce(Le,t);var n=Y.current,r=Mb(n,t.type);n!==r&&(ce(ye,t),ce(Y,r))}function Ze(t){ye.current===t&&(X(Y),X(ye)),Le.current===t&&(X(Le),eo._currentValue=ae)}var Je,ct;function ze(t){if(Je===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Je=n&&n[1]||"",ct=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+t+ct}var Pe=!1;function ue(t,n){if(!t||Pe)return"";Pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(oe){var re=oe}Reflect.construct(t,[],Ae)}else{try{Ae.call()}catch(oe){re=oe}t.call(Ae.prototype)}}else{try{throw Error()}catch(oe){re=oe}(Ae=t())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],N=m[1];if(b&&N){var k=b.split(`
`),ne=N.split(`
`);for(u=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;u<ne.length&&!ne[u].includes("DetermineComponentFrameRoot");)u++;if(o===k.length||u===ne.length)for(o=k.length-1,u=ne.length-1;1<=o&&0<=u&&k[o]!==ne[u];)u--;for(;1<=o&&0<=u;o--,u--)if(k[o]!==ne[u]){if(o!==1||u!==1)do if(o--,u--,0>u||k[o]!==ne[u]){var be=`
`+k[o].replace(" at new "," at ");return t.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",t.displayName)),be}while(1<=o&&0<=u);break}}}finally{Pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ze(r):""}function Ie(t,n){switch(t.tag){case 26:case 27:case 5:return ze(t.type);case 16:return ze("Lazy");case 13:return t.child!==n&&n!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return ue(t.type,!1);case 11:return ue(t.type.render,!1);case 1:return ue(t.type,!0);case 31:return ze("Activity");default:return""}}function we(t){try{var n="",r=null;do n+=Ie(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var We=Object.prototype.hasOwnProperty,O=e.unstable_scheduleCallback,T=e.unstable_cancelCallback,S=e.unstable_shouldYield,L=e.unstable_requestPaint,I=e.unstable_now,J=e.unstable_getCurrentPriorityLevel,me=e.unstable_ImmediatePriority,_e=e.unstable_UserBlockingPriority,G=e.unstable_NormalPriority,Me=e.unstable_LowPriority,qe=e.unstable_IdlePriority,Xe=e.log,tt=e.unstable_setDisableYieldValue,je=null,nt=null;function zt(t){if(typeof Xe=="function"&&tt(t),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(je,t)}catch{}}var yt=Math.clz32?Math.clz32:ma,nn=Math.log,En=Math.LN2;function ma(t){return t>>>=0,t===0?32:31-(nn(t)/En|0)|0}var jn=256,it=262144,Pn=4194304;function Qn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function na(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var N=o&134217727;return N!==0?(o=N&~m,o!==0?u=Qn(o):(b&=N,b!==0?u=Qn(b):r||(r=N&~t,r!==0&&(u=Qn(r))))):(N=o&~m,N!==0?u=Qn(N):b!==0?u=Qn(b):r||(r=o&~t,r!==0&&(u=Qn(r)))),u===0?0:n!==0&&n!==u&&(n&m)===0&&(m=u&-u,r=n&-n,m>=r||m===32&&(r&4194048)!==0)?n:u}function An(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ln(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W(){var t=Pn;return Pn<<=1,(Pn&62914560)===0&&(Pn=4194304),t}function se(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fe(t,n,r,o,u,m){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var N=t.entanglements,k=t.expirationTimes,ne=t.hiddenUpdates;for(r=b&~r;0<r;){var be=31-yt(r),Ae=1<<be;N[be]=0,k[be]=-1;var re=ne[be];if(re!==null)for(ne[be]=null,be=0;be<re.length;be++){var oe=re[be];oe!==null&&(oe.lane&=-536870913)}r&=~Ae}o!==0&&rt(t,o,0),m!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function rt(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-yt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function ot(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-yt(r),u=1<<o;u&n|t[o]&n&&(t[o]|=n),r&=~u}}function Ke(t,n){var r=n&-n;return r=(r&42)!==0?1:an(r),(r&(t.suspendedLanes|n))!==0?0:r}function an(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function kt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rt(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:sv(t.type))}function mn(t,n){var r=V.p;try{return V.p=t,n()}finally{V.p=r}}var Ut=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ut,xt="__reactProps$"+Ut,_t="__reactContainer$"+Ut,hn="__reactEvents$"+Ut,pn="__reactListeners$"+Ut,sn="__reactHandles$"+Ut,At="__reactResources$"+Ut,Pt="__reactMarker$"+Ut;function Hn(t){delete t[mt],delete t[xt],delete t[hn],delete t[pn],delete t[sn]}function Xt(t){var n=t[mt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[_t]||r[mt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Fb(t);t!==null;){if(r=t[mt])return r;t=Fb(t)}return n}t=r,r=t.parentNode}return null}function $t(t){if(t=t[mt]||t[_t]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(i(33))}function Cn(t){var n=t[At];return n||(n=t[At]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Pt]=!0}var ds=new Set,oa={};function Ft(t,n){On(t,n),On(t+"Capture",n)}function On(t,n){for(oa[t]=n,t=0;t<n.length;t++)ds.add(n[t])}var Ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ns={},Yn={};function La(t){return We.call(Yn,t)?!0:We.call(ns,t)?!1:Ua.test(t)?Yn[t]=!0:(ns[t]=!0,!1)}function Ct(t,n,r){if(La(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function _a(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function aa(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function hl(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(b){r=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gs(t){if(!t._valueTracker){var n=Cr(t)?"checked":"value";t._valueTracker=hl(t,n,""+t[n])}}function Or(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Cr(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function un(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fs(t,n,r,o,u,m,b,N){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+bn(n)):t.value!==""+bn(n)&&(t.value=""+bn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?ms(t,b,bn(n)):r!=null?ms(t,b,bn(r)):o!=null&&t.removeAttribute("value"),u==null&&m!=null&&(t.defaultChecked=!!m),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+bn(N):t.removeAttribute("name")}function sa(t,n,r,o,u,m,b,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Gs(t);return}r=r!=null?""+bn(r):"",n=n!=null?""+bn(n):r,N||n===t.value||(t.value=n),t.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=N?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Gs(t)}function ms(t,n,r){n==="number"&&Es(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function hs(t,n,r,o){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&o&&(t[r].defaultSelected=!0)}else{for(r=""+bn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function pl(t,n,r){if(n!=null&&(n=""+bn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+bn(r):""}function Ps(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(i(92));if(De(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=bn(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Gs(t)}function Vn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tr(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||vi.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function gl(t,n,r){if(n!=null&&typeof n!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&r[u]!==o&&Tr(t,u,o)}else for(var m in n)n.hasOwnProperty(m)&&Tr(t,m,n[m])}function Dr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(t){return xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ea(){}var ps=null;function zr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,bs=null;function kr(t){var n=$t(t);if(n&&(t=n.stateNode)){var r=t[xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(fs(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var u=o[xt]||null;if(!u)throw Error(i(90));fs(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Or(o)}break e;case"textarea":pl(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&hs(t,!!r.multiple,n,!1)}}}var Kn=!1;function Mr(t,n,r){if(Kn)return t(n,r);Kn=!0;try{var o=t(n);return o}finally{if(Kn=!1,(gs!==null||bs!==null)&&(xc(),gs&&(n=gs,t=bs,bs=gs=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function Ba(t,n){var r=t.stateNode;if(r===null)return null;var o=r[xt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),as=!1;if(Rn)try{var As={};Object.defineProperty(As,"passive",{get:function(){as=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{as=!1}var Aa=null,C=null,P=null;function xe(){if(P)return P;var t,n=C,r=n.length,o,u="value"in Aa?Aa.value:Aa.textContent,m=u.length;for(t=0;t<r&&n[t]===u[t];t++);var b=r-t;for(o=1;o<=b&&n[r-o]===u[m-o];o++);return P=u.slice(t,1<o?1-o:void 0)}function Ue(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function lt(){return!0}function Ot(){return!1}function ht(t){function n(r,o,u,m,b){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(r=t[N],this[N]=r?r(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?lt:Ot,this.isPropagationStopped=Ot,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lt)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lt)},persist:function(){},isPersistent:lt}),n}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qt=ht(vn),vt=x({},vn,{view:0,detail:0}),Ys=ht(vt),vs,ys,qa,Xn=x({},vt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(vs=t.screenX-qa.screenX,ys=t.screenY-qa.screenY):ys=vs=0,qa=t),vs)},movementY:function(t){return"movementY"in t?t.movementY:ys}}),Bn=ht(Xn),Fu=x({},Xn,{dataTransfer:0}),Ks=ht(Fu),Hu=x({},vt,{relatedTarget:0}),bl=ht(Hu),Mo=x({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Uo=ht(Mo),w=x({},vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z=ht(w),le=x({},vn,{data:0}),ge=ht(le),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ss(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Yt[t])?!!n[t]:!1}function Ia(){return ss}var Xs=x({},vt,{key:function(t){if(t.key){var n=He[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ue(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ht[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(t){return t.type==="keypress"?Ue(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ue(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vl=ht(Xs),Lo=x({},Xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=ht(Lo),Vu=x({},vt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),yl=ht(Vu),pN=x({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gN=ht(pN),bN=x({},Xn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vN=ht(bN),yN=x({},vn,{newState:0,oldState:0}),xN=ht(yN),NN=[9,13,27,32],Zu=Rn&&"CompositionEvent"in window,Ni=null;Rn&&"documentMode"in document&&(Ni=document.documentMode);var jN=Rn&&"TextEvent"in window&&!Ni,Ih=Rn&&(!Zu||Ni&&8<Ni&&11>=Ni),$h=" ",Fh=!1;function Hh(t,n){switch(t){case"keyup":return NN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function SN(t,n){switch(t){case"compositionend":return Vh(n);case"keypress":return n.which!==32?null:(Fh=!0,$h);case"textInput":return t=n.data,t===$h&&Fh?null:t;default:return null}}function wN(t,n){if(xl)return t==="compositionend"||!Zu&&Hh(t,n)?(t=xe(),P=C=Aa=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ih&&n.locale!=="ko"?null:n.data;default:return null}}var _N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_N[t.type]:n==="textarea"}function Gh(t,n,r,o){gs?bs?bs.push(o):bs=[o]:gs=o,n=Ac(n,"onChange"),0<n.length&&(r=new Qt("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var ji=null,Si=null;function EN(t){Cb(t,0)}function qo(t){var n=gn(t);if(Or(n))return t}function Ph(t,n){if(t==="change")return n}var Qh=!1;if(Rn){var Gu;if(Rn){var Pu="oninput"in document;if(!Pu){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),Pu=typeof Yh.oninput=="function"}Gu=Pu}else Gu=!1;Qh=Gu&&(!document.documentMode||9<document.documentMode)}function Kh(){ji&&(ji.detachEvent("onpropertychange",Xh),Si=ji=null)}function Xh(t){if(t.propertyName==="value"&&qo(Si)){var n=[];Gh(n,Si,t,zr(t)),Mr(EN,n)}}function AN(t,n,r){t==="focusin"?(Kh(),ji=n,Si=r,ji.attachEvent("onpropertychange",Xh)):t==="focusout"&&Kh()}function CN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(Si)}function ON(t,n){if(t==="click")return qo(n)}function RN(t,n){if(t==="input"||t==="change")return qo(n)}function TN(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ca=typeof Object.is=="function"?Object.is:TN;function wi(t,n){if(Ca(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!We.call(n,u)||!Ca(t[u],n[u]))return!1}return!0}function Jh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wh(t,n){var r=Jh(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jh(r)}}function ep(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ep(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function tp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Es(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Es(t.document)}return n}function Qu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var DN=Rn&&"documentMode"in document&&11>=document.documentMode,Nl=null,Yu=null,_i=null,Ku=!1;function np(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ku||Nl==null||Nl!==Es(o)||(o=Nl,"selectionStart"in o&&Qu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_i&&wi(_i,o)||(_i=o,o=Ac(Yu,"onSelect"),0<o.length&&(n=new Qt("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Nl)))}function Ur(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var jl={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Xu={},ap={};Rn&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Lr(t){if(Xu[t])return Xu[t];if(!jl[t])return t;var n=jl[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in ap)return Xu[t]=n[r];return t}var sp=Lr("animationend"),rp=Lr("animationiteration"),lp=Lr("animationstart"),zN=Lr("transitionrun"),kN=Lr("transitionstart"),MN=Lr("transitioncancel"),ip=Lr("transitionend"),op=new Map,Ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ju.push("scrollEnd");function rs(t,n){op.set(t,n),Ft(n,[t])}var Io=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$a=[],Sl=0,Wu=0;function $o(){for(var t=Sl,n=Wu=Sl=0;n<t;){var r=$a[n];$a[n++]=null;var o=$a[n];$a[n++]=null;var u=$a[n];$a[n++]=null;var m=$a[n];if($a[n++]=null,o!==null&&u!==null){var b=o.pending;b===null?u.next=u:(u.next=b.next,b.next=u),o.pending=u}m!==0&&cp(r,u,m)}}function Fo(t,n,r,o){$a[Sl++]=t,$a[Sl++]=n,$a[Sl++]=r,$a[Sl++]=o,Wu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ed(t,n,r,o){return Fo(t,n,r,o),Ho(t)}function Br(t,n){return Fo(t,null,null,n),Ho(t)}function cp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var u=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(u=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,u&&n!==null&&(u=31-yt(r),t=m.hiddenUpdates,o=t[u],o===null?t[u]=[n]:o.push(n),n.lane=r|536870912),m):null}function Ho(t){if(50<Pi)throw Pi=0,uf=null,Error(i(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wl={};function UN(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(t,n,r,o){return new UN(t,n,r,o)}function td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cs(t,n){var r=t.alternate;return r===null?(r=Oa(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function up(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vo(t,n,r,o,u,m){var b=0;if(o=t,typeof t=="function")td(t)&&(b=1);else if(typeof t=="string")b=$j(t,r,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case de:return t=Oa(31,r,n,u),t.elementType=de,t.lanes=m,t;case A:return qr(r.children,u,m,n);case R:b=8,u|=24;break;case $:return t=Oa(12,r,n,u|2),t.elementType=$,t.lanes=m,t;case D:return t=Oa(13,r,n,u),t.elementType=D,t.lanes=m,t;case K:return t=Oa(19,r,n,u),t.elementType=K,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:b=10;break e;case z:b=9;break e;case M:b=11;break e;case B:b=14;break e;case H:b=16,o=null;break e}b=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return n=Oa(b,r,n,u),n.elementType=t,n.type=o,n.lanes=m,n}function qr(t,n,r,o){return t=Oa(7,t,o,n),t.lanes=r,t}function nd(t,n,r){return t=Oa(6,t,null,n),t.lanes=r,t}function dp(t){var n=Oa(18,null,null,0);return n.stateNode=t,n}function ad(t,n,r){return n=Oa(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var fp=new WeakMap;function Fa(t,n){if(typeof t=="object"&&t!==null){var r=fp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:we(n)},fp.set(t,n),n)}return{value:t,source:n,stack:we(n)}}var _l=[],El=0,Zo=null,Ei=0,Ha=[],Va=0,Js=null,xs=1,Ns="";function Os(t,n){_l[El++]=Ei,_l[El++]=Zo,Zo=t,Ei=n}function mp(t,n,r){Ha[Va++]=xs,Ha[Va++]=Ns,Ha[Va++]=Js,Js=t;var o=xs;t=Ns;var u=32-yt(o)-1;o&=~(1<<u),r+=1;var m=32-yt(n)+u;if(30<m){var b=u-u%5;m=(o&(1<<b)-1).toString(32),o>>=b,u-=b,xs=1<<32-yt(n)+u|r<<u|o,Ns=m+t}else xs=1<<m|r<<u|o,Ns=t}function sd(t){t.return!==null&&(Os(t,1),mp(t,1,0))}function rd(t){for(;t===Zo;)Zo=_l[--El],_l[El]=null,Ei=_l[--El],_l[El]=null;for(;t===Js;)Js=Ha[--Va],Ha[Va]=null,Ns=Ha[--Va],Ha[Va]=null,xs=Ha[--Va],Ha[Va]=null}function hp(t,n){Ha[Va++]=xs,Ha[Va++]=Ns,Ha[Va++]=Js,xs=n.id,Ns=n.overflow,Js=t}var Jn=null,Wt=null,Et=!1,Ws=null,Za=!1,ld=Error(i(519));function er(t){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ai(Fa(n,t)),ld}function pp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[mt]=t,n[xt]=o,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(r=0;r<Yi.length;r++)jt(Yi[r],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),sa(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),Ps(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Db(n.textContent,r)?(o.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),o.onScroll!=null&&jt("scroll",n),o.onScrollEnd!=null&&jt("scrollend",n),o.onClick!=null&&(n.onclick=Ea),n=!0):n=!1,n||er(t,!0)}function gp(t){for(Jn=t.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:Za=!1;return;case 27:case 3:Za=!0;return;default:Jn=Jn.return}}function Al(t){if(t!==Jn)return!1;if(!Et)return gp(t),Et=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_f(t.type,t.memoizedProps)),r=!r),r&&Wt&&er(t),gp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Wt=$b(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Wt=$b(t)}else n===27?(n=Wt,hr(t.type)?(t=Rf,Rf=null,Wt=t):Wt=n):Wt=Jn?Pa(t.stateNode.nextSibling):null;return!0}function Ir(){Wt=Jn=null,Et=!1}function id(){var t=Ws;return t!==null&&(ba===null?ba=t:ba.push.apply(ba,t),Ws=null),t}function Ai(t){Ws===null?Ws=[t]:Ws.push(t)}var od=_(null),$r=null,Rs=null;function tr(t,n,r){ce(od,n._currentValue),n._currentValue=r}function Ts(t){t._currentValue=od.current,X(od)}function cd(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function ud(t,n,r,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var m=u.dependencies;if(m!==null){var b=u.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=u;for(var k=0;k<n.length;k++)if(N.context===n[k]){m.lanes|=r,N=m.alternate,N!==null&&(N.lanes|=r),cd(m.return,r,t),o||(b=null);break e}m=N.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(i(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),cd(b,r,t),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===t){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function Cl(t,n,r,o){t=null;for(var u=n,m=!1;u!==null;){if(!m){if((u.flags&524288)!==0)m=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var N=u.type;Ca(u.pendingProps.value,b.value)||(t!==null?t.push(N):t=[N])}}else if(u===Le.current){if(b=u.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(eo):t=[eo])}u=u.return}t!==null&&ud(n,t,r,o),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!Ca(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){$r=t,Rs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wn(t){return bp($r,t)}function Po(t,n){return $r===null&&Fr(t),bp(t,n)}function bp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Rs===null){if(t===null)throw Error(i(308));Rs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Rs=Rs.next=n;return r}var LN=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},BN=e.unstable_scheduleCallback,qN=e.unstable_NormalPriority,Tn={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new LN,data:new Map,refCount:0}}function Ci(t){t.refCount--,t.refCount===0&&BN(qN,function(){t.controller.abort()})}var Oi=null,fd=0,Ol=0,Rl=null;function IN(t,n){if(Oi===null){var r=Oi=[];fd=0,Ol=gf(),Rl={status:"pending",value:void 0,then:function(o){r.push(o)}}}return fd++,n.then(vp,vp),n}function vp(){if(--fd===0&&Oi!==null){Rl!==null&&(Rl.status="fulfilled");var t=Oi;Oi=null,Ol=0,Rl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $N(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var yp=U.S;U.S=function(t,n){nb=I(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IN(t,n),yp!==null&&yp(t,n)};var Hr=_(null);function md(){var t=Hr.current;return t!==null?t:Kt.pooledCache}function Qo(t,n){n===null?ce(Hr,Hr.current):ce(Hr,n.pool)}function xp(){var t=md();return t===null?null:{parent:Tn._currentValue,pool:t}}var Tl=Error(i(460)),hd=Error(i(474)),Yo=Error(i(542)),Ko={then:function(){}};function Np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ea,Ea),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wp(t),t;default:if(typeof n.status=="string")n.then(Ea,Ea);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wp(t),t}throw Zr=n,Tl}}function Vr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Zr=r,Tl):r}}var Zr=null;function Sp(){if(Zr===null)throw Error(i(459));var t=Zr;return Zr=null,t}function wp(t){if(t===Tl||t===Yo)throw Error(i(483))}var Dl=null,Ri=0;function Xo(t){var n=Ri;return Ri+=1,Dl===null&&(Dl=[]),jp(Dl,t,n)}function Ti(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jo(t,n){throw n.$$typeof===j?Error(i(525)):(t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _p(t){function n(Q,q){if(t){var ee=Q.deletions;ee===null?(Q.deletions=[q],Q.flags|=16):ee.push(q)}}function r(Q,q){if(!t)return null;for(;q!==null;)n(Q,q),q=q.sibling;return null}function o(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function u(Q,q){return Q=Cs(Q,q),Q.index=0,Q.sibling=null,Q}function m(Q,q,ee){return Q.index=ee,t?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<q?(Q.flags|=67108866,q):ee):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function b(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,q,ee,Ne){return q===null||q.tag!==6?(q=nd(ee,Q.mode,Ne),q.return=Q,q):(q=u(q,ee),q.return=Q,q)}function k(Q,q,ee,Ne){var et=ee.type;return et===A?be(Q,q,ee.props.children,Ne,ee.key):q!==null&&(q.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===H&&Vr(et)===q.type)?(q=u(q,ee.props),Ti(q,ee),q.return=Q,q):(q=Vo(ee.type,ee.key,ee.props,null,Q.mode,Ne),Ti(q,ee),q.return=Q,q)}function ne(Q,q,ee,Ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==ee.containerInfo||q.stateNode.implementation!==ee.implementation?(q=ad(ee,Q.mode,Ne),q.return=Q,q):(q=u(q,ee.children||[]),q.return=Q,q)}function be(Q,q,ee,Ne,et){return q===null||q.tag!==7?(q=qr(ee,Q.mode,Ne,et),q.return=Q,q):(q=u(q,ee),q.return=Q,q)}function Ae(Q,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=nd(""+q,Q.mode,ee),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return ee=Vo(q.type,q.key,q.props,null,Q.mode,ee),Ti(ee,q),ee.return=Q,ee;case E:return q=ad(q,Q.mode,ee),q.return=Q,q;case H:return q=Vr(q),Ae(Q,q,ee)}if(De(q)||ve(q))return q=qr(q,Q.mode,ee,null),q.return=Q,q;if(typeof q.then=="function")return Ae(Q,Xo(q),ee);if(q.$$typeof===te)return Ae(Q,Po(Q,q),ee);Jo(Q,q)}return null}function re(Q,q,ee,Ne){var et=q!==null?q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return et!==null?null:N(Q,q,""+ee,Ne);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case F:return ee.key===et?k(Q,q,ee,Ne):null;case E:return ee.key===et?ne(Q,q,ee,Ne):null;case H:return ee=Vr(ee),re(Q,q,ee,Ne)}if(De(ee)||ve(ee))return et!==null?null:be(Q,q,ee,Ne,null);if(typeof ee.then=="function")return re(Q,q,Xo(ee),Ne);if(ee.$$typeof===te)return re(Q,q,Po(Q,ee),Ne);Jo(Q,ee)}return null}function oe(Q,q,ee,Ne,et){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Q=Q.get(ee)||null,N(q,Q,""+Ne,et);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case F:return Q=Q.get(Ne.key===null?ee:Ne.key)||null,k(q,Q,Ne,et);case E:return Q=Q.get(Ne.key===null?ee:Ne.key)||null,ne(q,Q,Ne,et);case H:return Ne=Vr(Ne),oe(Q,q,ee,Ne,et)}if(De(Ne)||ve(Ne))return Q=Q.get(ee)||null,be(q,Q,Ne,et,null);if(typeof Ne.then=="function")return oe(Q,q,ee,Xo(Ne),et);if(Ne.$$typeof===te)return oe(Q,q,ee,Po(q,Ne),et);Jo(q,Ne)}return null}function Ge(Q,q,ee,Ne){for(var et=null,Tt=null,Ye=q,pt=q=0,wt=null;Ye!==null&&pt<ee.length;pt++){Ye.index>pt?(wt=Ye,Ye=null):wt=Ye.sibling;var Dt=re(Q,Ye,ee[pt],Ne);if(Dt===null){Ye===null&&(Ye=wt);break}t&&Ye&&Dt.alternate===null&&n(Q,Ye),q=m(Dt,q,pt),Tt===null?et=Dt:Tt.sibling=Dt,Tt=Dt,Ye=wt}if(pt===ee.length)return r(Q,Ye),Et&&Os(Q,pt),et;if(Ye===null){for(;pt<ee.length;pt++)Ye=Ae(Q,ee[pt],Ne),Ye!==null&&(q=m(Ye,q,pt),Tt===null?et=Ye:Tt.sibling=Ye,Tt=Ye);return Et&&Os(Q,pt),et}for(Ye=o(Ye);pt<ee.length;pt++)wt=oe(Ye,Q,pt,ee[pt],Ne),wt!==null&&(t&&wt.alternate!==null&&Ye.delete(wt.key===null?pt:wt.key),q=m(wt,q,pt),Tt===null?et=wt:Tt.sibling=wt,Tt=wt);return t&&Ye.forEach(function(yr){return n(Q,yr)}),Et&&Os(Q,pt),et}function st(Q,q,ee,Ne){if(ee==null)throw Error(i(151));for(var et=null,Tt=null,Ye=q,pt=q=0,wt=null,Dt=ee.next();Ye!==null&&!Dt.done;pt++,Dt=ee.next()){Ye.index>pt?(wt=Ye,Ye=null):wt=Ye.sibling;var yr=re(Q,Ye,Dt.value,Ne);if(yr===null){Ye===null&&(Ye=wt);break}t&&Ye&&yr.alternate===null&&n(Q,Ye),q=m(yr,q,pt),Tt===null?et=yr:Tt.sibling=yr,Tt=yr,Ye=wt}if(Dt.done)return r(Q,Ye),Et&&Os(Q,pt),et;if(Ye===null){for(;!Dt.done;pt++,Dt=ee.next())Dt=Ae(Q,Dt.value,Ne),Dt!==null&&(q=m(Dt,q,pt),Tt===null?et=Dt:Tt.sibling=Dt,Tt=Dt);return Et&&Os(Q,pt),et}for(Ye=o(Ye);!Dt.done;pt++,Dt=ee.next())Dt=oe(Ye,Q,pt,Dt.value,Ne),Dt!==null&&(t&&Dt.alternate!==null&&Ye.delete(Dt.key===null?pt:Dt.key),q=m(Dt,q,pt),Tt===null?et=Dt:Tt.sibling=Dt,Tt=Dt);return t&&Ye.forEach(function(Jj){return n(Q,Jj)}),Et&&Os(Q,pt),et}function Gt(Q,q,ee,Ne){if(typeof ee=="object"&&ee!==null&&ee.type===A&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case F:e:{for(var et=ee.key;q!==null;){if(q.key===et){if(et=ee.type,et===A){if(q.tag===7){r(Q,q.sibling),Ne=u(q,ee.props.children),Ne.return=Q,Q=Ne;break e}}else if(q.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===H&&Vr(et)===q.type){r(Q,q.sibling),Ne=u(q,ee.props),Ti(Ne,ee),Ne.return=Q,Q=Ne;break e}r(Q,q);break}else n(Q,q);q=q.sibling}ee.type===A?(Ne=qr(ee.props.children,Q.mode,Ne,ee.key),Ne.return=Q,Q=Ne):(Ne=Vo(ee.type,ee.key,ee.props,null,Q.mode,Ne),Ti(Ne,ee),Ne.return=Q,Q=Ne)}return b(Q);case E:e:{for(et=ee.key;q!==null;){if(q.key===et)if(q.tag===4&&q.stateNode.containerInfo===ee.containerInfo&&q.stateNode.implementation===ee.implementation){r(Q,q.sibling),Ne=u(q,ee.children||[]),Ne.return=Q,Q=Ne;break e}else{r(Q,q);break}else n(Q,q);q=q.sibling}Ne=ad(ee,Q.mode,Ne),Ne.return=Q,Q=Ne}return b(Q);case H:return ee=Vr(ee),Gt(Q,q,ee,Ne)}if(De(ee))return Ge(Q,q,ee,Ne);if(ve(ee)){if(et=ve(ee),typeof et!="function")throw Error(i(150));return ee=et.call(ee),st(Q,q,ee,Ne)}if(typeof ee.then=="function")return Gt(Q,q,Xo(ee),Ne);if(ee.$$typeof===te)return Gt(Q,q,Po(Q,ee),Ne);Jo(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,q!==null&&q.tag===6?(r(Q,q.sibling),Ne=u(q,ee),Ne.return=Q,Q=Ne):(r(Q,q),Ne=nd(ee,Q.mode,Ne),Ne.return=Q,Q=Ne),b(Q)):r(Q,q)}return function(Q,q,ee,Ne){try{Ri=0;var et=Gt(Q,q,ee,Ne);return Dl=null,et}catch(Ye){if(Ye===Tl||Ye===Yo)throw Ye;var Tt=Oa(29,Ye,null,Q.mode);return Tt.lanes=Ne,Tt.return=Q,Tt}finally{}}}var Gr=_p(!0),Ep=_p(!1),nr=!1;function pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Mt&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=Ho(t),cp(t,null,r),n}return Fo(t,o,n,r),Ho(t)}function Di(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,ot(t,r)}}function bd(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?u=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?u=m=n:m=m.next=n}else u=m=n;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var vd=!1;function zi(){if(vd){var t=Rl;if(t!==null)throw t}}function ki(t,n,r,o){vd=!1;var u=t.updateQueue;nr=!1;var m=u.firstBaseUpdate,b=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var k=N,ne=k.next;k.next=null,b===null?m=ne:b.next=ne,b=k;var be=t.alternate;be!==null&&(be=be.updateQueue,N=be.lastBaseUpdate,N!==b&&(N===null?be.firstBaseUpdate=ne:N.next=ne,be.lastBaseUpdate=k))}if(m!==null){var Ae=u.baseState;b=0,be=ne=k=null,N=m;do{var re=N.lane&-536870913,oe=re!==N.lane;if(oe?(St&re)===re:(o&re)===re){re!==0&&re===Ol&&(vd=!0),be!==null&&(be=be.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ge=t,st=N;re=n;var Gt=r;switch(st.tag){case 1:if(Ge=st.payload,typeof Ge=="function"){Ae=Ge.call(Gt,Ae,re);break e}Ae=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=st.payload,re=typeof Ge=="function"?Ge.call(Gt,Ae,re):Ge,re==null)break e;Ae=x({},Ae,re);break e;case 2:nr=!0}}re=N.callback,re!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=u.callbacks,oe===null?u.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},be===null?(ne=be=oe,k=Ae):be=be.next=oe,b|=re;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;oe=N,N=oe.next,oe.next=null,u.lastBaseUpdate=oe,u.shared.pending=null}}while(!0);be===null&&(k=Ae),u.baseState=k,u.firstBaseUpdate=ne,u.lastBaseUpdate=be,m===null&&(u.shared.lanes=0),cr|=b,t.lanes=b,t.memoizedState=Ae}}function Ap(t,n){if(typeof t!="function")throw Error(i(191,t));t.call(n)}function Cp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Ap(r[t],n)}var zl=_(null),Wo=_(0);function Op(t,n){t=Is,ce(Wo,t),ce(zl,n),Is=t|n.baseLanes}function yd(){ce(Wo,Is),ce(zl,zl.current)}function xd(){Is=Wo.current,X(zl),X(Wo)}var Ra=_(null),Ga=null;function rr(t){var n=t.alternate;ce(Sn,Sn.current&1),ce(Ra,t),Ga===null&&(n===null||zl.current!==null||n.memoizedState!==null)&&(Ga=t)}function Nd(t){ce(Sn,Sn.current),ce(Ra,t),Ga===null&&(Ga=t)}function Rp(t){t.tag===22?(ce(Sn,Sn.current),ce(Ra,t),Ga===null&&(Ga=t)):lr()}function lr(){ce(Sn,Sn.current),ce(Ra,Ra.current)}function Ta(t){X(Ra),Ga===t&&(Ga=null),X(Sn)}var Sn=_(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Cf(r)||Of(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ds=0,dt=null,Vt=null,Dn=null,tc=!1,kl=!1,Pr=!1,nc=0,Mi=0,Ml=null,FN=0;function yn(){throw Error(i(321))}function jd(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ca(t[r],n[r]))return!1;return!0}function Sd(t,n,r,o,u,m){return Ds=m,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?mg:Bd,Pr=!1,m=r(o,u),Pr=!1,kl&&(m=Dp(n,r,o,u)),Tp(t),m}function Tp(t){U.H=Bi;var n=Vt!==null&&Vt.next!==null;if(Ds=0,Dn=Vt=dt=null,tc=!1,Mi=0,Ml=null,n)throw Error(i(300));t===null||zn||(t=t.dependencies,t!==null&&Go(t)&&(zn=!0))}function Dp(t,n,r,o){dt=t;var u=0;do{if(kl&&(Ml=null),Mi=0,kl=!1,25<=u)throw Error(i(301));if(u+=1,Dn=Vt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=hg,m=n(r,o)}while(kl);return m}function HN(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Ui(n):n,t=t.useState()[0],(Vt!==null?Vt.memoizedState:null)!==t&&(dt.flags|=1024),n}function wd(){var t=nc!==0;return nc=0,t}function _d(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ed(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}Ds=0,Dn=Vt=dt=null,kl=!1,Mi=nc=0,Ml=null}function ca(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?dt.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function wn(){if(Vt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var n=Dn===null?dt.memoizedState:Dn.next;if(n!==null)Dn=n,Vt=t;else{if(t===null)throw dt.alternate===null?Error(i(467)):Error(i(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Dn===null?dt.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ui(t){var n=Mi;return Mi+=1,Ml===null&&(Ml=[]),t=jp(Ml,t,n),n=dt,(Dn===null?n.memoizedState:Dn.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?mg:Bd),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ui(t);if(t.$$typeof===te)return Wn(t)}throw Error(i(438,String(t)))}function Ad(t){var n=null,r=dt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ac(),dt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=Te;return n.index++,r}function zs(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=wn();return Cd(n,Vt,t)}function Cd(t,n,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=t.baseQueue,m=o.pending;if(m!==null){if(u!==null){var b=u.next;u.next=m.next,m.next=b}n.baseQueue=u=m,o.pending=null}if(m=t.baseState,u===null)t.memoizedState=m;else{n=u.next;var N=b=null,k=null,ne=n,be=!1;do{var Ae=ne.lane&-536870913;if(Ae!==ne.lane?(St&Ae)===Ae:(Ds&Ae)===Ae){var re=ne.revertLane;if(re===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),Ae===Ol&&(be=!0);else if((Ds&re)===re){ne=ne.next,re===Ol&&(be=!0);continue}else Ae={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},k===null?(N=k=Ae,b=m):k=k.next=Ae,dt.lanes|=re,cr|=re;Ae=ne.action,Pr&&r(m,Ae),m=ne.hasEagerState?ne.eagerState:r(m,Ae)}else re={lane:Ae,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},k===null?(N=k=re,b=m):k=k.next=re,dt.lanes|=Ae,cr|=Ae;ne=ne.next}while(ne!==null&&ne!==n);if(k===null?b=m:k.next=N,!Ca(m,t.memoizedState)&&(zn=!0,be&&(r=Rl,r!==null)))throw r;t.memoizedState=m,t.baseState=b,t.baseQueue=k,o.lastRenderedState=m}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Od(t){var n=wn(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,u=r.pending,m=n.memoizedState;if(u!==null){r.pending=null;var b=u=u.next;do m=t(m,b.action),b=b.next;while(b!==u);Ca(m,n.memoizedState)||(zn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function zp(t,n,r){var o=dt,u=wn(),m=Et;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=n();var b=!Ca((Vt||u).memoizedState,r);if(b&&(u.memoizedState=r,zn=!0),u=u.queue,Dd(Up.bind(null,o,u,t),[t]),u.getSnapshot!==n||b||Dn!==null&&Dn.memoizedState.tag&1){if(o.flags|=2048,Ul(9,{destroy:void 0},Mp.bind(null,o,u,r,n),null),Kt===null)throw Error(i(349));m||(Ds&127)!==0||kp(o,n,r)}return r}function kp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=dt.updateQueue,n===null?(n=ac(),dt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Mp(t,n,r,o){n.value=r,n.getSnapshot=o,Lp(n)&&Bp(t)}function Up(t,n,r){return r(function(){Lp(n)&&Bp(t)})}function Lp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ca(t,r)}catch{return!0}}function Bp(t){var n=Br(t,2);n!==null&&va(n,t,2)}function Rd(t){var n=ca();if(typeof t=="function"){var r=t;if(t=r(),Pr){zt(!0);try{r()}finally{zt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n}function qp(t,n,r,o){return t.baseState=r,Cd(t,Vt,typeof o=="function"?o:zs)}function VN(t,n,r,o,u){if(oc(t))throw Error(i(485));if(t=n.action,t!==null){var m={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};U.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,Ip(n,m)):(m.next=r.next,n.pending=r.next=m)}}function Ip(t,n){var r=n.action,o=n.payload,u=t.state;if(n.isTransition){var m=U.T,b={};U.T=b;try{var N=r(u,o),k=U.S;k!==null&&k(b,N),$p(t,n,N)}catch(ne){Td(t,n,ne)}finally{m!==null&&b.types!==null&&(m.types=b.types),U.T=m}}else try{m=r(u,o),$p(t,n,m)}catch(ne){Td(t,n,ne)}}function $p(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Fp(t,n,o)},function(o){return Td(t,n,o)}):Fp(t,n,r)}function Fp(t,n,r){n.status="fulfilled",n.value=r,Hp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ip(t,r)))}function Td(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Hp(n),n=n.next;while(n!==o)}t.action=null}function Hp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Vp(t,n){return n}function Zp(t,n){if(Et){var r=Kt.formState;if(r!==null){e:{var o=dt;if(Et){if(Wt){t:{for(var u=Wt,m=Za;u.nodeType!==8;){if(!m){u=null;break t}if(u=Pa(u.nextSibling),u===null){u=null;break t}}m=u.data,u=m==="F!"||m==="F"?u:null}if(u){Wt=Pa(u.nextSibling),o=u.data==="F!";break e}}er(o)}o=!1}o&&(n=r[0])}}return r=ca(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:n},r.queue=o,r=ug.bind(null,dt,o),o.dispatch=r,o=Rd(!1),m=Ld.bind(null,dt,!1,o.queue),o=ca(),u={state:n,dispatch:null,action:t,pending:null},o.queue=u,r=VN.bind(null,dt,u,m,r),u.dispatch=r,o.memoizedState=t,[n,r,!1]}function Gp(t){var n=wn();return Pp(n,Vt,t)}function Pp(t,n,r){if(n=Cd(t,n,Vp)[0],t=rc(zs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ui(n)}catch(b){throw b===Tl?Yo:b}else o=n;n=wn();var u=n.queue,m=u.dispatch;return r!==n.memoizedState&&(dt.flags|=2048,Ul(9,{destroy:void 0},ZN.bind(null,u,r),null)),[o,m,t]}function ZN(t,n){t.action=n}function Qp(t){var n=wn(),r=Vt;if(r!==null)return Pp(n,r,t);wn(),n=n.memoizedState,r=wn();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ul(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=dt.updateQueue,n===null&&(n=ac(),dt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Yp(){return wn().memoizedState}function lc(t,n,r,o){var u=ca();dt.flags|=t,u.memoizedState=Ul(1|n,{destroy:void 0},r,o===void 0?null:o)}function ic(t,n,r,o){var u=wn();o=o===void 0?null:o;var m=u.memoizedState.inst;Vt!==null&&o!==null&&jd(o,Vt.memoizedState.deps)?u.memoizedState=Ul(n,m,r,o):(dt.flags|=t,u.memoizedState=Ul(1|n,m,r,o))}function Kp(t,n){lc(8390656,8,t,n)}function Dd(t,n){ic(2048,8,t,n)}function GN(t){dt.flags|=4;var n=dt.updateQueue;if(n===null)n=ac(),dt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Xp(t){var n=wn().memoizedState;return GN({ref:n,nextImpl:t}),function(){if((Mt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Jp(t,n){return ic(4,2,t,n)}function Wp(t,n){return ic(4,4,t,n)}function eg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function tg(t,n,r){r=r!=null?r.concat([t]):null,ic(4,4,eg.bind(null,n,t),r)}function zd(){}function ng(t,n){var r=wn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&jd(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function ag(t,n){var r=wn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&jd(n,o[1]))return o[0];if(o=t(),Pr){zt(!0);try{t()}finally{zt(!1)}}return r.memoizedState=[o,n],o}function kd(t,n,r){return r===void 0||(Ds&1073741824)!==0&&(St&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=sb(),dt.lanes|=t,cr|=t,r)}function sg(t,n,r,o){return Ca(r,n)?r:zl.current!==null?(t=kd(t,r,o),Ca(t,n)||(zn=!0),t):(Ds&42)===0||(Ds&1073741824)!==0&&(St&261930)===0?(zn=!0,t.memoizedState=r):(t=sb(),dt.lanes|=t,cr|=t,n)}function rg(t,n,r,o,u){var m=V.p;V.p=m!==0&&8>m?m:8;var b=U.T,N={};U.T=N,Ld(t,!1,n,r);try{var k=u(),ne=U.S;if(ne!==null&&ne(N,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var be=$N(k,o);Li(t,n,be,ka(t))}else Li(t,n,o,ka(t))}catch(Ae){Li(t,n,{then:function(){},status:"rejected",reason:Ae},ka())}finally{V.p=m,b!==null&&N.types!==null&&(b.types=N.types),U.T=b}}function PN(){}function Md(t,n,r,o){if(t.tag!==5)throw Error(i(476));var u=lg(t).queue;rg(t,u,n,ae,r===null?PN:function(){return ig(t),r(o)})}function lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:ae},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ig(t){var n=lg(t);n.next===null&&(n=t.alternate.memoizedState),Li(t,n.next.queue,{},ka())}function Ud(){return Wn(eo)}function og(){return wn().memoizedState}function cg(){return wn().memoizedState}function QN(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ka();t=ar(r);var o=sr(n,t,r);o!==null&&(va(o,n,r),Di(o,n,r)),n={cache:dd()},t.payload=n;return}n=n.return}}function YN(t,n,r){var o=ka();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},oc(t)?dg(n,r):(r=ed(t,n,r,o),r!==null&&(va(r,t,o),fg(r,n,o)))}function ug(t,n,r){var o=ka();Li(t,n,r,o)}function Li(t,n,r,o){var u={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(oc(t))dg(n,u);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,N=m(b,r);if(u.hasEagerState=!0,u.eagerState=N,Ca(N,b))return Fo(t,n,u,0),Kt===null&&$o(),!1}catch{}finally{}if(r=ed(t,n,u,o),r!==null)return va(r,t,o),fg(r,n,o),!0}return!1}function Ld(t,n,r,o){if(o={lane:2,revertLane:gf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(n)throw Error(i(479))}else n=ed(t,r,o,2),n!==null&&va(n,t,2)}function oc(t){var n=t.alternate;return t===dt||n!==null&&n===dt}function dg(t,n){kl=tc=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function fg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,ot(t,r)}}var Bi={readContext:Wn,use:sc,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};Bi.useEffectEvent=yn;var mg={readContext:Wn,use:sc,useCallback:function(t,n){return ca().memoizedState=[t,n===void 0?null:n],t},useContext:Wn,useEffect:Kp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,lc(4194308,4,eg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return lc(4194308,4,t,n)},useInsertionEffect:function(t,n){lc(4,2,t,n)},useMemo:function(t,n){var r=ca();n=n===void 0?null:n;var o=t();if(Pr){zt(!0);try{t()}finally{zt(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=ca();if(r!==void 0){var u=r(n);if(Pr){zt(!0);try{r(n)}finally{zt(!1)}}}else u=n;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=YN.bind(null,dt,t),[o.memoizedState,t]},useRef:function(t){var n=ca();return t={current:t},n.memoizedState=t},useState:function(t){t=Rd(t);var n=t.queue,r=ug.bind(null,dt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:zd,useDeferredValue:function(t,n){var r=ca();return kd(r,t,n)},useTransition:function(){var t=Rd(!1);return t=rg.bind(null,dt,t.queue,!0,!1),ca().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=dt,u=ca();if(Et){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),Kt===null)throw Error(i(349));(St&127)!==0||kp(o,n,r)}u.memoizedState=r;var m={value:r,getSnapshot:n};return u.queue=m,Kp(Up.bind(null,o,m,t),[t]),o.flags|=2048,Ul(9,{destroy:void 0},Mp.bind(null,o,m,r,n),null),r},useId:function(){var t=ca(),n=Kt.identifierPrefix;if(Et){var r=Ns,o=xs;r=(o&~(1<<32-yt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=nc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=FN++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ud,useFormState:Zp,useActionState:Zp,useOptimistic:function(t){var n=ca();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ld.bind(null,dt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ad,useCacheRefresh:function(){return ca().memoizedState=QN.bind(null,dt)},useEffectEvent:function(t){var n=ca(),r={impl:t};return n.memoizedState=r,function(){if((Mt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Bd={readContext:Wn,use:sc,useCallback:ng,useContext:Wn,useEffect:Dd,useImperativeHandle:tg,useInsertionEffect:Jp,useLayoutEffect:Wp,useMemo:ag,useReducer:rc,useRef:Yp,useState:function(){return rc(zs)},useDebugValue:zd,useDeferredValue:function(t,n){var r=wn();return sg(r,Vt.memoizedState,t,n)},useTransition:function(){var t=rc(zs)[0],n=wn().memoizedState;return[typeof t=="boolean"?t:Ui(t),n]},useSyncExternalStore:zp,useId:og,useHostTransitionStatus:Ud,useFormState:Gp,useActionState:Gp,useOptimistic:function(t,n){var r=wn();return qp(r,Vt,t,n)},useMemoCache:Ad,useCacheRefresh:cg};Bd.useEffectEvent=Xp;var hg={readContext:Wn,use:sc,useCallback:ng,useContext:Wn,useEffect:Dd,useImperativeHandle:tg,useInsertionEffect:Jp,useLayoutEffect:Wp,useMemo:ag,useReducer:Od,useRef:Yp,useState:function(){return Od(zs)},useDebugValue:zd,useDeferredValue:function(t,n){var r=wn();return Vt===null?kd(r,t,n):sg(r,Vt.memoizedState,t,n)},useTransition:function(){var t=Od(zs)[0],n=wn().memoizedState;return[typeof t=="boolean"?t:Ui(t),n]},useSyncExternalStore:zp,useId:og,useHostTransitionStatus:Ud,useFormState:Qp,useActionState:Qp,useOptimistic:function(t,n){var r=wn();return Vt!==null?qp(r,Vt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:cg};hg.useEffectEvent=Xp;function qd(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Id={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=ka(),u=ar(o);u.payload=n,r!=null&&(u.callback=r),n=sr(t,u,o),n!==null&&(va(n,t,o),Di(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=ka(),u=ar(o);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=sr(t,u,o),n!==null&&(va(n,t,o),Di(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ka(),o=ar(r);o.tag=2,n!=null&&(o.callback=n),n=sr(t,o,r),n!==null&&(va(n,t,r),Di(n,t,r))}};function pg(t,n,r,o,u,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):n.prototype&&n.prototype.isPureReactComponent?!wi(r,o)||!wi(u,m):!0}function gg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Id.enqueueReplaceState(n,n.state,null)}function Qr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function bg(t){Io(t)}function vg(t){console.error(t)}function yg(t){Io(t)}function cc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function xg(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function $d(t,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){cc(t,n)},r}function Ng(t){return t=ar(t),t.tag=3,t}function jg(t,n,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var m=o.value;t.payload=function(){return u(m)},t.callback=function(){xg(n,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){xg(n,r,o),typeof u!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function KN(t,n,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Cl(n,r,u,!0),r=Ra.current,r!==null){switch(r.tag){case 31:case 13:return Ga===null?Nc():r.alternate===null&&xn===0&&(xn=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===Ko?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),mf(t,o,u)),!1;case 22:return r.flags|=65536,o===Ko?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),mf(t,o,u)),!1}throw Error(i(435,r.tag))}return mf(t,o,u),Nc(),!1}if(Et)return n=Ra.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==ld&&(t=Error(i(422),{cause:o}),Ai(Fa(t,r)))):(o!==ld&&(n=Error(i(423),{cause:o}),Ai(Fa(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=Fa(o,r),u=$d(t.stateNode,o,u),bd(t,u),xn!==4&&(xn=2)),!1;var m=Error(i(520),{cause:o});if(m=Fa(m,r),Gi===null?Gi=[m]:Gi.push(m),xn!==4&&(xn=2),n===null)return!0;o=Fa(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=$d(r.stateNode,o,t),bd(r,t),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ur===null||!ur.has(m))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Ng(u),jg(u,t,r,o),bd(r,u),!1}r=r.return}while(r!==null);return!1}var Fd=Error(i(461)),zn=!1;function ea(t,n,r,o){n.child=t===null?Ep(n,null,r,o):Gr(n,t.child,r,o)}function Sg(t,n,r,o,u){r=r.render;var m=n.ref;if("ref"in o){var b={};for(var N in o)N!=="ref"&&(b[N]=o[N])}else b=o;return Fr(n),o=Sd(t,n,r,b,m,u),N=wd(),t!==null&&!zn?(_d(t,n,u),ks(t,n,u)):(Et&&N&&sd(n),n.flags|=1,ea(t,n,o,u),n.child)}function wg(t,n,r,o,u){if(t===null){var m=r.type;return typeof m=="function"&&!td(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,_g(t,n,m,o,u)):(t=Vo(r.type,null,o,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Kd(t,u)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:wi,r(b,o)&&t.ref===n.ref)return ks(t,n,u)}return n.flags|=1,t=Cs(m,o),t.ref=n.ref,t.return=n,n.child=t}function _g(t,n,r,o,u){if(t!==null){var m=t.memoizedProps;if(wi(m,o)&&t.ref===n.ref)if(zn=!1,n.pendingProps=o=m,Kd(t,u))(t.flags&131072)!==0&&(zn=!0);else return n.lanes=t.lanes,ks(t,n,u)}return Hd(t,n,r,o,u)}function Eg(t,n,r,o){var u=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=n.child=t.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~m}else o=0,n.child=null;return Ag(t,n,m,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,m!==null?m.cachePool:null),m!==null?Op(n,m):yd(),Rp(n);else return o=n.lanes=536870912,Ag(t,n,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(Qo(n,m.cachePool),Op(n,m),lr(),n.memoizedState=null):(t!==null&&Qo(n,null),yd(),lr());return ea(t,n,u,r),n.child}function qi(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ag(t,n,r,o,u){var m=md();return m=m===null?null:{parent:Tn._currentValue,pool:m},n.memoizedState={baseLanes:r,cachePool:m},t!==null&&Qo(n,null),yd(),Rp(n),t!==null&&Cl(t,n,o,!0),n.childLanes=u,null}function uc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Cg(t,n,r){return Gr(n,t.child,null,r),t=uc(n,n.pendingProps),t.flags|=2,Ta(n),n.memoizedState=null,t}function XN(t,n,r){var o=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Et){if(o.mode==="hidden")return t=uc(n,o),n.lanes=536870912,qi(null,t);if(Nd(n),(t=Wt)?(t=Ib(t,Za),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Js!==null?{id:xs,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},r=dp(t),r.return=n,n.child=r,Jn=n,Wt=null)):t=null,t===null)throw er(n);return n.lanes=536870912,null}return uc(n,o)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(Nd(n),u)if(n.flags&256)n.flags&=-257,n=Cg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(i(558));else if(zn||Cl(t,n,r,!1),u=(r&t.childLanes)!==0,zn||u){if(o=Kt,o!==null&&(b=Ke(o,r),b!==0&&b!==m.retryLane))throw m.retryLane=b,Br(t,b),va(o,t,b),Fd;Nc(),n=Cg(t,n,r)}else t=m.treeContext,Wt=Pa(b.nextSibling),Jn=n,Et=!0,Ws=null,Za=!1,t!==null&&hp(n,t),n=uc(n,o),n.flags|=4096;return n}return t=Cs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function dc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Hd(t,n,r,o,u){return Fr(n),r=Sd(t,n,r,o,void 0,u),o=wd(),t!==null&&!zn?(_d(t,n,u),ks(t,n,u)):(Et&&o&&sd(n),n.flags|=1,ea(t,n,r,u),n.child)}function Og(t,n,r,o,u,m){return Fr(n),n.updateQueue=null,r=Dp(n,o,r,u),Tp(t),o=wd(),t!==null&&!zn?(_d(t,n,m),ks(t,n,m)):(Et&&o&&sd(n),n.flags|=1,ea(t,n,r,m),n.child)}function Rg(t,n,r,o,u){if(Fr(n),n.stateNode===null){var m=wl,b=r.contextType;typeof b=="object"&&b!==null&&(m=Wn(b)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Id,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},pd(n),b=r.contextType,m.context=typeof b=="object"&&b!==null?Wn(b):wl,m.state=n.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(qd(n,r,b,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Id.enqueueReplaceState(m,m.state,null),ki(n,o,m,u),zi(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var N=n.memoizedProps,k=Qr(r,N);m.props=k;var ne=m.context,be=r.contextType;b=wl,typeof be=="object"&&be!==null&&(b=Wn(be));var Ae=r.getDerivedStateFromProps;be=typeof Ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,be||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||ne!==b)&&gg(n,m,o,b),nr=!1;var re=n.memoizedState;m.state=re,ki(n,o,m,u),zi(),ne=n.memoizedState,N||re!==ne||nr?(typeof Ae=="function"&&(qd(n,r,Ae,o),ne=n.memoizedState),(k=nr||pg(n,r,k,o,re,ne,b))?(be||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ne),m.props=o,m.state=ne,m.context=b,o=k):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,gd(t,n),b=n.memoizedProps,be=Qr(r,b),m.props=be,Ae=n.pendingProps,re=m.context,ne=r.contextType,k=wl,typeof ne=="object"&&ne!==null&&(k=Wn(ne)),N=r.getDerivedStateFromProps,(ne=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Ae||re!==k)&&gg(n,m,o,k),nr=!1,re=n.memoizedState,m.state=re,ki(n,o,m,u),zi();var oe=n.memoizedState;b!==Ae||re!==oe||nr||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof N=="function"&&(qd(n,r,N,o),oe=n.memoizedState),(be=nr||pg(n,r,be,o,re,oe,k)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(ne||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,oe,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,oe,k)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=oe),m.props=o,m.state=oe,m.context=k,o=be):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,dc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Gr(n,t.child,null,u),n.child=Gr(n,null,r,u)):ea(t,n,r,u),n.memoizedState=m.state,t=n.child):t=ks(t,n,u),t}function Tg(t,n,r,o){return Ir(),n.flags|=256,ea(t,n,r,o),n.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(t){return{baseLanes:t,cachePool:xp()}}function Gd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=za),t}function Dg(t,n,r){var o=n.pendingProps,u=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Sn.current&2)!==0),b&&(u=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Et){if(u?rr(n):lr(),(t=Wt)?(t=Ib(t,Za),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Js!==null?{id:xs,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},r=dp(t),r.return=n,n.child=r,Jn=n,Wt=null)):t=null,t===null)throw er(n);return Of(t)?n.lanes=32:n.lanes=536870912,null}var N=o.children;return o=o.fallback,u?(lr(),u=n.mode,N=fc({mode:"hidden",children:N},u),o=qr(o,u,r,null),N.return=n,o.return=n,N.sibling=o,n.child=N,o=n.child,o.memoizedState=Zd(r),o.childLanes=Gd(t,b,r),n.memoizedState=Vd,qi(null,o)):(rr(n),Pd(n,N))}var k=t.memoizedState;if(k!==null&&(N=k.dehydrated,N!==null)){if(m)n.flags&256?(rr(n),n.flags&=-257,n=Qd(t,n,r)):n.memoizedState!==null?(lr(),n.child=t.child,n.flags|=128,n=null):(lr(),N=o.fallback,u=n.mode,o=fc({mode:"visible",children:o.children},u),N=qr(N,u,r,null),N.flags|=2,o.return=n,N.return=n,o.sibling=N,n.child=o,Gr(n,t.child,null,r),o=n.child,o.memoizedState=Zd(r),o.childLanes=Gd(t,b,r),n.memoizedState=Vd,n=qi(null,o));else if(rr(n),Of(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var ne=b.dgst;b=ne,o=Error(i(419)),o.stack="",o.digest=b,Ai({value:o,source:null,stack:null}),n=Qd(t,n,r)}else if(zn||Cl(t,n,r,!1),b=(r&t.childLanes)!==0,zn||b){if(b=Kt,b!==null&&(o=Ke(b,r),o!==0&&o!==k.retryLane))throw k.retryLane=o,Br(t,o),va(b,t,o),Fd;Cf(N)||Nc(),n=Qd(t,n,r)}else Cf(N)?(n.flags|=192,n.child=t.child,n=null):(t=k.treeContext,Wt=Pa(N.nextSibling),Jn=n,Et=!0,Ws=null,Za=!1,t!==null&&hp(n,t),n=Pd(n,o.children),n.flags|=4096);return n}return u?(lr(),N=o.fallback,u=n.mode,k=t.child,ne=k.sibling,o=Cs(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,ne!==null?N=Cs(ne,N):(N=qr(N,u,r,null),N.flags|=2),N.return=n,o.return=n,o.sibling=N,n.child=o,qi(null,o),o=n.child,N=t.child.memoizedState,N===null?N=Zd(r):(u=N.cachePool,u!==null?(k=Tn._currentValue,u=u.parent!==k?{parent:k,pool:k}:u):u=xp(),N={baseLanes:N.baseLanes|r,cachePool:u}),o.memoizedState=N,o.childLanes=Gd(t,b,r),n.memoizedState=Vd,qi(t.child,o)):(rr(n),r=t.child,t=r.sibling,r=Cs(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=r,n.memoizedState=null,r)}function Pd(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=Oa(22,t,null,n),t.lanes=0,t}function Qd(t,n,r){return Gr(n,t.child,null,r),t=Pd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function zg(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),cd(t.return,n,r)}function Yd(t,n,r,o,u,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=r,b.tailMode=u,b.treeForkCount=m)}function kg(t,n,r){var o=n.pendingProps,u=o.revealOrder,m=o.tail;o=o.children;var b=Sn.current,N=(b&2)!==0;if(N?(b=b&1|2,n.flags|=128):b&=1,ce(Sn,b),ea(t,n,o,r),o=Et?Ei:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zg(t,r,n);else if(t.tag===19)zg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&ec(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Yd(n,!1,u,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&ec(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}Yd(n,!0,r,null,m,o);break;case"together":Yd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ks(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Cl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,r=Cs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Cs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Kd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function JN(t,n,r){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),tr(n,Tn,t.memoizedState.cache),Ir();break;case 27:case 5:Be(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:tr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nd(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(rr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Dg(t,n,r):(rr(n),t=ks(t,n,r),t!==null?t.sibling:null);rr(n);break;case 19:var u=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Cl(t,n,r,!1),o=(r&n.childLanes)!==0),u){if(o)return kg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ce(Sn,Sn.current),o)break;return null;case 22:return n.lanes=0,Eg(t,n,r,n.pendingProps);case 24:tr(n,Tn,t.memoizedState.cache)}return ks(t,n,r)}function Mg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)zn=!0;else{if(!Kd(t,r)&&(n.flags&128)===0)return zn=!1,JN(t,n,r);zn=(t.flags&131072)!==0}else zn=!1,Et&&(n.flags&1048576)!==0&&mp(n,Ei,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Vr(n.elementType),n.type=t,typeof t=="function")td(t)?(o=Qr(t,o),n.tag=1,n=Rg(null,n,t,o,r)):(n.tag=0,n=Hd(null,n,t,o,r));else{if(t!=null){var u=t.$$typeof;if(u===M){n.tag=11,n=Sg(null,n,t,o,r);break e}else if(u===B){n.tag=14,n=wg(null,n,t,o,r);break e}}throw n=ke(t)||t,Error(i(306,n,""))}}return n;case 0:return Hd(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,u=Qr(o,n.pendingProps),Rg(t,n,o,u,r);case 3:e:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(i(387));o=n.pendingProps;var m=n.memoizedState;u=m.element,gd(t,n),ki(n,o,null,r);var b=n.memoizedState;if(o=b.cache,tr(n,Tn,o),o!==m.cache&&ud(n,[Tn],r,!0),zi(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Tg(t,n,o,r);break e}else if(o!==u){u=Fa(Error(i(424)),n),Ai(u),n=Tg(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=Pa(t.firstChild),Jn=n,Et=!0,Ws=null,Za=!0,r=Ep(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ir(),o===u){n=ks(t,n,r);break e}ea(t,n,o,r)}n=n.child}return n;case 26:return dc(t,n),t===null?(r=Gb(n.type,null,n.pendingProps,null))?n.memoizedState=r:Et||(r=n.type,t=n.pendingProps,o=Cc(Se.current).createElement(r),o[mt]=n,o[xt]=t,ta(o,r,t),Lt(o),n.stateNode=o):n.memoizedState=Gb(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Be(n),t===null&&Et&&(o=n.stateNode=Hb(n.type,n.pendingProps,Se.current),Jn=n,Za=!0,u=Wt,hr(n.type)?(Rf=u,Wt=Pa(o.firstChild)):Wt=u),ea(t,n,n.pendingProps.children,r),dc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Et&&((u=o=Wt)&&(o=Cj(o,n.type,n.pendingProps,Za),o!==null?(n.stateNode=o,Jn=n,Wt=Pa(o.firstChild),Za=!1,u=!0):u=!1),u||er(n)),Be(n),u=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,_f(u,m)?o=null:b!==null&&_f(u,b)&&(n.flags|=32),n.memoizedState!==null&&(u=Sd(t,n,HN,null,null,r),eo._currentValue=u),dc(t,n),ea(t,n,o,r),n.child;case 6:return t===null&&Et&&((t=r=Wt)&&(r=Oj(r,n.pendingProps,Za),r!==null?(n.stateNode=r,Jn=n,Wt=null,t=!0):t=!1),t||er(n)),null;case 13:return Dg(t,n,r);case 4:return Ve(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Gr(n,null,o,r):ea(t,n,o,r),n.child;case 11:return Sg(t,n,n.type,n.pendingProps,r);case 7:return ea(t,n,n.pendingProps,r),n.child;case 8:return ea(t,n,n.pendingProps.children,r),n.child;case 12:return ea(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,tr(n,n.type,o.value),ea(t,n,o.children,r),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,Fr(n),u=Wn(u),o=o(u),n.flags|=1,ea(t,n,o,r),n.child;case 14:return wg(t,n,n.type,n.pendingProps,r);case 15:return _g(t,n,n.type,n.pendingProps,r);case 19:return kg(t,n,r);case 31:return XN(t,n,r);case 22:return Eg(t,n,r,n.pendingProps);case 24:return Fr(n),o=Wn(Tn),t===null?(u=md(),u===null&&(u=Kt,m=dd(),u.pooledCache=m,m.refCount++,m!==null&&(u.pooledCacheLanes|=r),u=m),n.memoizedState={parent:o,cache:u},pd(n),tr(n,Tn,u)):((t.lanes&r)!==0&&(gd(t,n),ki(n,null,null,r),zi()),u=t.memoizedState,m=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),tr(n,Tn,o)):(o=m.cache,tr(n,Tn,o),o!==u.cache&&ud(n,[Tn],r,!0))),ea(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Ms(t){t.flags|=4}function Xd(t,n,r,o,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(ob())t.flags|=8192;else throw Zr=Ko,hd}else t.flags&=-16777217}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xb(n))if(ob())t.flags|=8192;else throw Zr=Ko,hd}function mc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?W():536870912,t.lanes|=n,Il|=n)}function Ii(t,n){if(!Et)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function en(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function WN(t,n,r){var o=n.pendingProps;switch(rd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(n),null;case 1:return en(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ts(Tn),pe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Al(n)?Ms(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,id())),en(n),null;case 26:var u=n.type,m=n.memoizedState;return t===null?(Ms(n),m!==null?(en(n),Ug(n,m)):(en(n),Xd(n,u,null,o,r))):m?m!==t.memoizedState?(Ms(n),en(n),Ug(n,m)):(en(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ms(n),en(n),Xd(n,u,t,o,r)),null;case 27:if(Ze(n),r=Se.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ms(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return en(n),null}t=Y.current,Al(n)?pp(n):(t=Hb(u,o,r),n.stateNode=t,Ms(n))}return en(n),null;case 5:if(Ze(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ms(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return en(n),null}if(m=Y.current,Al(n))pp(n);else{var b=Cc(Se.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(u,{is:o.is}):b.createElement(u)}}m[mt]=n,m[xt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(ta(m,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ms(n)}}return en(n),Xd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ms(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(i(166));if(t=Se.current,Al(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,u=Jn,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[mt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Db(t.nodeValue,r)),t||er(n,!0)}else t=Cc(t).createTextNode(o),t[mt]=n,n.stateNode=t}return en(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Al(n),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[mt]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;en(n),t=!1}else r=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Ta(n),n):(Ta(n),null);if((n.flags&128)!==0)throw Error(i(558))}return en(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(i(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[mt]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;en(n),u=!1}else u=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Ta(n),n):(Ta(n),null)}return Ta(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),mc(n,n.updateQueue),en(n),null);case 4:return pe(),t===null&&xf(n.stateNode.containerInfo),en(n),null;case 10:return Ts(n.type),en(n),null;case 19:if(X(Sn),o=n.memoizedState,o===null)return en(n),null;if(u=(n.flags&128)!==0,m=o.rendering,m===null)if(u)Ii(o,!1);else{if(xn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=ec(t),m!==null){for(n.flags|=128,Ii(o,!1),t=m.updateQueue,n.updateQueue=t,mc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)up(r,t),r=r.sibling;return ce(Sn,Sn.current&1|2),Et&&Os(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&I()>vc&&(n.flags|=128,u=!0,Ii(o,!1),n.lanes=4194304)}else{if(!u)if(t=ec(m),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,mc(n,t),Ii(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Et)return en(n),null}else 2*I()-o.renderingStartTime>vc&&r!==536870912&&(n.flags|=128,u=!0,Ii(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=I(),t.sibling=null,r=Sn.current,ce(Sn,u?r&1|2:r&1),Et&&Os(n,o.treeForkCount),t):(en(n),null);case 22:case 23:return Ta(n),xd(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(en(n),n.subtreeFlags&6&&(n.flags|=8192)):en(n),r=n.updateQueue,r!==null&&mc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&X(Hr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ts(Tn),en(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function ej(t,n){switch(rd(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ts(Tn),pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ze(n),null;case 31:if(n.memoizedState!==null){if(Ta(n),n.alternate===null)throw Error(i(340));Ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ta(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(Sn),null;case 4:return pe(),null;case 10:return Ts(n.type),null;case 22:case 23:return Ta(n),xd(),t!==null&&X(Hr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ts(Tn),null;case 25:return null;default:return null}}function Lg(t,n){switch(rd(n),n.tag){case 3:Ts(Tn),pe();break;case 26:case 27:case 5:Ze(n);break;case 4:pe();break;case 31:n.memoizedState!==null&&Ta(n);break;case 13:Ta(n);break;case 19:X(Sn);break;case 10:Ts(n.type);break;case 22:case 23:Ta(n),xd(),t!==null&&X(Hr);break;case 24:Ts(Tn)}}function $i(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&t)===t){o=void 0;var m=r.create,b=r.inst;o=m(),b.destroy=o}r=r.next}while(r!==u)}}catch(N){qt(n,n.return,N)}}function ir(t,n,r){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&t)===t){var b=o.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,u=n;var k=r,ne=N;try{ne()}catch(be){qt(u,k,be)}}}o=o.next}while(o!==m)}}catch(be){qt(n,n.return,be)}}function Bg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Cp(n,r)}catch(o){qt(t,t.return,o)}}}function qg(t,n,r){r.props=Qr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){qt(t,n,o)}}function Fi(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(u){qt(t,n,u)}}function js(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){qt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){qt(t,n,u)}else r.current=null}function Ig(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){qt(t,t.return,u)}}function Jd(t,n,r){try{var o=t.stateNode;jj(o,t.type,r,n),o[xt]=n}catch(u){qt(t,t.return,u)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hr(t.type)||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ea));else if(o!==4&&(o===27&&hr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,r),t=t.sibling;t!==null;)ef(t,n,r),t=t.sibling}function hc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&hr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(hc(t,n,r),t=t.sibling;t!==null;)hc(t,n,r),t=t.sibling}function Fg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);ta(n,o,r),n[mt]=t,n[xt]=r}catch(m){qt(t,t.return,m)}}var Us=!1,kn=!1,tf=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function tj(t,n){if(t=t.containerInfo,Sf=Mc,t=tp(t),Qu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var b=0,N=-1,k=-1,ne=0,be=0,Ae=t,re=null;t:for(;;){for(var oe;Ae!==r||u!==0&&Ae.nodeType!==3||(N=b+u),Ae!==m||o!==0&&Ae.nodeType!==3||(k=b+o),Ae.nodeType===3&&(b+=Ae.nodeValue.length),(oe=Ae.firstChild)!==null;)re=Ae,Ae=oe;for(;;){if(Ae===t)break t;if(re===r&&++ne===u&&(N=b),re===m&&++be===o&&(k=b),(oe=Ae.nextSibling)!==null)break;Ae=re,re=Ae.parentNode}Ae=oe}r=N===-1||k===-1?null:{start:N,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(wf={focusedElem:t,selectionRange:r},Mc=!1,Zn=n;Zn!==null;)if(n=Zn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zn=t;else for(;Zn!==null;){switch(n=Zn,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=n,u=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var Ge=Qr(r.type,u);t=o.getSnapshotBeforeUpdate(Ge,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(st){qt(r,r.return,st)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=n.sibling,t!==null){t.return=n.return,Zn=t;break}Zn=n.return}}function Vg(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Bs(t,r),o&4&&$i(5,r);break;case 1:if(Bs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(b){qt(r,r.return,b)}else{var u=Qr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){qt(r,r.return,b)}}o&64&&Bg(r),o&512&&Fi(r,r.return);break;case 3:if(Bs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Cp(t,n)}catch(b){qt(r,r.return,b)}}break;case 27:n===null&&o&4&&Fg(r);case 26:case 5:Bs(t,r),n===null&&o&4&&Ig(r),o&512&&Fi(r,r.return);break;case 12:Bs(t,r);break;case 31:Bs(t,r),o&4&&Pg(t,r);break;case 13:Bs(t,r),o&4&&Qg(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=uj.bind(null,r),Rj(t,r))));break;case 22:if(o=r.memoizedState!==null||Us,!o){n=n!==null&&n.memoizedState!==null||kn,u=Us;var m=kn;Us=o,(kn=n)&&!m?qs(t,r,(r.subtreeFlags&8772)!==0):Bs(t,r),Us=u,kn=m}break;case 30:break;default:Bs(t,r)}}function Zg(t){var n=t.alternate;n!==null&&(t.alternate=null,Zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hn(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rn=null,ha=!1;function Ls(t,n,r){for(r=r.child;r!==null;)Gg(t,n,r),r=r.sibling}function Gg(t,n,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(je,r)}catch{}switch(r.tag){case 26:kn||js(r,n),Ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:kn||js(r,n);var o=rn,u=ha;hr(r.type)&&(rn=r.stateNode,ha=!1),Ls(t,n,r),Xi(r.stateNode),rn=o,ha=u;break;case 5:kn||js(r,n);case 6:if(o=rn,u=ha,rn=null,Ls(t,n,r),rn=o,ha=u,rn!==null)if(ha)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(r.stateNode)}catch(m){qt(r,n,m)}else try{rn.removeChild(r.stateNode)}catch(m){qt(r,n,m)}break;case 18:rn!==null&&(ha?(t=rn,Bb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ql(t)):Bb(rn,r.stateNode));break;case 4:o=rn,u=ha,rn=r.stateNode.containerInfo,ha=!0,Ls(t,n,r),rn=o,ha=u;break;case 0:case 11:case 14:case 15:ir(2,r,n),kn||ir(4,r,n),Ls(t,n,r);break;case 1:kn||(js(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&qg(r,n,o)),Ls(t,n,r);break;case 21:Ls(t,n,r);break;case 22:kn=(o=kn)||r.memoizedState!==null,Ls(t,n,r),kn=o;break;default:Ls(t,n,r)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ql(t)}catch(r){qt(n,n.return,r)}}}function Qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ql(t)}catch(r){qt(n,n.return,r)}}function nj(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Hg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Hg),n;default:throw Error(i(435,t.tag))}}function pc(t,n){var r=nj(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var u=dj.bind(null,t,o);o.then(u,u)}})}function pa(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],m=t,b=n,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(hr(N.type)){rn=N.stateNode,ha=!1;break e}break;case 5:rn=N.stateNode,ha=!1;break e;case 3:case 4:rn=N.stateNode.containerInfo,ha=!0;break e}N=N.return}if(rn===null)throw Error(i(160));Gg(m,b,u),rn=null,ha=!1,m=u.alternate,m!==null&&(m.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Yg(n,t),n=n.sibling}var ls=null;function Yg(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pa(n,t),ga(t),o&4&&(ir(3,t,t.return),$i(3,t),ir(5,t,t.return));break;case 1:pa(n,t),ga(t),o&512&&(kn||r===null||js(r,r.return)),o&64&&Us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=ls;if(pa(n,t),ga(t),o&512&&(kn||r===null||js(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":m=u.getElementsByTagName("title")[0],(!m||m[Pt]||m[mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=u.createElement(o),u.head.insertBefore(m,u.querySelector("head > title"))),ta(m,o,r),m[mt]=t,Lt(m),o=m;break e;case"link":var b=Yb("link","href",u).get(o+(r.href||""));if(b){for(var N=0;N<b.length;N++)if(m=b[N],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(N,1);break t}}m=u.createElement(o),ta(m,o,r),u.head.appendChild(m);break;case"meta":if(b=Yb("meta","content",u).get(o+(r.content||""))){for(N=0;N<b.length;N++)if(m=b[N],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(N,1);break t}}m=u.createElement(o),ta(m,o,r),u.head.appendChild(m);break;default:throw Error(i(468,o))}m[mt]=t,Lt(m),o=m}t.stateNode=o}else Kb(u,t.type,t.stateNode);else t.stateNode=Qb(u,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?Kb(u,t.type,t.stateNode):Qb(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Jd(t,t.memoizedProps,r.memoizedProps)}break;case 27:pa(n,t),ga(t),o&512&&(kn||r===null||js(r,r.return)),r!==null&&o&4&&Jd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(pa(n,t),ga(t),o&512&&(kn||r===null||js(r,r.return)),t.flags&32){u=t.stateNode;try{Vn(u,"")}catch(Ge){qt(t,t.return,Ge)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Jd(t,u,r!==null?r.memoizedProps:u)),o&1024&&(tf=!0);break;case 6:if(pa(n,t),ga(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Ge){qt(t,t.return,Ge)}}break;case 3:if(Tc=null,u=ls,ls=Oc(n.containerInfo),pa(n,t),ls=u,ga(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ql(n.containerInfo)}catch(Ge){qt(t,t.return,Ge)}tf&&(tf=!1,Kg(t));break;case 4:o=ls,ls=Oc(t.stateNode.containerInfo),pa(n,t),ga(t),ls=o;break;case 12:pa(n,t),ga(t);break;case 31:pa(n,t),ga(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:pa(n,t),ga(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(bc=I()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:u=t.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,ne=Us,be=kn;if(Us=ne||u,kn=be||k,pa(n,t),kn=be,Us=ne,ga(t),o&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||k||Us||kn||Yr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){k=r=n;try{if(m=k.stateNode,u)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=k.stateNode;var Ae=k.memoizedProps.style,re=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;N.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ge){qt(k,k.return,Ge)}}}else if(n.tag===6){if(r===null){k=n;try{k.stateNode.nodeValue=u?"":k.memoizedProps}catch(Ge){qt(k,k.return,Ge)}}}else if(n.tag===18){if(r===null){k=n;try{var oe=k.stateNode;u?qb(oe,!0):qb(k.stateNode,!1)}catch(Ge){qt(k,k.return,Ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,pc(t,r))));break;case 19:pa(n,t),ga(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:pa(n,t),ga(t)}}function ga(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if($g(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var u=r.stateNode,m=Wd(t);hc(t,m,u);break;case 5:var b=r.stateNode;r.flags&32&&(Vn(b,""),r.flags&=-33);var N=Wd(t);hc(t,N,b);break;case 3:case 4:var k=r.stateNode.containerInfo,ne=Wd(t);ef(t,ne,k);break;default:throw Error(i(161))}}catch(be){qt(t,t.return,be)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Bs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vg(t,n.alternate,n),n=n.sibling}function Yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),Yr(n);break;case 1:js(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&qg(n,n.return,r),Yr(n);break;case 27:Xi(n.stateNode);case 26:case 5:js(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}t=t.sibling}}function qs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:qs(u,m,r),$i(4,m);break;case 1:if(qs(u,m,r),o=m,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ne){qt(o,o.return,ne)}if(o=m,u=o.updateQueue,u!==null){var N=o.stateNode;try{var k=u.shared.hiddenCallbacks;if(k!==null)for(u.shared.hiddenCallbacks=null,u=0;u<k.length;u++)Ap(k[u],N)}catch(ne){qt(o,o.return,ne)}}r&&b&64&&Bg(m),Fi(m,m.return);break;case 27:Fg(m);case 26:case 5:qs(u,m,r),r&&o===null&&b&4&&Ig(m),Fi(m,m.return);break;case 12:qs(u,m,r);break;case 31:qs(u,m,r),r&&b&4&&Pg(u,m);break;case 13:qs(u,m,r),r&&b&4&&Qg(u,m);break;case 22:m.memoizedState===null&&qs(u,m,r),Fi(m,m.return);break;case 30:break;default:qs(u,m,r)}n=n.sibling}}function nf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ci(r))}function af(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ci(t))}function is(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,r,o),n=n.sibling}function Xg(t,n,r,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:is(t,n,r,o),u&2048&&$i(9,n);break;case 1:is(t,n,r,o);break;case 3:is(t,n,r,o),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ci(t)));break;case 12:if(u&2048){is(t,n,r,o),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,N=m.onPostCommit;typeof N=="function"&&N(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){qt(n,n.return,k)}}else is(t,n,r,o);break;case 31:is(t,n,r,o);break;case 13:is(t,n,r,o);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?is(t,n,r,o):Hi(t,n):m._visibility&2?is(t,n,r,o):(m._visibility|=2,Ll(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),u&2048&&nf(b,n);break;case 24:is(t,n,r,o),u&2048&&af(n.alternate,n);break;default:is(t,n,r,o)}}function Ll(t,n,r,o,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,b=n,N=r,k=o,ne=b.flags;switch(b.tag){case 0:case 11:case 15:Ll(m,b,N,k,u),$i(8,b);break;case 23:break;case 22:var be=b.stateNode;b.memoizedState!==null?be._visibility&2?Ll(m,b,N,k,u):Hi(m,b):(be._visibility|=2,Ll(m,b,N,k,u)),u&&ne&2048&&nf(b.alternate,b);break;case 24:Ll(m,b,N,k,u),u&&ne&2048&&af(b.alternate,b);break;default:Ll(m,b,N,k,u)}n=n.sibling}}function Hi(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,u=o.flags;switch(o.tag){case 22:Hi(r,o),u&2048&&nf(o.alternate,o);break;case 24:Hi(r,o),u&2048&&af(o.alternate,o);break;default:Hi(r,o)}n=n.sibling}}var Vi=8192;function Bl(t,n,r){if(t.subtreeFlags&Vi)for(t=t.child;t!==null;)Jg(t,n,r),t=t.sibling}function Jg(t,n,r){switch(t.tag){case 26:Bl(t,n,r),t.flags&Vi&&t.memoizedState!==null&&Fj(r,ls,t.memoizedState,t.memoizedProps);break;case 5:Bl(t,n,r);break;case 3:case 4:var o=ls;ls=Oc(t.stateNode.containerInfo),Bl(t,n,r),ls=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Vi,Vi=16777216,Bl(t,n,r),Vi=o):Bl(t,n,r));break;default:Bl(t,n,r)}}function Wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Zn=o,tb(o,t)}Wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)eb(t),t=t.sibling}function eb(t){switch(t.tag){case 0:case 11:case 15:Zi(t),t.flags&2048&&ir(9,t,t.return);break;case 3:Zi(t);break;case 12:Zi(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):Zi(t);break;default:Zi(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Zn=o,tb(o,t)}Wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ir(8,n,n.return),gc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function tb(t,n){for(;Zn!==null;){var r=Zn;switch(r.tag){case 0:case 11:case 15:ir(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ci(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Zn=o;else e:for(r=t;Zn!==null;){o=Zn;var u=o.sibling,m=o.return;if(Zg(o),o===r){Zn=null;break e}if(u!==null){u.return=m,Zn=u;break e}Zn=m}}}var aj={getCacheForType:function(t){var n=Wn(Tn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Wn(Tn).controller.signal}},sj=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Kt=null,Nt=null,St=0,Bt=0,Da=null,or=!1,ql=!1,sf=!1,Is=0,xn=0,cr=0,Kr=0,rf=0,za=0,Il=0,Gi=null,ba=null,lf=!1,bc=0,nb=0,vc=1/0,yc=null,ur=null,qn=0,dr=null,$l=null,$s=0,of=0,cf=null,ab=null,Pi=0,uf=null;function ka(){return(Mt&2)!==0&&St!==0?St&-St:U.T!==null?gf():Rt()}function sb(){if(za===0)if((St&536870912)===0||Et){var t=it;it<<=1,(it&3932160)===0&&(it=262144),za=t}else za=536870912;return t=Ra.current,t!==null&&(t.flags|=32),za}function va(t,n,r){(t===Kt&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)&&(Fl(t,0),fr(t,St,za,!1)),Ce(t,r),((Mt&2)===0||t!==Kt)&&(t===Kt&&((Mt&2)===0&&(Kr|=r),xn===4&&fr(t,St,za,!1)),Ss(t))}function rb(t,n,r){if((Mt&6)!==0)throw Error(i(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||An(t,n),u=o?ij(t,n):ff(t,n,!0),m=o;do{if(u===0){ql&&!o&&fr(t,n,0,!1);break}else{if(r=t.current.alternate,m&&!rj(r)){u=ff(t,n,!1),m=!1;continue}if(u===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var N=t;u=Gi;var k=N.current.memoizedState.isDehydrated;if(k&&(Fl(N,b).flags|=256),b=ff(N,b,!1),b!==2){if(sf&&!k){N.errorRecoveryDisabledLanes|=m,Kr|=m,u=4;break e}m=ba,ba=u,m!==null&&(ba===null?ba=m:ba.push.apply(ba,m))}u=b}if(m=!1,u!==2)continue}}if(u===1){Fl(t,0),fr(t,n,0,!0);break}e:{switch(o=t,m=u,m){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:fr(o,n,za,!or);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(u=bc+300-I(),10<u)){if(fr(o,n,za,!or),na(o,0,!0)!==0)break e;$s=n,o.timeoutHandle=Ub(lb.bind(null,o,r,ba,yc,lf,n,za,Kr,Il,or,m,"Throttled",-0,0),u);break e}lb(o,r,ba,yc,lf,n,za,Kr,Il,or,m,null,-0,0)}}break}while(!0);Ss(t)}function lb(t,n,r,o,u,m,b,N,k,ne,be,Ae,re,oe){if(t.timeoutHandle=-1,Ae=n.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},Jg(n,m,Ae);var Ge=(m&62914560)===m?bc-I():(m&4194048)===m?nb-I():0;if(Ge=Hj(Ae,Ge),Ge!==null){$s=m,t.cancelPendingCommit=Ge(hb.bind(null,t,n,m,r,o,u,b,N,k,be,Ae,null,re,oe)),fr(t,m,b,!ne);return}}hb(t,n,m,r,o,u,b,N,k)}function rj(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],m=u.getSnapshot;u=u.value;try{if(!Ca(m(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fr(t,n,r,o){n&=~rf,n&=~Kr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var u=n;0<u;){var m=31-yt(u),b=1<<m;o[m]=-1,u&=~b}r!==0&&rt(t,r,n)}function xc(){return(Mt&6)===0?(Qi(0),!1):!0}function df(){if(Nt!==null){if(Bt===0)var t=Nt.return;else t=Nt,Rs=$r=null,Ed(t),Dl=null,Ri=0,t=Nt;for(;t!==null;)Lg(t.alternate,t),t=t.return;Nt=null}}function Fl(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,_j(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),$s=0,df(),Kt=t,Nt=r=Cs(t.current,null),St=n,Bt=0,Da=null,or=!1,ql=An(t,n),sf=!1,Il=za=rf=Kr=cr=xn=0,ba=Gi=null,lf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var u=31-yt(o),m=1<<u;n|=t[u],o&=~m}return Is=n,$o(),r}function ib(t,n){dt=null,U.H=Bi,n===Tl||n===Yo?(n=Sp(),Bt=3):n===hd?(n=Sp(),Bt=4):Bt=n===Fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Da=n,Nt===null&&(xn=1,cc(t,Fa(n,t.current)))}function ob(){var t=Ra.current;return t===null?!0:(St&4194048)===St?Ga===null:(St&62914560)===St||(St&536870912)!==0?t===Ga:!1}function cb(){var t=U.H;return U.H=Bi,t===null?Bi:t}function ub(){var t=U.A;return U.A=aj,t}function Nc(){xn=4,or||(St&4194048)!==St&&Ra.current!==null||(ql=!0),(cr&134217727)===0&&(Kr&134217727)===0||Kt===null||fr(Kt,St,za,!1)}function ff(t,n,r){var o=Mt;Mt|=2;var u=cb(),m=ub();(Kt!==t||St!==n)&&(yc=null,Fl(t,n)),n=!1;var b=xn;e:do try{if(Bt!==0&&Nt!==null){var N=Nt,k=Da;switch(Bt){case 8:df(),b=6;break e;case 3:case 2:case 9:case 6:Ra.current===null&&(n=!0);var ne=Bt;if(Bt=0,Da=null,Hl(t,N,k,ne),r&&ql){b=0;break e}break;default:ne=Bt,Bt=0,Da=null,Hl(t,N,k,ne)}}lj(),b=xn;break}catch(be){ib(t,be)}while(!0);return n&&t.shellSuspendCounter++,Rs=$r=null,Mt=o,U.H=u,U.A=m,Nt===null&&(Kt=null,St=0,$o()),b}function lj(){for(;Nt!==null;)db(Nt)}function ij(t,n){var r=Mt;Mt|=2;var o=cb(),u=ub();Kt!==t||St!==n?(yc=null,vc=I()+500,Fl(t,n)):ql=An(t,n);e:do try{if(Bt!==0&&Nt!==null){n=Nt;var m=Da;t:switch(Bt){case 1:Bt=0,Da=null,Hl(t,n,m,1);break;case 2:case 9:if(Np(m)){Bt=0,Da=null,fb(n);break}n=function(){Bt!==2&&Bt!==9||Kt!==t||(Bt=7),Ss(t)},m.then(n,n);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:Np(m)?(Bt=0,Da=null,fb(n)):(Bt=0,Da=null,Hl(t,n,m,7));break;case 5:var b=null;switch(Nt.tag){case 26:b=Nt.memoizedState;case 5:case 27:var N=Nt;if(b?Xb(b):N.stateNode.complete){Bt=0,Da=null;var k=N.sibling;if(k!==null)Nt=k;else{var ne=N.return;ne!==null?(Nt=ne,jc(ne)):Nt=null}break t}}Bt=0,Da=null,Hl(t,n,m,5);break;case 6:Bt=0,Da=null,Hl(t,n,m,6);break;case 8:df(),xn=6;break e;default:throw Error(i(462))}}oj();break}catch(be){ib(t,be)}while(!0);return Rs=$r=null,U.H=o,U.A=u,Mt=r,Nt!==null?0:(Kt=null,St=0,$o(),xn)}function oj(){for(;Nt!==null&&!S();)db(Nt)}function db(t){var n=Mg(t.alternate,t,Is);t.memoizedProps=t.pendingProps,n===null?jc(t):Nt=n}function fb(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Og(r,n,n.pendingProps,n.type,void 0,St);break;case 11:n=Og(r,n,n.pendingProps,n.type.render,n.ref,St);break;case 5:Ed(n);default:Lg(r,n),n=Nt=up(n,Is),n=Mg(r,n,Is)}t.memoizedProps=t.pendingProps,n===null?jc(t):Nt=n}function Hl(t,n,r,o){Rs=$r=null,Ed(n),Dl=null,Ri=0;var u=n.return;try{if(KN(t,u,n,r,St)){xn=1,cc(t,Fa(r,t.current)),Nt=null;return}}catch(m){if(u!==null)throw Nt=u,m;xn=1,cc(t,Fa(r,t.current)),Nt=null;return}n.flags&32768?(Et||o===1?t=!0:ql||(St&536870912)!==0?t=!1:(or=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ra.current,o!==null&&o.tag===13&&(o.flags|=16384))),mb(n,t)):jc(n)}function jc(t){var n=t;do{if((n.flags&32768)!==0){mb(n,or);return}t=n.return;var r=WN(n.alternate,n,Is);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);xn===0&&(xn=5)}function mb(t,n){do{var r=ej(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);xn=6,Nt=null}function hb(t,n,r,o,u,m,b,N,k){t.cancelPendingCommit=null;do Sc();while(qn!==0);if((Mt&6)!==0)throw Error(i(327));if(n!==null){if(n===t.current)throw Error(i(177));if(m=n.lanes|n.childLanes,m|=Wu,Fe(t,r,m,b,N,k),t===Kt&&(Nt=Kt=null,St=0),$l=n,dr=t,$s=r,of=m,cf=u,ab=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fj(G,function(){return yb(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,u=V.p,V.p=2,b=Mt,Mt|=4;try{tj(t,n,r)}finally{Mt=b,V.p=u,U.T=o}}qn=1,pb(),gb(),bb()}}function pb(){if(qn===1){qn=0;var t=dr,n=$l,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var o=V.p;V.p=2;var u=Mt;Mt|=4;try{Yg(n,t);var m=wf,b=tp(t.containerInfo),N=m.focusedElem,k=m.selectionRange;if(b!==N&&N&&N.ownerDocument&&ep(N.ownerDocument.documentElement,N)){if(k!==null&&Qu(N)){var ne=k.start,be=k.end;if(be===void 0&&(be=ne),"selectionStart"in N)N.selectionStart=ne,N.selectionEnd=Math.min(be,N.value.length);else{var Ae=N.ownerDocument||document,re=Ae&&Ae.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Ge=N.textContent.length,st=Math.min(k.start,Ge),Gt=k.end===void 0?st:Math.min(k.end,Ge);!oe.extend&&st>Gt&&(b=Gt,Gt=st,st=b);var Q=Wh(N,st),q=Wh(N,Gt);if(Q&&q&&(oe.rangeCount!==1||oe.anchorNode!==Q.node||oe.anchorOffset!==Q.offset||oe.focusNode!==q.node||oe.focusOffset!==q.offset)){var ee=Ae.createRange();ee.setStart(Q.node,Q.offset),oe.removeAllRanges(),st>Gt?(oe.addRange(ee),oe.extend(q.node,q.offset)):(ee.setEnd(q.node,q.offset),oe.addRange(ee))}}}}for(Ae=[],oe=N;oe=oe.parentNode;)oe.nodeType===1&&Ae.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Ae.length;N++){var Ne=Ae[N];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Mc=!!Sf,wf=Sf=null}finally{Mt=u,V.p=o,U.T=r}}t.current=n,qn=2}}function gb(){if(qn===2){qn=0;var t=dr,n=$l,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var o=V.p;V.p=2;var u=Mt;Mt|=4;try{Vg(t,n.alternate,n)}finally{Mt=u,V.p=o,U.T=r}}qn=3}}function bb(){if(qn===4||qn===3){qn=0,L();var t=dr,n=$l,r=$s,o=ab;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qn=5:(qn=0,$l=dr=null,vb(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(ur=null),kt(r),n=n.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(je,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=U.T,u=V.p,V.p=2,U.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var N=o[b];m(N.value,{componentStack:N.stack})}}finally{U.T=n,V.p=u}}($s&3)!==0&&Sc(),Ss(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===uf?Pi++:(Pi=0,uf=t):Pi=0,Qi(0)}}function vb(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ci(n)))}function Sc(){return pb(),gb(),bb(),yb()}function yb(){if(qn!==5)return!1;var t=dr,n=of;of=0;var r=kt($s),o=U.T,u=V.p;try{V.p=32>r?32:r,U.T=null,r=cf,cf=null;var m=dr,b=$s;if(qn=0,$l=dr=null,$s=0,(Mt&6)!==0)throw Error(i(331));var N=Mt;if(Mt|=4,eb(m.current),Xg(m,m.current,b,r),Mt=N,Qi(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(je,m)}catch{}return!0}finally{V.p=u,U.T=o,vb(t,n)}}function xb(t,n,r){n=Fa(r,n),n=$d(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(Ce(t,2),Ss(t))}function qt(t,n,r){if(t.tag===3)xb(t,t,r);else for(;n!==null;){if(n.tag===3){xb(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){t=Fa(r,t),r=Ng(2),o=sr(n,r,2),o!==null&&(jg(r,o,n,t),Ce(o,2),Ss(o));break}}n=n.return}}function mf(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new sj;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(r)||(sf=!0,u.add(r),t=cj.bind(null,t,n,r),n.then(t,t))}function cj(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(St&r)===r&&(xn===4||xn===3&&(St&62914560)===St&&300>I()-bc?(Mt&2)===0&&Fl(t,0):rf|=r,Il===St&&(Il=0)),Ss(t)}function Nb(t,n){n===0&&(n=W()),t=Br(t,n),t!==null&&(Ce(t,n),Ss(t))}function uj(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Nb(t,r)}function dj(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(n),Nb(t,r)}function fj(t,n){return O(t,n)}var wc=null,Vl=null,hf=!1,_c=!1,pf=!1,mr=0;function Ss(t){t!==Vl&&t.next===null&&(Vl===null?wc=Vl=t:Vl=Vl.next=t),_c=!0,hf||(hf=!0,hj())}function Qi(t,n){if(!pf&&_c){pf=!0;do for(var r=!1,o=wc;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var m=0;else{var b=o.suspendedLanes,N=o.pingedLanes;m=(1<<31-yt(42|t)+1)-1,m&=u&~(b&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,_b(o,m))}else m=St,m=na(o,o===Kt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||An(o,m)||(r=!0,_b(o,m));o=o.next}while(r);pf=!1}}function mj(){jb()}function jb(){_c=hf=!1;var t=0;mr!==0&&wj()&&(t=mr);for(var n=I(),r=null,o=wc;o!==null;){var u=o.next,m=Sb(o,n);m===0?(o.next=null,r===null?wc=u:r.next=u,u===null&&(Vl=r)):(r=o,(t!==0||(m&3)!==0)&&(_c=!0)),o=u}qn!==0&&qn!==5||Qi(t),mr!==0&&(mr=0)}function Sb(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-yt(m),N=1<<b,k=u[b];k===-1?((N&r)===0||(N&o)!==0)&&(u[b]=Ln(N,n)):k<=n&&(t.expiredLanes|=N),m&=~N}if(n=Kt,r=St,r=na(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&T(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||An(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&T(o),kt(r)){case 2:case 8:r=_e;break;case 32:r=G;break;case 268435456:r=qe;break;default:r=G}return o=wb.bind(null,t),r=O(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&T(o),t.callbackPriority=2,t.callbackNode=null,2}function wb(t,n){if(qn!==0&&qn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Sc()&&t.callbackNode!==r)return null;var o=St;return o=na(t,t===Kt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(rb(t,o,n),Sb(t,I()),t.callbackNode!=null&&t.callbackNode===r?wb.bind(null,t):null)}function _b(t,n){if(Sc())return null;rb(t,n,!0)}function hj(){Ej(function(){(Mt&6)!==0?O(me,mj):jb()})}function gf(){if(mr===0){var t=Ol;t===0&&(t=jn,jn<<=1,(jn&261888)===0&&(jn=256)),mr=t}return mr}function Eb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qs(""+t)}function Ab(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function pj(t,n,r,o,u){if(n==="submit"&&r&&r.stateNode===u){var m=Eb((u[xt]||null).action),b=o.submitter;b&&(n=(n=b[xt]||null)?Eb(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var N=new Qt("action","action",null,o,u);t.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(mr!==0){var k=b?Ab(u,b):new FormData(u);Md(r,{pending:!0,data:k,method:u.method,action:m},null,k)}}else typeof m=="function"&&(N.preventDefault(),k=b?Ab(u,b):new FormData(u),Md(r,{pending:!0,data:k,method:u.method,action:m},m,k))},currentTarget:u}]})}}for(var bf=0;bf<Ju.length;bf++){var vf=Ju[bf],gj=vf.toLowerCase(),bj=vf[0].toUpperCase()+vf.slice(1);rs(gj,"on"+bj)}rs(sp,"onAnimationEnd"),rs(rp,"onAnimationIteration"),rs(lp,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(zN,"onTransitionRun"),rs(kN,"onTransitionStart"),rs(MN,"onTransitionCancel"),rs(ip,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),Ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function Cb(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],u=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var b=o.length-1;0<=b;b--){var N=o[b],k=N.instance,ne=N.currentTarget;if(N=N.listener,k!==m&&u.isPropagationStopped())break e;m=N,u.currentTarget=ne;try{m(u)}catch(be){Io(be)}u.currentTarget=null,m=k}else for(b=0;b<o.length;b++){if(N=o[b],k=N.instance,ne=N.currentTarget,N=N.listener,k!==m&&u.isPropagationStopped())break e;m=N,u.currentTarget=ne;try{m(u)}catch(be){Io(be)}u.currentTarget=null,m=k}}}}function jt(t,n){var r=n[hn];r===void 0&&(r=n[hn]=new Set);var o=t+"__bubble";r.has(o)||(Ob(n,t,2,!1),r.add(o))}function yf(t,n,r){var o=0;n&&(o|=4),Ob(r,t,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function xf(t){if(!t[Ec]){t[Ec]=!0,ds.forEach(function(r){r!=="selectionchange"&&(vj.has(r)||yf(r,!1,t),yf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,yf("selectionchange",!1,n))}}function Ob(t,n,r,o){switch(sv(n)){case 2:var u=Gj;break;case 8:u=Pj;break;default:u=Mf}r=u.bind(null,n,r,t),u=void 0,!as||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Nf(t,n,r,o,u){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var N=o.stateNode.containerInfo;if(N===u)break;if(b===4)for(b=o.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;N!==null;){if(b=Xt(N),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){o=m=b;continue e}N=N.parentNode}}o=o.return}Mr(function(){var ne=m,be=zr(r),Ae=[];e:{var re=op.get(t);if(re!==void 0){var oe=Qt,Ge=t;switch(t){case"keypress":if(Ue(r)===0)break e;case"keydown":case"keyup":oe=vl;break;case"focusin":Ge="focus",oe=bl;break;case"focusout":Ge="blur",oe=bl;break;case"beforeblur":case"afterblur":oe=bl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Ks;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=yl;break;case sp:case rp:case lp:oe=Uo;break;case ip:oe=gN;break;case"scroll":case"scrollend":oe=Ys;break;case"wheel":oe=vN;break;case"copy":case"cut":case"paste":oe=Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Bo;break;case"toggle":case"beforetoggle":oe=xN}var st=(n&4)!==0,Gt=!st&&(t==="scroll"||t==="scrollend"),Q=st?re!==null?re+"Capture":null:re;st=[];for(var q=ne,ee;q!==null;){var Ne=q;if(ee=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ee===null||Q===null||(Ne=Ba(q,Q),Ne!=null&&st.push(Ki(q,Ne,ee))),Gt)break;q=q.return}0<st.length&&(re=new oe(re,Ge,null,r,be),Ae.push({event:re,listeners:st}))}}if((n&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",re&&r!==ps&&(Ge=r.relatedTarget||r.fromElement)&&(Xt(Ge)||Ge[_t]))break e;if((oe||re)&&(re=be.window===be?be:(re=be.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Ge=r.relatedTarget||r.toElement,oe=ne,Ge=Ge?Xt(Ge):null,Ge!==null&&(Gt=d(Ge),st=Ge.tag,Ge!==Gt||st!==5&&st!==27&&st!==6)&&(Ge=null)):(oe=null,Ge=ne),oe!==Ge)){if(st=Bn,Ne="onMouseLeave",Q="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(st=Bo,Ne="onPointerLeave",Q="onPointerEnter",q="pointer"),Gt=oe==null?re:gn(oe),ee=Ge==null?re:gn(Ge),re=new st(Ne,q+"leave",oe,r,be),re.target=Gt,re.relatedTarget=ee,Ne=null,Xt(be)===ne&&(st=new st(Q,q+"enter",Ge,r,be),st.target=ee,st.relatedTarget=Gt,Ne=st),Gt=Ne,oe&&Ge)t:{for(st=yj,Q=oe,q=Ge,ee=0,Ne=Q;Ne;Ne=st(Ne))ee++;Ne=0;for(var et=q;et;et=st(et))Ne++;for(;0<ee-Ne;)Q=st(Q),ee--;for(;0<Ne-ee;)q=st(q),Ne--;for(;ee--;){if(Q===q||q!==null&&Q===q.alternate){st=Q;break t}Q=st(Q),q=st(q)}st=null}else st=null;oe!==null&&Rb(Ae,re,oe,st,!1),Ge!==null&&Gt!==null&&Rb(Ae,Gt,Ge,st,!0)}}e:{if(re=ne?gn(ne):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var Tt=Ph;else if(Zh(re))if(Qh)Tt=RN;else{Tt=CN;var Ye=AN}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Dr(ne.elementType)&&(Tt=Ph):Tt=ON;if(Tt&&(Tt=Tt(t,ne))){Gh(Ae,Tt,r,be);break e}Ye&&Ye(t,re,ne),t==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&ms(re,"number",re.value)}switch(Ye=ne?gn(ne):window,t){case"focusin":(Zh(Ye)||Ye.contentEditable==="true")&&(Nl=Ye,Yu=ne,_i=null);break;case"focusout":_i=Yu=Nl=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,np(Ae,r,be);break;case"selectionchange":if(DN)break;case"keydown":case"keyup":np(Ae,r,be)}var pt;if(Zu)e:{switch(t){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else xl?Hh(t,r)&&(wt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(wt="onCompositionStart");wt&&(Ih&&r.locale!=="ko"&&(xl||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&xl&&(pt=xe()):(Aa=be,C="value"in Aa?Aa.value:Aa.textContent,xl=!0)),Ye=Ac(ne,wt),0<Ye.length&&(wt=new ge(wt,t,null,r,be),Ae.push({event:wt,listeners:Ye}),pt?wt.data=pt:(pt=Vh(r),pt!==null&&(wt.data=pt)))),(pt=jN?SN(t,r):wN(t,r))&&(wt=Ac(ne,"onBeforeInput"),0<wt.length&&(Ye=new ge("onBeforeInput","beforeinput",null,r,be),Ae.push({event:Ye,listeners:wt}),Ye.data=pt)),pj(Ae,t,ne,r,be)}Cb(Ae,n)})}function Ki(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ac(t,n){for(var r=n+"Capture",o=[];t!==null;){var u=t,m=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||m===null||(u=Ba(t,r),u!=null&&o.unshift(Ki(t,u,m)),u=Ba(t,n),u!=null&&o.push(Ki(t,u,m))),t.tag===3)return o;t=t.return}return[]}function yj(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rb(t,n,r,o,u){for(var m=n._reactName,b=[];r!==null&&r!==o;){var N=r,k=N.alternate,ne=N.stateNode;if(N=N.tag,k!==null&&k===o)break;N!==5&&N!==26&&N!==27||ne===null||(k=ne,u?(ne=Ba(r,m),ne!=null&&b.unshift(Ki(r,ne,k))):u||(ne=Ba(r,m),ne!=null&&b.push(Ki(r,ne,k)))),r=r.return}b.length!==0&&t.push({event:n,listeners:b})}var xj=/\r\n?/g,Nj=/\u0000|\uFFFD/g;function Tb(t){return(typeof t=="string"?t:""+t).replace(xj,`
`).replace(Nj,"")}function Db(t,n){return n=Tb(n),Tb(t)===n}function Zt(t,n,r,o,u,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Vn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Vn(t,""+o);break;case"className":_a(t,"class",o);break;case"tabIndex":_a(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(t,r,o);break;case"style":gl(t,o,m);break;case"data":if(n!=="object"){_a(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Qs(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&Zt(t,n,"name",u.name,u,null),Zt(t,n,"formEncType",u.formEncType,u,null),Zt(t,n,"formMethod",u.formMethod,u,null),Zt(t,n,"formTarget",u.formTarget,u,null)):(Zt(t,n,"encType",u.encType,u,null),Zt(t,n,"method",u.method,u,null),Zt(t,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Qs(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Ea);break;case"onScroll":o!=null&&jt("scroll",t);break;case"onScrollEnd":o!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Qs(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":jt("beforetoggle",t),jt("toggle",t),Ct(t,"popover",o);break;case"xlinkActuate":aa(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":aa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":aa(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":aa(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":aa(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":aa(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":aa(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":aa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":aa(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ct(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yi.get(r)||r,Ct(t,r,o))}}function jf(t,n,r,o,u,m){switch(r){case"style":gl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Vn(t,o):(typeof o=="number"||typeof o=="bigint")&&Vn(t,""+o);break;case"onScroll":o!=null&&jt("scroll",t);break;case"onScrollEnd":o!=null&&jt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),m=t[xt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(n,m,u),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,u);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Ct(t,r,o)}}}function ta(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var o=!1,u=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Zt(t,n,m,b,r,null)}}u&&Zt(t,n,"srcSet",r.srcSet,r,null),o&&Zt(t,n,"src",r.src,r,null);return;case"input":jt("invalid",t);var N=m=b=u=null,k=null,ne=null;for(o in r)if(r.hasOwnProperty(o)){var be=r[o];if(be!=null)switch(o){case"name":u=be;break;case"type":b=be;break;case"checked":k=be;break;case"defaultChecked":ne=be;break;case"value":m=be;break;case"defaultValue":N=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,n));break;default:Zt(t,n,o,be,r,null)}}sa(t,m,N,k,ne,b,u,!1);return;case"select":jt("invalid",t),o=b=m=null;for(u in r)if(r.hasOwnProperty(u)&&(N=r[u],N!=null))switch(u){case"value":m=N;break;case"defaultValue":b=N;break;case"multiple":o=N;default:Zt(t,n,u,N,r,null)}n=m,r=b,t.multiple=!!o,n!=null?hs(t,!!o,n,!1):r!=null&&hs(t,!!o,r,!0);return;case"textarea":jt("invalid",t),m=u=o=null;for(b in r)if(r.hasOwnProperty(b)&&(N=r[b],N!=null))switch(b){case"value":o=N;break;case"defaultValue":u=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:Zt(t,n,b,N,r,null)}Ps(t,o,u,m);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(t,n,k,o,r,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(o=0;o<Yi.length;o++)jt(Yi[o],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in r)if(r.hasOwnProperty(ne)&&(o=r[ne],o!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Zt(t,n,ne,o,r,null)}return;default:if(Dr(n)){for(be in r)r.hasOwnProperty(be)&&(o=r[be],o!==void 0&&jf(t,n,be,o,r,void 0));return}}for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null&&Zt(t,n,N,o,r,null))}function jj(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,m=null,b=null,N=null,k=null,ne=null,be=null;for(oe in r){var Ae=r[oe];if(r.hasOwnProperty(oe)&&Ae!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":k=Ae;default:o.hasOwnProperty(oe)||Zt(t,n,oe,null,o,Ae)}}for(var re in o){var oe=o[re];if(Ae=r[re],o.hasOwnProperty(re)&&(oe!=null||Ae!=null))switch(re){case"type":m=oe;break;case"name":u=oe;break;case"checked":ne=oe;break;case"defaultChecked":be=oe;break;case"value":b=oe;break;case"defaultValue":N=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,n));break;default:oe!==Ae&&Zt(t,n,re,oe,o,Ae)}}fs(t,b,N,k,ne,be,m,u);return;case"select":oe=b=N=re=null;for(m in r)if(k=r[m],r.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":oe=k;default:o.hasOwnProperty(m)||Zt(t,n,m,null,o,k)}for(u in o)if(m=o[u],k=r[u],o.hasOwnProperty(u)&&(m!=null||k!=null))switch(u){case"value":re=m;break;case"defaultValue":N=m;break;case"multiple":b=m;default:m!==k&&Zt(t,n,u,m,o,k)}n=N,r=b,o=oe,re!=null?hs(t,!!r,re,!1):!!o!=!!r&&(n!=null?hs(t,!!r,n,!0):hs(t,!!r,r?[]:"",!1));return;case"textarea":oe=re=null;for(N in r)if(u=r[N],r.hasOwnProperty(N)&&u!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Zt(t,n,N,null,o,u)}for(b in o)if(u=o[b],m=r[b],o.hasOwnProperty(b)&&(u!=null||m!=null))switch(b){case"value":re=u;break;case"defaultValue":oe=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==m&&Zt(t,n,b,u,o,m)}pl(t,re,oe);return;case"option":for(var Ge in r)if(re=r[Ge],r.hasOwnProperty(Ge)&&re!=null&&!o.hasOwnProperty(Ge))switch(Ge){case"selected":t.selected=!1;break;default:Zt(t,n,Ge,null,o,re)}for(k in o)if(re=o[k],oe=r[k],o.hasOwnProperty(k)&&re!==oe&&(re!=null||oe!=null))switch(k){case"selected":t.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Zt(t,n,k,re,o,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in r)re=r[st],r.hasOwnProperty(st)&&re!=null&&!o.hasOwnProperty(st)&&Zt(t,n,st,null,o,re);for(ne in o)if(re=o[ne],oe=r[ne],o.hasOwnProperty(ne)&&re!==oe&&(re!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,n));break;default:Zt(t,n,ne,re,o,oe)}return;default:if(Dr(n)){for(var Gt in r)re=r[Gt],r.hasOwnProperty(Gt)&&re!==void 0&&!o.hasOwnProperty(Gt)&&jf(t,n,Gt,void 0,o,re);for(be in o)re=o[be],oe=r[be],!o.hasOwnProperty(be)||re===oe||re===void 0&&oe===void 0||jf(t,n,be,re,o,oe);return}}for(var Q in r)re=r[Q],r.hasOwnProperty(Q)&&re!=null&&!o.hasOwnProperty(Q)&&Zt(t,n,Q,null,o,re);for(Ae in o)re=o[Ae],oe=r[Ae],!o.hasOwnProperty(Ae)||re===oe||re==null&&oe==null||Zt(t,n,Ae,re,o,oe)}function zb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sj(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var u=r[o],m=u.transferSize,b=u.initiatorType,N=u.duration;if(m&&N&&zb(b)){for(b=0,N=u.responseEnd,o+=1;o<r.length;o++){var k=r[o],ne=k.startTime;if(ne>N)break;var be=k.transferSize,Ae=k.initiatorType;be&&zb(Ae)&&(k=k.responseEnd,b+=be*(k<N?1:(N-ne)/(k-ne)))}if(--o,n+=8*(m+b)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sf=null,wf=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function kb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mb(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _f(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ef=null;function wj(){var t=window.event;return t&&t.type==="popstate"?t===Ef?!1:(Ef=t,!0):(Ef=null,!1)}var Ub=typeof setTimeout=="function"?setTimeout:void 0,_j=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,Ej=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb<"u"?function(t){return Lb.resolve(null).then(t).catch(Aj)}:Ub;function Aj(t){setTimeout(function(){throw t})}function hr(t){return t==="head"}function Bb(t,n){var r=n,o=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(u),Ql(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Xi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Xi(r);for(var m=r.firstChild;m;){var b=m.nextSibling,N=m.nodeName;m[Pt]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=b}}else r==="body"&&Xi(t.ownerDocument.body);r=u}while(r);Ql(n)}function qb(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Af(r),Hn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Cj(t,n,r,o){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Pt])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Pa(t.nextSibling),t===null)break}return null}function Oj(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pa(t.nextSibling),t===null))return null;return t}function Ib(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Pa(t.nextSibling),t===null))return null;return t}function Cf(t){return t.data==="$?"||t.data==="$~"}function Of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Rj(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Pa(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rf=null;function $b(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Pa(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Fb(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function Hb(t,n,r){switch(n=Cc(r),t){case"html":if(t=n.documentElement,!t)throw Error(i(452));return t;case"head":if(t=n.head,!t)throw Error(i(453));return t;case"body":if(t=n.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Xi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hn(t)}var Qa=new Map,Vb=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fs=V.d;V.d={f:Tj,r:Dj,D:zj,C:kj,L:Mj,m:Uj,X:Bj,S:Lj,M:qj};function Tj(){var t=Fs.f(),n=xc();return t||n}function Dj(t){var n=$t(t);n!==null&&n.tag===5&&n.type==="form"?ig(n):Fs.r(t)}var Zl=typeof document>"u"?null:document;function Zb(t,n,r){var o=Zl;if(o&&typeof n=="string"&&n){var u=un(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Vb.has(u)||(Vb.add(u),t={rel:t,crossOrigin:r,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),ta(n,"link",t),Lt(n),o.head.appendChild(n)))}}function zj(t){Fs.D(t),Zb("dns-prefetch",t,null)}function kj(t,n){Fs.C(t,n),Zb("preconnect",t,n)}function Mj(t,n,r){Fs.L(t,n,r);var o=Zl;if(o&&t&&n){var u='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+un(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+un(r.imageSizes)+'"]')):u+='[href="'+un(t)+'"]';var m=u;switch(n){case"style":m=Gl(t);break;case"script":m=Pl(t)}Qa.has(m)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Qa.set(m,t),o.querySelector(u)!==null||n==="style"&&o.querySelector(Ji(m))||n==="script"&&o.querySelector(Wi(m))||(n=o.createElement("link"),ta(n,"link",t),Lt(n),o.head.appendChild(n)))}}function Uj(t,n){Fs.m(t,n);var r=Zl;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(t)+'"]',m=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Pl(t)}if(!Qa.has(m)&&(t=x({rel:"modulepreload",href:t},n),Qa.set(m,t),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Wi(m)))return}o=r.createElement("link"),ta(o,"link",t),Lt(o),r.head.appendChild(o)}}}function Lj(t,n,r){Fs.S(t,n,r);var o=Zl;if(o&&t){var u=Cn(o).hoistableStyles,m=Gl(t);n=n||"default";var b=u.get(m);if(!b){var N={loading:0,preload:null};if(b=o.querySelector(Ji(m)))N.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Qa.get(m))&&Tf(t,r);var k=b=o.createElement("link");Lt(k),ta(k,"link",t),k._p=new Promise(function(ne,be){k.onload=ne,k.onerror=be}),k.addEventListener("load",function(){N.loading|=1}),k.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Rc(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:N},u.set(m,b)}}}function Bj(t,n){Fs.X(t,n);var r=Zl;if(r&&t){var o=Cn(r).hoistableScripts,u=Pl(t),m=o.get(u);m||(m=r.querySelector(Wi(u)),m||(t=x({src:t,async:!0},n),(n=Qa.get(u))&&Df(t,n),m=r.createElement("script"),Lt(m),ta(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function qj(t,n){Fs.M(t,n);var r=Zl;if(r&&t){var o=Cn(r).hoistableScripts,u=Pl(t),m=o.get(u);m||(m=r.querySelector(Wi(u)),m||(t=x({src:t,async:!0,type:"module"},n),(n=Qa.get(u))&&Df(t,n),m=r.createElement("script"),Lt(m),ta(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function Gb(t,n,r,o){var u=(u=Se.current)?Oc(u):null;if(!u)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Gl(r.href),r=Cn(u).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Gl(r.href);var m=Cn(u).hoistableStyles,b=m.get(t);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=u.querySelector(Ji(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Qa.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qa.set(t,r),m||Ij(u,t,r,b.state))),n&&o===null)throw Error(i(528,""));return b}if(n&&o!==null)throw Error(i(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pl(r),r=Cn(u).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Gl(t){return'href="'+un(t)+'"'}function Ji(t){return'link[rel="stylesheet"]['+t+"]"}function Pb(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Ij(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ta(n,"link",r),Lt(n),t.head.appendChild(n))}function Pl(t){return'[src="'+un(t)+'"]'}function Wi(t){return"script[async]"+t}function Qb(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+un(r.href)+'"]');if(o)return n.instance=o,Lt(o),o;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Lt(o),ta(o,"style",u),Rc(o,r.precedence,t),n.instance=o;case"stylesheet":u=Gl(r.href);var m=t.querySelector(Ji(u));if(m)return n.state.loading|=4,n.instance=m,Lt(m),m;o=Pb(r),(u=Qa.get(u))&&Tf(o,u),m=(t.ownerDocument||t).createElement("link"),Lt(m);var b=m;return b._p=new Promise(function(N,k){b.onload=N,b.onerror=k}),ta(m,"link",o),n.state.loading|=4,Rc(m,r.precedence,t),n.instance=m;case"script":return m=Pl(r.src),(u=t.querySelector(Wi(m)))?(n.instance=u,Lt(u),u):(o=r,(u=Qa.get(m))&&(o=x({},r),Df(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),Lt(u),ta(u,"link",o),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Rc(o,r.precedence,t));return n.instance}function Rc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,m=u,b=0;b<o.length;b++){var N=o[b];if(N.dataset.precedence===n)m=N;else if(m!==u)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function Yb(t,n,r){if(Tc===null){var o=new Map,u=Tc=new Map;u.set(r,o)}else u=Tc,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var m=r[u];if(!(m[Pt]||m[mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var N=o.get(b);N?N.push(m):o.set(b,[m])}}return o}function Kb(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function $j(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fj(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=Gl(o.href),m=n.querySelector(Ji(u));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Dc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=m,Lt(m);return}m=n.ownerDocument||n,o=Pb(o),(u=Qa.get(u))&&Tf(o,u),m=m.createElement("link"),Lt(m);var b=m;b._p=new Promise(function(N,k){b.onload=N,b.onerror=k}),ta(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Dc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var zf=0;function Hj(t,n){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&zf===0&&(zf=62500*Sj());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>zf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function kc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,n.forEach(Vj,t),zc=null,Dc.call(t))}function Vj(t,n){if(!(n.state.loading&4)){var r=zc.get(t);if(r)var o=r.get(null);else{r=new Map,zc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<u.length;m++){var b=u[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}u=n.instance,b=u.getAttribute("data-precedence"),m=r.get(b)||o,m===o&&r.set(null,u),r.set(b,u),this.count++,o=Dc.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),m?m.parentNode.insertBefore(u,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var eo={$$typeof:te,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Zj(t,n,r,o,u,m,b,N,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Jb(t,n,r,o,u,m,b,N,k,ne,be,Ae){return t=new Zj(t,n,r,b,k,ne,be,Ae,N),n=1,m===!0&&(n|=24),m=Oa(3,null,null,n),t.current=m,m.stateNode=t,n=dd(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},pd(m),t}function Wb(t){return t?(t=wl,t):wl}function ev(t,n,r,o,u,m){u=Wb(u),o.context===null?o.context=u:o.pendingContext=u,o=ar(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=sr(t,o,n),r!==null&&(va(r,t,n),Di(r,t,n))}function tv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function kf(t,n){tv(t,n),(t=t.alternate)&&tv(t,n)}function nv(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&va(n,t,67108864),kf(t,67108864)}}function av(t){if(t.tag===13||t.tag===31){var n=ka();n=an(n);var r=Br(t,n);r!==null&&va(r,t,n),kf(t,n)}}var Mc=!0;function Gj(t,n,r,o){var u=U.T;U.T=null;var m=V.p;try{V.p=2,Mf(t,n,r,o)}finally{V.p=m,U.T=u}}function Pj(t,n,r,o){var u=U.T;U.T=null;var m=V.p;try{V.p=8,Mf(t,n,r,o)}finally{V.p=m,U.T=u}}function Mf(t,n,r,o){if(Mc){var u=Uf(o);if(u===null)Nf(t,n,o,Uc,r),rv(t,o);else if(Yj(u,t,n,r,o))o.stopPropagation();else if(rv(t,o),n&4&&-1<Qj.indexOf(t)){for(;u!==null;){var m=$t(u);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Qn(m.pendingLanes);if(b!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var k=1<<31-yt(b);N.entanglements[1]|=k,b&=~k}Ss(m),(Mt&6)===0&&(vc=I()+500,Qi(0))}}break;case 31:case 13:N=Br(m,2),N!==null&&va(N,m,2),xc(),kf(m,2)}if(m=Uf(o),m===null&&Nf(t,n,o,Uc,r),m===u)break;u=m}u!==null&&o.stopPropagation()}else Nf(t,n,o,null,r)}}function Uf(t){return t=zr(t),Lf(t)}var Uc=null;function Lf(t){if(Uc=null,t=Xt(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uc=t,null}function sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J()){case me:return 2;case _e:return 8;case G:case Me:return 32;case qe:return 268435456;default:return 32}default:return 32}}var Bf=!1,pr=null,gr=null,br=null,to=new Map,no=new Map,vr=[],Qj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(t,n){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":to.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(n.pointerId)}}function ao(t,n,r,o,u,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[u]},n!==null&&(n=$t(n),n!==null&&nv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function Yj(t,n,r,o,u){switch(n){case"focusin":return pr=ao(pr,t,n,r,o,u),!0;case"dragenter":return gr=ao(gr,t,n,r,o,u),!0;case"mouseover":return br=ao(br,t,n,r,o,u),!0;case"pointerover":var m=u.pointerId;return to.set(m,ao(to.get(m)||null,t,n,r,o,u)),!0;case"gotpointercapture":return m=u.pointerId,no.set(m,ao(no.get(m)||null,t,n,r,o,u)),!0}return!1}function lv(t){var n=Xt(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,mn(t.priority,function(){av(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,mn(t.priority,function(){av(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);ps=o,r.target.dispatchEvent(o),ps=null}else return n=$t(r),n!==null&&nv(n),t.blockedOn=r,!1;n.shift()}return!0}function iv(t,n,r){Lc(t)&&r.delete(n)}function Kj(){Bf=!1,pr!==null&&Lc(pr)&&(pr=null),gr!==null&&Lc(gr)&&(gr=null),br!==null&&Lc(br)&&(br=null),to.forEach(iv),no.forEach(iv)}function Bc(t,n){t.blockedOn===n&&(t.blockedOn=null,Bf||(Bf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kj)))}var qc=null;function ov(t){qc!==t&&(qc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],u=t[n+2];if(typeof o!="function"){if(Lf(o||r)===null)continue;break}var m=$t(r);m!==null&&(t.splice(n,3),n-=3,Md(m,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function Ql(t){function n(k){return Bc(k,t)}pr!==null&&Bc(pr,t),gr!==null&&Bc(gr,t),br!==null&&Bc(br,t),to.forEach(n),no.forEach(n);for(var r=0;r<vr.length;r++){var o=vr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<vr.length&&(r=vr[0],r.blockedOn===null);)lv(r),r.blockedOn===null&&vr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],b=u[xt]||null;if(typeof m=="function")b||ov(r);else if(b){var N=null;if(m&&m.hasAttribute("formAction")){if(u=m,b=m[xt]||null)N=b.formAction;else if(Lf(u)!==null)continue}else N=b.action;typeof N=="function"?r[o+1]=N:(r.splice(o,3),o-=3),ov(r)}}}function cv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function qf(t){this._internalRoot=t}Ic.prototype.render=qf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));var r=n.current,o=ka();ev(r,o,t,n,null,null)},Ic.prototype.unmount=qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ev(t.current,2,null,t,null,null),xc(),n[_t]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=Rt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<vr.length&&n!==0&&n<vr[r].priority;r++);vr.splice(r,0,t),r===0&&lv(t)}};var uv=a.version;if(uv!=="19.2.0")throw Error(i(527,uv,"19.2.0"));V.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Xj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{je=$c.inject(Xj),nt=$c}catch{}}return ro.createRoot=function(t,n){if(!c(t))throw Error(i(299));var r=!1,o="",u=bg,m=vg,b=yg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Jb(t,1,!1,null,null,r,o,null,u,m,b,cv),t[_t]=n.current,xf(t),new qf(n)},ro.hydrateRoot=function(t,n,r){if(!c(t))throw Error(i(299));var o=!1,u="",m=bg,b=vg,N=yg,k=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.formState!==void 0&&(k=r.formState)),n=Jb(t,1,!0,n,r??null,o,u,k,m,b,N,cv),n.context=Wb(null),r=n.current,o=ka(),o=an(o),u=ar(o),u.callback=null,sr(r,u,o),r=o,n.current.lanes=r,Ce(n,r),Ss(n),t[_t]=n.current,xf(t),new Ic(n)},ro.version="19.2.0",ro}var xv;function iS(){if(xv)return Ff.exports;xv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),Ff.exports=lS(),Ff.exports}var oS=iS();const cS=lx(oS);var Nv="popstate";function uS(e={}){function a(i,c){let{pathname:d,search:f,hash:h}=i.location;return wm("",{pathname:d,search:f,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(i,c){return typeof c=="string"?c:bo(c)}return fS(a,s,null,e)}function on(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Ja(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function dS(){return Math.random().toString(36).substring(2,10)}function jv(e,a){return{usr:e.state,key:e.key,idx:a}}function wm(e,a,s=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?ci(a):a,state:s,key:a&&a.key||i||dS()}}function bo({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ci(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let i=e.indexOf("?");i>=0&&(a.search=e.substring(i),e=e.substring(0,i)),e&&(a.pathname=e)}return a}function fS(e,a,s,i={}){let{window:c=document.defaultView,v5Compat:d=!1}=i,f=c.history,h="POP",v=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function x(){h="POP";let R=y(),$=R==null?null:R-g;g=R,v&&v({action:h,location:A.location,delta:$})}function j(R,$){h="PUSH";let z=wm(A.location,R,$);g=y()+1;let te=jv(z,g),M=A.createHref(z);try{f.pushState(te,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;c.location.assign(M)}d&&v&&v({action:h,location:A.location,delta:1})}function F(R,$){h="REPLACE";let z=wm(A.location,R,$);g=y();let te=jv(z,g),M=A.createHref(z);f.replaceState(te,"",M),d&&v&&v({action:h,location:A.location,delta:0})}function E(R){return mS(R)}let A={get action(){return h},get location(){return e(c,f)},listen(R){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(Nv,x),v=R,()=>{c.removeEventListener(Nv,x),v=null}},createHref(R){return a(c,R)},createURL:E,encodeLocation(R){let $=E(R);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:j,replace:F,go(R){return f.go(R)}};return A}function mS(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),on(s,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:bo(e);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function ix(e,a,s="/"){return hS(e,a,s,!1)}function hS(e,a,s,i){let c=typeof a=="string"?ci(a):a,d=Zs(c.pathname||"/",s);if(d==null)return null;let f=ox(e);pS(f);let h=null;for(let v=0;h==null&&v<f.length;++v){let g=ES(d);h=wS(f[v],g,i)}return h}function ox(e,a=[],s=[],i="",c=!1){let d=(f,h,v=c,g)=>{let y={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&v)return;on(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let x=Vs([i,y.relativePath]),j=s.concat(y);f.children&&f.children.length>0&&(on(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),ox(f.children,a,j,x,v)),!(f.path==null&&!f.index)&&a.push({path:x,score:jS(x,f.index),routesMeta:j})};return e.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))d(f,h);else for(let v of cx(f.path))d(f,h,!0,v)}),a}function cx(e){let a=e.split("/");if(a.length===0)return[];let[s,...i]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let f=cx(i.join("/")),h=[];return h.push(...f.map(v=>v===""?d:[d,v].join("/"))),c&&h.push(...f),h.map(v=>e.startsWith("/")&&v===""?"/":v)}function pS(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:SS(a.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var gS=/^:[\w-]+$/,bS=3,vS=2,yS=1,xS=10,NS=-2,Sv=e=>e==="*";function jS(e,a){let s=e.split("/"),i=s.length;return s.some(Sv)&&(i+=NS),a&&(i+=vS),s.filter(c=>!Sv(c)).reduce((c,d)=>c+(gS.test(d)?bS:d===""?yS:xS),i)}function SS(e,a){return e.length===a.length&&e.slice(0,-1).every((i,c)=>i===a[c])?e[e.length-1]-a[a.length-1]:0}function wS(e,a,s=!1){let{routesMeta:i}=e,c={},d="/",f=[];for(let h=0;h<i.length;++h){let v=i[h],g=h===i.length-1,y=d==="/"?a:a.slice(d.length)||"/",x=vo({path:v.relativePath,caseSensitive:v.caseSensitive,end:g},y),j=v.route;if(!x&&g&&s&&!i[i.length-1].route.index&&(x=vo({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!x)return null;Object.assign(c,x.params),f.push({params:c,pathname:Vs([d,x.pathname]),pathnameBase:RS(Vs([d,x.pathnameBase])),route:j}),x.pathnameBase!=="/"&&(d=Vs([d,x.pathnameBase]))}return f}function vo(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,i]=_S(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:x},j)=>{if(y==="*"){let E=h[j]||"";f=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const F=h[j];return x&&!F?g[y]=void 0:g[y]=(F||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:f,pattern:e}}function _S(e,a=!1,s=!0){Ja(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,v)=>(i.push({paramName:h,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),i]}function ES(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ja(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function Zs(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,i=e.charAt(s);return i&&i!=="/"?null:e.slice(s)||"/"}function AS(e,a="/"){let{pathname:s,search:i="",hash:c=""}=typeof e=="string"?ci(e):e;return{pathname:s?s.startsWith("/")?s:CS(s,a):a,search:TS(i),hash:DS(c)}}function CS(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Gf(e,a,s,i){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OS(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function ah(e){let a=OS(e);return a.map((s,i)=>i===a.length-1?s.pathname:s.pathnameBase)}function sh(e,a,s,i=!1){let c;typeof e=="string"?c=ci(e):(c={...e},on(!c.pathname||!c.pathname.includes("?"),Gf("?","pathname","search",c)),on(!c.pathname||!c.pathname.includes("#"),Gf("#","pathname","hash",c)),on(!c.search||!c.search.includes("#"),Gf("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,h;if(f==null)h=s;else{let x=a.length-1;if(!i&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),x-=1;c.pathname=j.join("/")}h=x>=0?a[x]:"/"}let v=AS(c,h),g=f&&f!=="/"&&f.endsWith("/"),y=(d||f===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(g||y)&&(v.pathname+="/"),v}var Vs=e=>e.join("/").replace(/\/\/+/g,"/"),RS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ux=["POST","PUT","PATCH","DELETE"];new Set(ux);var kS=["GET",...ux];new Set(kS);var ui=p.createContext(null);ui.displayName="DataRouter";var yu=p.createContext(null);yu.displayName="DataRouterState";p.createContext(!1);var dx=p.createContext({isTransitioning:!1});dx.displayName="ViewTransition";var MS=p.createContext(new Map);MS.displayName="Fetchers";var US=p.createContext(null);US.displayName="Await";var Wa=p.createContext(null);Wa.displayName="Navigation";var _o=p.createContext(null);_o.displayName="Location";var es=p.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var rh=p.createContext(null);rh.displayName="RouteError";function LS(e,{relative:a}={}){on(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=p.useContext(Wa),{hash:c,pathname:d,search:f}=Eo(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:Vs([s,d])),i.createHref({pathname:h,search:f,hash:c})}function di(){return p.useContext(_o)!=null}function fa(){return on(di(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(_o).location}var fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mx(e){p.useContext(Wa).static||p.useLayoutEffect(e)}function cl(){let{isDataRoute:e}=p.useContext(es);return e?WS():BS()}function BS(){on(di(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(ui),{basename:a,navigator:s}=p.useContext(Wa),{matches:i}=p.useContext(es),{pathname:c}=fa(),d=JSON.stringify(ah(i)),f=p.useRef(!1);return mx(()=>{f.current=!0}),p.useCallback((v,g={})=>{if(Ja(f.current,fx),!f.current)return;if(typeof v=="number"){s.go(v);return}let y=sh(v,JSON.parse(d),c,g.relative==="path");e==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Vs([a,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[a,s,d,c,e])}var qS=p.createContext(null);function IS(e){let a=p.useContext(es).outlet;return p.useMemo(()=>a&&p.createElement(qS.Provider,{value:e},a),[a,e])}function $S(){let{matches:e}=p.useContext(es),a=e[e.length-1];return a?a.params:{}}function Eo(e,{relative:a}={}){let{matches:s}=p.useContext(es),{pathname:i}=fa(),c=JSON.stringify(ah(s));return p.useMemo(()=>sh(e,JSON.parse(c),i,a==="path"),[e,c,i,a])}function FS(e,a){return hx(e,a)}function hx(e,a,s,i,c){on(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=p.useContext(Wa),{matches:f}=p.useContext(es),h=f[f.length-1],v=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let z=x&&x.path||"";px(g,!x||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let j=fa(),F;if(a){let z=typeof a=="string"?ci(a):a;on(y==="/"||z.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),F=z}else F=j;let E=F.pathname||"/",A=E;if(y!=="/"){let z=y.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(z.length).join("/")}let R=ix(e,{pathname:A});Ja(x||R!=null,`No routes matched location "${F.pathname}${F.search}${F.hash}" `),Ja(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${F.pathname}${F.search}${F.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=PS(R&&R.map(z=>Object.assign({},z,{params:Object.assign({},v,z.params),pathname:Vs([y,d.encodeLocation?d.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Vs([y,d.encodeLocation?d.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),f,s,i,c);return a&&$?p.createElement(_o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...F},navigationType:"POP"}},$):$}function HS(){let e=JS(),a=zS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:d},"ErrorBoundary")," or"," ",p.createElement("code",{style:d},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},a),s?p.createElement("pre",{style:c},s):null,f)}var VS=p.createElement(HS,null),ZS=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(es.Provider,{value:this.props.routeContext},p.createElement(rh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GS({routeContext:e,match:a,children:s}){let i=p.useContext(ui);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),p.createElement(es.Provider,{value:e},s)}function PS(e,a=[],s=null,i=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,f=s?.errors;if(f!=null){let g=d.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);on(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,g+1))}let h=!1,v=-1;if(s)for(let g=0;g<d.length;g++){let y=d[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=g),y.route.id){let{loaderData:x,errors:j}=s,F=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!j||j[y.route.id]===void 0);if(y.route.lazy||F){h=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((g,y,x)=>{let j,F=!1,E=null,A=null;s&&(j=f&&y.route.id?f[y.route.id]:void 0,E=y.route.errorElement||VS,h&&(v<0&&x===0?(px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,A=null):v===x&&(F=!0,A=y.route.hydrateFallbackElement||null)));let R=a.concat(d.slice(0,x+1)),$=()=>{let z;return j?z=E:F?z=A:y.route.Component?z=p.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=g,p.createElement(GS,{match:y,routeContext:{outlet:g,matches:R,isDataRoute:s!=null},children:z})};return s&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?p.createElement(ZS,{location:s.location,revalidation:s.revalidation,component:E,error:j,children:$(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:i}):$()},null)}function lh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(e){let a=p.useContext(ui);return on(a,lh(e)),a}function YS(e){let a=p.useContext(yu);return on(a,lh(e)),a}function KS(e){let a=p.useContext(es);return on(a,lh(e)),a}function ih(e){let a=KS(e),s=a.matches[a.matches.length-1];return on(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function XS(){return ih("useRouteId")}function JS(){let e=p.useContext(rh),a=YS("useRouteError"),s=ih("useRouteError");return e!==void 0?e:a.errors?.[s]}function WS(){let{router:e}=QS("useNavigate"),a=ih("useNavigate"),s=p.useRef(!1);return mx(()=>{s.current=!0}),p.useCallback(async(c,d={})=>{Ja(s.current,fx),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var wv={};function px(e,a,s){!a&&!wv[e]&&(wv[e]=!0,Ja(!1,s))}p.memo(ew);function ew({routes:e,future:a,state:s,unstable_onError:i}){return hx(e,void 0,s,i,a)}function wr({to:e,replace:a,state:s,relative:i}){on(di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=p.useContext(Wa);Ja(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=p.useContext(es),{pathname:f}=fa(),h=cl(),v=sh(e,ah(d),f,i==="path"),g=JSON.stringify(v);return p.useEffect(()=>{h(JSON.parse(g),{replace:a,state:s,relative:i})},[h,g,i,a,s]),null}function gx(e){return IS(e.context)}function dn(e){on(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tw({basename:e="/",children:a=null,location:s,navigationType:i="POP",navigator:c,static:d=!1}){on(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=p.useMemo(()=>({basename:f,navigator:c,static:d,future:{}}),[f,c,d]);typeof s=="string"&&(s=ci(s));let{pathname:v="/",search:g="",hash:y="",state:x=null,key:j="default"}=s,F=p.useMemo(()=>{let E=Zs(v,f);return E==null?null:{location:{pathname:E,search:g,hash:y,state:x,key:j},navigationType:i}},[f,v,g,y,x,j,i]);return Ja(F!=null,`<Router basename="${f}"> is not able to match the URL "${v}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:p.createElement(Wa.Provider,{value:h},p.createElement(_o.Provider,{children:a,value:F}))}function nw({children:e,location:a}){return FS(_m(e),a)}function _m(e,a=[]){let s=[];return p.Children.forEach(e,(i,c)=>{if(!p.isValidElement(i))return;let d=[...a,c];if(i.type===p.Fragment){s.push.apply(s,_m(i.props.children,d));return}on(i.type===dn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),on(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=_m(i.props.children,d)),s.push(f)}),s}var Jc="get",Wc="application/x-www-form-urlencoded";function xu(e){return e!=null&&typeof e.tagName=="string"}function aw(e){return xu(e)&&e.tagName.toLowerCase()==="button"}function sw(e){return xu(e)&&e.tagName.toLowerCase()==="form"}function rw(e){return xu(e)&&e.tagName.toLowerCase()==="input"}function lw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iw(e,a){return e.button===0&&(!a||a==="_self")&&!lw(e)}function Em(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let i=e[s];return a.concat(Array.isArray(i)?i.map(c=>[s,c]):[[s,i]])},[]))}function ow(e,a){let s=Em(e);return a&&a.forEach((i,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var Fc=null;function cw(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pf(e){return e!=null&&!uw.has(e)?(Ja(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):e}function dw(e,a){let s,i,c,d,f;if(sw(e)){let h=e.getAttribute("action");i=h?Zs(h,a):null,s=e.getAttribute("method")||Jc,c=Pf(e.getAttribute("enctype"))||Wc,d=new FormData(e)}else if(aw(e)||rw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=e.getAttribute("formaction")||h.getAttribute("action");if(i=v?Zs(v,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||Jc,c=Pf(e.getAttribute("formenctype"))||Pf(h.getAttribute("enctype"))||Wc,d=new FormData(h,e),!cw()){let{name:g,type:y,value:x}=e;if(y==="image"){let j=g?`${g}.`:"";d.append(`${j}x`,"0"),d.append(`${j}y`,"0")}else g&&d.append(g,x)}}else{if(xu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Jc,i=null,c=Wc,f=e}return d&&c==="text/plain"&&(f=d,d=void 0),{action:i,method:s.toLowerCase(),encType:c,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oh(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function fw(e,a,s){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${s}`:a&&Zs(i.pathname,a)==="/"?i.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function mw(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function pw(e,a,s){let i=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let f=await mw(d,s);return f.links?f.links():[]}return[]}));return yw(i.flat(1).filter(hw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function _v(e,a,s,i,c,d){let f=(v,g)=>s[g]?v.route.id!==s[g].route.id:!0,h=(v,g)=>s[g].pathname!==v.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==v.params["*"];return d==="assets"?a.filter((v,g)=>f(v,g)||h(v,g)):d==="data"?a.filter((v,g)=>{let y=i.routes[v.route.id];if(!y||!y.hasLoader)return!1;if(f(v,g)||h(v,g))return!0;if(v.route.shouldRevalidate){let x=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function gw(e,a,{includeHydrateFallback:s}={}){return bw(e.map(i=>{let c=a.routes[i.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function bw(e){return[...new Set(e)]}function vw(e){let a={},s=Object.keys(e).sort();for(let i of s)a[i]=e[i];return a}function yw(e,a){let s=new Set;return new Set(a),e.reduce((i,c)=>{let d=JSON.stringify(vw(c));return s.has(d)||(s.add(d),i.push({key:d,link:c})),i},[])}function bx(){let e=p.useContext(ui);return oh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xw(){let e=p.useContext(yu);return oh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ch=p.createContext(void 0);ch.displayName="FrameworkContext";function vx(){let e=p.useContext(ch);return oh(e,"You must render this element inside a <HydratedRouter> element"),e}function Nw(e,a){let s=p.useContext(ch),[i,c]=p.useState(!1),[d,f]=p.useState(!1),{onFocus:h,onBlur:v,onMouseEnter:g,onMouseLeave:y,onTouchStart:x}=a,j=p.useRef(null);p.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let A=$=>{$.forEach(z=>{f(z.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return j.current&&R.observe(j.current),()=>{R.disconnect()}}},[e]),p.useEffect(()=>{if(i){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[i]);let F=()=>{c(!0)},E=()=>{c(!1),f(!1)};return s?e!=="intent"?[d,j,{}]:[d,j,{onFocus:lo(h,F),onBlur:lo(v,E),onMouseEnter:lo(g,F),onMouseLeave:lo(y,E),onTouchStart:lo(x,F)}]:[!1,j,{}]}function lo(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function jw({page:e,...a}){let{router:s}=bx(),i=p.useMemo(()=>ix(s.routes,e,s.basename),[s.routes,e,s.basename]);return i?p.createElement(ww,{page:e,matches:i,...a}):null}function Sw(e){let{manifest:a,routeModules:s}=vx(),[i,c]=p.useState([]);return p.useEffect(()=>{let d=!1;return pw(e,a,s).then(f=>{d||c(f)}),()=>{d=!0}},[e,a,s]),i}function ww({page:e,matches:a,...s}){let i=fa(),{manifest:c,routeModules:d}=vx(),{basename:f}=bx(),{loaderData:h,matches:v}=xw(),g=p.useMemo(()=>_v(e,a,v,c,i,"data"),[e,a,v,c,i]),y=p.useMemo(()=>_v(e,a,v,c,i,"assets"),[e,a,v,c,i]),x=p.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,A=!1;if(a.forEach($=>{let z=c.routes[$.route.id];!z||!z.hasLoader||(!g.some(te=>te.route.id===$.route.id)&&$.route.id in h&&d[$.route.id]?.shouldRevalidate||z.hasClientLoader?A=!0:E.add($.route.id))}),E.size===0)return[];let R=fw(e,f,"data");return A&&E.size>0&&R.searchParams.set("_routes",a.filter($=>E.has($.route.id)).map($=>$.route.id).join(",")),[R.pathname+R.search]},[f,h,i,c,g,a,e,d]),j=p.useMemo(()=>gw(y,c),[y,c]),F=Sw(y);return p.createElement(p.Fragment,null,x.map(E=>p.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),j.map(E=>p.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),F.map(({key:E,link:A})=>p.createElement("link",{key:E,nonce:s.nonce,...A})))}function _w(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var yx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yx&&(window.__reactRouterVersion="7.9.5")}catch{}function Ew({basename:e,children:a,window:s}){let i=p.useRef();i.current==null&&(i.current=uS({window:s,v5Compat:!0}));let c=i.current,[d,f]=p.useState({action:c.action,location:c.location}),h=p.useCallback(v=>{p.startTransition(()=>f(v))},[f]);return p.useLayoutEffect(()=>c.listen(h),[c,h]),p.createElement(tw,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,au=p.forwardRef(function({onClick:a,discover:s="render",prefetch:i="none",relative:c,reloadDocument:d,replace:f,state:h,target:v,to:g,preventScrollReset:y,viewTransition:x,...j},F){let{basename:E}=p.useContext(Wa),A=typeof g=="string"&&xx.test(g),R,$=!1;if(typeof g=="string"&&A&&(R=g,yx))try{let de=new URL(window.location.href),Te=g.startsWith("//")?new URL(de.protocol+g):new URL(g),Oe=Zs(Te.pathname,E);Te.origin===de.origin&&Oe!=null?g=Oe+Te.search+Te.hash:$=!0}catch{Ja(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=LS(g,{relative:c}),[te,M,D]=Nw(i,j),K=Ow(g,{replace:f,state:h,target:v,preventScrollReset:y,relative:c,viewTransition:x});function B(de){a&&a(de),de.defaultPrevented||K(de)}let H=p.createElement("a",{...j,...D,href:R||z,onClick:$||d?a:B,ref:_w(F,M),target:v,"data-discover":!A&&s==="render"?"true":void 0});return te&&!A?p.createElement(p.Fragment,null,H,p.createElement(jw,{page:z})):H});au.displayName="Link";var Nx=p.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:i="",end:c=!1,style:d,to:f,viewTransition:h,children:v,...g},y){let x=Eo(f,{relative:g.relative}),j=fa(),F=p.useContext(yu),{navigator:E,basename:A}=p.useContext(Wa),R=F!=null&&kw(x)&&h===!0,$=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,z=j.pathname,te=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;s||(z=z.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&A&&(te=Zs(te,A)||te);const M=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let D=z===$||!c&&z.startsWith($)&&z.charAt(M)==="/",K=te!=null&&(te===$||!c&&te.startsWith($)&&te.charAt($.length)==="/"),B={isActive:D,isPending:K,isTransitioning:R},H=D?a:void 0,de;typeof i=="function"?de=i(B):de=[i,D?"active":null,K?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Te=typeof d=="function"?d(B):d;return p.createElement(au,{...g,"aria-current":H,className:de,ref:y,style:Te,to:f,viewTransition:h},typeof v=="function"?v(B):v)});Nx.displayName="NavLink";var Aw=p.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:c,state:d,method:f=Jc,action:h,onSubmit:v,relative:g,preventScrollReset:y,viewTransition:x,...j},F)=>{let E=Dw(),A=zw(h,{relative:g}),R=f.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&xx.test(h),z=te=>{if(v&&v(te),te.defaultPrevented)return;te.preventDefault();let M=te.nativeEvent.submitter,D=M?.getAttribute("formmethod")||f;E(M||te.currentTarget,{fetcherKey:a,method:D,navigate:s,replace:c,state:d,relative:g,preventScrollReset:y,viewTransition:x})};return p.createElement("form",{ref:F,method:R,action:A,onSubmit:i?v:z,...j,"data-discover":!$&&e==="render"?"true":void 0})});Aw.displayName="Form";function Cw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jx(e){let a=p.useContext(ui);return on(a,Cw(e)),a}function Ow(e,{target:a,replace:s,state:i,preventScrollReset:c,relative:d,viewTransition:f}={}){let h=cl(),v=fa(),g=Eo(e,{relative:d});return p.useCallback(y=>{if(iw(y,a)){y.preventDefault();let x=s!==void 0?s:bo(v)===bo(g);h(e,{replace:x,state:i,preventScrollReset:c,relative:d,viewTransition:f})}},[v,h,g,s,i,a,e,c,d,f])}function Sx(e){Ja(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=p.useRef(Em(e)),s=p.useRef(!1),i=fa(),c=p.useMemo(()=>ow(i.search,s.current?null:a.current),[i.search]),d=cl(),f=p.useCallback((h,v)=>{const g=Em(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+g,v)},[d,c]);return[c,f]}var Rw=0,Tw=()=>`__${String(++Rw)}__`;function Dw(){let{router:e}=jx("useSubmit"),{basename:a}=p.useContext(Wa),s=XS();return p.useCallback(async(i,c={})=>{let{action:d,method:f,encType:h,formData:v,body:g}=dw(i,a);if(c.navigate===!1){let y=c.fetcherKey||Tw();await e.fetch(y,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:g,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:g,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function zw(e,{relative:a}={}){let{basename:s}=p.useContext(Wa),i=p.useContext(es);on(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),d={...Eo(e||".",{relative:a})},f=fa();if(e==null){d.search=f.search;let h=new URLSearchParams(d.search),v=h.getAll("index");if(v.some(y=>y==="")){h.delete("index"),v.filter(x=>x).forEach(x=>h.append("index",x));let y=h.toString();d.search=y?`?${y}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:Vs([s,d.pathname])),bo(d)}function kw(e,{relative:a}={}){let s=p.useContext(dx);on(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=jx("useViewTransitionState"),c=Eo(e,{relative:a});if(!s.isTransitioning)return!1;let d=Zs(s.currentLocation.pathname,i)||s.currentLocation.pathname,f=Zs(s.nextLocation.pathname,i)||s.nextLocation.pathname;return vo(c.pathname,f)!=null||vo(c.pathname,d)!=null}var fi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mw={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},Uw=class{#e=Mw;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},Jr=new Uw;function Lw(e){setTimeout(e,0)}var nl=typeof window>"u"||"Deno"in globalThis;function da(){}function Bw(e,a){return typeof e=="function"?e(a):e}function Am(e){return typeof e=="number"&&e>=0&&e!==1/0}function wx(e,a){return Math.max(e+(a||0)-Date.now(),0)}function _r(e,a){return typeof e=="function"?e(a):e}function Ya(e,a){return typeof e=="function"?e(a):e}function Ev(e,a){const{type:s="all",exact:i,fetchStatus:c,predicate:d,queryKey:f,stale:h}=e;if(f){if(i){if(a.queryHash!==uh(f,a.options))return!1}else if(!yo(a.queryKey,f))return!1}if(s!=="all"){const v=a.isActive();if(s==="active"&&!v||s==="inactive"&&v)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function Av(e,a){const{exact:s,status:i,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(al(a.options.mutationKey)!==al(d))return!1}else if(!yo(a.options.mutationKey,d))return!1}return!(i&&a.state.status!==i||c&&!c(a))}function uh(e,a){return(a?.queryKeyHashFn||al)(e)}function al(e){return JSON.stringify(e,(a,s)=>Cm(s)?Object.keys(s).sort().reduce((i,c)=>(i[c]=s[c],i),{}):s)}function yo(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>yo(e[s],a[s])):!1}var qw=Object.prototype.hasOwnProperty;function _x(e,a){if(e===a)return e;const s=Cv(e)&&Cv(a);if(!s&&!(Cm(e)&&Cm(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),f=d.length,h=s?new Array(f):{};let v=0;for(let g=0;g<f;g++){const y=s?g:d[g],x=e[y],j=a[y];if(x===j){h[y]=x,(s?g<c:qw.call(e,y))&&v++;continue}if(x===null||j===null||typeof x!="object"||typeof j!="object"){h[y]=j;continue}const F=_x(x,j);h[y]=F,F===x&&v++}return c===f&&v===c?e:h}function su(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function Cv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cm(e){if(!Ov(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!Ov(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ov(e){return Object.prototype.toString.call(e)==="[object Object]"}function Iw(e){return new Promise(a=>{Jr.setTimeout(a,e)})}function Om(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?_x(e,a):a}function $w(e,a,s=0){const i=[...e,a];return s&&i.length>s?i.slice(1):i}function Fw(e,a,s=0){const i=[a,...e];return s&&i.length>s?i.slice(0,-1):i}var dh=Symbol();function Ex(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===dh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ax(e,a){return typeof e=="function"?e(...a):!!e}var Hw=class extends fi{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!nl&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},fh=new Hw;function Rm(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function i(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{i({status:"fulfilled",value:c}),e(c)},s.reject=c=>{i({status:"rejected",reason:c}),a(c)},s}var Vw=Lw;function Zw(){let e=[],a=0,s=h=>{h()},i=h=>{h()},c=Vw;const d=h=>{a?e.push(h):c(()=>{s(h)})},f=()=>{const h=e;e=[],h.length&&c(()=>{i(()=>{h.forEach(v=>{s(v)})})})};return{batch:h=>{let v;a++;try{v=h()}finally{a--,a||f()}return v},batchCalls:h=>(...v)=>{d(()=>{h(...v)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{c=h}}}var In=Zw(),Gw=class extends fi{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!nl&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},ru=new Gw;function Pw(e){return Math.min(1e3*2**e,3e4)}function Cx(e){return(e??"online")==="online"?ru.isOnline():!0}var Tm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ox(e){let a=!1,s=0,i;const c=Rm(),d=()=>c.status!=="pending",f=A=>{if(!d()){const R=new Tm(A);j(R),e.onCancel?.(R)}},h=()=>{a=!0},v=()=>{a=!1},g=()=>fh.isFocused()&&(e.networkMode==="always"||ru.isOnline())&&e.canRun(),y=()=>Cx(e.networkMode)&&e.canRun(),x=A=>{d()||(i?.(),c.resolve(A))},j=A=>{d()||(i?.(),c.reject(A))},F=()=>new Promise(A=>{i=R=>{(d()||g())&&A(R)},e.onPause?.()}).then(()=>{i=void 0,d()||e.onContinue?.()}),E=()=>{if(d())return;let A;const R=s===0?e.initialPromise:void 0;try{A=R??e.fn()}catch($){A=Promise.reject($)}Promise.resolve(A).then(x).catch($=>{if(d())return;const z=e.retry??(nl?0:3),te=e.retryDelay??Pw,M=typeof te=="function"?te(s,$):te,D=z===!0||typeof z=="number"&&s<z||typeof z=="function"&&z(s,$);if(a||!D){j($);return}s++,e.onFail?.(s,$),Iw(M).then(()=>g()?void 0:F()).then(()=>{a?j($):E()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(i?.(),c),cancelRetry:h,continueRetry:v,canStart:y,start:()=>(y()?E():F().then(E),c)}}var Rx=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Am(this.gcTime)&&(this.#e=Jr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(nl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Jr.clearTimeout(this.#e),this.#e=void 0)}},Qw=class extends Rx{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Tv(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Tv(this.options);a.data!==void 0&&(this.setState(Rv(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=Om(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(da).catch(da):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ya(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_r(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wx(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(v=>v.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=Ex(this.options,a),g=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(y),y})();return this.#i=!1,this.options.persister?this.options.persister(h,g,this):h(g)},f=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return i(h),h})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=Ox({initialPromise:a?.initialPromise,fn:f.fetchFn,onCancel:h=>{h instanceof Tm&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,v)=>{this.#r({type:"failed",failureCount:h,error:v})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Tm){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Tx(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,...Rv(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),In.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Tx(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cx(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Rv(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Tv(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Yw=class extends fi{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=Rm(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Dv(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#N(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ya(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),a._defaulted&&!su(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&zv(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),i&&(this.#t!==s||Ya(this.options.enabled,this.#t)!==Ya(a.enabled,this.#t)||_r(this.options.staleTime,this.#t)!==_r(a.staleTime,this.#t))&&this.#g();const c=this.#b();i&&(this.#t!==s||Ya(this.options.enabled,this.#t)!==Ya(a.enabled,this.#t)||c!==this.#o)&&this.#v(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return Xw(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),a?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#j();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(da)),a}#g(){this.#x();const e=_r(this.options.staleTime,this.#t);if(nl||this.#s.isStale||!Am(e))return;const s=wx(this.#s.dataUpdatedAt,e)+1;this.#c=Jr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#b(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#N(),this.#o=e,!(nl||Ya(this.options.enabled,this.#t)===!1||!Am(this.#o)||this.#o===0)&&(this.#u=Jr.setInterval(()=>{(this.options.refetchIntervalInBackground||fh.isFocused())&&this.#d()},this.#o))}#y(){this.#g(),this.#v(this.#b())}#x(){this.#c&&(Jr.clearTimeout(this.#c),this.#c=void 0)}#N(){this.#u&&(Jr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,i=this.options,c=this.#s,d=this.#a,f=this.#l,v=e!==s?e.state:this.#n,{state:g}=e;let y={...g},x=!1,j;if(a._optimisticResults){const H=this.hasListeners(),de=!H&&Dv(e,a),Te=H&&zv(e,s,a,i);(de||Te)&&(y={...y,...Tx(g.data,e.options)}),a._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:F,errorUpdatedAt:E,status:A}=y;j=y.data;let R=!1;if(a.placeholderData!==void 0&&j===void 0&&A==="pending"){let H;c?.isPlaceholderData&&a.placeholderData===f?.placeholderData?(H=c.data,R=!0):H=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,H!==void 0&&(A="success",j=Om(c?.data,H,a),x=!0)}if(a.select&&j!==void 0&&!R)if(c&&j===d?.data&&a.select===this.#p)j=this.#f;else try{this.#p=a.select,j=a.select(j),j=Om(c?.data,j,a),this.#f=j,this.#r=null}catch(H){this.#r=H}this.#r&&(F=this.#r,j=this.#f,E=Date.now(),A="error");const $=y.fetchStatus==="fetching",z=A==="pending",te=A==="error",M=z&&$,D=j!==void 0,B={status:A,fetchStatus:y.fetchStatus,isPending:z,isSuccess:A==="success",isError:te,isInitialLoading:M,isLoading:M,data:j,dataUpdatedAt:y.dataUpdatedAt,error:F,errorUpdatedAt:E,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>v.dataUpdateCount||y.errorUpdateCount>v.errorUpdateCount,isFetching:$,isRefetching:$&&!z,isLoadingError:te&&!D,isPaused:y.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:te&&D,isStale:mh(e,a),refetch:this.refetch,promise:this.#i,isEnabled:Ya(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=Oe=>{B.status==="error"?Oe.reject(B.error):B.data!==void 0&&Oe.resolve(B.data)},de=()=>{const Oe=this.#i=B.promise=Rm();H(Oe)},Te=this.#i;switch(Te.status){case"pending":e.queryHash===s.queryHash&&H(Te);break;case"fulfilled":(B.status==="error"||B.data!==Te.value)&&de();break;case"rejected":(B.status!=="error"||B.error!==Te.reason)&&de();break}}return B}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),su(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(f=>{const h=f;return this.#s[h]!==e[h]&&d.has(h)})};this.#S({listeners:s()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#S(e){In.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Kw(e,a){return Ya(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function Dv(e,a){return Kw(e,a)||e.state.data!==void 0&&Dm(e,a,a.refetchOnMount)}function Dm(e,a,s){if(Ya(a.enabled,e)!==!1&&_r(a.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&mh(e,a)}return!1}function zv(e,a,s,i){return(e!==a||Ya(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&mh(e,s)}function mh(e,a){return Ya(a.enabled,e)!==!1&&e.isStaleByTime(_r(a.staleTime,e))}function Xw(e,a){return!su(e.getCurrentResult(),a)}function kv(e){return{onFetch:(a,s)=>{const i=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],f=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},v=0;const g=async()=>{let y=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(a.signal.aborted?y=!0:a.signal.addEventListener("abort",()=>{y=!0}),a.signal)})},j=Ex(a.options,a.fetchOptions),F=async(E,A,R)=>{if(y)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const z=(()=>{const K={client:a.client,queryKey:a.queryKey,pageParam:A,direction:R?"backward":"forward",meta:a.options.meta};return x(K),K})(),te=await j(z),{maxPages:M}=a.options,D=R?Fw:$w;return{pages:D(E.pages,te,M),pageParams:D(E.pageParams,A,M)}};if(c&&d.length){const E=c==="backward",A=E?Jw:Mv,R={pages:d,pageParams:f},$=A(i,R);h=await F(R,$,E)}else{const E=e??d.length;do{const A=v===0?f[0]??i.initialPageParam:Mv(i,h);if(v>0&&A==null)break;h=await F(h,A),v++}while(v<E)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(g,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=g}}}function Mv(e,{pages:a,pageParams:s}){const i=a.length-1;return a.length>0?e.getNextPageParam(a[i],a,s[i],s):void 0}function Jw(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var Ww=class extends Rx{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Dx(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Ox({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,f)=>{this.#a({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",c=!this.#s.canStart();try{if(i)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const f=await this.options.onMutate?.(e,s);f!==this.state.context&&this.#a({type:"pending",context:f,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),In.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Dx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var e_=class extends fi{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const i=new Ww({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(i),i}add(e){this.#e.add(e);const a=Hc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=Hc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=Hc(e);if(typeof a=="string"){const i=this.#t.get(a)?.find(c=>c.state.status==="pending");return!i||i===e}else return!0}runNext(e){const a=Hc(e);return typeof a=="string"?this.#t.get(a)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){In.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Av(a,s))}findAll(e={}){return this.getAll().filter(a=>Av(e,a))}notify(e){In.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return In.batch(()=>Promise.all(e.map(a=>a.continue().catch(da))))}};function Hc(e){return e.options.scope?.id}var t_=class extends fi{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),su(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&al(s.mutationKey)!==al(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Dx();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){In.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,i,c),this.#s.onSettled?.(a.data,null,s,i,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,i,c),this.#s.onSettled?.(void 0,a.error,s,i,c))}this.listeners.forEach(s=>{s(this.#t)})})}},n_=class extends fi{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const i=a.queryKey,c=a.queryHash??uh(i,a);let d=this.get(c);return d||(d=new Qw({client:e,queryKey:i,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Ev(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Ev(e,s)):a}notify(e){In.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){In.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},a_=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new n_,this.#t=e.mutationCache||new e_,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=fh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=ru.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(_r(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const i=s.data;return[a,i]})}setQueryData(e,a,s){const i=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(i.queryHash)?.state.data,f=Bw(a,d);if(f!==void 0)return this.#e.build(this,i).setData(f,{...s,manual:!0})}setQueriesData(e,a,s){return In.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;In.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return In.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},i=In.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(i).then(da).catch(da)}invalidateQueries(e,a={}){return In.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},i=In.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(da)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(i).then(da)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(_r(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(da).catch(da)}fetchInfiniteQuery(e){return e.behavior=kv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(da).catch(da)}ensureInfiniteQueryData(e){return e.behavior=kv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ru.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(al(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(i=>{yo(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(al(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(i=>{yo(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=uh(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===dh&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},zx=p.createContext(void 0),hh=e=>{const a=p.useContext(zx);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},s_=({client:e,children:a})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(zx.Provider,{value:e,children:a})),kx=p.createContext(!1),r_=()=>p.useContext(kx);kx.Provider;function l_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var i_=p.createContext(l_()),o_=()=>p.useContext(i_),c_=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},u_=e=>{p.useEffect(()=>{e.clearReset()},[e])},d_=({result:e,errorResetBoundary:a,throwOnError:s,query:i,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&i&&(c&&e.data===void 0||Ax(s,[e.error,i])),f_=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...c)=>s(i(...c)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},m_=(e,a)=>e.isLoading&&e.isFetching&&!a,h_=(e,a)=>e?.suspense&&a.isPending,Uv=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function p_(e,a,s){const i=r_(),c=o_(),d=hh(),f=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=i?"isRestoring":"optimistic",f_(f),c_(f,c),u_(c);const h=!d.getQueryCache().get(f.queryHash),[v]=p.useState(()=>new a(d,f)),g=v.getOptimisticResult(f),y=!i&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(x=>{const j=y?v.subscribe(In.batchCalls(x)):da;return v.updateResult(),j},[v,y]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),p.useEffect(()=>{v.setOptions(f)},[f,v]),h_(f,g))throw Uv(f,v,c);if(d_({result:g,errorResetBoundary:c,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw g.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(f,g),f.experimental_prefetchInRender&&!nl&&m_(g,i)&&(h?Uv(f,v,c):d.getQueryCache().get(f.queryHash)?.promise)?.catch(da).finally(()=>{v.updateResult()}),f.notifyOnChangeProps?g:v.trackResult(g)}function sl(e,a){return p_(e,Yw)}function g_(e,a){const s=hh(),[i]=p.useState(()=>new t_(s,e));p.useEffect(()=>{i.setOptions(e)},[i,e]);const c=p.useSyncExternalStore(p.useCallback(f=>i.subscribe(In.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=p.useCallback((f,h)=>{i.mutate(f,h).catch(da)},[i]);if(c.error&&Ax(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var Ao=e=>e.type==="checkbox",Wr=e=>e instanceof Date,xa=e=>e==null;const Mx=e=>typeof e=="object";var Mn=e=>!xa(e)&&!Array.isArray(e)&&Mx(e)&&!Wr(e),b_=e=>Mn(e)&&e.target?Ao(e.target)?e.target.checked:e.target.value:e,v_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,y_=(e,a)=>e.has(v_(a)),x_=e=>{const a=e.constructor&&e.constructor.prototype;return Mn(a)&&a.hasOwnProperty("isPrototypeOf")},ph=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ln(e){let a;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(ph&&(e instanceof Blob||i))&&(s||Mn(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!x_(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=ln(e[c]));else return e;return a}var Nu=e=>/^\w*$/.test(e),tn=e=>e===void 0,ju=e=>Array.isArray(e)?e.filter(Boolean):[],gh=e=>ju(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(e,a,s)=>{if(!a||!Mn(e))return s;const i=(Nu(a)?[a]:gh(a)).reduce((c,d)=>xa(c)?c:c[d],e);return tn(i)||i===e?tn(e[a])?s:e[a]:i},_s=e=>typeof e=="boolean",It=(e,a,s)=>{let i=-1;const c=Nu(a)?[a]:gh(a),d=c.length,f=d-1;for(;++i<d;){const h=c[i];let v=s;if(i!==f){const g=e[h];v=Mn(g)||Array.isArray(g)?g:isNaN(+c[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=v,e=e[h]}};const Lv={BLUR:"blur",FOCUS_OUT:"focusout"},Ka={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ux=gt.createContext(null);Ux.displayName="HookFormContext";const Lx=()=>gt.useContext(Ux);var N_=(e,a,s,i=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const f=d;return a._proxyFormState[f]!==Ka.all&&(a._proxyFormState[f]=!i||Ka.all),e[f]}});return c};const bh=typeof window<"u"?gt.useLayoutEffect:gt.useEffect;var Ma=e=>typeof e=="string",zm=(e,a,s,i,c)=>Ma(e)?(i&&a.watch.add(e),$e(s,e,c)):Array.isArray(e)?e.map(d=>(i&&a.watch.add(d),$e(s,d))):(i&&(a.watchAll=!0),s),km=e=>xa(e)||!Mx(e);function os(e,a,s=new WeakSet){if(km(e)||km(a))return e===a;if(Wr(e)&&Wr(a))return e.getTime()===a.getTime();const i=Object.keys(e),c=Object.keys(a);if(i.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of i){const f=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(Wr(f)&&Wr(h)||Mn(f)&&Mn(h)||Array.isArray(f)&&Array.isArray(h)?!os(f,h,s):f!==h)return!1}}return!0}function io(e){const a=Lx(),{control:s=a.control,name:i,defaultValue:c,disabled:d,exact:f,compute:h}=e||{},v=gt.useRef(c),g=gt.useRef(h),y=gt.useRef(void 0),x=gt.useRef(s),j=gt.useRef(i);g.current=h;const[F,E]=gt.useState(()=>{const M=s._getWatch(i,v.current);return g.current?g.current(M):M}),A=gt.useCallback(M=>{const D=zm(i,s._names,M||s._formValues,!1,v.current);return g.current?g.current(D):D},[s._formValues,s._names,i]),R=gt.useCallback(M=>{if(!d){const D=zm(i,s._names,M||s._formValues,!1,v.current);if(g.current){const K=g.current(D);os(K,y.current)||(E(K),y.current=K)}else E(D)}},[s._formValues,s._names,d,i]);bh(()=>((x.current!==s||!os(j.current,i))&&(x.current=s,j.current=i,R()),s._subscribe({name:i,formState:{values:!0},exact:f,callback:M=>{R(M.values)}})),[s,f,i,R]),gt.useEffect(()=>s._removeUnmounted());const $=x.current!==s,z=j.current,te=gt.useMemo(()=>{if(d)return null;const M=!$&&!os(z,i);return $||M?A():null},[d,$,i,z,A]);return te!==null?te:F}var vh=(e,a,s,i,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:c||!0}}:{},Na=e=>Array.isArray(e)?e:[e],Bv=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function Bx(e,a){const s={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],d=a[i];if(c&&Mn(c)&&d){const f=Bx(c,d);Mn(f)&&(s[i]=f)}else e[i]&&(s[i]=d)}return s}var la=e=>Mn(e)&&!Object.keys(e).length,yh=e=>e.type==="file",cs=e=>typeof e=="function",lu=e=>{if(!ph)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},qx=e=>e.type==="select-multiple",xh=e=>e.type==="radio",j_=e=>xh(e)||Ao(e),Qf=e=>lu(e)&&e.isConnected;function S_(e,a){const s=a.slice(0,-1).length;let i=0;for(;i<s;)e=tn(e)?i++:e[a[i++]];return e}function w_(e){for(const a in e)if(e.hasOwnProperty(a)&&!tn(e[a]))return!1;return!0}function _n(e,a){const s=Array.isArray(a)?a:Nu(a)?[a]:gh(a),i=s.length===1?e:S_(e,s),c=s.length-1,d=s[c];return i&&delete i[d],c!==0&&(Mn(i)&&la(i)||Array.isArray(i)&&w_(i))&&_n(e,s.slice(0,-1)),e}var __=e=>{for(const a in e)if(cs(e[a]))return!0;return!1};function Ix(e){return Array.isArray(e)||Mn(e)&&!__(e)}function Mm(e,a={}){for(const s in e)Ix(e[s])?(a[s]=Array.isArray(e[s])?[]:{},Mm(e[s],a[s])):tn(e[s])||(a[s]=!0);return a}function ti(e,a,s){s||(s=Mm(a));for(const i in e)Ix(e[i])?tn(a)||km(s[i])?s[i]=Mm(e[i],Array.isArray(e[i])?[]:{}):ti(e[i],xa(a)?{}:a[i],s[i]):s[i]=!os(e[i],a[i]);return s}const qv={value:!1,isValid:!1},Iv={value:!0,isValid:!0};var $x=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!tn(e[0].attributes.value)?tn(e[0].value)||e[0].value===""?Iv:{value:e[0].value,isValid:!0}:Iv:qv}return qv},Fx=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:i})=>tn(e)?e:a?e===""?NaN:e&&+e:s&&Ma(e)?new Date(e):i?i(e):e;const $v={isValid:!1,value:null};var Hx=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,$v):$v;function Fv(e){const a=e.ref;return yh(a)?a.files:xh(a)?Hx(e.refs).value:qx(a)?[...a.selectedOptions].map(({value:s})=>s):Ao(a)?$x(e.refs).value:Fx(tn(a.value)?e.ref.value:a.value,e)}var E_=(e,a,s,i)=>{const c={};for(const d of e){const f=$e(a,d);f&&It(c,d,f._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:i}},iu=e=>e instanceof RegExp,oo=e=>tn(e)?e:iu(e)?e.source:Mn(e)?iu(e.value)?e.value.source:e.value:e,ni=e=>({isOnSubmit:!e||e===Ka.onSubmit,isOnBlur:e===Ka.onBlur,isOnChange:e===Ka.onChange,isOnAll:e===Ka.all,isOnTouch:e===Ka.onTouched});const Hv="AsyncFunction";var A_=e=>!!e&&!!e.validate&&!!(cs(e.validate)&&e.validate.constructor.name===Hv||Mn(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===Hv)),C_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Um=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const si=(e,a,s,i)=>{for(const c of s||Object.keys(e)){const d=$e(e,c);if(d){const{_f:f,...h}=d;if(f){if(f.refs&&f.refs[0]&&a(f.refs[0],c)&&!i)return!0;if(f.ref&&a(f.ref,f.name)&&!i)return!0;if(si(h,a))break}else if(Mn(h)&&si(h,a))break}}};function Vv(e,a,s){const i=$e(e,s);if(i||Nu(s))return{error:i,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),f=$e(a,d),h=$e(e,d);if(f&&!Array.isArray(f)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var O_=(e,a,s,i)=>{s(e);const{name:c,...d}=e;return la(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(f=>a[f]===(!i||Ka.all))},R_=(e,a,s)=>!e||!a||e===a||Na(e).some(i=>i&&(s?i===a:i.startsWith(a)||a.startsWith(i))),T_=(e,a,s,i,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?i.isOnBlur:c.isOnBlur)?!e:(s?i.isOnChange:c.isOnChange)?e:!0,D_=(e,a)=>!ju($e(e,a)).length&&_n(e,a),Vx=(e,a,s)=>{const i=Na($e(e,s));return It(i,"root",a[s]),It(e,s,i),e};function Zv(e,a,s="validate"){if(Ma(e)||Array.isArray(e)&&e.every(Ma)||_s(e)&&!e)return{type:s,message:Ma(e)?e:"",ref:a}}var Yl=e=>Mn(e)&&!iu(e)?e:{value:e,message:""},Lm=async(e,a,s,i,c,d)=>{const{ref:f,refs:h,required:v,maxLength:g,minLength:y,min:x,max:j,pattern:F,validate:E,name:A,valueAsNumber:R,mount:$}=e._f,z=$e(s,A);if(!$||a.has(A))return{};const te=h?h[0]:f,M=ve=>{c&&te.reportValidity&&(te.setCustomValidity(_s(ve)?"":ve||""),te.reportValidity())},D={},K=xh(f),B=Ao(f),H=K||B,de=(R||yh(f))&&tn(f.value)&&tn(z)||lu(f)&&f.value===""||z===""||Array.isArray(z)&&!z.length,Te=vh.bind(null,A,i,D),Oe=(ve,Ee,ke,De=Hs.maxLength,U=Hs.minLength)=>{const V=ve?Ee:ke;D[A]={type:ve?De:U,message:V,ref:f,...Te(ve?De:U,V)}};if(d?!Array.isArray(z)||!z.length:v&&(!H&&(de||xa(z))||_s(z)&&!z||B&&!$x(h).isValid||K&&!Hx(h).isValid)){const{value:ve,message:Ee}=Ma(v)?{value:!!v,message:v}:Yl(v);if(ve&&(D[A]={type:Hs.required,message:Ee,ref:te,...Te(Hs.required,Ee)},!i))return M(Ee),D}if(!de&&(!xa(x)||!xa(j))){let ve,Ee;const ke=Yl(j),De=Yl(x);if(!xa(z)&&!isNaN(z)){const U=f.valueAsNumber||z&&+z;xa(ke.value)||(ve=U>ke.value),xa(De.value)||(Ee=U<De.value)}else{const U=f.valueAsDate||new Date(z),V=fe=>new Date(new Date().toDateString()+" "+fe),ae=f.type=="time",he=f.type=="week";Ma(ke.value)&&z&&(ve=ae?V(z)>V(ke.value):he?z>ke.value:U>new Date(ke.value)),Ma(De.value)&&z&&(Ee=ae?V(z)<V(De.value):he?z<De.value:U<new Date(De.value))}if((ve||Ee)&&(Oe(!!ve,ke.message,De.message,Hs.max,Hs.min),!i))return M(D[A].message),D}if((g||y)&&!de&&(Ma(z)||d&&Array.isArray(z))){const ve=Yl(g),Ee=Yl(y),ke=!xa(ve.value)&&z.length>+ve.value,De=!xa(Ee.value)&&z.length<+Ee.value;if((ke||De)&&(Oe(ke,ve.message,Ee.message),!i))return M(D[A].message),D}if(F&&!de&&Ma(z)){const{value:ve,message:Ee}=Yl(F);if(iu(ve)&&!z.match(ve)&&(D[A]={type:Hs.pattern,message:Ee,ref:f,...Te(Hs.pattern,Ee)},!i))return M(Ee),D}if(E){if(cs(E)){const ve=await E(z,s),Ee=Zv(ve,te);if(Ee&&(D[A]={...Ee,...Te(Hs.validate,Ee.message)},!i))return M(Ee.message),D}else if(Mn(E)){let ve={};for(const Ee in E){if(!la(ve)&&!i)break;const ke=Zv(await E[Ee](z,s),te,Ee);ke&&(ve={...ke,...Te(Ee,ke.message)},M(ke.message),i&&(D[A]=ve))}if(!la(ve)&&(D[A]={ref:te,...ve},!i))return D}}return M(!0),D};const z_={mode:Ka.onSubmit,reValidateMode:Ka.onChange,shouldFocusError:!0};function k_(e={}){let a={...z_,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:cs(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},i={},c=Mn(a.defaultValues)||Mn(a.values)?ln(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:ln(c),f={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,g=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...y};const j={array:Bv(),state:Bv()},F=a.criteriaMode===Ka.all,E=O=>T=>{clearTimeout(g),g=setTimeout(O,T)},A=async O=>{if(!a.disabled&&(y.isValid||x.isValid||O)){const T=a.resolver?la((await B()).errors):await de(i,!0);T!==s.isValid&&j.state.next({isValid:T})}},R=(O,T)=>{!a.disabled&&(y.isValidating||y.validatingFields||x.isValidating||x.validatingFields)&&((O||Array.from(h.mount)).forEach(S=>{S&&(T?It(s.validatingFields,S,T):_n(s.validatingFields,S))}),j.state.next({validatingFields:s.validatingFields,isValidating:!la(s.validatingFields)}))},$=(O,T=[],S,L,I=!0,J=!0)=>{if(L&&S&&!a.disabled){if(f.action=!0,J&&Array.isArray($e(i,O))){const me=S($e(i,O),L.argA,L.argB);I&&It(i,O,me)}if(J&&Array.isArray($e(s.errors,O))){const me=S($e(s.errors,O),L.argA,L.argB);I&&It(s.errors,O,me),D_(s.errors,O)}if((y.touchedFields||x.touchedFields)&&J&&Array.isArray($e(s.touchedFields,O))){const me=S($e(s.touchedFields,O),L.argA,L.argB);I&&It(s.touchedFields,O,me)}(y.dirtyFields||x.dirtyFields)&&(s.dirtyFields=ti(c,d)),j.state.next({name:O,isDirty:Oe(O,T),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else It(d,O,T)},z=(O,T)=>{It(s.errors,O,T),j.state.next({errors:s.errors})},te=O=>{s.errors=O,j.state.next({errors:s.errors,isValid:!1})},M=(O,T,S,L)=>{const I=$e(i,O);if(I){const J=$e(d,O,tn(S)?$e(c,O):S);tn(J)||L&&L.defaultChecked||T?It(d,O,T?J:Fv(I._f)):ke(O,J),f.mount&&A()}},D=(O,T,S,L,I)=>{let J=!1,me=!1;const _e={name:O};if(!a.disabled){if(!S||L){(y.isDirty||x.isDirty)&&(me=s.isDirty,s.isDirty=_e.isDirty=Oe(),J=me!==_e.isDirty);const G=os($e(c,O),T);me=!!$e(s.dirtyFields,O),G?_n(s.dirtyFields,O):It(s.dirtyFields,O,!0),_e.dirtyFields=s.dirtyFields,J=J||(y.dirtyFields||x.dirtyFields)&&me!==!G}if(S){const G=$e(s.touchedFields,O);G||(It(s.touchedFields,O,S),_e.touchedFields=s.touchedFields,J=J||(y.touchedFields||x.touchedFields)&&G!==S)}J&&I&&j.state.next(_e)}return J?_e:{}},K=(O,T,S,L)=>{const I=$e(s.errors,O),J=(y.isValid||x.isValid)&&_s(T)&&s.isValid!==T;if(a.delayError&&S?(v=E(()=>z(O,S)),v(a.delayError)):(clearTimeout(g),v=null,S?It(s.errors,O,S):_n(s.errors,O)),(S?!os(I,S):I)||!la(L)||J){const me={...L,...J&&_s(T)?{isValid:T}:{},errors:s.errors,name:O};s={...s,...me},j.state.next(me)}},B=async O=>{R(O,!0);const T=await a.resolver(d,a.context,E_(O||h.mount,i,a.criteriaMode,a.shouldUseNativeValidation));return R(O),T},H=async O=>{const{errors:T}=await B(O);if(O)for(const S of O){const L=$e(T,S);L?It(s.errors,S,L):_n(s.errors,S)}else s.errors=T;return T},de=async(O,T,S={valid:!0})=>{for(const L in O){const I=O[L];if(I){const{_f:J,...me}=I;if(J){const _e=h.array.has(J.name),G=I._f&&A_(I._f);G&&y.validatingFields&&R([J.name],!0);const Me=await Lm(I,h.disabled,d,F,a.shouldUseNativeValidation&&!T,_e);if(G&&y.validatingFields&&R([J.name]),Me[J.name]&&(S.valid=!1,T))break;!T&&($e(Me,J.name)?_e?Vx(s.errors,Me,J.name):It(s.errors,J.name,Me[J.name]):_n(s.errors,J.name))}!la(me)&&await de(me,T,S)}}return S.valid},Te=()=>{for(const O of h.unMount){const T=$e(i,O);T&&(T._f.refs?T._f.refs.every(S=>!Qf(S)):!Qf(T._f.ref))&&Le(O)}h.unMount=new Set},Oe=(O,T)=>!a.disabled&&(O&&T&&It(d,O,T),!os(fe(),c)),ve=(O,T,S)=>zm(O,h,{...f.mount?d:tn(T)?c:Ma(O)?{[O]:T}:T},S,T),Ee=O=>ju($e(f.mount?d:c,O,a.shouldUnregister?$e(c,O,[]):[])),ke=(O,T,S={})=>{const L=$e(i,O);let I=T;if(L){const J=L._f;J&&(!J.disabled&&It(d,O,Fx(T,J)),I=lu(J.ref)&&xa(T)?"":T,qx(J.ref)?[...J.ref.options].forEach(me=>me.selected=I.includes(me.value)):J.refs?Ao(J.ref)?J.refs.forEach(me=>{(!me.defaultChecked||!me.disabled)&&(Array.isArray(I)?me.checked=!!I.find(_e=>_e===me.value):me.checked=I===me.value||!!I)}):J.refs.forEach(me=>me.checked=me.value===I):yh(J.ref)?J.ref.value="":(J.ref.value=I,J.ref.type||j.state.next({name:O,values:ln(d)})))}(S.shouldDirty||S.shouldTouch)&&D(O,I,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&he(O)},De=(O,T,S)=>{for(const L in T){if(!T.hasOwnProperty(L))return;const I=T[L],J=O+"."+L,me=$e(i,J);(h.array.has(O)||Mn(I)||me&&!me._f)&&!Wr(I)?De(J,I,S):ke(J,I,S)}},U=(O,T,S={})=>{const L=$e(i,O),I=h.array.has(O),J=ln(T);It(d,O,J),I?(j.array.next({name:O,values:ln(d)}),(y.isDirty||y.dirtyFields||x.isDirty||x.dirtyFields)&&S.shouldDirty&&j.state.next({name:O,dirtyFields:ti(c,d),isDirty:Oe(O,J)})):L&&!L._f&&!xa(J)?De(O,J,S):ke(O,J,S),Um(O,h)&&j.state.next({...s,name:O}),j.state.next({name:f.mount?O:void 0,values:ln(d)})},V=async O=>{f.mount=!0;const T=O.target;let S=T.name,L=!0;const I=$e(i,S),J=G=>{L=Number.isNaN(G)||Wr(G)&&isNaN(G.getTime())||os(G,$e(d,S,G))},me=ni(a.mode),_e=ni(a.reValidateMode);if(I){let G,Me;const qe=T.type?Fv(I._f):b_(O),Xe=O.type===Lv.BLUR||O.type===Lv.FOCUS_OUT,tt=!C_(I._f)&&!a.resolver&&!$e(s.errors,S)&&!I._f.deps||T_(Xe,$e(s.touchedFields,S),s.isSubmitted,_e,me),je=Um(S,h,Xe);It(d,S,qe),Xe?(!T||!T.readOnly)&&(I._f.onBlur&&I._f.onBlur(O),v&&v(0)):I._f.onChange&&I._f.onChange(O);const nt=D(S,qe,Xe),zt=!la(nt)||je;if(!Xe&&j.state.next({name:S,type:O.type,values:ln(d)}),tt)return(y.isValid||x.isValid)&&(a.mode==="onBlur"?Xe&&A():Xe||A()),zt&&j.state.next({name:S,...je?{}:nt});if(!Xe&&je&&j.state.next({...s}),a.resolver){const{errors:yt}=await B([S]);if(J(qe),L){const nn=Vv(s.errors,i,S),En=Vv(yt,i,nn.name||S);G=En.error,S=En.name,Me=la(yt)}}else R([S],!0),G=(await Lm(I,h.disabled,d,F,a.shouldUseNativeValidation))[S],R([S]),J(qe),L&&(G?Me=!1:(y.isValid||x.isValid)&&(Me=await de(i,!0)));L&&(I._f.deps&&(!Array.isArray(I._f.deps)||I._f.deps.length>0)&&he(I._f.deps),K(S,Me,G,nt))}},ae=(O,T)=>{if($e(s.errors,T)&&O.focus)return O.focus(),1},he=async(O,T={})=>{let S,L;const I=Na(O);if(a.resolver){const J=await H(tn(O)?O:I);S=la(J),L=O?!I.some(me=>$e(J,me)):S}else O?(L=(await Promise.all(I.map(async J=>{const me=$e(i,J);return await de(me&&me._f?{[J]:me}:me)}))).every(Boolean),!(!L&&!s.isValid)&&A()):L=S=await de(i);return j.state.next({...!Ma(O)||(y.isValid||x.isValid)&&S!==s.isValid?{}:{name:O},...a.resolver||!O?{isValid:S}:{},errors:s.errors}),T.shouldFocus&&!L&&si(i,ae,O?I:h.mount),L},fe=(O,T)=>{let S={...f.mount?d:c};return T&&(S=Bx(T.dirtyFields?s.dirtyFields:s.touchedFields,S)),tn(O)?S:Ma(O)?$e(S,O):O.map(L=>$e(S,L))},_=(O,T)=>({invalid:!!$e((T||s).errors,O),isDirty:!!$e((T||s).dirtyFields,O),error:$e((T||s).errors,O),isValidating:!!$e(s.validatingFields,O),isTouched:!!$e((T||s).touchedFields,O)}),X=O=>{O&&Na(O).forEach(T=>_n(s.errors,T)),j.state.next({errors:O?s.errors:{}})},ce=(O,T,S)=>{const L=($e(i,O,{_f:{}})._f||{}).ref,I=$e(s.errors,O)||{},{ref:J,message:me,type:_e,...G}=I;It(s.errors,O,{...G,...T,ref:L}),j.state.next({name:O,errors:s.errors,isValid:!1}),S&&S.shouldFocus&&L&&L.focus&&L.focus()},Y=(O,T)=>cs(O)?j.state.subscribe({next:S=>"values"in S&&O(ve(void 0,T),S)}):ve(O,T,!0),ye=O=>j.state.subscribe({next:T=>{R_(O.name,T.name,O.exact)&&O_(T,O.formState||y,Ie,O.reRenderRoot)&&O.callback({values:{...d},...s,...T,defaultValues:c})}}).unsubscribe,Se=O=>(f.mount=!0,x={...x,...O.formState},ye({...O,formState:x})),Le=(O,T={})=>{for(const S of O?Na(O):h.mount)h.mount.delete(S),h.array.delete(S),T.keepValue||(_n(i,S),_n(d,S)),!T.keepError&&_n(s.errors,S),!T.keepDirty&&_n(s.dirtyFields,S),!T.keepTouched&&_n(s.touchedFields,S),!T.keepIsValidating&&_n(s.validatingFields,S),!a.shouldUnregister&&!T.keepDefaultValue&&_n(c,S);j.state.next({values:ln(d)}),j.state.next({...s,...T.keepDirty?{isDirty:Oe()}:{}}),!T.keepIsValid&&A()},Ve=({disabled:O,name:T})=>{(_s(O)&&f.mount||O||h.disabled.has(T))&&(O?h.disabled.add(T):h.disabled.delete(T))},pe=(O,T={})=>{let S=$e(i,O);const L=_s(T.disabled)||_s(a.disabled);return It(i,O,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:O}},name:O,mount:!0,...T}}),h.mount.add(O),S?Ve({disabled:_s(T.disabled)?T.disabled:a.disabled,name:O}):M(O,!0,T.value),{...L?{disabled:T.disabled||a.disabled}:{},...a.progressive?{required:!!T.required,min:oo(T.min),max:oo(T.max),minLength:oo(T.minLength),maxLength:oo(T.maxLength),pattern:oo(T.pattern)}:{},name:O,onChange:V,onBlur:V,ref:I=>{if(I){pe(O,T),S=$e(i,O);const J=tn(I.value)&&I.querySelectorAll&&I.querySelectorAll("input,select,textarea")[0]||I,me=j_(J),_e=S._f.refs||[];if(me?_e.find(G=>G===J):J===S._f.ref)return;It(i,O,{_f:{...S._f,...me?{refs:[..._e.filter(Qf),J,...Array.isArray($e(c,O))?[{}]:[]],ref:{type:J.type,name:O}}:{ref:J}}}),M(O,!1,void 0,J)}else S=$e(i,O,{}),S._f&&(S._f.mount=!1),(a.shouldUnregister||T.shouldUnregister)&&!(y_(h.array,O)&&f.action)&&h.unMount.add(O)}}},Be=()=>a.shouldFocusError&&si(i,ae,h.mount),Ze=O=>{_s(O)&&(j.state.next({disabled:O}),si(i,(T,S)=>{const L=$e(i,S);L&&(T.disabled=L._f.disabled||O,Array.isArray(L._f.refs)&&L._f.refs.forEach(I=>{I.disabled=L._f.disabled||O}))},0,!1))},Je=(O,T)=>async S=>{let L;S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist());let I=ln(d);if(j.state.next({isSubmitting:!0}),a.resolver){const{errors:J,values:me}=await B();s.errors=J,I=ln(me)}else await de(i);if(h.disabled.size)for(const J of h.disabled)_n(I,J);if(_n(s.errors,"root"),la(s.errors)){j.state.next({errors:{}});try{await O(I,S)}catch(J){L=J}}else T&&await T({...s.errors},S),Be(),setTimeout(Be);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:la(s.errors)&&!L,submitCount:s.submitCount+1,errors:s.errors}),L)throw L},ct=(O,T={})=>{$e(i,O)&&(tn(T.defaultValue)?U(O,ln($e(c,O))):(U(O,T.defaultValue),It(c,O,ln(T.defaultValue))),T.keepTouched||_n(s.touchedFields,O),T.keepDirty||(_n(s.dirtyFields,O),s.isDirty=T.defaultValue?Oe(O,ln($e(c,O))):Oe()),T.keepError||(_n(s.errors,O),y.isValid&&A()),j.state.next({...s}))},ze=(O,T={})=>{const S=O?ln(O):c,L=ln(S),I=la(O),J=I?c:L;if(T.keepDefaultValues||(c=S),!T.keepValues){if(T.keepDirtyValues){const me=new Set([...h.mount,...Object.keys(ti(c,d))]);for(const _e of Array.from(me))$e(s.dirtyFields,_e)?It(J,_e,$e(d,_e)):U(_e,$e(J,_e))}else{if(ph&&tn(O))for(const me of h.mount){const _e=$e(i,me);if(_e&&_e._f){const G=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(lu(G)){const Me=G.closest("form");if(Me){Me.reset();break}}}}if(T.keepFieldsRef)for(const me of h.mount)U(me,$e(J,me));else i={}}d=a.shouldUnregister?T.keepDefaultValues?ln(c):{}:ln(J),j.array.next({values:{...J}}),j.state.next({values:{...J}})}h={mount:T.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!y.isValid||!!T.keepIsValid||!!T.keepDirtyValues||!a.shouldUnregister&&!la(J),f.watch=!!a.shouldUnregister,j.state.next({submitCount:T.keepSubmitCount?s.submitCount:0,isDirty:I?!1:T.keepDirty?s.isDirty:!!(T.keepDefaultValues&&!os(O,c)),isSubmitted:T.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:I?{}:T.keepDirtyValues?T.keepDefaultValues&&d?ti(c,d):s.dirtyFields:T.keepDefaultValues&&O?ti(c,O):T.keepDirty?s.dirtyFields:{},touchedFields:T.keepTouched?s.touchedFields:{},errors:T.keepErrors?s.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Pe=(O,T)=>ze(cs(O)?O(d):O,T),ue=(O,T={})=>{const S=$e(i,O),L=S&&S._f;if(L){const I=L.refs?L.refs[0]:L.ref;I.focus&&(I.focus(),T.shouldSelect&&cs(I.select)&&I.select())}},Ie=O=>{s={...s,...O}},We={control:{register:pe,unregister:Le,getFieldState:_,handleSubmit:Je,setError:ce,_subscribe:ye,_runSchema:B,_focusError:Be,_getWatch:ve,_getDirty:Oe,_setValid:A,_setFieldArray:$,_setDisabledField:Ve,_setErrors:te,_getFieldArray:Ee,_reset:ze,_resetDefaultValues:()=>cs(a.defaultValues)&&a.defaultValues().then(O=>{Pe(O,a.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:Te,_disableForm:Ze,_subjects:j,_proxyFormState:y,get _fields(){return i},get _formValues(){return d},get _state(){return f},set _state(O){f=O},get _defaultValues(){return c},get _names(){return h},set _names(O){h=O},get _formState(){return s},get _options(){return a},set _options(O){a={...a,...O}}},subscribe:Se,trigger:he,register:pe,handleSubmit:Je,watch:Y,setValue:U,getValues:fe,reset:Pe,resetField:ct,clearErrors:X,unregister:Le,setError:ce,setFocus:ue,getFieldState:_};return{...We,formControl:We}}var xr=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},Yf=(e,a,s={})=>s.shouldFocus||tn(s.shouldFocus)?s.focusName||`${e}.${tn(s.focusIndex)?a:s.focusIndex}.`:"",Kf=(e,a)=>[...e,...Na(a)],Xf=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Jf(e,a,s){return[...e.slice(0,a),...Na(s),...e.slice(a)]}var Wf=(e,a,s)=>Array.isArray(e)?(tn(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],em=(e,a)=>[...Na(a),...Na(e)];function M_(e,a){let s=0;const i=[...e];for(const c of a)i.splice(c-s,1),s++;return ju(i).length?i:[]}var tm=(e,a)=>tn(a)?[]:M_(e,Na(a).sort((s,i)=>s-i)),nm=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},Gv=(e,a,s)=>(e[a]=s,e);function U_(e){const a=Lx(),{control:s=a.control,name:i,keyName:c="id",shouldUnregister:d,rules:f}=e,[h,v]=gt.useState(s._getFieldArray(i)),g=gt.useRef(s._getFieldArray(i).map(xr)),y=gt.useRef(!1);s._names.array.add(i),gt.useMemo(()=>f&&h.length>=0&&s.register(i,f),[s,i,h.length,f]),bh(()=>s._subjects.array.subscribe({next:({values:M,name:D})=>{if(D===i||!D){const K=$e(M,i);Array.isArray(K)&&(v(K),g.current=K.map(xr))}}}).unsubscribe,[s,i]);const x=gt.useCallback(M=>{y.current=!0,s._setFieldArray(i,M)},[s,i]),j=(M,D)=>{const K=Na(ln(M)),B=Kf(s._getFieldArray(i),K);s._names.focus=Yf(i,B.length-1,D),g.current=Kf(g.current,K.map(xr)),x(B),v(B),s._setFieldArray(i,B,Kf,{argA:Xf(M)})},F=(M,D)=>{const K=Na(ln(M)),B=em(s._getFieldArray(i),K);s._names.focus=Yf(i,0,D),g.current=em(g.current,K.map(xr)),x(B),v(B),s._setFieldArray(i,B,em,{argA:Xf(M)})},E=M=>{const D=tm(s._getFieldArray(i),M);g.current=tm(g.current,M),x(D),v(D),!Array.isArray($e(s._fields,i))&&It(s._fields,i,void 0),s._setFieldArray(i,D,tm,{argA:M})},A=(M,D,K)=>{const B=Na(ln(D)),H=Jf(s._getFieldArray(i),M,B);s._names.focus=Yf(i,M,K),g.current=Jf(g.current,M,B.map(xr)),x(H),v(H),s._setFieldArray(i,H,Jf,{argA:M,argB:Xf(D)})},R=(M,D)=>{const K=s._getFieldArray(i);nm(K,M,D),nm(g.current,M,D),x(K),v(K),s._setFieldArray(i,K,nm,{argA:M,argB:D},!1)},$=(M,D)=>{const K=s._getFieldArray(i);Wf(K,M,D),Wf(g.current,M,D),x(K),v(K),s._setFieldArray(i,K,Wf,{argA:M,argB:D},!1)},z=(M,D)=>{const K=ln(D),B=Gv(s._getFieldArray(i),M,K);g.current=[...B].map((H,de)=>!H||de===M?xr():g.current[de]),x(B),v([...B]),s._setFieldArray(i,B,Gv,{argA:M,argB:K},!0,!1)},te=M=>{const D=Na(ln(M));g.current=D.map(xr),x([...D]),v([...D]),s._setFieldArray(i,[...D],K=>K,{},!0,!1)};return gt.useEffect(()=>{if(s._state.action=!1,Um(i,s._names)&&s._subjects.state.next({...s._formState}),y.current&&(!ni(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!ni(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([i]).then(M=>{const D=$e(M.errors,i),K=$e(s._formState.errors,i);(K?!D&&K.type||D&&(K.type!==D.type||K.message!==D.message):D&&D.type)&&(D?It(s._formState.errors,i,D):_n(s._formState.errors,i),s._subjects.state.next({errors:s._formState.errors}))});else{const M=$e(s._fields,i);M&&M._f&&!(ni(s._options.reValidateMode).isOnSubmit&&ni(s._options.mode).isOnSubmit)&&Lm(M,s._names.disabled,s._formValues,s._options.criteriaMode===Ka.all,s._options.shouldUseNativeValidation,!0).then(D=>!la(D)&&s._subjects.state.next({errors:Vx(s._formState.errors,D,i)}))}s._subjects.state.next({name:i,values:ln(s._formValues)}),s._names.focus&&si(s._fields,(M,D)=>{if(s._names.focus&&D.startsWith(s._names.focus)&&M.focus)return M.focus(),1}),s._names.focus="",s._setValid(),y.current=!1},[h,i,s]),gt.useEffect(()=>(!$e(s._formValues,i)&&s._setFieldArray(i),()=>{const M=(D,K)=>{const B=$e(s._fields,D);B&&B._f&&(B._f.mount=K)};s._options.shouldUnregister||d?s.unregister(i):M(i,!1)}),[i,s,c,d]),{swap:gt.useCallback(R,[x,i,s]),move:gt.useCallback($,[x,i,s]),prepend:gt.useCallback(F,[x,i,s]),append:gt.useCallback(j,[x,i,s]),remove:gt.useCallback(E,[x,i,s]),insert:gt.useCallback(A,[x,i,s]),update:gt.useCallback(z,[x,i,s]),replace:gt.useCallback(te,[x,i,s]),fields:gt.useMemo(()=>h.map((M,D)=>({...M,[c]:g.current[D]||xr()})),[h,c])}}function Su(e={}){const a=gt.useRef(void 0),s=gt.useRef(void 0),[i,c]=gt.useState({isDirty:!1,isValidating:!1,isLoading:cs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:cs(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:i},e.defaultValues&&!cs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:f,...h}=k_(e);a.current={...h,formState:i}}const d=a.current.control;return d._options=e,bh(()=>{const f=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,f},[d]),gt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),gt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),gt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),gt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),gt.useEffect(()=>{if(d._proxyFormState.isDirty){const f=d._getDirty();f!==i.isDirty&&d._subjects.state.next({isDirty:f})}},[d,i.isDirty]),gt.useEffect(()=>{e.values&&!os(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(f=>({...f}))):d._resetDefaultValues()},[d,e.values]),gt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=N_(i,d),a.current}function Zx(e,a){return function(){return e.apply(a,arguments)}}const{toString:L_}=Object.prototype,{getPrototypeOf:Nh}=Object,{iterator:wu,toStringTag:Gx}=Symbol,_u=(e=>a=>{const s=L_.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),us=e=>(e=e.toLowerCase(),a=>_u(a)===e),Eu=e=>a=>typeof a===e,{isArray:mi}=Array,li=Eu("undefined");function Co(e){return e!==null&&!li(e)&&e.constructor!==null&&!li(e.constructor)&&ja(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Px=us("ArrayBuffer");function B_(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&Px(e.buffer),a}const q_=Eu("string"),ja=Eu("function"),Qx=Eu("number"),Oo=e=>e!==null&&typeof e=="object",I_=e=>e===!0||e===!1,eu=e=>{if(_u(e)!=="object")return!1;const a=Nh(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Gx in e)&&!(wu in e)},$_=e=>{if(!Oo(e)||Co(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},F_=us("Date"),H_=us("File"),V_=us("Blob"),Z_=us("FileList"),G_=e=>Oo(e)&&ja(e.pipe),P_=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||ja(e.append)&&((a=_u(e))==="formdata"||a==="object"&&ja(e.toString)&&e.toString()==="[object FormData]"))},Q_=us("URLSearchParams"),[Y_,K_,X_,J_]=["ReadableStream","Request","Response","Headers"].map(us),W_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ro(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let i,c;if(typeof e!="object"&&(e=[e]),mi(e))for(i=0,c=e.length;i<c;i++)a.call(null,e[i],i,e);else{if(Co(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let h;for(i=0;i<f;i++)h=d[i],a.call(null,e[h],h,e)}}function Yx(e,a){if(Co(e))return null;a=a.toLowerCase();const s=Object.keys(e);let i=s.length,c;for(;i-- >0;)if(c=s[i],a===c.toLowerCase())return c;return null}const el=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Kx=e=>!li(e)&&e!==el;function Bm(){const{caseless:e,skipUndefined:a}=Kx(this)&&this||{},s={},i=(c,d)=>{const f=e&&Yx(s,d)||d;eu(s[f])&&eu(c)?s[f]=Bm(s[f],c):eu(c)?s[f]=Bm({},c):mi(c)?s[f]=c.slice():(!a||!li(c))&&(s[f]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Ro(arguments[c],i);return s}const e1=(e,a,s,{allOwnKeys:i}={})=>(Ro(a,(c,d)=>{s&&ja(c)?e[d]=Zx(c,s):e[d]=c},{allOwnKeys:i}),e),t1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),n1=(e,a,s,i)=>{e.prototype=Object.create(a.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},a1=(e,a,s,i)=>{let c,d,f;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!i||i(f,e,a))&&!h[f]&&(a[f]=e[f],h[f]=!0);e=s!==!1&&Nh(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},s1=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const i=e.indexOf(a,s);return i!==-1&&i===s},r1=e=>{if(!e)return null;if(mi(e))return e;let a=e.length;if(!Qx(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},l1=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Nh(Uint8Array)),i1=(e,a)=>{const i=(e&&e[wu]).call(e);let c;for(;(c=i.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},o1=(e,a)=>{let s;const i=[];for(;(s=e.exec(a))!==null;)i.push(s);return i},c1=us("HTMLFormElement"),u1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,c){return i.toUpperCase()+c}),Pv=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),d1=us("RegExp"),Xx=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),i={};Ro(s,(c,d)=>{let f;(f=a(c,d,e))!==!1&&(i[d]=f||c)}),Object.defineProperties(e,i)},f1=e=>{Xx(e,(a,s)=>{if(ja(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=e[s];if(ja(i)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},m1=(e,a)=>{const s={},i=c=>{c.forEach(d=>{s[d]=!0})};return mi(e)?i(e):i(String(e).split(a)),s},h1=()=>{},p1=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function g1(e){return!!(e&&ja(e.append)&&e[Gx]==="FormData"&&e[wu])}const b1=e=>{const a=new Array(10),s=(i,c)=>{if(Oo(i)){if(a.indexOf(i)>=0)return;if(Co(i))return i;if(!("toJSON"in i)){a[c]=i;const d=mi(i)?[]:{};return Ro(i,(f,h)=>{const v=s(f,c+1);!li(v)&&(d[h]=v)}),a[c]=void 0,d}}return i};return s(e,0)},v1=us("AsyncFunction"),y1=e=>e&&(Oo(e)||ja(e))&&ja(e.then)&&ja(e.catch),Jx=((e,a)=>e?setImmediate:a?((s,i)=>(el.addEventListener("message",({source:c,data:d})=>{c===el&&d===s&&i.length&&i.shift()()},!1),c=>{i.push(c),el.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ja(el.postMessage)),x1=typeof queueMicrotask<"u"?queueMicrotask.bind(el):typeof process<"u"&&process.nextTick||Jx,N1=e=>e!=null&&ja(e[wu]),ie={isArray:mi,isArrayBuffer:Px,isBuffer:Co,isFormData:P_,isArrayBufferView:B_,isString:q_,isNumber:Qx,isBoolean:I_,isObject:Oo,isPlainObject:eu,isEmptyObject:$_,isReadableStream:Y_,isRequest:K_,isResponse:X_,isHeaders:J_,isUndefined:li,isDate:F_,isFile:H_,isBlob:V_,isRegExp:d1,isFunction:ja,isStream:G_,isURLSearchParams:Q_,isTypedArray:l1,isFileList:Z_,forEach:Ro,merge:Bm,extend:e1,trim:W_,stripBOM:t1,inherits:n1,toFlatObject:a1,kindOf:_u,kindOfTest:us,endsWith:s1,toArray:r1,forEachEntry:i1,matchAll:o1,isHTMLForm:c1,hasOwnProperty:Pv,hasOwnProp:Pv,reduceDescriptors:Xx,freezeMethods:f1,toObjectSet:m1,toCamelCase:u1,noop:h1,toFiniteNumber:p1,findKey:Yx,global:el,isContextDefined:Kx,isSpecCompliantForm:g1,toJSONObject:b1,isAsyncFn:v1,isThenable:y1,setImmediate:Jx,asap:x1,isIterable:N1};function ft(e,a,s,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}ie.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const Wx=ft.prototype,e0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{e0[e]={value:e}});Object.defineProperties(ft,e0);Object.defineProperty(Wx,"isAxiosError",{value:!0});ft.from=(e,a,s,i,c,d)=>{const f=Object.create(Wx);ie.toFlatObject(e,f,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const h=e&&e.message?e.message:"Error",v=a==null&&e?e.code:a;return ft.call(f,h,v,s,i,c),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",d&&Object.assign(f,d),f};const j1=null;function qm(e){return ie.isPlainObject(e)||ie.isArray(e)}function t0(e){return ie.endsWith(e,"[]")?e.slice(0,-2):e}function Qv(e,a,s){return e?e.concat(a).map(function(c,d){return c=t0(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function S1(e){return ie.isArray(e)&&!e.some(qm)}const w1=ie.toFlatObject(ie,{},null,function(a){return/^is[A-Z]/.test(a)});function Au(e,a,s){if(!ie.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=ie.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,R){return!ie.isUndefined(R[A])});const i=s.metaTokens,c=s.visitor||y,d=s.dots,f=s.indexes,v=(s.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(a);if(!ie.isFunction(c))throw new TypeError("visitor must be a function");function g(E){if(E===null)return"";if(ie.isDate(E))return E.toISOString();if(ie.isBoolean(E))return E.toString();if(!v&&ie.isBlob(E))throw new ft("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(E)||ie.isTypedArray(E)?v&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,A,R){let $=E;if(E&&!R&&typeof E=="object"){if(ie.endsWith(A,"{}"))A=i?A:A.slice(0,-2),E=JSON.stringify(E);else if(ie.isArray(E)&&S1(E)||(ie.isFileList(E)||ie.endsWith(A,"[]"))&&($=ie.toArray(E)))return A=t0(A),$.forEach(function(te,M){!(ie.isUndefined(te)||te===null)&&a.append(f===!0?Qv([A],M,d):f===null?A:A+"[]",g(te))}),!1}return qm(E)?!0:(a.append(Qv(R,A,d),g(E)),!1)}const x=[],j=Object.assign(w1,{defaultVisitor:y,convertValue:g,isVisitable:qm});function F(E,A){if(!ie.isUndefined(E)){if(x.indexOf(E)!==-1)throw Error("Circular reference detected in "+A.join("."));x.push(E),ie.forEach(E,function($,z){(!(ie.isUndefined($)||$===null)&&c.call(a,$,ie.isString(z)?z.trim():z,A,j))===!0&&F($,A?A.concat(z):[z])}),x.pop()}}if(!ie.isObject(e))throw new TypeError("data must be an object");return F(e),a}function Yv(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return a[i]})}function jh(e,a){this._pairs=[],e&&Au(e,this,a)}const n0=jh.prototype;n0.append=function(a,s){this._pairs.push([a,s])};n0.toString=function(a){const s=a?function(i){return a.call(this,i,Yv)}:Yv;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function _1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function a0(e,a,s){if(!a)return e;const i=s&&s.encode||_1;ie.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=ie.isURLSearchParams(a)?a.toString():new jh(a,s).toString(i),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class Kv{constructor(){this.handlers=[]}use(a,s,i){return this.handlers.push({fulfilled:a,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ie.forEach(this.handlers,function(i){i!==null&&a(i)})}}const s0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E1=typeof URLSearchParams<"u"?URLSearchParams:jh,A1=typeof FormData<"u"?FormData:null,C1=typeof Blob<"u"?Blob:null,O1={isBrowser:!0,classes:{URLSearchParams:E1,FormData:A1,Blob:C1},protocols:["http","https","file","blob","url","data"]},Sh=typeof window<"u"&&typeof document<"u",Im=typeof navigator=="object"&&navigator||void 0,R1=Sh&&(!Im||["ReactNative","NativeScript","NS"].indexOf(Im.product)<0),T1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D1=Sh&&window.location.href||"http://localhost",z1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sh,hasStandardBrowserEnv:R1,hasStandardBrowserWebWorkerEnv:T1,navigator:Im,origin:D1},Symbol.toStringTag,{value:"Module"})),ia={...z1,...O1};function k1(e,a){return Au(e,new ia.classes.URLSearchParams,{visitor:function(s,i,c,d){return ia.isNode&&ie.isBuffer(s)?(this.append(i,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function M1(e){return ie.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function U1(e){const a={},s=Object.keys(e);let i;const c=s.length;let d;for(i=0;i<c;i++)d=s[i],a[d]=e[d];return a}function r0(e){function a(s,i,c,d){let f=s[d++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),v=d>=s.length;return f=!f&&ie.isArray(c)?c.length:f,v?(ie.hasOwnProp(c,f)?c[f]=[c[f],i]:c[f]=i,!h):((!c[f]||!ie.isObject(c[f]))&&(c[f]=[]),a(s,i,c[f],d)&&ie.isArray(c[f])&&(c[f]=U1(c[f])),!h)}if(ie.isFormData(e)&&ie.isFunction(e.entries)){const s={};return ie.forEachEntry(e,(i,c)=>{a(M1(i),c,s,0)}),s}return null}function L1(e,a,s){if(ie.isString(e))try{return(a||JSON.parse)(e),ie.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(e)}const To={transitional:s0,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const i=s.getContentType()||"",c=i.indexOf("application/json")>-1,d=ie.isObject(a);if(d&&ie.isHTMLForm(a)&&(a=new FormData(a)),ie.isFormData(a))return c?JSON.stringify(r0(a)):a;if(ie.isArrayBuffer(a)||ie.isBuffer(a)||ie.isStream(a)||ie.isFile(a)||ie.isBlob(a)||ie.isReadableStream(a))return a;if(ie.isArrayBufferView(a))return a.buffer;if(ie.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return k1(a,this.formSerializer).toString();if((h=ie.isFileList(a))||i.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Au(h?{"files[]":a}:a,v&&new v,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),L1(a)):a}],transformResponse:[function(a){const s=this.transitional||To.transitional,i=s&&s.forcedJSONParsing,c=this.responseType==="json";if(ie.isResponse(a)||ie.isReadableStream(a))return a;if(a&&ie.isString(a)&&(i&&!this.responseType||c)){const f=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?ft.from(h,ft.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ia.classes.FormData,Blob:ia.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],e=>{To.headers[e]={}});const B1=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),q1=e=>{const a={};let s,i,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),s=f.substring(0,c).trim().toLowerCase(),i=f.substring(c+1).trim(),!(!s||a[s]&&B1[s])&&(s==="set-cookie"?a[s]?a[s].push(i):a[s]=[i]:a[s]=a[s]?a[s]+", "+i:i)}),a},Xv=Symbol("internals");function co(e){return e&&String(e).trim().toLowerCase()}function tu(e){return e===!1||e==null?e:ie.isArray(e)?e.map(tu):String(e)}function I1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(e);)a[i[1]]=i[2];return a}const $1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function am(e,a,s,i,c){if(ie.isFunction(i))return i.call(this,a,s);if(c&&(a=s),!!ie.isString(a)){if(ie.isString(i))return a.indexOf(i)!==-1;if(ie.isRegExp(i))return i.test(a)}}function F1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,i)=>s.toUpperCase()+i)}function H1(e,a){const s=ie.toCamelCase(" "+a);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+s,{value:function(c,d,f){return this[i].call(this,a,c,d,f)},configurable:!0})})}let Sa=class{constructor(a){a&&this.set(a)}set(a,s,i){const c=this;function d(h,v,g){const y=co(v);if(!y)throw new Error("header name must be a non-empty string");const x=ie.findKey(c,y);(!x||c[x]===void 0||g===!0||g===void 0&&c[x]!==!1)&&(c[x||v]=tu(h))}const f=(h,v)=>ie.forEach(h,(g,y)=>d(g,y,v));if(ie.isPlainObject(a)||a instanceof this.constructor)f(a,s);else if(ie.isString(a)&&(a=a.trim())&&!$1(a))f(q1(a),s);else if(ie.isObject(a)&&ie.isIterable(a)){let h={},v,g;for(const y of a){if(!ie.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[g=y[0]]=(v=h[g])?ie.isArray(v)?[...v,y[1]]:[v,y[1]]:y[1]}f(h,s)}else a!=null&&d(s,a,i);return this}get(a,s){if(a=co(a),a){const i=ie.findKey(this,a);if(i){const c=this[i];if(!s)return c;if(s===!0)return I1(c);if(ie.isFunction(s))return s.call(this,c,i);if(ie.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=co(a),a){const i=ie.findKey(this,a);return!!(i&&this[i]!==void 0&&(!s||am(this,this[i],i,s)))}return!1}delete(a,s){const i=this;let c=!1;function d(f){if(f=co(f),f){const h=ie.findKey(i,f);h&&(!s||am(i,i[h],h,s))&&(delete i[h],c=!0)}}return ie.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let i=s.length,c=!1;for(;i--;){const d=s[i];(!a||am(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,i={};return ie.forEach(this,(c,d)=>{const f=ie.findKey(i,d);if(f){s[f]=tu(c),delete s[d];return}const h=a?F1(d):String(d).trim();h!==d&&delete s[d],s[h]=tu(c),i[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return ie.forEach(this,(i,c)=>{i!=null&&i!==!1&&(s[c]=a&&ie.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const i=new this(a);return s.forEach(c=>i.set(c)),i}static accessor(a){const i=(this[Xv]=this[Xv]={accessors:{}}).accessors,c=this.prototype;function d(f){const h=co(f);i[h]||(H1(c,f),i[h]=!0)}return ie.isArray(a)?a.forEach(d):d(a),this}};Sa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Sa.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(i){this[s]=i}}});ie.freezeMethods(Sa);function sm(e,a){const s=this||To,i=a||s,c=Sa.from(i.headers);let d=i.data;return ie.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function l0(e){return!!(e&&e.__CANCEL__)}function hi(e,a,s){ft.call(this,e??"canceled",ft.ERR_CANCELED,a,s),this.name="CanceledError"}ie.inherits(hi,ft,{__CANCEL__:!0});function i0(e,a,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?e(s):a(new ft("Request failed with status code "+s.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function V1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function Z1(e,a){e=e||10;const s=new Array(e),i=new Array(e);let c=0,d=0,f;return a=a!==void 0?a:1e3,function(v){const g=Date.now(),y=i[d];f||(f=g),s[c]=v,i[c]=g;let x=d,j=0;for(;x!==c;)j+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),g-f<a)return;const F=y&&g-y;return F?Math.round(j*1e3/F):void 0}}function G1(e,a){let s=0,i=1e3/a,c,d;const f=(g,y=Date.now())=>{s=y,c=null,d&&(clearTimeout(d),d=null),e(...g)};return[(...g)=>{const y=Date.now(),x=y-s;x>=i?f(g,y):(c=g,d||(d=setTimeout(()=>{d=null,f(c)},i-x)))},()=>c&&f(c)]}const ou=(e,a,s=3)=>{let i=0;const c=Z1(50,250);return G1(d=>{const f=d.loaded,h=d.lengthComputable?d.total:void 0,v=f-i,g=c(v),y=f<=h;i=f;const x={loaded:f,total:h,progress:h?f/h:void 0,bytes:v,rate:g||void 0,estimated:g&&h&&y?(h-f)/g:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},Jv=(e,a)=>{const s=e!=null;return[i=>a[0]({lengthComputable:s,total:e,loaded:i}),a[1]]},Wv=e=>(...a)=>ie.asap(()=>e(...a)),P1=ia.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,ia.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(ia.origin),ia.navigator&&/(msie|trident)/i.test(ia.navigator.userAgent)):()=>!0,Q1=ia.hasStandardBrowserEnv?{write(e,a,s,i,c,d,f){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];ie.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),ie.isString(i)&&h.push(`path=${i}`),ie.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),ie.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Y1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function K1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function o0(e,a,s){let i=!Y1(a);return e&&(i||s==!1)?K1(e,a):a}const ey=e=>e instanceof Sa?{...e}:e;function rl(e,a){a=a||{};const s={};function i(g,y,x,j){return ie.isPlainObject(g)&&ie.isPlainObject(y)?ie.merge.call({caseless:j},g,y):ie.isPlainObject(y)?ie.merge({},y):ie.isArray(y)?y.slice():y}function c(g,y,x,j){if(ie.isUndefined(y)){if(!ie.isUndefined(g))return i(void 0,g,x,j)}else return i(g,y,x,j)}function d(g,y){if(!ie.isUndefined(y))return i(void 0,y)}function f(g,y){if(ie.isUndefined(y)){if(!ie.isUndefined(g))return i(void 0,g)}else return i(void 0,y)}function h(g,y,x){if(x in a)return i(g,y);if(x in e)return i(void 0,g)}const v={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(g,y,x)=>c(ey(g),ey(y),x,!0)};return ie.forEach(Object.keys({...e,...a}),function(y){const x=v[y]||c,j=x(e[y],a[y],y);ie.isUndefined(j)&&x!==h||(s[y]=j)}),s}const c0=e=>{const a=rl({},e);let{data:s,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:h}=a;if(a.headers=f=Sa.from(f),a.url=a0(o0(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),ie.isFormData(s)){if(ia.hasStandardBrowserEnv||ia.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(ie.isFunction(s.getHeaders)){const v=s.getHeaders(),g=["content-type","content-length"];Object.entries(v).forEach(([y,x])=>{g.includes(y.toLowerCase())&&f.set(y,x)})}}if(ia.hasStandardBrowserEnv&&(i&&ie.isFunction(i)&&(i=i(a)),i||i!==!1&&P1(a.url))){const v=c&&d&&Q1.read(d);v&&f.set(c,v)}return a},X1=typeof XMLHttpRequest<"u",J1=X1&&function(e){return new Promise(function(s,i){const c=c0(e);let d=c.data;const f=Sa.from(c.headers).normalize();let{responseType:h,onUploadProgress:v,onDownloadProgress:g}=c,y,x,j,F,E;function A(){F&&F(),E&&E(),c.cancelToken&&c.cancelToken.unsubscribe(y),c.signal&&c.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(c.method.toUpperCase(),c.url,!0),R.timeout=c.timeout;function $(){if(!R)return;const te=Sa.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),D={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:te,config:e,request:R};i0(function(B){s(B),A()},function(B){i(B),A()},D),R=null}"onloadend"in R?R.onloadend=$:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout($)},R.onabort=function(){R&&(i(new ft("Request aborted",ft.ECONNABORTED,e,R)),R=null)},R.onerror=function(M){const D=M&&M.message?M.message:"Network Error",K=new ft(D,ft.ERR_NETWORK,e,R);K.event=M||null,i(K),R=null},R.ontimeout=function(){let M=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const D=c.transitional||s0;c.timeoutErrorMessage&&(M=c.timeoutErrorMessage),i(new ft(M,D.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,e,R)),R=null},d===void 0&&f.setContentType(null),"setRequestHeader"in R&&ie.forEach(f.toJSON(),function(M,D){R.setRequestHeader(D,M)}),ie.isUndefined(c.withCredentials)||(R.withCredentials=!!c.withCredentials),h&&h!=="json"&&(R.responseType=c.responseType),g&&([j,E]=ou(g,!0),R.addEventListener("progress",j)),v&&R.upload&&([x,F]=ou(v),R.upload.addEventListener("progress",x),R.upload.addEventListener("loadend",F)),(c.cancelToken||c.signal)&&(y=te=>{R&&(i(!te||te.type?new hi(null,e,R):te),R.abort(),R=null)},c.cancelToken&&c.cancelToken.subscribe(y),c.signal&&(c.signal.aborted?y():c.signal.addEventListener("abort",y)));const z=V1(c.url);if(z&&ia.protocols.indexOf(z)===-1){i(new ft("Unsupported protocol "+z+":",ft.ERR_BAD_REQUEST,e));return}R.send(d||null)})},W1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let i=new AbortController,c;const d=function(g){if(!c){c=!0,h();const y=g instanceof Error?g:this.reason;i.abort(y instanceof ft?y:new hi(y instanceof Error?y.message:y))}};let f=a&&setTimeout(()=>{f=null,d(new ft(`timeout ${a} of ms exceeded`,ft.ETIMEDOUT))},a);const h=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(d):g.removeEventListener("abort",d)}),e=null)};e.forEach(g=>g.addEventListener("abort",d));const{signal:v}=i;return v.unsubscribe=()=>ie.asap(h),v}},eE=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let i=0,c;for(;i<s;)c=i+a,yield e.slice(i,c),i=c},tE=async function*(e,a){for await(const s of nE(e))yield*eE(s,a)},nE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:i}=await a.read();if(s)break;yield i}}finally{await a.cancel()}},ty=(e,a,s,i)=>{const c=tE(e,a);let d=0,f,h=v=>{f||(f=!0,i&&i(v))};return new ReadableStream({async pull(v){try{const{done:g,value:y}=await c.next();if(g){h(),v.close();return}let x=y.byteLength;if(s){let j=d+=x;s(j)}v.enqueue(new Uint8Array(y))}catch(g){throw h(g),g}},cancel(v){return h(v),c.return()}},{highWaterMark:2})},ny=64*1024,{isFunction:Vc}=ie,aE=(({Request:e,Response:a})=>({Request:e,Response:a}))(ie.global),{ReadableStream:ay,TextEncoder:sy}=ie.global,ry=(e,...a)=>{try{return!!e(...a)}catch{return!1}},sE=e=>{e=ie.merge.call({skipUndefined:!0},aE,e);const{fetch:a,Request:s,Response:i}=e,c=a?Vc(a):typeof fetch=="function",d=Vc(s),f=Vc(i);if(!c)return!1;const h=c&&Vc(ay),v=c&&(typeof sy=="function"?(E=>A=>E.encode(A))(new sy):async E=>new Uint8Array(await new s(E).arrayBuffer())),g=d&&h&&ry(()=>{let E=!1;const A=new s(ia.origin,{body:new ay,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!A}),y=f&&h&&ry(()=>ie.isReadableStream(new i("").body)),x={stream:y&&(E=>E.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!x[E]&&(x[E]=(A,R)=>{let $=A&&A[E];if($)return $.call(A);throw new ft(`Response type '${E}' is not supported`,ft.ERR_NOT_SUPPORT,R)})});const j=async E=>{if(E==null)return 0;if(ie.isBlob(E))return E.size;if(ie.isSpecCompliantForm(E))return(await new s(ia.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(E)||ie.isArrayBuffer(E))return E.byteLength;if(ie.isURLSearchParams(E)&&(E=E+""),ie.isString(E))return(await v(E)).byteLength},F=async(E,A)=>{const R=ie.toFiniteNumber(E.getContentLength());return R??j(A)};return async E=>{let{url:A,method:R,data:$,signal:z,cancelToken:te,timeout:M,onDownloadProgress:D,onUploadProgress:K,responseType:B,headers:H,withCredentials:de="same-origin",fetchOptions:Te}=c0(E),Oe=a||fetch;B=B?(B+"").toLowerCase():"text";let ve=W1([z,te&&te.toAbortSignal()],M),Ee=null;const ke=ve&&ve.unsubscribe&&(()=>{ve.unsubscribe()});let De;try{if(K&&g&&R!=="get"&&R!=="head"&&(De=await F(H,$))!==0){let _=new s(A,{method:"POST",body:$,duplex:"half"}),X;if(ie.isFormData($)&&(X=_.headers.get("content-type"))&&H.setContentType(X),_.body){const[ce,Y]=Jv(De,ou(Wv(K)));$=ty(_.body,ny,ce,Y)}}ie.isString(de)||(de=de?"include":"omit");const U=d&&"credentials"in s.prototype,V={...Te,signal:ve,method:R.toUpperCase(),headers:H.normalize().toJSON(),body:$,duplex:"half",credentials:U?de:void 0};Ee=d&&new s(A,V);let ae=await(d?Oe(Ee,Te):Oe(A,V));const he=y&&(B==="stream"||B==="response");if(y&&(D||he&&ke)){const _={};["status","statusText","headers"].forEach(ye=>{_[ye]=ae[ye]});const X=ie.toFiniteNumber(ae.headers.get("content-length")),[ce,Y]=D&&Jv(X,ou(Wv(D),!0))||[];ae=new i(ty(ae.body,ny,ce,()=>{Y&&Y(),ke&&ke()}),_)}B=B||"text";let fe=await x[ie.findKey(x,B)||"text"](ae,E);return!he&&ke&&ke(),await new Promise((_,X)=>{i0(_,X,{data:fe,headers:Sa.from(ae.headers),status:ae.status,statusText:ae.statusText,config:E,request:Ee})})}catch(U){throw ke&&ke(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,E,Ee),{cause:U.cause||U}):ft.from(U,U&&U.code,E,Ee)}}},rE=new Map,u0=e=>{let a=e&&e.env||{};const{fetch:s,Request:i,Response:c}=a,d=[i,c,s];let f=d.length,h=f,v,g,y=rE;for(;h--;)v=d[h],g=y.get(v),g===void 0&&y.set(v,g=h?new Map:sE(a)),y=g;return g};u0();const wh={http:j1,xhr:J1,fetch:{get:u0}};ie.forEach(wh,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const ly=e=>`- ${e}`,lE=e=>ie.isFunction(e)||e===null||e===!1;function iE(e,a){e=ie.isArray(e)?e:[e];const{length:s}=e;let i,c;const d={};for(let f=0;f<s;f++){i=e[f];let h;if(c=i,!lE(i)&&(c=wh[(h=String(i)).toLowerCase()],c===void 0))throw new ft(`Unknown adapter '${h}'`);if(c&&(ie.isFunction(c)||(c=c.get(a))))break;d[h||"#"+f]=c}if(!c){const f=Object.entries(d).map(([v,g])=>`adapter ${v} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=s?f.length>1?`since :
`+f.map(ly).join(`
`):" "+ly(f[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const d0={getAdapter:iE,adapters:wh};function rm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hi(null,e)}function iy(e){return rm(e),e.headers=Sa.from(e.headers),e.data=sm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),d0.getAdapter(e.adapter||To.adapter,e)(e).then(function(i){return rm(e),i.data=sm.call(e,e.transformResponse,i),i.headers=Sa.from(i.headers),i},function(i){return l0(i)||(rm(e),i&&i.response&&(i.response.data=sm.call(e,e.transformResponse,i.response),i.response.headers=Sa.from(i.response.headers))),Promise.reject(i)})}const f0="1.13.2",Cu={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Cu[e]=function(i){return typeof i===e||"a"+(a<1?"n ":" ")+e}});const oy={};Cu.transitional=function(a,s,i){function c(d,f){return"[Axios v"+f0+"] Transitional option '"+d+"'"+f+(i?". "+i:"")}return(d,f,h)=>{if(a===!1)throw new ft(c(f," has been removed"+(s?" in "+s:"")),ft.ERR_DEPRECATED);return s&&!oy[f]&&(oy[f]=!0,console.warn(c(f," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,f,h):!0}};Cu.spelling=function(a){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${a}`),!0)};function oE(e,a,s){if(typeof e!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let c=i.length;for(;c-- >0;){const d=i[c],f=a[d];if(f){const h=e[d],v=h===void 0||f(h,d,e);if(v!==!0)throw new ft("option "+d+" must be "+v,ft.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ft("Unknown option "+d,ft.ERR_BAD_OPTION)}}const nu={assertOptions:oE,validators:Cu},ws=nu.validators;let tl=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Kv,response:new Kv}}async request(a,s){try{return await this._request(a,s)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=rl(this.defaults,s);const{transitional:i,paramsSerializer:c,headers:d}=s;i!==void 0&&nu.assertOptions(i,{silentJSONParsing:ws.transitional(ws.boolean),forcedJSONParsing:ws.transitional(ws.boolean),clarifyTimeoutError:ws.transitional(ws.boolean)},!1),c!=null&&(ie.isFunction(c)?s.paramsSerializer={serialize:c}:nu.assertOptions(c,{encode:ws.function,serialize:ws.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),nu.assertOptions(s,{baseUrl:ws.spelling("baseURL"),withXsrfToken:ws.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=d&&ie.merge(d.common,d[s.method]);d&&ie.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),s.headers=Sa.concat(f,d);const h=[];let v=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(s)===!1||(v=v&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const g=[];this.interceptors.response.forEach(function(A){g.push(A.fulfilled,A.rejected)});let y,x=0,j;if(!v){const E=[iy.bind(this),void 0];for(E.unshift(...h),E.push(...g),j=E.length,y=Promise.resolve(s);x<j;)y=y.then(E[x++],E[x++]);return y}j=h.length;let F=s;for(;x<j;){const E=h[x++],A=h[x++];try{F=E(F)}catch(R){A.call(this,R);break}}try{y=iy.call(this,F)}catch(E){return Promise.reject(E)}for(x=0,j=g.length;x<j;)y=y.then(g[x++],g[x++]);return y}getUri(a){a=rl(this.defaults,a);const s=o0(a.baseURL,a.url,a.allowAbsoluteUrls);return a0(s,a.params,a.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(a){tl.prototype[a]=function(s,i){return this.request(rl(i||{},{method:a,url:s,data:(i||{}).data}))}});ie.forEach(["post","put","patch"],function(a){function s(i){return function(d,f,h){return this.request(rl(h||{},{method:a,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}tl.prototype[a]=s(),tl.prototype[a+"Form"]=s(!0)});let cE=class m0{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const i=this;this.promise.then(c=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](c);i._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(h=>{i.subscribe(h),d=h}).then(c);return f.cancel=function(){i.unsubscribe(d)},f},a(function(d,f,h){i.reason||(i.reason=new hi(d,f,h),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=i=>{a.abort(i)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new m0(function(c){a=c}),cancel:a}}};function uE(e){return function(s){return e.apply(null,s)}}function dE(e){return ie.isObject(e)&&e.isAxiosError===!0}const $m={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries($m).forEach(([e,a])=>{$m[a]=e});function h0(e){const a=new tl(e),s=Zx(tl.prototype.request,a);return ie.extend(s,tl.prototype,a,{allOwnKeys:!0}),ie.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return h0(rl(e,c))},s}const bt=h0(To);bt.Axios=tl;bt.CanceledError=hi;bt.CancelToken=cE;bt.isCancel=l0;bt.VERSION=f0;bt.toFormData=Au;bt.AxiosError=ft;bt.Cancel=bt.CanceledError;bt.all=function(a){return Promise.all(a)};bt.spread=uE;bt.isAxiosError=dE;bt.mergeConfig=rl;bt.AxiosHeaders=Sa;bt.formToJSON=e=>r0(ie.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=d0.getAdapter;bt.HttpStatusCode=$m;bt.default=bt;const{Axios:CD,AxiosError:OD,CanceledError:RD,isCancel:TD,CancelToken:DD,VERSION:zD,all:kD,Cancel:MD,isAxiosError:UD,spread:LD,toFormData:BD,AxiosHeaders:qD,HttpStatusCode:ID,formToJSON:$D,getAdapter:FD,mergeConfig:HD}=bt,fE="medileser:draft:v1",cu="medileser:recovery:v1",uu="medileser:recovery:intent",mE="vi.auth",hE="vi_auth",pE="medileser.selectedBank",gE=1440*60*1e3,_h=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>gE},lm=e=>{const{userId:a,bankId:s,oiId:i,type:c,bancadaId:d,isNew:f}=e;if(!a||s==null)return null;const h=i!=null?String(i):"new",v=`${fE}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${v}:header`;const g=f?"new":d;return g==null?null:`${v}:bancada:${g}`},po=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&p0(s)},im=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:_h(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Sr=e=>{try{localStorage.removeItem(e)}catch{}},p0=e=>{try{localStorage.setItem(cu,JSON.stringify(e))}catch{}},g0=()=>{try{const e=localStorage.getItem(cu);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:_h(a.ts)?(localStorage.removeItem(cu),null):a}catch{return null}},bE=()=>{try{localStorage.removeItem(cu)}catch{}},vE=e=>{const a=e.userId??null,s=e.bankId??null,i=e.oiId??null;if(!a||s==null||!i)return;const c=g0(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:i,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${i}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};p0(d)},yE=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(uu,JSON.stringify(a))}catch{}},xE=()=>{try{const e=sessionStorage.getItem(uu);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:_h(a.ts)?(sessionStorage.removeItem(uu),null):a}catch{return null}},om=()=>{try{sessionStorage.removeItem(uu)}catch{}},NE=()=>{try{const e=localStorage.getItem(mE)??localStorage.getItem(hE);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),i=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:i!=null&&Number.isFinite(i)?i:null}}catch{}return{userId:null,bankId:null}},jE=()=>{try{const e=localStorage.getItem(pE);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},Fm=(e,a)=>{const s=g0();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const i=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=i==="/oi"||i==="/oi/"?`/oi/${s.oiId}?mode=edit`:i;return yE(s),{target:c,recovery:s}},cy="http://127.0.0.1:8000",pi="openOiId",Ou="vi.currentOI",b0="vi.auth",v0="vi_auth",SE="medileser.selectedBank",wE="medileser:selectedBank",Hm="medileser.pendingToast",Do="medileser.pendingAction",_E="medileser:auth-expired",Vm="medileser.sessionUserId",Zm="medileser.sessionBankId",y0=()=>typeof window<"u"?window.location.port==="5173"?cy:window.location.origin:cy,Qe=bt.create({baseURL:y0()}),x0=bt.create({baseURL:y0()}),N0=e=>{try{const a=localStorage.getItem(b0)??localStorage.getItem(v0);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Qe.interceptors.request.use(N0);x0.interceptors.request.use(N0);function EE(){try{const e=sessionStorage.getItem(pi);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const j0=()=>{try{const e=sessionStorage.getItem(Ou);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function AE(e){try{sessionStorage.setItem(pi,String(e))}catch{}}function S0(){try{sessionStorage.removeItem(pi)}catch{}}async function zo(){const e=EE();if(e)try{await x0.post(`/oi/${e}/close`)}catch{}finally{S0()}}function CE(e){try{sessionStorage.setItem(Hm,e)}catch{}}function OE(){try{const e=sessionStorage.getItem(Hm);return e?(sessionStorage.removeItem(Hm),e):null}catch{return null}}function RE(e){try{sessionStorage.setItem(Do,JSON.stringify(e))}catch{}}function TE(){try{const e=sessionStorage.getItem(Do);return e?JSON.parse(e):null}catch{return null}}function Kl(){try{sessionStorage.removeItem(Do)}catch{}}function w0(){try{const e=sessionStorage.getItem(Vm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function uy(e){try{e==null?sessionStorage.removeItem(Vm):sessionStorage.setItem(Vm,String(e))}catch{}}function _0(){try{const e=sessionStorage.getItem(Zm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function du(e){try{e==null?sessionStorage.removeItem(Zm):sessionStorage.setItem(Zm,String(e))}catch{}}function E0(e){const a=w0();if(e==null)return!1;if(a===null||a===e)return uy(e),!1;try{const s=[];for(let i=0;i<sessionStorage.length;i+=1){const c=sessionStorage.key(i);c&&(c.startsWith("oi:")||c===pi||c===Ou||c===Do)&&s.push(c)}s.forEach(i=>sessionStorage.removeItem(i))}catch{}return uy(e),du(null),!0}function DE(e){const a=_0();if(e==null)return!1;if(a===null||a===e)return du(e),!1;try{const s=[];for(let i=0;i<sessionStorage.length;i+=1){const c=sessionStorage.key(i);c&&(c.startsWith("oi:")||c===pi||c===Ou||c===Do)&&s.push(c)}s.forEach(i=>sessionStorage.removeItem(i))}catch{}return du(e),!0}function zE(){try{localStorage.removeItem(b0),localStorage.removeItem(v0),localStorage.removeItem(SE)}catch{}finally{try{window.dispatchEvent(new Event(wE))}catch{}}try{sessionStorage.removeItem(Ou),sessionStorage.removeItem(pi)}catch{}}let dy=!1;async function A0(e){if(!dy){dy=!0;try{await zo()}finally{zE();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(CE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,i=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${i}`)}}}}const ho=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401)return!0;const i=e?.response?.data?.detail;return!!(typeof i=="string"&&/token requerido/i.test(i))},cm=(e,a)=>{const s=a.match(e);if(!s)return null;const i=Number(s[1]);return Number.isFinite(i)?i:null},kE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),i=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:i,oiId:cm(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:i,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:i,oiId:cm(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:i,bancadaId:cm(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},ME=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:i}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const f=c.toString(),h=g=>`${g}${f?`?${f}`:""}${i??""}`;let v=h(a);if(a==="/oi"||a==="/oi/"){const g=e?.oiId??j0();g&&(v=h(`/oi/${g}`))}return v},UE=(e,a,s,i,c)=>{try{window.dispatchEvent(new CustomEvent(_E,{detail:{status:a,detail:e,url:s,method:i,pending:c}}))}catch{}};Qe.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),i=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&ho(e)){const f=kE(e);f&&RE(f),UE(i,a,s,c,f);const h=ME(f),v=NE(),g=v.bankId??jE(),y=f?.oiId??j0();if(v.userId&&g!=null&&y){const x=f?.type==="save_bancada"?{type:"bancada",bancadaId:f.bancadaId??null,isNew:f.bancadaId==null}:void 0;vE({userId:v.userId,bankId:g,oiId:y,returnTo:h,modal:x})}await A0({returnTo:h,pending:!!f})}return Promise.reject(e)});const Eh=async()=>{const{data:e}=await Qe.get("/catalogs");return e},Ru="medileser.selectedBank",fu="medileser:selectedBank";function Xa(e,a){if((a??"").toLowerCase()==="admin")return"admin";const i=(e??"").toLowerCase();return i==="admin"||i==="administrator"||i==="administrador"?"administrator":i==="technician"||i==="user"||i==="tecnico"||i==="tcnico"?"technician":"standard"}function ii(e){return Xa(e)==="technician"}function Tu(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function xo(){try{const e=localStorage.getItem(Ru);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function C0(e){try{localStorage.setItem(Ru,String(e))}finally{window.dispatchEvent(new Event(fu))}}function O0(){try{localStorage.removeItem(Ru)}finally{window.dispatchEvent(new Event(fu))}}function LE(e){const a=()=>e(),s=i=>{i.key===Ru&&e()};return window.addEventListener(fu,a),window.addEventListener("storage",s),()=>{window.removeEventListener(fu,a),window.removeEventListener("storage",s)}}async function BE(e,a){try{await Qe.put("/auth/password",{old_password:e,new_password:a})}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(i)}}async function qE(e){try{await zo();const{data:a}=await Qe.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),E0(a.userId??null),!ii(a.role)&&a.bancoId!=null&&du(a.bancoId),ii(a.role)?O0():C0(0),a}catch(a){const s=a?.response?.status,i=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":i??a?.message??"Error de autenticacin";throw new Error(c)}}function $n(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",i=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??i??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Xa(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function R0(e){await zo();const{data:a}=await Qe.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),E0(a.userId??null),DE(e),C0(e),a}function T0(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),O0();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function IE(){await zo(),T0()}function No({label:e,inputId:a,className:s="",inputRef:i,helpText:c,...d}){const[f,h]=p.useState(!1),v=a||d.name||void 0,{ref:g,...y}=d,x=i??g;return l.jsxs("div",{className:s,children:[e&&l.jsx("label",{className:"form-label",htmlFor:v,children:e}),l.jsxs("div",{className:"input-group",children:[l.jsx("input",{...y,id:v,type:f?"text":"password",className:"form-control",ref:x}),l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>h(j=>!j),tabIndex:-1,"aria-label":f?"Ocultar contrasea":"Mostrar contrasea",children:l.jsx("i",{className:`ti ${f?"ti-eye-off":"ti-eye"}`})})]}),c&&l.jsx("div",{className:"form-text",children:c})]})}function gi({show:e=!0,label:a="Cargando..."}){return e?l.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[l.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),l.jsx("span",{className:"visually-hidden",children:a})]}):null}const D0=p.createContext(null);function $E(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function FE({children:e}){const[a,s]=p.useState([]),i=p.useCallback(d=>{const f=Date.now()+Math.random(),{kind:h="info",duration:v=3500,...g}=d,y={id:f,kind:h,duration:v,...g};s(x=>[...x,y]),window.setTimeout(()=>{s(x=>x.filter(j=>j.id!==f))},v)},[]),c=d=>s(f=>f.filter(h=>h.id!==d));return l.jsxs(D0.Provider,{value:{push:i},children:[e,l.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>l.jsx("div",{className:`toast show align-items-center text-bg-${$E(d.kind)} border-0 mb-2`,role:"alert",children:l.jsxs("div",{className:"d-flex",children:[l.jsxs("div",{className:"toast-body",children:[d.title&&l.jsx("strong",{className:"me-2",children:d.title}),d.message]}),l.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function ul(){const e=p.useContext(D0);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}const Ah="medileser.theme",Ch="adminator-theme",Gm=new Set;function fy(e){return e==="light"||e==="dark"}function HE(){try{const e=localStorage.getItem(Ah);if(fy(e))return e;const a=localStorage.getItem(Ch);return fy(a)?a:null}catch{return null}}function z0(){return HE()??"light"}function k0(e){if(typeof document>"u")return;const a=document.documentElement;a.setAttribute("data-theme",e),a.setAttribute("data-bs-theme",e),a.style.colorScheme=e}function VE(){const e=z0();try{localStorage.setItem(Ah,e)}catch{}try{localStorage.setItem(Ch,e)}catch{}return k0(e),e}function ZE(e){try{localStorage.setItem(Ah,e)}catch{}try{localStorage.setItem(Ch,e)}catch{}k0(e),typeof window<"u"&&typeof window.dispatchEvent=="function"&&window.dispatchEvent(new CustomEvent("adminator:themeChanged",{detail:{theme:e}})),Gm.forEach(a=>a(e))}function GE(e){return Gm.add(e),()=>{Gm.delete(e)}}function M0({className:e}){const a=p.useId(),[s,i]=p.useState(()=>z0());p.useEffect(()=>GE(i),[]);const c=s==="dark";return l.jsx("div",{className:`theme-toggle d-flex ai-c ${e??""}`.trim(),children:l.jsxs("div",{className:"form-check form-switch d-flex ai-c",style:{margin:0,padding:0},children:[l.jsxs("label",{className:"form-check-label me-2 text-nowrap c-grey-700",htmlFor:a,style:{fontSize:"12px",marginRight:"8px"},children:[l.jsx("i",{className:"ti-sun",style:{marginRight:"4px"}}),l.jsx("span",{className:"theme-label",children:"Claro"})]}),l.jsx("input",{className:"form-check-input",type:"checkbox",id:a,checked:c,onChange:d=>ZE(d.target.checked?"dark":"light"),"aria-label":"Cambiar tema",style:{margin:0}}),l.jsxs("label",{className:"form-check-label ms-2 text-nowrap c-grey-700",htmlFor:a,style:{fontSize:"12px",marginLeft:"8px"},children:[l.jsx("span",{className:"theme-label",children:"Oscuro"}),l.jsx("i",{className:"ti-moon",style:{marginLeft:"4px"}})]})]})})}function PE(){const{register:e,handleSubmit:a}=Su({defaultValues:{username:"",password:""}}),{toast:s}=ul(),i=new URLSearchParams(window.location.search),c=i.get("returnTo")??"",d=c.startsWith("/")?c:"/home",f=i.get("pending")==="1",[h,v]=p.useState(!1),g=p.useRef(d),[y,x]=p.useState(!1),[j,F]=p.useState(0),[E,A]=p.useState(!1),{data:R,isLoading:$,error:z,refetch:te}=sl({queryKey:["catalogs"],queryFn:Eh,enabled:y}),M=R?.bancos??[];p.useEffect(()=>{const de=OE();de&&s({kind:"error",message:de})},[s]),p.useEffect(()=>{y&&(j>0||M.length>0&&F(M[0].id))},[j,M,y]);const D=async de=>{try{v(!0);const Te=w0(),Oe=await qE(de),ve=Te!=null&&Oe.userId&&Te!==Oe.userId,Ee=Fm(Oe.userId,Oe.bancoId??0);if(Ee.target?g.current=Ee.target:f||ve?g.current="/home":g.current=d,ii(Oe.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(g.current)}catch(Te){const Oe=Te?.message??Te?.response?.data?.detail??(typeof Te=="string"?Te:"Error de autenticacin");s({kind:"error",title:"Login",message:String(Oe)})}finally{v(!1)}},K=j>0&&!E&&!$,B=async()=>{if(K)try{A(!0);const de=_0(),Te=de!=null&&de!==j,Oe=await R0(j),ve=Fm(Oe.userId,Oe.bancoId??j);ve.target?g.current=ve.target:(f||Te)&&(g.current="/home"),window.location.replace(g.current)}catch(de){const Te=de?.response?.data?.detail??de?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(Te)})}finally{A(!1)}},H=()=>{T0(),x(!1),F(0)};return l.jsxs("div",{className:"vi-login",children:[l.jsx(gi,{show:h||E,label:E?"Guardando banco...":"Validando credenciales..."}),l.jsx("div",{className:"vi-login__theme",children:l.jsx(M0,{})}),l.jsxs("div",{className:"vi-login__split",children:[l.jsx("section",{className:"vi-login__left",children:l.jsx("div",{className:"text-center text-md-start",children:l.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),l.jsx("section",{className:"vi-login__right",children:l.jsx("div",{className:"card shadow-sm vi-login__card",children:l.jsxs("div",{className:"card-body p-4 p-md-5",children:[l.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),l.jsxs("form",{onSubmit:a(D),className:"row g-3",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),l.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),l.jsx("div",{className:"col-md-6",children:l.jsx(No,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),l.jsx("div",{className:"col-12 d-grid",children:l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||y,"aria-busy":h?"true":"false",children:h?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),y&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsx("div",{className:"modal-header",children:l.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),l.jsxs("div",{className:"modal-body",children:[l.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),l.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),l.jsx("select",{id:"bankId",className:"form-select",value:j||"",onChange:de=>F(Number(de.target.value)),disabled:$||E,children:M.map(de=>l.jsx("option",{value:de.id,children:de.name},de.id))}),z?l.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>te(),children:"Reintentar"})]}):null]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:H,disabled:E,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary",disabled:!K,onClick:B,children:E?"Guardando...":"Continuar"})]})]})})})]})}const my=(e,a,s)=>{if(e&&"reportValidity"in e){const i=$e(s,a);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Pm=(e,a)=>{for(const s in a.fields){const i=a.fields[s];i&&i.ref&&"reportValidity"in i.ref?my(i.ref,s,e):i&&i.refs&&i.refs.forEach(c=>my(c,s,e))}},hy=(e,a)=>{a.shouldUseNativeValidation&&Pm(e,a);const s={};for(const i in e){const c=$e(a.fields,i),d=Object.assign(e[i]||{},{ref:c&&c.ref});if(QE(a.names||Object.keys(e),i)){const f=Object.assign({},$e(s,i));It(f,"root",d),It(s,i,f)}else It(s,i,d)}return s},QE=(e,a)=>{const s=py(a);return e.some(i=>py(i).match(`^${s}\\.\\d+`))};function py(e){return e.replace(/\]|\[/g,"")}function Re(e,a,s){function i(h,v){var g;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(g=h._zod).traits??(g.traits=new Set),h._zod.traits.add(e),a(h,v);for(const y in f.prototype)y in h||Object.defineProperty(h,y,{value:f.prototype[y].bind(h)});h._zod.constr=f,h._zod.def=v}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function f(h){var v;const g=s?.Parent?new d:this;i(g,h),(v=g._zod).deferred??(v.deferred=[]);for(const y of g._zod.deferred)y();return g}return Object.defineProperty(f,"init",{value:i}),Object.defineProperty(f,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(f,"name",{value:e}),f}class ri extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class U0 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const L0={};function ll(e){return L0}function YE(e){const a=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,c])=>a.indexOf(+i)===-1).map(([i,c])=>c)}function Qm(e,a){return typeof a=="bigint"?a.toString():a}function Oh(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Rh(e){return e==null}function Th(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function KE(e,a){const s=(e.toString().split(".")[1]||"").length,i=a.toString();let c=(i.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(i)){const v=i.match(/\d?e-(\d?)/);v?.[1]&&(c=Number.parseInt(v[1]))}const d=s>c?s:c,f=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return f%h/10**d}const gy=Symbol("evaluating");function Jt(e,a,s){let i;Object.defineProperty(e,a,{get(){if(i!==gy)return i===void 0&&(i=gy,i=s()),i},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function dl(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function fl(...e){const a={};for(const s of e){const i=Object.getOwnPropertyDescriptors(s);Object.assign(a,i)}return Object.defineProperties({},a)}function by(e){return JSON.stringify(e)}const B0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function mu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const XE=Oh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function jo(e){if(mu(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(mu(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function q0(e){return jo(e)?{...e}:Array.isArray(e)?[...e]:e}const JE=new Set(["string","number","symbol"]);function Du(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ar(e,a,s){const i=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(i._zod.parent=e),i}function at(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function WE(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const eA={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tA(e,a){const s=e._zod.def,i=fl(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return dl(this,"shape",c),c},checks:[]});return Ar(e,i)}function nA(e,a){const s=e._zod.def,i=fl(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return dl(this,"shape",c),c},checks:[]});return Ar(e,i)}function aA(e,a){if(!jo(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=fl(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return dl(this,"shape",d),d},checks:[]});return Ar(e,c)}function sA(e,a){if(!jo(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const i={...e._zod.def.shape,...a};return dl(this,"shape",i),i},checks:e._zod.def.checks};return Ar(e,s)}function rA(e,a){const s=fl(e._zod.def,{get shape(){const i={...e._zod.def.shape,...a._zod.def.shape};return dl(this,"shape",i),i},get catchall(){return a._zod.def.catchall},checks:[]});return Ar(e,s)}function lA(e,a,s){const i=fl(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const f in s){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);s[f]&&(d[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)d[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return dl(this,"shape",d),d},checks:[]});return Ar(a,i)}function iA(e,a,s){const i=fl(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const f in s){if(!(f in d))throw new Error(`Unrecognized key: "${f}"`);s[f]&&(d[f]=new e({type:"nonoptional",innerType:c[f]}))}else for(const f in c)d[f]=new e({type:"nonoptional",innerType:c[f]});return dl(this,"shape",d),d},checks:[]});return Ar(a,i)}function ai(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function I0(e,a){return a.map(s=>{var i;return(i=s).path??(i.path=[]),s.path.unshift(e),s})}function Zc(e){return typeof e=="string"?e:e?.message}function il(e,a,s){const i={...e,path:e.path??[]};if(!e.message){const c=Zc(e.inst?._zod.def?.error?.(e))??Zc(a?.error?.(e))??Zc(s.customError?.(e))??Zc(s.localeError?.(e))??"Invalid input";i.message=c}return delete i.inst,delete i.continue,a?.reportInput||delete i.input,i}function Dh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function So(...e){const[a,s,i]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:i}:{...a}}const $0=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,Qm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},zh=Re("$ZodError",$0),zu=Re("$ZodError",$0,{Parent:Error});function oA(e,a=s=>s.message){const s={},i=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):i.push(a(c));return{formErrors:i,fieldErrors:s}}function cA(e,a=s=>s.message){const s={_errors:[]},i=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(f=>i({issues:f}));else if(d.code==="invalid_key")i({issues:d.issues});else if(d.code==="invalid_element")i({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let f=s,h=0;for(;h<d.path.length;){const v=d.path[h];h===d.path.length-1?(f[v]=f[v]||{_errors:[]},f[v]._errors.push(a(d))):f[v]=f[v]||{_errors:[]},f=f[v],h++}}};return i(e),s}const ku=e=>(a,s,i,c)=>{const d=i?Object.assign(i,{async:!1}):{async:!1},f=a._zod.run({value:s,issues:[]},d);if(f instanceof Promise)throw new ri;if(f.issues.length){const h=new(c?.Err??e)(f.issues.map(v=>il(v,d,ll())));throw B0(h,c?.callee),h}return f.value},uA=ku(zu),Mu=e=>async(a,s,i,c)=>{const d=i?Object.assign(i,{async:!0}):{async:!0};let f=a._zod.run({value:s,issues:[]},d);if(f instanceof Promise&&(f=await f),f.issues.length){const h=new(c?.Err??e)(f.issues.map(v=>il(v,d,ll())));throw B0(h,c?.callee),h}return f.value},dA=Mu(zu),Uu=e=>(a,s,i)=>{const c=i?{...i,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new ri;return d.issues.length?{success:!1,error:new(e??zh)(d.issues.map(f=>il(f,c,ll())))}:{success:!0,data:d.value}},fA=Uu(zu),Lu=e=>async(a,s,i)=>{const c=i?Object.assign(i,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(f=>il(f,c,ll())))}:{success:!0,data:d.value}},mA=Lu(zu),hA=e=>(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ku(e)(a,s,c)},pA=e=>(a,s,i)=>ku(e)(a,s,i),gA=e=>async(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Mu(e)(a,s,c)},bA=e=>async(a,s,i)=>Mu(e)(a,s,i),vA=e=>(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Uu(e)(a,s,c)},yA=e=>(a,s,i)=>Uu(e)(a,s,i),xA=e=>async(a,s,i)=>{const c=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Lu(e)(a,s,c)},NA=e=>async(a,s,i)=>Lu(e)(a,s,i),jA=/^[cC][^\s-]{8,}$/,SA=/^[0-9a-z]+$/,wA=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,_A=/^[0-9a-vA-V]{20}$/,EA=/^[A-Za-z0-9]{27}$/,AA=/^[a-zA-Z0-9_-]{21}$/,CA=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,OA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,vy=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,RA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,TA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function DA(){return new RegExp(TA,"u")}const zA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,MA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,UA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,F0=/^[A-Za-z0-9_-]*$/,BA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,qA=/^\+(?:[0-9]){6,14}[0-9]$/,H0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",IA=new RegExp(`^${H0}$`);function V0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function $A(e){return new RegExp(`^${V0(e)}$`)}function FA(e){const a=V0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${a}(?:${s.join("|")})`;return new RegExp(`^${H0}T(?:${i})$`)}const HA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},VA=/^-?\d+$/,ZA=/^-?\d+(?:\.\d+)?/,GA=/^[^A-Z]*$/,PA=/^[^a-z]*$/,wa=Re("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),Z0={number:"number",bigint:"bigint",object:"date"},G0=Re("$ZodCheckLessThan",(e,a)=>{wa.init(e,a);const s=Z0[typeof a.value];e._zod.onattach.push(i=>{const c=i._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=i=>{(a.inclusive?i.value<=a.value:i.value<a.value)||i.issues.push({origin:s,code:"too_big",maximum:a.value,input:i.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),P0=Re("$ZodCheckGreaterThan",(e,a)=>{wa.init(e,a);const s=Z0[typeof a.value];e._zod.onattach.push(i=>{const c=i._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=i=>{(a.inclusive?i.value>=a.value:i.value>a.value)||i.issues.push({origin:s,code:"too_small",minimum:a.value,input:i.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),QA=Re("$ZodCheckMultipleOf",(e,a)=>{wa.init(e,a),e._zod.onattach.push(s=>{var i;(i=s._zod.bag).multipleOf??(i.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):KE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),YA=Re("$ZodCheckNumberFormat",(e,a)=>{wa.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),i=s?"int":"number",[c,d]=eA[a.format];e._zod.onattach.push(f=>{const h=f._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=VA)}),e._zod.check=f=>{const h=f.value;if(s){if(!Number.isInteger(h)){f.issues.push({expected:i,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?f.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!a.abort}):f.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!a.abort});return}}h<c&&f.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&f.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),KA=Re("$ZodCheckMaxLength",(e,a)=>{var s;wa.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!Rh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(i._zod.bag.maximum=a.maximum)}),e._zod.check=i=>{const c=i.value;if(c.length<=a.maximum)return;const f=Dh(c);i.issues.push({origin:f,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),XA=Re("$ZodCheckMinLength",(e,a)=>{var s;wa.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!Rh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(i._zod.bag.minimum=a.minimum)}),e._zod.check=i=>{const c=i.value;if(c.length>=a.minimum)return;const f=Dh(c);i.issues.push({origin:f,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),JA=Re("$ZodCheckLengthEquals",(e,a)=>{var s;wa.init(e,a),(s=e._zod.def).when??(s.when=i=>{const c=i.value;return!Rh(c)&&c.length!==void 0}),e._zod.onattach.push(i=>{const c=i._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=i=>{const c=i.value,d=c.length;if(d===a.length)return;const f=Dh(c),h=d>a.length;i.issues.push({origin:f,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!a.abort})}}),Bu=Re("$ZodCheckStringFormat",(e,a)=>{var s,i;wa.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(i=e._zod).check??(i.check=()=>{})}),WA=Re("$ZodCheckRegex",(e,a)=>{Bu.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),eC=Re("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=GA),Bu.init(e,a)}),tC=Re("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=PA),Bu.init(e,a)}),nC=Re("$ZodCheckIncludes",(e,a)=>{wa.init(e,a);const s=Du(a.includes),i=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=i,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(i)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),aC=Re("$ZodCheckStartsWith",(e,a)=>{wa.init(e,a);const s=new RegExp(`^${Du(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=i=>{i.value.startsWith(a.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:i.value,inst:e,continue:!a.abort})}}),sC=Re("$ZodCheckEndsWith",(e,a)=>{wa.init(e,a);const s=new RegExp(`.*${Du(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=i=>{i.value.endsWith(a.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:i.value,inst:e,continue:!a.abort})}}),rC=Re("$ZodCheckOverwrite",(e,a)=>{wa.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class lC{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const i=a.split(`
`).filter(f=>f),c=Math.min(...i.map(f=>f.length-f.trimStart().length)),d=i.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of d)this.content.push(f)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const iC={major:4,minor:1,patch:12},Un=Re("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=iC;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const c of i)for(const d of c._zod.onattach)d(e);if(i.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(f,h,v)=>{let g=ai(f),y;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(f))continue}else if(g)continue;const j=f.issues.length,F=x._zod.check(f);if(F instanceof Promise&&v?.async===!1)throw new ri;if(y||F instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await F,f.issues.length!==j&&(g||(g=ai(f,j)))});else{if(f.issues.length===j)continue;g||(g=ai(f,j))}}return y?y.then(()=>f):f},d=(f,h,v)=>{if(ai(f))return f.aborted=!0,f;const g=c(h,i,v);if(g instanceof Promise){if(v.async===!1)throw new ri;return g.then(y=>e._zod.parse(y,v))}return e._zod.parse(g,v)};e._zod.run=(f,h)=>{if(h.skipChecks)return e._zod.parse(f,h);if(h.direction==="backward"){const g=e._zod.parse({value:f.value,issues:[]},{...h,skipChecks:!0});return g instanceof Promise?g.then(y=>d(y,f,h)):d(g,f,h)}const v=e._zod.parse(f,h);if(v instanceof Promise){if(h.async===!1)throw new ri;return v.then(g=>c(g,i,h))}return c(v,i,h)}}e["~standard"]={validate:c=>{try{const d=fA(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return mA(e,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}}),kh=Re("$ZodString",(e,a)=>{Un.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??HA(e._zod.bag),e._zod.parse=(s,i)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),cn=Re("$ZodStringFormat",(e,a)=>{Bu.init(e,a),kh.init(e,a)}),oC=Re("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=OA),cn.init(e,a)}),cC=Re("$ZodUUID",(e,a)=>{if(a.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(i===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=vy(i))}else a.pattern??(a.pattern=vy());cn.init(e,a)}),uC=Re("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=RA),cn.init(e,a)}),dC=Re("$ZodURL",(e,a)=>{cn.init(e,a),e._zod.check=s=>{try{const i=s.value.trim(),c=new URL(i);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:BA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=i;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),fC=Re("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=DA()),cn.init(e,a)}),mC=Re("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=AA),cn.init(e,a)}),hC=Re("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=jA),cn.init(e,a)}),pC=Re("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=SA),cn.init(e,a)}),gC=Re("$ZodULID",(e,a)=>{a.pattern??(a.pattern=wA),cn.init(e,a)}),bC=Re("$ZodXID",(e,a)=>{a.pattern??(a.pattern=_A),cn.init(e,a)}),vC=Re("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=EA),cn.init(e,a)}),yC=Re("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=FA(a)),cn.init(e,a)}),xC=Re("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=IA),cn.init(e,a)}),NC=Re("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=$A(a)),cn.init(e,a)}),jC=Re("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=CA),cn.init(e,a)}),SC=Re("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=zA),cn.init(e,a),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format="ipv4"})}),wC=Re("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=kA),cn.init(e,a),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),_C=Re("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=MA),cn.init(e,a)}),EC=Re("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=UA),cn.init(e,a),e._zod.check=s=>{const i=s.value.split("/");try{if(i.length!==2)throw new Error;const[c,d]=i;if(!d)throw new Error;const f=Number(d);if(`${f}`!==d)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function Q0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const AC=Re("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=LA),cn.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{Q0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function CC(e){if(!F0.test(e))return!1;const a=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return Q0(s)}const OC=Re("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=F0),cn.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{CC(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),RC=Re("$ZodE164",(e,a)=>{a.pattern??(a.pattern=qA),cn.init(e,a)});function TC(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[i]=s;if(!i)return!1;const c=JSON.parse(atob(i));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const DC=Re("$ZodJWT",(e,a)=>{cn.init(e,a),e._zod.check=s=>{TC(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),Y0=Re("$ZodNumber",(e,a)=>{Un.init(e,a),e._zod.pattern=e._zod.bag.pattern??ZA,e._zod.parse=(s,i)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),zC=Re("$ZodNumber",(e,a)=>{YA.init(e,a),Y0.init(e,a)}),kC=Re("$ZodUnknown",(e,a)=>{Un.init(e,a),e._zod.parse=s=>s}),MC=Re("$ZodNever",(e,a)=>{Un.init(e,a),e._zod.parse=(s,i)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function yy(e,a,s){e.issues.length&&a.issues.push(...I0(s,e.issues)),a.value[s]=e.value}const UC=Re("$ZodArray",(e,a)=>{Un.init(e,a),e._zod.parse=(s,i)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let f=0;f<c.length;f++){const h=c[f],v=a.element._zod.run({value:h,issues:[]},i);v instanceof Promise?d.push(v.then(g=>yy(g,s,f))):yy(v,s,f)}return d.length?Promise.all(d).then(()=>s):s}});function hu(e,a,s,i){e.issues.length&&a.issues.push(...I0(s,e.issues)),e.value===void 0?s in i&&(a.value[s]=void 0):a.value[s]=e.value}function K0(e){const a=Object.keys(e.shape);for(const i of a)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const s=WE(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function X0(e,a,s,i,c,d){const f=[],h=c.keySet,v=c.catchall._zod,g=v.def.type;for(const y of Object.keys(a)){if(h.has(y))continue;if(g==="never"){f.push(y);continue}const x=v.run({value:a[y],issues:[]},i);x instanceof Promise?e.push(x.then(j=>hu(j,s,y,a))):hu(x,s,y,a)}return f.length&&s.issues.push({code:"unrecognized_keys",keys:f,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const LC=Re("$ZodObject",(e,a)=>{if(Un.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const v={...h};return Object.defineProperty(a,"shape",{value:v}),v}})}const i=Oh(()=>K0(a));Jt(e._zod,"propValues",()=>{const h=a.shape,v={};for(const g in h){const y=h[g]._zod;if(y.values){v[g]??(v[g]=new Set);for(const x of y.values)v[g].add(x)}}return v});const c=mu,d=a.catchall;let f;e._zod.parse=(h,v)=>{f??(f=i.value);const g=h.value;if(!c(g))return h.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),h;h.value={};const y=[],x=f.shape;for(const j of f.keys){const E=x[j]._zod.run({value:g[j],issues:[]},v);E instanceof Promise?y.push(E.then(A=>hu(A,h,j,g))):hu(E,h,j,g)}return d?X0(y,g,h,v,i.value,e):y.length?Promise.all(y).then(()=>h):h}}),BC=Re("$ZodObjectJIT",(e,a)=>{LC.init(e,a);const s=e._zod.parse,i=Oh(()=>K0(a)),c=j=>{const F=new lC(["shape","payload","ctx"]),E=i.value,A=te=>{const M=by(te);return`shape[${M}]._zod.run({ value: input[${M}], issues: [] }, ctx)`};F.write("const input = payload.value;");const R=Object.create(null);let $=0;for(const te of E.keys)R[te]=`key_${$++}`;F.write("const newResult = {};");for(const te of E.keys){const M=R[te],D=by(te);F.write(`const ${M} = ${A(te)};`),F.write(`
        if (${M}.issues.length) {
          payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        
        if (${M}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${M}.value;
        }
        
      `)}F.write("payload.value = newResult;"),F.write("return payload;");const z=F.compile();return(te,M)=>z(j,te,M)};let d;const f=mu,h=!L0.jitless,g=h&&XE.value,y=a.catchall;let x;e._zod.parse=(j,F)=>{x??(x=i.value);const E=j.value;return f(E)?h&&g&&F?.async===!1&&F.jitless!==!0?(d||(d=c(a.shape)),j=d(j,F),y?X0([],E,j,F,x,e):j):s(j,F):(j.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),j)}});function xy(e,a,s,i){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!ai(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(f=>il(f,i,ll())))}),a)}const qC=Re("$ZodUnion",(e,a)=>{Un.init(e,a),Jt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),Jt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),Jt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),Jt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>Th(d.source)).join("|")})$`)}});const s=a.options.length===1,i=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return i(c,d);let f=!1;const h=[];for(const v of a.options){const g=v._zod.run({value:c.value,issues:[]},d);if(g instanceof Promise)h.push(g),f=!0;else{if(g.issues.length===0)return g;h.push(g)}}return f?Promise.all(h).then(v=>xy(v,c,e,d)):xy(h,c,e,d)}}),IC=Re("$ZodIntersection",(e,a)=>{Un.init(e,a),e._zod.parse=(s,i)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},i),f=a.right._zod.run({value:c,issues:[]},i);return d instanceof Promise||f instanceof Promise?Promise.all([d,f]).then(([v,g])=>Ny(s,v,g)):Ny(s,d,f)}});function Ym(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(jo(e)&&jo(a)){const s=Object.keys(a),i=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of i){const f=Ym(e[d],a[d]);if(!f.valid)return{valid:!1,mergeErrorPath:[d,...f.mergeErrorPath]};c[d]=f.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let i=0;i<e.length;i++){const c=e[i],d=a[i],f=Ym(c,d);if(!f.valid)return{valid:!1,mergeErrorPath:[i,...f.mergeErrorPath]};s.push(f.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Ny(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),ai(e))return e;const i=Ym(a.value,s.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const $C=Re("$ZodEnum",(e,a)=>{Un.init(e,a);const s=YE(a.entries),i=new Set(s);e._zod.values=i,e._zod.pattern=new RegExp(`^(${s.filter(c=>JE.has(typeof c)).map(c=>typeof c=="string"?Du(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const f=c.value;return i.has(f)||c.issues.push({code:"invalid_value",values:s,input:f,inst:e}),c}}),FC=Re("$ZodTransform",(e,a)=>{Un.init(e,a),e._zod.parse=(s,i)=>{if(i.direction==="backward")throw new U0(e.constructor.name);const c=a.transform(s.value,s);if(i.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(s.value=f,s));if(c instanceof Promise)throw new ri;return s.value=c,s}});function jy(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const HC=Re("$ZodOptional",(e,a)=>{Un.init(e,a),e._zod.optin="optional",e._zod.optout="optional",Jt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),Jt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Th(s.source)})?$`):void 0}),e._zod.parse=(s,i)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>jy(d,s.value)):jy(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,i)}}),VC=Re("$ZodNullable",(e,a)=>{Un.init(e,a),Jt(e._zod,"optin",()=>a.innerType._zod.optin),Jt(e._zod,"optout",()=>a.innerType._zod.optout),Jt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Th(s.source)}|null)$`):void 0}),Jt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,i)=>s.value===null?s:a.innerType._zod.run(s,i)}),ZC=Re("$ZodDefault",(e,a)=>{Un.init(e,a),e._zod.optin="optional",Jt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>Sy(d,a)):Sy(c,a)}});function Sy(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const GC=Re("$ZodPrefault",(e,a)=>{Un.init(e,a),e._zod.optin="optional",Jt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>(i.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,i))}),PC=Re("$ZodNonOptional",(e,a)=>{Un.init(e,a),Jt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(i=>i!==void 0)):void 0}),e._zod.parse=(s,i)=>{const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>wy(d,e)):wy(c,e)}});function wy(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const QC=Re("$ZodCatch",(e,a)=>{Un.init(e,a),Jt(e._zod,"optin",()=>a.innerType._zod.optin),Jt(e._zod,"optout",()=>a.innerType._zod.optout),Jt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(f=>il(f,i,ll()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>il(d,i,ll()))},input:s.value}),s.issues=[]),s)}}),YC=Re("$ZodPipe",(e,a)=>{Un.init(e,a),Jt(e._zod,"values",()=>a.in._zod.values),Jt(e._zod,"optin",()=>a.in._zod.optin),Jt(e._zod,"optout",()=>a.out._zod.optout),Jt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,i)=>{if(i.direction==="backward"){const d=a.out._zod.run(s,i);return d instanceof Promise?d.then(f=>Gc(f,a.in,i)):Gc(d,a.in,i)}const c=a.in._zod.run(s,i);return c instanceof Promise?c.then(d=>Gc(d,a.out,i)):Gc(c,a.out,i)}});function Gc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const KC=Re("$ZodReadonly",(e,a)=>{Un.init(e,a),Jt(e._zod,"propValues",()=>a.innerType._zod.propValues),Jt(e._zod,"values",()=>a.innerType._zod.values),Jt(e._zod,"optin",()=>a.innerType._zod.optin),Jt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,i)=>{if(i.direction==="backward")return a.innerType._zod.run(s,i);const c=a.innerType._zod.run(s,i);return c instanceof Promise?c.then(_y):_y(c)}});function _y(e){return e.value=Object.freeze(e.value),e}const XC=Re("$ZodCustom",(e,a)=>{wa.init(e,a),Un.init(e,a),e._zod.parse=(s,i)=>s,e._zod.check=s=>{const i=s.value,c=a.fn(i);if(c instanceof Promise)return c.then(d=>Ey(d,s,i,e));Ey(c,s,i,e)}});function Ey(e,a,s,i){if(!e){const c={code:"custom",input:s,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(c.params=i._zod.def.params),a.issues.push(So(c))}}class JC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const i=s[0];if(this._map.set(a,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const i={...this.get(s)??{}};delete i.id;const c={...i,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function WC(){return new JC}const Pc=WC();function eO(e,a){return new e({type:"string",...at(a)})}function tO(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...at(a)})}function Ay(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...at(a)})}function nO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...at(a)})}function aO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...at(a)})}function sO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...at(a)})}function rO(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...at(a)})}function lO(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...at(a)})}function iO(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...at(a)})}function oO(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...at(a)})}function cO(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...at(a)})}function uO(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...at(a)})}function dO(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...at(a)})}function fO(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...at(a)})}function mO(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...at(a)})}function hO(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...at(a)})}function pO(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...at(a)})}function gO(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...at(a)})}function bO(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...at(a)})}function vO(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...at(a)})}function yO(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...at(a)})}function xO(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...at(a)})}function NO(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...at(a)})}function jO(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...at(a)})}function SO(e,a){return new e({type:"string",format:"date",check:"string_format",...at(a)})}function wO(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...at(a)})}function _O(e,a){return new e({type:"string",format:"duration",check:"string_format",...at(a)})}function EO(e,a){return new e({type:"number",checks:[],...at(a)})}function AO(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...at(a)})}function CO(e){return new e({type:"unknown"})}function OO(e,a){return new e({type:"never",...at(a)})}function Cy(e,a){return new G0({check:"less_than",...at(a),value:e,inclusive:!1})}function um(e,a){return new G0({check:"less_than",...at(a),value:e,inclusive:!0})}function Oy(e,a){return new P0({check:"greater_than",...at(a),value:e,inclusive:!1})}function dm(e,a){return new P0({check:"greater_than",...at(a),value:e,inclusive:!0})}function Ry(e,a){return new QA({check:"multiple_of",...at(a),value:e})}function J0(e,a){return new KA({check:"max_length",...at(a),maximum:e})}function pu(e,a){return new XA({check:"min_length",...at(a),minimum:e})}function W0(e,a){return new JA({check:"length_equals",...at(a),length:e})}function RO(e,a){return new WA({check:"string_format",format:"regex",...at(a),pattern:e})}function TO(e){return new eC({check:"string_format",format:"lowercase",...at(e)})}function DO(e){return new tC({check:"string_format",format:"uppercase",...at(e)})}function zO(e,a){return new nC({check:"string_format",format:"includes",...at(a),includes:e})}function kO(e,a){return new aC({check:"string_format",format:"starts_with",...at(a),prefix:e})}function MO(e,a){return new sC({check:"string_format",format:"ends_with",...at(a),suffix:e})}function ko(e){return new rC({check:"overwrite",tx:e})}function UO(e){return ko(a=>a.normalize(e))}function LO(){return ko(e=>e.trim())}function BO(){return ko(e=>e.toLowerCase())}function qO(){return ko(e=>e.toUpperCase())}function IO(e,a,s){return new e({type:"array",element:a,...at(s)})}function $O(e,a,s){return new e({type:"custom",check:"custom",fn:a,...at(s)})}function FO(e){const a=HO(s=>(s.addIssue=i=>{if(typeof i=="string")s.issues.push(So(i,s.value,a._zod.def));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push(So(c))}},e(s.value,s)));return a}function HO(e,a){const s=new wa({check:"custom",...at(a)});return s._zod.check=e,s}function Ty(e,a){try{var s=e()}catch(i){return a(i)}return s&&s.then?s.then(void 0,a):s}function VO(e,a){for(var s={};e.length;){var i=e[0],c=i.code,d=i.message,f=i.path.join(".");if(!s[f])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];s[f]={message:h.message,type:h.code}}else s[f]={message:d,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(y){return y.errors.forEach(function(x){return e.push(x)})}),a){var v=s[f].types,g=v&&v[i.code];s[f]=vh(f,a,s,c,g?[].concat(g,i.message):i.message)}e.shift()}return s}function ZO(e,a){for(var s={};e.length;){var i=e[0],c=i.code,d=i.message,f=i.path.join(".");if(!s[f])if(i.code==="invalid_union"&&i.errors.length>0){var h=i.errors[0][0];s[f]={message:h.message,type:h.code}}else s[f]={message:d,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(y){return y.forEach(function(x){return e.push(x)})}),a){var v=s[f].types,g=v&&v[i.code];s[f]=vh(f,a,s,c,g?[].concat(g,i.message):i.message)}e.shift()}return s}function GO(e,a,s){if(s===void 0&&(s={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,c,d){try{return Promise.resolve(Ty(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](i,a)).then(function(f){return d.shouldUseNativeValidation&&Pm({},d),{errors:{},values:s.raw?Object.assign({},i):f}})},function(f){if((function(h){return Array.isArray(h?.issues)})(f))return{values:{},errors:hy(VO(f.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw f}))}catch(f){return Promise.reject(f)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,c,d){try{return Promise.resolve(Ty(function(){return Promise.resolve((s.mode==="sync"?uA:dA)(e,i,a)).then(function(f){return d.shouldUseNativeValidation&&Pm({},d),{errors:{},values:s.raw?Object.assign({},i):f}})},function(f){if((function(h){return h instanceof zh})(f))return{values:{},errors:hy(ZO(f.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw f}))}catch(f){return Promise.reject(f)}};throw new Error("Invalid input: not a Zod schema")}const PO=Re("ZodISODateTime",(e,a)=>{yC.init(e,a),fn.init(e,a)});function QO(e){return jO(PO,e)}const YO=Re("ZodISODate",(e,a)=>{xC.init(e,a),fn.init(e,a)});function KO(e){return SO(YO,e)}const XO=Re("ZodISOTime",(e,a)=>{NC.init(e,a),fn.init(e,a)});function JO(e){return wO(XO,e)}const WO=Re("ZodISODuration",(e,a)=>{jC.init(e,a),fn.init(e,a)});function eR(e){return _O(WO,e)}const tR=(e,a)=>{zh.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>cA(e,s)},flatten:{value:s=>oA(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,Qm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,Qm,2)}},isEmpty:{get(){return e.issues.length===0}}})},ts=Re("ZodError",tR,{Parent:Error}),nR=ku(ts),aR=Mu(ts),sR=Uu(ts),rR=Lu(ts),lR=hA(ts),iR=pA(ts),oR=gA(ts),cR=bA(ts),uR=vA(ts),dR=yA(ts),fR=xA(ts),mR=NA(ts),Fn=Re("ZodType",(e,a)=>(Un.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(fl(a,{checks:[...a.checks??[],...s.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(s,i)=>Ar(e,s,i),e.brand=()=>e,e.register=((s,i)=>(s.add(e,i),e)),e.parse=(s,i)=>nR(e,s,i,{callee:e.parse}),e.safeParse=(s,i)=>sR(e,s,i),e.parseAsync=async(s,i)=>aR(e,s,i,{callee:e.parseAsync}),e.safeParseAsync=async(s,i)=>rR(e,s,i),e.spa=e.safeParseAsync,e.encode=(s,i)=>lR(e,s,i),e.decode=(s,i)=>iR(e,s,i),e.encodeAsync=async(s,i)=>oR(e,s,i),e.decodeAsync=async(s,i)=>cR(e,s,i),e.safeEncode=(s,i)=>uR(e,s,i),e.safeDecode=(s,i)=>dR(e,s,i),e.safeEncodeAsync=async(s,i)=>fR(e,s,i),e.safeDecodeAsync=async(s,i)=>mR(e,s,i),e.refine=(s,i)=>e.check(nT(s,i)),e.superRefine=s=>e.check(aT(s)),e.overwrite=s=>e.check(ko(s)),e.optional=()=>My(e),e.nullable=()=>Uy(e),e.nullish=()=>My(Uy(e)),e.nonoptional=s=>YR(e,s),e.array=()=>nN(e),e.or=s=>qR([e,s]),e.and=s=>$R(e,s),e.transform=s=>Ly(e,HR(s)),e.default=s=>GR(e,s),e.prefault=s=>QR(e,s),e.catch=s=>XR(e,s),e.pipe=s=>Ly(e,s),e.readonly=()=>eT(e),e.describe=s=>{const i=e.clone();return Pc.add(i,{description:s}),i},Object.defineProperty(e,"description",{get(){return Pc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return Pc.get(e);const i=e.clone();return Pc.add(i,s[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),eN=Re("_ZodString",(e,a)=>{kh.init(e,a),Fn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...i)=>e.check(RO(...i)),e.includes=(...i)=>e.check(zO(...i)),e.startsWith=(...i)=>e.check(kO(...i)),e.endsWith=(...i)=>e.check(MO(...i)),e.min=(...i)=>e.check(pu(...i)),e.max=(...i)=>e.check(J0(...i)),e.length=(...i)=>e.check(W0(...i)),e.nonempty=(...i)=>e.check(pu(1,...i)),e.lowercase=i=>e.check(TO(i)),e.uppercase=i=>e.check(DO(i)),e.trim=()=>e.check(LO()),e.normalize=(...i)=>e.check(UO(...i)),e.toLowerCase=()=>e.check(BO()),e.toUpperCase=()=>e.check(qO())}),hR=Re("ZodString",(e,a)=>{kh.init(e,a),eN.init(e,a),e.email=s=>e.check(tO(pR,s)),e.url=s=>e.check(lO(gR,s)),e.jwt=s=>e.check(NO(TR,s)),e.emoji=s=>e.check(iO(bR,s)),e.guid=s=>e.check(Ay(Dy,s)),e.uuid=s=>e.check(nO(Qc,s)),e.uuidv4=s=>e.check(aO(Qc,s)),e.uuidv6=s=>e.check(sO(Qc,s)),e.uuidv7=s=>e.check(rO(Qc,s)),e.nanoid=s=>e.check(oO(vR,s)),e.guid=s=>e.check(Ay(Dy,s)),e.cuid=s=>e.check(cO(yR,s)),e.cuid2=s=>e.check(uO(xR,s)),e.ulid=s=>e.check(dO(NR,s)),e.base64=s=>e.check(vO(CR,s)),e.base64url=s=>e.check(yO(OR,s)),e.xid=s=>e.check(fO(jR,s)),e.ksuid=s=>e.check(mO(SR,s)),e.ipv4=s=>e.check(hO(wR,s)),e.ipv6=s=>e.check(pO(_R,s)),e.cidrv4=s=>e.check(gO(ER,s)),e.cidrv6=s=>e.check(bO(AR,s)),e.e164=s=>e.check(xO(RR,s)),e.datetime=s=>e.check(QO(s)),e.date=s=>e.check(KO(s)),e.time=s=>e.check(JO(s)),e.duration=s=>e.check(eR(s))});function gu(e){return eO(hR,e)}const fn=Re("ZodStringFormat",(e,a)=>{cn.init(e,a),eN.init(e,a)}),pR=Re("ZodEmail",(e,a)=>{uC.init(e,a),fn.init(e,a)}),Dy=Re("ZodGUID",(e,a)=>{oC.init(e,a),fn.init(e,a)}),Qc=Re("ZodUUID",(e,a)=>{cC.init(e,a),fn.init(e,a)}),gR=Re("ZodURL",(e,a)=>{dC.init(e,a),fn.init(e,a)}),bR=Re("ZodEmoji",(e,a)=>{fC.init(e,a),fn.init(e,a)}),vR=Re("ZodNanoID",(e,a)=>{mC.init(e,a),fn.init(e,a)}),yR=Re("ZodCUID",(e,a)=>{hC.init(e,a),fn.init(e,a)}),xR=Re("ZodCUID2",(e,a)=>{pC.init(e,a),fn.init(e,a)}),NR=Re("ZodULID",(e,a)=>{gC.init(e,a),fn.init(e,a)}),jR=Re("ZodXID",(e,a)=>{bC.init(e,a),fn.init(e,a)}),SR=Re("ZodKSUID",(e,a)=>{vC.init(e,a),fn.init(e,a)}),wR=Re("ZodIPv4",(e,a)=>{SC.init(e,a),fn.init(e,a)}),_R=Re("ZodIPv6",(e,a)=>{wC.init(e,a),fn.init(e,a)}),ER=Re("ZodCIDRv4",(e,a)=>{_C.init(e,a),fn.init(e,a)}),AR=Re("ZodCIDRv6",(e,a)=>{EC.init(e,a),fn.init(e,a)}),CR=Re("ZodBase64",(e,a)=>{AC.init(e,a),fn.init(e,a)}),OR=Re("ZodBase64URL",(e,a)=>{OC.init(e,a),fn.init(e,a)}),RR=Re("ZodE164",(e,a)=>{RC.init(e,a),fn.init(e,a)}),TR=Re("ZodJWT",(e,a)=>{DC.init(e,a),fn.init(e,a)}),tN=Re("ZodNumber",(e,a)=>{Y0.init(e,a),Fn.init(e,a),e.gt=(i,c)=>e.check(Oy(i,c)),e.gte=(i,c)=>e.check(dm(i,c)),e.min=(i,c)=>e.check(dm(i,c)),e.lt=(i,c)=>e.check(Cy(i,c)),e.lte=(i,c)=>e.check(um(i,c)),e.max=(i,c)=>e.check(um(i,c)),e.int=i=>e.check(zy(i)),e.safe=i=>e.check(zy(i)),e.positive=i=>e.check(Oy(0,i)),e.nonnegative=i=>e.check(dm(0,i)),e.negative=i=>e.check(Cy(0,i)),e.nonpositive=i=>e.check(um(0,i)),e.multipleOf=(i,c)=>e.check(Ry(i,c)),e.step=(i,c)=>e.check(Ry(i,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function ua(e){return EO(tN,e)}const DR=Re("ZodNumberFormat",(e,a)=>{zC.init(e,a),tN.init(e,a)});function zy(e){return AO(DR,e)}const zR=Re("ZodUnknown",(e,a)=>{kC.init(e,a),Fn.init(e,a)});function ky(){return CO(zR)}const kR=Re("ZodNever",(e,a)=>{MC.init(e,a),Fn.init(e,a)});function MR(e){return OO(kR,e)}const UR=Re("ZodArray",(e,a)=>{UC.init(e,a),Fn.init(e,a),e.element=a.element,e.min=(s,i)=>e.check(pu(s,i)),e.nonempty=s=>e.check(pu(1,s)),e.max=(s,i)=>e.check(J0(s,i)),e.length=(s,i)=>e.check(W0(s,i)),e.unwrap=()=>e.element});function nN(e,a){return IO(UR,e,a)}const LR=Re("ZodObject",(e,a)=>{BC.init(e,a),Fn.init(e,a),Jt(e,"shape",()=>a.shape),e.keyof=()=>aN(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ky()}),e.loose=()=>e.clone({...e._zod.def,catchall:ky()}),e.strict=()=>e.clone({...e._zod.def,catchall:MR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>aA(e,s),e.safeExtend=s=>sA(e,s),e.merge=s=>rA(e,s),e.pick=s=>tA(e,s),e.omit=s=>nA(e,s),e.partial=(...s)=>lA(sN,e,s[0]),e.required=(...s)=>iA(rN,e,s[0])});function qu(e,a){const s={type:"object",shape:e??{},...at(a)};return new LR(s)}const BR=Re("ZodUnion",(e,a)=>{qC.init(e,a),Fn.init(e,a),e.options=a.options});function qR(e,a){return new BR({type:"union",options:e,...at(a)})}const IR=Re("ZodIntersection",(e,a)=>{IC.init(e,a),Fn.init(e,a)});function $R(e,a){return new IR({type:"intersection",left:e,right:a})}const Km=Re("ZodEnum",(e,a)=>{$C.init(e,a),Fn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(i,c)=>{const d={};for(const f of i)if(s.has(f))d[f]=a.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Km({...a,checks:[],...at(c),entries:d})},e.exclude=(i,c)=>{const d={...a.entries};for(const f of i)if(s.has(f))delete d[f];else throw new Error(`Key ${f} not found in enum`);return new Km({...a,checks:[],...at(c),entries:d})}});function aN(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Km({type:"enum",entries:s,...at(a)})}const FR=Re("ZodTransform",(e,a)=>{FC.init(e,a),Fn.init(e,a),e._zod.parse=(s,i)=>{if(i.direction==="backward")throw new U0(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push(So(d,s.value,a));else{const f=d;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=s.value),f.inst??(f.inst=e),s.issues.push(So(f))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function HR(e){return new FR({type:"transform",transform:e})}const sN=Re("ZodOptional",(e,a)=>{HC.init(e,a),Fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function My(e){return new sN({type:"optional",innerType:e})}const VR=Re("ZodNullable",(e,a)=>{VC.init(e,a),Fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function Uy(e){return new VR({type:"nullable",innerType:e})}const ZR=Re("ZodDefault",(e,a)=>{ZC.init(e,a),Fn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function GR(e,a){return new ZR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():q0(a)}})}const PR=Re("ZodPrefault",(e,a)=>{GC.init(e,a),Fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function QR(e,a){return new PR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():q0(a)}})}const rN=Re("ZodNonOptional",(e,a)=>{PC.init(e,a),Fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function YR(e,a){return new rN({type:"nonoptional",innerType:e,...at(a)})}const KR=Re("ZodCatch",(e,a)=>{QC.init(e,a),Fn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function XR(e,a){return new KR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const JR=Re("ZodPipe",(e,a)=>{YC.init(e,a),Fn.init(e,a),e.in=a.in,e.out=a.out});function Ly(e,a){return new JR({type:"pipe",in:e,out:a})}const WR=Re("ZodReadonly",(e,a)=>{KC.init(e,a),Fn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function eT(e){return new WR({type:"readonly",innerType:e})}const tT=Re("ZodCustom",(e,a)=>{XC.init(e,a),Fn.init(e,a)});function nT(e,a={}){return $O(tT,e,a)}function aT(e){return FO(e)}const sT=["correlativo","no correlativo"],rT=qu({oi:gu().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:ua(),alcance:ua(),pma:ua().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:aN(sT).default("correlativo")}),fm=qu({c1:ua().optional().nullable(),c2:ua().optional().nullable(),c3:ua().optional().nullable(),c4:ua().optional().nullable(),c5:ua().optional().nullable(),c6:ua().optional().nullable(),c7:gu().optional().nullable(),c7_seconds:ua().optional().nullable(),caudal:ua().optional().nullable(),error:ua().optional().nullable()}),lT=qu({medidor:gu().optional(),estado:ua().int().min(0).max(5).default(0),q3:fm.optional(),q2:fm.optional(),q1:fm.optional(),conformidad:gu().optional()});qu({estado:ua().int().min(0).optional(),rows:ua().int().min(1).default(15),rowsData:nN(lT)});function iT(e){return e===16?25.6:e===10?16:NaN}const oT=/^[A-Za-z0-9]{10}$/,cT=e=>(e??"").trim().toUpperCase(),Nn=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},Xl=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],Xm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},By=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}Xm(a)}},Gn=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function uT(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const i=s[1],c=s[2],d=parseInt(c,10)+a;return`${i}${d.toString().padStart(c.length,"0")}`}function qy(e,a,s){return e?s==="no correlativo"?e.slice(0,4):uT(e,a):""}function mm(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let i=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,f=s[2]||0;i=c*60+d+f/1e3}else if(s.length===2)i=s[0]*60+(s[1]||0);else if(s.length===1)i=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),f=(c-d)*100;i=d*60+f}}return i}function hm(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function pm(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function dT(e,a,s,i){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||i==null)return"";const c=Math.abs(a),d=Math.abs(s),f=Math.abs(i),h=!(c>2.05||d>2.05||f>5.05),v=c<1.05||d<1.05||f<2.55,g=Math.sign(a),y=Math.sign(s),x=Math.sign(i),j=g>=0&&y>=0&&x>=0||g<=0&&y<=0&&x<=0,F=h&&v;return j?F?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const Jl=({val:e,isErr:a,warnThreshold:s,failThreshold:i})=>{const c=g=>{const y=Number(g.toFixed(1));return Object.is(y,-0)?"0.0":y.toFixed(1)};if(!a)return l.jsx("td",{className:"vi-surface-2",children:e==null||isNaN(e)?l.jsx("span",{className:"text-muted",children:"-"}):l.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),f=s??i??0,h=i??s??0;let v="vi-e-ok";return e==null||isNaN(e)?v="":h>0&&d>h?v="vi-e-error":f>0&&d>f&&(v="vi-e-warn"),l.jsx("td",{className:"vi-surface-2",children:e==null||isNaN(e)?l.jsx("span",{className:"text-muted",children:"-"}):l.jsx("span",{className:`vi-qe-value fw-bold ${v}`,children:c(e)})})};function fT({show:e,title:a,initial:s,onClose:i,onSubmit:c,onCancelWithDraft:d,numerationType:f,duplicateMap:h,onClearDuplicate:v,readOnly:g,draftStorageKey:y,draftMeta:x,isOnline:j,showRetry:F}){const E={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},A=g===!0,R=j!==!1,{register:$,control:z,handleSubmit:te,reset:M,setValue:D,getValues:K}=Su({defaultValues:E}),B=$("rows",{valueAsNumber:!0}),{fields:H,replace:de,append:Te,remove:Oe}=U_({control:z,name:"rowsData"}),[ve,Ee]=p.useState(0),ke=p.useRef(0),De=p.useRef(null),[U,V]=p.useState(0),ae=0,he=5,fe=()=>{if(U>=he){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}V(W=>Math.min(W+1,he))},_=()=>{if(U<=ae){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}V(W=>Math.max(W-1,ae))},X=p.useRef(null),[ce,Y]=p.useState([]),ye=!!s?.version,Se=p.useRef("rows"),Le=p.useRef(null),Ve=p.useRef(null),pe=p.useRef(null),Be=p.useRef(new Map),Ze=["c1","c2","c3","c4","c5","c6","c7"];p.useEffect(()=>{s?.rowsData?.length&&H.forEach((W,se)=>{if(se===0)return;s.rowsData[se]?.medidor&&Be.current.set(W.id,!0)})},[s,H]);const Je=p.useCallback(W=>{const se=W<0?0:W;Ee(se),requestAnimationFrame(()=>{const Ce=document.querySelector(`input.vi-medidor-input[data-row="${se}"]`);Ce&&(Ce.focus(),Ce.select())})},[]),ct=()=>(K("rowsData")??[]).slice(0,H.length);p.useEffect(()=>{ke.current=ve},[ve]);const ze=W=>{const se=W.target;if(!se)return;const Ce=se.tagName;if(Ce!=="INPUT"&&Ce!=="SELECT"&&Ce!=="TEXTAREA")return;const Fe=W.key;if(Fe==="Escape"){W.preventDefault(),An();return}if(Fe==="ArrowUp"||Fe==="ArrowDown"||Fe==="ArrowLeft"||Fe==="ArrowRight"||Fe==="Enter"){const mn=se.name;if(!mn||!mn.startsWith("rowsData."))return;const Ut=mn.match(/^rowsData\.(\d+)\.(.+)$/);if(!Ut)return;const mt=parseInt(Ut[1],10),xt=Ut[2],_t=W.currentTarget,hn=H.length-1,pn=(sn,At)=>{let Pt=sn+At;for(;Pt>=0&&Pt<=hn;){const Hn=`[name="rowsData.${Pt}.${xt}"]`,Xt=_t.querySelector(Hn);if(Xt&&!Xt.disabled)return{index:Pt,el:Xt};Pt+=At}return null};if(Fe==="ArrowUp"||Fe==="ArrowDown"){W.preventDefault();const At=pn(mt,Fe==="ArrowUp"?-1:1);At&&By(xt,At.el);return}if(Fe==="ArrowLeft"||Fe==="ArrowRight"){W.preventDefault();const sn=Xl.indexOf(xt);if(sn===-1)return;const Pt=sn+(Fe==="ArrowRight"?1:-1);if(Pt<0||Pt>=Xl.length)return;const Hn=Xl[Pt],Xt=`[name="rowsData.${mt}.${Hn}"]`,$t=_t.querySelector(Xt);$t&&!$t.disabled&&Xm($t);return}if(Fe==="Enter"){W.preventDefault();const sn=Xl.indexOf(xt);if(sn===-1)return;const At=pn(mt,1);if(At){By(xt,At.el);return}const Pt=sn+1;if(Pt<Xl.length){const Hn=Xl[Pt];for(let Xt=0;Xt<=hn;Xt++){const $t=`[name="rowsData.${Xt}.${Hn}"]`,gn=_t.querySelector($t);if(gn&&!gn.disabled){Xm(gn);return}}}X.current&&X.current.focus();return}}if(Fe!=="Tab")return;const rt=W.currentTarget,ot=Array.from(rt.querySelectorAll("input, select, textarea")).filter(Rt=>!Rt.hasAttribute("disabled")),Ke=ot.indexOf(se);if(Ke===-1)return;if(Fe==="Tab"&&W.shiftKey){Ke>0&&(W.preventDefault(),ot[Ke-1].focus());return}const kt=Ke+1;if(kt<ot.length){W.preventDefault(),ot[kt].focus();return}X.current&&(W.preventDefault(),X.current.focus())},Pe=(W,se)=>{de(W),D("rows",W.length),Ee(Ce=>W.length===0?0:typeof se=="number"?Math.max(0,Math.min(se,W.length-1)):Math.min(Ce,W.length-1))},ue=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Ie=W=>W==null?"":typeof W=="number"?W:typeof W=="string"?W.replace(",","."):W,we=W=>{if(!W)return{};const se={...W};return["c1","c2","c3","c4","c5","c6"].forEach(Ce=>{se[Ce]=Ie(se[Ce])}),se},We=()=>{const W=s?.rowsData?.length??s?.rows??15,se=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:W}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(Ce=>({medidor:Ce.medidor??"",estado:Ce.estado??0,q3:we(Ce.q3),q2:we(Ce.q2),q1:we(Ce.q1)}));return{rows:se.length,rowsData:se,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},O=p.useCallback(()=>{const W=K(),se=W.rowsData??[];return{estado:W.estado??0,rows:Number(W.rows??se.length),version:W.version??s?.version??null,rowsData:se,draftCreatedAt:W.draftCreatedAt??s?.draftCreatedAt??null,draftId:W.draftId??s?.draftId??null}},[K,s?.version,s?.draftCreatedAt,s?.draftId]),T=W=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:W}:null,S=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,L=W=>W==null||W===""||typeof W=="number"&&Number.isNaN(W),I=W=>W?Number(W.estado??0)!==0||W.medidor&&W.medidor.toString().trim()!==""?!0:me(W):!1,J=W=>(W.rowsData??[]).some(Ce=>I(Ce)),me=W=>{const se=[W.q3,W.q2,W.q1];for(const Ce of se)if(Ce){for(const Fe of Ze)if(!L(Ce[Fe]))return!0}return!1},_e=W=>W?{...W,c4:null,c5:null}:{c4:null,c5:null},G=W=>{if(!W)return W;const se={...W};return L(se.c4)&&(se.c4=null),L(se.c5)&&(se.c5=null),se},Me=W=>{for(let se=0;se<W.length;se++){const Ce=W[se],Fe=Number(Ce.estado??0),rt=Fe!==0;if(!I(Ce))continue;if(!Ce.medidor||Ce.medidor.toString().trim()==="")return`La fila ${se+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Ke=[{name:"Q3 (Nominal)",block:Ce.q3},{name:"Q2 (Transicin)",block:Ce.q2},{name:"Q1 (Mnimo)",block:Ce.q1}],an=Ke.some(({block:kt})=>kt&&Ze.some(Rt=>!L(kt[Rt])));if(Fe===0&&!an)return`La fila ${se+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!rt)for(const{name:kt,block:Rt}of Ke){if(!Rt||!Ze.some(mt=>!L(Rt[mt])))continue;if(Ze.some(mt=>L(Rt[mt])))return`La fila ${se+1} tiene datos incompletos en el bloque ${kt}. Completa todos los campos o elimina la fila.`}}return null},qe=W=>W==null||W===""?null:String(W).replace(/\./g,","),Xe=W=>{if(!W)return{};const se={...W};return["c1","c2","c3","c4","c5","c6","c7"].forEach(Ce=>{se[Ce]=qe(se[Ce])}),se},tt=W=>{const se=[];let Ce=null;const Fe=(ot,Ke,an)=>{se[ot]||(se[ot]={}),se[ot][Ke]=an,Ce||(Ce=`Fila ${ot+1}: ${an}`)},rt={};return W.forEach(ot=>{const Ke=(ot.medidor??"").trim();Ke&&(rt[Ke]=(rt[Ke]??0)+1)}),W.forEach((ot,Ke)=>{const an=ot.q3||{},kt=ot.q2||{},Rt=ot.q1||{},mn=an.c4,Ut=an.c5,mt=kt.c4,xt=kt.c5,_t=Rt.c4,hn=Rt.c5;mn!=null&&Ut!=null&&!Number.isNaN(mn)&&!Number.isNaN(Ut)&&Ut<mn&&Fe(Ke,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),mt!=null&&xt!=null&&!Number.isNaN(mt)&&!Number.isNaN(xt)&&xt<mt&&Fe(Ke,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),_t!=null&&hn!=null&&!Number.isNaN(_t)&&!Number.isNaN(hn)&&hn<_t&&Fe(Ke,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),Ut!=null&&mt!=null&&!Number.isNaN(Ut)&&!Number.isNaN(mt)&&mt<Ut&&Fe(Ke,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),xt!=null&&_t!=null&&!Number.isNaN(xt)&&!Number.isNaN(_t)&&_t<xt&&Fe(Ke,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const pn=(ot.medidor??"").trim();pn&&rt[pn]>1&&Fe(Ke,"medidor_dup","Serie de medidor repetida."),pn&&!oT.test(pn)&&Fe(Ke,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:se,firstMessage:Ce}},je=W=>{if(A)return;const se=(W.rowsData??[]).slice(0,H.length),Ce=Me(se);if(Ce){alert(Ce);return}const{rowErrors:Fe,firstMessage:rt}=tt(se);if(Y(Fe),rt){alert(rt);return}const Ke=se.filter(I).map(kt=>{const Rt=Number(kt.estado??0),mn=Rt>=1&&Rt<=4,Ut=Rt===5&&!me(kt),mt=mn||Ut,xt=G(kt.q3),_t=G(kt.q2),hn=G(kt.q1),pn=sn=>{if(mt){const At=_e(sn);return Xe(At)}return Xe(sn)};return{...kt,q3:pn(xt),q2:pn(_t),q1:pn(hn)}}),an={...W,rows:Ke.length,rowsData:Ke,version:W.version??s?.version??null};c(an)},nt=io({control:z,name:"rowsData.0"}),zt=io({control:z,name:"rowsData"}),yt=io({control:z,name:"rowsData.0.q3.c7"}),nn=io({control:z,name:"rowsData.0.q2.c7"}),En=io({control:z,name:"rowsData.0.q1.c7"});p.useEffect(()=>{H[0]&&(D("rowsData.0.q3.c7_seconds",mm(yt)),D("rowsData.0.q2.c7_seconds",mm(nn)),D("rowsData.0.q1.c7_seconds",mm(En)))},[yt,nn,En,D,H]),p.useEffect(()=>{const W=zt??[],{rowErrors:se}=tt(W);Y(se)},[zt]),p.useEffect(()=>{if(!nt||H.length<=1)return;const W=zt??[];H.forEach((se,Ce)=>{if(Ce===0)return;const Fe=se.id;(Be.current.get(Fe)??!1)||D(`rowsData.${Ce}.medidor`,qy(nt.medidor||"",Ce,f));const ot=W[Ce]?.estado;(ot==null||Number.isNaN(ot))&&D(`rowsData.${Ce}.estado`,nt.estado),D(`rowsData.${Ce}.q3.c1`,nt.q3?.c1??null),D(`rowsData.${Ce}.q3.c2`,nt.q3?.c2??null),D(`rowsData.${Ce}.q3.c3`,nt.q3?.c3??null),D(`rowsData.${Ce}.q3.c6`,nt.q3?.c6??null),D(`rowsData.${Ce}.q3.c7`,nt.q3?.c7??""),D(`rowsData.${Ce}.q3.c7_seconds`,nt.q3?.c7_seconds??null),D(`rowsData.${Ce}.q2.c1`,nt.q2?.c1??null),D(`rowsData.${Ce}.q2.c2`,nt.q2?.c2??null),D(`rowsData.${Ce}.q2.c3`,nt.q2?.c3??null),D(`rowsData.${Ce}.q2.c6`,nt.q2?.c6??null),D(`rowsData.${Ce}.q2.c7`,nt.q2?.c7??""),D(`rowsData.${Ce}.q2.c7_seconds`,nt.q2?.c7_seconds??null),D(`rowsData.${Ce}.q1.c1`,nt.q1?.c1??null),D(`rowsData.${Ce}.q1.c2`,nt.q1?.c2??null),D(`rowsData.${Ce}.q1.c3`,nt.q1?.c3??null),D(`rowsData.${Ce}.q1.c6`,nt.q1?.c6??null),D(`rowsData.${Ce}.q1.c7`,nt.q1?.c7??""),D(`rowsData.${Ce}.q1.c7_seconds`,nt.q1?.c7_seconds??null)})},[nt,zt,H,D,f]),p.useEffect(()=>{Ee(W=>{const se=Math.max(H.length-1,0);return W>se?se:W})},[H.length]);const ma=()=>{if(H.length>=50){if(D("rows",50),Je(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){De.current&&(De.current.focus(),De.current.select());return}return}Te(ue()),D("rows",H.length+1),Je(H.length)},jn=W=>{if(H.length<=1)return;const se=Math.max(0,Math.min(W,H.length-1));Oe(se),D("rows",Math.max(H.length-1,1)),Je(Math.max(0,se-(se===H.length-1?1:0)))},it=()=>{H.length<=1||(Oe(H.length-1),D("rows",Math.max(H.length-1,1)),Je(Math.max(0,H.length-2)))},Pn=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const W=ct();if(!W.length)return;const se=W.map(()=>ue());Pe(se,0),Je(0)},Qn=()=>{let W=Number(K("rows"));if((!Number.isFinite(W)||W<1)&&(W=1),W>50){const Fe=ct();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){D("rows",Fe.length),De.current&&(De.current.focus(),De.current.select());return}W=50}const se=ct();if(W!==se.length&&!confirm(`La lista tendr ${W} filas. Quieres continuar?`)){D("rows",se.length),De.current&&(De.current.focus(),De.current.select());return}if(W===se.length){D("rows",W);return}if(W>se.length){const Fe=Math.min(W,50)-se.length;if(Fe>0){const rt=Array.from({length:Fe},()=>ue()),ot=[...se,...rt];Pe(ot,ve),Je(se.length)}else D("rows",se.length);return}const Ce=se.slice(0,W);Pe(Ce,Math.min(ve,W-1))},na=W=>{W.key==="Enter"&&(W.preventDefault(),Qn(),Je(0))},An=()=>{const W=K(),se=document.activeElement;if(De.current&&se===De.current)Se.current="rows",Le.current="rows";else if(se&&se instanceof HTMLElement){const Ce=se.getAttribute("name");Ce&&Ce.startsWith("rowsData.")?(Se.current="grid",Le.current=Ce):(Se.current="grid",Le.current=null)}else Se.current="grid",Le.current=null;if(y){const Ce=O();if(!J(Ce))Sr(y),pe.current=null;else{const Fe=T(Ce);if(Fe){const rt=JSON.stringify(Fe);po(y,Fe,S()),pe.current=rt}}}d&&d(W),i()};p.useEffect(()=>{if(!e)return;const W=se=>{if(se.key==="Escape"){se.preventDefault(),An();return}if((se.key==="+"||se.key==="=")&&se.ctrlKey){se.preventDefault(),ma();return}(se.key==="-"||se.key==="_")&&se.ctrlKey&&(se.preventDefault(),it())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[e,ma,it,An]),p.useEffect(()=>{const W=We();M(W),Pe(W.rowsData,0),Be.current.clear(),requestAnimationFrame(()=>{if(ye)Je(0);else if(Le.current){const se=document.querySelector(`[name="${Le.current}"]`);if(se){se.focus(),"select"in se&&se.select?.();return}Je(ke.current||0)}else De.current&&(De.current.focus(),De.current.select())})},[s,M,de,Je,ye]),p.useEffect(()=>{if(!e||!y)return;const W=O();if(!J(W)){Sr(y),pe.current=null;return}const se=T(W);if(!se)return;const Ce=JSON.stringify(se);if(Ce!==pe.current)return Ve.current&&window.clearTimeout(Ve.current),Ve.current=window.setTimeout(()=>{po(y,se,S()),pe.current=Ce},400),()=>{Ve.current&&window.clearTimeout(Ve.current)}},[e,y,zt,O]),p.useEffect(()=>{e&&requestAnimationFrame(()=>{if(ye)Je(0);else if(Le.current){const W=document.querySelector(`[name="${Le.current}"]`);if(W){W.focus(),"select"in W&&W.select?.();return}Je(ke.current||0)}else De.current&&(De.current.focus(),De.current.select())})},[e,Je,ye]);const Ln=ce.some(W=>W&&Object.values(W).some(Boolean));return e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:W=>{W.target===W.currentTarget&&An()},children:[l.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (theme-aware) */
        .vi-spreadsheet {
          background-color: var(--vi-grid-bg);
          color: var(--vi-grid-text);
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: var(--vi-grid-head-bg);
          color: var(--vi-grid-head-text);
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet td.vi-at-valor {
          color: var(--vi-grid-text) !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: var(--vi-grid-row-index-text);
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: var(--vi-grid-row-index-bg); /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: var(--vi-grid-head-bg);
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: var(--vi-grid-base-row-bg) !important;
          color: var(--vi-grid-row-index-text) !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: var(--c-primary) !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: var(--vi-grid-active-bg) !important;
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: var(--vi-grid-input-bg);
          color: var(--vi-grid-active-text);
          border-color: var(--vi-grid-input-active-border);
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: var(--vi-grid-active-bg) !important;
          color: var(--vi-grid-active-text) !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: var(--vi-grid-input-bg);
          border-color: var(--vi-grid-input-border);
          color: var(--vi-grid-input-text);
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: var(--vi-grid-disabled-bg);
          color: var(--vi-grid-disabled-text);
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: var(--vi-grid-at-fail-text) !important;
          background-color: var(--vi-grid-at-fail-bg);
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: var(--vi-grid-at-ok-text) !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: var(--vi-grid-e-ok); /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: var(--vi-grid-e-warn); /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: var(--vi-grid-e-error); /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: var(--vi-grid-input-active-bg) !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: var(--vi-grid-error-border) !important;
          background-color: var(--vi-grid-error-bg) !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),l.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:l.jsx("div",{className:"modal-content",children:l.jsxs("form",{onSubmit:te(je),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:a}),l.jsx("button",{type:"button",className:"btn-close",onClick:An,"aria-label":"Close"})]}),l.jsx("fieldset",{disabled:A,children:l.jsxs("div",{className:"modal-body p-2",children:[!R&&l.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),l.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[l.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[l.jsx("label",{className:"form-label mb-1",children:"Filas"}),l.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...B,ref:W=>{De.current=W,B.ref(W)},onBlur:Qn,onKeyDown:na})]}),l.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:ma,children:"+ Agregar Fila"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:it,children:"- Quitar ltima fila"}),l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:Pn,children:"Limpiar Todo"})]}),l.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:fe,children:"Aumentar tamao"}),l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:_,children:"Reducir tamao"})]}),l.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",ve+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),l.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:l.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${U}`,children:[l.jsxs("thead",{className:"vi-surface-2 sticky-top z-1",children:[l.jsxs("tr",{children:[l.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),l.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),l.jsx("th",{style:{width:"90px"},children:"Estado"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q3"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q2"}),l.jsx("th",{className:"table-primary border-start vi-border",colSpan:9,children:"Q1"}),l.jsx("th",{className:"bg-warning vi-text-contrast border-start vi-border vi-header-at",style:{width:"100px"},children:"Conformidad"}),l.jsx("th",{className:"vi-surface-2 vi-text vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),l.jsxs("tr",{style:{fontSize:"0.75rem"},children:[l.jsx("th",{className:"vi-row-index"}),l.jsx("th",{className:"vi-sticky-medidor"}),l.jsx("th",{}),l.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),l.jsx("th",{title:"T (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q3"}),l.jsx("th",{title:"U (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{className:"vi-min-width border-start vi-border",title:"V",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),l.jsx("th",{title:"AF (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q2"}),l.jsx("th",{title:"AG (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{className:"vi-min-width border-start vi-border",title:"AH",children:"Temp"}),l.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),l.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),l.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),l.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),l.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),l.jsx("th",{title:"AR (Caudal)",className:"vi-surface-2 border-start text-primary fw-bold vi-min-width",children:"Q1"}),l.jsx("th",{title:"AS (Error %)",className:"vi-surface-2 text-danger  fw-bold vi-min-width",children:"E%"}),l.jsx("th",{title:"AT (Conformidad)",className:"bg-warning vi-text-contrast vi-header-at",children:"Estado"}),l.jsx("th",{className:"vi-header-quitar"})]})]}),l.jsx("tbody",{onKeyDown:ze,children:H.map((W,se)=>{const Ce=se===0,Fe=zt?.[se]||{},rt=ce[se]||{},ot=Number(Fe.estado??0),Ke=ot>=1&&ot<=4,an=Fe.q3?.c6,kt=Fe.q3?.c7_seconds,Rt=Fe.q3?.c4,mn=Fe.q3?.c5,Ut=hm(an,kt),mt=pm(Rt,mn,an),xt=Fe.q2?.c6,_t=Fe.q2?.c7_seconds,hn=Fe.q2?.c4,pn=Fe.q2?.c5,sn=hm(xt,_t),At=pm(hn,pn,xt),Pt=Fe.q1?.c6,Hn=Fe.q1?.c7_seconds,Xt=Fe.q1?.c4,$t=Fe.q1?.c5,gn=hm(Pt,Hn),Cn=pm(Xt,$t,Pt),Lt=dT(Fe.estado,mt,At,Cn),ds=[Ce?"vi-base-row":"",ve===se?"table-active":""].filter(Boolean).join(" "),oa=$(`rowsData.${se}.medidor`),Ft=cT(Fe.medidor??""),On=Ft?h?.[Ft]?.message:"",Ua=rt.medidor_format||rt.medidor_dup||On||"",ns=!!Ua,Yn=(Lt||"").toUpperCase(),La=Yn==="NO CONFORME"?"vi-at-valor--fail":Yn==="CONFORME"?"vi-at-valor--ok":"";return l.jsxs("tr",{className:ds,onMouseEnter:()=>Ee(se),onClick:()=>Ee(se),onFocusCapture:()=>Ee(se),children:[l.jsx("td",{className:"small vi-row-index",children:se+1}),l.jsx("td",{className:"vi-sticky-medidor",children:l.jsx("input",{"data-row":se,"data-row-id":W.id,...oa,size:1,style:{minWidth:"100%"},disabled:Ke,onInput:Nn,className:["form-control form-control-sm p-1 text-center vi-medidor-input",ns?"vi-error-cell":""].filter(Boolean).join(" "),title:Ua||"",onChange:Ct=>{const _a=K(`rowsData.${se}.medidor`);if(oa.onChange(Ct),v?.(_a),se===0)return;const aa=Ct.currentTarget.value.trim();if(!aa){Be.current.delete(W.id);return}const bn=qy(nt?.medidor??"",se,f);bn&&bn===aa?Be.current.delete(W.id):Be.current.set(W.id,!0)}})}),l.jsx("td",{children:l.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...$(`rowsData.${se}.estado`,{valueAsNumber:!0}),children:[l.jsx("option",{value:0,children:"0"}),l.jsx("option",{value:1,children:"1"}),l.jsx("option",{value:2,children:"2"}),l.jsx("option",{value:3,children:"3"}),l.jsx("option",{value:4,children:"4"}),l.jsx("option",{value:5,children:"5"})]})}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q3.c1`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q3.c2`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q3.c3`,{setValueAs:Gn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:Nn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q3_li?" vi-error-cell":""),title:rt.q3_li||"",...$(`rowsData.${se}.q3.c4`,{setValueAs:Gn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:Nn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q3_lf?" vi-error-cell":""),title:rt.q3_lf||"",...$(`rowsData.${se}.q3.c5`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q3.c6`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q3.c7`),placeholder:"m,ss,ms"})}),l.jsx(Jl,{val:Ut}),l.jsx(Jl,{val:mt,isErr:!0,warnThreshold:2,failThreshold:5}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q2.c1`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q2.c2`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q2.c3`,{setValueAs:Gn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:Nn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q2_li?" vi-error-cell":""),title:rt.q2_li||"",...$(`rowsData.${se}.q2.c4`,{setValueAs:Gn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:Nn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q2_lf?" vi-error-cell":""),title:rt.q2_lf||"",...$(`rowsData.${se}.q2.c5`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q2.c6`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q2.c7`),placeholder:"m,ss,ms"})}),l.jsx(Jl,{val:sn}),l.jsx(Jl,{val:At,isErr:!0,warnThreshold:2,failThreshold:5}),l.jsx("td",{className:"border-start vi-border",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q1.c1`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q1.c2`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q1.c3`,{setValueAs:Gn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:Nn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q1_li?" vi-error-cell":""),title:rt.q1_li||"",...$(`rowsData.${se}.q1.c4`,{setValueAs:Gn})})}),l.jsx("td",{className:"vi-surface",children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ke,onInput:Nn,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(rt.q1_lf?" vi-error-cell":""),title:rt.q1_lf||"",...$(`rowsData.${se}.q1.c5`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q1.c6`,{setValueAs:Gn})})}),l.jsx("td",{children:l.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Nn,disabled:!Ce||Ke,...$(`rowsData.${se}.q1.c7`),placeholder:"m,ss,ms"})}),l.jsx(Jl,{val:gn}),l.jsx(Jl,{val:Cn,isErr:!0,warnThreshold:5,failThreshold:5}),l.jsx("td",{className:`vi-surface-2 border-start fw-bold small text-center vi-at-valor ${La}`,children:Lt}),l.jsx("td",{className:"text-center align-middle vi-surface-2",children:l.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:Ct=>{Ct.stopPropagation(),jn(se)},disabled:H.length<=1,title:"Eliminar esta fila",children:""})})]},W.id)})})]})})]})}),l.jsxs("div",{className:"modal-footer py-1",children:[l.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:An,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:X,disabled:Ln||A,children:F&&R?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),l.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function Iu({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:i="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[f,h]=p.useState(""),v=p.useRef(null),g=f.trim().length>0;if(p.useEffect(()=>{e&&(h(""),setTimeout(()=>v.current?.focus(),0))},[e]),p.useEffect(()=>{if(!e)return;const x=j=>{j.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const y=x=>{x.preventDefault(),g&&d(f.trim())};return l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:y,children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"mb-3",children:[l.jsx(No,{label:"Contrasea",inputId:"pwd",value:f,onChange:x=>h(x.target.value),inputRef:v,minLength:1,required:!0}),l.jsx("div",{className:"form-text",children:i})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:c,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!g,children:s})]})]})})})}async function mT(e,a){try{const{data:s}=await Qe.put(`/oi/${e}`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function hT(e,a){try{const{data:s}=await Qe.patch(`/oi/${e}/code`,{code:a});return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar el codigo de la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function pT(e,a){try{const{data:s}=await Qe.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function gT(e){try{const{data:a}=await Qe.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function Iy(e,a){try{const{data:s}=await Qe.post(`/oi/${e}/bancadas`,a);return s}catch(s){const i=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof i=="string"?c=i:i&&typeof i=="object"&&(c=i.message??i.detail??c);const d=s?.response?.data?.duplicates??(i&&typeof i=="object"?i.duplicates:void 0),f=new Error(c);throw f.status=s?.response?.status,Array.isArray(d)&&(f.duplicates=d),f}}async function bT(e,a){try{const{data:s}=await Qe.put(`/oi/bancadas/${e}`,a);return s}catch(s){const i=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof i=="string"?c=i:i&&typeof i=="object"&&(c=i.message??i.detail??c);const d=s?.response?.data?.duplicates??(i&&typeof i=="object"?i.duplicates:void 0),f=new Error(c);throw f.status=s?.response?.status,Array.isArray(d)&&(f.duplicates=d),f}}async function vT(e,a){try{const{data:s}=await Qe.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(i);throw c.status=s?.response?.status,c}}async function yT(e,a){try{const{data:s}=await Qe.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(i);throw c.status=s?.response?.status,c}}async function $y(e){try{await Qe.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function lN(e,a){let s;try{s=await Qe.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(g){let y=g?.message??"No se pudo generar el Excel";const x=g?.response?.data;if(x instanceof Blob)try{const j=await x.text();try{const E=JSON.parse(j)?.detail;typeof E=="string"?y=E:Array.isArray(E)&&E.length>0?y=E.map(A=>String(A?.msg??"")).filter(Boolean).join(", "):j&&(y=j)}catch{j&&(y=j)}}catch{}else y=g?.response?.data?.detail??y;throw new Error(y)}const i=s.data,f=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(i),v=document.createElement("a");v.href=h,v.download=f,document.body.appendChild(v),v.click(),URL.revokeObjectURL(h),v.remove()}async function xT(e){await Qe.delete(`/oi/${e}`)}async function NT(e){try{const{data:a}=await Qe.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",i=new Error(s);throw i.status=a?.response?.status,i}}async function Yc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:i}=await Qe.delete(`/oi/${e}/lock`,s);return i}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(i);throw c.status=s?.response?.status,c}}async function jT(e,a){try{const{data:s}=await Qe.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const i=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(i);throw c.status=s?.response?.status,c}}async function gm(e){try{const{data:a}=await Qe.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function ST(e){try{const{data:a}=await Qe.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function wT(e){let a;try{a=await Qe.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(f){let h=f?.message??"No se pudo exportar el CSV";const v=f?.response?.data;if(v instanceof Blob)try{const y=await v.text();try{const j=JSON.parse(y)?.detail;typeof j=="string"?h=j:Array.isArray(j)&&j.length>0?h=j.map(F=>String(F?.msg??"")).filter(Boolean).join(", "):y&&(h=y)}catch{y&&(h=y)}}catch{}else h=f?.response?.data?.detail??h;const g=new Error(h);throw g.status=f?.response?.status,g}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function _T(){try{const{data:e}=await Qe.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function bm(e){try{const{data:a}=await Qe.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const Mh="vi.currentOI";function go(e){sessionStorage.setItem(Mh,JSON.stringify(e))}function Fy(){const e=sessionStorage.getItem(Mh);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Jm(){sessionStorage.removeItem(Mh)}const vm=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},ym=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},ET=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:vm(e.q3),q2:vm(e.q2),q1:vm(e.q1)}),AT=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:ym(e.q3),q2:ym(e.q2),q1:ym(e.q1)}),iN=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),CT=e=>e.reduce((a,s)=>a+(s.rows??0),0),OT=e=>JSON.parse(JSON.stringify(e)),Hy=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),Vy=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:iN(e),RT=(e,a)=>e==="view"&&a?"view":"edit",Zy=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${i.getFullYear()}-${c(i.getMonth()+1)}-${c(i.getDate())}T${c(i.getHours())}:${c(i.getMinutes())}`},TT=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},oN=e=>(e??"").trim().toUpperCase(),DT=e=>{const a={};e.forEach(i=>{const c=oN(i.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),i.bancada_item!=null&&!a[c].items.includes(i.bancada_item)&&a[c].items.push(i.bancada_item),i.bancada_id!=null&&!a[c].ids.includes(i.bancada_id)&&a[c].ids.push(i.bancada_id))});const s={};return Object.entries(a).forEach(([i,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,v)=>h-v).join(", ")} de esta misma OI.`),s[i]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},zT="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",kT=(e,a=!0)=>{const i=p.useContext(Wa)?.navigator;p.useEffect(()=>{if(!a||!i||typeof i.block!="function")return;const c=i.block(d=>{const f={...d,retry(){c(),d.retry()}};e(f)});return c},[i,e,a])},MT=e=>{const a=Qe.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},UT=()=>{const[e,a]=p.useState(typeof navigator<"u"?navigator.onLine:!0);return p.useEffect(()=>{const s=()=>a(!0),i=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",i),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}},[]),e},Kc=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function Gy(){const{toast:e}=ul(),a=cl(),s=fa(),{oiId:i}=$S(),[c,d]=Sx(),f=UT(),{data:h}=sl({queryKey:["catalogs"],queryFn:Eh}),{register:v,handleSubmit:g,watch:y,formState:{errors:x},reset:j,getValues:F}=Su({resolver:GO(rT),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),E=$n(),A=E?.userId??null,R=E?.bancoId??xo(),$=Xa(E?.role,E?.username)!=="technician",z=Fy(),te=i?Number(i):null,M=Number.isFinite(te)?te:null,D=M!=null||(z?.id??null)!=null,K=(c.get("mode")||"").toLowerCase(),B=RT(K,D),H=B==="view",de=B==="edit",[Te,Oe]=p.useState(!1),[ve,Ee]=p.useState(!1),[ke,De]=p.useState(null),[U,V]=p.useState(null),[ae,he]=p.useState(!1),fe=ve||H,[_,X]=p.useState(!1),[ce,Y]=p.useState(null),[ye,Se]=p.useState(null),[Le,Ve]=p.useState(null),[pe,Be]=p.useState(!1),[Ze,Je]=p.useState(""),[ct,ze]=p.useState(null),[Pe,ue]=p.useState("bancada"),[Ie,we]=p.useState(!1),[We,O]=p.useState(!1),[T,S]=p.useState(null),L=p.useRef([]),I=p.useRef(null),J=p.useRef(!1),me=p.useRef(!1),_e=p.useRef(!1),G=p.useRef(null),Me=p.useRef(!1),qe=p.useRef(f),Xe=p.useRef(!1),tt=p.useRef(!1),[je,nt]=p.useState(null),[zt,yt]=p.useState(null),[nn,En]=p.useState([]),[ma,jn]=p.useState(!1),[it,Pn]=p.useState(null),[Qn,na]=p.useState(!1),[An,Ln]=p.useState(null),[W,se]=p.useState(0),[Ce,Fe]=p.useState({}),[rt,ot]=p.useState({}),Ke=s.state?.returnTo,an=()=>typeof Ke=="string"&&Ke?Ke:"/oi/list",kt=C=>{const P=new URLSearchParams(c);P.set("mode",C),d(P,{replace:!0})},Rt="new",mn=15,Ut=C=>C?`bancada-${C.id}`:Rt,mt=C=>C==null?!1:typeof C=="string"?C.trim()!=="":typeof C=="number"?Number.isFinite(C):!0,xt=C=>C==="c7_seconds"||C==="caudal"||C==="error",_t=C=>C?Object.entries(C).some(([P,xe])=>xt(P)?!1:mt(xe)):!1,hn=C=>!C||!Array.isArray(C.rowsData)?!1:C.rowsData.some(P=>{if(!P)return!1;if(Number(P.estado??0)!==0)return!0;const Ue=P.medidor;return typeof Ue=="string"&&Ue.trim()!==""?!0:_t(P.q3)||_t(P.q2)||_t(P.q1)}),pn=(C=mn)=>Array.from({length:C}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),sn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,At=C=>({draftId:sn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:mn,rowsData:pn(),version:null}),Pt=C=>{const P=new URLSearchParams(s.search);P.set("mode","edit");const xe=s.pathname==="/oi"||s.pathname==="/oi/"?C?`/oi/${C}`:"/oi":s.pathname,Ue=P.toString();return Ue?`${xe}?${Ue}`:xe},Hn=(C,P)=>!C||!A||R==null?null:{version:1,ts:new Date().toISOString(),userId:A,bankId:R,oiId:C,oiCode:F("oi")??null,returnTo:Pt(C),mode:"edit",modal:P},Xt=()=>{if(ma)return it?{type:"bancada",bancadaId:it.id}:{type:"bancada",isNew:!0}},$t=C=>lm({userId:A,bankId:R,oiId:C,type:"bancada",isNew:!0}),gn=C=>{const P=$t(C);if(!P)return null;const xe=im(P);if(!xe||!A||R==null||!C||xe.userId!==A||xe.bankId!==R||xe.oiId!==C)return null;const Ue=xe?.data??null;return hn(Ue)?Ue:(Sr(P),null)},Cn=(C,P)=>{const xe=$t(C);if(!xe)return;if(!P||!hn(P)){Sr(xe);return}if(!A||R==null||!C)return;const Ue={version:1,ts:new Date().toISOString(),userId:A,bankId:R,oiId:C,isNew:!0,data:P},lt=Hn(C,{type:"bancada",isNew:!0});po(xe,Ue,lt)},Lt=C=>lm({userId:A,bankId:R,oiId:C,type:"header"}),ds=C=>{if(!C)return null;const P=im(C);return!P||!A||R==null||P.userId!==A||P.bankId!==R||je!=null&&P.oiId!==je?null:P?.data??null},oa=(C,P)=>{if(!C||!A||R==null)return;const xe=je??0,Ue={version:1,ts:new Date().toISOString(),userId:A,bankId:R,oiId:xe,data:P},lt=Hn(je,Xt());po(C,Ue,lt)},Ft=C=>{C&&Sr(C)},On=C=>{const P={};return C.q3!=null&&(P.q3=Number(C.q3)),C.alcance!=null&&(P.alcance=Number(C.alcance)),C.pma!=null&&(P.pma=Number(C.pma)),C.numeration_type&&(P.numeration_type=C.numeration_type),P},Ua=(C,P)=>lm({userId:A,bankId:R,oiId:C,type:"bancada",bancadaId:P}),ns=(C,P)=>{const xe=Ua(C,P);if(!xe)return null;const Ue=im(xe);if(!Ue||!A||R==null||!C||!P||Ue.userId!==A||Ue.bankId!==R||Ue.oiId!==C)return null;const lt=Ue?.data??null;return hn(lt)?lt:(Sr(xe),null)},Yn=(C,P,xe)=>{const Ue=Ua(C,P);if(!Ue)return;if(!hn(xe)){Sr(Ue);return}if(!A||R==null||!C||!P)return;const lt={version:1,ts:new Date().toISOString(),userId:A,bankId:R,oiId:C,bancadaId:P,data:xe},Ot=Hn(C,{type:"bancada",bancadaId:P});po(Ue,lt,Ot)},La=(C,P)=>{const xe=Ua(C,P);xe&&Sr(xe)},Ct=Lt(je);p.useEffect(()=>{h&&j(C=>({...C,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,j]),p.useEffect(()=>{const C=Fy(),P=M??C?.id??null;if(!P){nt(null),En([]),L.current=[],I.current=null,Ln(null),se(0),yt(null),Se(null),Ve(null),X(!1),Ee(!1),De(null),V(null),he(!1),Y(null);return}(async()=>{try{const xe=await gm(P);nt(xe.id),go({id:xe.id,code:xe.code}),En(xe.bancadas??[]),L.current=OT(xe.bancadas??[]),I.current=xe.updated_at??null,Ln(xe.medidores_usuario??null),se(xe.medidores_total_code??0),Se(xe.saved_at??null),Ve(xe.created_at??null),yt(xe.updated_at??xe.created_at);const Ue={oi:xe.code,q3:xe.q3,alcance:xe.alcance,pma:xe.pma,numeration_type:xe.numeration_type??"correlativo"};j(Ue),X(!1),Ee(xe.read_only_for_current_user??!1),De(xe.locked_by_full_name??null),V(xe.locked_by_user_id??null),he((xe.locked_by_user_id??null)===A),Y(Ue)}catch{Jm()}})()},[j,A,M]),p.useEffect(()=>{if(!je||rt[Rt])return;const C=gn(je);C&&(ot(P=>({...P,[Rt]:C})),e({kind:"info",message:"Se restauro un borrador local."}))},[je,rt,e]),p.useEffect(()=>{if(!je||!A||!de)return;let C=!1;return(async()=>{const P=xe=>{Ee(xe?.read_only_for_current_user??!1),De(xe?.locked_by_full_name??null),V(xe?.locked_by_user_id??null),he((xe?.locked_by_user_id??null)===A)};try{const xe=await NT(je);if(C)return;P(xe)}catch(xe){if(C)return;const Ue=xe?.status??xe?.response?.status;let lt=null;try{const ht=await gm(je);if(C)return;lt=ht.locked_by_full_name??null,P({read_only_for_current_user:!0,locked_by_full_name:lt,locked_by_user_id:ht.locked_by_user_id??null})}catch{Ee(!0),he(!1)}const Ot=lt?`La OI est? siendo editada por ${lt}. Se abre en modo lectura.`:xe?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:Ue===423||Ue===409?"warning":"error",title:Ue===423||Ue===409?"OI bloqueada":"Error",message:Ot}),Ee(!0),he(!1),K!=="view"&&kt("view")}})(),()=>{C=!0}},[je,A,de]),p.useEffect(()=>()=>{je&&ae&&Yc(je).catch(()=>{})},[je,ae]),p.useEffect(()=>{je&&(!ae||fe||!de||AE(je))},[ae,je,fe,de]),p.useEffect(()=>{me.current=!1,_e.current=!1,O(!1),Me.current=!1,tt.current=!1},[je]),p.useEffect(()=>{if(!qe.current&&f){if(!!!$n()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),qe.current=f;return}(_e.current||We)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}qe.current=f},[f,We,e]),p.useEffect(()=>{const C=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",C),()=>window.removeEventListener("medileser:auth-expired",C)},[e]),p.useEffect(()=>{const C=TE();if(!C){S(null),Xe.current=!1;return}const P=`${s.pathname}${s.search}`,xe=C.route===P,Ue=C.oiId==null||C.oiId===je;if(!xe&&!Ue){S(null),Xe.current=!1;return}S(C),C.type==="save_bancada"&&O(!0),C.type==="save_oi"&&(_e.current=!0),Xe.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),Xe.current=!0)},[s.pathname,s.search,je,e]);const _a=de&&!fe&&(_||!je);p.useEffect(()=>{if(!_a||Me.current)return;const C=ds(Ct);if(!C)return;const P=F();j({...P,...C,numeration_type:C.numeration_type??P.numeration_type??"correlativo"}),Me.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[_a,Ct,F,j,e]),p.useEffect(()=>{if(!_a)return;const C=y(P=>{G.current&&window.clearTimeout(G.current),G.current=window.setTimeout(()=>{oa(Ct,On(P))},400)});return()=>{C.unsubscribe(),G.current&&window.clearTimeout(G.current)}},[y,_a,Ct]);const aa=p.useMemo(()=>Object.keys(rt).length>0,[rt]),bn=de&&!fe&&(ae||_||aa);p.useEffect(()=>{if(!bn)return;const C=P=>{if(!J.current)return P.preventDefault(),P.returnValue="",""};return window.addEventListener("beforeunload",C),()=>window.removeEventListener("beforeunload",C)},[bn]),kT(C=>{if(!bn){C.retry();return}if(J.current){C.retry();return}if(C.location.pathname===s.pathname){C.retry();return}window.confirm(zT)&&C.retry()},bn),p.useEffect(()=>{if(!je||!ae||fe||!de)return;const C=()=>{if(J.current||me.current)return;me.current=!0;const xe=$n()?.token,Ue=MT(`/oi/${je}/close`);fetch(Ue,{method:"POST",headers:xe?{Authorization:`Bearer ${xe}`}:void 0,keepalive:!0}).catch(()=>{})},P=()=>{C()};return window.addEventListener("pagehide",P),()=>window.removeEventListener("pagehide",P)},[je,ae,fe,de]);const Cr=y("pma"),hl=p.useMemo(()=>iT(Number(Cr)),[Cr]),Gs=y("numeration_type")??"correlativo",Or=async C=>{try{Oe(!0);const P=$n();if(!P)throw new Error("Sesin no vlida");const xe=P.bancoId;if(xe==null)throw new Error("Debe seleccionar un banco para crear una OI.");const Ue={code:C.oi,q3:Number(C.q3),alcance:Number(C.alcance),pma:Number(C.pma),banco_id:xe,tech_number:P.techNumber,numeration_type:C.numeration_type??"correlativo"},lt=await gT(Ue);return nt(lt.id),yt(lt.updated_at??lt.created_at),Ln(lt.medidores_usuario??0),se(lt.medidores_total_code??0),Se(lt.saved_at??null),Ve(lt.created_at??null),go({id:lt.id,code:lt.code}),Y(C),_e.current=!1,Ft(Lt(null)),Ft(Lt(lt.id)),Kl(),S(null),e({kind:"success",title:"OI creada",message:`${lt.code} (#${lt.id})`}),!0}catch(P){return Kc(P)?(_e.current=!0,oa(Ct,On(C)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):ho(P)?(_e.current=!0,oa(Ct,On(C)),!1):(e({kind:"error",title:"Error",message:P?.message??"Error creando OI"}),!1)}finally{Oe(!1)}},Es=async C=>{if(!je)return!1;if(fe)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(Oe(!0),!je)throw new Error("No hay OI seleccionada para actualizar.");const P=C.oi?.trim(),xe=C.numeration_type??"correlativo",Ue=ce?.numeration_type??"correlativo",lt=!ce||Number(C.q3)!==Number(ce.q3)||Number(C.alcance)!==Number(ce.alcance)||Number(C.pma)!==Number(ce.pma)||xe!==Ue,Ot=$&&!!P&&P!==(ce?.oi??""),ht=!Ot||lt,vn=vt=>{yt(vt.updated_at??vt.created_at),Se(vt.saved_at??null),Ve(vt.created_at??null),vt.code&&go({id:vt.id,code:vt.code}),V(vt.locked_by_user_id??null),De(vt.locked_by_full_name??null),Ee(vt.read_only_for_current_user??!1),he((vt.locked_by_user_id??null)===A)};let Qt=null;if(ht){if(!zt)throw new Error("No se pudo determinar la version actual de la OI. Recargue la pagina e intentelo de nuevo.");const vt={q3:Number(C.q3),alcance:Number(C.alcance),pma:Number(C.pma),numeration_type:xe,updated_at:zt};Qt=await mT(je,vt),vn(Qt)}if(Ot&&P)try{const vt=await hT(je,P);Qt=vt,vn(vt)}catch(vt){if(Kc(vt)||ho(vt))throw vt;const Ys=vt?.status??vt?.response?.status;return e(Ys===409?{kind:"error",title:"Conflicto",message:"Ya existe una OI con ese codigo."}:Ys===403?{kind:"error",title:"No autorizado",message:"No autorizado."}:Ys===422||Ys===400?{kind:"error",title:"Formato",message:"Formato de OI invalido. Debe ser OI-####-YYYY."}:{kind:"error",title:"Error",message:vt?.message??"Error actualizando OI"}),!1}return Qt?(Y({...C,oi:Qt.code,numeration_type:xe}),X(!1),_e.current=!1,Ft(Ct),Kl(),S(null),e({kind:"success",title:"OI actualizada",message:Qt.code??C.oi}),!0):(X(!1),_e.current=!1,Ft(Ct),Kl(),S(null),e({kind:"success",title:"OI actualizada",message:C.oi}),!0)}catch(P){if(Kc(P))return _e.current=!0,oa(Ct,On(C)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(ho(P))return _e.current=!0,oa(Ct,On(C)),!1;const xe=P?.status??P?.response?.status;return e(xe===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:P?.message??"Error actualizando OI"}),!1}finally{Oe(!1)}},Rr=!!je&&_&&!fe,un=()=>Fe({}),fs=C=>{const P=oN(C);P&&Fe(xe=>{if(!xe[P])return xe;const Ue={...xe};return delete Ue[P],Ue})},sa=()=>{if(fe){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!je)return;un(),O(!1);const C=gn(je),P=C??At();ot(xe=>({...xe,[Rt]:P})),Cn(je,P),C&&e({kind:"info",message:"Se restauro un borrador local."}),Pn(null),jn(!0)},ms=C=>{if(fe&&!H){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}un(),O(!1);const P=ns(je,C.id);if(P){const xe=Ut(C);ot(Ue=>({...Ue,[xe]:P})),e({kind:"info",message:"Se restauro un borrador local."})}Pn(C),jn(!0)};p.useEffect(()=>{if(!je||tt.current)return;const C=xE();if(C&&!(!A||R==null)&&!(C.userId!==A||C.bankId!==R)&&C.oiId===je){if(C.modal?.type==="bancada"){if(C.modal.isNew){tt.current=!0,om(),sa();return}if(C.modal.bancadaId){const P=nn.find(xe=>xe.id===C.modal?.bancadaId);if(!P)return;tt.current=!0,om(),ms(P);return}}tt.current=!0,om()}},[A,R,nn,je,sa,ms]);const hs=p.useMemo(()=>{const C=Ut(it),P=rt[C];if(P){const lt=P.version??it?.updated_at??it?.created_at??null;return{...P,version:lt}}if(!it)return;const Ue=iN(it).map(ET);return{estado:it.estado,rows:Ue.length||it.rows,rowsData:Ue,version:it.updated_at??it.created_at??null}},[it,rt]),pl=async C=>{if(je){if(fe){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}un(),O(!1);try{Oe(!0);const P=C.draftCreatedAt??rt[Rt]?.draftCreatedAt,xe={estado:Number(C.estado??0),rows:Number(C.rowsData.length),rows_data:C.rowsData.map(AT)};if(it){const Ue=C.version??it.updated_at??it.created_at??null;if(!Ue)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const lt={...xe,updated_at:Ue},Ot=await bT(it.id,lt);En(ht=>ht.map(vn=>vn.id===Ot.id?Ot:vn)),yt(Ot.updated_at??Ot.created_at??zt),Ln(null),La(je,it.id),ot(ht=>{const vn=`bancada-${it.id}`,{[vn]:Qt,...vt}=ht;return vt}),e({kind:"success",message:"Bancada actualizada"})}else{P&&(xe.draft_created_at=P);const Ue=await Iy(je,xe);En(lt=>[...lt,Ue]),yt(Ue.updated_at??Ue.created_at??zt),Ln(null),ot(lt=>{const{new:Ot,...ht}=lt;return ht}),Cn(je,null),e({kind:"success",message:"Bancada agregada"})}try{const Ue=await bm(je);Ln(Ue.medidores_usuario??null),se(Ue.medidores_total_code??W),Se(Ue.saved_at??null),Ve(Ue.created_at??null)}catch{}V(E?.userId??U),De(E?.fullName??ke),he(A!==null),Ee(!1),jn(!1),Pn(null),Kl(),S(null),O(!1)}catch(P){if(Kc(P)){it?Yn(je,it.id,C):Cn(je,C),O(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(ho(P)){it?Yn(je,it.id,C):Cn(je,C),O(!0);return}const xe=P?.status??P?.response?.status;if(xe===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(xe===400){const Ue=Array.isArray(P?.duplicates)?P.duplicates:Array.isArray(P?.response?.data?.duplicates)?P.response.data.duplicates:[];Ue.length>0&&Fe(DT(Ue)),e({kind:"warning",title:"Validacion",message:P?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:P?.message??"Error guardando bancada"})}finally{Oe(!1)}}},Ps=async C=>{if(confirm(`Eliminar bancada #${C.item}?`)){if(fe){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(Oe(!0),!je)throw new Error("No hay OI cargada.");await $y(C.id),En(xe=>xe.filter(Ue=>Ue.id!==C.id)),Ln(null),ot(xe=>{const Ue=`bancada-${C.id}`,{[Ue]:lt,...Ot}=xe;return Ot}),La(je,C.id);const P=await bm(je);yt(P.updated_at??P.created_at??null),Se(P.saved_at??null),Ve(P.created_at??null),V(P.locked_by_user_id??null),De(P.locked_by_full_name??null),Ee(P.read_only_for_current_user??!1),he((P.locked_by_user_id??null)===A),Ln(P.medidores_usuario??null),se(P.medidores_total_code??W),e({kind:"success",message:`Bancada #${C.item} eliminada`})}catch(P){e({kind:"error",title:"Error",message:P?.message??"Error eliminando bancada"})}finally{Oe(!1)}}},Vn=()=>{if(!je){e({kind:"warning",message:"Primero guarda el OI."});return}na(!0)},vi=async C=>{if(je)try{Oe(!0),await lN(je,C),e({kind:"success",message:"Excel generado"})}catch(P){e({kind:"error",title:"Error",message:P?.message??"Error generando Excel"})}finally{Oe(!1)}},Tr=()=>{if(!je||!$)return;const C=ye??Le;ue("oi"),ze(null),Je(Zy(C)),Be(!0)},gl=C=>{if(!$)return;ue("bancada"),ze(C);const P=C.saved_at??C.created_at??ye??Le;Je(Zy(P)),Be(!0)},Dr=async()=>{if(!je||!$)return;const C=TT(Ze);if(!C){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Pe==="bancada"&&!ct))try{Oe(!0),Pe==="oi"?await jT(je,{saved_at:C,propagate_to_bancadas:!0}):ct&&await vT(ct.id,{saved_at:C});const P=await gm(je);if(En(P.bancadas??[]),Ln(P.medidores_usuario??null),se(P.medidores_total_code??0),Se(P.saved_at??null),Ve(P.created_at??null),yt(P.updated_at??P.created_at),De(P.locked_by_full_name??null),V(P.locked_by_user_id??null),Ee(P.read_only_for_current_user??!1),he((P.locked_by_user_id??null)===A),!_){const xe={oi:P.code,q3:P.q3,alcance:P.alcance,pma:P.pma,numeration_type:P.numeration_type??"correlativo"};j(xe),Y(xe)}Be(!1),ze(null),Je(""),ue("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(P){e({kind:"error",title:"Error",message:P?.message??"Error actualizando fecha"})}finally{Oe(!1)}},yi=C=>{un(),O(!1);const P=Ut(it);let xe={...C};if(!it){const Ue=rt[Rt];xe.draftCreatedAt||(xe.draftCreatedAt=Ue?.draftCreatedAt??new Date().toISOString()),xe.draftId||(xe.draftId=Ue?.draftId??sn())}ot(Ue=>({...Ue,[P]:xe})),it?Yn(je,it.id,xe):Cn(je,xe),jn(!1)},xi=()=>{if(fe){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const C=F();Y({...C,numeration_type:C.numeration_type??"correlativo"}),X(!0)},Qs=()=>{!je||de||kt("edit")},Ea=()=>{ce&&j(ce),X(!1),_e.current=!1,Ft(Ct),Kl(),S(null)},ps=()=>{je&&(Cn(je,null),Object.keys(rt).forEach(C=>{if(!C.startsWith("bancada-"))return;const P=Number(C.replace("bancada-",""));Number.isFinite(P)&&La(je,P)})),Ft(Lt(je)),Ft(Lt(null)),bE(),_e.current=!1,O(!1),Kl(),S(null),Jm(),S0(),nt(null),En([]),L.current=[],ot({}),X(!1),Y(null),yt(null),Se(null),Ve(null),Ee(!1),De(null),V(null),he(!1),Ln(null),se(0),jn(!1),Pn(null),na(!1),Be(!1),we(!1),Je(""),ze(null),ue("bancada"),j({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},zr=()=>{me.current=!0,J.current=!0,ps(),a(an())},gs=async()=>{if(!je)return!0;const C=L.current??[];if(C.length===0&&nn.length===0)return!0;const P=new Map(C.map(Ue=>[Ue.id,Ue])),xe=new Map(nn.map(Ue=>[Ue.id,Ue]));try{for(const Ot of nn)P.has(Ot.id)||await $y(Ot.id);for(const Ot of nn){const ht=P.get(Ot.id);if(!ht||Hy(ht)===Hy(Ot))continue;const vn=Vy(ht),Qt=vn.length||ht.rows||1,vt=Ot.updated_at??Ot.created_at??ht.updated_at??ht.created_at;if(!vt)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await yT(Ot.id,{medidor:ht.medidor??null,estado:ht.estado??0,rows:Qt,rows_data:vn,current_updated_at:vt,restore_updated_at:ht.updated_at??null,restore_saved_at:ht.saved_at??null})}for(const Ot of C)if(!xe.has(Ot.id)){const ht=Vy(Ot),vn=ht.length||Ot.rows||1;await Iy(je,{estado:Ot.estado??0,rows:vn,rows_data:ht})}const Ue=await bm(je),lt=Ue.updated_at??Ue.created_at;await pT(je,{current_updated_at:lt,restore_updated_at:I.current})}catch(Ue){return e({kind:"error",title:"Error",message:Ue?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},bs=()=>{Te||we(!0)},kr=async()=>{if(!Te){we(!1),Oe(!0);try{if(!await gs())return;je&&ae&&await Yc(je,"cancel")}catch{}finally{Oe(!1)}me.current=!0,J.current=!0,ps(),e({kind:"info",message:"Edicion cancelada"}),a(an())}},Kn=async()=>{if(Te)return;we(!1);let C=!0;if((_||!je)&&(C=!1,await g(async xe=>{C=je?await Es(xe):await Or(xe)})()),!!C){Oe(!0);try{je&&ae&&await Yc(je)}catch{}finally{Oe(!1)}me.current=!0,J.current=!0,ps(),e({kind:"info",message:"Cambios guardados"}),a(an())}},Mr=async()=>{if(!Te){Oe(!0);try{je&&ae&&await Yc(je)}catch{}finally{Oe(!1)}me.current=!0,J.current=!0,ps(),e({kind:"info",message:"OI cerrada"}),a(an())}},Ba=p.useMemo(()=>CT(nn),[nn]),Rn=An??Ba,as=C=>{if(!C)return"-";const xe=/([zZ]|[+-]\d{2}:?\d{2})$/.test(C)?C:`${C}Z`,Ue=new Date(xe);return Number.isNaN(Ue.getTime())?C:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(Ue)},As=it?Ua(je,it.id):$t(je),Aa=A&&R!=null&&je?{userId:A,bankId:R,oiId:je,bancadaId:it?.id??null,isNew:!it,returnTo:Pt(je),oiCode:F("oi")??null}:null;return l.jsxs("div",{className:"oi-page vi-oi-light",children:[l.jsx(gi,{show:Te}),!f&&l.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),T&&l.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[l.jsx("h1",{className:"h3",children:"Formulario OI"}),l.jsxs("div",{className:"d-flex gap-2",children:[je&&$&&l.jsx("button",{type:"button",className:"btn btn-outline-auto btn-sm",onClick:Tr,disabled:Te,children:"Editar fecha guardado"}),je&&H&&l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Qs,disabled:Te,children:"Editar"})]})]}),fe&&l.jsx("div",{className:"alert alert-warning mt-2",children:H?"Modo lectura. Use Editar para modificar.":ke?`Esta OI est siendo editada por ${ke}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),l.jsxs("form",{onSubmit:g(Rr?Es:Or),className:`row g-3 mt-1 ${Rr?"vi-form-editing":"vi-form-readonly"}`,children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),l.jsx("input",{id:"oi",className:`form-control ${je&&!($&&_&&!fe)?"vi-locked":""}`,...v("oi"),disabled:je?!($&&_&&!fe):!1}),x.oi&&l.jsx("div",{className:"text-danger small",children:x.oi.message}),$?null:l.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el codigo de OI."})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),l.jsx("select",{id:"q3",className:"form-select",...v("q3",{valueAsNumber:!0}),disabled:!!je&&!_||fe,children:h?.q3.map(C=>l.jsx("option",{value:C,children:C},C))})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),l.jsx("select",{id:"alcance",className:"form-select",...v("alcance",{valueAsNumber:!0}),disabled:!!je&&!_||fe,children:h?.alcance.map(C=>l.jsx("option",{value:C,children:C},C))})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),l.jsx("select",{id:"pma",className:"form-select",...v("pma",{valueAsNumber:!0}),disabled:!!je&&!_||fe,children:h?.pma.map(C=>l.jsx("option",{value:C,children:C},C))}),l.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),l.jsx("input",{id:"presion",className:"form-control",value:isNaN(hl)?"":hl,disabled:!0})]}),l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),l.jsxs("select",{id:"numeration_type",className:"form-select",...v("numeration_type"),disabled:!!je&&!_||fe,children:[l.jsx("option",{value:"correlativo",children:"Correlativo"}),l.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),l.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),l.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[l.jsx("button",{className:"btn btn-primary",disabled:Te||!!je&&(!_||fe),children:je?Rr?"Guardar cambios":"OI guardada":"Guardar OI"}),je&&!_&&de&&l.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:xi,disabled:Te||fe,children:"Editar OI"}),je&&_&&de&&l.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Ea,disabled:Te,children:"Cancelar edicion"}),H&&l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:zr,disabled:Te,children:"Volver al listado"}),l.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:Vn,disabled:!je||Te||_,children:"Generar Excel"}),de&&l.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:Mr,disabled:!je||_||Te,children:"Cerrar OI"}),de&&l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:bs,disabled:Te,children:"Cancelar"})]})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{className:"card vi-card-table mt-3",children:[l.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),l.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",Rn," | Total OI: ",W]})]}),l.jsx("button",{className:"btn btn-primary",onClick:sa,disabled:!je||Te||_||fe,children:"Agregar Bancada"})]}),l.jsx("div",{className:"card-body p-0",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"vi-col-60",children:"Item"}),l.jsx("th",{children:"# Medidor"}),l.jsx("th",{children:"Medidores"}),l.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),l.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),l.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),l.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[nn.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),nn.map(C=>{const P=C.rows_data?.[0]?.medidor||C.medidor||"",xe=C.rows_data?.[(C.rows_data?.length||0)-1]?.medidor||"",Ue=P&&xe&&P!==xe?`${P} ... ${xe}`:P;return l.jsxs("tr",{children:[l.jsx("td",{children:C.item}),l.jsx("td",{children:Ue}),l.jsx("td",{children:C.rows}),l.jsx("td",{children:as(C.created_at)}),l.jsx("td",{children:as(C.saved_at)}),l.jsx("td",{children:as(C.updated_at??C.created_at)}),l.jsxs("td",{className:"text-end",children:[$?l.jsx("button",{className:"btn btn-sm btn-outline-auto me-2",onClick:()=>gl(C),disabled:Te||_||ve,"aria-label":`Editar fecha guardado bancada #${C.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>ms(C),disabled:Te||_||!H&&fe,"aria-label":`${H?"Ver":"Editar"} bancada #${C.item}`,title:H?"Ver":"Editar",children:H?"Ver":"Editar"}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ps(C),disabled:Te||_||fe,"aria-label":`Eliminar bancada #${C.item}`,title:"Eliminar",children:""})]})]},C.id)})]})]})})})]}),ma&&l.jsx(fT,{show:ma,title:it?`Editar bancada #${it.item}`:"Nueva bancada",initial:hs,onClose:()=>{un(),jn(!1)},onSubmit:pl,onCancelWithDraft:yi,numerationType:Gs,readOnly:fe,duplicateMap:Ce,onClearDuplicate:fs,draftStorageKey:As,draftMeta:Aa,isOnline:f,showRetry:We}),Ie&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:C=>{C.target===C.currentTarget&&we(!1)},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>we(!1)})]}),l.jsx("div",{className:"modal-body",children:l.jsx("p",{children:"Estas seguro de descartar cambios?"})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:kr,disabled:Te,children:"Descartar cambios"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:Kn,disabled:Te,children:"Guardar cambios y volver al listado"})]})]})})}),pe&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:C=>{C.target===C.currentTarget&&(Be(!1),ze(null),ue("bancada"))},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:C=>{C.preventDefault(),Dr()},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{Be(!1),ze(null),ue("bancada")}})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),l.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:Ze,onChange:C=>Je(C.target.value),required:!0}),l.jsx("div",{className:"form-text",children:Pe==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>{Be(!1),ze(null),ue("bancada")},children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Te||!Ze,children:"Guardar"})]})]})})}),l.jsx(Iu,{show:Qn,title:"Contrasea para proteger Excel",onClose:()=>na(!1),onConfirm:C=>{na(!1),vi(C)}})]})}function LT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e==="/logistica/log01/history"?"logistica_history":e==="/logistica/log01/excel"?"logistica":e==="/logistica/log02/pdfs"?"logistica_pdfs":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function BT(){const e=$n(),a=fa(),s=e?.token??null,[i,c]=p.useState(()=>!!s);if(p.useEffect(()=>{if(!s){c(!1);return}let j=!1;return c(!0),Qe.get("/auth/me").then(()=>{j||c(!1)}).catch(async F=>{if(j)return;if(F?.response?.status===401){await A0();return}c(!1)}),()=>{j=!0}},[s]),!s)return l.jsx(wr,{to:"/login",replace:!0});if(i)return l.jsx(gi,{show:!0});const d=e,f=Xa(d.role,d.username),h=Tu(d),v=ii(f),g=xo(),y=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(v&&y&&!(g&&g>0)&&a.pathname!=="/home")return l.jsx(wr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return l.jsx(wr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(f==="admin"||f==="administrator"))return l.jsx(wr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const j=LT(a.pathname),F=d.allowedModules;if(j&&Array.isArray(F)&&!F.includes(j))return l.jsx(wr,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return l.jsx(gx,{})}const qT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),IT=.9;function Uh(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*IT}rem)`}}function ya({to:e,icon:a,label:s,depth:i,collapsed:c}){return l.jsx("li",{className:"vi-sidebar-item",children:l.jsxs(Nx,{to:e,end:!0,className:qT,style:Uh(i,c),title:s,"aria-label":s,children:[l.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function Py({icon:e,label:a,depth:s,collapsed:i}){return l.jsx("li",{className:"vi-sidebar-item",children:l.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:Uh(s,i),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[l.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function Xr({groupKey:e,icon:a,label:s,depth:i,collapsed:c,open:d,active:f,onToggle:h,children:v}){const g=`sidebar-group-${e}`,y=d?"ti-angle-down":"ti-angle-right";return l.jsxs("li",{className:"vi-sidebar-item",children:[l.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(f?" active":""),style:Uh(i,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":g,title:s,children:[l.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),l.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:l.jsx("i",{className:`ti ${y}`})})]}),!c&&d&&l.jsx("ul",{id:g,className:"list-unstyled mb-0",children:v})]})}function $T({collapsed:e,onToggleSidebar:a}){const s=fa(),i=$n(),c=!!i,d=Xa(i?.role,i?.username),f=Tu(i),h=d==="admin"||d==="administrator",v=i?.allowedModules,g=he=>f||!Array.isArray(v)||v.includes(he),y=c&&g("tools_vima_lista"),x=c&&g("tools_actualizacion_bases"),j=c&&g("tools_historial_ac"),F=c&&g("tools_consol_correlativo"),E=c&&g("tools_consol_no_correlativo"),A=c&&g("oi_formulario"),R=c&&g("oi_listado"),$=c&&h&&g("users_admin"),z=c&&g("future_ot"),te=c&&g("logistica"),M=c&&g("logistica_history"),D=c&&g("logistica_pdfs"),K=te||M||D,B=c&&g("future_smart"),H=F||E,de=y||x||j,Te=A||R||z,Oe=de||Te||H,ve=p.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[Ee,ke]=p.useState(()=>{const he=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!he)return ve;try{const fe=JSON.parse(he),_={...ve};return Object.keys(_).forEach(X=>{typeof fe[X]=="boolean"&&(_[X]=fe[X])}),_}catch{return ve}}),De=s.pathname;p.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(Ee))},[Ee]);const U=p.useMemo(()=>{const he=fe=>!!vo({path:fe,end:!0},De);return{vimaToLista:he("/oi/tools/vima-to-lista"),actualizacionBases:he("/oi/tools/actualizacion-base"),formatoAcHistory:he("/oi/tools/formato-ac/history"),consolidacionCorrelativo:he("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:he("/oi/tools/consolidacion/no-correlativo"),registroOi:he("/oi"),listadoOi:he("/oi/list"),users:he("/users"),password:he("/password"),permisos:he("/admin/permisos"),log01Excel:he("/logistica/log01/excel"),log01History:he("/logistica/log01/history"),log02Pdfs:he("/logistica/log02/pdfs")}},[De]),V=p.useMemo(()=>({oi_consolidacion:U.consolidacionCorrelativo||U.consolidacionNoCorrelativo,oi_formato_ac:U.vimaToLista||U.actualizacionBases||U.formatoAcHistory,oi_verificacion:U.registroOi||U.listadoOi,oi:U.vimaToLista||U.actualizacionBases||U.formatoAcHistory||U.consolidacionCorrelativo||U.consolidacionNoCorrelativo||U.registroOi||U.listadoOi,usuarios:U.users||U.password,logistica:U.log01Excel||U.log01History||U.log02Pdfs,administrar:U.permisos}),[U]);function ae(he){ke(fe=>({...fe,[he]:!fe[he]}))}return l.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[l.jsxs("div",{className:"vi-sidebar__header",children:[l.jsxs("div",{className:"vi-sidebar__brand",children:[l.jsx("img",{className:"vi-brand-logo",src:"/medileser/loading.png",alt:"Medileser",draggable:!1}),l.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&l.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:l.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),l.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&l.jsx(ya,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),Oe&&l.jsxs(Xr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:Ee.oi,active:V.oi,onToggle:ae,children:[de&&l.jsxs(Xr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:Ee.oi_formato_ac,active:V.oi_formato_ac,onToggle:ae,children:[y&&l.jsx(ya,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&l.jsx(ya,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),j&&l.jsx(ya,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),H&&l.jsxs(Xr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:Ee.oi_consolidacion,active:V.oi_consolidacion,onToggle:ae,children:[F&&l.jsx(ya,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),E&&l.jsx(ya,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),Te&&l.jsxs(Xr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:Ee.oi_verificacion,active:V.oi_verificacion,onToggle:ae,children:[z&&l.jsx(Py,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),A&&l.jsx(ya,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),R&&l.jsx(ya,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),K&&l.jsxs(Xr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:Ee.logistica,active:V.logistica,onToggle:ae,children:[te&&l.jsx(ya,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacion Excel",depth:1,collapsed:e}),M&&l.jsx(ya,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e}),D&&l.jsx(ya,{to:"/logistica/log02/pdfs",icon:"ti-filter",label:"Filtrado de Cert.PDFs",depth:1,collapsed:e})]}),B&&l.jsx(Py,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),l.jsxs(Xr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:Ee.usuarios,active:V.usuarios,onToggle:ae,children:[$&&l.jsx(ya,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&l.jsx(ya,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),f&&l.jsx(Xr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:Ee.administrar,active:V.administrar,onToggle:ae,children:l.jsx(ya,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function FT({sidebarCollapsed:e,onToggleSidebar:a}){const s=$n(),i=s?.username??s?.user??"",c=s?ii(s.role):!1,[d,f]=p.useState(()=>xo());p.useEffect(()=>LE(()=>f(xo())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",v=async()=>{try{await IE()}finally{location.assign("/login")}};return l.jsxs("header",{className:"navbar navbar-expand vi-surface border-bottom vi-border sticky-top vi-topbar px-3",children:[a&&l.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:l.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),l.jsx("div",{className:"me-auto"}),l.jsxs("div",{className:"d-flex align-items-center gap-3",children:[l.jsx(M0,{}),s&&l.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",l.jsx("strong",{children:i||"?"}),c&&l.jsxs(l.Fragment,{children:["  ",h,s.techNumber?l.jsxs(l.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&l.jsx("button",{className:"btn btn-sm btn-outline-auto",onClick:v,children:"Cerrar sesin"})]})]})}function HT(){const a=fa().pathname==="/home",[s,i]=p.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>i(d=>!d);return p.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),l.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[l.jsx($T,{collapsed:s,onToggleSidebar:c}),l.jsxs("div",{className:"vi-main",children:[l.jsx(FT,{sidebarCollapsed:s,onToggleSidebar:c}),l.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:l.jsx(gx,{})})]})]})}function VT(){const{toast:e}=ul(),a=cl(),s=fa(),[,i]=Sx(),[c,d]=p.useState(()=>new URLSearchParams(s.search).get("q")??""),[f,h]=p.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[v,g]=p.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[y,x]=p.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[j,F]=p.useState(()=>{const G=new URLSearchParams(s.search).get("pageSize"),Me=G?Number(G):20;return Number.isFinite(Me)&&Me>0?Me:20}),[E,A]=p.useState(()=>{const G=new URLSearchParams(s.search).get("page"),Me=G?Number(G):1;return Number.isFinite(Me)&&Me>0?Math.floor(Me):1}),[R,$]=p.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),z=(E-1)*j,te=p.useRef(!1);p.useEffect(()=>{if(!te.current){te.current=!0;return}const G=setTimeout(()=>{h(c.trim()),A(1)},300);return()=>clearTimeout(G)},[c]),p.useEffect(()=>{const G=new URLSearchParams,Me=c.trim();Me&&G.set("q",Me),v&&G.set("dateFrom",v),y&&G.set("dateTo",y),R&&G.set("responsableTech",R),E!==1&&G.set("page",String(E)),j!==20&&G.set("pageSize",String(j));const qe=s.search.startsWith("?")?s.search.slice(1):s.search;G.toString()!==qe&&i(G,{replace:!0})},[v,y,s.search,E,j,R,c,i]);const{data:M,isLoading:D,isError:K,error:B,refetch:H,isFetching:de}=sl({queryKey:["oi","list",{search:f,dateFrom:v,dateTo:y,responsableTech:R,pageSize:j,offset:z}],queryFn:()=>ST({q:f||void 0,dateFrom:v||void 0,dateTo:y||void 0,responsableTechNumber:R?Number(R):void 0,limit:j,offset:z}),placeholderData:G=>G}),Te=$n(),Oe=Xa(Te?.role,Te?.username)!=="technician",{data:ve=[],isFetching:Ee,isError:ke,error:De}=sl({queryKey:["oi","responsables"],queryFn:_T,enabled:Oe,staleTime:6e4,retry:!1}),U=ke?De?.message??"No se pudo cargar responsables":"",V=G=>{if(!G)return"-";const Me=G.endsWith("Z")?G:`${G}Z`,qe=new Date(Me),Xe=tt=>tt.toString().padStart(2,"0");return`${Xe(qe.getDate())}/${Xe(qe.getMonth()+1)}/${qe.getFullYear()} ${Xe(qe.getHours())}:${Xe(qe.getMinutes())}`},he=M?.items??[],fe=M?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},_=M?.total??0,X=M?.limit??j,ce=X>0?Math.ceil(_/X):1,Y=10;let ye=1,Se=ce;if(ce>Y){const G=Math.floor(Y/2);ye=Math.max(1,E-G),Se=ye+Y-1,Se>ce&&(Se=ce,ye=Math.max(1,Se-Y+1))}const[Le,Ve]=p.useState(!1),[pe,Be]=p.useState(null),[Ze,Je]=p.useState(!1),[ct,ze]=p.useState(!1),Pe=D||de||Ze||ct,ue=()=>`${s.pathname}${s.search}`,Ie=(G,Me)=>{try{go({id:G,code:Me}),e({kind:"success",message:`OI ${Me} cargada`}),a(`/oi/${G}?mode=view`,{state:{returnTo:ue()}})}catch(qe){e({kind:"error",title:"Error",message:qe?.message??"No se pudo abrir el OI"})}},we=(G,Me)=>{try{go({id:G,code:Me}),e({kind:"success",message:`OI ${Me} cargada`}),a(`/oi/${G}?mode=edit`,{state:{returnTo:ue()}})}catch(qe){e({kind:"error",title:"Error",message:qe?.message??"No se pudo abrir el OI"})}},We=async()=>{try{await zo()}finally{Jm(),a("/oi?mode=edit",{state:{returnTo:ue()}})}},O=async(G,Me)=>{if(confirm(`Ests seguro de ELIMINAR la ${Me}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await xT(G),e({kind:"success",title:"Eliminado",message:`Se elimin ${Me} correctamente.`}),H()}catch(qe){e({kind:"error",title:"Error",message:qe.message||"No se pudo eliminar la OI"})}},T=G=>{Be(G),Ve(!0)},S=async G=>{if(pe)try{Je(!0),await lN(pe,G),e({kind:"success",message:"Excel generado"})}catch(Me){e({kind:"error",title:"Error",message:Me?.message??"No se pudo generar el Excel"})}finally{Je(!1)}},L=async()=>{try{ze(!0);const{blob:G,filename:Me}=await wT({q:f||void 0,dateFrom:v||void 0,dateTo:y||void 0,responsableTechNumber:R?Number(R):void 0}),qe=URL.createObjectURL(G),Xe=document.createElement("a");Xe.href=qe,Xe.download=Me,document.body.appendChild(Xe),Xe.click(),URL.revokeObjectURL(qe),Xe.remove()}catch(G){const Me=G?.status,qe=G?.message??"No se pudo exportar el CSV";e(Me===403?{kind:"error",title:"No autorizado",message:qe}:{kind:"error",title:"Error",message:qe})}finally{ze(!1)}},I=()=>{d(""),h(""),g(""),x(""),A(1),$("")},J=_===0?0:z+1,me=_===0?0:Math.min(z+he.length,_),_e=_===0?"0 registros":`Mostrando ${J}-${me} de ${_} registros`;return l.jsxs("div",{children:[l.jsx(gi,{show:Pe}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[l.jsxs("div",{className:"d-flex align-items-center gap-2",children:[l.jsx("button",{className:"btn btn-primary",onClick:We,disabled:Pe,title:"Nueva OI",children:"Nueva OI"}),l.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),l.jsxs("div",{className:"d-flex gap-2",children:[Oe&&l.jsx("button",{className:"btn btn-outline-auto",onClick:L,disabled:Pe,children:ct?"Exportando...":"Exportar CSV"}),l.jsx("button",{className:"btn btn-outline-auto",onClick:I,disabled:Pe,children:"Limpiar filtros"}),l.jsx("button",{className:"btn btn-outline-auto",onClick:()=>H(),disabled:Pe,children:"Recargar"})]})]}),K&&l.jsx("div",{className:"alert alert-danger",children:B?.message??"Error cargando listado"}),l.jsxs("div",{className:"card vi-card-table",children:[l.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"h6 mb-0",children:"Registros"}),l.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",fe.medidores_resultado," | OI unicas: ",fe.oi_unicas," | Medidores (Total OI): ",fe.medidores_total_oi_unicas]})]}),l.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:G=>{d(G.target.value),A(1)},"aria-label":"Buscar por codigo de OI o medidor"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:G=>{g(G.target.value),A(1)},"aria-label":"Filtrar desde fecha"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:G=>{x(G.target.value),A(1)},"aria-label":"Filtrar hasta fecha"}),Oe&&l.jsxs("div",{className:"d-flex flex-column",children:[l.jsxs("select",{className:"form-select form-select-sm",value:R,onChange:G=>{$(G.target.value),A(1)},disabled:Pe||Ee,"aria-label":"Filtrar por responsable",title:"Responsable",children:[l.jsx("option",{value:"",children:"Responsable: Todos"}),ve.map(G=>l.jsx("option",{value:String(G.tech_number),children:G.full_name},G.tech_number))]}),U?l.jsx("small",{className:"text-danger",children:U}):null]}),l.jsxs("div",{className:"d-flex align-items-center",children:[l.jsx("span",{className:"me-1 small",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:j,onChange:G=>{const Me=Number(G.target.value)||20;F(Me),A(1)},"aria-label":"Registros por pgina",children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"})]})]})]})]}),l.jsxs("div",{className:"card-body p-0",children:[l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"ID"}),l.jsx("th",{children:"OI"}),l.jsx("th",{children:"Medidores"}),l.jsx("th",{children:"Q3"}),l.jsx("th",{children:"Alcance"}),l.jsx("th",{children:"PMA"}),l.jsx("th",{children:"Banco"}),l.jsx("th",{children:"Tcnico"}),l.jsx("th",{children:"Responsable"}),l.jsx("th",{children:"Creacin"}),l.jsx("th",{children:"Guardado"}),l.jsx("th",{children:"lt. mod."}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[!Pe&&he.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:_>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),he.map(G=>l.jsxs("tr",{children:[l.jsx("td",{children:G.id}),l.jsx("td",{children:G.code}),l.jsx("td",{title:"Mi registro / Total OI",children:`${G.medidores_usuario??0} / ${G.medidores_total_code??0}`}),l.jsx("td",{children:G.q3}),l.jsx("td",{children:G.alcance}),l.jsx("td",{children:G.pma}),l.jsx("td",{children:G.banco_id}),l.jsx("td",{children:G.tech_number}),l.jsx("td",{children:G.creator_name}),l.jsx("td",{children:V(G.created_at)}),l.jsx("td",{children:V(G.saved_at)}),l.jsx("td",{children:V(G.updated_at)}),l.jsxs("td",{className:"text-end",children:[l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ie(G.id,G.code),disabled:Pe,title:"Ver OI","aria-label":`Ver OI ${G.code}`,children:"Ver"}),l.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>we(G.id,G.code),disabled:Pe,title:"Editar OI","aria-label":`Editar OI ${G.code}`,children:"Editar"}),l.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>T(G.id),disabled:Pe,title:"Descargar Excel","aria-label":`Descargar Excel ${G.code}`,children:"Excel"}),Oe&&l.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>O(G.id,G.code),disabled:Pe,title:"Eliminar OI (Solo Admin)",children:""})]})]},G.id))]})]})}),ce>1&&l.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${E===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(G=>Math.max(1,G-1)),disabled:E===1,children:""})}),Array.from({length:Se-ye+1},(G,Me)=>{const qe=ye+Me;return l.jsx("li",{className:`page-item ${qe===E?"active":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(qe),children:qe})},qe)}),l.jsx("li",{className:`page-item ${E===ce?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>A(G=>Math.min(ce,G+1)),disabled:E===ce,children:"Siguiente"})})]})})]})]}),l.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:l.jsx("small",{className:"text-muted",children:_e})}),l.jsx(Iu,{show:Le,title:"Contrasea para proteger Excel",onClose:()=>{Ve(!1),Be(null)},onConfirm:G=>{Ve(!1),S(G)}})]})}async function ZT(e){return(await Qe.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function GT(){const{toast:e}=ul(),a=$n(),s=Xa(a?.role,a?.username),i=s==="admin"||s==="administrator",c=Tu(a),[d,f]=p.useState(!1),[h,v]=p.useState(null),[g,y]=p.useState(!1),[x,j]=p.useState(""),[F,E]=p.useState(""),[A,R]=p.useState(""),[$,z]=p.useState(20),[te,M]=p.useState(1),D=(te-1)*$,K=p.useRef(!1);p.useEffect(()=>{if(!K.current){K.current=!0;return}const we=setTimeout(()=>{E(x.trim()),M(1)},250);return()=>clearTimeout(we)},[x]);const{data:B,refetch:H,isLoading:de,isFetching:Te,error:Oe}=sl({queryKey:["users",{search:F,roleFilter:A,pageSize:$,offset:D}],queryFn:()=>ZT({q:F||void 0,role:A||void 0,limit:$,offset:D}),enabled:i,placeholderData:we=>we}),{register:ve,handleSubmit:Ee,reset:ke}=Su(),De=()=>{v(null),ke({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),f(!0)},U=we=>{v(we),ke({username:we.username,password:"",first_name:we.first_name,last_name:we.last_name,role:Xa(we.role,we.username),tech_number:we.tech_number}),f(!0)},V=()=>{f(!1),v(null),ke()},ae=async we=>{try{y(!0),await Qe.post("/auth/users",{...we,tech_number:Number(we.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),V(),H()}catch(We){e({kind:"error",title:"Error",message:We.response?.data?.detail||"Error al crear"})}finally{y(!1)}},he=async we=>{if(!h)return;const We=String(we.password||"").trim();try{if(y(!0),c){const O={username:String(we.username||"").trim(),first_name:String(we.first_name||"").trim(),last_name:String(we.last_name||"").trim(),role:we.role,tech_number:Number(we.tech_number)};We&&(O.password=We),await Qe.put(`/auth/users/${h.id}`,O),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!We){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Qe.put(`/auth/users/${h.id}/password`,{new_password:We}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}V(),H()}catch(O){const T=O?.response?.data?.detail||O?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:T})}finally{y(!1)}},fe=async we=>{if(confirm(`Eliminar usuario? ${we.username}?
Esto solo es posible si no tiene registros.`))try{y(!0),await Qe.delete(`/auth/users/${we.id}`),e({kind:"success",message:"Usuario eliminado"}),H()}catch(We){e({kind:"error",title:"No se puede eliminar",message:We.response?.data?.detail||We.message})}finally{y(!1)}},_=p.useMemo(()=>B?.items??[],[B]),X=B?.total??0,ce=B?.limit??$,Y=ce>0?Math.ceil(X/ce):1,ye=10;let Se=1,Le=Y;if(Y>ye){const we=Math.floor(ye/2);Se=Math.max(1,te-we),Le=Se+ye-1,Le>Y&&(Le=Y,Se=Math.max(1,Le-ye+1))}const Ve=X===0?0:D+1,pe=X===0?0:Math.min(D+_.length,X),Be=X===0?"0 registros":`Mostrando ${Ve}-${pe} de ${X} registros`,Ze=de||Te||g,Je=()=>{j(""),E(""),R(""),M(1),z(20)},ct=!!h,ze=ct&&!c,Pe=!ct||!c,ue=(h?.username??"").toLowerCase()==="admin",Ie=ct?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return i?l.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[l.jsx(gi,{show:Ze}),l.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[l.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),l.jsx("button",{className:"btn btn-primary",onClick:De,disabled:Ze,children:"+ Nuevo Usuario"})]}),l.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[l.jsxs("div",{style:{minWidth:260},children:[l.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:we=>{j(we.target.value),M(1)}})]}),l.jsxs("div",{style:{minWidth:220},children:[l.jsx("label",{className:"form-label small mb-1",children:"Rol"}),l.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:we=>{R(we.target.value),M(1)},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"admin",children:"admin"}),l.jsx("option",{value:"administrator",children:"administrator"}),l.jsx("option",{value:"technician",children:"technician"}),l.jsx("option",{value:"standard",children:"standard"}),l.jsx("option",{value:"user",children:"user (legacy)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:$,onChange:we=>{const We=Number(we.target.value)||20;z(We),M(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Je,disabled:Ze,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>H(),disabled:Ze,children:"Recargar"})]})]}),Oe?l.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,l.jsx("div",{className:"card shadow-sm",children:l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-hover align-middle mb-0",children:[l.jsx("thead",{className:"vi-surface-2",children:l.jsxs("tr",{children:[l.jsx("th",{children:"Usuario"}),l.jsx("th",{children:"Nombre"}),l.jsx("th",{children:"Rol"}),l.jsx("th",{children:"N Tcnico"}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[_.map(we=>l.jsxs("tr",{children:[l.jsx("td",{className:"fw-bold",children:we.username}),l.jsxs("td",{children:[we.first_name," ",we.last_name]}),l.jsx("td",{children:(()=>{const We=Xa(we.role,we.username),O=we.username.toLowerCase()==="admin"?"Superusuario":We==="administrator"?"Administrador":We==="technician"?"Tcnico":"Estndar",T=we.username.toLowerCase()==="admin"?"bg-danger":We==="administrator"?"bg-warning vi-text-contrast":We==="technician"?"bg-info vi-text-contrast":"bg-secondary";return l.jsx("span",{className:`badge ${T}`,children:O})})()}),l.jsx("td",{children:we.tech_number}),l.jsxs("td",{className:"text-end",children:[l.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${we.username}`,disabled:Ze||we.username==="admin"||!c&&Xa(we.role,we.username)==="administrator",onClick:()=>U(we),children:l.jsx("i",{className:"ti ti-edit"})}),l.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${we.username}`,disabled:Ze||we.username==="admin"||!c&&Xa(we.role,we.username)==="administrator",onClick:()=>fe(we),children:l.jsx("i",{className:"ti ti-trash"})})]})]},we.id)),_.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),Y>1&&l.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${te===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>M(we=>Math.max(1,we-1)),disabled:te===1,children:"Anterior"})}),Array.from({length:Le-Se+1},(we,We)=>{const O=Se+We;return l.jsx("li",{className:`page-item ${O===te?"active":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>M(O),children:O})},O)}),l.jsx("li",{className:`page-item ${te===Y?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>M(we=>Math.min(Y,we+1)),disabled:te===Y,children:"Siguiente"})})]})}),l.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:l.jsx("small",{className:"text-muted",children:Be})}),d&&l.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("form",{className:"modal-content",onSubmit:Ee(ct?he:ae),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:ct?"Actualizar Usuario":"Nuevo Usuario"}),l.jsx("button",{type:"button",className:"btn-close",onClick:V})]}),l.jsxs("div",{className:"modal-body row g-3",children:[l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Usuario"}),l.jsx("input",{className:"form-control",disabled:ze,...ve("username",{required:!0})})]}),l.jsx("div",{className:"col-6",children:l.jsx(No,{label:"Contrasea",...ve("password",{required:Pe}),autoComplete:"new-password",helpText:Ie})}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Nombre"}),l.jsx("input",{className:"form-control",disabled:ze,...ve("first_name",{required:!0})})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Apellido"}),l.jsx("input",{className:"form-control",disabled:ze,...ve("last_name",{required:!0})})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"Rol"}),l.jsxs("select",{className:"form-select",disabled:ze,...ve("role"),children:[ue?l.jsx("option",{value:"admin",children:"Superusuario"}):null,l.jsx("option",{value:"technician",children:"Tecnico"}),l.jsx("option",{value:"standard",children:"Estandar"}),c?l.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),l.jsxs("div",{className:"col-6",children:[l.jsx("label",{className:"form-label",children:"N Tecnico"}),l.jsx("input",{type:"number",className:"form-control",disabled:ze,...ve("tech_number",{required:!0})}),l.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:V,disabled:Ze,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ze,children:ct?"Actualizar":"Guardar"})]})]})})})]}):l.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function PT(){const{toast:e}=ul(),[a,s]=p.useState(""),[i,c]=p.useState(""),[d,f]=p.useState(!1),h=a.trim().length>0&&i.trim().length>0,v=async g=>{if(g.preventDefault(),!!h)try{f(!0),await BE(a.trim(),i.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(y){e({kind:"error",title:"Error",message:y?.message??"No se pudo cambiar la contrasea"})}finally{f(!1)}};return l.jsx("div",{className:"container py-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"card shadow-sm",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),l.jsxs("form",{onSubmit:v,children:[l.jsxs("div",{className:"card-body",children:[l.jsx("div",{className:"mb-3",children:l.jsx(No,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:g=>s(g.target.value),required:!0,autoComplete:"current-password"})}),l.jsx("div",{className:"mb-3",children:l.jsx(No,{label:"Nueva contrasea",inputId:"newPwd",value:i,onChange:g=>c(g.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),l.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function QT(e){return(await Qe.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function YT(e,a){const{data:s}=await Qe.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const Wm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"logistica_history",label:"Historial de consolidaciones",path:"/logistica/log01/history"},{id:"logistica_pdfs",label:"Filtrado de Cert.PDFs",path:"/logistica/log02/pdfs"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],Qy=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica","logistica_history","logistica_pdfs"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function Yy(e){const a=new Set(Wm.map(c=>c.id)),s=new Set,i=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),i.push(d))}return i}const Ky="admin_permisos:collapsed_groups";function KT(){const e=hh(),{toast:a}=ul(),[s,i]=p.useState(""),[c,d]=p.useState(""),[f,h]=p.useState(""),[v,g]=p.useState(20),[y,x]=p.useState(1),j=(y-1)*v,F=p.useRef(!1);p.useEffect(()=>{if(!F.current){F.current=!0;return}const Y=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(Y)},[s]);const{data:E,isLoading:A,error:R,refetch:$}=sl({queryKey:["admin","permisos",{search:c,roleFilter:f,pageSize:v,offset:j}],queryFn:()=>QT({q:c||void 0,role:f||void 0,limit:v,offset:j}),placeholderData:Y=>Y}),[z,te]=p.useState(null),[M,D]=p.useState([]),K=(z?.username??"").toLowerCase()==="admin",[B,H]=p.useState(()=>{const Y=Object.fromEntries(Qy.map(ye=>[ye.id,!0]));try{const ye=localStorage.getItem(Ky);if(!ye)return Y;const Se=JSON.parse(ye);return!Se||typeof Se!="object"?Y:{...Y,...Se}}catch{return Y}}),de=(Y,ye)=>{H(Se=>{const Le={...Se,[Y]:ye};try{localStorage.setItem(Ky,JSON.stringify(Le))}catch{}return Le})},Te=Y=>{te(Y),D(Yy(Y.allowedModules??[]))},Oe=()=>{te(null),D([])},ve=g_({mutationFn:async Y=>YT(Y.userId,Y.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),Oe()},onError:Y=>{const ye=Y?.response?.data?.detail??Y?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(ye)})}}),Ee=p.useMemo(()=>E?.items??[],[E]),ke=E?.total??0,De=E?.limit??v,U=De>0?Math.ceil(ke/De):1,V=ke===0?0:j+1,ae=ke===0?0:Math.min(j+Ee.length,ke),he=ke===0?"0 registros":`Mostrando ${V}-${ae} de ${ke} registros`,fe=Y=>{D(ye=>{const Se=new Set(ye);return Se.has(Y)?Se.delete(Y):Se.add(Y),Array.from(Se)})},_=Y=>{D(ye=>{const Se=new Set(ye),Le=Y.moduleIds.filter(pe=>Wm.some(Be=>Be.id===pe));if(Le.length>0&&Le.every(pe=>Se.has(pe)))for(const pe of Le)Se.delete(pe);else for(const pe of Le)Se.add(pe);return Array.from(Se)})},X=()=>{z&&ve.mutate({userId:z.id,allowedModules:Yy(M)})},ce=()=>{i(""),d(""),h(""),x(1),g(20)};return l.jsxs("div",{className:"container-fluid",children:[l.jsx(gi,{show:ve.isPending,label:"Guardando permisos..."}),l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),l.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),l.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[l.jsxs("div",{style:{minWidth:260},children:[l.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:Y=>{i(Y.target.value),x(1)}})]}),l.jsxs("div",{style:{minWidth:220},children:[l.jsx("label",{className:"form-label small mb-1",children:"Rol"}),l.jsxs("select",{className:"form-select form-select-sm",value:f,onChange:Y=>{h(Y.target.value),x(1)},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"admin",children:"admin"}),l.jsx("option",{value:"administrator",children:"administrator"}),l.jsx("option",{value:"technician",children:"technician"}),l.jsx("option",{value:"standard",children:"standard"}),l.jsx("option",{value:"user",children:"user (legacy)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:v,onChange:Y=>{const ye=Number(Y.target.value)||20;g(ye),x(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:ce,disabled:A||ve.isPending,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>$(),disabled:A||ve.isPending,children:"Recargar"})]})]}),A?l.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):R?l.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm align-middle",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Usuario"}),l.jsx("th",{children:"Rol"}),l.jsx("th",{className:"text-end",children:"Acciones"})]})}),l.jsxs("tbody",{children:[Ee.map(Y=>l.jsxs("tr",{children:[l.jsx("td",{children:Y.username}),l.jsx("td",{children:Y.role}),l.jsx("td",{className:"text-end",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Te(Y),disabled:(Y.username??"").toLowerCase()==="admin",children:"Editar"})})]},Y.id)),Ee.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),l.jsx("div",{className:"d-flex justify-content-end mt-2",children:l.jsx("small",{className:"text-muted",children:he})}),U>1&&l.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:l.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[l.jsx("li",{className:`page-item ${y===1?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>x(Y=>Math.max(1,Y-1)),disabled:y===1,children:""})}),l.jsx("li",{className:"page-item disabled",children:l.jsxs("span",{className:"page-link",children:["Pgina ",y," / ",U]})}),l.jsx("li",{className:`page-item ${y===U?"disabled":""}`,children:l.jsx("button",{className:"page-link",onClick:()=>x(Y=>Math.min(U,Y+1)),disabled:y===U,children:"Siguiente"})})]})})]})})}),z&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:Y=>{Y.target===Y.currentTarget&&Oe()},children:l.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",z.username]}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:Oe})]}),l.jsxs("div",{className:"modal-body",children:[K?l.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",l.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,Qy.map(Y=>{const ye=Y.moduleIds.map(Be=>Wm.find(Ze=>Ze.id===Be)).filter(Boolean),Se=ye.filter(Be=>M.includes(Be.id)).length,Le=ye.length>0&&Se===ye.length,Ve=Se>0&&!Le,pe=!!B[Y.id];return l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[l.jsxs("div",{className:"form-check mb-0",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${z.id}-${Y.id}`,checked:Le,ref:Be=>{Be&&(Be.indeterminate=Ve)},onChange:()=>_(Y),disabled:ve.isPending||K}),l.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${z.id}-${Y.id}`,children:[Y.label,l.jsxs("span",{className:"text-muted ms-2 small",children:["(",Se,"/",ye.length,")"]})]})]}),l.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Acciones ${Y.label}`,children:l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:()=>de(Y.id,!pe),disabled:ve.isPending,children:pe?"Expandir":"Contraer"})})]}),!pe&&l.jsx("div",{className:"mt-2 ms-4 ps-3 border-start border-2 border-light",children:l.jsx("div",{className:"row",children:ye.map(Be=>l.jsx("div",{className:"col-md-6 mb-2",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${z.id}-${Be.id}`,checked:M.includes(Be.id),onChange:()=>fe(Be.id),disabled:ve.isPending||K}),l.jsxs("label",{className:"form-check-label",htmlFor:`perm-${z.id}-${Be.id}`,children:[Be.label," ",l.jsxs("span",{className:"text-muted",children:["(",Be.path,")"]})]})]})},Be.id))})})]},Y.id)}),l.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:Oe,disabled:ve.isPending,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:X,disabled:ve.isPending||K,children:"Guardar"})]})]})})})]})}function XT(e){const a=Qe.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function JT(e,a){return Qe.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function WT(e,a){return Qe.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function Xy(e,a,s){const i=XT(`/integrations/vima-to-lista/progress/${e}`),c=$n()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const f=d.body.getReader(),h=new TextDecoder("utf-8");let v="";for(;;){const{value:g,done:y}=await f.read();if(y)break;v+=h.decode(g,{stream:!0});let x;for(;(x=v.indexOf(`
`))>=0;){const j=v.slice(0,x).trim();if(v=v.slice(x+1),!!j)try{a(JSON.parse(j))}catch{}}}}function cN(e){return`${e.name}::${e.size}::${e.lastModified}`}function e2(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function bu(e){return e2(e.name)}function t2(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function Lh(e,a){const s=t2(a);if(!s)return e;const i=s.filter(c=>c.startsWith("."));return i.length===0?e:e.filter(c=>i.some(d=>c.name.toLowerCase().endsWith(d)))}function n2(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],i=[],c=[],d=new Set(e.map(bu));for(const f of a){const h=bu(f);if(d.has(h)){c.push(f);continue}d.add(h),s.push(f),i.push(f)}return{merged:s,added:i,duplicates:c}}function wo({label:e,accept:a,disabled:s=!1,file:i,onChange:c}){const d=p.useRef(null),f=p.useRef(0),[h,v]=p.useState(!1),g=()=>{s||d.current?.click()},y=()=>{s||(d.current&&(d.current.value=""),c(null))},x=R=>{c(R.target.files?.[0]??null),R.currentTarget.value=""},j=R=>{R.preventDefault(),R.stopPropagation(),!s&&(f.current+=1,v(!0))},F=R=>{R.preventDefault(),R.stopPropagation()},E=R=>{R.preventDefault(),R.stopPropagation(),!s&&(f.current=Math.max(0,f.current-1),f.current===0&&v(!1))},A=R=>{if(R.preventDefault(),R.stopPropagation(),f.current=0,v(!1),s)return;const $=R.dataTransfer?.files?Array.from(R.dataTransfer.files):[],te=Lh($,a)[0]??null;te&&(d.current&&(d.current.value=""),c(te))};return l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:e}),l.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),l.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:j,onDragOver:F,onDragLeave:E,onDrop:A,"aria-disabled":s?"true":"false",children:l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:g,disabled:s,children:"Examinar"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:y,disabled:s||!i,children:"Eliminar"}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:i?i.name:"No se ha seleccionado ningn archivo."})]})})]})}const a2={status:"estado",progress:"progreso",complete:"completado",error:"error"},s2={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},r2=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function uN(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function oi(e){if(!e)return"";const a=e.toLowerCase();return uN(a2[a]??e)}function ol(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return uN(s2[a]??ml(s))}function ml(e){if(!e)return"";let a=e;for(const[s,i]of r2)a=a.replace(s,i);return a}function l2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function i2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}function o2(){const[e,a]=p.useState(null),[s,i]=p.useState(null),[c,d]=p.useState(""),[f,h]=p.useState(11),[v,g]=p.useState(11),[y,x]=p.useState(!0),[j,F]=p.useState(!0),[E,A]=p.useState(!0),[R,$]=p.useState(!0),[z,te]=p.useState(!1),[M,D]=p.useState(""),[K,B]=p.useState(null),[H,de]=p.useState(null),[Te,Oe]=p.useState(null),[ve,Ee]=p.useState([]),[ke,De]=p.useState(""),U=p.useRef(null),V=p.useRef(null),[ae,he]=p.useState(!1),[fe,_]=p.useState(!1),[X,ce]=p.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Y=p.useMemo(()=>!!e&&!!s&&!K,[e,s,K]);function ye(ze){Ee(ue=>[ze,...ue].slice(0,200));const Pe=typeof ze.percent=="number"?ze.percent:typeof ze.progress=="number"?ze.progress:null;Pe!=null&&Number.isFinite(Pe)&&Oe(Math.max(0,Math.min(100,Pe)))}function Se(){U.current?.abort(),U.current=null}function Le(){K&&Se()}function Ve(ze,Pe){if(!e||!s)throw new Error("Faltan archivos");const ue=new FormData;ue.append("vima_file",e),ue.append("lista_file",s);const Ie=(Pe??c).trim();return Ie&&ue.append("vima_password",Ie),ue.append("vima_start_row",String(f)),ue.append("lista_start_row",String(v)),ue.append("require_all_g_to_n",y?"true":"false"),ue.append("incremental",j?"true":"false"),ue.append("strict_incremental",E?"true":"false"),ue.append("replicate_merges",R?"true":"false"),ue.append("update_existing_periodo",z?"true":"false"),M.trim()&&ue.append("oi_pattern",M.trim()),ue.append("operation_id",ze),ue}function pe(){V.current=null,_(!1)}function Be(ze,Pe){V.current=ze,ce(Pe),_(!0)}function Ze(ze,Pe){if(!bt.isAxiosError(ze)){De(String(ze));return}const ue=ze;if(ue.code==="ERR_CANCELED")return;const Ie=ue.response?.headers?.["x-code"],we=ue.response?.data?.detail??ue.message;if(Ie==="PASSWORD_REQUIRED"){De(""),Be(Pe,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Ie==="WRONG_PASSWORD"){De(""),Be(Pe,"Contrasea incorrecta. Intenta nuevamente.");return}De(String(we))}async function Je(ze){De(""),de(null),Ee([]),Oe(0);const Pe=crypto.randomUUID();U.current=new AbortController,Xy(Pe,ye,U.current.signal).catch(()=>{}),B("dry");try{const ue=Ve(Pe,ze?.passwordOverride),Ie=await JT(ue,U.current.signal);de(Ie.data)}catch(ue){Ze(ue,"dry")}finally{Se(),B(null)}}async function ct(ze){De(""),Ee([]),Oe(0);const Pe=crypto.randomUUID();U.current=new AbortController,Xy(Pe,ye,U.current.signal).catch(()=>{}),B("upload");try{const ue=Ve(Pe,ze?.passwordOverride),Ie=await WT(ue,U.current.signal),we=Ie.headers?.["content-disposition"],We=l2(we)??"LISTA_SALIDA.xlsx";i2(Ie.data,We)}catch(ue){Ze(ue,"upload")}finally{Se(),B(null)}}return l.jsxs("div",{className:"container-fluid",children:[l.jsxs("div",{className:"row gap-20",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),l.jsx("div",{className:"mB-15",children:l.jsx(wo,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!K})}),l.jsx("div",{className:"mB-15",children:l.jsx(wo,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:i,disabled:!!K})}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),l.jsx("input",{className:"form-control",type:"password",value:c,onChange:ze=>d(ze.target.value),placeholder:"(opcional)"})]}),ae?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),l.jsx("input",{className:"form-control",type:"number",value:f,onChange:ze=>h(Number(ze.target.value))})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),l.jsx("input",{className:"form-control",type:"number",value:v,onChange:ze=>g(Number(ze.target.value))})]})]}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),l.jsx("input",{className:"form-control",value:M,onChange:ze=>D(ze.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),l.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),l.jsxs("div",{className:"row mT-10",children:[l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:y,onChange:ze=>x(ze.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:R,onChange:ze=>$(ze.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:j,onChange:ze=>F(ze.target.checked)}),l.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:E,onChange:ze=>A(ze.target.checked),disabled:!j}),l.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),l.jsx("div",{className:"col-md-6 mB-10",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:z,onChange:ze=>te(ze.target.checked),disabled:!j}),l.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,ke&&l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:ke}),l.jsx("div",{className:"d-flex justify-content-end mT-10",children:l.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>he(ze=>!ze),disabled:!!K,children:ae?"Menos Opciones":"Ms Opciones"})}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary",disabled:!Y,onClick:()=>void ct(),children:K==="upload"?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger",disabled:!K,onClick:Le,children:"Cancelar"}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!Y,onClick:()=>void Je(),children:K==="dry"?"Analizando...":"Analizar"})]}),H&&l.jsxs("div",{className:"mT-20",children:[l.jsx("h5",{className:"c-grey-900",children:"Resumen"}),l.jsxs("ul",{className:"mB-0",children:[l.jsxs("li",{children:["Filas a copiar: ",l.jsx("b",{children:H.would_copy})]}),l.jsxs("li",{children:["Fila inicio escritura (LISTA): ",l.jsx("b",{children:H.start_write_row})]}),l.jsxs("li",{children:["ltimo OI en LISTA: ",l.jsx("b",{children:String(H.last_oi_in_lista??"-")})]}),l.jsxs("li",{children:["Primer OI a copiar: ",l.jsx("b",{children:String(H.first_oi_to_copy??"-")})]}),l.jsxs("li",{children:["ltimo OI a copiar: ",l.jsx("b",{children:String(H.last_oi_to_copy??"-")})]})]})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),K?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Te??0}%`},"aria-valuenow":Te??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:ve.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:ve.map((ze,Pe)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:oi(ze.type)})," ",ze.stage?l.jsxs("span",{className:"text-muted",children:["[",ol(ze.stage),"]"]}):null,typeof ze.percent=="number"?l.jsxs("span",{className:"text-muted",children:["  ",ze.percent.toFixed(1),"%"]}):null]}),l.jsx("div",{className:"text-muted",children:ml(ze.message??ze.detail??"")}),ze.code?l.jsxs("div",{className:"text-muted",children:["Cdigo: ",ze.code]}):null]},Pe))})})]})})]}),l.jsx(Iu,{show:fe,title:"Archivo protegido",confirmLabel:"Continuar",helpText:X,onClose:pe,onConfirm:ze=>{d(ze),_(!1);const Pe=V.current;V.current=null,Pe&&(Pe==="dry"?Je({passwordOverride:ze}):ct({passwordOverride:ze}))}})]})}function vu(e){const a=e,s=String(a?.name||""),i=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(i)||/abort/i.test(i)}function bi(e){const a=Qe.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function Bh(e,a){if(!e.body)return;const s=e.body.getReader(),i=new TextDecoder("utf-8");let c="";try{for(;;){let f;try{f=await s.read()}catch(y){if(vu(y))return;throw y}const{value:h,done:v}=f;if(v)break;if(!h||h.length===0)continue;c+=i.decode(h,{stream:!0});let g;for(;(g=c.indexOf(`
`))>=0;){const y=c.slice(0,g).trim();if(c=c.slice(g+1),!!y)try{const x=JSON.parse(y);x&&x.progress!=null&&x.percent==null&&(x.percent=x.progress),x&&x.percent!=null&&x.progress==null&&(x.progress=x.percent),a(x)}catch{}}}const d=c.trim();if(d)try{const f=JSON.parse(d);f&&f.progress!=null&&f.percent==null&&(f.percent=f.progress),f&&f.percent!=null&&f.progress==null&&(f.progress=f.percent),a(f)}catch{}}catch(d){if(vu(d))return;throw d}}function Er(e,a,s){const i=new Error(e);return a!=null&&(i.status=a),s&&(i.code=s),i}async function qh(e,a,s){const i=bi(`/integrations/vima-to-lista/progress/${e}`),c=$n()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw Er(`No se pudo abrir el stream (${d.status})`,d.status,f)}await Bh(d,a)}async function c2(e,a,s){const i=bi(`/logistica/log01/progress/${e}`),c=$n()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const y=d.headers.get("X-Code")??void 0;throw Er(`No se pudo abrir el stream (${d.status})`,d.status,y)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw Er("Stream no es NDJSON",d.status);if(!d.body)throw Er("Stream sin body",d.status);const h=d.body.getReader(),v=new TextDecoder("utf-8");let g="";try{for(;;){let x;try{x=await h.read()}catch(A){if(vu(A))return;throw A}const{value:j,done:F}=x;if(F)break;if(!j||j.length===0)continue;g+=v.decode(j,{stream:!0});let E;for(;(E=g.indexOf(`
`))>=0;){const A=g.slice(0,E).trim();if(g=g.slice(E+1),!!A)try{a(JSON.parse(A))}catch{}}}const y=g.trim();if(y)try{a(JSON.parse(y))}catch{}}catch(y){if(vu(y))return;throw y}}async function u2(e,a,s){const i=bi("/bases/actualizar/dry-run-upload"),c=$n()?.token,d=await fetch(i,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const v=await d.json();v?.detail&&(h=String(v.detail))}catch{}throw Er(h,d.status,f)}await Bh(d,a)}async function d2(e,a){return Qe.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function f2(e,a){return Qe.post("/logistica/log01/start",e,{signal:a})}async function m2(e,a,s){const i=bi(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=$n()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw Er(`No se pudo hacer poll (${d.status})`,d.status,f)}return await d.json()}async function h2(e,a){return Qe.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function p2(e){await Qe.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function eh(e={}){const{limit:a=20,offset:s=0,include_deleted:i=!1,q:c,dateFrom:d,dateTo:f,source:h,status:v}=e,g={limit:a,offset:s,include_deleted:i};c&&c.trim()&&(g.q=c.trim()),d&&d.trim()&&(g.dateFrom=d.trim()),f&&f.trim()&&(g.dateTo=f.trim()),h&&h.trim()&&(g.source=h.trim()),v&&v.trim()&&(g.status=v.trim());const{data:y}=await Qe.get("/logistica/log01/history",{params:g});return y}async function g2(e){const{data:a}=await Qe.get(`/logistica/log01/history/${encodeURIComponent(String(e))}`);return a}async function b2(e,a,s){return Qe.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:i=>i===200})}async function v2(e,a){await Qe.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function y2(){return(await Qe.get("/logistica/log02/explorador/roots")).data}async function x2(e){return(await Qe.get("/logistica/log02/explorador/listar",{params:{path:e}})).data}async function N2(e){return(await Qe.post("/logistica/log02/validar-rutas-unc",e)).data}async function j2(e,a){return(await Qe.post("/logistica/log02/copiar-conformes/start",e,{signal:a})).data}async function S2(e,a,s){const i=bi(`/logistica/log02/copiar-conformes/progress/${e}`),c=$n()?.token,d=await fetch(i,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw Er(`No se pudo abrir el stream (${d.status})`,d.status,f)}await Bh(d,a)}async function w2(e,a,s){const i=bi(`/logistica/log02/copiar-conformes/poll/${e}?cursor=${encodeURIComponent(a)}`),c=$n()?.token,d=await fetch(i,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const f=d.headers.get("X-Code")??void 0;throw Er(`No se pudo hacer poll (${d.status})`,d.status,f)}return await d.json()}async function _2(e){return(await Qe.post(`/logistica/log02/copiar-conformes/cancel/${encodeURIComponent(e)}`)).data}async function E2(e,a){return(await Qe.get(`/logistica/log02/copiar-conformes/reporte/${encodeURIComponent(e)}`,{params:{format:a},responseType:"blob"})).data}async function A2(e={}){const{limit:a=20,offset:s=0,q:i,dateFrom:c,dateTo:d,origin:f}=e,h={limit:a,offset:s};i&&i.trim()&&(h.q=i.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),f&&f.trim()&&(h.origin=f.trim());const{data:v}=await Qe.get("/oi/tools/formato-ac/history",{params:h});return v}async function C2(e,a){return Qe.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function dN(){const{data:e}=await Qe.get("/merge/config/upload-limits");return e}async function fN(e,a,s){return Qe.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function mN(e){await Qe.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function O2(e){const{data:a}=await Qe.post("/tools/files/upload",e);return a}async function R2(e){const{data:a}=await Qe.post("/tools/excel/inspect",e);return a}async function T2(e){const{data:a}=await Qe.post("/tools/excel/update",e);return a}async function D2(e){const{data:a}=await Qe.post("/tools/excel/change-password",e);return a}async function z2(e){const{data:a}=await Qe.post("/tools/excel/validate",e);return a}function k2({show:e,disabled:a=!1,title:s,accept:i,files:c,onClose:d,onAddFiles:f,onRemoveFile:h,onRemoveAll:v}){const g=p.useRef(null),y=p.useRef(0),[x,j]=p.useState(!1),[F,E]=p.useState("");p.useEffect(()=>{if(!e)return;const B=H=>{H.key==="Escape"&&d()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[e,d]),p.useEffect(()=>{e||j(!1)},[e]),p.useEffect(()=>{e&&E("")},[e]);const A=p.useCallback(B=>{const H=Lh(B,i);if(H.length===0)return;const de=new Set(c.map(bu)),Te=new Set(de),Oe=[],ve=[];for(const Ee of H){const ke=bu(Ee);if(Te.has(ke)){ve.push(Ee);continue}Te.add(ke),Oe.push(Ee)}if(ve.length>0){const Ee=Array.from(new Set(ve.map(De=>De.name))),ke=ve.length;if(Ee.length===1){const De=ke===1?"Se omiti 1 archivo duplicado":`Se omitieron ${ke} archivos duplicados`;E(`${De}: "${Ee[0]}".`)}else E(`Se omitieron ${ke} archivos duplicados: ${Ee.join(", ")}.`)}Oe.length>0&&f(Oe)},[i,c,f]);if(p.useEffect(()=>{if(!e)return;const B=de=>{de.preventDefault(),de.stopPropagation()},H=de=>{if(de.preventDefault(),de.stopPropagation(),a)return;const Te=de.dataTransfer?.files?Array.from(de.dataTransfer.files):[];A(Te)};return window.addEventListener("dragover",B,!0),window.addEventListener("drop",H,!0),()=>{window.removeEventListener("dragover",B,!0),window.removeEventListener("drop",H,!0)}},[e,a,A]),!e)return null;const R=()=>{a||g.current?.click()},$=B=>{const H=B.target.files?Array.from(B.target.files):[];A(H),B.currentTarget.value=""},z=()=>{a||(g.current&&(g.current.value=""),v())},te=B=>{B.preventDefault(),B.stopPropagation(),!a&&(y.current+=1,j(!0))},M=B=>{B.preventDefault(),B.stopPropagation()},D=B=>{B.preventDefault(),B.stopPropagation(),!a&&(y.current=Math.max(0,y.current-1),y.current===0&&j(!1))},K=B=>{if(B.preventDefault(),B.stopPropagation(),y.current=0,j(!1),a)return;const H=B.dataTransfer?.files?Array.from(B.dataTransfer.files):[];A(H)};return l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:B=>{B.target===B.currentTarget&&d()},children:l.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),l.jsxs("div",{className:"modal-body",children:[l.jsx("input",{ref:g,className:"d-none",type:"file",accept:i,multiple:!0,onChange:$,disabled:a}),F?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[l.jsx("div",{children:F}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>E("")})]}):null,l.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:te,onDragOver:M,onDragLeave:D,onDrop:K,"aria-disabled":a?"true":"false",children:[l.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",l.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:R,disabled:a,children:"selecciona desde tu equipo"}),"."]}),i?l.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",i]}):null]}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[l.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:R,disabled:a,children:"Agregar ms"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:z,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:l.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:l.jsx("ul",{className:"list-group",children:c.map(B=>{const H=cN(B);return l.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[l.jsx("div",{className:"text-truncate",style:{minWidth:0},children:B.name}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(H),disabled:a,children:"Eliminar"})]},H)})})})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:d,children:"Cerrar"})})]})})})}function M2(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(i=>i.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function $u({label:e,title:a,accept:s,disabled:i=!1,fullDropArea:c=!1,files:d,setFiles:f}){const[h,v]=p.useState(!1),[g,y]=p.useState(!1),[x,j]=p.useState(""),F=p.useRef(0),E=p.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),A=d.length===0?"Agregar archivos":"Modificar/agregar archivos",R=K=>{const B=Lh(K,s);B.length!==0&&f(H=>{const{merged:de,duplicates:Te}=n2(H,B);return Te.length>0&&j(M2(Te)),de})},$=K=>{K.preventDefault(),K.stopPropagation(),!i&&(F.current+=1,y(!0))},z=K=>{K.preventDefault(),K.stopPropagation()},te=K=>{K.preventDefault(),K.stopPropagation(),!i&&(F.current=Math.max(0,F.current-1),F.current===0&&y(!1))},M=K=>{if(K.preventDefault(),K.stopPropagation(),F.current=0,y(!1),i)return;const B=K.dataTransfer?.files?Array.from(K.dataTransfer.files):[];R(B)},D=l.jsxs(l.Fragment,{children:[l.jsx("label",{className:"form-label",children:e}),l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>v(!0),disabled:i,children:A}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:E})]}),x?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[l.jsx("div",{children:x}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>j("")})]}):null]});return l.jsxs(l.Fragment,{children:[c?l.jsx("div",{className:`vi-file-drop-target${g?" is-dragover":""}`,onDragEnter:$,onDragOver:z,onDragLeave:te,onDrop:M,"aria-disabled":i?"true":"false",children:D}):l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:e}),l.jsx("div",{className:`vi-file-drop-target${g?" is-dragover":""}`,onDragEnter:$,onDragOver:z,onDragLeave:te,onDrop:M,"aria-disabled":i?"true":"false",children:l.jsxs("div",{className:"input-group",children:[l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>v(!0),disabled:i,children:A}),l.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:E})]})}),x?l.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[l.jsx("div",{children:x}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>j("")})]}):null]}),l.jsx(k2,{show:h,disabled:i,title:a,accept:s,files:d,onClose:()=>v(!1),onAddFiles:R,onRemoveFile:K=>f(B=>B.filter(H=>cN(H)!==K)),onRemoveAll:()=>f([])})]})}function U2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function L2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function B2(e){if(!bt.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,i=a.response?.data;if(i instanceof Blob)try{const d=await i.text(),f=JSON.parse(d);return{detail:String(f?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=i?.detail??a.message;return{detail:String(c),code:s}}function q2(){const[e,a]=p.useState(null),[s,i]=p.useState([]),[c,d]=p.useState(""),[f,h]=p.useState(""),[v,g]=p.useState("^OI-(\\d+)-(\\d{4})$"),[y,x]=p.useState(9),[j,F]=p.useState("ERROR FINAL"),[E,A]=p.useState(!0),[R,$]=p.useState(!1),[z,te]=p.useState(!1),[M,D]=p.useState(null),[K,B]=p.useState(null),[H,de]=p.useState([]),[Te,Oe]=p.useState(""),ve=p.useRef(null),Ee=p.useRef(null),[ke,De]=p.useState(!1),[U,V]=p.useState(!1),[ae,he]=p.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),fe=p.useMemo(()=>!!e&&s.length>0&&!M,[e,s,M]);function _(pe){de(Ze=>[pe,...Ze].slice(0,200));const Be=typeof pe.percent=="number"?pe.percent:typeof pe.progress=="number"?pe.progress:null;Be!=null&&Number.isFinite(Be)&&B(Math.max(0,Math.min(100,Be)))}function X(){ve.current?.abort(),ve.current=null}function ce(){M&&X()}function Y(pe,Be){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const Ze=new FormData;Ze.append("base_file",e);for(const ct of s)Ze.append("oi_files",ct);const Je=(Be??c).trim();return Je&&Ze.append("default_password",Je),f.trim()&&Ze.append("per_file_passwords_json",f.trim()),v.trim()&&Ze.append("oi_pattern",v.trim()),Ze.append("oi_start_row",String(y)),j.trim()&&Ze.append("base_sheet",j.trim()),pe&&Ze.append("operation_id",pe),Ze}function ye(){Ee.current=null,V(!1)}function Se(pe,Be){Ee.current=pe,he(Be),V(!0)}async function Le(pe){Oe(""),de([]),B(0),ve.current=new AbortController,D("dry");try{const Be=Y(void 0,pe?.passwordOverride);await u2(Be,_,ve.current.signal)}catch(Be){if(Be?.name==="AbortError")return;const Ze=Be?.code,Je=String(Be?.message??Be);if(Ze==="PASSWORD_REQUIRED"){Oe(""),Se("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ze==="WRONG_PASSWORD"){Oe(""),Se("dry","Contrasea incorrecta. Intenta nuevamente.");return}else Oe(Je)}finally{X(),D(null)}}async function Ve(pe){Oe(""),de([]),B(0);const Be=crypto.randomUUID();ve.current=new AbortController,qh(Be,_,ve.current.signal).catch(()=>{}),D("upload");try{const Ze=Y(Be,pe?.passwordOverride);Ze.append("replicate_merges",E?"true":"false"),Ze.append("replicate_row_heights",R?"true":"false"),Ze.append("replicate_col_widths",z?"true":"false");const Je=await d2(Ze,ve.current.signal),ct=Je.headers["content-disposition"],ze=Je.headers["x-file-name"],Pe=U2(ct)??ze??"base_actualizada.xlsx";L2(Je.data,Pe)}catch(Ze){if(bt.isAxiosError(Ze)&&Ze.code==="ERR_CANCELED")return;const{detail:Je,code:ct}=await B2(Ze);if(ct==="PASSWORD_REQUIRED"){Oe(""),Se("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(ct==="WRONG_PASSWORD"){Oe(""),Se("upload","Contrasea incorrecta. Intenta nuevamente.");return}else Oe(Je)}finally{X(),D(null)}}return l.jsxs("div",{className:"container-fluid",children:[l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),l.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(wo,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!M})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx($u,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:i,disabled:!!M})}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:c,onChange:pe=>d(pe.target.value),disabled:!!M})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),l.jsx("input",{className:"form-control",value:j,onChange:pe=>F(pe.target.value),disabled:!!M})]}),ke?l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),l.jsx("input",{className:"form-control",value:v,onChange:pe=>g(pe.target.value),disabled:!!M})]}):null,l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label",children:"Fila inicio OI"}),l.jsx("input",{className:"form-control",type:"number",min:1,value:y,onChange:pe=>x(Number(pe.target.value||9)),disabled:!!M})]}),l.jsxs("div",{className:"col-12 mB-15",children:[l.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),l.jsx("textarea",{className:"form-control",rows:4,value:f,onChange:pe=>h(pe.target.value),disabled:!!M,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),ke?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:E,onChange:pe=>A(pe.target.checked),disabled:!!M}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:R,onChange:pe=>$(pe.target.checked),disabled:!!M}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),l.jsx("div",{className:"col-md-4 mB-15",children:l.jsxs("div",{className:"form-check form-switch",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:z,onChange:pe=>te(pe.target.checked),disabled:!!M}),l.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),Te&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:Te}),l.jsx("div",{className:"d-flex justify-content-end mT-10",children:l.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>De(pe=>!pe),disabled:!!M,children:ke?"Menos Opciones":"Ms Opciones"})}),l.jsxs("div",{className:"d-flex gap-10 mT-15",children:[l.jsx("button",{className:"btn btn-primary",disabled:!fe,onClick:()=>void Ve(),children:M==="upload"?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger",disabled:!M,onClick:ce,children:"Cancelar"}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!fe,onClick:()=>void Le(),children:M==="dry"?"Analizando...":"Analizar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),M?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${K??0}%`},"aria-valuenow":K??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:H.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:H.map((pe,Be)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:oi(pe.type)})," ",pe.stage?l.jsxs("span",{className:"text-muted",children:["[",ol(pe.stage),"]"]}):null,typeof pe.percent=="number"?l.jsxs("span",{className:"text-muted",children:["  ",pe.percent.toFixed(1),"%"]}):null]}),l.jsx("div",{className:"text-muted",children:ml(pe.message??pe.detail??"")}),pe.code?l.jsxs("div",{className:"text-muted",children:["Cdigo: ",pe.code]}):null]},Be))})})]})})]}),l.jsx(Iu,{show:U,title:"Archivo protegido",confirmLabel:"Continuar",helpText:ae,onClose:ye,onConfirm:pe=>{d(pe),V(!1);const Be=Ee.current;Ee.current=null,Be&&(Be==="dry"?Le({passwordOverride:pe}):Ve({passwordOverride:pe}))}})]})}const I2="America/Lima";function $2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function F2(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}function H2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:I2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function V2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function Z2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function G2(){const[e,a]=p.useState([]),[s,i]=p.useState(0),[c,d]=p.useState(!1),[f,h]=p.useState(""),[v,g]=p.useState(0),[y,x]=p.useState(""),[j,F]=p.useState(""),[E,A]=p.useState(""),[R,$]=p.useState(""),[z,te]=p.useState(20),[M,D]=p.useState(1),[K,B]=p.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),H=p.useMemo(()=>(M-1)*z,[M,z]);p.useEffect(()=>{let V=!1;return d(!0),h(""),A2({limit:z,offset:H,q:K.q||void 0,dateFrom:K.dateFrom||void 0,dateTo:K.dateTo||void 0,origin:K.origin||void 0}).then(ae=>{V||(a(Array.isArray(ae?.items)?ae.items:[]),i(typeof ae?.total=="number"?ae.total:0))}).catch(ae=>{if(V)return;const he=ae,fe=he.response?.data?.detail||he.message||"No se pudo cargar historial.";h(fe)}).finally(()=>{V||d(!1)}),()=>{V=!0}},[K,H,z,v]);const de=()=>{B({q:y.trim(),dateFrom:j.trim(),dateTo:E.trim(),origin:R.trim()}),D(1)},Te=()=>{x(""),F(""),A(""),$(""),B({q:"",dateFrom:"",dateTo:"",origin:""}),D(1),g(V=>V+1)},Oe=()=>g(V=>V+1),ve=async V=>{try{h("");const ae=await C2(V),he=ae.headers["content-disposition"],fe=ae.headers["x-file-name"],_=$2(he)??fe??"formato_ac.xlsx";F2(ae.data,_)}catch(ae){const he=ae;if(bt.isCancel(he))return;const fe=he.response?.data?.detail||he.message||"No se pudo descargar.";h(fe)}},Ee=s===0?0:H+1,ke=s===0?0:Math.min(H+e.length,s),De=M>1,U=H+e.length<s;return l.jsx("div",{className:"container-fluid",children:l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:l.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),f?l.jsx("div",{className:"alert alert-danger",role:"alert",children:f}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:V=>{V.preventDefault(),de()},children:[l.jsxs("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:y,onChange:V=>x(V.target.value),onKeyDown:V=>{V.key==="Enter"&&de()},placeholder:"Operacion o usuario..."})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha desde"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:j,onChange:V=>F(V.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha hasta"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:E,onChange:V=>A(V.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsxs("select",{className:"form-select form-select-sm",value:R,onChange:V=>$(V.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),l.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:z,onChange:V=>{const ae=Number(V.target.value);te(Number.isFinite(ae)?ae:20),D(1)},children:[l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Te,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Oe,children:"Recargar"})]})]}),l.jsxs("div",{className:"mT-15",children:[c?l.jsx("div",{className:"text-muted",children:"Cargando historial..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),l.jsx("tbody",{children:e.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(V=>{const ae=V.created_by_full_name||V.created_by_username||"N/D";return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:V.operation_id}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:H2(V.created_at)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:ae}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:Z2(V.origin)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("span",{className:V2(V.status),children:V.status})}),l.jsx("td",{children:l.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void ve(V.id),children:"Descargar"})})})]},V.id)})})]})}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[l.jsxs("div",{className:"small text-muted",children:["Mostrando ",Ee,"-",ke," de ",s," registros"]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>D(V=>Math.max(1,V-1)),disabled:!De||c,children:"Anterior"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>D(V=>V+1),disabled:!U||c,children:"Siguiente"})]})]})]})]})})})})}function P2(){return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),l.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6 mB-15",children:l.jsx("div",{className:"card h-100",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:"Correlativo"}),l.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),l.jsx(au,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),l.jsx("div",{className:"col-md-6 mB-15",children:l.jsx("div",{className:"card h-100",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:"No correlativo"}),l.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),l.jsx(au,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function Q2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function Y2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function K2(e){if(!bt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function X2(){const[e,a]=p.useState(null),[s,i]=p.useState(null),[c,d]=p.useState([]),[f,h]=p.useState(!1),[v,g]=p.useState(""),[y,x]=p.useState(null),[j,F]=p.useState([]),E=p.useRef(null),A=p.useRef(null),R=p.useMemo(()=>!!s&&c.length>0&&!f,[s,c,f]);p.useEffect(()=>{dN().then(a).catch(()=>a(null))},[]);function $(D){F(B=>[D,...B].slice(0,200));const K=typeof D.percent=="number"?D.percent:typeof D.progress=="number"?D.progress:null;K!=null&&Number.isFinite(K)&&x(Math.max(0,Math.min(100,K)))}function z(){E.current?.abort(),E.current=null}function te(){if(!f)return;const D=A.current;D&&mN(D).catch(()=>{}),$({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),z()}async function M(){if(g(""),F([]),x(0),!s){g("Selecciona el archivo maestro.");return}if(c.length===0){g("Selecciona al menos un archivo de tcnico.");return}const D=new FormData;D.append("master",s);for(const B of c)D.append("technicians",B);const K=crypto.randomUUID();A.current=K,D.append("operation_id",K),E.current=new AbortController,h(!0);try{const B=E.current?.signal;qh(K,$,B).catch(()=>{});const H=await fN(D,"correlativo",B),de=H.headers["content-disposition"],Te=Q2(de)??"consolidado_correlativo.xlsx";Y2(H.data,Te)}catch(B){if(bt.isAxiosError(B)&&B.code==="ERR_CANCELED"||bt.isAxiosError(B)&&(B.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const H=await K2(B);$({type:"error",stage:"error",detail:H}),g(H)}finally{A.current=null,h(!1),z()}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),l.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&l.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",l.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",l.jsx("b",{children:e.max_tech_files})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(wo,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:i,disabled:f})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx($u,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:f})})]}),v&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:v}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary mT-10",disabled:!R,onClick:M,children:f?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!f,onClick:te,children:"Cancelar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),f?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${y??0}%`},"aria-valuenow":y??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:j.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:j.map((D,K)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:oi(D.type)})," ",D.stage?l.jsxs("span",{className:"text-muted",children:["[",ol(D.stage),"]"]}):null]}),l.jsx("div",{className:"text-muted",children:ml(D.message??D.detail??"")})]},K))})})]})})]})})}function J2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function W2(e,a){const s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}async function eD(e){if(!bt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function tD(){const[e,a]=p.useState(null),[s,i]=p.useState(null),[c,d]=p.useState([]),[f,h]=p.useState(!1),[v,g]=p.useState(""),[y,x]=p.useState(null),[j,F]=p.useState([]),E=p.useRef(null),A=p.useRef(null),R=p.useMemo(()=>!!s&&c.length>0&&!f,[s,c,f]);p.useEffect(()=>{dN().then(a).catch(()=>a(null))},[]);function $(D){F(B=>[D,...B].slice(0,200));const K=typeof D.percent=="number"?D.percent:typeof D.progress=="number"?D.progress:null;K!=null&&Number.isFinite(K)&&x(Math.max(0,Math.min(100,K)))}function z(){E.current?.abort(),E.current=null}function te(){if(!f)return;const D=A.current;D&&mN(D).catch(()=>{}),$({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),z()}async function M(){if(g(""),F([]),x(0),!s){g("Selecciona el archivo maestro.");return}if(c.length===0){g("Selecciona al menos un archivo de tcnico.");return}const D=new FormData;D.append("master",s);for(const B of c)D.append("technicians",B);const K=crypto.randomUUID();A.current=K,D.append("operation_id",K),E.current=new AbortController,h(!0);try{const B=E.current?.signal;qh(K,$,B).catch(()=>{});const H=await fN(D,"no-correlativo",B),de=H.headers["content-disposition"],Te=J2(de)??"consolidado_no_correlativo.xlsx";W2(H.data,Te)}catch(B){if(bt.isAxiosError(B)&&B.code==="ERR_CANCELED"||bt.isAxiosError(B)&&(B.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const H=await eD(B);$({type:"error",stage:"error",detail:H}),g(H)}finally{A.current=null,h(!1),z()}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),l.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&l.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",l.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",l.jsx("b",{children:e.max_tech_files})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-12 mB-15",children:l.jsx(wo,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:i,disabled:f})}),l.jsx("div",{className:"col-12 mB-15",children:l.jsx($u,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:f})})]}),v&&l.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:v}),l.jsxs("div",{className:"d-flex gap-10 mT-20",children:[l.jsx("button",{className:"btn btn-primary mT-10",disabled:!R,onClick:M,children:f?"Procesando...":"Procesar y Descargar"}),l.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!f,onClick:te,children:"Cancelar"})]})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),f?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${y??0}%`},"aria-valuenow":y??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:j.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:j.map((D,K)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:oi(D.type)})," ",D.stage?l.jsxs("span",{className:"text-muted",children:["[",ol(D.stage),"]"]}):null]}),l.jsx("div",{className:"text-muted",children:ml(D.message??D.detail??"")})]},K))})})]})})]})})}async function uo(e){if(!bt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const i=await s.text(),c=JSON.parse(i);return String(c?.detail??i??a.message)}catch{return a.message}return String(s?.detail??a.message)}function nD(){const[e,a]=p.useState(null),[s,i]=p.useState(""),[c,d]=p.useState(""),[f,h]=p.useState(""),[v,g]=p.useState("ERROR FINAL"),[y,x]=p.useState(""),[j,F]=p.useState("same_password"),[E,A]=p.useState(""),[R,$]=p.useState([{cell:"A1",value:""}]),[z,te]=p.useState(""),[M,D]=p.useState("no_password"),[K,B]=p.useState(""),[H,de]=p.useState("ERROR FINAL"),[Te,Oe]=p.useState(1),[ve,Ee]=p.useState(""),[ke,De]=p.useState(""),[U,V]=p.useState(""),[ae,he]=p.useState(null),[fe,_]=p.useState(""),[X,ce]=p.useState(null),[Y,ye]=p.useState([]),[Se,Le]=p.useState(null),Ve=p.useMemo(()=>c.trim().length>0,[c]);function pe(ue){ye(Ie=>[ue,...Ie].slice(0,200))}function Be(){_(""),ye([]),ce(0),Le(null)}async function Ze(){if(Be(),!e){_("Selecciona un archivo para subir.");return}he("upload");try{pe({type:"status",stage:"upload",message:"Subiendo archivo..."}),ce(30);const ue=new FormData;ue.append("file",e),s.trim()&&ue.append("suggested_name",s.trim());const Ie=await O2(ue);d(Ie.relative_path),Le(Ie),pe({type:"complete",stage:"upload",message:"Archivo subido."}),ce(100)}catch(ue){const Ie=await uo(ue);_(Ie),pe({type:"error",stage:"upload",detail:Ie})}finally{he(null)}}async function Je(){if(Be(),!Ve){_("Ingresa o sube un archivo para obtener file_path.");return}he("inspect");try{pe({type:"status",stage:"inspect",message:"Inspeccionando..."}),ce(50);const ue=await R2({file_path:c.trim(),open_password:f.trim()||null});Le(ue),pe({type:"complete",stage:"inspect",message:"Inspeccin completada."}),ce(100)}catch(ue){const Ie=await uo(ue);_(Ie),pe({type:"error",stage:"inspect",detail:Ie})}finally{he(null)}}async function ct(){if(Be(),!Ve){_("Ingresa o sube un archivo para obtener file_path.");return}if(!v.trim()){_("Ingresa el nombre de la hoja.");return}const ue=R.map(Ie=>({cell:Ie.cell.trim(),value:Ie.value})).filter(Ie=>Ie.cell);if(ue.length===0){_("Agrega al menos una edicin.");return}he("update");try{pe({type:"status",stage:"update",message:"Aplicando ediciones..."}),ce(50);const Ie=await T2({file_path:c.trim(),edits:ue.map(we=>({sheet:v.trim(),cell:we.cell,value:we.value})),open_password:y.trim()||null,save_mode:j,new_password:j==="new_password"&&E.trim()||null});Le(Ie),pe({type:"complete",stage:"update",message:"Actualizacin completada."}),ce(100)}catch(Ie){const we=await uo(Ie);_(we),pe({type:"error",stage:"update",detail:we})}finally{he(null)}}async function ze(){if(Be(),!Ve){_("Ingresa o sube un archivo para obtener file_path.");return}if(!z.trim()){_("Ingresa la contrasea de apertura (open_password).");return}if(M==="new_password"&&!K.trim()){_("Ingresa la nueva contrasea.");return}he("change-password");try{pe({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),ce(50);const ue=await D2({file_path:c.trim(),open_password:z.trim(),mode:M,new_password:M==="new_password"?K.trim():null});Le(ue),pe({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),ce(100)}catch(ue){const Ie=await uo(ue);_(Ie),pe({type:"error",stage:"change-password",detail:Ie})}finally{he(null)}}async function Pe(){if(Be(),!Ve){_("Ingresa o sube un archivo para obtener file_path.");return}let ue={};if(ke.trim())try{ue=JSON.parse(ke)}catch{_("type_rules debe ser JSON vlido.");return}const Ie=ve.split(",").map(we=>we.trim()).filter(Boolean);he("validate");try{pe({type:"status",stage:"validate",message:"Validando..."}),ce(50);const we=await z2({file_path:c.trim(),sheet:H.trim()||null,header_row:Te,required_columns:Ie,type_rules:ue,open_password:U.trim()||null});Le(we),pe({type:"complete",stage:"validate",message:"Validacin completada."}),ce(100)}catch(we){const We=await uo(we);_(We),pe({type:"error",stage:"validate",detail:We})}finally{he(null)}}return l.jsx("div",{className:"container-fluid",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-7",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),l.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-8 mB-10",children:l.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!ae,onChange:ue=>a(ue.target.files?.[0]??null)})}),l.jsx("div",{className:"col-md-4 mB-10",children:l.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!ae,onChange:ue=>i(ue.target.value)})})]}),l.jsx("button",{className:"btn btn-outline-primary",disabled:!!ae||!e,onClick:Ze,children:ae==="upload"?"Subiendo...":"Subir"})]})}),l.jsxs("div",{className:"mB-15",children:[l.jsx("label",{className:"form-label",children:"file_path"}),l.jsx("input",{className:"form-control",value:c,disabled:!!ae,onChange:ue=>d(ue.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),l.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"2) Inspect"}),l.jsxs("div",{className:"row align-items-end",children:[l.jsxs("div",{className:"col-md-8 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:f,disabled:!!ae,onChange:ue=>h(ue.target.value)})]}),l.jsx("div",{className:"col-md-4 mB-10",children:l.jsx("button",{className:"btn btn-primary w-100",disabled:!!ae||!Ve,onClick:Je,children:ae==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"Hoja"}),l.jsx("input",{className:"form-control",value:v,disabled:!!ae,onChange:ue=>g(ue.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:y,disabled:!!ae,onChange:ue=>x(ue.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"save_mode"}),l.jsxs("select",{className:"form-select",value:j,disabled:!!ae,onChange:ue=>F(ue.target.value),children:[l.jsx("option",{value:"same_password",children:"same_password"}),l.jsx("option",{value:"no_password",children:"no_password"}),l.jsx("option",{value:"new_password",children:"new_password"})]})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"new_password"}),l.jsx("input",{className:"form-control",type:"password",value:E,disabled:!!ae||j!=="new_password",onChange:ue=>A(ue.target.value),placeholder:j==="new_password"?"Requerido":""})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsx("label",{className:"form-label",children:"Ediciones"}),R.map((ue,Ie)=>l.jsxs("div",{className:"row g-2 mB-10",children:[l.jsx("div",{className:"col-md-3",children:l.jsx("input",{className:"form-control",value:ue.cell,disabled:!!ae,onChange:we=>{const We=R.slice();We[Ie]={...We[Ie],cell:we.target.value},$(We)},placeholder:"Celda (A1)"})}),l.jsx("div",{className:"col-md-7",children:l.jsx("input",{className:"form-control",value:ue.value,disabled:!!ae,onChange:we=>{const We=R.slice();We[Ie]={...We[Ie],value:we.target.value},$(We)},placeholder:"Valor"})}),l.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-outline-auto w-100",disabled:!!ae,onClick:()=>$(we=>[...we,{cell:"A1",value:""}]),children:"+"}),l.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!ae||R.length===1,onClick:()=>$(we=>we.filter((We,O)=>O!==Ie)),children:""})]})]},Ie))]}),l.jsx("button",{className:"btn btn-primary",disabled:!!ae||!Ve,onClick:ct,children:ae==="update"?"Actualizando...":"Update"})]})}),l.jsx("div",{className:"card mB-15",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"4) Change password"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password"}),l.jsx("input",{className:"form-control",type:"password",value:z,disabled:!!ae,onChange:ue=>te(ue.target.value)})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"mode"}),l.jsxs("select",{className:"form-select",value:M,disabled:!!ae,onChange:ue=>D(ue.target.value),children:[l.jsx("option",{value:"no_password",children:"no_password"}),l.jsx("option",{value:"new_password",children:"new_password"})]})]}),l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"new_password"}),l.jsx("input",{className:"form-control",type:"password",value:K,disabled:!!ae||M!=="new_password",onChange:ue=>B(ue.target.value),placeholder:M==="new_password"?"Requerido":""})]}),l.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:l.jsx("button",{className:"btn btn-primary w-100",disabled:!!ae||!Ve,onClick:ze,children:ae==="change-password"?"Procesando...":"Change password"})})]})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:"5) Validate"}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6 mB-10",children:[l.jsx("label",{className:"form-label",children:"sheet (opcional)"}),l.jsx("input",{className:"form-control",value:H,disabled:!!ae,onChange:ue=>de(ue.target.value)})]}),l.jsxs("div",{className:"col-md-3 mB-10",children:[l.jsx("label",{className:"form-label",children:"header_row"}),l.jsx("input",{className:"form-control",type:"number",min:1,value:Te,disabled:!!ae,onChange:ue=>Oe(Number(ue.target.value||1))})]}),l.jsxs("div",{className:"col-md-3 mB-10",children:[l.jsx("label",{className:"form-label",children:"open_password (opcional)"}),l.jsx("input",{className:"form-control",type:"password",value:U,disabled:!!ae,onChange:ue=>V(ue.target.value)})]}),l.jsxs("div",{className:"col-12 mB-10",children:[l.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),l.jsx("input",{className:"form-control",value:ve,disabled:!!ae,onChange:ue=>Ee(ue.target.value),placeholder:"ColA, ColB, ColC"})]}),l.jsxs("div",{className:"col-12 mB-10",children:[l.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),l.jsx("textarea",{className:"form-control",rows:3,value:ke,disabled:!!ae,onChange:ue=>De(ue.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),l.jsx("button",{className:"btn btn-primary",disabled:!!ae||!Ve,onClick:Pe,children:ae==="validate"?"Validando...":"Validate"})]})}),fe&&l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:fe})]})}),l.jsx("div",{className:"col-md-5",children:l.jsxs("div",{className:"bgc-white p-20 bd",children:[l.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),ae?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress mB-15",style:{height:12},children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${X??0}%`},"aria-valuenow":X??0,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:Y.length===0?l.jsx("div",{className:"text-muted",children:"Sin eventos an."}):l.jsx("ul",{className:"list-unstyled mB-0",children:Y.map((ue,Ie)=>l.jsxs("li",{className:"mB-10",children:[l.jsxs("div",{children:[l.jsx("b",{children:ue.type})," ",ue.stage?l.jsxs("span",{className:"text-muted",children:["[",ue.stage,"]"]}):null]}),l.jsx("div",{className:"text-muted",children:ue.message??ue.detail??""})]},Ie))})}),l.jsx("hr",{className:"mY-15"}),l.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),Se?l.jsx("pre",{className:"vi-surface-2 p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(Se,null,2)}):l.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function aD(){const e=fa(),a=cl(),{toast:s}=ul(),i=$n(),c=ii(i?.role),d=xo(),f=c&&!(d&&d>0),{data:h,isLoading:v,error:g}=sl({queryKey:["catalogs"],queryFn:Eh,enabled:f}),y=h?.bancos??[],[x,j]=p.useState(()=>d&&d>0?d:0),[F,E]=p.useState(!1),A=p.useMemo(()=>y.find(te=>te.id===x)?.name??null,[y,x]);p.useEffect(()=>{const z=e.state;z?.toast&&(s({kind:z.toast.kind??"info",title:z.toast.title,message:z.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),p.useEffect(()=>{f&&(x>0||y.length>0&&j(y[0].id))},[x,y,f]);const R=x>0&&!F,$=async()=>{if(R)try{E(!0);const z=await R0(x),te=Fm(z.userId,z.bancoId??x);if(te.target){a(te.target,{replace:!0});return}s({kind:"success",title:"Banco",message:A?`Banco seleccionado: ${A}`:"Banco seleccionado."})}catch(z){const te=z?.response?.data?.detail??z?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(te)})}finally{E(!1)}};return l.jsxs("div",{className:"vi-home",children:[l.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),f&&l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",children:l.jsxs("div",{className:"modal-content",children:[l.jsx("div",{className:"modal-header",children:l.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),l.jsxs("div",{className:"modal-body",children:[l.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),l.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),l.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:z=>j(Number(z.target.value)),disabled:v||F,children:y.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))}),g?l.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-primary",disabled:!R,onClick:$,children:F?"Guardando...":"Continuar"})})]})})})]})}const fo=(...e)=>{};function sD(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function rD(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}async function lD(e,a){let s=null,i=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{i=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!i}function iD(){const[e,a]=p.useState([]),[s,i]=p.useState(""),[c,d]=p.useState([]),[f,h]=p.useState(0),[v,g]=p.useState("Listo para procesar"),[y,x]=p.useState(!1),[j,F]=p.useState(""),[E,A]=p.useState(!1),[R,$]=p.useState(null),[z,te]=p.useState(null),[M,D]=p.useState(!1);function K(S){const L=S?.series_duplicates_eliminated??S?.detail?.series_duplicates_eliminated??S?.series_duplcates_eliminated;return typeof L=="number"?L:null}const B={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function H(S){const L=String(S??"").trim().toUpperCase();return L?B[L]??L:""}function de(S){if(!S)return"";let L=ml(S);L=L.replace(/\bERROR\b/gi,"Error");for(const[I,J]of Object.entries(B))L=L.replace(new RegExp(`\\b${I}\\b`,"g"),J);return L}function Te(S,L){const I=H(S),J=de(L);return J?I&&!J.toLowerCase().includes(I.toLowerCase())?`${I}: ${J}`:J:I||"N/D"}function Oe(S,L,I){const J=String(I??"").trim();if(J)return J;const me=Number(S);if(!Number.isFinite(me)||me<=0)return"N/D";const _e=Number(L);return Number.isFinite(_e)&&_e>0?`OI-${String(me).padStart(4,"0")}-${String(_e).padStart(4,"0")}`:`OI-${String(me).padStart(4,"0")}`}function ve(S){const L=S?.rows_total_read??S?.totals_input?.rows_read;return typeof L=="number"?L:null}const Ee=p.useMemo(()=>(Array.isArray(z?.audit_by_oi)?z.audit_by_oi:[]).filter(L=>L?.status==="OK"&&String(L?.source??"").toUpperCase()==="BASES").slice().sort((L,I)=>{const J=Number(L?.oi_year),me=Number(I?.oi_year),_e=Number.isFinite(J)&&J>0,G=Number.isFinite(me)&&me>0;if(_e&&G&&J!==me)return J-me;if(_e&&!G)return-1;if(!_e&&G)return 1;const Me=Number(L?.oi_num),qe=Number(I?.oi_num),Xe=Number.isFinite(Me),tt=Number.isFinite(qe);if(Xe&&tt&&Me!==qe)return Me-qe;if(Xe&&!tt)return-1;if(!Xe&&tt)return 1;const je=String(L?.oi_tag??L?.oi??L?.oi_num??"").toUpperCase(),nt=String(I?.oi_tag??I?.oi??I?.oi_num??"").toUpperCase();return je.localeCompare(nt)}),[z]),ke=p.useMemo(()=>(Array.isArray(z?.files_rejected)?z.files_rejected:[]).slice().sort((L,I)=>{const J=String(L?.oi??L?.filename??"").toUpperCase(),me=String(I?.oi??I?.filename??"").toUpperCase();return J.localeCompare(me)}),[z]),De=p.useMemo(()=>{const S=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),L=z?.by_source;if(L&&typeof L=="object")return L;const I={BASES:S(),GASELAG:S()},J=Array.isArray(z?.audit_by_oi)?z.audit_by_oi:[];for(const _e of J){if(_e?.status!=="OK")continue;const Me=String(_e?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";I[Me].files_ok+=1,I[Me].rows_read+=Number(_e?.rows_read??0)||0,I[Me].conformes+=Number(_e?.conformes??0)||0,I[Me].no_conformes+=Number(_e?.no_conformes??0)||0,I[Me].rows_ignored_invalid_estado+=Number(_e?.rows_ignored_invalid_estado??0)||0}const me=Array.isArray(z?.files_rejected)?z.files_rejected:[];for(const _e of me){const Me=String(_e?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";I[Me].files_error+=1}for(const _e of["BASES","GASELAG"])I[_e].files_total=I[_e].files_ok+I[_e].files_error;return I},[z]),U=p.useRef(null),V=p.useRef(null),ae=p.useRef(null),he=p.useRef(!1),fe=p.useRef(null),_=p.useRef(null),X=p.useRef(null),ce=p.useRef(!1),Y=p.useRef(!1),ye=p.useRef(-1),Se=p.useRef(-1),Le=p.useRef(!1);function Ve(){return fe.current||(fe.current=crypto.randomUUID()),fe.current}function pe(S){const L=`${oi(S.type)}  ${ol(S.stage)}  ${de(S.message??S.detail??"")}`;if(g(L),d(I=>{const J=[S,...I];if(!Le.current&&S.stage==="cancelled"){Le.current=!0;const me=J.filter(qe=>qe.stage==="file_done"||qe.stage==="file_error").length,_e=J.filter(qe=>qe.stage==="file_done").length,G=J.filter(qe=>qe.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${me} (OK: ${_e}, Rechazados: ${G}). No se gener resultado final.`},...J]}return J}),S.type==="complete"){const I=S.result??null;te(I)}typeof S.progress=="number"&&h(Math.round(S.progress)),typeof S.percent=="number"&&h(Math.round(S.percent)),!he.current&&(S.type==="complete"||S.stage==="cancelled"||S.stage==="failed")&&(he.current=!0,S.type==="complete"?(A(!0),$(fe.current)):(A(!1),$(null),fe.current=null),x(!1),ct("terminal_event"),ze())}function Be(S){return typeof S.cursor!="number"?!1:S.cursor<=Se.current?!0:(Se.current=S.cursor,S.cursor>ye.current&&(ye.current=S.cursor),!1)}function Ze(S){he.current||Be(S)||pe(S)}function Je(S,L){const I=new FormData;I.append("operation_id",S),I.append("source","AUTO"),s.trim()&&I.append("output_filename",s.trim());for(const J of L)I.append("files",J);return I}function ct(S){V.current&&(ae.current=S,V.current.abort(),V.current=null)}function ze(S){Y.current&&(Y.current=!1,_.current!=null&&(window.clearTimeout(_.current),_.current=null),X.current?.abort(),X.current=null,ce.current=!1)}function Pe(S){Y.current&&(_.current!=null&&window.clearTimeout(_.current),_.current=window.setTimeout(()=>{ue()},S))}async function ue(){if(!Y.current||ce.current)return;const S=fe.current;if(!S){ze();return}ce.current=!0;try{const L=await m2(S,ye.current,X.current?.signal);fo("[LOG01] poll cursor =",ye.current,"->",L.cursor_next),ye.current=L.cursor_next;for(const I of L.events)Ze(I);if(L.done&&L.events.length===0){ze("done");return}}catch(L){L?.name}finally{ce.current=!1,Y.current&&Pe(350)}}function Ie(S){Y.current||(Y.current=!0,X.current=new AbortController,Pe(0))}function we(){U.current?.abort(),U.current=null}async function We(){if(!y)return;const S=fe.current;if(S)try{await p2(S)}catch(L){const I=L;bt.isCancel(I)||F(I.response?.data?.detail||I.message||"No se pudo cancelar la operacion")}we()}async function O(){F(""),d([]),te(null),h(0),g("Listo para procesar"),A(!1),$(null),ae.current=null,he.current=!1,Le.current=!1,ye.current=-1,Se.current=-1,ze();const S=[...e];if(!S.length){F("Debes seleccionar al menos 1 Excel.");return}fe.current=null;const L=Ve();let I=null,J=null;const me=new Promise((Me,qe)=>{I=Me,J=qe});V.current=new AbortController,U.current=new AbortController,c2(L,Me=>{if(Me.type==="hello"){I&&(I(),I=null);return}Ze(Me)},V.current.signal).then(()=>{he.current||Ie()}).catch(Me=>{Me?.name==="AbortError"?fo("[LOG01] progress stream aborted (reason) =",ae.current):(J&&(J(Me),J=null),Ie())}),x(!0);try{await lD(me,1800)?fo("[LOG01] hello received"):Ie("hello_timeout");const qe=Je(L,S);fo("[LOG01] operation_id(start) =",L),await f2(qe,U.current.signal)}catch(Me){const qe=Me;if(bt.isCancel(qe))return;const Xe=qe.response?.data?.detail||qe.message||"Error inesperado";F(Xe),x(!1),we(),ct("start_failed"),ze(),fe.current=null}finally{we()}}async function T(){const S=R??fe.current;if(!S){F("No hay resultado disponible.");return}try{F(""),fo("[LOG01] operation_id(result) =",S);const L=await h2(S),I=L.headers["content-disposition"],J=L.headers["x-file-name"],me=sD(I)??J??"BD_CONSOLIDADO.xlsx";rD(L.data,me)}catch(L){const I=L;if(bt.isCancel(I))return;const J=I.response?.data?.detail||I.message||"No se pudo descargar.";F(J)}}return l.jsx("div",{className:"container-fluid",children:l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),j&&l.jsx("div",{className:"alert alert-danger",role:"alert",children:j}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-12 mB-15",children:[l.jsx($u,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:y}),l.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),l.jsx("input",{className:"form-control",value:s,onChange:S=>i(S.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:y})]}),l.jsxs("div",{className:"col-md-6 mB-15",children:[l.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),l.jsxs("div",{className:"vi-log01-actions",children:[l.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:O,disabled:y,children:y?"Procesando...":"Consolidar"}),y?l.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void We(),children:"Cancelar"}):null,!y&&E?l.jsx(l.Fragment,{children:l.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void T(),children:"Descargar Excel"})}):null]})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),y?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),l.jsx("div",{className:"progress",children:l.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${f}%`},"aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":100,children:[f,"%"]})}),l.jsx("div",{className:"mT-10 text-muted",children:v})]}),!y&&z?l.jsxs("div",{className:"mT-20",children:[l.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),l.jsx("div",{className:"bd p-10",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("div",{className:"small text-muted",children:"Archivos"}),l.jsxs("div",{className:"small",children:["Total: ",l.jsx("strong",{children:z.files_total??"N/D"}),"  OK:"," ",l.jsx("strong",{children:z.files_ok??"N/D"}),"  Rechazados:"," ",l.jsx("strong",{children:z.files_error??"N/D"})]}),l.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),l.jsx("tbody",{children:["BASES","GASELAG"].map(S=>{const L=De?.[S]??{},I=L?.files_total??Number(L?.files_ok??0)+Number(L?.files_error??0);return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:S})}),l.jsxs("td",{style:{whiteSpace:"nowrap"},children:[l.jsx("strong",{children:I??0})," ",l.jsxs("span",{className:"text-muted",children:["(OK: ",L?.files_ok??0,"  Rech: ",L?.files_error??0,")"]})]}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:L?.rows_read??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:L?.conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:L?.no_conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:L?.rows_ignored_invalid_estado??0})})]},S)})})]})}),l.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),Ee.length>0?l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),l.jsx("tbody",{children:Ee.map((S,L)=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:Oe(S?.oi_num,S?.oi_year,S?.oi_tag??S?.oi)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:S?.rows_read??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:S?.conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:S?.no_conformes??0})})]},L))})]})}):l.jsx("div",{className:"small text-muted",children:"N/D"}),Number(De?.GASELAG?.rows_read??0)>0?l.jsxs("div",{className:"mT-10 small",children:[l.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",l.jsx("strong",{children:De.GASELAG.rows_read??0}),"  Conformes:"," ",l.jsx("strong",{children:De.GASELAG.conformes??0}),"  No conformes:"," ",l.jsx("strong",{children:De.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",l.jsx("strong",{children:De.GASELAG.rows_ignored_invalid_estado??0})]}):null,l.jsxs("div",{className:"col-12 mT-10 p-0",children:[l.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),l.jsxs("div",{className:"small",children:["Registros ledos:"," ",l.jsx("strong",{children:z.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",l.jsx("strong",{children:z.totals_input?.conformes??"N/D"}),"  No conformes:"," ",l.jsx("strong",{children:z.totals_input?.no_conformes??"N/D"})]})]})]}),l.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[ke.length>0?l.jsxs("div",{className:"mT-15",children:[l.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),l.jsx("tbody",{children:ke.map((S,L)=>{const I=Te(S?.code,S?.detail),J=String(S?.source??"").toUpperCase();let me=S?.filename??"N/D";if(J==="BASES"){const _e=Number(S?.oi_num),G=Oe(_e,S?.oi_year,S?.oi_tag??S?.oi);G!=="N/D"&&(me=`${G} / ${me}`)}else J==="GASELAG"&&(me=`GASELAG / ${me}`);return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:me}),l.jsx("td",{children:I})]},L)})})]})})]}):null,l.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),l.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",l.jsx("strong",{children:z.series_total_dedup??"N/D"}),"  Conformes finales:"," ",l.jsx("strong",{children:z.series_conformes??"N/D"}),"  No conformes finales:"," ",l.jsx("strong",{children:z.series_no_conformes_final??"N/D"})]}),l.jsx("div",{className:"mT-10",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>D(S=>!S),children:M?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),M?l.jsxs("div",{className:"mT-10",children:[l.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),l.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",l.jsx("strong",{children:ve(z)??"N/D"})," "," Duplicados eliminados:"," ",l.jsx("strong",{children:K(z)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",l.jsx("strong",{children:(()=>{const S=ve(z),L=K(z);if(typeof S=="number"&&typeof L=="number")return S-L;const I=z.series_total_dedup;return typeof I=="number"?I:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&l.jsxs("div",{className:"mT-20",children:[l.jsx("h6",{className:"c-grey-900",children:"Eventos"}),l.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((S,L)=>{const I=String(S.message??""),J=String(S.code??""),me=String(S.detail??""),_e=de(I||me||""),G=_e.toLowerCase(),Me=H(J),qe=de(me),Xe=[];Me&&!G.includes(Me.toLowerCase())&&Xe.push(Me),qe&&!G.includes(qe.toLowerCase())&&Xe.push(qe);const tt=Xe.join("  ");return l.jsxs("div",{className:"small",children:[oi(S.type),"  ",_e,tt?l.jsxs("span",{className:"text-muted",children:[" (",tt,")"]}):null]},L)})})]})]})})})})}const oD="America/Lima";function cD(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function uD(e,a){const s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=a,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}function xm(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:oD,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function Wl(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function Xc(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function Jy(e){const a=e?.series_duplicates_eliminated??e?.detail?.series_duplicates_eliminated??e?.series_duplcates_eliminated;return typeof a=="number"?a:null}const hN={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function dD(e){const a=String(e??"").trim().toUpperCase();return a?hN[a]??a:""}function fD(e){if(!e)return"";let a=ml(e);a=a.replace(/\bERROR\b/gi,"Error");for(const[s,i]of Object.entries(hN))a=a.replace(new RegExp(`\\b${s}\\b`,"g"),i);return a}function mD(e,a){const s=dD(e),i=fD(a);return i?s&&!i.toLowerCase().includes(s.toLowerCase())?`${s}: ${i}`:i:s||"N/D"}function Wy(e,a,s){const i=String(s??"").trim();if(i)return i;const c=Number(e);if(!Number.isFinite(c)||c<=0)return"N/D";const d=Number(a);return Number.isFinite(d)&&d>0?`OI-${String(c).padStart(4,"0")}-${String(d).padStart(4,"0")}`:`OI-${String(c).padStart(4,"0")}`}function ex(e){const a=e?.rows_total_read??e?.totals_input?.rows_read;return typeof a=="number"?a:null}function tx(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning vi-text-contrast":"badge bg-secondary"}function hD(e){try{return JSON.stringify(e??null,null,2)}catch{return String(e)}}function pD(){const e=cl(),a=$n(),s=Xa(a?.role,a?.username),i=Tu(a),c=s==="admin"||s==="administrator",[d,f]=p.useState([]),[h,v]=p.useState(0),[g,y]=p.useState(!1),[x,j]=p.useState(""),[F,E]=p.useState(0),[A,R]=p.useState(""),[$,z]=p.useState(""),[te,M]=p.useState(""),[D,K]=p.useState(""),[B,H]=p.useState(""),[de,Te]=p.useState(20),[Oe,ve]=p.useState(1),[Ee,ke]=p.useState(!1),[De,U]=p.useState(!1),[V,ae]=p.useState(""),[he,fe]=p.useState(null),[_,X]=p.useState(!1),[ce,Y]=p.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),ye=p.useMemo(()=>(Oe-1)*de,[Oe,de]),Se=he?.summary_json,Le=p.useMemo(()=>(Array.isArray(Se?.audit_by_oi)?Se.audit_by_oi:[]).filter(S=>S?.status==="OK"&&String(S?.source??"").toUpperCase()==="BASES").slice().sort((S,L)=>{const I=Number(S?.oi_year),J=Number(L?.oi_year),me=Number.isFinite(I)&&I>0,_e=Number.isFinite(J)&&J>0;if(me&&_e&&I!==J)return I-J;if(me&&!_e)return-1;if(!me&&_e)return 1;const G=Number(S?.oi_num),Me=Number(L?.oi_num),qe=Number.isFinite(G),Xe=Number.isFinite(Me);if(qe&&Xe&&G!==Me)return G-Me;if(qe&&!Xe)return-1;if(!qe&&Xe)return 1;const tt=String(S?.oi_tag??S?.oi??S?.oi_num??"").toUpperCase(),je=String(L?.oi_tag??L?.oi??L?.oi_num??"").toUpperCase();return tt.localeCompare(je)}),[Se]),Ve=p.useMemo(()=>(Array.isArray(Se?.files_rejected)?Se.files_rejected:[]).slice().sort((S,L)=>{const I=String(S?.oi??S?.filename??"").toUpperCase(),J=String(L?.oi??L?.filename??"").toUpperCase();return I.localeCompare(J)}),[Se]),pe=p.useMemo(()=>{const T=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),S=Se?.by_source;if(S&&typeof S=="object")return S;const L={BASES:T(),GASELAG:T()},I=Array.isArray(Se?.audit_by_oi)?Se.audit_by_oi:[];for(const me of I){if(me?.status!=="OK")continue;const G=String(me?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";L[G].files_ok+=1,L[G].rows_read+=Number(me?.rows_read??0)||0,L[G].conformes+=Number(me?.conformes??0)||0,L[G].no_conformes+=Number(me?.no_conformes??0)||0,L[G].rows_ignored_invalid_estado+=Number(me?.rows_ignored_invalid_estado??0)||0}const J=Array.isArray(Se?.files_rejected)?Se.files_rejected:[];for(const me of J){const G=String(me?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";L[G].files_error+=1}for(const me of["BASES","GASELAG"])L[me].files_total=L[me].files_ok+L[me].files_error;return L},[Se]);p.useEffect(()=>{let T=!1;return y(!0),j(""),eh({limit:de,offset:ye,include_deleted:!1,q:ce.q||void 0,dateFrom:ce.dateFrom||void 0,dateTo:ce.dateTo||void 0,source:ce.source||void 0,status:ce.status||void 0}).then(S=>{T||(f(Array.isArray(S?.items)?S.items:[]),v(typeof S?.total=="number"?S.total:0))}).catch(S=>{if(T)return;const L=S,I=L.response?.data?.detail||L.message||"No se pudo cargar historial.";j(I)}).finally(()=>{T||y(!1)}),()=>{T=!0}},[ce,ye,de,F]);const Be=()=>{Y({q:A.trim(),dateFrom:$.trim(),dateTo:te.trim(),source:D.trim(),status:B.trim()}),ve(1)},Ze=()=>{R(""),z(""),M(""),K(""),H(""),Y({q:"",dateFrom:"",dateTo:"",source:"",status:""}),ve(1),E(T=>T+1)},Je=()=>E(T=>T+1),ct=async(T,S)=>{try{j("");const L=await b2(T,S),I=L.headers["content-disposition"],J=L.headers["x-file-name"],me=cD(I)??J??`${S}.bin`;uD(L.data,me)}catch(L){const I=L;if(bt.isCancel(I))return;const J=I.response?.data?.detail||I.message||"No se pudo descargar.";j(J)}},ze=async T=>{if(c&&window.confirm("Eliminar la corrida del historial?"))try{j(""),await v2(T),Je()}catch(S){const L=S;if(bt.isCancel(L))return;const I=L.response?.data?.detail||L.message||"No se pudo eliminar.";j(I)}},Pe=async T=>{try{ke(!0),U(!0),ae(""),fe(null),X(!1);const S=await g2(T);fe(S)}catch(S){const L=S;if(bt.isCancel(L))return;const I=L.response?.data?.detail||L.message||"No se pudo cargar el reporte.";ae(I)}finally{U(!1)}},ue=()=>{ke(!1)};p.useEffect(()=>{if(!Ee)return;const T=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=T}},[Ee]);const Ie=h===0?0:ye+1,we=h===0?0:Math.min(ye+d.length,h),We=Oe>1,O=ye+d.length<h;return l.jsxs("div",{className:"container-fluid",children:[Ee?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-xl modal-dialog-scrollable",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Reporte de auditora (LOG-01)"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:ue})]}),l.jsx("div",{className:"modal-body",children:De?l.jsx("div",{className:"text-muted",children:"Cargando reporte..."}):V?l.jsx("div",{className:"alert alert-danger mB-0",children:V}):he?(()=>{const T=he.summary_json,S=Xc(T,"serie_ini"),L=Xc(T,"serie_fin"),I=Wl(T,"series_total_dedup"),J=Wl(T,"series_conformes"),me=Wl(T,"series_no_conformes_final");return l.jsxs("div",{className:"d-flex flex-column gap-15",children:[l.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center",children:[l.jsxs("span",{className:"badge bg-secondary",children:["Run ID: ",he.id]}),l.jsx("span",{className:tx(he.status),children:he.status}),l.jsxs("span",{className:"small text-muted",children:[xm(he.created_at),he.completed_at?`  ${xm(he.completed_at)}`:""]})]}),l.jsx("div",{className:"card",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"d-flex flex-wrap gap-15",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-muted small",children:"Serie inicial"}),l.jsx("div",{children:l.jsx("strong",{children:S})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted small",children:"Serie final"}),l.jsx("div",{children:l.jsx("strong",{children:L})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted small",children:"nicas (post-dedupe)"}),l.jsx("div",{children:l.jsx("strong",{children:I})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted small",children:"Conformes finales"}),l.jsx("div",{children:l.jsx("strong",{children:J})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted small",children:"No conformes finales"}),l.jsx("div",{children:l.jsx("strong",{children:me})})]})]})})}),l.jsx("div",{className:"bd p-10",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("div",{className:"small text-muted",children:"Archivos"}),l.jsxs("div",{className:"small",children:["Total: ",l.jsx("strong",{children:T?.files_total??"N/D"}),"  OK:"," ",l.jsx("strong",{children:T?.files_ok??"N/D"}),"  Rechazados:"," ",l.jsx("strong",{children:T?.files_error??"N/D"})]}),l.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),l.jsx("tbody",{children:["BASES","GASELAG"].map(_e=>{const G=pe?.[_e]??{},Me=G?.files_total??Number(G?.files_ok??0)+Number(G?.files_error??0);return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:_e})}),l.jsxs("td",{style:{whiteSpace:"nowrap"},children:[l.jsx("strong",{children:Me??0})," ",l.jsxs("span",{className:"text-muted",children:["(OK: ",G?.files_ok??0,"  Rech: ",G?.files_error??0,")"]})]}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:G?.rows_read??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:G?.conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:G?.no_conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:G?.rows_ignored_invalid_estado??0})})]},_e)})})]})}),l.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),Le.length>0?l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),l.jsx("tbody",{children:Le.map((_e,G)=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:Wy(_e?.oi_num,_e?.oi_year,_e?.oi_tag??_e?.oi)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:_e?.rows_read??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:_e?.conformes??0})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:_e?.no_conformes??0})})]},G))})]})}):l.jsx("div",{className:"small text-muted",children:"N/D"}),Number(pe?.GASELAG?.rows_read??0)>0?l.jsxs("div",{className:"mT-10 small",children:[l.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",l.jsx("strong",{children:pe.GASELAG.rows_read??0}),"  Conformes:"," ",l.jsx("strong",{children:pe.GASELAG.conformes??0}),"  No conformes:"," ",l.jsx("strong",{children:pe.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",l.jsx("strong",{children:pe.GASELAG.rows_ignored_invalid_estado??0})]}):null,l.jsxs("div",{className:"col-12 mT-10 p-0",children:[l.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),l.jsxs("div",{className:"small",children:["Registros ledos:"," ",l.jsx("strong",{children:T?.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",l.jsx("strong",{children:T?.totals_input?.conformes??"N/D"}),"  No conformes:"," ",l.jsx("strong",{children:T?.totals_input?.no_conformes??"N/D"})]})]})]}),l.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[Ve.length>0?l.jsxs("div",{className:"mT-15",children:[l.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),l.jsx("tbody",{children:Ve.map((_e,G)=>{const Me=mD(_e?.code,_e?.detail),qe=String(_e?.source??"").toUpperCase();let Xe=_e?.filename??"N/D";if(qe==="BASES"){const tt=Number(_e?.oi_num),je=Wy(tt,_e?.oi_year,_e?.oi_tag??_e?.oi);je!=="N/D"&&(Xe=`${je} / ${Xe}`)}else qe==="GASELAG"&&(Xe=`GASELAG / ${Xe}`);return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:Xe}),l.jsx("td",{children:Me})]},G)})})]})})]}):null,l.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),l.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",l.jsx("strong",{children:T?.series_total_dedup??"N/D"}),"  Conformes finales:"," ",l.jsx("strong",{children:T?.series_conformes??"N/D"}),"  No conformes finales:"," ",l.jsx("strong",{children:T?.series_no_conformes_final??"N/D"})]}),l.jsx("div",{className:"mT-10",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>X(_e=>!_e),children:_?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),_?l.jsxs("div",{className:"mT-10",children:[l.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),l.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",l.jsx("strong",{children:ex(T)??"N/D"})," "," Duplicados eliminados:"," ",l.jsx("strong",{children:Jy(T)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",l.jsx("strong",{children:(()=>{const _e=ex(T),G=Jy(T);if(typeof _e=="number"&&typeof G=="number")return _e-G;const Me=T?.series_total_dedup;return typeof Me=="number"?Me:"N/D"})()})]})]}):null]})]})}),l.jsxs("details",{children:[l.jsx("summary",{className:"btn btn-sm btn-outline-auto",children:"Ver auditora completa (JSON)"}),l.jsx("pre",{className:"mT-10 small",style:{whiteSpace:"pre-wrap"},children:hD(he.summary_json)})]})]})})():l.jsx("div",{className:"text-muted",children:"Sin datos de reporte."})}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-outline-auto",onClick:ue,children:"Cerrar"})})]})})}),l.jsx("div",{className:"modal-backdrop fade show",onClick:ue})]}):null,l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[l.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),l.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),x?l.jsx("div",{className:"alert alert-danger",role:"alert",children:x}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:T=>{T.preventDefault(),Be()},children:[l.jsxs("div",{className:"col-md-3",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:A,onChange:T=>R(T.target.value),onKeyDown:T=>{T.key==="Enter"&&Be()},placeholder:"Usuario, serie inicial, serie final..."})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha desde"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:$,onChange:T=>z(T.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Fecha hasta"}),l.jsx("input",{type:"date",className:"form-control form-control-sm",value:te,onChange:T=>M(T.target.value)})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsxs("select",{className:"form-select form-select-sm",value:D,onChange:T=>K(T.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"AUTO",children:"AUTO"}),l.jsx("option",{value:"BASES",children:"BASES"}),l.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),l.jsxs("div",{className:"col-md-2",children:[l.jsx("label",{className:"form-label",children:"Estado"}),l.jsxs("select",{className:"form-select form-select-sm",value:B,onChange:T=>H(T.target.value),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),l.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),l.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),l.jsxs("div",{className:"col-md-1",children:[l.jsx("label",{className:"form-label",children:"Mostrar"}),l.jsxs("select",{className:"form-select form-select-sm",value:de,onChange:T=>{const S=Number(T.target.value);Te(Number.isFinite(S)?S:20),ve(1)},children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),l.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:g,children:"Buscar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Ze,children:"Limpiar filtros"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Je,children:"Recargar"})]})]}),l.jsxs("div",{className:"mT-15",children:[g?l.jsx("div",{className:"text-muted",children:"Cargando historial..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),l.jsx("tbody",{children:d.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):d.map(T=>{const S=T.summary_json,L=Xc(S,"serie_ini"),I=Xc(S,"serie_fin"),J=Wl(S,"series_total_dedup"),me=Wl(S,"series_conformes"),_e=Wl(S,"series_no_conformes_final"),G=T.created_by_full_name||T.created_by_username||"N/D";return l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:xm(T.created_at)}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:G}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("span",{className:tx(T.status),children:T.status})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:L}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:I}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:J})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:me})}),l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:_e})}),l.jsx("td",{children:l.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void ct(T.id,"excel"),children:"Excel"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void Pe(T.id),children:"Ver reporte"}),i?l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void ct(T.id,"no-conforme"),children:"No conforme"}):null,i?l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void ct(T.id,"manifiesto"),children:"Manifiesto"}):null,c?l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void ze(T.id),children:"Eliminar"}):null]})})]},T.id)})})]})}),l.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[l.jsxs("div",{className:"small text-muted",children:["Mostrando ",Ie,"-",we," de ",h]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>ve(T=>Math.max(1,T-1)),disabled:!We||g,children:"Anterior"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>ve(T=>T+1),disabled:!O||g,children:"Siguiente"})]})]})]})]})})})]})}function ei(e){return e===!0?"badge bg-success":e===!1?"badge bg-danger":"badge bg-secondary"}function gD(e){const a=(e||"").toString().trim().toUpperCase();return a?a==="COMPLETADO"||a==="COMPLETED"?"badge bg-success":a==="ERROR"||a==="FALLIDO"||a==="FAILED"?"badge bg-danger":a==="PROCESANDO"||a==="RUNNING"||a==="EN_PROCESO"?"badge bg-warning text-dark":"badge bg-secondary":"badge bg-secondary"}const Nm=250,jm="medileser_log02_rutas_v1",th="America/Lima",jr=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugProgress")==="1",bD="[log02-copy-progress]",nx=2e3,vD=500,yD=600,Sm=3e3;function Nr(...e){jr&&console.log(bD,...e)}function ax(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,i=new Date(s);if(Number.isNaN(i.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:th,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),f=h=>d.find(v=>v.type===h)?.value||"";return`${f("day")}/${f("month")}/${f("year")} ${f("hour")}:${f("minute")}`}function xD(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function sx(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function rx(e){const a=e,s=String(a?.name||""),i=String(a?.message||a||"");return s==="AbortError"||/aborted/i.test(i)||/abort/i.test(i)}function ND(e){const a=e;if(!a)return!1;const s=(a.tagName||"").toLowerCase();return!!(s==="input"||s==="textarea"||s==="select"||a.isContentEditable)}async function mo(e){const a=(e||"").trim();if(a)try{await navigator.clipboard.writeText(a);return}catch{const s=document.createElement("textarea");s.value=a,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}}function jD(){const[e,a]=p.useState([""]),[s,i]=p.useState(""),[c,d]=p.useState("consolidate"),[f,h]=p.useState(0),[v,g]=p.useState("0"),[y,x]=p.useState(!1),[j,F]=p.useState(0),[E,A]=p.useState("0"),[R,$]=p.useState(!1),[z,te]=p.useState(!1),[M,D]=p.useState(!1),[K,B]=p.useState(""),[H,de]=p.useState(null),[Te,Oe]=p.useState(!1),[ve,Ee]=p.useState(!1),[ke,De]=p.useState(!1),[U,V]=p.useState(""),[ae,he]=p.useState([]),[fe,_]=p.useState(null),[X,ce]=p.useState(!1),Y=p.useRef(0),ye=p.useRef(null),[Se,Le]=p.useState(""),[Ve,pe]=p.useState(""),[Be,Ze]=p.useState(""),[Je,ct]=p.useState(""),[ze,Pe]=p.useState("COMPLETADO"),[ue,Ie]=p.useState(!1),[we,We]=p.useState(""),[O,T]=p.useState(0),[S,L]=p.useState(""),[I,J]=p.useState(""),[me,_e]=p.useState(""),[G,Me]=p.useState([]),[qe,Xe]=p.useState([]),[tt,je]=p.useState(null),nt=p.useRef(null),zt=p.useRef(!1),yt=p.useRef(!1),nn=p.useRef(null),En=p.useRef(null),ma=p.useRef(!1),jn=p.useRef(!1),it=p.useRef(-1),Pn=p.useRef(-1),Qn=p.useRef(""),na=p.useRef(null),An=p.useRef(!1),Ln=p.useRef(""),W=p.useRef(0),se=p.useRef(!0),Ce=p.useRef(""),Fe=p.useRef(!0),[rt,ot]=p.useState(!1),[Ke,an]=p.useState("origen"),[kt,Rt]=p.useState(null),[mn,Ut]=p.useState([]),[mt,xt]=p.useState(""),[_t,hn]=p.useState(""),[pn,sn]=p.useState([]),[At,Pt]=p.useState(!1),[Hn,Xt]=p.useState(""),[$t,gn]=p.useState(""),[Cn,Lt]=p.useState(""),[ds,oa]=p.useState(""),[Ft,On]=p.useState(1),[Ua,ns]=p.useState(!1),[Yn,La]=p.useState([]),Ct=p.useMemo(()=>{const w=Cn.trim().toLocaleLowerCase();return w?pn.filter(Z=>(Z.name||"").toLocaleLowerCase().includes(w)):pn},[pn,Cn]);p.useEffect(()=>{if(!rt)return;if(!Ct.length){$t&&gn("");return}$t&&Ct.some(Z=>Z.path===$t)||gn(Ct[0].path)},[rt,Ct,$t]),p.useEffect(()=>{try{const w=localStorage.getItem(jm);if(!w)return;const Z=JSON.parse(w),le=Array.isArray(Z.origenes)?Z.origenes:[],ge=typeof Z?.destino=="string"?Z.destino:"",He=Z?.output_mode==="keep_structure"?"keep_structure":"consolidate",Ht=typeof Z?.group_size=="number"&&Number.isFinite(Z.group_size)?Z.group_size:0,Yt=typeof Z?.merge_group_size=="number"&&Number.isFinite(Z.merge_group_size)?Z.merge_group_size:null,ss=typeof Z?.generate_merged_pdfs=="boolean"?Z.generate_merged_pdfs:!1;le.length&&a(le),ge&&i(ge),d(He),h(Math.max(0,Math.trunc(Ht))),Yt!=null?(F(Math.max(0,Math.trunc(Yt))),Fe.current=!1):F(Math.max(0,Math.trunc(Ht))),te(ss)}catch{}},[]),p.useEffect(()=>{try{const w={origenes:e,destino:s,output_mode:c,group_size:Math.max(0,Math.trunc(f||0)),merge_group_size:Math.max(0,Math.trunc(j||0)),generate_merged_pdfs:z};localStorage.setItem(jm,JSON.stringify(w))}catch{}},[e,s,c,f,j,z]),p.useEffect(()=>(se.current=!0,()=>{se.current=!1,Ce.current="",Kn("unmount"),Rn("unmount")}),[]),p.useEffect(()=>{if(!ve){ye.current!=null&&(window.clearTimeout(ye.current),ye.current=null),Y.current=0,ce(!1);return}if(ke){ye.current!=null&&(window.clearTimeout(ye.current),ye.current=null),Y.current=Date.now(),ce(!0);return}if(!X)return;const w=Date.now()-Y.current,Z=Math.max(0,yD-w);return ye.current!=null&&window.clearTimeout(ye.current),ye.current=window.setTimeout(()=>{ye.current=null,se.current&&ce(!1)},Z),()=>{ye.current!=null&&(window.clearTimeout(ye.current),ye.current=null)}},[ke,ve,X]);function _a(){a([""]),i(""),de(null),B(""),Oe(!1),_(null),d("consolidate"),h(0),x(!1),F(0),A("0"),$(!1),te(!1),je(null),Me([]),Xe([]),J(""),L(""),T(0),_e(""),We(""),On(1),La([]),ns(!1),Fe.current=!0;try{localStorage.removeItem(jm)}catch{}}function aa(){a(w=>{const Z=new Set,le=[];for(const ge of w){const He=(ge||"").trim();if(!He)continue;const Ht=He.toLowerCase();Z.has(Ht)||(Z.add(Ht),le.push(He))}return le.length?le:[""]})}function bn(){Oe(!0),Rt(null),Ps("origen")}function Cr(w){Oe(!0),Rt(w),Ps("origen")}function hl(){Oe(!0),Rt(null),Ps("destino")}async function Gs(w=5){V(""),De(!0);try{const Z=await eh({limit:w,offset:0,include_deleted:!1,status:"COMPLETADO"}),le=Array.isArray(Z?.items)?Z.items:[];if(he(le),fe?.id&&le.length){const ge=le.find(He=>He.id===fe.id);ge&&_(ge)}}catch(Z){const le=Z,ge=le.response?.data?.detail||le.message||"No se pudo cargar las corridas.";V(ge),he([])}finally{De(!1)}}async function Or(){V(""),De(!0);try{const w=await eh({limit:20,offset:0,include_deleted:!1,q:Se.trim()||void 0,dateFrom:Ve.trim()||void 0,dateTo:Be.trim()||void 0,source:Je.trim()||void 0,status:ze.trim()||void 0}),Z=Array.isArray(w?.items)?w.items:[];he(Z)}catch(w){const Z=w,le=Z.response?.data?.detail||Z.message||"No se pudo cargar las corridas.";V(le),he([])}finally{De(!1)}}function Es(){Ee(!0),Gs(5)}function Rr(w){_(w),Ee(!1),On(Z=>Z<3?3:Z)}const un=p.useMemo(()=>e.map(w=>(w??"").trim()),[e]),fs=p.useMemo(()=>un.filter(w=>w),[un]),sa=p.useMemo(()=>(s??"").trim(),[s]),ms=p.useMemo(()=>fs.length>0&&!!sa,[fs.length,sa]);function hs(w,Z){a(le=>{const ge=le.slice();return ge[w]=Z,ge})}function pl(w){a(Z=>{if(Z.length<=1)return[""];const le=Z.slice();return le.splice(w,1),le})}p.useEffect(()=>{if(!rt)return;function w(le){try{const ge=document.querySelector(`[data-folder-idx="${le}"]`);ge&&(ge.focus(),ge.scrollIntoView({block:"nearest"}))}catch{}}const Z=le=>{if(le.key==="Escape"){le.preventDefault(),ot(!1);return}if(!ND(le.target)){if(le.key==="ArrowDown"||le.key==="ArrowUp"){if(!Ct.length)return;le.preventDefault();const ge=Ct.findIndex(ss=>ss.path===$t),He=ge>=0?ge:0,Ht=le.key==="ArrowDown"?Math.min(Ct.length-1,He+1):Math.max(0,He-1),Yt=Ct[Ht];if(!Yt)return;gn(Yt.path),requestAnimationFrame(()=>w(Ht));return}if(le.key==="Enter"){if(!$t)return;const ge=Ct.find(He=>He.path===$t);if(!ge)return;le.preventDefault(),Vn(ge.path);return}}};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[rt,$t,At]);async function Ps(w){an(w),Xt(""),ot(!0),Lt("");try{const le=(await y2()).roots||[];Ut(le);const ge=le[0]||"";xt(ge),hn(ge),oa(ge),ge?await Vn(ge):(sn([]),Xt("No hay rutas raz configuradas para el explorador. Configure VI_LOG02_UNC_ROOTS en el servidor."))}catch(Z){const le=Z,ge=le.response?.data?.detail||le.message||"No se pudo cargar las rutas raz.";Xt(ge),sn([])}}async function Vn(w){if(Xt(""),!w){sn([]);return}try{Pt(!0),gn("");const Z=await x2(w);hn(Z.path),oa(Z.path);const le=Z.folders||[];sn(le),gn(le[0]?.path||"")}catch(Z){const le=Z,ge=le.response?.data?.detail||le.message||"No se pudo listar la carpeta.";Xt(ge),sn([])}finally{Pt(!1)}}function vi(w){const Z=(w||"").replace(/[\\\/]+$/,""),le=Z.startsWith("\\\\"),ge=Z.split("\\").filter(Yt=>Yt.length>0);if(ge.length===0)return[];const He=[];if(le){const Yt=ge[0]||"",ss=ge[1]||"";if(Yt){const Ia=`\\\\${Yt}`;He.push({label:`\\\\${Yt}`,path:Ia})}if(Yt&&ss){let Ia=`\\\\${Yt}\\${ss}`;He.push({label:ss,path:Ia});for(let Xs=2;Xs<ge.length;Xs++)Ia=`${Ia}\\${ge[Xs]}`,He.push({label:ge[Xs],path:Ia})}return He}let Ht=ge[0];He.push({label:ge[0],path:ge[0]});for(let Yt=1;Yt<ge.length;Yt++)Ht=`${Ht}\\${ge[Yt]}`,He.push({label:ge[Yt],path:Ht});return He}async function Tr(){const w=(ds||"").trim();w&&await Vn(w)}async function gl(){const w=(_t||"").trim();w&&await mo(w)}function Dr(){const w=(_t||"").replace(/[\\\/]+$/,""),Z=w.lastIndexOf("\\");if(Z<=0)return;const le=w.slice(0,Z);Vn(le)}function yi(w){const Z=(w??_t??"").trim();Z&&(Ke==="destino"?i(Z):a(le=>{const ge=Z.trim();if(!ge)return le;const He=le.slice();return kt!==null&&kt>=0&&kt<He.length?(He[kt]=ge,He):He.map(Yt=>(Yt||"").trim().toLowerCase()).includes(ge.toLowerCase())?He:He.length===1&&!(He[0]||"").trim()?[ge]:[...He,ge]}),Rt(null),ot(!1))}function xi(){const w=(_t||"").trim();w&&yi(w)}async function Qs(){B(""),de(null),Oe(!0);const w=sa,Z=fs;if(!Z.length){B("Debes ingresar al menos una ruta de origen.");return}if(!w){B("Debes ingresar una ruta de destino.");return}try{D(!0);const le=await N2({rutas_origen:Z,ruta_destino:w});de(le),le.ok?On(ge=>ge<2?2:ge):B("Validacin incompleta: revisa los detalles de permisos y existencia.")}catch(le){const ge=le;if(bt.isCancel(ge))return;const He=ge.response?.data?.detail||ge.message||"No se pudo validar las rutas.";B(He)}finally{D(!1)}}const Ea=p.useMemo(()=>!!H?.ok&&!!fe?.id&&!ue,[H?.ok,fe?.id,ue]);p.useEffect(()=>{On(w=>ue||H?.ok&&fe?.id&&w<3?3:H?.ok&&!fe?.id&&w<2?2:w)},[H?.ok,fe?.id,ue]);function ps(w){const Z=w?.cursor;if(typeof Z=="number"&&Number.isFinite(Z))return Z;if(typeof Z=="string"){const le=Number(Z);if(Number.isFinite(le))return le}return null}function zr(w){return w==null?!1:w<=Pn.current?!0:(Pn.current=w,w>it.current&&(it.current=w),!1)}function gs(w){const Z=w?.progress??w?.percent,le=typeof Z=="number"?Z:typeof Z=="string"?Number(Z):NaN;if(Number.isFinite(le)){const ge=Math.max(0,Math.min(100,le));T(He=>(jr&&He!==ge&&Nr("setCopyProgress",{prev:He,next:ge}),ge))}}function bs(w){const Z=String(w?.type||"");if(gs(w),Z==="status"||Z==="progress"){const le=w?.stage?String(w.stage):Z;if(le&&L(le),typeof w?.message=="string"&&w.message&&J(w.message),le){const ge=le.toLowerCase();(ge==="cancelado"||ge==="cancelled")&&(zt.current=!0,Ce.current="",Ie(!1),Kn("cancelled"),Rn("cancelled"))}return}if(Z==="oi"){typeof w?.oi=="string"&&_e(w.oi);return}if(Z==="oi_warn"){const le=String(w?.oi||""),ge=String(w?.message||""),He=w?.code?String(w.code):void 0;le&&ge&&Me(Ht=>[...Ht,{oi:le,code:He,message:ge}]);return}if(Z==="oi_error"||Z==="file_error"){const le=w?.oi?String(w.oi):void 0,ge=w?.file?String(w.file):void 0,He=String(w?.message||"Error");Xe(Ht=>[...Ht,{oi:le,file:ge,message:He}]);return}if(Z==="error"){const le=String(w?.message||"Fallo en el proceso.");Xe(ge=>[...ge,{message:le}]),J(le),L("error"),Ie(!1),Kn("error_event"),Rn("error_event");return}if(Z==="complete"){yt.current=!0,typeof w?.message=="string"&&J(w.message),L("completado"),T(100),je(w?.audit??null),Ie(!1),Kn("complete"),Rn("complete");return}}function kr(w,Z="stream"){const le=ps(w),ge=String(w?.type||""),He=w?.stage?String(w.stage):"";jr&&Nr("event",{source:Z,type:ge,stage:He,progress:w?.progress,percent:w?.percent,cursor:le});const Ht=Pn.current;if(zr(le)){jr&&Nr("skip_event",{source:Z,cursor:le,lastCursor:Ht});return}if(bs(w),ge==="status"||ge==="progress"||ge==="oi"||ge==="oi_warn"||ge==="oi_error"||ge==="file_error"||ge==="error"||ge==="complete"){const ss=typeof w?.message=="string"?w.message:void 0,Ia=typeof He=="string"&&He?vt(He):void 0,Xs=typeof w?.oi=="string"?w.oi:void 0,vl=w?.progress??w?.percent,Lo=typeof vl=="number"?vl:typeof vl=="string"?Number(vl):NaN,Bo=Number.isFinite(Lo)?Math.max(0,Math.min(100,Lo)):void 0;La(Vu=>{const yl=[...Vu,{ts:Date.now(),source:Z,type:ge,stage:Ia,message:ss,oi:Xs,progress:Bo}];return yl.length>Nm&&yl.splice(0,yl.length-Nm),yl})}}function Kn(w){if(jr&&Nr("stop_polling",{reason:w,operationId:Qn.current}),!!jn.current){jn.current=!1,nn.current!=null&&(window.clearTimeout(nn.current),nn.current=null);try{En.current?.abort()}catch{}En.current=null,ma.current=!1,Qn.current=""}}function Mr(){na.current!=null&&(window.clearTimeout(na.current),na.current=null)}function Ba(w){jr&&Nr("stream_closed",{reason:w,operationId:Ln.current}),An.current=!1,Ln.current="",Mr()}function Rn(w){jr&&Nr("stop_stream",{reason:w,operationId:Ln.current}),Ba(w);try{nt.current?.abort()}catch{}nt.current=null}function as(w){An.current&&(Mr(),na.current=window.setTimeout(()=>{if(!An.current)return;const Z=Date.now()-W.current;if(Z>=nx){Nr("stream_silent_fallback",{idleMs:Z,operationId:w}),Rn("stream_silent"),!yt.current&&!zt.current&&P(w,"stream_silent");return}as(w)},nx))}function As(w){W.current=Date.now(),An.current&&as(w)}function Aa(w){jn.current&&(nn.current!=null&&window.clearTimeout(nn.current),nn.current=window.setTimeout(()=>{C()},w))}async function C(){if(!jn.current||ma.current)return;const w=Qn.current;if(!w){Kn("no_operation_id");return}if(Ce.current!==w){Kn("operation_mismatch");return}ma.current=!0;try{const Z=await w2(w,it.current,En.current?.signal);it.current=Z.cursor_next;for(const le of Z.events||[])kr(le,"poll");if(Z.done&&(!Z.events||Z.events.length===0)){Kn("done");return}}catch(Z){if(zt.current||yt.current)return;if(Z?.name!=="AbortError"){const ge=Z,He=ge.response?.data?.detail||ge.message||"No se pudo leer el progreso.";Xe(Ht=>[...Ht,{message:He}]),L("error"),J(He),Ie(!1),Kn("poll_error")}}finally{ma.current=!1,jn.current&&Aa(vD)}}function P(w,Z){Ce.current===w&&(jn.current||(jn.current=!0,Qn.current=w,En.current=new AbortController,it.current=Math.max(it.current,Pn.current),jr&&Nr("start_polling",{operationId:w,reason:Z}),Aa(0)))}async function xe(){if(B(""),!H?.ok){B("Debes validar rutas correctamente antes de iniciar el copiado.");return}if(!fe?.id){B("Debes seleccionar una corrida de LOG-01 (Historial) para usar su manifiesto.");return}const w=fs,Z=sa;if(!w.length||!Z){B("Completa orgenes y destino antes de iniciar.");return}zt.current=!1,yt.current=!1,Xe([]),Me([]),je(null),L("inicio"),J("Iniciando copiado..."),T(0),_e(""),We(""),La([]),ns(!1),Rn("reset"),Kn("reset"),Ce.current="",it.current=-1,Pn.current=-1,Ie(!0);try{const ge=(await j2({run_id:fe.id,rutas_origen:w,ruta_destino:Z,output_mode:c,group_size:Math.max(0,Math.trunc(f||0)),merge_group_size:Math.max(0,Math.trunc(j||0)),generate_merged_pdfs:c==="consolidate"?z:!1})).operation_id;We(ge),Ce.current=ge;const He=new AbortController;nt.current=He,An.current=!0,Ln.current=ge,W.current=Date.now(),as(ge),S2(ge,Yt=>{se.current&&Ce.current===ge&&(As(ge),kr(Yt,"stream"))},He.signal).then(()=>{Ce.current===ge&&(Ba("stream_closed"),!yt.current&&!zt.current&&P(ge,"stream_closed"))}).catch(Yt=>{if(Ce.current===ge){if(rx(Yt)||zt.current||yt.current){Ba("stream_aborted");return}Ba("stream_error"),P(ge,"stream_error")}})}catch(le){if(zt.current||yt.current||rx(le))return;const ge=le,He=ge.response?.data?.detail||ge.message||"No se pudo iniciar/leer el progreso.";Xe(Ht=>[...Ht,{message:He}]),L("error"),J(He),Rn("start_error"),Kn("start_error"),Ie(!1)}}async function Ue(){if(we){zt.current=!0,Ce.current="";try{await _2(we)}catch{}try{nt.current?.abort()}catch{}Rn("user_cancel"),Kn("user_cancel"),Ie(!1),L("cancelado"),J("Cancelado por el usuario.")}}const lt=p.useMemo(()=>{if(!H)return null;const w=(H.origenes||[]).filter(ge=>ge.existe&&ge.lectura).length,Z=(H.origenes||[]).length,le=!!(H.destino?.existe&&H.destino?.es_directorio&&H.destino?.lectura&&H.destino?.escritura);return{okOrigenes:w,totalOrigenes:Z,okDestino:le}},[H]);async function Ot(){if(!H)return;const w=[];w.push("LOG-02 - Resultado de validacin"),w.push("");for(const ge of H.origenes||[])w.push(`ORIGEN | ${ge.ruta} | existe=${ge.existe?"SI":"NO"} | lectura=${ge.lectura?"SI":"NO"} | detalle=${ge.detalle||""}`);const Z=H.destino;w.push(`DESTINO | ${Z?.ruta||""} | existe=${Z?.existe?"SI":"NO"} | lectura=${Z?.lectura?"SI":"NO"} | escritura=${Z?.escritura?"SI":"NO"} | detalle=${Z?.detalle||""}`);const le=w.join(`
`);await mo(le)}async function ht(){const w=[];w.push("LOG-02 - Estado de copiado (PB-LOG-015)"),w.push(`operation_id: ${we||"N/D"}`),w.push(`progreso: ${Number.isFinite(O)?O.toFixed(0):"0"}%`),w.push(`estado: ${S||""}`),me&&w.push(`OI: ${me}`),I&&w.push(`mensaje: ${I}`),await mo(w.join(`
`))}function vn(w){const Z=String(w||""),le=Z.match(/(\d+)\s*\/\s*(\d+)\s*PDFs?/i),ge=Z.match(/(\d+)\s*\/\s*(\d+)\s*(?:OIs?|OI)/i)||Z.match(/\b(\d+)\s*\/\s*(\d+)\b/),He=le?{done:Number(le[1]),total:Number(le[2])}:null,Ht=ge?{done:Number(ge[1]),total:Number(ge[2])}:null;return{pdf:He,oi:Ht}}const Qt=p.useMemo(()=>{const w=vn(I||"");return{pdfDone:w.pdf?.done,pdfTotal:w.pdf?.total,oiDone:w.oi?.done,oiTotal:w.oi?.total}},[I]);function vt(w){const Z=(w||"").trim();return Z?ol?ol(Z):Z:""}async function Ys(){const w=[];w.push("LOG-02 - Detalle en vivo (ltimos eventos)"),w.push("");for(const le of Yn.slice(-80)){const He=new Date(le.ts).toLocaleString("es-PE",{timeZone:th,hour12:!1});w.push(`${He} | ${le.source} | ${le.type}${le.stage?` | ${le.stage}`:""}${le.oi?` | oi=${le.oi}`:""}${typeof le.progress=="number"?` | ${Math.round(le.progress)}%`:""}${le.message?` | ${le.message}`:""}`)}const Z=w.join(`
`);try{await navigator.clipboard.writeText(Z)}catch{try{const le=document.createElement("textarea");le.value=Z,document.body.appendChild(le),le.select(),document.execCommand("copy"),document.body.removeChild(le)}catch{}}}const vs=!!H?.ok,ys=!!H?.ok&&!!fe?.id,qa=c!=="consolidate",Xn=Math.max(0,Math.trunc(f||0)),Bn=Math.max(0,Math.trunc(j||0)),Fu=z&&Bn>0&&Bn>Sm;p.useEffect(()=>{y||g(String(Xn))},[Xn,y]),p.useEffect(()=>{R||A(String(Bn))},[Bn,R]),p.useEffect(()=>{Fe.current&&(R||Bn!==Xn&&F(Xn))},[Xn,R,Bn]),p.useEffect(()=>{qa&&y&&(x(!1),g(String(Xn)))},[qa,y,Xn]),p.useEffect(()=>{qa&&R&&($(!1),A(String(Bn)))},[qa,R,Bn]);function Ks(w){w===2&&!vs||w===3&&!ys||On(w)}const Hu=H?.ok?fe?.id?"":"Falta seleccionar corrida":"Falta validar rutas",[bl,Mo]=p.useState(!1),Uo=async w=>{const Z=we;if(Z)try{Mo(!0);const le=await E2(Z,w),ge=window.URL.createObjectURL(le),He=document.createElement("a");He.href=ge,He.download=`LOG02_AUDITORIA_${Z}.${w}`,document.body.appendChild(He),He.click(),He.remove(),window.URL.revokeObjectURL(ge)}finally{Mo(!1)}};return l.jsxs("div",{className:"container-fluid",children:[l.jsx("div",{className:"row",children:l.jsxs("div",{className:"col-12",children:[l.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[l.jsx("h4",{className:"c-grey-900 mB-10",children:"Filtrado de certificados PDF (LOG-02)"}),l.jsxs("div",{className:"text-muted small",children:["Este mdulo se orienta a ",l.jsx("strong",{children:"copiar"})," y ",l.jsx("strong",{children:"filtrar"})," certificados PDF desde una",l.jsx("strong",{children:" carpeta compartida"})," (no ZIP).",l.jsx("br",{}),"Configura las rutas UNC y valida accesos antes de iniciar el filtrado."]}),K?l.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:K}):null,l.jsxs("div",{className:"vi-wizard-header mT-15",children:[l.jsxs("ul",{className:"nav nav-pills vi-stepper",role:"tablist","aria-label":"Flujo LOG-02",children:[l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(Ft===1?"active":""),onClick:()=>Ks(1),children:[l.jsx("span",{className:"vi-step-num",children:"1"})," Rutas"]})}),l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(Ft===2?"active":""),onClick:()=>Ks(2),disabled:!vs,title:vs?"":"Primero valida rutas",children:[l.jsx("span",{className:"vi-step-num",children:"2"})," Corrida LOG-01"]})}),l.jsx("li",{className:"nav-item",role:"presentation",children:l.jsxs("button",{type:"button",className:"nav-link "+(Ft===3?"active":""),onClick:()=>Ks(3),disabled:!ys,title:ys?"":"Falta validar rutas o elegir corrida",children:[l.jsx("span",{className:"vi-step-num",children:"3"})," Ejecucin"]})})]}),l.jsxs("div",{className:"small text-muted mT-5",children:["Flujo recomendado: ",l.jsx("strong",{children:"1) Validar rutas"}),"  ",l.jsx("strong",{children:"2) Elegir corrida"})," "," ",l.jsx("strong",{children:"3) Iniciar copiado"}),"."]})]}),l.jsxs("div",{className:"accordion vi-wizard mT-15",id:"log02Wizard",children:[l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step1Head",children:l.jsx("button",{className:"accordion-button "+(Ft===1?"":"collapsed"),type:"button",onClick:()=>Ks(1),children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"1"}),l.jsx("span",{className:"vi-step-title",children:"Rutas UNC"}),H?.ok?l.jsx("span",{className:"badge bg-success",children:"OK"}):H?l.jsx("span",{className:"badge bg-danger",children:"Revisar"}):l.jsx("span",{className:"badge bg-secondary",children:"Pendiente"})]})})}),l.jsx("div",{id:"log02Step1",className:"accordion-collapse collapse "+(Ft===1?"show":""),"aria-labelledby":"log02Step1Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:l.jsxs("div",{className:"row g-3",children:[l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"vi-card",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Rutas UNC"}),l.jsxs("div",{className:"row g-2",children:[l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Rutas origen (UNC)  lectura"}),e.map((w,Z)=>l.jsx("div",{className:"mB-10",children:l.jsxs("div",{className:"d-flex gap-10 align-items-center",children:[l.jsxs("div",{className:"flex-grow-1",children:[l.jsx("input",{className:"form-control form-control-sm"+(Te&&!un[Z]?" is-invalid":""),value:w,onChange:le=>hs(Z,le.target.value),placeholder:"\\\\SERVIDOR\\Compartido\\Certificados",disabled:M}),Te&&!un[Z]?l.jsx("div",{className:"small text-danger mT-5",children:"Requerido"}):null]}),l.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones origen",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void mo((w||"").trim()),disabled:M||!(w||"").trim(),title:"Copiar ruta",style:{minWidth:84},children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Cr(Z),disabled:M,title:"Elegir carpeta",style:{minWidth:84},children:(w||"").trim()?"Editar":"Agregar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>pl(Z),disabled:M,title:"Quitar ruta",style:{minWidth:52},children:""})]})]})},Z)),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:bn,disabled:M,title:"Agregar origen",children:"Agregar origen"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:aa,disabled:M,title:"Quitar duplicados (solo UI)",children:"Quitar duplicados"})]}),l.jsxs("div",{className:"small text-muted",children:["Nota: estas rutas deben ser accesibles ",l.jsx("strong",{children:"desde el servidor"})," donde corre el backend."]})]}),l.jsxs("div",{className:"col-12",children:[l.jsx("label",{className:"form-label",children:"Ruta destino (UNC)  lectura y escritura"}),l.jsxs("div",{className:"d-flex gap-10 mB-10",children:[l.jsxs("div",{className:"flex-grow-1",children:[l.jsx("input",{className:"form-control form-control-sm "+(Te&&!sa?"is-invalid":""),value:s,onChange:w=>i(w.target.value),placeholder:"\\\\SERVIDOR\\Compartido\\Salida_LOG02",disabled:M}),Te&&!sa?l.jsx("div",{className:"small text-danger mT-5",children:"Destino requerido."}):null]}),l.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones destino",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void mo(sa),disabled:M||!sa,title:"Copiar ruta",style:{minWidth:84},children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:hl,disabled:M,title:"Elegir carpeta",style:{minWidth:84},children:sa?"Editar":"Agregar"})]})]}),l.jsxs("div",{className:"mT-5",children:[l.jsx("div",{className:"small text-muted mB-5",children:ms?"Listo para validar.":"Completa orgenes y destino."}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void Qs(),disabled:M||!ms,children:M?"Validando...":"Validar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:_a,disabled:M,title:"Limpia orgenes y destino",children:"Limpiar rutas"})]})]})]})]})]})}),l.jsx("div",{className:"col-12",children:H?l.jsxs("div",{className:"vi-card",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado de validacin"}),lt?l.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center mB-10",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["Orgenes OK: ",l.jsx("strong",{children:lt.okOrigenes})," / ",lt.totalOrigenes]}),l.jsxs("span",{className:lt.okDestino?"badge bg-success":"badge bg-danger",children:["Destino: ",lt.okDestino?"OK":"No OK"]}),H.ok?null:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void Ot(),children:"Copiar detalle"})]}):null,l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),l.jsx("th",{children:"Ruta"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Existe"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Lectura"}),l.jsx("th",{style:{whiteSpace:"nowrap"},children:"Escritura"}),l.jsx("th",{children:"Detalle"})]})}),l.jsxs("tbody",{children:[H.origenes.map((w,Z)=>l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:"Origen"})}),l.jsx("td",{style:{wordBreak:"break-all"},children:w.ruta||"N/D"}),l.jsx("td",{children:l.jsx("span",{className:ei(w.existe),children:w.existe?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:ei(w.lectura),children:w.lectura?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:ei(null),children:""})}),l.jsx("td",{children:w.detalle||""})]},`o-${Z}`)),l.jsxs("tr",{className:"small",children:[l.jsx("td",{style:{whiteSpace:"nowrap"},children:l.jsx("strong",{children:"Destino"})}),l.jsx("td",{style:{wordBreak:"break-all"},children:H.destino.ruta||"N/D"}),l.jsx("td",{children:l.jsx("span",{className:ei(H.destino.existe),children:H.destino.existe?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:ei(H.destino.lectura),children:H.destino.lectura?"S":"No"})}),l.jsx("td",{children:l.jsx("span",{className:ei(!!H.destino.escritura),children:H.destino.escritura?"S":"No"})}),l.jsx("td",{children:H.destino.detalle||""})]})]})]})}),H.ok?l.jsx("div",{className:"alert alert-success mT-15",role:"alert",children:"Rutas validadas correctamente. Puedes continuar con la siguiente fase."}):l.jsx("div",{className:"alert alert-warning mT-15",role:"alert",children:"Hay rutas con problemas. Corrige existencia/permisos y vuelve a validar."})]}):l.jsx("div",{className:"vi-callout small",children:"An no has validado las rutas. Ejecuta Validar para continuar al paso 2."})})]})})})]}),l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step2Head",children:l.jsx("button",{className:"accordion-button "+(Ft===2?"":"collapsed"),type:"button",onClick:()=>Ks(2),disabled:!vs,children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"2"}),l.jsx("span",{className:"vi-step-title",children:"Corrida LOG-01"}),fe?.id?l.jsx("span",{className:"badge bg-success",children:"Seleccionada"}):vs?l.jsx("span",{className:"badge bg-warning vi-text-contrast",children:"Pendiente"}):l.jsx("span",{className:"badge bg-secondary",children:"Bloqueado"})]})})}),l.jsx("div",{id:"log02Step2",className:"accordion-collapse collapse "+(Ft===2?"show":""),"aria-labelledby":"log02Step2Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:vs?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between gap-10",children:[l.jsxs("div",{className:"vi-card flex-grow-1",children:[l.jsx("div",{className:"small text-muted",children:"Corrida seleccionada"}),fe?.id?l.jsx("div",{className:"mT-5",children:l.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["#",fe.id]}),fe?.created_at?l.jsx("span",{className:"small text-muted",children:ax(fe.created_at)}):null,fe?.source?l.jsx("span",{className:"small text-muted",children:fe.source}):null,fe?.status?l.jsx("span",{className:"small text-muted",children:fe.status}):null]})}):l.jsx("div",{className:"text-muted small mT-5",children:"An no se ha elegido una corrida."})]}),l.jsx("div",{className:"d-flex gap-10",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Es,disabled:ue,children:fe?.id?"Cambiar corrida":"Elegir corrida"})})]}),fe?.id?null:l.jsx("div",{className:"vi-callout mT-10 small",children:"Debes seleccionar una corrida de LOG-01 (historial) para usar su manifiesto y NO CONFORME."})]}):l.jsx("div",{className:"vi-callout small",children:"Valida rutas para habilitar este paso."})})})]}),l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02Step3Head",children:l.jsx("button",{className:"accordion-button "+(Ft===3?"":"collapsed"),type:"button",onClick:()=>Ks(3),disabled:!ys,children:l.jsxs("span",{className:"d-inline-flex align-items-center gap-10",children:[l.jsx("span",{className:"vi-step-num",children:"3"}),l.jsx("span",{className:"vi-step-title",children:"Ejecucin"}),ue?l.jsx("span",{className:"badge bg-primary",children:"En progreso"}):tt?l.jsx("span",{className:"badge bg-success",children:"Completado"}):ys?l.jsx("span",{className:"badge bg-secondary",children:"Listo"}):l.jsx("span",{className:"badge bg-secondary",children:"Bloqueado"})]})})}),l.jsx("div",{id:"log02Step3",className:"accordion-collapse collapse "+(Ft===3?"show":""),"aria-labelledby":"log02Step3Head","data-bs-parent":"#log02Wizard",children:l.jsx("div",{className:"accordion-body",children:ys?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"vi-card mB-10",children:[l.jsx("h6",{className:"c-grey-900 mB-10",children:"Salida de copiado"}),l.jsxs("div",{className:"row g-2",children:[l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",id:"log02-out-consolidate",name:"log02-output-mode",checked:c==="consolidate",disabled:ue,onChange:()=>d("consolidate")}),l.jsxs("label",{className:"form-check-label",htmlFor:"log02-out-consolidate",children:[l.jsx("strong",{children:"Consolidar en una sola carpeta"}),l.jsxs("span",{className:"text-muted small",children:[" ","(se crea <SERIE_INICIAL>_AL_<SERIE_FINAL>)"]})]})]})}),l.jsx("div",{className:"col-12",children:l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"radio",id:"log02-out-keep",name:"log02-output-mode",checked:c==="keep_structure",disabled:ue,onChange:()=>d("keep_structure")}),l.jsx("label",{className:"form-check-label",htmlFor:"log02-out-keep",children:l.jsx("strong",{children:"Mantener estructura de carpetas"})})]})}),l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label mT-10",children:"Agrupar en subcarpetas por N"}),l.jsx("input",{type:"number",min:0,step:1,className:"form-control form-control-sm",style:{maxWidth:360,width:"20%"},value:y?v:Xn,disabled:ue||qa,onChange:w=>{const Z=w.target.value;if(g(Z),Z==="")return;const le=Number(Z),ge=Number.isFinite(le)?Math.max(0,Math.trunc(le)):0;h(ge)},onFocus:()=>{x(!0),g(Xn===0?"":String(Xn))},onBlur:()=>{x(!1);const w=(v||"").trim();if(!w){h(0),g("0");return}const Z=Number(w),le=Number.isFinite(Z)?Math.max(0,Math.trunc(Z)):0;h(le),g(String(le))},placeholder:"0"}),l.jsx("div",{className:"small text-muted",children:qa?"Disponible solo en modo Consolidar.":Xn===0?"N=0: no se crean subcarpetas.":`Se crean subcarpetas de ${Xn} PDFs (ltimo grupo puede ser menor).`})]}),c==="consolidate"?l.jsxs("div",{className:"col-12",children:[l.jsxs("div",{className:"form-check mT-10",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"log02-gen-merged-pdfs",checked:z,onChange:w=>te(w.target.checked),disabled:ue}),l.jsxs("label",{className:"form-check-label",htmlFor:"log02-gen-merged-pdfs",children:[l.jsx("strong",{children:"Generar PDFs consolidados (merge)"})," ",l.jsx("span",{className:"text-muted small",children:Bn>0?`(1 PDF cada ${Bn} PDFs, guardado en la carpeta principal)`:"(1 PDF global en la carpeta principal)"})]})]}),z?l.jsxs("div",{className:"mT-10",children:[l.jsx("div",{className:"row g-2",children:l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label",children:"Agrupar PDFs para consolidado por N"}),l.jsx("input",{type:"number",min:0,step:1,className:"form-control form-control-sm",style:{maxWidth:360,width:"20%"},value:R?E:Bn,onChange:w=>{Fe.current=!1;const Z=w.target.value;if(A(Z),Z==="")return;const le=Number(Z),ge=Number.isFinite(le)?Math.max(0,Math.trunc(le)):0;F(ge)},onFocus:()=>{$(!0),A(Bn===0?"":String(Bn))},onBlur:()=>{$(!1);const w=(E||"").trim();if(!w){F(0),A("0");return}const Z=Number(w),le=Number.isFinite(Z)?Math.max(0,Math.trunc(Z)):0;F(le),A(String(le))},placeholder:"0",disabled:ue}),l.jsx("div",{className:"small text-muted",children:Bn>0?`Se consolidarn ${Bn} PDFs por archivo (en la carpeta principal).`:"N=0: se genera 1 PDF global con todos los certificados."})]})}),Fu?l.jsxs("div",{className:"alert alert-warning small mT-10 mB-0",children:[l.jsxs("div",{className:"mB-5",children:[l.jsx("strong",{children:"Advertencia:"})," el mximo por PDF consolidado es"," ",l.jsx("strong",{children:Sm})," PDFs."]}),l.jsxs("div",{children:["Has configurado ",l.jsx("strong",{children:Bn}),". El merge se omitir y vers una advertencia en el progreso. Ajusta N a ",Sm," o menos."]})]}):null]}):null]}):null]})]}),l.jsxs("div",{className:"d-flex flex-wrap gap-10 mB-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void xe(),disabled:!Ea,title:Hu,children:ue?"Copiando...":"Iniciar copiado"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void Ue(),disabled:!ue||!we,children:"Cancelar"})]}),l.jsxs("div",{className:"mT-10",children:[l.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[l.jsx("span",{children:"Progreso"}),ue?l.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null,we?l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["op: ",l.jsx("strong",{children:we})]}):null,l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto ms-auto",onClick:()=>void ht(),disabled:!S&&!I&&!we,title:"Copiar estado del progreso",children:"Copiar estado"})]}),l.jsxs("div",{className:"d-flex flex-wrap gap-10 mB-5",children:[l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["PDFs: ",Qt.pdfDone??""," / ",Qt.pdfTotal??""]}),l.jsxs("span",{className:"badge vi-surface-2 vi-text",children:["OIs: ",Qt.oiDone??""," / ",Qt.oiTotal??""]}),G.length?l.jsxs("span",{className:"badge bg-warning vi-text-contrast",children:["Advertencias: ",G.length]}):null,qe.length?l.jsxs("span",{className:"badge bg-danger",children:["Errores: ",qe.length]}):null]}),l.jsxs("div",{className:"small text-muted",children:[l.jsx("strong",{children:S?vt(S):ue?"En progreso":""}),I?l.jsxs("span",{children:["  ",I]}):null]}),l.jsxs("div",{className:"small text-muted",children:[me?`OI actual: ${me}`:"OI actual: ",Qt.pdfDone!=null&&Qt.pdfTotal!=null?l.jsxs("span",{children:["  ",Qt.pdfDone,"/",Qt.pdfTotal," PDFs"]}):null,Qt.oiDone!=null&&Qt.oiTotal!=null?l.jsxs("span",{children:["  ",Qt.oiDone,"/",Qt.oiTotal," OIs"]}):null]}),l.jsx("div",{className:"progress vi-progress",children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Math.max(0,Math.min(100,O))}%`},"aria-valuenow":O,"aria-valuemin":0,"aria-valuemax":100,children:l.jsxs("span",{className:"vi-progress-label",children:[O.toFixed(0),"%"]})})})]}),l.jsx("div",{className:"accordion mT-10",id:"log02LiveLog",children:l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"log02LiveLogHead",children:l.jsxs("button",{className:"accordion-button vi-acc-sm "+(Ua?"":"collapsed"),type:"button",onClick:()=>ns(w=>!w),children:["Detalle en vivo ",Yn.length?`(${Yn.length})`:""]})}),l.jsx("div",{id:"log02LiveLogBody",className:"accordion-collapse collapse "+(Ua?"show":""),"aria-labelledby":"log02LiveLogHead",children:l.jsxs("div",{className:"accordion-body p-0",children:[l.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between gap-10 p-10",children:[l.jsxs("div",{className:"small text-muted",children:["ltimos eventos (mx ",Nm,")"]}),l.jsxs("div",{className:"d-flex gap-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void Ys(),disabled:!Yn.length,children:"Copiar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>La([]),disabled:!Yn.length,children:"Limpiar"})]})]}),l.jsx("div",{className:"vi-logbox",children:Yn.length?Yn.slice(-80).map((w,Z)=>{const He=`${new Date(w.ts).toLocaleString("es-PE",{timeZone:th,hour12:!1})} | ${w.source} | ${w.type}${w.stage?` | ${w.stage}`:""}${w.oi?` | oi=${w.oi}`:""}${typeof w.progress=="number"?` | ${Math.round(w.progress)}%`:""}${w.message?` | ${w.message}`:""}`;return l.jsx("div",{className:"vi-logline",children:He},`le-${Z}`)}):l.jsx("div",{className:"small text-muted",children:"Sin eventos an."})})]})})]})}),qe.length?l.jsxs("div",{className:"alert alert-danger mT-10",role:"alert",children:[l.jsx("strong",{children:"Se detectaron errores:"}),l.jsx("ul",{className:"mB-0 mT-5",children:qe.slice(-8).map((w,Z)=>l.jsxs("li",{children:[w.oi?`[${w.oi}] `:"",w.file?`${w.file}: `:"",w.message]},`ce-${Z}`))})]}):null,G.length?l.jsxs("div",{className:"alert alert-warning mT-10",role:"alert",children:[l.jsx("strong",{children:"Advertencias:"}),l.jsx("ul",{className:"mB-0 mT-5",children:G.slice(-8).map((w,Z)=>l.jsxs("li",{children:["[",w.oi,"] ",w.code?`${w.code}: `:"",w.message]},`cw-${Z}`))})]}):null,tt?l.jsxs("div",{className:"mT-15",children:[l.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-10 mB-10",children:[l.jsx("h6",{className:"c-grey-900 mB-0",children:"Auditora de copiado"}),l.jsxs("div",{className:"d-flex gap-5",children:[l.jsx("button",{className:"btn btn-sm btn-outline-light",disabled:bl||!we,onClick:()=>Uo("csv"),children:"Descargar CSV"}),l.jsx("button",{className:"btn btn-sm btn-outline-light",disabled:bl||!we,onClick:()=>Uo("xlsx"),children:"Descargar Excel"})]})]}),l.jsxs("div",{className:"row g-2",children:[l.jsx("div",{className:"col-12 col-md-4",children:l.jsxs("div",{className:"alert alert-light mB-0",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Total OIs:"})," ",tt?.total_ois??"N/D"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"OIs OK:"})," ",tt?.ois_ok??"N/D"]})]})}),l.jsx("div",{className:"col-12 col-md-8",children:l.jsx("div",{className:"alert alert-light mB-0",children:l.jsxs("div",{className:"d-flex flex-wrap gap-10",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"PDF detectados:"})," ",tt?.archivos?.pdf_detectados??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"PDF copiados:"})," ",tt?.archivos?.pdf_copiados??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Omitidos NO CONFORME:"})," ",tt?.archivos?.pdf_omitidos_no_conforme??"N/D"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"No PDF omitidos:"})," ",tt?.archivos?.archivos_no_pdf_omitidos??"N/D"]})]})})})]}),tt?.ois_faltantes?.length||tt?.ois_duplicadas?.length||tt?.destinos_duplicados?.length||tt?.series_duplicadas?.length||tt?.series_faltantes?.length?l.jsxs("div",{className:"mT-10",children:[tt?.ois_faltantes?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"OIs sin carpeta:"}),l.jsx("ul",{className:"mB-0 mT-5",children:tt.ois_faltantes.slice(0,10).map((w,Z)=>l.jsxs("li",{children:[w?.oi,"  ",w?.detalle||""]},`of-${Z}`))})]}):null,tt?.ois_duplicadas?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"OIs con mltiples carpetas (duplicadas):"}),l.jsx("ul",{className:"mB-0 mT-5",children:tt.ois_duplicadas.slice(0,10).map((w,Z)=>l.jsxs("li",{children:[w?.oi,"  ",Array.isArray(w?.carpetas)?w.carpetas.join(" | "):""]},`od-${Z}`))})]}):null,tt?.destinos_duplicados?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Destinos ya existentes:"}),l.jsx("ul",{className:"mB-0 mT-5",children:tt.destinos_duplicados.slice(0,10).map((w,Z)=>l.jsxs("li",{children:[w?.oi,"  ",w?.destino||""]},`dd-${Z}`))})]}):null,tt?.series_duplicadas?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Series duplicadas (mismo nombre de PDF):"}),l.jsx("ul",{className:"mB-0 mT-5",children:tt.series_duplicadas.slice(0,12).map((w,Z)=>l.jsxs("li",{children:[l.jsx("strong",{children:w?.oi}),"  ",w?.serie," (",Array.isArray(w?.files)?w.files.length:0," archivo(s))"]},`sd-${Z}`))}),tt.series_duplicadas.length>12?l.jsxs("div",{className:"small text-muted mT-5",children:["Mostrando 12 de ",tt.series_duplicadas.length,". Revisa el audit JSON para el detalle completo."]}):null]}):null,tt?.series_faltantes?.length?l.jsxs("div",{className:"alert alert-warning",role:"alert",children:[l.jsx("strong",{children:"Series faltantes (conforme en manifiesto, sin PDF):"}),l.jsx("ul",{className:"mB-0 mT-5",children:tt.series_faltantes.slice(0,12).map((w,Z)=>l.jsxs("li",{children:[l.jsx("strong",{children:w?.oi}),"  ",w?.count," faltante(s)"]},`sf-${Z}`))}),tt.series_faltantes.length>12?l.jsxs("div",{className:"small text-muted mT-5",children:["Mostrando 12 de ",tt.series_faltantes.length,". Revisa el audit JSON para el detalle completo."]}):null]}):null]}):null]}):null]}):l.jsx("div",{className:"vi-callout small",children:"Valida rutas y selecciona una corrida para habilitar la ejecucin."})})})]})]})]}),ue?l.jsx("div",{className:"vi-sticky-actions",children:l.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-10 vi-sticky-actions-row",children:[l.jsxs("div",{className:"small vi-sticky-progress",children:[l.jsx("strong",{children:S?vt(S):"En progreso"}),me?l.jsxs("span",{children:["  OI: ",me]}):null,l.jsxs("span",{className:"text-muted",children:["  ",O.toFixed(0),"%"]})]}),l.jsxs("div",{className:"d-flex gap-10 vi-sticky-buttons",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void Ue(),disabled:!we,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>ns(!0),children:"Ver detalle"})]})]})}):null]})}),ve?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-lg modal-dialog-scrollable",role:"document",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Seleccionar corrida de LOG-01 (Historial)"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Ee(!1)})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"vi-card mB-10",children:[l.jsx("div",{className:"d-flex align-items-center justify-content-between mB-10",children:l.jsx("div",{className:"small text-muted",children:"Filtros"})}),l.jsxs("div",{className:"text-muted small mB-10",children:["Por defecto se cargan las ",l.jsx("strong",{children:"ltimas 5 corridas completadas"}),". Puedes usar filtros si lo necesitas."]}),U?l.jsx("div",{className:"alert alert-danger",role:"alert",children:U}):null,l.jsxs("form",{className:"row g-2 align-items-end",onSubmit:w=>{w.preventDefault(),Or()},children:[l.jsxs("div",{className:"col-12 col-md-4",children:[l.jsx("label",{className:"form-label",children:"Buscar"}),l.jsx("input",{className:"form-control form-control-sm",value:Se,onChange:w=>Le(w.target.value),placeholder:"Serie / OI / usuario..."})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Desde"}),l.jsx("input",{className:"form-control form-control-sm",type:"date",value:Ve,onChange:w=>pe(w.target.value)})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Hasta"}),l.jsx("input",{className:"form-control form-control-sm",type:"date",value:Be,onChange:w=>Ze(w.target.value)})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Origen"}),l.jsx("input",{className:"form-control form-control-sm",value:Je,onChange:w=>ct(w.target.value),placeholder:"AUTO/BASES/..."})]}),l.jsxs("div",{className:"col-6 col-md-2",children:[l.jsx("label",{className:"form-label",children:"Estado"}),l.jsx("input",{className:"form-control form-control-sm",value:ze,onChange:w=>Pe(w.target.value),placeholder:"COMPLETADO"})]}),l.jsxs("div",{className:"col-12 d-flex align-items-center justify-content-between",children:[l.jsx("div",{className:"btn-group",role:"group","aria-label":"Acciones filtros",children:l.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:ke,children:ke?l.jsxs("span",{className:"d-flex align-items-center gap-10",children:[l.jsx("img",{src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Cargando",style:{width:18,height:18}}),"Buscando..."]}):"Aplicar filtros"})}),l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>{Le(""),pe(""),Ze(""),ct(""),Pe("COMPLETADO"),Gs(5)},disabled:ke,children:ke?l.jsxs("span",{className:"d-flex align-items-center gap-10",children:[l.jsx("img",{src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Cargando",style:{width:18,height:18}}),"Cargando..."]}):"Ver ltimas 5 exitosas"})]})]})]}),l.jsxs("div",{className:"vi-card",children:[l.jsxs("div",{className:"d-flex align-items-center justify-content-between mB-10",children:[l.jsx("div",{className:"small text-muted",children:"Resultados"}),l.jsx("div",{className:"small text-muted",children:X?"Actualizando...":`${ae.length} corrida(s)`})]}),X?l.jsxs("div",{className:"d-flex align-items-center gap-10 text-muted small",children:[l.jsx("img",{src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Cargando",style:{width:28,height:28}}),l.jsx("span",{children:"Cargando corridas..."})]}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0 text-center",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{style:{width:110},children:"ID"}),l.jsx("th",{children:"Creado"}),l.jsx("th",{style:{width:140},children:"Origen"}),l.jsx("th",{style:{width:140},children:"Serie inicial"}),l.jsx("th",{style:{width:140},children:"Serie final"}),l.jsx("th",{style:{width:110},children:"Conformes"}),l.jsx("th",{style:{width:150},children:"Estado"}),l.jsx("th",{style:{width:110},className:"text-end"})]})}),l.jsx("tbody",{children:ae.length?ae.map(w=>l.jsx("tr",{className:"small",children:(()=>{const Z=w.summary_json,le=sx(Z,"serie_ini"),ge=sx(Z,"serie_fin"),He=xD(Z,"series_conformes");return l.jsxs(l.Fragment,{children:[l.jsx("td",{children:l.jsxs("span",{className:"badge bg-secondary font-monospace",children:["#",w.id]})}),l.jsx("td",{children:ax(w.created_at)}),l.jsx("td",{children:w.source||"N/D"}),l.jsx("td",{children:le}),l.jsx("td",{children:ge}),l.jsx("td",{children:l.jsx("strong",{children:He})}),l.jsx("td",{children:l.jsx("span",{className:gD(w.status),children:w.status||"N/D"})}),l.jsx("td",{className:"text-end",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>Rr(w),children:"Usar"})})]})})()},w.id)):l.jsx("tr",{className:"small",children:l.jsx("td",{colSpan:8,className:"text-muted",children:"No se encontraron corridas con esos filtros."})})})]})})]})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>Ee(!1),children:"Cerrar"})})]})})}),l.jsx("div",{className:"modal-backdrop fade show",onClick:()=>Ee(!1)})]}):null,rt?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:l.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:Ke==="destino"?"Elegir carpeta de destino":"Elegir carpeta de origen"}),l.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>ot(!1)})]}),l.jsxs("div",{className:"modal-body",children:[Hn?l.jsx("div",{className:"alert alert-danger",role:"alert",children:Hn}):null,l.jsxs("div",{className:"row g-2",children:[l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label",children:"Raz"}),l.jsx("select",{className:"form-control form-control-sm",value:mt,onChange:w=>{const Z=w.target.value;xt(Z),Vn(Z)},disabled:!mn.length,children:mn.length?mn.map(w=>l.jsx("option",{value:w,children:w},w)):l.jsx("option",{value:"",children:"Sin races"})})]}),l.jsxs("div",{className:"col-12 col-md-6",children:[l.jsx("label",{className:"form-label",children:"Carpeta actual"}),l.jsx("input",{className:"form-control form-control-sm",value:_t,readOnly:!0})]})]}),l.jsxs("div",{className:"mT-10",children:[l.jsx("label",{className:"form-label mB-5",children:"Navegacin"}),l.jsxs("div",{className:"p-10 vi-surface-2 border vi-border rounded",children:[l.jsx("div",{className:"d-flex flex-wrap align-items-center gap-10",children:vi(_t).map((w,Z,le)=>l.jsxs("span",{className:"small d-inline-flex align-items-center",children:[l.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:()=>void Vn(w.path),disabled:At,title:`Ir a: ${w.path}`,children:w.label}),Z<le.length-1?l.jsx("span",{className:"text-muted mX-5",children:"/"}):null]},`${w.path}-${Z}`))}),l.jsx("div",{className:"small vi-text-muted mT-5",children:"Tip: Click en una seccin para saltar a esa carpeta."})]})]}),l.jsxs("div",{className:"row g-2 mT-10",children:[l.jsxs("div",{className:"col-12 col-md-8",children:[l.jsx("label",{className:"form-label",children:"Ir a ruta"}),l.jsxs("div",{className:"input-group input-group-sm",children:[l.jsx("input",{className:"form-control",value:ds,onChange:w=>oa(w.target.value),onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),Tr())},placeholder:"Pega una ruta (UNC o local) dentro de las races permitidas",disabled:At}),l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>void Tr(),disabled:At||!ds.trim(),children:"Ir"})]})]}),l.jsxs("div",{className:"col-12 col-md-4",children:[l.jsx("label",{className:"form-label",children:"Acciones"}),l.jsx("div",{className:"d-flex align-items-end",style:{minHeight:31},children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:()=>void gl(),disabled:!_t||At,title:"Copiar la ruta actual al portapapeles",children:"Copiar ruta"})})]})]}),l.jsxs("div",{className:"d-flex gap-10 mT-10",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-auto",onClick:Dr,disabled:!_t||At,children:"Subir nivel"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:xi,disabled:!_t||At,children:"Seleccionar carpeta"})]}),l.jsx("hr",{}),l.jsx("div",{className:"row g-2 mB-10",children:l.jsxs("div",{className:"col-12 col-md-8",children:[l.jsx("label",{className:"form-label",children:"Buscar subcarpeta"}),l.jsx("input",{className:"form-control form-control-sm",value:Cn,onChange:w=>Lt(w.target.value),placeholder:"Filtrar por nombre",disabled:At}),l.jsxs("div",{className:"form-text",children:["Mostrando ",Ct.length," de ",pn.length]})]})}),At?l.jsx("div",{className:"text-muted small",children:"Cargando carpetas..."}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"table table-sm mB-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"small",children:[l.jsx("th",{children:"Subcarpetas"}),l.jsx("th",{style:{width:120}})]})}),l.jsx("tbody",{children:Ct.length?Ct.map((w,Z)=>l.jsxs("tr",{className:"small"+($t===w.path?" table-active":""),role:"button",tabIndex:0,"data-folder-idx":Z,title:"Click para seleccionar  Doble click para entrar",style:{cursor:At?"default":"pointer"},onClick:le=>{At||(gn(w.path),le.currentTarget.focus())},onDoubleClick:()=>{At||Vn(w.path)},onKeyDown:le=>{if(!At){if(le.key==="Enter"){le.preventDefault(),Vn(w.path);return}if(le.key===" "||le.key==="Spacebar"){le.preventDefault(),gn(w.path);return}}},children:[l.jsx("td",{style:{wordBreak:"break-all"},children:w.name}),l.jsx("td",{children:l.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:le=>{le.stopPropagation(),Vn(w.path)},disabled:At,children:"Entrar"})})]},w.path)):l.jsx("tr",{className:"small",children:l.jsx("td",{colSpan:2,className:"text-muted",children:"Sin resultados para el filtro, o sin subcarpetas/permisos para listar."})})})]})})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>ot(!1),children:"Cerrar"})})]})})}),l.jsx("div",{className:"modal-backdrop fade show",onClick:()=>ot(!1)})]}):null]})}function SD(){const e=$n();return l.jsx(l.Fragment,{children:l.jsxs(nw,{children:[l.jsx(dn,{path:"/login",element:e?.token?l.jsx(wr,{to:"/home",replace:!0}):l.jsx(PE,{})}),l.jsx(dn,{element:l.jsx(BT,{}),children:l.jsxs(dn,{element:l.jsx(HT,{}),children:[l.jsx(dn,{path:"/",element:l.jsx(wr,{to:"/home",replace:!0})}),l.jsx(dn,{path:"/home",element:l.jsx(aD,{})}),l.jsx(dn,{path:"/oi",element:l.jsx(Gy,{})}),l.jsx(dn,{path:"/oi/:oiId",element:l.jsx(Gy,{})}),l.jsx(dn,{path:"/oi/list",element:l.jsx(VT,{})}),l.jsx(dn,{path:"/users",element:l.jsx(GT,{})}),l.jsx(dn,{path:"/password",element:l.jsx(PT,{})}),l.jsx(dn,{path:"/admin/permisos",element:l.jsx(KT,{})}),l.jsx(dn,{path:"/logistica/log01/excel",element:l.jsx(iD,{})}),l.jsx(dn,{path:"/logistica/log01/history",element:l.jsx(pD,{})}),l.jsx(dn,{path:"/logistica/log02/pdfs",element:l.jsx(jD,{})}),l.jsx(dn,{path:"/oi/tools/vima-to-lista",element:l.jsx(o2,{})}),l.jsx(dn,{path:"/oi/tools/actualizacion-base",element:l.jsx(q2,{})}),l.jsx(dn,{path:"/oi/tools/formato-ac/history",element:l.jsx(G2,{})}),l.jsx(dn,{path:"/oi/tools/consolidacion",element:l.jsx(P2,{})}),l.jsx(dn,{path:"/oi/tools/consolidacion/correlativo",element:l.jsx(X2,{})}),l.jsx(dn,{path:"/oi/tools/consolidacion/no-correlativo",element:l.jsx(tD,{})}),l.jsx(dn,{path:"/oi/tools/excel",element:l.jsx(nD,{})})]})}),l.jsx(dn,{path:"*",element:l.jsx(wr,{to:e?.token?"/home":"/login",replace:!0})})]})})}const wD=new a_;VE();cS.createRoot(document.getElementById("root")).render(l.jsx(gt.StrictMode,{children:l.jsx(s_,{client:wD,children:l.jsx(Ew,{children:l.jsx(FE,{children:l.jsx(SD,{})})})})}));
