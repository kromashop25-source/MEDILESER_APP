(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function Sv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mf={exports:{}},ji={};var My;function CN(){if(My)return ji;My=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:e,type:l,key:m,ref:c!==void 0?c:null,props:d}}return ji.Fragment=a,ji.jsx=s,ji.jsxs=s,ji}var ky;function ON(){return ky||(ky=1,mf.exports=CN()),mf.exports}var o=ON(),hf={exports:{}},tt={};var Uy;function RN(){if(Uy)return tt;Uy=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function q(w){return w===null||typeof w!="object"?null:(w=N&&w[N]||w["@@iterator"],typeof w=="function"?w:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function B(w,V,oe){this.props=w,this.context=V,this.refs=A,this.updater=oe||_}B.prototype.isReactComponent={},B.prototype.setState=function(w,V){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,V,"setState")},B.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function T(){}T.prototype=B.prototype;function J(w,V,oe){this.props=w,this.context=V,this.refs=A,this.updater=oe||_}var k=J.prototype=new T;k.constructor=J,j(k,B.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function $(){}var U={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function ie(w,V,oe){var z=oe.ref;return{$$typeof:e,type:w,key:V,ref:z!==void 0?z:null,props:oe}}function Ne(w,V){return ie(w.type,V,w.props)}function xe(w){return typeof w=="object"&&w!==null&&w.$$typeof===e}function fe(w){var V={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(oe){return V[oe]})}var ve=/\/+/g;function Te(w,V){return typeof w=="object"&&w!==null&&w.key!=null?fe(""+w.key):V.toString(36)}function Oe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then($,$):(w.status="pending",w.then(function(V){w.status==="pending"&&(w.status="fulfilled",w.value=V)},function(V){w.status==="pending"&&(w.status="rejected",w.reason=V)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function M(w,V,oe,z,ce){var he=typeof w;(he==="undefined"||he==="boolean")&&(w=null);var Re=!1;if(w===null)Re=!0;else switch(he){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(w.$$typeof){case e:case a:Re=!0;break;case v:return Re=w._init,M(Re(w._payload),V,oe,z,ce)}}if(Re)return ce=ce(w),Re=z===""?"."+Te(w,0):z,O(ce)?(oe="",Re!=null&&(oe=Re.replace(ve,"$&/")+"/"),M(ce,V,oe,"",function(ke){return ke})):ce!=null&&(xe(ce)&&(ce=Ne(ce,oe+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(ve,"$&/")+"/")+Re)),V.push(ce)),1;Re=0;var qe=z===""?".":z+":";if(O(w))for(var me=0;me<w.length;me++)z=w[me],he=qe+Te(z,me),Re+=M(z,V,oe,he,ce);else if(me=q(w),typeof me=="function")for(w=me.call(w),me=0;!(z=w.next()).done;)z=z.value,he=qe+Te(z,me++),Re+=M(z,V,oe,he,ce);else if(he==="object"){if(typeof w.then=="function")return M(Oe(w),V,oe,z,ce);throw V=String(w),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Re}function I(w,V,oe){if(w==null)return w;var z=[],ce=0;return M(w,z,"","",function(he){return V.call(oe,he,ce++)}),z}function W(w){if(w._status===-1){var V=w._result;V=V(),V.then(function(oe){(w._status===0||w._status===-1)&&(w._status=1,w._result=oe)},function(oe){(w._status===0||w._status===-1)&&(w._status=2,w._result=oe)}),w._status===-1&&(w._status=0,w._result=V)}if(w._status===1)return w._result.default;throw w._result}var ge=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},we={map:I,forEach:function(w,V,oe){I(w,function(){V.apply(this,arguments)},oe)},count:function(w){var V=0;return I(w,function(){V++}),V},toArray:function(w){return I(w,function(V){return V})||[]},only:function(w){if(!xe(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return tt.Activity=x,tt.Children=we,tt.Component=B,tt.Fragment=s,tt.Profiler=c,tt.PureComponent=J,tt.StrictMode=l,tt.Suspense=g,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,tt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return U.H.useMemoCache(w)}},tt.cache=function(w){return function(){return w.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(w,V,oe){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var z=j({},w.props),ce=w.key;if(V!=null)for(he in V.key!==void 0&&(ce=""+V.key),V)!Y.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(z[he]=V[he]);var he=arguments.length-2;if(he===1)z.children=oe;else if(1<he){for(var Re=Array(he),qe=0;qe<he;qe++)Re[qe]=arguments[qe+2];z.children=Re}return ie(w.type,ce,z)},tt.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},tt.createElement=function(w,V,oe){var z,ce={},he=null;if(V!=null)for(z in V.key!==void 0&&(he=""+V.key),V)Y.call(V,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(ce[z]=V[z]);var Re=arguments.length-2;if(Re===1)ce.children=oe;else if(1<Re){for(var qe=Array(Re),me=0;me<Re;me++)qe[me]=arguments[me+2];ce.children=qe}if(w&&w.defaultProps)for(z in Re=w.defaultProps,Re)ce[z]===void 0&&(ce[z]=Re[z]);return ie(w,he,ce)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(w){return{$$typeof:h,render:w}},tt.isValidElement=xe,tt.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:W}},tt.memo=function(w,V){return{$$typeof:p,type:w,compare:V===void 0?null:V}},tt.startTransition=function(w){var V=U.T,oe={};U.T=oe;try{var z=w(),ce=U.S;ce!==null&&ce(oe,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then($,ge)}catch(he){ge(he)}finally{V!==null&&oe.types!==null&&(V.types=oe.types),U.T=V}},tt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},tt.use=function(w){return U.H.use(w)},tt.useActionState=function(w,V,oe){return U.H.useActionState(w,V,oe)},tt.useCallback=function(w,V){return U.H.useCallback(w,V)},tt.useContext=function(w){return U.H.useContext(w)},tt.useDebugValue=function(){},tt.useDeferredValue=function(w,V){return U.H.useDeferredValue(w,V)},tt.useEffect=function(w,V){return U.H.useEffect(w,V)},tt.useEffectEvent=function(w){return U.H.useEffectEvent(w)},tt.useId=function(){return U.H.useId()},tt.useImperativeHandle=function(w,V,oe){return U.H.useImperativeHandle(w,V,oe)},tt.useInsertionEffect=function(w,V){return U.H.useInsertionEffect(w,V)},tt.useLayoutEffect=function(w,V){return U.H.useLayoutEffect(w,V)},tt.useMemo=function(w,V){return U.H.useMemo(w,V)},tt.useOptimistic=function(w,V){return U.H.useOptimistic(w,V)},tt.useReducer=function(w,V,oe){return U.H.useReducer(w,V,oe)},tt.useRef=function(w){return U.H.useRef(w)},tt.useState=function(w){return U.H.useState(w)},tt.useSyncExternalStore=function(w,V,oe){return U.H.useSyncExternalStore(w,V,oe)},tt.useTransition=function(){return U.H.useTransition()},tt.version="19.2.0",tt}var Ly;function _m(){return Ly||(Ly=1,hf.exports=RN()),hf.exports}var b=_m();const lt=Sv(b);var pf={exports:{}},Ei={},gf={exports:{}},yf={};var By;function TN(){return By||(By=1,(function(e){function a(M,I){var W=M.length;M.push(I);e:for(;0<W;){var ge=W-1>>>1,we=M[ge];if(0<c(we,I))M[ge]=I,M[W]=we,W=ge;else break e}}function s(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var I=M[0],W=M.pop();if(W!==I){M[0]=W;e:for(var ge=0,we=M.length,w=we>>>1;ge<w;){var V=2*(ge+1)-1,oe=M[V],z=V+1,ce=M[z];if(0>c(oe,W))z<we&&0>c(ce,oe)?(M[ge]=ce,M[z]=W,ge=z):(M[ge]=oe,M[V]=W,ge=V);else if(z<we&&0>c(ce,W))M[ge]=ce,M[z]=W,ge=z;else break e}}return I}function c(M,I){var W=M.sortIndex-I.sortIndex;return W!==0?W:M.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();e.unstable_now=function(){return m.now()-h}}var g=[],p=[],v=1,x=null,N=3,q=!1,_=!1,j=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function k(M){for(var I=s(p);I!==null;){if(I.callback===null)l(p);else if(I.startTime<=M)l(p),I.sortIndex=I.expirationTime,a(g,I);else break;I=s(p)}}function O(M){if(j=!1,k(M),!_)if(s(g)!==null)_=!0,$||($=!0,fe());else{var I=s(p);I!==null&&Oe(O,I.startTime-M)}}var $=!1,U=-1,Y=5,ie=-1;function Ne(){return A?!0:!(e.unstable_now()-ie<Y)}function xe(){if(A=!1,$){var M=e.unstable_now();ie=M;var I=!0;try{e:{_=!1,j&&(j=!1,T(U),U=-1),q=!0;var W=N;try{t:{for(k(M),x=s(g);x!==null&&!(x.expirationTime>M&&Ne());){var ge=x.callback;if(typeof ge=="function"){x.callback=null,N=x.priorityLevel;var we=ge(x.expirationTime<=M);if(M=e.unstable_now(),typeof we=="function"){x.callback=we,k(M),I=!0;break t}x===s(g)&&l(g),k(M)}else l(g);x=s(g)}if(x!==null)I=!0;else{var w=s(p);w!==null&&Oe(O,w.startTime-M),I=!1}}break e}finally{x=null,N=W,q=!1}I=void 0}}finally{I?fe():$=!1}}}var fe;if(typeof J=="function")fe=function(){J(xe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Te=ve.port2;ve.port1.onmessage=xe,fe=function(){Te.postMessage(null)}}else fe=function(){B(xe,0)};function Oe(M,I){U=B(function(){M(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_next=function(M){switch(N){case 1:case 2:case 3:var I=3;break;default:I=N}var W=N;N=I;try{return M()}finally{N=W}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=N;N=M;try{return I()}finally{N=W}},e.unstable_scheduleCallback=function(M,I,W){var ge=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ge+W:ge):W=ge,M){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=W+we,M={id:v++,callback:I,priorityLevel:M,startTime:W,expirationTime:we,sortIndex:-1},W>ge?(M.sortIndex=W,a(p,M),s(g)===null&&M===s(p)&&(j?(T(U),U=-1):j=!0,Oe(O,W-ge))):(M.sortIndex=we,a(g,M),_||q||(_=!0,$||($=!0,fe()))),M},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(M){var I=N;return function(){var W=N;N=I;try{return M.apply(this,arguments)}finally{N=W}}}})(yf)),yf}var qy;function DN(){return qy||(qy=1,gf.exports=TN()),gf.exports}var bf={exports:{}},zn={};var Iy;function zN(){if(Iy)return zn;Iy=1;var e=_m();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:p,implementation:v}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,zn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(g,p,null,v)},zn.flushSync=function(g){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,g)return g()}finally{m.T=p,l.p=v,l.d.f()}},zn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},zn.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},zn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:q}):v==="script"&&l.d.X(g,{crossOrigin:x,integrity:N,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},zn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(g,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},zn.requestFormReset=function(g){l.d.r(g)},zn.unstable_batchedUpdates=function(g,p){return g(p)},zn.useFormState=function(g,p,v){return m.H.useFormState(g,p,v)},zn.useFormStatus=function(){return m.H.useHostTransitionStatus()},zn.version="19.2.0",zn}var Fy;function MN(){if(Fy)return bf.exports;Fy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),bf.exports=zN(),bf.exports}var $y;function kN(){if($y)return Ei;$y=1;var e=DN(),a=_m(),s=MN();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(l(188))}function p(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(l(188));return n!==t?null:t}for(var r=t,i=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return g(u),t;if(f===i)return g(u),n;f=f.sibling}throw Error(l(188))}if(r.return!==i.return)r=u,i=f;else{for(var y=!1,S=u.child;S;){if(S===r){y=!0,r=u,i=f;break}if(S===i){y=!0,i=u,r=f;break}S=S.sibling}if(!y){for(S=f.child;S;){if(S===r){y=!0,r=f,i=u;break}if(S===i){y=!0,i=f,r=u;break}S=S.sibling}if(!y)throw Error(l(189))}}if(r.alternate!==i)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),J=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Symbol.for("react.client.reference");function Te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case B:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case $:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case J:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case k:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:Te(t.type)||"Memo";case Y:n=t._payload,t=t._init;try{return Te(t(n))}catch{}}return null}var Oe=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ge=[],we=-1;function w(t){return{current:t}}function V(t){0>we||(t.current=ge[we],ge[we]=null,we--)}function oe(t,n){we++,ge[we]=t.current,t.current=n}var z=w(null),ce=w(null),he=w(null),Re=w(null);function qe(t,n){switch(oe(he,n),oe(ce,t),oe(z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ay(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ay(n),t=sy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(z),oe(z,t)}function me(){V(z),V(ce),V(he)}function ke(t){t.memoizedState!==null&&oe(Re,t);var n=z.current,r=sy(n,t.type);n!==r&&(oe(ce,t),oe(z,r))}function Fe(t){ce.current===t&&(V(z),V(ce)),Re.current===t&&(V(Re),Si._currentValue=W)}var _e,Me;function le(t){if(_e===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);_e=n&&n[1]||"",Me=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+t+Me}var De=!1;function de(t,n){if(!t||De)return"";De=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(re){var ee=re}Reflect.construct(t,[],be)}else{try{be.call()}catch(re){ee=re}t.call(be.prototype)}}else{try{throw Error()}catch(re){ee=re}(be=t())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),y=f[0],S=f[1];if(y&&S){var D=y.split(`
`),X=S.split(`
`);for(u=i=0;i<D.length&&!D[i].includes("DetermineComponentFrameRoot");)i++;for(;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;if(i===D.length||u===X.length)for(i=D.length-1,u=X.length-1;1<=i&&0<=u&&D[i]!==X[u];)u--;for(;1<=i&&0<=u;i--,u--)if(D[i]!==X[u]){if(i!==1||u!==1)do if(i--,u--,0>u||D[i]!==X[u]){var ue=`
`+D[i].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=i&&0<=u);break}}}finally{De=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?le(r):""}function $e(t,n){switch(t.tag){case 26:case 27:case 5:return le(t.type);case 16:return le("Lazy");case 13:return t.child!==n&&n!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return de(t.type,!1);case 11:return de(t.type.render,!1);case 1:return de(t.type,!0);case 31:return le("Activity");default:return""}}function Ae(t){try{var n="",r=null;do n+=$e(t,r),r=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Xe=Object.prototype.hasOwnProperty,C=e.unstable_scheduleCallback,Z=e.unstable_cancelCallback,R=e.unstable_shouldYield,Q=e.unstable_requestPaint,G=e.unstable_now,se=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,ne=e.unstable_NormalPriority,Ue=e.unstable_LowPriority,Ve=e.unstable_IdlePriority,it=e.log,Jt=e.unstable_setDisableYieldValue,je=null,Je=null;function Qt(t){if(typeof it=="function"&&Jt(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(je,t)}catch{}}var wt=Math.clz32?Math.clz32:Ya,jn=Math.log,Un=Math.LN2;function Ya(t){return t>>>=0,t===0?32:31-(jn(t)/Un|0)|0}var ra=256,st=262144,Ra=4194304;function ha(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ta(t,n,r){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=i&134217727;return S!==0?(i=S&~f,i!==0?u=ha(i):(y&=S,y!==0?u=ha(y):r||(r=S&~t,r!==0&&(u=ha(r))))):(S=i&~f,S!==0?u=ha(S):y!==0?u=ha(y):r||(r=i&~t,r!==0&&(u=ha(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function $n(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Hn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var t=Ra;return Ra<<=1,(Ra&62914560)===0&&(Ra=4194304),t}function te(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ee(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function He(t,n,r,i,u,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,X=t.hiddenUpdates;for(r=y&~r;0<r;){var ue=31-wt(r),be=1<<ue;S[ue]=0,D[ue]=-1;var ee=X[ue];if(ee!==null)for(X[ue]=null,ue=0;ue<ee.length;ue++){var re=ee[ue];re!==null&&(re.lane&=-536870913)}r&=~be}i!==0&&We(t,i,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function We(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-wt(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|r&261930}function ot(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var i=31-wt(r),u=1<<i;u&n|t[i]&n&&(t[i]|=n),r&=~u}}function Qe(t,n){var r=n&-n;return r=(r&42)!==0?1:Pt(r),(r&(t.suspendedLanes|n))!==0?0:r}function Pt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tt(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:Ay(t.type))}function bn(t,n){var r=I.p;try{return I.p=t,n()}finally{I.p=r}}var At=Math.random().toString(36).slice(2),ct="__reactFiber$"+At,yt="__reactProps$"+At,Ut="__reactContainer$"+At,mn="__reactEvents$"+At,En="__reactListeners$"+At,vn="__reactHandles$"+At,hn="__reactResources$"+At,It="__reactMarker$"+At;function Ln(t){delete t[ct],delete t[yt],delete t[mn],delete t[En],delete t[vn]}function an(t){var n=t[ct];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ut]||r[ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=dy(t);t!==null;){if(r=t[ct])return r;t=dy(t)}return n}t=r,r=t.parentNode}return null}function xn(t){if(t=t[ct]||t[Ut]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Dn(t){var n=t[hn];return n||(n=t[hn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[It]=!0}var Rr=new Set,Da={};function Sn(t,n){Zn(t,n),Zn(t+"Capture",n)}function Zn(t,n){for(Da[t]=n,t=0;t<n.length;t++)Rr.add(n[t])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tr={},Xa={};function Ps(t){return Xe.call(Xa,t)?!0:Xe.call(Tr,t)?!1:Ka.test(t)?Xa[t]=!0:(Tr[t]=!0,!1)}function Wt(t,n,r){if(Ps(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function za(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Gn(t,n,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+i)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function to(t,n,r){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ml(t){if(!t._valueTracker){var n=zl(t)?"checked":"value";t._valueTracker=to(t,n,""+t[n])}}function kl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return t&&(i=zl(t)?t.checked?"true":"false":t.value),t=i,t!==r?(n.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ul=/[\n"\\]/g;function Nn(t){return t.replace(Ul,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ll(t,n,r,i,u,f,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+sn(n)):t.value!==""+sn(n)&&(t.value=""+sn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ks(t,y,sn(n)):r!=null?Ks(t,y,sn(r)):i!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+sn(S):t.removeAttribute("name")}function Dr(t,n,r,i,u,f,y,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ml(t);return}r=r!=null?""+sn(r):"",n=n!=null?""+sn(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=S?t.checked:!!i,t.defaultChecked=!!i,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ml(t)}function Ks(t,n,r){n==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function gs(t,n,r,i){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&i&&(t[r].defaultSelected=!0)}else{for(r=""+sn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function no(t,n,r){if(n!=null&&(n=""+sn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+sn(r):""}function ao(t,n,r,i){if(n==null){if(i!=null){if(r!=null)throw Error(l(92));if(Oe(i)){if(1<i.length)throw Error(l(93));i=i[0]}r=i}r==null&&(r=""),n=r}r=sn(n),t.defaultValue=r,i=t.textContent,i===r&&i!==""&&i!==null&&(t.value=i),Ml(t)}function ys(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function so(t,n,r){var i=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,r):typeof r!="number"||r===0||du.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ro(t,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&r[u]!==i&&so(t,u,i)}else for(var f in n)n.hasOwnProperty(f)&&so(t,f,n[f])}function Bl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return mu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ma(){}var bs=null;function ql(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,xs=null;function lo(t){var n=xn(t);if(n&&(t=n.stateNode)){var r=t[yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ll(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==t&&i.form===t.form){var u=i[yt]||null;if(!u)throw Error(l(90));Ll(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)i=r[n],i.form===t.form&&kl(i)}break e;case"textarea":no(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&gs(t,!!r.multiple,n,!1)}}}var Il=!1;function io(t,n,r){if(Il)return t(n,r);Il=!0;try{var i=t(n);return i}finally{if(Il=!1,(vs!==null||xs!==null)&&(Zo(),vs&&(n=vs,t=xs,xs=vs=null,lo(n),t)))for(n=0;n<t.length;n++)lo(t[n])}}function Xs(t,n){var r=t.stateNode;if(r===null)return null;var i=r[yt]||null;if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(ka)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Js=!1}var $a=null,E=null,H=null;function pe(){if(H)return H;var t,n=E,r=n.length,i,u="value"in $a?$a.value:$a.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var y=r-t;for(i=1;i<=y&&n[r-i]===u[f-i];i++);return H=u.slice(t,1<i?1-i:void 0)}function ze(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function et(){return!0}function St(){return!1}function ut(t){function n(r,i,u,f,y){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?et:St,this.isPropagationStopped=St,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=et)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=et)},persist:function(){},isPersistent:et}),n}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qn=ut(rn),bt=x({},rn,{view:0,detail:0}),Mr=ut(bt),hu,pu,Fl,oo=x({},bt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fl&&(Fl&&t.type==="mousemove"?(hu=t.screenX-Fl.screenX,pu=t.screenY-Fl.screenY):pu=hu=0,Fl=t),hu)},movementY:function(t){return"movementY"in t?t.movementY:pu}}),lh=ut(oo),A0=x({},oo,{dataTransfer:0}),C0=ut(A0),O0=x({},bt,{relatedTarget:0}),gu=ut(O0),R0=x({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),T0=ut(R0),D0=x({},rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z0=ut(D0),M0=x({},rn,{data:0}),ih=ut(M0),k0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=L0[t])?!!n[t]:!1}function yu(){return B0}var q0=x({},bt,{key:function(t){if(t.key){var n=k0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ze(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?U0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(t){return t.type==="keypress"?ze(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ze(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I0=ut(q0),F0=x({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=ut(F0),$0=x({},bt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),H0=ut($0),V0=x({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=ut(V0),G0=x({},oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=ut(G0),P0=x({},rn,{newState:0,oldState:0}),Y0=ut(P0),K0=[9,13,27,32],bu=ka&&"CompositionEvent"in window,$l=null;ka&&"documentMode"in document&&($l=document.documentMode);var X0=ka&&"TextEvent"in window&&!$l,ch=ka&&(!bu||$l&&8<$l&&11>=$l),uh=" ",dh=!1;function fh(t,n){switch(t){case"keyup":return K0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function J0(t,n){switch(t){case"compositionend":return mh(n);case"keypress":return n.which!==32?null:(dh=!0,uh);case"textInput":return t=n.data,t===uh&&dh?null:t;default:return null}}function W0(t,n){if(kr)return t==="compositionend"||!bu&&fh(t,n)?(t=pe(),H=E=$a=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ch&&n.locale!=="ko"?null:n.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eS[t.type]:n==="textarea"}function ph(t,n,r,i){vs?xs?xs.push(i):xs=[i]:vs=i,n=Jo(n,"onChange"),0<n.length&&(r=new Qn("onChange","change",null,r,i),t.push({event:r,listeners:n}))}var Hl=null,Vl=null;function tS(t){Xg(t,0)}function co(t){var n=Vn(t);if(kl(n))return t}function gh(t,n){if(t==="change")return n}var yh=!1;if(ka){var vu;if(ka){var xu="oninput"in document;if(!xu){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),xu=typeof bh.oninput=="function"}vu=xu}else vu=!1;yh=vu&&(!document.documentMode||9<document.documentMode)}function vh(){Hl&&(Hl.detachEvent("onpropertychange",xh),Vl=Hl=null)}function xh(t){if(t.propertyName==="value"&&co(Vl)){var n=[];ph(n,Vl,t,ql(t)),io(tS,n)}}function nS(t,n,r){t==="focusin"?(vh(),Hl=n,Vl=r,Hl.attachEvent("onpropertychange",xh)):t==="focusout"&&vh()}function aS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return co(Vl)}function sS(t,n){if(t==="click")return co(n)}function rS(t,n){if(t==="input"||t==="change")return co(n)}function lS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var la=typeof Object.is=="function"?Object.is:lS;function Zl(t,n){if(la(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!Xe.call(n,u)||!la(t[u],n[u]))return!1}return!0}function Sh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nh(t,n){var r=Sh(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=n&&i>=n)return{node:r,offset:n-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sh(r)}}function wh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _h(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ys(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ys(t.document)}return n}function Su(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var iS=ka&&"documentMode"in document&&11>=document.documentMode,Ur=null,Nu=null,Gl=null,wu=!1;function jh(t,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wu||Ur==null||Ur!==Ys(i)||(i=Ur,"selectionStart"in i&&Su(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gl&&Zl(Gl,i)||(Gl=i,i=Jo(Nu,"onSelect"),0<i.length&&(n=new Qn("onSelect","select",null,n,r),t.push({event:n,listeners:i}),n.target=Ur)))}function er(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Lr={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},_u={},Eh={};ka&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function tr(t){if(_u[t])return _u[t];if(!Lr[t])return t;var n=Lr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Eh)return _u[t]=n[r];return t}var Ah=tr("animationend"),Ch=tr("animationiteration"),Oh=tr("animationstart"),oS=tr("transitionrun"),cS=tr("transitionstart"),uS=tr("transitioncancel"),Rh=tr("transitionend"),Th=new Map,ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ju.push("scrollEnd");function Ua(t,n){Th.set(t,n),Sn(n,[t])}var uo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pa=[],Br=0,Eu=0;function fo(){for(var t=Br,n=Eu=Br=0;n<t;){var r=pa[n];pa[n++]=null;var i=pa[n];pa[n++]=null;var u=pa[n];pa[n++]=null;var f=pa[n];if(pa[n++]=null,i!==null&&u!==null){var y=i.pending;y===null?u.next=u:(u.next=y.next,y.next=u),i.pending=u}f!==0&&Dh(r,u,f)}}function mo(t,n,r,i){pa[Br++]=t,pa[Br++]=n,pa[Br++]=r,pa[Br++]=i,Eu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Au(t,n,r,i){return mo(t,n,r,i),ho(t)}function nr(t,n){return mo(t,null,null,n),ho(t)}function Dh(t,n,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,i=f.alternate,i!==null&&(i.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-wt(r),t=f.hiddenUpdates,i=t[u],i===null?t[u]=[n]:i.push(n),n.lane=r|536870912),f):null}function ho(t){if(50<hi)throw hi=0,Ud=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qr={};function dS(t,n,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,n,r,i){return new dS(t,n,r,i)}function Cu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ja(t,n){var r=t.alternate;return r===null?(r=ia(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function po(t,n,r,i,u,f){var y=0;if(i=t,typeof t=="function")Cu(t)&&(y=1);else if(typeof t=="string")y=gN(t,r,z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=ia(31,r,n,u),t.elementType=ie,t.lanes=f,t;case j:return ar(r.children,u,f,n);case A:y=8,u|=24;break;case B:return t=ia(12,r,n,u|2),t.elementType=B,t.lanes=f,t;case O:return t=ia(13,r,n,u),t.elementType=O,t.lanes=f,t;case $:return t=ia(19,r,n,u),t.elementType=$,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:y=10;break e;case T:y=9;break e;case k:y=11;break e;case U:y=14;break e;case Y:y=16,i=null;break e}y=29,r=Error(l(130,t===null?"null":typeof t,"")),i=null}return n=ia(y,r,n,u),n.elementType=t,n.type=i,n.lanes=f,n}function ar(t,n,r,i){return t=ia(7,t,i,n),t.lanes=r,t}function Ou(t,n,r){return t=ia(6,t,null,n),t.lanes=r,t}function Mh(t){var n=ia(18,null,null,0);return n.stateNode=t,n}function Ru(t,n,r){return n=ia(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kh=new WeakMap;function ga(t,n){if(typeof t=="object"&&t!==null){var r=kh.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ae(n)},kh.set(t,n),n)}return{value:t,source:n,stack:Ae(n)}}var Ir=[],Fr=0,go=null,Ql=0,ya=[],ba=0,Ss=null,Ha=1,Va="";function Wa(t,n){Ir[Fr++]=Ql,Ir[Fr++]=go,go=t,Ql=n}function Uh(t,n,r){ya[ba++]=Ha,ya[ba++]=Va,ya[ba++]=Ss,Ss=t;var i=Ha;t=Va;var u=32-wt(i)-1;i&=~(1<<u),r+=1;var f=32-wt(n)+u;if(30<f){var y=u-u%5;f=(i&(1<<y)-1).toString(32),i>>=y,u-=y,Ha=1<<32-wt(n)+u|r<<u|i,Va=f+t}else Ha=1<<f|r<<u|i,Va=t}function Tu(t){t.return!==null&&(Wa(t,1),Uh(t,1,0))}function Du(t){for(;t===go;)go=Ir[--Fr],Ir[Fr]=null,Ql=Ir[--Fr],Ir[Fr]=null;for(;t===Ss;)Ss=ya[--ba],ya[ba]=null,Va=ya[--ba],ya[ba]=null,Ha=ya[--ba],ya[ba]=null}function Lh(t,n){ya[ba++]=Ha,ya[ba++]=Va,ya[ba++]=Ss,Ha=n.id,Va=n.overflow,Ss=t}var An=null,Lt=null,gt=!1,Ns=null,va=!1,zu=Error(l(519));function ws(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(ga(n,t)),zu}function Bh(t){var n=t.stateNode,r=t.type,i=t.memoizedProps;switch(n[ct]=t,n[yt]=i,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(r=0;r<gi.length;r++)mt(gi[r],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":mt("invalid",n),Dr(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":mt("invalid",n);break;case"textarea":mt("invalid",n),ao(n,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||i.suppressHydrationWarning===!0||ty(n.textContent,r)?(i.popover!=null&&(mt("beforetoggle",n),mt("toggle",n)),i.onScroll!=null&&mt("scroll",n),i.onScrollEnd!=null&&mt("scrollend",n),i.onClick!=null&&(n.onclick=Ma),n=!0):n=!1,n||ws(t,!0)}function qh(t){for(An=t.return;An;)switch(An.tag){case 5:case 31:case 13:va=!1;return;case 27:case 3:va=!0;return;default:An=An.return}}function $r(t){if(t!==An)return!1;if(!gt)return qh(t),gt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Xd(t.type,t.memoizedProps)),r=!r),r&&Lt&&ws(t),qh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Lt=uy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Lt=uy(t)}else n===27?(n=Lt,Ls(t.type)?(t=nf,nf=null,Lt=t):Lt=n):Lt=An?Sa(t.stateNode.nextSibling):null;return!0}function sr(){Lt=An=null,gt=!1}function Mu(){var t=Ns;return t!==null&&(Xn===null?Xn=t:Xn.push.apply(Xn,t),Ns=null),t}function Pl(t){Ns===null?Ns=[t]:Ns.push(t)}var ku=w(null),rr=null,es=null;function _s(t,n,r){oe(ku,n._currentValue),n._currentValue=r}function ts(t){t._currentValue=ku.current,V(ku)}function Uu(t,n,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===r)break;t=t.return}}function Lu(t,n,r,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=u;for(var D=0;D<n.length;D++)if(S.context===n[D]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Uu(f.return,r,t),i||(y=null);break e}f=S.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Uu(y,r,t),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===t){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Hr(t,n,r,i){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var S=u.type;la(u.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(u===Re.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Si):t=[Si])}u=u.return}t!==null&&Lu(n,t,r,i),n.flags|=262144}function yo(t){for(t=t.firstContext;t!==null;){if(!la(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){rr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Cn(t){return Ih(rr,t)}function bo(t,n){return rr===null&&lr(t),Ih(t,n)}function Ih(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},es===null){if(t===null)throw Error(l(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return r}var fS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},mS=e.unstable_scheduleCallback,hS=e.unstable_NormalPriority,ln={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bu(){return{controller:new fS,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&mS(hS,function(){t.controller.abort()})}var Kl=null,qu=0,Vr=0,Zr=null;function pS(t,n){if(Kl===null){var r=Kl=[];qu=0,Vr=$d(),Zr={status:"pending",value:void 0,then:function(i){r.push(i)}}}return qu++,n.then(Fh,Fh),n}function Fh(){if(--qu===0&&Kl!==null){Zr!==null&&(Zr.status="fulfilled");var t=Kl;Kl=null,Vr=0,Zr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function gS(t,n){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var $h=M.S;M.S=function(t,n){jg=G(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pS(t,n),$h!==null&&$h(t,n)};var ir=w(null);function Iu(){var t=ir.current;return t!==null?t:zt.pooledCache}function vo(t,n){n===null?oe(ir,ir.current):oe(ir,n.pool)}function Hh(){var t=Iu();return t===null?null:{parent:ln._currentValue,pool:t}}var Gr=Error(l(460)),Fu=Error(l(474)),xo=Error(l(542)),So={then:function(){}};function Vh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zh(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ma,Ma),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qh(t),t;default:if(typeof n.status=="string")n.then(Ma,Ma);else{if(t=zt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qh(t),t}throw cr=n,Gr}}function or(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(cr=r,Gr):r}}var cr=null;function Gh(){if(cr===null)throw Error(l(459));var t=cr;return cr=null,t}function Qh(t){if(t===Gr||t===xo)throw Error(l(483))}var Qr=null,Xl=0;function No(t){var n=Xl;return Xl+=1,Qr===null&&(Qr=[]),Zh(Qr,t,n)}function Jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function wo(t,n){throw n.$$typeof===N?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ph(t){function n(F,L){if(t){var K=F.deletions;K===null?(F.deletions=[L],F.flags|=16):K.push(L)}}function r(F,L){if(!t)return null;for(;L!==null;)n(F,L),L=L.sibling;return null}function i(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function u(F,L){return F=Ja(F,L),F.index=0,F.sibling=null,F}function f(F,L,K){return F.index=K,t?(K=F.alternate,K!==null?(K=K.index,K<L?(F.flags|=67108866,L):K):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function y(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function S(F,L,K,ye){return L===null||L.tag!==6?(L=Ou(K,F.mode,ye),L.return=F,L):(L=u(L,K),L.return=F,L)}function D(F,L,K,ye){var Pe=K.type;return Pe===j?ue(F,L,K.props.children,ye,K.key):L!==null&&(L.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Y&&or(Pe)===L.type)?(L=u(L,K.props),Jl(L,K),L.return=F,L):(L=po(K.type,K.key,K.props,null,F.mode,ye),Jl(L,K),L.return=F,L)}function X(F,L,K,ye){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=Ru(K,F.mode,ye),L.return=F,L):(L=u(L,K.children||[]),L.return=F,L)}function ue(F,L,K,ye,Pe){return L===null||L.tag!==7?(L=ar(K,F.mode,ye,Pe),L.return=F,L):(L=u(L,K),L.return=F,L)}function be(F,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ou(""+L,F.mode,K),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return K=po(L.type,L.key,L.props,null,F.mode,K),Jl(K,L),K.return=F,K;case _:return L=Ru(L,F.mode,K),L.return=F,L;case Y:return L=or(L),be(F,L,K)}if(Oe(L)||fe(L))return L=ar(L,F.mode,K,null),L.return=F,L;if(typeof L.then=="function")return be(F,No(L),K);if(L.$$typeof===J)return be(F,bo(F,L),K);wo(F,L)}return null}function ee(F,L,K,ye){var Pe=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Pe!==null?null:S(F,L,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return K.key===Pe?D(F,L,K,ye):null;case _:return K.key===Pe?X(F,L,K,ye):null;case Y:return K=or(K),ee(F,L,K,ye)}if(Oe(K)||fe(K))return Pe!==null?null:ue(F,L,K,ye,null);if(typeof K.then=="function")return ee(F,L,No(K),ye);if(K.$$typeof===J)return ee(F,L,bo(F,K),ye);wo(F,K)}return null}function re(F,L,K,ye,Pe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return F=F.get(K)||null,S(L,F,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case q:return F=F.get(ye.key===null?K:ye.key)||null,D(L,F,ye,Pe);case _:return F=F.get(ye.key===null?K:ye.key)||null,X(L,F,ye,Pe);case Y:return ye=or(ye),re(F,L,K,ye,Pe)}if(Oe(ye)||fe(ye))return F=F.get(K)||null,ue(L,F,ye,Pe,null);if(typeof ye.then=="function")return re(F,L,K,No(ye),Pe);if(ye.$$typeof===J)return re(F,L,K,bo(L,ye),Pe);wo(L,ye)}return null}function Ie(F,L,K,ye){for(var Pe=null,vt=null,Ze=L,rt=L=0,pt=null;Ze!==null&&rt<K.length;rt++){Ze.index>rt?(pt=Ze,Ze=null):pt=Ze.sibling;var xt=ee(F,Ze,K[rt],ye);if(xt===null){Ze===null&&(Ze=pt);break}t&&Ze&&xt.alternate===null&&n(F,Ze),L=f(xt,L,rt),vt===null?Pe=xt:vt.sibling=xt,vt=xt,Ze=pt}if(rt===K.length)return r(F,Ze),gt&&Wa(F,rt),Pe;if(Ze===null){for(;rt<K.length;rt++)Ze=be(F,K[rt],ye),Ze!==null&&(L=f(Ze,L,rt),vt===null?Pe=Ze:vt.sibling=Ze,vt=Ze);return gt&&Wa(F,rt),Pe}for(Ze=i(Ze);rt<K.length;rt++)pt=re(Ze,F,rt,K[rt],ye),pt!==null&&(t&&pt.alternate!==null&&Ze.delete(pt.key===null?rt:pt.key),L=f(pt,L,rt),vt===null?Pe=pt:vt.sibling=pt,vt=pt);return t&&Ze.forEach(function($s){return n(F,$s)}),gt&&Wa(F,rt),Pe}function Ke(F,L,K,ye){if(K==null)throw Error(l(151));for(var Pe=null,vt=null,Ze=L,rt=L=0,pt=null,xt=K.next();Ze!==null&&!xt.done;rt++,xt=K.next()){Ze.index>rt?(pt=Ze,Ze=null):pt=Ze.sibling;var $s=ee(F,Ze,xt.value,ye);if($s===null){Ze===null&&(Ze=pt);break}t&&Ze&&$s.alternate===null&&n(F,Ze),L=f($s,L,rt),vt===null?Pe=$s:vt.sibling=$s,vt=$s,Ze=pt}if(xt.done)return r(F,Ze),gt&&Wa(F,rt),Pe;if(Ze===null){for(;!xt.done;rt++,xt=K.next())xt=be(F,xt.value,ye),xt!==null&&(L=f(xt,L,rt),vt===null?Pe=xt:vt.sibling=xt,vt=xt);return gt&&Wa(F,rt),Pe}for(Ze=i(Ze);!xt.done;rt++,xt=K.next())xt=re(Ze,F,rt,xt.value,ye),xt!==null&&(t&&xt.alternate!==null&&Ze.delete(xt.key===null?rt:xt.key),L=f(xt,L,rt),vt===null?Pe=xt:vt.sibling=xt,vt=xt);return t&&Ze.forEach(function(AN){return n(F,AN)}),gt&&Wa(F,rt),Pe}function Rt(F,L,K,ye){if(typeof K=="object"&&K!==null&&K.type===j&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case q:e:{for(var Pe=K.key;L!==null;){if(L.key===Pe){if(Pe=K.type,Pe===j){if(L.tag===7){r(F,L.sibling),ye=u(L,K.props.children),ye.return=F,F=ye;break e}}else if(L.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Y&&or(Pe)===L.type){r(F,L.sibling),ye=u(L,K.props),Jl(ye,K),ye.return=F,F=ye;break e}r(F,L);break}else n(F,L);L=L.sibling}K.type===j?(ye=ar(K.props.children,F.mode,ye,K.key),ye.return=F,F=ye):(ye=po(K.type,K.key,K.props,null,F.mode,ye),Jl(ye,K),ye.return=F,F=ye)}return y(F);case _:e:{for(Pe=K.key;L!==null;){if(L.key===Pe)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){r(F,L.sibling),ye=u(L,K.children||[]),ye.return=F,F=ye;break e}else{r(F,L);break}else n(F,L);L=L.sibling}ye=Ru(K,F.mode,ye),ye.return=F,F=ye}return y(F);case Y:return K=or(K),Rt(F,L,K,ye)}if(Oe(K))return Ie(F,L,K,ye);if(fe(K)){if(Pe=fe(K),typeof Pe!="function")throw Error(l(150));return K=Pe.call(K),Ke(F,L,K,ye)}if(typeof K.then=="function")return Rt(F,L,No(K),ye);if(K.$$typeof===J)return Rt(F,L,bo(F,K),ye);wo(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(r(F,L.sibling),ye=u(L,K),ye.return=F,F=ye):(r(F,L),ye=Ou(K,F.mode,ye),ye.return=F,F=ye),y(F)):r(F,L)}return function(F,L,K,ye){try{Xl=0;var Pe=Rt(F,L,K,ye);return Qr=null,Pe}catch(Ze){if(Ze===Gr||Ze===xo)throw Ze;var vt=ia(29,Ze,null,F.mode);return vt.lanes=ye,vt.return=F,vt}finally{}}}var ur=Ph(!0),Yh=Ph(!1),js=!1;function $u(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function As(t,n,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Nt&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=ho(t),Dh(t,null,r),n}return mo(t,i,n,r),ho(t)}function Wl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,ot(t,r)}}function Vu(t,n){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Zu=!1;function ei(){if(Zu){var t=Zr;if(t!==null)throw t}}function ti(t,n,r,i){Zu=!1;var u=t.updateQueue;js=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var D=S,X=D.next;D.next=null,y===null?f=X:y.next=X,y=D;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,S=ue.lastBaseUpdate,S!==y&&(S===null?ue.firstBaseUpdate=X:S.next=X,ue.lastBaseUpdate=D))}if(f!==null){var be=u.baseState;y=0,ue=X=D=null,S=f;do{var ee=S.lane&-536870913,re=ee!==S.lane;if(re?(ht&ee)===ee:(i&ee)===ee){ee!==0&&ee===Vr&&(Zu=!0),ue!==null&&(ue=ue.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ie=t,Ke=S;ee=n;var Rt=r;switch(Ke.tag){case 1:if(Ie=Ke.payload,typeof Ie=="function"){be=Ie.call(Rt,be,ee);break e}be=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ke.payload,ee=typeof Ie=="function"?Ie.call(Rt,be,ee):Ie,ee==null)break e;be=x({},be,ee);break e;case 2:js=!0}}ee=S.callback,ee!==null&&(t.flags|=64,re&&(t.flags|=8192),re=u.callbacks,re===null?u.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ue===null?(X=ue=re,D=be):ue=ue.next=re,y|=ee;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;re=S,S=re.next,re.next=null,u.lastBaseUpdate=re,u.shared.pending=null}}while(!0);ue===null&&(D=be),u.baseState=D,u.firstBaseUpdate=X,u.lastBaseUpdate=ue,f===null&&(u.shared.lanes=0),Ds|=y,t.lanes=y,t.memoizedState=be}}function Kh(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Xh(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Kh(r[t],n)}var Pr=w(null),_o=w(0);function Jh(t,n){t=us,oe(_o,t),oe(Pr,n),us=t|n.baseLanes}function Gu(){oe(_o,us),oe(Pr,Pr.current)}function Qu(){us=_o.current,V(Pr),V(_o)}var oa=w(null),xa=null;function Cs(t){var n=t.alternate;oe(en,en.current&1),oe(oa,t),xa===null&&(n===null||Pr.current!==null||n.memoizedState!==null)&&(xa=t)}function Pu(t){oe(en,en.current),oe(oa,t),xa===null&&(xa=t)}function Wh(t){t.tag===22?(oe(en,en.current),oe(oa,t),xa===null&&(xa=t)):Os()}function Os(){oe(en,en.current),oe(oa,oa.current)}function ca(t){V(oa),xa===t&&(xa=null),V(en)}var en=w(0);function jo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ef(r)||tf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,nt=null,Ct=null,on=null,Eo=!1,Yr=!1,dr=!1,Ao=0,ni=0,Kr=null,yS=0;function Yt(){throw Error(l(321))}function Yu(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!la(t[r],n[r]))return!1;return!0}function Ku(t,n,r,i,u,f){return ns=f,nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Up:dd,dr=!1,f=r(i,u),dr=!1,Yr&&(f=tp(n,r,i,u)),ep(t),f}function ep(t){M.H=ri;var n=Ct!==null&&Ct.next!==null;if(ns=0,on=Ct=nt=null,Eo=!1,ni=0,Kr=null,n)throw Error(l(300));t===null||cn||(t=t.dependencies,t!==null&&yo(t)&&(cn=!0))}function tp(t,n,r,i){nt=t;var u=0;do{if(Yr&&(Kr=null),ni=0,Yr=!1,25<=u)throw Error(l(301));if(u+=1,on=Ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Lp,f=n(r,i)}while(Yr);return f}function bS(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?ai(n):n,t=t.useState()[0],(Ct!==null?Ct.memoizedState:null)!==t&&(nt.flags|=1024),n}function Xu(){var t=Ao!==0;return Ao=0,t}function Ju(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Wu(t){if(Eo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Eo=!1}ns=0,on=Ct=nt=null,Yr=!1,ni=Ao=0,Kr=null}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?nt.memoizedState=on=t:on=on.next=t,on}function tn(){if(Ct===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var n=on===null?nt.memoizedState:on.next;if(n!==null)on=n,Ct=t;else{if(t===null)throw nt.alternate===null?Error(l(467)):Error(l(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},on===null?nt.memoizedState=on=t:on=on.next=t}return on}function Co(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ai(t){var n=ni;return ni+=1,Kr===null&&(Kr=[]),t=Zh(Kr,t,n),n=nt,(on===null?n.memoizedState:on.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Up:dd),t}function Oo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ai(t);if(t.$$typeof===J)return Cn(t)}throw Error(l(438,String(t)))}function ed(t){var n=null,r=nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=nt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Co(),nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),i=0;i<t;i++)r[i]=Ne;return n.index++,r}function as(t,n){return typeof n=="function"?n(t):n}function Ro(t){var n=tn();return td(n,Ct,t)}function td(t,n,r){var i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=r;var u=t.baseQueue,f=i.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}n.baseQueue=u=f,i.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var S=y=null,D=null,X=n,ue=!1;do{var be=X.lane&-536870913;if(be!==X.lane?(ht&be)===be:(ns&be)===be){var ee=X.revertLane;if(ee===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),be===Vr&&(ue=!0);else if((ns&ee)===ee){X=X.next,ee===Vr&&(ue=!0);continue}else be={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},D===null?(S=D=be,y=f):D=D.next=be,nt.lanes|=ee,Ds|=ee;be=X.action,dr&&r(f,be),f=X.hasEagerState?X.eagerState:r(f,be)}else ee={lane:be,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},D===null?(S=D=ee,y=f):D=D.next=ee,nt.lanes|=be,Ds|=be;X=X.next}while(X!==null&&X!==n);if(D===null?y=f:D.next=S,!la(f,t.memoizedState)&&(cn=!0,ue&&(r=Zr,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=D,i.lastRenderedState=f}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function nd(t){var n=tn(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=t;var i=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=t(f,y.action),y=y.next;while(y!==u);la(f,n.memoizedState)||(cn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,i]}function np(t,n,r){var i=nt,u=tn(),f=gt;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=n();var y=!la((Ct||u).memoizedState,r);if(y&&(u.memoizedState=r,cn=!0),u=u.queue,rd(rp.bind(null,i,u,t),[t]),u.getSnapshot!==n||y||on!==null&&on.memoizedState.tag&1){if(i.flags|=2048,Xr(9,{destroy:void 0},sp.bind(null,i,u,r,n),null),zt===null)throw Error(l(349));f||(ns&127)!==0||ap(i,n,r)}return r}function ap(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=nt.updateQueue,n===null?(n=Co(),nt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function sp(t,n,r,i){n.value=r,n.getSnapshot=i,lp(n)&&ip(t)}function rp(t,n,r){return r(function(){lp(n)&&ip(t)})}function lp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!la(t,r)}catch{return!0}}function ip(t){var n=nr(t,2);n!==null&&Jn(n,t,2)}function ad(t){var n=Bn();if(typeof t=="function"){var r=t;if(t=r(),dr){Qt(!0);try{r()}finally{Qt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function op(t,n,r,i){return t.baseState=r,td(t,Ct,typeof i=="function"?i:as)}function vS(t,n,r,i,u){if(zo(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};M.T!==null?r(!0):f.isTransition=!1,i(f),r=n.pending,r===null?(f.next=n.pending=f,cp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function cp(t,n){var r=n.action,i=n.payload,u=t.state;if(n.isTransition){var f=M.T,y={};M.T=y;try{var S=r(u,i),D=M.S;D!==null&&D(y,S),up(t,n,S)}catch(X){sd(t,n,X)}finally{f!==null&&y.types!==null&&(f.types=y.types),M.T=f}}else try{f=r(u,i),up(t,n,f)}catch(X){sd(t,n,X)}}function up(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){dp(t,n,i)},function(i){return sd(t,n,i)}):dp(t,n,r)}function dp(t,n,r){n.status="fulfilled",n.value=r,fp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,cp(t,r)))}function sd(t,n,r){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,fp(n),n=n.next;while(n!==i)}t.action=null}function fp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function mp(t,n){return n}function hp(t,n){if(gt){var r=zt.formState;if(r!==null){e:{var i=nt;if(gt){if(Lt){t:{for(var u=Lt,f=va;u.nodeType!==8;){if(!f){u=null;break t}if(u=Sa(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Lt=Sa(u.nextSibling),i=u.data==="F!";break e}}ws(i)}i=!1}i&&(n=r[0])}}return r=Bn(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:n},r.queue=i,r=zp.bind(null,nt,i),i.dispatch=r,i=ad(!1),f=ud.bind(null,nt,!1,i.queue),i=Bn(),u={state:n,dispatch:null,action:t,pending:null},i.queue=u,r=vS.bind(null,nt,u,f,r),u.dispatch=r,i.memoizedState=t,[n,r,!1]}function pp(t){var n=tn();return gp(n,Ct,t)}function gp(t,n,r){if(n=td(t,n,mp)[0],t=Ro(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=ai(n)}catch(y){throw y===Gr?xo:y}else i=n;n=tn();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(nt.flags|=2048,Xr(9,{destroy:void 0},xS.bind(null,u,r),null)),[i,f,t]}function xS(t,n){t.action=n}function yp(t){var n=tn(),r=Ct;if(r!==null)return gp(n,r,t);tn(),n=n.memoizedState,r=tn();var i=r.queue.dispatch;return r.memoizedState=t,[n,i,!1]}function Xr(t,n,r,i){return t={tag:t,create:r,deps:i,inst:n,next:null},n=nt.updateQueue,n===null&&(n=Co(),nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,n.lastEffect=t),t}function bp(){return tn().memoizedState}function To(t,n,r,i){var u=Bn();nt.flags|=t,u.memoizedState=Xr(1|n,{destroy:void 0},r,i===void 0?null:i)}function Do(t,n,r,i){var u=tn();i=i===void 0?null:i;var f=u.memoizedState.inst;Ct!==null&&i!==null&&Yu(i,Ct.memoizedState.deps)?u.memoizedState=Xr(n,f,r,i):(nt.flags|=t,u.memoizedState=Xr(1|n,f,r,i))}function vp(t,n){To(8390656,8,t,n)}function rd(t,n){Do(2048,8,t,n)}function SS(t){nt.flags|=4;var n=nt.updateQueue;if(n===null)n=Co(),nt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function xp(t){var n=tn().memoizedState;return SS({ref:n,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Sp(t,n){return Do(4,2,t,n)}function Np(t,n){return Do(4,4,t,n)}function wp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _p(t,n,r){r=r!=null?r.concat([t]):null,Do(4,4,wp.bind(null,n,t),r)}function ld(){}function jp(t,n){var r=tn();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&Yu(n,i[1])?i[0]:(r.memoizedState=[t,n],t)}function Ep(t,n){var r=tn();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&Yu(n,i[1]))return i[0];if(i=t(),dr){Qt(!0);try{t()}finally{Qt(!1)}}return r.memoizedState=[i,n],i}function id(t,n,r){return r===void 0||(ns&1073741824)!==0&&(ht&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ag(),nt.lanes|=t,Ds|=t,r)}function Ap(t,n,r,i){return la(r,n)?r:Pr.current!==null?(t=id(t,r,i),la(t,n)||(cn=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(ht&261930)===0?(cn=!0,t.memoizedState=r):(t=Ag(),nt.lanes|=t,Ds|=t,n)}function Cp(t,n,r,i,u){var f=I.p;I.p=f!==0&&8>f?f:8;var y=M.T,S={};M.T=S,ud(t,!1,n,r);try{var D=u(),X=M.S;if(X!==null&&X(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ue=gS(D,i);si(t,n,ue,fa(t))}else si(t,n,i,fa(t))}catch(be){si(t,n,{then:function(){},status:"rejected",reason:be},fa())}finally{I.p=f,y!==null&&S.types!==null&&(y.types=S.types),M.T=y}}function NS(){}function od(t,n,r,i){if(t.tag!==5)throw Error(l(476));var u=Op(t).queue;Cp(t,u,n,W,r===null?NS:function(){return Rp(t),r(i)})}function Op(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:W},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Rp(t){var n=Op(t);n.next===null&&(n=t.alternate.memoizedState),si(t,n.next.queue,{},fa())}function cd(){return Cn(Si)}function Tp(){return tn().memoizedState}function Dp(){return tn().memoizedState}function wS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fa();t=Es(r);var i=As(n,t,r);i!==null&&(Jn(i,n,r),Wl(i,n,r)),n={cache:Bu()},t.payload=n;return}n=n.return}}function _S(t,n,r){var i=fa();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},zo(t)?Mp(n,r):(r=Au(t,n,r,i),r!==null&&(Jn(r,t,i),kp(r,n,i)))}function zp(t,n,r){var i=fa();si(t,n,r,i)}function si(t,n,r,i){var u={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(zo(t))Mp(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,S=f(y,r);if(u.hasEagerState=!0,u.eagerState=S,la(S,y))return mo(t,n,u,0),zt===null&&fo(),!1}catch{}finally{}if(r=Au(t,n,u,i),r!==null)return Jn(r,t,i),kp(r,n,i),!0}return!1}function ud(t,n,r,i){if(i={lane:2,revertLane:$d(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},zo(t)){if(n)throw Error(l(479))}else n=Au(t,r,i,2),n!==null&&Jn(n,t,2)}function zo(t){var n=t.alternate;return t===nt||n!==null&&n===nt}function Mp(t,n){Yr=Eo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function kp(t,n,r){if((r&4194048)!==0){var i=n.lanes;i&=t.pendingLanes,r|=i,n.lanes=r,ot(t,r)}}var ri={readContext:Cn,use:Oo,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};ri.useEffectEvent=Yt;var Up={readContext:Cn,use:Oo,useCallback:function(t,n){return Bn().memoizedState=[t,n===void 0?null:n],t},useContext:Cn,useEffect:vp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,To(4194308,4,wp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return To(4194308,4,t,n)},useInsertionEffect:function(t,n){To(4,2,t,n)},useMemo:function(t,n){var r=Bn();n=n===void 0?null:n;var i=t();if(dr){Qt(!0);try{t()}finally{Qt(!1)}}return r.memoizedState=[i,n],i},useReducer:function(t,n,r){var i=Bn();if(r!==void 0){var u=r(n);if(dr){Qt(!0);try{r(n)}finally{Qt(!1)}}}else u=n;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=_S.bind(null,nt,t),[i.memoizedState,t]},useRef:function(t){var n=Bn();return t={current:t},n.memoizedState=t},useState:function(t){t=ad(t);var n=t.queue,r=zp.bind(null,nt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ld,useDeferredValue:function(t,n){var r=Bn();return id(r,t,n)},useTransition:function(){var t=ad(!1);return t=Cp.bind(null,nt,t.queue,!0,!1),Bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var i=nt,u=Bn();if(gt){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),zt===null)throw Error(l(349));(ht&127)!==0||ap(i,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,vp(rp.bind(null,i,f,t),[t]),i.flags|=2048,Xr(9,{destroy:void 0},sp.bind(null,i,f,r,n),null),r},useId:function(){var t=Bn(),n=zt.identifierPrefix;if(gt){var r=Va,i=Ha;r=(i&~(1<<32-wt(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ao++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=yS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:cd,useFormState:hp,useActionState:hp,useOptimistic:function(t){var n=Bn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ud.bind(null,nt,!0,r),r.dispatch=n,[t,n]},useMemoCache:ed,useCacheRefresh:function(){return Bn().memoizedState=wS.bind(null,nt)},useEffectEvent:function(t){var n=Bn(),r={impl:t};return n.memoizedState=r,function(){if((Nt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},dd={readContext:Cn,use:Oo,useCallback:jp,useContext:Cn,useEffect:rd,useImperativeHandle:_p,useInsertionEffect:Sp,useLayoutEffect:Np,useMemo:Ep,useReducer:Ro,useRef:bp,useState:function(){return Ro(as)},useDebugValue:ld,useDeferredValue:function(t,n){var r=tn();return Ap(r,Ct.memoizedState,t,n)},useTransition:function(){var t=Ro(as)[0],n=tn().memoizedState;return[typeof t=="boolean"?t:ai(t),n]},useSyncExternalStore:np,useId:Tp,useHostTransitionStatus:cd,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var r=tn();return op(r,Ct,t,n)},useMemoCache:ed,useCacheRefresh:Dp};dd.useEffectEvent=xp;var Lp={readContext:Cn,use:Oo,useCallback:jp,useContext:Cn,useEffect:rd,useImperativeHandle:_p,useInsertionEffect:Sp,useLayoutEffect:Np,useMemo:Ep,useReducer:nd,useRef:bp,useState:function(){return nd(as)},useDebugValue:ld,useDeferredValue:function(t,n){var r=tn();return Ct===null?id(r,t,n):Ap(r,Ct.memoizedState,t,n)},useTransition:function(){var t=nd(as)[0],n=tn().memoizedState;return[typeof t=="boolean"?t:ai(t),n]},useSyncExternalStore:np,useId:Tp,useHostTransitionStatus:cd,useFormState:yp,useActionState:yp,useOptimistic:function(t,n){var r=tn();return Ct!==null?op(r,Ct,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Dp};Lp.useEffectEvent=xp;function fd(t,n,r,i){n=t.memoizedState,r=r(i,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var md={enqueueSetState:function(t,n,r){t=t._reactInternals;var i=fa(),u=Es(i);u.payload=n,r!=null&&(u.callback=r),n=As(t,u,i),n!==null&&(Jn(n,t,i),Wl(n,t,i))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var i=fa(),u=Es(i);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=As(t,u,i),n!==null&&(Jn(n,t,i),Wl(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fa(),i=Es(r);i.tag=2,n!=null&&(i.callback=n),n=As(t,i,r),n!==null&&(Jn(n,t,r),Wl(n,t,r))}};function Bp(t,n,r,i,u,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,f,y):n.prototype&&n.prototype.isPureReactComponent?!Zl(r,i)||!Zl(u,f):!0}function qp(t,n,r,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==t&&md.enqueueReplaceState(n,n.state,null)}function fr(t,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function Ip(t){uo(t)}function Fp(t){console.error(t)}function $p(t){uo(t)}function Mo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Hp(t,n,r){try{var i=t.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function hd(t,n,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){Mo(t,n)},r}function Vp(t){return t=Es(t),t.tag=3,t}function Zp(t,n,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;t.payload=function(){return u(f)},t.callback=function(){Hp(n,r,i)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Hp(n,r,i),typeof u!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function jS(t,n,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&Hr(n,r,u,!0),r=oa.current,r!==null){switch(r.tag){case 31:case 13:return xa===null?Go():r.alternate===null&&Kt===0&&(Kt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===So?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),qd(t,i,u)),!1;case 22:return r.flags|=65536,i===So?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),qd(t,i,u)),!1}throw Error(l(435,r.tag))}return qd(t,i,u),Go(),!1}if(gt)return n=oa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==zu&&(t=Error(l(422),{cause:i}),Pl(ga(t,r)))):(i!==zu&&(n=Error(l(423),{cause:i}),Pl(ga(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=ga(i,r),u=hd(t.stateNode,i,u),Vu(t,u),Kt!==4&&(Kt=2)),!1;var f=Error(l(520),{cause:i});if(f=ga(f,r),mi===null?mi=[f]:mi.push(f),Kt!==4&&(Kt=2),n===null)return!0;i=ga(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=hd(r.stateNode,i,t),Vu(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Vp(u),Zp(u,t,r,i),Vu(r,u),!1}r=r.return}while(r!==null);return!1}var pd=Error(l(461)),cn=!1;function On(t,n,r,i){n.child=t===null?Yh(n,null,r,i):ur(n,t.child,r,i)}function Gp(t,n,r,i,u){r=r.render;var f=n.ref;if("ref"in i){var y={};for(var S in i)S!=="ref"&&(y[S]=i[S])}else y=i;return lr(n),i=Ku(t,n,r,y,f,u),S=Xu(),t!==null&&!cn?(Ju(t,n,u),ss(t,n,u)):(gt&&S&&Tu(n),n.flags|=1,On(t,n,i,u),n.child)}function Qp(t,n,r,i,u){if(t===null){var f=r.type;return typeof f=="function"&&!Cu(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Pp(t,n,f,i,u)):(t=po(r.type,null,i,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!wd(t,u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(y,i)&&t.ref===n.ref)return ss(t,n,u)}return n.flags|=1,t=Ja(f,i),t.ref=n.ref,t.return=n,n.child=t}function Pp(t,n,r,i,u){if(t!==null){var f=t.memoizedProps;if(Zl(f,i)&&t.ref===n.ref)if(cn=!1,n.pendingProps=i=f,wd(t,u))(t.flags&131072)!==0&&(cn=!0);else return n.lanes=t.lanes,ss(t,n,u)}return gd(t,n,r,i,u)}function Yp(t,n,r,i){var u=i.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(i=n.child=t.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return Kp(t,n,f,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vo(n,f!==null?f.cachePool:null),f!==null?Jh(n,f):Gu(),Wh(n);else return i=n.lanes=536870912,Kp(t,n,f!==null?f.baseLanes|r:r,r,i)}else f!==null?(vo(n,f.cachePool),Jh(n,f),Os(),n.memoizedState=null):(t!==null&&vo(n,null),Gu(),Os());return On(t,n,u,r),n.child}function li(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(t,n,r,i,u){var f=Iu();return f=f===null?null:{parent:ln._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&vo(n,null),Gu(),Wh(n),t!==null&&Hr(t,n,i,!0),n.childLanes=u,null}function ko(t,n){return n=Lo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Xp(t,n,r){return ur(n,t.child,null,r),t=ko(n,n.pendingProps),t.flags|=2,ca(n),n.memoizedState=null,t}function ES(t,n,r){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(gt){if(i.mode==="hidden")return t=ko(n,i),n.lanes=536870912,li(null,t);if(Pu(n),(t=Lt)?(t=cy(t,va),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Ha,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},r=Mh(t),r.return=n,n.child=r,An=n,Lt=null)):t=null,t===null)throw ws(n);return n.lanes=536870912,null}return ko(n,i)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Pu(n),u)if(n.flags&256)n.flags&=-257,n=Xp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(cn||Hr(t,n,r,!1),u=(r&t.childLanes)!==0,cn||u){if(i=zt,i!==null&&(y=Qe(i,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,nr(t,y),Jn(i,t,y),pd;Go(),n=Xp(t,n,r)}else t=f.treeContext,Lt=Sa(y.nextSibling),An=n,gt=!0,Ns=null,va=!1,t!==null&&Lh(n,t),n=ko(n,i),n.flags|=4096;return n}return t=Ja(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Uo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function gd(t,n,r,i,u){return lr(n),r=Ku(t,n,r,i,void 0,u),i=Xu(),t!==null&&!cn?(Ju(t,n,u),ss(t,n,u)):(gt&&i&&Tu(n),n.flags|=1,On(t,n,r,u),n.child)}function Jp(t,n,r,i,u,f){return lr(n),n.updateQueue=null,r=tp(n,i,r,u),ep(t),i=Xu(),t!==null&&!cn?(Ju(t,n,f),ss(t,n,f)):(gt&&i&&Tu(n),n.flags|=1,On(t,n,r,f),n.child)}function Wp(t,n,r,i,u){if(lr(n),n.stateNode===null){var f=qr,y=r.contextType;typeof y=="object"&&y!==null&&(f=Cn(y)),f=new r(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=md,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},$u(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Cn(y):qr,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(fd(n,r,y,i),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&md.enqueueReplaceState(f,f.state,null),ti(n,i,f,u),ei(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,D=fr(r,S);f.props=D;var X=f.context,ue=r.contextType;y=qr,typeof ue=="object"&&ue!==null&&(y=Cn(ue));var be=r.getDerivedStateFromProps;ue=typeof be=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,ue||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||X!==y)&&qp(n,f,i,y),js=!1;var ee=n.memoizedState;f.state=ee,ti(n,i,f,u),ei(),X=n.memoizedState,S||ee!==X||js?(typeof be=="function"&&(fd(n,r,be,i),X=n.memoizedState),(D=js||Bp(n,r,D,i,ee,X,y))?(ue||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=X),f.props=i,f.state=X,f.context=y,i=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,Hu(t,n),y=n.memoizedProps,ue=fr(r,y),f.props=ue,be=n.pendingProps,ee=f.context,X=r.contextType,D=qr,typeof X=="object"&&X!==null&&(D=Cn(X)),S=r.getDerivedStateFromProps,(X=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==be||ee!==D)&&qp(n,f,i,D),js=!1,ee=n.memoizedState,f.state=ee,ti(n,i,f,u),ei();var re=n.memoizedState;y!==be||ee!==re||js||t!==null&&t.dependencies!==null&&yo(t.dependencies)?(typeof S=="function"&&(fd(n,r,S,i),re=n.memoizedState),(ue=js||Bp(n,r,ue,i,ee,re,D)||t!==null&&t.dependencies!==null&&yo(t.dependencies))?(X||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,re,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,re,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=re),f.props=i,f.state=re,f.context=D,i=ue):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),i=!1)}return f=i,Uo(t,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&i?(n.child=ur(n,t.child,null,u),n.child=ur(n,null,r,u)):On(t,n,r,u),n.memoizedState=f.state,t=n.child):t=ss(t,n,u),t}function eg(t,n,r,i){return sr(),n.flags|=256,On(t,n,r,i),n.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bd(t){return{baseLanes:t,cachePool:Hh()}}function vd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=da),t}function tg(t,n,r){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(en.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(gt){if(u?Cs(n):Os(),(t=Lt)?(t=cy(t,va),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Ha,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},r=Mh(t),r.return=n,n.child=r,An=n,Lt=null)):t=null,t===null)throw ws(n);return tf(t)?n.lanes=32:n.lanes=536870912,null}var S=i.children;return i=i.fallback,u?(Os(),u=n.mode,S=Lo({mode:"hidden",children:S},u),i=ar(i,u,r,null),S.return=n,i.return=n,S.sibling=i,n.child=S,i=n.child,i.memoizedState=bd(r),i.childLanes=vd(t,y,r),n.memoizedState=yd,li(null,i)):(Cs(n),xd(n,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Sd(t,n,r)):n.memoizedState!==null?(Os(),n.child=t.child,n.flags|=128,n=null):(Os(),S=i.fallback,u=n.mode,i=Lo({mode:"visible",children:i.children},u),S=ar(S,u,r,null),S.flags|=2,i.return=n,S.return=n,i.sibling=S,n.child=i,ur(n,t.child,null,r),i=n.child,i.memoizedState=bd(r),i.childLanes=vd(t,y,r),n.memoizedState=yd,n=li(null,i));else if(Cs(n),tf(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var X=y.dgst;y=X,i=Error(l(419)),i.stack="",i.digest=y,Pl({value:i,source:null,stack:null}),n=Sd(t,n,r)}else if(cn||Hr(t,n,r,!1),y=(r&t.childLanes)!==0,cn||y){if(y=zt,y!==null&&(i=Qe(y,r),i!==0&&i!==D.retryLane))throw D.retryLane=i,nr(t,i),Jn(y,t,i),pd;ef(S)||Go(),n=Sd(t,n,r)}else ef(S)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Lt=Sa(S.nextSibling),An=n,gt=!0,Ns=null,va=!1,t!==null&&Lh(n,t),n=xd(n,i.children),n.flags|=4096);return n}return u?(Os(),S=i.fallback,u=n.mode,D=t.child,X=D.sibling,i=Ja(D,{mode:"hidden",children:i.children}),i.subtreeFlags=D.subtreeFlags&65011712,X!==null?S=Ja(X,S):(S=ar(S,u,r,null),S.flags|=2),S.return=n,i.return=n,i.sibling=S,n.child=i,li(null,i),i=n.child,S=t.child.memoizedState,S===null?S=bd(r):(u=S.cachePool,u!==null?(D=ln._currentValue,u=u.parent!==D?{parent:D,pool:D}:u):u=Hh(),S={baseLanes:S.baseLanes|r,cachePool:u}),i.memoizedState=S,i.childLanes=vd(t,y,r),n.memoizedState=yd,li(t.child,i)):(Cs(n),r=t.child,t=r.sibling,r=Ja(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function xd(t,n){return n=Lo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Lo(t,n){return t=ia(22,t,null,n),t.lanes=0,t}function Sd(t,n,r){return ur(n,t.child,null,r),t=xd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ng(t,n,r){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),Uu(t.return,n,r)}function Nd(t,n,r,i,u,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=i,y.tail=r,y.tailMode=u,y.treeForkCount=f)}function ag(t,n,r){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var y=en.current,S=(y&2)!==0;if(S?(y=y&1|2,n.flags|=128):y&=1,oe(en,y),On(t,n,i,r),i=gt?Ql:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ng(t,r,n);else if(t.tag===19)ng(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&jo(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Nd(n,!1,u,r,f,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&jo(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}Nd(n,!0,r,null,f,i);break;case"together":Nd(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function ss(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ds|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Hr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,r=Ja(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ja(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function wd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&yo(t)))}function AS(t,n,r){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),_s(n,ln,t.memoizedState.cache),sr();break;case 27:case 5:ke(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Pu(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(Cs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?tg(t,n,r):(Cs(n),t=ss(t,n,r),t!==null?t.sibling:null);Cs(n);break;case 19:var u=(t.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||(Hr(t,n,r,!1),i=(r&n.childLanes)!==0),u){if(i)return ag(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),oe(en,en.current),i)break;return null;case 22:return n.lanes=0,Yp(t,n,r,n.pendingProps);case 24:_s(n,ln,t.memoizedState.cache)}return ss(t,n,r)}function sg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)cn=!0;else{if(!wd(t,r)&&(n.flags&128)===0)return cn=!1,AS(t,n,r);cn=(t.flags&131072)!==0}else cn=!1,gt&&(n.flags&1048576)!==0&&Uh(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=or(n.elementType),n.type=t,typeof t=="function")Cu(t)?(i=fr(t,i),n.tag=1,n=Wp(null,n,t,i,r)):(n.tag=0,n=gd(null,n,t,i,r));else{if(t!=null){var u=t.$$typeof;if(u===k){n.tag=11,n=Gp(null,n,t,i,r);break e}else if(u===U){n.tag=14,n=Qp(null,n,t,i,r);break e}}throw n=Te(t)||t,Error(l(306,n,""))}}return n;case 0:return gd(t,n,n.type,n.pendingProps,r);case 1:return i=n.type,u=fr(i,n.pendingProps),Wp(t,n,i,u,r);case 3:e:{if(qe(n,n.stateNode.containerInfo),t===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,Hu(t,n),ti(n,i,null,r);var y=n.memoizedState;if(i=y.cache,_s(n,ln,i),i!==f.cache&&Lu(n,[ln],r,!0),ei(),i=y.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=eg(t,n,i,r);break e}else if(i!==u){u=ga(Error(l(424)),n),Pl(u),n=eg(t,n,i,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Lt=Sa(t.firstChild),An=n,gt=!0,Ns=null,va=!0,r=Yh(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sr(),i===u){n=ss(t,n,r);break e}On(t,n,i,r)}n=n.child}return n;case 26:return Uo(t,n),t===null?(r=py(n.type,null,n.pendingProps,null))?n.memoizedState=r:gt||(r=n.type,t=n.pendingProps,i=Wo(he.current).createElement(r),i[ct]=n,i[yt]=t,Rn(i,r,t),Dt(i),n.stateNode=i):n.memoizedState=py(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ke(n),t===null&&gt&&(i=n.stateNode=fy(n.type,n.pendingProps,he.current),An=n,va=!0,u=Lt,Ls(n.type)?(nf=u,Lt=Sa(i.firstChild)):Lt=u),On(t,n,n.pendingProps.children,r),Uo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&gt&&((u=i=Lt)&&(i=aN(i,n.type,n.pendingProps,va),i!==null?(n.stateNode=i,An=n,Lt=Sa(i.firstChild),va=!1,u=!0):u=!1),u||ws(n)),ke(n),u=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,i=f.children,Xd(u,f)?i=null:y!==null&&Xd(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Ku(t,n,bS,null,null,r),Si._currentValue=u),Uo(t,n),On(t,n,i,r),n.child;case 6:return t===null&&gt&&((t=r=Lt)&&(r=sN(r,n.pendingProps,va),r!==null?(n.stateNode=r,An=n,Lt=null,t=!0):t=!1),t||ws(n)),null;case 13:return tg(t,n,r);case 4:return qe(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=ur(n,null,i,r):On(t,n,i,r),n.child;case 11:return Gp(t,n,n.type,n.pendingProps,r);case 7:return On(t,n,n.pendingProps,r),n.child;case 8:return On(t,n,n.pendingProps.children,r),n.child;case 12:return On(t,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,_s(n,n.type,i.value),On(t,n,i.children,r),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,lr(n),u=Cn(u),i=i(u),n.flags|=1,On(t,n,i,r),n.child;case 14:return Qp(t,n,n.type,n.pendingProps,r);case 15:return Pp(t,n,n.type,n.pendingProps,r);case 19:return ag(t,n,r);case 31:return ES(t,n,r);case 22:return Yp(t,n,r,n.pendingProps);case 24:return lr(n),i=Cn(ln),t===null?(u=Iu(),u===null&&(u=zt,f=Bu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:i,cache:u},$u(n),_s(n,ln,u)):((t.lanes&r)!==0&&(Hu(t,n),ti(n,null,null,r),ei()),u=t.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),_s(n,ln,i)):(i=f.cache,_s(n,ln,i),i!==u.cache&&Lu(n,[ln],r,!0))),On(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function rs(t){t.flags|=4}function _d(t,n,r,i,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Tg())t.flags|=8192;else throw cr=So,Fu}else t.flags&=-16777217}function rg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xy(n))if(Tg())t.flags|=8192;else throw cr=So,Fu}function Bo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?P():536870912,t.lanes|=n,tl|=n)}function ii(t,n){if(!gt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=r,n}function CS(t,n,r){var i=n.pendingProps;switch(Du(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(n),null;case 1:return Bt(n),null;case 3:return r=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ts(ln),me(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($r(n)?rs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mu())),Bt(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(rs(n),f!==null?(Bt(n),rg(n,f)):(Bt(n),_d(n,u,null,i,r))):f?f!==t.memoizedState?(rs(n),Bt(n),rg(n,f)):(Bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&rs(n),Bt(n),_d(n,u,t,i,r)),null;case 27:if(Fe(n),r=he.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&rs(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Bt(n),null}t=z.current,$r(n)?Bh(n):(t=fy(u,i,r),n.stateNode=t,rs(n))}return Bt(n),null;case 5:if(Fe(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&rs(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Bt(n),null}if(f=z.current,$r(n))Bh(n);else{var y=Wo(he.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?y.createElement("select",{is:i.is}):y.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?y.createElement(u,{is:i.is}):y.createElement(u)}}f[ct]=n,f[yt]=i;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Rn(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rs(n)}}return Bt(n),_d(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&rs(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(t=he.current,$r(n)){if(t=n.stateNode,r=n.memoizedProps,i=null,u=An,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[ct]=n,t=!!(t.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||ty(t.nodeValue,r)),t||ws(n,!0)}else t=Wo(t).createTextNode(i),t[ct]=n,n.stateNode=t}return Bt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(i=$r(n),r!==null){if(t===null){if(!i)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[ct]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),t=!1}else r=Mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(ca(n),n):(ca(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Bt(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=$r(n),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ct]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),u=!1}else u=Mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(ca(n),n):(ca(n),null)}return ca(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,t=t!==null&&t.memoizedState!==null,r&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Bo(n,n.updateQueue),Bt(n),null);case 4:return me(),t===null&&Gd(n.stateNode.containerInfo),Bt(n),null;case 10:return ts(n.type),Bt(n),null;case 19:if(V(en),i=n.memoizedState,i===null)return Bt(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)ii(i,!1);else{if(Kt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=jo(t),f!==null){for(n.flags|=128,ii(i,!1),t=f.updateQueue,n.updateQueue=t,Bo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zh(r,t),r=r.sibling;return oe(en,en.current&1|2),gt&&Wa(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&G()>Ho&&(n.flags|=128,u=!0,ii(i,!1),n.lanes=4194304)}else{if(!u)if(t=jo(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Bo(n,t),ii(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!gt)return Bt(n),null}else 2*G()-i.renderingStartTime>Ho&&r!==536870912&&(n.flags|=128,u=!0,ii(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(t=i.last,t!==null?t.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=G(),t.sibling=null,r=en.current,oe(en,u?r&1|2:r&1),gt&&Wa(n,i.treeForkCount),t):(Bt(n),null);case 22:case 23:return ca(n),Qu(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(Bt(n),n.subtreeFlags&6&&(n.flags|=8192)):Bt(n),r=n.updateQueue,r!==null&&Bo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),t!==null&&V(ir),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ts(ln),Bt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function OS(t,n){switch(Du(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(ln),me(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Fe(n),null;case 31:if(n.memoizedState!==null){if(ca(n),n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ca(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return V(en),null;case 4:return me(),null;case 10:return ts(n.type),null;case 22:case 23:return ca(n),Qu(),t!==null&&V(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(ln),null;case 25:return null;default:return null}}function lg(t,n){switch(Du(n),n.tag){case 3:ts(ln),me();break;case 26:case 27:case 5:Fe(n);break;case 4:me();break;case 31:n.memoizedState!==null&&ca(n);break;case 13:ca(n);break;case 19:V(en);break;case 10:ts(n.type);break;case 22:case 23:ca(n),Qu(),t!==null&&V(ir);break;case 24:ts(ln)}}function oi(t,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&t)===t){i=void 0;var f=r.create,y=r.inst;i=f(),y.destroy=i}r=r.next}while(r!==u)}}catch(S){jt(n,n.return,S)}}function Rs(t,n,r){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&t)===t){var y=i.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,u=n;var D=r,X=S;try{X()}catch(ue){jt(u,D,ue)}}}i=i.next}while(i!==f)}}catch(ue){jt(n,n.return,ue)}}function ig(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Xh(n,r)}catch(i){jt(t,t.return,i)}}}function og(t,n,r){r.props=fr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(i){jt(t,n,i)}}function ci(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(u){jt(t,n,u)}}function Za(t,n){var r=t.ref,i=t.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){jt(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){jt(t,n,u)}else r.current=null}function cg(t){var n=t.type,r=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){jt(t,t.return,u)}}function jd(t,n,r){try{var i=t.stateNode;XS(i,t.type,r,n),i[yt]=n}catch(u){jt(t,t.return,u)}}function ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ls(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ma));else if(i!==4&&(i===27&&Ls(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ad(t,n,r),t=t.sibling;t!==null;)Ad(t,n,r),t=t.sibling}function qo(t,n,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(i!==4&&(i===27&&Ls(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(qo(t,n,r),t=t.sibling;t!==null;)qo(t,n,r),t=t.sibling}function dg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var i=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Rn(n,i,r),n[ct]=t,n[yt]=r}catch(f){jt(t,t.return,f)}}var ls=!1,un=!1,Cd=!1,fg=typeof WeakSet=="function"?WeakSet:Set,wn=null;function RS(t,n){if(t=t.containerInfo,Yd=lc,t=_h(t),Su(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,S=-1,D=-1,X=0,ue=0,be=t,ee=null;t:for(;;){for(var re;be!==r||u!==0&&be.nodeType!==3||(S=y+u),be!==f||i!==0&&be.nodeType!==3||(D=y+i),be.nodeType===3&&(y+=be.nodeValue.length),(re=be.firstChild)!==null;)ee=be,be=re;for(;;){if(be===t)break t;if(ee===r&&++X===u&&(S=y),ee===f&&++ue===i&&(D=y),(re=be.nextSibling)!==null)break;be=ee,ee=be.parentNode}be=re}r=S===-1||D===-1?null:{start:S,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kd={focusedElem:t,selectionRange:r},lc=!1,wn=n;wn!==null;)if(n=wn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,wn=t;else for(;wn!==null;){switch(n=wn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,i=r.stateNode;try{var Ie=fr(r.type,u);t=i.getSnapshotBeforeUpdate(Ie,f),i.__reactInternalSnapshotBeforeUpdate=t}catch(Ke){jt(r,r.return,Ke)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Wd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,wn=t;break}wn=n.return}}function mg(t,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),i&4&&oi(5,r);break;case 1:if(os(t,r),i&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){jt(r,r.return,y)}else{var u=fr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){jt(r,r.return,y)}}i&64&&ig(r),i&512&&ci(r,r.return);break;case 3:if(os(t,r),i&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Xh(t,n)}catch(y){jt(r,r.return,y)}}break;case 27:n===null&&i&4&&dg(r);case 26:case 5:os(t,r),n===null&&i&4&&cg(r),i&512&&ci(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),i&4&&gg(t,r);break;case 13:os(t,r),i&4&&yg(t,r),i&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=qS.bind(null,r),rN(t,r))));break;case 22:if(i=r.memoizedState!==null||ls,!i){n=n!==null&&n.memoizedState!==null||un,u=ls;var f=un;ls=i,(un=n)&&!f?cs(t,r,(r.subtreeFlags&8772)!==0):os(t,r),ls=u,un=f}break;case 30:break;default:os(t,r)}}function hg(t){var n=t.alternate;n!==null&&(t.alternate=null,hg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ln(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ft=null,Pn=!1;function is(t,n,r){for(r=r.child;r!==null;)pg(t,n,r),r=r.sibling}function pg(t,n,r){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(je,r)}catch{}switch(r.tag){case 26:un||Za(r,n),is(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:un||Za(r,n);var i=Ft,u=Pn;Ls(r.type)&&(Ft=r.stateNode,Pn=!1),is(t,n,r),bi(r.stateNode),Ft=i,Pn=u;break;case 5:un||Za(r,n);case 6:if(i=Ft,u=Pn,Ft=null,is(t,n,r),Ft=i,Pn=u,Ft!==null)if(Pn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(r.stateNode)}catch(f){jt(r,n,f)}else try{Ft.removeChild(r.stateNode)}catch(f){jt(r,n,f)}break;case 18:Ft!==null&&(Pn?(t=Ft,iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),cl(t)):iy(Ft,r.stateNode));break;case 4:i=Ft,u=Pn,Ft=r.stateNode.containerInfo,Pn=!0,is(t,n,r),Ft=i,Pn=u;break;case 0:case 11:case 14:case 15:Rs(2,r,n),un||Rs(4,r,n),is(t,n,r);break;case 1:un||(Za(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&og(r,n,i)),is(t,n,r);break;case 21:is(t,n,r);break;case 22:un=(i=un)||r.memoizedState!==null,is(t,n,r),un=i;break;default:is(t,n,r)}}function gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cl(t)}catch(r){jt(n,n.return,r)}}}function yg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(r){jt(n,n.return,r)}}function TS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fg),n;default:throw Error(l(435,t.tag))}}function Io(t,n){var r=TS(t);n.forEach(function(i){if(!r.has(i)){r.add(i);var u=IS.bind(null,t,i);i.then(u,u)}})}function Yn(t,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],f=t,y=n,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Ls(S.type)){Ft=S.stateNode,Pn=!1;break e}break;case 5:Ft=S.stateNode,Pn=!1;break e;case 3:case 4:Ft=S.stateNode.containerInfo,Pn=!0;break e}S=S.return}if(Ft===null)throw Error(l(160));pg(f,y,u),Ft=null,Pn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)bg(n,t),n=n.sibling}var La=null;function bg(t,n){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yn(n,t),Kn(t),i&4&&(Rs(3,t,t.return),oi(3,t),Rs(5,t,t.return));break;case 1:Yn(n,t),Kn(t),i&512&&(un||r===null||Za(r,r.return)),i&64&&ls&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=La;if(Yn(n,t),Kn(t),i&512&&(un||r===null||Za(r,r.return)),i&4){var f=r!==null?r.memoizedState:null;if(i=t.memoizedState,r===null)if(i===null)if(t.stateNode===null){e:{i=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[It]||f[ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),Rn(f,i,r),f[ct]=t,Dt(f),i=f;break e;case"link":var y=by("link","href",u).get(i+(r.href||""));if(y){for(var S=0;S<y.length;S++)if(f=y[S],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(S,1);break t}}f=u.createElement(i),Rn(f,i,r),u.head.appendChild(f);break;case"meta":if(y=by("meta","content",u).get(i+(r.content||""))){for(S=0;S<y.length;S++)if(f=y[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(S,1);break t}}f=u.createElement(i),Rn(f,i,r),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[ct]=t,Dt(f),i=f}t.stateNode=i}else vy(u,t.type,t.stateNode);else t.stateNode=yy(u,i,t.memoizedProps);else f!==i?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,i===null?vy(u,t.type,t.stateNode):yy(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&jd(t,t.memoizedProps,r.memoizedProps)}break;case 27:Yn(n,t),Kn(t),i&512&&(un||r===null||Za(r,r.return)),r!==null&&i&4&&jd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Yn(n,t),Kn(t),i&512&&(un||r===null||Za(r,r.return)),t.flags&32){u=t.stateNode;try{ys(u,"")}catch(Ie){jt(t,t.return,Ie)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,jd(t,u,r!==null?r.memoizedProps:u)),i&1024&&(Cd=!0);break;case 6:if(Yn(n,t),Kn(t),i&4){if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,r=t.stateNode;try{r.nodeValue=i}catch(Ie){jt(t,t.return,Ie)}}break;case 3:if(nc=null,u=La,La=ec(n.containerInfo),Yn(n,t),La=u,Kn(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{cl(n.containerInfo)}catch(Ie){jt(t,t.return,Ie)}Cd&&(Cd=!1,vg(t));break;case 4:i=La,La=ec(t.stateNode.containerInfo),Yn(n,t),Kn(t),La=i;break;case 12:Yn(n,t),Kn(t);break;case 31:Yn(n,t),Kn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Io(t,i)));break;case 13:Yn(n,t),Kn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($o=G()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Io(t,i)));break;case 22:u=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,X=ls,ue=un;if(ls=X||u,un=ue||D,Yn(n,t),un=ue,ls=X,Kn(t),i&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||D||ls||un||mr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=D.stateNode;var be=D.memoizedProps.style,ee=be!=null&&be.hasOwnProperty("display")?be.display:null;S.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ie){jt(D,D.return,Ie)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=u?"":D.memoizedProps}catch(Ie){jt(D,D.return,Ie)}}}else if(n.tag===18){if(r===null){D=n;try{var re=D.stateNode;u?oy(re,!0):oy(D.stateNode,!1)}catch(Ie){jt(D,D.return,Ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Io(t,r))));break;case 19:Yn(n,t),Kn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Io(t,i)));break;case 30:break;case 21:break;default:Yn(n,t),Kn(t)}}function Kn(t){var n=t.flags;if(n&2){try{for(var r,i=t.return;i!==null;){if(ug(i)){r=i;break}i=i.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,f=Ed(t);qo(t,f,u);break;case 5:var y=r.stateNode;r.flags&32&&(ys(y,""),r.flags&=-33);var S=Ed(t);qo(t,S,y);break;case 3:case 4:var D=r.stateNode.containerInfo,X=Ed(t);Ad(t,X,D);break;default:throw Error(l(161))}}catch(ue){jt(t,t.return,ue)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)mg(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),mr(n);break;case 1:Za(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&og(n,n.return,r),mr(n);break;case 27:bi(n.stateNode);case 26:case 5:Za(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function cs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:cs(u,f,r),oi(4,f);break;case 1:if(cs(u,f,r),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(X){jt(i,i.return,X)}if(i=f,u=i.updateQueue,u!==null){var S=i.stateNode;try{var D=u.shared.hiddenCallbacks;if(D!==null)for(u.shared.hiddenCallbacks=null,u=0;u<D.length;u++)Kh(D[u],S)}catch(X){jt(i,i.return,X)}}r&&y&64&&ig(f),ci(f,f.return);break;case 27:dg(f);case 26:case 5:cs(u,f,r),r&&i===null&&y&4&&cg(f),ci(f,f.return);break;case 12:cs(u,f,r);break;case 31:cs(u,f,r),r&&y&4&&gg(u,f);break;case 13:cs(u,f,r),r&&y&4&&yg(u,f);break;case 22:f.memoizedState===null&&cs(u,f,r),ci(f,f.return);break;case 30:break;default:cs(u,f,r)}n=n.sibling}}function Od(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Yl(r))}function Rd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function Ba(t,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xg(t,n,r,i),n=n.sibling}function xg(t,n,r,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ba(t,n,r,i),u&2048&&oi(9,n);break;case 1:Ba(t,n,r,i);break;case 3:Ba(t,n,r,i),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(u&2048){Ba(t,n,r,i),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,S=f.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){jt(n,n.return,D)}}else Ba(t,n,r,i);break;case 31:Ba(t,n,r,i);break;case 13:Ba(t,n,r,i);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Ba(t,n,r,i):ui(t,n):f._visibility&2?Ba(t,n,r,i):(f._visibility|=2,Jr(t,n,r,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Od(y,n);break;case 24:Ba(t,n,r,i),u&2048&&Rd(n.alternate,n);break;default:Ba(t,n,r,i)}}function Jr(t,n,r,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,S=r,D=i,X=y.flags;switch(y.tag){case 0:case 11:case 15:Jr(f,y,S,D,u),oi(8,y);break;case 23:break;case 22:var ue=y.stateNode;y.memoizedState!==null?ue._visibility&2?Jr(f,y,S,D,u):ui(f,y):(ue._visibility|=2,Jr(f,y,S,D,u)),u&&X&2048&&Od(y.alternate,y);break;case 24:Jr(f,y,S,D,u),u&&X&2048&&Rd(y.alternate,y);break;default:Jr(f,y,S,D,u)}n=n.sibling}}function ui(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,i=n,u=i.flags;switch(i.tag){case 22:ui(r,i),u&2048&&Od(i.alternate,i);break;case 24:ui(r,i),u&2048&&Rd(i.alternate,i);break;default:ui(r,i)}n=n.sibling}}var di=8192;function Wr(t,n,r){if(t.subtreeFlags&di)for(t=t.child;t!==null;)Sg(t,n,r),t=t.sibling}function Sg(t,n,r){switch(t.tag){case 26:Wr(t,n,r),t.flags&di&&t.memoizedState!==null&&yN(r,La,t.memoizedState,t.memoizedProps);break;case 5:Wr(t,n,r);break;case 3:case 4:var i=La;La=ec(t.stateNode.containerInfo),Wr(t,n,r),La=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=di,di=16777216,Wr(t,n,r),di=i):Wr(t,n,r));break;default:Wr(t,n,r)}}function Ng(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];wn=i,_g(i,t)}Ng(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 0:case 11:case 15:fi(t),t.flags&2048&&Rs(9,t,t.return);break;case 3:fi(t);break;case 12:fi(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Fo(t)):fi(t);break;default:fi(t)}}function Fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];wn=i,_g(i,t)}Ng(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),Fo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Fo(n));break;default:Fo(n)}t=t.sibling}}function _g(t,n){for(;wn!==null;){var r=wn;switch(r.tag){case 0:case 11:case 15:Rs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Yl(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,wn=i;else e:for(r=t;wn!==null;){i=wn;var u=i.sibling,f=i.return;if(hg(i),i===r){wn=null;break e}if(u!==null){u.return=f,wn=u;break e}wn=f}}}var DS={getCacheForType:function(t){var n=Cn(ln),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Cn(ln).controller.signal}},zS=typeof WeakMap=="function"?WeakMap:Map,Nt=0,zt=null,ft=null,ht=0,_t=0,ua=null,Ts=!1,el=!1,Td=!1,us=0,Kt=0,Ds=0,hr=0,Dd=0,da=0,tl=0,mi=null,Xn=null,zd=!1,$o=0,jg=0,Ho=1/0,Vo=null,zs=null,pn=0,Ms=null,nl=null,ds=0,Md=0,kd=null,Eg=null,hi=0,Ud=null;function fa(){return(Nt&2)!==0&&ht!==0?ht&-ht:M.T!==null?$d():Tt()}function Ag(){if(da===0)if((ht&536870912)===0||gt){var t=st;st<<=1,(st&3932160)===0&&(st=262144),da=t}else da=536870912;return t=oa.current,t!==null&&(t.flags|=32),da}function Jn(t,n,r){(t===zt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(al(t,0),ks(t,ht,da,!1)),Ee(t,r),((Nt&2)===0||t!==zt)&&(t===zt&&((Nt&2)===0&&(hr|=r),Kt===4&&ks(t,ht,da,!1)),Ga(t))}function Cg(t,n,r){if((Nt&6)!==0)throw Error(l(327));var i=!r&&(n&127)===0&&(n&t.expiredLanes)===0||$n(t,n),u=i?US(t,n):Bd(t,n,!0),f=i;do{if(u===0){el&&!i&&ks(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!MS(r)){u=Bd(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var S=t;u=mi;var D=S.current.memoizedState.isDehydrated;if(D&&(al(S,y).flags|=256),y=Bd(S,y,!1),y!==2){if(Td&&!D){S.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Xn,Xn=u,f!==null&&(Xn===null?Xn=f:Xn.push.apply(Xn,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){al(t,0),ks(t,n,0,!0);break}e:{switch(i=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ks(i,n,da,!Ts);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=$o+300-G(),10<u)){if(ks(i,n,da,!Ts),Ta(i,0,!0)!==0)break e;ds=n,i.timeoutHandle=ry(Og.bind(null,i,r,Xn,Vo,zd,n,da,hr,tl,Ts,f,"Throttled",-0,0),u);break e}Og(i,r,Xn,Vo,zd,n,da,hr,tl,Ts,f,null,-0,0)}}break}while(!0);Ga(t)}function Og(t,n,r,i,u,f,y,S,D,X,ue,be,ee,re){if(t.timeoutHandle=-1,be=n.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},Sg(n,f,be);var Ie=(f&62914560)===f?$o-G():(f&4194048)===f?jg-G():0;if(Ie=bN(be,Ie),Ie!==null){ds=f,t.cancelPendingCommit=Ie(Lg.bind(null,t,n,f,r,i,u,y,S,D,ue,be,null,ee,re)),ks(t,f,y,!X);return}}Lg(t,n,f,r,i,u,y,S,D)}function MS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],f=u.getSnapshot;u=u.value;try{if(!la(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(t,n,r,i){n&=~Dd,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var u=n;0<u;){var f=31-wt(u),y=1<<f;i[f]=-1,u&=~y}r!==0&&We(t,r,n)}function Zo(){return(Nt&6)===0?(pi(0),!1):!0}function Ld(){if(ft!==null){if(_t===0)var t=ft.return;else t=ft,es=rr=null,Wu(t),Qr=null,Xl=0,t=ft;for(;t!==null;)lg(t.alternate,t),t=t.return;ft=null}}function al(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,eN(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ds=0,Ld(),zt=t,ft=r=Ja(t.current,null),ht=n,_t=0,ua=null,Ts=!1,el=$n(t,n),Td=!1,tl=da=Dd=hr=Ds=Kt=0,Xn=mi=null,zd=!1,(n&8)!==0&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var u=31-wt(i),f=1<<u;n|=t[u],i&=~f}return us=n,fo(),r}function Rg(t,n){nt=null,M.H=ri,n===Gr||n===xo?(n=Gh(),_t=3):n===Fu?(n=Gh(),_t=4):_t=n===pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ua=n,ft===null&&(Kt=1,Mo(t,ga(n,t.current)))}function Tg(){var t=oa.current;return t===null?!0:(ht&4194048)===ht?xa===null:(ht&62914560)===ht||(ht&536870912)!==0?t===xa:!1}function Dg(){var t=M.H;return M.H=ri,t===null?ri:t}function zg(){var t=M.A;return M.A=DS,t}function Go(){Kt=4,Ts||(ht&4194048)!==ht&&oa.current!==null||(el=!0),(Ds&134217727)===0&&(hr&134217727)===0||zt===null||ks(zt,ht,da,!1)}function Bd(t,n,r){var i=Nt;Nt|=2;var u=Dg(),f=zg();(zt!==t||ht!==n)&&(Vo=null,al(t,n)),n=!1;var y=Kt;e:do try{if(_t!==0&&ft!==null){var S=ft,D=ua;switch(_t){case 8:Ld(),y=6;break e;case 3:case 2:case 9:case 6:oa.current===null&&(n=!0);var X=_t;if(_t=0,ua=null,sl(t,S,D,X),r&&el){y=0;break e}break;default:X=_t,_t=0,ua=null,sl(t,S,D,X)}}kS(),y=Kt;break}catch(ue){Rg(t,ue)}while(!0);return n&&t.shellSuspendCounter++,es=rr=null,Nt=i,M.H=u,M.A=f,ft===null&&(zt=null,ht=0,fo()),y}function kS(){for(;ft!==null;)Mg(ft)}function US(t,n){var r=Nt;Nt|=2;var i=Dg(),u=zg();zt!==t||ht!==n?(Vo=null,Ho=G()+500,al(t,n)):el=$n(t,n);e:do try{if(_t!==0&&ft!==null){n=ft;var f=ua;t:switch(_t){case 1:_t=0,ua=null,sl(t,n,f,1);break;case 2:case 9:if(Vh(f)){_t=0,ua=null,kg(n);break}n=function(){_t!==2&&_t!==9||zt!==t||(_t=7),Ga(t)},f.then(n,n);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Vh(f)?(_t=0,ua=null,kg(n)):(_t=0,ua=null,sl(t,n,f,7));break;case 5:var y=null;switch(ft.tag){case 26:y=ft.memoizedState;case 5:case 27:var S=ft;if(y?xy(y):S.stateNode.complete){_t=0,ua=null;var D=S.sibling;if(D!==null)ft=D;else{var X=S.return;X!==null?(ft=X,Qo(X)):ft=null}break t}}_t=0,ua=null,sl(t,n,f,5);break;case 6:_t=0,ua=null,sl(t,n,f,6);break;case 8:Ld(),Kt=6;break e;default:throw Error(l(462))}}LS();break}catch(ue){Rg(t,ue)}while(!0);return es=rr=null,M.H=i,M.A=u,Nt=r,ft!==null?0:(zt=null,ht=0,fo(),Kt)}function LS(){for(;ft!==null&&!R();)Mg(ft)}function Mg(t){var n=sg(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?Qo(t):ft=n}function kg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Jp(r,n,n.pendingProps,n.type,void 0,ht);break;case 11:n=Jp(r,n,n.pendingProps,n.type.render,n.ref,ht);break;case 5:Wu(n);default:lg(r,n),n=ft=zh(n,us),n=sg(r,n,us)}t.memoizedProps=t.pendingProps,n===null?Qo(t):ft=n}function sl(t,n,r,i){es=rr=null,Wu(n),Qr=null,Xl=0;var u=n.return;try{if(jS(t,u,n,r,ht)){Kt=1,Mo(t,ga(r,t.current)),ft=null;return}}catch(f){if(u!==null)throw ft=u,f;Kt=1,Mo(t,ga(r,t.current)),ft=null;return}n.flags&32768?(gt||i===1?t=!0:el||(ht&536870912)!==0?t=!1:(Ts=t=!0,(i===2||i===9||i===3||i===6)&&(i=oa.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ug(n,t)):Qo(n)}function Qo(t){var n=t;do{if((n.flags&32768)!==0){Ug(n,Ts);return}t=n.return;var r=CS(n.alternate,n,us);if(r!==null){ft=r;return}if(n=n.sibling,n!==null){ft=n;return}ft=n=t}while(n!==null);Kt===0&&(Kt=5)}function Ug(t,n){do{var r=OS(t.alternate,t);if(r!==null){r.flags&=32767,ft=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ft=t;return}ft=t=r}while(t!==null);Kt=6,ft=null}function Lg(t,n,r,i,u,f,y,S,D){t.cancelPendingCommit=null;do Po();while(pn!==0);if((Nt&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Eu,He(t,r,f,y,S,D),t===zt&&(ft=zt=null,ht=0),nl=n,Ms=t,ds=r,Md=f,kd=u,Eg=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FS(ne,function(){return $g(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=M.T,M.T=null,u=I.p,I.p=2,y=Nt,Nt|=4;try{RS(t,n,r)}finally{Nt=y,I.p=u,M.T=i}}pn=1,Bg(),qg(),Ig()}}function Bg(){if(pn===1){pn=0;var t=Ms,n=nl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var i=I.p;I.p=2;var u=Nt;Nt|=4;try{bg(n,t);var f=Kd,y=_h(t.containerInfo),S=f.focusedElem,D=f.selectionRange;if(y!==S&&S&&S.ownerDocument&&wh(S.ownerDocument.documentElement,S)){if(D!==null&&Su(S)){var X=D.start,ue=D.end;if(ue===void 0&&(ue=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(ue,S.value.length);else{var be=S.ownerDocument||document,ee=be&&be.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ie=S.textContent.length,Ke=Math.min(D.start,Ie),Rt=D.end===void 0?Ke:Math.min(D.end,Ie);!re.extend&&Ke>Rt&&(y=Rt,Rt=Ke,Ke=y);var F=Nh(S,Ke),L=Nh(S,Rt);if(F&&L&&(re.rangeCount!==1||re.anchorNode!==F.node||re.anchorOffset!==F.offset||re.focusNode!==L.node||re.focusOffset!==L.offset)){var K=be.createRange();K.setStart(F.node,F.offset),re.removeAllRanges(),Ke>Rt?(re.addRange(K),re.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),re.addRange(K))}}}}for(be=[],re=S;re=re.parentNode;)re.nodeType===1&&be.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<be.length;S++){var ye=be[S];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}lc=!!Yd,Kd=Yd=null}finally{Nt=u,I.p=i,M.T=r}}t.current=n,pn=2}}function qg(){if(pn===2){pn=0;var t=Ms,n=nl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var i=I.p;I.p=2;var u=Nt;Nt|=4;try{mg(t,n.alternate,n)}finally{Nt=u,I.p=i,M.T=r}}pn=3}}function Ig(){if(pn===4||pn===3){pn=0,Q();var t=Ms,n=nl,r=ds,i=Eg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pn=5:(pn=0,nl=Ms=null,Fg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(zs=null),Mt(r),n=n.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(je,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=M.T,u=I.p,I.p=2,M.T=null;try{for(var f=t.onRecoverableError,y=0;y<i.length;y++){var S=i[y];f(S.value,{componentStack:S.stack})}}finally{M.T=n,I.p=u}}(ds&3)!==0&&Po(),Ga(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Ud?hi++:(hi=0,Ud=t):hi=0,pi(0)}}function Fg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function Po(){return Bg(),qg(),Ig(),$g()}function $g(){if(pn!==5)return!1;var t=Ms,n=Md;Md=0;var r=Mt(ds),i=M.T,u=I.p;try{I.p=32>r?32:r,M.T=null,r=kd,kd=null;var f=Ms,y=ds;if(pn=0,nl=Ms=null,ds=0,(Nt&6)!==0)throw Error(l(331));var S=Nt;if(Nt|=4,wg(f.current),xg(f,f.current,y,r),Nt=S,pi(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(je,f)}catch{}return!0}finally{I.p=u,M.T=i,Fg(t,n)}}function Hg(t,n,r){n=ga(r,n),n=hd(t.stateNode,n,2),t=As(t,n,2),t!==null&&(Ee(t,2),Ga(t))}function jt(t,n,r){if(t.tag===3)Hg(t,t,r);else for(;n!==null;){if(n.tag===3){Hg(n,t,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zs===null||!zs.has(i))){t=ga(r,t),r=Vp(2),i=As(n,r,2),i!==null&&(Zp(r,i,n,t),Ee(i,2),Ga(i));break}}n=n.return}}function qd(t,n,r){var i=t.pingCache;if(i===null){i=t.pingCache=new zS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(r)||(Td=!0,u.add(r),t=BS.bind(null,t,n,r),n.then(t,t))}function BS(t,n,r){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,zt===t&&(ht&r)===r&&(Kt===4||Kt===3&&(ht&62914560)===ht&&300>G()-$o?(Nt&2)===0&&al(t,0):Dd|=r,tl===ht&&(tl=0)),Ga(t)}function Vg(t,n){n===0&&(n=P()),t=nr(t,n),t!==null&&(Ee(t,n),Ga(t))}function qS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Vg(t,r)}function IS(t,n){var r=0;switch(t.tag){case 31:case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),Vg(t,r)}function FS(t,n){return C(t,n)}var Yo=null,rl=null,Id=!1,Ko=!1,Fd=!1,Us=0;function Ga(t){t!==rl&&t.next===null&&(rl===null?Yo=rl=t:rl=rl.next=t),Ko=!0,Id||(Id=!0,HS())}function pi(t,n){if(!Fd&&Ko){Fd=!0;do for(var r=!1,i=Yo;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var y=i.suspendedLanes,S=i.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=u&~(y&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Pg(i,f))}else f=ht,f=Ta(i,i===zt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||$n(i,f)||(r=!0,Pg(i,f));i=i.next}while(r);Fd=!1}}function $S(){Zg()}function Zg(){Ko=Id=!1;var t=0;Us!==0&&WS()&&(t=Us);for(var n=G(),r=null,i=Yo;i!==null;){var u=i.next,f=Gg(i,n);f===0?(i.next=null,r===null?Yo=u:r.next=u,u===null&&(rl=r)):(r=i,(t!==0||(f&3)!==0)&&(Ko=!0)),i=u}pn!==0&&pn!==5||pi(t),Us!==0&&(Us=0)}function Gg(t,n){for(var r=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-wt(f),S=1<<y,D=u[y];D===-1?((S&r)===0||(S&i)!==0)&&(u[y]=Hn(S,n)):D<=n&&(t.expiredLanes|=S),f&=~S}if(n=zt,r=ht,r=Ta(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,r===0||t===n&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Z(i),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||$n(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(i!==null&&Z(i),Mt(r)){case 2:case 8:r=Le;break;case 32:r=ne;break;case 268435456:r=Ve;break;default:r=ne}return i=Qg.bind(null,t),r=C(r,i),t.callbackPriority=n,t.callbackNode=r,n}return i!==null&&i!==null&&Z(i),t.callbackPriority=2,t.callbackNode=null,2}function Qg(t,n){if(pn!==0&&pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Po()&&t.callbackNode!==r)return null;var i=ht;return i=Ta(t,t===zt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Cg(t,i,n),Gg(t,G()),t.callbackNode!=null&&t.callbackNode===r?Qg.bind(null,t):null)}function Pg(t,n){if(Po())return null;Cg(t,n,!0)}function HS(){tN(function(){(Nt&6)!==0?C(Ce,$S):Zg()})}function $d(){if(Us===0){var t=Vr;t===0&&(t=ra,ra<<=1,(ra&261888)===0&&(ra=256)),Us=t}return Us}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function Kg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function VS(t,n,r,i,u){if(n==="submit"&&r&&r.stateNode===u){var f=Yg((u[yt]||null).action),y=i.submitter;y&&(n=(n=y[yt]||null)?Yg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var S=new Qn("action","action",null,i,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Us!==0){var D=y?Kg(u,y):new FormData(u);od(r,{pending:!0,data:D,method:u.method,action:f},null,D)}}else typeof f=="function"&&(S.preventDefault(),D=y?Kg(u,y):new FormData(u),od(r,{pending:!0,data:D,method:u.method,action:f},f,D))},currentTarget:u}]})}}for(var Hd=0;Hd<ju.length;Hd++){var Vd=ju[Hd],ZS=Vd.toLowerCase(),GS=Vd[0].toUpperCase()+Vd.slice(1);Ua(ZS,"on"+GS)}Ua(Ah,"onAnimationEnd"),Ua(Ch,"onAnimationIteration"),Ua(Oh,"onAnimationStart"),Ua("dblclick","onDoubleClick"),Ua("focusin","onFocus"),Ua("focusout","onBlur"),Ua(oS,"onTransitionRun"),Ua(cS,"onTransitionStart"),Ua(uS,"onTransitionCancel"),Ua(Rh,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gi));function Xg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var y=i.length-1;0<=y;y--){var S=i[y],D=S.instance,X=S.currentTarget;if(S=S.listener,D!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=X;try{f(u)}catch(ue){uo(ue)}u.currentTarget=null,f=D}else for(y=0;y<i.length;y++){if(S=i[y],D=S.instance,X=S.currentTarget,S=S.listener,D!==f&&u.isPropagationStopped())break e;f=S,u.currentTarget=X;try{f(u)}catch(ue){uo(ue)}u.currentTarget=null,f=D}}}}function mt(t,n){var r=n[mn];r===void 0&&(r=n[mn]=new Set);var i=t+"__bubble";r.has(i)||(Jg(n,t,2,!1),r.add(i))}function Zd(t,n,r){var i=0;n&&(i|=4),Jg(r,t,i,n)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Xo]){t[Xo]=!0,Rr.forEach(function(r){r!=="selectionchange"&&(QS.has(r)||Zd(r,!1,t),Zd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Xo]||(n[Xo]=!0,Zd("selectionchange",!1,n))}}function Jg(t,n,r,i){switch(Ay(n)){case 2:var u=SN;break;case 8:u=NN;break;default:u=of}r=u.bind(null,n,r,t),u=void 0,!Js||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Qd(t,n,r,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var y=i.tag;if(y===3||y===4){var S=i.stateNode.containerInfo;if(S===u)break;if(y===4)for(y=i.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;S!==null;){if(y=an(S),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){i=f=y;continue e}S=S.parentNode}}i=i.return}io(function(){var X=f,ue=ql(r),be=[];e:{var ee=Th.get(t);if(ee!==void 0){var re=Qn,Ie=t;switch(t){case"keypress":if(ze(r)===0)break e;case"keydown":case"keyup":re=I0;break;case"focusin":Ie="focus",re=gu;break;case"focusout":Ie="blur",re=gu;break;case"beforeblur":case"afterblur":re=gu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=H0;break;case Ah:case Ch:case Oh:re=T0;break;case Rh:re=Z0;break;case"scroll":case"scrollend":re=Mr;break;case"wheel":re=Q0;break;case"copy":case"cut":case"paste":re=z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=oh;break;case"toggle":case"beforetoggle":re=Y0}var Ke=(n&4)!==0,Rt=!Ke&&(t==="scroll"||t==="scrollend"),F=Ke?ee!==null?ee+"Capture":null:ee;Ke=[];for(var L=X,K;L!==null;){var ye=L;if(K=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||K===null||F===null||(ye=Xs(L,F),ye!=null&&Ke.push(yi(L,ye,K))),Rt)break;L=L.return}0<Ke.length&&(ee=new re(ee,Ie,null,r,ue),be.push({event:ee,listeners:Ke}))}}if((n&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",ee&&r!==bs&&(Ie=r.relatedTarget||r.fromElement)&&(an(Ie)||Ie[Ut]))break e;if((re||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ie=r.relatedTarget||r.toElement,re=X,Ie=Ie?an(Ie):null,Ie!==null&&(Rt=d(Ie),Ke=Ie.tag,Ie!==Rt||Ke!==5&&Ke!==27&&Ke!==6)&&(Ie=null)):(re=null,Ie=X),re!==Ie)){if(Ke=lh,ye="onMouseLeave",F="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ke=oh,ye="onPointerLeave",F="onPointerEnter",L="pointer"),Rt=re==null?ee:Vn(re),K=Ie==null?ee:Vn(Ie),ee=new Ke(ye,L+"leave",re,r,ue),ee.target=Rt,ee.relatedTarget=K,ye=null,an(ue)===X&&(Ke=new Ke(F,L+"enter",Ie,r,ue),Ke.target=K,Ke.relatedTarget=Rt,ye=Ke),Rt=ye,re&&Ie)t:{for(Ke=PS,F=re,L=Ie,K=0,ye=F;ye;ye=Ke(ye))K++;ye=0;for(var Pe=L;Pe;Pe=Ke(Pe))ye++;for(;0<K-ye;)F=Ke(F),K--;for(;0<ye-K;)L=Ke(L),ye--;for(;K--;){if(F===L||L!==null&&F===L.alternate){Ke=F;break t}F=Ke(F),L=Ke(L)}Ke=null}else Ke=null;re!==null&&Wg(be,ee,re,Ke,!1),Ie!==null&&Rt!==null&&Wg(be,Rt,Ie,Ke,!0)}}e:{if(ee=X?Vn(X):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var vt=gh;else if(hh(ee))if(yh)vt=rS;else{vt=aS;var Ze=nS}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&Bl(X.elementType)&&(vt=gh):vt=sS;if(vt&&(vt=vt(t,X))){ph(be,vt,r,ue);break e}Ze&&Ze(t,ee,X),t==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Ks(ee,"number",ee.value)}switch(Ze=X?Vn(X):window,t){case"focusin":(hh(Ze)||Ze.contentEditable==="true")&&(Ur=Ze,Nu=X,Gl=null);break;case"focusout":Gl=Nu=Ur=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,jh(be,r,ue);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":jh(be,r,ue)}var rt;if(bu)e:{switch(t){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else kr?fh(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(ch&&r.locale!=="ko"&&(kr||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&kr&&(rt=pe()):($a=ue,E="value"in $a?$a.value:$a.textContent,kr=!0)),Ze=Jo(X,pt),0<Ze.length&&(pt=new ih(pt,t,null,r,ue),be.push({event:pt,listeners:Ze}),rt?pt.data=rt:(rt=mh(r),rt!==null&&(pt.data=rt)))),(rt=X0?J0(t,r):W0(t,r))&&(pt=Jo(X,"onBeforeInput"),0<pt.length&&(Ze=new ih("onBeforeInput","beforeinput",null,r,ue),be.push({event:Ze,listeners:pt}),Ze.data=rt)),VS(be,t,X,r,ue)}Xg(be,n)})}function yi(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Jo(t,n){for(var r=n+"Capture",i=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Xs(t,r),u!=null&&i.unshift(yi(t,u,f)),u=Xs(t,n),u!=null&&i.push(yi(t,u,f))),t.tag===3)return i;t=t.return}return[]}function PS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wg(t,n,r,i,u){for(var f=n._reactName,y=[];r!==null&&r!==i;){var S=r,D=S.alternate,X=S.stateNode;if(S=S.tag,D!==null&&D===i)break;S!==5&&S!==26&&S!==27||X===null||(D=X,u?(X=Xs(r,f),X!=null&&y.unshift(yi(r,X,D))):u||(X=Xs(r,f),X!=null&&y.push(yi(r,X,D)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var YS=/\r\n?/g,KS=/\u0000|\uFFFD/g;function ey(t){return(typeof t=="string"?t:""+t).replace(YS,`
`).replace(KS,"")}function ty(t,n){return n=ey(n),ey(t)===n}function Ot(t,n,r,i,u,f){switch(r){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||ys(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&ys(t,""+i);break;case"className":za(t,"class",i);break;case"tabIndex":za(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":za(t,r,i);break;case"style":ro(t,i,f);break;case"data":if(n!=="object"){za(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ot(t,n,"name",u.name,u,null),Ot(t,n,"formEncType",u.formEncType,u,null),Ot(t,n,"formMethod",u.formMethod,u,null),Ot(t,n,"formTarget",u.formTarget,u,null)):(Ot(t,n,"encType",u.encType,u,null),Ot(t,n,"method",u.method,u,null),Ot(t,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=zr(""+i),t.setAttribute(r,i);break;case"onClick":i!=null&&(t.onclick=Ma);break;case"onScroll":i!=null&&mt("scroll",t);break;case"onScrollEnd":i!=null&&mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}r=zr(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""+i):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":i===!0?t.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,i):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(r,i):t.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(r):t.setAttribute(r,i);break;case"popover":mt("beforetoggle",t),mt("toggle",t),Wt(t,"popover",i);break;case"xlinkActuate":Gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Gn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Gn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Gn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Gn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Wt(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,Wt(t,r,i))}}function Pd(t,n,r,i,u,f){switch(r){case"style":ro(t,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=r}}break;case"children":typeof i=="string"?ys(t,i):(typeof i=="number"||typeof i=="bigint")&&ys(t,""+i);break;case"onScroll":i!=null&&mt("scroll",t);break;case"onScrollEnd":i!=null&&mt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[yt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,i,u);break e}r in t?t[r]=i:i===!0?t.setAttribute(r,""):Wt(t,r,i)}}}function Rn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",t),mt("load",t);var i=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ot(t,n,f,y,r,null)}}u&&Ot(t,n,"srcSet",r.srcSet,r,null),i&&Ot(t,n,"src",r.src,r,null);return;case"input":mt("invalid",t);var S=f=y=u=null,D=null,X=null;for(i in r)if(r.hasOwnProperty(i)){var ue=r[i];if(ue!=null)switch(i){case"name":u=ue;break;case"type":y=ue;break;case"checked":D=ue;break;case"defaultChecked":X=ue;break;case"value":f=ue;break;case"defaultValue":S=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(137,n));break;default:Ot(t,n,i,ue,r,null)}}Dr(t,f,S,D,X,y,u,!1);return;case"select":mt("invalid",t),i=y=f=null;for(u in r)if(r.hasOwnProperty(u)&&(S=r[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":y=S;break;case"multiple":i=S;default:Ot(t,n,u,S,r,null)}n=f,r=y,t.multiple=!!i,n!=null?gs(t,!!i,n,!1):r!=null&&gs(t,!!i,r,!0);return;case"textarea":mt("invalid",t),f=u=i=null;for(y in r)if(r.hasOwnProperty(y)&&(S=r[y],S!=null))switch(y){case"value":i=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ot(t,n,y,S,r,null)}ao(t,i,u,f);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(i=r[D],i!=null))switch(D){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ot(t,n,D,i,r,null)}return;case"dialog":mt("beforetoggle",t),mt("toggle",t),mt("cancel",t),mt("close",t);break;case"iframe":case"object":mt("load",t);break;case"video":case"audio":for(i=0;i<gi.length;i++)mt(gi[i],t);break;case"image":mt("error",t),mt("load",t);break;case"details":mt("toggle",t);break;case"embed":case"source":case"link":mt("error",t),mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in r)if(r.hasOwnProperty(X)&&(i=r[X],i!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ot(t,n,X,i,r,null)}return;default:if(Bl(n)){for(ue in r)r.hasOwnProperty(ue)&&(i=r[ue],i!==void 0&&Pd(t,n,ue,i,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(i=r[S],i!=null&&Ot(t,n,S,i,r,null))}function XS(t,n,r,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,S=null,D=null,X=null,ue=null;for(re in r){var be=r[re];if(r.hasOwnProperty(re)&&be!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":D=be;default:i.hasOwnProperty(re)||Ot(t,n,re,null,i,be)}}for(var ee in i){var re=i[ee];if(be=r[ee],i.hasOwnProperty(ee)&&(re!=null||be!=null))switch(ee){case"type":f=re;break;case"name":u=re;break;case"checked":X=re;break;case"defaultChecked":ue=re;break;case"value":y=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(l(137,n));break;default:re!==be&&Ot(t,n,ee,re,i,be)}}Ll(t,y,S,D,X,ue,f,u);return;case"select":re=y=S=ee=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":re=D;default:i.hasOwnProperty(f)||Ot(t,n,f,null,i,D)}for(u in i)if(f=i[u],D=r[u],i.hasOwnProperty(u)&&(f!=null||D!=null))switch(u){case"value":ee=f;break;case"defaultValue":S=f;break;case"multiple":y=f;default:f!==D&&Ot(t,n,u,f,i,D)}n=S,r=y,i=re,ee!=null?gs(t,!!r,ee,!1):!!i!=!!r&&(n!=null?gs(t,!!r,n,!0):gs(t,!!r,r?[]:"",!1));return;case"textarea":re=ee=null;for(S in r)if(u=r[S],r.hasOwnProperty(S)&&u!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ot(t,n,S,null,i,u)}for(y in i)if(u=i[y],f=r[y],i.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":ee=u;break;case"defaultValue":re=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ot(t,n,y,u,i,f)}no(t,ee,re);return;case"option":for(var Ie in r)if(ee=r[Ie],r.hasOwnProperty(Ie)&&ee!=null&&!i.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:Ot(t,n,Ie,null,i,ee)}for(D in i)if(ee=i[D],re=r[D],i.hasOwnProperty(D)&&ee!==re&&(ee!=null||re!=null))switch(D){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ot(t,n,D,ee,i,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in r)ee=r[Ke],r.hasOwnProperty(Ke)&&ee!=null&&!i.hasOwnProperty(Ke)&&Ot(t,n,Ke,null,i,ee);for(X in i)if(ee=i[X],re=r[X],i.hasOwnProperty(X)&&ee!==re&&(ee!=null||re!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,n));break;default:Ot(t,n,X,ee,i,re)}return;default:if(Bl(n)){for(var Rt in r)ee=r[Rt],r.hasOwnProperty(Rt)&&ee!==void 0&&!i.hasOwnProperty(Rt)&&Pd(t,n,Rt,void 0,i,ee);for(ue in i)ee=i[ue],re=r[ue],!i.hasOwnProperty(ue)||ee===re||ee===void 0&&re===void 0||Pd(t,n,ue,ee,i,re);return}}for(var F in r)ee=r[F],r.hasOwnProperty(F)&&ee!=null&&!i.hasOwnProperty(F)&&Ot(t,n,F,null,i,ee);for(be in i)ee=i[be],re=r[be],!i.hasOwnProperty(be)||ee===re||ee==null&&re==null||Ot(t,n,be,ee,i,re)}function ny(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var u=r[i],f=u.transferSize,y=u.initiatorType,S=u.duration;if(f&&S&&ny(y)){for(y=0,S=u.responseEnd,i+=1;i<r.length;i++){var D=r[i],X=D.startTime;if(X>S)break;var ue=D.transferSize,be=D.initiatorType;ue&&ny(be)&&(D=D.responseEnd,y+=ue*(D<S?1:(S-X)/(D-X)))}if(--i,n+=8*(f+y)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,Kd=null;function Wo(t){return t.nodeType===9?t:t.ownerDocument}function ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jd=null;function WS(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,eN=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,tN=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(nN)}:ry;function nN(t){setTimeout(function(){throw t})}function Ls(t){return t==="head"}function iy(t,n){var r=n,i=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(i===0){t.removeChild(u),cl(n);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")bi(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,bi(r);for(var f=r.firstChild;f;){var y=f.nextSibling,S=f.nodeName;f[It]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&bi(t.ownerDocument.body);r=u}while(r);cl(n)}function oy(t,n){var r=t;t=0;do{var i=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=i}while(r)}function Wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Wd(r),Ln(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function aN(t,n,r,i){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[It])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Sa(t.nextSibling),t===null)break}return null}function sN(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Sa(t.nextSibling),t===null))return null;return t}function cy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Sa(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$?"||t.data==="$~"}function tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rN(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var i=function(){n(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Sa(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var nf=null;function uy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Sa(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function dy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function fy(t,n,r){switch(n=Wo(r),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function bi(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ln(t)}var Na=new Map,my=new Set;function ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=I.d;I.d={f:lN,r:iN,D:oN,C:cN,L:uN,m:dN,X:mN,S:fN,M:hN};function lN(){var t=fs.f(),n=Zo();return t||n}function iN(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?Rp(n):fs.r(t)}var ll=typeof document>"u"?null:document;function hy(t,n,r){var i=ll;if(i&&typeof n=="string"&&n){var u=Nn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),my.has(u)||(my.add(u),t={rel:t,crossOrigin:r,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),Rn(n,"link",t),Dt(n),i.head.appendChild(n)))}}function oN(t){fs.D(t),hy("dns-prefetch",t,null)}function cN(t,n){fs.C(t,n),hy("preconnect",t,n)}function uN(t,n,r){fs.L(t,n,r);var i=ll;if(i&&t&&n){var u='link[rel="preload"][as="'+Nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Nn(r.imageSizes)+'"]')):u+='[href="'+Nn(t)+'"]';var f=u;switch(n){case"style":f=il(t);break;case"script":f=ol(t)}Na.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Na.set(f,t),i.querySelector(u)!==null||n==="style"&&i.querySelector(vi(f))||n==="script"&&i.querySelector(xi(f))||(n=i.createElement("link"),Rn(n,"link",t),Dt(n),i.head.appendChild(n)))}}function dN(t,n){fs.m(t,n);var r=ll;if(r&&t){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Nn(i)+'"][href="'+Nn(t)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ol(t)}if(!Na.has(f)&&(t=x({rel:"modulepreload",href:t},n),Na.set(f,t),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xi(f)))return}i=r.createElement("link"),Rn(i,"link",t),Dt(i),r.head.appendChild(i)}}}function fN(t,n,r){fs.S(t,n,r);var i=ll;if(i&&t){var u=Dn(i).hoistableStyles,f=il(t);n=n||"default";var y=u.get(f);if(!y){var S={loading:0,preload:null};if(y=i.querySelector(vi(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Na.get(f))&&af(t,r);var D=y=i.createElement("link");Dt(D),Rn(D,"link",t),D._p=new Promise(function(X,ue){D.onload=X,D.onerror=ue}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,tc(y,n,i)}y={type:"stylesheet",instance:y,count:1,state:S},u.set(f,y)}}}function mN(t,n){fs.X(t,n);var r=ll;if(r&&t){var i=Dn(r).hoistableScripts,u=ol(t),f=i.get(u);f||(f=r.querySelector(xi(u)),f||(t=x({src:t,async:!0},n),(n=Na.get(u))&&sf(t,n),f=r.createElement("script"),Dt(f),Rn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function hN(t,n){fs.M(t,n);var r=ll;if(r&&t){var i=Dn(r).hoistableScripts,u=ol(t),f=i.get(u);f||(f=r.querySelector(xi(u)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Na.get(u))&&sf(t,n),f=r.createElement("script"),Dt(f),Rn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function py(t,n,r,i){var u=(u=he.current)?ec(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=il(r.href),r=Dn(u).hoistableStyles,i=r.get(n),i||(i={type:"style",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=il(r.href);var f=Dn(u).hoistableStyles,y=f.get(t);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=u.querySelector(vi(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Na.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Na.set(t,r),f||pN(u,t,r,y.state))),n&&i===null)throw Error(l(528,""));return y}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ol(r),r=Dn(u).hoistableScripts,i=r.get(n),i||(i={type:"script",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function il(t){return'href="'+Nn(t)+'"'}function vi(t){return'link[rel="stylesheet"]['+t+"]"}function gy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function pN(t,n,r,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),Rn(n,"link",r),Dt(n),t.head.appendChild(n))}function ol(t){return'[src="'+Nn(t)+'"]'}function xi(t){return"script[async]"+t}function yy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+Nn(r.href)+'"]');if(i)return n.instance=i,Dt(i),i;var u=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Dt(i),Rn(i,"style",u),tc(i,r.precedence,t),n.instance=i;case"stylesheet":u=il(r.href);var f=t.querySelector(vi(u));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;i=gy(r),(u=Na.get(u))&&af(i,u),f=(t.ownerDocument||t).createElement("link"),Dt(f);var y=f;return y._p=new Promise(function(S,D){y.onload=S,y.onerror=D}),Rn(f,"link",i),n.state.loading|=4,tc(f,r.precedence,t),n.instance=f;case"script":return f=ol(r.src),(u=t.querySelector(xi(f)))?(n.instance=u,Dt(u),u):(i=r,(u=Na.get(f))&&(i=x({},r),sf(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),Dt(u),Rn(u,"link",i),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,tc(i,r.precedence,t));return n.instance}function tc(t,n,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,y=0;y<i.length;y++){var S=i[y];if(S.dataset.precedence===n)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var nc=null;function by(t,n,r){if(nc===null){var i=new Map,u=nc=new Map;u.set(r,i)}else u=nc,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(t))return i;for(i.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[It]||f[ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var S=i.get(y);S?S.push(f):i.set(y,[f])}}return i}function vy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function gN(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yN(t,n,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=il(i.href),f=n.querySelector(vi(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ac.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Dt(f);return}f=n.ownerDocument||n,i=gy(i),(u=Na.get(u))&&af(i,u),f=f.createElement("link"),Dt(f);var y=f;y._p=new Promise(function(S,D){y.onload=S,y.onerror=D}),Rn(f,"link",i),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ac.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var rf=0;function bN(t,n){return t.stylesheets&&t.count===0&&rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var i=setTimeout(function(){if(t.stylesheets&&rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&rf===0&&(rf=62500*JS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>rf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sc=null;function rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sc=new Map,n.forEach(vN,t),sc=null,ac.call(t))}function vN(t,n){if(!(n.state.loading&4)){var r=sc.get(t);if(r)var i=r.get(null);else{r=new Map,sc.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),i=y)}i&&r.set(null,i)}u=n.instance,y=u.getAttribute("data-precedence"),f=r.get(y)||i,f===i&&r.set(null,u),r.set(y,u),this.count++,i=ac.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Si={$$typeof:J,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function xN(t,n,r,i,u,f,y,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.hiddenUpdates=te(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Sy(t,n,r,i,u,f,y,S,D,X,ue,be){return t=new xN(t,n,r,y,D,X,ue,be,S),n=1,f===!0&&(n|=24),f=ia(3,null,null,n),t.current=f,f.stateNode=t,n=Bu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:r,cache:n},$u(f),t}function Ny(t){return t?(t=qr,t):qr}function wy(t,n,r,i,u,f){u=Ny(u),i.context===null?i.context=u:i.pendingContext=u,i=Es(n),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=As(t,i,n),r!==null&&(Jn(r,t,n),Wl(r,t,n))}function _y(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function lf(t,n){_y(t,n),(t=t.alternate)&&_y(t,n)}function jy(t){if(t.tag===13||t.tag===31){var n=nr(t,67108864);n!==null&&Jn(n,t,67108864),lf(t,67108864)}}function Ey(t){if(t.tag===13||t.tag===31){var n=fa();n=Pt(n);var r=nr(t,n);r!==null&&Jn(r,t,n),lf(t,n)}}var lc=!0;function SN(t,n,r,i){var u=M.T;M.T=null;var f=I.p;try{I.p=2,of(t,n,r,i)}finally{I.p=f,M.T=u}}function NN(t,n,r,i){var u=M.T;M.T=null;var f=I.p;try{I.p=8,of(t,n,r,i)}finally{I.p=f,M.T=u}}function of(t,n,r,i){if(lc){var u=cf(i);if(u===null)Qd(t,n,i,ic,r),Cy(t,i);else if(_N(u,t,n,r,i))i.stopPropagation();else if(Cy(t,i),n&4&&-1<wN.indexOf(t)){for(;u!==null;){var f=xn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ha(f.pendingLanes);if(y!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var D=1<<31-wt(y);S.entanglements[1]|=D,y&=~D}Ga(f),(Nt&6)===0&&(Ho=G()+500,pi(0))}}break;case 31:case 13:S=nr(f,2),S!==null&&Jn(S,f,2),Zo(),lf(f,2)}if(f=cf(i),f===null&&Qd(t,n,i,ic,r),f===u)break;u=f}u!==null&&i.stopPropagation()}else Qd(t,n,i,null,r)}}function cf(t){return t=ql(t),uf(t)}var ic=null;function uf(t){if(ic=null,t=an(t),t!==null){var n=d(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ic=t,null}function Ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case Ce:return 2;case Le:return 8;case ne:case Ue:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var df=!1,Bs=null,qs=null,Is=null,Ni=new Map,wi=new Map,Fs=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(t,n){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Ni.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(n.pointerId)}}function _i(t,n,r,i,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=xn(n),n!==null&&jy(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function _N(t,n,r,i,u){switch(n){case"focusin":return Bs=_i(Bs,t,n,r,i,u),!0;case"dragenter":return qs=_i(qs,t,n,r,i,u),!0;case"mouseover":return Is=_i(Is,t,n,r,i,u),!0;case"pointerover":var f=u.pointerId;return Ni.set(f,_i(Ni.get(f)||null,t,n,r,i,u)),!0;case"gotpointercapture":return f=u.pointerId,wi.set(f,_i(wi.get(f)||null,t,n,r,i,u)),!0}return!1}function Oy(t){var n=an(t.target);if(n!==null){var r=d(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,bn(t.priority,function(){Ey(r)});return}}else if(n===31){if(n=h(r),n!==null){t.blockedOn=n,bn(t.priority,function(){Ey(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);bs=i,r.target.dispatchEvent(i),bs=null}else return n=xn(r),n!==null&&jy(n),t.blockedOn=r,!1;n.shift()}return!0}function Ry(t,n,r){oc(t)&&r.delete(n)}function jN(){df=!1,Bs!==null&&oc(Bs)&&(Bs=null),qs!==null&&oc(qs)&&(qs=null),Is!==null&&oc(Is)&&(Is=null),Ni.forEach(Ry),wi.forEach(Ry)}function cc(t,n){t.blockedOn===n&&(t.blockedOn=null,df||(df=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jN)))}var uc=null;function Ty(t){uc!==t&&(uc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var n=0;n<t.length;n+=3){var r=t[n],i=t[n+1],u=t[n+2];if(typeof i!="function"){if(uf(i||r)===null)continue;break}var f=xn(r);f!==null&&(t.splice(n,3),n-=3,od(f,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function cl(t){function n(D){return cc(D,t)}Bs!==null&&cc(Bs,t),qs!==null&&cc(qs,t),Is!==null&&cc(Is,t),Ni.forEach(n),wi.forEach(n);for(var r=0;r<Fs.length;r++){var i=Fs[r];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Fs.length&&(r=Fs[0],r.blockedOn===null);)Oy(r),r.blockedOn===null&&Fs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],f=r[i+1],y=u[yt]||null;if(typeof f=="function")y||Ty(r);else if(y){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[yt]||null)S=y.formAction;else if(uf(u)!==null)continue}else S=y.action;typeof S=="function"?r[i+1]=S:(r.splice(i,3),i-=3),Ty(r)}}}function Dy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function ff(t){this._internalRoot=t}dc.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,i=fa();wy(r,i,t,n,null,null)},dc.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wy(t.current,2,null,t,null,null),Zo(),n[Ut]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Tt();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Fs.length&&n!==0&&n<Fs[r].priority;r++);Fs.splice(r,0,t),r===0&&Oy(t)}};var zy=a.version;if(zy!=="19.2.0")throw Error(l(527,zy,"19.2.0"));I.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var EN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{je=fc.inject(EN),Je=fc}catch{}}return Ei.createRoot=function(t,n){if(!c(t))throw Error(l(299));var r=!1,i="",u=Ip,f=Fp,y=$p;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Sy(t,1,!1,null,null,r,i,null,u,f,y,Dy),t[Ut]=n.current,Gd(t),new ff(n)},Ei.hydrateRoot=function(t,n,r){if(!c(t))throw Error(l(299));var i=!1,u="",f=Ip,y=Fp,S=$p,D=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=Sy(t,1,!0,n,r??null,i,u,D,f,y,S,Dy),n.context=Ny(null),r=n.current,i=fa(),i=Pt(i),u=Es(i),u.callback=null,As(r,u,i),r=i,n.current.lanes=r,Ee(n,r),Ga(n),t[Ut]=n.current,Gd(t),new dc(n)},Ei.version="19.2.0",Ei}var Hy;function UN(){if(Hy)return pf.exports;Hy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),pf.exports=kN(),pf.exports}var LN=UN();const BN=Sv(LN);var Vy="popstate";function qN(e={}){function a(l,c){let{pathname:d,search:m,hash:h}=l.location;return Yf("",{pathname:d,search:m,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:Ui(c)}return FN(a,s,null,e)}function Ht(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Ea(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function IN(){return Math.random().toString(36).substring(2,10)}function Zy(e,a){return{usr:e.state,key:e.key,idx:a}}function Yf(e,a,s=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?_l(a):a,state:s,key:a&&a.key||l||IN()}}function Ui({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function _l(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let l=e.indexOf("?");l>=0&&(a.search=e.substring(l),e=e.substring(0,l)),e&&(a.pathname=e)}return a}function FN(e,a,s,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,m=c.history,h="POP",g=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function x(){h="POP";let A=v(),B=A==null?null:A-p;p=A,g&&g({action:h,location:j.location,delta:B})}function N(A,B){h="PUSH";let T=Yf(j.location,A,B);p=v()+1;let J=Zy(T,p),k=j.createHref(T);try{m.pushState(J,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(k)}d&&g&&g({action:h,location:j.location,delta:1})}function q(A,B){h="REPLACE";let T=Yf(j.location,A,B);p=v();let J=Zy(T,p),k=j.createHref(T);m.replaceState(J,"",k),d&&g&&g({action:h,location:j.location,delta:0})}function _(A){return $N(A)}let j={get action(){return h},get location(){return e(c,m)},listen(A){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Vy,x),g=A,()=>{c.removeEventListener(Vy,x),g=null}},createHref(A){return a(c,A)},createURL:_,encodeLocation(A){let B=_(A);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:N,replace:q,go(A){return m.go(A)}};return j}function $N(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(s,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:Ui(e);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function Nv(e,a,s="/"){return HN(e,a,s,!1)}function HN(e,a,s,l){let c=typeof a=="string"?_l(a):a,d=ps(c.pathname||"/",s);if(d==null)return null;let m=wv(e);VN(m);let h=null;for(let g=0;h==null&&g<m.length;++g){let p=tw(d);h=WN(m[g],p,l)}return h}function wv(e,a=[],s=[],l="",c=!1){let d=(m,h,g=c,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&g)return;Ht(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=hs([l,v.relativePath]),N=s.concat(v);m.children&&m.children.length>0&&(Ht(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),wv(m.children,a,N,x,g)),!(m.path==null&&!m.index)&&a.push({path:x,score:XN(x,m.index),routesMeta:N})};return e.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let g of _v(m.path))d(m,h,!0,g)}),a}function _v(e){let a=e.split("/");if(a.length===0)return[];let[s,...l]=a,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let m=_v(l.join("/")),h=[];return h.push(...m.map(g=>g===""?d:[d,g].join("/"))),c&&h.push(...m),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function VN(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:JN(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var ZN=/^:[\w-]+$/,GN=3,QN=2,PN=1,YN=10,KN=-2,Gy=e=>e==="*";function XN(e,a){let s=e.split("/"),l=s.length;return s.some(Gy)&&(l+=KN),a&&(l+=QN),s.filter(c=>!Gy(c)).reduce((c,d)=>c+(ZN.test(d)?GN:d===""?PN:YN),l)}function JN(e,a){return e.length===a.length&&e.slice(0,-1).every((l,c)=>l===a[c])?e[e.length-1]-a[a.length-1]:0}function WN(e,a,s=!1){let{routesMeta:l}=e,c={},d="/",m=[];for(let h=0;h<l.length;++h){let g=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",x=Li({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),N=g.route;if(!x&&p&&s&&!l[l.length-1].route.index&&(x=Li({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:hs([d,x.pathname]),pathnameBase:rw(hs([d,x.pathnameBase])),route:N}),x.pathnameBase!=="/"&&(d=hs([d,x.pathnameBase]))}return m}function Li(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,l]=ew(e.path,e.caseSensitive,e.end),c=a.match(s);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},N)=>{if(v==="*"){let _=h[N]||"";m=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const q=h[N];return x&&!q?p[v]=void 0:p[v]=(q||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:e}}function ew(e,a=!1,s=!0){Ea(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,g)=>(l.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function tw(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ea(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function ps(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=e.charAt(s);return l&&l!=="/"?null:e.slice(s)||"/"}function nw(e,a="/"){let{pathname:s,search:l="",hash:c=""}=typeof e=="string"?_l(e):e;return{pathname:s?s.startsWith("/")?s:aw(s,a):a,search:lw(l),hash:iw(c)}}function aw(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function vf(e,a,s,l){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function jm(e){let a=sw(e);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function Em(e,a,s,l=!1){let c;typeof e=="string"?c=_l(e):(c={...e},Ht(!c.pathname||!c.pathname.includes("?"),vf("?","pathname","search",c)),Ht(!c.pathname||!c.pathname.includes("#"),vf("#","pathname","hash",c)),Ht(!c.search||!c.search.includes("#"),vf("#","search","hash",c)));let d=e===""||c.pathname==="",m=d?"/":c.pathname,h;if(m==null)h=s;else{let x=a.length-1;if(!l&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),x-=1;c.pathname=N.join("/")}h=x>=0?a[x]:"/"}let g=nw(c,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var hs=e=>e.join("/").replace(/\/\/+/g,"/"),rw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ow(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jv=["POST","PUT","PATCH","DELETE"];new Set(jv);var cw=["GET",...jv];new Set(cw);var jl=b.createContext(null);jl.displayName="DataRouter";var $c=b.createContext(null);$c.displayName="DataRouterState";b.createContext(!1);var Ev=b.createContext({isTransitioning:!1});Ev.displayName="ViewTransition";var uw=b.createContext(new Map);uw.displayName="Fetchers";var dw=b.createContext(null);dw.displayName="Await";var Aa=b.createContext(null);Aa.displayName="Navigation";var Vi=b.createContext(null);Vi.displayName="Location";var Ca=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ca.displayName="Route";var Am=b.createContext(null);Am.displayName="RouteError";function fw(e,{relative:a}={}){Ht(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=b.useContext(Aa),{hash:c,pathname:d,search:m}=Zi(e,{relative:a}),h=d;return s!=="/"&&(h=d==="/"?s:hs([s,d])),l.createHref({pathname:h,search:m,hash:c})}function El(){return b.useContext(Vi)!=null}function Fn(){return Ht(El(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Vi).location}var Av="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cv(e){b.useContext(Aa).static||b.useLayoutEffect(e)}function Er(){let{isDataRoute:e}=b.useContext(Ca);return e?Cw():mw()}function mw(){Ht(El(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(jl),{basename:a,navigator:s}=b.useContext(Aa),{matches:l}=b.useContext(Ca),{pathname:c}=Fn(),d=JSON.stringify(jm(l)),m=b.useRef(!1);return Cv(()=>{m.current=!0}),b.useCallback((g,p={})=>{if(Ea(m.current,Av),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=Em(g,JSON.parse(d),c,p.relative==="path");e==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:hs([a,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[a,s,d,c,e])}var hw=b.createContext(null);function pw(e){let a=b.useContext(Ca).outlet;return b.useMemo(()=>a&&b.createElement(hw.Provider,{value:e},a),[a,e])}function gw(){let{matches:e}=b.useContext(Ca),a=e[e.length-1];return a?a.params:{}}function Zi(e,{relative:a}={}){let{matches:s}=b.useContext(Ca),{pathname:l}=Fn(),c=JSON.stringify(jm(s));return b.useMemo(()=>Em(e,JSON.parse(c),l,a==="path"),[e,c,l,a])}function yw(e,a){return Ov(e,a)}function Ov(e,a,s,l,c){Ht(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(Aa),{matches:m}=b.useContext(Ca),h=m[m.length-1],g=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let T=x&&x.path||"";Rv(p,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let N=Fn(),q;if(a){let T=typeof a=="string"?_l(a):a;Ht(v==="/"||T.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${T.pathname}" was given in the \`location\` prop.`),q=T}else q=N;let _=q.pathname||"/",j=_;if(v!=="/"){let T=v.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=Nv(e,{pathname:j});Ea(x||A!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),Ea(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Nw(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},g,T.params),pathname:hs([v,d.encodeLocation?d.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?v:hs([v,d.encodeLocation?d.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),m,s,l,c);return a&&B?b.createElement(Vi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},B):B}function bw(){let e=Aw(),a=ow(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:c},s):null,m)}var vw=b.createElement(bw,null),xw=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ca.Provider,{value:this.props.routeContext},b.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sw({routeContext:e,match:a,children:s}){let l=b.useContext(jl);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(Ca.Provider,{value:e},s)}function Nw(e,a=[],s=null,l=null,c=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let d=e,m=s?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);Ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,g=-1;if(s)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=p),v.route.id){let{loaderData:x,errors:N}=s,q=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!N||N[v.route.id]===void 0);if(v.route.lazy||q){h=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,v,x)=>{let N,q=!1,_=null,j=null;s&&(N=m&&v.route.id?m[v.route.id]:void 0,_=v.route.errorElement||vw,h&&(g<0&&x===0?(Rv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,j=null):g===x&&(q=!0,j=v.route.hydrateFallbackElement||null)));let A=a.concat(d.slice(0,x+1)),B=()=>{let T;return N?T=_:q?T=j:v.route.Component?T=b.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=p,b.createElement(Sw,{match:v,routeContext:{outlet:p,matches:A,isDataRoute:s!=null},children:T})};return s&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?b.createElement(xw,{location:s.location,revalidation:s.revalidation,component:_,error:N,children:B(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:l}):B()},null)}function Cm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ww(e){let a=b.useContext(jl);return Ht(a,Cm(e)),a}function _w(e){let a=b.useContext($c);return Ht(a,Cm(e)),a}function jw(e){let a=b.useContext(Ca);return Ht(a,Cm(e)),a}function Om(e){let a=jw(e),s=a.matches[a.matches.length-1];return Ht(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Ew(){return Om("useRouteId")}function Aw(){let e=b.useContext(Am),a=_w("useRouteError"),s=Om("useRouteError");return e!==void 0?e:a.errors?.[s]}function Cw(){let{router:e}=ww("useNavigate"),a=Om("useNavigate"),s=b.useRef(!1);return Cv(()=>{s.current=!0}),b.useCallback(async(c,d={})=>{Ea(s.current,Av),s.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:a,...d}))},[e,a])}var Qy={};function Rv(e,a,s){!a&&!Qy[e]&&(Qy[e]=!0,Ea(!1,s))}b.memo(Ow);function Ow({routes:e,future:a,state:s,unstable_onError:l}){return Ov(e,void 0,s,l,a)}function Zs({to:e,replace:a,state:s,relative:l}){Ht(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(Aa);Ea(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(Ca),{pathname:m}=Fn(),h=Er(),g=Em(e,jm(d),m,l==="path"),p=JSON.stringify(g);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:s,relative:l})},[h,p,l,a,s]),null}function Tv(e){return pw(e.context)}function Zt(e){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rw({basename:e="/",children:a=null,location:s,navigationType:l="POP",navigator:c,static:d=!1}){Ht(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof s=="string"&&(s=_l(s));let{pathname:g="/",search:p="",hash:v="",state:x=null,key:N="default"}=s,q=b.useMemo(()=>{let _=ps(g,m);return _==null?null:{location:{pathname:_,search:p,hash:v,state:x,key:N},navigationType:l}},[m,g,p,v,x,N,l]);return Ea(q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:b.createElement(Aa.Provider,{value:h},b.createElement(Vi.Provider,{children:a,value:q}))}function Tw({children:e,location:a}){return yw(Kf(e),a)}function Kf(e,a=[]){let s=[];return b.Children.forEach(e,(l,c)=>{if(!b.isValidElement(l))return;let d=[...a,c];if(l.type===b.Fragment){s.push.apply(s,Kf(l.props.children,d));return}Ht(l.type===Zt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Kf(l.props.children,d)),s.push(m)}),s}var Nc="get",wc="application/x-www-form-urlencoded";function Hc(e){return e!=null&&typeof e.tagName=="string"}function Dw(e){return Hc(e)&&e.tagName.toLowerCase()==="button"}function zw(e){return Hc(e)&&e.tagName.toLowerCase()==="form"}function Mw(e){return Hc(e)&&e.tagName.toLowerCase()==="input"}function kw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Uw(e,a){return e.button===0&&(!a||a==="_self")&&!kw(e)}function Xf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,s)=>{let l=e[s];return a.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function Lw(e,a){let s=Xf(e);return a&&a.forEach((l,c)=>{s.has(c)||a.getAll(c).forEach(d=>{s.append(c,d)})}),s}var mc=null;function Bw(){if(mc===null)try{new FormData(document.createElement("form"),0),mc=!1}catch{mc=!0}return mc}var qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xf(e){return e!=null&&!qw.has(e)?(Ea(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wc}"`),null):e}function Iw(e,a){let s,l,c,d,m;if(zw(e)){let h=e.getAttribute("action");l=h?ps(h,a):null,s=e.getAttribute("method")||Nc,c=xf(e.getAttribute("enctype"))||wc,d=new FormData(e)}else if(Dw(e)||Mw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||h.getAttribute("action");if(l=g?ps(g,a):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||Nc,c=xf(e.getAttribute("formenctype"))||xf(h.getAttribute("enctype"))||wc,d=new FormData(h,e),!Bw()){let{name:p,type:v,value:x}=e;if(v==="image"){let N=p?`${p}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else p&&d.append(p,x)}}else{if(Hc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Nc,l=null,c=wc,m=e}return d&&c==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rm(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Fw(e,a,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&ps(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function $w(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Vw(e,a,s){let l=await Promise.all(e.map(async c=>{let d=a.routes[c.route.id];if(d){let m=await $w(d,s);return m.links?m.links():[]}return[]}));return Pw(l.flat(1).filter(Hw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Py(e,a,s,l,c,d){let m=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,h=(g,p)=>s[p].pathname!==g.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==g.params["*"];return d==="assets"?a.filter((g,p)=>m(g,p)||h(g,p)):d==="data"?a.filter((g,p)=>{let v=l.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(m(g,p)||h(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Zw(e,a,{includeHydrateFallback:s}={}){return Gw(e.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Gw(e){return[...new Set(e)]}function Qw(e){let a={},s=Object.keys(e).sort();for(let l of s)a[l]=e[l];return a}function Pw(e,a){let s=new Set;return new Set(a),e.reduce((l,c)=>{let d=JSON.stringify(Qw(c));return s.has(d)||(s.add(d),l.push({key:d,link:c})),l},[])}function Dv(){let e=b.useContext(jl);return Rm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Yw(){let e=b.useContext($c);return Rm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Tm=b.createContext(void 0);Tm.displayName="FrameworkContext";function zv(){let e=b.useContext(Tm);return Rm(e,"You must render this element inside a <HydratedRouter> element"),e}function Kw(e,a){let s=b.useContext(Tm),[l,c]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=a,N=b.useRef(null);b.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let j=B=>{B.forEach(T=>{m(T.isIntersecting)})},A=new IntersectionObserver(j,{threshold:.5});return N.current&&A.observe(N.current),()=>{A.disconnect()}}},[e]),b.useEffect(()=>{if(l){let j=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(j)}}},[l]);let q=()=>{c(!0)},_=()=>{c(!1),m(!1)};return s?e!=="intent"?[d,N,{}]:[d,N,{onFocus:Ai(h,q),onBlur:Ai(g,_),onMouseEnter:Ai(p,q),onMouseLeave:Ai(v,_),onTouchStart:Ai(x,q)}]:[!1,N,{}]}function Ai(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function Xw({page:e,...a}){let{router:s}=Dv(),l=b.useMemo(()=>Nv(s.routes,e,s.basename),[s.routes,e,s.basename]);return l?b.createElement(Ww,{page:e,matches:l,...a}):null}function Jw(e){let{manifest:a,routeModules:s}=zv(),[l,c]=b.useState([]);return b.useEffect(()=>{let d=!1;return Vw(e,a,s).then(m=>{d||c(m)}),()=>{d=!0}},[e,a,s]),l}function Ww({page:e,matches:a,...s}){let l=Fn(),{manifest:c,routeModules:d}=zv(),{basename:m}=Dv(),{loaderData:h,matches:g}=Yw(),p=b.useMemo(()=>Py(e,a,g,c,l,"data"),[e,a,g,c,l]),v=b.useMemo(()=>Py(e,a,g,c,l,"assets"),[e,a,g,c,l]),x=b.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let _=new Set,j=!1;if(a.forEach(B=>{let T=c.routes[B.route.id];!T||!T.hasLoader||(!p.some(J=>J.route.id===B.route.id)&&B.route.id in h&&d[B.route.id]?.shouldRevalidate||T.hasClientLoader?j=!0:_.add(B.route.id))}),_.size===0)return[];let A=Fw(e,m,"data");return j&&_.size>0&&A.searchParams.set("_routes",a.filter(B=>_.has(B.route.id)).map(B=>B.route.id).join(",")),[A.pathname+A.search]},[m,h,l,c,p,a,e,d]),N=b.useMemo(()=>Zw(v,c),[v,c]),q=Jw(v);return b.createElement(b.Fragment,null,x.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),N.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),q.map(({key:_,link:j})=>b.createElement("link",{key:_,nonce:s.nonce,...j})))}function e_(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mv&&(window.__reactRouterVersion="7.9.5")}catch{}function t_({basename:e,children:a,window:s}){let l=b.useRef();l.current==null&&(l.current=qN({window:s,v5Compat:!0}));let c=l.current,[d,m]=b.useState({action:c.action,location:c.location}),h=b.useCallback(g=>{b.startTransition(()=>m(g))},[m]);return b.useLayoutEffect(()=>c.listen(h),[c,h]),b.createElement(Rw,{basename:e,children:a,location:d.location,navigationType:d.action,navigator:c})}var kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ac=b.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:m,state:h,target:g,to:p,preventScrollReset:v,viewTransition:x,...N},q){let{basename:_}=b.useContext(Aa),j=typeof p=="string"&&kv.test(p),A,B=!1;if(typeof p=="string"&&j&&(A=p,Mv))try{let ie=new URL(window.location.href),Ne=p.startsWith("//")?new URL(ie.protocol+p):new URL(p),xe=ps(Ne.pathname,_);Ne.origin===ie.origin&&xe!=null?p=xe+Ne.search+Ne.hash:B=!0}catch{Ea(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=fw(p,{relative:c}),[J,k,O]=Kw(l,N),$=s_(p,{replace:m,state:h,target:g,preventScrollReset:v,relative:c,viewTransition:x});function U(ie){a&&a(ie),ie.defaultPrevented||$(ie)}let Y=b.createElement("a",{...N,...O,href:A||T,onClick:B||d?a:U,ref:e_(q,k),target:g,"data-discover":!j&&s==="render"?"true":void 0});return J&&!j?b.createElement(b.Fragment,null,Y,b.createElement(Xw,{page:T})):Y});Ac.displayName="Link";var Uv=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:h,children:g,...p},v){let x=Zi(m,{relative:p.relative}),N=Fn(),q=b.useContext($c),{navigator:_,basename:j}=b.useContext(Aa),A=q!=null&&c_(x)&&h===!0,B=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,T=N.pathname,J=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;s||(T=T.toLowerCase(),J=J?J.toLowerCase():null,B=B.toLowerCase()),J&&j&&(J=ps(J,j)||J);const k=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let O=T===B||!c&&T.startsWith(B)&&T.charAt(k)==="/",$=J!=null&&(J===B||!c&&J.startsWith(B)&&J.charAt(B.length)==="/"),U={isActive:O,isPending:$,isTransitioning:A},Y=O?a:void 0,ie;typeof l=="function"?ie=l(U):ie=[l,O?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof d=="function"?d(U):d;return b.createElement(Ac,{...p,"aria-current":Y,className:ie,ref:v,style:Ne,to:m,viewTransition:h},typeof g=="function"?g(U):g)});Uv.displayName="NavLink";var n_=b.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:c,state:d,method:m=Nc,action:h,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:x,...N},q)=>{let _=i_(),j=o_(h,{relative:p}),A=m.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&kv.test(h),T=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let k=J.nativeEvent.submitter,O=k?.getAttribute("formmethod")||m;_(k||J.currentTarget,{fetcherKey:a,method:O,navigate:s,replace:c,state:d,relative:p,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:q,method:A,action:j,onSubmit:l?g:T,...N,"data-discover":!B&&e==="render"?"true":void 0})});n_.displayName="Form";function a_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lv(e){let a=b.useContext(jl);return Ht(a,a_(e)),a}function s_(e,{target:a,replace:s,state:l,preventScrollReset:c,relative:d,viewTransition:m}={}){let h=Er(),g=Fn(),p=Zi(e,{relative:d});return b.useCallback(v=>{if(Uw(v,a)){v.preventDefault();let x=s!==void 0?s:Ui(g)===Ui(p);h(e,{replace:x,state:l,preventScrollReset:c,relative:d,viewTransition:m})}},[g,h,p,s,l,a,e,c,d,m])}function Bv(e){Ea(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Xf(e)),s=b.useRef(!1),l=Fn(),c=b.useMemo(()=>Lw(l.search,s.current?null:a.current),[l.search]),d=Er(),m=b.useCallback((h,g)=>{const p=Xf(typeof h=="function"?h(new URLSearchParams(c)):h);s.current=!0,d("?"+p,g)},[d,c]);return[c,m]}var r_=0,l_=()=>`__${String(++r_)}__`;function i_(){let{router:e}=Lv("useSubmit"),{basename:a}=b.useContext(Aa),s=Ew();return b.useCallback(async(l,c={})=>{let{action:d,method:m,encType:h,formData:g,body:p}=Iw(l,a);if(c.navigate===!1){let v=c.fetcherKey||l_();await e.fetch(v,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,a,s])}function o_(e,{relative:a}={}){let{basename:s}=b.useContext(Aa),l=b.useContext(Ca);Ht(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Zi(e||".",{relative:a})},m=Fn();if(e==null){d.search=m.search;let h=new URLSearchParams(d.search),g=h.getAll("index");if(g.some(v=>v==="")){h.delete("index"),g.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:hs([s,d.pathname])),Ui(d)}function c_(e,{relative:a}={}){let s=b.useContext(Ev);Ht(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Lv("useViewTransitionState"),c=Zi(e,{relative:a});if(!s.isTransitioning)return!1;let d=ps(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=ps(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Li(c.pathname,m)!=null||Li(c.pathname,d)!=null}var Al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},u_={setTimeout:(e,a)=>setTimeout(e,a),clearTimeout:e=>clearTimeout(e),setInterval:(e,a)=>setInterval(e,a),clearInterval:e=>clearInterval(e)},d_=class{#e=u_;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,a){return this.#e.setTimeout(e,a)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,a){return this.#e.setInterval(e,a)}clearInterval(e){this.#e.clearInterval(e)}},gr=new d_;function f_(e){setTimeout(e,0)}var xr=typeof window>"u"||"Deno"in globalThis;function In(){}function m_(e,a){return typeof e=="function"?e(a):e}function Jf(e){return typeof e=="number"&&e>=0&&e!==1/0}function qv(e,a){return Math.max(e+(a||0)-Date.now(),0)}function Gs(e,a){return typeof e=="function"?e(a):e}function wa(e,a){return typeof e=="function"?e(a):e}function Yy(e,a){const{type:s="all",exact:l,fetchStatus:c,predicate:d,queryKey:m,stale:h}=e;if(m){if(l){if(a.queryHash!==Dm(m,a.options))return!1}else if(!Bi(a.queryKey,m))return!1}if(s!=="all"){const g=a.isActive();if(s==="active"&&!g||s==="inactive"&&g)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||c&&c!==a.state.fetchStatus||d&&!d(a))}function Ky(e,a){const{exact:s,status:l,predicate:c,mutationKey:d}=e;if(d){if(!a.options.mutationKey)return!1;if(s){if(Sr(a.options.mutationKey)!==Sr(d))return!1}else if(!Bi(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||c&&!c(a))}function Dm(e,a){return(a?.queryKeyHashFn||Sr)(e)}function Sr(e){return JSON.stringify(e,(a,s)=>Wf(s)?Object.keys(s).sort().reduce((l,c)=>(l[c]=s[c],l),{}):s)}function Bi(e,a){return e===a?!0:typeof e!=typeof a?!1:e&&a&&typeof e=="object"&&typeof a=="object"?Object.keys(a).every(s=>Bi(e[s],a[s])):!1}var h_=Object.prototype.hasOwnProperty;function Iv(e,a){if(e===a)return e;const s=Xy(e)&&Xy(a);if(!s&&!(Wf(e)&&Wf(a)))return a;const c=(s?e:Object.keys(e)).length,d=s?a:Object.keys(a),m=d.length,h=s?new Array(m):{};let g=0;for(let p=0;p<m;p++){const v=s?p:d[p],x=e[v],N=a[v];if(x===N){h[v]=x,(s?p<c:h_.call(e,v))&&g++;continue}if(x===null||N===null||typeof x!="object"||typeof N!="object"){h[v]=N;continue}const q=Iv(x,N);h[v]=q,q===x&&g++}return c===m&&g===c?e:h}function Cc(e,a){if(!a||Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}function Xy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wf(e){if(!Jy(e))return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(!Jy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jy(e){return Object.prototype.toString.call(e)==="[object Object]"}function p_(e){return new Promise(a=>{gr.setTimeout(a,e)})}function em(e,a,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,a):s.structuralSharing!==!1?Iv(e,a):a}function g_(e,a,s=0){const l=[...e,a];return s&&l.length>s?l.slice(1):l}function y_(e,a,s=0){const l=[a,...e];return s&&l.length>s?l.slice(0,-1):l}var zm=Symbol();function Fv(e,a){return!e.queryFn&&a?.initialPromise?()=>a.initialPromise:!e.queryFn||e.queryFn===zm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $v(e,a){return typeof e=="function"?e(...a):!!e}var b_=class extends Al{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mm=new b_;function tm(){let e,a;const s=new Promise((c,d)=>{e=c,a=d});s.status="pending",s.catch(()=>{});function l(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{l({status:"fulfilled",value:c}),e(c)},s.reject=c=>{l({status:"rejected",reason:c}),a(c)},s}var v_=f_;function x_(){let e=[],a=0,s=h=>{h()},l=h=>{h()},c=v_;const d=h=>{a?e.push(h):c(()=>{s(h)})},m=()=>{const h=e;e=[],h.length&&c(()=>{l(()=>{h.forEach(g=>{s(g)})})})};return{batch:h=>{let g;a++;try{g=h()}finally{a--,a||m()}return g},batchCalls:h=>(...g)=>{d(()=>{h(...g)})},schedule:d,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{c=h}}}var gn=x_(),S_=class extends Al{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!xr&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Oc=new S_;function N_(e){return Math.min(1e3*2**e,3e4)}function Hv(e){return(e??"online")==="online"?Oc.isOnline():!0}var nm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Vv(e){let a=!1,s=0,l;const c=tm(),d=()=>c.status!=="pending",m=j=>{if(!d()){const A=new nm(j);N(A),e.onCancel?.(A)}},h=()=>{a=!0},g=()=>{a=!1},p=()=>Mm.isFocused()&&(e.networkMode==="always"||Oc.isOnline())&&e.canRun(),v=()=>Hv(e.networkMode)&&e.canRun(),x=j=>{d()||(l?.(),c.resolve(j))},N=j=>{d()||(l?.(),c.reject(j))},q=()=>new Promise(j=>{l=A=>{(d()||p())&&j(A)},e.onPause?.()}).then(()=>{l=void 0,d()||e.onContinue?.()}),_=()=>{if(d())return;let j;const A=s===0?e.initialPromise:void 0;try{j=A??e.fn()}catch(B){j=Promise.reject(B)}Promise.resolve(j).then(x).catch(B=>{if(d())return;const T=e.retry??(xr?0:3),J=e.retryDelay??N_,k=typeof J=="function"?J(s,B):J,O=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,B);if(a||!O){N(B);return}s++,e.onFail?.(s,B),p_(k).then(()=>p()?void 0:q()).then(()=>{a?N(B):_()})})};return{promise:c,status:()=>c.status,cancel:m,continue:()=>(l?.(),c),cancelRetry:h,continueRetry:g,canStart:v,start:()=>(v()?_():q().then(_),c)}}var Zv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jf(this.gcTime)&&(this.#e=gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gr.clearTimeout(this.#e),this.#e=void 0)}},w_=class extends Zv{#e;#t;#n;#s;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=eb(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=eb(this.options);a.data!==void 0&&(this.setState(Wy(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,a){const s=em(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),s}setState(e,a){this.#r({type:"setState",state:e,setStateOptions:a})}cancel(e){const a=this.#a?.promise;return this.#a?.cancel(e),a?a.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>wa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!qv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,s.signal)})},c=()=>{const h=Fv(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=Vv({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof nm&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(h,g)=>{this.#r({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof nm){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Gv(s.data,this.options),fetchMeta:e.meta??null};case"success":const l={...s,...Wy(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?l:void 0,l;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),gn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Gv(e,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hv(a.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Wy(e,a){return{data:e,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function eb(e){const a=typeof e.initialData=="function"?e.initialData():e.initialData,s=a!==void 0,l=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var __=class extends Al{constructor(e,a){super(),this.options=a,this.#e=e,this.#r=null,this.#i=tm(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),tb(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return am(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return am(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const a=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),a._defaulted&&!Cc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&nb(this.#t,s,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==s||wa(this.options.enabled,this.#t)!==wa(a.enabled,this.#t)||Gs(this.options.staleTime,this.#t)!==Gs(a.staleTime,this.#t))&&this.#g();const c=this.#y();l&&(this.#t!==s||wa(this.options.enabled,this.#t)!==wa(a.enabled,this.#t)||c!==this.#o)&&this.#b(c)}getOptimisticResult(e){const a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return E_(this,s)&&(this.#s=s,this.#l=this.options,this.#a=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,a){return new Proxy(e,{get:(s,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,l))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,a);return s.fetch().then(()=>this.createResult(s,a))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#N();let a=this.#t.fetch(this.options,e);return e?.throwOnError||(a=a.catch(In)),a}#g(){this.#x();const e=Gs(this.options.staleTime,this.#t);if(xr||this.#s.isStale||!Jf(e))return;const s=qv(this.#s.dataUpdatedAt,e)+1;this.#c=gr.setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#o=e,!(xr||wa(this.options.enabled,this.#t)===!1||!Jf(this.#o)||this.#o===0)&&(this.#u=gr.setInterval(()=>{(this.options.refetchIntervalInBackground||Mm.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(gr.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(gr.clearInterval(this.#u),this.#u=void 0)}createResult(e,a){const s=this.#t,l=this.options,c=this.#s,d=this.#a,m=this.#l,g=e!==s?e.state:this.#n,{state:p}=e;let v={...p},x=!1,N;if(a._optimisticResults){const Y=this.hasListeners(),ie=!Y&&tb(e,a),Ne=Y&&nb(e,s,a,l);(ie||Ne)&&(v={...v,...Gv(p.data,e.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:q,errorUpdatedAt:_,status:j}=v;N=v.data;let A=!1;if(a.placeholderData!==void 0&&N===void 0&&j==="pending"){let Y;c?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(Y=c.data,A=!0):Y=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,Y!==void 0&&(j="success",N=em(c?.data,Y,a),x=!0)}if(a.select&&N!==void 0&&!A)if(c&&N===d?.data&&a.select===this.#p)N=this.#f;else try{this.#p=a.select,N=a.select(N),N=em(c?.data,N,a),this.#f=N,this.#r=null}catch(Y){this.#r=Y}this.#r&&(q=this.#r,N=this.#f,_=Date.now(),j="error");const B=v.fetchStatus==="fetching",T=j==="pending",J=j==="error",k=T&&B,O=N!==void 0,U={status:j,fetchStatus:v.fetchStatus,isPending:T,isSuccess:j==="success",isError:J,isInitialLoading:k,isLoading:k,data:N,dataUpdatedAt:v.dataUpdatedAt,error:q,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:B,isRefetching:B&&!T,isLoadingError:J&&!O,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:J&&O,isStale:km(e,a),refetch:this.refetch,promise:this.#i,isEnabled:wa(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const Y=xe=>{U.status==="error"?xe.reject(U.error):U.data!==void 0&&xe.resolve(U.data)},ie=()=>{const xe=this.#i=U.promise=tm();Y(xe)},Ne=this.#i;switch(Ne.status){case"pending":e.queryHash===s.queryHash&&Y(Ne);break;case"fulfilled":(U.status==="error"||U.data!==Ne.value)&&ie();break;case"rejected":(U.status!=="error"||U.error!==Ne.reason)&&ie();break}}return U}updateResult(){const e=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),Cc(a,e))return;this.#s=a;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#h.size)return!0;const d=new Set(c??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==e[h]&&d.has(h)})};this.#w({listeners:s()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const a=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(a?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(e){gn.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function j_(e,a){return wa(a.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&a.retryOnMount===!1)}function tb(e,a){return j_(e,a)||e.state.data!==void 0&&am(e,a,a.refetchOnMount)}function am(e,a,s){if(wa(a.enabled,e)!==!1&&Gs(a.staleTime,e)!=="static"){const l=typeof s=="function"?s(e):s;return l==="always"||l!==!1&&km(e,a)}return!1}function nb(e,a,s,l){return(e!==a||wa(l.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&km(e,s)}function km(e,a){return wa(a.enabled,e)!==!1&&e.isStaleByTime(Gs(a.staleTime,e))}function E_(e,a){return!Cc(e.getCurrentResult(),a)}function ab(e){return{onFetch:(a,s)=>{const l=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},g=0;const p=async()=>{let v=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},N=Fv(a.options,a.fetchOptions),q=async(_,j,A)=>{if(v)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const $={client:a.client,queryKey:a.queryKey,pageParam:j,direction:A?"backward":"forward",meta:a.options.meta};return x($),$})(),J=await N(T),{maxPages:k}=a.options,O=A?y_:g_;return{pages:O(_.pages,J,k),pageParams:O(_.pageParams,j,k)}};if(c&&d.length){const _=c==="backward",j=_?A_:sb,A={pages:d,pageParams:m},B=j(l,A);h=await q(A,B,_)}else{const _=e??d.length;do{const j=g===0?m[0]??l.initialPageParam:sb(l,h);if(g>0&&j==null)break;h=await q(h,j),g++}while(g<_)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},s):a.fetchFn=p}}}function sb(e,{pages:a,pageParams:s}){const l=a.length-1;return a.length>0?e.getNextPageParam(a[l],a,s[l],s):void 0}function A_(e,{pages:a,pageParams:s}){return a.length>0?e.getPreviousPageParam?.(a[0],a,s[0],s):void 0}var C_=class extends Zv{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Qv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(a=>a!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const a=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Vv({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:e,isPaused:c}),await this.#n.config.onMutate?.(e,this,s);const m=await this.options.onMutate?.(e,s);m!==this.state.context&&this.#a({type:"pending",context:m,variables:e,isPaused:c})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,e,this.state.context,this,s),await this.options.onSuccess?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(d,null,e,this.state.context,s),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,e,this.state.context,this,s),await this.options.onError?.(d,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,d,e,this.state.context,s),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),gn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Qv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var O_=class extends Al{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,a,s){const l=new C_({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(a),state:s});return this.add(l),l}add(e){this.#e.add(e);const a=hc(e);if(typeof a=="string"){const s=this.#t.get(a);s?s.push(e):this.#t.set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const a=hc(e);if(typeof a=="string"){const s=this.#t.get(a);if(s)if(s.length>1){const l=s.indexOf(e);l!==-1&&s.splice(l,1)}else s[0]===e&&this.#t.delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=hc(e);if(typeof a=="string"){const l=this.#t.get(a)?.find(c=>c.state.status==="pending");return!l||l===e}else return!0}runNext(e){const a=hc(e);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==e&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){gn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Ky(a,s))}findAll(e={}){return this.getAll().filter(a=>Ky(e,a))}notify(e){gn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return gn.batch(()=>Promise.all(e.map(a=>a.continue().catch(In))))}};function hc(e){return e.options.scope?.id}var R_=class extends Al{#e;#t=void 0;#n;#s;constructor(a,s){super(),this.#e=a,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const s=this.options;this.options=this.#e.defaultMutationOptions(a),Cc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&Sr(s.mutationKey)!==Sr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,s){return this.#s=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Qv();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){gn.batch(()=>{if(this.#s&&this.hasListeners()){const s=this.#t.variables,l=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,s,l,c),this.#s.onSettled?.(a.data,null,s,l,c)):a?.type==="error"&&(this.#s.onError?.(a.error,s,l,c),this.#s.onSettled?.(void 0,a.error,s,l,c))}this.listeners.forEach(s=>{s(this.#t)})})}},T_=class extends Al{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,a,s){const l=a.queryKey,c=a.queryHash??Dm(l,a);let d=this.get(c);return d||(d=new w_({client:e,queryKey:l,queryHash:c,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(d)),d}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=this.#e.get(e.queryHash);a&&(e.destroy(),a===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>Yy(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>Yy(e,s)):a}notify(e){gn.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},D_=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(e={}){this.#e=e.queryCache||new T_,this.#t=e.mutationCache||new O_,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=Mm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Oc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(e){const a=this.defaultQueryOptions(e),s=this.#e.build(this,a),l=s.state.data;return l===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Gs(a.staleTime,s))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:a,state:s})=>{const l=s.data;return[a,l]})}setQueryData(e,a,s){const l=this.defaultQueryOptions({queryKey:e}),d=this.#e.get(l.queryHash)?.state.data,m=m_(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...s,manual:!0})}setQueriesData(e,a,s){return gn.batch(()=>this.#e.findAll(e).map(({queryKey:l})=>[l,this.setQueryData(l,a,s)]))}getQueryState(e){const a=this.defaultQueryOptions({queryKey:e});return this.#e.get(a.queryHash)?.state}removeQueries(e){const a=this.#e;gn.batch(()=>{a.findAll(e).forEach(s=>{a.remove(s)})})}resetQueries(e,a){const s=this.#e;return gn.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...e},a)))}cancelQueries(e,a={}){const s={revert:!0,...a},l=gn.batch(()=>this.#e.findAll(e).map(c=>c.cancel(s)));return Promise.all(l).then(In).catch(In)}invalidateQueries(e,a={}){return gn.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},a)))}refetchQueries(e,a={}){const s={...a,cancelRefetch:a.cancelRefetch??!0},l=gn.batch(()=>this.#e.findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(In)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(In)}fetchQuery(e){const a=this.defaultQueryOptions(e);a.retry===void 0&&(a.retry=!1);const s=this.#e.build(this,a);return s.isStaleByTime(Gs(a.staleTime,s))?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(In).catch(In)}fetchInfiniteQuery(e){return e.behavior=ab(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(In).catch(In)}ensureInfiniteQueryData(e){return e.behavior=ab(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,a){this.#s.set(Sr(e),{queryKey:e,defaultOptions:a})}getQueryDefaults(e){const a=[...this.#s.values()],s={};return a.forEach(l=>{Bi(e,l.queryKey)&&Object.assign(s,l.defaultOptions)}),s}setMutationDefaults(e,a){this.#a.set(Sr(e),{mutationKey:e,defaultOptions:a})}getMutationDefaults(e){const a=[...this.#a.values()],s={};return a.forEach(l=>{Bi(e,l.mutationKey)&&Object.assign(s,l.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const a={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return a.queryHash||(a.queryHash=Dm(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===zm&&(a.enabled=!1),a}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Pv=b.createContext(void 0),Um=e=>{const a=b.useContext(Pv);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},z_=({client:e,children:a})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Pv.Provider,{value:e,children:a})),Yv=b.createContext(!1),M_=()=>b.useContext(Yv);Yv.Provider;function k_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var U_=b.createContext(k_()),L_=()=>b.useContext(U_),B_=(e,a)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(a.isReset()||(e.retryOnMount=!1))},q_=e=>{b.useEffect(()=>{e.clearReset()},[e])},I_=({result:e,errorResetBoundary:a,throwOnError:s,query:l,suspense:c})=>e.isError&&!a.isReset()&&!e.isFetching&&l&&(c&&e.data===void 0||$v(s,[e.error,l])),F_=e=>{if(e.suspense){const s=c=>c==="static"?c:Math.max(c??1e3,1e3),l=e.staleTime;e.staleTime=typeof l=="function"?(...c)=>s(l(...c)):s(l),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$_=(e,a)=>e.isLoading&&e.isFetching&&!a,H_=(e,a)=>e?.suspense&&a.isPending,rb=(e,a,s)=>a.fetchOptimistic(e).catch(()=>{s.clearReset()});function V_(e,a,s){const l=M_(),c=L_(),d=Um(),m=d.defaultQueryOptions(e);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",F_(m),B_(m,c),q_(c);const h=!d.getQueryCache().get(m.queryHash),[g]=b.useState(()=>new a(d,m)),p=g.getOptimisticResult(m),v=!l&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const N=v?g.subscribe(gn.batchCalls(x)):In;return g.updateResult(),N},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),b.useEffect(()=>{g.setOptions(m)},[m,g]),H_(m,p))throw rb(m,g,c);if(I_({result:p,errorResetBoundary:c,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!xr&&$_(p,l)&&(h?rb(m,g,c):d.getQueryCache().get(m.queryHash)?.promise)?.catch(In).finally(()=>{g.updateResult()}),m.notifyOnChangeProps?p:g.trackResult(p)}function Nr(e,a){return V_(e,__)}function Z_(e,a){const s=Um(),[l]=b.useState(()=>new R_(s,e));b.useEffect(()=>{l.setOptions(e)},[l,e]);const c=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(gn.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(In)},[l]);if(c.error&&$v(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}var Gi=e=>e.type==="checkbox",yr=e=>e instanceof Date,ea=e=>e==null;const Kv=e=>typeof e=="object";var dn=e=>!ea(e)&&!Array.isArray(e)&&Kv(e)&&!yr(e),G_=e=>dn(e)&&e.target?Gi(e.target)?e.target.checked:e.target.value:e,Q_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,P_=(e,a)=>e.has(Q_(a)),Y_=e=>{const a=e.constructor&&e.constructor.prototype;return dn(a)&&a.hasOwnProperty("isPrototypeOf")},Lm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(e){let a;const s=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)a=new Date(e);else if(!(Lm&&(e instanceof Blob||l))&&(s||dn(e)))if(a=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Y_(e))a=e;else for(const c in e)e.hasOwnProperty(c)&&(a[c]=$t(e[c]));else return e;return a}var Vc=e=>/^\w*$/.test(e),qt=e=>e===void 0,Zc=e=>Array.isArray(e)?e.filter(Boolean):[],Bm=e=>Zc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(e,a,s)=>{if(!a||!dn(e))return s;const l=(Vc(a)?[a]:Bm(a)).reduce((c,d)=>ea(c)?c:c[d],e);return qt(l)||l===e?qt(e[a])?s:e[a]:l},Pa=e=>typeof e=="boolean",Et=(e,a,s)=>{let l=-1;const c=Vc(a)?[a]:Bm(a),d=c.length,m=d-1;for(;++l<d;){const h=c[l];let g=s;if(l!==m){const p=e[h];g=dn(p)||Array.isArray(p)?p:isNaN(+c[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=g,e=e[h]}};const lb={BLUR:"blur",FOCUS_OUT:"focusout"},_a={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Xv=lt.createContext(null);Xv.displayName="HookFormContext";const Jv=()=>lt.useContext(Xv);var K_=(e,a,s,l=!0)=>{const c={defaultValues:a._defaultValues};for(const d in e)Object.defineProperty(c,d,{get:()=>{const m=d;return a._proxyFormState[m]!==_a.all&&(a._proxyFormState[m]=!l||_a.all),e[m]}});return c};const qm=typeof window<"u"?lt.useLayoutEffect:lt.useEffect;var ma=e=>typeof e=="string",sm=(e,a,s,l,c)=>ma(e)?(l&&a.watch.add(e),Be(s,e,c)):Array.isArray(e)?e.map(d=>(l&&a.watch.add(d),Be(s,d))):(l&&(a.watchAll=!0),s),rm=e=>ea(e)||!Kv(e);function qa(e,a,s=new WeakSet){if(rm(e)||rm(a))return e===a;if(yr(e)&&yr(a))return e.getTime()===a.getTime();const l=Object.keys(e),c=Object.keys(a);if(l.length!==c.length)return!1;if(s.has(e)||s.has(a))return!0;s.add(e),s.add(a);for(const d of l){const m=e[d];if(!c.includes(d))return!1;if(d!=="ref"){const h=a[d];if(yr(m)&&yr(h)||dn(m)&&dn(h)||Array.isArray(m)&&Array.isArray(h)?!qa(m,h,s):m!==h)return!1}}return!0}function Ci(e){const a=Jv(),{control:s=a.control,name:l,defaultValue:c,disabled:d,exact:m,compute:h}=e||{},g=lt.useRef(c),p=lt.useRef(h),v=lt.useRef(void 0),x=lt.useRef(s),N=lt.useRef(l);p.current=h;const[q,_]=lt.useState(()=>{const k=s._getWatch(l,g.current);return p.current?p.current(k):k}),j=lt.useCallback(k=>{const O=sm(l,s._names,k||s._formValues,!1,g.current);return p.current?p.current(O):O},[s._formValues,s._names,l]),A=lt.useCallback(k=>{if(!d){const O=sm(l,s._names,k||s._formValues,!1,g.current);if(p.current){const $=p.current(O);qa($,v.current)||(_($),v.current=$)}else _(O)}},[s._formValues,s._names,d,l]);qm(()=>((x.current!==s||!qa(N.current,l))&&(x.current=s,N.current=l,A()),s._subscribe({name:l,formState:{values:!0},exact:m,callback:k=>{A(k.values)}})),[s,m,l,A]),lt.useEffect(()=>s._removeUnmounted());const B=x.current!==s,T=N.current,J=lt.useMemo(()=>{if(d)return null;const k=!B&&!qa(T,l);return B||k?j():null},[d,B,l,T,j]);return J!==null?J:q}var Im=(e,a,s,l,c)=>a?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:c||!0}}:{},ta=e=>Array.isArray(e)?e:[e],ib=()=>{let e=[];return{get observers(){return e},next:c=>{for(const d of e)d.next&&d.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(d=>d!==c)}}),unsubscribe:()=>{e=[]}}};function Wv(e,a){const s={};for(const l in e)if(e.hasOwnProperty(l)){const c=e[l],d=a[l];if(c&&dn(c)&&d){const m=Wv(c,d);dn(m)&&(s[l]=m)}else e[l]&&(s[l]=d)}return s}var Mn=e=>dn(e)&&!Object.keys(e).length,Fm=e=>e.type==="file",Ia=e=>typeof e=="function",Rc=e=>{if(!Lm)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},ex=e=>e.type==="select-multiple",$m=e=>e.type==="radio",X_=e=>$m(e)||Gi(e),Sf=e=>Rc(e)&&e.isConnected;function J_(e,a){const s=a.slice(0,-1).length;let l=0;for(;l<s;)e=qt(e)?l++:e[a[l++]];return e}function W_(e){for(const a in e)if(e.hasOwnProperty(a)&&!qt(e[a]))return!1;return!0}function nn(e,a){const s=Array.isArray(a)?a:Vc(a)?[a]:Bm(a),l=s.length===1?e:J_(e,s),c=s.length-1,d=s[c];return l&&delete l[d],c!==0&&(dn(l)&&Mn(l)||Array.isArray(l)&&W_(l))&&nn(e,s.slice(0,-1)),e}var ej=e=>{for(const a in e)if(Ia(e[a]))return!0;return!1};function tx(e){return Array.isArray(e)||dn(e)&&!ej(e)}function lm(e,a={}){for(const s in e)tx(e[s])?(a[s]=Array.isArray(e[s])?[]:{},lm(e[s],a[s])):qt(e[s])||(a[s]=!0);return a}function pl(e,a,s){s||(s=lm(a));for(const l in e)tx(e[l])?qt(a)||rm(s[l])?s[l]=lm(e[l],Array.isArray(e[l])?[]:{}):pl(e[l],ea(a)?{}:a[l],s[l]):s[l]=!qa(e[l],a[l]);return s}const ob={value:!1,isValid:!1},cb={value:!0,isValid:!0};var nx=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qt(e[0].attributes.value)?qt(e[0].value)||e[0].value===""?cb:{value:e[0].value,isValid:!0}:cb:ob}return ob},ax=(e,{valueAsNumber:a,valueAsDate:s,setValueAs:l})=>qt(e)?e:a?e===""?NaN:e&&+e:s&&ma(e)?new Date(e):l?l(e):e;const ub={isValid:!1,value:null};var sx=e=>Array.isArray(e)?e.reduce((a,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:a,ub):ub;function db(e){const a=e.ref;return Fm(a)?a.files:$m(a)?sx(e.refs).value:ex(a)?[...a.selectedOptions].map(({value:s})=>s):Gi(a)?nx(e.refs).value:ax(qt(a.value)?e.ref.value:a.value,e)}var tj=(e,a,s,l)=>{const c={};for(const d of e){const m=Be(a,d);m&&Et(c,d,m._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:l}},Tc=e=>e instanceof RegExp,Oi=e=>qt(e)?e:Tc(e)?e.source:dn(e)?Tc(e.value)?e.value.source:e.value:e,gl=e=>({isOnSubmit:!e||e===_a.onSubmit,isOnBlur:e===_a.onBlur,isOnChange:e===_a.onChange,isOnAll:e===_a.all,isOnTouch:e===_a.onTouched});const fb="AsyncFunction";var nj=e=>!!e&&!!e.validate&&!!(Ia(e.validate)&&e.validate.constructor.name===fb||dn(e.validate)&&Object.values(e.validate).find(a=>a.constructor.name===fb)),aj=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),im=(e,a,s)=>!s&&(a.watchAll||a.watch.has(e)||[...a.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const bl=(e,a,s,l)=>{for(const c of s||Object.keys(e)){const d=Be(e,c);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],c)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(bl(h,a))break}else if(dn(h)&&bl(h,a))break}}};function mb(e,a,s){const l=Be(e,s);if(l||Vc(s))return{error:l,name:s};const c=s.split(".");for(;c.length;){const d=c.join("."),m=Be(a,d),h=Be(e,d);if(m&&!Array.isArray(m)&&s!==d)return{name:s};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};c.pop()}return{name:s}}var sj=(e,a,s,l)=>{s(e);const{name:c,...d}=e;return Mn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||_a.all))},rj=(e,a,s)=>!e||!a||e===a||ta(e).some(l=>l&&(s?l===a:l.startsWith(a)||a.startsWith(l))),lj=(e,a,s,l,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(a||e):(s?l.isOnBlur:c.isOnBlur)?!e:(s?l.isOnChange:c.isOnChange)?e:!0,ij=(e,a)=>!Zc(Be(e,a)).length&&nn(e,a),rx=(e,a,s)=>{const l=ta(Be(e,s));return Et(l,"root",a[s]),Et(e,s,l),e};function hb(e,a,s="validate"){if(ma(e)||Array.isArray(e)&&e.every(ma)||Pa(e)&&!e)return{type:s,message:ma(e)?e:"",ref:a}}var ul=e=>dn(e)&&!Tc(e)?e:{value:e,message:""},om=async(e,a,s,l,c,d)=>{const{ref:m,refs:h,required:g,maxLength:p,minLength:v,min:x,max:N,pattern:q,validate:_,name:j,valueAsNumber:A,mount:B}=e._f,T=Be(s,j);if(!B||a.has(j))return{};const J=h?h[0]:m,k=fe=>{c&&J.reportValidity&&(J.setCustomValidity(Pa(fe)?"":fe||""),J.reportValidity())},O={},$=$m(m),U=Gi(m),Y=$||U,ie=(A||Fm(m))&&qt(m.value)&&qt(T)||Rc(m)&&m.value===""||T===""||Array.isArray(T)&&!T.length,Ne=Im.bind(null,j,l,O),xe=(fe,ve,Te,Oe=ms.maxLength,M=ms.minLength)=>{const I=fe?ve:Te;O[j]={type:fe?Oe:M,message:I,ref:m,...Ne(fe?Oe:M,I)}};if(d?!Array.isArray(T)||!T.length:g&&(!Y&&(ie||ea(T))||Pa(T)&&!T||U&&!nx(h).isValid||$&&!sx(h).isValid)){const{value:fe,message:ve}=ma(g)?{value:!!g,message:g}:ul(g);if(fe&&(O[j]={type:ms.required,message:ve,ref:J,...Ne(ms.required,ve)},!l))return k(ve),O}if(!ie&&(!ea(x)||!ea(N))){let fe,ve;const Te=ul(N),Oe=ul(x);if(!ea(T)&&!isNaN(T)){const M=m.valueAsNumber||T&&+T;ea(Te.value)||(fe=M>Te.value),ea(Oe.value)||(ve=M<Oe.value)}else{const M=m.valueAsDate||new Date(T),I=we=>new Date(new Date().toDateString()+" "+we),W=m.type=="time",ge=m.type=="week";ma(Te.value)&&T&&(fe=W?I(T)>I(Te.value):ge?T>Te.value:M>new Date(Te.value)),ma(Oe.value)&&T&&(ve=W?I(T)<I(Oe.value):ge?T<Oe.value:M<new Date(Oe.value))}if((fe||ve)&&(xe(!!fe,Te.message,Oe.message,ms.max,ms.min),!l))return k(O[j].message),O}if((p||v)&&!ie&&(ma(T)||d&&Array.isArray(T))){const fe=ul(p),ve=ul(v),Te=!ea(fe.value)&&T.length>+fe.value,Oe=!ea(ve.value)&&T.length<+ve.value;if((Te||Oe)&&(xe(Te,fe.message,ve.message),!l))return k(O[j].message),O}if(q&&!ie&&ma(T)){const{value:fe,message:ve}=ul(q);if(Tc(fe)&&!T.match(fe)&&(O[j]={type:ms.pattern,message:ve,ref:m,...Ne(ms.pattern,ve)},!l))return k(ve),O}if(_){if(Ia(_)){const fe=await _(T,s),ve=hb(fe,J);if(ve&&(O[j]={...ve,...Ne(ms.validate,ve.message)},!l))return k(ve.message),O}else if(dn(_)){let fe={};for(const ve in _){if(!Mn(fe)&&!l)break;const Te=hb(await _[ve](T,s),J,ve);Te&&(fe={...Te,...Ne(ve,Te.message)},k(Te.message),l&&(O[j]=fe))}if(!Mn(fe)&&(O[j]={ref:J,...fe},!l))return O}}return k(!0),O};const oj={mode:_a.onSubmit,reValidateMode:_a.onChange,shouldFocusError:!0};function cj(e={}){let a={...oj,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ia(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},c=dn(a.defaultValues)||dn(a.values)?$t(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:$t(c),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const N={array:ib(),state:ib()},q=a.criteriaMode===_a.all,_=C=>Z=>{clearTimeout(p),p=setTimeout(C,Z)},j=async C=>{if(!a.disabled&&(v.isValid||x.isValid||C)){const Z=a.resolver?Mn((await U()).errors):await ie(l,!0);Z!==s.isValid&&N.state.next({isValid:Z})}},A=(C,Z)=>{!a.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((C||Array.from(h.mount)).forEach(R=>{R&&(Z?Et(s.validatingFields,R,Z):nn(s.validatingFields,R))}),N.state.next({validatingFields:s.validatingFields,isValidating:!Mn(s.validatingFields)}))},B=(C,Z=[],R,Q,G=!0,se=!0)=>{if(Q&&R&&!a.disabled){if(m.action=!0,se&&Array.isArray(Be(l,C))){const Ce=R(Be(l,C),Q.argA,Q.argB);G&&Et(l,C,Ce)}if(se&&Array.isArray(Be(s.errors,C))){const Ce=R(Be(s.errors,C),Q.argA,Q.argB);G&&Et(s.errors,C,Ce),ij(s.errors,C)}if((v.touchedFields||x.touchedFields)&&se&&Array.isArray(Be(s.touchedFields,C))){const Ce=R(Be(s.touchedFields,C),Q.argA,Q.argB);G&&Et(s.touchedFields,C,Ce)}(v.dirtyFields||x.dirtyFields)&&(s.dirtyFields=pl(c,d)),N.state.next({name:C,isDirty:xe(C,Z),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Et(d,C,Z)},T=(C,Z)=>{Et(s.errors,C,Z),N.state.next({errors:s.errors})},J=C=>{s.errors=C,N.state.next({errors:s.errors,isValid:!1})},k=(C,Z,R,Q)=>{const G=Be(l,C);if(G){const se=Be(d,C,qt(R)?Be(c,C):R);qt(se)||Q&&Q.defaultChecked||Z?Et(d,C,Z?se:db(G._f)):Te(C,se),m.mount&&j()}},O=(C,Z,R,Q,G)=>{let se=!1,Ce=!1;const Le={name:C};if(!a.disabled){if(!R||Q){(v.isDirty||x.isDirty)&&(Ce=s.isDirty,s.isDirty=Le.isDirty=xe(),se=Ce!==Le.isDirty);const ne=qa(Be(c,C),Z);Ce=!!Be(s.dirtyFields,C),ne?nn(s.dirtyFields,C):Et(s.dirtyFields,C,!0),Le.dirtyFields=s.dirtyFields,se=se||(v.dirtyFields||x.dirtyFields)&&Ce!==!ne}if(R){const ne=Be(s.touchedFields,C);ne||(Et(s.touchedFields,C,R),Le.touchedFields=s.touchedFields,se=se||(v.touchedFields||x.touchedFields)&&ne!==R)}se&&G&&N.state.next(Le)}return se?Le:{}},$=(C,Z,R,Q)=>{const G=Be(s.errors,C),se=(v.isValid||x.isValid)&&Pa(Z)&&s.isValid!==Z;if(a.delayError&&R?(g=_(()=>T(C,R)),g(a.delayError)):(clearTimeout(p),g=null,R?Et(s.errors,C,R):nn(s.errors,C)),(R?!qa(G,R):G)||!Mn(Q)||se){const Ce={...Q,...se&&Pa(Z)?{isValid:Z}:{},errors:s.errors,name:C};s={...s,...Ce},N.state.next(Ce)}},U=async C=>{A(C,!0);const Z=await a.resolver(d,a.context,tj(C||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return A(C),Z},Y=async C=>{const{errors:Z}=await U(C);if(C)for(const R of C){const Q=Be(Z,R);Q?Et(s.errors,R,Q):nn(s.errors,R)}else s.errors=Z;return Z},ie=async(C,Z,R={valid:!0})=>{for(const Q in C){const G=C[Q];if(G){const{_f:se,...Ce}=G;if(se){const Le=h.array.has(se.name),ne=G._f&&nj(G._f);ne&&v.validatingFields&&A([se.name],!0);const Ue=await om(G,h.disabled,d,q,a.shouldUseNativeValidation&&!Z,Le);if(ne&&v.validatingFields&&A([se.name]),Ue[se.name]&&(R.valid=!1,Z))break;!Z&&(Be(Ue,se.name)?Le?rx(s.errors,Ue,se.name):Et(s.errors,se.name,Ue[se.name]):nn(s.errors,se.name))}!Mn(Ce)&&await ie(Ce,Z,R)}}return R.valid},Ne=()=>{for(const C of h.unMount){const Z=Be(l,C);Z&&(Z._f.refs?Z._f.refs.every(R=>!Sf(R)):!Sf(Z._f.ref))&&Re(C)}h.unMount=new Set},xe=(C,Z)=>!a.disabled&&(C&&Z&&Et(d,C,Z),!qa(we(),c)),fe=(C,Z,R)=>sm(C,h,{...m.mount?d:qt(Z)?c:ma(C)?{[C]:Z}:Z},R,Z),ve=C=>Zc(Be(m.mount?d:c,C,a.shouldUnregister?Be(c,C,[]):[])),Te=(C,Z,R={})=>{const Q=Be(l,C);let G=Z;if(Q){const se=Q._f;se&&(!se.disabled&&Et(d,C,ax(Z,se)),G=Rc(se.ref)&&ea(Z)?"":Z,ex(se.ref)?[...se.ref.options].forEach(Ce=>Ce.selected=G.includes(Ce.value)):se.refs?Gi(se.ref)?se.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(G)?Ce.checked=!!G.find(Le=>Le===Ce.value):Ce.checked=G===Ce.value||!!G)}):se.refs.forEach(Ce=>Ce.checked=Ce.value===G):Fm(se.ref)?se.ref.value="":(se.ref.value=G,se.ref.type||N.state.next({name:C,values:$t(d)})))}(R.shouldDirty||R.shouldTouch)&&O(C,G,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&ge(C)},Oe=(C,Z,R)=>{for(const Q in Z){if(!Z.hasOwnProperty(Q))return;const G=Z[Q],se=C+"."+Q,Ce=Be(l,se);(h.array.has(C)||dn(G)||Ce&&!Ce._f)&&!yr(G)?Oe(se,G,R):Te(se,G,R)}},M=(C,Z,R={})=>{const Q=Be(l,C),G=h.array.has(C),se=$t(Z);Et(d,C,se),G?(N.array.next({name:C,values:$t(d)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&R.shouldDirty&&N.state.next({name:C,dirtyFields:pl(c,d),isDirty:xe(C,se)})):Q&&!Q._f&&!ea(se)?Oe(C,se,R):Te(C,se,R),im(C,h)&&N.state.next({...s,name:C}),N.state.next({name:m.mount?C:void 0,values:$t(d)})},I=async C=>{m.mount=!0;const Z=C.target;let R=Z.name,Q=!0;const G=Be(l,R),se=ne=>{Q=Number.isNaN(ne)||yr(ne)&&isNaN(ne.getTime())||qa(ne,Be(d,R,ne))},Ce=gl(a.mode),Le=gl(a.reValidateMode);if(G){let ne,Ue;const Ve=Z.type?db(G._f):G_(C),it=C.type===lb.BLUR||C.type===lb.FOCUS_OUT,Jt=!aj(G._f)&&!a.resolver&&!Be(s.errors,R)&&!G._f.deps||lj(it,Be(s.touchedFields,R),s.isSubmitted,Le,Ce),je=im(R,h,it);Et(d,R,Ve),it?(!Z||!Z.readOnly)&&(G._f.onBlur&&G._f.onBlur(C),g&&g(0)):G._f.onChange&&G._f.onChange(C);const Je=O(R,Ve,it),Qt=!Mn(Je)||je;if(!it&&N.state.next({name:R,type:C.type,values:$t(d)}),Jt)return(v.isValid||x.isValid)&&(a.mode==="onBlur"?it&&j():it||j()),Qt&&N.state.next({name:R,...je?{}:Je});if(!it&&je&&N.state.next({...s}),a.resolver){const{errors:wt}=await U([R]);if(se(Ve),Q){const jn=mb(s.errors,l,R),Un=mb(wt,l,jn.name||R);ne=Un.error,R=Un.name,Ue=Mn(wt)}}else A([R],!0),ne=(await om(G,h.disabled,d,q,a.shouldUseNativeValidation))[R],A([R]),se(Ve),Q&&(ne?Ue=!1:(v.isValid||x.isValid)&&(Ue=await ie(l,!0)));Q&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&ge(G._f.deps),$(R,Ue,ne,Je))}},W=(C,Z)=>{if(Be(s.errors,Z)&&C.focus)return C.focus(),1},ge=async(C,Z={})=>{let R,Q;const G=ta(C);if(a.resolver){const se=await Y(qt(C)?C:G);R=Mn(se),Q=C?!G.some(Ce=>Be(se,Ce)):R}else C?(Q=(await Promise.all(G.map(async se=>{const Ce=Be(l,se);return await ie(Ce&&Ce._f?{[se]:Ce}:Ce)}))).every(Boolean),!(!Q&&!s.isValid)&&j()):Q=R=await ie(l);return N.state.next({...!ma(C)||(v.isValid||x.isValid)&&R!==s.isValid?{}:{name:C},...a.resolver||!C?{isValid:R}:{},errors:s.errors}),Z.shouldFocus&&!Q&&bl(l,W,C?G:h.mount),Q},we=(C,Z)=>{let R={...m.mount?d:c};return Z&&(R=Wv(Z.dirtyFields?s.dirtyFields:s.touchedFields,R)),qt(C)?R:ma(C)?Be(R,C):C.map(Q=>Be(R,Q))},w=(C,Z)=>({invalid:!!Be((Z||s).errors,C),isDirty:!!Be((Z||s).dirtyFields,C),error:Be((Z||s).errors,C),isValidating:!!Be(s.validatingFields,C),isTouched:!!Be((Z||s).touchedFields,C)}),V=C=>{C&&ta(C).forEach(Z=>nn(s.errors,Z)),N.state.next({errors:C?s.errors:{}})},oe=(C,Z,R)=>{const Q=(Be(l,C,{_f:{}})._f||{}).ref,G=Be(s.errors,C)||{},{ref:se,message:Ce,type:Le,...ne}=G;Et(s.errors,C,{...ne,...Z,ref:Q}),N.state.next({name:C,errors:s.errors,isValid:!1}),R&&R.shouldFocus&&Q&&Q.focus&&Q.focus()},z=(C,Z)=>Ia(C)?N.state.subscribe({next:R=>"values"in R&&C(fe(void 0,Z),R)}):fe(C,Z,!0),ce=C=>N.state.subscribe({next:Z=>{rj(C.name,Z.name,C.exact)&&sj(Z,C.formState||v,$e,C.reRenderRoot)&&C.callback({values:{...d},...s,...Z,defaultValues:c})}}).unsubscribe,he=C=>(m.mount=!0,x={...x,...C.formState},ce({...C,formState:x})),Re=(C,Z={})=>{for(const R of C?ta(C):h.mount)h.mount.delete(R),h.array.delete(R),Z.keepValue||(nn(l,R),nn(d,R)),!Z.keepError&&nn(s.errors,R),!Z.keepDirty&&nn(s.dirtyFields,R),!Z.keepTouched&&nn(s.touchedFields,R),!Z.keepIsValidating&&nn(s.validatingFields,R),!a.shouldUnregister&&!Z.keepDefaultValue&&nn(c,R);N.state.next({values:$t(d)}),N.state.next({...s,...Z.keepDirty?{isDirty:xe()}:{}}),!Z.keepIsValid&&j()},qe=({disabled:C,name:Z})=>{(Pa(C)&&m.mount||C||h.disabled.has(Z))&&(C?h.disabled.add(Z):h.disabled.delete(Z))},me=(C,Z={})=>{let R=Be(l,C);const Q=Pa(Z.disabled)||Pa(a.disabled);return Et(l,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...Z}}),h.mount.add(C),R?qe({disabled:Pa(Z.disabled)?Z.disabled:a.disabled,name:C}):k(C,!0,Z.value),{...Q?{disabled:Z.disabled||a.disabled}:{},...a.progressive?{required:!!Z.required,min:Oi(Z.min),max:Oi(Z.max),minLength:Oi(Z.minLength),maxLength:Oi(Z.maxLength),pattern:Oi(Z.pattern)}:{},name:C,onChange:I,onBlur:I,ref:G=>{if(G){me(C,Z),R=Be(l,C);const se=qt(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,Ce=X_(se),Le=R._f.refs||[];if(Ce?Le.find(ne=>ne===se):se===R._f.ref)return;Et(l,C,{_f:{...R._f,...Ce?{refs:[...Le.filter(Sf),se,...Array.isArray(Be(c,C))?[{}]:[]],ref:{type:se.type,name:C}}:{ref:se}}}),k(C,!1,void 0,se)}else R=Be(l,C,{}),R._f&&(R._f.mount=!1),(a.shouldUnregister||Z.shouldUnregister)&&!(P_(h.array,C)&&m.action)&&h.unMount.add(C)}}},ke=()=>a.shouldFocusError&&bl(l,W,h.mount),Fe=C=>{Pa(C)&&(N.state.next({disabled:C}),bl(l,(Z,R)=>{const Q=Be(l,R);Q&&(Z.disabled=Q._f.disabled||C,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(G=>{G.disabled=Q._f.disabled||C}))},0,!1))},_e=(C,Z)=>async R=>{let Q;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let G=$t(d);if(N.state.next({isSubmitting:!0}),a.resolver){const{errors:se,values:Ce}=await U();s.errors=se,G=$t(Ce)}else await ie(l);if(h.disabled.size)for(const se of h.disabled)nn(G,se);if(nn(s.errors,"root"),Mn(s.errors)){N.state.next({errors:{}});try{await C(G,R)}catch(se){Q=se}}else Z&&await Z({...s.errors},R),ke(),setTimeout(ke);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(s.errors)&&!Q,submitCount:s.submitCount+1,errors:s.errors}),Q)throw Q},Me=(C,Z={})=>{Be(l,C)&&(qt(Z.defaultValue)?M(C,$t(Be(c,C))):(M(C,Z.defaultValue),Et(c,C,$t(Z.defaultValue))),Z.keepTouched||nn(s.touchedFields,C),Z.keepDirty||(nn(s.dirtyFields,C),s.isDirty=Z.defaultValue?xe(C,$t(Be(c,C))):xe()),Z.keepError||(nn(s.errors,C),v.isValid&&j()),N.state.next({...s}))},le=(C,Z={})=>{const R=C?$t(C):c,Q=$t(R),G=Mn(C),se=G?c:Q;if(Z.keepDefaultValues||(c=R),!Z.keepValues){if(Z.keepDirtyValues){const Ce=new Set([...h.mount,...Object.keys(pl(c,d))]);for(const Le of Array.from(Ce))Be(s.dirtyFields,Le)?Et(se,Le,Be(d,Le)):M(Le,Be(se,Le))}else{if(Lm&&qt(C))for(const Ce of h.mount){const Le=Be(l,Ce);if(Le&&Le._f){const ne=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(Rc(ne)){const Ue=ne.closest("form");if(Ue){Ue.reset();break}}}}if(Z.keepFieldsRef)for(const Ce of h.mount)M(Ce,Be(se,Ce));else l={}}d=a.shouldUnregister?Z.keepDefaultValues?$t(c):{}:$t(se),N.array.next({values:{...se}}),N.state.next({values:{...se}})}h={mount:Z.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues||!a.shouldUnregister&&!Mn(se),m.watch=!!a.shouldUnregister,N.state.next({submitCount:Z.keepSubmitCount?s.submitCount:0,isDirty:G?!1:Z.keepDirty?s.isDirty:!!(Z.keepDefaultValues&&!qa(C,c)),isSubmitted:Z.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:G?{}:Z.keepDirtyValues?Z.keepDefaultValues&&d?pl(c,d):s.dirtyFields:Z.keepDefaultValues&&C?pl(c,C):Z.keepDirty?s.dirtyFields:{},touchedFields:Z.keepTouched?s.touchedFields:{},errors:Z.keepErrors?s.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},De=(C,Z)=>le(Ia(C)?C(d):C,Z),de=(C,Z={})=>{const R=Be(l,C),Q=R&&R._f;if(Q){const G=Q.refs?Q.refs[0]:Q.ref;G.focus&&(G.focus(),Z.shouldSelect&&Ia(G.select)&&G.select())}},$e=C=>{s={...s,...C}},Xe={control:{register:me,unregister:Re,getFieldState:w,handleSubmit:_e,setError:oe,_subscribe:ce,_runSchema:U,_focusError:ke,_getWatch:fe,_getDirty:xe,_setValid:j,_setFieldArray:B,_setDisabledField:qe,_setErrors:J,_getFieldArray:ve,_reset:le,_resetDefaultValues:()=>Ia(a.defaultValues)&&a.defaultValues().then(C=>{De(C,a.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:Ne,_disableForm:Fe,_subjects:N,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(C){m=C},get _defaultValues(){return c},get _names(){return h},set _names(C){h=C},get _formState(){return s},get _options(){return a},set _options(C){a={...a,...C}}},subscribe:he,trigger:ge,register:me,handleSubmit:_e,watch:z,setValue:M,getValues:we,reset:De,resetField:Me,clearErrors:V,unregister:Re,setError:oe,setFocus:de,getFieldState:w};return{...Xe,formControl:Xe}}var Hs=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const s=(Math.random()*16+e)%16|0;return(a=="x"?s:s&3|8).toString(16)})},Nf=(e,a,s={})=>s.shouldFocus||qt(s.shouldFocus)?s.focusName||`${e}.${qt(s.focusIndex)?a:s.focusIndex}.`:"",wf=(e,a)=>[...e,...ta(a)],_f=e=>Array.isArray(e)?e.map(()=>{}):void 0;function jf(e,a,s){return[...e.slice(0,a),...ta(s),...e.slice(a)]}var Ef=(e,a,s)=>Array.isArray(e)?(qt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(a,1)[0]),e):[],Af=(e,a)=>[...ta(a),...ta(e)];function uj(e,a){let s=0;const l=[...e];for(const c of a)l.splice(c-s,1),s++;return Zc(l).length?l:[]}var Cf=(e,a)=>qt(a)?[]:uj(e,ta(a).sort((s,l)=>s-l)),Of=(e,a,s)=>{[e[a],e[s]]=[e[s],e[a]]},pb=(e,a,s)=>(e[a]=s,e);function dj(e){const a=Jv(),{control:s=a.control,name:l,keyName:c="id",shouldUnregister:d,rules:m}=e,[h,g]=lt.useState(s._getFieldArray(l)),p=lt.useRef(s._getFieldArray(l).map(Hs)),v=lt.useRef(!1);s._names.array.add(l),lt.useMemo(()=>m&&h.length>=0&&s.register(l,m),[s,l,h.length,m]),qm(()=>s._subjects.array.subscribe({next:({values:k,name:O})=>{if(O===l||!O){const $=Be(k,l);Array.isArray($)&&(g($),p.current=$.map(Hs))}}}).unsubscribe,[s,l]);const x=lt.useCallback(k=>{v.current=!0,s._setFieldArray(l,k)},[s,l]),N=(k,O)=>{const $=ta($t(k)),U=wf(s._getFieldArray(l),$);s._names.focus=Nf(l,U.length-1,O),p.current=wf(p.current,$.map(Hs)),x(U),g(U),s._setFieldArray(l,U,wf,{argA:_f(k)})},q=(k,O)=>{const $=ta($t(k)),U=Af(s._getFieldArray(l),$);s._names.focus=Nf(l,0,O),p.current=Af(p.current,$.map(Hs)),x(U),g(U),s._setFieldArray(l,U,Af,{argA:_f(k)})},_=k=>{const O=Cf(s._getFieldArray(l),k);p.current=Cf(p.current,k),x(O),g(O),!Array.isArray(Be(s._fields,l))&&Et(s._fields,l,void 0),s._setFieldArray(l,O,Cf,{argA:k})},j=(k,O,$)=>{const U=ta($t(O)),Y=jf(s._getFieldArray(l),k,U);s._names.focus=Nf(l,k,$),p.current=jf(p.current,k,U.map(Hs)),x(Y),g(Y),s._setFieldArray(l,Y,jf,{argA:k,argB:_f(O)})},A=(k,O)=>{const $=s._getFieldArray(l);Of($,k,O),Of(p.current,k,O),x($),g($),s._setFieldArray(l,$,Of,{argA:k,argB:O},!1)},B=(k,O)=>{const $=s._getFieldArray(l);Ef($,k,O),Ef(p.current,k,O),x($),g($),s._setFieldArray(l,$,Ef,{argA:k,argB:O},!1)},T=(k,O)=>{const $=$t(O),U=pb(s._getFieldArray(l),k,$);p.current=[...U].map((Y,ie)=>!Y||ie===k?Hs():p.current[ie]),x(U),g([...U]),s._setFieldArray(l,U,pb,{argA:k,argB:$},!0,!1)},J=k=>{const O=ta($t(k));p.current=O.map(Hs),x([...O]),g([...O]),s._setFieldArray(l,[...O],$=>$,{},!0,!1)};return lt.useEffect(()=>{if(s._state.action=!1,im(l,s._names)&&s._subjects.state.next({...s._formState}),v.current&&(!gl(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!gl(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([l]).then(k=>{const O=Be(k.errors,l),$=Be(s._formState.errors,l);($?!O&&$.type||O&&($.type!==O.type||$.message!==O.message):O&&O.type)&&(O?Et(s._formState.errors,l,O):nn(s._formState.errors,l),s._subjects.state.next({errors:s._formState.errors}))});else{const k=Be(s._fields,l);k&&k._f&&!(gl(s._options.reValidateMode).isOnSubmit&&gl(s._options.mode).isOnSubmit)&&om(k,s._names.disabled,s._formValues,s._options.criteriaMode===_a.all,s._options.shouldUseNativeValidation,!0).then(O=>!Mn(O)&&s._subjects.state.next({errors:rx(s._formState.errors,O,l)}))}s._subjects.state.next({name:l,values:$t(s._formValues)}),s._names.focus&&bl(s._fields,(k,O)=>{if(s._names.focus&&O.startsWith(s._names.focus)&&k.focus)return k.focus(),1}),s._names.focus="",s._setValid(),v.current=!1},[h,l,s]),lt.useEffect(()=>(!Be(s._formValues,l)&&s._setFieldArray(l),()=>{const k=(O,$)=>{const U=Be(s._fields,O);U&&U._f&&(U._f.mount=$)};s._options.shouldUnregister||d?s.unregister(l):k(l,!1)}),[l,s,c,d]),{swap:lt.useCallback(A,[x,l,s]),move:lt.useCallback(B,[x,l,s]),prepend:lt.useCallback(q,[x,l,s]),append:lt.useCallback(N,[x,l,s]),remove:lt.useCallback(_,[x,l,s]),insert:lt.useCallback(j,[x,l,s]),update:lt.useCallback(T,[x,l,s]),replace:lt.useCallback(J,[x,l,s]),fields:lt.useMemo(()=>h.map((k,O)=>({...k,[c]:p.current[O]||Hs()})),[h,c])}}function Gc(e={}){const a=lt.useRef(void 0),s=lt.useRef(void 0),[l,c]=lt.useState({isDirty:!1,isValidating:!1,isLoading:Ia(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ia(e.defaultValues)?void 0:e.defaultValues});if(!a.current)if(e.formControl)a.current={...e.formControl,formState:l},e.defaultValues&&!Ia(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:m,...h}=cj(e);a.current={...h,formState:l}}const d=a.current.control;return d._options=e,qm(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>c({...d._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),lt.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),lt.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),lt.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),lt.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),lt.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),lt.useEffect(()=>{e.values&&!qa(e.values,s.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),s.current=e.values,c(m=>({...m}))):d._resetDefaultValues()},[d,e.values]),lt.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=K_(l,d),a.current}function lx(e,a){return function(){return e.apply(a,arguments)}}const{toString:fj}=Object.prototype,{getPrototypeOf:Hm}=Object,{iterator:Qc,toStringTag:ix}=Symbol,Pc=(e=>a=>{const s=fj.call(a);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=e=>(e=e.toLowerCase(),a=>Pc(a)===e),Yc=e=>a=>typeof a===e,{isArray:Cl}=Array,Sl=Yc("undefined");function Qi(e){return e!==null&&!Sl(e)&&e.constructor!==null&&!Sl(e.constructor)&&na(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ox=Fa("ArrayBuffer");function mj(e){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(e):a=e&&e.buffer&&ox(e.buffer),a}const hj=Yc("string"),na=Yc("function"),cx=Yc("number"),Pi=e=>e!==null&&typeof e=="object",pj=e=>e===!0||e===!1,_c=e=>{if(Pc(e)!=="object")return!1;const a=Hm(e);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(ix in e)&&!(Qc in e)},gj=e=>{if(!Pi(e)||Qi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},yj=Fa("Date"),bj=Fa("File"),vj=Fa("Blob"),xj=Fa("FileList"),Sj=e=>Pi(e)&&na(e.pipe),Nj=e=>{let a;return e&&(typeof FormData=="function"&&e instanceof FormData||na(e.append)&&((a=Pc(e))==="formdata"||a==="object"&&na(e.toString)&&e.toString()==="[object FormData]"))},wj=Fa("URLSearchParams"),[_j,jj,Ej,Aj]=["ReadableStream","Request","Response","Headers"].map(Fa),Cj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yi(e,a,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),Cl(e))for(l=0,c=e.length;l<c;l++)a.call(null,e[l],l,e);else{if(Qi(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,e[h],h,e)}}function ux(e,a){if(Qi(e))return null;a=a.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],a===c.toLowerCase())return c;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dx=e=>!Sl(e)&&e!==br;function cm(){const{caseless:e,skipUndefined:a}=dx(this)&&this||{},s={},l=(c,d)=>{const m=e&&ux(s,d)||d;_c(s[m])&&_c(c)?s[m]=cm(s[m],c):_c(c)?s[m]=cm({},c):Cl(c)?s[m]=c.slice():(!a||!Sl(c))&&(s[m]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Yi(arguments[c],l);return s}const Oj=(e,a,s,{allOwnKeys:l}={})=>(Yi(a,(c,d)=>{s&&na(c)?e[d]=lx(c,s):e[d]=c},{allOwnKeys:l}),e),Rj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tj=(e,a,s,l)=>{e.prototype=Object.create(a.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),s&&Object.assign(e.prototype,s)},Dj=(e,a,s,l)=>{let c,d,m;const h={};if(a=a||{},e==null)return a;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!l||l(m,e,a))&&!h[m]&&(a[m]=e[m],h[m]=!0);e=s!==!1&&Hm(e)}while(e&&(!s||s(e,a))&&e!==Object.prototype);return a},zj=(e,a,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=a.length;const l=e.indexOf(a,s);return l!==-1&&l===s},Mj=e=>{if(!e)return null;if(Cl(e))return e;let a=e.length;if(!cx(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=e[a];return s},kj=(e=>a=>e&&a instanceof e)(typeof Uint8Array<"u"&&Hm(Uint8Array)),Uj=(e,a)=>{const l=(e&&e[Qc]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;a.call(e,d[0],d[1])}},Lj=(e,a)=>{let s;const l=[];for(;(s=e.exec(a))!==null;)l.push(s);return l},Bj=Fa("HTMLFormElement"),qj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),gb=(({hasOwnProperty:e})=>(a,s)=>e.call(a,s))(Object.prototype),Ij=Fa("RegExp"),fx=(e,a)=>{const s=Object.getOwnPropertyDescriptors(e),l={};Yi(s,(c,d)=>{let m;(m=a(c,d,e))!==!1&&(l[d]=m||c)}),Object.defineProperties(e,l)},Fj=e=>{fx(e,(a,s)=>{if(na(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(na(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},$j=(e,a)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return Cl(e)?l(e):l(String(e).split(a)),s},Hj=()=>{},Vj=(e,a)=>e!=null&&Number.isFinite(e=+e)?e:a;function Zj(e){return!!(e&&na(e.append)&&e[ix]==="FormData"&&e[Qc])}const Gj=e=>{const a=new Array(10),s=(l,c)=>{if(Pi(l)){if(a.indexOf(l)>=0)return;if(Qi(l))return l;if(!("toJSON"in l)){a[c]=l;const d=Cl(l)?[]:{};return Yi(l,(m,h)=>{const g=s(m,c+1);!Sl(g)&&(d[h]=g)}),a[c]=void 0,d}}return l};return s(e,0)},Qj=Fa("AsyncFunction"),Pj=e=>e&&(Pi(e)||na(e))&&na(e.then)&&na(e.catch),mx=((e,a)=>e?setImmediate:a?((s,l)=>(br.addEventListener("message",({source:c,data:d})=>{c===br&&d===s&&l.length&&l.shift()()},!1),c=>{l.push(c),br.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",na(br.postMessage)),Yj=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||mx,Kj=e=>e!=null&&na(e[Qc]),ae={isArray:Cl,isArrayBuffer:ox,isBuffer:Qi,isFormData:Nj,isArrayBufferView:mj,isString:hj,isNumber:cx,isBoolean:pj,isObject:Pi,isPlainObject:_c,isEmptyObject:gj,isReadableStream:_j,isRequest:jj,isResponse:Ej,isHeaders:Aj,isUndefined:Sl,isDate:yj,isFile:bj,isBlob:vj,isRegExp:Ij,isFunction:na,isStream:Sj,isURLSearchParams:wj,isTypedArray:kj,isFileList:xj,forEach:Yi,merge:cm,extend:Oj,trim:Cj,stripBOM:Rj,inherits:Tj,toFlatObject:Dj,kindOf:Pc,kindOfTest:Fa,endsWith:zj,toArray:Mj,forEachEntry:Uj,matchAll:Lj,isHTMLForm:Bj,hasOwnProperty:gb,hasOwnProp:gb,reduceDescriptors:fx,freezeMethods:Fj,toObjectSet:$j,toCamelCase:qj,noop:Hj,toFiniteNumber:Vj,findKey:ux,global:br,isContextDefined:dx,isSpecCompliantForm:Zj,toJSONObject:Gj,isAsyncFn:Qj,isThenable:Pj,setImmediate:mx,asap:Yj,isIterable:Kj};function at(e,a,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}ae.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const hx=at.prototype,px={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{px[e]={value:e}});Object.defineProperties(at,px);Object.defineProperty(hx,"isAxiosError",{value:!0});at.from=(e,a,s,l,c,d)=>{const m=Object.create(hx);ae.toFlatObject(e,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=e&&e.message?e.message:"Error",g=a==null&&e?e.code:a;return at.call(m,h,g,s,l,c),e&&m.cause==null&&Object.defineProperty(m,"cause",{value:e,configurable:!0}),m.name=e&&e.name||"Error",d&&Object.assign(m,d),m};const Xj=null;function um(e){return ae.isPlainObject(e)||ae.isArray(e)}function gx(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function yb(e,a,s){return e?e.concat(a).map(function(c,d){return c=gx(c),!s&&d?"["+c+"]":c}).join(s?".":""):a}function Jj(e){return ae.isArray(e)&&!e.some(um)}const Wj=ae.toFlatObject(ae,{},null,function(a){return/^is[A-Z]/.test(a)});function Kc(e,a,s){if(!ae.isObject(e))throw new TypeError("target must be an object");a=a||new FormData,s=ae.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,A){return!ae.isUndefined(A[j])});const l=s.metaTokens,c=s.visitor||v,d=s.dots,m=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(a);if(!ae.isFunction(c))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(ae.isDate(_))return _.toISOString();if(ae.isBoolean(_))return _.toString();if(!g&&ae.isBlob(_))throw new at("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(_)||ae.isTypedArray(_)?g&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,j,A){let B=_;if(_&&!A&&typeof _=="object"){if(ae.endsWith(j,"{}"))j=l?j:j.slice(0,-2),_=JSON.stringify(_);else if(ae.isArray(_)&&Jj(_)||(ae.isFileList(_)||ae.endsWith(j,"[]"))&&(B=ae.toArray(_)))return j=gx(j),B.forEach(function(J,k){!(ae.isUndefined(J)||J===null)&&a.append(m===!0?yb([j],k,d):m===null?j:j+"[]",p(J))}),!1}return um(_)?!0:(a.append(yb(A,j,d),p(_)),!1)}const x=[],N=Object.assign(Wj,{defaultVisitor:v,convertValue:p,isVisitable:um});function q(_,j){if(!ae.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(_),ae.forEach(_,function(B,T){(!(ae.isUndefined(B)||B===null)&&c.call(a,B,ae.isString(T)?T.trim():T,j,N))===!0&&q(B,j?j.concat(T):[T])}),x.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return q(e),a}function bb(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function Vm(e,a){this._pairs=[],e&&Kc(e,this,a)}const yx=Vm.prototype;yx.append=function(a,s){this._pairs.push([a,s])};yx.toString=function(a){const s=a?function(l){return a.call(this,l,bb)}:bb;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function e1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bx(e,a,s){if(!a)return e;const l=s&&s.encode||e1;ae.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(a,s):d=ae.isURLSearchParams(a)?a.toString():new Vm(a,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class vb{constructor(){this.handlers=[]}use(a,s,l){return this.handlers.push({fulfilled:a,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ae.forEach(this.handlers,function(l){l!==null&&a(l)})}}const vx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t1=typeof URLSearchParams<"u"?URLSearchParams:Vm,n1=typeof FormData<"u"?FormData:null,a1=typeof Blob<"u"?Blob:null,s1={isBrowser:!0,classes:{URLSearchParams:t1,FormData:n1,Blob:a1},protocols:["http","https","file","blob","url","data"]},Zm=typeof window<"u"&&typeof document<"u",dm=typeof navigator=="object"&&navigator||void 0,r1=Zm&&(!dm||["ReactNative","NativeScript","NS"].indexOf(dm.product)<0),l1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i1=Zm&&window.location.href||"http://localhost",o1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zm,hasStandardBrowserEnv:r1,hasStandardBrowserWebWorkerEnv:l1,navigator:dm,origin:i1},Symbol.toStringTag,{value:"Module"})),kn={...o1,...s1};function c1(e,a){return Kc(e,new kn.classes.URLSearchParams,{visitor:function(s,l,c,d){return kn.isNode&&ae.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function u1(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(a=>a[0]==="[]"?"":a[1]||a[0])}function d1(e){const a={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],a[d]=e[d];return a}function xx(e){function a(s,l,c,d){let m=s[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),g=d>=s.length;return m=!m&&ae.isArray(c)?c.length:m,g?(ae.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!h):((!c[m]||!ae.isObject(c[m]))&&(c[m]=[]),a(s,l,c[m],d)&&ae.isArray(c[m])&&(c[m]=d1(c[m])),!h)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const s={};return ae.forEachEntry(e,(l,c)=>{a(u1(l),c,s,0)}),s}return null}function f1(e,a,s){if(ae.isString(e))try{return(a||JSON.parse)(e),ae.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Ki={transitional:vx,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=ae.isObject(a);if(d&&ae.isHTMLForm(a)&&(a=new FormData(a)),ae.isFormData(a))return c?JSON.stringify(xx(a)):a;if(ae.isArrayBuffer(a)||ae.isBuffer(a)||ae.isStream(a)||ae.isFile(a)||ae.isBlob(a)||ae.isReadableStream(a))return a;if(ae.isArrayBufferView(a))return a.buffer;if(ae.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return c1(a,this.formSerializer).toString();if((h=ae.isFileList(a))||l.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Kc(h?{"files[]":a}:a,g&&new g,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),f1(a)):a}],transformResponse:[function(a){const s=this.transitional||Ki.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(ae.isResponse(a)||ae.isReadableStream(a))return a;if(a&&ae.isString(a)&&(l&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?at.from(h,at.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kn.classes.FormData,Blob:kn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{Ki.headers[e]={}});const m1=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h1=e=>{const a={};let s,l,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!s||a[s]&&m1[s])&&(s==="set-cookie"?a[s]?a[s].push(l):a[s]=[l]:a[s]=a[s]?a[s]+", "+l:l)}),a},xb=Symbol("internals");function Ri(e){return e&&String(e).trim().toLowerCase()}function jc(e){return e===!1||e==null?e:ae.isArray(e)?e.map(jc):String(e)}function p1(e){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)a[l[1]]=l[2];return a}const g1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rf(e,a,s,l,c){if(ae.isFunction(l))return l.call(this,a,s);if(c&&(a=s),!!ae.isString(a)){if(ae.isString(l))return a.indexOf(l)!==-1;if(ae.isRegExp(l))return l.test(a)}}function y1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,l)=>s.toUpperCase()+l)}function b1(e,a){const s=ae.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,m){return this[l].call(this,a,c,d,m)},configurable:!0})})}let aa=class{constructor(a){a&&this.set(a)}set(a,s,l){const c=this;function d(h,g,p){const v=Ri(g);if(!v)throw new Error("header name must be a non-empty string");const x=ae.findKey(c,v);(!x||c[x]===void 0||p===!0||p===void 0&&c[x]!==!1)&&(c[x||g]=jc(h))}const m=(h,g)=>ae.forEach(h,(p,v)=>d(p,v,g));if(ae.isPlainObject(a)||a instanceof this.constructor)m(a,s);else if(ae.isString(a)&&(a=a.trim())&&!g1(a))m(h1(a),s);else if(ae.isObject(a)&&ae.isIterable(a)){let h={},g,p;for(const v of a){if(!ae.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(g=h[p])?ae.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}m(h,s)}else a!=null&&d(s,a,l);return this}get(a,s){if(a=Ri(a),a){const l=ae.findKey(this,a);if(l){const c=this[l];if(!s)return c;if(s===!0)return p1(c);if(ae.isFunction(s))return s.call(this,c,l);if(ae.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ri(a),a){const l=ae.findKey(this,a);return!!(l&&this[l]!==void 0&&(!s||Rf(this,this[l],l,s)))}return!1}delete(a,s){const l=this;let c=!1;function d(m){if(m=Ri(m),m){const h=ae.findKey(l,m);h&&(!s||Rf(l,l[h],h,s))&&(delete l[h],c=!0)}}return ae.isArray(a)?a.forEach(d):d(a),c}clear(a){const s=Object.keys(this);let l=s.length,c=!1;for(;l--;){const d=s[l];(!a||Rf(this,this[d],d,a,!0))&&(delete this[d],c=!0)}return c}normalize(a){const s=this,l={};return ae.forEach(this,(c,d)=>{const m=ae.findKey(l,d);if(m){s[m]=jc(c),delete s[d];return}const h=a?y1(d):String(d).trim();h!==d&&delete s[d],s[h]=jc(c),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return ae.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=a&&ae.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const l=new this(a);return s.forEach(c=>l.set(c)),l}static accessor(a){const l=(this[xb]=this[xb]={accessors:{}}).accessors,c=this.prototype;function d(m){const h=Ri(m);l[h]||(b1(c,m),l[h]=!0)}return ae.isArray(a)?a.forEach(d):d(a),this}};aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(aa.prototype,({value:e},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(l){this[s]=l}}});ae.freezeMethods(aa);function Tf(e,a){const s=this||Ki,l=a||s,c=aa.from(l.headers);let d=l.data;return ae.forEach(e,function(h){d=h.call(s,d,c.normalize(),a?a.status:void 0)}),c.normalize(),d}function Sx(e){return!!(e&&e.__CANCEL__)}function Ol(e,a,s){at.call(this,e??"canceled",at.ERR_CANCELED,a,s),this.name="CanceledError"}ae.inherits(Ol,at,{__CANCEL__:!0});function Nx(e,a,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):a(new at("Request failed with status code "+s.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function v1(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}function x1(e,a){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,m;return a=a!==void 0?a:1e3,function(g){const p=Date.now(),v=l[d];m||(m=p),s[c]=g,l[c]=p;let x=d,N=0;for(;x!==c;)N+=s[x++],x=x%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-m<a)return;const q=v&&p-v;return q?Math.round(N*1e3/q):void 0}}function S1(e,a){let s=0,l=1e3/a,c,d;const m=(p,v=Date.now())=>{s=v,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),x=v-s;x>=l?m(p,v):(c=p,d||(d=setTimeout(()=>{d=null,m(c)},l-x)))},()=>c&&m(c)]}const Dc=(e,a,s=3)=>{let l=0;const c=x1(50,250);return S1(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,g=m-l,p=c(g),v=m<=h;l=m;const x={loaded:m,total:h,progress:h?m/h:void 0,bytes:g,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};e(x)},s)},Sb=(e,a)=>{const s=e!=null;return[l=>a[0]({lengthComputable:s,total:e,loaded:l}),a[1]]},Nb=e=>(...a)=>ae.asap(()=>e(...a)),N1=kn.hasStandardBrowserEnv?((e,a)=>s=>(s=new URL(s,kn.origin),e.protocol===s.protocol&&e.host===s.host&&(a||e.port===s.port)))(new URL(kn.origin),kn.navigator&&/(msie|trident)/i.test(kn.navigator.userAgent)):()=>!0,w1=kn.hasStandardBrowserEnv?{write(e,a,s,l,c,d,m){if(typeof document>"u")return;const h=[`${e}=${encodeURIComponent(a)}`];ae.isNumber(s)&&h.push(`expires=${new Date(s).toUTCString()}`),ae.isString(l)&&h.push(`path=${l}`),ae.isString(c)&&h.push(`domain=${c}`),d===!0&&h.push("secure"),ae.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(e){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function j1(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}function wx(e,a,s){let l=!_1(a);return e&&(l||s==!1)?j1(e,a):a}const wb=e=>e instanceof aa?{...e}:e;function wr(e,a){a=a||{};const s={};function l(p,v,x,N){return ae.isPlainObject(p)&&ae.isPlainObject(v)?ae.merge.call({caseless:N},p,v):ae.isPlainObject(v)?ae.merge({},v):ae.isArray(v)?v.slice():v}function c(p,v,x,N){if(ae.isUndefined(v)){if(!ae.isUndefined(p))return l(void 0,p,x,N)}else return l(p,v,x,N)}function d(p,v){if(!ae.isUndefined(v))return l(void 0,v)}function m(p,v){if(ae.isUndefined(v)){if(!ae.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,x){if(x in a)return l(p,v);if(x in e)return l(void 0,p)}const g={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,x)=>c(wb(p),wb(v),x,!0)};return ae.forEach(Object.keys({...e,...a}),function(v){const x=g[v]||c,N=x(e[v],a[v],v);ae.isUndefined(N)&&x!==h||(s[v]=N)}),s}const _x=e=>{const a=wr({},e);let{data:s,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=aa.from(m),a.url=bx(wx(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),ae.isFormData(s)){if(kn.hasStandardBrowserEnv||kn.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(ae.isFunction(s.getHeaders)){const g=s.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([v,x])=>{p.includes(v.toLowerCase())&&m.set(v,x)})}}if(kn.hasStandardBrowserEnv&&(l&&ae.isFunction(l)&&(l=l(a)),l||l!==!1&&N1(a.url))){const g=c&&d&&w1.read(d);g&&m.set(c,g)}return a},E1=typeof XMLHttpRequest<"u",A1=E1&&function(e){return new Promise(function(s,l){const c=_x(e);let d=c.data;const m=aa.from(c.headers).normalize();let{responseType:h,onUploadProgress:g,onDownloadProgress:p}=c,v,x,N,q,_;function j(){q&&q(),_&&_(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let A=new XMLHttpRequest;A.open(c.method.toUpperCase(),c.url,!0),A.timeout=c.timeout;function B(){if(!A)return;const J=aa.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:J,config:e,request:A};Nx(function(U){s(U),j()},function(U){l(U),j()},O),A=null}"onloadend"in A?A.onloadend=B:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(B)},A.onabort=function(){A&&(l(new at("Request aborted",at.ECONNABORTED,e,A)),A=null)},A.onerror=function(k){const O=k&&k.message?k.message:"Network Error",$=new at(O,at.ERR_NETWORK,e,A);$.event=k||null,l($),A=null},A.ontimeout=function(){let k=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const O=c.transitional||vx;c.timeoutErrorMessage&&(k=c.timeoutErrorMessage),l(new at(k,O.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,e,A)),A=null},d===void 0&&m.setContentType(null),"setRequestHeader"in A&&ae.forEach(m.toJSON(),function(k,O){A.setRequestHeader(O,k)}),ae.isUndefined(c.withCredentials)||(A.withCredentials=!!c.withCredentials),h&&h!=="json"&&(A.responseType=c.responseType),p&&([N,_]=Dc(p,!0),A.addEventListener("progress",N)),g&&A.upload&&([x,q]=Dc(g),A.upload.addEventListener("progress",x),A.upload.addEventListener("loadend",q)),(c.cancelToken||c.signal)&&(v=J=>{A&&(l(!J||J.type?new Ol(null,e,A):J),A.abort(),A=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const T=v1(c.url);if(T&&kn.protocols.indexOf(T)===-1){l(new at("Unsupported protocol "+T+":",at.ERR_BAD_REQUEST,e));return}A.send(d||null)})},C1=(e,a)=>{const{length:s}=e=e?e.filter(Boolean):[];if(a||s){let l=new AbortController,c;const d=function(p){if(!c){c=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof at?v:new Ol(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new at(`timeout ${a} of ms exceeded`,at.ETIMEDOUT))},a);const h=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:g}=l;return g.unsubscribe=()=>ae.asap(h),g}},O1=function*(e,a){let s=e.byteLength;if(s<a){yield e;return}let l=0,c;for(;l<s;)c=l+a,yield e.slice(l,c),l=c},R1=async function*(e,a){for await(const s of T1(e))yield*O1(s,a)},T1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const a=e.getReader();try{for(;;){const{done:s,value:l}=await a.read();if(s)break;yield l}}finally{await a.cancel()}},_b=(e,a,s,l)=>{const c=R1(e,a);let d=0,m,h=g=>{m||(m=!0,l&&l(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await c.next();if(p){h(),g.close();return}let x=v.byteLength;if(s){let N=d+=x;s(N)}g.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(g){return h(g),c.return()}},{highWaterMark:2})},jb=64*1024,{isFunction:pc}=ae,D1=(({Request:e,Response:a})=>({Request:e,Response:a}))(ae.global),{ReadableStream:Eb,TextEncoder:Ab}=ae.global,Cb=(e,...a)=>{try{return!!e(...a)}catch{return!1}},z1=e=>{e=ae.merge.call({skipUndefined:!0},D1,e);const{fetch:a,Request:s,Response:l}=e,c=a?pc(a):typeof fetch=="function",d=pc(s),m=pc(l);if(!c)return!1;const h=c&&pc(Eb),g=c&&(typeof Ab=="function"?(_=>j=>_.encode(j))(new Ab):async _=>new Uint8Array(await new s(_).arrayBuffer())),p=d&&h&&Cb(()=>{let _=!1;const j=new s(kn.origin,{body:new Eb,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!j}),v=m&&h&&Cb(()=>ae.isReadableStream(new l("").body)),x={stream:v&&(_=>_.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!x[_]&&(x[_]=(j,A)=>{let B=j&&j[_];if(B)return B.call(j);throw new at(`Response type '${_}' is not supported`,at.ERR_NOT_SUPPORT,A)})});const N=async _=>{if(_==null)return 0;if(ae.isBlob(_))return _.size;if(ae.isSpecCompliantForm(_))return(await new s(kn.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(_)||ae.isArrayBuffer(_))return _.byteLength;if(ae.isURLSearchParams(_)&&(_=_+""),ae.isString(_))return(await g(_)).byteLength},q=async(_,j)=>{const A=ae.toFiniteNumber(_.getContentLength());return A??N(j)};return async _=>{let{url:j,method:A,data:B,signal:T,cancelToken:J,timeout:k,onDownloadProgress:O,onUploadProgress:$,responseType:U,headers:Y,withCredentials:ie="same-origin",fetchOptions:Ne}=_x(_),xe=a||fetch;U=U?(U+"").toLowerCase():"text";let fe=C1([T,J&&J.toAbortSignal()],k),ve=null;const Te=fe&&fe.unsubscribe&&(()=>{fe.unsubscribe()});let Oe;try{if($&&p&&A!=="get"&&A!=="head"&&(Oe=await q(Y,B))!==0){let w=new s(j,{method:"POST",body:B,duplex:"half"}),V;if(ae.isFormData(B)&&(V=w.headers.get("content-type"))&&Y.setContentType(V),w.body){const[oe,z]=Sb(Oe,Dc(Nb($)));B=_b(w.body,jb,oe,z)}}ae.isString(ie)||(ie=ie?"include":"omit");const M=d&&"credentials"in s.prototype,I={...Ne,signal:fe,method:A.toUpperCase(),headers:Y.normalize().toJSON(),body:B,duplex:"half",credentials:M?ie:void 0};ve=d&&new s(j,I);let W=await(d?xe(ve,Ne):xe(j,I));const ge=v&&(U==="stream"||U==="response");if(v&&(O||ge&&Te)){const w={};["status","statusText","headers"].forEach(ce=>{w[ce]=W[ce]});const V=ae.toFiniteNumber(W.headers.get("content-length")),[oe,z]=O&&Sb(V,Dc(Nb(O),!0))||[];W=new l(_b(W.body,jb,oe,()=>{z&&z(),Te&&Te()}),w)}U=U||"text";let we=await x[ae.findKey(x,U)||"text"](W,_);return!ge&&Te&&Te(),await new Promise((w,V)=>{Nx(w,V,{data:we,headers:aa.from(W.headers),status:W.status,statusText:W.statusText,config:_,request:ve})})}catch(M){throw Te&&Te(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,_,ve),{cause:M.cause||M}):at.from(M,M&&M.code,_,ve)}}},M1=new Map,jx=e=>{let a=e&&e.env||{};const{fetch:s,Request:l,Response:c}=a,d=[l,c,s];let m=d.length,h=m,g,p,v=M1;for(;h--;)g=d[h],p=v.get(g),p===void 0&&v.set(g,p=h?new Map:z1(a)),v=p;return p};jx();const Gm={http:Xj,xhr:A1,fetch:{get:jx}};ae.forEach(Gm,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch{}Object.defineProperty(e,"adapterName",{value:a})}});const Ob=e=>`- ${e}`,k1=e=>ae.isFunction(e)||e===null||e===!1;function U1(e,a){e=ae.isArray(e)?e:[e];const{length:s}=e;let l,c;const d={};for(let m=0;m<s;m++){l=e[m];let h;if(c=l,!k1(l)&&(c=Gm[(h=String(l)).toLowerCase()],c===void 0))throw new at(`Unknown adapter '${h}'`);if(c&&(ae.isFunction(c)||(c=c.get(a))))break;d[h||"#"+m]=c}if(!c){const m=Object.entries(d).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=s?m.length>1?`since :
`+m.map(Ob).join(`
`):" "+Ob(m[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const Ex={getAdapter:U1,adapters:Gm};function Df(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ol(null,e)}function Rb(e){return Df(e),e.headers=aa.from(e.headers),e.data=Tf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ex.getAdapter(e.adapter||Ki.adapter,e)(e).then(function(l){return Df(e),l.data=Tf.call(e,e.transformResponse,l),l.headers=aa.from(l.headers),l},function(l){return Sx(l)||(Df(e),l&&l.response&&(l.response.data=Tf.call(e,e.transformResponse,l.response),l.response.headers=aa.from(l.response.headers))),Promise.reject(l)})}const Ax="1.13.2",Xc={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{Xc[e]=function(l){return typeof l===e||"a"+(a<1?"n ":" ")+e}});const Tb={};Xc.transitional=function(a,s,l){function c(d,m){return"[Axios v"+Ax+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new at(c(m," has been removed"+(s?" in "+s:"")),at.ERR_DEPRECATED);return s&&!Tb[m]&&(Tb[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(d,m,h):!0}};Xc.spelling=function(a){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function L1(e,a,s){if(typeof e!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],m=a[d];if(m){const h=e[d],g=h===void 0||m(h,d,e);if(g!==!0)throw new at("option "+d+" must be "+g,at.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new at("Unknown option "+d,at.ERR_BAD_OPTION)}}const Ec={assertOptions:L1,validators:Xc},Qa=Ec.validators;let vr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new vb,response:new vb}}async request(a,s){try{return await this._request(a,s)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=wr(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&Ec.assertOptions(l,{silentJSONParsing:Qa.transitional(Qa.boolean),forcedJSONParsing:Qa.transitional(Qa.boolean),clarifyTimeoutError:Qa.transitional(Qa.boolean)},!1),c!=null&&(ae.isFunction(c)?s.paramsSerializer={serialize:c}:Ec.assertOptions(c,{encode:Qa.function,serialize:Qa.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ec.assertOptions(s,{baseUrl:Qa.spelling("baseURL"),withXsrfToken:Qa.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=d&&ae.merge(d.common,d[s.method]);d&&ae.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),s.headers=aa.concat(m,d);const h=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(g=g&&j.synchronous,h.unshift(j.fulfilled,j.rejected))});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let v,x=0,N;if(!g){const _=[Rb.bind(this),void 0];for(_.unshift(...h),_.push(...p),N=_.length,v=Promise.resolve(s);x<N;)v=v.then(_[x++],_[x++]);return v}N=h.length;let q=s;for(;x<N;){const _=h[x++],j=h[x++];try{q=_(q)}catch(A){j.call(this,A);break}}try{v=Rb.call(this,q)}catch(_){return Promise.reject(_)}for(x=0,N=p.length;x<N;)v=v.then(p[x++],p[x++]);return v}getUri(a){a=wr(this.defaults,a);const s=wx(a.baseURL,a.url,a.allowAbsoluteUrls);return bx(s,a.params,a.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(a){vr.prototype[a]=function(s,l){return this.request(wr(l||{},{method:a,url:s,data:(l||{}).data}))}});ae.forEach(["post","put","patch"],function(a){function s(l){return function(d,m,h){return this.request(wr(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}vr.prototype[a]=s(),vr.prototype[a+"Form"]=s(!0)});let B1=class Cx{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new Ol(d,m,h),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=l=>{a.abort(l)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new Cx(function(c){a=c}),cancel:a}}};function q1(e){return function(s){return e.apply(null,s)}}function I1(e){return ae.isObject(e)&&e.isAxiosError===!0}const fm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(fm).forEach(([e,a])=>{fm[a]=e});function Ox(e){const a=new vr(e),s=lx(vr.prototype.request,a);return ae.extend(s,vr.prototype,a,{allOwnKeys:!0}),ae.extend(s,a,null,{allOwnKeys:!0}),s.create=function(c){return Ox(wr(e,c))},s}const dt=Ox(Ki);dt.Axios=vr;dt.CanceledError=Ol;dt.CancelToken=B1;dt.isCancel=Sx;dt.VERSION=Ax;dt.toFormData=Kc;dt.AxiosError=at;dt.Cancel=dt.CanceledError;dt.all=function(a){return Promise.all(a)};dt.spread=q1;dt.isAxiosError=I1;dt.mergeConfig=wr;dt.AxiosHeaders=aa;dt.formToJSON=e=>xx(ae.isHTMLForm(e)?new FormData(e):e);dt.getAdapter=Ex.getAdapter;dt.HttpStatusCode=fm;dt.default=dt;const{Axios:F2,AxiosError:$2,CanceledError:H2,isCancel:V2,CancelToken:Z2,VERSION:G2,all:Q2,Cancel:P2,isAxiosError:Y2,spread:K2,toFormData:X2,AxiosHeaders:J2,HttpStatusCode:W2,formToJSON:eD,getAdapter:tD,mergeConfig:nD}=dt,F1="medileser:draft:v1",zc="medileser:recovery:v1",Mc="medileser:recovery:intent",$1="vi.auth",H1="vi_auth",V1="medileser.selectedBank",Z1=1440*60*1e3,Qm=e=>{if(!e)return!1;const a=Date.parse(e);return Number.isNaN(a)?!1:Date.now()-a>Z1},zf=e=>{const{userId:a,bankId:s,oiId:l,type:c,bancadaId:d,isNew:m}=e;if(!a||s==null)return null;const h=l!=null?String(l):"new",g=`${F1}:u${a}:b${s}:oi:${h}`;if(c==="header")return`${g}:header`;const p=m?"new":d;return p==null?null:`${g}:bancada:${p}`},Mi=(e,a,s)=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}s&&Rx(s)},Mf=e=>{try{const a=localStorage.getItem(e);if(!a)return null;const s=JSON.parse(a);return!s||typeof s!="object"?null:Qm(s.ts)?(localStorage.removeItem(e),null):s}catch{return null}},Vs=e=>{try{localStorage.removeItem(e)}catch{}},Rx=e=>{try{localStorage.setItem(zc,JSON.stringify(e))}catch{}},Tx=()=>{try{const e=localStorage.getItem(zc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Qm(a.ts)?(localStorage.removeItem(zc),null):a}catch{return null}},G1=()=>{try{localStorage.removeItem(zc)}catch{}},Q1=e=>{const a=e.userId??null,s=e.bankId??null,l=e.oiId??null;if(!a||s==null||!l)return;const c=Tx(),d={version:1,ts:new Date().toISOString(),userId:a,bankId:s,oiId:l,oiCode:e.oiCode??c?.oiCode??null,returnTo:e.returnTo??c?.returnTo??`/oi/${l}?mode=edit`,mode:"edit",modal:e.modal??c?.modal};Rx(d)},P1=e=>{const a={version:1,ts:new Date().toISOString(),userId:e.userId,bankId:e.bankId,oiId:e.oiId,modal:e.modal,returnTo:e.returnTo};try{sessionStorage.setItem(Mc,JSON.stringify(a))}catch{}},Y1=()=>{try{const e=sessionStorage.getItem(Mc);if(!e)return null;const a=JSON.parse(e);return!a||typeof a!="object"?null:Qm(a.ts)?(sessionStorage.removeItem(Mc),null):a}catch{return null}},kf=()=>{try{sessionStorage.removeItem(Mc)}catch{}},K1=()=>{try{const e=localStorage.getItem($1)??localStorage.getItem(H1);if(!e)return{userId:null,bankId:null};const a=JSON.parse(e),s=Number(a.userId??a.id),l=a.bancoId!=null?Number(a.bancoId):null;return{userId:Number.isFinite(s)?s:null,bankId:l!=null&&Number.isFinite(l)?l:null}}catch{}return{userId:null,bankId:null}},X1=()=>{try{const e=localStorage.getItem(V1);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}},mm=(e,a)=>{const s=Tx();if(!s)return{target:null};if(!e||s.userId!==e)return{target:"/home",reason:"user"};if(a==null||s.bankId!==a)return{target:"/home",reason:"bank"};const l=s.returnTo||`/oi/${s.oiId}?mode=edit`,c=l==="/oi"||l==="/oi/"?`/oi/${s.oiId}?mode=edit`:l;return P1(s),{target:c,recovery:s}},Db="http://127.0.0.1:8000",Rl="openOiId",Jc="vi.currentOI",Dx="vi.auth",zx="vi_auth",J1="medileser.selectedBank",W1="medileser:selectedBank",hm="medileser.pendingToast",Xi="medileser.pendingAction",eE="medileser:auth-expired",pm="medileser.sessionUserId",gm="medileser.sessionBankId",Mx=()=>typeof window<"u"?window.location.port==="5173"?Db:window.location.origin:Db,Ge=dt.create({baseURL:Mx()}),kx=dt.create({baseURL:Mx()}),Ux=e=>{try{const a=localStorage.getItem(Dx)??localStorage.getItem(zx);if(a){const{token:s}=JSON.parse(a);s&&(e.headers&&typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${s}`):e.headers={...e.headers||{},Authorization:`Bearer ${s}`})}}catch{}return e};Ge.interceptors.request.use(Ux);kx.interceptors.request.use(Ux);function tE(){try{const e=sessionStorage.getItem(Rl);if(!e)return null;const a=Number(e);return Number.isFinite(a)&&a>0?a:null}catch{return null}}const Lx=()=>{try{const e=sessionStorage.getItem(Jc);if(!e)return null;const a=JSON.parse(e),s=Number(a?.id);return Number.isFinite(s)&&s>0?s:null}catch{return null}};function nE(e){try{sessionStorage.setItem(Rl,String(e))}catch{}}function Bx(){try{sessionStorage.removeItem(Rl)}catch{}}async function Ji(){const e=tE();if(e)try{await kx.post(`/oi/${e}/close`)}catch{}finally{Bx()}}function aE(e){try{sessionStorage.setItem(hm,e)}catch{}}function sE(){try{const e=sessionStorage.getItem(hm);return e?(sessionStorage.removeItem(hm),e):null}catch{return null}}function rE(e){try{sessionStorage.setItem(Xi,JSON.stringify(e))}catch{}}function lE(){try{const e=sessionStorage.getItem(Xi);return e?JSON.parse(e):null}catch{return null}}function dl(){try{sessionStorage.removeItem(Xi)}catch{}}function qx(){try{const e=sessionStorage.getItem(pm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function zb(e){try{e==null?sessionStorage.removeItem(pm):sessionStorage.setItem(pm,String(e))}catch{}}function Ix(){try{const e=sessionStorage.getItem(gm);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function kc(e){try{e==null?sessionStorage.removeItem(gm):sessionStorage.setItem(gm,String(e))}catch{}}function Fx(e){const a=qx();if(e==null)return!1;if(a===null||a===e)return zb(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Rl||c===Jc||c===Xi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return zb(e),kc(null),!0}function iE(e){const a=Ix();if(e==null)return!1;if(a===null||a===e)return kc(e),!1;try{const s=[];for(let l=0;l<sessionStorage.length;l+=1){const c=sessionStorage.key(l);c&&(c.startsWith("oi:")||c===Rl||c===Jc||c===Xi)&&s.push(c)}s.forEach(l=>sessionStorage.removeItem(l))}catch{}return kc(e),!0}function oE(){try{localStorage.removeItem(Dx),localStorage.removeItem(zx),localStorage.removeItem(J1)}catch{}finally{try{window.dispatchEvent(new Event(W1))}catch{}}try{sessionStorage.removeItem(Jc),sessionStorage.removeItem(Rl)}catch{}}let Mb=!1;async function $x(e){if(!Mb){Mb=!0;try{await Ji()}finally{oE();const a=e?.pending?"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado.":"Sesion invalida o expirada";if(aE(a),typeof window<"u"&&window.location.pathname!=="/login"){const s=e?.returnTo,l=s?`?returnTo=${encodeURIComponent(s)}${e?.pending?"&pending=1":""}`:"";window.location.replace(`/login${l}`)}}}}const zi=e=>{const a=e?.response?.status,s=String(e?.response?.headers?.["x-code"]??"").toUpperCase();if(s==="PASSWORD_REQUIRED"||s==="WRONG_PASSWORD")return!1;if(a===401)return!0;const l=e?.response?.data?.detail;return!!(typeof l=="string"&&/token requerido/i.test(l))},Uf=(e,a)=>{const s=a.match(e);if(!s)return null;const l=Number(s[1]);return Number.isFinite(l)?l:null},cE=e=>{if(typeof window>"u")return null;const a=String(e?.config?.method??"").toUpperCase(),s=String(e?.config?.url??""),l=`${window.location.pathname}${window.location.search}`;return a==="PUT"&&/\/oi\/\d+$/.test(s)?{type:"save_oi",route:l,oiId:Uf(/\/oi\/(\d+)$/,s),ts:new Date().toISOString()}:a==="POST"&&s==="/oi"?{type:"save_oi",route:l,oiId:null,ts:new Date().toISOString()}:a==="POST"&&/\/oi\/\d+\/bancadas$/.test(s)?{type:"save_bancada",route:l,oiId:Uf(/\/oi\/(\d+)\/bancadas$/,s),ts:new Date().toISOString()}:a==="PUT"&&/\/oi\/bancadas\/\d+$/.test(s)?{type:"save_bancada",route:l,bancadaId:Uf(/\/oi\/bancadas\/(\d+)$/,s),ts:new Date().toISOString()}:null},uE=e=>{if(typeof window>"u")return;const{pathname:a,search:s,hash:l}=window.location,c=new URLSearchParams(s);(a==="/oi"||a.startsWith("/oi/"))&&c.set("mode","edit");const m=c.toString(),h=p=>`${p}${m?`?${m}`:""}${l??""}`;let g=h(a);if(a==="/oi"||a==="/oi/"){const p=e?.oiId??Lx();p&&(g=h(`/oi/${p}`))}return g},dE=(e,a,s,l,c)=>{try{window.dispatchEvent(new CustomEvent(eE,{detail:{status:a,detail:e,url:s,method:l,pending:c}}))}catch{}};Ge.interceptors.response.use(e=>e,async e=>{const a=e?.response?.status,s=String(e?.config?.url??""),l=e?.response?.data?.detail,c=String(e?.config?.method??"").toUpperCase();if(!s.includes("/auth/login")&&zi(e)){const m=cE(e);m&&rE(m),dE(l,a,s,c,m);const h=uE(m),g=K1(),p=g.bankId??X1(),v=m?.oiId??Lx();if(g.userId&&p!=null&&v){const x=m?.type==="save_bancada"?{type:"bancada",bancadaId:m.bancadaId??null,isNew:m.bancadaId==null}:void 0;Q1({userId:g.userId,bankId:p,oiId:v,returnTo:h,modal:x})}await $x({returnTo:h,pending:!!m})}return Promise.reject(e)});const Pm=async()=>{const{data:e}=await Ge.get("/catalogs");return e},Wc="medileser.selectedBank",Uc="medileser:selectedBank";function ja(e,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(e??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function Nl(e){return ja(e)==="technician"}function Ym(e){return(e?.username??e?.user??"").toLowerCase()==="admin"}function qi(){try{const e=localStorage.getItem(Wc);if(!e)return null;const a=Number(e);return Number.isFinite(a)?a:null}catch{return null}}function Hx(e){try{localStorage.setItem(Wc,String(e))}finally{window.dispatchEvent(new Event(Uc))}}function Vx(){try{localStorage.removeItem(Wc)}finally{window.dispatchEvent(new Event(Uc))}}function fE(e){const a=()=>e(),s=l=>{l.key===Wc&&e()};return window.addEventListener(Uc,a),window.addEventListener("storage",s),()=>{window.removeEventListener(Uc,a),window.removeEventListener("storage",s)}}async function mE(e,a){try{await Ge.put("/auth/password",{old_password:e,new_password:a})}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function hE(e){try{await Ji();const{data:a}=await Ge.post("/auth/login",e);return localStorage.setItem("vi.auth",JSON.stringify(a)),Fx(a.userId??null),!Nl(a.role)&&a.bancoId!=null&&kc(a.bancoId),Nl(a.role)?Vx():Hx(0),a}catch(a){const s=a?.response?.status,l=a?.response?.data?.detail,c=s===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(c)}}function Tn(){const e=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!e)return null;try{const a=JSON.parse(e),s=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,c={user:a.user??a.username??"",userId:a.userId??a.id??0,username:s,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??s,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:ja(a.role,s),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules.map(d=>d==="future_logistica"?"logistica":d):void 0};return c.username&&c.token?c:null}catch{return null}}async function Zx(e){await Ji();const{data:a}=await Ge.put("/auth/banco",{bancoId:e});return localStorage.setItem("vi.auth",JSON.stringify(a)),Fx(a.userId??null),iE(e),Hx(e),a}function Gx(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),Vx();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function pE(){await Ji(),Gx()}function Ii({label:e,inputId:a,className:s="",inputRef:l,helpText:c,...d}){const[m,h]=b.useState(!1),g=a||d.name||void 0,{ref:p,...v}=d,x=l??p;return o.jsxs("div",{className:s,children:[e&&o.jsx("label",{className:"form-label",htmlFor:g,children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("input",{...v,id:g,type:m?"text":"password",className:"form-control",ref:x}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(N=>!N),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:o.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),c&&o.jsx("div",{className:"form-text",children:c})]})}function Tl({show:e=!0,label:a="Cargando..."}){return e?o.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[o.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),o.jsx("span",{className:"visually-hidden",children:a})]}):null}const Qx=b.createContext(null);function gE(e){return e==="success"?"success":e==="error"?"danger":e==="warning"?"warning":"secondary"}function yE({children:e}){const[a,s]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:g=3500,...p}=d,v={id:m,kind:h,duration:g,...p};s(x=>[...x,v]),window.setTimeout(()=>{s(x=>x.filter(N=>N.id!==m))},g)},[]),c=d=>s(m=>m.filter(h=>h.id!==d));return o.jsxs(Qx.Provider,{value:{push:l},children:[e,o.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>o.jsx("div",{className:`toast show align-items-center text-bg-${gE(d.kind)} border-0 mb-2`,role:"alert",children:o.jsxs("div",{className:"d-flex",children:[o.jsxs("div",{className:"toast-body",children:[d.title&&o.jsx("strong",{className:"me-2",children:d.title}),d.message]}),o.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>c(d.id)})]})},d.id))})]})}function Ar(){const e=b.useContext(Qx);if(!e)throw new Error("useToast must be used inside <ToastProvider>");return{toast:e.push}}function bE(){const{register:e,handleSubmit:a}=Gc({defaultValues:{username:"",password:""}}),{toast:s}=Ar(),l=new URLSearchParams(window.location.search),c=l.get("returnTo")??"",d=c.startsWith("/")?c:"/home",m=l.get("pending")==="1",[h,g]=b.useState(!1),p=b.useRef(d),[v,x]=b.useState(!1),[N,q]=b.useState(0),[_,j]=b.useState(!1),{data:A,isLoading:B,error:T,refetch:J}=Nr({queryKey:["catalogs"],queryFn:Pm,enabled:v}),k=A?.bancos??[];b.useEffect(()=>{const ie=sE();ie&&s({kind:"error",message:ie})},[s]),b.useEffect(()=>{v&&(N>0||k.length>0&&q(k[0].id))},[N,k,v]);const O=async ie=>{try{g(!0);const Ne=qx(),xe=await hE(ie),fe=Ne!=null&&xe.userId&&Ne!==xe.userId,ve=mm(xe.userId,xe.bancoId??0);if(ve.target?p.current=ve.target:m||fe?p.current="/home":p.current=d,Nl(xe.role)){x(!0),s({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace(p.current)}catch(Ne){const xe=Ne?.message??Ne?.response?.data?.detail??(typeof Ne=="string"?Ne:"Error de autenticacin");s({kind:"error",title:"Login",message:String(xe)})}finally{g(!1)}},$=N>0&&!_&&!B,U=async()=>{if($)try{j(!0);const ie=Ix(),Ne=ie!=null&&ie!==N,xe=await Zx(N),fe=mm(xe.userId,xe.bancoId??N);fe.target?p.current=fe.target:(m||Ne)&&(p.current="/home"),window.location.replace(p.current)}catch(ie){const Ne=ie?.response?.data?.detail??ie?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(Ne)})}finally{j(!1)}},Y=()=>{Gx(),x(!1),q(0)};return o.jsxs("div",{className:"vi-login",children:[o.jsx(Tl,{show:h||_,label:_?"Guardando banco...":"Validando credenciales..."}),o.jsxs("div",{className:"vi-login__split",children:[o.jsx("section",{className:"vi-login__left",children:o.jsx("div",{className:"text-center text-md-start",children:o.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),o.jsx("section",{className:"vi-login__right",children:o.jsx("div",{className:"card shadow-sm vi-login__card",children:o.jsxs("div",{className:"card-body p-4 p-md-5",children:[o.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),o.jsxs("form",{onSubmit:a(O),className:"row g-3",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),o.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...e("username",{required:!0})})]}),o.jsx("div",{className:"col-md-6",children:o.jsx(Ii,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...e("password",{required:!0})})}),o.jsx("div",{className:"col-12 d-grid",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h||v,"aria-busy":h?"true":"false",children:h?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),v&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:N||"",onChange:ie=>q(Number(ie.target.value)),disabled:B||_,children:k.map(ie=>o.jsx("option",{value:ie.id,children:ie.name},ie.id))}),T?o.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>J(),children:"Reintentar"})]}):null]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Y,disabled:_,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!$,onClick:U,children:_?"Guardando...":"Continuar"})]})]})})})]})}const kb=(e,a,s)=>{if(e&&"reportValidity"in e){const l=Be(s,a);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},ym=(e,a)=>{for(const s in a.fields){const l=a.fields[s];l&&l.ref&&"reportValidity"in l.ref?kb(l.ref,s,e):l&&l.refs&&l.refs.forEach(c=>kb(c,s,e))}},Ub=(e,a)=>{a.shouldUseNativeValidation&&ym(e,a);const s={};for(const l in e){const c=Be(a.fields,l),d=Object.assign(e[l]||{},{ref:c&&c.ref});if(vE(a.names||Object.keys(e),l)){const m=Object.assign({},Be(s,l));Et(m,"root",d),Et(s,l,m)}else Et(s,l,d)}return s},vE=(e,a)=>{const s=Lb(a);return e.some(l=>Lb(l).match(`^${s}\\.\\d+`))};function Lb(e){return e.replace(/\]|\[/g,"")}function Se(e,a,s){function l(h,g){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(e),a(h,g);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=g}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:e});function m(h){var g;const p=s?.Parent?new d:this;l(p,h),(g=p._zod).deferred??(g.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>s?.Parent&&h instanceof s.Parent?!0:h?._zod?.traits?.has(e)}),Object.defineProperty(m,"name",{value:e}),m}class vl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Px extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const Yx={};function _r(e){return Yx}function xE(e){const a=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,c])=>a.indexOf(+l)===-1).map(([l,c])=>c)}function bm(e,a){return typeof a=="bigint"?a.toString():a}function Km(e){return{get value(){{const a=e();return Object.defineProperty(this,"value",{value:a}),a}}}}function Xm(e){return e==null}function Jm(e){const a=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(a,s)}function SE(e,a){const s=(e.toString().split(".")[1]||"").length,l=a.toString();let c=(l.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(l)){const g=l.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const d=s>c?s:c,m=Number.parseInt(e.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const Bb=Symbol("evaluating");function kt(e,a,s){let l;Object.defineProperty(e,a,{get(){if(l!==Bb)return l===void 0&&(l=Bb,l=s()),l},set(c){Object.defineProperty(e,a,{value:c})},configurable:!0})}function Cr(e,a,s){Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Or(...e){const a={};for(const s of e){const l=Object.getOwnPropertyDescriptors(s);Object.assign(a,l)}return Object.defineProperties({},a)}function qb(e){return JSON.stringify(e)}const Kx="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Lc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const NE=Km(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Fi(e){if(Lc(e)===!1)return!1;const a=e.constructor;if(a===void 0)return!0;const s=a.prototype;return!(Lc(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function Xx(e){return Fi(e)?{...e}:Array.isArray(e)?[...e]:e}const wE=new Set(["string","number","symbol"]);function eu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qs(e,a,s){const l=new e._zod.constr(a??e._zod.def);return(!a||s?.parent)&&(l._zod.parent=e),l}function Ye(e){const a=e;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function _E(e){return Object.keys(e).filter(a=>e[a]._zod.optin==="optional"&&e[a]._zod.optout==="optional")}const jE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function EE(e,a){const s=e._zod.def,l=Or(e._zod.def,{get shape(){const c={};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(c[d]=s.shape[d])}return Cr(this,"shape",c),c},checks:[]});return Qs(e,l)}function AE(e,a){const s=e._zod.def,l=Or(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const d in a){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete c[d]}return Cr(this,"shape",c),c},checks:[]});return Qs(e,l)}function CE(e,a){if(!Fi(a))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Or(e._zod.def,{get shape(){const d={...e._zod.def.shape,...a};return Cr(this,"shape",d),d},checks:[]});return Qs(e,c)}function OE(e,a){if(!Fi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const l={...e._zod.def.shape,...a};return Cr(this,"shape",l),l},checks:e._zod.def.checks};return Qs(e,s)}function RE(e,a){const s=Or(e._zod.def,{get shape(){const l={...e._zod.def.shape,...a._zod.def.shape};return Cr(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Qs(e,s)}function TE(e,a,s){const l=Or(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in c))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=e?new e({type:"optional",innerType:c[m]}):c[m])}else for(const m in c)d[m]=e?new e({type:"optional",innerType:c[m]}):c[m];return Cr(this,"shape",d),d},checks:[]});return Qs(a,l)}function DE(e,a,s){const l=Or(a._zod.def,{get shape(){const c=a._zod.def.shape,d={...c};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(d[m]=new e({type:"nonoptional",innerType:c[m]}))}else for(const m in c)d[m]=new e({type:"nonoptional",innerType:c[m]});return Cr(this,"shape",d),d},checks:[]});return Qs(a,l)}function yl(e,a=0){if(e.aborted===!0)return!0;for(let s=a;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function Jx(e,a){return a.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(e),s})}function gc(e){return typeof e=="string"?e:e?.message}function jr(e,a,s){const l={...e,path:e.path??[]};if(!e.message){const c=gc(e.inst?._zod.def?.error?.(e))??gc(a?.error?.(e))??gc(s.customError?.(e))??gc(s.localeError?.(e))??"Invalid input";l.message=c}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function Wm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function $i(...e){const[a,s,l]=e;return typeof a=="string"?{message:a,code:"custom",input:s,inst:l}:{...a}}const Wx=(e,a)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:a,enumerable:!1}),e.message=JSON.stringify(a,bm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},eh=Se("$ZodError",Wx),tu=Se("$ZodError",Wx,{Parent:Error});function zE(e,a=s=>s.message){const s={},l=[];for(const c of e.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(a(c))):l.push(a(c));return{formErrors:l,fieldErrors:s}}function ME(e,a=s=>s.message){const s={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)s._errors.push(a(d));else{let m=s,h=0;for(;h<d.path.length;){const g=d.path[h];h===d.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(a(d))):m[g]=m[g]||{_errors:[]},m=m[g],h++}}};return l(e),s}const nu=e=>(a,s,l,c)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise)throw new vl;if(m.issues.length){const h=new(c?.Err??e)(m.issues.map(g=>jr(g,d,_r())));throw Kx(h,c?.callee),h}return m.value},kE=nu(tu),au=e=>async(a,s,l,c)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:s,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(c?.Err??e)(m.issues.map(g=>jr(g,d,_r())));throw Kx(h,c?.callee),h}return m.value},UE=au(tu),su=e=>(a,s,l)=>{const c=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new vl;return d.issues.length?{success:!1,error:new(e??eh)(d.issues.map(m=>jr(m,c,_r())))}:{success:!0,data:d.value}},LE=su(tu),ru=e=>async(a,s,l)=>{const c=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(m=>jr(m,c,_r())))}:{success:!0,data:d.value}},BE=ru(tu),qE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return nu(e)(a,s,c)},IE=e=>(a,s,l)=>nu(e)(a,s,l),FE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return au(e)(a,s,c)},$E=e=>async(a,s,l)=>au(e)(a,s,l),HE=e=>(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return su(e)(a,s,c)},VE=e=>(a,s,l)=>su(e)(a,s,l),ZE=e=>async(a,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return ru(e)(a,s,c)},GE=e=>async(a,s,l)=>ru(e)(a,s,l),QE=/^[cC][^\s-]{8,}$/,PE=/^[0-9a-z]+$/,YE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,KE=/^[0-9a-vA-V]{20}$/,XE=/^[A-Za-z0-9]{27}$/,JE=/^[a-zA-Z0-9_-]{21}$/,WE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,eA=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ib=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,tA=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,nA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function aA(){return new RegExp(nA,"u")}const sA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,lA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,iA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,e0=/^[A-Za-z0-9_-]*$/,cA=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,uA=/^\+(?:[0-9]){6,14}[0-9]$/,t0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dA=new RegExp(`^${t0}$`);function n0(e){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${a}`:e.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${e.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function fA(e){return new RegExp(`^${n0(e)}$`)}function mA(e){const a=n0({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${s.join("|")})`;return new RegExp(`^${t0}T(?:${l})$`)}const hA=e=>{const a=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},pA=/^-?\d+$/,gA=/^-?\d+(?:\.\d+)?/,yA=/^[^A-Z]*$/,bA=/^[^a-z]*$/,sa=Se("$ZodCheck",(e,a)=>{var s;e._zod??(e._zod={}),e._zod.def=a,(s=e._zod).onattach??(s.onattach=[])}),a0={number:"number",bigint:"bigint",object:"date"},s0=Se("$ZodCheckLessThan",(e,a)=>{sa.init(e,a);const s=a0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:s,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),r0=Se("$ZodCheckGreaterThan",(e,a)=>{sa.init(e,a);const s=a0[typeof a.value];e._zod.onattach.push(l=>{const c=l._zod.bag,d=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),e._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:s,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:e,continue:!a.abort})}}),vA=Se("$ZodCheckMultipleOf",(e,a)=>{sa.init(e,a),e._zod.onattach.push(s=>{var l;(l=s._zod.bag).multipleOf??(l.multipleOf=a.value)}),e._zod.check=s=>{if(typeof s.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%a.value===BigInt(0):SE(s.value,a.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:a.value,input:s.value,inst:e,continue:!a.abort})}}),xA=Se("$ZodCheckNumberFormat",(e,a)=>{sa.init(e,a),a.format=a.format||"float64";const s=a.format?.includes("int"),l=s?"int":"number",[c,d]=jE[a.format];e._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=c,h.maximum=d,s&&(h.pattern=pA)}),e._zod.check=m=>{const h=m.value;if(s){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!a.abort});return}}h<c&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:c,inclusive:!0,inst:e,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:e})}}),SA=Se("$ZodCheckMaxLength",(e,a)=>{var s;sa.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Xm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(l._zod.bag.maximum=a.maximum)}),e._zod.check=l=>{const c=l.value;if(c.length<=a.maximum)return;const m=Wm(c);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),NA=Se("$ZodCheckMinLength",(e,a)=>{var s;sa.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Xm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(l._zod.bag.minimum=a.minimum)}),e._zod.check=l=>{const c=l.value;if(c.length>=a.minimum)return;const m=Wm(c);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:e,continue:!a.abort})}}),wA=Se("$ZodCheckLengthEquals",(e,a)=>{var s;sa.init(e,a),(s=e._zod.def).when??(s.when=l=>{const c=l.value;return!Xm(c)&&c.length!==void 0}),e._zod.onattach.push(l=>{const c=l._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),e._zod.check=l=>{const c=l.value,d=c.length;if(d===a.length)return;const m=Wm(c),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!a.abort})}}),lu=Se("$ZodCheckStringFormat",(e,a)=>{var s,l;sa.init(e,a),e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(s=e._zod).check??(s.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:e,continue:!a.abort})}):(l=e._zod).check??(l.check=()=>{})}),_A=Se("$ZodCheckRegex",(e,a)=>{lu.init(e,a),e._zod.check=s=>{a.pattern.lastIndex=0,!a.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:a.pattern.toString(),inst:e,continue:!a.abort})}}),jA=Se("$ZodCheckLowerCase",(e,a)=>{a.pattern??(a.pattern=yA),lu.init(e,a)}),EA=Se("$ZodCheckUpperCase",(e,a)=>{a.pattern??(a.pattern=bA),lu.init(e,a)}),AA=Se("$ZodCheckIncludes",(e,a)=>{sa.init(e,a);const s=eu(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${s}`:s);a.pattern=l,e._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:e,continue:!a.abort})}}),CA=Se("$ZodCheckStartsWith",(e,a)=>{sa.init(e,a);const s=new RegExp(`^${eu(a.prefix)}.*`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:e,continue:!a.abort})}}),OA=Se("$ZodCheckEndsWith",(e,a)=>{sa.init(e,a);const s=new RegExp(`.*${eu(a.suffix)}$`);a.pattern??(a.pattern=s),e._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:e,continue:!a.abort})}}),RA=Se("$ZodCheckOverwrite",(e,a)=>{sa.init(e,a),e._zod.check=s=>{s.value=a.tx(s.value)}});class TA{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),c=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(c)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...s,c.join(`
`))}}const DA={major:4,minor:1,patch:12},fn=Se("$ZodType",(e,a)=>{var s;e??(e={}),e._zod.def=a,e._zod.bag=e._zod.bag||{},e._zod.version=DA;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const c of l)for(const d of c._zod.onattach)d(e);if(l.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const c=(m,h,g)=>{let p=yl(m),v;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(m))continue}else if(p)continue;const N=m.issues.length,q=x._zod.check(m);if(q instanceof Promise&&g?.async===!1)throw new vl;if(v||q instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await q,m.issues.length!==N&&(p||(p=yl(m,N)))});else{if(m.issues.length===N)continue;p||(p=yl(m,N))}}return v?v.then(()=>m):m},d=(m,h,g)=>{if(yl(m))return m.aborted=!0,m;const p=c(h,l,g);if(p instanceof Promise){if(g.async===!1)throw new vl;return p.then(v=>e._zod.parse(v,g))}return e._zod.parse(p,g)};e._zod.run=(m,h)=>{if(h.skipChecks)return e._zod.parse(m,h);if(h.direction==="backward"){const p=e._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const g=e._zod.parse(m,h);if(g instanceof Promise){if(h.async===!1)throw new vl;return g.then(p=>c(p,l,h))}return c(g,l,h)}}e["~standard"]={validate:c=>{try{const d=LE(e,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return BE(e,c).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),th=Se("$ZodString",(e,a)=>{fn.init(e,a),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??hA(e._zod.bag),e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Vt=Se("$ZodStringFormat",(e,a)=>{lu.init(e,a),th.init(e,a)}),zA=Se("$ZodGUID",(e,a)=>{a.pattern??(a.pattern=eA),Vt.init(e,a)}),MA=Se("$ZodUUID",(e,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=Ib(l))}else a.pattern??(a.pattern=Ib());Vt.init(e,a)}),kA=Se("$ZodEmail",(e,a)=>{a.pattern??(a.pattern=tA),Vt.init(e,a)}),UA=Se("$ZodURL",(e,a)=>{Vt.init(e,a),e._zod.check=s=>{try{const l=s.value.trim(),c=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:cA.source,input:s.value,inst:e,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:s.value,inst:e,continue:!a.abort})),a.normalize?s.value=c.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!a.abort})}}}),LA=Se("$ZodEmoji",(e,a)=>{a.pattern??(a.pattern=aA()),Vt.init(e,a)}),BA=Se("$ZodNanoID",(e,a)=>{a.pattern??(a.pattern=JE),Vt.init(e,a)}),qA=Se("$ZodCUID",(e,a)=>{a.pattern??(a.pattern=QE),Vt.init(e,a)}),IA=Se("$ZodCUID2",(e,a)=>{a.pattern??(a.pattern=PE),Vt.init(e,a)}),FA=Se("$ZodULID",(e,a)=>{a.pattern??(a.pattern=YE),Vt.init(e,a)}),$A=Se("$ZodXID",(e,a)=>{a.pattern??(a.pattern=KE),Vt.init(e,a)}),HA=Se("$ZodKSUID",(e,a)=>{a.pattern??(a.pattern=XE),Vt.init(e,a)}),VA=Se("$ZodISODateTime",(e,a)=>{a.pattern??(a.pattern=mA(a)),Vt.init(e,a)}),ZA=Se("$ZodISODate",(e,a)=>{a.pattern??(a.pattern=dA),Vt.init(e,a)}),GA=Se("$ZodISOTime",(e,a)=>{a.pattern??(a.pattern=fA(a)),Vt.init(e,a)}),QA=Se("$ZodISODuration",(e,a)=>{a.pattern??(a.pattern=WE),Vt.init(e,a)}),PA=Se("$ZodIPv4",(e,a)=>{a.pattern??(a.pattern=sA),Vt.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv4"})}),YA=Se("$ZodIPv6",(e,a)=>{a.pattern??(a.pattern=rA),Vt.init(e,a),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!a.abort})}}}),KA=Se("$ZodCIDRv4",(e,a)=>{a.pattern??(a.pattern=lA),Vt.init(e,a)}),XA=Se("$ZodCIDRv6",(e,a)=>{a.pattern??(a.pattern=iA),Vt.init(e,a),e._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[c,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!a.abort})}}});function l0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const JA=Se("$ZodBase64",(e,a)=>{a.pattern??(a.pattern=oA),Vt.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{l0(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!a.abort})}});function WA(e){if(!e0.test(e))return!1;const a=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=a.padEnd(Math.ceil(a.length/4)*4,"=");return l0(s)}const eC=Se("$ZodBase64URL",(e,a)=>{a.pattern??(a.pattern=e0),Vt.init(e,a),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{WA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!a.abort})}}),tC=Se("$ZodE164",(e,a)=>{a.pattern??(a.pattern=uA),Vt.init(e,a)});function nC(e,a=null){try{const s=e.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const c=JSON.parse(atob(l));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const aC=Se("$ZodJWT",(e,a)=>{Vt.init(e,a),e._zod.check=s=>{nC(s.value,a.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!a.abort})}}),i0=Se("$ZodNumber",(e,a)=>{fn.init(e,a),e._zod.pattern=e._zod.bag.pattern??gA,e._zod.parse=(s,l)=>{if(a.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:e,...d?{received:d}:{}}),s}}),sC=Se("$ZodNumber",(e,a)=>{xA.init(e,a),i0.init(e,a)}),rC=Se("$ZodUnknown",(e,a)=>{fn.init(e,a),e._zod.parse=s=>s}),lC=Se("$ZodNever",(e,a)=>{fn.init(e,a),e._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function Fb(e,a,s){e.issues.length&&a.issues.push(...Jx(s,e.issues)),a.value[s]=e.value}const iC=Se("$ZodArray",(e,a)=>{fn.init(e,a),e._zod.parse=(s,l)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:e}),s;s.value=Array(c.length);const d=[];for(let m=0;m<c.length;m++){const h=c[m],g=a.element._zod.run({value:h,issues:[]},l);g instanceof Promise?d.push(g.then(p=>Fb(p,s,m))):Fb(g,s,m)}return d.length?Promise.all(d).then(()=>s):s}});function Bc(e,a,s,l){e.issues.length&&a.issues.push(...Jx(s,e.issues)),e.value===void 0?s in l&&(a.value[s]=void 0):a.value[s]=e.value}function o0(e){const a=Object.keys(e.shape);for(const l of a)if(!e.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=_E(e.shape);return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(s)}}function c0(e,a,s,l,c,d){const m=[],h=c.keySet,g=c.catchall._zod,p=g.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const x=g.run({value:a[v],issues:[]},l);x instanceof Promise?e.push(x.then(N=>Bc(N,s,v,a))):Bc(x,s,v,a)}return m.length&&s.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),e.length?Promise.all(e).then(()=>s):s}const oC=Se("$ZodObject",(e,a)=>{if(fn.init(e,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const g={...h};return Object.defineProperty(a,"shape",{value:g}),g}})}const l=Km(()=>o0(a));kt(e._zod,"propValues",()=>{const h=a.shape,g={};for(const p in h){const v=h[p]._zod;if(v.values){g[p]??(g[p]=new Set);for(const x of v.values)g[p].add(x)}}return g});const c=Lc,d=a.catchall;let m;e._zod.parse=(h,g)=>{m??(m=l.value);const p=h.value;if(!c(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),h;h.value={};const v=[],x=m.shape;for(const N of m.keys){const _=x[N]._zod.run({value:p[N],issues:[]},g);_ instanceof Promise?v.push(_.then(j=>Bc(j,h,N,p))):Bc(_,h,N,p)}return d?c0(v,p,h,g,l.value,e):v.length?Promise.all(v).then(()=>h):h}}),cC=Se("$ZodObjectJIT",(e,a)=>{oC.init(e,a);const s=e._zod.parse,l=Km(()=>o0(a)),c=N=>{const q=new TA(["shape","payload","ctx"]),_=l.value,j=J=>{const k=qb(J);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};q.write("const input = payload.value;");const A=Object.create(null);let B=0;for(const J of _.keys)A[J]=`key_${B++}`;q.write("const newResult = {};");for(const J of _.keys){const k=A[J],O=qb(J);q.write(`const ${k} = ${j(J)};`),q.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${k}.value;
        }
        
      `)}q.write("payload.value = newResult;"),q.write("return payload;");const T=q.compile();return(J,k)=>T(N,J,k)};let d;const m=Lc,h=!Yx.jitless,p=h&&NE.value,v=a.catchall;let x;e._zod.parse=(N,q)=>{x??(x=l.value);const _=N.value;return m(_)?h&&p&&q?.async===!1&&q.jitless!==!0?(d||(d=c(a.shape)),N=d(N,q),v?c0([],_,N,q,x,e):N):s(N,q):(N.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),N)}});function $b(e,a,s,l){for(const d of e)if(d.issues.length===0)return a.value=d.value,a;const c=e.filter(d=>!yl(d));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:s,errors:e.map(d=>d.issues.map(m=>jr(m,l,_r())))}),a)}const uC=Se("$ZodUnion",(e,a)=>{fn.init(e,a),kt(e._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),kt(e._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),kt(e._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),kt(e._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${c.map(d=>Jm(d.source)).join("|")})$`)}});const s=a.options.length===1,l=a.options[0]._zod.run;e._zod.parse=(c,d)=>{if(s)return l(c,d);let m=!1;const h=[];for(const g of a.options){const p=g._zod.run({value:c.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(g=>$b(g,c,e,d)):$b(h,c,e,d)}}),dC=Se("$ZodIntersection",(e,a)=>{fn.init(e,a),e._zod.parse=(s,l)=>{const c=s.value,d=a.left._zod.run({value:c,issues:[]},l),m=a.right._zod.run({value:c,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([g,p])=>Hb(s,g,p)):Hb(s,d,m)}});function vm(e,a){if(e===a)return{valid:!0,data:e};if(e instanceof Date&&a instanceof Date&&+e==+a)return{valid:!0,data:e};if(Fi(e)&&Fi(a)){const s=Object.keys(a),l=Object.keys(e).filter(d=>s.indexOf(d)!==-1),c={...e,...a};for(const d of l){const m=vm(e[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};c[d]=m.data}return{valid:!0,data:c}}if(Array.isArray(e)&&Array.isArray(a)){if(e.length!==a.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<e.length;l++){const c=e[l],d=a[l],m=vm(c,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};s.push(m.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Hb(e,a,s){if(a.issues.length&&e.issues.push(...a.issues),s.issues.length&&e.issues.push(...s.issues),yl(e))return e;const l=vm(a.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const fC=Se("$ZodEnum",(e,a)=>{fn.init(e,a);const s=xE(a.entries),l=new Set(s);e._zod.values=l,e._zod.pattern=new RegExp(`^(${s.filter(c=>wE.has(typeof c)).map(c=>typeof c=="string"?eu(c):c.toString()).join("|")})$`),e._zod.parse=(c,d)=>{const m=c.value;return l.has(m)||c.issues.push({code:"invalid_value",values:s,input:m,inst:e}),c}}),mC=Se("$ZodTransform",(e,a)=>{fn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Px(e.constructor.name);const c=a.transform(s.value,s);if(l.async)return(c instanceof Promise?c:Promise.resolve(c)).then(m=>(s.value=m,s));if(c instanceof Promise)throw new vl;return s.value=c,s}});function Vb(e,a){return e.issues.length&&a===void 0?{issues:[],value:void 0}:e}const hC=Se("$ZodOptional",(e,a)=>{fn.init(e,a),e._zod.optin="optional",e._zod.optout="optional",kt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),kt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Jm(s.source)})?$`):void 0}),e._zod.parse=(s,l)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Vb(d,s.value)):Vb(c,s.value)}return s.value===void 0?s:a.innerType._zod.run(s,l)}}),pC=Se("$ZodNullable",(e,a)=>{fn.init(e,a),kt(e._zod,"optin",()=>a.innerType._zod.optin),kt(e._zod,"optout",()=>a.innerType._zod.optout),kt(e._zod,"pattern",()=>{const s=a.innerType._zod.pattern;return s?new RegExp(`^(${Jm(s.source)}|null)$`):void 0}),kt(e._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),e._zod.parse=(s,l)=>s.value===null?s:a.innerType._zod.run(s,l)}),gC=Se("$ZodDefault",(e,a)=>{fn.init(e,a),e._zod.optin="optional",kt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);if(s.value===void 0)return s.value=a.defaultValue,s;const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Zb(d,a)):Zb(c,a)}});function Zb(e,a){return e.value===void 0&&(e.value=a.defaultValue),e}const yC=Se("$ZodPrefault",(e,a)=>{fn.init(e,a),e._zod.optin="optional",kt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=a.defaultValue),a.innerType._zod.run(s,l))}),bC=Se("$ZodNonOptional",(e,a)=>{fn.init(e,a),kt(e._zod,"values",()=>{const s=a.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),e._zod.parse=(s,l)=>{const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>Gb(d,e)):Gb(c,e)}});function Gb(e,a){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:a}),e}const vC=Se("$ZodCatch",(e,a)=>{fn.init(e,a),kt(e._zod,"optin",()=>a.innerType._zod.optin),kt(e._zod,"optout",()=>a.innerType._zod.optout),kt(e._zod,"values",()=>a.innerType._zod.values),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=a.catchValue({...s,error:{issues:d.issues.map(m=>jr(m,l,_r()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=a.catchValue({...s,error:{issues:c.issues.map(d=>jr(d,l,_r()))},input:s.value}),s.issues=[]),s)}}),xC=Se("$ZodPipe",(e,a)=>{fn.init(e,a),kt(e._zod,"values",()=>a.in._zod.values),kt(e._zod,"optin",()=>a.in._zod.optin),kt(e._zod,"optout",()=>a.out._zod.optout),kt(e._zod,"propValues",()=>a.in._zod.propValues),e._zod.parse=(s,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(s,l);return d instanceof Promise?d.then(m=>yc(m,a.in,l)):yc(d,a.in,l)}const c=a.in._zod.run(s,l);return c instanceof Promise?c.then(d=>yc(d,a.out,l)):yc(c,a.out,l)}});function yc(e,a,s){return e.issues.length?(e.aborted=!0,e):a._zod.run({value:e.value,issues:e.issues},s)}const SC=Se("$ZodReadonly",(e,a)=>{fn.init(e,a),kt(e._zod,"propValues",()=>a.innerType._zod.propValues),kt(e._zod,"values",()=>a.innerType._zod.values),kt(e._zod,"optin",()=>a.innerType._zod.optin),kt(e._zod,"optout",()=>a.innerType._zod.optout),e._zod.parse=(s,l)=>{if(l.direction==="backward")return a.innerType._zod.run(s,l);const c=a.innerType._zod.run(s,l);return c instanceof Promise?c.then(Qb):Qb(c)}});function Qb(e){return e.value=Object.freeze(e.value),e}const NC=Se("$ZodCustom",(e,a)=>{sa.init(e,a),fn.init(e,a),e._zod.parse=(s,l)=>s,e._zod.check=s=>{const l=s.value,c=a.fn(l);if(c instanceof Promise)return c.then(d=>Pb(d,s,l,e));Pb(c,s,l,e)}});function Pb(e,a,s,l){if(!e){const c={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(c.params=l._zod.def.params),a.issues.push($i(c))}}class wC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...s){const l=s[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const s=this._map.get(a);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(a),this}get(a){const s=a._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const c={...l,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function _C(){return new wC}const bc=_C();function jC(e,a){return new e({type:"string",...Ye(a)})}function EC(e,a){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ye(a)})}function Yb(e,a){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ye(a)})}function AC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ye(a)})}function CC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ye(a)})}function OC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ye(a)})}function RC(e,a){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ye(a)})}function TC(e,a){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ye(a)})}function DC(e,a){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ye(a)})}function zC(e,a){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ye(a)})}function MC(e,a){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ye(a)})}function kC(e,a){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ye(a)})}function UC(e,a){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ye(a)})}function LC(e,a){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ye(a)})}function BC(e,a){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ye(a)})}function qC(e,a){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ye(a)})}function IC(e,a){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ye(a)})}function FC(e,a){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ye(a)})}function $C(e,a){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ye(a)})}function HC(e,a){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ye(a)})}function VC(e,a){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ye(a)})}function ZC(e,a){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ye(a)})}function GC(e,a){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ye(a)})}function QC(e,a){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ye(a)})}function PC(e,a){return new e({type:"string",format:"date",check:"string_format",...Ye(a)})}function YC(e,a){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ye(a)})}function KC(e,a){return new e({type:"string",format:"duration",check:"string_format",...Ye(a)})}function XC(e,a){return new e({type:"number",checks:[],...Ye(a)})}function JC(e,a){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ye(a)})}function WC(e){return new e({type:"unknown"})}function eO(e,a){return new e({type:"never",...Ye(a)})}function Kb(e,a){return new s0({check:"less_than",...Ye(a),value:e,inclusive:!1})}function Lf(e,a){return new s0({check:"less_than",...Ye(a),value:e,inclusive:!0})}function Xb(e,a){return new r0({check:"greater_than",...Ye(a),value:e,inclusive:!1})}function Bf(e,a){return new r0({check:"greater_than",...Ye(a),value:e,inclusive:!0})}function Jb(e,a){return new vA({check:"multiple_of",...Ye(a),value:e})}function u0(e,a){return new SA({check:"max_length",...Ye(a),maximum:e})}function qc(e,a){return new NA({check:"min_length",...Ye(a),minimum:e})}function d0(e,a){return new wA({check:"length_equals",...Ye(a),length:e})}function tO(e,a){return new _A({check:"string_format",format:"regex",...Ye(a),pattern:e})}function nO(e){return new jA({check:"string_format",format:"lowercase",...Ye(e)})}function aO(e){return new EA({check:"string_format",format:"uppercase",...Ye(e)})}function sO(e,a){return new AA({check:"string_format",format:"includes",...Ye(a),includes:e})}function rO(e,a){return new CA({check:"string_format",format:"starts_with",...Ye(a),prefix:e})}function lO(e,a){return new OA({check:"string_format",format:"ends_with",...Ye(a),suffix:e})}function Wi(e){return new RA({check:"overwrite",tx:e})}function iO(e){return Wi(a=>a.normalize(e))}function oO(){return Wi(e=>e.trim())}function cO(){return Wi(e=>e.toLowerCase())}function uO(){return Wi(e=>e.toUpperCase())}function dO(e,a,s){return new e({type:"array",element:a,...Ye(s)})}function fO(e,a,s){return new e({type:"custom",check:"custom",fn:a,...Ye(s)})}function mO(e){const a=hO(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push($i(l,s.value,a._zod.def));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),s.issues.push($i(c))}},e(s.value,s)));return a}function hO(e,a){const s=new sa({check:"custom",...Ye(a)});return s._zod.check=e,s}function Wb(e,a){try{var s=e()}catch(l){return a(l)}return s&&s.then?s.then(void 0,a):s}function pO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),a){var g=s[m].types,p=g&&g[l.code];s[m]=Im(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function gO(e,a){for(var s={};e.length;){var l=e[0],c=l.code,d=l.message,m=l.path.join(".");if(!s[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];s[m]={message:h.message,type:h.code}}else s[m]={message:d,type:c};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(x){return e.push(x)})}),a){var g=s[m].types,p=g&&g[l.code];s[m]=Im(m,a,s,c,p?[].concat(p,l.message):l.message)}e.shift()}return s}function yO(e,a,s){if(s===void 0&&(s={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,c,d){try{return Promise.resolve(Wb(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&ym({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:Ub(pO(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,c,d){try{return Promise.resolve(Wb(function(){return Promise.resolve((s.mode==="sync"?kE:UE)(e,l,a)).then(function(m){return d.shouldUseNativeValidation&&ym({},d),{errors:{},values:s.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof eh})(m))return{values:{},errors:Ub(gO(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const bO=Se("ZodISODateTime",(e,a)=>{VA.init(e,a),Gt.init(e,a)});function vO(e){return QC(bO,e)}const xO=Se("ZodISODate",(e,a)=>{ZA.init(e,a),Gt.init(e,a)});function SO(e){return PC(xO,e)}const NO=Se("ZodISOTime",(e,a)=>{GA.init(e,a),Gt.init(e,a)});function wO(e){return YC(NO,e)}const _O=Se("ZodISODuration",(e,a)=>{QA.init(e,a),Gt.init(e,a)});function jO(e){return KC(_O,e)}const EO=(e,a)=>{eh.init(e,a),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>ME(e,s)},flatten:{value:s=>zE(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,bm,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,bm,2)}},isEmpty:{get(){return e.issues.length===0}}})},Oa=Se("ZodError",EO,{Parent:Error}),AO=nu(Oa),CO=au(Oa),OO=su(Oa),RO=ru(Oa),TO=qE(Oa),DO=IE(Oa),zO=FE(Oa),MO=$E(Oa),kO=HE(Oa),UO=VE(Oa),LO=ZE(Oa),BO=GE(Oa),yn=Se("ZodType",(e,a)=>(fn.init(e,a),e.def=a,e.type=a.type,Object.defineProperty(e,"_def",{value:a}),e.check=(...s)=>e.clone(Or(a,{checks:[...a.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),e.clone=(s,l)=>Qs(e,s,l),e.brand=()=>e,e.register=((s,l)=>(s.add(e,l),e)),e.parse=(s,l)=>AO(e,s,l,{callee:e.parse}),e.safeParse=(s,l)=>OO(e,s,l),e.parseAsync=async(s,l)=>CO(e,s,l,{callee:e.parseAsync}),e.safeParseAsync=async(s,l)=>RO(e,s,l),e.spa=e.safeParseAsync,e.encode=(s,l)=>TO(e,s,l),e.decode=(s,l)=>DO(e,s,l),e.encodeAsync=async(s,l)=>zO(e,s,l),e.decodeAsync=async(s,l)=>MO(e,s,l),e.safeEncode=(s,l)=>kO(e,s,l),e.safeDecode=(s,l)=>UO(e,s,l),e.safeEncodeAsync=async(s,l)=>LO(e,s,l),e.safeDecodeAsync=async(s,l)=>BO(e,s,l),e.refine=(s,l)=>e.check(AR(s,l)),e.superRefine=s=>e.check(CR(s)),e.overwrite=s=>e.check(Wi(s)),e.optional=()=>av(e),e.nullable=()=>sv(e),e.nullish=()=>av(sv(e)),e.nonoptional=s=>xR(e,s),e.array=()=>h0(e),e.or=s=>uR([e,s]),e.and=s=>fR(e,s),e.transform=s=>rv(e,hR(s)),e.default=s=>yR(e,s),e.prefault=s=>vR(e,s),e.catch=s=>NR(e,s),e.pipe=s=>rv(e,s),e.readonly=()=>jR(e),e.describe=s=>{const l=e.clone();return bc.add(l,{description:s}),l},Object.defineProperty(e,"description",{get(){return bc.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return bc.get(e);const l=e.clone();return bc.add(l,s[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),f0=Se("_ZodString",(e,a)=>{th.init(e,a),yn.init(e,a);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...l)=>e.check(tO(...l)),e.includes=(...l)=>e.check(sO(...l)),e.startsWith=(...l)=>e.check(rO(...l)),e.endsWith=(...l)=>e.check(lO(...l)),e.min=(...l)=>e.check(qc(...l)),e.max=(...l)=>e.check(u0(...l)),e.length=(...l)=>e.check(d0(...l)),e.nonempty=(...l)=>e.check(qc(1,...l)),e.lowercase=l=>e.check(nO(l)),e.uppercase=l=>e.check(aO(l)),e.trim=()=>e.check(oO()),e.normalize=(...l)=>e.check(iO(...l)),e.toLowerCase=()=>e.check(cO()),e.toUpperCase=()=>e.check(uO())}),qO=Se("ZodString",(e,a)=>{th.init(e,a),f0.init(e,a),e.email=s=>e.check(EC(IO,s)),e.url=s=>e.check(TC(FO,s)),e.jwt=s=>e.check(GC(nR,s)),e.emoji=s=>e.check(DC($O,s)),e.guid=s=>e.check(Yb(ev,s)),e.uuid=s=>e.check(AC(vc,s)),e.uuidv4=s=>e.check(CC(vc,s)),e.uuidv6=s=>e.check(OC(vc,s)),e.uuidv7=s=>e.check(RC(vc,s)),e.nanoid=s=>e.check(zC(HO,s)),e.guid=s=>e.check(Yb(ev,s)),e.cuid=s=>e.check(MC(VO,s)),e.cuid2=s=>e.check(kC(ZO,s)),e.ulid=s=>e.check(UC(GO,s)),e.base64=s=>e.check(HC(WO,s)),e.base64url=s=>e.check(VC(eR,s)),e.xid=s=>e.check(LC(QO,s)),e.ksuid=s=>e.check(BC(PO,s)),e.ipv4=s=>e.check(qC(YO,s)),e.ipv6=s=>e.check(IC(KO,s)),e.cidrv4=s=>e.check(FC(XO,s)),e.cidrv6=s=>e.check($C(JO,s)),e.e164=s=>e.check(ZC(tR,s)),e.datetime=s=>e.check(vO(s)),e.date=s=>e.check(SO(s)),e.time=s=>e.check(wO(s)),e.duration=s=>e.check(jO(s))});function Ic(e){return jC(qO,e)}const Gt=Se("ZodStringFormat",(e,a)=>{Vt.init(e,a),f0.init(e,a)}),IO=Se("ZodEmail",(e,a)=>{kA.init(e,a),Gt.init(e,a)}),ev=Se("ZodGUID",(e,a)=>{zA.init(e,a),Gt.init(e,a)}),vc=Se("ZodUUID",(e,a)=>{MA.init(e,a),Gt.init(e,a)}),FO=Se("ZodURL",(e,a)=>{UA.init(e,a),Gt.init(e,a)}),$O=Se("ZodEmoji",(e,a)=>{LA.init(e,a),Gt.init(e,a)}),HO=Se("ZodNanoID",(e,a)=>{BA.init(e,a),Gt.init(e,a)}),VO=Se("ZodCUID",(e,a)=>{qA.init(e,a),Gt.init(e,a)}),ZO=Se("ZodCUID2",(e,a)=>{IA.init(e,a),Gt.init(e,a)}),GO=Se("ZodULID",(e,a)=>{FA.init(e,a),Gt.init(e,a)}),QO=Se("ZodXID",(e,a)=>{$A.init(e,a),Gt.init(e,a)}),PO=Se("ZodKSUID",(e,a)=>{HA.init(e,a),Gt.init(e,a)}),YO=Se("ZodIPv4",(e,a)=>{PA.init(e,a),Gt.init(e,a)}),KO=Se("ZodIPv6",(e,a)=>{YA.init(e,a),Gt.init(e,a)}),XO=Se("ZodCIDRv4",(e,a)=>{KA.init(e,a),Gt.init(e,a)}),JO=Se("ZodCIDRv6",(e,a)=>{XA.init(e,a),Gt.init(e,a)}),WO=Se("ZodBase64",(e,a)=>{JA.init(e,a),Gt.init(e,a)}),eR=Se("ZodBase64URL",(e,a)=>{eC.init(e,a),Gt.init(e,a)}),tR=Se("ZodE164",(e,a)=>{tC.init(e,a),Gt.init(e,a)}),nR=Se("ZodJWT",(e,a)=>{aC.init(e,a),Gt.init(e,a)}),m0=Se("ZodNumber",(e,a)=>{i0.init(e,a),yn.init(e,a),e.gt=(l,c)=>e.check(Xb(l,c)),e.gte=(l,c)=>e.check(Bf(l,c)),e.min=(l,c)=>e.check(Bf(l,c)),e.lt=(l,c)=>e.check(Kb(l,c)),e.lte=(l,c)=>e.check(Lf(l,c)),e.max=(l,c)=>e.check(Lf(l,c)),e.int=l=>e.check(tv(l)),e.safe=l=>e.check(tv(l)),e.positive=l=>e.check(Xb(0,l)),e.nonnegative=l=>e.check(Bf(0,l)),e.negative=l=>e.check(Kb(0,l)),e.nonpositive=l=>e.check(Lf(0,l)),e.multipleOf=(l,c)=>e.check(Jb(l,c)),e.step=(l,c)=>e.check(Jb(l,c)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function qn(e){return XC(m0,e)}const aR=Se("ZodNumberFormat",(e,a)=>{sC.init(e,a),m0.init(e,a)});function tv(e){return JC(aR,e)}const sR=Se("ZodUnknown",(e,a)=>{rC.init(e,a),yn.init(e,a)});function nv(){return WC(sR)}const rR=Se("ZodNever",(e,a)=>{lC.init(e,a),yn.init(e,a)});function lR(e){return eO(rR,e)}const iR=Se("ZodArray",(e,a)=>{iC.init(e,a),yn.init(e,a),e.element=a.element,e.min=(s,l)=>e.check(qc(s,l)),e.nonempty=s=>e.check(qc(1,s)),e.max=(s,l)=>e.check(u0(s,l)),e.length=(s,l)=>e.check(d0(s,l)),e.unwrap=()=>e.element});function h0(e,a){return dO(iR,e,a)}const oR=Se("ZodObject",(e,a)=>{cC.init(e,a),yn.init(e,a),kt(e,"shape",()=>a.shape),e.keyof=()=>p0(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:nv()}),e.loose=()=>e.clone({...e._zod.def,catchall:nv()}),e.strict=()=>e.clone({...e._zod.def,catchall:lR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>CE(e,s),e.safeExtend=s=>OE(e,s),e.merge=s=>RE(e,s),e.pick=s=>EE(e,s),e.omit=s=>AE(e,s),e.partial=(...s)=>TE(g0,e,s[0]),e.required=(...s)=>DE(y0,e,s[0])});function iu(e,a){const s={type:"object",shape:e??{},...Ye(a)};return new oR(s)}const cR=Se("ZodUnion",(e,a)=>{uC.init(e,a),yn.init(e,a),e.options=a.options});function uR(e,a){return new cR({type:"union",options:e,...Ye(a)})}const dR=Se("ZodIntersection",(e,a)=>{dC.init(e,a),yn.init(e,a)});function fR(e,a){return new dR({type:"intersection",left:e,right:a})}const xm=Se("ZodEnum",(e,a)=>{fC.init(e,a),yn.init(e,a),e.enum=a.entries,e.options=Object.values(a.entries);const s=new Set(Object.keys(a.entries));e.extract=(l,c)=>{const d={};for(const m of l)if(s.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new xm({...a,checks:[],...Ye(c),entries:d})},e.exclude=(l,c)=>{const d={...a.entries};for(const m of l)if(s.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new xm({...a,checks:[],...Ye(c),entries:d})}});function p0(e,a){const s=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new xm({type:"enum",entries:s,...Ye(a)})}const mR=Se("ZodTransform",(e,a)=>{mC.init(e,a),yn.init(e,a),e._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Px(e.constructor.name);s.addIssue=d=>{if(typeof d=="string")s.issues.push($i(d,s.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=s.value),m.inst??(m.inst=e),s.issues.push($i(m))}};const c=a.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function hR(e){return new mR({type:"transform",transform:e})}const g0=Se("ZodOptional",(e,a)=>{hC.init(e,a),yn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function av(e){return new g0({type:"optional",innerType:e})}const pR=Se("ZodNullable",(e,a)=>{pC.init(e,a),yn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function sv(e){return new pR({type:"nullable",innerType:e})}const gR=Se("ZodDefault",(e,a)=>{gC.init(e,a),yn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function yR(e,a){return new gR({type:"default",innerType:e,get defaultValue(){return typeof a=="function"?a():Xx(a)}})}const bR=Se("ZodPrefault",(e,a)=>{yC.init(e,a),yn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function vR(e,a){return new bR({type:"prefault",innerType:e,get defaultValue(){return typeof a=="function"?a():Xx(a)}})}const y0=Se("ZodNonOptional",(e,a)=>{bC.init(e,a),yn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function xR(e,a){return new y0({type:"nonoptional",innerType:e,...Ye(a)})}const SR=Se("ZodCatch",(e,a)=>{vC.init(e,a),yn.init(e,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function NR(e,a){return new SR({type:"catch",innerType:e,catchValue:typeof a=="function"?a:()=>a})}const wR=Se("ZodPipe",(e,a)=>{xC.init(e,a),yn.init(e,a),e.in=a.in,e.out=a.out});function rv(e,a){return new wR({type:"pipe",in:e,out:a})}const _R=Se("ZodReadonly",(e,a)=>{SC.init(e,a),yn.init(e,a),e.unwrap=()=>e._zod.def.innerType});function jR(e){return new _R({type:"readonly",innerType:e})}const ER=Se("ZodCustom",(e,a)=>{NC.init(e,a),yn.init(e,a)});function AR(e,a={}){return fO(ER,e,a)}function CR(e){return mO(e)}const OR=["correlativo","no correlativo"],RR=iu({oi:Ic().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:qn(),alcance:qn(),pma:qn().refine(e=>e===10||e===16,{message:"PMA invlido"}),numeration_type:p0(OR).default("correlativo")}),qf=iu({c1:qn().optional().nullable(),c2:qn().optional().nullable(),c3:qn().optional().nullable(),c4:qn().optional().nullable(),c5:qn().optional().nullable(),c6:qn().optional().nullable(),c7:Ic().optional().nullable(),c7_seconds:qn().optional().nullable(),caudal:qn().optional().nullable(),error:qn().optional().nullable()}),TR=iu({medidor:Ic().optional(),estado:qn().int().min(0).max(5).default(0),q3:qf.optional(),q2:qf.optional(),q1:qf.optional(),conformidad:Ic().optional()});iu({estado:qn().int().min(0).optional(),rows:qn().int().min(1).default(15),rowsData:h0(TR)});function DR(e){return e===16?25.6:e===10?16:NaN}const zR=/^[A-Za-z0-9]{10}$/,MR=e=>(e??"").trim().toUpperCase(),Xt=e=>{const a=e.currentTarget;a.size=Math.max(1,a.value.length)},fl=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],Sm=e=>{e&&(e.focus(),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&e.select())},lv=(e,a)=>{if(a){if(e==="medidor"){a.focus();return}Sm(a)}},_n=e=>{if(e===""||e===null||e===void 0)return null;const a=String(e).replace(",","."),s=Number(a);return Number.isNaN(s)?null:s};function kR(e,a){if(!e)return"";const s=e.match(/^(.*?)(\d+)$/);if(!s)return e;const l=s[1],c=s[2],d=parseInt(c,10)+a;return`${l}${d.toString().padStart(c.length,"0")}`}function iv(e,a,s){return e?s==="no correlativo"?e.slice(0,4):kR(e,a):""}function If(e){if(!e)return 0;const a=String(e).trim(),s=a.split(/[:,\.]/).map(c=>parseFloat(c)).filter(c=>!isNaN(c));let l=0;if(s.length>=3){const c=s[0]||0,d=s[1]||0,m=s[2]||0;l=c*60+d+m/1e3}else if(s.length===2)l=s[0]*60+(s[1]||0);else if(s.length===1)l=s[0];else{const c=parseFloat(a.replace(",","."));if(!isNaN(c)){const d=Math.floor(c),m=(c-d)*100;l=d*60+m}}return l}function Ff(e,a){if(!e||!a)return null;const s=a>0?a/3600:0;return s===0?null:e/s}function $f(e,a,s){return e===void 0||a===void 0||!s?null:(Number(a)-Number(e)-Number(s))/Number(s)*100}function UR(e,a,s,l){if(e&&e>=1)return"NO CONFORME";if(a==null||s==null||l==null)return"";const c=Math.abs(a),d=Math.abs(s),m=Math.abs(l),h=!(c>2.05||d>2.05||m>5.05),g=c<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(s),x=Math.sign(l),N=p>=0&&v>=0&&x>=0||p<=0&&v<=0&&x<=0,q=h&&g;return N?q?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const ml=({val:e,isErr:a,warnThreshold:s,failThreshold:l})=>{const c=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:e.toFixed(2)})});const d=Math.abs(e??0),m=s??l??0,h=l??s??0;let g="vi-e-ok";return e==null||isNaN(e)?g="":h>0&&d>h?g="vi-e-error":m>0&&d>m&&(g="vi-e-warn"),o.jsx("td",{className:"bg-light",children:e==null||isNaN(e)?o.jsx("span",{className:"text-muted",children:"-"}):o.jsx("span",{className:`vi-qe-value fw-bold ${g}`,children:c(e)})})};function LR({show:e,title:a,initial:s,onClose:l,onSubmit:c,onCancelWithDraft:d,numerationType:m,duplicateMap:h,onClearDuplicate:g,readOnly:p,draftStorageKey:v,draftMeta:x,isOnline:N,showRetry:q}){const _={estado:s?.estado??0,rows:s?.rows??15,version:s?.version??null,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null,rowsData:s?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},j=p===!0,A=N!==!1,{register:B,control:T,handleSubmit:J,reset:k,setValue:O,getValues:$}=Gc({defaultValues:_}),U=B("rows",{valueAsNumber:!0}),{fields:Y,replace:ie,append:Ne,remove:xe}=dj({control:T,name:"rowsData"}),[fe,ve]=b.useState(0),Te=b.useRef(0),Oe=b.useRef(null),[M,I]=b.useState(0),W=0,ge=5,we=()=>{if(M>=ge){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}I(P=>Math.min(P+1,ge))},w=()=>{if(M<=W){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}I(P=>Math.max(P-1,W))},V=b.useRef(null),[oe,z]=b.useState([]),ce=!!s?.version,he=b.useRef("rows"),Re=b.useRef(null),qe=b.useRef(null),me=b.useRef(null),ke=b.useRef(new Map),Fe=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{s?.rowsData?.length&&Y.forEach((P,te)=>{if(te===0)return;s.rowsData[te]?.medidor&&ke.current.set(P.id,!0)})},[s,Y]);const _e=b.useCallback(P=>{const te=P<0?0:P;ve(te),requestAnimationFrame(()=>{const Ee=document.querySelector(`input.vi-medidor-input[data-row="${te}"]`);Ee&&(Ee.focus(),Ee.select())})},[]),Me=()=>($("rowsData")??[]).slice(0,Y.length);b.useEffect(()=>{Te.current=fe},[fe]);const le=P=>{const te=P.target;if(!te)return;const Ee=te.tagName;if(Ee!=="INPUT"&&Ee!=="SELECT"&&Ee!=="TEXTAREA")return;const He=P.key;if(He==="Escape"){P.preventDefault(),$n();return}if(He==="ArrowUp"||He==="ArrowDown"||He==="ArrowLeft"||He==="ArrowRight"||He==="Enter"){const bn=te.name;if(!bn||!bn.startsWith("rowsData."))return;const At=bn.match(/^rowsData\.(\d+)\.(.+)$/);if(!At)return;const ct=parseInt(At[1],10),yt=At[2],Ut=P.currentTarget,mn=Y.length-1,En=(vn,hn)=>{let It=vn+hn;for(;It>=0&&It<=mn;){const Ln=`[name="rowsData.${It}.${yt}"]`,an=Ut.querySelector(Ln);if(an&&!an.disabled)return{index:It,el:an};It+=hn}return null};if(He==="ArrowUp"||He==="ArrowDown"){P.preventDefault();const hn=En(ct,He==="ArrowUp"?-1:1);hn&&lv(yt,hn.el);return}if(He==="ArrowLeft"||He==="ArrowRight"){P.preventDefault();const vn=fl.indexOf(yt);if(vn===-1)return;const It=vn+(He==="ArrowRight"?1:-1);if(It<0||It>=fl.length)return;const Ln=fl[It],an=`[name="rowsData.${ct}.${Ln}"]`,xn=Ut.querySelector(an);xn&&!xn.disabled&&Sm(xn);return}if(He==="Enter"){P.preventDefault();const vn=fl.indexOf(yt);if(vn===-1)return;const hn=En(ct,1);if(hn){lv(yt,hn.el);return}const It=vn+1;if(It<fl.length){const Ln=fl[It];for(let an=0;an<=mn;an++){const xn=`[name="rowsData.${an}.${Ln}"]`,Vn=Ut.querySelector(xn);if(Vn&&!Vn.disabled){Sm(Vn);return}}}V.current&&V.current.focus();return}}if(He!=="Tab")return;const We=P.currentTarget,ot=Array.from(We.querySelectorAll("input, select, textarea")).filter(Tt=>!Tt.hasAttribute("disabled")),Qe=ot.indexOf(te);if(Qe===-1)return;if(He==="Tab"&&P.shiftKey){Qe>0&&(P.preventDefault(),ot[Qe-1].focus());return}const Mt=Qe+1;if(Mt<ot.length){P.preventDefault(),ot[Mt].focus();return}V.current&&(P.preventDefault(),V.current.focus())},De=(P,te)=>{ie(P),O("rows",P.length),ve(Ee=>P.length===0?0:typeof te=="number"?Math.max(0,Math.min(te,P.length-1)):Math.min(Ee,P.length-1))},de=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),$e=P=>P==null?"":typeof P=="number"?P:typeof P=="string"?P.replace(",","."):P,Ae=P=>{if(!P)return{};const te={...P};return["c1","c2","c3","c4","c5","c6"].forEach(Ee=>{te[Ee]=$e(te[Ee])}),te},Xe=()=>{const P=s?.rowsData?.length??s?.rows??15,te=(s?.rowsData&&s.rowsData.length>0?s.rowsData:Array.from({length:P}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(Ee=>({medidor:Ee.medidor??"",estado:Ee.estado??0,q3:Ae(Ee.q3),q2:Ae(Ee.q2),q1:Ae(Ee.q1)}));return{rows:te.length,rowsData:te,version:s?.version??null,estado:s?.estado??0,draftCreatedAt:s?.draftCreatedAt??null,draftId:s?.draftId??null}},C=b.useCallback(()=>{const P=$(),te=P.rowsData??[];return{estado:P.estado??0,rows:Number(P.rows??te.length),version:P.version??s?.version??null,rowsData:te,draftCreatedAt:P.draftCreatedAt??s?.draftCreatedAt??null,draftId:P.draftId??s?.draftId??null}},[$,s?.version,s?.draftCreatedAt,s?.draftId]),Z=P=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,bancadaId:x.bancadaId??null,isNew:x.isNew,data:P}:null,R=()=>x?{version:1,ts:new Date().toISOString(),userId:x.userId,bankId:x.bankId,oiId:x.oiId,oiCode:x.oiCode??null,returnTo:x.returnTo??`/oi/${x.oiId}?mode=edit`,mode:"edit",modal:{type:"bancada",bancadaId:x.bancadaId??null,isNew:x.isNew}}:null,Q=P=>P==null||P===""||typeof P=="number"&&Number.isNaN(P),G=P=>P?Number(P.estado??0)!==0||P.medidor&&P.medidor.toString().trim()!==""?!0:Ce(P):!1,se=P=>(P.rowsData??[]).some(Ee=>G(Ee)),Ce=P=>{const te=[P.q3,P.q2,P.q1];for(const Ee of te)if(Ee){for(const He of Fe)if(!Q(Ee[He]))return!0}return!1},Le=P=>P?{...P,c4:null,c5:null}:{c4:null,c5:null},ne=P=>{if(!P)return P;const te={...P};return Q(te.c4)&&(te.c4=null),Q(te.c5)&&(te.c5=null),te},Ue=P=>{for(let te=0;te<P.length;te++){const Ee=P[te],He=Number(Ee.estado??0),We=He!==0;if(!G(Ee))continue;if(!Ee.medidor||Ee.medidor.toString().trim()==="")return`La fila ${te+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Qe=[{name:"Q3 (Nominal)",block:Ee.q3},{name:"Q2 (Transicin)",block:Ee.q2},{name:"Q1 (Mnimo)",block:Ee.q1}],Pt=Qe.some(({block:Mt})=>Mt&&Fe.some(Tt=>!Q(Mt[Tt])));if(He===0&&!Pt)return`La fila ${te+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!We)for(const{name:Mt,block:Tt}of Qe){if(!Tt||!Fe.some(ct=>!Q(Tt[ct])))continue;if(Fe.some(ct=>Q(Tt[ct])))return`La fila ${te+1} tiene datos incompletos en el bloque ${Mt}. Completa todos los campos o elimina la fila.`}}return null},Ve=P=>P==null||P===""?null:String(P).replace(/\./g,","),it=P=>{if(!P)return{};const te={...P};return["c1","c2","c3","c4","c5","c6","c7"].forEach(Ee=>{te[Ee]=Ve(te[Ee])}),te},Jt=P=>{const te=[];let Ee=null;const He=(ot,Qe,Pt)=>{te[ot]||(te[ot]={}),te[ot][Qe]=Pt,Ee||(Ee=`Fila ${ot+1}: ${Pt}`)},We={};return P.forEach(ot=>{const Qe=(ot.medidor??"").trim();Qe&&(We[Qe]=(We[Qe]??0)+1)}),P.forEach((ot,Qe)=>{const Pt=ot.q3||{},Mt=ot.q2||{},Tt=ot.q1||{},bn=Pt.c4,At=Pt.c5,ct=Mt.c4,yt=Mt.c5,Ut=Tt.c4,mn=Tt.c5;bn!=null&&At!=null&&!Number.isNaN(bn)&&!Number.isNaN(At)&&At<bn&&He(Qe,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),ct!=null&&yt!=null&&!Number.isNaN(ct)&&!Number.isNaN(yt)&&yt<ct&&He(Qe,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),Ut!=null&&mn!=null&&!Number.isNaN(Ut)&&!Number.isNaN(mn)&&mn<Ut&&He(Qe,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),At!=null&&ct!=null&&!Number.isNaN(At)&&!Number.isNaN(ct)&&ct<At&&He(Qe,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),yt!=null&&Ut!=null&&!Number.isNaN(yt)&&!Number.isNaN(Ut)&&Ut<yt&&He(Qe,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const En=(ot.medidor??"").trim();En&&We[En]>1&&He(Qe,"medidor_dup","Serie de medidor repetida."),En&&!zR.test(En)&&He(Qe,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:te,firstMessage:Ee}},je=P=>{if(j)return;const te=(P.rowsData??[]).slice(0,Y.length),Ee=Ue(te);if(Ee){alert(Ee);return}const{rowErrors:He,firstMessage:We}=Jt(te);if(z(He),We){alert(We);return}const Qe=te.filter(G).map(Mt=>{const Tt=Number(Mt.estado??0),bn=Tt>=1&&Tt<=4,At=Tt===5&&!Ce(Mt),ct=bn||At,yt=ne(Mt.q3),Ut=ne(Mt.q2),mn=ne(Mt.q1),En=vn=>{if(ct){const hn=Le(vn);return it(hn)}return it(vn)};return{...Mt,q3:En(yt),q2:En(Ut),q1:En(mn)}}),Pt={...P,rows:Qe.length,rowsData:Qe,version:P.version??s?.version??null};c(Pt)},Je=Ci({control:T,name:"rowsData.0"}),Qt=Ci({control:T,name:"rowsData"}),wt=Ci({control:T,name:"rowsData.0.q3.c7"}),jn=Ci({control:T,name:"rowsData.0.q2.c7"}),Un=Ci({control:T,name:"rowsData.0.q1.c7"});b.useEffect(()=>{Y[0]&&(O("rowsData.0.q3.c7_seconds",If(wt)),O("rowsData.0.q2.c7_seconds",If(jn)),O("rowsData.0.q1.c7_seconds",If(Un)))},[wt,jn,Un,O,Y]),b.useEffect(()=>{const P=Qt??[],{rowErrors:te}=Jt(P);z(te)},[Qt]),b.useEffect(()=>{if(!Je||Y.length<=1)return;const P=Qt??[];Y.forEach((te,Ee)=>{if(Ee===0)return;const He=te.id;(ke.current.get(He)??!1)||O(`rowsData.${Ee}.medidor`,iv(Je.medidor||"",Ee,m));const ot=P[Ee]?.estado;(ot==null||Number.isNaN(ot))&&O(`rowsData.${Ee}.estado`,Je.estado),O(`rowsData.${Ee}.q3.c1`,Je.q3?.c1??null),O(`rowsData.${Ee}.q3.c2`,Je.q3?.c2??null),O(`rowsData.${Ee}.q3.c3`,Je.q3?.c3??null),O(`rowsData.${Ee}.q3.c6`,Je.q3?.c6??null),O(`rowsData.${Ee}.q3.c7`,Je.q3?.c7??""),O(`rowsData.${Ee}.q3.c7_seconds`,Je.q3?.c7_seconds??null),O(`rowsData.${Ee}.q2.c1`,Je.q2?.c1??null),O(`rowsData.${Ee}.q2.c2`,Je.q2?.c2??null),O(`rowsData.${Ee}.q2.c3`,Je.q2?.c3??null),O(`rowsData.${Ee}.q2.c6`,Je.q2?.c6??null),O(`rowsData.${Ee}.q2.c7`,Je.q2?.c7??""),O(`rowsData.${Ee}.q2.c7_seconds`,Je.q2?.c7_seconds??null),O(`rowsData.${Ee}.q1.c1`,Je.q1?.c1??null),O(`rowsData.${Ee}.q1.c2`,Je.q1?.c2??null),O(`rowsData.${Ee}.q1.c3`,Je.q1?.c3??null),O(`rowsData.${Ee}.q1.c6`,Je.q1?.c6??null),O(`rowsData.${Ee}.q1.c7`,Je.q1?.c7??""),O(`rowsData.${Ee}.q1.c7_seconds`,Je.q1?.c7_seconds??null)})},[Je,Qt,Y,O,m]),b.useEffect(()=>{ve(P=>{const te=Math.max(Y.length-1,0);return P>te?te:P})},[Y.length]);const Ya=()=>{if(Y.length>=50){if(O("rows",50),_e(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){Oe.current&&(Oe.current.focus(),Oe.current.select());return}return}Ne(de()),O("rows",Y.length+1),_e(Y.length)},ra=P=>{if(Y.length<=1)return;const te=Math.max(0,Math.min(P,Y.length-1));xe(te),O("rows",Math.max(Y.length-1,1)),_e(Math.max(0,te-(te===Y.length-1?1:0)))},st=()=>{Y.length<=1||(xe(Y.length-1),O("rows",Math.max(Y.length-1,1)),_e(Math.max(0,Y.length-2)))},Ra=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const P=Me();if(!P.length)return;const te=P.map(()=>de());De(te,0),_e(0)},ha=()=>{let P=Number($("rows"));if((!Number.isFinite(P)||P<1)&&(P=1),P>50){const He=Me();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){O("rows",He.length),Oe.current&&(Oe.current.focus(),Oe.current.select());return}P=50}const te=Me();if(P!==te.length&&!confirm(`La lista tendr ${P} filas. Quieres continuar?`)){O("rows",te.length),Oe.current&&(Oe.current.focus(),Oe.current.select());return}if(P===te.length){O("rows",P);return}if(P>te.length){const He=Math.min(P,50)-te.length;if(He>0){const We=Array.from({length:He},()=>de()),ot=[...te,...We];De(ot,fe),_e(te.length)}else O("rows",te.length);return}const Ee=te.slice(0,P);De(Ee,Math.min(fe,P-1))},Ta=P=>{P.key==="Enter"&&(P.preventDefault(),ha(),_e(0))},$n=()=>{const P=$(),te=document.activeElement;if(Oe.current&&te===Oe.current)he.current="rows",Re.current="rows";else if(te&&te instanceof HTMLElement){const Ee=te.getAttribute("name");Ee&&Ee.startsWith("rowsData.")?(he.current="grid",Re.current=Ee):(he.current="grid",Re.current=null)}else he.current="grid",Re.current=null;if(v){const Ee=C();if(!se(Ee))Vs(v),me.current=null;else{const He=Z(Ee);if(He){const We=JSON.stringify(He);Mi(v,He,R()),me.current=We}}}d&&d(P),l()};b.useEffect(()=>{if(!e)return;const P=te=>{if(te.key==="Escape"){te.preventDefault(),$n();return}if((te.key==="+"||te.key==="=")&&te.ctrlKey){te.preventDefault(),Ya();return}(te.key==="-"||te.key==="_")&&te.ctrlKey&&(te.preventDefault(),st())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,Ya,st,$n]),b.useEffect(()=>{const P=Xe();k(P),De(P.rowsData,0),ke.current.clear(),requestAnimationFrame(()=>{if(ce)_e(0);else if(Re.current){const te=document.querySelector(`[name="${Re.current}"]`);if(te){te.focus(),"select"in te&&te.select?.();return}_e(Te.current||0)}else Oe.current&&(Oe.current.focus(),Oe.current.select())})},[s,k,ie,_e,ce]),b.useEffect(()=>{if(!e||!v)return;const P=C();if(!se(P)){Vs(v),me.current=null;return}const te=Z(P);if(!te)return;const Ee=JSON.stringify(te);if(Ee!==me.current)return qe.current&&window.clearTimeout(qe.current),qe.current=window.setTimeout(()=>{Mi(v,te,R()),me.current=Ee},400),()=>{qe.current&&window.clearTimeout(qe.current)}},[e,v,Qt,C]),b.useEffect(()=>{e&&requestAnimationFrame(()=>{if(ce)_e(0);else if(Re.current){const P=document.querySelector(`[name="${Re.current}"]`);if(P){P.focus(),"select"in P&&P.select?.();return}_e(Te.current||0)}else Oe.current&&(Oe.current.focus(),Oe.current.select())})},[e,_e,ce]);const Hn=oe.some(P=>P&&Object.values(P).some(Boolean));return e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:P=>{P.target===P.currentTarget&&$n()},children:[o.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),o.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:o.jsx("div",{className:"modal-content",children:o.jsxs("form",{onSubmit:J(je),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close",onClick:$n,"aria-label":"Close"})]}),o.jsx("fieldset",{disabled:j,children:o.jsxs("div",{className:"modal-body p-2",children:[!A&&o.jsx("div",{className:"alert alert-warning py-1 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),o.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[o.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[o.jsx("label",{className:"form-label mb-1",children:"Filas"}),o.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...U,ref:P=>{Oe.current=P,U.ref(P)},onBlur:ha,onKeyDown:Ta})]}),o.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Ya,children:"+ Agregar Fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:st,children:"- Quitar ltima fila"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ra,children:"Limpiar Todo"})]}),o.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:we,children:"Aumentar tamao"}),o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:w,children:"Reducir tamao"})]}),o.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",fe+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),o.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:o.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${M}`,children:[o.jsxs("thead",{className:"table-light sticky-top z-1",children:[o.jsxs("tr",{children:[o.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),o.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),o.jsx("th",{style:{width:"90px"},children:"Estado"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),o.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),o.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),o.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),o.jsxs("tr",{style:{fontSize:"0.75rem"},children:[o.jsx("th",{className:"vi-row-index"}),o.jsx("th",{className:"vi-sticky-medidor"}),o.jsx("th",{}),o.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),o.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),o.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),o.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),o.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),o.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),o.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),o.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),o.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),o.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),o.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),o.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),o.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),o.jsx("th",{className:"vi-header-quitar"})]})]}),o.jsx("tbody",{onKeyDown:le,children:Y.map((P,te)=>{const Ee=te===0,He=Qt?.[te]||{},We=oe[te]||{},ot=Number(He.estado??0),Qe=ot>=1&&ot<=4,Pt=He.q3?.c6,Mt=He.q3?.c7_seconds,Tt=He.q3?.c4,bn=He.q3?.c5,At=Ff(Pt,Mt),ct=$f(Tt,bn,Pt),yt=He.q2?.c6,Ut=He.q2?.c7_seconds,mn=He.q2?.c4,En=He.q2?.c5,vn=Ff(yt,Ut),hn=$f(mn,En,yt),It=He.q1?.c6,Ln=He.q1?.c7_seconds,an=He.q1?.c4,xn=He.q1?.c5,Vn=Ff(It,Ln),Dn=$f(an,xn,It),Dt=UR(He.estado,ct,hn,Dn),Rr=[Ee?"vi-base-row":"",fe===te?"table-active":""].filter(Boolean).join(" "),Da=B(`rowsData.${te}.medidor`),Sn=MR(He.medidor??""),Zn=Sn?h?.[Sn]?.message:"",Ka=We.medidor_format||We.medidor_dup||Zn||"",Tr=!!Ka,Xa=(Dt||"").toUpperCase(),Ps=Xa==="NO CONFORME"?"vi-at-valor--fail":Xa==="CONFORME"?"vi-at-valor--ok":"";return o.jsxs("tr",{className:Rr,onMouseEnter:()=>ve(te),onClick:()=>ve(te),onFocusCapture:()=>ve(te),children:[o.jsx("td",{className:"small vi-row-index",children:te+1}),o.jsx("td",{className:"vi-sticky-medidor",children:o.jsx("input",{"data-row":te,"data-row-id":P.id,...Da,size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Xt,className:["form-control form-control-sm p-1 text-center vi-medidor-input",Tr?"vi-error-cell":""].filter(Boolean).join(" "),title:Ka||"",onChange:Wt=>{const za=$(`rowsData.${te}.medidor`);if(Da.onChange(Wt),g?.(za),te===0)return;const Gn=Wt.currentTarget.value.trim();if(!Gn){ke.current.delete(P.id);return}const sn=iv(Je?.medidor??"",te,m);sn&&sn===Gn?ke.current.delete(P.id):ke.current.set(P.id,!0)}})}),o.jsx("td",{children:o.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...B(`rowsData.${te}.estado`,{valueAsNumber:!0}),children:[o.jsx("option",{value:0,children:"0"}),o.jsx("option",{value:1,children:"1"}),o.jsx("option",{value:2,children:"2"}),o.jsx("option",{value:3,children:"3"}),o.jsx("option",{value:4,children:"4"}),o.jsx("option",{value:5,children:"5"})]})}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c1`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c2`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c3`,{setValueAs:_n})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Xt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q3_li?" vi-error-cell":""),title:We.q3_li||"",...B(`rowsData.${te}.q3.c4`,{setValueAs:_n})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Xt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q3_lf?" vi-error-cell":""),title:We.q3_lf||"",...B(`rowsData.${te}.q3.c5`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c6`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q3.c7`),placeholder:"m,ss,ms"})}),o.jsx(ml,{val:At}),o.jsx(ml,{val:ct,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c1`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c2`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c3`,{setValueAs:_n})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Xt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q2_li?" vi-error-cell":""),title:We.q2_li||"",...B(`rowsData.${te}.q2.c4`,{setValueAs:_n})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Xt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q2_lf?" vi-error-cell":""),title:We.q2_lf||"",...B(`rowsData.${te}.q2.c5`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c6`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q2.c7`),placeholder:"m,ss,ms"})}),o.jsx(ml,{val:vn}),o.jsx(ml,{val:hn,isErr:!0,warnThreshold:2,failThreshold:5}),o.jsx("td",{className:"border-start border-dark",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c1`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c2`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c3`,{setValueAs:_n})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Xt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q1_li?" vi-error-cell":""),title:We.q1_li||"",...B(`rowsData.${te}.q1.c4`,{setValueAs:_n})})}),o.jsx("td",{className:"bg-white",children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Qe,onInput:Xt,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(We.q1_lf?" vi-error-cell":""),title:We.q1_lf||"",...B(`rowsData.${te}.q1.c5`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c6`,{setValueAs:_n})})}),o.jsx("td",{children:o.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Xt,disabled:!Ee||Qe,...B(`rowsData.${te}.q1.c7`),placeholder:"m,ss,ms"})}),o.jsx(ml,{val:Vn}),o.jsx(ml,{val:Dn,isErr:!0,warnThreshold:5,failThreshold:5}),o.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${Ps}`,children:Dt}),o.jsx("td",{className:"text-center align-middle bg-light",children:o.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:Wt=>{Wt.stopPropagation(),ra(te)},disabled:Y.length<=1,title:"Eliminar esta fila",children:""})})]},P.id)})})]})})]})}),o.jsxs("div",{className:"modal-footer py-1",children:[o.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:$n,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:V,disabled:Hn||j,children:q&&A?"Reintentar guardar":"Guardar Bancada"})]})]})})})]}),o.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function ou({show:e,title:a="Contrasea para proteger Excel",confirmLabel:s="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:c,onConfirm:d}){const[m,h]=b.useState(""),g=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{e&&(h(""),setTimeout(()=>g.current?.focus(),0))},[e]),b.useEffect(()=>{if(!e)return;const x=N=>{N.key==="Escape"&&c()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,c]),!e)return null;const v=x=>{x.preventDefault(),p&&d(m.trim())};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:x=>{x.target===x.currentTarget&&c()},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:v,children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:c})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx(Ii,{label:"Contrasea",inputId:"pwd",value:m,onChange:x=>h(x.target.value),inputRef:g,minLength:1,required:!0}),o.jsx("div",{className:"form-text",children:l})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:c,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:s})]})]})})})}async function BR(e,a){try{const{data:s}=await Ge.put(`/oi/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function qR(e,a){try{const{data:s}=await Ge.patch(`/oi/${e}/code`,{code:a});return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar el codigo de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function IR(e,a){try{const{data:s}=await Ge.patch(`/oi/${e}/restore-updated-at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la fecha de la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function FR(e){try{const{data:a}=await Ge.post("/oi",e);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(s)}}async function ov(e,a){try{const{data:s}=await Ge.post(`/oi/${e}/bancadas`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se puedo agregar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function $R(e,a){try{const{data:s}=await Ge.put(`/oi/bancadas/${e}`,a);return s}catch(s){const l=s?.response?.data?.detail;let c=s?.message??"No se pudo actualizar la bancada";typeof l=="string"?c=l:l&&typeof l=="object"&&(c=l.message??l.detail??c);const d=s?.response?.data?.duplicates??(l&&typeof l=="object"?l.duplicates:void 0),m=new Error(c);throw m.status=s?.response?.status,Array.isArray(d)&&(m.duplicates=d),m}}async function HR(e,a){try{const{data:s}=await Ge.patch(`/oi/bancadas/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function VR(e,a){try{const{data:s}=await Ge.put(`/oi/bancadas/${e}/restore`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo restaurar la bancada",c=new Error(l);throw c.status=s?.response?.status,c}}async function cv(e){try{await Ge.delete(`/oi/bancadas/${e}`)}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(s)}}async function b0(e,a){let s;try{s=await Ge.post(`/oi/${e}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const x=p?.response?.data;if(x instanceof Blob)try{const N=await x.text();try{const _=JSON.parse(N)?.detail;typeof _=="string"?v=_:Array.isArray(_)&&_.length>0?v=_.map(j=>String(j?.msg??"")).filter(Boolean).join(", "):N&&(v=N)}catch{N&&(v=N)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=s.data,m=s.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${e}.xlsx`,h=URL.createObjectURL(l),g=document.createElement("a");g.href=h,g.download=m,document.body.appendChild(g),g.click(),URL.revokeObjectURL(h),g.remove()}async function ZR(e){await Ge.delete(`/oi/${e}`)}async function GR(e){try{const{data:a}=await Ge.post(`/oi/${e}/lock`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(s);throw l.status=a?.response?.status,l}}async function xc(e,a){try{const s=a?{params:{reason:a}}:void 0,{data:l}=await Ge.delete(`/oi/${e}/lock`,s);return l}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo liberar la OI",c=new Error(l);throw c.status=s?.response?.status,c}}async function QR(e,a){try{const{data:s}=await Ge.patch(`/oi/${e}/saved_at`,a);return s}catch(s){const l=s?.response?.data?.detail??s?.message??"No se pudo actualizar la fecha de guardado",c=new Error(l);throw c.status=s?.response?.status,c}}async function Hf(e){try{const{data:a}=await Ge.get(`/oi/${e}/full`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(s)}}async function PR(e){try{const{data:a}=await Ge.get("/oi",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,limit:e.limit,offset:e.offset,responsable_tech_number:e.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(s)}}async function YR(e){let a;try{a=await Ge.get("/oi/export/csv",{params:{q:e.q||void 0,date_from:e.dateFrom||void 0,date_to:e.dateTo||void 0,responsable_tech_number:e.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const g=m?.response?.data;if(g instanceof Blob)try{const v=await g.text();try{const N=JSON.parse(v)?.detail;typeof N=="string"?h=N:Array.isArray(N)&&N.length>0?h=N.map(q=>String(q?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const s=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:s,filename:d}}async function KR(){try{const{data:e}=await Ge.get("/oi/responsables");return e}catch(e){const a=e?.response?.data?.detail??e?.message??"No se pudo obtener responsables";throw new Error(a)}}async function Vf(e){try{const{data:a}=await Ge.get(`/oi/${e}`);return a}catch(a){const s=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(s)}}const nh="vi.currentOI";function ki(e){sessionStorage.setItem(nh,JSON.stringify(e))}function uv(){const e=sessionStorage.getItem(nh);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Nm(){sessionStorage.removeItem(nh)}const Zf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??"",c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},Gf=e=>{if(e)return{c1:e.c1??null,c2:e.c2??null,c3:e.c3??null,c4:e.c4??null,c5:e.c5??null,c6:e.c6??null,c7:e.c7??null,c7_seconds:e.c7_seconds??null,caudal:e.caudal??null,error:e.error??null}},XR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Zf(e.q3),q2:Zf(e.q2),q1:Zf(e.q1)}),JR=e=>({medidor:e.medidor??"",estado:e.estado??0,q3:Gf(e.q3),q2:Gf(e.q2),q1:Gf(e.q1)}),v0=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:Array.from({length:e.rows}).map((a,s)=>({medidor:s===0?e.medidor??"":"",estado:e.estado,q3:s===0?e.q3??void 0:void 0,q2:s===0?e.q2??void 0:void 0,q1:s===0?e.q1??void 0:void 0})),WR=e=>e.reduce((a,s)=>a+(s.rows??0),0),eT=e=>JSON.parse(JSON.stringify(e)),dv=e=>JSON.stringify({medidor:e.medidor??null,estado:e.estado??0,rows:e.rows??0,rows_data:e.rows_data??null,q1:e.q1??null,q2:e.q2??null,q3:e.q3??null}),fv=e=>e.rows_data&&e.rows_data.length>0?e.rows_data:v0(e),tT=(e,a)=>e==="view"&&a?"view":"edit",mv=e=>{if(!e)return"";const s=/([zZ]|[+-]\d{2}:?\d{2})$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return"";const c=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}T${c(l.getHours())}:${c(l.getMinutes())}`},nT=e=>{if(!e)return"";const a=new Date(e);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")},x0=e=>(e??"").trim().toUpperCase(),aT=e=>{const a={};e.forEach(l=>{const c=x0(l.medidor);c&&(a[c]||(a[c]={items:[],ids:[]}),l.bancada_item!=null&&!a[c].items.includes(l.bancada_item)&&a[c].items.push(l.bancada_item),l.bancada_id!=null&&!a[c].ids.includes(l.bancada_id)&&a[c].ids.push(l.bancada_id))});const s={};return Object.entries(a).forEach(([l,c])=>{let d="Este medidor existe en otra bancada de esta misma OI.";c.items.length>0&&(d=`Este medidor existe en la bancada #${[...c.items].sort((h,g)=>h-g).join(", ")} de esta misma OI.`),s[l]={message:d,bancadaItem:c.items[0],bancadaId:c.ids[0]}}),s},sT="Tienes una OI abierta en edicion. Cierra la OI antes de salir. Deseas salir de todas formas?",rT=(e,a=!0)=>{const l=b.useContext(Aa)?.navigator;b.useEffect(()=>{if(!a||!l||typeof l.block!="function")return;const c=l.block(d=>{const m={...d,retry(){c(),d.retry()}};e(m)});return c},[l,e,a])},lT=e=>{const a=Ge.defaults.baseURL??(typeof window<"u"?window.location.origin:"");return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`},iT=()=>{const[e,a]=b.useState(typeof navigator<"u"?navigator.onLine:!0);return b.useEffect(()=>{const s=()=>a(!0),l=()=>a(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),e},Sc=e=>{if(e?.status??e?.response?.status)return!1;const s=e?.code??e?.name;return s==="ERR_NETWORK"||s==="ECONNABORTED"?!0:!e?.response};function hv(){const{toast:e}=Ar(),a=Er(),s=Fn(),{oiId:l}=gw(),[c,d]=Bv(),m=iT(),{data:h}=Nr({queryKey:["catalogs"],queryFn:Pm}),{register:g,handleSubmit:p,watch:v,formState:{errors:x},reset:N,getValues:q}=Gc({resolver:yO(RR),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),_=Tn(),j=_?.userId??null,A=_?.bancoId??qi(),B=ja(_?.role,_?.username)!=="technician",T=uv(),J=l?Number(l):null,k=Number.isFinite(J)?J:null,O=k!=null||(T?.id??null)!=null,$=(c.get("mode")||"").toLowerCase(),U=tT($,O),Y=U==="view",ie=U==="edit",[Ne,xe]=b.useState(!1),[fe,ve]=b.useState(!1),[Te,Oe]=b.useState(null),[M,I]=b.useState(null),[W,ge]=b.useState(!1),we=fe||Y,[w,V]=b.useState(!1),[oe,z]=b.useState(null),[ce,he]=b.useState(null),[Re,qe]=b.useState(null),[me,ke]=b.useState(!1),[Fe,_e]=b.useState(""),[Me,le]=b.useState(null),[De,de]=b.useState("bancada"),[$e,Ae]=b.useState(!1),[Xe,C]=b.useState(!1),[Z,R]=b.useState(null),Q=b.useRef([]),G=b.useRef(null),se=b.useRef(!1),Ce=b.useRef(!1),Le=b.useRef(!1),ne=b.useRef(null),Ue=b.useRef(!1),Ve=b.useRef(m),it=b.useRef(!1),Jt=b.useRef(!1),[je,Je]=b.useState(null),[Qt,wt]=b.useState(null),[jn,Un]=b.useState([]),[Ya,ra]=b.useState(!1),[st,Ra]=b.useState(null),[ha,Ta]=b.useState(!1),[$n,Hn]=b.useState(null),[P,te]=b.useState(0),[Ee,He]=b.useState({}),[We,ot]=b.useState({}),Qe=s.state?.returnTo,Pt=()=>typeof Qe=="string"&&Qe?Qe:"/oi/list",Mt=E=>{const H=new URLSearchParams(c);H.set("mode",E),d(H,{replace:!0})},Tt="new",bn=15,At=E=>E?`bancada-${E.id}`:Tt,ct=E=>E==null?!1:typeof E=="string"?E.trim()!=="":typeof E=="number"?Number.isFinite(E):!0,yt=E=>E==="c7_seconds"||E==="caudal"||E==="error",Ut=E=>E?Object.entries(E).some(([H,pe])=>yt(H)?!1:ct(pe)):!1,mn=E=>!E||!Array.isArray(E.rowsData)?!1:E.rowsData.some(H=>{if(!H)return!1;if(Number(H.estado??0)!==0)return!0;const ze=H.medidor;return typeof ze=="string"&&ze.trim()!==""?!0:Ut(H.q3)||Ut(H.q2)||Ut(H.q1)}),En=(E=bn)=>Array.from({length:E}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),vn=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,hn=E=>({draftId:vn(),draftCreatedAt:new Date().toISOString(),estado:0,rows:bn,rowsData:En(),version:null}),It=E=>{const H=new URLSearchParams(s.search);H.set("mode","edit");const pe=s.pathname==="/oi"||s.pathname==="/oi/"?E?`/oi/${E}`:"/oi":s.pathname,ze=H.toString();return ze?`${pe}?${ze}`:pe},Ln=(E,H)=>!E||!j||A==null?null:{version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,oiCode:q("oi")??null,returnTo:It(E),mode:"edit",modal:H},an=()=>{if(Ya)return st?{type:"bancada",bancadaId:st.id}:{type:"bancada",isNew:!0}},xn=E=>zf({userId:j,bankId:A,oiId:E,type:"bancada",isNew:!0}),Vn=E=>{const H=xn(E);if(!H)return null;const pe=Mf(H);if(!pe||!j||A==null||!E||pe.userId!==j||pe.bankId!==A||pe.oiId!==E)return null;const ze=pe?.data??null;return mn(ze)?ze:(Vs(H),null)},Dn=(E,H)=>{const pe=xn(E);if(!pe)return;if(!H||!mn(H)){Vs(pe);return}if(!j||A==null||!E)return;const ze={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,isNew:!0,data:H},et=Ln(E,{type:"bancada",isNew:!0});Mi(pe,ze,et)},Dt=E=>zf({userId:j,bankId:A,oiId:E,type:"header"}),Rr=E=>{if(!E)return null;const H=Mf(E);return!H||!j||A==null||H.userId!==j||H.bankId!==A||je!=null&&H.oiId!==je?null:H?.data??null},Da=(E,H)=>{if(!E||!j||A==null)return;const pe=je??0,ze={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:pe,data:H},et=Ln(je,an());Mi(E,ze,et)},Sn=E=>{E&&Vs(E)},Zn=E=>{const H={};return E.q3!=null&&(H.q3=Number(E.q3)),E.alcance!=null&&(H.alcance=Number(E.alcance)),E.pma!=null&&(H.pma=Number(E.pma)),E.numeration_type&&(H.numeration_type=E.numeration_type),H},Ka=(E,H)=>zf({userId:j,bankId:A,oiId:E,type:"bancada",bancadaId:H}),Tr=(E,H)=>{const pe=Ka(E,H);if(!pe)return null;const ze=Mf(pe);if(!ze||!j||A==null||!E||!H||ze.userId!==j||ze.bankId!==A||ze.oiId!==E)return null;const et=ze?.data??null;return mn(et)?et:(Vs(pe),null)},Xa=(E,H,pe)=>{const ze=Ka(E,H);if(!ze)return;if(!mn(pe)){Vs(ze);return}if(!j||A==null||!E||!H)return;const et={version:1,ts:new Date().toISOString(),userId:j,bankId:A,oiId:E,bancadaId:H,data:pe},St=Ln(E,{type:"bancada",bancadaId:H});Mi(ze,et,St)},Ps=(E,H)=>{const pe=Ka(E,H);pe&&Vs(pe)},Wt=Dt(je);b.useEffect(()=>{h&&N(E=>({...E,q3:h.q3[0],alcance:h.alcance[0],pma:16}))},[h,N]),b.useEffect(()=>{const E=uv(),H=k??E?.id??null;if(!H){Je(null),Un([]),Q.current=[],G.current=null,Hn(null),te(0),wt(null),he(null),qe(null),V(!1),ve(!1),Oe(null),I(null),ge(!1),z(null);return}(async()=>{try{const pe=await Hf(H);Je(pe.id),ki({id:pe.id,code:pe.code}),Un(pe.bancadas??[]),Q.current=eT(pe.bancadas??[]),G.current=pe.updated_at??null,Hn(pe.medidores_usuario??null),te(pe.medidores_total_code??0),he(pe.saved_at??null),qe(pe.created_at??null),wt(pe.updated_at??pe.created_at);const ze={oi:pe.code,q3:pe.q3,alcance:pe.alcance,pma:pe.pma,numeration_type:pe.numeration_type??"correlativo"};N(ze),V(!1),ve(pe.read_only_for_current_user??!1),Oe(pe.locked_by_full_name??null),I(pe.locked_by_user_id??null),ge((pe.locked_by_user_id??null)===j),z(ze)}catch{Nm()}})()},[N,j,k]),b.useEffect(()=>{if(!je||We[Tt])return;const E=Vn(je);E&&(ot(H=>({...H,[Tt]:E})),e({kind:"info",message:"Se restauro un borrador local."}))},[je,We,e]),b.useEffect(()=>{if(!je||!j||!ie)return;let E=!1;return(async()=>{const H=pe=>{ve(pe?.read_only_for_current_user??!1),Oe(pe?.locked_by_full_name??null),I(pe?.locked_by_user_id??null),ge((pe?.locked_by_user_id??null)===j)};try{const pe=await GR(je);if(E)return;H(pe)}catch(pe){if(E)return;const ze=pe?.status??pe?.response?.status;let et=null;try{const ut=await Hf(je);if(E)return;et=ut.locked_by_full_name??null,H({read_only_for_current_user:!0,locked_by_full_name:et,locked_by_user_id:ut.locked_by_user_id??null})}catch{ve(!0),ge(!1)}const St=et?`La OI est? siendo editada por ${et}. Se abre en modo lectura.`:pe?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";e({kind:ze===423||ze===409?"warning":"error",title:ze===423||ze===409?"OI bloqueada":"Error",message:St}),ve(!0),ge(!1),$!=="view"&&Mt("view")}})(),()=>{E=!0}},[je,j,ie]),b.useEffect(()=>()=>{je&&W&&xc(je).catch(()=>{})},[je,W]),b.useEffect(()=>{je&&(!W||we||!ie||nE(je))},[W,je,we,ie]),b.useEffect(()=>{Ce.current=!1,Le.current=!1,C(!1),Ue.current=!1,Jt.current=!1},[je]),b.useEffect(()=>{if(!Ve.current&&m){if(!!!Tn()?.token){e({kind:"warning",message:"Conexion restablecida, pero debes iniciar sesion para guardar."}),Ve.current=m;return}(Le.current||Xe)&&e({kind:"info",message:"Conexion restablecida. Puedes reintentar guardar."})}Ve.current=m},[m,Xe,e]),b.useEffect(()=>{const E=()=>{e({kind:"warning",message:"Sesion expirada. Inicia sesion para guardar. Tu borrador esta guardado."})};return window.addEventListener("medileser:auth-expired",E),()=>window.removeEventListener("medileser:auth-expired",E)},[e]),b.useEffect(()=>{const E=lE();if(!E){R(null),it.current=!1;return}const H=`${s.pathname}${s.search}`,pe=E.route===H,ze=E.oiId==null||E.oiId===je;if(!pe&&!ze){R(null),it.current=!1;return}R(E),E.type==="save_bancada"&&C(!0),E.type==="save_oi"&&(Le.current=!0),it.current||(e({kind:"info",message:"Sesion restaurada. Reintenta guardar."}),it.current=!0)},[s.pathname,s.search,je,e]);const za=ie&&!we&&(w||!je);b.useEffect(()=>{if(!za||Ue.current)return;const E=Rr(Wt);if(!E)return;const H=q();N({...H,...E,numeration_type:E.numeration_type??H.numeration_type??"correlativo"}),Ue.current=!0,e({kind:"info",message:"Se restauro un borrador local."})},[za,Wt,q,N,e]),b.useEffect(()=>{if(!za)return;const E=v(H=>{ne.current&&window.clearTimeout(ne.current),ne.current=window.setTimeout(()=>{Da(Wt,Zn(H))},400)});return()=>{E.unsubscribe(),ne.current&&window.clearTimeout(ne.current)}},[v,za,Wt]);const Gn=b.useMemo(()=>Object.keys(We).length>0,[We]),sn=ie&&!we&&(W||w||Gn);b.useEffect(()=>{if(!sn)return;const E=H=>{if(!se.current)return H.preventDefault(),H.returnValue="",""};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[sn]),rT(E=>{if(!sn){E.retry();return}if(se.current){E.retry();return}if(E.location.pathname===s.pathname){E.retry();return}window.confirm(sT)&&E.retry()},sn),b.useEffect(()=>{if(!je||!W||we||!ie)return;const E=()=>{if(se.current||Ce.current)return;Ce.current=!0;const pe=Tn()?.token,ze=lT(`/oi/${je}/close`);fetch(ze,{method:"POST",headers:pe?{Authorization:`Bearer ${pe}`}:void 0,keepalive:!0}).catch(()=>{})},H=()=>{E()};return window.addEventListener("pagehide",H),()=>window.removeEventListener("pagehide",H)},[je,W,we,ie]);const zl=v("pma"),to=b.useMemo(()=>DR(Number(zl)),[zl]),Ml=v("numeration_type")??"correlativo",kl=async E=>{try{xe(!0);const H=Tn();if(!H)throw new Error("Sesin no vlida");const pe=H.bancoId;if(pe==null)throw new Error("Debe seleccionar un banco para crear una OI.");const ze={code:E.oi,q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),banco_id:pe,tech_number:H.techNumber,numeration_type:E.numeration_type??"correlativo"},et=await FR(ze);return Je(et.id),wt(et.updated_at??et.created_at),Hn(et.medidores_usuario??0),te(et.medidores_total_code??0),he(et.saved_at??null),qe(et.created_at??null),ki({id:et.id,code:et.code}),z(E),Le.current=!1,Sn(Dt(null)),Sn(Dt(et.id)),dl(),R(null),e({kind:"success",title:"OI creada",message:`${et.code} (#${et.id})`}),!0}catch(H){return Sc(H)?(Le.current=!0,Da(Wt,Zn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1):zi(H)?(Le.current=!0,Da(Wt,Zn(E)),!1):(e({kind:"error",title:"Error",message:H?.message??"Error creando OI"}),!1)}finally{xe(!1)}},Ys=async E=>{if(!je)return!1;if(we)return e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(xe(!0),!je)throw new Error("No hay OI seleccionada para actualizar.");const H=E.oi?.trim(),pe=E.numeration_type??"correlativo",ze=oe?.numeration_type??"correlativo",et=!oe||Number(E.q3)!==Number(oe.q3)||Number(E.alcance)!==Number(oe.alcance)||Number(E.pma)!==Number(oe.pma)||pe!==ze,St=B&&!!H&&H!==(oe?.oi??""),ut=!St||et,rn=bt=>{wt(bt.updated_at??bt.created_at),he(bt.saved_at??null),qe(bt.created_at??null),bt.code&&ki({id:bt.id,code:bt.code}),I(bt.locked_by_user_id??null),Oe(bt.locked_by_full_name??null),ve(bt.read_only_for_current_user??!1),ge((bt.locked_by_user_id??null)===j)};let Qn=null;if(ut){if(!Qt)throw new Error("No se pudo determinar la version actual de la OI. Recargue la pagina e intentelo de nuevo.");const bt={q3:Number(E.q3),alcance:Number(E.alcance),pma:Number(E.pma),numeration_type:pe,updated_at:Qt};Qn=await BR(je,bt),rn(Qn)}if(St&&H)try{const bt=await qR(je,H);Qn=bt,rn(bt)}catch(bt){if(Sc(bt)||zi(bt))throw bt;const Mr=bt?.status??bt?.response?.status;return e(Mr===409?{kind:"error",title:"Conflicto",message:"Ya existe una OI con ese codigo."}:Mr===403?{kind:"error",title:"No autorizado",message:"No autorizado."}:Mr===422||Mr===400?{kind:"error",title:"Formato",message:"Formato de OI invalido. Debe ser OI-####-YYYY."}:{kind:"error",title:"Error",message:bt?.message??"Error actualizando OI"}),!1}return Qn?(z({...E,oi:Qn.code,numeration_type:pe}),V(!1),Le.current=!1,Sn(Wt),dl(),R(null),e({kind:"success",title:"OI actualizada",message:Qn.code??E.oi}),!0):(V(!1),Le.current=!1,Sn(Wt),dl(),R(null),e({kind:"success",title:"OI actualizada",message:E.oi}),!0)}catch(H){if(Sc(H))return Le.current=!0,Da(Wt,Zn(E)),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. Cambios guardados localmente. Reintenta al reconectar."}),!1;if(zi(H))return Le.current=!0,Da(Wt,Zn(E)),!1;const pe=H?.status??H?.response?.status;return e(pe===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:H?.message??"Error actualizando OI"}),!1}finally{xe(!1)}},Ul=!!je&&w&&!we,Nn=()=>He({}),Ll=E=>{const H=x0(E);H&&He(pe=>{if(!pe[H])return pe;const ze={...pe};return delete ze[H],ze})},Dr=()=>{if(we){e({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}if(!je)return;Nn(),C(!1);const E=Vn(je),H=E??hn();ot(pe=>({...pe,[Tt]:H})),Dn(je,H),E&&e({kind:"info",message:"Se restauro un borrador local."}),Ra(null),ra(!0)},Ks=E=>{if(we&&!Y){e({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}Nn(),C(!1);const H=Tr(je,E.id);if(H){const pe=At(E);ot(ze=>({...ze,[pe]:H})),e({kind:"info",message:"Se restauro un borrador local."})}Ra(E),ra(!0)};b.useEffect(()=>{if(!je||Jt.current)return;const E=Y1();if(E&&!(!j||A==null)&&!(E.userId!==j||E.bankId!==A)&&E.oiId===je){if(E.modal?.type==="bancada"){if(E.modal.isNew){Jt.current=!0,kf(),Dr();return}if(E.modal.bancadaId){const H=jn.find(pe=>pe.id===E.modal?.bancadaId);if(!H)return;Jt.current=!0,kf(),Ks(H);return}}Jt.current=!0,kf()}},[j,A,jn,je,Dr,Ks]);const gs=b.useMemo(()=>{const E=At(st),H=We[E];if(H){const et=H.version??st?.updated_at??st?.created_at??null;return{...H,version:et}}if(!st)return;const ze=v0(st).map(XR);return{estado:st.estado,rows:ze.length||st.rows,rowsData:ze,version:st.updated_at??st.created_at??null}},[st,We]),no=async E=>{if(je){if(we){e({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}Nn(),C(!1);try{xe(!0);const H=E.draftCreatedAt??We[Tt]?.draftCreatedAt,pe={estado:Number(E.estado??0),rows:Number(E.rowsData.length),rows_data:E.rowsData.map(JR)};if(st){const ze=E.version??st.updated_at??st.created_at??null;if(!ze)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const et={...pe,updated_at:ze},St=await $R(st.id,et);Un(ut=>ut.map(rn=>rn.id===St.id?St:rn)),wt(St.updated_at??St.created_at??Qt),Hn(null),Ps(je,st.id),ot(ut=>{const rn=`bancada-${st.id}`,{[rn]:Qn,...bt}=ut;return bt}),e({kind:"success",message:"Bancada actualizada"})}else{H&&(pe.draft_created_at=H);const ze=await ov(je,pe);Un(et=>[...et,ze]),wt(ze.updated_at??ze.created_at??Qt),Hn(null),ot(et=>{const{new:St,...ut}=et;return ut}),Dn(je,null),e({kind:"success",message:"Bancada agregada"})}try{const ze=await Vf(je);Hn(ze.medidores_usuario??null),te(ze.medidores_total_code??P),he(ze.saved_at??null),qe(ze.created_at??null)}catch{}I(_?.userId??M),Oe(_?.fullName??Te),ge(j!==null),ve(!1),ra(!1),Ra(null),dl(),R(null),C(!1)}catch(H){if(Sc(H)){st?Xa(je,st.id,E):Dn(je,E),C(!0),e({kind:"warning",title:"Sin conexion",message:"Sin conexion. La bancada se guardo localmente. Reintenta cuando vuelva la red."});return}if(zi(H)){st?Xa(je,st.id,E):Dn(je,E),C(!0);return}const pe=H?.status??H?.response?.status;if(pe===409)e({kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."});else if(pe===400){const ze=Array.isArray(H?.duplicates)?H.duplicates:Array.isArray(H?.response?.data?.duplicates)?H.response.data.duplicates:[];ze.length>0&&He(aT(ze)),e({kind:"warning",title:"Validacion",message:H?.message??"Error guardando bancada"})}else e({kind:"error",title:"Error",message:H?.message??"Error guardando bancada"})}finally{xe(!1)}}},ao=async E=>{if(confirm(`Eliminar bancada #${E.item}?`)){if(we){e({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(xe(!0),!je)throw new Error("No hay OI cargada.");await cv(E.id),Un(pe=>pe.filter(ze=>ze.id!==E.id)),Hn(null),ot(pe=>{const ze=`bancada-${E.id}`,{[ze]:et,...St}=pe;return St}),Ps(je,E.id);const H=await Vf(je);wt(H.updated_at??H.created_at??null),he(H.saved_at??null),qe(H.created_at??null),I(H.locked_by_user_id??null),Oe(H.locked_by_full_name??null),ve(H.read_only_for_current_user??!1),ge((H.locked_by_user_id??null)===j),Hn(H.medidores_usuario??null),te(H.medidores_total_code??P),e({kind:"success",message:`Bancada #${E.item} eliminada`})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error eliminando bancada"})}finally{xe(!1)}}},ys=()=>{if(!je){e({kind:"warning",message:"Primero guarda el OI."});return}Ta(!0)},du=async E=>{if(je)try{xe(!0),await b0(je,E),e({kind:"success",message:"Excel generado"})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error generando Excel"})}finally{xe(!1)}},so=()=>{if(!je||!B)return;const E=ce??Re;de("oi"),le(null),_e(mv(E)),ke(!0)},ro=E=>{if(!B)return;de("bancada"),le(E);const H=E.saved_at??E.created_at??ce??Re;_e(mv(H)),ke(!0)},Bl=async()=>{if(!je||!B)return;const E=nT(Fe);if(!E){e({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(De==="bancada"&&!Me))try{xe(!0),De==="oi"?await QR(je,{saved_at:E,propagate_to_bancadas:!0}):Me&&await HR(Me.id,{saved_at:E});const H=await Hf(je);if(Un(H.bancadas??[]),Hn(H.medidores_usuario??null),te(H.medidores_total_code??0),he(H.saved_at??null),qe(H.created_at??null),wt(H.updated_at??H.created_at),Oe(H.locked_by_full_name??null),I(H.locked_by_user_id??null),ve(H.read_only_for_current_user??!1),ge((H.locked_by_user_id??null)===j),!w){const pe={oi:H.code,q3:H.q3,alcance:H.alcance,pma:H.pma,numeration_type:H.numeration_type??"correlativo"};N(pe),z(pe)}ke(!1),le(null),_e(""),de("bancada"),e({kind:"success",message:"Fecha guardada actualizada"})}catch(H){e({kind:"error",title:"Error",message:H?.message??"Error actualizando fecha"})}finally{xe(!1)}},fu=E=>{Nn(),C(!1);const H=At(st);let pe={...E};if(!st){const ze=We[Tt];pe.draftCreatedAt||(pe.draftCreatedAt=ze?.draftCreatedAt??new Date().toISOString()),pe.draftId||(pe.draftId=ze?.draftId??vn())}ot(ze=>({...ze,[H]:pe})),st?Xa(je,st.id,pe):Dn(je,pe),ra(!1)},mu=()=>{if(we){e({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const E=q();z({...E,numeration_type:E.numeration_type??"correlativo"}),V(!0)},zr=()=>{!je||ie||Mt("edit")},Ma=()=>{oe&&N(oe),V(!1),Le.current=!1,Sn(Wt),dl(),R(null)},bs=()=>{je&&(Dn(je,null),Object.keys(We).forEach(E=>{if(!E.startsWith("bancada-"))return;const H=Number(E.replace("bancada-",""));Number.isFinite(H)&&Ps(je,H)})),Sn(Dt(je)),Sn(Dt(null)),G1(),Le.current=!1,C(!1),dl(),R(null),Nm(),Bx(),Je(null),Un([]),Q.current=[],ot({}),V(!1),z(null),wt(null),he(null),qe(null),ve(!1),Oe(null),I(null),ge(!1),Hn(null),te(0),ra(!1),Ra(null),Ta(!1),ke(!1),Ae(!1),_e(""),le(null),de("bancada"),N({oi:`OI-0001-${new Date().getFullYear()}`,q3:h?.q3[0]??2.5,alcance:h?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},ql=()=>{Ce.current=!0,se.current=!0,bs(),a(Pt())},vs=async()=>{if(!je)return!0;const E=Q.current??[];if(E.length===0&&jn.length===0)return!0;const H=new Map(E.map(ze=>[ze.id,ze])),pe=new Map(jn.map(ze=>[ze.id,ze]));try{for(const St of jn)H.has(St.id)||await cv(St.id);for(const St of jn){const ut=H.get(St.id);if(!ut||dv(ut)===dv(St))continue;const rn=fv(ut),Qn=rn.length||ut.rows||1,bt=St.updated_at??St.created_at??ut.updated_at??ut.created_at;if(!bt)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await VR(St.id,{medidor:ut.medidor??null,estado:ut.estado??0,rows:Qn,rows_data:rn,current_updated_at:bt,restore_updated_at:ut.updated_at??null,restore_saved_at:ut.saved_at??null})}for(const St of E)if(!pe.has(St.id)){const ut=fv(St),rn=ut.length||St.rows||1;await ov(je,{estado:St.estado??0,rows:rn,rows_data:ut})}const ze=await Vf(je),et=ze.updated_at??ze.created_at;await IR(je,{current_updated_at:et,restore_updated_at:G.current})}catch(ze){return e({kind:"error",title:"Error",message:ze?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},xs=()=>{Ne||Ae(!0)},lo=async()=>{if(!Ne){Ae(!1),xe(!0);try{if(!await vs())return;je&&W&&await xc(je,"cancel")}catch{}finally{xe(!1)}Ce.current=!0,se.current=!0,bs(),e({kind:"info",message:"Edicion cancelada"}),a(Pt())}},Il=async()=>{if(Ne)return;Ae(!1);let E=!0;if((w||!je)&&(E=!1,await p(async pe=>{E=je?await Ys(pe):await kl(pe)})()),!!E){xe(!0);try{je&&W&&await xc(je)}catch{}finally{xe(!1)}Ce.current=!0,se.current=!0,bs(),e({kind:"info",message:"Cambios guardados"}),a(Pt())}},io=async()=>{if(!Ne){xe(!0);try{je&&W&&await xc(je)}catch{}finally{xe(!1)}Ce.current=!0,se.current=!0,bs(),e({kind:"info",message:"OI cerrada"}),a(Pt())}},Xs=b.useMemo(()=>WR(jn),[jn]),ka=$n??Xs,Js=E=>{if(!E)return"-";const pe=/([zZ]|[+-]\d{2}:?\d{2})$/.test(E)?E:`${E}Z`,ze=new Date(pe);return Number.isNaN(ze.getTime())?E:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(ze)},Ws=st?Ka(je,st.id):xn(je),$a=j&&A!=null&&je?{userId:j,bankId:A,oiId:je,bancadaId:st?.id??null,isNew:!st,returnTo:It(je),oiCode:q("oi")??null}:null;return o.jsxs("div",{className:"oi-page vi-oi-light",children:[o.jsx(Tl,{show:Ne}),!m&&o.jsx("div",{className:"alert alert-warning py-1 mt-2 mb-2",children:"Sin conexion. Los cambios se guardaran localmente hasta que vuelva la red."}),Z&&o.jsx("div",{className:"alert alert-info py-1 mt-2 mb-2",children:"Sesion restaurada. Reintenta guardar."}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsx("h1",{className:"h3",children:"Formulario OI"}),o.jsxs("div",{className:"d-flex gap-2",children:[je&&B&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:so,disabled:Ne,children:"Editar fecha guardado"}),je&&Y&&o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:zr,disabled:Ne,children:"Editar"})]})]}),we&&o.jsx("div",{className:"alert alert-warning mt-2",children:Y?"Modo lectura. Use Editar para modificar.":Te?`Esta OI est siendo editada por ${Te}. Se abre en modo lectura.`:"Esta OI est en modo lectura. No se pueden realizar cambios."}),o.jsxs("form",{onSubmit:p(Ul?Ys:kl),className:`row g-3 mt-1 ${Ul?"vi-form-editing":"vi-form-readonly"}`,children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),o.jsx("input",{id:"oi",className:`form-control ${je&&!(B&&w&&!we)?"vi-locked":""}`,...g("oi"),disabled:je?!(B&&w&&!we):!1}),x.oi&&o.jsx("div",{className:"text-danger small",children:x.oi.message}),B?null:o.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el codigo de OI."})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),o.jsx("select",{id:"q3",className:"form-select",...g("q3",{valueAsNumber:!0}),disabled:!!je&&!w||we,children:h?.q3.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),o.jsx("select",{id:"alcance",className:"form-select",...g("alcance",{valueAsNumber:!0}),disabled:!!je&&!w||we,children:h?.alcance.map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),o.jsx("select",{id:"pma",className:"form-select",...g("pma",{valueAsNumber:!0}),disabled:!!je&&!w||we,children:h?.pma.map(E=>o.jsx("option",{value:E,children:E},E))}),o.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),o.jsx("input",{id:"presion",className:"form-control",value:isNaN(to)?"":to,disabled:!0})]}),o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),o.jsxs("select",{id:"numeration_type",className:"form-select",...g("numeration_type"),disabled:!!je&&!w||we,children:[o.jsx("option",{value:"correlativo",children:"Correlativo"}),o.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),o.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),o.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",disabled:Ne||!!je&&(!w||we),children:je?Ul?"Guardar cambios":"OI guardada":"Guardar OI"}),je&&!w&&ie&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:mu,disabled:Ne||we,children:"Editar OI"}),je&&w&&ie&&o.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:Ma,disabled:Ne,children:"Cancelar edicion"}),Y&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:ql,disabled:Ne,children:"Volver al listado"}),o.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:ys,disabled:!je||Ne||w,children:"Generar Excel"}),ie&&o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:io,disabled:!je||w||Ne,children:"Cerrar OI"}),ie&&o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:xs,disabled:Ne,children:"Cancelar"})]})]}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"card vi-card-table mt-3",children:[o.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),o.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",ka," | Total OI: ",P]})]}),o.jsx("button",{className:"btn btn-primary",onClick:Dr,disabled:!je||Ne||w||we,children:"Agregar Bancada"})]}),o.jsx("div",{className:"card-body p-0",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"vi-col-60",children:"Item"}),o.jsx("th",{children:"# Medidor"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),o.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),o.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),o.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[jn.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),jn.map(E=>{const H=E.rows_data?.[0]?.medidor||E.medidor||"",pe=E.rows_data?.[(E.rows_data?.length||0)-1]?.medidor||"",ze=H&&pe&&H!==pe?`${H} ... ${pe}`:H;return o.jsxs("tr",{children:[o.jsx("td",{children:E.item}),o.jsx("td",{children:ze}),o.jsx("td",{children:E.rows}),o.jsx("td",{children:Js(E.created_at)}),o.jsx("td",{children:Js(E.saved_at)}),o.jsx("td",{children:Js(E.updated_at??E.created_at)}),o.jsxs("td",{className:"text-end",children:[B?o.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>ro(E),disabled:Ne||w||fe,"aria-label":`Editar fecha guardado bancada #${E.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Ks(E),disabled:Ne||w||!Y&&we,"aria-label":`${Y?"Ver":"Editar"} bancada #${E.item}`,title:Y?"Ver":"Editar",children:Y?"Ver":"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ao(E),disabled:Ne||w||we,"aria-label":`Eliminar bancada #${E.item}`,title:"Eliminar",children:""})]})]},E.id)})]})]})})})]}),Ya&&o.jsx(LR,{show:Ya,title:st?`Editar bancada #${st.item}`:"Nueva bancada",initial:gs,onClose:()=>{Nn(),ra(!1)},onSubmit:no,onCancelWithDraft:fu,numerationType:Ml,readOnly:we,duplicateMap:Ee,onClearDuplicate:Ll,draftStorageKey:Ws,draftMeta:$a,isOnline:m,showRetry:Xe}),$e&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:E=>{E.target===E.currentTarget&&Ae(!1)},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>Ae(!1)})]}),o.jsx("div",{className:"modal-body",children:o.jsx("p",{children:"Estas seguro de descartar cambios?"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:lo,disabled:Ne,children:"Descartar cambios"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:Il,disabled:Ne,children:"Guardar cambios y volver al listado"})]})]})})}),me&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:E=>{E.target===E.currentTarget&&(ke(!1),le(null),de("bancada"))},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:E=>{E.preventDefault(),Bl()},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{ke(!1),le(null),de("bancada")}})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),o.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:Fe,onChange:E=>_e(E.target.value),required:!0}),o.jsx("div",{className:"form-text",children:De==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{ke(!1),le(null),de("bancada")},children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Ne||!Fe,children:"Guardar"})]})]})})}),o.jsx(ou,{show:ha,title:"Contrasea para proteger Excel",onClose:()=>Ta(!1),onConfirm:E=>{Ta(!1),du(E)}})]})}function oT(e){return e==="/home"?null:e==="/oi"?"oi_formulario":e==="/oi/list"?"oi_listado":e==="/oi/tools/vima-to-lista"?"tools_vima_lista":e==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":e==="/oi/tools/formato-ac/history"?"tools_historial_ac":e==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":e==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":e==="/logistica/log01/history"?"logistica_history":e==="/logistica/log01/excel"?"logistica":e==="/logistica/log02/pdfs"?"logistica_pdfs":e.startsWith("/logistica/")?"logistica":e.startsWith("/oi/")?"oi_formulario":e==="/users"?"users_admin":e==="/admin/permisos"?"admin_permisos":null}function cT(){const e=Tn(),a=Fn(),s=e?.token??null,[l,c]=b.useState(()=>!!s);if(b.useEffect(()=>{if(!s){c(!1);return}let N=!1;return c(!0),Ge.get("/auth/me").then(()=>{N||c(!1)}).catch(async q=>{if(N)return;if(q?.response?.status===401){await $x();return}c(!1)}),()=>{N=!0}},[s]),!s)return o.jsx(Zs,{to:"/login",replace:!0});if(l)return o.jsx(Tl,{show:!0});const d=e,m=ja(d.role,d.username),h=Ym(d),g=Nl(m),p=qi(),v=a.pathname==="/oi"||a.pathname.startsWith("/oi/");if(g&&v&&!(p&&p>0)&&a.pathname!=="/home")return o.jsx(Zs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return o.jsx(Zs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return o.jsx(Zs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const N=oT(a.pathname),q=d.allowedModules;if(N&&Array.isArray(q)&&!q.includes(N))return o.jsx(Zs,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return o.jsx(Tv,{})}const uT=({isActive:e})=>"vi-sidebar-link d-flex align-items-center"+(e?" active":""),dT=.9;function ah(e,a){if(!(a||e<=0))return{paddingLeft:`calc(0.75rem + ${e*dT}rem)`}}function Wn({to:e,icon:a,label:s,depth:l,collapsed:c}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs(Uv,{to:e,end:!0,className:uT,style:ah(l,c),title:s,"aria-label":s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:s})]})})}function pv({icon:e,label:a,depth:s,collapsed:l}){return o.jsx("li",{className:"vi-sidebar-item",children:o.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:ah(s,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[o.jsx("i",{className:`ti ${e} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function pr({groupKey:e,icon:a,label:s,depth:l,collapsed:c,open:d,active:m,onToggle:h,children:g}){const p=`sidebar-group-${e}`,v=d?"ti-angle-down":"ti-angle-right";return o.jsxs("li",{className:"vi-sidebar-item",children:[o.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:ah(l,c),onClick:()=>{c||h(e)},"aria-expanded":!c&&d,"aria-controls":p,title:s,children:[o.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:s}),o.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:o.jsx("i",{className:`ti ${v}`})})]}),!c&&d&&o.jsx("ul",{id:p,className:"list-unstyled mb-0",children:g})]})}function fT({collapsed:e,onToggleSidebar:a}){const s=Fn(),l=Tn(),c=!!l,d=ja(l?.role,l?.username),m=Ym(l),h=d==="admin"||d==="administrator",g=l?.allowedModules,p=ge=>m||!Array.isArray(g)||g.includes(ge),v=c&&p("tools_vima_lista"),x=c&&p("tools_actualizacion_bases"),N=c&&p("tools_historial_ac"),q=c&&p("tools_consol_correlativo"),_=c&&p("tools_consol_no_correlativo"),j=c&&p("oi_formulario"),A=c&&p("oi_listado"),B=c&&h&&p("users_admin"),T=c&&p("future_ot"),J=c&&p("logistica"),k=c&&p("logistica_history"),O=c&&p("logistica_pdfs"),$=J||k||O,U=c&&p("future_smart"),Y=q||_,ie=v||x||N,Ne=j||A||T,xe=ie||Ne||Y,fe=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[ve,Te]=b.useState(()=>{const ge=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!ge)return fe;try{const we=JSON.parse(ge),w={...fe};return Object.keys(w).forEach(V=>{typeof we[V]=="boolean"&&(w[V]=we[V])}),w}catch{return fe}}),Oe=s.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(ve))},[ve]);const M=b.useMemo(()=>{const ge=we=>!!Li({path:we,end:!0},Oe);return{vimaToLista:ge("/oi/tools/vima-to-lista"),actualizacionBases:ge("/oi/tools/actualizacion-base"),formatoAcHistory:ge("/oi/tools/formato-ac/history"),consolidacionCorrelativo:ge("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:ge("/oi/tools/consolidacion/no-correlativo"),registroOi:ge("/oi"),listadoOi:ge("/oi/list"),users:ge("/users"),password:ge("/password"),permisos:ge("/admin/permisos"),log01Excel:ge("/logistica/log01/excel"),log01History:ge("/logistica/log01/history"),log02Pdfs:ge("/logistica/log02/pdfs")}},[Oe]),I=b.useMemo(()=>({oi_consolidacion:M.consolidacionCorrelativo||M.consolidacionNoCorrelativo,oi_formato_ac:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory,oi_verificacion:M.registroOi||M.listadoOi,oi:M.vimaToLista||M.actualizacionBases||M.formatoAcHistory||M.consolidacionCorrelativo||M.consolidacionNoCorrelativo||M.registroOi||M.listadoOi,usuarios:M.users||M.password,logistica:M.log01Excel||M.log01History||M.log02Pdfs,administrar:M.permisos}),[M]);function W(ge){Te(we=>({...we,[ge]:!we[ge]}))}return o.jsxs("aside",{className:`vi-sidebar ${e?"vi-sidebar--collapsed":""}`,children:[o.jsxs("div",{className:"vi-sidebar__header",children:[o.jsxs("div",{className:"vi-sidebar__brand",children:[o.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),o.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&o.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-angle-right":"ti-angle-left"}`})})]}),o.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!c&&o.jsx(Wn,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:e}),xe&&o.jsxs(pr,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:e,open:ve.oi,active:I.oi,onToggle:W,children:[ie&&o.jsxs(pr,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:e,open:ve.oi_formato_ac,active:I.oi_formato_ac,onToggle:W,children:[v&&o.jsx(Wn,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:e}),x&&o.jsx(Wn,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:e}),N&&o.jsx(Wn,{to:"/oi/tools/formato-ac/history",icon:"ti-view-list-alt",label:"HISTORIAL A-C",depth:2,collapsed:e})]}),Y&&o.jsxs(pr,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:e,open:ve.oi_consolidacion,active:I.oi_consolidacion,onToggle:W,children:[q&&o.jsx(Wn,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:e}),_&&o.jsx(Wn,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:e})]}),Ne&&o.jsxs(pr,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:e,open:ve.oi_verificacion,active:I.oi_verificacion,onToggle:W,children:[T&&o.jsx(pv,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:e}),j&&o.jsx(Wn,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:e}),A&&o.jsx(Wn,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:e})]})]}),$&&o.jsxs(pr,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:e,open:ve.logistica,active:I.logistica,onToggle:W,children:[J&&o.jsx(Wn,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacion Excel",depth:1,collapsed:e}),k&&o.jsx(Wn,{to:"/logistica/log01/history",icon:"ti-view-list-alt",label:"Historial de consolidaciones",depth:1,collapsed:e}),O&&o.jsx(Wn,{to:"/logistica/log02/pdfs",icon:"ti-filter",label:"Filtrado de Cert.PDFs",depth:1,collapsed:e})]}),U&&o.jsx(pv,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:e}),o.jsxs(pr,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:e,open:ve.usuarios,active:I.usuarios,onToggle:W,children:[B&&o.jsx(Wn,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:e}),c&&o.jsx(Wn,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:e})]}),m&&o.jsx(pr,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:e,open:ve.administrar,active:I.administrar,onToggle:W,children:o.jsx(Wn,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:e})})]})]})}function mT({sidebarCollapsed:e,onToggleSidebar:a}){const s=Tn(),l=s?.username??s?.user??"",c=s?Nl(s.role):!1,[d,m]=b.useState(()=>qi());b.useEffect(()=>fE(()=>m(qi())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",g=async()=>{try{await pE()}finally{location.assign("/login")}};return o.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&o.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":e?"Expandir men":"Contraer men",onClick:a,children:o.jsx("i",{className:`ti ${e?"ti-menu-alt":"ti-menu"}`})}),o.jsx("div",{className:"me-auto"}),o.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s&&o.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",o.jsx("strong",{children:l||"?"}),c&&o.jsxs(o.Fragment,{children:["  ",h,s.techNumber?o.jsxs(o.Fragment,{children:["  ","Tcnico ",s.techNumber]}):null]})]}),s&&o.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:g,children:"Cerrar sesin"})]})]})}function hT(){const a=Fn().pathname==="/home",[s,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),c=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(s))}catch{}},[s]),o.jsxs("div",{className:`vi-layout ${s?"vi-layout--collapsed":""}`,children:[o.jsx(fT,{collapsed:s,onToggleSidebar:c}),o.jsxs("div",{className:"vi-main",children:[o.jsx(mT,{sidebarCollapsed:s,onToggleSidebar:c}),o.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:o.jsx(Tv,{})})]})]})}function pT(){const{toast:e}=Ar(),a=Er(),s=Fn(),[,l]=Bv(),[c,d]=b.useState(()=>new URLSearchParams(s.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(s.search).get("q")??"").trim()),[g,p]=b.useState(()=>new URLSearchParams(s.search).get("dateFrom")??""),[v,x]=b.useState(()=>new URLSearchParams(s.search).get("dateTo")??""),[N,q]=b.useState(()=>{const ne=new URLSearchParams(s.search).get("pageSize"),Ue=ne?Number(ne):20;return Number.isFinite(Ue)&&Ue>0?Ue:20}),[_,j]=b.useState(()=>{const ne=new URLSearchParams(s.search).get("page"),Ue=ne?Number(ne):1;return Number.isFinite(Ue)&&Ue>0?Math.floor(Ue):1}),[A,B]=b.useState(()=>new URLSearchParams(s.search).get("responsableTech")??""),T=(_-1)*N,J=b.useRef(!1);b.useEffect(()=>{if(!J.current){J.current=!0;return}const ne=setTimeout(()=>{h(c.trim()),j(1)},300);return()=>clearTimeout(ne)},[c]),b.useEffect(()=>{const ne=new URLSearchParams,Ue=c.trim();Ue&&ne.set("q",Ue),g&&ne.set("dateFrom",g),v&&ne.set("dateTo",v),A&&ne.set("responsableTech",A),_!==1&&ne.set("page",String(_)),N!==20&&ne.set("pageSize",String(N));const Ve=s.search.startsWith("?")?s.search.slice(1):s.search;ne.toString()!==Ve&&l(ne,{replace:!0})},[g,v,s.search,_,N,A,c,l]);const{data:k,isLoading:O,isError:$,error:U,refetch:Y,isFetching:ie}=Nr({queryKey:["oi","list",{search:m,dateFrom:g,dateTo:v,responsableTech:A,pageSize:N,offset:T}],queryFn:()=>PR({q:m||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0,limit:N,offset:T}),placeholderData:ne=>ne}),Ne=Tn(),xe=ja(Ne?.role,Ne?.username)!=="technician",{data:fe=[],isFetching:ve,isError:Te,error:Oe}=Nr({queryKey:["oi","responsables"],queryFn:KR,enabled:xe,staleTime:6e4,retry:!1}),M=Te?Oe?.message??"No se pudo cargar responsables":"",I=ne=>{if(!ne)return"-";const Ue=ne.endsWith("Z")?ne:`${ne}Z`,Ve=new Date(Ue),it=Jt=>Jt.toString().padStart(2,"0");return`${it(Ve.getDate())}/${it(Ve.getMonth()+1)}/${Ve.getFullYear()} ${it(Ve.getHours())}:${it(Ve.getMinutes())}`},ge=k?.items??[],we=k?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},w=k?.total??0,V=k?.limit??N,oe=V>0?Math.ceil(w/V):1,z=10;let ce=1,he=oe;if(oe>z){const ne=Math.floor(z/2);ce=Math.max(1,_-ne),he=ce+z-1,he>oe&&(he=oe,ce=Math.max(1,he-z+1))}const[Re,qe]=b.useState(!1),[me,ke]=b.useState(null),[Fe,_e]=b.useState(!1),[Me,le]=b.useState(!1),De=O||ie||Fe||Me,de=()=>`${s.pathname}${s.search}`,$e=(ne,Ue)=>{try{ki({id:ne,code:Ue}),e({kind:"success",message:`OI ${Ue} cargada`}),a(`/oi/${ne}?mode=view`,{state:{returnTo:de()}})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo abrir el OI"})}},Ae=(ne,Ue)=>{try{ki({id:ne,code:Ue}),e({kind:"success",message:`OI ${Ue} cargada`}),a(`/oi/${ne}?mode=edit`,{state:{returnTo:de()}})}catch(Ve){e({kind:"error",title:"Error",message:Ve?.message??"No se pudo abrir el OI"})}},Xe=async()=>{try{await Ji()}finally{Nm(),a("/oi?mode=edit",{state:{returnTo:de()}})}},C=async(ne,Ue)=>{if(confirm(`Ests seguro de ELIMINAR la ${Ue}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await ZR(ne),e({kind:"success",title:"Eliminado",message:`Se elimin ${Ue} correctamente.`}),Y()}catch(Ve){e({kind:"error",title:"Error",message:Ve.message||"No se pudo eliminar la OI"})}},Z=ne=>{ke(ne),qe(!0)},R=async ne=>{if(me)try{_e(!0),await b0(me,ne),e({kind:"success",message:"Excel generado"})}catch(Ue){e({kind:"error",title:"Error",message:Ue?.message??"No se pudo generar el Excel"})}finally{_e(!1)}},Q=async()=>{try{le(!0);const{blob:ne,filename:Ue}=await YR({q:m||void 0,dateFrom:g||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0}),Ve=URL.createObjectURL(ne),it=document.createElement("a");it.href=Ve,it.download=Ue,document.body.appendChild(it),it.click(),URL.revokeObjectURL(Ve),it.remove()}catch(ne){const Ue=ne?.status,Ve=ne?.message??"No se pudo exportar el CSV";e(Ue===403?{kind:"error",title:"No autorizado",message:Ve}:{kind:"error",title:"Error",message:Ve})}finally{le(!1)}},G=()=>{d(""),h(""),p(""),x(""),j(1),B("")},se=w===0?0:T+1,Ce=w===0?0:Math.min(T+ge.length,w),Le=w===0?"0 registros":`Mostrando ${se}-${Ce} de ${w} registros`;return o.jsxs("div",{children:[o.jsx(Tl,{show:De}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary",onClick:Xe,disabled:De,title:"Nueva OI",children:"Nueva OI"}),o.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),o.jsxs("div",{className:"d-flex gap-2",children:[xe&&o.jsx("button",{className:"btn btn-outline-secondary",onClick:Q,disabled:De,children:Me?"Exportando...":"Exportar CSV"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:G,disabled:De,children:"Limpiar filtros"}),o.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>Y(),disabled:De,children:"Recargar"})]})]}),$&&o.jsx("div",{className:"alert alert-danger",children:U?.message??"Error cargando listado"}),o.jsxs("div",{className:"card vi-card-table",children:[o.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"h6 mb-0",children:"Registros"}),o.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",we.medidores_resultado," | OI unicas: ",we.oi_unicas," | Medidores (Total OI): ",we.medidores_total_oi_unicas]})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:c,onChange:ne=>{d(ne.target.value),j(1)},"aria-label":"Buscar por codigo de OI o medidor"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:g,onChange:ne=>{p(ne.target.value),j(1)},"aria-label":"Filtrar desde fecha"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:ne=>{x(ne.target.value),j(1)},"aria-label":"Filtrar hasta fecha"}),xe&&o.jsxs("div",{className:"d-flex flex-column",children:[o.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:ne=>{B(ne.target.value),j(1)},disabled:De||ve,"aria-label":"Filtrar por responsable",title:"Responsable",children:[o.jsx("option",{value:"",children:"Responsable: Todos"}),fe.map(ne=>o.jsx("option",{value:String(ne.tech_number),children:ne.full_name},ne.tech_number))]}),M?o.jsx("small",{className:"text-danger",children:M}):null]}),o.jsxs("div",{className:"d-flex align-items-center",children:[o.jsx("span",{className:"me-1 small",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:N,onChange:ne=>{const Ue=Number(ne.target.value)||20;q(Ue),j(1)},"aria-label":"Registros por pgina",children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"})]})]})]})]}),o.jsxs("div",{className:"card-body p-0",children:[o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ID"}),o.jsx("th",{children:"OI"}),o.jsx("th",{children:"Medidores"}),o.jsx("th",{children:"Q3"}),o.jsx("th",{children:"Alcance"}),o.jsx("th",{children:"PMA"}),o.jsx("th",{children:"Banco"}),o.jsx("th",{children:"Tcnico"}),o.jsx("th",{children:"Responsable"}),o.jsx("th",{children:"Creacin"}),o.jsx("th",{children:"Guardado"}),o.jsx("th",{children:"lt. mod."}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[!De&&ge.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:w>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),ge.map(ne=>o.jsxs("tr",{children:[o.jsx("td",{children:ne.id}),o.jsx("td",{children:ne.code}),o.jsx("td",{title:"Mi registro / Total OI",children:`${ne.medidores_usuario??0} / ${ne.medidores_total_code??0}`}),o.jsx("td",{children:ne.q3}),o.jsx("td",{children:ne.alcance}),o.jsx("td",{children:ne.pma}),o.jsx("td",{children:ne.banco_id}),o.jsx("td",{children:ne.tech_number}),o.jsx("td",{children:ne.creator_name}),o.jsx("td",{children:I(ne.created_at)}),o.jsx("td",{children:I(ne.saved_at)}),o.jsx("td",{children:I(ne.updated_at)}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>$e(ne.id,ne.code),disabled:De,title:"Ver OI","aria-label":`Ver OI ${ne.code}`,children:"Ver"}),o.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>Ae(ne.id,ne.code),disabled:De,title:"Editar OI","aria-label":`Editar OI ${ne.code}`,children:"Editar"}),o.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>Z(ne.id),disabled:De,title:"Descargar Excel","aria-label":`Descargar Excel ${ne.code}`,children:"Excel"}),xe&&o.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>C(ne.id,ne.code),disabled:De,title:"Eliminar OI (Solo Admin)",children:""})]})]},ne.id))]})]})}),oe>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${_===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(ne=>Math.max(1,ne-1)),disabled:_===1,children:""})}),Array.from({length:he-ce+1},(ne,Ue)=>{const Ve=ce+Ue;return o.jsx("li",{className:`page-item ${Ve===_?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(Ve),children:Ve})},Ve)}),o.jsx("li",{className:`page-item ${_===oe?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>j(ne=>Math.min(oe,ne+1)),disabled:_===oe,children:"Siguiente"})})]})})]})]}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:Le})}),o.jsx(ou,{show:Re,title:"Contrasea para proteger Excel",onClose:()=>{qe(!1),ke(null)},onConfirm:ne=>{qe(!1),R(ne)}})]})}async function gT(e){return(await Ge.get("/auth/users/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}function yT(){const{toast:e}=Ar(),a=Tn(),s=ja(a?.role,a?.username),l=s==="admin"||s==="administrator",c=Ym(a),[d,m]=b.useState(!1),[h,g]=b.useState(null),[p,v]=b.useState(!1),[x,N]=b.useState(""),[q,_]=b.useState(""),[j,A]=b.useState(""),[B,T]=b.useState(20),[J,k]=b.useState(1),O=(J-1)*B,$=b.useRef(!1);b.useEffect(()=>{if(!$.current){$.current=!0;return}const Ae=setTimeout(()=>{_(x.trim()),k(1)},250);return()=>clearTimeout(Ae)},[x]);const{data:U,refetch:Y,isLoading:ie,isFetching:Ne,error:xe}=Nr({queryKey:["users",{search:q,roleFilter:j,pageSize:B,offset:O}],queryFn:()=>gT({q:q||void 0,role:j||void 0,limit:B,offset:O}),enabled:l,placeholderData:Ae=>Ae}),{register:fe,handleSubmit:ve,reset:Te}=Gc(),Oe=()=>{g(null),Te({username:"",password:"",first_name:"",last_name:"",role:"technician",tech_number:0}),m(!0)},M=Ae=>{g(Ae),Te({username:Ae.username,password:"",first_name:Ae.first_name,last_name:Ae.last_name,role:ja(Ae.role,Ae.username),tech_number:Ae.tech_number}),m(!0)},I=()=>{m(!1),g(null),Te()},W=async Ae=>{try{v(!0),await Ge.post("/auth/users",{...Ae,tech_number:Number(Ae.tech_number)}),e({kind:"success",message:"Usuario creado correctamente"}),I(),Y()}catch(Xe){e({kind:"error",title:"Error",message:Xe.response?.data?.detail||"Error al crear"})}finally{v(!1)}},ge=async Ae=>{if(!h)return;const Xe=String(Ae.password||"").trim();try{if(v(!0),c){const C={username:String(Ae.username||"").trim(),first_name:String(Ae.first_name||"").trim(),last_name:String(Ae.last_name||"").trim(),role:Ae.role,tech_number:Number(Ae.tech_number)};Xe&&(C.password=Xe),await Ge.put(`/auth/users/${h.id}`,C),e({kind:"success",message:"Usuario actualizado correctamente"})}else{if(!Xe){e({kind:"error",message:"Debe ingresar una nueva contrasea"});return}await Ge.put(`/auth/users/${h.id}/password`,{new_password:Xe}),e({kind:"success",message:`Contrasea de ${h.username} actualizada`})}I(),Y()}catch(C){const Z=C?.response?.data?.detail||C?.message||"Error actualizando usuario";e({kind:"error",title:"Error",message:Z})}finally{v(!1)}},we=async Ae=>{if(confirm(`Eliminar usuario? ${Ae.username}?
Esto solo es posible si no tiene registros.`))try{v(!0),await Ge.delete(`/auth/users/${Ae.id}`),e({kind:"success",message:"Usuario eliminado"}),Y()}catch(Xe){e({kind:"error",title:"No se puede eliminar",message:Xe.response?.data?.detail||Xe.message})}finally{v(!1)}},w=b.useMemo(()=>U?.items??[],[U]),V=U?.total??0,oe=U?.limit??B,z=oe>0?Math.ceil(V/oe):1,ce=10;let he=1,Re=z;if(z>ce){const Ae=Math.floor(ce/2);he=Math.max(1,J-Ae),Re=he+ce-1,Re>z&&(Re=z,he=Math.max(1,Re-ce+1))}const qe=V===0?0:O+1,me=V===0?0:Math.min(O+w.length,V),ke=V===0?"0 registros":`Mostrando ${qe}-${me} de ${V} registros`,Fe=ie||Ne||p,_e=()=>{N(""),_(""),A(""),k(1),T(20)},Me=!!h,le=Me&&!c,De=!Me||!c,de=(h?.username??"").toLowerCase()==="admin",$e=Me?c?"Dejar en blanco para mantener la actual.":"Ingrese una nueva contrasea.":void 0;return l?o.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[o.jsx(Tl,{show:Fe}),o.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[o.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),o.jsx("button",{className:"btn btn-primary",onClick:Oe,disabled:Fe,children:"+ Nuevo Usuario"})]}),o.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[o.jsxs("div",{style:{minWidth:260},children:[o.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario o rol...",value:x,onChange:Ae=>{N(Ae.target.value),k(1)}})]}),o.jsxs("div",{style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Rol"}),o.jsxs("select",{className:"form-select form-select-sm",value:j,onChange:Ae=>{A(Ae.target.value),k(1)},children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"admin"}),o.jsx("option",{value:"administrator",children:"administrator"}),o.jsx("option",{value:"technician",children:"technician"}),o.jsx("option",{value:"standard",children:"standard"}),o.jsx("option",{value:"user",children:"user (legacy)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:B,onChange:Ae=>{const Xe=Number(Ae.target.value)||20;T(Xe),k(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:_e,disabled:Fe,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>Y(),disabled:Fe,children:"Recargar"})]})]}),xe?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):null,o.jsx("div",{className:"card shadow-sm",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-hover align-middle mb-0",children:[o.jsx("thead",{className:"table-light",children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Nombre"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{children:"N Tcnico"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[w.map(Ae=>o.jsxs("tr",{children:[o.jsx("td",{className:"fw-bold",children:Ae.username}),o.jsxs("td",{children:[Ae.first_name," ",Ae.last_name]}),o.jsx("td",{children:(()=>{const Xe=ja(Ae.role,Ae.username),C=Ae.username.toLowerCase()==="admin"?"Superusuario":Xe==="administrator"?"Administrador":Xe==="technician"?"Tcnico":"Estndar",Z=Ae.username.toLowerCase()==="admin"?"bg-danger":Xe==="administrator"?"bg-warning text-dark":Xe==="technician"?"bg-info text-dark":"bg-secondary";return o.jsx("span",{className:`badge ${Z}`,children:C})})()}),o.jsx("td",{children:Ae.tech_number}),o.jsxs("td",{className:"text-end",children:[o.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Actualizar usuario","aria-label":`Actualizar ${Ae.username}`,disabled:Fe||Ae.username==="admin"||!c&&ja(Ae.role,Ae.username)==="administrator",onClick:()=>M(Ae),children:o.jsx("i",{className:"ti ti-edit"})}),o.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${Ae.username}`,disabled:Fe||Ae.username==="admin"||!c&&ja(Ae.role,Ae.username)==="administrator",onClick:()=>we(Ae),children:o.jsx("i",{className:"ti ti-trash"})})]})]},Ae.id)),w.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),z>1&&o.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${J===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(Ae=>Math.max(1,Ae-1)),disabled:J===1,children:"Anterior"})}),Array.from({length:Re-he+1},(Ae,Xe)=>{const C=he+Xe;return o.jsx("li",{className:`page-item ${C===J?"active":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(C),children:C})},C)}),o.jsx("li",{className:`page-item ${J===z?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>k(Ae=>Math.min(z,Ae+1)),disabled:J===z,children:"Siguiente"})})]})}),o.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:o.jsx("small",{className:"text-muted",children:ke})}),d&&o.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("form",{className:"modal-content",onSubmit:ve(Me?ge:W),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:Me?"Actualizar Usuario":"Nuevo Usuario"}),o.jsx("button",{type:"button",className:"btn-close",onClick:I})]}),o.jsxs("div",{className:"modal-body row g-3",children:[o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Usuario"}),o.jsx("input",{className:"form-control",disabled:le,...fe("username",{required:!0})})]}),o.jsx("div",{className:"col-6",children:o.jsx(Ii,{label:"Contrasea",...fe("password",{required:De}),autoComplete:"new-password",helpText:$e})}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Nombre"}),o.jsx("input",{className:"form-control",disabled:le,...fe("first_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Apellido"}),o.jsx("input",{className:"form-control",disabled:le,...fe("last_name",{required:!0})})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"Rol"}),o.jsxs("select",{className:"form-select",disabled:le,...fe("role"),children:[de?o.jsx("option",{value:"admin",children:"Superusuario"}):null,o.jsx("option",{value:"technician",children:"Tecnico"}),o.jsx("option",{value:"standard",children:"Estandar"}),c?o.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),o.jsxs("div",{className:"col-6",children:[o.jsx("label",{className:"form-label",children:"N Tecnico"}),o.jsx("input",{type:"number",className:"form-control",disabled:le,...fe("tech_number",{required:!0})}),o.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estandar)"})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:I,disabled:Fe,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Fe,children:Me?"Actualizar":"Guardar"})]})]})})})]}):o.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function bT(){const{toast:e}=Ar(),[a,s]=b.useState(""),[l,c]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,g=async p=>{if(p.preventDefault(),!!h)try{m(!0),await mE(a.trim(),l.trim()),e({kind:"success",message:"Contrasea actualizada"}),s(""),c("")}catch(v){e({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return o.jsx("div",{className:"container py-4",children:o.jsx("div",{className:"row justify-content-center",children:o.jsx("div",{className:"col-md-6",children:o.jsxs("div",{className:"card shadow-sm",children:[o.jsx("div",{className:"card-header",children:o.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),o.jsxs("form",{onSubmit:g,children:[o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"mb-3",children:o.jsx(Ii,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>s(p.target.value),required:!0,autoComplete:"current-password"})}),o.jsx("div",{className:"mb-3",children:o.jsx(Ii,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>c(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),o.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{s(""),c("")},disabled:d,children:"Limpiar"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function vT(e){return(await Ge.get("/admin/permisos/paged",{params:{q:e.q||void 0,role:e.role||void 0,limit:e.limit,offset:e.offset}})).data}async function xT(e,a){const{data:s}=await Ge.put(`/admin/permisos/${e}`,{allowedModules:a});return s}const wm=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_historial_ac",label:"Historial A-C",path:"/oi/tools/formato-ac/history"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"logistica",label:"Logstica",path:"/logistica/log01/excel"},{id:"logistica_history",label:"Historial de consolidaciones",path:"/logistica/log01/history"},{id:"logistica_pdfs",label:"Filtrado de Cert.PDFs",path:"/logistica/log02/pdfs"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}],gv=[{id:"oi",label:"OI",moduleIds:["oi_formulario","oi_listado","tools_vima_lista","tools_actualizacion_bases","tools_historial_ac","tools_consol_correlativo","tools_consol_no_correlativo","future_ot"]},{id:"logistica",label:"Logstica",moduleIds:["logistica","logistica_history","logistica_pdfs"]},{id:"smart",label:"Smart (FUTURO)",moduleIds:["future_smart"]},{id:"usuarios",label:"Usuarios",moduleIds:["users_admin"]},{id:"administrar",label:"Administrar",moduleIds:["admin_permisos"]}];function yv(e){const a=new Set(wm.map(c=>c.id)),s=new Set,l=[];for(const c of e){const d=c==="future_logistica"?"logistica":c;!a.has(d)||s.has(d)||(s.add(d),l.push(d))}return l}const bv="admin_permisos:collapsed_groups";function ST(){const e=Um(),{toast:a}=Ar(),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState(20),[v,x]=b.useState(1),N=(v-1)*g,q=b.useRef(!1);b.useEffect(()=>{if(!q.current){q.current=!0;return}const z=setTimeout(()=>{d(s.trim()),x(1)},250);return()=>clearTimeout(z)},[s]);const{data:_,isLoading:j,error:A,refetch:B}=Nr({queryKey:["admin","permisos",{search:c,roleFilter:m,pageSize:g,offset:N}],queryFn:()=>vT({q:c||void 0,role:m||void 0,limit:g,offset:N}),placeholderData:z=>z}),[T,J]=b.useState(null),[k,O]=b.useState([]),$=(T?.username??"").toLowerCase()==="admin",[U,Y]=b.useState(()=>{const z=Object.fromEntries(gv.map(ce=>[ce.id,!0]));try{const ce=localStorage.getItem(bv);if(!ce)return z;const he=JSON.parse(ce);return!he||typeof he!="object"?z:{...z,...he}}catch{return z}}),ie=(z,ce)=>{Y(he=>{const Re={...he,[z]:ce};try{localStorage.setItem(bv,JSON.stringify(Re))}catch{}return Re})},Ne=z=>{J(z),O(yv(z.allowedModules??[]))},xe=()=>{J(null),O([])},fe=Z_({mutationFn:async z=>xT(z.userId,z.allowedModules),onSuccess:async()=>{await e.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),xe()},onError:z=>{const ce=z?.response?.data?.detail??z?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(ce)})}}),ve=b.useMemo(()=>_?.items??[],[_]),Te=_?.total??0,Oe=_?.limit??g,M=Oe>0?Math.ceil(Te/Oe):1,I=Te===0?0:N+1,W=Te===0?0:Math.min(N+ve.length,Te),ge=Te===0?"0 registros":`Mostrando ${I}-${W} de ${Te} registros`,we=z=>{O(ce=>{const he=new Set(ce);return he.has(z)?he.delete(z):he.add(z),Array.from(he)})},w=z=>{O(ce=>{const he=new Set(ce),Re=z.moduleIds.filter(me=>wm.some(ke=>ke.id===me));if(Re.length>0&&Re.every(me=>he.has(me)))for(const me of Re)he.delete(me);else for(const me of Re)he.add(me);return Array.from(he)})},V=()=>{T&&fe.mutate({userId:T.id,allowedModules:yv(k)})},oe=()=>{l(""),d(""),h(""),x(1),p(20)};return o.jsxs("div",{className:"container-fluid",children:[o.jsx(Tl,{show:fe.isPending,label:"Guardando permisos..."}),o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),o.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),o.jsxs("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[o.jsxs("div",{style:{minWidth:260},children:[o.jsx("label",{className:"form-label small mb-1",children:"Buscar"}),o.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Usuario, nombre o rol...",value:s,onChange:z=>{l(z.target.value),x(1)}})]}),o.jsxs("div",{style:{minWidth:220},children:[o.jsx("label",{className:"form-label small mb-1",children:"Rol"}),o.jsxs("select",{className:"form-select form-select-sm",value:m,onChange:z=>{h(z.target.value),x(1)},children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"admin"}),o.jsx("option",{value:"administrator",children:"administrator"}),o.jsx("option",{value:"technician",children:"technician"}),o.jsx("option",{value:"standard",children:"standard"}),o.jsx("option",{value:"user",children:"user (legacy)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label small mb-1",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:g,onChange:z=>{const ce=Number(z.target.value)||20;p(ce),x(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:oe,disabled:j||fe.isPending,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>B(),disabled:j||fe.isPending,children:"Recargar"})]})]}),j?o.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):A?o.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm align-middle",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Usuario"}),o.jsx("th",{children:"Rol"}),o.jsx("th",{className:"text-end",children:"Acciones"})]})}),o.jsxs("tbody",{children:[ve.map(z=>o.jsxs("tr",{children:[o.jsx("td",{children:z.username}),o.jsx("td",{children:z.role}),o.jsx("td",{className:"text-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>Ne(z),disabled:(z.username??"").toLowerCase()==="admin",children:"Editar"})})]},z.id)),ve.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})}),o.jsx("div",{className:"d-flex justify-content-end mt-2",children:o.jsx("small",{className:"text-muted",children:ge})}),M>1&&o.jsx("nav",{className:"mt-2 d-flex justify-content-center",children:o.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[o.jsx("li",{className:`page-item ${v===1?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(z=>Math.max(1,z-1)),disabled:v===1,children:""})}),o.jsx("li",{className:"page-item disabled",children:o.jsxs("span",{className:"page-link",children:["Pgina ",v," / ",M]})}),o.jsx("li",{className:`page-item ${v===M?"disabled":""}`,children:o.jsx("button",{className:"page-link",onClick:()=>x(z=>Math.min(M,z+1)),disabled:v===M,children:"Siguiente"})})]})})]})})}),T&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:z=>{z.target===z.currentTarget&&xe()},children:o.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",T.username]}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:xe})]}),o.jsxs("div",{className:"modal-body",children:[$?o.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",o.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,gv.map(z=>{const ce=z.moduleIds.map(ke=>wm.find(Fe=>Fe.id===ke)).filter(Boolean),he=ce.filter(ke=>k.includes(ke.id)).length,Re=ce.length>0&&he===ce.length,qe=he>0&&!Re,me=!!U[z.id];return o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[o.jsxs("div",{className:"form-check mb-0",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`grp-${T.id}-${z.id}`,checked:Re,ref:ke=>{ke&&(ke.indeterminate=qe)},onChange:()=>w(z),disabled:fe.isPending||$}),o.jsxs("label",{className:"form-check-label fw-semibold",htmlFor:`grp-${T.id}-${z.id}`,children:[z.label,o.jsxs("span",{className:"text-muted ms-2 small",children:["(",he,"/",ce.length,")"]})]})]}),o.jsx("div",{className:"btn-group btn-group-sm",role:"group","aria-label":`Acciones ${z.label}`,children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>ie(z.id,!me),disabled:fe.isPending,children:me?"Expandir":"Contraer"})})]}),!me&&o.jsx("div",{className:"mt-2 ms-4 ps-3 border-start border-2 border-light",children:o.jsx("div",{className:"row",children:ce.map(ke=>o.jsx("div",{className:"col-md-6 mb-2",children:o.jsxs("div",{className:"form-check",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${T.id}-${ke.id}`,checked:k.includes(ke.id),onChange:()=>we(ke.id),disabled:fe.isPending||$}),o.jsxs("label",{className:"form-check-label",htmlFor:`perm-${T.id}-${ke.id}`,children:[ke.label," ",o.jsxs("span",{className:"text-muted",children:["(",ke.path,")"]})]})]})},ke.id))})})]},z.id)}),o.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:xe,disabled:fe.isPending,children:"Cancelar"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:V,disabled:fe.isPending||$,children:"Guardar"})]})]})})})]})}function NT(e){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function wT(e,a){return Ge.post("/integrations/vima-to-lista/dry-run-upload",e,{signal:a})}async function _T(e,a){return Ge.post("/integrations/vima-to-lista/upload",e,{responseType:"blob",signal:a})}async function vv(e,a,s){const l=NT(`/integrations/vima-to-lista/progress/${e}`),c=Tn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let g="";for(;;){const{value:p,done:v}=await m.read();if(v)break;g+=h.decode(p,{stream:!0});let x;for(;(x=g.indexOf(`
`))>=0;){const N=g.slice(0,x).trim();if(g=g.slice(x+1),!!N)try{a(JSON.parse(N))}catch{}}}}function S0(e){return`${e.name}::${e.size}::${e.lastModified}`}function jT(e){return e.normalize("NFKC").trim().replace(/\s+/g,"").toLowerCase()}function Fc(e){return jT(e.name)}function ET(e){if(!e)return null;const a=e.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function sh(e,a){const s=ET(a);if(!s)return e;const l=s.filter(c=>c.startsWith("."));return l.length===0?e:e.filter(c=>l.some(d=>c.name.toLowerCase().endsWith(d)))}function AT(e,a){if(a.length===0)return{merged:e,added:[],duplicates:[]};const s=[...e],l=[],c=[],d=new Set(e.map(Fc));for(const m of a){const h=Fc(m);if(d.has(h)){c.push(m);continue}d.add(h),s.push(m),l.push(m)}return{merged:s,added:l,duplicates:c}}function Hi({label:e,accept:a,disabled:s=!1,file:l,onChange:c}){const d=b.useRef(null),m=b.useRef(0),[h,g]=b.useState(!1),p=()=>{s||d.current?.click()},v=()=>{s||(d.current&&(d.current.value=""),c(null))},x=A=>{c(A.target.files?.[0]??null),A.currentTarget.value=""},N=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current+=1,g(!0))},q=A=>{A.preventDefault(),A.stopPropagation()},_=A=>{A.preventDefault(),A.stopPropagation(),!s&&(m.current=Math.max(0,m.current-1),m.current===0&&g(!1))},j=A=>{if(A.preventDefault(),A.stopPropagation(),m.current=0,g(!1),s)return;const B=A.dataTransfer?.files?Array.from(A.dataTransfer.files):[],J=sh(B,a)[0]??null;J&&(d.current&&(d.current.value=""),c(J))};return o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:x,disabled:s}),o.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:N,onDragOver:q,onDragLeave:_,onDrop:j,"aria-disabled":s?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:s,children:"Examinar"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:s||!l,children:"Eliminar"}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const CT={status:"estado",progress:"progreso",complete:"completado",error:"error"},OT={file:"archivo",file_done:"archivo procesado",file_error:"archoivo con error",render:"generando",failed:"fallido",received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},RT=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function N0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function wl(e){if(!e)return"";const a=e.toLowerCase();return N0(CT[a]??e)}function eo(e){if(!e)return"";const a=e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),s=e.trim().replace(/[_-]+/g," ");return N0(OT[a]??Dl(s))}function Dl(e){if(!e)return"";let a=e;for(const[s,l]of RT)a=a.replace(s,l);return a}function TT(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function DT(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}function zT(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState(""),[m,h]=b.useState(11),[g,p]=b.useState(11),[v,x]=b.useState(!0),[N,q]=b.useState(!0),[_,j]=b.useState(!0),[A,B]=b.useState(!0),[T,J]=b.useState(!1),[k,O]=b.useState(""),[$,U]=b.useState(null),[Y,ie]=b.useState(null),[Ne,xe]=b.useState(null),[fe,ve]=b.useState([]),[Te,Oe]=b.useState(""),M=b.useRef(null),I=b.useRef(null),[W,ge]=b.useState(!1),[we,w]=b.useState(!1),[V,oe]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),z=b.useMemo(()=>!!e&&!!s&&!$,[e,s,$]);function ce(le){ve(de=>[le,...de].slice(0,200));const De=typeof le.percent=="number"?le.percent:typeof le.progress=="number"?le.progress:null;De!=null&&Number.isFinite(De)&&xe(Math.max(0,Math.min(100,De)))}function he(){M.current?.abort(),M.current=null}function Re(){$&&he()}function qe(le,De){if(!e||!s)throw new Error("Faltan archivos");const de=new FormData;de.append("vima_file",e),de.append("lista_file",s);const $e=(De??c).trim();return $e&&de.append("vima_password",$e),de.append("vima_start_row",String(m)),de.append("lista_start_row",String(g)),de.append("require_all_g_to_n",v?"true":"false"),de.append("incremental",N?"true":"false"),de.append("strict_incremental",_?"true":"false"),de.append("replicate_merges",A?"true":"false"),de.append("update_existing_periodo",T?"true":"false"),k.trim()&&de.append("oi_pattern",k.trim()),de.append("operation_id",le),de}function me(){I.current=null,w(!1)}function ke(le,De){I.current=le,oe(De),w(!0)}function Fe(le,De){if(!dt.isAxiosError(le)){Oe(String(le));return}const de=le;if(de.code==="ERR_CANCELED")return;const $e=de.response?.headers?.["x-code"],Ae=de.response?.data?.detail??de.message;if($e==="PASSWORD_REQUIRED"){Oe(""),ke(De,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if($e==="WRONG_PASSWORD"){Oe(""),ke(De,"Contrasea incorrecta. Intenta nuevamente.");return}Oe(String(Ae))}async function _e(le){Oe(""),ie(null),ve([]),xe(0);const De=crypto.randomUUID();M.current=new AbortController,vv(De,ce,M.current.signal).catch(()=>{}),U("dry");try{const de=qe(De,le?.passwordOverride),$e=await wT(de,M.current.signal);ie($e.data)}catch(de){Fe(de,"dry")}finally{he(),U(null)}}async function Me(le){Oe(""),ve([]),xe(0);const De=crypto.randomUUID();M.current=new AbortController,vv(De,ce,M.current.signal).catch(()=>{}),U("upload");try{const de=qe(De,le?.passwordOverride),$e=await _T(de,M.current.signal),Ae=$e.headers?.["content-disposition"],Xe=TT(Ae)??"LISTA_SALIDA.xlsx";DT($e.data,Xe)}catch(de){Fe(de,"upload")}finally{he(),U(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row gap-20",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),o.jsx("div",{className:"mB-15",children:o.jsx(Hi,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:e,onChange:a,disabled:!!$})}),o.jsx("div",{className:"mB-15",children:o.jsx(Hi,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:s,onChange:l,disabled:!!$})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:le=>d(le.target.value),placeholder:"(opcional)"})]}),W?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),o.jsx("input",{className:"form-control",type:"number",value:m,onChange:le=>h(Number(le.target.value))})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),o.jsx("input",{className:"form-control",type:"number",value:g,onChange:le=>p(Number(le.target.value))})]})]}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),o.jsx("input",{className:"form-control",value:k,onChange:le=>O(le.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),o.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),o.jsxs("div",{className:"row mT-10",children:[o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:le=>x(le.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:A,onChange:le=>B(le.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:N,onChange:le=>q(le.target.checked)}),o.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:_,onChange:le=>j(le.target.checked),disabled:!N}),o.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})}),o.jsx("div",{className:"col-md-6 mB-10",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"updateExistingPeriodo",checked:T,onChange:le=>J(le.target.checked),disabled:!N}),o.jsx("label",{className:"form-check-label",htmlFor:"updateExistingPeriodo",children:"Actualizar periodo en OIs existentes"})]})})]})]}):null,Te&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Te}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>ge(le=>!le),disabled:!!$,children:W?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary",disabled:!z,onClick:()=>void Me(),children:$==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!$,onClick:Re,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!z,onClick:()=>void _e(),children:$==="dry"?"Analizando...":"Analizar"})]}),Y&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h5",{className:"c-grey-900",children:"Resumen"}),o.jsxs("ul",{className:"mB-0",children:[o.jsxs("li",{children:["Filas a copiar: ",o.jsx("b",{children:Y.would_copy})]}),o.jsxs("li",{children:["Fila inicio escritura (LISTA): ",o.jsx("b",{children:Y.start_write_row})]}),o.jsxs("li",{children:["ltimo OI en LISTA: ",o.jsx("b",{children:String(Y.last_oi_in_lista??"-")})]}),o.jsxs("li",{children:["Primer OI a copiar: ",o.jsx("b",{children:String(Y.first_oi_to_copy??"-")})]}),o.jsxs("li",{children:["ltimo OI a copiar: ",o.jsx("b",{children:String(Y.last_oi_to_copy??"-")})]})]})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),$?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Ne??0}%`},"aria-valuenow":Ne??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:fe.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:fe.map((le,De)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:wl(le.type)})," ",le.stage?o.jsxs("span",{className:"text-muted",children:["[",eo(le.stage),"]"]}):null,typeof le.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",le.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Dl(le.message??le.detail??"")}),le.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",le.code]}):null]},De))})})]})})]}),o.jsx(ou,{show:we,title:"Archivo protegido",confirmLabel:"Continuar",helpText:V,onClose:me,onConfirm:le=>{d(le),w(!1);const De=I.current;I.current=null,De&&(De==="dry"?_e({passwordOverride:le}):Me({passwordOverride:le}))}})]})}const MT=(...e)=>{};function cu(e){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${e.startsWith("/")?"":"/"}${e}`}async function w0(e,a){if(!e.body)return;const s=e.body.getReader(),l=new TextDecoder("utf-8");let c="";for(;;){const{value:d,done:m}=await s.read();if(m)break;c+=l.decode(d,{stream:!0});let h;for(;(h=c.indexOf(`
`))>=0;){const g=c.slice(0,h).trim();if(c=c.slice(h+1),!!g)try{a(JSON.parse(g))}catch{}}}}function xl(e,a,s){const l=new Error(e);return a!=null&&(l.status=a),s&&(l.code=s),l}async function rh(e,a,s){const l=cu(`/integrations/vima-to-lista/progress/${e}`),c=Tn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw xl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await w0(d,a)}async function kT(e,a,s){const l=cu(`/logistica/log01/progress/${e}`),c=Tn()?.token,d=await fetch(l,{method:"GET",headers:{...c?{Authorization:`Bearer ${c}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:s});if(!d.ok){const x=d.headers.get("X-Code")??void 0;throw xl(`No se pudo abrir el stream (${d.status})`,d.status,x)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw xl("Stream no es NDJSON",d.status);if(!d.body)throw xl("Stream sin body",d.status);const h=d.body.getReader(),g=new TextDecoder("utf-8");let p="",v=!1;for(;;){const{value:x,done:N}=await h.read();if(N)break;!v&&x&&x.length&&(v=!0),p+=g.decode(x,{stream:!0});let q;for(;(q=p.indexOf(`
`))>=0;){const _=p.slice(0,q).trim();if(p=p.slice(q+1),!!_)try{const j=JSON.parse(_);MT("[LOG01] progress event =",j),a(j)}catch{}}}}async function UT(e,a,s){const l=cu("/bases/actualizar/dry-run-upload"),c=Tn()?.token,d=await fetch(l,{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:void 0,body:e,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const g=await d.json();g?.detail&&(h=String(g.detail))}catch{}throw xl(h,d.status,m)}await w0(d,a)}async function LT(e,a){return Ge.post("/bases/actualizar/upload",e,{responseType:"blob",signal:a})}async function BT(e,a){return Ge.post("/logistica/log01/start",e,{signal:a})}async function qT(e,a,s){const l=cu(`/logistica/log01/poll/${e}?cursor=${encodeURIComponent(a)}`),c=Tn()?.token,d=await fetch(l,{method:"GET",headers:c?{Authorization:`Bearer ${c}`}:void 0,signal:s});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw xl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function IT(e,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(e)}`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function FT(e){await Ge.post(`/logistica/log01/cancel/${encodeURIComponent(e)}`)}async function $T(e={}){const{limit:a=20,offset:s=0,include_deleted:l=!1,q:c,dateFrom:d,dateTo:m,source:h,status:g}=e,p={limit:a,offset:s,include_deleted:l};c&&c.trim()&&(p.q=c.trim()),d&&d.trim()&&(p.dateFrom=d.trim()),m&&m.trim()&&(p.dateTo=m.trim()),h&&h.trim()&&(p.source=h.trim()),g&&g.trim()&&(p.status=g.trim());const{data:v}=await Ge.get("/logistica/log01/history",{params:p});return v}async function HT(e,a,s){return Ge.get(`/logistica/log01/history/${encodeURIComponent(String(e))}/artifact/${encodeURIComponent(a)}`,{responseType:"blob",signal:s,validateStatus:l=>l===200})}async function VT(e,a){await Ge.delete(`/logistica/log01/history/${encodeURIComponent(String(e))}`,{data:void 0})}async function ZT(){return(await Ge.get("/logistica/log02/explorador/roots")).data}async function GT(e){return(await Ge.get("/logistica/log02/explorador/listar",{params:{path:e}})).data}async function QT(e){return(await Ge.post("/logistica/log02/validar-rutas-unc",e)).data}async function PT(e={}){const{limit:a=20,offset:s=0,q:l,dateFrom:c,dateTo:d,origin:m}=e,h={limit:a,offset:s};l&&l.trim()&&(h.q=l.trim()),c&&c.trim()&&(h.dateFrom=c.trim()),d&&d.trim()&&(h.dateTo=d.trim()),m&&m.trim()&&(h.origin=m.trim());const{data:g}=await Ge.get("/oi/tools/formato-ac/history",{params:h});return g}async function YT(e,a){return Ge.get(`/oi/tools/formato-ac/history/${encodeURIComponent(String(e))}/artifact`,{responseType:"blob",signal:a,validateStatus:s=>s===200})}async function _0(){const{data:e}=await Ge.get("/merge/config/upload-limits");return e}async function j0(e,a,s){return Ge.post(`/merge/?mode=${encodeURIComponent(a)}`,e,{responseType:"blob",signal:s})}async function E0(e){await Ge.post(`/merge/cancel/${encodeURIComponent(e)}`)}async function KT(e){const{data:a}=await Ge.post("/tools/files/upload",e);return a}async function XT(e){const{data:a}=await Ge.post("/tools/excel/inspect",e);return a}async function JT(e){const{data:a}=await Ge.post("/tools/excel/update",e);return a}async function WT(e){const{data:a}=await Ge.post("/tools/excel/change-password",e);return a}async function e2(e){const{data:a}=await Ge.post("/tools/excel/validate",e);return a}function t2({show:e,disabled:a=!1,title:s,accept:l,files:c,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:g}){const p=b.useRef(null),v=b.useRef(0),[x,N]=b.useState(!1),[q,_]=b.useState("");b.useEffect(()=>{if(!e)return;const U=Y=>{Y.key==="Escape"&&d()};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[e,d]),b.useEffect(()=>{e||N(!1)},[e]),b.useEffect(()=>{e&&_("")},[e]);const j=b.useCallback(U=>{const Y=sh(U,l);if(Y.length===0)return;const ie=new Set(c.map(Fc)),Ne=new Set(ie),xe=[],fe=[];for(const ve of Y){const Te=Fc(ve);if(Ne.has(Te)){fe.push(ve);continue}Ne.add(Te),xe.push(ve)}if(fe.length>0){const ve=Array.from(new Set(fe.map(Oe=>Oe.name))),Te=fe.length;if(ve.length===1){const Oe=Te===1?"Se omiti 1 archivo duplicado":`Se omitieron ${Te} archivos duplicados`;_(`${Oe}: "${ve[0]}".`)}else _(`Se omitieron ${Te} archivos duplicados: ${ve.join(", ")}.`)}xe.length>0&&m(xe)},[l,c,m]);if(b.useEffect(()=>{if(!e)return;const U=ie=>{ie.preventDefault(),ie.stopPropagation()},Y=ie=>{if(ie.preventDefault(),ie.stopPropagation(),a)return;const Ne=ie.dataTransfer?.files?Array.from(ie.dataTransfer.files):[];j(Ne)};return window.addEventListener("dragover",U,!0),window.addEventListener("drop",Y,!0),()=>{window.removeEventListener("dragover",U,!0),window.removeEventListener("drop",Y,!0)}},[e,a,j]),!e)return null;const A=()=>{a||p.current?.click()},B=U=>{const Y=U.target.files?Array.from(U.target.files):[];j(Y),U.currentTarget.value=""},T=()=>{a||(p.current&&(p.current.value=""),g())},J=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current+=1,N(!0))},k=U=>{U.preventDefault(),U.stopPropagation()},O=U=>{U.preventDefault(),U.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&N(!1))},$=U=>{if(U.preventDefault(),U.stopPropagation(),v.current=0,N(!1),a)return;const Y=U.dataTransfer?.files?Array.from(U.dataTransfer.files):[];j(Y)};return o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:U=>{U.target===U.currentTarget&&d()},children:o.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:s}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:B,disabled:a}),q?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[o.jsx("div",{children:q}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>_("")})]}):null,o.jsxs("div",{className:`vi-dropzone${x?" is-dragover":""}`,onDragEnter:J,onDragOver:k,onDragLeave:O,onDrop:$,"aria-disabled":a?"true":"false",children:[o.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",o.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:A,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?o.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[o.jsx("div",{className:"text-muted",children:c.length===0?"No se han seleccionado archivos.":c.length===1?"1 archivo seleccionado":`${c.length} archivos seleccionados`}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:A,disabled:a,children:"Agregar ms"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:T,disabled:a||c.length===0,children:"Eliminar todos"})]})]}),c.length===0?null:o.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:o.jsx("ul",{className:"list-group",children:c.map(U=>{const Y=S0(U);return o.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[o.jsx("div",{className:"text-truncate",style:{minWidth:0},children:U.name}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(Y),disabled:a,children:"Eliminar"})]},Y)})})})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function n2(e){if(e.length===0)return"";const a=Array.from(new Set(e.map(l=>l.name))),s=e.length;return a.length===1?`${s===1?"Se omiti 1 archivo duplicado":`Se omitieron ${s} archivos duplicados`}: "${a[0]}".`:`Se omitieron ${s} archivos duplicados: ${a.join(", ")}.`}function uu({label:e,title:a,accept:s,disabled:l=!1,fullDropArea:c=!1,files:d,setFiles:m}){const[h,g]=b.useState(!1),[p,v]=b.useState(!1),[x,N]=b.useState(""),q=b.useRef(0),_=b.useMemo(()=>d.length===0?"No se han seleccionado archivos.":d.length===1?"1 archivo seleccionado":`${d.length} archivos seleccionados`,[d.length]),j=d.length===0?"Agregar archivos":"Modificar/agregar archivos",A=$=>{const U=sh($,s);U.length!==0&&m(Y=>{const{merged:ie,duplicates:Ne}=AT(Y,U);return Ne.length>0&&N(n2(Ne)),ie})},B=$=>{$.preventDefault(),$.stopPropagation(),!l&&(q.current+=1,v(!0))},T=$=>{$.preventDefault(),$.stopPropagation()},J=$=>{$.preventDefault(),$.stopPropagation(),!l&&(q.current=Math.max(0,q.current-1),q.current===0&&v(!1))},k=$=>{if($.preventDefault(),$.stopPropagation(),q.current=0,v(!1),l)return;const U=$.dataTransfer?.files?Array.from($.dataTransfer.files):[];A(U)},O=o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"form-label",children:e}),o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:j}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>N("")})]}):null]});return o.jsxs(o.Fragment,{children:[c?o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:J,onDrop:k,"aria-disabled":l?"true":"false",children:O}):o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:e}),o.jsx("div",{className:`vi-file-drop-target${p?" is-dragover":""}`,onDragEnter:B,onDragOver:T,onDragLeave:J,onDrop:k,"aria-disabled":l?"true":"false",children:o.jsxs("div",{className:"input-group",children:[o.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>g(!0),disabled:l,children:j}),o.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:_})]})}),x?o.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[o.jsx("div",{children:x}),o.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>N("")})]}):null]}),o.jsx(t2,{show:h,disabled:l,title:a,accept:s,files:d,onClose:()=>g(!1),onAddFiles:A,onRemoveFile:$=>m(U=>U.filter(Y=>S0(Y)!==$)),onRemoveAll:()=>m([])})]})}function a2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function s2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function r2(e){if(!dt.isAxiosError(e))return{detail:String(e)};const a=e,s=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:s}}catch{return{detail:a.message,code:s}}const c=l?.detail??a.message;return{detail:String(c),code:s}}function l2(){const[e,a]=b.useState(null),[s,l]=b.useState([]),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,x]=b.useState(9),[N,q]=b.useState("ERROR FINAL"),[_,j]=b.useState(!0),[A,B]=b.useState(!1),[T,J]=b.useState(!1),[k,O]=b.useState(null),[$,U]=b.useState(null),[Y,ie]=b.useState([]),[Ne,xe]=b.useState(""),fe=b.useRef(null),ve=b.useRef(null),[Te,Oe]=b.useState(!1),[M,I]=b.useState(!1),[W,ge]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),we=b.useMemo(()=>!!e&&s.length>0&&!k,[e,s,k]);function w(me){ie(Fe=>[me,...Fe].slice(0,200));const ke=typeof me.percent=="number"?me.percent:typeof me.progress=="number"?me.progress:null;ke!=null&&Number.isFinite(ke)&&U(Math.max(0,Math.min(100,ke)))}function V(){fe.current?.abort(),fe.current=null}function oe(){k&&V()}function z(me,ke){if(!e)throw new Error("Falta el archivo Base");if(s.length===0)throw new Error("Faltan archivos OI");const Fe=new FormData;Fe.append("base_file",e);for(const Me of s)Fe.append("oi_files",Me);const _e=(ke??c).trim();return _e&&Fe.append("default_password",_e),m.trim()&&Fe.append("per_file_passwords_json",m.trim()),g.trim()&&Fe.append("oi_pattern",g.trim()),Fe.append("oi_start_row",String(v)),N.trim()&&Fe.append("base_sheet",N.trim()),me&&Fe.append("operation_id",me),Fe}function ce(){ve.current=null,I(!1)}function he(me,ke){ve.current=me,ge(ke),I(!0)}async function Re(me){xe(""),ie([]),U(0),fe.current=new AbortController,O("dry");try{const ke=z(void 0,me?.passwordOverride);await UT(ke,w,fe.current.signal)}catch(ke){if(ke?.name==="AbortError")return;const Fe=ke?.code,_e=String(ke?.message??ke);if(Fe==="PASSWORD_REQUIRED"){xe(""),he("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Fe==="WRONG_PASSWORD"){xe(""),he("dry","Contrasea incorrecta. Intenta nuevamente.");return}else xe(_e)}finally{V(),O(null)}}async function qe(me){xe(""),ie([]),U(0);const ke=crypto.randomUUID();fe.current=new AbortController,rh(ke,w,fe.current.signal).catch(()=>{}),O("upload");try{const Fe=z(ke,me?.passwordOverride);Fe.append("replicate_merges",_?"true":"false"),Fe.append("replicate_row_heights",A?"true":"false"),Fe.append("replicate_col_widths",T?"true":"false");const _e=await LT(Fe,fe.current.signal),Me=_e.headers["content-disposition"],le=_e.headers["x-file-name"],De=a2(Me)??le??"base_actualizada.xlsx";s2(_e.data,De)}catch(Fe){if(dt.isAxiosError(Fe)&&Fe.code==="ERR_CANCELED")return;const{detail:_e,code:Me}=await r2(Fe);if(Me==="PASSWORD_REQUIRED"){xe(""),he("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Me==="WRONG_PASSWORD"){xe(""),he("upload","Contrasea incorrecta. Intenta nuevamente.");return}else xe(_e)}finally{V(),O(null)}}return o.jsxs("div",{className:"container-fluid",children:[o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),o.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Hi,{label:"Base (xlsx)",accept:".xlsx",file:e,onChange:a,disabled:!!k})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(uu,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:s,setFiles:l,disabled:!!k})}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:c,onChange:me=>d(me.target.value),disabled:!!k})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),o.jsx("input",{className:"form-control",value:N,onChange:me=>q(me.target.value),disabled:!!k})]}),Te?o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),o.jsx("input",{className:"form-control",value:g,onChange:me=>p(me.target.value),disabled:!!k})]}):null,o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label",children:"Fila inicio OI"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:me=>x(Number(me.target.value||9)),disabled:!!k})]}),o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),o.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:me=>h(me.target.value),disabled:!!k,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),Te?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:_,onChange:me=>j(me.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:A,onChange:me=>B(me.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),o.jsx("div",{className:"col-md-4 mB-15",children:o.jsxs("div",{className:"form-check form-switch",children:[o.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:T,onChange:me=>J(me.target.checked),disabled:!!k}),o.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),Ne&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:Ne}),o.jsx("div",{className:"d-flex justify-content-end mT-10",children:o.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Oe(me=>!me),disabled:!!k,children:Te?"Menos Opciones":"Ms Opciones"})}),o.jsxs("div",{className:"d-flex gap-10 mT-15",children:[o.jsx("button",{className:"btn btn-primary",disabled:!we,onClick:()=>void qe(),children:k==="upload"?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger",disabled:!k,onClick:oe,children:"Cancelar"}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!we,onClick:()=>void Re(),children:k==="dry"?"Analizando...":"Analizar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),k?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${$??0}%`},"aria-valuenow":$??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:Y.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:Y.map((me,ke)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:wl(me.type)})," ",me.stage?o.jsxs("span",{className:"text-muted",children:["[",eo(me.stage),"]"]}):null,typeof me.percent=="number"?o.jsxs("span",{className:"text-muted",children:["  ",me.percent.toFixed(1),"%"]}):null]}),o.jsx("div",{className:"text-muted",children:Dl(me.message??me.detail??"")}),me.code?o.jsxs("div",{className:"text-muted",children:["Cdigo: ",me.code]}):null]},ke))})})]})})]}),o.jsx(ou,{show:M,title:"Archivo protegido",confirmLabel:"Continuar",helpText:W,onClose:ce,onConfirm:me=>{d(me),I(!1);const ke=ve.current;ve.current=null,ke&&(ke==="dry"?Re({passwordOverride:me}):qe({passwordOverride:me}))}})]})}const i2="America/Lima";function o2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function c2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function u2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:i2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function d2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":"badge bg-secondary"}function f2(e){const a=(e||"").toUpperCase();return a==="VIMA_LISTA"?"VIMA LISTA":a==="ACTUALIZACION_BASES"?"ACTUALIZACION BASES":e||"N/D"}function m2(){const[e,a]=b.useState([]),[s,l]=b.useState(0),[c,d]=b.useState(!1),[m,h]=b.useState(""),[g,p]=b.useState(0),[v,x]=b.useState(""),[N,q]=b.useState(""),[_,j]=b.useState(""),[A,B]=b.useState(""),[T,J]=b.useState(20),[k,O]=b.useState(1),[$,U]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",origin:""})),Y=b.useMemo(()=>(k-1)*T,[k,T]);b.useEffect(()=>{let I=!1;return d(!0),h(""),PT({limit:T,offset:Y,q:$.q||void 0,dateFrom:$.dateFrom||void 0,dateTo:$.dateTo||void 0,origin:$.origin||void 0}).then(W=>{I||(a(Array.isArray(W?.items)?W.items:[]),l(typeof W?.total=="number"?W.total:0))}).catch(W=>{if(I)return;const ge=W,we=ge.response?.data?.detail||ge.message||"No se pudo cargar historial.";h(we)}).finally(()=>{I||d(!1)}),()=>{I=!0}},[$,Y,T,g]);const ie=()=>{U({q:v.trim(),dateFrom:N.trim(),dateTo:_.trim(),origin:A.trim()}),O(1)},Ne=()=>{x(""),q(""),j(""),B(""),U({q:"",dateFrom:"",dateTo:"",origin:""}),O(1),p(I=>I+1)},xe=()=>p(I=>I+1),fe=async I=>{try{h("");const W=await YT(I),ge=W.headers["content-disposition"],we=W.headers["x-file-name"],w=o2(ge)??we??"formato_ac.xlsx";c2(W.data,w)}catch(W){const ge=W;if(dt.isCancel(ge))return;const we=ge.response?.data?.detail||ge.message||"No se pudo descargar.";h(we)}},ve=s===0?0:Y+1,Te=s===0?0:Math.min(Y+e.length,s),Oe=k>1,M=Y+e.length<s;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial A-C"})}),m?o.jsx("div",{className:"alert alert-danger",role:"alert",children:m}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:I=>{I.preventDefault(),ie()},children:[o.jsxs("div",{className:"col-md-4",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:v,onChange:I=>x(I.target.value),onKeyDown:I=>{I.key==="Enter"&&ie()},placeholder:"Operacion o usuario..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:N,onChange:I=>q(I.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:_,onChange:I=>j(I.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:I=>B(I.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"VIMA_LISTA",children:"VIMA LISTA"}),o.jsx("option",{value:"ACTUALIZACION_BASES",children:"ACTUALIZACION BASES"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:T,onChange:I=>{const W=Number(I.target.value);J(Number.isFinite(W)?W:20),O(1)},children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:c,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Ne,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:xe,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[c?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Operacion"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Origen"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-muted small",children:"Sin registros."})}):e.map(I=>{const W=I.created_by_full_name||I.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:I.operation_id}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:u2(I.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:W}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:f2(I.origin)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:d2(I.status),children:I.status})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void fe(I.id),children:"Descargar"})})})]},I.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",ve,"-",Te," de ",s," registros"]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>Math.max(1,I-1)),disabled:!Oe||c,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(I=>I+1),disabled:!M||c,children:"Siguiente"})]})]})]})]})})})})}function h2(){return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),o.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"Correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),o.jsx(Ac,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),o.jsx("div",{className:"col-md-6 mB-15",children:o.jsx("div",{className:"card h-100",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h5",{className:"card-title",children:"No correlativo"}),o.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),o.jsx(Ac,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function p2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function g2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function y2(e){if(!dt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function b2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[N,q]=b.useState([]),_=b.useRef(null),j=b.useRef(null),A=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{_0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const $=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;$!=null&&Number.isFinite($)&&x(Math.max(0,Math.min(100,$)))}function T(){_.current?.abort(),_.current=null}function J(){if(!m)return;const O=j.current;O&&E0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function k(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const $=crypto.randomUUID();j.current=$,O.append("operation_id",$),_.current=new AbortController,h(!0);try{const U=_.current?.signal;rh($,B,U).catch(()=>{});const Y=await j0(O,"correlativo",U),ie=Y.headers["content-disposition"],Ne=p2(ie)??"consolidado_correlativo.xlsx";g2(Y.data,Ne)}catch(U){if(dt.isAxiosError(U)&&U.code==="ERR_CANCELED"||dt.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const Y=await y2(U);B({type:"error",stage:"error",detail:Y}),p(Y)}finally{j.current=null,h(!1),T()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Hi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(uu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),g&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:k,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:J,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:N.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:N.map((O,$)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:wl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",eo(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Dl(O.message??O.detail??"")})]},$))})})]})})]})})}function v2(e){if(!e)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(e);return a?.[2]?decodeURIComponent(a[2]):null}function x2(e,a){const s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(s)}async function S2(e){if(!dt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function N2(){const[e,a]=b.useState(null),[s,l]=b.useState(null),[c,d]=b.useState([]),[m,h]=b.useState(!1),[g,p]=b.useState(""),[v,x]=b.useState(null),[N,q]=b.useState([]),_=b.useRef(null),j=b.useRef(null),A=b.useMemo(()=>!!s&&c.length>0&&!m,[s,c,m]);b.useEffect(()=>{_0().then(a).catch(()=>a(null))},[]);function B(O){q(U=>[O,...U].slice(0,200));const $=typeof O.percent=="number"?O.percent:typeof O.progress=="number"?O.progress:null;$!=null&&Number.isFinite($)&&x(Math.max(0,Math.min(100,$)))}function T(){_.current?.abort(),_.current=null}function J(){if(!m)return;const O=j.current;O&&E0(O).catch(()=>{}),B({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),T()}async function k(){if(p(""),q([]),x(0),!s){p("Selecciona el archivo maestro.");return}if(c.length===0){p("Selecciona al menos un archivo de tcnico.");return}const O=new FormData;O.append("master",s);for(const U of c)O.append("technicians",U);const $=crypto.randomUUID();j.current=$,O.append("operation_id",$),_.current=new AbortController,h(!0);try{const U=_.current?.signal;rh($,B,U).catch(()=>{});const Y=await j0(O,"no-correlativo",U),ie=Y.headers["content-disposition"],Ne=v2(ie)??"consolidado_no_correlativo.xlsx";x2(Y.data,Ne)}catch(U){if(dt.isAxiosError(U)&&U.code==="ERR_CANCELED"||dt.isAxiosError(U)&&(U.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const Y=await S2(U);B({type:"error",stage:"error",detail:Y}),p(Y)}finally{j.current=null,h(!1),T()}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),o.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),e&&o.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",o.jsxs("b",{children:[e.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",o.jsx("b",{children:e.max_tech_files})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-12 mB-15",children:o.jsx(Hi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:s,onChange:l,disabled:m})}),o.jsx("div",{className:"col-12 mB-15",children:o.jsx(uu,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:c,setFiles:d,disabled:m})})]}),g&&o.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:g}),o.jsxs("div",{className:"d-flex gap-10 mT-20",children:[o.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:k,children:m?"Procesando...":"Procesar y Descargar"}),o.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:J,children:"Cancelar"})]})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),m?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:N.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:N.map((O,$)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:wl(O.type)})," ",O.stage?o.jsxs("span",{className:"text-muted",children:["[",eo(O.stage),"]"]}):null]}),o.jsx("div",{className:"text-muted",children:Dl(O.message??O.detail??"")})]},$))})})]})})]})})}async function Ti(e){if(!dt.isAxiosError(e))return String(e);const a=e,s=a.response?.data;if(s instanceof Blob)try{const l=await s.text(),c=JSON.parse(l);return String(c?.detail??l??a.message)}catch{return a.message}return String(s?.detail??a.message)}function w2(){const[e,a]=b.useState(null),[s,l]=b.useState(""),[c,d]=b.useState(""),[m,h]=b.useState(""),[g,p]=b.useState("ERROR FINAL"),[v,x]=b.useState(""),[N,q]=b.useState("same_password"),[_,j]=b.useState(""),[A,B]=b.useState([{cell:"A1",value:""}]),[T,J]=b.useState(""),[k,O]=b.useState("no_password"),[$,U]=b.useState(""),[Y,ie]=b.useState("ERROR FINAL"),[Ne,xe]=b.useState(1),[fe,ve]=b.useState(""),[Te,Oe]=b.useState(""),[M,I]=b.useState(""),[W,ge]=b.useState(null),[we,w]=b.useState(""),[V,oe]=b.useState(null),[z,ce]=b.useState([]),[he,Re]=b.useState(null),qe=b.useMemo(()=>c.trim().length>0,[c]);function me(de){ce($e=>[de,...$e].slice(0,200))}function ke(){w(""),ce([]),oe(0),Re(null)}async function Fe(){if(ke(),!e){w("Selecciona un archivo para subir.");return}ge("upload");try{me({type:"status",stage:"upload",message:"Subiendo archivo..."}),oe(30);const de=new FormData;de.append("file",e),s.trim()&&de.append("suggested_name",s.trim());const $e=await KT(de);d($e.relative_path),Re($e),me({type:"complete",stage:"upload",message:"Archivo subido."}),oe(100)}catch(de){const $e=await Ti(de);w($e),me({type:"error",stage:"upload",detail:$e})}finally{ge(null)}}async function _e(){if(ke(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}ge("inspect");try{me({type:"status",stage:"inspect",message:"Inspeccionando..."}),oe(50);const de=await XT({file_path:c.trim(),open_password:m.trim()||null});Re(de),me({type:"complete",stage:"inspect",message:"Inspeccin completada."}),oe(100)}catch(de){const $e=await Ti(de);w($e),me({type:"error",stage:"inspect",detail:$e})}finally{ge(null)}}async function Me(){if(ke(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}if(!g.trim()){w("Ingresa el nombre de la hoja.");return}const de=A.map($e=>({cell:$e.cell.trim(),value:$e.value})).filter($e=>$e.cell);if(de.length===0){w("Agrega al menos una edicin.");return}ge("update");try{me({type:"status",stage:"update",message:"Aplicando ediciones..."}),oe(50);const $e=await JT({file_path:c.trim(),edits:de.map(Ae=>({sheet:g.trim(),cell:Ae.cell,value:Ae.value})),open_password:v.trim()||null,save_mode:N,new_password:N==="new_password"&&_.trim()||null});Re($e),me({type:"complete",stage:"update",message:"Actualizacin completada."}),oe(100)}catch($e){const Ae=await Ti($e);w(Ae),me({type:"error",stage:"update",detail:Ae})}finally{ge(null)}}async function le(){if(ke(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}if(!T.trim()){w("Ingresa la contrasea de apertura (open_password).");return}if(k==="new_password"&&!$.trim()){w("Ingresa la nueva contrasea.");return}ge("change-password");try{me({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),oe(50);const de=await WT({file_path:c.trim(),open_password:T.trim(),mode:k,new_password:k==="new_password"?$.trim():null});Re(de),me({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),oe(100)}catch(de){const $e=await Ti(de);w($e),me({type:"error",stage:"change-password",detail:$e})}finally{ge(null)}}async function De(){if(ke(),!qe){w("Ingresa o sube un archivo para obtener file_path.");return}let de={};if(Te.trim())try{de=JSON.parse(Te)}catch{w("type_rules debe ser JSON vlido.");return}const $e=fe.split(",").map(Ae=>Ae.trim()).filter(Boolean);ge("validate");try{me({type:"status",stage:"validate",message:"Validando..."}),oe(50);const Ae=await e2({file_path:c.trim(),sheet:Y.trim()||null,header_row:Ne,required_columns:$e,type_rules:de,open_password:M.trim()||null});Re(Ae),me({type:"complete",stage:"validate",message:"Validacin completada."}),oe(100)}catch(Ae){const Xe=await Ti(Ae);w(Xe),me({type:"error",stage:"validate",detail:Xe})}finally{ge(null)}}return o.jsx("div",{className:"container-fluid",children:o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-7",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),o.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-md-8 mB-10",children:o.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!W,onChange:de=>a(de.target.files?.[0]??null)})}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:s,disabled:!!W,onChange:de=>l(de.target.value)})})]}),o.jsx("button",{className:"btn btn-outline-primary",disabled:!!W||!e,onClick:Fe,children:W==="upload"?"Subiendo...":"Subir"})]})}),o.jsxs("div",{className:"mB-15",children:[o.jsx("label",{className:"form-label",children:"file_path"}),o.jsx("input",{className:"form-control",value:c,disabled:!!W,onChange:de=>d(de.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),o.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"2) Inspect"}),o.jsxs("div",{className:"row align-items-end",children:[o.jsxs("div",{className:"col-md-8 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!W,onChange:de=>h(de.target.value)})]}),o.jsx("div",{className:"col-md-4 mB-10",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!W||!qe,onClick:_e,children:W==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"Hoja"}),o.jsx("input",{className:"form-control",value:g,disabled:!!W,onChange:de=>p(de.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!W,onChange:de=>x(de.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"save_mode"}),o.jsxs("select",{className:"form-select",value:N,disabled:!!W,onChange:de=>q(de.target.value),children:[o.jsx("option",{value:"same_password",children:"same_password"}),o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:_,disabled:!!W||N!=="new_password",onChange:de=>j(de.target.value),placeholder:N==="new_password"?"Requerido":""})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsx("label",{className:"form-label",children:"Ediciones"}),A.map((de,$e)=>o.jsxs("div",{className:"row g-2 mB-10",children:[o.jsx("div",{className:"col-md-3",children:o.jsx("input",{className:"form-control",value:de.cell,disabled:!!W,onChange:Ae=>{const Xe=A.slice();Xe[$e]={...Xe[$e],cell:Ae.target.value},B(Xe)},placeholder:"Celda (A1)"})}),o.jsx("div",{className:"col-md-7",children:o.jsx("input",{className:"form-control",value:de.value,disabled:!!W,onChange:Ae=>{const Xe=A.slice();Xe[$e]={...Xe[$e],value:Ae.target.value},B(Xe)},placeholder:"Valor"})}),o.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!W,onClick:()=>B(Ae=>[...Ae,{cell:"A1",value:""}]),children:"+"}),o.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!W||A.length===1,onClick:()=>B(Ae=>Ae.filter((Xe,C)=>C!==$e)),children:""})]})]},$e))]}),o.jsx("button",{className:"btn btn-primary",disabled:!!W||!qe,onClick:Me,children:W==="update"?"Actualizando...":"Update"})]})}),o.jsx("div",{className:"card mB-15",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"4) Change password"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password"}),o.jsx("input",{className:"form-control",type:"password",value:T,disabled:!!W,onChange:de=>J(de.target.value)})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"mode"}),o.jsxs("select",{className:"form-select",value:k,disabled:!!W,onChange:de=>O(de.target.value),children:[o.jsx("option",{value:"no_password",children:"no_password"}),o.jsx("option",{value:"new_password",children:"new_password"})]})]}),o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"new_password"}),o.jsx("input",{className:"form-control",type:"password",value:$,disabled:!!W||k!=="new_password",onChange:de=>U(de.target.value),placeholder:k==="new_password"?"Requerido":""})]}),o.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:o.jsx("button",{className:"btn btn-primary w-100",disabled:!!W||!qe,onClick:le,children:W==="change-password"?"Procesando...":"Change password"})})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h6",{className:"card-title",children:"5) Validate"}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6 mB-10",children:[o.jsx("label",{className:"form-label",children:"sheet (opcional)"}),o.jsx("input",{className:"form-control",value:Y,disabled:!!W,onChange:de=>ie(de.target.value)})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"header_row"}),o.jsx("input",{className:"form-control",type:"number",min:1,value:Ne,disabled:!!W,onChange:de=>xe(Number(de.target.value||1))})]}),o.jsxs("div",{className:"col-md-3 mB-10",children:[o.jsx("label",{className:"form-label",children:"open_password (opcional)"}),o.jsx("input",{className:"form-control",type:"password",value:M,disabled:!!W,onChange:de=>I(de.target.value)})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),o.jsx("input",{className:"form-control",value:fe,disabled:!!W,onChange:de=>ve(de.target.value),placeholder:"ColA, ColB, ColC"})]}),o.jsxs("div",{className:"col-12 mB-10",children:[o.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),o.jsx("textarea",{className:"form-control",rows:3,value:Te,disabled:!!W,onChange:de=>Oe(de.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),o.jsx("button",{className:"btn btn-primary",disabled:!!W||!qe,onClick:De,children:W==="validate"?"Validando...":"Validate"})]})}),we&&o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:we})]})}),o.jsx("div",{className:"col-md-5",children:o.jsxs("div",{className:"bgc-white p-20 bd",children:[o.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),W?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress mB-15",style:{height:12},children:o.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${V??0}%`},"aria-valuenow":V??0,"aria-valuemin":0,"aria-valuemax":100})}),o.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:z.length===0?o.jsx("div",{className:"text-muted",children:"Sin eventos an."}):o.jsx("ul",{className:"list-unstyled mB-0",children:z.map((de,$e)=>o.jsxs("li",{className:"mB-10",children:[o.jsxs("div",{children:[o.jsx("b",{children:de.type})," ",de.stage?o.jsxs("span",{className:"text-muted",children:["[",de.stage,"]"]}):null]}),o.jsx("div",{className:"text-muted",children:de.message??de.detail??""})]},$e))})}),o.jsx("hr",{className:"mY-15"}),o.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),he?o.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(he,null,2)}):o.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function _2(){const e=Fn(),a=Er(),{toast:s}=Ar(),l=Tn(),c=Nl(l?.role),d=qi(),m=c&&!(d&&d>0),{data:h,isLoading:g,error:p}=Nr({queryKey:["catalogs"],queryFn:Pm,enabled:m}),v=h?.bancos??[],[x,N]=b.useState(()=>d&&d>0?d:0),[q,_]=b.useState(!1),j=b.useMemo(()=>v.find(J=>J.id===x)?.name??null,[v,x]);b.useEffect(()=>{const T=e.state;T?.toast&&(s({kind:T.toast.kind??"info",title:T.toast.title,message:T.toast.message}),a(e.pathname,{replace:!0,state:{}}))},[e.pathname,e.state,a,s]),b.useEffect(()=>{m&&(x>0||v.length>0&&N(v[0].id))},[x,v,m]);const A=x>0&&!q,B=async()=>{if(A)try{_(!0);const T=await Zx(x),J=mm(T.userId,T.bancoId??x);if(J.target){a(J.target,{replace:!0});return}s({kind:"success",title:"Banco",message:j?`Banco seleccionado: ${j}`:"Banco seleccionado."})}catch(T){const J=T?.response?.data?.detail??T?.message??"No se pudo guardar el banco.";s({kind:"error",title:"Banco",message:String(J)})}finally{_(!1)}};return o.jsxs("div",{className:"vi-home",children:[o.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),o.jsxs("div",{className:"modal-body",children:[o.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),o.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),o.jsx("select",{id:"bankId",className:"form-select",value:x||"",onChange:T=>N(Number(T.target.value)),disabled:g||q,children:v.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))}),p?o.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-primary",disabled:!A,onClick:B,children:q?"Guardando...":"Continuar"})})]})})})]})}const Di=(...e)=>{};function j2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function E2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}async function A2(e,a){let s=null,l=!1;const c=new Promise(d=>{s=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([e,c])}catch{return!1}finally{s!=null&&window.clearTimeout(s)}return!l}function C2(){const[e,a]=b.useState([]),[s,l]=b.useState(""),[c,d]=b.useState([]),[m,h]=b.useState(0),[g,p]=b.useState("Listo para procesar"),[v,x]=b.useState(!1),[N,q]=b.useState(""),[_,j]=b.useState(!1),[A,B]=b.useState(null),[T,J]=b.useState(null),[k,O]=b.useState(!1);function $(R){const Q=R?.series_duplicates_eliminated??R?.detail?.series_duplicates_eliminated??R?.series_duplcates_eliminated;return typeof Q=="number"?Q:null}const U={MISSING_HEADERS:"Faltan cabeceras requeridas",FILE_INVALID:"Archivo invlido",INVALID_OI_FILENAME:"Nombre de archivo invlido",EMPTY_FILE:"Archivo vaco"};function Y(R){const Q=String(R??"").trim().toUpperCase();return Q?U[Q]??Q:""}function ie(R){if(!R)return"";let Q=Dl(R);Q=Q.replace(/\bERROR\b/gi,"Error");for(const[G,se]of Object.entries(U))Q=Q.replace(new RegExp(`\\b${G}\\b`,"g"),se);return Q}function Ne(R,Q){const G=Y(R),se=ie(Q);return se?G&&!se.toLowerCase().includes(G.toLowerCase())?`${G}: ${se}`:se:G||"N/D"}function xe(R,Q,G){const se=String(G??"").trim();if(se)return se;const Ce=Number(R);if(!Number.isFinite(Ce)||Ce<=0)return"N/D";const Le=Number(Q);return Number.isFinite(Le)&&Le>0?`OI-${String(Ce).padStart(4,"0")}-${String(Le).padStart(4,"0")}`:`OI-${String(Ce).padStart(4,"0")}`}function fe(R){const Q=R?.rows_total_read??R?.totals_input?.rows_read;return typeof Q=="number"?Q:null}const ve=b.useMemo(()=>(Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[]).filter(Q=>Q?.status==="OK"&&String(Q?.source??"").toUpperCase()==="BASES").slice().sort((Q,G)=>{const se=Number(Q?.oi_year),Ce=Number(G?.oi_year),Le=Number.isFinite(se)&&se>0,ne=Number.isFinite(Ce)&&Ce>0;if(Le&&ne&&se!==Ce)return se-Ce;if(Le&&!ne)return-1;if(!Le&&ne)return 1;const Ue=Number(Q?.oi_num),Ve=Number(G?.oi_num),it=Number.isFinite(Ue),Jt=Number.isFinite(Ve);if(it&&Jt&&Ue!==Ve)return Ue-Ve;if(it&&!Jt)return-1;if(!it&&Jt)return 1;const je=String(Q?.oi_tag??Q?.oi??Q?.oi_num??"").toUpperCase(),Je=String(G?.oi_tag??G?.oi??G?.oi_num??"").toUpperCase();return je.localeCompare(Je)}),[T]),Te=b.useMemo(()=>(Array.isArray(T?.files_rejected)?T.files_rejected:[]).slice().sort((Q,G)=>{const se=String(Q?.oi??Q?.filename??"").toUpperCase(),Ce=String(G?.oi??G?.filename??"").toUpperCase();return se.localeCompare(Ce)}),[T]),Oe=b.useMemo(()=>{const R=()=>({files_total:0,files_ok:0,files_error:0,rows_read:0,conformes:0,no_conformes:0,rows_ignored_invalid_estado:0}),Q=T?.by_source;if(Q&&typeof Q=="object")return Q;const G={BASES:R(),GASELAG:R()},se=Array.isArray(T?.audit_by_oi)?T.audit_by_oi:[];for(const Le of se){if(Le?.status!=="OK")continue;const Ue=String(Le?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";G[Ue].files_ok+=1,G[Ue].rows_read+=Number(Le?.rows_read??0)||0,G[Ue].conformes+=Number(Le?.conformes??0)||0,G[Ue].no_conformes+=Number(Le?.no_conformes??0)||0,G[Ue].rows_ignored_invalid_estado+=Number(Le?.rows_ignored_invalid_estado??0)||0}const Ce=Array.isArray(T?.files_rejected)?T.files_rejected:[];for(const Le of Ce){const Ue=String(Le?.source??"").toUpperCase()==="GASELAG"?"GASELAG":"BASES";G[Ue].files_error+=1}for(const Le of["BASES","GASELAG"])G[Le].files_total=G[Le].files_ok+G[Le].files_error;return G},[T]),M=b.useRef(null),I=b.useRef(null),W=b.useRef(null),ge=b.useRef(!1),we=b.useRef(null),w=b.useRef(null),V=b.useRef(null),oe=b.useRef(!1),z=b.useRef(!1),ce=b.useRef(-1),he=b.useRef(-1),Re=b.useRef(!1);function qe(){return we.current||(we.current=crypto.randomUUID()),we.current}function me(R){const Q=`${wl(R.type)}  ${eo(R.stage)}  ${ie(R.message??R.detail??"")}`;if(p(Q),d(G=>{const se=[R,...G];if(!Re.current&&R.stage==="cancelled"){Re.current=!0;const Ce=se.filter(Ve=>Ve.stage==="file_done"||Ve.stage==="file_error").length,Le=se.filter(Ve=>Ve.stage==="file_done").length,ne=se.filter(Ve=>Ve.stage==="file_error").length;return[{type:"status",stage:"cancelled",message:`Cancelacin aplicada. Archivos procesados hasta el momento: ${Ce} (OK: ${Le}, Rechazados: ${ne}). No se gener resultado final.`},...se]}return se}),R.type==="complete"){const G=R.result??null;J(G)}typeof R.progress=="number"&&h(Math.round(R.progress)),typeof R.percent=="number"&&h(Math.round(R.percent)),!ge.current&&(R.type==="complete"||R.stage==="cancelled"||R.stage==="failed")&&(ge.current=!0,R.type==="complete"?(j(!0),B(we.current)):(j(!1),B(null),we.current=null),x(!1),Me("terminal_event"),le())}function ke(R){return typeof R.cursor!="number"?!1:R.cursor<=he.current?!0:(he.current=R.cursor,R.cursor>ce.current&&(ce.current=R.cursor),!1)}function Fe(R){ge.current||ke(R)||me(R)}function _e(R,Q){const G=new FormData;G.append("operation_id",R),G.append("source","AUTO"),s.trim()&&G.append("output_filename",s.trim());for(const se of Q)G.append("files",se);return G}function Me(R){I.current&&(W.current=R,I.current.abort(),I.current=null)}function le(R){z.current&&(z.current=!1,w.current!=null&&(window.clearTimeout(w.current),w.current=null),V.current?.abort(),V.current=null,oe.current=!1)}function De(R){z.current&&(w.current!=null&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>{de()},R))}async function de(){if(!z.current||oe.current)return;const R=we.current;if(!R){le();return}oe.current=!0;try{const Q=await qT(R,ce.current,V.current?.signal);Di("[LOG01] poll cursor =",ce.current,"->",Q.cursor_next),ce.current=Q.cursor_next;for(const G of Q.events)Fe(G);if(Q.done&&Q.events.length===0){le("done");return}}catch(Q){Q?.name}finally{oe.current=!1,z.current&&De(350)}}function $e(R){z.current||(z.current=!0,V.current=new AbortController,De(0))}function Ae(){M.current?.abort(),M.current=null}async function Xe(){if(!v)return;const R=we.current;if(R)try{await FT(R)}catch(Q){const G=Q;dt.isCancel(G)||q(G.response?.data?.detail||G.message||"No se pudo cancelar la operacion")}Ae()}async function C(){q(""),d([]),J(null),h(0),p("Listo para procesar"),j(!1),B(null),W.current=null,ge.current=!1,Re.current=!1,ce.current=-1,he.current=-1,le();const R=[...e];if(!R.length){q("Debes seleccionar al menos 1 Excel.");return}we.current=null;const Q=qe();let G=null,se=null;const Ce=new Promise((Ue,Ve)=>{G=Ue,se=Ve});I.current=new AbortController,M.current=new AbortController,kT(Q,Ue=>{if(Ue.type==="hello"){G&&(G(),G=null);return}Fe(Ue)},I.current.signal).then(()=>{ge.current||$e()}).catch(Ue=>{Ue?.name==="AbortError"?Di("[LOG01] progress stream aborted (reason) =",W.current):(se&&(se(Ue),se=null),$e())}),x(!0);try{await A2(Ce,1800)?Di("[LOG01] hello received"):$e("hello_timeout");const Ve=_e(Q,R);Di("[LOG01] operation_id(start) =",Q),await BT(Ve,M.current.signal)}catch(Ue){const Ve=Ue;if(dt.isCancel(Ve))return;const it=Ve.response?.data?.detail||Ve.message||"Error inesperado";q(it),x(!1),Ae(),Me("start_failed"),le(),we.current=null}finally{Ae()}}async function Z(){const R=A??we.current;if(!R){q("No hay resultado disponible.");return}try{q(""),Di("[LOG01] operation_id(result) =",R);const Q=await IT(R),G=Q.headers["content-disposition"],se=Q.headers["x-file-name"],Ce=j2(G)??se??"BD_CONSOLIDADO.xlsx";E2(Q.data,Ce)}catch(Q){const G=Q;if(dt.isCancel(G))return;const se=G.response?.data?.detail||G.message||"No se pudo descargar.";q(se)}}return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),N&&o.jsx("div",{className:"alert alert-danger",role:"alert",children:N}),o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-12 mB-15",children:[o.jsx(uu,{label:"Archivos Excel (Bases Comerciales / GASELAG) (xlsx)",title:"Archivos Excel",accept:".xlsx",files:e,setFiles:a,fullDropArea:!0,disabled:v}),o.jsx("div",{className:"small text-muted mT-5",children:"Nota: el sistema identifica el tipo de archivo por cabeceras/contenido (AUTO). No depende del nombre."})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0",children:"Nombre de salida (opcional)"}),o.jsx("input",{className:"form-control",value:s,onChange:R=>l(R.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:v})]}),o.jsxs("div",{className:"col-md-6 mB-15",children:[o.jsx("label",{className:"form-label mB-0 invisible",children:"Acciones"}),o.jsxs("div",{className:"vi-log01-actions",children:[o.jsx("button",{className:"btn btn-primary btn-sm vi-log01-btn-primary",onClick:C,disabled:v,children:v?"Procesando...":"Consolidar"}),v?o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>void Xe(),children:"Cancelar"}):null,!v&&_?o.jsx(o.Fragment,{children:o.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>void Z(),children:"Descargar Excel"})}):null]})]})]}),o.jsxs("div",{className:"mT-10",children:[o.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[o.jsx("span",{children:"Progreso"}),v?o.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),o.jsx("div",{className:"progress",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${m}%`},"aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100,children:[m,"%"]})}),o.jsx("div",{className:"mT-10 text-muted",children:g})]}),!v&&T?o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),o.jsx("div",{className:"bd p-10",children:o.jsxs("div",{className:"row",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("div",{className:"small text-muted",children:"Archivos"}),o.jsxs("div",{className:"small",children:["Total: ",o.jsx("strong",{children:T.files_total??"N/D"}),"  OK:"," ",o.jsx("strong",{children:T.files_ok??"N/D"}),"  Rechazados:"," ",o.jsx("strong",{children:T.files_error??"N/D"})]}),o.jsx("div",{className:"mT-10 small text-muted",children:"Totales por tipo (origen)"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Archivos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ignorados"})]})}),o.jsx("tbody",{children:["BASES","GASELAG"].map(R=>{const Q=Oe?.[R]??{},G=Q?.files_total??Number(Q?.files_ok??0)+Number(Q?.files_error??0);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R})}),o.jsxs("td",{style:{whiteSpace:"nowrap"},children:[o.jsx("strong",{children:G??0})," ",o.jsxs("span",{className:"text-muted",children:["(OK: ",Q?.files_ok??0,"  Rech: ",Q?.files_error??0,")"]})]}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.no_conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:Q?.rows_ignored_invalid_estado??0})})]},R)})})]})}),o.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)  BASES"}),ve.length>0?o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),o.jsx("tbody",{children:ve.map((R,Q)=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:xe(R?.oi_num,R?.oi_year,R?.oi_tag??R?.oi)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.rows_read??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.conformes??0})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:R?.no_conformes??0})})]},Q))})]})}):o.jsx("div",{className:"small text-muted",children:"N/D"}),Number(Oe?.GASELAG?.rows_read??0)>0?o.jsxs("div",{className:"mT-10 small",children:[o.jsx("span",{className:"text-muted",children:"GASELAG (origen):"})," ","Ledos: ",o.jsx("strong",{children:Oe.GASELAG.rows_read??0}),"  Conformes:"," ",o.jsx("strong",{children:Oe.GASELAG.conformes??0}),"  No conformes:"," ",o.jsx("strong",{children:Oe.GASELAG.no_conformes??0}),"  Ignorados(estado):"," ",o.jsx("strong",{children:Oe.GASELAG.rows_ignored_invalid_estado??0})]}):null,o.jsxs("div",{className:"col-12 mT-10 p-0",children:[o.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),o.jsxs("div",{className:"small",children:["Registros ledos:"," ",o.jsx("strong",{children:T.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",o.jsx("strong",{children:T.totals_input?.conformes??"N/D"}),"  No conformes:"," ",o.jsx("strong",{children:T.totals_input?.no_conformes??"N/D"})]})]})]}),o.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[Te.length>0?o.jsxs("div",{className:"mT-15",children:[o.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),o.jsx("tbody",{children:Te.map((R,Q)=>{const G=Ne(R?.code,R?.detail),se=String(R?.source??"").toUpperCase();let Ce=R?.filename??"N/D";if(se==="BASES"){const Le=Number(R?.oi_num),ne=xe(Le,R?.oi_year,R?.oi_tag??R?.oi);ne!=="N/D"&&(Ce=`${ne} / ${Ce}`)}else se==="GASELAG"&&(Ce=`GASELAG / ${Ce}`);return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:Ce}),o.jsx("td",{children:G})]},Q)})})]})})]}):null,o.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),o.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",o.jsx("strong",{children:T.series_total_dedup??"N/D"}),"  Conformes finales:"," ",o.jsx("strong",{children:T.series_conformes??"N/D"}),"  No conformes finales:"," ",o.jsx("strong",{children:T.series_no_conformes_final??"N/D"})]}),o.jsx("div",{className:"mT-10",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>O(R=>!R),children:k?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),k?o.jsxs("div",{className:"mT-10",children:[o.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),o.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",o.jsx("strong",{children:fe(T)??"N/D"})," "," Duplicados eliminados:"," ",o.jsx("strong",{children:$(T)??"N/D"})," "," nicas = Ledos  Duplicados:"," ",o.jsx("strong",{children:(()=>{const R=fe(T),Q=$(T);if(typeof R=="number"&&typeof Q=="number")return R-Q;const G=T.series_total_dedup;return typeof G=="number"?G:"N/D"})()})]})]}):null]})]})})]}):null,c.length>0&&o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900",children:"Eventos"}),o.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:c.map((R,Q)=>{const G=String(R.message??""),se=String(R.code??""),Ce=String(R.detail??""),Le=ie(G||Ce||""),ne=Le.toLowerCase(),Ue=Y(se),Ve=ie(Ce),it=[];Ue&&!ne.includes(Ue.toLowerCase())&&it.push(Ue),Ve&&!ne.includes(Ve.toLowerCase())&&it.push(Ve);const Jt=it.join("  ");return o.jsxs("div",{className:"small",children:[wl(R.type),"  ",Le,Jt?o.jsxs("span",{className:"text-muted",children:[" (",Jt,")"]}):null]},Q)})})]})]})})})})}const O2="America/Lima";function R2(e){if(!e)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(e),s=a?.[1]??a?.[2];if(!s)return null;try{return decodeURIComponent(s)}catch{return s}}function T2(e,a){const s=window.URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s)}function D2(e){if(!e)return"N/D";const s=/[zZ]$/.test(e)||/[+-]\d{2}:\d{2}$/.test(e)||/[+-]\d{4}$/.test(e)?e:`${e}Z`,l=new Date(s);if(Number.isNaN(l.getTime()))return String(e);const d=new Intl.DateTimeFormat("es-PE",{timeZone:O2,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(l),m=h=>d.find(g=>g.type===h)?.value||"";return`${m("day")}/${m("month")}/${m("year")} ${m("hour")}:${m("minute")}`}function Qf(e,a){const s=e?.[a];return typeof s=="number"?String(s):"N/D"}function xv(e,a){const s=e?.[a];return typeof s=="string"&&s.trim()?s.trim():"N/D"}function z2(e){const a=(e||"").toUpperCase();return a==="COMPLETADO"?"badge bg-success":a==="ERROR"?"badge bg-danger":a==="CANCELADO"?"badge bg-warning text-dark":"badge bg-secondary"}function M2(){const e=Er(),a=Tn(),s=ja(a?.role,a?.username),l=s==="admin"||s==="administrator",[c,d]=b.useState([]),[m,h]=b.useState(0),[g,p]=b.useState(!1),[v,x]=b.useState(""),[N,q]=b.useState(0),[_,j]=b.useState(""),[A,B]=b.useState(""),[T,J]=b.useState(""),[k,O]=b.useState(""),[$,U]=b.useState(""),[Y,ie]=b.useState(20),[Ne,xe]=b.useState(1),[fe,ve]=b.useState(()=>({q:"",dateFrom:"",dateTo:"",source:"",status:""})),Te=b.useMemo(()=>(Ne-1)*Y,[Ne,Y]);b.useEffect(()=>{let z=!1;return p(!0),x(""),$T({limit:Y,offset:Te,include_deleted:!1,q:fe.q||void 0,dateFrom:fe.dateFrom||void 0,dateTo:fe.dateTo||void 0,source:fe.source||void 0,status:fe.status||void 0}).then(ce=>{z||(d(Array.isArray(ce?.items)?ce.items:[]),h(typeof ce?.total=="number"?ce.total:0))}).catch(ce=>{if(z)return;const he=ce,Re=he.response?.data?.detail||he.message||"No se pudo cargar historial.";x(Re)}).finally(()=>{z||p(!1)}),()=>{z=!0}},[fe,Te,Y,N]);const Oe=()=>{ve({q:_.trim(),dateFrom:A.trim(),dateTo:T.trim(),source:k.trim(),status:$.trim()}),xe(1)},M=()=>{j(""),B(""),J(""),O(""),U(""),ve({q:"",dateFrom:"",dateTo:"",source:"",status:""}),xe(1),q(z=>z+1)},I=()=>q(z=>z+1),W=async(z,ce)=>{try{x("");const he=await HT(z,ce),Re=he.headers["content-disposition"],qe=he.headers["x-file-name"],me=R2(Re)??qe??`${ce}.bin`;T2(he.data,me)}catch(he){const Re=he;if(dt.isCancel(Re))return;const qe=Re.response?.data?.detail||Re.message||"No se pudo descargar.";x(qe)}},ge=async z=>{if(l&&window.confirm("Eliminar la corrida del historial?"))try{x(""),await VT(z),I()}catch(ce){const he=ce;if(dt.isCancel(he))return;const Re=he.response?.data?.detail||he.message||"No se pudo eliminar.";x(Re)}},we=m===0?0:Te+1,w=m===0?0:Math.min(Te+c.length,m),V=Ne>1,oe=Te+c.length<m;return o.jsx("div",{className:"container-fluid",children:o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsxs("div",{className:"d-flex flex-wrap align-items-center justify-content-between mB-10 gap-10",children:[o.jsx("h4",{className:"c-grey-900 mB-0",children:"Historial de consolidaciones LOG-01"}),o.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>e("/logistica/log01/excel"),children:"Nueva consolidacin"})]}),v?o.jsx("div",{className:"alert alert-danger",role:"alert",children:v}):null,o.jsxs("form",{className:"row g-2 align-items-end",onSubmit:z=>{z.preventDefault(),Oe()},children:[o.jsxs("div",{className:"col-md-3",children:[o.jsx("label",{className:"form-label",children:"Buscar"}),o.jsx("input",{className:"form-control form-control-sm",value:_,onChange:z=>j(z.target.value),onKeyDown:z=>{z.key==="Enter"&&Oe()},placeholder:"Usuario, serie inicial, serie final..."})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha desde"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:A,onChange:z=>B(z.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Fecha hasta"}),o.jsx("input",{type:"date",className:"form-control form-control-sm",value:T,onChange:z=>J(z.target.value)})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Origen"}),o.jsxs("select",{className:"form-select form-select-sm",value:k,onChange:z=>O(z.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"AUTO",children:"AUTO"}),o.jsx("option",{value:"BASES",children:"BASES"}),o.jsx("option",{value:"GASELAG",children:"GASELAG"})]})]}),o.jsxs("div",{className:"col-md-2",children:[o.jsx("label",{className:"form-label",children:"Estado"}),o.jsxs("select",{className:"form-select form-select-sm",value:$,onChange:z=>U(z.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"COMPLETADO",children:"COMPLETADO"}),o.jsx("option",{value:"CANCELADO",children:"CANCELADO"}),o.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),o.jsxs("div",{className:"col-md-1",children:[o.jsx("label",{className:"form-label",children:"Mostrar"}),o.jsxs("select",{className:"form-select form-select-sm",value:Y,onChange:z=>{const ce=Number(z.target.value);ie(Number.isFinite(ce)?ce:20),xe(1)},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"col-12 d-flex flex-wrap gap-10 mT-5",children:[o.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",disabled:g,children:"Buscar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:M,children:"Limpiar filtros"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:I,children:"Recargar"})]})]}),o.jsxs("div",{className:"mT-15",children:[g?o.jsx("div",{className:"text-muted",children:"Cargando historial..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Fecha"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Usuario"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Estado"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie inic"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:" Serie fin "}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"nicas"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Acciones"})]})}),o.jsx("tbody",{children:c.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-muted small",children:"Sin registros."})}):c.map(z=>{const ce=z.summary_json,he=xv(ce,"serie_ini"),Re=xv(ce,"serie_fin"),qe=Qf(ce,"series_total_dedup"),me=Qf(ce,"series_conformes"),ke=Qf(ce,"series_no_conformes_final"),Fe=z.created_by_full_name||z.created_by_username||"N/D";return o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:D2(z.created_at)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:Fe}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("span",{className:z2(z.status),children:z.status})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:he}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:Re}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:qe})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:me})}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:ke})}),o.jsx("td",{children:o.jsxs("div",{className:"d-flex gap-1 flex-wrap justify-content-end",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:()=>void W(z.id,"excel"),children:"Excel"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void W(z.id,"no-conforme"),children:"No conforme"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void W(z.id,"manifiesto"),children:"Manifiesto"}),l?o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>void ge(z.id),children:"Eliminar"}):null]})})]},z.id)})})]})}),o.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-10",children:[o.jsxs("div",{className:"small text-muted",children:["Mostrando ",we,"-",w," de ",m]}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>xe(z=>Math.max(1,z-1)),disabled:!V||g,children:"Anterior"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>xe(z=>z+1),disabled:!oe||g,children:"Siguiente"})]})]})]})]})})})})}function hl(e){return e===!0?"badge bg-success":e===!1?"badge bg-danger":"badge bg-secondary"}const Pf="medileser_log02_rutas_v1";function k2(){const[e,a]=b.useState([""]),[s,l]=b.useState(""),[c,d]=b.useState(!1),[m,h]=b.useState(""),[g,p]=b.useState(null),[v,x]=b.useState(!1),[N,q]=b.useState(!1),[_,j]=b.useState("origen"),[A,B]=b.useState(null),[T,J]=b.useState([]),[k,O]=b.useState(""),[$,U]=b.useState(""),[Y,ie]=b.useState([]),[Ne,xe]=b.useState(!1),[fe,ve]=b.useState("");b.useEffect(()=>{try{const _e=localStorage.getItem(Pf);if(!_e)return;const Me=JSON.parse(_e),le=Array.isArray(Me.origenes)?Me.origenes:[],De=typeof Me?.destino=="string"?Me.destino:"";le.length&&a(le),De&&l(De)}catch{}},[]),b.useEffect(()=>{try{const _e={origenes:e,destino:s};localStorage.setItem(Pf,JSON.stringify(_e))}catch{}},[e,s]);function Te(){a([""]),l(""),p(null),h(""),x(!1);try{localStorage.removeItem(Pf)}catch{}}function Oe(){a(_e=>{const Me=new Set,le=[];for(const De of _e){const de=(De||"").trim();if(!de)continue;const $e=de.toLowerCase();Me.has($e)||(Me.add($e),le.push(de))}return le.length?le:[""]})}function M(){x(!0),B(null),ce("origen")}function I(_e){x(!0),B(_e),ce("origen")}function W(){x(!0),B(null),ce("destino")}const ge=b.useMemo(()=>e.map(_e=>(_e??"").trim()),[e]),we=b.useMemo(()=>ge.filter(_e=>_e),[ge]),w=b.useMemo(()=>(s??"").trim(),[s]),V=b.useMemo(()=>we.length>0&&!!w,[we.length,w]);function oe(_e,Me){a(le=>{const De=le.slice();return De[_e]=Me,De})}function z(_e){a(Me=>{if(Me.length<=1)return[""];const le=Me.slice();return le.splice(_e,1),le})}async function ce(_e){j(_e),ve(""),q(!0);try{const le=(await ZT()).roots||[];J(le);const De=le[0]||"";O(De),U(De),De?await he(De):(ie([]),ve("No hay rutas raz configuradas para el explorador. Configure VI_LOG02_UNC_ROOTS en el servidor."))}catch(Me){const le=Me,De=le.response?.data?.detail||le.message||"No se pudo cargar las rutas raz.";ve(De),ie([])}}async function he(_e){if(ve(""),!_e){ie([]);return}try{xe(!0);const Me=await GT(_e);U(Me.path),ie(Me.folders||[])}catch(Me){const le=Me,De=le.response?.data?.detail||le.message||"No se pudo listar la carpeta.";ve(De),ie([])}finally{xe(!1)}}function Re(){const _e=($||"").replace(/[\\\/]+$/,""),Me=_e.lastIndexOf("\\");if(Me<=0)return;const le=_e.slice(0,Me);he(le)}function qe(){$&&(_==="destino"?l($):a(_e=>{const Me=$.trim();if(!Me)return _e;const le=_e.slice();return A!==null&&A>=0&&A<le.length?(le[A]=Me,le):le.map(de=>(de||"").trim().toLowerCase()).includes(Me.toLowerCase())?le:le.length===1&&!(le[0]||"").trim()?[Me]:[...le,Me]}),B(null),q(!1))}async function me(){h(""),p(null),x(!0);const _e=w,Me=we;if(!Me.length){h("Debes ingresar al menos una ruta de origen.");return}if(!_e){h("Debes ingresar una ruta de destino.");return}try{d(!0);const le=await QT({rutas_origen:Me,ruta_destino:_e});p(le),le.ok||h("Validacin incompleta: revisa los detalles de permisos y existencia.")}catch(le){const De=le;if(dt.isCancel(De))return;const de=De.response?.data?.detail||De.message||"No se pudo validar las rutas.";h(de)}finally{d(!1)}}const ke=b.useMemo(()=>{if(!g)return null;const _e=(g.origenes||[]).filter(De=>De.existe&&De.lectura).length,Me=(g.origenes||[]).length,le=!!(g.destino?.existe&&g.destino?.es_directorio&&g.destino?.lectura&&g.destino?.escritura);return{okOrigenes:_e,totalOrigenes:Me,okDestino:le}},[g]);async function Fe(){if(!g)return;const _e=[];_e.push("LOG-02 - Resultado de validacin"),_e.push("");for(const De of g.origenes||[])_e.push(`ORIGEN | ${De.ruta} | existe=${De.existe?"SI":"NO"} | lectura=${De.lectura?"SI":"NO"} | detalle=${De.detalle||""}`);const Me=g.destino;_e.push(`DESTINO | ${Me?.ruta||""} | existe=${Me?.existe?"SI":"NO"} | lectura=${Me?.lectura?"SI":"NO"} | escritura=${Me?.escritura?"SI":"NO"} | detalle=${Me?.detalle||""}`);const le=_e.join(`
`);try{await navigator.clipboard.writeText(le)}catch{try{const De=document.createElement("textarea");De.value=le,document.body.appendChild(De),De.select(),document.execCommand("copy"),document.body.removeChild(De)}catch{}}}return o.jsxs("div",{className:"container-fluid",children:[o.jsx("div",{className:"row",children:o.jsx("div",{className:"col-12",children:o.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[o.jsx("h4",{className:"c-grey-900 mB-10",children:"Filtrado de certificados PDF (LOG-02)"}),o.jsxs("div",{className:"text-muted small",children:["Este mdulo se orienta a ",o.jsx("strong",{children:"copiar"})," y ",o.jsx("strong",{children:"filtrar"})," certificados PDF desde una",o.jsx("strong",{children:" carpeta compartida"})," (no ZIP).",o.jsx("br",{}),"Configura las rutas UNC y valida accesos antes de iniciar el filtrado."]}),m?o.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:m}):null,o.jsxs("div",{className:"mT-15",children:[o.jsx("h6",{className:"c-grey-900 mB-10",children:"Rutas UNC"}),o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Rutas origen (UNC)  lectura"}),e.map((_e,Me)=>o.jsxs("div",{className:"d-flex gap-10 mB-10",children:[o.jsx("input",{className:"form-control form-control-sm"+(v&&!ge[Me]?" is-invalid":""),value:_e,onChange:le=>oe(Me,le.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Certificados",disabled:c}),v&&!ge[Me]?o.jsx("div",{className:"small text-danger mT-5",children:"Requerido"}):null,o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>I(Me),disabled:c,title:"Elegir carpeta",children:(_e||"").trim()?"Editar":"Agregar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>z(Me),disabled:c,title:"Quitar ruta",style:{width:44,textAlign:"center"},children:""})]},Me)),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:M,disabled:c,title:"Agregar origen",children:"Agregar origen"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Oe,disabled:c,title:"Quitar duplicados (solo UI)",children:"Quitar duplicados"})]}),o.jsxs("div",{className:"small text-muted",children:["Nota: estas rutas deben ser accesibles ",o.jsx("strong",{children:"desde el servidor"})," donde corre el backend."]})]}),o.jsxs("div",{className:"col-12",children:[o.jsx("label",{className:"form-label",children:"Ruta destino (UNC)  lectura y escritura"}),o.jsxs("div",{className:"d-flex gap-10 mB-10",children:[o.jsx("input",{className:"form-control form-control-sm "+(v&&!w?"is-invalid":""),value:s,onChange:_e=>l(_e.target.value),placeholder:"\\\\\\\\SERVIDOR\\\\Compartido\\\\Salida_LOG02",disabled:c}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:W,disabled:c,title:"Editar carpeta",children:w?"Editar":"Agregar"}),"                  "]}),v&&!w?o.jsx("div",{className:"small text-danger mT-5",children:"Destino requerido."}):null,o.jsxs("div",{className:"mT-5",children:[o.jsx("div",{className:"small text-muted mB-5",children:V?"Listo para validar.":"Completa orgenes y destino."}),o.jsxs("div",{className:"d-flex gap-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>void me(),disabled:c||!V,children:c?"Validando...":"Validar"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:Te,disabled:c,title:"Limpia orgenes y destino",children:"Limpiar rutas"})]})]})]})]})]}),g?o.jsxs("div",{className:"mT-20",children:[o.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado de validacin"}),ke?o.jsxs("div",{className:"d-flex flex-wrap gap-10 align-items-center mB-10",children:[o.jsxs("span",{className:"badge bg-light text-dark",children:["Orgenes OK: ",o.jsx("strong",{children:ke.okOrigenes})," / ",ke.totalOrigenes]}),o.jsxs("span",{className:ke.okDestino?"badge bg-success":"badge bg-danger",children:["Destino: ",ke.okDestino?"OK":"No OK"]}),g.ok?null:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>void Fe(),children:"Copiar detalle"})]}):null,o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Tipo"}),o.jsx("th",{children:"Ruta"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Existe"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Lectura"}),o.jsx("th",{style:{whiteSpace:"nowrap"},children:"Escritura"}),o.jsx("th",{children:"Detalle"})]})}),o.jsxs("tbody",{children:[g.origenes.map((_e,Me)=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:"Origen"})}),o.jsx("td",{style:{wordBreak:"break-all"},children:_e.ruta||"N/D"}),o.jsx("td",{children:o.jsx("span",{className:hl(_e.existe),children:_e.existe?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:hl(_e.lectura),children:_e.lectura?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:hl(null),children:""})}),o.jsx("td",{children:_e.detalle||""})]},`o-${Me}`)),o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{whiteSpace:"nowrap"},children:o.jsx("strong",{children:"Destino"})}),o.jsx("td",{style:{wordBreak:"break-all"},children:g.destino.ruta||"N/D"}),o.jsx("td",{children:o.jsx("span",{className:hl(g.destino.existe),children:g.destino.existe?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:hl(g.destino.lectura),children:g.destino.lectura?"S":"No"})}),o.jsx("td",{children:o.jsx("span",{className:hl(!!g.destino.escritura),children:g.destino.escritura?"S":"No"})}),o.jsx("td",{children:g.destino.detalle||""})]})]})]})}),g.ok?o.jsx("div",{className:"alert alert-success mT-15",role:"alert",children:"Rutas validadas correctamente. Puedes continuar con la siguiente fase."}):o.jsx("div",{className:"alert alert-warning mT-15",role:"alert",children:"Hay rutas con problemas. Corrige existencia/permisos y vuelve a validar."})]}):null]})})}),N?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:_==="destino"?"Elegir carpeta de destino":"Elegir carpeta de origen"}),o.jsx("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>q(!1),children:o.jsx("span",{"aria-hidden":"true",children:""})})]}),o.jsxs("div",{className:"modal-body",children:[fe?o.jsx("div",{className:"alert alert-danger",role:"alert",children:fe}):null,o.jsxs("div",{className:"row g-2",children:[o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("label",{className:"form-label",children:"Raz"}),o.jsx("select",{className:"form-control form-control-sm",value:k,onChange:_e=>{const Me=_e.target.value;O(Me),he(Me)},disabled:!T.length,children:T.length?T.map(_e=>o.jsx("option",{value:_e,children:_e},_e)):o.jsx("option",{value:"",children:"Sin races"})})]}),o.jsxs("div",{className:"col-12 col-md-6",children:[o.jsx("label",{className:"form-label",children:"Carpeta actual"}),o.jsx("input",{className:"form-control form-control-sm",value:$,readOnly:!0})]})]}),o.jsxs("div",{className:"d-flex gap-10 mT-10",children:[o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:Re,disabled:!$||Ne,children:"Subir nivel"}),o.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:qe,disabled:!$||Ne,children:"Seleccionar esta carpeta"})]}),o.jsx("hr",{}),Ne?o.jsx("div",{className:"text-muted small",children:"Cargando carpetas..."}):o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"table table-sm mB-0",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"small",children:[o.jsx("th",{children:"Subcarpetas"}),o.jsx("th",{style:{width:120}})]})}),o.jsx("tbody",{children:Y.length?Y.map(_e=>o.jsxs("tr",{className:"small",children:[o.jsx("td",{style:{wordBreak:"break-all"},children:_e.name}),o.jsx("td",{children:o.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>void he(_e.path),children:"Entrar"})})]},_e.path)):o.jsx("tr",{className:"small",children:o.jsx("td",{colSpan:2,className:"text-muted",children:"Sin subcarpetas o sin permisos para listar."})})})]})})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>q(!1),children:"Cerrar"})})]})})}),o.jsx("div",{className:"modal-backdrop fade show"})]}):null]})}function U2(){const e=Tn();return o.jsx(o.Fragment,{children:o.jsxs(Tw,{children:[o.jsx(Zt,{path:"/login",element:e?.token?o.jsx(Zs,{to:"/home",replace:!0}):o.jsx(bE,{})}),o.jsx(Zt,{element:o.jsx(cT,{}),children:o.jsxs(Zt,{element:o.jsx(hT,{}),children:[o.jsx(Zt,{path:"/",element:o.jsx(Zs,{to:"/home",replace:!0})}),o.jsx(Zt,{path:"/home",element:o.jsx(_2,{})}),o.jsx(Zt,{path:"/oi",element:o.jsx(hv,{})}),o.jsx(Zt,{path:"/oi/:oiId",element:o.jsx(hv,{})}),o.jsx(Zt,{path:"/oi/list",element:o.jsx(pT,{})}),o.jsx(Zt,{path:"/users",element:o.jsx(yT,{})}),o.jsx(Zt,{path:"/password",element:o.jsx(bT,{})}),o.jsx(Zt,{path:"/admin/permisos",element:o.jsx(ST,{})}),o.jsx(Zt,{path:"/logistica/log01/excel",element:o.jsx(C2,{})}),o.jsx(Zt,{path:"/logistica/log01/history",element:o.jsx(M2,{})}),o.jsx(Zt,{path:"/logistica/log02/pdfs",element:o.jsx(k2,{})}),o.jsx(Zt,{path:"/oi/tools/vima-to-lista",element:o.jsx(zT,{})}),o.jsx(Zt,{path:"/oi/tools/actualizacion-base",element:o.jsx(l2,{})}),o.jsx(Zt,{path:"/oi/tools/formato-ac/history",element:o.jsx(m2,{})}),o.jsx(Zt,{path:"/oi/tools/consolidacion",element:o.jsx(h2,{})}),o.jsx(Zt,{path:"/oi/tools/consolidacion/correlativo",element:o.jsx(b2,{})}),o.jsx(Zt,{path:"/oi/tools/consolidacion/no-correlativo",element:o.jsx(N2,{})}),o.jsx(Zt,{path:"/oi/tools/excel",element:o.jsx(w2,{})})]})}),o.jsx(Zt,{path:"*",element:o.jsx(Zs,{to:e?.token?"/home":"/login",replace:!0})})]})})}const L2=new D_;BN.createRoot(document.getElementById("root")).render(o.jsx(lt.StrictMode,{children:o.jsx(z_,{client:L2,children:o.jsx(t_,{children:o.jsx(yE,{children:o.jsx(U2,{})})})})}));
