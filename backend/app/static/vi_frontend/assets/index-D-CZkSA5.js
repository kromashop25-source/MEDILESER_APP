(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}})();function Qv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fd={exports:{}},ni={};var cy;function XS(){if(cy)return ni;cy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,o,d){var m=null;if(d!==void 0&&(m=""+d),o.key!==void 0&&(m=""+o.key),"key"in o){d={};for(var h in o)h!=="key"&&(d[h]=o[h])}else d=o;return o=d.ref,{$$typeof:t,type:l,key:m,ref:o!==void 0?o:null,props:d}}return ni.Fragment=a,ni.jsx=r,ni.jsxs=r,ni}var uy;function JS(){return uy||(uy=1,Fd.exports=XS()),Fd.exports}var c=JS(),$d={exports:{}},Ke={};var dy;function WS(){if(dy)return Ke;dy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function B(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,A={};function k(E,Z,ne){this.props=E,this.context=Z,this.refs=A,this.updater=ne||_}k.prototype.isReactComponent={},k.prototype.setState=function(E,Z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Z,"setState")},k.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function D(){}D.prototype=k.prototype;function J(E,Z,ne){this.props=E,this.context=Z,this.refs=A,this.updater=ne||_}var N=J.prototype=new D;N.constructor=J,O(N,k.prototype),N.isPureReactComponent=!0;var R=Array.isArray;function Q(){}var M={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function fe(E,Z,ne){var he=ne.ref;return{$$typeof:t,type:E,key:Z,ref:he!==void 0?he:null,props:ne}}function De(E,Z){return fe(E.type,Z,E.props)}function je(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function me(E){var Z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ne){return Z[ne]})}var ye=/\/+/g;function be(E,Z){return typeof E=="object"&&E!==null&&E.key!=null?me(""+E.key):Z.toString(36)}function Ne(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Q,Q):(E.status="pending",E.then(function(Z){E.status==="pending"&&(E.status="fulfilled",E.value=Z)},function(Z){E.status==="pending"&&(E.status="rejected",E.reason=Z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,Z,ne,he,Re){var Ee=typeof E;(Ee==="undefined"||Ee==="boolean")&&(E=null);var qe=!1;if(E===null)qe=!0;else switch(Ee){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(E.$$typeof){case t:case a:qe=!0;break;case v:return qe=E._init,U(qe(E._payload),Z,ne,he,Re)}}if(qe)return Re=Re(E),qe=he===""?"."+be(E,0):he,R(Re)?(ne="",qe!=null&&(ne=qe.replace(ye,"$&/")+"/"),U(Re,Z,ne,"",function(Fe){return Fe})):Re!=null&&(je(Re)&&(Re=De(Re,ne+(Re.key==null||E&&E.key===Re.key?"":(""+Re.key).replace(ye,"$&/")+"/")+qe)),Z.push(Re)),1;qe=0;var Ie=he===""?".":he+":";if(R(E))for(var de=0;de<E.length;de++)he=E[de],Ee=Ie+be(he,de),qe+=U(he,Z,ne,Ee,Re);else if(de=B(E),typeof de=="function")for(E=de.call(E),de=0;!(he=E.next()).done;)he=he.value,Ee=Ie+be(he,de++),qe+=U(he,Z,ne,Ee,Re);else if(Ee==="object"){if(typeof E.then=="function")return U(Ne(E),Z,ne,he,Re);throw Z=String(E),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return qe}function se(E,Z,ne){if(E==null)return E;var he=[],Re=0;return U(E,he,"","",function(Ee){return Z.call(ne,Ee,Re++)}),he}function P(E){if(E._status===-1){var Z=E._result;Z=Z(),Z.then(function(ne){(E._status===0||E._status===-1)&&(E._status=1,E._result=ne)},function(ne){(E._status===0||E._status===-1)&&(E._status=2,E._result=ne)}),E._status===-1&&(E._status=0,E._result=Z)}if(E._status===1)return E._result.default;throw E._result}var ve=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Te={map:se,forEach:function(E,Z,ne){se(E,function(){Z.apply(this,arguments)},ne)},count:function(E){var Z=0;return se(E,function(){Z++}),Z},toArray:function(E){return se(E,function(Z){return Z})||[]},only:function(E){if(!je(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ke.Activity=S,Ke.Children=Te,Ke.Component=k,Ke.Fragment=r,Ke.Profiler=o,Ke.PureComponent=J,Ke.StrictMode=l,Ke.Suspense=y,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(E){return M.H.useMemoCache(E)}},Ke.cache=function(E){return function(){return E.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(E,Z,ne){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var he=O({},E.props),Re=E.key;if(Z!=null)for(Ee in Z.key!==void 0&&(Re=""+Z.key),Z)!W.call(Z,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Z.ref===void 0||(he[Ee]=Z[Ee]);var Ee=arguments.length-2;if(Ee===1)he.children=ne;else if(1<Ee){for(var qe=Array(Ee),Ie=0;Ie<Ee;Ie++)qe[Ie]=arguments[Ie+2];he.children=qe}return fe(E.type,Re,he)},Ke.createContext=function(E){return E={$$typeof:m,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},Ke.createElement=function(E,Z,ne){var he,Re={},Ee=null;if(Z!=null)for(he in Z.key!==void 0&&(Ee=""+Z.key),Z)W.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Re[he]=Z[he]);var qe=arguments.length-2;if(qe===1)Re.children=ne;else if(1<qe){for(var Ie=Array(qe),de=0;de<qe;de++)Ie[de]=arguments[de+2];Re.children=Ie}if(E&&E.defaultProps)for(he in qe=E.defaultProps,qe)Re[he]===void 0&&(Re[he]=qe[he]);return fe(E,Ee,Re)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(E){return{$$typeof:h,render:E}},Ke.isValidElement=je,Ke.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:P}},Ke.memo=function(E,Z){return{$$typeof:p,type:E,compare:Z===void 0?null:Z}},Ke.startTransition=function(E){var Z=M.T,ne={};M.T=ne;try{var he=E(),Re=M.S;Re!==null&&Re(ne,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Q,ve)}catch(Ee){ve(Ee)}finally{Z!==null&&ne.types!==null&&(Z.types=ne.types),M.T=Z}},Ke.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ke.use=function(E){return M.H.use(E)},Ke.useActionState=function(E,Z,ne){return M.H.useActionState(E,Z,ne)},Ke.useCallback=function(E,Z){return M.H.useCallback(E,Z)},Ke.useContext=function(E){return M.H.useContext(E)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(E,Z){return M.H.useDeferredValue(E,Z)},Ke.useEffect=function(E,Z){return M.H.useEffect(E,Z)},Ke.useEffectEvent=function(E){return M.H.useEffectEvent(E)},Ke.useId=function(){return M.H.useId()},Ke.useImperativeHandle=function(E,Z,ne){return M.H.useImperativeHandle(E,Z,ne)},Ke.useInsertionEffect=function(E,Z){return M.H.useInsertionEffect(E,Z)},Ke.useLayoutEffect=function(E,Z){return M.H.useLayoutEffect(E,Z)},Ke.useMemo=function(E,Z){return M.H.useMemo(E,Z)},Ke.useOptimistic=function(E,Z){return M.H.useOptimistic(E,Z)},Ke.useReducer=function(E,Z,ne){return M.H.useReducer(E,Z,ne)},Ke.useRef=function(E){return M.H.useRef(E)},Ke.useState=function(E){return M.H.useState(E)},Ke.useSyncExternalStore=function(E,Z,ne){return M.H.useSyncExternalStore(E,Z,ne)},Ke.useTransition=function(){return M.H.useTransition()},Ke.version="19.2.0",Ke}var fy;function Zf(){return fy||(fy=1,$d.exports=WS()),$d.exports}var b=Zf();const et=Qv(b);var Vd={exports:{}},ai={},Hd={exports:{}},Zd={};var my;function e_(){return my||(my=1,(function(t){function a(U,se){var P=U.length;U.push(se);e:for(;0<P;){var ve=P-1>>>1,Te=U[ve];if(0<o(Te,se))U[ve]=se,U[P]=Te,P=ve;else break e}}function r(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var se=U[0],P=U.pop();if(P!==se){U[0]=P;e:for(var ve=0,Te=U.length,E=Te>>>1;ve<E;){var Z=2*(ve+1)-1,ne=U[Z],he=Z+1,Re=U[he];if(0>o(ne,P))he<Te&&0>o(Re,ne)?(U[ve]=Re,U[he]=P,ve=he):(U[ve]=ne,U[Z]=P,ve=Z);else if(he<Te&&0>o(Re,P))U[ve]=Re,U[he]=P,ve=he;else break e}}return se}function o(U,se){var P=U.sortIndex-se.sortIndex;return P!==0?P:U.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();t.unstable_now=function(){return m.now()-h}}var y=[],p=[],v=1,S=null,w=3,B=!1,_=!1,O=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function N(U){for(var se=r(p);se!==null;){if(se.callback===null)l(p);else if(se.startTime<=U)l(p),se.sortIndex=se.expirationTime,a(y,se);else break;se=r(p)}}function R(U){if(O=!1,N(U),!_)if(r(y)!==null)_=!0,Q||(Q=!0,me());else{var se=r(p);se!==null&&Ne(R,se.startTime-U)}}var Q=!1,M=-1,W=5,fe=-1;function De(){return A?!0:!(t.unstable_now()-fe<W)}function je(){if(A=!1,Q){var U=t.unstable_now();fe=U;var se=!0;try{e:{_=!1,O&&(O=!1,D(M),M=-1),B=!0;var P=w;try{t:{for(N(U),S=r(y);S!==null&&!(S.expirationTime>U&&De());){var ve=S.callback;if(typeof ve=="function"){S.callback=null,w=S.priorityLevel;var Te=ve(S.expirationTime<=U);if(U=t.unstable_now(),typeof Te=="function"){S.callback=Te,N(U),se=!0;break t}S===r(y)&&l(y),N(U)}else l(y);S=r(y)}if(S!==null)se=!0;else{var E=r(p);E!==null&&Ne(R,E.startTime-U),se=!1}}break e}finally{S=null,w=P,B=!1}se=void 0}}finally{se?me():Q=!1}}}var me;if(typeof J=="function")me=function(){J(je)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,be=ye.port2;ye.port1.onmessage=je,me=function(){be.postMessage(null)}}else me=function(){k(je,0)};function Ne(U,se){M=k(function(){U(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(U){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var P=w;w=se;try{return U()}finally{w=P}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(U,se){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var P=w;w=U;try{return se()}finally{w=P}},t.unstable_scheduleCallback=function(U,se,P){var ve=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ve+P:ve):P=ve,U){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=P+Te,U={id:v++,callback:se,priorityLevel:U,startTime:P,expirationTime:Te,sortIndex:-1},P>ve?(U.sortIndex=P,a(p,U),r(y)===null&&U===r(p)&&(O?(D(M),M=-1):O=!0,Ne(R,P-ve))):(U.sortIndex=Te,a(y,U),_||B||(_=!0,Q||(Q=!0,me()))),U},t.unstable_shouldYield=De,t.unstable_wrapCallback=function(U){var se=w;return function(){var P=w;w=se;try{return U.apply(this,arguments)}finally{w=P}}}})(Zd)),Zd}var hy;function t_(){return hy||(hy=1,Hd.exports=e_()),Hd.exports}var Id={exports:{}},xn={};var py;function n_(){if(py)return xn;py=1;var t=Zf();function a(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var m=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,xn.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(y,p,null,v)},xn.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},xn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},xn.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},xn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,B=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:B}):v==="script"&&l.d.X(y,{crossOrigin:S,integrity:w,fetchPriority:B,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},xn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xn.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},xn.requestFormReset=function(y){l.d.r(y)},xn.unstable_batchedUpdates=function(y,p){return y(p)},xn.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},xn.useFormStatus=function(){return m.H.useHostTransitionStatus()},xn.version="19.2.0",xn}var gy;function a_(){if(gy)return Id.exports;gy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Id.exports=n_(),Id.exports}var yy;function s_(){if(yy)return ai;yy=1;var t=t_(),a=Zf(),r=a_();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,i=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){s=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return y(u),e;if(f===i)return y(u),n;f=f.sibling}throw Error(l(188))}if(s.return!==i.return)s=u,i=f;else{for(var g=!1,x=u.child;x;){if(x===s){g=!0,s=u,i=f;break}if(x===i){g=!0,i=u,s=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===s){g=!0,s=f,i=u;break}if(x===i){g=!0,i=f,s=u;break}x=x.sibling}if(!g)throw Error(l(189))}}if(s.alternate!==i)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),J=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case k:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case Q:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case J:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:be(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return be(e(n))}catch{}}return null}var Ne=Array.isArray,U=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},ve=[],Te=-1;function E(e){return{current:e}}function Z(e){0>Te||(e.current=ve[Te],ve[Te]=null,Te--)}function ne(e,n){Te++,ve[Te]=e.current,e.current=n}var he=E(null),Re=E(null),Ee=E(null),qe=E(null);function Ie(e,n){switch(ne(Ee,n),ne(Re,e),ne(he,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?zg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=zg(n),e=Dg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(he),ne(he,e)}function de(){Z(he),Z(Re),Z(Ee)}function Fe(e){e.memoizedState!==null&&ne(qe,e);var n=he.current,s=Dg(n,e.type);n!==s&&(ne(Re,e),ne(he,s))}function He(e){Re.current===e&&(Z(he),Z(Re)),qe.current===e&&(Z(qe),Jl._currentValue=P)}var _e,Ye;function Be(e){if(_e===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);_e=n&&n[1]||"",Ye=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+e+Ye}var Pe=!1;function xe(e,n){if(!e||Pe)return"";Pe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var H=X}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(X){H=X}e.call(ie.prototype)}}else{try{throw Error()}catch(X){H=X}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&H&&typeof X.stack=="string")return[X.stack,H.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),g=f[0],x=f[1];if(g&&x){var C=g.split(`
`),$=x.split(`
`);for(u=i=0;i<C.length&&!C[i].includes("DetermineComponentFrameRoot");)i++;for(;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;if(i===C.length||u===$.length)for(i=C.length-1,u=$.length-1;1<=i&&0<=u&&C[i]!==$[u];)u--;for(;1<=i&&0<=u;i--,u--)if(C[i]!==$[u]){if(i!==1||u!==1)do if(i--,u--,0>u||C[i]!==$[u]){var te=`
`+C[i].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=i&&0<=u);break}}}finally{Pe=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Be(s):""}function ae(e,n){switch(e.tag){case 26:case 27:case 5:return Be(e.type);case 16:return Be("Lazy");case 13:return e.child!==n&&n!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return xe(e.type,!1);case 11:return xe(e.type.render,!1);case 1:return xe(e.type,!0);case 31:return Be("Activity");default:return""}}function we(e){try{var n="",s=null;do n+=ae(e,s),s=e,e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Y=Object.prototype.hasOwnProperty,j=t.unstable_scheduleCallback,T=t.unstable_cancelCallback,V=t.unstable_shouldYield,pe=t.unstable_requestPaint,le=t.unstable_now,ue=t.unstable_getCurrentPriorityLevel,Ae=t.unstable_ImmediatePriority,Le=t.unstable_UserBlockingPriority,ee=t.unstable_NormalPriority,Qe=t.unstable_LowPriority,tt=t.unstable_IdlePriority,Nt=t.log,Ut=t.unstable_setDisableYieldValue,wn=null,L=null;function I(e){if(typeof Nt=="function"&&Ut(e),L&&typeof L.setStrictMode=="function")try{L.setStrictMode(wn,e)}catch{}}var oe=Math.clz32?Math.clz32:dt,Me=Math.log,nt=Math.LN2;function dt(e){return e>>>=0,e===0?32:31-(Me(e)/nt|0)|0}var Ue=256,Zt=262144,St=4194304;function _t(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kt(e,n,s){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var x=i&134217727;return x!==0?(i=x&~f,i!==0?u=_t(i):(g&=x,g!==0?u=_t(g):s||(s=x&~e,s!==0&&(u=_t(s))))):(x=i&~f,x!==0?u=_t(x):g!==0?u=_t(g):s||(s=i&~e,s!==0&&(u=_t(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function kt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var e=St;return St<<=1,(St&62914560)===0&&(St=4194304),e}function Bt(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function rn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function un(e,n,s,i,u,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var x=e.entanglements,C=e.expirationTimes,$=e.hiddenUpdates;for(s=g&~s;0<s;){var te=31-oe(s),ie=1<<te;x[te]=0,C[te]=-1;var H=$[te];if(H!==null)for($[te]=null,te=0;te<H.length;te++){var X=H[te];X!==null&&(X.lane&=-536870913)}s&=~ie}i!==0&&dn(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function dn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var i=31-oe(n);e.entangledLanes|=n,e.entanglements[i]=e.entanglements[i]|1073741824|s&261930}function Pt(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var i=31-oe(s),u=1<<i;u&n|e[i]&n&&(e[i]|=n),s&=~u}}function It(e,n){var s=n&-n;return s=(s&42)!==0?1:Nn(s),(s&(e.suspendedLanes|n))!==0?0:s}function Nn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pn(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:ny(e.type))}function _a(e,n){var s=se.p;try{return se.p=e,n()}finally{se.p=s}}var $n=Math.random().toString(36).slice(2),Ft="__reactFiber$"+$n,fn="__reactProps$"+$n,da="__reactContainer$"+$n,Ja="__reactEvents$"+$n,ml="__reactListeners$"+$n,Wa="__reactHandles$"+$n,Rs="__reactResources$"+$n,wa="__reactMarker$"+$n;function hl(e){delete e[Ft],delete e[fn],delete e[Ja],delete e[ml],delete e[Wa]}function es(e){var n=e[Ft];if(n)return n;for(var s=e.parentNode;s;){if(n=s[da]||s[Ft]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Fg(e);e!==null;){if(s=e[Ft])return s;e=Fg(e)}return n}e=s,s=e.parentNode}return null}function fa(e){if(e=e[Ft]||e[da]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ts(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function ts(e){var n=e[Rs];return n||(n=e[Rs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xt(e){e[wa]=!0}var Oi=new Set,Ci={};function Ta(e,n){ns(e,n),ns(e+"Capture",n)}function ns(e,n){for(Ci[e]=n,e=0;e<n.length;e++)Oi.add(n[e])}var Dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dr={},K={};function ge(e){return Y.call(K,e)?!0:Y.call(dr,e)?!1:Dc.test(e)?K[e]=!0:(dr[e]=!0,!1)}function Se(e,n,s){if(ge(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Ce(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function at(e,n,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+i)}}function it(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Et(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ma(e,n,s){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function fr(e){if(!e._valueTracker){var n=Et(e)?"checked":"value";e._valueTracker=ma(e,n,""+e[n])}}function zs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),i="";return e&&(i=Et(e)?e.checked?"true":"false":e.value),e=i,e!==s?(n.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var I0=/[\n"\\]/g;function Xn(e){return e.replace(I0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mc(e,n,s,i,u,f,g,x){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+it(n)):e.value!==""+it(n)&&(e.value=""+it(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Uc(e,g,it(n)):s!=null?Uc(e,g,it(s)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+it(x):e.removeAttribute("name")}function Em(e,n,s,i,u,f,g,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){fr(e);return}s=s!=null?""+it(s):"",n=n!=null?""+it(n):s,x||n===e.value||(e.value=n),e.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=x?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),fr(e)}function Uc(e,n,s){n==="number"&&Ri(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function mr(e,n,s,i){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&i&&(e[s].defaultSelected=!0)}else{for(s=""+it(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Am(e,n,s){if(n!=null&&(n=""+it(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+it(s):""}function Om(e,n,s,i){if(n==null){if(i!=null){if(s!=null)throw Error(l(92));if(Ne(i)){if(1<i.length)throw Error(l(93));i=i[0]}s=i}s==null&&(s=""),n=s}s=it(n),e.defaultValue=s,i=e.textContent,i===s&&i!==""&&i!==null&&(e.value=i),fr(e)}function hr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cm(e,n,s){var i=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?i?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":i?e.setProperty(n,s):typeof s!="number"||s===0||Q0.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Rm(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var i in s)!s.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&s[u]!==i&&Cm(e,u,i)}else for(var f in n)n.hasOwnProperty(f)&&Cm(e,f,n[f])}function kc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return Y0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function za(){}var qc=null;function Bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,gr=null;function Tm(e){var n=fa(e);if(n&&(e=n.stateNode)){var s=e[fn]||null;e:switch(e=n.stateNode,n.type){case"input":if(Mc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Xn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var i=s[n];if(i!==e&&i.form===e.form){var u=i[fn]||null;if(!u)throw Error(l(90));Mc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)i=s[n],i.form===e.form&&zs(i)}break e;case"textarea":Am(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&mr(e,!!s.multiple,n,!1)}}}var Lc=!1;function zm(e,n,s){if(Lc)return e(n,s);Lc=!0;try{var i=e(n);return i}finally{if(Lc=!1,(pr!==null||gr!==null)&&(bo(),pr&&(n=pr,e=gr,gr=pr=null,Tm(n),e)))for(n=0;n<e.length;n++)Tm(e[n])}}function pl(e,n){var s=e.stateNode;if(s===null)return null;var i=s[fn]||null;if(i===null)return null;s=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=!1;if(Da)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Fc=!1}var as=null,$c=null,zi=null;function Dm(){if(zi)return zi;var e,n=$c,s=n.length,i,u="value"in as?as.value:as.textContent,f=u.length;for(e=0;e<s&&n[e]===u[e];e++);var g=s-e;for(i=1;i<=g&&n[s-i]===u[f-i];i++);return zi=u.slice(e,1<i?1-i:void 0)}function Di(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Mm(){return!1}function Cn(e){function n(s,i,u,f,g){this._reactName=s,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Mm,this.isPropagationStopped=Mm,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=Cn(Ds),yl=S({},Ds,{view:0,detail:0}),K0=Cn(yl),Vc,Hc,vl,ki=S({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vl&&(vl&&e.type==="mousemove"?(Vc=e.screenX-vl.screenX,Hc=e.screenY-vl.screenY):Hc=Vc=0,vl=e),Vc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),Um=Cn(ki),P0=S({},ki,{dataTransfer:0}),X0=Cn(P0),J0=S({},yl,{relatedTarget:0}),Zc=Cn(J0),W0=S({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),ex=Cn(W0),tx=S({},Ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nx=Cn(tx),ax=S({},Ds,{data:0}),km=Cn(ax),sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ix(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lx[e])?!!n[e]:!1}function Ic(){return ix}var ox=S({},yl,{key:function(e){if(e.key){var n=sx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(e){return e.type==="keypress"?Di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cx=Cn(ox),ux=S({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=Cn(ux),dx=S({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),fx=Cn(dx),mx=S({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),hx=Cn(mx),px=S({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gx=Cn(px),yx=S({},Ds,{newState:0,oldState:0}),vx=Cn(yx),bx=[9,13,27,32],Qc=Da&&"CompositionEvent"in window,bl=null;Da&&"documentMode"in document&&(bl=document.documentMode);var xx=Da&&"TextEvent"in window&&!bl,Bm=Da&&(!Qc||bl&&8<bl&&11>=bl),Lm=" ",Fm=!1;function $m(e,n){switch(e){case"keyup":return bx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function Sx(e,n){switch(e){case"compositionend":return Vm(n);case"keypress":return n.which!==32?null:(Fm=!0,Lm);case"textInput":return e=n.data,e===Lm&&Fm?null:e;default:return null}}function _x(e,n){if(yr)return e==="compositionend"||!Qc&&$m(e,n)?(e=Dm(),zi=$c=as=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bm&&n.locale!=="ko"?null:n.data;default:return null}}var wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wx[e.type]:n==="textarea"}function Zm(e,n,s,i){pr?gr?gr.push(i):gr=[i]:pr=i,n=Eo(n,"onChange"),0<n.length&&(s=new Ui("onChange","change",null,s,i),e.push({event:s,listeners:n}))}var xl=null,Sl=null;function Nx(e){Eg(e,0)}function qi(e){var n=Ts(e);if(zs(n))return e}function Im(e,n){if(e==="change")return n}var Qm=!1;if(Da){var Gc;if(Da){var Yc="oninput"in document;if(!Yc){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),Yc=typeof Gm.oninput=="function"}Gc=Yc}else Gc=!1;Qm=Gc&&(!document.documentMode||9<document.documentMode)}function Ym(){xl&&(xl.detachEvent("onpropertychange",Km),Sl=xl=null)}function Km(e){if(e.propertyName==="value"&&qi(Sl)){var n=[];Zm(n,Sl,e,Bc(e)),zm(Nx,n)}}function jx(e,n,s){e==="focusin"?(Ym(),xl=n,Sl=s,xl.attachEvent("onpropertychange",Km)):e==="focusout"&&Ym()}function Ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(Sl)}function Ax(e,n){if(e==="click")return qi(n)}function Ox(e,n){if(e==="input"||e==="change")return qi(n)}function Cx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Vn=typeof Object.is=="function"?Object.is:Cx;function _l(e,n){if(Vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),i=Object.keys(n);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var u=s[i];if(!Y.call(n,u)||!Vn(e[u],n[u]))return!1}return!0}function Pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xm(e,n){var s=Pm(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=n&&i>=n)return{node:s,offset:n-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Pm(s)}}function Jm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Jm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Wm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ri(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ri(e.document)}return n}function Kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Rx=Da&&"documentMode"in document&&11>=document.documentMode,vr=null,Pc=null,wl=null,Xc=!1;function eh(e,n,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xc||vr==null||vr!==Ri(i)||(i=vr,"selectionStart"in i&&Kc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wl&&_l(wl,i)||(wl=i,i=Eo(Pc,"onSelect"),0<i.length&&(n=new Ui("onSelect","select",null,n,s),e.push({event:n,listeners:i}),n.target=vr)))}function Ms(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var br={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Jc={},th={};Da&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function Us(e){if(Jc[e])return Jc[e];if(!br[e])return e;var n=br[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in th)return Jc[e]=n[s];return e}var nh=Us("animationend"),ah=Us("animationiteration"),sh=Us("animationstart"),Tx=Us("transitionrun"),zx=Us("transitionstart"),Dx=Us("transitioncancel"),rh=Us("transitionend"),lh=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function ha(e,n){lh.set(e,n),Ta(n,[e])}var Bi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jn=[],xr=0,eu=0;function Li(){for(var e=xr,n=eu=xr=0;n<e;){var s=Jn[n];Jn[n++]=null;var i=Jn[n];Jn[n++]=null;var u=Jn[n];Jn[n++]=null;var f=Jn[n];if(Jn[n++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}f!==0&&ih(s,u,f)}}function Fi(e,n,s,i){Jn[xr++]=e,Jn[xr++]=n,Jn[xr++]=s,Jn[xr++]=i,eu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function tu(e,n,s,i){return Fi(e,n,s,i),$i(e)}function ks(e,n){return Fi(e,null,null,n),$i(e)}function ih(e,n,s){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s);for(var u=!1,f=e.return;f!==null;)f.childLanes|=s,i=f.alternate,i!==null&&(i.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-oe(s),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[n]:i.push(n),n.lane=s|536870912),f):null}function $i(e){if(50<Il)throw Il=0,ud=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Sr={};function Mx(e,n,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,n,s,i){return new Mx(e,n,s,i)}function nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ma(e,n){var s=e.alternate;return s===null?(s=Hn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function oh(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vi(e,n,s,i,u,f){var g=0;if(i=e,typeof e=="function")nu(e)&&(g=1);else if(typeof e=="string")g=LS(e,s,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=Hn(31,s,n,u),e.elementType=fe,e.lanes=f,e;case O:return qs(s.children,u,f,n);case A:g=8,u|=24;break;case k:return e=Hn(12,s,n,u|2),e.elementType=k,e.lanes=f,e;case R:return e=Hn(13,s,n,u),e.elementType=R,e.lanes=f,e;case Q:return e=Hn(19,s,n,u),e.elementType=Q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:g=10;break e;case D:g=9;break e;case N:g=11;break e;case M:g=14;break e;case W:g=16,i=null;break e}g=29,s=Error(l(130,e===null?"null":typeof e,"")),i=null}return n=Hn(g,s,n,u),n.elementType=e,n.type=i,n.lanes=f,n}function qs(e,n,s,i){return e=Hn(7,e,i,n),e.lanes=s,e}function au(e,n,s){return e=Hn(6,e,null,n),e.lanes=s,e}function ch(e){var n=Hn(18,null,null,0);return n.stateNode=e,n}function su(e,n,s){return n=Hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var uh=new WeakMap;function Wn(e,n){if(typeof e=="object"&&e!==null){var s=uh.get(e);return s!==void 0?s:(n={value:e,source:n,stack:we(n)},uh.set(e,n),n)}return{value:e,source:n,stack:we(n)}}var _r=[],wr=0,Hi=null,Nl=0,ea=[],ta=0,ss=null,Na=1,ja="";function Ua(e,n){_r[wr++]=Nl,_r[wr++]=Hi,Hi=e,Nl=n}function dh(e,n,s){ea[ta++]=Na,ea[ta++]=ja,ea[ta++]=ss,ss=e;var i=Na;e=ja;var u=32-oe(i)-1;i&=~(1<<u),s+=1;var f=32-oe(n)+u;if(30<f){var g=u-u%5;f=(i&(1<<g)-1).toString(32),i>>=g,u-=g,Na=1<<32-oe(n)+u|s<<u|i,ja=f+e}else Na=1<<f|s<<u|i,ja=e}function ru(e){e.return!==null&&(Ua(e,1),dh(e,1,0))}function lu(e){for(;e===Hi;)Hi=_r[--wr],_r[wr]=null,Nl=_r[--wr],_r[wr]=null;for(;e===ss;)ss=ea[--ta],ea[ta]=null,ja=ea[--ta],ea[ta]=null,Na=ea[--ta],ea[ta]=null}function fh(e,n){ea[ta++]=Na,ea[ta++]=ja,ea[ta++]=ss,Na=n.id,ja=n.overflow,ss=e}var gn=null,At=null,ut=!1,rs=null,na=!1,iu=Error(l(519));function ls(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Wn(n,e)),iu}function mh(e){var n=e.stateNode,s=e.type,i=e.memoizedProps;switch(n[Ft]=e,n[fn]=i,s){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(s=0;s<Gl.length;s++)rt(Gl[s],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":rt("invalid",n),Em(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":rt("invalid",n);break;case"textarea":rt("invalid",n),Om(n,i.value,i.defaultValue,i.children)}s=i.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||i.suppressHydrationWarning===!0||Rg(n.textContent,s)?(i.popover!=null&&(rt("beforetoggle",n),rt("toggle",n)),i.onScroll!=null&&rt("scroll",n),i.onScrollEnd!=null&&rt("scrollend",n),i.onClick!=null&&(n.onclick=za),n=!0):n=!1,n||ls(e,!0)}function hh(e){for(gn=e.return;gn;)switch(gn.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:gn=gn.return}}function Nr(e){if(e!==gn)return!1;if(!ut)return hh(e),ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||jd(e.type,e.memoizedProps)),s=!s),s&&At&&ls(e),hh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));At=Lg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));At=Lg(e)}else n===27?(n=At,xs(e.type)?(e=Rd,Rd=null,At=e):At=n):At=gn?sa(e.stateNode.nextSibling):null;return!0}function Bs(){At=gn=null,ut=!1}function ou(){var e=rs;return e!==null&&(Dn===null?Dn=e:Dn.push.apply(Dn,e),rs=null),e}function jl(e){rs===null?rs=[e]:rs.push(e)}var cu=E(null),Ls=null,ka=null;function is(e,n,s){ne(cu,n._currentValue),n._currentValue=s}function qa(e){e._currentValue=cu.current,Z(cu)}function uu(e,n,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===s)break;e=e.return}}function du(e,n,s,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=u;for(var C=0;C<n.length;C++)if(x.context===n[C]){f.lanes|=s,x=f.alternate,x!==null&&(x.lanes|=s),uu(f.return,s,e),i||(g=null);break e}f=x.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),uu(g,s,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function jr(e,n,s,i){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var x=u.type;Vn(u.pendingProps.value,g.value)||(e!==null?e.push(x):e=[x])}}else if(u===qe.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}u=u.return}e!==null&&du(n,e,s,i),n.flags|=262144}function Zi(e){for(e=e.firstContext;e!==null;){if(!Vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){Ls=e,ka=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yn(e){return ph(Ls,e)}function Ii(e,n){return Ls===null&&Fs(e),ph(e,n)}function ph(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ka===null){if(e===null)throw Error(l(308));ka=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ka=ka.next=n;return s}var Ux=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,i){e.push(i)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},kx=t.unstable_scheduleCallback,qx=t.unstable_NormalPriority,Jt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fu(){return{controller:new Ux,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&kx(qx,function(){e.controller.abort()})}var Al=null,mu=0,Er=0,Ar=null;function Bx(e,n){if(Al===null){var s=Al=[];mu=0,Er=gd(),Ar={status:"pending",value:void 0,then:function(i){s.push(i)}}}return mu++,n.then(gh,gh),n}function gh(){if(--mu===0&&Al!==null){Ar!==null&&(Ar.status="fulfilled");var e=Al;Al=null,Er=0,Ar=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Lx(e,n){var s=[],i={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),i}var yh=U.S;U.S=function(e,n){eg=le(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Bx(e,n),yh!==null&&yh(e,n)};var $s=E(null);function hu(){var e=$s.current;return e!==null?e:wt.pooledCache}function Qi(e,n){n===null?ne($s,$s.current):ne($s,n.pool)}function vh(){var e=hu();return e===null?null:{parent:Jt._currentValue,pool:e}}var Or=Error(l(460)),pu=Error(l(474)),Gi=Error(l(542)),Yi={then:function(){}};function bh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xh(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(za,za),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_h(e),e;default:if(typeof n.status=="string")n.then(za,za);else{if(e=wt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_h(e),e}throw Hs=n,Or}}function Vs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Hs=s,Or):s}}var Hs=null;function Sh(){if(Hs===null)throw Error(l(459));var e=Hs;return Hs=null,e}function _h(e){if(e===Or||e===Gi)throw Error(l(483))}var Cr=null,Ol=0;function Ki(e){var n=Ol;return Ol+=1,Cr===null&&(Cr=[]),xh(Cr,e,n)}function Cl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pi(e,n){throw n.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wh(e){function n(q,z){if(e){var F=q.deletions;F===null?(q.deletions=[z],q.flags|=16):F.push(z)}}function s(q,z){if(!e)return null;for(;z!==null;)n(q,z),z=z.sibling;return null}function i(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function u(q,z){return q=Ma(q,z),q.index=0,q.sibling=null,q}function f(q,z,F){return q.index=F,e?(F=q.alternate,F!==null?(F=F.index,F<z?(q.flags|=67108866,z):F):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function g(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function x(q,z,F,re){return z===null||z.tag!==6?(z=au(F,q.mode,re),z.return=q,z):(z=u(z,F),z.return=q,z)}function C(q,z,F,re){var $e=F.type;return $e===O?te(q,z,F.props.children,re,F.key):z!==null&&(z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===W&&Vs($e)===z.type)?(z=u(z,F.props),Cl(z,F),z.return=q,z):(z=Vi(F.type,F.key,F.props,null,q.mode,re),Cl(z,F),z.return=q,z)}function $(q,z,F,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=su(F,q.mode,re),z.return=q,z):(z=u(z,F.children||[]),z.return=q,z)}function te(q,z,F,re,$e){return z===null||z.tag!==7?(z=qs(F,q.mode,re,$e),z.return=q,z):(z=u(z,F),z.return=q,z)}function ie(q,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=au(""+z,q.mode,F),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return F=Vi(z.type,z.key,z.props,null,q.mode,F),Cl(F,z),F.return=q,F;case _:return z=su(z,q.mode,F),z.return=q,z;case W:return z=Vs(z),ie(q,z,F)}if(Ne(z)||me(z))return z=qs(z,q.mode,F,null),z.return=q,z;if(typeof z.then=="function")return ie(q,Ki(z),F);if(z.$$typeof===J)return ie(q,Ii(q,z),F);Pi(q,z)}return null}function H(q,z,F,re){var $e=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return $e!==null?null:x(q,z,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return F.key===$e?C(q,z,F,re):null;case _:return F.key===$e?$(q,z,F,re):null;case W:return F=Vs(F),H(q,z,F,re)}if(Ne(F)||me(F))return $e!==null?null:te(q,z,F,re,null);if(typeof F.then=="function")return H(q,z,Ki(F),re);if(F.$$typeof===J)return H(q,z,Ii(q,F),re);Pi(q,F)}return null}function X(q,z,F,re,$e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(F)||null,x(z,q,""+re,$e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case B:return q=q.get(re.key===null?F:re.key)||null,C(z,q,re,$e);case _:return q=q.get(re.key===null?F:re.key)||null,$(z,q,re,$e);case W:return re=Vs(re),X(q,z,F,re,$e)}if(Ne(re)||me(re))return q=q.get(F)||null,te(z,q,re,$e,null);if(typeof re.then=="function")return X(q,z,F,Ki(re),$e);if(re.$$typeof===J)return X(q,z,F,Ii(z,re),$e);Pi(z,re)}return null}function ze(q,z,F,re){for(var $e=null,ft=null,ke=z,We=z=0,ct=null;ke!==null&&We<F.length;We++){ke.index>We?(ct=ke,ke=null):ct=ke.sibling;var mt=H(q,ke,F[We],re);if(mt===null){ke===null&&(ke=ct);break}e&&ke&&mt.alternate===null&&n(q,ke),z=f(mt,z,We),ft===null?$e=mt:ft.sibling=mt,ft=mt,ke=ct}if(We===F.length)return s(q,ke),ut&&Ua(q,We),$e;if(ke===null){for(;We<F.length;We++)ke=ie(q,F[We],re),ke!==null&&(z=f(ke,z,We),ft===null?$e=ke:ft.sibling=ke,ft=ke);return ut&&Ua(q,We),$e}for(ke=i(ke);We<F.length;We++)ct=X(ke,q,We,F[We],re),ct!==null&&(e&&ct.alternate!==null&&ke.delete(ct.key===null?We:ct.key),z=f(ct,z,We),ft===null?$e=ct:ft.sibling=ct,ft=ct);return e&&ke.forEach(function(js){return n(q,js)}),ut&&Ua(q,We),$e}function Ze(q,z,F,re){if(F==null)throw Error(l(151));for(var $e=null,ft=null,ke=z,We=z=0,ct=null,mt=F.next();ke!==null&&!mt.done;We++,mt=F.next()){ke.index>We?(ct=ke,ke=null):ct=ke.sibling;var js=H(q,ke,mt.value,re);if(js===null){ke===null&&(ke=ct);break}e&&ke&&js.alternate===null&&n(q,ke),z=f(js,z,We),ft===null?$e=js:ft.sibling=js,ft=js,ke=ct}if(mt.done)return s(q,ke),ut&&Ua(q,We),$e;if(ke===null){for(;!mt.done;We++,mt=F.next())mt=ie(q,mt.value,re),mt!==null&&(z=f(mt,z,We),ft===null?$e=mt:ft.sibling=mt,ft=mt);return ut&&Ua(q,We),$e}for(ke=i(ke);!mt.done;We++,mt=F.next())mt=X(ke,q,We,mt.value,re),mt!==null&&(e&&mt.alternate!==null&&ke.delete(mt.key===null?We:mt.key),z=f(mt,z,We),ft===null?$e=mt:ft.sibling=mt,ft=mt);return e&&ke.forEach(function(PS){return n(q,PS)}),ut&&Ua(q,We),$e}function xt(q,z,F,re){if(typeof F=="object"&&F!==null&&F.type===O&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case B:e:{for(var $e=F.key;z!==null;){if(z.key===$e){if($e=F.type,$e===O){if(z.tag===7){s(q,z.sibling),re=u(z,F.props.children),re.return=q,q=re;break e}}else if(z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===W&&Vs($e)===z.type){s(q,z.sibling),re=u(z,F.props),Cl(re,F),re.return=q,q=re;break e}s(q,z);break}else n(q,z);z=z.sibling}F.type===O?(re=qs(F.props.children,q.mode,re,F.key),re.return=q,q=re):(re=Vi(F.type,F.key,F.props,null,q.mode,re),Cl(re,F),re.return=q,q=re)}return g(q);case _:e:{for($e=F.key;z!==null;){if(z.key===$e)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){s(q,z.sibling),re=u(z,F.children||[]),re.return=q,q=re;break e}else{s(q,z);break}else n(q,z);z=z.sibling}re=su(F,q.mode,re),re.return=q,q=re}return g(q);case W:return F=Vs(F),xt(q,z,F,re)}if(Ne(F))return ze(q,z,F,re);if(me(F)){if($e=me(F),typeof $e!="function")throw Error(l(150));return F=$e.call(F),Ze(q,z,F,re)}if(typeof F.then=="function")return xt(q,z,Ki(F),re);if(F.$$typeof===J)return xt(q,z,Ii(q,F),re);Pi(q,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,z!==null&&z.tag===6?(s(q,z.sibling),re=u(z,F),re.return=q,q=re):(s(q,z),re=au(F,q.mode,re),re.return=q,q=re),g(q)):s(q,z)}return function(q,z,F,re){try{Ol=0;var $e=xt(q,z,F,re);return Cr=null,$e}catch(ke){if(ke===Or||ke===Gi)throw ke;var ft=Hn(29,ke,null,q.mode);return ft.lanes=re,ft.return=q,ft}finally{}}}var Zs=wh(!0),Nh=wh(!1),os=!1;function gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function us(e,n,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ht&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=$i(e),ih(e,null,s),n}return Fi(e,i,n,s),$i(e)}function Rl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var i=n.lanes;i&=e.pendingLanes,s|=i,n.lanes=s,Pt(e,s)}}function vu(e,n){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var bu=!1;function Tl(){if(bu){var e=Ar;if(e!==null)throw e}}function zl(e,n,s,i){bu=!1;var u=e.updateQueue;os=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var C=x,$=C.next;C.next=null,g===null?f=$:g.next=$,g=C;var te=e.alternate;te!==null&&(te=te.updateQueue,x=te.lastBaseUpdate,x!==g&&(x===null?te.firstBaseUpdate=$:x.next=$,te.lastBaseUpdate=C))}if(f!==null){var ie=u.baseState;g=0,te=$=C=null,x=f;do{var H=x.lane&-536870913,X=H!==x.lane;if(X?(ot&H)===H:(i&H)===H){H!==0&&H===Er&&(bu=!0),te!==null&&(te=te.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ze=e,Ze=x;H=n;var xt=s;switch(Ze.tag){case 1:if(ze=Ze.payload,typeof ze=="function"){ie=ze.call(xt,ie,H);break e}ie=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ze.payload,H=typeof ze=="function"?ze.call(xt,ie,H):ze,H==null)break e;ie=S({},ie,H);break e;case 2:os=!0}}H=x.callback,H!==null&&(e.flags|=64,X&&(e.flags|=8192),X=u.callbacks,X===null?u.callbacks=[H]:X.push(H))}else X={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},te===null?($=te=X,C=ie):te=te.next=X,g|=H;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;X=x,x=X.next,X.next=null,u.lastBaseUpdate=X,u.shared.pending=null}}while(!0);te===null&&(C=ie),u.baseState=C,u.firstBaseUpdate=$,u.lastBaseUpdate=te,f===null&&(u.shared.lanes=0),ps|=g,e.lanes=g,e.memoizedState=ie}}function jh(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Eh(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)jh(s[e],n)}var Rr=E(null),Xi=E(0);function Ah(e,n){e=Qa,ne(Xi,e),ne(Rr,n),Qa=e|n.baseLanes}function xu(){ne(Xi,Qa),ne(Rr,Rr.current)}function Su(){Qa=Xi.current,Z(Rr),Z(Xi)}var Zn=E(null),aa=null;function ds(e){var n=e.alternate;ne(Qt,Qt.current&1),ne(Zn,e),aa===null&&(n===null||Rr.current!==null||n.memoizedState!==null)&&(aa=e)}function _u(e){ne(Qt,Qt.current),ne(Zn,e),aa===null&&(aa=e)}function Oh(e){e.tag===22?(ne(Qt,Qt.current),ne(Zn,e),aa===null&&(aa=e)):fs()}function fs(){ne(Qt,Qt.current),ne(Zn,Zn.current)}function In(e){Z(Zn),aa===e&&(aa=null),Z(Qt)}var Qt=E(0);function Ji(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Od(s)||Cd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ba=0,Xe=null,vt=null,Wt=null,Wi=!1,Tr=!1,Is=!1,eo=0,Dl=0,zr=null,Fx=0;function $t(){throw Error(l(321))}function wu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Vn(e[s],n[s]))return!1;return!0}function Nu(e,n,s,i,u,f){return Ba=f,Xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?dp:Lu,Is=!1,f=s(i,u),Is=!1,Tr&&(f=Rh(n,s,i,u)),Ch(e),f}function Ch(e){U.H=kl;var n=vt!==null&&vt.next!==null;if(Ba=0,Wt=vt=Xe=null,Wi=!1,Dl=0,zr=null,n)throw Error(l(300));e===null||en||(e=e.dependencies,e!==null&&Zi(e)&&(en=!0))}function Rh(e,n,s,i){Xe=e;var u=0;do{if(Tr&&(zr=null),Dl=0,Tr=!1,25<=u)throw Error(l(301));if(u+=1,Wt=vt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=fp,f=n(s,i)}while(Tr);return f}function $x(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?Ml(n):n,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(Xe.flags|=1024),n}function ju(){var e=eo!==0;return eo=0,e}function Eu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Au(e){if(Wi){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wi=!1}Ba=0,Wt=vt=Xe=null,Tr=!1,Dl=eo=0,zr=null}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Xe.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function Gt(){if(vt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var n=Wt===null?Xe.memoizedState:Wt.next;if(n!==null)Wt=n,vt=e;else{if(e===null)throw Xe.alternate===null?Error(l(467)):Error(l(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Wt===null?Xe.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function to(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(e){var n=Dl;return Dl+=1,zr===null&&(zr=[]),e=xh(zr,e,n),n=Xe,(Wt===null?n.memoizedState:Wt.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?dp:Lu),e}function no(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ml(e);if(e.$$typeof===J)return yn(e)}throw Error(l(438,String(e)))}function Ou(e){var n=null,s=Xe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var i=Xe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=to(),Xe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),i=0;i<e;i++)s[i]=De;return n.index++,s}function La(e,n){return typeof n=="function"?n(e):n}function ao(e){var n=Gt();return Cu(n,vt,e)}function Cu(e,n,s){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=s;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var x=g=null,C=null,$=n,te=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(ot&ie)===ie:(Ba&ie)===ie){var H=$.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===Er&&(te=!0);else if((Ba&H)===H){$=$.next,H===Er&&(te=!0);continue}else ie={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},C===null?(x=C=ie,g=f):C=C.next=ie,Xe.lanes|=H,ps|=H;ie=$.action,Is&&s(f,ie),f=$.hasEagerState?$.eagerState:s(f,ie)}else H={lane:ie,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},C===null?(x=C=H,g=f):C=C.next=H,Xe.lanes|=ie,ps|=ie;$=$.next}while($!==null&&$!==n);if(C===null?g=f:C.next=x,!Vn(f,e.memoizedState)&&(en=!0,te&&(s=Ar,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ru(e){var n=Gt(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var i=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);Vn(f,n.memoizedState)||(en=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,i]}function Th(e,n,s){var i=Xe,u=Gt(),f=ut;if(f){if(s===void 0)throw Error(l(407));s=s()}else s=n();var g=!Vn((vt||u).memoizedState,s);if(g&&(u.memoizedState=s,en=!0),u=u.queue,Du(Mh.bind(null,i,u,e),[e]),u.getSnapshot!==n||g||Wt!==null&&Wt.memoizedState.tag&1){if(i.flags|=2048,Dr(9,{destroy:void 0},Dh.bind(null,i,u,s,n),null),wt===null)throw Error(l(349));f||(Ba&127)!==0||zh(i,n,s)}return s}function zh(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Xe.updateQueue,n===null?(n=to(),Xe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Dh(e,n,s,i){n.value=s,n.getSnapshot=i,Uh(n)&&kh(e)}function Mh(e,n,s){return s(function(){Uh(n)&&kh(e)})}function Uh(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Vn(e,s)}catch{return!0}}function kh(e){var n=ks(e,2);n!==null&&Mn(n,e,2)}function Tu(e){var n=jn();if(typeof e=="function"){var s=e;if(e=s(),Is){I(!0);try{s()}finally{I(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},n}function qh(e,n,s,i){return e.baseState=s,Cu(e,vt,typeof i=="function"?i:La)}function Vx(e,n,s,i,u){if(lo(e))throw Error(l(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?s(!0):f.isTransition=!1,i(f),s=n.pending,s===null?(f.next=n.pending=f,Bh(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Bh(e,n){var s=n.action,i=n.payload,u=e.state;if(n.isTransition){var f=U.T,g={};U.T=g;try{var x=s(u,i),C=U.S;C!==null&&C(g,x),Lh(e,n,x)}catch($){zu(e,n,$)}finally{f!==null&&g.types!==null&&(f.types=g.types),U.T=f}}else try{f=s(u,i),Lh(e,n,f)}catch($){zu(e,n,$)}}function Lh(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(i){Fh(e,n,i)},function(i){return zu(e,n,i)}):Fh(e,n,s)}function Fh(e,n,s){n.status="fulfilled",n.value=s,$h(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Bh(e,s)))}function zu(e,n,s){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=s,$h(n),n=n.next;while(n!==i)}e.action=null}function $h(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vh(e,n){return n}function Hh(e,n){if(ut){var s=wt.formState;if(s!==null){e:{var i=Xe;if(ut){if(At){t:{for(var u=At,f=na;u.nodeType!==8;){if(!f){u=null;break t}if(u=sa(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){At=sa(u.nextSibling),i=u.data==="F!";break e}}ls(i)}i=!1}i&&(n=s[0])}}return s=jn(),s.memoizedState=s.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:n},s.queue=i,s=op.bind(null,Xe,i),i.dispatch=s,i=Tu(!1),f=Bu.bind(null,Xe,!1,i.queue),i=jn(),u={state:n,dispatch:null,action:e,pending:null},i.queue=u,s=Vx.bind(null,Xe,u,f,s),u.dispatch=s,i.memoizedState=e,[n,s,!1]}function Zh(e){var n=Gt();return Ih(n,vt,e)}function Ih(e,n,s){if(n=Cu(e,n,Vh)[0],e=ao(La)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=Ml(n)}catch(g){throw g===Or?Gi:g}else i=n;n=Gt();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(Xe.flags|=2048,Dr(9,{destroy:void 0},Hx.bind(null,u,s),null)),[i,f,e]}function Hx(e,n){e.action=n}function Qh(e){var n=Gt(),s=vt;if(s!==null)return Ih(n,s,e);Gt(),n=n.memoizedState,s=Gt();var i=s.queue.dispatch;return s.memoizedState=e,[n,i,!1]}function Dr(e,n,s,i){return e={tag:e,create:s,deps:i,inst:n,next:null},n=Xe.updateQueue,n===null&&(n=to(),Xe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,n.lastEffect=e),e}function Gh(){return Gt().memoizedState}function so(e,n,s,i){var u=jn();Xe.flags|=e,u.memoizedState=Dr(1|n,{destroy:void 0},s,i===void 0?null:i)}function ro(e,n,s,i){var u=Gt();i=i===void 0?null:i;var f=u.memoizedState.inst;vt!==null&&i!==null&&wu(i,vt.memoizedState.deps)?u.memoizedState=Dr(n,f,s,i):(Xe.flags|=e,u.memoizedState=Dr(1|n,f,s,i))}function Yh(e,n){so(8390656,8,e,n)}function Du(e,n){ro(2048,8,e,n)}function Zx(e){Xe.flags|=4;var n=Xe.updateQueue;if(n===null)n=to(),Xe.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Kh(e){var n=Gt().memoizedState;return Zx({ref:n,nextImpl:e}),function(){if((ht&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Ph(e,n){return ro(4,2,e,n)}function Xh(e,n){return ro(4,4,e,n)}function Jh(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Wh(e,n,s){s=s!=null?s.concat([e]):null,ro(4,4,Jh.bind(null,n,e),s)}function Mu(){}function ep(e,n){var s=Gt();n=n===void 0?null:n;var i=s.memoizedState;return n!==null&&wu(n,i[1])?i[0]:(s.memoizedState=[e,n],e)}function tp(e,n){var s=Gt();n=n===void 0?null:n;var i=s.memoizedState;if(n!==null&&wu(n,i[1]))return i[0];if(i=e(),Is){I(!0);try{e()}finally{I(!1)}}return s.memoizedState=[i,n],i}function Uu(e,n,s){return s===void 0||(Ba&1073741824)!==0&&(ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=ng(),Xe.lanes|=e,ps|=e,s)}function np(e,n,s,i){return Vn(s,n)?s:Rr.current!==null?(e=Uu(e,s,i),Vn(e,n)||(en=!0),e):(Ba&42)===0||(Ba&1073741824)!==0&&(ot&261930)===0?(en=!0,e.memoizedState=s):(e=ng(),Xe.lanes|=e,ps|=e,n)}function ap(e,n,s,i,u){var f=se.p;se.p=f!==0&&8>f?f:8;var g=U.T,x={};U.T=x,Bu(e,!1,n,s);try{var C=u(),$=U.S;if($!==null&&$(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var te=Lx(C,i);Ul(e,n,te,Yn(e))}else Ul(e,n,i,Yn(e))}catch(ie){Ul(e,n,{then:function(){},status:"rejected",reason:ie},Yn())}finally{se.p=f,g!==null&&x.types!==null&&(g.types=x.types),U.T=g}}function Ix(){}function ku(e,n,s,i){if(e.tag!==5)throw Error(l(476));var u=sp(e).queue;ap(e,u,n,P,s===null?Ix:function(){return rp(e),s(i)})}function sp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:P},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rp(e){var n=sp(e);n.next===null&&(n=e.alternate.memoizedState),Ul(e,n.next.queue,{},Yn())}function qu(){return yn(Jl)}function lp(){return Gt().memoizedState}function ip(){return Gt().memoizedState}function Qx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Yn();e=cs(s);var i=us(n,e,s);i!==null&&(Mn(i,n,s),Rl(i,n,s)),n={cache:fu()},e.payload=n;return}n=n.return}}function Gx(e,n,s){var i=Yn();s={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},lo(e)?cp(n,s):(s=tu(e,n,s,i),s!==null&&(Mn(s,e,i),up(s,n,i)))}function op(e,n,s){var i=Yn();Ul(e,n,s,i)}function Ul(e,n,s,i){var u={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(lo(e))cp(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,x=f(g,s);if(u.hasEagerState=!0,u.eagerState=x,Vn(x,g))return Fi(e,n,u,0),wt===null&&Li(),!1}catch{}finally{}if(s=tu(e,n,u,i),s!==null)return Mn(s,e,i),up(s,n,i),!0}return!1}function Bu(e,n,s,i){if(i={lane:2,revertLane:gd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},lo(e)){if(n)throw Error(l(479))}else n=tu(e,s,i,2),n!==null&&Mn(n,e,2)}function lo(e){var n=e.alternate;return e===Xe||n!==null&&n===Xe}function cp(e,n){Tr=Wi=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function up(e,n,s){if((s&4194048)!==0){var i=n.lanes;i&=e.pendingLanes,s|=i,n.lanes=s,Pt(e,s)}}var kl={readContext:yn,use:no,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};kl.useEffectEvent=$t;var dp={readContext:yn,use:no,useCallback:function(e,n){return jn().memoizedState=[e,n===void 0?null:n],e},useContext:yn,useEffect:Yh,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,so(4194308,4,Jh.bind(null,n,e),s)},useLayoutEffect:function(e,n){return so(4194308,4,e,n)},useInsertionEffect:function(e,n){so(4,2,e,n)},useMemo:function(e,n){var s=jn();n=n===void 0?null:n;var i=e();if(Is){I(!0);try{e()}finally{I(!1)}}return s.memoizedState=[i,n],i},useReducer:function(e,n,s){var i=jn();if(s!==void 0){var u=s(n);if(Is){I(!0);try{s(n)}finally{I(!1)}}}else u=n;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Gx.bind(null,Xe,e),[i.memoizedState,e]},useRef:function(e){var n=jn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tu(e);var n=e.queue,s=op.bind(null,Xe,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Mu,useDeferredValue:function(e,n){var s=jn();return Uu(s,e,n)},useTransition:function(){var e=Tu(!1);return e=ap.bind(null,Xe,e.queue,!0,!1),jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var i=Xe,u=jn();if(ut){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),wt===null)throw Error(l(349));(ot&127)!==0||zh(i,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,Yh(Mh.bind(null,i,f,e),[e]),i.flags|=2048,Dr(9,{destroy:void 0},Dh.bind(null,i,f,s,n),null),s},useId:function(){var e=jn(),n=wt.identifierPrefix;if(ut){var s=ja,i=Na;s=(i&~(1<<32-oe(i)-1)).toString(32)+s,n="_"+n+"R_"+s,s=eo++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Fx++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:qu,useFormState:Hh,useActionState:Hh,useOptimistic:function(e){var n=jn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Bu.bind(null,Xe,!0,s),s.dispatch=n,[e,n]},useMemoCache:Ou,useCacheRefresh:function(){return jn().memoizedState=Qx.bind(null,Xe)},useEffectEvent:function(e){var n=jn(),s={impl:e};return n.memoizedState=s,function(){if((ht&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Lu={readContext:yn,use:no,useCallback:ep,useContext:yn,useEffect:Du,useImperativeHandle:Wh,useInsertionEffect:Ph,useLayoutEffect:Xh,useMemo:tp,useReducer:ao,useRef:Gh,useState:function(){return ao(La)},useDebugValue:Mu,useDeferredValue:function(e,n){var s=Gt();return np(s,vt.memoizedState,e,n)},useTransition:function(){var e=ao(La)[0],n=Gt().memoizedState;return[typeof e=="boolean"?e:Ml(e),n]},useSyncExternalStore:Th,useId:lp,useHostTransitionStatus:qu,useFormState:Zh,useActionState:Zh,useOptimistic:function(e,n){var s=Gt();return qh(s,vt,e,n)},useMemoCache:Ou,useCacheRefresh:ip};Lu.useEffectEvent=Kh;var fp={readContext:yn,use:no,useCallback:ep,useContext:yn,useEffect:Du,useImperativeHandle:Wh,useInsertionEffect:Ph,useLayoutEffect:Xh,useMemo:tp,useReducer:Ru,useRef:Gh,useState:function(){return Ru(La)},useDebugValue:Mu,useDeferredValue:function(e,n){var s=Gt();return vt===null?Uu(s,e,n):np(s,vt.memoizedState,e,n)},useTransition:function(){var e=Ru(La)[0],n=Gt().memoizedState;return[typeof e=="boolean"?e:Ml(e),n]},useSyncExternalStore:Th,useId:lp,useHostTransitionStatus:qu,useFormState:Qh,useActionState:Qh,useOptimistic:function(e,n){var s=Gt();return vt!==null?qh(s,vt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:ip};fp.useEffectEvent=Kh;function Fu(e,n,s,i){n=e.memoizedState,s=s(i,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var $u={enqueueSetState:function(e,n,s){e=e._reactInternals;var i=Yn(),u=cs(i);u.payload=n,s!=null&&(u.callback=s),n=us(e,u,i),n!==null&&(Mn(n,e,i),Rl(n,e,i))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var i=Yn(),u=cs(i);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=us(e,u,i),n!==null&&(Mn(n,e,i),Rl(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Yn(),i=cs(s);i.tag=2,n!=null&&(i.callback=n),n=us(e,i,s),n!==null&&(Mn(n,e,s),Rl(n,e,s))}};function mp(e,n,s,i,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,g):n.prototype&&n.prototype.isPureReactComponent?!_l(s,i)||!_l(u,f):!0}function hp(e,n,s,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,i),n.state!==e&&$u.enqueueReplaceState(n,n.state,null)}function Qs(e,n){var s=n;if("ref"in n){s={};for(var i in n)i!=="ref"&&(s[i]=n[i])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function pp(e){Bi(e)}function gp(e){console.error(e)}function yp(e){Bi(e)}function io(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function vp(e,n,s){try{var i=e.onCaughtError;i(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Vu(e,n,s){return s=cs(s),s.tag=3,s.payload={element:null},s.callback=function(){io(e,n)},s}function bp(e){return e=cs(e),e.tag=3,e}function xp(e,n,s,i){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){vp(n,s,i)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){vp(n,s,i),typeof u!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})})}function Yx(e,n,s,i,u){if(s.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=s.alternate,n!==null&&jr(n,s,u,!0),s=Zn.current,s!==null){switch(s.tag){case 31:case 13:return aa===null?xo():s.alternate===null&&Vt===0&&(Vt=3),s.flags&=-257,s.flags|=65536,s.lanes=u,i===Yi?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([i]):n.add(i),md(e,i,u)),!1;case 22:return s.flags|=65536,i===Yi?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([i]):s.add(i)),md(e,i,u)),!1}throw Error(l(435,s.tag))}return md(e,i,u),xo(),!1}if(ut)return n=Zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==iu&&(e=Error(l(422),{cause:i}),jl(Wn(e,s)))):(i!==iu&&(n=Error(l(423),{cause:i}),jl(Wn(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Wn(i,s),u=Vu(e.stateNode,i,u),vu(e,u),Vt!==4&&(Vt=2)),!1;var f=Error(l(520),{cause:i});if(f=Wn(f,s),Zl===null?Zl=[f]:Zl.push(f),Vt!==4&&(Vt=2),n===null)return!0;i=Wn(i,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Vu(s.stateNode,i,e),vu(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(gs===null||!gs.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=bp(u),xp(u,e,s,i),vu(s,u),!1}s=s.return}while(s!==null);return!1}var Hu=Error(l(461)),en=!1;function vn(e,n,s,i){n.child=e===null?Nh(n,null,s,i):Zs(n,e.child,s,i)}function Sp(e,n,s,i,u){s=s.render;var f=n.ref;if("ref"in i){var g={};for(var x in i)x!=="ref"&&(g[x]=i[x])}else g=i;return Fs(n),i=Nu(e,n,s,g,f,u),x=ju(),e!==null&&!en?(Eu(e,n,u),Fa(e,n,u)):(ut&&x&&ru(n),n.flags|=1,vn(e,n,i,u),n.child)}function _p(e,n,s,i,u){if(e===null){var f=s.type;return typeof f=="function"&&!nu(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,wp(e,n,f,i,u)):(e=Vi(s.type,null,i,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xu(e,u)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:_l,s(g,i)&&e.ref===n.ref)return Fa(e,n,u)}return n.flags|=1,e=Ma(f,i),e.ref=n.ref,e.return=n,n.child=e}function wp(e,n,s,i,u){if(e!==null){var f=e.memoizedProps;if(_l(f,i)&&e.ref===n.ref)if(en=!1,n.pendingProps=i=f,Xu(e,u))(e.flags&131072)!==0&&(en=!0);else return n.lanes=e.lanes,Fa(e,n,u)}return Zu(e,n,s,i,u)}function Np(e,n,s,i){var u=i.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(i=n.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,n.child=null;return jp(e,n,f,s,i)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qi(n,f!==null?f.cachePool:null),f!==null?Ah(n,f):xu(),Oh(n);else return i=n.lanes=536870912,jp(e,n,f!==null?f.baseLanes|s:s,s,i)}else f!==null?(Qi(n,f.cachePool),Ah(n,f),fs(),n.memoizedState=null):(e!==null&&Qi(n,null),xu(),fs());return vn(e,n,u,s),n.child}function ql(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jp(e,n,s,i,u){var f=hu();return f=f===null?null:{parent:Jt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Qi(n,null),xu(),Oh(n),e!==null&&jr(e,n,i,!0),n.childLanes=u,null}function oo(e,n){return n=uo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ep(e,n,s){return Zs(n,e.child,null,s),e=oo(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function Kx(e,n,s){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ut){if(i.mode==="hidden")return e=oo(n,i),n.lanes=536870912,ql(null,e);if(_u(n),(e=At)?(e=Bg(e,na),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ss!==null?{id:Na,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},s=ch(e),s.return=n,n.child=s,gn=n,At=null)):e=null,e===null)throw ls(n);return n.lanes=536870912,null}return oo(n,i)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(_u(n),u)if(n.flags&256)n.flags&=-257,n=Ep(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(en||jr(e,n,s,!1),u=(s&e.childLanes)!==0,en||u){if(i=wt,i!==null&&(g=It(i,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ks(e,g),Mn(i,e,g),Hu;xo(),n=Ep(e,n,s)}else e=f.treeContext,At=sa(g.nextSibling),gn=n,ut=!0,rs=null,na=!1,e!==null&&fh(n,e),n=oo(n,i),n.flags|=4096;return n}return e=Ma(e.child,{mode:i.mode,children:i.children}),e.ref=n.ref,n.child=e,e.return=n,e}function co(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Zu(e,n,s,i,u){return Fs(n),s=Nu(e,n,s,i,void 0,u),i=ju(),e!==null&&!en?(Eu(e,n,u),Fa(e,n,u)):(ut&&i&&ru(n),n.flags|=1,vn(e,n,s,u),n.child)}function Ap(e,n,s,i,u,f){return Fs(n),n.updateQueue=null,s=Rh(n,i,s,u),Ch(e),i=ju(),e!==null&&!en?(Eu(e,n,f),Fa(e,n,f)):(ut&&i&&ru(n),n.flags|=1,vn(e,n,s,f),n.child)}function Op(e,n,s,i,u){if(Fs(n),n.stateNode===null){var f=Sr,g=s.contextType;typeof g=="object"&&g!==null&&(f=yn(g)),f=new s(i,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$u,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=i,f.state=n.memoizedState,f.refs={},gu(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?yn(g):Sr,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Fu(n,s,g,i),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&$u.enqueueReplaceState(f,f.state,null),zl(n,i,f,u),Tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(e===null){f=n.stateNode;var x=n.memoizedProps,C=Qs(s,x);f.props=C;var $=f.context,te=s.contextType;g=Sr,typeof te=="object"&&te!==null&&(g=yn(te));var ie=s.getDerivedStateFromProps;te=typeof ie=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,te||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||$!==g)&&hp(n,f,i,g),os=!1;var H=n.memoizedState;f.state=H,zl(n,i,f,u),Tl(),$=n.memoizedState,x||H!==$||os?(typeof ie=="function"&&(Fu(n,s,ie,i),$=n.memoizedState),(C=os||mp(n,s,C,i,H,$,g))?(te||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=$),f.props=i,f.state=$,f.context=g,i=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{f=n.stateNode,yu(e,n),g=n.memoizedProps,te=Qs(s,g),f.props=te,ie=n.pendingProps,H=f.context,$=s.contextType,C=Sr,typeof $=="object"&&$!==null&&(C=yn($)),x=s.getDerivedStateFromProps,($=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==ie||H!==C)&&hp(n,f,i,C),os=!1,H=n.memoizedState,f.state=H,zl(n,i,f,u),Tl();var X=n.memoizedState;g!==ie||H!==X||os||e!==null&&e.dependencies!==null&&Zi(e.dependencies)?(typeof x=="function"&&(Fu(n,s,x,i),X=n.memoizedState),(te=os||mp(n,s,te,i,H,X,C)||e!==null&&e.dependencies!==null&&Zi(e.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,X,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,X,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=X),f.props=i,f.state=X,f.context=C,i=te):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),i=!1)}return f=i,co(e,n),i=(n.flags&128)!==0,f||i?(f=n.stateNode,s=i&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&i?(n.child=Zs(n,e.child,null,u),n.child=Zs(n,null,s,u)):vn(e,n,s,u),n.memoizedState=f.state,e=n.child):e=Fa(e,n,u),e}function Cp(e,n,s,i){return Bs(),n.flags|=256,vn(e,n,s,i),n.child}var Iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qu(e){return{baseLanes:e,cachePool:vh()}}function Gu(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Gn),e}function Rp(e,n,s){var i=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Qt.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(ut){if(u?ds(n):fs(),(e=At)?(e=Bg(e,na),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ss!==null?{id:Na,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},s=ch(e),s.return=n,n.child=s,gn=n,At=null)):e=null,e===null)throw ls(n);return Cd(e)?n.lanes=32:n.lanes=536870912,null}var x=i.children;return i=i.fallback,u?(fs(),u=n.mode,x=uo({mode:"hidden",children:x},u),i=qs(i,u,s,null),x.return=n,i.return=n,x.sibling=i,n.child=x,i=n.child,i.memoizedState=Qu(s),i.childLanes=Gu(e,g,s),n.memoizedState=Iu,ql(null,i)):(ds(n),Yu(n,x))}var C=e.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(f)n.flags&256?(ds(n),n.flags&=-257,n=Ku(e,n,s)):n.memoizedState!==null?(fs(),n.child=e.child,n.flags|=128,n=null):(fs(),x=i.fallback,u=n.mode,i=uo({mode:"visible",children:i.children},u),x=qs(x,u,s,null),x.flags|=2,i.return=n,x.return=n,i.sibling=x,n.child=i,Zs(n,e.child,null,s),i=n.child,i.memoizedState=Qu(s),i.childLanes=Gu(e,g,s),n.memoizedState=Iu,n=ql(null,i));else if(ds(n),Cd(x)){if(g=x.nextSibling&&x.nextSibling.dataset,g)var $=g.dgst;g=$,i=Error(l(419)),i.stack="",i.digest=g,jl({value:i,source:null,stack:null}),n=Ku(e,n,s)}else if(en||jr(e,n,s,!1),g=(s&e.childLanes)!==0,en||g){if(g=wt,g!==null&&(i=It(g,s),i!==0&&i!==C.retryLane))throw C.retryLane=i,ks(e,i),Mn(g,e,i),Hu;Od(x)||xo(),n=Ku(e,n,s)}else Od(x)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,At=sa(x.nextSibling),gn=n,ut=!0,rs=null,na=!1,e!==null&&fh(n,e),n=Yu(n,i.children),n.flags|=4096);return n}return u?(fs(),x=i.fallback,u=n.mode,C=e.child,$=C.sibling,i=Ma(C,{mode:"hidden",children:i.children}),i.subtreeFlags=C.subtreeFlags&65011712,$!==null?x=Ma($,x):(x=qs(x,u,s,null),x.flags|=2),x.return=n,i.return=n,i.sibling=x,n.child=i,ql(null,i),i=n.child,x=e.child.memoizedState,x===null?x=Qu(s):(u=x.cachePool,u!==null?(C=Jt._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=vh(),x={baseLanes:x.baseLanes|s,cachePool:u}),i.memoizedState=x,i.childLanes=Gu(e,g,s),n.memoizedState=Iu,ql(e.child,i)):(ds(n),s=e.child,e=s.sibling,s=Ma(s,{mode:"visible",children:i.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Yu(e,n){return n=uo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function uo(e,n){return e=Hn(22,e,null,n),e.lanes=0,e}function Ku(e,n,s){return Zs(n,e.child,null,s),e=Yu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tp(e,n,s){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),uu(e.return,n,s)}function Pu(e,n,s,i,u,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=s,g.tailMode=u,g.treeForkCount=f)}function zp(e,n,s){var i=n.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var g=Qt.current,x=(g&2)!==0;if(x?(g=g&1|2,n.flags|=128):g&=1,ne(Qt,g),vn(e,n,i,s),i=ut?Nl:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,s,n);else if(e.tag===19)Tp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Ji(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),Pu(n,!1,u,s,f,i);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ji(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}Pu(n,!0,s,null,f,i);break;case"together":Pu(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function Fa(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ps|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(jr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=Ma(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ma(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Xu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Zi(e)))}function Px(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),is(n,Jt,e.memoizedState.cache),Bs();break;case 27:case 5:Fe(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_u(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(ds(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Rp(e,n,s):(ds(n),e=Fa(e,n,s),e!==null?e.sibling:null);ds(n);break;case 19:var u=(e.flags&128)!==0;if(i=(s&n.childLanes)!==0,i||(jr(e,n,s,!1),i=(s&n.childLanes)!==0),u){if(i)return zp(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ne(Qt,Qt.current),i)break;return null;case 22:return n.lanes=0,Np(e,n,s,n.pendingProps);case 24:is(n,Jt,e.memoizedState.cache)}return Fa(e,n,s)}function Dp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)en=!0;else{if(!Xu(e,s)&&(n.flags&128)===0)return en=!1,Px(e,n,s);en=(e.flags&131072)!==0}else en=!1,ut&&(n.flags&1048576)!==0&&dh(n,Nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(e=Vs(n.elementType),n.type=e,typeof e=="function")nu(e)?(i=Qs(e,i),n.tag=1,n=Op(null,n,e,i,s)):(n.tag=0,n=Zu(null,n,e,i,s));else{if(e!=null){var u=e.$$typeof;if(u===N){n.tag=11,n=Sp(null,n,e,i,s);break e}else if(u===M){n.tag=14,n=_p(null,n,e,i,s);break e}}throw n=be(e)||e,Error(l(306,n,""))}}return n;case 0:return Zu(e,n,n.type,n.pendingProps,s);case 1:return i=n.type,u=Qs(i,n.pendingProps),Op(e,n,i,u,s);case 3:e:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(l(387));i=n.pendingProps;var f=n.memoizedState;u=f.element,yu(e,n),zl(n,i,null,s);var g=n.memoizedState;if(i=g.cache,is(n,Jt,i),i!==f.cache&&du(n,[Jt],s,!0),Tl(),i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(e,n,i,s);break e}else if(i!==u){u=Wn(Error(l(424)),n),jl(u),n=Cp(e,n,i,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(At=sa(e.firstChild),gn=n,ut=!0,rs=null,na=!0,s=Nh(n,null,i,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Bs(),i===u){n=Fa(e,n,s);break e}vn(e,n,i,s)}n=n.child}return n;case 26:return co(e,n),e===null?(s=Zg(n.type,null,n.pendingProps,null))?n.memoizedState=s:ut||(s=n.type,e=n.pendingProps,i=Ao(Ee.current).createElement(s),i[Ft]=n,i[fn]=e,bn(i,s,e),Xt(i),n.stateNode=i):n.memoizedState=Zg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fe(n),e===null&&ut&&(i=n.stateNode=$g(n.type,n.pendingProps,Ee.current),gn=n,na=!0,u=At,xs(n.type)?(Rd=u,At=sa(i.firstChild)):At=u),vn(e,n,n.pendingProps.children,s),co(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ut&&((u=i=At)&&(i=ES(i,n.type,n.pendingProps,na),i!==null?(n.stateNode=i,gn=n,At=sa(i.firstChild),na=!1,u=!0):u=!1),u||ls(n)),Fe(n),u=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,i=f.children,jd(u,f)?i=null:g!==null&&jd(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Nu(e,n,$x,null,null,s),Jl._currentValue=u),co(e,n),vn(e,n,i,s),n.child;case 6:return e===null&&ut&&((e=s=At)&&(s=AS(s,n.pendingProps,na),s!==null?(n.stateNode=s,gn=n,At=null,e=!0):e=!1),e||ls(n)),null;case 13:return Rp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=Zs(n,null,i,s):vn(e,n,i,s),n.child;case 11:return Sp(e,n,n.type,n.pendingProps,s);case 7:return vn(e,n,n.pendingProps,s),n.child;case 8:return vn(e,n,n.pendingProps.children,s),n.child;case 12:return vn(e,n,n.pendingProps.children,s),n.child;case 10:return i=n.pendingProps,is(n,n.type,i.value),vn(e,n,i.children,s),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,Fs(n),u=yn(u),i=i(u),n.flags|=1,vn(e,n,i,s),n.child;case 14:return _p(e,n,n.type,n.pendingProps,s);case 15:return wp(e,n,n.type,n.pendingProps,s);case 19:return zp(e,n,s);case 31:return Kx(e,n,s);case 22:return Np(e,n,s,n.pendingProps);case 24:return Fs(n),i=yn(Jt),e===null?(u=hu(),u===null&&(u=wt,f=fu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:i,cache:u},gu(n),is(n,Jt,u)):((e.lanes&s)!==0&&(yu(e,n),zl(n,null,null,s),Tl()),u=e.memoizedState,f=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),is(n,Jt,i)):(i=f.cache,is(n,Jt,i),i!==u.cache&&du(n,[Jt],s,!0))),vn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function $a(e){e.flags|=4}function Ju(e,n,s,i,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(lg())e.flags|=8192;else throw Hs=Yi,pu}else e.flags&=-16777217}function Mp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kg(n))if(lg())e.flags|=8192;else throw Hs=Yi,pu}function fo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?qt():536870912,e.lanes|=n,qr|=n)}function Bl(e,n){if(!ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ot(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=s,n}function Xx(e,n,s){var i=n.pendingProps;switch(lu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(n),null;case 1:return Ot(n),null;case 3:return s=n.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),qa(Jt),de(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Nr(n)?$a(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ou())),Ot(n),null;case 26:var u=n.type,f=n.memoizedState;return e===null?($a(n),f!==null?(Ot(n),Mp(n,f)):(Ot(n),Ju(n,u,null,i,s))):f?f!==e.memoizedState?($a(n),Ot(n),Mp(n,f)):(Ot(n),n.flags&=-16777217):(e=e.memoizedProps,e!==i&&$a(n),Ot(n),Ju(n,u,e,i,s)),null;case 27:if(He(n),s=Ee.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==i&&$a(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Ot(n),null}e=he.current,Nr(n)?mh(n):(e=$g(u,i,s),n.stateNode=e,$a(n))}return Ot(n),null;case 5:if(He(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==i&&$a(n);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Ot(n),null}if(f=he.current,Nr(n))mh(n);else{var g=Ao(Ee.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?g.createElement(u,{is:i.is}):g.createElement(u)}}f[Ft]=n,f[fn]=i;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(bn(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&$a(n)}}return Ot(n),Ju(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==i&&$a(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(e=Ee.current,Nr(n)){if(e=n.stateNode,s=n.memoizedProps,i=null,u=gn,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[Ft]=n,e=!!(e.nodeValue===s||i!==null&&i.suppressHydrationWarning===!0||Rg(e.nodeValue,s)),e||ls(n,!0)}else e=Ao(e).createTextNode(i),e[Ft]=n,n.stateNode=e}return Ot(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(i=Nr(n),s!==null){if(e===null){if(!i)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Ft]=n}else Bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ot(n),e=!1}else s=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Ot(n),null;case 13:if(i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Nr(n),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[Ft]=n}else Bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ot(n),u=!1}else u=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=i!==null,e=e!==null&&e.memoizedState!==null,s&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),fo(n,n.updateQueue),Ot(n),null);case 4:return de(),e===null&&xd(n.stateNode.containerInfo),Ot(n),null;case 10:return qa(n.type),Ot(n),null;case 19:if(Z(Qt),i=n.memoizedState,i===null)return Ot(n),null;if(u=(n.flags&128)!==0,f=i.rendering,f===null)if(u)Bl(i,!1);else{if(Vt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ji(e),f!==null){for(n.flags|=128,Bl(i,!1),e=f.updateQueue,n.updateQueue=e,fo(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)oh(s,e),s=s.sibling;return ne(Qt,Qt.current&1|2),ut&&Ua(n,i.treeForkCount),n.child}e=e.sibling}i.tail!==null&&le()>yo&&(n.flags|=128,u=!0,Bl(i,!1),n.lanes=4194304)}else{if(!u)if(e=Ji(f),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,fo(n,e),Bl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!ut)return Ot(n),null}else 2*le()-i.renderingStartTime>yo&&s!==536870912&&(n.flags|=128,u=!0,Bl(i,!1),n.lanes=4194304);i.isBackwards?(f.sibling=n.child,n.child=f):(e=i.last,e!==null?e.sibling=f:n.child=f,i.last=f)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,s=Qt.current,ne(Qt,u?s&1|2:s&1),ut&&Ua(n,i.treeForkCount),e):(Ot(n),null);case 22:case 23:return In(n),Su(),i=n.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(s&536870912)!==0&&(n.flags&128)===0&&(Ot(n),n.subtreeFlags&6&&(n.flags|=8192)):Ot(n),s=n.updateQueue,s!==null&&fo(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048),e!==null&&Z($s),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),qa(Jt),Ot(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function Jx(e,n){switch(lu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qa(Jt),de(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return He(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(l(340));Bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Z(Qt),null;case 4:return de(),null;case 10:return qa(n.type),null;case 22:case 23:return In(n),Su(),e!==null&&Z($s),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qa(Jt),null;case 25:return null;default:return null}}function Up(e,n){switch(lu(n),n.tag){case 3:qa(Jt),de();break;case 26:case 27:case 5:He(n);break;case 4:de();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Z(Qt);break;case 10:qa(n.type);break;case 22:case 23:In(n),Su(),e!==null&&Z($s);break;case 24:qa(Jt)}}function Ll(e,n){try{var s=n.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var u=i.next;s=u;do{if((s.tag&e)===e){i=void 0;var f=s.create,g=s.inst;i=f(),g.destroy=i}s=s.next}while(s!==u)}}catch(x){gt(n,n.return,x)}}function ms(e,n,s){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var g=i.inst,x=g.destroy;if(x!==void 0){g.destroy=void 0,u=n;var C=s,$=x;try{$()}catch(te){gt(u,C,te)}}}i=i.next}while(i!==f)}}catch(te){gt(n,n.return,te)}}function kp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Eh(n,s)}catch(i){gt(e,e.return,i)}}}function qp(e,n,s){s.props=Qs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(i){gt(e,n,i)}}function Fl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof s=="function"?e.refCleanup=s(i):s.current=i}}catch(u){gt(e,n,u)}}function Ea(e,n){var s=e.ref,i=e.refCleanup;if(s!==null)if(typeof i=="function")try{i()}catch(u){gt(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){gt(e,n,u)}else s.current=null}function Bp(e){var n=e.type,s=e.memoizedProps,i=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break e;case"img":s.src?i.src=s.src:s.srcSet&&(i.srcset=s.srcSet)}}catch(u){gt(e,e.return,u)}}function Wu(e,n,s){try{var i=e.stateNode;xS(i,e.type,s,n),i[fn]=n}catch(u){gt(e,e.return,u)}}function Lp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,n,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=za));else if(i!==4&&(i===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(td(e,n,s),e=e.sibling;e!==null;)td(e,n,s),e=e.sibling}function mo(e,n,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(i!==4&&(i===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(mo(e,n,s),e=e.sibling;e!==null;)mo(e,n,s),e=e.sibling}function Fp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var i=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);bn(n,i,s),n[Ft]=e,n[fn]=s}catch(f){gt(e,e.return,f)}}var Va=!1,tn=!1,nd=!1,$p=typeof WeakSet=="function"?WeakSet:Set,mn=null;function Wx(e,n){if(e=e.containerInfo,wd=Mo,e=Wm(e),Kc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,x=-1,C=-1,$=0,te=0,ie=e,H=null;t:for(;;){for(var X;ie!==s||u!==0&&ie.nodeType!==3||(x=g+u),ie!==f||i!==0&&ie.nodeType!==3||(C=g+i),ie.nodeType===3&&(g+=ie.nodeValue.length),(X=ie.firstChild)!==null;)H=ie,ie=X;for(;;){if(ie===e)break t;if(H===s&&++$===u&&(x=g),H===f&&++te===i&&(C=g),(X=ie.nextSibling)!==null)break;ie=H,H=ie.parentNode}ie=X}s=x===-1||C===-1?null:{start:x,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Nd={focusedElem:e,selectionRange:s},Mo=!1,mn=n;mn!==null;)if(n=mn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,mn=e;else for(;mn!==null;){switch(n=mn,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,i=s.stateNode;try{var ze=Qs(s.type,u);e=i.getSnapshotBeforeUpdate(ze,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(Ze){gt(s,s.return,Ze)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Ad(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,mn=e;break}mn=n.return}}function Vp(e,n,s){var i=s.flags;switch(s.tag){case 0:case 11:case 15:Za(e,s),i&4&&Ll(5,s);break;case 1:if(Za(e,s),i&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){gt(s,s.return,g)}else{var u=Qs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){gt(s,s.return,g)}}i&64&&kp(s),i&512&&Fl(s,s.return);break;case 3:if(Za(e,s),i&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Eh(e,n)}catch(g){gt(s,s.return,g)}}break;case 27:n===null&&i&4&&Fp(s);case 26:case 5:Za(e,s),n===null&&i&4&&Bp(s),i&512&&Fl(s,s.return);break;case 12:Za(e,s);break;case 31:Za(e,s),i&4&&Ip(e,s);break;case 13:Za(e,s),i&4&&Qp(e,s),i&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=oS.bind(null,s),OS(e,s))));break;case 22:if(i=s.memoizedState!==null||Va,!i){n=n!==null&&n.memoizedState!==null||tn,u=Va;var f=tn;Va=i,(tn=n)&&!f?Ia(e,s,(s.subtreeFlags&8772)!==0):Za(e,s),Va=u,tn=f}break;case 30:break;default:Za(e,s)}}function Hp(e){var n=e.alternate;n!==null&&(e.alternate=null,Hp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&hl(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,Rn=!1;function Ha(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if(L&&typeof L.onCommitFiberUnmount=="function")try{L.onCommitFiberUnmount(wn,s)}catch{}switch(s.tag){case 26:tn||Ea(s,n),Ha(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tn||Ea(s,n);var i=Tt,u=Rn;xs(s.type)&&(Tt=s.stateNode,Rn=!1),Ha(e,n,s),Kl(s.stateNode),Tt=i,Rn=u;break;case 5:tn||Ea(s,n);case 6:if(i=Tt,u=Rn,Tt=null,Ha(e,n,s),Tt=i,Rn=u,Tt!==null)if(Rn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(s.stateNode)}catch(f){gt(s,n,f)}else try{Tt.removeChild(s.stateNode)}catch(f){gt(s,n,f)}break;case 18:Tt!==null&&(Rn?(e=Tt,kg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ir(e)):kg(Tt,s.stateNode));break;case 4:i=Tt,u=Rn,Tt=s.stateNode.containerInfo,Rn=!0,Ha(e,n,s),Tt=i,Rn=u;break;case 0:case 11:case 14:case 15:ms(2,s,n),tn||ms(4,s,n),Ha(e,n,s);break;case 1:tn||(Ea(s,n),i=s.stateNode,typeof i.componentWillUnmount=="function"&&qp(s,n,i)),Ha(e,n,s);break;case 21:Ha(e,n,s);break;case 22:tn=(i=tn)||s.memoizedState!==null,Ha(e,n,s),tn=i;break;default:Ha(e,n,s)}}function Ip(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ir(e)}catch(s){gt(n,n.return,s)}}}function Qp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ir(e)}catch(s){gt(n,n.return,s)}}function eS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new $p),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new $p),n;default:throw Error(l(435,e.tag))}}function ho(e,n){var s=eS(e);n.forEach(function(i){if(!s.has(i)){s.add(i);var u=cS.bind(null,e,i);i.then(u,u)}})}function Tn(e,n){var s=n.deletions;if(s!==null)for(var i=0;i<s.length;i++){var u=s[i],f=e,g=n,x=g;e:for(;x!==null;){switch(x.tag){case 27:if(xs(x.type)){Tt=x.stateNode,Rn=!1;break e}break;case 5:Tt=x.stateNode,Rn=!1;break e;case 3:case 4:Tt=x.stateNode.containerInfo,Rn=!0;break e}x=x.return}if(Tt===null)throw Error(l(160));Zp(f,g,u),Tt=null,Rn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Gp(n,e),n=n.sibling}var pa=null;function Gp(e,n){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(n,e),zn(e),i&4&&(ms(3,e,e.return),Ll(3,e),ms(5,e,e.return));break;case 1:Tn(n,e),zn(e),i&512&&(tn||s===null||Ea(s,s.return)),i&64&&Va&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?i:s.concat(i))));break;case 26:var u=pa;if(Tn(n,e),zn(e),i&512&&(tn||s===null||Ea(s,s.return)),i&4){var f=s!==null?s.memoizedState:null;if(i=e.memoizedState,s===null)if(i===null)if(e.stateNode===null){e:{i=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[wa]||f[Ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),bn(f,i,s),f[Ft]=e,Xt(f),i=f;break e;case"link":var g=Gg("link","href",u).get(i+(s.href||""));if(g){for(var x=0;x<g.length;x++)if(f=g[x],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(x,1);break t}}f=u.createElement(i),bn(f,i,s),u.head.appendChild(f);break;case"meta":if(g=Gg("meta","content",u).get(i+(s.content||""))){for(x=0;x<g.length;x++)if(f=g[x],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(x,1);break t}}f=u.createElement(i),bn(f,i,s),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[Ft]=e,Xt(f),i=f}e.stateNode=i}else Yg(u,e.type,e.stateNode);else e.stateNode=Qg(u,i,e.memoizedProps);else f!==i?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,i===null?Yg(u,e.type,e.stateNode):Qg(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Wu(e,e.memoizedProps,s.memoizedProps)}break;case 27:Tn(n,e),zn(e),i&512&&(tn||s===null||Ea(s,s.return)),s!==null&&i&4&&Wu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Tn(n,e),zn(e),i&512&&(tn||s===null||Ea(s,s.return)),e.flags&32){u=e.stateNode;try{hr(u,"")}catch(ze){gt(e,e.return,ze)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Wu(e,u,s!==null?s.memoizedProps:u)),i&1024&&(nd=!0);break;case 6:if(Tn(n,e),zn(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,s=e.stateNode;try{s.nodeValue=i}catch(ze){gt(e,e.return,ze)}}break;case 3:if(Ro=null,u=pa,pa=Oo(n.containerInfo),Tn(n,e),pa=u,zn(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{Ir(n.containerInfo)}catch(ze){gt(e,e.return,ze)}nd&&(nd=!1,Yp(e));break;case 4:i=pa,pa=Oo(e.stateNode.containerInfo),Tn(n,e),zn(e),pa=i;break;case 12:Tn(n,e),zn(e);break;case 31:Tn(n,e),zn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ho(e,i)));break;case 13:Tn(n,e),zn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(go=le()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ho(e,i)));break;case 22:u=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,$=Va,te=tn;if(Va=$||u,tn=te||C,Tn(n,e),tn=te,Va=$,zn(e),i&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||C||Va||tn||Gs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{x=C.stateNode;var ie=C.memoizedProps.style,H=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;x.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ze){gt(C,C.return,ze)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(ze){gt(C,C.return,ze)}}}else if(n.tag===18){if(s===null){C=n;try{var X=C.stateNode;u?qg(X,!0):qg(C.stateNode,!1)}catch(ze){gt(C,C.return,ze)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=e.updateQueue,i!==null&&(s=i.retryQueue,s!==null&&(i.retryQueue=null,ho(e,s))));break;case 19:Tn(n,e),zn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ho(e,i)));break;case 30:break;case 21:break;default:Tn(n,e),zn(e)}}function zn(e){var n=e.flags;if(n&2){try{for(var s,i=e.return;i!==null;){if(Lp(i)){s=i;break}i=i.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var u=s.stateNode,f=ed(e);mo(e,f,u);break;case 5:var g=s.stateNode;s.flags&32&&(hr(g,""),s.flags&=-33);var x=ed(e);mo(e,x,g);break;case 3:case 4:var C=s.stateNode.containerInfo,$=ed(e);td(e,$,C);break;default:throw Error(l(161))}}catch(te){gt(e,e.return,te)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Yp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Yp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Za(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vp(e,n.alternate,n),n=n.sibling}function Gs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ms(4,n,n.return),Gs(n);break;case 1:Ea(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&qp(n,n.return,s),Gs(n);break;case 27:Kl(n.stateNode);case 26:case 5:Ea(n,n.return),Gs(n);break;case 22:n.memoizedState===null&&Gs(n);break;case 30:Gs(n);break;default:Gs(n)}e=e.sibling}}function Ia(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ia(u,f,s),Ll(4,f);break;case 1:if(Ia(u,f,s),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch($){gt(i,i.return,$)}if(i=f,u=i.updateQueue,u!==null){var x=i.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)jh(C[u],x)}catch($){gt(i,i.return,$)}}s&&g&64&&kp(f),Fl(f,f.return);break;case 27:Fp(f);case 26:case 5:Ia(u,f,s),s&&i===null&&g&4&&Bp(f),Fl(f,f.return);break;case 12:Ia(u,f,s);break;case 31:Ia(u,f,s),s&&g&4&&Ip(u,f);break;case 13:Ia(u,f,s),s&&g&4&&Qp(u,f);break;case 22:f.memoizedState===null&&Ia(u,f,s),Fl(f,f.return);break;case 30:break;default:Ia(u,f,s)}n=n.sibling}}function ad(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&El(s))}function sd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e))}function ga(e,n,s,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kp(e,n,s,i),n=n.sibling}function Kp(e,n,s,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:ga(e,n,s,i),u&2048&&Ll(9,n);break;case 1:ga(e,n,s,i);break;case 3:ga(e,n,s,i),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e)));break;case 12:if(u&2048){ga(e,n,s,i),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,x=f.onPostCommit;typeof x=="function"&&x(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){gt(n,n.return,C)}}else ga(e,n,s,i);break;case 31:ga(e,n,s,i);break;case 13:ga(e,n,s,i);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ga(e,n,s,i):$l(e,n):f._visibility&2?ga(e,n,s,i):(f._visibility|=2,Mr(e,n,s,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&ad(g,n);break;case 24:ga(e,n,s,i),u&2048&&sd(n.alternate,n);break;default:ga(e,n,s,i)}}function Mr(e,n,s,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,x=s,C=i,$=g.flags;switch(g.tag){case 0:case 11:case 15:Mr(f,g,x,C,u),Ll(8,g);break;case 23:break;case 22:var te=g.stateNode;g.memoizedState!==null?te._visibility&2?Mr(f,g,x,C,u):$l(f,g):(te._visibility|=2,Mr(f,g,x,C,u)),u&&$&2048&&ad(g.alternate,g);break;case 24:Mr(f,g,x,C,u),u&&$&2048&&sd(g.alternate,g);break;default:Mr(f,g,x,C,u)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,i=n,u=i.flags;switch(i.tag){case 22:$l(s,i),u&2048&&ad(i.alternate,i);break;case 24:$l(s,i),u&2048&&sd(i.alternate,i);break;default:$l(s,i)}n=n.sibling}}var Vl=8192;function Ur(e,n,s){if(e.subtreeFlags&Vl)for(e=e.child;e!==null;)Pp(e,n,s),e=e.sibling}function Pp(e,n,s){switch(e.tag){case 26:Ur(e,n,s),e.flags&Vl&&e.memoizedState!==null&&FS(s,pa,e.memoizedState,e.memoizedProps);break;case 5:Ur(e,n,s);break;case 3:case 4:var i=pa;pa=Oo(e.stateNode.containerInfo),Ur(e,n,s),pa=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Vl,Vl=16777216,Ur(e,n,s),Vl=i):Ur(e,n,s));break;default:Ur(e,n,s)}}function Xp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];mn=i,Wp(i,e)}Xp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jp(e),e=e.sibling}function Jp(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&ms(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,po(e)):Hl(e);break;default:Hl(e)}}function po(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];mn=i,Wp(i,e)}Xp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ms(8,n,n.return),po(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,po(n));break;default:po(n)}e=e.sibling}}function Wp(e,n){for(;mn!==null;){var s=mn;switch(s.tag){case 0:case 11:case 15:ms(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var i=s.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:El(s.memoizedState.cache)}if(i=s.child,i!==null)i.return=s,mn=i;else e:for(s=e;mn!==null;){i=mn;var u=i.sibling,f=i.return;if(Hp(i),i===s){mn=null;break e}if(u!==null){u.return=f,mn=u;break e}mn=f}}}var tS={getCacheForType:function(e){var n=yn(Jt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return yn(Jt).controller.signal}},nS=typeof WeakMap=="function"?WeakMap:Map,ht=0,wt=null,st=null,ot=0,pt=0,Qn=null,hs=!1,kr=!1,rd=!1,Qa=0,Vt=0,ps=0,Ys=0,ld=0,Gn=0,qr=0,Zl=null,Dn=null,id=!1,go=0,eg=0,yo=1/0,vo=null,gs=null,ln=0,ys=null,Br=null,Ga=0,od=0,cd=null,tg=null,Il=0,ud=null;function Yn(){return(ht&2)!==0&&ot!==0?ot&-ot:U.T!==null?gd():Pn()}function ng(){if(Gn===0)if((ot&536870912)===0||ut){var e=Zt;Zt<<=1,(Zt&3932160)===0&&(Zt=262144),Gn=e}else Gn=536870912;return e=Zn.current,e!==null&&(e.flags|=32),Gn}function Mn(e,n,s){(e===wt&&(pt===2||pt===9)||e.cancelPendingCommit!==null)&&(Lr(e,0),vs(e,ot,Gn,!1)),rn(e,s),((ht&2)===0||e!==wt)&&(e===wt&&((ht&2)===0&&(Ys|=s),Vt===4&&vs(e,ot,Gn,!1)),Aa(e))}function ag(e,n,s){if((ht&6)!==0)throw Error(l(327));var i=!s&&(n&127)===0&&(n&e.expiredLanes)===0||kt(e,n),u=i?rS(e,n):fd(e,n,!0),f=i;do{if(u===0){kr&&!i&&vs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!aS(s)){u=fd(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var x=e;u=Zl;var C=x.current.memoizedState.isDehydrated;if(C&&(Lr(x,g).flags|=256),g=fd(x,g,!1),g!==2){if(rd&&!C){x.errorRecoveryDisabledLanes|=f,Ys|=f,u=4;break e}f=Dn,Dn=u,f!==null&&(Dn===null?Dn=f:Dn.push.apply(Dn,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){Lr(e,0),vs(e,n,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:vs(i,n,Gn,!hs);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=go+300-le(),10<u)){if(vs(i,n,Gn,!hs),Kt(i,0,!0)!==0)break e;Ga=n,i.timeoutHandle=Mg(sg.bind(null,i,s,Dn,vo,id,n,Gn,Ys,qr,hs,f,"Throttled",-0,0),u);break e}sg(i,s,Dn,vo,id,n,Gn,Ys,qr,hs,f,null,-0,0)}}break}while(!0);Aa(e)}function sg(e,n,s,i,u,f,g,x,C,$,te,ie,H,X){if(e.timeoutHandle=-1,ie=n.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:za},Pp(n,f,ie);var ze=(f&62914560)===f?go-le():(f&4194048)===f?eg-le():0;if(ze=$S(ie,ze),ze!==null){Ga=f,e.cancelPendingCommit=ze(fg.bind(null,e,n,f,s,i,u,g,x,C,te,ie,null,H,X)),vs(e,f,g,!$);return}}fg(e,n,f,s,i,u,g,x,C)}function aS(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var i=0;i<s.length;i++){var u=s[i],f=u.getSnapshot;u=u.value;try{if(!Vn(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vs(e,n,s,i){n&=~ld,n&=~Ys,e.suspendedLanes|=n,e.pingedLanes&=~n,i&&(e.warmLanes|=n),i=e.expirationTimes;for(var u=n;0<u;){var f=31-oe(u),g=1<<f;i[f]=-1,u&=~g}s!==0&&dn(e,s,n)}function bo(){return(ht&6)===0?(Ql(0),!1):!0}function dd(){if(st!==null){if(pt===0)var e=st.return;else e=st,ka=Ls=null,Au(e),Cr=null,Ol=0,e=st;for(;e!==null;)Up(e.alternate,e),e=e.return;st=null}}function Lr(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,wS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ga=0,dd(),wt=e,st=s=Ma(e.current,null),ot=n,pt=0,Qn=null,hs=!1,kr=kt(e,n),rd=!1,qr=Gn=ld=Ys=ps=Vt=0,Dn=Zl=null,id=!1,(n&8)!==0&&(n|=n&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=n;0<i;){var u=31-oe(i),f=1<<u;n|=e[u],i&=~f}return Qa=n,Li(),s}function rg(e,n){Xe=null,U.H=kl,n===Or||n===Gi?(n=Sh(),pt=3):n===pu?(n=Sh(),pt=4):pt=n===Hu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Qn=n,st===null&&(Vt=1,io(e,Wn(n,e.current)))}function lg(){var e=Zn.current;return e===null?!0:(ot&4194048)===ot?aa===null:(ot&62914560)===ot||(ot&536870912)!==0?e===aa:!1}function ig(){var e=U.H;return U.H=kl,e===null?kl:e}function og(){var e=U.A;return U.A=tS,e}function xo(){Vt=4,hs||(ot&4194048)!==ot&&Zn.current!==null||(kr=!0),(ps&134217727)===0&&(Ys&134217727)===0||wt===null||vs(wt,ot,Gn,!1)}function fd(e,n,s){var i=ht;ht|=2;var u=ig(),f=og();(wt!==e||ot!==n)&&(vo=null,Lr(e,n)),n=!1;var g=Vt;e:do try{if(pt!==0&&st!==null){var x=st,C=Qn;switch(pt){case 8:dd(),g=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(n=!0);var $=pt;if(pt=0,Qn=null,Fr(e,x,C,$),s&&kr){g=0;break e}break;default:$=pt,pt=0,Qn=null,Fr(e,x,C,$)}}sS(),g=Vt;break}catch(te){rg(e,te)}while(!0);return n&&e.shellSuspendCounter++,ka=Ls=null,ht=i,U.H=u,U.A=f,st===null&&(wt=null,ot=0,Li()),g}function sS(){for(;st!==null;)cg(st)}function rS(e,n){var s=ht;ht|=2;var i=ig(),u=og();wt!==e||ot!==n?(vo=null,yo=le()+500,Lr(e,n)):kr=kt(e,n);e:do try{if(pt!==0&&st!==null){n=st;var f=Qn;t:switch(pt){case 1:pt=0,Qn=null,Fr(e,n,f,1);break;case 2:case 9:if(bh(f)){pt=0,Qn=null,ug(n);break}n=function(){pt!==2&&pt!==9||wt!==e||(pt=7),Aa(e)},f.then(n,n);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:bh(f)?(pt=0,Qn=null,ug(n)):(pt=0,Qn=null,Fr(e,n,f,7));break;case 5:var g=null;switch(st.tag){case 26:g=st.memoizedState;case 5:case 27:var x=st;if(g?Kg(g):x.stateNode.complete){pt=0,Qn=null;var C=x.sibling;if(C!==null)st=C;else{var $=x.return;$!==null?(st=$,So($)):st=null}break t}}pt=0,Qn=null,Fr(e,n,f,5);break;case 6:pt=0,Qn=null,Fr(e,n,f,6);break;case 8:dd(),Vt=6;break e;default:throw Error(l(462))}}lS();break}catch(te){rg(e,te)}while(!0);return ka=Ls=null,U.H=i,U.A=u,ht=s,st!==null?0:(wt=null,ot=0,Li(),Vt)}function lS(){for(;st!==null&&!V();)cg(st)}function cg(e){var n=Dp(e.alternate,e,Qa);e.memoizedProps=e.pendingProps,n===null?So(e):st=n}function ug(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Ap(s,n,n.pendingProps,n.type,void 0,ot);break;case 11:n=Ap(s,n,n.pendingProps,n.type.render,n.ref,ot);break;case 5:Au(n);default:Up(s,n),n=st=oh(n,Qa),n=Dp(s,n,Qa)}e.memoizedProps=e.pendingProps,n===null?So(e):st=n}function Fr(e,n,s,i){ka=Ls=null,Au(n),Cr=null,Ol=0;var u=n.return;try{if(Yx(e,u,n,s,ot)){Vt=1,io(e,Wn(s,e.current)),st=null;return}}catch(f){if(u!==null)throw st=u,f;Vt=1,io(e,Wn(s,e.current)),st=null;return}n.flags&32768?(ut||i===1?e=!0:kr||(ot&536870912)!==0?e=!1:(hs=e=!0,(i===2||i===9||i===3||i===6)&&(i=Zn.current,i!==null&&i.tag===13&&(i.flags|=16384))),dg(n,e)):So(n)}function So(e){var n=e;do{if((n.flags&32768)!==0){dg(n,hs);return}e=n.return;var s=Xx(n.alternate,n,Qa);if(s!==null){st=s;return}if(n=n.sibling,n!==null){st=n;return}st=n=e}while(n!==null);Vt===0&&(Vt=5)}function dg(e,n){do{var s=Jx(e.alternate,e);if(s!==null){s.flags&=32767,st=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){st=e;return}st=e=s}while(e!==null);Vt=6,st=null}function fg(e,n,s,i,u,f,g,x,C){e.cancelPendingCommit=null;do _o();while(ln!==0);if((ht&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=eu,un(e,s,f,g,x,C),e===wt&&(st=wt=null,ot=0),Br=n,ys=e,Ga=s,od=f,cd=u,tg=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uS(ee,function(){return yg(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=U.T,U.T=null,u=se.p,se.p=2,g=ht,ht|=4;try{Wx(e,n,s)}finally{ht=g,se.p=u,U.T=i}}ln=1,mg(),hg(),pg()}}function mg(){if(ln===1){ln=0;var e=ys,n=Br,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var i=se.p;se.p=2;var u=ht;ht|=4;try{Gp(n,e);var f=Nd,g=Wm(e.containerInfo),x=f.focusedElem,C=f.selectionRange;if(g!==x&&x&&x.ownerDocument&&Jm(x.ownerDocument.documentElement,x)){if(C!==null&&Kc(x)){var $=C.start,te=C.end;if(te===void 0&&(te=$),"selectionStart"in x)x.selectionStart=$,x.selectionEnd=Math.min(te,x.value.length);else{var ie=x.ownerDocument||document,H=ie&&ie.defaultView||window;if(H.getSelection){var X=H.getSelection(),ze=x.textContent.length,Ze=Math.min(C.start,ze),xt=C.end===void 0?Ze:Math.min(C.end,ze);!X.extend&&Ze>xt&&(g=xt,xt=Ze,Ze=g);var q=Xm(x,Ze),z=Xm(x,xt);if(q&&z&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var F=ie.createRange();F.setStart(q.node,q.offset),X.removeAllRanges(),Ze>xt?(X.addRange(F),X.extend(z.node,z.offset)):(F.setEnd(z.node,z.offset),X.addRange(F))}}}}for(ie=[],X=x;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ie.length;x++){var re=ie[x];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Mo=!!wd,Nd=wd=null}finally{ht=u,se.p=i,U.T=s}}e.current=n,ln=2}}function hg(){if(ln===2){ln=0;var e=ys,n=Br,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var i=se.p;se.p=2;var u=ht;ht|=4;try{Vp(e,n.alternate,n)}finally{ht=u,se.p=i,U.T=s}}ln=3}}function pg(){if(ln===4||ln===3){ln=0,pe();var e=ys,n=Br,s=Ga,i=tg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ln=5:(ln=0,Br=ys=null,gg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(gs=null),pn(s),n=n.stateNode,L&&typeof L.onCommitFiberRoot=="function")try{L.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=U.T,u=se.p,se.p=2,U.T=null;try{for(var f=e.onRecoverableError,g=0;g<i.length;g++){var x=i[g];f(x.value,{componentStack:x.stack})}}finally{U.T=n,se.p=u}}(Ga&3)!==0&&_o(),Aa(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===ud?Il++:(Il=0,ud=e):Il=0,Ql(0)}}function gg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,El(n)))}function _o(){return mg(),hg(),pg(),yg()}function yg(){if(ln!==5)return!1;var e=ys,n=od;od=0;var s=pn(Ga),i=U.T,u=se.p;try{se.p=32>s?32:s,U.T=null,s=cd,cd=null;var f=ys,g=Ga;if(ln=0,Br=ys=null,Ga=0,(ht&6)!==0)throw Error(l(331));var x=ht;if(ht|=4,Jp(f.current),Kp(f,f.current,g,s),ht=x,Ql(0,!1),L&&typeof L.onPostCommitFiberRoot=="function")try{L.onPostCommitFiberRoot(wn,f)}catch{}return!0}finally{se.p=u,U.T=i,gg(e,n)}}function vg(e,n,s){n=Wn(s,n),n=Vu(e.stateNode,n,2),e=us(e,n,2),e!==null&&(rn(e,2),Aa(e))}function gt(e,n,s){if(e.tag===3)vg(e,e,s);else for(;n!==null;){if(n.tag===3){vg(n,e,s);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gs===null||!gs.has(i))){e=Wn(s,e),s=bp(2),i=us(n,s,2),i!==null&&(xp(s,i,n,e),rn(i,2),Aa(i));break}}n=n.return}}function md(e,n,s){var i=e.pingCache;if(i===null){i=e.pingCache=new nS;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(s)||(rd=!0,u.add(s),e=iS.bind(null,e,n,s),n.then(e,e))}function iS(e,n,s){var i=e.pingCache;i!==null&&i.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,wt===e&&(ot&s)===s&&(Vt===4||Vt===3&&(ot&62914560)===ot&&300>le()-go?(ht&2)===0&&Lr(e,0):ld|=s,qr===ot&&(qr=0)),Aa(e)}function bg(e,n){n===0&&(n=qt()),e=ks(e,n),e!==null&&(rn(e,n),Aa(e))}function oS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),bg(e,s)}function cS(e,n){var s=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(n),bg(e,s)}function uS(e,n){return j(e,n)}var wo=null,$r=null,hd=!1,No=!1,pd=!1,bs=0;function Aa(e){e!==$r&&e.next===null&&($r===null?wo=$r=e:$r=$r.next=e),No=!0,hd||(hd=!0,fS())}function Ql(e,n){if(!pd&&No){pd=!0;do for(var s=!1,i=wo;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var g=i.suspendedLanes,x=i.pingedLanes;f=(1<<31-oe(42|e)+1)-1,f&=u&~(g&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,wg(i,f))}else f=ot,f=Kt(i,i===wt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||kt(i,f)||(s=!0,wg(i,f));i=i.next}while(s);pd=!1}}function dS(){xg()}function xg(){No=hd=!1;var e=0;bs!==0&&_S()&&(e=bs);for(var n=le(),s=null,i=wo;i!==null;){var u=i.next,f=Sg(i,n);f===0?(i.next=null,s===null?wo=u:s.next=u,u===null&&($r=s)):(s=i,(e!==0||(f&3)!==0)&&(No=!0)),i=u}ln!==0&&ln!==5||Ql(e),bs!==0&&(bs=0)}function Sg(e,n){for(var s=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-oe(f),x=1<<g,C=u[g];C===-1?((x&s)===0||(x&i)!==0)&&(u[g]=Rt(x,n)):C<=n&&(e.expiredLanes|=x),f&=~x}if(n=wt,s=ot,s=Kt(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,s===0||e===n&&(pt===2||pt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&T(i),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||kt(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(i!==null&&T(i),pn(s)){case 2:case 8:s=Le;break;case 32:s=ee;break;case 268435456:s=tt;break;default:s=ee}return i=_g.bind(null,e),s=j(s,i),e.callbackPriority=n,e.callbackNode=s,n}return i!==null&&i!==null&&T(i),e.callbackPriority=2,e.callbackNode=null,2}function _g(e,n){if(ln!==0&&ln!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(_o()&&e.callbackNode!==s)return null;var i=ot;return i=Kt(e,e===wt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(ag(e,i,n),Sg(e,le()),e.callbackNode!=null&&e.callbackNode===s?_g.bind(null,e):null)}function wg(e,n){if(_o())return null;ag(e,n,!0)}function fS(){NS(function(){(ht&6)!==0?j(Ae,dS):xg()})}function gd(){if(bs===0){var e=Er;e===0&&(e=Ue,Ue<<=1,(Ue&261888)===0&&(Ue=256)),bs=e}return bs}function Ng(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function jg(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function mS(e,n,s,i,u){if(n==="submit"&&s&&s.stateNode===u){var f=Ng((u[fn]||null).action),g=i.submitter;g&&(n=(n=g[fn]||null)?Ng(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var x=new Ui("action","action",null,i,u);e.push({event:x,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(bs!==0){var C=g?jg(u,g):new FormData(u);ku(s,{pending:!0,data:C,method:u.method,action:f},null,C)}}else typeof f=="function"&&(x.preventDefault(),C=g?jg(u,g):new FormData(u),ku(s,{pending:!0,data:C,method:u.method,action:f},f,C))},currentTarget:u}]})}}for(var yd=0;yd<Wc.length;yd++){var vd=Wc[yd],hS=vd.toLowerCase(),pS=vd[0].toUpperCase()+vd.slice(1);ha(hS,"on"+pS)}ha(nh,"onAnimationEnd"),ha(ah,"onAnimationIteration"),ha(sh,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(Tx,"onTransitionRun"),ha(zx,"onTransitionStart"),ha(Dx,"onTransitionCancel"),ha(rh,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function Eg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],u=i.event;i=i.listeners;e:{var f=void 0;if(n)for(var g=i.length-1;0<=g;g--){var x=i[g],C=x.instance,$=x.currentTarget;if(x=x.listener,C!==f&&u.isPropagationStopped())break e;f=x,u.currentTarget=$;try{f(u)}catch(te){Bi(te)}u.currentTarget=null,f=C}else for(g=0;g<i.length;g++){if(x=i[g],C=x.instance,$=x.currentTarget,x=x.listener,C!==f&&u.isPropagationStopped())break e;f=x,u.currentTarget=$;try{f(u)}catch(te){Bi(te)}u.currentTarget=null,f=C}}}}function rt(e,n){var s=n[Ja];s===void 0&&(s=n[Ja]=new Set);var i=e+"__bubble";s.has(i)||(Ag(n,e,2,!1),s.add(i))}function bd(e,n,s){var i=0;n&&(i|=4),Ag(s,e,i,n)}var jo="_reactListening"+Math.random().toString(36).slice(2);function xd(e){if(!e[jo]){e[jo]=!0,Oi.forEach(function(s){s!=="selectionchange"&&(gS.has(s)||bd(s,!1,e),bd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[jo]||(n[jo]=!0,bd("selectionchange",!1,n))}}function Ag(e,n,s,i){switch(ny(n)){case 2:var u=ZS;break;case 8:u=IS;break;default:u=Ud}s=u.bind(null,n,s,e),u=void 0,!Fc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Sd(e,n,s,i,u){var f=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var x=i.stateNode.containerInfo;if(x===u)break;if(g===4)for(g=i.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;x!==null;){if(g=es(x),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){i=f=g;continue e}x=x.parentNode}}i=i.return}zm(function(){var $=f,te=Bc(s),ie=[];e:{var H=lh.get(e);if(H!==void 0){var X=Ui,ze=e;switch(e){case"keypress":if(Di(s)===0)break e;case"keydown":case"keyup":X=cx;break;case"focusin":ze="focus",X=Zc;break;case"focusout":ze="blur",X=Zc;break;case"beforeblur":case"afterblur":X=Zc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=fx;break;case nh:case ah:case sh:X=ex;break;case rh:X=hx;break;case"scroll":case"scrollend":X=K0;break;case"wheel":X=gx;break;case"copy":case"cut":case"paste":X=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=qm;break;case"toggle":case"beforetoggle":X=vx}var Ze=(n&4)!==0,xt=!Ze&&(e==="scroll"||e==="scrollend"),q=Ze?H!==null?H+"Capture":null:H;Ze=[];for(var z=$,F;z!==null;){var re=z;if(F=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||F===null||q===null||(re=pl(z,q),re!=null&&Ze.push(Yl(z,re,F))),xt)break;z=z.return}0<Ze.length&&(H=new X(H,ze,null,s,te),ie.push({event:H,listeners:Ze}))}}if((n&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",H&&s!==qc&&(ze=s.relatedTarget||s.fromElement)&&(es(ze)||ze[da]))break e;if((X||H)&&(H=te.window===te?te:(H=te.ownerDocument)?H.defaultView||H.parentWindow:window,X?(ze=s.relatedTarget||s.toElement,X=$,ze=ze?es(ze):null,ze!==null&&(xt=d(ze),Ze=ze.tag,ze!==xt||Ze!==5&&Ze!==27&&Ze!==6)&&(ze=null)):(X=null,ze=$),X!==ze)){if(Ze=Um,re="onMouseLeave",q="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Ze=qm,re="onPointerLeave",q="onPointerEnter",z="pointer"),xt=X==null?H:Ts(X),F=ze==null?H:Ts(ze),H=new Ze(re,z+"leave",X,s,te),H.target=xt,H.relatedTarget=F,re=null,es(te)===$&&(Ze=new Ze(q,z+"enter",ze,s,te),Ze.target=F,Ze.relatedTarget=xt,re=Ze),xt=re,X&&ze)t:{for(Ze=yS,q=X,z=ze,F=0,re=q;re;re=Ze(re))F++;re=0;for(var $e=z;$e;$e=Ze($e))re++;for(;0<F-re;)q=Ze(q),F--;for(;0<re-F;)z=Ze(z),re--;for(;F--;){if(q===z||z!==null&&q===z.alternate){Ze=q;break t}q=Ze(q),z=Ze(z)}Ze=null}else Ze=null;X!==null&&Og(ie,H,X,Ze,!1),ze!==null&&xt!==null&&Og(ie,xt,ze,Ze,!0)}}e:{if(H=$?Ts($):window,X=H.nodeName&&H.nodeName.toLowerCase(),X==="select"||X==="input"&&H.type==="file")var ft=Im;else if(Hm(H))if(Qm)ft=Ox;else{ft=Ex;var ke=jx}else X=H.nodeName,!X||X.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?$&&kc($.elementType)&&(ft=Im):ft=Ax;if(ft&&(ft=ft(e,$))){Zm(ie,ft,s,te);break e}ke&&ke(e,H,$),e==="focusout"&&$&&H.type==="number"&&$.memoizedProps.value!=null&&Uc(H,"number",H.value)}switch(ke=$?Ts($):window,e){case"focusin":(Hm(ke)||ke.contentEditable==="true")&&(vr=ke,Pc=$,wl=null);break;case"focusout":wl=Pc=vr=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,eh(ie,s,te);break;case"selectionchange":if(Rx)break;case"keydown":case"keyup":eh(ie,s,te)}var We;if(Qc)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else yr?$m(e,s)&&(ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ct="onCompositionStart");ct&&(Bm&&s.locale!=="ko"&&(yr||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&yr&&(We=Dm()):(as=te,$c="value"in as?as.value:as.textContent,yr=!0)),ke=Eo($,ct),0<ke.length&&(ct=new km(ct,e,null,s,te),ie.push({event:ct,listeners:ke}),We?ct.data=We:(We=Vm(s),We!==null&&(ct.data=We)))),(We=xx?Sx(e,s):_x(e,s))&&(ct=Eo($,"onBeforeInput"),0<ct.length&&(ke=new km("onBeforeInput","beforeinput",null,s,te),ie.push({event:ke,listeners:ct}),ke.data=We)),mS(ie,e,$,s,te)}Eg(ie,n)})}function Yl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Eo(e,n){for(var s=n+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=pl(e,s),u!=null&&i.unshift(Yl(e,u,f)),u=pl(e,n),u!=null&&i.push(Yl(e,u,f))),e.tag===3)return i;e=e.return}return[]}function yS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Og(e,n,s,i,u){for(var f=n._reactName,g=[];s!==null&&s!==i;){var x=s,C=x.alternate,$=x.stateNode;if(x=x.tag,C!==null&&C===i)break;x!==5&&x!==26&&x!==27||$===null||(C=$,u?($=pl(s,f),$!=null&&g.unshift(Yl(s,$,C))):u||($=pl(s,f),$!=null&&g.push(Yl(s,$,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var vS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function Cg(e){return(typeof e=="string"?e:""+e).replace(vS,`
`).replace(bS,"")}function Rg(e,n){return n=Cg(n),Cg(e)===n}function bt(e,n,s,i,u,f){switch(s){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||hr(e,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&hr(e,""+i);break;case"className":Ce(e,"class",i);break;case"tabIndex":Ce(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ce(e,s,i);break;case"style":Rm(e,i,f);break;case"data":if(n!=="object"){Ce(e,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=Ti(""+i),e.setAttribute(s,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&bt(e,n,"name",u.name,u,null),bt(e,n,"formEncType",u.formEncType,u,null),bt(e,n,"formMethod",u.formMethod,u,null),bt(e,n,"formTarget",u.formTarget,u,null)):(bt(e,n,"encType",u.encType,u,null),bt(e,n,"method",u.method,u,null),bt(e,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=Ti(""+i),e.setAttribute(s,i);break;case"onClick":i!=null&&(e.onclick=za);break;case"onScroll":i!=null&&rt("scroll",e);break;case"onScrollEnd":i!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(s=i.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}s=Ti(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""+i):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":i===!0?e.setAttribute(s,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,i):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(s,i):e.removeAttribute(s);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(s):e.setAttribute(s,i);break;case"popover":rt("beforetoggle",e),rt("toggle",e),Se(e,"popover",i);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Se(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=G0.get(s)||s,Se(e,s,i))}}function _d(e,n,s,i,u,f){switch(s){case"style":Rm(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(s=i.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof i=="string"?hr(e,i):(typeof i=="number"||typeof i=="bigint")&&hr(e,""+i);break;case"onScroll":i!=null&&rt("scroll",e);break;case"onScrollEnd":i!=null&&rt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ci.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=e[fn]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,i,u);break e}s in e?e[s]=i:i===!0?e.setAttribute(s,""):Se(e,s,i)}}}function bn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var i=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:bt(e,n,f,g,s,null)}}u&&bt(e,n,"srcSet",s.srcSet,s,null),i&&bt(e,n,"src",s.src,s,null);return;case"input":rt("invalid",e);var x=f=g=u=null,C=null,$=null;for(i in s)if(s.hasOwnProperty(i)){var te=s[i];if(te!=null)switch(i){case"name":u=te;break;case"type":g=te;break;case"checked":C=te;break;case"defaultChecked":$=te;break;case"value":f=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,n));break;default:bt(e,n,i,te,s,null)}}Em(e,f,x,C,$,g,u,!1);return;case"select":rt("invalid",e),i=g=f=null;for(u in s)if(s.hasOwnProperty(u)&&(x=s[u],x!=null))switch(u){case"value":f=x;break;case"defaultValue":g=x;break;case"multiple":i=x;default:bt(e,n,u,x,s,null)}n=f,s=g,e.multiple=!!i,n!=null?mr(e,!!i,n,!1):s!=null&&mr(e,!!i,s,!0);return;case"textarea":rt("invalid",e),f=u=i=null;for(g in s)if(s.hasOwnProperty(g)&&(x=s[g],x!=null))switch(g){case"value":i=x;break;case"defaultValue":u=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:bt(e,n,g,x,s,null)}Om(e,i,u,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(i=s[C],i!=null))switch(C){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:bt(e,n,C,i,s,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(i=0;i<Gl.length;i++)rt(Gl[i],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(i=s[$],i!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:bt(e,n,$,i,s,null)}return;default:if(kc(n)){for(te in s)s.hasOwnProperty(te)&&(i=s[te],i!==void 0&&_d(e,n,te,i,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(i=s[x],i!=null&&bt(e,n,x,i,s,null))}function xS(e,n,s,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,x=null,C=null,$=null,te=null;for(X in s){var ie=s[X];if(s.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=ie;default:i.hasOwnProperty(X)||bt(e,n,X,null,i,ie)}}for(var H in i){var X=i[H];if(ie=s[H],i.hasOwnProperty(H)&&(X!=null||ie!=null))switch(H){case"type":f=X;break;case"name":u=X;break;case"checked":$=X;break;case"defaultChecked":te=X;break;case"value":g=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,n));break;default:X!==ie&&bt(e,n,H,X,i,ie)}}Mc(e,g,x,C,$,te,f,u);return;case"select":X=g=x=H=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":X=C;default:i.hasOwnProperty(f)||bt(e,n,f,null,i,C)}for(u in i)if(f=i[u],C=s[u],i.hasOwnProperty(u)&&(f!=null||C!=null))switch(u){case"value":H=f;break;case"defaultValue":x=f;break;case"multiple":g=f;default:f!==C&&bt(e,n,u,f,i,C)}n=x,s=g,i=X,H!=null?mr(e,!!s,H,!1):!!i!=!!s&&(n!=null?mr(e,!!s,n,!0):mr(e,!!s,s?[]:"",!1));return;case"textarea":X=H=null;for(x in s)if(u=s[x],s.hasOwnProperty(x)&&u!=null&&!i.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:bt(e,n,x,null,i,u)}for(g in i)if(u=i[g],f=s[g],i.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":H=u;break;case"defaultValue":X=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&bt(e,n,g,u,i,f)}Am(e,H,X);return;case"option":for(var ze in s)if(H=s[ze],s.hasOwnProperty(ze)&&H!=null&&!i.hasOwnProperty(ze))switch(ze){case"selected":e.selected=!1;break;default:bt(e,n,ze,null,i,H)}for(C in i)if(H=i[C],X=s[C],i.hasOwnProperty(C)&&H!==X&&(H!=null||X!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:bt(e,n,C,H,i,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in s)H=s[Ze],s.hasOwnProperty(Ze)&&H!=null&&!i.hasOwnProperty(Ze)&&bt(e,n,Ze,null,i,H);for($ in i)if(H=i[$],X=s[$],i.hasOwnProperty($)&&H!==X&&(H!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,n));break;default:bt(e,n,$,H,i,X)}return;default:if(kc(n)){for(var xt in s)H=s[xt],s.hasOwnProperty(xt)&&H!==void 0&&!i.hasOwnProperty(xt)&&_d(e,n,xt,void 0,i,H);for(te in i)H=i[te],X=s[te],!i.hasOwnProperty(te)||H===X||H===void 0&&X===void 0||_d(e,n,te,H,i,X);return}}for(var q in s)H=s[q],s.hasOwnProperty(q)&&H!=null&&!i.hasOwnProperty(q)&&bt(e,n,q,null,i,H);for(ie in i)H=i[ie],X=s[ie],!i.hasOwnProperty(ie)||H===X||H==null&&X==null||bt(e,n,ie,H,i,X)}function Tg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),i=0;i<s.length;i++){var u=s[i],f=u.transferSize,g=u.initiatorType,x=u.duration;if(f&&x&&Tg(g)){for(g=0,x=u.responseEnd,i+=1;i<s.length;i++){var C=s[i],$=C.startTime;if($>x)break;var te=C.transferSize,ie=C.initiatorType;te&&Tg(ie)&&(C=C.responseEnd,g+=te*(C<x?1:(x-$)/(C-$)))}if(--i,n+=8*(f+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wd=null,Nd=null;function Ao(e){return e.nodeType===9?e:e.ownerDocument}function zg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function _S(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var Mg=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,NS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(e){return Ug.resolve(null).then(e).catch(jS)}:Mg;function jS(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function kg(e,n){var s=n,i=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(i===0){e.removeChild(u),Ir(n);return}i--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")i++;else if(s==="html")Kl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Kl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,x=f.nodeName;f[wa]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Kl(e.ownerDocument.body);s=u}while(s);Ir(n)}function qg(e,n){var s=e;e=0;do{var i=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=i}while(s)}function Ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ad(s),hl(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ES(e,n,s,i){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[wa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=sa(e.nextSibling),e===null)break}return null}function AS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=sa(e.nextSibling),e===null))return null;return e}function Bg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=sa(e.nextSibling),e===null))return null;return e}function Od(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function OS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var i=function(){n(),s.removeEventListener("DOMContentLoaded",i)};s.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function sa(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Rd=null;function Lg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return sa(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Fg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function $g(e,n,s){switch(n=Ao(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Kl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);hl(e)}var ra=new Map,Vg=new Set;function Oo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ya=se.d;se.d={f:CS,r:RS,D:TS,C:zS,L:DS,m:MS,X:kS,S:US,M:qS};function CS(){var e=Ya.f(),n=bo();return e||n}function RS(e){var n=fa(e);n!==null&&n.tag===5&&n.type==="form"?rp(n):Ya.r(e)}var Vr=typeof document>"u"?null:document;function Hg(e,n,s){var i=Vr;if(i&&typeof n=="string"&&n){var u=Xn(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),Vg.has(u)||(Vg.add(u),e={rel:e,crossOrigin:s,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),bn(n,"link",e),Xt(n),i.head.appendChild(n)))}}function TS(e){Ya.D(e),Hg("dns-prefetch",e,null)}function zS(e,n){Ya.C(e,n),Hg("preconnect",e,n)}function DS(e,n,s){Ya.L(e,n,s);var i=Vr;if(i&&e&&n){var u='link[rel="preload"][as="'+Xn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Xn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Xn(s.imageSizes)+'"]')):u+='[href="'+Xn(e)+'"]';var f=u;switch(n){case"style":f=Hr(e);break;case"script":f=Zr(e)}ra.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),ra.set(f,e),i.querySelector(u)!==null||n==="style"&&i.querySelector(Pl(f))||n==="script"&&i.querySelector(Xl(f))||(n=i.createElement("link"),bn(n,"link",e),Xt(n),i.head.appendChild(n)))}}function MS(e,n){Ya.m(e,n);var s=Vr;if(s&&e){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Xn(i)+'"][href="'+Xn(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Zr(e)}if(!ra.has(f)&&(e=S({rel:"modulepreload",href:e},n),ra.set(f,e),s.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Xl(f)))return}i=s.createElement("link"),bn(i,"link",e),Xt(i),s.head.appendChild(i)}}}function US(e,n,s){Ya.S(e,n,s);var i=Vr;if(i&&e){var u=ts(i).hoistableStyles,f=Hr(e);n=n||"default";var g=u.get(f);if(!g){var x={loading:0,preload:null};if(g=i.querySelector(Pl(f)))x.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=ra.get(f))&&Td(e,s);var C=g=i.createElement("link");Xt(C),bn(C,"link",e),C._p=new Promise(function($,te){C.onload=$,C.onerror=te}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Co(g,n,i)}g={type:"stylesheet",instance:g,count:1,state:x},u.set(f,g)}}}function kS(e,n){Ya.X(e,n);var s=Vr;if(s&&e){var i=ts(s).hoistableScripts,u=Zr(e),f=i.get(u);f||(f=s.querySelector(Xl(u)),f||(e=S({src:e,async:!0},n),(n=ra.get(u))&&zd(e,n),f=s.createElement("script"),Xt(f),bn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function qS(e,n){Ya.M(e,n);var s=Vr;if(s&&e){var i=ts(s).hoistableScripts,u=Zr(e),f=i.get(u);f||(f=s.querySelector(Xl(u)),f||(e=S({src:e,async:!0,type:"module"},n),(n=ra.get(u))&&zd(e,n),f=s.createElement("script"),Xt(f),bn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function Zg(e,n,s,i){var u=(u=Ee.current)?Oo(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Hr(s.href),s=ts(u).hoistableStyles,i=s.get(n),i||(i={type:"style",instance:null,count:0,state:null},s.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Hr(s.href);var f=ts(u).hoistableStyles,g=f.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=u.querySelector(Pl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ra.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ra.set(e,s),f||BS(u,e,s,g.state))),n&&i===null)throw Error(l(528,""));return g}if(n&&i!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zr(s),s=ts(u).hoistableScripts,i=s.get(n),i||(i={type:"script",instance:null,count:0,state:null},s.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Hr(e){return'href="'+Xn(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function Ig(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function BS(e,n,s,i){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=e.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),bn(n,"link",s),Xt(n),e.head.appendChild(n))}function Zr(e){return'[src="'+Xn(e)+'"]'}function Xl(e){return"script[async]"+e}function Qg(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var i=e.querySelector('style[data-href~="'+Xn(s.href)+'"]');if(i)return n.instance=i,Xt(i),i;var u=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Xt(i),bn(i,"style",u),Co(i,s.precedence,e),n.instance=i;case"stylesheet":u=Hr(s.href);var f=e.querySelector(Pl(u));if(f)return n.state.loading|=4,n.instance=f,Xt(f),f;i=Ig(s),(u=ra.get(u))&&Td(i,u),f=(e.ownerDocument||e).createElement("link"),Xt(f);var g=f;return g._p=new Promise(function(x,C){g.onload=x,g.onerror=C}),bn(f,"link",i),n.state.loading|=4,Co(f,s.precedence,e),n.instance=f;case"script":return f=Zr(s.src),(u=e.querySelector(Xl(f)))?(n.instance=u,Xt(u),u):(i=s,(u=ra.get(f))&&(i=S({},s),zd(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xt(u),bn(u,"link",i),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,Co(i,s.precedence,e));return n.instance}function Co(e,n,s){for(var i=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,g=0;g<i.length;g++){var x=i[g];if(x.dataset.precedence===n)f=x;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function zd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ro=null;function Gg(e,n,s){if(Ro===null){var i=new Map,u=Ro=new Map;u.set(s,i)}else u=Ro,i=u.get(s),i||(i=new Map,u.set(s,i));if(i.has(e))return i;for(i.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var f=s[u];if(!(f[wa]||f[Ft]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var x=i.get(g);x?x.push(f):i.set(g,[f])}}return i}function Yg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function LS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Kg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function FS(e,n,s,i){if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Hr(i.href),f=n.querySelector(Pl(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=To.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Xt(f);return}f=n.ownerDocument||n,i=Ig(i),(u=ra.get(u))&&Td(i,u),f=f.createElement("link"),Xt(f);var g=f;g._p=new Promise(function(x,C){g.onload=x,g.onerror=C}),bn(f,"link",i),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=To.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Dd=0;function $S(e,n){return e.stylesheets&&e.count===0&&Do(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var i=setTimeout(function(){if(e.stylesheets&&Do(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*SS());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Do(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function To(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Do(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zo=null;function Do(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zo=new Map,n.forEach(VS,e),zo=null,To.call(e))}function VS(e,n){if(!(n.state.loading&4)){var s=zo.get(e);if(s)var i=s.get(null);else{s=new Map,zo.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),i=g)}i&&s.set(null,i)}u=n.instance,g=u.getAttribute("data-precedence"),f=s.get(g)||i,f===i&&s.set(null,u),s.set(g,u),this.count++,i=To.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:J,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function HS(e,n,s,i,u,f,g,x,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Pg(e,n,s,i,u,f,g,x,C,$,te,ie){return e=new HS(e,n,s,g,C,$,te,ie,x),n=1,f===!0&&(n|=24),f=Hn(3,null,null,n),e.current=f,f.stateNode=e,n=fu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:i,isDehydrated:s,cache:n},gu(f),e}function Xg(e){return e?(e=Sr,e):Sr}function Jg(e,n,s,i,u,f){u=Xg(u),i.context===null?i.context=u:i.pendingContext=u,i=cs(n),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=us(e,i,n),s!==null&&(Mn(s,e,n),Rl(s,e,n))}function Wg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Md(e,n){Wg(e,n),(e=e.alternate)&&Wg(e,n)}function ey(e){if(e.tag===13||e.tag===31){var n=ks(e,67108864);n!==null&&Mn(n,e,67108864),Md(e,67108864)}}function ty(e){if(e.tag===13||e.tag===31){var n=Yn();n=Nn(n);var s=ks(e,n);s!==null&&Mn(s,e,n),Md(e,n)}}var Mo=!0;function ZS(e,n,s,i){var u=U.T;U.T=null;var f=se.p;try{se.p=2,Ud(e,n,s,i)}finally{se.p=f,U.T=u}}function IS(e,n,s,i){var u=U.T;U.T=null;var f=se.p;try{se.p=8,Ud(e,n,s,i)}finally{se.p=f,U.T=u}}function Ud(e,n,s,i){if(Mo){var u=kd(i);if(u===null)Sd(e,n,i,Uo,s),ay(e,i);else if(GS(u,e,n,s,i))i.stopPropagation();else if(ay(e,i),n&4&&-1<QS.indexOf(e)){for(;u!==null;){var f=fa(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=_t(f.pendingLanes);if(g!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;g;){var C=1<<31-oe(g);x.entanglements[1]|=C,g&=~C}Aa(f),(ht&6)===0&&(yo=le()+500,Ql(0))}}break;case 31:case 13:x=ks(f,2),x!==null&&Mn(x,f,2),bo(),Md(f,2)}if(f=kd(i),f===null&&Sd(e,n,i,Uo,s),f===u)break;u=f}u!==null&&i.stopPropagation()}else Sd(e,n,i,null,s)}}function kd(e){return e=Bc(e),qd(e)}var Uo=null;function qd(e){if(Uo=null,e=es(e),e!==null){var n=d(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=m(n),e!==null)return e;e=null}else if(s===31){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Uo=e,null}function ny(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case Ae:return 2;case Le:return 8;case ee:case Qe:return 32;case tt:return 268435456;default:return 32}default:return 32}}var Bd=!1,Ss=null,_s=null,ws=null,Wl=new Map,ei=new Map,Ns=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ay(e,n){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(n.pointerId)}}function ti(e,n,s,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},n!==null&&(n=fa(n),n!==null&&ey(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function GS(e,n,s,i,u){switch(n){case"focusin":return Ss=ti(Ss,e,n,s,i,u),!0;case"dragenter":return _s=ti(_s,e,n,s,i,u),!0;case"mouseover":return ws=ti(ws,e,n,s,i,u),!0;case"pointerover":var f=u.pointerId;return Wl.set(f,ti(Wl.get(f)||null,e,n,s,i,u)),!0;case"gotpointercapture":return f=u.pointerId,ei.set(f,ti(ei.get(f)||null,e,n,s,i,u)),!0}return!1}function sy(e){var n=es(e.target);if(n!==null){var s=d(n);if(s!==null){if(n=s.tag,n===13){if(n=m(s),n!==null){e.blockedOn=n,_a(e.priority,function(){ty(s)});return}}else if(n===31){if(n=h(s),n!==null){e.blockedOn=n,_a(e.priority,function(){ty(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=kd(e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);qc=i,s.target.dispatchEvent(i),qc=null}else return n=fa(s),n!==null&&ey(n),e.blockedOn=s,!1;n.shift()}return!0}function ry(e,n,s){ko(e)&&s.delete(n)}function YS(){Bd=!1,Ss!==null&&ko(Ss)&&(Ss=null),_s!==null&&ko(_s)&&(_s=null),ws!==null&&ko(ws)&&(ws=null),Wl.forEach(ry),ei.forEach(ry)}function qo(e,n){e.blockedOn===n&&(e.blockedOn=null,Bd||(Bd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YS)))}var Bo=null;function ly(e){Bo!==e&&(Bo=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bo===e&&(Bo=null);for(var n=0;n<e.length;n+=3){var s=e[n],i=e[n+1],u=e[n+2];if(typeof i!="function"){if(qd(i||s)===null)continue;break}var f=fa(s);f!==null&&(e.splice(n,3),n-=3,ku(f,{pending:!0,data:u,method:s.method,action:i},i,u))}}))}function Ir(e){function n(C){return qo(C,e)}Ss!==null&&qo(Ss,e),_s!==null&&qo(_s,e),ws!==null&&qo(ws,e),Wl.forEach(n),ei.forEach(n);for(var s=0;s<Ns.length;s++){var i=Ns[s];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ns.length&&(s=Ns[0],s.blockedOn===null);)sy(s),s.blockedOn===null&&Ns.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(i=0;i<s.length;i+=3){var u=s[i],f=s[i+1],g=u[fn]||null;if(typeof f=="function")g||ly(s);else if(g){var x=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[fn]||null)x=g.formAction;else if(qd(u)!==null)continue}else x=g.action;typeof x=="function"?s[i+1]=x:(s.splice(i,3),i-=3),ly(s)}}}function iy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(s,20)}function s(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Ld(e){this._internalRoot=e}Lo.prototype.render=Ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,i=Yn();Jg(s,i,e,n,null,null)},Lo.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jg(e.current,2,null,e,null,null),bo(),n[da]=null}};function Lo(e){this._internalRoot=e}Lo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Pn();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ns.length&&n!==0&&n<Ns[s].priority;s++);Ns.splice(s,0,e),s===0&&sy(e)}};var oy=a.version;if(oy!=="19.2.0")throw Error(l(527,oy,"19.2.0"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var KS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{wn=Fo.inject(KS),L=Fo}catch{}}return ai.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,i="",u=pp,f=gp,g=yp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Pg(e,1,!1,null,null,s,i,null,u,f,g,iy),e[da]=n.current,xd(e),new Ld(n)},ai.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var i=!1,u="",f=pp,g=gp,x=yp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=Pg(e,1,!0,n,s??null,i,u,C,f,g,x,iy),n.context=Xg(null),s=n.current,i=Yn(),i=Nn(i),u=cs(i),u.callback=null,us(s,u,i),s=i,n.current.lanes=s,rn(n,s),Aa(n),e[da]=n.current,xd(e),new Lo(n)},ai.version="19.2.0",ai}var vy;function r_(){if(vy)return Vd.exports;vy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Vd.exports=s_(),Vd.exports}var l_=r_();const i_=Qv(l_);var by="popstate";function o_(t={}){function a(l,o){let{pathname:d,search:m,hash:h}=l.location;return bf("",{pathname:d,search:m,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(l,o){return typeof o=="string"?o:ui(o)}return u_(a,r,null,t)}function Dt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function oa(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function c_(){return Math.random().toString(36).substring(2,10)}function xy(t,a){return{usr:t.state,key:t.key,idx:a}}function bf(t,a,r=null,l){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?rl(a):a,state:r,key:a&&a.key||l||c_()}}function ui({pathname:t="/",search:a="",hash:r=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rl(t){let a={};if(t){let r=t.indexOf("#");r>=0&&(a.hash=t.substring(r),t=t.substring(0,r));let l=t.indexOf("?");l>=0&&(a.search=t.substring(l),t=t.substring(0,l)),t&&(a.pathname=t)}return a}function u_(t,a,r,l={}){let{window:o=document.defaultView,v5Compat:d=!1}=l,m=o.history,h="POP",y=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function S(){h="POP";let A=v(),k=A==null?null:A-p;p=A,y&&y({action:h,location:O.location,delta:k})}function w(A,k){h="PUSH";let D=bf(O.location,A,k);p=v()+1;let J=xy(D,p),N=O.createHref(D);try{m.pushState(J,"",N)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(N)}d&&y&&y({action:h,location:O.location,delta:1})}function B(A,k){h="REPLACE";let D=bf(O.location,A,k);p=v();let J=xy(D,p),N=O.createHref(D);m.replaceState(J,"",N),d&&y&&y({action:h,location:O.location,delta:0})}function _(A){return d_(A)}let O={get action(){return h},get location(){return t(o,m)},listen(A){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(by,S),y=A,()=>{o.removeEventListener(by,S),y=null}},createHref(A){return a(o,A)},createURL:_,encodeLocation(A){let k=_(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:B,go(A){return m.go(A)}};return O}function d_(t,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(r,"No window.location.(origin|href) available to create URL");let l=typeof t=="string"?t:ui(t);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Gv(t,a,r="/"){return f_(t,a,r,!1)}function f_(t,a,r,l){let o=typeof a=="string"?rl(a):a,d=Xa(o.pathname||"/",r);if(d==null)return null;let m=Yv(t);m_(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let p=N_(d);h=__(m[y],p,l)}return h}function Yv(t,a=[],r=[],l="",o=!1){let d=(m,h,y=o,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&y)return;Dt(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let S=Pa([l,v.relativePath]),w=r.concat(v);m.children&&m.children.length>0&&(Dt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Yv(m.children,a,w,S,y)),!(m.path==null&&!m.index)&&a.push({path:S,score:x_(S,m.index),routesMeta:w})};return t.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))d(m,h);else for(let y of Kv(m.path))d(m,h,!0,y)}),a}function Kv(t){let a=t.split("/");if(a.length===0)return[];let[r,...l]=a,o=r.endsWith("?"),d=r.replace(/\?$/,"");if(l.length===0)return o?[d,""]:[d];let m=Kv(l.join("/")),h=[];return h.push(...m.map(y=>y===""?d:[d,y].join("/"))),o&&h.push(...m),h.map(y=>t.startsWith("/")&&y===""?"/":y)}function m_(t){t.sort((a,r)=>a.score!==r.score?r.score-a.score:S_(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var h_=/^:[\w-]+$/,p_=3,g_=2,y_=1,v_=10,b_=-2,Sy=t=>t==="*";function x_(t,a){let r=t.split("/"),l=r.length;return r.some(Sy)&&(l+=b_),a&&(l+=g_),r.filter(o=>!Sy(o)).reduce((o,d)=>o+(h_.test(d)?p_:d===""?y_:v_),l)}function S_(t,a){return t.length===a.length&&t.slice(0,-1).every((l,o)=>l===a[o])?t[t.length-1]-a[a.length-1]:0}function __(t,a,r=!1){let{routesMeta:l}=t,o={},d="/",m=[];for(let h=0;h<l.length;++h){let y=l[h],p=h===l.length-1,v=d==="/"?a:a.slice(d.length)||"/",S=di({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),w=y.route;if(!S&&p&&r&&!l[l.length-1].route.index&&(S=di({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),m.push({params:o,pathname:Pa([d,S.pathname]),pathnameBase:O_(Pa([d,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(d=Pa([d,S.pathnameBase]))}return m}function di(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,l]=w_(t.path,t.caseSensitive,t.end),o=a.match(r);if(!o)return null;let d=o[0],m=d.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:S},w)=>{if(v==="*"){let _=h[w]||"";m=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const B=h[w];return S&&!B?p[v]=void 0:p[v]=(B||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:t}}function w_(t,a=!1,r=!0){oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let l=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(l.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(l.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),l]}function N_(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return oa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Xa(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=t.charAt(r);return l&&l!=="/"?null:t.slice(r)||"/"}function j_(t,a="/"){let{pathname:r,search:l="",hash:o=""}=typeof t=="string"?rl(t):t;return{pathname:r?r.startsWith("/")?r:E_(r,a):a,search:C_(l),hash:R_(o)}}function E_(t,a){let r=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Qd(t,a,r,l){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A_(t){return t.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function If(t){let a=A_(t);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function Qf(t,a,r,l=!1){let o;typeof t=="string"?o=rl(t):(o={...t},Dt(!o.pathname||!o.pathname.includes("?"),Qd("?","pathname","search",o)),Dt(!o.pathname||!o.pathname.includes("#"),Qd("#","pathname","hash",o)),Dt(!o.search||!o.search.includes("#"),Qd("#","search","hash",o)));let d=t===""||o.pathname==="",m=d?"/":o.pathname,h;if(m==null)h=r;else{let S=a.length-1;if(!l&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}h=S>=0?a[S]:"/"}let y=j_(o,h),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var Pa=t=>t.join("/").replace(/\/\/+/g,"/"),O_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function T_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pv=["POST","PUT","PATCH","DELETE"];new Set(Pv);var z_=["GET",...Pv];new Set(z_);var ll=b.createContext(null);ll.displayName="DataRouter";var fc=b.createContext(null);fc.displayName="DataRouterState";b.createContext(!1);var Xv=b.createContext({isTransitioning:!1});Xv.displayName="ViewTransition";var D_=b.createContext(new Map);D_.displayName="Fetchers";var M_=b.createContext(null);M_.displayName="Await";var xa=b.createContext(null);xa.displayName="Navigation";var vi=b.createContext(null);vi.displayName="Location";var ca=b.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var Gf=b.createContext(null);Gf.displayName="RouteError";function U_(t,{relative:a}={}){Dt(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=b.useContext(xa),{hash:o,pathname:d,search:m}=bi(t,{relative:a}),h=d;return r!=="/"&&(h=d==="/"?r:Pa([r,d])),l.createHref({pathname:h,search:m,hash:o})}function il(){return b.useContext(vi)!=null}function On(){return Dt(il(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(vi).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wv(t){b.useContext(xa).static||b.useLayoutEffect(t)}function ol(){let{isDataRoute:t}=b.useContext(ca);return t?X_():k_()}function k_(){Dt(il(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(ll),{basename:a,navigator:r}=b.useContext(xa),{matches:l}=b.useContext(ca),{pathname:o}=On(),d=JSON.stringify(If(l)),m=b.useRef(!1);return Wv(()=>{m.current=!0}),b.useCallback((y,p={})=>{if(oa(m.current,Jv),!m.current)return;if(typeof y=="number"){r.go(y);return}let v=Qf(y,JSON.parse(d),o,p.relative==="path");t==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:Pa([a,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[a,r,d,o,t])}var q_=b.createContext(null);function B_(t){let a=b.useContext(ca).outlet;return b.useMemo(()=>a&&b.createElement(q_.Provider,{value:t},a),[a,t])}function L_(){let{matches:t}=b.useContext(ca),a=t[t.length-1];return a?a.params:{}}function bi(t,{relative:a}={}){let{matches:r}=b.useContext(ca),{pathname:l}=On(),o=JSON.stringify(If(r));return b.useMemo(()=>Qf(t,JSON.parse(o),l,a==="path"),[t,o,l,a])}function F_(t,a){return eb(t,a)}function eb(t,a,r,l,o){Dt(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(xa),{matches:m}=b.useContext(ca),h=m[m.length-1],y=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",S=h&&h.route;{let D=S&&S.path||"";tb(p,!S||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=On(),B;if(a){let D=typeof a=="string"?rl(a):a;Dt(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),B=D}else B=w;let _=B.pathname||"/",O=_;if(v!=="/"){let D=v.replace(/^\//,"").split("/");O="/"+_.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=Gv(t,{pathname:O});oa(S||A!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),oa(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=I_(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},y,D.params),pathname:Pa([v,d.encodeLocation?d.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:Pa([v,d.encodeLocation?d.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),m,r,l,o);return a&&k?b.createElement(vi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},k):k}function $_(){let t=P_(),a=T_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",t),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:d},"ErrorBoundary")," or"," ",b.createElement("code",{style:d},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),r?b.createElement("pre",{style:o},r):null,m)}var V_=b.createElement($_,null),H_=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.unstable_onError?this.props.unstable_onError(t,a):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(ca.Provider,{value:this.props.routeContext},b.createElement(Gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z_({routeContext:t,match:a,children:r}){let l=b.useContext(ll);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(ca.Provider,{value:t},r)}function I_(t,a=[],r=null,l=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let d=t,m=r?.errors;if(m!=null){let p=d.findIndex(v=>v.route.id&&m?.[v.route.id]!==void 0);Dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let h=!1,y=-1;if(r)for(let p=0;p<d.length;p++){let v=d[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=p),v.route.id){let{loaderData:S,errors:w}=r,B=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||B){h=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((p,v,S)=>{let w,B=!1,_=null,O=null;r&&(w=m&&v.route.id?m[v.route.id]:void 0,_=v.route.errorElement||V_,h&&(y<0&&S===0?(tb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,O=null):y===S&&(B=!0,O=v.route.hydrateFallbackElement||null)));let A=a.concat(d.slice(0,S+1)),k=()=>{let D;return w?D=_:B?D=O:v.route.Component?D=b.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=p,b.createElement(Z_,{match:v,routeContext:{outlet:p,matches:A,isDataRoute:r!=null},children:D})};return r&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?b.createElement(H_,{location:r.location,revalidation:r.revalidation,component:_,error:w,children:k(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:l}):k()},null)}function Yf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q_(t){let a=b.useContext(ll);return Dt(a,Yf(t)),a}function G_(t){let a=b.useContext(fc);return Dt(a,Yf(t)),a}function Y_(t){let a=b.useContext(ca);return Dt(a,Yf(t)),a}function Kf(t){let a=Y_(t),r=a.matches[a.matches.length-1];return Dt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function K_(){return Kf("useRouteId")}function P_(){let t=b.useContext(Gf),a=G_("useRouteError"),r=Kf("useRouteError");return t!==void 0?t:a.errors?.[r]}function X_(){let{router:t}=Q_("useNavigate"),a=Kf("useNavigate"),r=b.useRef(!1);return Wv(()=>{r.current=!0}),b.useCallback(async(o,d={})=>{oa(r.current,Jv),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:a,...d}))},[t,a])}var _y={};function tb(t,a,r){!a&&!_y[t]&&(_y[t]=!0,oa(!1,r))}b.memo(J_);function J_({routes:t,future:a,state:r,unstable_onError:l}){return eb(t,void 0,r,l,a)}function As({to:t,replace:a,state:r,relative:l}){Dt(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(xa);oa(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=b.useContext(ca),{pathname:m}=On(),h=ol(),y=Qf(t,If(d),m,l==="path"),p=JSON.stringify(y);return b.useEffect(()=>{h(JSON.parse(p),{replace:a,state:r,relative:l})},[h,p,l,a,r]),null}function nb(t){return B_(t.context)}function nn(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W_({basename:t="/",children:a=null,location:r,navigationType:l="POP",navigator:o,static:d=!1}){Dt(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:o,static:d,future:{}}),[m,o,d]);typeof r=="string"&&(r=rl(r));let{pathname:y="/",search:p="",hash:v="",state:S=null,key:w="default"}=r,B=b.useMemo(()=>{let _=Xa(y,m);return _==null?null:{location:{pathname:_,search:p,hash:v,state:S,key:w},navigationType:l}},[m,y,p,v,S,w,l]);return oa(B!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:b.createElement(xa.Provider,{value:h},b.createElement(vi.Provider,{children:a,value:B}))}function ew({children:t,location:a}){return F_(xf(t),a)}function xf(t,a=[]){let r=[];return b.Children.forEach(t,(l,o)=>{if(!b.isValidElement(l))return;let d=[...a,o];if(l.type===b.Fragment){r.push.apply(r,xf(l.props.children,d));return}Dt(l.type===nn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=xf(l.props.children,d)),r.push(m)}),r}var Ko="get",Po="application/x-www-form-urlencoded";function mc(t){return t!=null&&typeof t.tagName=="string"}function tw(t){return mc(t)&&t.tagName.toLowerCase()==="button"}function nw(t){return mc(t)&&t.tagName.toLowerCase()==="form"}function aw(t){return mc(t)&&t.tagName.toLowerCase()==="input"}function sw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rw(t,a){return t.button===0&&(!a||a==="_self")&&!sw(t)}function Sf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,r)=>{let l=t[r];return a.concat(Array.isArray(l)?l.map(o=>[r,o]):[[r,l]])},[]))}function lw(t,a){let r=Sf(t);return a&&a.forEach((l,o)=>{r.has(o)||a.getAll(o).forEach(d=>{r.append(o,d)})}),r}var $o=null;function iw(){if($o===null)try{new FormData(document.createElement("form"),0),$o=!1}catch{$o=!0}return $o}var ow=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(t){return t!=null&&!ow.has(t)?(oa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):t}function cw(t,a){let r,l,o,d,m;if(nw(t)){let h=t.getAttribute("action");l=h?Xa(h,a):null,r=t.getAttribute("method")||Ko,o=Gd(t.getAttribute("enctype"))||Po,d=new FormData(t)}else if(tw(t)||aw(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=t.getAttribute("formaction")||h.getAttribute("action");if(l=y?Xa(y,a):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||Ko,o=Gd(t.getAttribute("formenctype"))||Gd(h.getAttribute("enctype"))||Po,d=new FormData(h,t),!iw()){let{name:p,type:v,value:S}=t;if(v==="image"){let w=p?`${p}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else p&&d.append(p,S)}}else{if(mc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ko,l=null,o=Po,m=t}return d&&o==="text/plain"&&(m=d,d=void 0),{action:l,method:r.toLowerCase(),encType:o,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pf(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function uw(t,a,r){let l=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l.pathname==="/"?l.pathname=`_root.${r}`:a&&Xa(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function dw(t,a){if(t.id in a)return a[t.id];try{let r=await import(t.module);return a[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mw(t,a,r){let l=await Promise.all(t.map(async o=>{let d=a.routes[o.route.id];if(d){let m=await dw(d,r);return m.links?m.links():[]}return[]}));return yw(l.flat(1).filter(fw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wy(t,a,r,l,o,d){let m=(y,p)=>r[p]?y.route.id!==r[p].route.id:!0,h=(y,p)=>r[p].pathname!==y.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==y.params["*"];return d==="assets"?a.filter((y,p)=>m(y,p)||h(y,p)):d==="data"?a.filter((y,p)=>{let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(m(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function hw(t,a,{includeHydrateFallback:r}={}){return pw(t.map(l=>{let o=a.routes[l.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function pw(t){return[...new Set(t)]}function gw(t){let a={},r=Object.keys(t).sort();for(let l of r)a[l]=t[l];return a}function yw(t,a){let r=new Set;return new Set(a),t.reduce((l,o)=>{let d=JSON.stringify(gw(o));return r.has(d)||(r.add(d),l.push({key:d,link:o})),l},[])}function ab(){let t=b.useContext(ll);return Pf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vw(){let t=b.useContext(fc);return Pf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xf=b.createContext(void 0);Xf.displayName="FrameworkContext";function sb(){let t=b.useContext(Xf);return Pf(t,"You must render this element inside a <HydratedRouter> element"),t}function bw(t,a){let r=b.useContext(Xf),[l,o]=b.useState(!1),[d,m]=b.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:S}=a,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&m(!0),t==="viewport"){let O=k=>{k.forEach(D=>{m(D.isIntersecting)})},A=new IntersectionObserver(O,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[t]),b.useEffect(()=>{if(l){let O=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(O)}}},[l]);let B=()=>{o(!0)},_=()=>{o(!1),m(!1)};return r?t!=="intent"?[d,w,{}]:[d,w,{onFocus:si(h,B),onBlur:si(y,_),onMouseEnter:si(p,B),onMouseLeave:si(v,_),onTouchStart:si(S,B)}]:[!1,w,{}]}function si(t,a){return r=>{t&&t(r),r.defaultPrevented||a(r)}}function xw({page:t,...a}){let{router:r}=ab(),l=b.useMemo(()=>Gv(r.routes,t,r.basename),[r.routes,t,r.basename]);return l?b.createElement(_w,{page:t,matches:l,...a}):null}function Sw(t){let{manifest:a,routeModules:r}=sb(),[l,o]=b.useState([]);return b.useEffect(()=>{let d=!1;return mw(t,a,r).then(m=>{d||o(m)}),()=>{d=!0}},[t,a,r]),l}function _w({page:t,matches:a,...r}){let l=On(),{manifest:o,routeModules:d}=sb(),{basename:m}=ab(),{loaderData:h,matches:y}=vw(),p=b.useMemo(()=>wy(t,a,y,o,l,"data"),[t,a,y,o,l]),v=b.useMemo(()=>wy(t,a,y,o,l,"assets"),[t,a,y,o,l]),S=b.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let _=new Set,O=!1;if(a.forEach(k=>{let D=o.routes[k.route.id];!D||!D.hasLoader||(!p.some(J=>J.route.id===k.route.id)&&k.route.id in h&&d[k.route.id]?.shouldRevalidate||D.hasClientLoader?O=!0:_.add(k.route.id))}),_.size===0)return[];let A=uw(t,m,"data");return O&&_.size>0&&A.searchParams.set("_routes",a.filter(k=>_.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[m,h,l,o,p,a,t,d]),w=b.useMemo(()=>hw(v,o),[v,o]),B=Sw(v);return b.createElement(b.Fragment,null,S.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),w.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),B.map(({key:_,link:O})=>b.createElement("link",{key:_,nonce:r.nonce,...O})))}function ww(...t){return a=>{t.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var rb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rb&&(window.__reactRouterVersion="7.9.5")}catch{}function Nw({basename:t,children:a,window:r}){let l=b.useRef();l.current==null&&(l.current=o_({window:r,v5Compat:!0}));let o=l.current,[d,m]=b.useState({action:o.action,location:o.location}),h=b.useCallback(y=>{b.startTransition(()=>m(y))},[m]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.createElement(W_,{basename:t,children:a,location:d.location,navigationType:d.action,navigator:o})}var lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ec=b.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:o,reloadDocument:d,replace:m,state:h,target:y,to:p,preventScrollReset:v,viewTransition:S,...w},B){let{basename:_}=b.useContext(xa),O=typeof p=="string"&&lb.test(p),A,k=!1;if(typeof p=="string"&&O&&(A=p,rb))try{let fe=new URL(window.location.href),De=p.startsWith("//")?new URL(fe.protocol+p):new URL(p),je=Xa(De.pathname,_);De.origin===fe.origin&&je!=null?p=je+De.search+De.hash:k=!0}catch{oa(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=U_(p,{relative:o}),[J,N,R]=bw(l,w),Q=Aw(p,{replace:m,state:h,target:y,preventScrollReset:v,relative:o,viewTransition:S});function M(fe){a&&a(fe),fe.defaultPrevented||Q(fe)}let W=b.createElement("a",{...w,...R,href:A||D,onClick:k||d?a:M,ref:ww(B,N),target:y,"data-discover":!O&&r==="render"?"true":void 0});return J&&!O?b.createElement(b.Fragment,null,W,b.createElement(xw,{page:D})):W});ec.displayName="Link";var ib=b.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:o=!1,style:d,to:m,viewTransition:h,children:y,...p},v){let S=bi(m,{relative:p.relative}),w=On(),B=b.useContext(fc),{navigator:_,basename:O}=b.useContext(xa),A=B!=null&&zw(S)&&h===!0,k=_.encodeLocation?_.encodeLocation(S).pathname:S.pathname,D=w.pathname,J=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;r||(D=D.toLowerCase(),J=J?J.toLowerCase():null,k=k.toLowerCase()),J&&O&&(J=Xa(J,O)||J);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let R=D===k||!o&&D.startsWith(k)&&D.charAt(N)==="/",Q=J!=null&&(J===k||!o&&J.startsWith(k)&&J.charAt(k.length)==="/"),M={isActive:R,isPending:Q,isTransitioning:A},W=R?a:void 0,fe;typeof l=="function"?fe=l(M):fe=[l,R?"active":null,Q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let De=typeof d=="function"?d(M):d;return b.createElement(ec,{...p,"aria-current":W,className:fe,ref:v,style:De,to:m,viewTransition:h},typeof y=="function"?y(M):y)});ib.displayName="NavLink";var jw=b.forwardRef(({discover:t="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:o,state:d,method:m=Ko,action:h,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:S,...w},B)=>{let _=Rw(),O=Tw(h,{relative:p}),A=m.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&lb.test(h),D=J=>{if(y&&y(J),J.defaultPrevented)return;J.preventDefault();let N=J.nativeEvent.submitter,R=N?.getAttribute("formmethod")||m;_(N||J.currentTarget,{fetcherKey:a,method:R,navigate:r,replace:o,state:d,relative:p,preventScrollReset:v,viewTransition:S})};return b.createElement("form",{ref:B,method:A,action:O,onSubmit:l?y:D,...w,"data-discover":!k&&t==="render"?"true":void 0})});jw.displayName="Form";function Ew(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ob(t){let a=b.useContext(ll);return Dt(a,Ew(t)),a}function Aw(t,{target:a,replace:r,state:l,preventScrollReset:o,relative:d,viewTransition:m}={}){let h=ol(),y=On(),p=bi(t,{relative:d});return b.useCallback(v=>{if(rw(v,a)){v.preventDefault();let S=r!==void 0?r:ui(y)===ui(p);h(t,{replace:S,state:l,preventScrollReset:o,relative:d,viewTransition:m})}},[y,h,p,r,l,a,t,o,d,m])}function cb(t){oa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=b.useRef(Sf(t)),r=b.useRef(!1),l=On(),o=b.useMemo(()=>lw(l.search,r.current?null:a.current),[l.search]),d=ol(),m=b.useCallback((h,y)=>{const p=Sf(typeof h=="function"?h(new URLSearchParams(o)):h);r.current=!0,d("?"+p,y)},[d,o]);return[o,m]}var Ow=0,Cw=()=>`__${String(++Ow)}__`;function Rw(){let{router:t}=ob("useSubmit"),{basename:a}=b.useContext(xa),r=K_();return b.useCallback(async(l,o={})=>{let{action:d,method:m,encType:h,formData:y,body:p}=cw(l,a);if(o.navigate===!1){let v=o.fetcherKey||Cw();await t.fetch(v,r,o.action||d,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||m,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||d,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||m,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,a,r])}function Tw(t,{relative:a}={}){let{basename:r}=b.useContext(xa),l=b.useContext(ca);Dt(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),d={...bi(t||".",{relative:a})},m=On();if(t==null){d.search=m.search;let h=new URLSearchParams(d.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(S=>S).forEach(S=>h.append("index",S));let v=h.toString();d.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:Pa([r,d.pathname])),ui(d)}function zw(t,{relative:a}={}){let r=b.useContext(Xv);Dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=ob("useViewTransitionState"),o=bi(t,{relative:a});if(!r.isTransitioning)return!1;let d=Xa(r.currentLocation.pathname,l)||r.currentLocation.pathname,m=Xa(r.nextLocation.pathname,l)||r.nextLocation.pathname;return di(o.pathname,m)!=null||di(o.pathname,d)!=null}var cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dw={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},Mw=class{#e=Dw;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},Xs=new Mw;function Uw(t){setTimeout(t,0)}var tr=typeof window>"u"||"Deno"in globalThis;function An(){}function kw(t,a){return typeof t=="function"?t(a):t}function _f(t){return typeof t=="number"&&t>=0&&t!==1/0}function ub(t,a){return Math.max(t+(a||0)-Date.now(),0)}function Os(t,a){return typeof t=="function"?t(a):t}function la(t,a){return typeof t=="function"?t(a):t}function Ny(t,a){const{type:r="all",exact:l,fetchStatus:o,predicate:d,queryKey:m,stale:h}=t;if(m){if(l){if(a.queryHash!==Jf(m,a.options))return!1}else if(!fi(a.queryKey,m))return!1}if(r!=="all"){const y=a.isActive();if(r==="active"&&!y||r==="inactive"&&y)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||o&&o!==a.state.fetchStatus||d&&!d(a))}function jy(t,a){const{exact:r,status:l,predicate:o,mutationKey:d}=t;if(d){if(!a.options.mutationKey)return!1;if(r){if(nr(a.options.mutationKey)!==nr(d))return!1}else if(!fi(a.options.mutationKey,d))return!1}return!(l&&a.state.status!==l||o&&!o(a))}function Jf(t,a){return(a?.queryKeyHashFn||nr)(t)}function nr(t){return JSON.stringify(t,(a,r)=>wf(r)?Object.keys(r).sort().reduce((l,o)=>(l[o]=r[o],l),{}):r)}function fi(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(r=>fi(t[r],a[r])):!1}var qw=Object.prototype.hasOwnProperty;function db(t,a){if(t===a)return t;const r=Ey(t)&&Ey(a);if(!r&&!(wf(t)&&wf(a)))return a;const o=(r?t:Object.keys(t)).length,d=r?a:Object.keys(a),m=d.length,h=r?new Array(m):{};let y=0;for(let p=0;p<m;p++){const v=r?p:d[p],S=t[v],w=a[v];if(S===w){h[v]=S,(r?p<o:qw.call(t,v))&&y++;continue}if(S===null||w===null||typeof S!="object"||typeof w!="object"){h[v]=w;continue}const B=db(S,w);h[v]=B,B===S&&y++}return o===m&&y===o?t:h}function tc(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const r in t)if(t[r]!==a[r])return!1;return!0}function Ey(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wf(t){if(!Ay(t))return!1;const a=t.constructor;if(a===void 0)return!0;const r=a.prototype;return!(!Ay(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ay(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bw(t){return new Promise(a=>{Xs.setTimeout(a,t)})}function Nf(t,a,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,a):r.structuralSharing!==!1?db(t,a):a}function Lw(t,a,r=0){const l=[...t,a];return r&&l.length>r?l.slice(1):l}function Fw(t,a,r=0){const l=[a,...t];return r&&l.length>r?l.slice(0,-1):l}var Wf=Symbol();function fb(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===Wf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function mb(t,a){return typeof t=="function"?t(...a):!!t}var $w=class extends cl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!tr&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},em=new $w;function jf(){let t,a;const r=new Promise((o,d)=>{t=o,a=d});r.status="pending",r.catch(()=>{});function l(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{l({status:"fulfilled",value:o}),t(o)},r.reject=o=>{l({status:"rejected",reason:o}),a(o)},r}var Vw=Uw;function Hw(){let t=[],a=0,r=h=>{h()},l=h=>{h()},o=Vw;const d=h=>{a?t.push(h):o(()=>{r(h)})},m=()=>{const h=t;t=[],h.length&&o(()=>{l(()=>{h.forEach(y=>{r(y)})})})};return{batch:h=>{let y;a++;try{y=h()}finally{a--,a||m()}return y},batchCalls:h=>(...y)=>{d(()=>{h(...y)})},schedule:d,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{l=h},setScheduler:h=>{o=h}}}var on=Hw(),Zw=class extends cl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!tr&&window.addEventListener){const a=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},nc=new Zw;function Iw(t){return Math.min(1e3*2**t,3e4)}function hb(t){return(t??"online")==="online"?nc.isOnline():!0}var Ef=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function pb(t){let a=!1,r=0,l;const o=jf(),d=()=>o.status!=="pending",m=O=>{if(!d()){const A=new Ef(O);w(A),t.onCancel?.(A)}},h=()=>{a=!0},y=()=>{a=!1},p=()=>em.isFocused()&&(t.networkMode==="always"||nc.isOnline())&&t.canRun(),v=()=>hb(t.networkMode)&&t.canRun(),S=O=>{d()||(l?.(),o.resolve(O))},w=O=>{d()||(l?.(),o.reject(O))},B=()=>new Promise(O=>{l=A=>{(d()||p())&&O(A)},t.onPause?.()}).then(()=>{l=void 0,d()||t.onContinue?.()}),_=()=>{if(d())return;let O;const A=r===0?t.initialPromise:void 0;try{O=A??t.fn()}catch(k){O=Promise.reject(k)}Promise.resolve(O).then(S).catch(k=>{if(d())return;const D=t.retry??(tr?0:3),J=t.retryDelay??Iw,N=typeof J=="function"?J(r,k):J,R=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,k);if(a||!R){w(k);return}r++,t.onFail?.(r,k),Bw(N).then(()=>p()?void 0:B()).then(()=>{a?w(k):_()})})};return{promise:o,status:()=>o.status,cancel:m,continue:()=>(l?.(),o),cancelRetry:h,continueRetry:y,canStart:v,start:()=>(v()?_():B().then(_),o)}}var gb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_f(this.gcTime)&&(this.#e=Xs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Xs.clearTimeout(this.#e),this.#e=void 0)}},Qw=class extends gb{#e;#t;#n;#s;#a;#l;#i;constructor(t){super(),this.#i=!1,this.#l=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Cy(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#l,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Cy(this.options);a.data!==void 0&&(this.setState(Oy(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const r=Nf(this.state.data,t,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),r}setState(t,a){this.#r({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>la(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Os(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ub(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},o=()=>{const h=fb(this.options,a),p=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#i=!1,this.options.persister?this.options.persister(h,p,this):h(p)},m=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return l(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=pb({initialPromise:a?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof Ef&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,y)=>{this.#r({type:"failed",failureCount:h,error:y})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Ef){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(t){const a=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...yb(r.data,this.options),fetchMeta:t.meta??null};case"success":const l={...r,...Oy(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?l:void 0,l;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=a(this.state),on.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function yb(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hb(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Oy(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Cy(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,r=a!==void 0,l=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:r?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Gw=class extends cl{constructor(t,a){super(),this.options=a,this.#e=t,this.#r=null,this.#i=jf(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#m;#c;#u;#o;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ry(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Af(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Af(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof la(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),a._defaulted&&!tc(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Ty(this.#t,r,this.options,a)&&this.#d(),this.updateResult(),l&&(this.#t!==r||la(this.options.enabled,this.#t)!==la(a.enabled,this.#t)||Os(this.options.staleTime,this.#t)!==Os(a.staleTime,this.#t))&&this.#g();const o=this.#y();l&&(this.#t!==r||la(this.options.enabled,this.#t)!==la(a.enabled,this.#t)||o!==this.#o)&&this.#v(o)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(a,t);return Kw(this,r)&&(this.#s=r,this.#l=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#s}trackResult(t,a){return new Proxy(t,{get:(r,l)=>(this.trackProp(l),a?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(t){this.#h.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,a);return r.fetch().then(()=>this.createResult(r,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#_();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch(An)),a}#g(){this.#x();const t=Os(this.options.staleTime,this.#t);if(tr||this.#s.isStale||!_f(t))return;const r=ub(this.#s.dataUpdatedAt,t)+1;this.#c=Xs.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#S(),this.#o=t,!(tr||la(this.options.enabled,this.#t)===!1||!_f(this.#o)||this.#o===0)&&(this.#u=Xs.setInterval(()=>{(this.options.refetchIntervalInBackground||em.isFocused())&&this.#d()},this.#o))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(Xs.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(Xs.clearInterval(this.#u),this.#u=void 0)}createResult(t,a){const r=this.#t,l=this.options,o=this.#s,d=this.#a,m=this.#l,y=t!==r?t.state:this.#n,{state:p}=t;let v={...p},S=!1,w;if(a._optimisticResults){const W=this.hasListeners(),fe=!W&&Ry(t,a),De=W&&Ty(t,r,a,l);(fe||De)&&(v={...v,...yb(p.data,t.options)}),a._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:B,errorUpdatedAt:_,status:O}=v;w=v.data;let A=!1;if(a.placeholderData!==void 0&&w===void 0&&O==="pending"){let W;o?.isPlaceholderData&&a.placeholderData===m?.placeholderData?(W=o.data,A=!0):W=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,W!==void 0&&(O="success",w=Nf(o?.data,W,a),S=!0)}if(a.select&&w!==void 0&&!A)if(o&&w===d?.data&&a.select===this.#p)w=this.#f;else try{this.#p=a.select,w=a.select(w),w=Nf(o?.data,w,a),this.#f=w,this.#r=null}catch(W){this.#r=W}this.#r&&(B=this.#r,w=this.#f,_=Date.now(),O="error");const k=v.fetchStatus==="fetching",D=O==="pending",J=O==="error",N=D&&k,R=w!==void 0,M={status:O,fetchStatus:v.fetchStatus,isPending:D,isSuccess:O==="success",isError:J,isInitialLoading:N,isLoading:N,data:w,dataUpdatedAt:v.dataUpdatedAt,error:B,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>y.dataUpdateCount||v.errorUpdateCount>y.errorUpdateCount,isFetching:k,isRefetching:k&&!D,isLoadingError:J&&!R,isPaused:v.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:J&&R,isStale:tm(t,a),refetch:this.refetch,promise:this.#i,isEnabled:la(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const W=je=>{M.status==="error"?je.reject(M.error):M.data!==void 0&&je.resolve(M.data)},fe=()=>{const je=this.#i=M.promise=jf();W(je)},De=this.#i;switch(De.status){case"pending":t.queryHash===r.queryHash&&W(De);break;case"fulfilled":(M.status==="error"||M.data!==De.value)&&fe();break;case"rejected":(M.status!=="error"||M.error!==De.reason)&&fe();break}}return M}updateResult(){const t=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#m=this.#t),tc(a,t))return;this.#s=a;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!this.#h.size)return!0;const d=new Set(o??this.#h);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(m=>{const h=m;return this.#s[h]!==t[h]&&d.has(h)})};this.#w({listeners:r()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#w(t){on.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Yw(t,a){return la(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function Ry(t,a){return Yw(t,a)||t.state.data!==void 0&&Af(t,a,a.refetchOnMount)}function Af(t,a,r){if(la(a.enabled,t)!==!1&&Os(a.staleTime,t)!=="static"){const l=typeof r=="function"?r(t):r;return l==="always"||l!==!1&&tm(t,a)}return!1}function Ty(t,a,r,l){return(t!==a||la(l.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&tm(t,r)}function tm(t,a){return la(a.enabled,t)!==!1&&t.isStaleByTime(Os(a.staleTime,t))}function Kw(t,a){return!tc(t.getCurrentResult(),a)}function zy(t){return{onFetch:(a,r)=>{const l=a.options,o=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},y=0;const p=async()=>{let v=!1;const S=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},w=fb(a.options,a.fetchOptions),B=async(_,O,A)=>{if(v)return Promise.reject();if(O==null&&_.pages.length)return Promise.resolve(_);const D=(()=>{const Q={client:a.client,queryKey:a.queryKey,pageParam:O,direction:A?"backward":"forward",meta:a.options.meta};return S(Q),Q})(),J=await w(D),{maxPages:N}=a.options,R=A?Fw:Lw;return{pages:R(_.pages,J,N),pageParams:R(_.pageParams,O,N)}};if(o&&d.length){const _=o==="backward",O=_?Pw:Dy,A={pages:d,pageParams:m},k=O(l,A);h=await B(A,k,_)}else{const _=t??d.length;do{const O=y===0?m[0]??l.initialPageParam:Dy(l,h);if(y>0&&O==null)break;h=await B(h,O),y++}while(y<_)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},r):a.fetchFn=p}}}function Dy(t,{pages:a,pageParams:r}){const l=a.length-1;return a.length>0?t.getNextPageParam(a[l],a,r[l],r):void 0}function Pw(t,{pages:a,pageParams:r}){return a.length>0?t.getPreviousPageParam?.(a[0],a,r[0],r):void 0}var Xw=class extends gb{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||vb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=pb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(d,m)=>{this.#a({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",o=!this.#s.canStart();try{if(l)a();else{this.#a({type:"pending",variables:t,isPaused:o}),await this.#n.config.onMutate?.(t,this,r);const m=await this.options.onMutate?.(t,r);m!==this.state.context&&this.#a({type:"pending",context:m,variables:t,isPaused:o})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,t,this.state.context,this,r),await this.options.onSuccess?.(d,t,this.state.context,r),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(d,null,t,this.state.context,r),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,t,this.state.context,this,r),await this.options.onError?.(d,t,this.state.context,r),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,d,t,this.state.context,r),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(t){const a=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),on.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function vb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jw=class extends cl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,a,r){const l=new Xw({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:r});return this.add(l),l}add(t){this.#e.add(t);const a=Vo(t);if(typeof a=="string"){const r=this.#t.get(a);r?r.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=Vo(t);if(typeof a=="string"){const r=this.#t.get(a);if(r)if(r.length>1){const l=r.indexOf(t);l!==-1&&r.splice(l,1)}else r[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Vo(t);if(typeof a=="string"){const l=this.#t.get(a)?.find(o=>o.state.status==="pending");return!l||l===t}else return!0}runNext(t){const a=Vo(t);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==t&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){on.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(r=>jy(a,r))}findAll(t={}){return this.getAll().filter(a=>jy(t,a))}notify(t){on.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return on.batch(()=>Promise.all(t.map(a=>a.continue().catch(An))))}};function Vo(t){return t.options.scope?.id}var Ww=class extends cl{#e;#t=void 0;#n;#s;constructor(a,r){super(),this.#e=a,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const r=this.options;this.options=this.#e.defaultMutationOptions(a),tc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&nr(r.mutationKey)!==nr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,r){return this.#s=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??vb();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){on.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#t.variables,l=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,r,l,o),this.#s.onSettled?.(a.data,null,r,l,o)):a?.type==="error"&&(this.#s.onError?.(a.error,r,l,o),this.#s.onSettled?.(void 0,a.error,r,l,o))}this.listeners.forEach(r=>{r(this.#t)})})}},eN=class extends cl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,r){const l=a.queryKey,o=a.queryHash??Jf(l,a);let d=this.get(o);return d||(d=new Qw({client:t,queryKey:l,queryHash:o,options:t.defaultQueryOptions(a),state:r,defaultOptions:t.getQueryDefaults(l)}),this.add(d)),d}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){on.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(r=>Ny(a,r))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(r=>Ny(t,r)):a}notify(t){on.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){on.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tN=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(t={}){this.#e=t.queryCache||new eN,this.#t=t.mutationCache||new Jw,this.#n=t.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=em.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=nc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),r=this.#e.build(this,a),l=r.state.data;return l===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Os(a.staleTime,r))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:r})=>{const l=r.data;return[a,l]})}setQueryData(t,a,r){const l=this.defaultQueryOptions({queryKey:t}),d=this.#e.get(l.queryHash)?.state.data,m=kw(a,d);if(m!==void 0)return this.#e.build(this,l).setData(m,{...r,manual:!0})}setQueriesData(t,a,r){return on.batch(()=>this.#e.findAll(t).map(({queryKey:l})=>[l,this.setQueryData(l,a,r)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;on.batch(()=>{a.findAll(t).forEach(r=>{a.remove(r)})})}resetQueries(t,a){const r=this.#e;return on.batch(()=>(r.findAll(t).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const r={revert:!0,...a},l=on.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(l).then(An).catch(An)}invalidateQueries(t,a={}){return on.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const r={...a,cancelRefetch:a.cancelRefetch??!0},l=on.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let d=o.fetch(void 0,r);return r.throwOnError||(d=d.catch(An)),o.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(An)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const r=this.#e.build(this,a);return r.isStaleByTime(Os(a.staleTime,r))?r.fetch(a):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=zy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=zy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#s.set(nr(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#s.values()],r={};return a.forEach(l=>{fi(t,l.queryKey)&&Object.assign(r,l.defaultOptions)}),r}setMutationDefaults(t,a){this.#a.set(nr(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],r={};return a.forEach(l=>{fi(t,l.mutationKey)&&Object.assign(r,l.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=Jf(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Wf&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},bb=b.createContext(void 0),nm=t=>{const a=b.useContext(bb);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},nN=({client:t,children:a})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(bb.Provider,{value:t,children:a})),xb=b.createContext(!1),aN=()=>b.useContext(xb);xb.Provider;function sN(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var rN=b.createContext(sN()),lN=()=>b.useContext(rN),iN=(t,a)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(a.isReset()||(t.retryOnMount=!1))},oN=t=>{b.useEffect(()=>{t.clearReset()},[t])},cN=({result:t,errorResetBoundary:a,throwOnError:r,query:l,suspense:o})=>t.isError&&!a.isReset()&&!t.isFetching&&l&&(o&&t.data===void 0||mb(r,[t.error,l])),uN=t=>{if(t.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),l=t.staleTime;t.staleTime=typeof l=="function"?(...o)=>r(l(...o)):r(l),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},dN=(t,a)=>t.isLoading&&t.isFetching&&!a,fN=(t,a)=>t?.suspense&&a.isPending,My=(t,a,r)=>a.fetchOptimistic(t).catch(()=>{r.clearReset()});function mN(t,a,r){const l=aN(),o=lN(),d=nm(),m=d.defaultQueryOptions(t);d.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=l?"isRestoring":"optimistic",uN(m),iN(m,o),oN(o);const h=!d.getQueryCache().get(m.queryHash),[y]=b.useState(()=>new a(d,m)),p=y.getOptimisticResult(m),v=!l&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(S=>{const w=v?y.subscribe(on.batchCalls(S)):An;return y.updateResult(),w},[y,v]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),b.useEffect(()=>{y.setOptions(m)},[m,y]),fN(m,p))throw My(m,y,o);if(cN({result:p,errorResetBoundary:o,throwOnError:m.throwOnError,query:d.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw p.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(m,p),m.experimental_prefetchInRender&&!tr&&dN(p,l)&&(h?My(m,y,o):d.getQueryCache().get(m.queryHash)?.promise)?.catch(An).finally(()=>{y.updateResult()}),m.notifyOnChangeProps?p:y.trackResult(p)}function ar(t,a){return mN(t,Gw)}function hN(t,a){const r=nm(),[l]=b.useState(()=>new Ww(r,t));b.useEffect(()=>{l.setOptions(t)},[l,t]);const o=b.useSyncExternalStore(b.useCallback(m=>l.subscribe(on.batchCalls(m)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=b.useCallback((m,h)=>{l.mutate(m,h).catch(An)},[l]);if(o.error&&mb(l.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:d,mutateAsync:o.mutate}}var xi=t=>t.type==="checkbox",Js=t=>t instanceof Date,Un=t=>t==null;const Sb=t=>typeof t=="object";var an=t=>!Un(t)&&!Array.isArray(t)&&Sb(t)&&!Js(t),pN=t=>an(t)&&t.target?xi(t.target)?t.target.checked:t.target.value:t,gN=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,yN=(t,a)=>t.has(gN(a)),vN=t=>{const a=t.constructor&&t.constructor.prototype;return an(a)&&a.hasOwnProperty("isPrototypeOf")},am=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){let a;const r=Array.isArray(t),l=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)a=new Date(t);else if(!(am&&(t instanceof Blob||l))&&(r||an(t)))if(a=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!vN(t))a=t;else for(const o in t)t.hasOwnProperty(o)&&(a[o]=zt(t[o]));else return t;return a}var hc=t=>/^\w*$/.test(t),Ct=t=>t===void 0,pc=t=>Array.isArray(t)?t.filter(Boolean):[],sm=t=>pc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(t,a,r)=>{if(!a||!an(t))return r;const l=(hc(a)?[a]:sm(a)).reduce((o,d)=>Un(o)?o:o[d],t);return Ct(l)||l===t?Ct(t[a])?r:t[a]:l},Ca=t=>typeof t=="boolean",yt=(t,a,r)=>{let l=-1;const o=hc(a)?[a]:sm(a),d=o.length,m=d-1;for(;++l<d;){const h=o[l];let y=r;if(l!==m){const p=t[h];y=an(p)||Array.isArray(p)?p:isNaN(+o[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;t[h]=y,t=t[h]}};const Uy={BLUR:"blur",FOCUS_OUT:"focusout"},ia={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ka={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_b=et.createContext(null);_b.displayName="HookFormContext";const wb=()=>et.useContext(_b);var bN=(t,a,r,l=!0)=>{const o={defaultValues:a._defaultValues};for(const d in t)Object.defineProperty(o,d,{get:()=>{const m=d;return a._proxyFormState[m]!==ia.all&&(a._proxyFormState[m]=!l||ia.all),t[m]}});return o};const rm=typeof window<"u"?et.useLayoutEffect:et.useEffect;var Kn=t=>typeof t=="string",Of=(t,a,r,l,o)=>Kn(t)?(l&&a.watch.add(t),Oe(r,t,o)):Array.isArray(t)?t.map(d=>(l&&a.watch.add(d),Oe(r,d))):(l&&(a.watchAll=!0),r),Cf=t=>Un(t)||!Sb(t);function va(t,a,r=new WeakSet){if(Cf(t)||Cf(a))return t===a;if(Js(t)&&Js(a))return t.getTime()===a.getTime();const l=Object.keys(t),o=Object.keys(a);if(l.length!==o.length)return!1;if(r.has(t)||r.has(a))return!0;r.add(t),r.add(a);for(const d of l){const m=t[d];if(!o.includes(d))return!1;if(d!=="ref"){const h=a[d];if(Js(m)&&Js(h)||an(m)&&an(h)||Array.isArray(m)&&Array.isArray(h)?!va(m,h,r):m!==h)return!1}}return!0}function ri(t){const a=wb(),{control:r=a.control,name:l,defaultValue:o,disabled:d,exact:m,compute:h}=t||{},y=et.useRef(o),p=et.useRef(h),v=et.useRef(void 0),S=et.useRef(r),w=et.useRef(l);p.current=h;const[B,_]=et.useState(()=>{const N=r._getWatch(l,y.current);return p.current?p.current(N):N}),O=et.useCallback(N=>{const R=Of(l,r._names,N||r._formValues,!1,y.current);return p.current?p.current(R):R},[r._formValues,r._names,l]),A=et.useCallback(N=>{if(!d){const R=Of(l,r._names,N||r._formValues,!1,y.current);if(p.current){const Q=p.current(R);va(Q,v.current)||(_(Q),v.current=Q)}else _(R)}},[r._formValues,r._names,d,l]);rm(()=>((S.current!==r||!va(w.current,l))&&(S.current=r,w.current=l,A()),r._subscribe({name:l,formState:{values:!0},exact:m,callback:N=>{A(N.values)}})),[r,m,l,A]),et.useEffect(()=>r._removeUnmounted());const k=S.current!==r,D=w.current,J=et.useMemo(()=>{if(d)return null;const N=!k&&!va(D,l);return k||N?O():null},[d,k,l,D,O]);return J!==null?J:B}var lm=(t,a,r,l,o)=>a?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[l]:o||!0}}:{},kn=t=>Array.isArray(t)?t:[t],ky=()=>{let t=[];return{get observers(){return t},next:o=>{for(const d of t)d.next&&d.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(d=>d!==o)}}),unsubscribe:()=>{t=[]}}};function Nb(t,a){const r={};for(const l in t)if(t.hasOwnProperty(l)){const o=t[l],d=a[l];if(o&&an(o)&&d){const m=Nb(o,d);an(m)&&(r[l]=m)}else t[l]&&(r[l]=d)}return r}var Sn=t=>an(t)&&!Object.keys(t).length,im=t=>t.type==="file",ba=t=>typeof t=="function",ac=t=>{if(!am)return!1;const a=t?t.ownerDocument:0;return t instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},jb=t=>t.type==="select-multiple",om=t=>t.type==="radio",xN=t=>om(t)||xi(t),Yd=t=>ac(t)&&t.isConnected;function SN(t,a){const r=a.slice(0,-1).length;let l=0;for(;l<r;)t=Ct(t)?l++:t[a[l++]];return t}function _N(t){for(const a in t)if(t.hasOwnProperty(a)&&!Ct(t[a]))return!1;return!0}function Yt(t,a){const r=Array.isArray(a)?a:hc(a)?[a]:sm(a),l=r.length===1?t:SN(t,r),o=r.length-1,d=r[o];return l&&delete l[d],o!==0&&(an(l)&&Sn(l)||Array.isArray(l)&&_N(l))&&Yt(t,r.slice(0,-1)),t}var wN=t=>{for(const a in t)if(ba(t[a]))return!0;return!1};function Eb(t){return Array.isArray(t)||an(t)&&!wN(t)}function Rf(t,a={}){for(const r in t)Eb(t[r])?(a[r]=Array.isArray(t[r])?[]:{},Rf(t[r],a[r])):Ct(t[r])||(a[r]=!0);return a}function Kr(t,a,r){r||(r=Rf(a));for(const l in t)Eb(t[l])?Ct(a)||Cf(r[l])?r[l]=Rf(t[l],Array.isArray(t[l])?[]:{}):Kr(t[l],Un(a)?{}:a[l],r[l]):r[l]=!va(t[l],a[l]);return r}const qy={value:!1,isValid:!1},By={value:!0,isValid:!0};var Ab=t=>{if(Array.isArray(t)){if(t.length>1){const a=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:a,isValid:!!a.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ct(t[0].attributes.value)?Ct(t[0].value)||t[0].value===""?By:{value:t[0].value,isValid:!0}:By:qy}return qy},Ob=(t,{valueAsNumber:a,valueAsDate:r,setValueAs:l})=>Ct(t)?t:a?t===""?NaN:t&&+t:r&&Kn(t)?new Date(t):l?l(t):t;const Ly={isValid:!1,value:null};var Cb=t=>Array.isArray(t)?t.reduce((a,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:a,Ly):Ly;function Fy(t){const a=t.ref;return im(a)?a.files:om(a)?Cb(t.refs).value:jb(a)?[...a.selectedOptions].map(({value:r})=>r):xi(a)?Ab(t.refs).value:Ob(Ct(a.value)?t.ref.value:a.value,t)}var NN=(t,a,r,l)=>{const o={};for(const d of t){const m=Oe(a,d);m&&yt(o,d,m._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:l}},sc=t=>t instanceof RegExp,li=t=>Ct(t)?t:sc(t)?t.source:an(t)?sc(t.value)?t.value.source:t.value:t,Pr=t=>({isOnSubmit:!t||t===ia.onSubmit,isOnBlur:t===ia.onBlur,isOnChange:t===ia.onChange,isOnAll:t===ia.all,isOnTouch:t===ia.onTouched});const $y="AsyncFunction";var jN=t=>!!t&&!!t.validate&&!!(ba(t.validate)&&t.validate.constructor.name===$y||an(t.validate)&&Object.values(t.validate).find(a=>a.constructor.name===$y)),EN=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Tf=(t,a,r)=>!r&&(a.watchAll||a.watch.has(t)||[...a.watch].some(l=>t.startsWith(l)&&/^\.\w+/.test(t.slice(l.length))));const Jr=(t,a,r,l)=>{for(const o of r||Object.keys(t)){const d=Oe(t,o);if(d){const{_f:m,...h}=d;if(m){if(m.refs&&m.refs[0]&&a(m.refs[0],o)&&!l)return!0;if(m.ref&&a(m.ref,m.name)&&!l)return!0;if(Jr(h,a))break}else if(an(h)&&Jr(h,a))break}}};function Vy(t,a,r){const l=Oe(t,r);if(l||hc(r))return{error:l,name:r};const o=r.split(".");for(;o.length;){const d=o.join("."),m=Oe(a,d),h=Oe(t,d);if(m&&!Array.isArray(m)&&r!==d)return{name:r};if(h&&h.type)return{name:d,error:h};if(h&&h.root&&h.root.type)return{name:`${d}.root`,error:h.root};o.pop()}return{name:r}}var AN=(t,a,r,l)=>{r(t);const{name:o,...d}=t;return Sn(d)||Object.keys(d).length>=Object.keys(a).length||Object.keys(d).find(m=>a[m]===(!l||ia.all))},ON=(t,a,r)=>!t||!a||t===a||kn(t).some(l=>l&&(r?l===a:l.startsWith(a)||a.startsWith(l))),CN=(t,a,r,l,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(a||t):(r?l.isOnBlur:o.isOnBlur)?!t:(r?l.isOnChange:o.isOnChange)?t:!0,RN=(t,a)=>!pc(Oe(t,a)).length&&Yt(t,a),Rb=(t,a,r)=>{const l=kn(Oe(t,r));return yt(l,"root",a[r]),yt(t,r,l),t};function Hy(t,a,r="validate"){if(Kn(t)||Array.isArray(t)&&t.every(Kn)||Ca(t)&&!t)return{type:r,message:Kn(t)?t:"",ref:a}}var Qr=t=>an(t)&&!sc(t)?t:{value:t,message:""},zf=async(t,a,r,l,o,d)=>{const{ref:m,refs:h,required:y,maxLength:p,minLength:v,min:S,max:w,pattern:B,validate:_,name:O,valueAsNumber:A,mount:k}=t._f,D=Oe(r,O);if(!k||a.has(O))return{};const J=h?h[0]:m,N=me=>{o&&J.reportValidity&&(J.setCustomValidity(Ca(me)?"":me||""),J.reportValidity())},R={},Q=om(m),M=xi(m),W=Q||M,fe=(A||im(m))&&Ct(m.value)&&Ct(D)||ac(m)&&m.value===""||D===""||Array.isArray(D)&&!D.length,De=lm.bind(null,O,l,R),je=(me,ye,be,Ne=Ka.maxLength,U=Ka.minLength)=>{const se=me?ye:be;R[O]={type:me?Ne:U,message:se,ref:m,...De(me?Ne:U,se)}};if(d?!Array.isArray(D)||!D.length:y&&(!W&&(fe||Un(D))||Ca(D)&&!D||M&&!Ab(h).isValid||Q&&!Cb(h).isValid)){const{value:me,message:ye}=Kn(y)?{value:!!y,message:y}:Qr(y);if(me&&(R[O]={type:Ka.required,message:ye,ref:J,...De(Ka.required,ye)},!l))return N(ye),R}if(!fe&&(!Un(S)||!Un(w))){let me,ye;const be=Qr(w),Ne=Qr(S);if(!Un(D)&&!isNaN(D)){const U=m.valueAsNumber||D&&+D;Un(be.value)||(me=U>be.value),Un(Ne.value)||(ye=U<Ne.value)}else{const U=m.valueAsDate||new Date(D),se=Te=>new Date(new Date().toDateString()+" "+Te),P=m.type=="time",ve=m.type=="week";Kn(be.value)&&D&&(me=P?se(D)>se(be.value):ve?D>be.value:U>new Date(be.value)),Kn(Ne.value)&&D&&(ye=P?se(D)<se(Ne.value):ve?D<Ne.value:U<new Date(Ne.value))}if((me||ye)&&(je(!!me,be.message,Ne.message,Ka.max,Ka.min),!l))return N(R[O].message),R}if((p||v)&&!fe&&(Kn(D)||d&&Array.isArray(D))){const me=Qr(p),ye=Qr(v),be=!Un(me.value)&&D.length>+me.value,Ne=!Un(ye.value)&&D.length<+ye.value;if((be||Ne)&&(je(be,me.message,ye.message),!l))return N(R[O].message),R}if(B&&!fe&&Kn(D)){const{value:me,message:ye}=Qr(B);if(sc(me)&&!D.match(me)&&(R[O]={type:Ka.pattern,message:ye,ref:m,...De(Ka.pattern,ye)},!l))return N(ye),R}if(_){if(ba(_)){const me=await _(D,r),ye=Hy(me,J);if(ye&&(R[O]={...ye,...De(Ka.validate,ye.message)},!l))return N(ye.message),R}else if(an(_)){let me={};for(const ye in _){if(!Sn(me)&&!l)break;const be=Hy(await _[ye](D,r),J,ye);be&&(me={...be,...De(ye,be.message)},N(be.message),l&&(R[O]=me))}if(!Sn(me)&&(R[O]={ref:J,...me},!l))return R}}return N(!0),R};const TN={mode:ia.onSubmit,reValidateMode:ia.onChange,shouldFocusError:!0};function zN(t={}){let a={...TN,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ba(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},l={},o=an(a.defaultValues)||an(a.values)?zt(a.defaultValues||a.values)||{}:{},d=a.shouldUnregister?{}:zt(o),m={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...v};const w={array:ky(),state:ky()},B=a.criteriaMode===ia.all,_=j=>T=>{clearTimeout(p),p=setTimeout(j,T)},O=async j=>{if(!a.disabled&&(v.isValid||S.isValid||j)){const T=a.resolver?Sn((await M()).errors):await fe(l,!0);T!==r.isValid&&w.state.next({isValid:T})}},A=(j,T)=>{!a.disabled&&(v.isValidating||v.validatingFields||S.isValidating||S.validatingFields)&&((j||Array.from(h.mount)).forEach(V=>{V&&(T?yt(r.validatingFields,V,T):Yt(r.validatingFields,V))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Sn(r.validatingFields)}))},k=(j,T=[],V,pe,le=!0,ue=!0)=>{if(pe&&V&&!a.disabled){if(m.action=!0,ue&&Array.isArray(Oe(l,j))){const Ae=V(Oe(l,j),pe.argA,pe.argB);le&&yt(l,j,Ae)}if(ue&&Array.isArray(Oe(r.errors,j))){const Ae=V(Oe(r.errors,j),pe.argA,pe.argB);le&&yt(r.errors,j,Ae),RN(r.errors,j)}if((v.touchedFields||S.touchedFields)&&ue&&Array.isArray(Oe(r.touchedFields,j))){const Ae=V(Oe(r.touchedFields,j),pe.argA,pe.argB);le&&yt(r.touchedFields,j,Ae)}(v.dirtyFields||S.dirtyFields)&&(r.dirtyFields=Kr(o,d)),w.state.next({name:j,isDirty:je(j,T),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yt(d,j,T)},D=(j,T)=>{yt(r.errors,j,T),w.state.next({errors:r.errors})},J=j=>{r.errors=j,w.state.next({errors:r.errors,isValid:!1})},N=(j,T,V,pe)=>{const le=Oe(l,j);if(le){const ue=Oe(d,j,Ct(V)?Oe(o,j):V);Ct(ue)||pe&&pe.defaultChecked||T?yt(d,j,T?ue:Fy(le._f)):be(j,ue),m.mount&&O()}},R=(j,T,V,pe,le)=>{let ue=!1,Ae=!1;const Le={name:j};if(!a.disabled){if(!V||pe){(v.isDirty||S.isDirty)&&(Ae=r.isDirty,r.isDirty=Le.isDirty=je(),ue=Ae!==Le.isDirty);const ee=va(Oe(o,j),T);Ae=!!Oe(r.dirtyFields,j),ee?Yt(r.dirtyFields,j):yt(r.dirtyFields,j,!0),Le.dirtyFields=r.dirtyFields,ue=ue||(v.dirtyFields||S.dirtyFields)&&Ae!==!ee}if(V){const ee=Oe(r.touchedFields,j);ee||(yt(r.touchedFields,j,V),Le.touchedFields=r.touchedFields,ue=ue||(v.touchedFields||S.touchedFields)&&ee!==V)}ue&&le&&w.state.next(Le)}return ue?Le:{}},Q=(j,T,V,pe)=>{const le=Oe(r.errors,j),ue=(v.isValid||S.isValid)&&Ca(T)&&r.isValid!==T;if(a.delayError&&V?(y=_(()=>D(j,V)),y(a.delayError)):(clearTimeout(p),y=null,V?yt(r.errors,j,V):Yt(r.errors,j)),(V?!va(le,V):le)||!Sn(pe)||ue){const Ae={...pe,...ue&&Ca(T)?{isValid:T}:{},errors:r.errors,name:j};r={...r,...Ae},w.state.next(Ae)}},M=async j=>{A(j,!0);const T=await a.resolver(d,a.context,NN(j||h.mount,l,a.criteriaMode,a.shouldUseNativeValidation));return A(j),T},W=async j=>{const{errors:T}=await M(j);if(j)for(const V of j){const pe=Oe(T,V);pe?yt(r.errors,V,pe):Yt(r.errors,V)}else r.errors=T;return T},fe=async(j,T,V={valid:!0})=>{for(const pe in j){const le=j[pe];if(le){const{_f:ue,...Ae}=le;if(ue){const Le=h.array.has(ue.name),ee=le._f&&jN(le._f);ee&&v.validatingFields&&A([ue.name],!0);const Qe=await zf(le,h.disabled,d,B,a.shouldUseNativeValidation&&!T,Le);if(ee&&v.validatingFields&&A([ue.name]),Qe[ue.name]&&(V.valid=!1,T))break;!T&&(Oe(Qe,ue.name)?Le?Rb(r.errors,Qe,ue.name):yt(r.errors,ue.name,Qe[ue.name]):Yt(r.errors,ue.name))}!Sn(Ae)&&await fe(Ae,T,V)}}return V.valid},De=()=>{for(const j of h.unMount){const T=Oe(l,j);T&&(T._f.refs?T._f.refs.every(V=>!Yd(V)):!Yd(T._f.ref))&&qe(j)}h.unMount=new Set},je=(j,T)=>!a.disabled&&(j&&T&&yt(d,j,T),!va(Te(),o)),me=(j,T,V)=>Of(j,h,{...m.mount?d:Ct(T)?o:Kn(j)?{[j]:T}:T},V,T),ye=j=>pc(Oe(m.mount?d:o,j,a.shouldUnregister?Oe(o,j,[]):[])),be=(j,T,V={})=>{const pe=Oe(l,j);let le=T;if(pe){const ue=pe._f;ue&&(!ue.disabled&&yt(d,j,Ob(T,ue)),le=ac(ue.ref)&&Un(T)?"":T,jb(ue.ref)?[...ue.ref.options].forEach(Ae=>Ae.selected=le.includes(Ae.value)):ue.refs?xi(ue.ref)?ue.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(le)?Ae.checked=!!le.find(Le=>Le===Ae.value):Ae.checked=le===Ae.value||!!le)}):ue.refs.forEach(Ae=>Ae.checked=Ae.value===le):im(ue.ref)?ue.ref.value="":(ue.ref.value=le,ue.ref.type||w.state.next({name:j,values:zt(d)})))}(V.shouldDirty||V.shouldTouch)&&R(j,le,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&ve(j)},Ne=(j,T,V)=>{for(const pe in T){if(!T.hasOwnProperty(pe))return;const le=T[pe],ue=j+"."+pe,Ae=Oe(l,ue);(h.array.has(j)||an(le)||Ae&&!Ae._f)&&!Js(le)?Ne(ue,le,V):be(ue,le,V)}},U=(j,T,V={})=>{const pe=Oe(l,j),le=h.array.has(j),ue=zt(T);yt(d,j,ue),le?(w.array.next({name:j,values:zt(d)}),(v.isDirty||v.dirtyFields||S.isDirty||S.dirtyFields)&&V.shouldDirty&&w.state.next({name:j,dirtyFields:Kr(o,d),isDirty:je(j,ue)})):pe&&!pe._f&&!Un(ue)?Ne(j,ue,V):be(j,ue,V),Tf(j,h)&&w.state.next({...r,name:j}),w.state.next({name:m.mount?j:void 0,values:zt(d)})},se=async j=>{m.mount=!0;const T=j.target;let V=T.name,pe=!0;const le=Oe(l,V),ue=ee=>{pe=Number.isNaN(ee)||Js(ee)&&isNaN(ee.getTime())||va(ee,Oe(d,V,ee))},Ae=Pr(a.mode),Le=Pr(a.reValidateMode);if(le){let ee,Qe;const tt=T.type?Fy(le._f):pN(j),Nt=j.type===Uy.BLUR||j.type===Uy.FOCUS_OUT,Ut=!EN(le._f)&&!a.resolver&&!Oe(r.errors,V)&&!le._f.deps||CN(Nt,Oe(r.touchedFields,V),r.isSubmitted,Le,Ae),wn=Tf(V,h,Nt);yt(d,V,tt),Nt?(!T||!T.readOnly)&&(le._f.onBlur&&le._f.onBlur(j),y&&y(0)):le._f.onChange&&le._f.onChange(j);const L=R(V,tt,Nt),I=!Sn(L)||wn;if(!Nt&&w.state.next({name:V,type:j.type,values:zt(d)}),Ut)return(v.isValid||S.isValid)&&(a.mode==="onBlur"?Nt&&O():Nt||O()),I&&w.state.next({name:V,...wn?{}:L});if(!Nt&&wn&&w.state.next({...r}),a.resolver){const{errors:oe}=await M([V]);if(ue(tt),pe){const Me=Vy(r.errors,l,V),nt=Vy(oe,l,Me.name||V);ee=nt.error,V=nt.name,Qe=Sn(oe)}}else A([V],!0),ee=(await zf(le,h.disabled,d,B,a.shouldUseNativeValidation))[V],A([V]),ue(tt),pe&&(ee?Qe=!1:(v.isValid||S.isValid)&&(Qe=await fe(l,!0)));pe&&(le._f.deps&&(!Array.isArray(le._f.deps)||le._f.deps.length>0)&&ve(le._f.deps),Q(V,Qe,ee,L))}},P=(j,T)=>{if(Oe(r.errors,T)&&j.focus)return j.focus(),1},ve=async(j,T={})=>{let V,pe;const le=kn(j);if(a.resolver){const ue=await W(Ct(j)?j:le);V=Sn(ue),pe=j?!le.some(Ae=>Oe(ue,Ae)):V}else j?(pe=(await Promise.all(le.map(async ue=>{const Ae=Oe(l,ue);return await fe(Ae&&Ae._f?{[ue]:Ae}:Ae)}))).every(Boolean),!(!pe&&!r.isValid)&&O()):pe=V=await fe(l);return w.state.next({...!Kn(j)||(v.isValid||S.isValid)&&V!==r.isValid?{}:{name:j},...a.resolver||!j?{isValid:V}:{},errors:r.errors}),T.shouldFocus&&!pe&&Jr(l,P,j?le:h.mount),pe},Te=(j,T)=>{let V={...m.mount?d:o};return T&&(V=Nb(T.dirtyFields?r.dirtyFields:r.touchedFields,V)),Ct(j)?V:Kn(j)?Oe(V,j):j.map(pe=>Oe(V,pe))},E=(j,T)=>({invalid:!!Oe((T||r).errors,j),isDirty:!!Oe((T||r).dirtyFields,j),error:Oe((T||r).errors,j),isValidating:!!Oe(r.validatingFields,j),isTouched:!!Oe((T||r).touchedFields,j)}),Z=j=>{j&&kn(j).forEach(T=>Yt(r.errors,T)),w.state.next({errors:j?r.errors:{}})},ne=(j,T,V)=>{const pe=(Oe(l,j,{_f:{}})._f||{}).ref,le=Oe(r.errors,j)||{},{ref:ue,message:Ae,type:Le,...ee}=le;yt(r.errors,j,{...ee,...T,ref:pe}),w.state.next({name:j,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&pe&&pe.focus&&pe.focus()},he=(j,T)=>ba(j)?w.state.subscribe({next:V=>"values"in V&&j(me(void 0,T),V)}):me(j,T,!0),Re=j=>w.state.subscribe({next:T=>{ON(j.name,T.name,j.exact)&&AN(T,j.formState||v,ae,j.reRenderRoot)&&j.callback({values:{...d},...r,...T,defaultValues:o})}}).unsubscribe,Ee=j=>(m.mount=!0,S={...S,...j.formState},Re({...j,formState:S})),qe=(j,T={})=>{for(const V of j?kn(j):h.mount)h.mount.delete(V),h.array.delete(V),T.keepValue||(Yt(l,V),Yt(d,V)),!T.keepError&&Yt(r.errors,V),!T.keepDirty&&Yt(r.dirtyFields,V),!T.keepTouched&&Yt(r.touchedFields,V),!T.keepIsValidating&&Yt(r.validatingFields,V),!a.shouldUnregister&&!T.keepDefaultValue&&Yt(o,V);w.state.next({values:zt(d)}),w.state.next({...r,...T.keepDirty?{isDirty:je()}:{}}),!T.keepIsValid&&O()},Ie=({disabled:j,name:T})=>{(Ca(j)&&m.mount||j||h.disabled.has(T))&&(j?h.disabled.add(T):h.disabled.delete(T))},de=(j,T={})=>{let V=Oe(l,j);const pe=Ca(T.disabled)||Ca(a.disabled);return yt(l,j,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:j}},name:j,mount:!0,...T}}),h.mount.add(j),V?Ie({disabled:Ca(T.disabled)?T.disabled:a.disabled,name:j}):N(j,!0,T.value),{...pe?{disabled:T.disabled||a.disabled}:{},...a.progressive?{required:!!T.required,min:li(T.min),max:li(T.max),minLength:li(T.minLength),maxLength:li(T.maxLength),pattern:li(T.pattern)}:{},name:j,onChange:se,onBlur:se,ref:le=>{if(le){de(j,T),V=Oe(l,j);const ue=Ct(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Ae=xN(ue),Le=V._f.refs||[];if(Ae?Le.find(ee=>ee===ue):ue===V._f.ref)return;yt(l,j,{_f:{...V._f,...Ae?{refs:[...Le.filter(Yd),ue,...Array.isArray(Oe(o,j))?[{}]:[]],ref:{type:ue.type,name:j}}:{ref:ue}}}),N(j,!1,void 0,ue)}else V=Oe(l,j,{}),V._f&&(V._f.mount=!1),(a.shouldUnregister||T.shouldUnregister)&&!(yN(h.array,j)&&m.action)&&h.unMount.add(j)}}},Fe=()=>a.shouldFocusError&&Jr(l,P,h.mount),He=j=>{Ca(j)&&(w.state.next({disabled:j}),Jr(l,(T,V)=>{const pe=Oe(l,V);pe&&(T.disabled=pe._f.disabled||j,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(le=>{le.disabled=pe._f.disabled||j}))},0,!1))},_e=(j,T)=>async V=>{let pe;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let le=zt(d);if(w.state.next({isSubmitting:!0}),a.resolver){const{errors:ue,values:Ae}=await M();r.errors=ue,le=zt(Ae)}else await fe(l);if(h.disabled.size)for(const ue of h.disabled)Yt(le,ue);if(Yt(r.errors,"root"),Sn(r.errors)){w.state.next({errors:{}});try{await j(le,V)}catch(ue){pe=ue}}else T&&await T({...r.errors},V),Fe(),setTimeout(Fe);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sn(r.errors)&&!pe,submitCount:r.submitCount+1,errors:r.errors}),pe)throw pe},Ye=(j,T={})=>{Oe(l,j)&&(Ct(T.defaultValue)?U(j,zt(Oe(o,j))):(U(j,T.defaultValue),yt(o,j,zt(T.defaultValue))),T.keepTouched||Yt(r.touchedFields,j),T.keepDirty||(Yt(r.dirtyFields,j),r.isDirty=T.defaultValue?je(j,zt(Oe(o,j))):je()),T.keepError||(Yt(r.errors,j),v.isValid&&O()),w.state.next({...r}))},Be=(j,T={})=>{const V=j?zt(j):o,pe=zt(V),le=Sn(j),ue=le?o:pe;if(T.keepDefaultValues||(o=V),!T.keepValues){if(T.keepDirtyValues){const Ae=new Set([...h.mount,...Object.keys(Kr(o,d))]);for(const Le of Array.from(Ae))Oe(r.dirtyFields,Le)?yt(ue,Le,Oe(d,Le)):U(Le,Oe(ue,Le))}else{if(am&&Ct(j))for(const Ae of h.mount){const Le=Oe(l,Ae);if(Le&&Le._f){const ee=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(ac(ee)){const Qe=ee.closest("form");if(Qe){Qe.reset();break}}}}if(T.keepFieldsRef)for(const Ae of h.mount)U(Ae,Oe(ue,Ae));else l={}}d=a.shouldUnregister?T.keepDefaultValues?zt(o):{}:zt(ue),w.array.next({values:{...ue}}),w.state.next({values:{...ue}})}h={mount:T.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!v.isValid||!!T.keepIsValid||!!T.keepDirtyValues||!a.shouldUnregister&&!Sn(ue),m.watch=!!a.shouldUnregister,w.state.next({submitCount:T.keepSubmitCount?r.submitCount:0,isDirty:le?!1:T.keepDirty?r.isDirty:!!(T.keepDefaultValues&&!va(j,o)),isSubmitted:T.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:T.keepDirtyValues?T.keepDefaultValues&&d?Kr(o,d):r.dirtyFields:T.keepDefaultValues&&j?Kr(o,j):T.keepDirty?r.dirtyFields:{},touchedFields:T.keepTouched?r.touchedFields:{},errors:T.keepErrors?r.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Pe=(j,T)=>Be(ba(j)?j(d):j,T),xe=(j,T={})=>{const V=Oe(l,j),pe=V&&V._f;if(pe){const le=pe.refs?pe.refs[0]:pe.ref;le.focus&&(le.focus(),T.shouldSelect&&ba(le.select)&&le.select())}},ae=j=>{r={...r,...j}},Y={control:{register:de,unregister:qe,getFieldState:E,handleSubmit:_e,setError:ne,_subscribe:Re,_runSchema:M,_focusError:Fe,_getWatch:me,_getDirty:je,_setValid:O,_setFieldArray:k,_setDisabledField:Ie,_setErrors:J,_getFieldArray:ye,_reset:Be,_resetDefaultValues:()=>ba(a.defaultValues)&&a.defaultValues().then(j=>{Pe(j,a.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:De,_disableForm:He,_subjects:w,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return m},set _state(j){m=j},get _defaultValues(){return o},get _names(){return h},set _names(j){h=j},get _formState(){return r},get _options(){return a},set _options(j){a={...a,...j}}},subscribe:Ee,trigger:ve,register:de,handleSubmit:_e,watch:he,setValue:U,getValues:Te,reset:Pe,resetField:Ye,clearErrors:Z,unregister:qe,setError:ne,setFocus:xe,getFieldState:E};return{...Y,formControl:Y}}var Es=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const r=(Math.random()*16+t)%16|0;return(a=="x"?r:r&3|8).toString(16)})},Kd=(t,a,r={})=>r.shouldFocus||Ct(r.shouldFocus)?r.focusName||`${t}.${Ct(r.focusIndex)?a:r.focusIndex}.`:"",Pd=(t,a)=>[...t,...kn(a)],Xd=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Jd(t,a,r){return[...t.slice(0,a),...kn(r),...t.slice(a)]}var Wd=(t,a,r)=>Array.isArray(t)?(Ct(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(a,1)[0]),t):[],ef=(t,a)=>[...kn(a),...kn(t)];function DN(t,a){let r=0;const l=[...t];for(const o of a)l.splice(o-r,1),r++;return pc(l).length?l:[]}var tf=(t,a)=>Ct(a)?[]:DN(t,kn(a).sort((r,l)=>r-l)),nf=(t,a,r)=>{[t[a],t[r]]=[t[r],t[a]]},Zy=(t,a,r)=>(t[a]=r,t);function MN(t){const a=wb(),{control:r=a.control,name:l,keyName:o="id",shouldUnregister:d,rules:m}=t,[h,y]=et.useState(r._getFieldArray(l)),p=et.useRef(r._getFieldArray(l).map(Es)),v=et.useRef(!1);r._names.array.add(l),et.useMemo(()=>m&&h.length>=0&&r.register(l,m),[r,l,h.length,m]),rm(()=>r._subjects.array.subscribe({next:({values:N,name:R})=>{if(R===l||!R){const Q=Oe(N,l);Array.isArray(Q)&&(y(Q),p.current=Q.map(Es))}}}).unsubscribe,[r,l]);const S=et.useCallback(N=>{v.current=!0,r._setFieldArray(l,N)},[r,l]),w=(N,R)=>{const Q=kn(zt(N)),M=Pd(r._getFieldArray(l),Q);r._names.focus=Kd(l,M.length-1,R),p.current=Pd(p.current,Q.map(Es)),S(M),y(M),r._setFieldArray(l,M,Pd,{argA:Xd(N)})},B=(N,R)=>{const Q=kn(zt(N)),M=ef(r._getFieldArray(l),Q);r._names.focus=Kd(l,0,R),p.current=ef(p.current,Q.map(Es)),S(M),y(M),r._setFieldArray(l,M,ef,{argA:Xd(N)})},_=N=>{const R=tf(r._getFieldArray(l),N);p.current=tf(p.current,N),S(R),y(R),!Array.isArray(Oe(r._fields,l))&&yt(r._fields,l,void 0),r._setFieldArray(l,R,tf,{argA:N})},O=(N,R,Q)=>{const M=kn(zt(R)),W=Jd(r._getFieldArray(l),N,M);r._names.focus=Kd(l,N,Q),p.current=Jd(p.current,N,M.map(Es)),S(W),y(W),r._setFieldArray(l,W,Jd,{argA:N,argB:Xd(R)})},A=(N,R)=>{const Q=r._getFieldArray(l);nf(Q,N,R),nf(p.current,N,R),S(Q),y(Q),r._setFieldArray(l,Q,nf,{argA:N,argB:R},!1)},k=(N,R)=>{const Q=r._getFieldArray(l);Wd(Q,N,R),Wd(p.current,N,R),S(Q),y(Q),r._setFieldArray(l,Q,Wd,{argA:N,argB:R},!1)},D=(N,R)=>{const Q=zt(R),M=Zy(r._getFieldArray(l),N,Q);p.current=[...M].map((W,fe)=>!W||fe===N?Es():p.current[fe]),S(M),y([...M]),r._setFieldArray(l,M,Zy,{argA:N,argB:Q},!0,!1)},J=N=>{const R=kn(zt(N));p.current=R.map(Es),S([...R]),y([...R]),r._setFieldArray(l,[...R],Q=>Q,{},!0,!1)};return et.useEffect(()=>{if(r._state.action=!1,Tf(l,r._names)&&r._subjects.state.next({...r._formState}),v.current&&(!Pr(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Pr(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([l]).then(N=>{const R=Oe(N.errors,l),Q=Oe(r._formState.errors,l);(Q?!R&&Q.type||R&&(Q.type!==R.type||Q.message!==R.message):R&&R.type)&&(R?yt(r._formState.errors,l,R):Yt(r._formState.errors,l),r._subjects.state.next({errors:r._formState.errors}))});else{const N=Oe(r._fields,l);N&&N._f&&!(Pr(r._options.reValidateMode).isOnSubmit&&Pr(r._options.mode).isOnSubmit)&&zf(N,r._names.disabled,r._formValues,r._options.criteriaMode===ia.all,r._options.shouldUseNativeValidation,!0).then(R=>!Sn(R)&&r._subjects.state.next({errors:Rb(r._formState.errors,R,l)}))}r._subjects.state.next({name:l,values:zt(r._formValues)}),r._names.focus&&Jr(r._fields,(N,R)=>{if(r._names.focus&&R.startsWith(r._names.focus)&&N.focus)return N.focus(),1}),r._names.focus="",r._setValid(),v.current=!1},[h,l,r]),et.useEffect(()=>(!Oe(r._formValues,l)&&r._setFieldArray(l),()=>{const N=(R,Q)=>{const M=Oe(r._fields,R);M&&M._f&&(M._f.mount=Q)};r._options.shouldUnregister||d?r.unregister(l):N(l,!1)}),[l,r,o,d]),{swap:et.useCallback(A,[S,l,r]),move:et.useCallback(k,[S,l,r]),prepend:et.useCallback(B,[S,l,r]),append:et.useCallback(w,[S,l,r]),remove:et.useCallback(_,[S,l,r]),insert:et.useCallback(O,[S,l,r]),update:et.useCallback(D,[S,l,r]),replace:et.useCallback(J,[S,l,r]),fields:et.useMemo(()=>h.map((N,R)=>({...N,[o]:p.current[R]||Es()})),[h,o])}}function gc(t={}){const a=et.useRef(void 0),r=et.useRef(void 0),[l,o]=et.useState({isDirty:!1,isValidating:!1,isLoading:ba(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ba(t.defaultValues)?void 0:t.defaultValues});if(!a.current)if(t.formControl)a.current={...t.formControl,formState:l},t.defaultValues&&!ba(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:m,...h}=zN(t);a.current={...h,formState:l}}const d=a.current.control;return d._options=t,rm(()=>{const m=d._subscribe({formState:d._proxyFormState,callback:()=>o({...d._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),d._formState.isReady=!0,m},[d]),et.useEffect(()=>d._disableForm(t.disabled),[d,t.disabled]),et.useEffect(()=>{t.mode&&(d._options.mode=t.mode),t.reValidateMode&&(d._options.reValidateMode=t.reValidateMode)},[d,t.mode,t.reValidateMode]),et.useEffect(()=>{t.errors&&(d._setErrors(t.errors),d._focusError())},[d,t.errors]),et.useEffect(()=>{t.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,t.shouldUnregister]),et.useEffect(()=>{if(d._proxyFormState.isDirty){const m=d._getDirty();m!==l.isDirty&&d._subjects.state.next({isDirty:m})}},[d,l.isDirty]),et.useEffect(()=>{t.values&&!va(t.values,r.current)?(d._reset(t.values,{keepFieldsRef:!0,...d._options.resetOptions}),r.current=t.values,o(m=>({...m}))):d._resetDefaultValues()},[d,t.values]),et.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),a.current.formState=bN(l,d),a.current}function Tb(t,a){return function(){return t.apply(a,arguments)}}const{toString:UN}=Object.prototype,{getPrototypeOf:cm}=Object,{iterator:yc,toStringTag:zb}=Symbol,vc=(t=>a=>{const r=UN.call(a);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Sa=t=>(t=t.toLowerCase(),a=>vc(a)===t),bc=t=>a=>typeof a===t,{isArray:ul}=Array,nl=bc("undefined");function Si(t){return t!==null&&!nl(t)&&t.constructor!==null&&!nl(t.constructor)&&qn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Db=Sa("ArrayBuffer");function kN(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&Db(t.buffer),a}const qN=bc("string"),qn=bc("function"),Mb=bc("number"),_i=t=>t!==null&&typeof t=="object",BN=t=>t===!0||t===!1,Xo=t=>{if(vc(t)!=="object")return!1;const a=cm(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(zb in t)&&!(yc in t)},LN=t=>{if(!_i(t)||Si(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},FN=Sa("Date"),$N=Sa("File"),VN=Sa("Blob"),HN=Sa("FileList"),ZN=t=>_i(t)&&qn(t.pipe),IN=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||qn(t.append)&&((a=vc(t))==="formdata"||a==="object"&&qn(t.toString)&&t.toString()==="[object FormData]"))},QN=Sa("URLSearchParams"),[GN,YN,KN,PN]=["ReadableStream","Request","Response","Headers"].map(Sa),XN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wi(t,a,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let l,o;if(typeof t!="object"&&(t=[t]),ul(t))for(l=0,o=t.length;l<o;l++)a.call(null,t[l],l,t);else{if(Si(t))return;const d=r?Object.getOwnPropertyNames(t):Object.keys(t),m=d.length;let h;for(l=0;l<m;l++)h=d[l],a.call(null,t[h],h,t)}}function Ub(t,a){if(Si(t))return null;a=a.toLowerCase();const r=Object.keys(t);let l=r.length,o;for(;l-- >0;)if(o=r[l],a===o.toLowerCase())return o;return null}const Ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kb=t=>!nl(t)&&t!==Ws;function Df(){const{caseless:t,skipUndefined:a}=kb(this)&&this||{},r={},l=(o,d)=>{const m=t&&Ub(r,d)||d;Xo(r[m])&&Xo(o)?r[m]=Df(r[m],o):Xo(o)?r[m]=Df({},o):ul(o)?r[m]=o.slice():(!a||!nl(o))&&(r[m]=o)};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&wi(arguments[o],l);return r}const JN=(t,a,r,{allOwnKeys:l}={})=>(wi(a,(o,d)=>{r&&qn(o)?t[d]=Tb(o,r):t[d]=o},{allOwnKeys:l}),t),WN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),e1=(t,a,r,l)=>{t.prototype=Object.create(a.prototype,l),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),r&&Object.assign(t.prototype,r)},t1=(t,a,r,l)=>{let o,d,m;const h={};if(a=a||{},t==null)return a;do{for(o=Object.getOwnPropertyNames(t),d=o.length;d-- >0;)m=o[d],(!l||l(m,t,a))&&!h[m]&&(a[m]=t[m],h[m]=!0);t=r!==!1&&cm(t)}while(t&&(!r||r(t,a))&&t!==Object.prototype);return a},n1=(t,a,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=a.length;const l=t.indexOf(a,r);return l!==-1&&l===r},a1=t=>{if(!t)return null;if(ul(t))return t;let a=t.length;if(!Mb(a))return null;const r=new Array(a);for(;a-- >0;)r[a]=t[a];return r},s1=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&cm(Uint8Array)),r1=(t,a)=>{const l=(t&&t[yc]).call(t);let o;for(;(o=l.next())&&!o.done;){const d=o.value;a.call(t,d[0],d[1])}},l1=(t,a)=>{let r;const l=[];for(;(r=t.exec(a))!==null;)l.push(r);return l},i1=Sa("HTMLFormElement"),o1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,l,o){return l.toUpperCase()+o}),Iy=(({hasOwnProperty:t})=>(a,r)=>t.call(a,r))(Object.prototype),c1=Sa("RegExp"),qb=(t,a)=>{const r=Object.getOwnPropertyDescriptors(t),l={};wi(r,(o,d)=>{let m;(m=a(o,d,t))!==!1&&(l[d]=m||o)}),Object.defineProperties(t,l)},u1=t=>{qb(t,(a,r)=>{if(qn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const l=t[r];if(qn(l)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},d1=(t,a)=>{const r={},l=o=>{o.forEach(d=>{r[d]=!0})};return ul(t)?l(t):l(String(t).split(a)),r},f1=()=>{},m1=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function h1(t){return!!(t&&qn(t.append)&&t[zb]==="FormData"&&t[yc])}const p1=t=>{const a=new Array(10),r=(l,o)=>{if(_i(l)){if(a.indexOf(l)>=0)return;if(Si(l))return l;if(!("toJSON"in l)){a[o]=l;const d=ul(l)?[]:{};return wi(l,(m,h)=>{const y=r(m,o+1);!nl(y)&&(d[h]=y)}),a[o]=void 0,d}}return l};return r(t,0)},g1=Sa("AsyncFunction"),y1=t=>t&&(_i(t)||qn(t))&&qn(t.then)&&qn(t.catch),Bb=((t,a)=>t?setImmediate:a?((r,l)=>(Ws.addEventListener("message",({source:o,data:d})=>{o===Ws&&d===r&&l.length&&l.shift()()},!1),o=>{l.push(o),Ws.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",qn(Ws.postMessage)),v1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ws):typeof process<"u"&&process.nextTick||Bb,b1=t=>t!=null&&qn(t[yc]),G={isArray:ul,isArrayBuffer:Db,isBuffer:Si,isFormData:IN,isArrayBufferView:kN,isString:qN,isNumber:Mb,isBoolean:BN,isObject:_i,isPlainObject:Xo,isEmptyObject:LN,isReadableStream:GN,isRequest:YN,isResponse:KN,isHeaders:PN,isUndefined:nl,isDate:FN,isFile:$N,isBlob:VN,isRegExp:c1,isFunction:qn,isStream:ZN,isURLSearchParams:QN,isTypedArray:s1,isFileList:HN,forEach:wi,merge:Df,extend:JN,trim:XN,stripBOM:WN,inherits:e1,toFlatObject:t1,kindOf:vc,kindOfTest:Sa,endsWith:n1,toArray:a1,forEachEntry:r1,matchAll:l1,isHTMLForm:i1,hasOwnProperty:Iy,hasOwnProp:Iy,reduceDescriptors:qb,freezeMethods:u1,toObjectSet:d1,toCamelCase:o1,noop:f1,toFiniteNumber:m1,findKey:Ub,global:Ws,isContextDefined:kb,isSpecCompliantForm:h1,toJSONObject:p1,isAsyncFn:g1,isThenable:y1,setImmediate:Bb,asap:v1,isIterable:b1};function Je(t,a,r,l,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),r&&(this.config=r),l&&(this.request=l),o&&(this.response=o,this.status=o.status?o.status:null)}G.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Lb=Je.prototype,Fb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Fb[t]={value:t}});Object.defineProperties(Je,Fb);Object.defineProperty(Lb,"isAxiosError",{value:!0});Je.from=(t,a,r,l,o,d)=>{const m=Object.create(Lb);G.toFlatObject(t,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const h=t&&t.message?t.message:"Error",y=a==null&&t?t.code:a;return Je.call(m,h,y,r,l,o),t&&m.cause==null&&Object.defineProperty(m,"cause",{value:t,configurable:!0}),m.name=t&&t.name||"Error",d&&Object.assign(m,d),m};const x1=null;function Mf(t){return G.isPlainObject(t)||G.isArray(t)}function $b(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function Qy(t,a,r){return t?t.concat(a).map(function(o,d){return o=$b(o),!r&&d?"["+o+"]":o}).join(r?".":""):a}function S1(t){return G.isArray(t)&&!t.some(Mf)}const _1=G.toFlatObject(G,{},null,function(a){return/^is[A-Z]/.test(a)});function xc(t,a,r){if(!G.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,A){return!G.isUndefined(A[O])});const l=r.metaTokens,o=r.visitor||v,d=r.dots,m=r.indexes,y=(r.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(a);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(G.isDate(_))return _.toISOString();if(G.isBoolean(_))return _.toString();if(!y&&G.isBlob(_))throw new Je("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(_)||G.isTypedArray(_)?y&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,O,A){let k=_;if(_&&!A&&typeof _=="object"){if(G.endsWith(O,"{}"))O=l?O:O.slice(0,-2),_=JSON.stringify(_);else if(G.isArray(_)&&S1(_)||(G.isFileList(_)||G.endsWith(O,"[]"))&&(k=G.toArray(_)))return O=$b(O),k.forEach(function(J,N){!(G.isUndefined(J)||J===null)&&a.append(m===!0?Qy([O],N,d):m===null?O:O+"[]",p(J))}),!1}return Mf(_)?!0:(a.append(Qy(A,O,d),p(_)),!1)}const S=[],w=Object.assign(_1,{defaultVisitor:v,convertValue:p,isVisitable:Mf});function B(_,O){if(!G.isUndefined(_)){if(S.indexOf(_)!==-1)throw Error("Circular reference detected in "+O.join("."));S.push(_),G.forEach(_,function(k,D){(!(G.isUndefined(k)||k===null)&&o.call(a,k,G.isString(D)?D.trim():D,O,w))===!0&&B(k,O?O.concat(D):[D])}),S.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return B(t),a}function Gy(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(l){return a[l]})}function um(t,a){this._pairs=[],t&&xc(t,this,a)}const Vb=um.prototype;Vb.append=function(a,r){this._pairs.push([a,r])};Vb.toString=function(a){const r=a?function(l){return a.call(this,l,Gy)}:Gy;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function w1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Hb(t,a,r){if(!a)return t;const l=r&&r.encode||w1;G.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let d;if(o?d=o(a,r):d=G.isURLSearchParams(a)?a.toString():new um(a,r).toString(l),d){const m=t.indexOf("#");m!==-1&&(t=t.slice(0,m)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class Yy{constructor(){this.handlers=[]}use(a,r,l){return this.handlers.push({fulfilled:a,rejected:r,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){G.forEach(this.handlers,function(l){l!==null&&a(l)})}}const Zb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N1=typeof URLSearchParams<"u"?URLSearchParams:um,j1=typeof FormData<"u"?FormData:null,E1=typeof Blob<"u"?Blob:null,A1={isBrowser:!0,classes:{URLSearchParams:N1,FormData:j1,Blob:E1},protocols:["http","https","file","blob","url","data"]},dm=typeof window<"u"&&typeof document<"u",Uf=typeof navigator=="object"&&navigator||void 0,O1=dm&&(!Uf||["ReactNative","NativeScript","NS"].indexOf(Uf.product)<0),C1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",R1=dm&&window.location.href||"http://localhost",T1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dm,hasStandardBrowserEnv:O1,hasStandardBrowserWebWorkerEnv:C1,navigator:Uf,origin:R1},Symbol.toStringTag,{value:"Module"})),_n={...T1,...A1};function z1(t,a){return xc(t,new _n.classes.URLSearchParams,{visitor:function(r,l,o,d){return _n.isNode&&G.isBuffer(r)?(this.append(l,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function D1(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function M1(t){const a={},r=Object.keys(t);let l;const o=r.length;let d;for(l=0;l<o;l++)d=r[l],a[d]=t[d];return a}function Ib(t){function a(r,l,o,d){let m=r[d++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),y=d>=r.length;return m=!m&&G.isArray(o)?o.length:m,y?(G.hasOwnProp(o,m)?o[m]=[o[m],l]:o[m]=l,!h):((!o[m]||!G.isObject(o[m]))&&(o[m]=[]),a(r,l,o[m],d)&&G.isArray(o[m])&&(o[m]=M1(o[m])),!h)}if(G.isFormData(t)&&G.isFunction(t.entries)){const r={};return G.forEachEntry(t,(l,o)=>{a(D1(l),o,r,0)}),r}return null}function U1(t,a,r){if(G.isString(t))try{return(a||JSON.parse)(t),G.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(r||JSON.stringify)(t)}const Ni={transitional:Zb,adapter:["xhr","http","fetch"],transformRequest:[function(a,r){const l=r.getContentType()||"",o=l.indexOf("application/json")>-1,d=G.isObject(a);if(d&&G.isHTMLForm(a)&&(a=new FormData(a)),G.isFormData(a))return o?JSON.stringify(Ib(a)):a;if(G.isArrayBuffer(a)||G.isBuffer(a)||G.isStream(a)||G.isFile(a)||G.isBlob(a)||G.isReadableStream(a))return a;if(G.isArrayBufferView(a))return a.buffer;if(G.isURLSearchParams(a))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return z1(a,this.formSerializer).toString();if((h=G.isFileList(a))||l.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return xc(h?{"files[]":a}:a,y&&new y,this.formSerializer)}}return d||o?(r.setContentType("application/json",!1),U1(a)):a}],transformResponse:[function(a){const r=this.transitional||Ni.transitional,l=r&&r.forcedJSONParsing,o=this.responseType==="json";if(G.isResponse(a)||G.isReadableStream(a))return a;if(a&&G.isString(a)&&(l&&!this.responseType||o)){const m=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(a,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?Je.from(h,Je.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_n.classes.FormData,Blob:_n.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{Ni.headers[t]={}});const k1=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),q1=t=>{const a={};let r,l,o;return t&&t.split(`
`).forEach(function(m){o=m.indexOf(":"),r=m.substring(0,o).trim().toLowerCase(),l=m.substring(o+1).trim(),!(!r||a[r]&&k1[r])&&(r==="set-cookie"?a[r]?a[r].push(l):a[r]=[l]:a[r]=a[r]?a[r]+", "+l:l)}),a},Ky=Symbol("internals");function ii(t){return t&&String(t).trim().toLowerCase()}function Jo(t){return t===!1||t==null?t:G.isArray(t)?t.map(Jo):String(t)}function B1(t){const a=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=r.exec(t);)a[l[1]]=l[2];return a}const L1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function af(t,a,r,l,o){if(G.isFunction(l))return l.call(this,a,r);if(o&&(a=r),!!G.isString(a)){if(G.isString(l))return a.indexOf(l)!==-1;if(G.isRegExp(l))return l.test(a)}}function F1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,r,l)=>r.toUpperCase()+l)}function $1(t,a){const r=G.toCamelCase(" "+a);["get","set","has"].forEach(l=>{Object.defineProperty(t,l+r,{value:function(o,d,m){return this[l].call(this,a,o,d,m)},configurable:!0})})}let Bn=class{constructor(a){a&&this.set(a)}set(a,r,l){const o=this;function d(h,y,p){const v=ii(y);if(!v)throw new Error("header name must be a non-empty string");const S=G.findKey(o,v);(!S||o[S]===void 0||p===!0||p===void 0&&o[S]!==!1)&&(o[S||y]=Jo(h))}const m=(h,y)=>G.forEach(h,(p,v)=>d(p,v,y));if(G.isPlainObject(a)||a instanceof this.constructor)m(a,r);else if(G.isString(a)&&(a=a.trim())&&!L1(a))m(q1(a),r);else if(G.isObject(a)&&G.isIterable(a)){let h={},y,p;for(const v of a){if(!G.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[p=v[0]]=(y=h[p])?G.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}m(h,r)}else a!=null&&d(r,a,l);return this}get(a,r){if(a=ii(a),a){const l=G.findKey(this,a);if(l){const o=this[l];if(!r)return o;if(r===!0)return B1(o);if(G.isFunction(r))return r.call(this,o,l);if(G.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,r){if(a=ii(a),a){const l=G.findKey(this,a);return!!(l&&this[l]!==void 0&&(!r||af(this,this[l],l,r)))}return!1}delete(a,r){const l=this;let o=!1;function d(m){if(m=ii(m),m){const h=G.findKey(l,m);h&&(!r||af(l,l[h],h,r))&&(delete l[h],o=!0)}}return G.isArray(a)?a.forEach(d):d(a),o}clear(a){const r=Object.keys(this);let l=r.length,o=!1;for(;l--;){const d=r[l];(!a||af(this,this[d],d,a,!0))&&(delete this[d],o=!0)}return o}normalize(a){const r=this,l={};return G.forEach(this,(o,d)=>{const m=G.findKey(l,d);if(m){r[m]=Jo(o),delete r[d];return}const h=a?F1(d):String(d).trim();h!==d&&delete r[d],r[h]=Jo(o),l[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const r=Object.create(null);return G.forEach(this,(l,o)=>{l!=null&&l!==!1&&(r[o]=a&&G.isArray(l)?l.join(", "):l)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,r])=>a+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...r){const l=new this(a);return r.forEach(o=>l.set(o)),l}static accessor(a){const l=(this[Ky]=this[Ky]={accessors:{}}).accessors,o=this.prototype;function d(m){const h=ii(m);l[h]||($1(o,m),l[h]=!0)}return G.isArray(a)?a.forEach(d):d(a),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Bn.prototype,({value:t},a)=>{let r=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(l){this[r]=l}}});G.freezeMethods(Bn);function sf(t,a){const r=this||Ni,l=a||r,o=Bn.from(l.headers);let d=l.data;return G.forEach(t,function(h){d=h.call(r,d,o.normalize(),a?a.status:void 0)}),o.normalize(),d}function Qb(t){return!!(t&&t.__CANCEL__)}function dl(t,a,r){Je.call(this,t??"canceled",Je.ERR_CANCELED,a,r),this.name="CanceledError"}G.inherits(dl,Je,{__CANCEL__:!0});function Gb(t,a,r){const l=r.config.validateStatus;!r.status||!l||l(r.status)?t(r):a(new Je("Request failed with status code "+r.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function V1(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function H1(t,a){t=t||10;const r=new Array(t),l=new Array(t);let o=0,d=0,m;return a=a!==void 0?a:1e3,function(y){const p=Date.now(),v=l[d];m||(m=p),r[o]=y,l[o]=p;let S=d,w=0;for(;S!==o;)w+=r[S++],S=S%t;if(o=(o+1)%t,o===d&&(d=(d+1)%t),p-m<a)return;const B=v&&p-v;return B?Math.round(w*1e3/B):void 0}}function Z1(t,a){let r=0,l=1e3/a,o,d;const m=(p,v=Date.now())=>{r=v,o=null,d&&(clearTimeout(d),d=null),t(...p)};return[(...p)=>{const v=Date.now(),S=v-r;S>=l?m(p,v):(o=p,d||(d=setTimeout(()=>{d=null,m(o)},l-S)))},()=>o&&m(o)]}const rc=(t,a,r=3)=>{let l=0;const o=H1(50,250);return Z1(d=>{const m=d.loaded,h=d.lengthComputable?d.total:void 0,y=m-l,p=o(y),v=m<=h;l=m;const S={loaded:m,total:h,progress:h?m/h:void 0,bytes:y,rate:p||void 0,estimated:p&&h&&v?(h-m)/p:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};t(S)},r)},Py=(t,a)=>{const r=t!=null;return[l=>a[0]({lengthComputable:r,total:t,loaded:l}),a[1]]},Xy=t=>(...a)=>G.asap(()=>t(...a)),I1=_n.hasStandardBrowserEnv?((t,a)=>r=>(r=new URL(r,_n.origin),t.protocol===r.protocol&&t.host===r.host&&(a||t.port===r.port)))(new URL(_n.origin),_n.navigator&&/(msie|trident)/i.test(_n.navigator.userAgent)):()=>!0,Q1=_n.hasStandardBrowserEnv?{write(t,a,r,l,o,d,m){if(typeof document>"u")return;const h=[`${t}=${encodeURIComponent(a)}`];G.isNumber(r)&&h.push(`expires=${new Date(r).toUTCString()}`),G.isString(l)&&h.push(`path=${l}`),G.isString(o)&&h.push(`domain=${o}`),d===!0&&h.push("secure"),G.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function G1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Y1(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function Yb(t,a,r){let l=!G1(a);return t&&(l||r==!1)?Y1(t,a):a}const Jy=t=>t instanceof Bn?{...t}:t;function sr(t,a){a=a||{};const r={};function l(p,v,S,w){return G.isPlainObject(p)&&G.isPlainObject(v)?G.merge.call({caseless:w},p,v):G.isPlainObject(v)?G.merge({},v):G.isArray(v)?v.slice():v}function o(p,v,S,w){if(G.isUndefined(v)){if(!G.isUndefined(p))return l(void 0,p,S,w)}else return l(p,v,S,w)}function d(p,v){if(!G.isUndefined(v))return l(void 0,v)}function m(p,v){if(G.isUndefined(v)){if(!G.isUndefined(p))return l(void 0,p)}else return l(void 0,v)}function h(p,v,S){if(S in a)return l(p,v);if(S in t)return l(void 0,p)}const y={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(p,v,S)=>o(Jy(p),Jy(v),S,!0)};return G.forEach(Object.keys({...t,...a}),function(v){const S=y[v]||o,w=S(t[v],a[v],v);G.isUndefined(w)&&S!==h||(r[v]=w)}),r}const Kb=t=>{const a=sr({},t);let{data:r,withXSRFToken:l,xsrfHeaderName:o,xsrfCookieName:d,headers:m,auth:h}=a;if(a.headers=m=Bn.from(m),a.url=Hb(Yb(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),G.isFormData(r)){if(_n.hasStandardBrowserEnv||_n.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(G.isFunction(r.getHeaders)){const y=r.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,S])=>{p.includes(v.toLowerCase())&&m.set(v,S)})}}if(_n.hasStandardBrowserEnv&&(l&&G.isFunction(l)&&(l=l(a)),l||l!==!1&&I1(a.url))){const y=o&&d&&Q1.read(d);y&&m.set(o,y)}return a},K1=typeof XMLHttpRequest<"u",P1=K1&&function(t){return new Promise(function(r,l){const o=Kb(t);let d=o.data;const m=Bn.from(o.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:p}=o,v,S,w,B,_;function O(){B&&B(),_&&_(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let A=new XMLHttpRequest;A.open(o.method.toUpperCase(),o.url,!0),A.timeout=o.timeout;function k(){if(!A)return;const J=Bn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),R={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:J,config:t,request:A};Gb(function(M){r(M),O()},function(M){l(M),O()},R),A=null}"onloadend"in A?A.onloadend=k:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(k)},A.onabort=function(){A&&(l(new Je("Request aborted",Je.ECONNABORTED,t,A)),A=null)},A.onerror=function(N){const R=N&&N.message?N.message:"Network Error",Q=new Je(R,Je.ERR_NETWORK,t,A);Q.event=N||null,l(Q),A=null},A.ontimeout=function(){let N=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const R=o.transitional||Zb;o.timeoutErrorMessage&&(N=o.timeoutErrorMessage),l(new Je(N,R.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,t,A)),A=null},d===void 0&&m.setContentType(null),"setRequestHeader"in A&&G.forEach(m.toJSON(),function(N,R){A.setRequestHeader(R,N)}),G.isUndefined(o.withCredentials)||(A.withCredentials=!!o.withCredentials),h&&h!=="json"&&(A.responseType=o.responseType),p&&([w,_]=rc(p,!0),A.addEventListener("progress",w)),y&&A.upload&&([S,B]=rc(y),A.upload.addEventListener("progress",S),A.upload.addEventListener("loadend",B)),(o.cancelToken||o.signal)&&(v=J=>{A&&(l(!J||J.type?new dl(null,t,A):J),A.abort(),A=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const D=V1(o.url);if(D&&_n.protocols.indexOf(D)===-1){l(new Je("Unsupported protocol "+D+":",Je.ERR_BAD_REQUEST,t));return}A.send(d||null)})},X1=(t,a)=>{const{length:r}=t=t?t.filter(Boolean):[];if(a||r){let l=new AbortController,o;const d=function(p){if(!o){o=!0,h();const v=p instanceof Error?p:this.reason;l.abort(v instanceof Je?v:new dl(v instanceof Error?v.message:v))}};let m=a&&setTimeout(()=>{m=null,d(new Je(`timeout ${a} of ms exceeded`,Je.ETIMEDOUT))},a);const h=()=>{t&&(m&&clearTimeout(m),m=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),t=null)};t.forEach(p=>p.addEventListener("abort",d));const{signal:y}=l;return y.unsubscribe=()=>G.asap(h),y}},J1=function*(t,a){let r=t.byteLength;if(r<a){yield t;return}let l=0,o;for(;l<r;)o=l+a,yield t.slice(l,o),l=o},W1=async function*(t,a){for await(const r of ej(t))yield*J1(r,a)},ej=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:r,value:l}=await a.read();if(r)break;yield l}}finally{await a.cancel()}},Wy=(t,a,r,l)=>{const o=W1(t,a);let d=0,m,h=y=>{m||(m=!0,l&&l(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await o.next();if(p){h(),y.close();return}let S=v.byteLength;if(r){let w=d+=S;r(w)}y.enqueue(new Uint8Array(v))}catch(p){throw h(p),p}},cancel(y){return h(y),o.return()}},{highWaterMark:2})},ev=64*1024,{isFunction:Ho}=G,tj=(({Request:t,Response:a})=>({Request:t,Response:a}))(G.global),{ReadableStream:tv,TextEncoder:nv}=G.global,av=(t,...a)=>{try{return!!t(...a)}catch{return!1}},nj=t=>{t=G.merge.call({skipUndefined:!0},tj,t);const{fetch:a,Request:r,Response:l}=t,o=a?Ho(a):typeof fetch=="function",d=Ho(r),m=Ho(l);if(!o)return!1;const h=o&&Ho(tv),y=o&&(typeof nv=="function"?(_=>O=>_.encode(O))(new nv):async _=>new Uint8Array(await new r(_).arrayBuffer())),p=d&&h&&av(()=>{let _=!1;const O=new r(_n.origin,{body:new tv,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!O}),v=m&&h&&av(()=>G.isReadableStream(new l("").body)),S={stream:v&&(_=>_.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!S[_]&&(S[_]=(O,A)=>{let k=O&&O[_];if(k)return k.call(O);throw new Je(`Response type '${_}' is not supported`,Je.ERR_NOT_SUPPORT,A)})});const w=async _=>{if(_==null)return 0;if(G.isBlob(_))return _.size;if(G.isSpecCompliantForm(_))return(await new r(_n.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(G.isArrayBufferView(_)||G.isArrayBuffer(_))return _.byteLength;if(G.isURLSearchParams(_)&&(_=_+""),G.isString(_))return(await y(_)).byteLength},B=async(_,O)=>{const A=G.toFiniteNumber(_.getContentLength());return A??w(O)};return async _=>{let{url:O,method:A,data:k,signal:D,cancelToken:J,timeout:N,onDownloadProgress:R,onUploadProgress:Q,responseType:M,headers:W,withCredentials:fe="same-origin",fetchOptions:De}=Kb(_),je=a||fetch;M=M?(M+"").toLowerCase():"text";let me=X1([D,J&&J.toAbortSignal()],N),ye=null;const be=me&&me.unsubscribe&&(()=>{me.unsubscribe()});let Ne;try{if(Q&&p&&A!=="get"&&A!=="head"&&(Ne=await B(W,k))!==0){let E=new r(O,{method:"POST",body:k,duplex:"half"}),Z;if(G.isFormData(k)&&(Z=E.headers.get("content-type"))&&W.setContentType(Z),E.body){const[ne,he]=Py(Ne,rc(Xy(Q)));k=Wy(E.body,ev,ne,he)}}G.isString(fe)||(fe=fe?"include":"omit");const U=d&&"credentials"in r.prototype,se={...De,signal:me,method:A.toUpperCase(),headers:W.normalize().toJSON(),body:k,duplex:"half",credentials:U?fe:void 0};ye=d&&new r(O,se);let P=await(d?je(ye,De):je(O,se));const ve=v&&(M==="stream"||M==="response");if(v&&(R||ve&&be)){const E={};["status","statusText","headers"].forEach(Re=>{E[Re]=P[Re]});const Z=G.toFiniteNumber(P.headers.get("content-length")),[ne,he]=R&&Py(Z,rc(Xy(R),!0))||[];P=new l(Wy(P.body,ev,ne,()=>{he&&he(),be&&be()}),E)}M=M||"text";let Te=await S[G.findKey(S,M)||"text"](P,_);return!ve&&be&&be(),await new Promise((E,Z)=>{Gb(E,Z,{data:Te,headers:Bn.from(P.headers),status:P.status,statusText:P.statusText,config:_,request:ye})})}catch(U){throw be&&be(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,_,ye),{cause:U.cause||U}):Je.from(U,U&&U.code,_,ye)}}},aj=new Map,Pb=t=>{let a=t&&t.env||{};const{fetch:r,Request:l,Response:o}=a,d=[l,o,r];let m=d.length,h=m,y,p,v=aj;for(;h--;)y=d[h],p=v.get(y),p===void 0&&v.set(y,p=h?new Map:nj(a)),v=p;return p};Pb();const fm={http:x1,xhr:P1,fetch:{get:Pb}};G.forEach(fm,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const sv=t=>`- ${t}`,sj=t=>G.isFunction(t)||t===null||t===!1;function rj(t,a){t=G.isArray(t)?t:[t];const{length:r}=t;let l,o;const d={};for(let m=0;m<r;m++){l=t[m];let h;if(o=l,!sj(l)&&(o=fm[(h=String(l)).toLowerCase()],o===void 0))throw new Je(`Unknown adapter '${h}'`);if(o&&(G.isFunction(o)||(o=o.get(a))))break;d[h||"#"+m]=o}if(!o){const m=Object.entries(d).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=r?m.length>1?`since :
`+m.map(sv).join(`
`):" "+sv(m[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return o}const Xb={getAdapter:rj,adapters:fm};function rf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dl(null,t)}function rv(t){return rf(t),t.headers=Bn.from(t.headers),t.data=sf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Xb.getAdapter(t.adapter||Ni.adapter,t)(t).then(function(l){return rf(t),l.data=sf.call(t,t.transformResponse,l),l.headers=Bn.from(l.headers),l},function(l){return Qb(l)||(rf(t),l&&l.response&&(l.response.data=sf.call(t,t.transformResponse,l.response),l.response.headers=Bn.from(l.response.headers))),Promise.reject(l)})}const Jb="1.13.2",Sc={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Sc[t]=function(l){return typeof l===t||"a"+(a<1?"n ":" ")+t}});const lv={};Sc.transitional=function(a,r,l){function o(d,m){return"[Axios v"+Jb+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,h)=>{if(a===!1)throw new Je(o(m," has been removed"+(r?" in "+r:"")),Je.ERR_DEPRECATED);return r&&!lv[m]&&(lv[m]=!0,console.warn(o(m," has been deprecated since v"+r+" and will be removed in the near future"))),a?a(d,m,h):!0}};Sc.spelling=function(a){return(r,l)=>(console.warn(`${l} is likely a misspelling of ${a}`),!0)};function lj(t,a,r){if(typeof t!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const l=Object.keys(t);let o=l.length;for(;o-- >0;){const d=l[o],m=a[d];if(m){const h=t[d],y=h===void 0||m(h,d,t);if(y!==!0)throw new Je("option "+d+" must be "+y,Je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Je("Unknown option "+d,Je.ERR_BAD_OPTION)}}const Wo={assertOptions:lj,validators:Sc},Oa=Wo.validators;let er=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Yy,response:new Yy}}async request(a,r){try{return await this._request(a,r)}catch(l){if(l instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(a,r){typeof a=="string"?(r=r||{},r.url=a):r=a||{},r=sr(this.defaults,r);const{transitional:l,paramsSerializer:o,headers:d}=r;l!==void 0&&Wo.assertOptions(l,{silentJSONParsing:Oa.transitional(Oa.boolean),forcedJSONParsing:Oa.transitional(Oa.boolean),clarifyTimeoutError:Oa.transitional(Oa.boolean)},!1),o!=null&&(G.isFunction(o)?r.paramsSerializer={serialize:o}:Wo.assertOptions(o,{encode:Oa.function,serialize:Oa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Wo.assertOptions(r,{baseUrl:Oa.spelling("baseURL"),withXsrfToken:Oa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let m=d&&G.merge(d.common,d[r.method]);d&&G.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),r.headers=Bn.concat(m,d);const h=[];let y=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(r)===!1||(y=y&&O.synchronous,h.unshift(O.fulfilled,O.rejected))});const p=[];this.interceptors.response.forEach(function(O){p.push(O.fulfilled,O.rejected)});let v,S=0,w;if(!y){const _=[rv.bind(this),void 0];for(_.unshift(...h),_.push(...p),w=_.length,v=Promise.resolve(r);S<w;)v=v.then(_[S++],_[S++]);return v}w=h.length;let B=r;for(;S<w;){const _=h[S++],O=h[S++];try{B=_(B)}catch(A){O.call(this,A);break}}try{v=rv.call(this,B)}catch(_){return Promise.reject(_)}for(S=0,w=p.length;S<w;)v=v.then(p[S++],p[S++]);return v}getUri(a){a=sr(this.defaults,a);const r=Yb(a.baseURL,a.url,a.allowAbsoluteUrls);return Hb(r,a.params,a.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(a){er.prototype[a]=function(r,l){return this.request(sr(l||{},{method:a,url:r,data:(l||{}).data}))}});G.forEach(["post","put","patch"],function(a){function r(l){return function(d,m,h){return this.request(sr(h||{},{method:a,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}er.prototype[a]=r(),er.prototype[a+"Form"]=r(!0)});let ij=class Wb{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const l=this;this.promise.then(o=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](o);l._listeners=null}),this.promise.then=o=>{let d;const m=new Promise(h=>{l.subscribe(h),d=h}).then(o);return m.cancel=function(){l.unsubscribe(d)},m},a(function(d,m,h){l.reason||(l.reason=new dl(d,m,h),r(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const r=this._listeners.indexOf(a);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const a=new AbortController,r=l=>{a.abort(l)};return this.subscribe(r),a.signal.unsubscribe=()=>this.unsubscribe(r),a.signal}static source(){let a;return{token:new Wb(function(o){a=o}),cancel:a}}};function oj(t){return function(r){return t.apply(null,r)}}function cj(t){return G.isObject(t)&&t.isAxiosError===!0}const kf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kf).forEach(([t,a])=>{kf[a]=t});function e0(t){const a=new er(t),r=Tb(er.prototype.request,a);return G.extend(r,er.prototype,a,{allOwnKeys:!0}),G.extend(r,a,null,{allOwnKeys:!0}),r.create=function(o){return e0(sr(t,o))},r}const lt=e0(Ni);lt.Axios=er;lt.CanceledError=dl;lt.CancelToken=ij;lt.isCancel=Qb;lt.VERSION=Jb;lt.toFormData=xc;lt.AxiosError=Je;lt.Cancel=lt.CanceledError;lt.all=function(a){return Promise.all(a)};lt.spread=oj;lt.isAxiosError=cj;lt.mergeConfig=sr;lt.AxiosHeaders=Bn;lt.formToJSON=t=>Ib(G.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=Xb.getAdapter;lt.HttpStatusCode=kf;lt.default=lt;const{Axios:gT,AxiosError:yT,CanceledError:vT,isCancel:bT,CancelToken:xT,VERSION:ST,all:_T,Cancel:wT,isAxiosError:NT,spread:jT,toFormData:ET,AxiosHeaders:AT,HttpStatusCode:OT,formToJSON:CT,getAdapter:RT,mergeConfig:TT}=lt,iv="http://127.0.0.1:8000",_c="openOiId",uj="vi.currentOI",t0="vi.auth",n0="vi_auth",dj="medileser.selectedBank",fj="medileser:selectedBank",qf="medileser.pendingToast",a0=()=>typeof window<"u"?window.location.port==="5173"?iv:window.location.origin:iv,Ge=lt.create({baseURL:a0()}),s0=lt.create({baseURL:a0()}),r0=t=>{try{const a=localStorage.getItem(t0)??localStorage.getItem(n0);if(a){const{token:r}=JSON.parse(a);r&&(t.headers&&typeof t.headers.set=="function"?t.headers.set("Authorization",`Bearer ${r}`):t.headers={...t.headers||{},Authorization:`Bearer ${r}`})}}catch{}return t};Ge.interceptors.request.use(r0);s0.interceptors.request.use(r0);function mj(){try{const t=sessionStorage.getItem(_c);if(!t)return null;const a=Number(t);return Number.isFinite(a)&&a>0?a:null}catch{return null}}function hj(t){try{sessionStorage.setItem(_c,String(t))}catch{}}function l0(){try{sessionStorage.removeItem(_c)}catch{}}async function mm(){const t=mj();if(t)try{await s0.post(`/oi/${t}/close`)}catch{}finally{l0()}}function pj(t){try{sessionStorage.setItem(qf,t)}catch{}}function gj(){try{const t=sessionStorage.getItem(qf);return t?(sessionStorage.removeItem(qf),t):null}catch{return null}}function yj(){try{localStorage.removeItem(t0),localStorage.removeItem(n0),localStorage.removeItem(dj)}catch{}finally{try{window.dispatchEvent(new Event(fj))}catch{}}try{sessionStorage.removeItem(uj),sessionStorage.removeItem(_c)}catch{}}let ov=!1;async function i0(){if(!ov){ov=!0;try{await mm()}finally{yj(),pj("Sesin invlida o expirada"),typeof window<"u"&&window.location.pathname!=="/login"&&window.location.replace("/login")}}}Ge.interceptors.response.use(t=>t,async t=>{const a=t?.response?.status,r=String(t?.config?.url??""),l=t?.response?.data?.detail;return!r.includes("/auth/login")&&(a===401||a===403&&typeof l=="string"&&/sesi[o]n|token/i.test(l))&&await i0(),Promise.reject(t)});const hm=async()=>{const{data:t}=await Ge.get("/catalogs");return t},wc="medileser.selectedBank",lc="medileser:selectedBank";function Ra(t,a){if((a??"").toLowerCase()==="admin")return"admin";const l=(t??"").toLowerCase();return l==="admin"||l==="administrator"||l==="administrador"?"administrator":l==="technician"||l==="user"||l==="tecnico"||l==="tcnico"?"technician":"standard"}function ji(t){return Ra(t)==="technician"}function pm(t){return(t?.username??t?.user??"").toLowerCase()==="admin"}function ic(){try{const t=localStorage.getItem(wc);if(!t)return null;const a=Number(t);return Number.isFinite(a)?a:null}catch{return null}}function o0(t){try{localStorage.setItem(wc,String(t))}finally{window.dispatchEvent(new Event(lc))}}function c0(){try{localStorage.removeItem(wc)}finally{window.dispatchEvent(new Event(lc))}}function vj(t){const a=()=>t(),r=l=>{l.key===wc&&t()};return window.addEventListener(lc,a),window.addEventListener("storage",r),()=>{window.removeEventListener(lc,a),window.removeEventListener("storage",r)}}async function bj(t,a){try{await Ge.put("/auth/password",{old_password:t,new_password:a})}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la contrasea";throw new Error(l)}}async function xj(t){try{const{data:a}=await Ge.post("/auth/login",t);return localStorage.setItem("vi.auth",JSON.stringify(a)),ji(a.role)?c0():o0(0),a}catch(a){const r=a?.response?.status,l=a?.response?.data?.detail,o=r===401?"Credenciales invlidas":l??a?.message??"Error de autenticacin";throw new Error(o)}}function Ln(){const t=localStorage.getItem("vi.auth")??localStorage.getItem("vi_auth");if(!t)return null;try{const a=JSON.parse(t),r=a.username??a.user??"",l=[a.firstName,a.lastName].filter(Boolean).join(" ")||void 0,o={user:a.user??a.username??"",userId:a.userId??a.id??0,username:r,firstName:a.firstName??"",lastName:a.lastName??"",fullName:a.fullName??l??r,bancoId:a.bancoId??null,token:a.token,techNumber:a.techNumber,role:Ra(a.role,r),allowedModules:Array.isArray(a.allowedModules)?a.allowedModules:void 0};return o.username&&o.token?o:null}catch{return null}}async function u0(t){const{data:a}=await Ge.put("/auth/banco",{bancoId:t});return localStorage.setItem("vi.auth",JSON.stringify(a)),o0(t),a}function d0(){localStorage.removeItem("vi.auth"),localStorage.removeItem("vi_auth"),c0();try{sessionStorage.removeItem("vi.currentOI"),sessionStorage.removeItem("openOiId")}catch{}}async function Sj(){await mm(),d0()}function mi({label:t,inputId:a,className:r="",inputRef:l,helpText:o,...d}){const[m,h]=b.useState(!1),y=a||d.name||void 0,{ref:p,...v}=d,S=l??p;return c.jsxs("div",{className:r,children:[t&&c.jsx("label",{className:"form-label",htmlFor:y,children:t}),c.jsxs("div",{className:"input-group",children:[c.jsx("input",{...v,id:y,type:m?"text":"password",className:"form-control",ref:S}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>h(w=>!w),tabIndex:-1,"aria-label":m?"Ocultar contrasea":"Mostrar contrasea",children:c.jsx("i",{className:`ti ${m?"ti-eye-off":"ti-eye"}`})})]}),o&&c.jsx("div",{className:"form-text",children:o})]})}function fl({show:t=!0,label:a="Cargando..."}){return t?c.jsxs("div",{className:"vi-spinner-overlay",role:"status","aria-live":"polite","aria-label":a,children:[c.jsx("img",{className:"vi-spinner-logo",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"","aria-hidden":"true"}),c.jsx("span",{className:"visually-hidden",children:a})]}):null}const f0=b.createContext(null);function _j(t){return t==="success"?"success":t==="error"?"danger":t==="warning"?"warning":"secondary"}function wj({children:t}){const[a,r]=b.useState([]),l=b.useCallback(d=>{const m=Date.now()+Math.random(),{kind:h="info",duration:y=3500,...p}=d,v={id:m,kind:h,duration:y,...p};r(S=>[...S,v]),window.setTimeout(()=>{r(S=>S.filter(w=>w.id!==m))},y)},[]),o=d=>r(m=>m.filter(h=>h.id!==d));return c.jsxs(f0.Provider,{value:{push:l},children:[t,c.jsx("div",{className:"vi-toast-container position-fixed top-0 end-0 p-3",children:a.map(d=>c.jsx("div",{className:`toast show align-items-center text-bg-${_j(d.kind)} border-0 mb-2`,role:"alert",children:c.jsxs("div",{className:"d-flex",children:[c.jsxs("div",{className:"toast-body",children:[d.title&&c.jsx("strong",{className:"me-2",children:d.title}),d.message]}),c.jsx("button",{className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>o(d.id)})]})},d.id))})]})}function or(){const t=b.useContext(f0);if(!t)throw new Error("useToast must be used inside <ToastProvider>");return{toast:t.push}}function Nj(){const{register:t,handleSubmit:a}=gc({defaultValues:{username:"",password:""}}),{toast:r}=or(),[l,o]=b.useState(!1),[d,m]=b.useState(!1),[h,y]=b.useState(0),[p,v]=b.useState(!1),{data:S,isLoading:w,error:B,refetch:_}=ar({queryKey:["catalogs"],queryFn:hm,enabled:d}),O=S?.bancos??[];b.useEffect(()=>{const N=gj();N&&r({kind:"error",message:N})},[r]),b.useEffect(()=>{d&&(h>0||O.length>0&&y(O[0].id))},[h,O,d]);const A=async N=>{try{o(!0);const R=await xj(N);if(ji(R.role)){m(!0),r({kind:"info",title:"Banco",message:"Seleccione el banco para continuar."});return}window.location.replace("/home")}catch(R){const Q=R?.message??R?.response?.data?.detail??(typeof R=="string"?R:"Error de autenticacin");r({kind:"error",title:"Login",message:String(Q)})}finally{o(!1)}},k=h>0&&!p&&!w,D=async()=>{if(k)try{v(!0),await u0(h),window.location.replace("/home")}catch(N){const R=N?.response?.data?.detail??N?.message??"No se pudo guardar el banco.";r({kind:"error",title:"Banco",message:String(R)})}finally{v(!1)}},J=()=>{d0(),m(!1),y(0)};return c.jsxs("div",{className:"vi-login",children:[c.jsx(fl,{show:l||p,label:p?"Guardando banco...":"Validando credenciales..."}),c.jsxs("div",{className:"vi-login__split",children:[c.jsx("section",{className:"vi-login__left",children:c.jsx("div",{className:"text-center text-md-start",children:c.jsx("h1",{className:"vi-title display-6 mb-0",children:"ACCESO AL SISTEMA MEDILESER APP"})})}),c.jsx("section",{className:"vi-login__right",children:c.jsx("div",{className:"card shadow-sm vi-login__card",children:c.jsxs("div",{className:"card-body p-4 p-md-5",children:[c.jsx("h2",{className:"h4 text-center mb-4",children:"Bienvenido"}),c.jsxs("form",{onSubmit:a(A),className:"row g-3",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),c.jsx("input",{id:"username",className:"form-control",autoFocus:!0,autoComplete:"username",...t("username",{required:!0})})]}),c.jsx("div",{className:"col-md-6",children:c.jsx(mi,{label:"Contrasea",inputId:"password",autoComplete:"current-password",...t("password",{required:!0})})}),c.jsx("div",{className:"col-12 d-grid",children:c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l||d,"aria-busy":l?"true":"false",children:l?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Ingresando..."]}):"Ingresar"})})]})]})})})]}),d&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),c.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),c.jsx("select",{id:"bankId",className:"form-select",value:h||"",onChange:N=>y(Number(N.target.value)),disabled:w||p,children:O.map(N=>c.jsx("option",{value:N.id,children:N.name},N.id))}),B?c.jsxs("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:["No se pudieron cargar los bancos.",c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>_(),children:"Reintentar"})]}):null]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:J,disabled:p,children:"Cancelar"}),c.jsx("button",{type:"button",className:"btn btn-primary",disabled:!k,onClick:D,children:p?"Guardando...":"Continuar"})]})]})})})]})}const cv=(t,a,r)=>{if(t&&"reportValidity"in t){const l=Oe(r,a);t.setCustomValidity(l&&l.message||""),t.reportValidity()}},Bf=(t,a)=>{for(const r in a.fields){const l=a.fields[r];l&&l.ref&&"reportValidity"in l.ref?cv(l.ref,r,t):l&&l.refs&&l.refs.forEach(o=>cv(o,r,t))}},uv=(t,a)=>{a.shouldUseNativeValidation&&Bf(t,a);const r={};for(const l in t){const o=Oe(a.fields,l),d=Object.assign(t[l]||{},{ref:o&&o.ref});if(jj(a.names||Object.keys(t),l)){const m=Object.assign({},Oe(r,l));yt(m,"root",d),yt(r,l,m)}else yt(r,l,d)}return r},jj=(t,a)=>{const r=dv(a);return t.some(l=>dv(l).match(`^${r}\\.\\d+`))};function dv(t){return t.replace(/\]|\[/g,"")}function ce(t,a,r){function l(h,y){var p;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(p=h._zod).traits??(p.traits=new Set),h._zod.traits.add(t),a(h,y);for(const v in m.prototype)v in h||Object.defineProperty(h,v,{value:m.prototype[v].bind(h)});h._zod.constr=m,h._zod.def=y}const o=r?.Parent??Object;class d extends o{}Object.defineProperty(d,"name",{value:t});function m(h){var y;const p=r?.Parent?new d:this;l(p,h),(y=p._zod).deferred??(y.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(m,"init",{value:l}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(m,"name",{value:t}),m}class Wr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class m0 extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const h0={};function rr(t){return h0}function Ej(t){const a=Object.values(t).filter(l=>typeof l=="number");return Object.entries(t).filter(([l,o])=>a.indexOf(+l)===-1).map(([l,o])=>o)}function Lf(t,a){return typeof a=="bigint"?a.toString():a}function gm(t){return{get value(){{const a=t();return Object.defineProperty(this,"value",{value:a}),a}}}}function ym(t){return t==null}function vm(t){const a=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(a,r)}function Aj(t,a){const r=(t.toString().split(".")[1]||"").length,l=a.toString();let o=(l.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(l)){const y=l.match(/\d?e-(\d?)/);y?.[1]&&(o=Number.parseInt(y[1]))}const d=r>o?r:o,m=Number.parseInt(t.toFixed(d).replace(".","")),h=Number.parseInt(a.toFixed(d).replace(".",""));return m%h/10**d}const fv=Symbol("evaluating");function jt(t,a,r){let l;Object.defineProperty(t,a,{get(){if(l!==fv)return l===void 0&&(l=fv,l=r()),l},set(o){Object.defineProperty(t,a,{value:o})},configurable:!0})}function cr(t,a,r){Object.defineProperty(t,a,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ur(...t){const a={};for(const r of t){const l=Object.getOwnPropertyDescriptors(r);Object.assign(a,l)}return Object.defineProperties({},a)}function mv(t){return JSON.stringify(t)}const p0="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function oc(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Oj=gm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function hi(t){if(oc(t)===!1)return!1;const a=t.constructor;if(a===void 0)return!0;const r=a.prototype;return!(oc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function g0(t){return hi(t)?{...t}:Array.isArray(t)?[...t]:t}const Cj=new Set(["string","number","symbol"]);function Nc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Cs(t,a,r){const l=new t._zod.constr(a??t._zod.def);return(!a||r?.parent)&&(l._zod.parent=t),l}function Ve(t){const a=t;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function Rj(t){return Object.keys(t).filter(a=>t[a]._zod.optin==="optional"&&t[a]._zod.optout==="optional")}const Tj={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function zj(t,a){const r=t._zod.def,l=ur(t._zod.def,{get shape(){const o={};for(const d in a){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(o[d]=r.shape[d])}return cr(this,"shape",o),o},checks:[]});return Cs(t,l)}function Dj(t,a){const r=t._zod.def,l=ur(t._zod.def,{get shape(){const o={...t._zod.def.shape};for(const d in a){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);a[d]&&delete o[d]}return cr(this,"shape",o),o},checks:[]});return Cs(t,l)}function Mj(t,a){if(!hi(a))throw new Error("Invalid input to extend: expected a plain object");const r=t._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=ur(t._zod.def,{get shape(){const d={...t._zod.def.shape,...a};return cr(this,"shape",d),d},checks:[]});return Cs(t,o)}function Uj(t,a){if(!hi(a))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...t._zod.def,get shape(){const l={...t._zod.def.shape,...a};return cr(this,"shape",l),l},checks:t._zod.def.checks};return Cs(t,r)}function kj(t,a){const r=ur(t._zod.def,{get shape(){const l={...t._zod.def.shape,...a._zod.def.shape};return cr(this,"shape",l),l},get catchall(){return a._zod.def.catchall},checks:[]});return Cs(t,r)}function qj(t,a,r){const l=ur(a._zod.def,{get shape(){const o=a._zod.def.shape,d={...o};if(r)for(const m in r){if(!(m in o))throw new Error(`Unrecognized key: "${m}"`);r[m]&&(d[m]=t?new t({type:"optional",innerType:o[m]}):o[m])}else for(const m in o)d[m]=t?new t({type:"optional",innerType:o[m]}):o[m];return cr(this,"shape",d),d},checks:[]});return Cs(a,l)}function Bj(t,a,r){const l=ur(a._zod.def,{get shape(){const o=a._zod.def.shape,d={...o};if(r)for(const m in r){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);r[m]&&(d[m]=new t({type:"nonoptional",innerType:o[m]}))}else for(const m in o)d[m]=new t({type:"nonoptional",innerType:o[m]});return cr(this,"shape",d),d},checks:[]});return Cs(a,l)}function Xr(t,a=0){if(t.aborted===!0)return!0;for(let r=a;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function y0(t,a){return a.map(r=>{var l;return(l=r).path??(l.path=[]),r.path.unshift(t),r})}function Zo(t){return typeof t=="string"?t:t?.message}function lr(t,a,r){const l={...t,path:t.path??[]};if(!t.message){const o=Zo(t.inst?._zod.def?.error?.(t))??Zo(a?.error?.(t))??Zo(r.customError?.(t))??Zo(r.localeError?.(t))??"Invalid input";l.message=o}return delete l.inst,delete l.continue,a?.reportInput||delete l.input,l}function bm(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function pi(...t){const[a,r,l]=t;return typeof a=="string"?{message:a,code:"custom",input:r,inst:l}:{...a}}const v0=(t,a)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:a,enumerable:!1}),t.message=JSON.stringify(a,Lf,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},xm=ce("$ZodError",v0),jc=ce("$ZodError",v0,{Parent:Error});function Lj(t,a=r=>r.message){const r={},l=[];for(const o of t.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(a(o))):l.push(a(o));return{formErrors:l,fieldErrors:r}}function Fj(t,a=r=>r.message){const r={_errors:[]},l=o=>{for(const d of o.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(m=>l({issues:m}));else if(d.code==="invalid_key")l({issues:d.issues});else if(d.code==="invalid_element")l({issues:d.issues});else if(d.path.length===0)r._errors.push(a(d));else{let m=r,h=0;for(;h<d.path.length;){const y=d.path[h];h===d.path.length-1?(m[y]=m[y]||{_errors:[]},m[y]._errors.push(a(d))):m[y]=m[y]||{_errors:[]},m=m[y],h++}}};return l(t),r}const Ec=t=>(a,r,l,o)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},m=a._zod.run({value:r,issues:[]},d);if(m instanceof Promise)throw new Wr;if(m.issues.length){const h=new(o?.Err??t)(m.issues.map(y=>lr(y,d,rr())));throw p0(h,o?.callee),h}return m.value},$j=Ec(jc),Ac=t=>async(a,r,l,o)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let m=a._zod.run({value:r,issues:[]},d);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(o?.Err??t)(m.issues.map(y=>lr(y,d,rr())));throw p0(h,o?.callee),h}return m.value},Vj=Ac(jc),Oc=t=>(a,r,l)=>{const o=l?{...l,async:!1}:{async:!1},d=a._zod.run({value:r,issues:[]},o);if(d instanceof Promise)throw new Wr;return d.issues.length?{success:!1,error:new(t??xm)(d.issues.map(m=>lr(m,o,rr())))}:{success:!0,data:d.value}},Hj=Oc(jc),Cc=t=>async(a,r,l)=>{const o=l?Object.assign(l,{async:!0}):{async:!0};let d=a._zod.run({value:r,issues:[]},o);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new t(d.issues.map(m=>lr(m,o,rr())))}:{success:!0,data:d.value}},Zj=Cc(jc),Ij=t=>(a,r,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Ec(t)(a,r,o)},Qj=t=>(a,r,l)=>Ec(t)(a,r,l),Gj=t=>async(a,r,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Ac(t)(a,r,o)},Yj=t=>async(a,r,l)=>Ac(t)(a,r,l),Kj=t=>(a,r,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Oc(t)(a,r,o)},Pj=t=>(a,r,l)=>Oc(t)(a,r,l),Xj=t=>async(a,r,l)=>{const o=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Cc(t)(a,r,o)},Jj=t=>async(a,r,l)=>Cc(t)(a,r,l),Wj=/^[cC][^\s-]{8,}$/,eE=/^[0-9a-z]+$/,tE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,nE=/^[0-9a-vA-V]{20}$/,aE=/^[A-Za-z0-9]{27}$/,sE=/^[a-zA-Z0-9_-]{21}$/,rE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,lE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,hv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,iE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,oE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function cE(){return new RegExp(oE,"u")}const uE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,fE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,mE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,b0=/^[A-Za-z0-9_-]*$/,pE=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,gE=/^\+(?:[0-9]){6,14}[0-9]$/,x0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",yE=new RegExp(`^${x0}$`);function S0(t){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${a}`:t.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${t.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function vE(t){return new RegExp(`^${S0(t)}$`)}function bE(t){const a=S0({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${a}(?:${r.join("|")})`;return new RegExp(`^${x0}T(?:${l})$`)}const xE=t=>{const a=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},SE=/^-?\d+$/,_E=/^-?\d+(?:\.\d+)?/,wE=/^[^A-Z]*$/,NE=/^[^a-z]*$/,Fn=ce("$ZodCheck",(t,a)=>{var r;t._zod??(t._zod={}),t._zod.def=a,(r=t._zod).onattach??(r.onattach=[])}),_0={number:"number",bigint:"bigint",object:"date"},w0=ce("$ZodCheckLessThan",(t,a)=>{Fn.init(t,a);const r=_0[typeof a.value];t._zod.onattach.push(l=>{const o=l._zod.bag,d=(a.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<d&&(a.inclusive?o.maximum=a.value:o.exclusiveMaximum=a.value)}),t._zod.check=l=>{(a.inclusive?l.value<=a.value:l.value<a.value)||l.issues.push({origin:r,code:"too_big",maximum:a.value,input:l.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),N0=ce("$ZodCheckGreaterThan",(t,a)=>{Fn.init(t,a);const r=_0[typeof a.value];t._zod.onattach.push(l=>{const o=l._zod.bag,d=(a.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>d&&(a.inclusive?o.minimum=a.value:o.exclusiveMinimum=a.value)}),t._zod.check=l=>{(a.inclusive?l.value>=a.value:l.value>a.value)||l.issues.push({origin:r,code:"too_small",minimum:a.value,input:l.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),jE=ce("$ZodCheckMultipleOf",(t,a)=>{Fn.init(t,a),t._zod.onattach.push(r=>{var l;(l=r._zod.bag).multipleOf??(l.multipleOf=a.value)}),t._zod.check=r=>{if(typeof r.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%a.value===BigInt(0):Aj(r.value,a.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:a.value,input:r.value,inst:t,continue:!a.abort})}}),EE=ce("$ZodCheckNumberFormat",(t,a)=>{Fn.init(t,a),a.format=a.format||"float64";const r=a.format?.includes("int"),l=r?"int":"number",[o,d]=Tj[a.format];t._zod.onattach.push(m=>{const h=m._zod.bag;h.format=a.format,h.minimum=o,h.maximum=d,r&&(h.pattern=SE)}),t._zod.check=m=>{const h=m.value;if(r){if(!Number.isInteger(h)){m.issues.push({expected:l,format:a.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:l,continue:!a.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:l,continue:!a.abort});return}}h<o&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:o,inclusive:!0,inst:t,continue:!a.abort}),h>d&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:d,inst:t})}}),AE=ce("$ZodCheckMaxLength",(t,a)=>{var r;Fn.init(t,a),(r=t._zod.def).when??(r.when=l=>{const o=l.value;return!ym(o)&&o.length!==void 0}),t._zod.onattach.push(l=>{const o=l._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<o&&(l._zod.bag.maximum=a.maximum)}),t._zod.check=l=>{const o=l.value;if(o.length<=a.maximum)return;const m=bm(o);l.issues.push({origin:m,code:"too_big",maximum:a.maximum,inclusive:!0,input:o,inst:t,continue:!a.abort})}}),OE=ce("$ZodCheckMinLength",(t,a)=>{var r;Fn.init(t,a),(r=t._zod.def).when??(r.when=l=>{const o=l.value;return!ym(o)&&o.length!==void 0}),t._zod.onattach.push(l=>{const o=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>o&&(l._zod.bag.minimum=a.minimum)}),t._zod.check=l=>{const o=l.value;if(o.length>=a.minimum)return;const m=bm(o);l.issues.push({origin:m,code:"too_small",minimum:a.minimum,inclusive:!0,input:o,inst:t,continue:!a.abort})}}),CE=ce("$ZodCheckLengthEquals",(t,a)=>{var r;Fn.init(t,a),(r=t._zod.def).when??(r.when=l=>{const o=l.value;return!ym(o)&&o.length!==void 0}),t._zod.onattach.push(l=>{const o=l._zod.bag;o.minimum=a.length,o.maximum=a.length,o.length=a.length}),t._zod.check=l=>{const o=l.value,d=o.length;if(d===a.length)return;const m=bm(o),h=d>a.length;l.issues.push({origin:m,...h?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:l.value,inst:t,continue:!a.abort})}}),Rc=ce("$ZodCheckStringFormat",(t,a)=>{var r,l;Fn.init(t,a),t._zod.onattach.push(o=>{const d=o._zod.bag;d.format=a.format,a.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(a.pattern))}),a.pattern?(r=t._zod).check??(r.check=o=>{a.pattern.lastIndex=0,!a.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:a.format,input:o.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:t,continue:!a.abort})}):(l=t._zod).check??(l.check=()=>{})}),RE=ce("$ZodCheckRegex",(t,a)=>{Rc.init(t,a),t._zod.check=r=>{a.pattern.lastIndex=0,!a.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:a.pattern.toString(),inst:t,continue:!a.abort})}}),TE=ce("$ZodCheckLowerCase",(t,a)=>{a.pattern??(a.pattern=wE),Rc.init(t,a)}),zE=ce("$ZodCheckUpperCase",(t,a)=>{a.pattern??(a.pattern=NE),Rc.init(t,a)}),DE=ce("$ZodCheckIncludes",(t,a)=>{Fn.init(t,a);const r=Nc(a.includes),l=new RegExp(typeof a.position=="number"?`^.{${a.position}}${r}`:r);a.pattern=l,t._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),t._zod.check=o=>{o.value.includes(a.includes,a.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:o.value,inst:t,continue:!a.abort})}}),ME=ce("$ZodCheckStartsWith",(t,a)=>{Fn.init(t,a);const r=new RegExp(`^${Nc(a.prefix)}.*`);a.pattern??(a.pattern=r),t._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=l=>{l.value.startsWith(a.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:l.value,inst:t,continue:!a.abort})}}),UE=ce("$ZodCheckEndsWith",(t,a)=>{Fn.init(t,a);const r=new RegExp(`.*${Nc(a.suffix)}$`);a.pattern??(a.pattern=r),t._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=l=>{l.value.endsWith(a.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:l.value,inst:t,continue:!a.abort})}}),kE=ce("$ZodCheckOverwrite",(t,a)=>{Fn.init(t,a),t._zod.check=r=>{r.value=a.tx(r.value)}});class qE{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const l=a.split(`
`).filter(m=>m),o=Math.min(...l.map(m=>m.length-m.trimStart().length)),d=l.map(m=>m.slice(o)).map(m=>" ".repeat(this.indent*2)+m);for(const m of d)this.content.push(m)}compile(){const a=Function,r=this?.args,o=[...(this?.content??[""]).map(d=>`  ${d}`)];return new a(...r,o.join(`
`))}}const BE={major:4,minor:1,patch:12},sn=ce("$ZodType",(t,a)=>{var r;t??(t={}),t._zod.def=a,t._zod.bag=t._zod.bag||{},t._zod.version=BE;const l=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&l.unshift(t);for(const o of l)for(const d of o._zod.onattach)d(t);if(l.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const o=(m,h,y)=>{let p=Xr(m),v;for(const S of h){if(S._zod.def.when){if(!S._zod.def.when(m))continue}else if(p)continue;const w=m.issues.length,B=S._zod.check(m);if(B instanceof Promise&&y?.async===!1)throw new Wr;if(v||B instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await B,m.issues.length!==w&&(p||(p=Xr(m,w)))});else{if(m.issues.length===w)continue;p||(p=Xr(m,w))}}return v?v.then(()=>m):m},d=(m,h,y)=>{if(Xr(m))return m.aborted=!0,m;const p=o(h,l,y);if(p instanceof Promise){if(y.async===!1)throw new Wr;return p.then(v=>t._zod.parse(v,y))}return t._zod.parse(p,y)};t._zod.run=(m,h)=>{if(h.skipChecks)return t._zod.parse(m,h);if(h.direction==="backward"){const p=t._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>d(v,m,h)):d(p,m,h)}const y=t._zod.parse(m,h);if(y instanceof Promise){if(h.async===!1)throw new Wr;return y.then(p=>o(p,l,h))}return o(y,l,h)}}t["~standard"]={validate:o=>{try{const d=Hj(t,o);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return Zj(t,o).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Sm=ce("$ZodString",(t,a)=>{sn.init(t,a),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??xE(t._zod.bag),t._zod.parse=(r,l)=>{if(a.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Mt=ce("$ZodStringFormat",(t,a)=>{Rc.init(t,a),Sm.init(t,a)}),LE=ce("$ZodGUID",(t,a)=>{a.pattern??(a.pattern=lE),Mt.init(t,a)}),FE=ce("$ZodUUID",(t,a)=>{if(a.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(l===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=hv(l))}else a.pattern??(a.pattern=hv());Mt.init(t,a)}),$E=ce("$ZodEmail",(t,a)=>{a.pattern??(a.pattern=iE),Mt.init(t,a)}),VE=ce("$ZodURL",(t,a)=>{Mt.init(t,a),t._zod.check=r=>{try{const l=r.value.trim(),o=new URL(l);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:pE.source,input:r.value,inst:t,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:r.value,inst:t,continue:!a.abort})),a.normalize?r.value=o.href:r.value=l;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!a.abort})}}}),HE=ce("$ZodEmoji",(t,a)=>{a.pattern??(a.pattern=cE()),Mt.init(t,a)}),ZE=ce("$ZodNanoID",(t,a)=>{a.pattern??(a.pattern=sE),Mt.init(t,a)}),IE=ce("$ZodCUID",(t,a)=>{a.pattern??(a.pattern=Wj),Mt.init(t,a)}),QE=ce("$ZodCUID2",(t,a)=>{a.pattern??(a.pattern=eE),Mt.init(t,a)}),GE=ce("$ZodULID",(t,a)=>{a.pattern??(a.pattern=tE),Mt.init(t,a)}),YE=ce("$ZodXID",(t,a)=>{a.pattern??(a.pattern=nE),Mt.init(t,a)}),KE=ce("$ZodKSUID",(t,a)=>{a.pattern??(a.pattern=aE),Mt.init(t,a)}),PE=ce("$ZodISODateTime",(t,a)=>{a.pattern??(a.pattern=bE(a)),Mt.init(t,a)}),XE=ce("$ZodISODate",(t,a)=>{a.pattern??(a.pattern=yE),Mt.init(t,a)}),JE=ce("$ZodISOTime",(t,a)=>{a.pattern??(a.pattern=vE(a)),Mt.init(t,a)}),WE=ce("$ZodISODuration",(t,a)=>{a.pattern??(a.pattern=rE),Mt.init(t,a)}),eA=ce("$ZodIPv4",(t,a)=>{a.pattern??(a.pattern=uE),Mt.init(t,a),t._zod.onattach.push(r=>{const l=r._zod.bag;l.format="ipv4"})}),tA=ce("$ZodIPv6",(t,a)=>{a.pattern??(a.pattern=dE),Mt.init(t,a),t._zod.onattach.push(r=>{const l=r._zod.bag;l.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!a.abort})}}}),nA=ce("$ZodCIDRv4",(t,a)=>{a.pattern??(a.pattern=fE),Mt.init(t,a)}),aA=ce("$ZodCIDRv6",(t,a)=>{a.pattern??(a.pattern=mE),Mt.init(t,a),t._zod.check=r=>{const l=r.value.split("/");try{if(l.length!==2)throw new Error;const[o,d]=l;if(!d)throw new Error;const m=Number(d);if(`${m}`!==d)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!a.abort})}}});function j0(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const sA=ce("$ZodBase64",(t,a)=>{a.pattern??(a.pattern=hE),Mt.init(t,a),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{j0(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!a.abort})}});function rA(t){if(!b0.test(t))return!1;const a=t.replace(/[-_]/g,l=>l==="-"?"+":"/"),r=a.padEnd(Math.ceil(a.length/4)*4,"=");return j0(r)}const lA=ce("$ZodBase64URL",(t,a)=>{a.pattern??(a.pattern=b0),Mt.init(t,a),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{rA(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!a.abort})}}),iA=ce("$ZodE164",(t,a)=>{a.pattern??(a.pattern=gE),Mt.init(t,a)});function oA(t,a=null){try{const r=t.split(".");if(r.length!==3)return!1;const[l]=r;if(!l)return!1;const o=JSON.parse(atob(l));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||a&&(!("alg"in o)||o.alg!==a))}catch{return!1}}const cA=ce("$ZodJWT",(t,a)=>{Mt.init(t,a),t._zod.check=r=>{oA(r.value,a.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!a.abort})}}),E0=ce("$ZodNumber",(t,a)=>{sn.init(t,a),t._zod.pattern=t._zod.bag.pattern??_E,t._zod.parse=(r,l)=>{if(a.coerce)try{r.value=Number(r.value)}catch{}const o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;const d=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...d?{received:d}:{}}),r}}),uA=ce("$ZodNumber",(t,a)=>{EE.init(t,a),E0.init(t,a)}),dA=ce("$ZodUnknown",(t,a)=>{sn.init(t,a),t._zod.parse=r=>r}),fA=ce("$ZodNever",(t,a)=>{sn.init(t,a),t._zod.parse=(r,l)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function pv(t,a,r){t.issues.length&&a.issues.push(...y0(r,t.issues)),a.value[r]=t.value}const mA=ce("$ZodArray",(t,a)=>{sn.init(t,a),t._zod.parse=(r,l)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),r;r.value=Array(o.length);const d=[];for(let m=0;m<o.length;m++){const h=o[m],y=a.element._zod.run({value:h,issues:[]},l);y instanceof Promise?d.push(y.then(p=>pv(p,r,m))):pv(y,r,m)}return d.length?Promise.all(d).then(()=>r):r}});function cc(t,a,r,l){t.issues.length&&a.issues.push(...y0(r,t.issues)),t.value===void 0?r in l&&(a.value[r]=void 0):a.value[r]=t.value}function A0(t){const a=Object.keys(t.shape);for(const l of a)if(!t.shape?.[l]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const r=Rj(t.shape);return{...t,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(r)}}function O0(t,a,r,l,o,d){const m=[],h=o.keySet,y=o.catchall._zod,p=y.def.type;for(const v of Object.keys(a)){if(h.has(v))continue;if(p==="never"){m.push(v);continue}const S=y.run({value:a[v],issues:[]},l);S instanceof Promise?t.push(S.then(w=>cc(w,r,v,a))):cc(S,r,v,a)}return m.length&&r.issues.push({code:"unrecognized_keys",keys:m,input:a,inst:d}),t.length?Promise.all(t).then(()=>r):r}const hA=ce("$ZodObject",(t,a)=>{if(sn.init(t,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const h=a.shape;Object.defineProperty(a,"shape",{get:()=>{const y={...h};return Object.defineProperty(a,"shape",{value:y}),y}})}const l=gm(()=>A0(a));jt(t._zod,"propValues",()=>{const h=a.shape,y={};for(const p in h){const v=h[p]._zod;if(v.values){y[p]??(y[p]=new Set);for(const S of v.values)y[p].add(S)}}return y});const o=oc,d=a.catchall;let m;t._zod.parse=(h,y)=>{m??(m=l.value);const p=h.value;if(!o(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),h;h.value={};const v=[],S=m.shape;for(const w of m.keys){const _=S[w]._zod.run({value:p[w],issues:[]},y);_ instanceof Promise?v.push(_.then(O=>cc(O,h,w,p))):cc(_,h,w,p)}return d?O0(v,p,h,y,l.value,t):v.length?Promise.all(v).then(()=>h):h}}),pA=ce("$ZodObjectJIT",(t,a)=>{hA.init(t,a);const r=t._zod.parse,l=gm(()=>A0(a)),o=w=>{const B=new qE(["shape","payload","ctx"]),_=l.value,O=J=>{const N=mv(J);return`shape[${N}]._zod.run({ value: input[${N}], issues: [] }, ctx)`};B.write("const input = payload.value;");const A=Object.create(null);let k=0;for(const J of _.keys)A[J]=`key_${k++}`;B.write("const newResult = {};");for(const J of _.keys){const N=A[J],R=mv(J);B.write(`const ${N} = ${O(J)};`),B.write(`
        if (${N}.issues.length) {
          payload.issues = payload.issues.concat(${N}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        
        if (${N}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${N}.value;
        }
        
      `)}B.write("payload.value = newResult;"),B.write("return payload;");const D=B.compile();return(J,N)=>D(w,J,N)};let d;const m=oc,h=!h0.jitless,p=h&&Oj.value,v=a.catchall;let S;t._zod.parse=(w,B)=>{S??(S=l.value);const _=w.value;return m(_)?h&&p&&B?.async===!1&&B.jitless!==!0?(d||(d=o(a.shape)),w=d(w,B),v?O0([],_,w,B,S,t):w):r(w,B):(w.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),w)}});function gv(t,a,r,l){for(const d of t)if(d.issues.length===0)return a.value=d.value,a;const o=t.filter(d=>!Xr(d));return o.length===1?(a.value=o[0].value,o[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:r,errors:t.map(d=>d.issues.map(m=>lr(m,l,rr())))}),a)}const gA=ce("$ZodUnion",(t,a)=>{sn.init(t,a),jt(t._zod,"optin",()=>a.options.some(o=>o._zod.optin==="optional")?"optional":void 0),jt(t._zod,"optout",()=>a.options.some(o=>o._zod.optout==="optional")?"optional":void 0),jt(t._zod,"values",()=>{if(a.options.every(o=>o._zod.values))return new Set(a.options.flatMap(o=>Array.from(o._zod.values)))}),jt(t._zod,"pattern",()=>{if(a.options.every(o=>o._zod.pattern)){const o=a.options.map(d=>d._zod.pattern);return new RegExp(`^(${o.map(d=>vm(d.source)).join("|")})$`)}});const r=a.options.length===1,l=a.options[0]._zod.run;t._zod.parse=(o,d)=>{if(r)return l(o,d);let m=!1;const h=[];for(const y of a.options){const p=y._zod.run({value:o.value,issues:[]},d);if(p instanceof Promise)h.push(p),m=!0;else{if(p.issues.length===0)return p;h.push(p)}}return m?Promise.all(h).then(y=>gv(y,o,t,d)):gv(h,o,t,d)}}),yA=ce("$ZodIntersection",(t,a)=>{sn.init(t,a),t._zod.parse=(r,l)=>{const o=r.value,d=a.left._zod.run({value:o,issues:[]},l),m=a.right._zod.run({value:o,issues:[]},l);return d instanceof Promise||m instanceof Promise?Promise.all([d,m]).then(([y,p])=>yv(r,y,p)):yv(r,d,m)}});function Ff(t,a){if(t===a)return{valid:!0,data:t};if(t instanceof Date&&a instanceof Date&&+t==+a)return{valid:!0,data:t};if(hi(t)&&hi(a)){const r=Object.keys(a),l=Object.keys(t).filter(d=>r.indexOf(d)!==-1),o={...t,...a};for(const d of l){const m=Ff(t[d],a[d]);if(!m.valid)return{valid:!1,mergeErrorPath:[d,...m.mergeErrorPath]};o[d]=m.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(a)){if(t.length!==a.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let l=0;l<t.length;l++){const o=t[l],d=a[l],m=Ff(o,d);if(!m.valid)return{valid:!1,mergeErrorPath:[l,...m.mergeErrorPath]};r.push(m.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function yv(t,a,r){if(a.issues.length&&t.issues.push(...a.issues),r.issues.length&&t.issues.push(...r.issues),Xr(t))return t;const l=Ff(a.value,r.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return t.value=l.data,t}const vA=ce("$ZodEnum",(t,a)=>{sn.init(t,a);const r=Ej(a.entries),l=new Set(r);t._zod.values=l,t._zod.pattern=new RegExp(`^(${r.filter(o=>Cj.has(typeof o)).map(o=>typeof o=="string"?Nc(o):o.toString()).join("|")})$`),t._zod.parse=(o,d)=>{const m=o.value;return l.has(m)||o.issues.push({code:"invalid_value",values:r,input:m,inst:t}),o}}),bA=ce("$ZodTransform",(t,a)=>{sn.init(t,a),t._zod.parse=(r,l)=>{if(l.direction==="backward")throw new m0(t.constructor.name);const o=a.transform(r.value,r);if(l.async)return(o instanceof Promise?o:Promise.resolve(o)).then(m=>(r.value=m,r));if(o instanceof Promise)throw new Wr;return r.value=o,r}});function vv(t,a){return t.issues.length&&a===void 0?{issues:[],value:void 0}:t}const xA=ce("$ZodOptional",(t,a)=>{sn.init(t,a),t._zod.optin="optional",t._zod.optout="optional",jt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),jt(t._zod,"pattern",()=>{const r=a.innerType._zod.pattern;return r?new RegExp(`^(${vm(r.source)})?$`):void 0}),t._zod.parse=(r,l)=>{if(a.innerType._zod.optin==="optional"){const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>vv(d,r.value)):vv(o,r.value)}return r.value===void 0?r:a.innerType._zod.run(r,l)}}),SA=ce("$ZodNullable",(t,a)=>{sn.init(t,a),jt(t._zod,"optin",()=>a.innerType._zod.optin),jt(t._zod,"optout",()=>a.innerType._zod.optout),jt(t._zod,"pattern",()=>{const r=a.innerType._zod.pattern;return r?new RegExp(`^(${vm(r.source)}|null)$`):void 0}),jt(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),t._zod.parse=(r,l)=>r.value===null?r:a.innerType._zod.run(r,l)}),_A=ce("$ZodDefault",(t,a)=>{sn.init(t,a),t._zod.optin="optional",jt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(r,l)=>{if(l.direction==="backward")return a.innerType._zod.run(r,l);if(r.value===void 0)return r.value=a.defaultValue,r;const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>bv(d,a)):bv(o,a)}});function bv(t,a){return t.value===void 0&&(t.value=a.defaultValue),t}const wA=ce("$ZodPrefault",(t,a)=>{sn.init(t,a),t._zod.optin="optional",jt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(r,l)=>(l.direction==="backward"||r.value===void 0&&(r.value=a.defaultValue),a.innerType._zod.run(r,l))}),NA=ce("$ZodNonOptional",(t,a)=>{sn.init(t,a),jt(t._zod,"values",()=>{const r=a.innerType._zod.values;return r?new Set([...r].filter(l=>l!==void 0)):void 0}),t._zod.parse=(r,l)=>{const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>xv(d,t)):xv(o,t)}});function xv(t,a){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:a}),t}const jA=ce("$ZodCatch",(t,a)=>{sn.init(t,a),jt(t._zod,"optin",()=>a.innerType._zod.optin),jt(t._zod,"optout",()=>a.innerType._zod.optout),jt(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(r,l)=>{if(l.direction==="backward")return a.innerType._zod.run(r,l);const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>(r.value=d.value,d.issues.length&&(r.value=a.catchValue({...r,error:{issues:d.issues.map(m=>lr(m,l,rr()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=a.catchValue({...r,error:{issues:o.issues.map(d=>lr(d,l,rr()))},input:r.value}),r.issues=[]),r)}}),EA=ce("$ZodPipe",(t,a)=>{sn.init(t,a),jt(t._zod,"values",()=>a.in._zod.values),jt(t._zod,"optin",()=>a.in._zod.optin),jt(t._zod,"optout",()=>a.out._zod.optout),jt(t._zod,"propValues",()=>a.in._zod.propValues),t._zod.parse=(r,l)=>{if(l.direction==="backward"){const d=a.out._zod.run(r,l);return d instanceof Promise?d.then(m=>Io(m,a.in,l)):Io(d,a.in,l)}const o=a.in._zod.run(r,l);return o instanceof Promise?o.then(d=>Io(d,a.out,l)):Io(o,a.out,l)}});function Io(t,a,r){return t.issues.length?(t.aborted=!0,t):a._zod.run({value:t.value,issues:t.issues},r)}const AA=ce("$ZodReadonly",(t,a)=>{sn.init(t,a),jt(t._zod,"propValues",()=>a.innerType._zod.propValues),jt(t._zod,"values",()=>a.innerType._zod.values),jt(t._zod,"optin",()=>a.innerType._zod.optin),jt(t._zod,"optout",()=>a.innerType._zod.optout),t._zod.parse=(r,l)=>{if(l.direction==="backward")return a.innerType._zod.run(r,l);const o=a.innerType._zod.run(r,l);return o instanceof Promise?o.then(Sv):Sv(o)}});function Sv(t){return t.value=Object.freeze(t.value),t}const OA=ce("$ZodCustom",(t,a)=>{Fn.init(t,a),sn.init(t,a),t._zod.parse=(r,l)=>r,t._zod.check=r=>{const l=r.value,o=a.fn(l);if(o instanceof Promise)return o.then(d=>_v(d,r,l,t));_v(o,r,l,t)}});function _v(t,a,r,l){if(!t){const o={code:"custom",input:r,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(o.params=l._zod.def.params),a.issues.push(pi(o))}}class CA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...r){const l=r[0];if(this._map.set(a,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,a)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const r=this._map.get(a);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(a),this}get(a){const r=a._zod.parent;if(r){const l={...this.get(r)??{}};delete l.id;const o={...l,...this._map.get(a)};return Object.keys(o).length?o:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function RA(){return new CA}const Qo=RA();function TA(t,a){return new t({type:"string",...Ve(a)})}function zA(t,a){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ve(a)})}function wv(t,a){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(a)})}function DA(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(a)})}function MA(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(a)})}function UA(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(a)})}function kA(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(a)})}function qA(t,a){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ve(a)})}function BA(t,a){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(a)})}function LA(t,a){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(a)})}function FA(t,a){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(a)})}function $A(t,a){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(a)})}function VA(t,a){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(a)})}function HA(t,a){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(a)})}function ZA(t,a){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(a)})}function IA(t,a){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(a)})}function QA(t,a){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(a)})}function GA(t,a){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(a)})}function YA(t,a){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(a)})}function KA(t,a){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(a)})}function PA(t,a){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(a)})}function XA(t,a){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(a)})}function JA(t,a){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(a)})}function WA(t,a){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(a)})}function eO(t,a){return new t({type:"string",format:"date",check:"string_format",...Ve(a)})}function tO(t,a){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ve(a)})}function nO(t,a){return new t({type:"string",format:"duration",check:"string_format",...Ve(a)})}function aO(t,a){return new t({type:"number",checks:[],...Ve(a)})}function sO(t,a){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ve(a)})}function rO(t){return new t({type:"unknown"})}function lO(t,a){return new t({type:"never",...Ve(a)})}function Nv(t,a){return new w0({check:"less_than",...Ve(a),value:t,inclusive:!1})}function lf(t,a){return new w0({check:"less_than",...Ve(a),value:t,inclusive:!0})}function jv(t,a){return new N0({check:"greater_than",...Ve(a),value:t,inclusive:!1})}function of(t,a){return new N0({check:"greater_than",...Ve(a),value:t,inclusive:!0})}function Ev(t,a){return new jE({check:"multiple_of",...Ve(a),value:t})}function C0(t,a){return new AE({check:"max_length",...Ve(a),maximum:t})}function uc(t,a){return new OE({check:"min_length",...Ve(a),minimum:t})}function R0(t,a){return new CE({check:"length_equals",...Ve(a),length:t})}function iO(t,a){return new RE({check:"string_format",format:"regex",...Ve(a),pattern:t})}function oO(t){return new TE({check:"string_format",format:"lowercase",...Ve(t)})}function cO(t){return new zE({check:"string_format",format:"uppercase",...Ve(t)})}function uO(t,a){return new DE({check:"string_format",format:"includes",...Ve(a),includes:t})}function dO(t,a){return new ME({check:"string_format",format:"starts_with",...Ve(a),prefix:t})}function fO(t,a){return new UE({check:"string_format",format:"ends_with",...Ve(a),suffix:t})}function Ei(t){return new kE({check:"overwrite",tx:t})}function mO(t){return Ei(a=>a.normalize(t))}function hO(){return Ei(t=>t.trim())}function pO(){return Ei(t=>t.toLowerCase())}function gO(){return Ei(t=>t.toUpperCase())}function yO(t,a,r){return new t({type:"array",element:a,...Ve(r)})}function vO(t,a,r){return new t({type:"custom",check:"custom",fn:a,...Ve(r)})}function bO(t){const a=xO(r=>(r.addIssue=l=>{if(typeof l=="string")r.issues.push(pi(l,r.value,a._zod.def));else{const o=l;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=a),o.continue??(o.continue=!a._zod.def.abort),r.issues.push(pi(o))}},t(r.value,r)));return a}function xO(t,a){const r=new Fn({check:"custom",...Ve(a)});return r._zod.check=t,r}function Av(t,a){try{var r=t()}catch(l){return a(l)}return r&&r.then?r.then(void 0,a):r}function SO(t,a){for(var r={};t.length;){var l=t[0],o=l.code,d=l.message,m=l.path.join(".");if(!r[m])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];r[m]={message:h.message,type:h.code}}else r[m]={message:d,type:o};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(S){return t.push(S)})}),a){var y=r[m].types,p=y&&y[l.code];r[m]=lm(m,a,r,o,p?[].concat(p,l.message):l.message)}t.shift()}return r}function _O(t,a){for(var r={};t.length;){var l=t[0],o=l.code,d=l.message,m=l.path.join(".");if(!r[m])if(l.code==="invalid_union"&&l.errors.length>0){var h=l.errors[0][0];r[m]={message:h.message,type:h.code}}else r[m]={message:d,type:o};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(S){return t.push(S)})}),a){var y=r[m].types,p=y&&y[l.code];r[m]=lm(m,a,r,o,p?[].concat(p,l.message):l.message)}t.shift()}return r}function wO(t,a,r){if(r===void 0&&(r={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(t))return function(l,o,d){try{return Promise.resolve(Av(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](l,a)).then(function(m){return d.shouldUseNativeValidation&&Bf({},d),{errors:{},values:r.raw?Object.assign({},l):m}})},function(m){if((function(h){return Array.isArray(h?.issues)})(m))return{values:{},errors:uv(SO(m.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(t))return function(l,o,d){try{return Promise.resolve(Av(function(){return Promise.resolve((r.mode==="sync"?$j:Vj)(t,l,a)).then(function(m){return d.shouldUseNativeValidation&&Bf({},d),{errors:{},values:r.raw?Object.assign({},l):m}})},function(m){if((function(h){return h instanceof xm})(m))return{values:{},errors:uv(_O(m.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw m}))}catch(m){return Promise.reject(m)}};throw new Error("Invalid input: not a Zod schema")}const NO=ce("ZodISODateTime",(t,a)=>{PE.init(t,a),Lt.init(t,a)});function jO(t){return WA(NO,t)}const EO=ce("ZodISODate",(t,a)=>{XE.init(t,a),Lt.init(t,a)});function AO(t){return eO(EO,t)}const OO=ce("ZodISOTime",(t,a)=>{JE.init(t,a),Lt.init(t,a)});function CO(t){return tO(OO,t)}const RO=ce("ZodISODuration",(t,a)=>{WE.init(t,a),Lt.init(t,a)});function TO(t){return nO(RO,t)}const zO=(t,a)=>{xm.init(t,a),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>Fj(t,r)},flatten:{value:r=>Lj(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,Lf,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,Lf,2)}},isEmpty:{get(){return t.issues.length===0}}})},ua=ce("ZodError",zO,{Parent:Error}),DO=Ec(ua),MO=Ac(ua),UO=Oc(ua),kO=Cc(ua),qO=Ij(ua),BO=Qj(ua),LO=Gj(ua),FO=Yj(ua),$O=Kj(ua),VO=Pj(ua),HO=Xj(ua),ZO=Jj(ua),cn=ce("ZodType",(t,a)=>(sn.init(t,a),t.def=a,t.type=a.type,Object.defineProperty(t,"_def",{value:a}),t.check=(...r)=>t.clone(ur(a,{checks:[...a.checks??[],...r.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),t.clone=(r,l)=>Cs(t,r,l),t.brand=()=>t,t.register=((r,l)=>(r.add(t,l),t)),t.parse=(r,l)=>DO(t,r,l,{callee:t.parse}),t.safeParse=(r,l)=>UO(t,r,l),t.parseAsync=async(r,l)=>MO(t,r,l,{callee:t.parseAsync}),t.safeParseAsync=async(r,l)=>kO(t,r,l),t.spa=t.safeParseAsync,t.encode=(r,l)=>qO(t,r,l),t.decode=(r,l)=>BO(t,r,l),t.encodeAsync=async(r,l)=>LO(t,r,l),t.decodeAsync=async(r,l)=>FO(t,r,l),t.safeEncode=(r,l)=>$O(t,r,l),t.safeDecode=(r,l)=>VO(t,r,l),t.safeEncodeAsync=async(r,l)=>HO(t,r,l),t.safeDecodeAsync=async(r,l)=>ZO(t,r,l),t.refine=(r,l)=>t.check(DC(r,l)),t.superRefine=r=>t.check(MC(r)),t.overwrite=r=>t.check(Ei(r)),t.optional=()=>Tv(t),t.nullable=()=>zv(t),t.nullish=()=>Tv(zv(t)),t.nonoptional=r=>EC(t,r),t.array=()=>D0(t),t.or=r=>gC([t,r]),t.and=r=>vC(t,r),t.transform=r=>Dv(t,xC(r)),t.default=r=>wC(t,r),t.prefault=r=>jC(t,r),t.catch=r=>OC(t,r),t.pipe=r=>Dv(t,r),t.readonly=()=>TC(t),t.describe=r=>{const l=t.clone();return Qo.add(l,{description:r}),l},Object.defineProperty(t,"description",{get(){return Qo.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return Qo.get(t);const l=t.clone();return Qo.add(l,r[0]),l},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),T0=ce("_ZodString",(t,a)=>{Sm.init(t,a),cn.init(t,a);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...l)=>t.check(iO(...l)),t.includes=(...l)=>t.check(uO(...l)),t.startsWith=(...l)=>t.check(dO(...l)),t.endsWith=(...l)=>t.check(fO(...l)),t.min=(...l)=>t.check(uc(...l)),t.max=(...l)=>t.check(C0(...l)),t.length=(...l)=>t.check(R0(...l)),t.nonempty=(...l)=>t.check(uc(1,...l)),t.lowercase=l=>t.check(oO(l)),t.uppercase=l=>t.check(cO(l)),t.trim=()=>t.check(hO()),t.normalize=(...l)=>t.check(mO(...l)),t.toLowerCase=()=>t.check(pO()),t.toUpperCase=()=>t.check(gO())}),IO=ce("ZodString",(t,a)=>{Sm.init(t,a),T0.init(t,a),t.email=r=>t.check(zA(QO,r)),t.url=r=>t.check(qA(GO,r)),t.jwt=r=>t.check(JA(oC,r)),t.emoji=r=>t.check(BA(YO,r)),t.guid=r=>t.check(wv(Ov,r)),t.uuid=r=>t.check(DA(Go,r)),t.uuidv4=r=>t.check(MA(Go,r)),t.uuidv6=r=>t.check(UA(Go,r)),t.uuidv7=r=>t.check(kA(Go,r)),t.nanoid=r=>t.check(LA(KO,r)),t.guid=r=>t.check(wv(Ov,r)),t.cuid=r=>t.check(FA(PO,r)),t.cuid2=r=>t.check($A(XO,r)),t.ulid=r=>t.check(VA(JO,r)),t.base64=r=>t.check(KA(rC,r)),t.base64url=r=>t.check(PA(lC,r)),t.xid=r=>t.check(HA(WO,r)),t.ksuid=r=>t.check(ZA(eC,r)),t.ipv4=r=>t.check(IA(tC,r)),t.ipv6=r=>t.check(QA(nC,r)),t.cidrv4=r=>t.check(GA(aC,r)),t.cidrv6=r=>t.check(YA(sC,r)),t.e164=r=>t.check(XA(iC,r)),t.datetime=r=>t.check(jO(r)),t.date=r=>t.check(AO(r)),t.time=r=>t.check(CO(r)),t.duration=r=>t.check(TO(r))});function dc(t){return TA(IO,t)}const Lt=ce("ZodStringFormat",(t,a)=>{Mt.init(t,a),T0.init(t,a)}),QO=ce("ZodEmail",(t,a)=>{$E.init(t,a),Lt.init(t,a)}),Ov=ce("ZodGUID",(t,a)=>{LE.init(t,a),Lt.init(t,a)}),Go=ce("ZodUUID",(t,a)=>{FE.init(t,a),Lt.init(t,a)}),GO=ce("ZodURL",(t,a)=>{VE.init(t,a),Lt.init(t,a)}),YO=ce("ZodEmoji",(t,a)=>{HE.init(t,a),Lt.init(t,a)}),KO=ce("ZodNanoID",(t,a)=>{ZE.init(t,a),Lt.init(t,a)}),PO=ce("ZodCUID",(t,a)=>{IE.init(t,a),Lt.init(t,a)}),XO=ce("ZodCUID2",(t,a)=>{QE.init(t,a),Lt.init(t,a)}),JO=ce("ZodULID",(t,a)=>{GE.init(t,a),Lt.init(t,a)}),WO=ce("ZodXID",(t,a)=>{YE.init(t,a),Lt.init(t,a)}),eC=ce("ZodKSUID",(t,a)=>{KE.init(t,a),Lt.init(t,a)}),tC=ce("ZodIPv4",(t,a)=>{eA.init(t,a),Lt.init(t,a)}),nC=ce("ZodIPv6",(t,a)=>{tA.init(t,a),Lt.init(t,a)}),aC=ce("ZodCIDRv4",(t,a)=>{nA.init(t,a),Lt.init(t,a)}),sC=ce("ZodCIDRv6",(t,a)=>{aA.init(t,a),Lt.init(t,a)}),rC=ce("ZodBase64",(t,a)=>{sA.init(t,a),Lt.init(t,a)}),lC=ce("ZodBase64URL",(t,a)=>{lA.init(t,a),Lt.init(t,a)}),iC=ce("ZodE164",(t,a)=>{iA.init(t,a),Lt.init(t,a)}),oC=ce("ZodJWT",(t,a)=>{cA.init(t,a),Lt.init(t,a)}),z0=ce("ZodNumber",(t,a)=>{E0.init(t,a),cn.init(t,a),t.gt=(l,o)=>t.check(jv(l,o)),t.gte=(l,o)=>t.check(of(l,o)),t.min=(l,o)=>t.check(of(l,o)),t.lt=(l,o)=>t.check(Nv(l,o)),t.lte=(l,o)=>t.check(lf(l,o)),t.max=(l,o)=>t.check(lf(l,o)),t.int=l=>t.check(Cv(l)),t.safe=l=>t.check(Cv(l)),t.positive=l=>t.check(jv(0,l)),t.nonnegative=l=>t.check(of(0,l)),t.negative=l=>t.check(Nv(0,l)),t.nonpositive=l=>t.check(lf(0,l)),t.multipleOf=(l,o)=>t.check(Ev(l,o)),t.step=(l,o)=>t.check(Ev(l,o)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function En(t){return aO(z0,t)}const cC=ce("ZodNumberFormat",(t,a)=>{uA.init(t,a),z0.init(t,a)});function Cv(t){return sO(cC,t)}const uC=ce("ZodUnknown",(t,a)=>{dA.init(t,a),cn.init(t,a)});function Rv(){return rO(uC)}const dC=ce("ZodNever",(t,a)=>{fA.init(t,a),cn.init(t,a)});function fC(t){return lO(dC,t)}const mC=ce("ZodArray",(t,a)=>{mA.init(t,a),cn.init(t,a),t.element=a.element,t.min=(r,l)=>t.check(uc(r,l)),t.nonempty=r=>t.check(uc(1,r)),t.max=(r,l)=>t.check(C0(r,l)),t.length=(r,l)=>t.check(R0(r,l)),t.unwrap=()=>t.element});function D0(t,a){return yO(mC,t,a)}const hC=ce("ZodObject",(t,a)=>{pA.init(t,a),cn.init(t,a),jt(t,"shape",()=>a.shape),t.keyof=()=>M0(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Rv()}),t.loose=()=>t.clone({...t._zod.def,catchall:Rv()}),t.strict=()=>t.clone({...t._zod.def,catchall:fC()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>Mj(t,r),t.safeExtend=r=>Uj(t,r),t.merge=r=>kj(t,r),t.pick=r=>zj(t,r),t.omit=r=>Dj(t,r),t.partial=(...r)=>qj(U0,t,r[0]),t.required=(...r)=>Bj(k0,t,r[0])});function Tc(t,a){const r={type:"object",shape:t??{},...Ve(a)};return new hC(r)}const pC=ce("ZodUnion",(t,a)=>{gA.init(t,a),cn.init(t,a),t.options=a.options});function gC(t,a){return new pC({type:"union",options:t,...Ve(a)})}const yC=ce("ZodIntersection",(t,a)=>{yA.init(t,a),cn.init(t,a)});function vC(t,a){return new yC({type:"intersection",left:t,right:a})}const $f=ce("ZodEnum",(t,a)=>{vA.init(t,a),cn.init(t,a),t.enum=a.entries,t.options=Object.values(a.entries);const r=new Set(Object.keys(a.entries));t.extract=(l,o)=>{const d={};for(const m of l)if(r.has(m))d[m]=a.entries[m];else throw new Error(`Key ${m} not found in enum`);return new $f({...a,checks:[],...Ve(o),entries:d})},t.exclude=(l,o)=>{const d={...a.entries};for(const m of l)if(r.has(m))delete d[m];else throw new Error(`Key ${m} not found in enum`);return new $f({...a,checks:[],...Ve(o),entries:d})}});function M0(t,a){const r=Array.isArray(t)?Object.fromEntries(t.map(l=>[l,l])):t;return new $f({type:"enum",entries:r,...Ve(a)})}const bC=ce("ZodTransform",(t,a)=>{bA.init(t,a),cn.init(t,a),t._zod.parse=(r,l)=>{if(l.direction==="backward")throw new m0(t.constructor.name);r.addIssue=d=>{if(typeof d=="string")r.issues.push(pi(d,r.value,a));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=r.value),m.inst??(m.inst=t),r.issues.push(pi(m))}};const o=a.transform(r.value,r);return o instanceof Promise?o.then(d=>(r.value=d,r)):(r.value=o,r)}});function xC(t){return new bC({type:"transform",transform:t})}const U0=ce("ZodOptional",(t,a)=>{xA.init(t,a),cn.init(t,a),t.unwrap=()=>t._zod.def.innerType});function Tv(t){return new U0({type:"optional",innerType:t})}const SC=ce("ZodNullable",(t,a)=>{SA.init(t,a),cn.init(t,a),t.unwrap=()=>t._zod.def.innerType});function zv(t){return new SC({type:"nullable",innerType:t})}const _C=ce("ZodDefault",(t,a)=>{_A.init(t,a),cn.init(t,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function wC(t,a){return new _C({type:"default",innerType:t,get defaultValue(){return typeof a=="function"?a():g0(a)}})}const NC=ce("ZodPrefault",(t,a)=>{wA.init(t,a),cn.init(t,a),t.unwrap=()=>t._zod.def.innerType});function jC(t,a){return new NC({type:"prefault",innerType:t,get defaultValue(){return typeof a=="function"?a():g0(a)}})}const k0=ce("ZodNonOptional",(t,a)=>{NA.init(t,a),cn.init(t,a),t.unwrap=()=>t._zod.def.innerType});function EC(t,a){return new k0({type:"nonoptional",innerType:t,...Ve(a)})}const AC=ce("ZodCatch",(t,a)=>{jA.init(t,a),cn.init(t,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function OC(t,a){return new AC({type:"catch",innerType:t,catchValue:typeof a=="function"?a:()=>a})}const CC=ce("ZodPipe",(t,a)=>{EA.init(t,a),cn.init(t,a),t.in=a.in,t.out=a.out});function Dv(t,a){return new CC({type:"pipe",in:t,out:a})}const RC=ce("ZodReadonly",(t,a)=>{AA.init(t,a),cn.init(t,a),t.unwrap=()=>t._zod.def.innerType});function TC(t){return new RC({type:"readonly",innerType:t})}const zC=ce("ZodCustom",(t,a)=>{OA.init(t,a),cn.init(t,a)});function DC(t,a={}){return vO(zC,t,a)}function MC(t){return bO(t)}const UC=["correlativo","no correlativo"],kC=Tc({oi:dc().regex(/^OI-\d{4}-\d{4}$/,"Formato OI-####-YYYY"),q3:En(),alcance:En(),pma:En().refine(t=>t===10||t===16,{message:"PMA invlido"}),numeration_type:M0(UC).default("correlativo")}),cf=Tc({c1:En().optional().nullable(),c2:En().optional().nullable(),c3:En().optional().nullable(),c4:En().optional().nullable(),c5:En().optional().nullable(),c6:En().optional().nullable(),c7:dc().optional().nullable(),c7_seconds:En().optional().nullable(),caudal:En().optional().nullable(),error:En().optional().nullable()}),qC=Tc({medidor:dc().optional(),estado:En().int().min(0).max(5).default(0),q3:cf.optional(),q2:cf.optional(),q1:cf.optional(),conformidad:dc().optional()});Tc({estado:En().int().min(0).optional(),rows:En().int().min(1).default(15),rowsData:D0(qC)});function BC(t){return t===16?25.6:t===10?16:NaN}const LC=/^[A-Za-z0-9]{10}$/,Ht=t=>{const a=t.currentTarget;a.size=Math.max(1,a.value.length)},Gr=["medidor","estado","q3.c1","q3.c2","q3.c3","q3.c4","q3.c5","q3.c6","q3.c7","q2.c1","q2.c2","q2.c3","q2.c4","q2.c5","q2.c6","q2.c7","q1.c1","q1.c2","q1.c3","q1.c4","q1.c5","q1.c6","q1.c7"],Vf=t=>{t&&(t.focus(),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&t.select())},Mv=(t,a)=>{if(a){if(t==="medidor"){a.focus();return}Vf(a)}},hn=t=>{if(t===""||t===null||t===void 0)return null;const a=String(t).replace(",","."),r=Number(a);return Number.isNaN(r)?null:r};function FC(t,a){if(!t)return"";const r=t.match(/^(.*?)(\d+)$/);if(!r)return t;const l=r[1],o=r[2],d=parseInt(o,10)+a;return`${l}${d.toString().padStart(o.length,"0")}`}function Uv(t,a,r){return t?r==="no correlativo"?t.slice(0,4):FC(t,a):""}function uf(t){if(!t)return 0;const a=String(t).trim(),r=a.split(/[:,\.]/).map(o=>parseFloat(o)).filter(o=>!isNaN(o));let l=0;if(r.length>=3){const o=r[0]||0,d=r[1]||0,m=r[2]||0;l=o*60+d+m/1e3}else if(r.length===2)l=r[0]*60+(r[1]||0);else if(r.length===1)l=r[0];else{const o=parseFloat(a.replace(",","."));if(!isNaN(o)){const d=Math.floor(o),m=(o-d)*100;l=d*60+m}}return l}function df(t,a){if(!t||!a)return null;const r=a>0?a/3600:0;return r===0?null:t/r}function ff(t,a,r){return t===void 0||a===void 0||!r?null:(Number(a)-Number(t)-Number(r))/Number(r)*100}function $C(t,a,r,l){if(t&&t>=1)return"NO CONFORME";if(a==null||r==null||l==null)return"";const o=Math.abs(a),d=Math.abs(r),m=Math.abs(l),h=!(o>2.05||d>2.05||m>5.05),y=o<1.05||d<1.05||m<2.55,p=Math.sign(a),v=Math.sign(r),S=Math.sign(l),w=p>=0&&v>=0&&S>=0||p<=0&&v<=0&&S<=0,B=h&&y;return w?B?"CONFORME":"NO CONFORME":h?"CONFORME":"NO CONFORME"}const Yr=({val:t,isErr:a,warnThreshold:r,failThreshold:l})=>{const o=p=>{const v=Number(p.toFixed(1));return Object.is(v,-0)?"0.0":v.toFixed(1)};if(!a)return c.jsx("td",{className:"bg-light",children:t==null||isNaN(t)?c.jsx("span",{className:"text-muted",children:"-"}):c.jsx("span",{className:"vi-qe-value text-primary fw-semibold",children:t.toFixed(2)})});const d=Math.abs(t??0),m=r??l??0,h=l??r??0;let y="vi-e-ok";return t==null||isNaN(t)?y="":h>0&&d>h?y="vi-e-error":m>0&&d>m&&(y="vi-e-warn"),c.jsx("td",{className:"bg-light",children:t==null||isNaN(t)?c.jsx("span",{className:"text-muted",children:"-"}):c.jsx("span",{className:`vi-qe-value fw-bold ${y}`,children:o(t)})})};function VC({show:t,title:a,initial:r,onClose:l,onSubmit:o,onCancelWithDraft:d,numerationType:m,readOnly:h}){const y={estado:r?.estado??0,rows:r?.rows??15,version:r?.version??null,draftCreatedAt:r?.draftCreatedAt??null,draftId:r?.draftId??null,rowsData:r?.rowsData??Array.from({length:15}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))},p=h===!0,{register:v,control:S,handleSubmit:w,reset:B,setValue:_,getValues:O}=gc({defaultValues:y}),A=v("rows",{valueAsNumber:!0}),{fields:k,replace:D,append:J,remove:N}=MN({control:S,name:"rowsData"}),[R,Q]=b.useState(0),M=b.useRef(0),W=b.useRef(null),[fe,De]=b.useState(0),je=0,me=5,ye=()=>{if(fe>=me){alert("Ya estas en el tamano maximo de fuente permitido para las filas (+5).");return}De(L=>Math.min(L+1,me))},be=()=>{if(fe<=je){alert("Ya estas en el tamano minimo de fuente permitido para las filas.");return}De(L=>Math.max(L-1,je))},Ne=b.useRef(null),[U,se]=b.useState([]),P=!!r?.version,ve=b.useRef("rows"),Te=b.useRef(null),E=b.useRef(new Map),Z=["c1","c2","c3","c4","c5","c6","c7"];b.useEffect(()=>{r?.rowsData?.length&&k.forEach((L,I)=>{if(I===0)return;r.rowsData[I]?.medidor&&E.current.set(L.id,!0)})},[r,k]);const ne=b.useCallback(L=>{const I=L<0?0:L;Q(I),requestAnimationFrame(()=>{const oe=document.querySelector(`input.vi-medidor-input[data-row="${I}"]`);oe&&(oe.focus(),oe.select())})},[]),he=()=>(O("rowsData")??[]).slice(0,k.length);b.useEffect(()=>{M.current=R},[R]);const Re=L=>{const I=L.target;if(!I)return;const oe=I.tagName;if(oe!=="INPUT"&&oe!=="SELECT"&&oe!=="TEXTAREA")return;const Me=L.key;if(Me==="Escape"){L.preventDefault(),Ut();return}if(Me==="ArrowUp"||Me==="ArrowDown"||Me==="ArrowLeft"||Me==="ArrowRight"||Me==="Enter"){const Kt=I.name;if(!Kt||!Kt.startsWith("rowsData."))return;const kt=Kt.match(/^rowsData\.(\d+)\.(.+)$/);if(!kt)return;const Rt=parseInt(kt[1],10),qt=kt[2],Bt=L.currentTarget,rn=k.length-1,un=(dn,Pt)=>{let It=dn+Pt;for(;It>=0&&It<=rn;){const Nn=`[name="rowsData.${It}.${qt}"]`,pn=Bt.querySelector(Nn);if(pn&&!pn.disabled)return{index:It,el:pn};It+=Pt}return null};if(Me==="ArrowUp"||Me==="ArrowDown"){L.preventDefault();const Pt=un(Rt,Me==="ArrowUp"?-1:1);Pt&&Mv(qt,Pt.el);return}if(Me==="ArrowLeft"||Me==="ArrowRight"){L.preventDefault();const dn=Gr.indexOf(qt);if(dn===-1)return;const It=dn+(Me==="ArrowRight"?1:-1);if(It<0||It>=Gr.length)return;const Nn=Gr[It],pn=`[name="rowsData.${Rt}.${Nn}"]`,Pn=Bt.querySelector(pn);Pn&&!Pn.disabled&&Vf(Pn);return}if(Me==="Enter"){L.preventDefault();const dn=Gr.indexOf(qt);if(dn===-1)return;const Pt=un(Rt,1);if(Pt){Mv(qt,Pt.el);return}const It=dn+1;if(It<Gr.length){const Nn=Gr[It];for(let pn=0;pn<=rn;pn++){const Pn=`[name="rowsData.${pn}.${Nn}"]`,_a=Bt.querySelector(Pn);if(_a&&!_a.disabled){Vf(_a);return}}}Ne.current&&Ne.current.focus();return}}if(Me!=="Tab")return;const nt=L.currentTarget,dt=Array.from(nt.querySelectorAll("input, select, textarea")).filter(_t=>!_t.hasAttribute("disabled")),Ue=dt.indexOf(I);if(Ue===-1)return;if(Me==="Tab"&&L.shiftKey){Ue>0&&(L.preventDefault(),dt[Ue-1].focus());return}const St=Ue+1;if(St<dt.length){L.preventDefault(),dt[St].focus();return}Ne.current&&(L.preventDefault(),Ne.current.focus())},Ee=(L,I)=>{D(L),_("rows",L.length),Q(oe=>L.length===0?0:typeof I=="number"?Math.max(0,Math.min(I,L.length-1)):Math.min(oe,L.length-1))},qe=()=>({medidor:"",estado:0,q3:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q2:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null},q1:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:"",c7_seconds:null}}),Ie=L=>L==null?"":typeof L=="number"?L:typeof L=="string"?L.replace(",","."):L,de=L=>{if(!L)return{};const I={...L};return["c1","c2","c3","c4","c5","c6"].forEach(oe=>{I[oe]=Ie(I[oe])}),I},Fe=()=>{const L=r?.rowsData?.length??r?.rows??15,I=(r?.rowsData&&r.rowsData.length>0?r.rowsData:Array.from({length:L}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}}))).map(oe=>({medidor:oe.medidor??"",estado:oe.estado??0,q3:de(oe.q3),q2:de(oe.q2),q1:de(oe.q1)}));return{rows:I.length,rowsData:I,version:r?.version??null,estado:r?.estado??0,draftCreatedAt:r?.draftCreatedAt??null,draftId:r?.draftId??null}},He=L=>L==null||L===""||typeof L=="number"&&Number.isNaN(L),_e=L=>L?Number(L.estado??0)!==0||L.medidor&&L.medidor.toString().trim()!==""?!0:Ye(L):!1,Ye=L=>{const I=[L.q3,L.q2,L.q1];for(const oe of I)if(oe){for(const Me of Z)if(!He(oe[Me]))return!0}return!1},Be=L=>L?{...L,c4:null,c5:null}:{c4:null,c5:null},Pe=L=>{if(!L)return L;const I={...L};return He(I.c4)&&(I.c4=null),He(I.c5)&&(I.c5=null),I},xe=L=>{for(let I=0;I<L.length;I++){const oe=L[I],Me=Number(oe.estado??0),nt=Me!==0;if(!_e(oe))continue;if(!oe.medidor||oe.medidor.toString().trim()==="")return`La fila ${I+1} tiene datos pero el campo "# Medidor (G)" est vaco. Completa el valor o elimina la fila.`;const Ue=[{name:"Q3 (Nominal)",block:oe.q3},{name:"Q2 (Transicin)",block:oe.q2},{name:"Q1 (Mnimo)",block:oe.q1}],Zt=Ue.some(({block:St})=>St&&Z.some(_t=>!He(St[_t])));if(Me===0&&!Zt)return`La fila ${I+1} no tiene lecturas. Ingresa datos en Q3/Q2/Q1 o elimina la fila.`;if(!nt)for(const{name:St,block:_t}of Ue){if(!_t||!Z.some(Rt=>!He(_t[Rt])))continue;if(Z.some(Rt=>He(_t[Rt])))return`La fila ${I+1} tiene datos incompletos en el bloque ${St}. Completa todos los campos o elimina la fila.`}}return null},ae=L=>L==null||L===""?null:String(L).replace(/\./g,","),we=L=>{if(!L)return{};const I={...L};return["c1","c2","c3","c4","c5","c6","c7"].forEach(oe=>{I[oe]=ae(I[oe])}),I},Y=L=>{const I=[];let oe=null;const Me=(dt,Ue,Zt)=>{I[dt]||(I[dt]={}),I[dt][Ue]=Zt,oe||(oe=`Fila ${dt+1}: ${Zt}`)},nt={};return L.forEach(dt=>{const Ue=(dt.medidor??"").trim();Ue&&(nt[Ue]=(nt[Ue]??0)+1)}),L.forEach((dt,Ue)=>{const Zt=dt.q3||{},St=dt.q2||{},_t=dt.q1||{},Kt=Zt.c4,kt=Zt.c5,Rt=St.c4,qt=St.c5,Bt=_t.c4,rn=_t.c5;Kt!=null&&kt!=null&&!Number.isNaN(Kt)&&!Number.isNaN(kt)&&kt<Kt&&Me(Ue,"q3_lf","En Q3 L.F debe ser mayor o igual que L.I."),Rt!=null&&qt!=null&&!Number.isNaN(Rt)&&!Number.isNaN(qt)&&qt<Rt&&Me(Ue,"q2_lf","En Q2 L.F debe ser mayor o igual que L.I."),Bt!=null&&rn!=null&&!Number.isNaN(Bt)&&!Number.isNaN(rn)&&rn<Bt&&Me(Ue,"q1_lf","En Q1 L.F debe ser mayor o igual que L.I."),kt!=null&&Rt!=null&&!Number.isNaN(kt)&&!Number.isNaN(Rt)&&Rt<kt&&Me(Ue,"q2_li","L.I de Q2 debe ser mayor o igual que L.F de Q3."),qt!=null&&Bt!=null&&!Number.isNaN(qt)&&!Number.isNaN(Bt)&&Bt<qt&&Me(Ue,"q1_li","L.I de Q1 debe ser mayor o igual que L.F de Q2.");const un=(dt.medidor??"").trim();un&&nt[un]>1&&Me(Ue,"medidor_dup","Serie de medidor repetida."),un&&!LC.test(un)&&Me(Ue,"medidor_format","La serie del medidor debe tener 10 caracteres alfanumricos.")}),{rowErrors:I,firstMessage:oe}},j=L=>{if(p)return;const I=(L.rowsData??[]).slice(0,k.length),oe=xe(I);if(oe){alert(oe);return}const{rowErrors:Me,firstMessage:nt}=Y(I);if(se(Me),nt){alert(nt);return}const Ue=I.filter(_e).map(St=>{const _t=Number(St.estado??0),Kt=_t>=1&&_t<=4,kt=_t===5&&!Ye(St),Rt=Kt||kt,qt=Pe(St.q3),Bt=Pe(St.q2),rn=Pe(St.q1),un=dn=>{if(Rt){const Pt=Be(dn);return we(Pt)}return we(dn)};return{...St,q3:un(qt),q2:un(Bt),q1:un(rn)}}),Zt={...L,rows:Ue.length,rowsData:Ue,version:L.version??r?.version??null};o(Zt)},T=ri({control:S,name:"rowsData.0"}),V=ri({control:S,name:"rowsData"}),pe=ri({control:S,name:"rowsData.0.q3.c7"}),le=ri({control:S,name:"rowsData.0.q2.c7"}),ue=ri({control:S,name:"rowsData.0.q1.c7"});b.useEffect(()=>{k[0]&&(_("rowsData.0.q3.c7_seconds",uf(pe)),_("rowsData.0.q2.c7_seconds",uf(le)),_("rowsData.0.q1.c7_seconds",uf(ue)))},[pe,le,ue,_,k]),b.useEffect(()=>{const L=V??[],{rowErrors:I}=Y(L);se(I)},[V]),b.useEffect(()=>{if(!T||k.length<=1)return;const L=V??[];k.forEach((I,oe)=>{if(oe===0)return;const Me=I.id;(E.current.get(Me)??!1)||_(`rowsData.${oe}.medidor`,Uv(T.medidor||"",oe,m));const dt=L[oe]?.estado;(dt==null||Number.isNaN(dt))&&_(`rowsData.${oe}.estado`,T.estado),_(`rowsData.${oe}.q3.c1`,T.q3?.c1??null),_(`rowsData.${oe}.q3.c2`,T.q3?.c2??null),_(`rowsData.${oe}.q3.c3`,T.q3?.c3??null),_(`rowsData.${oe}.q3.c6`,T.q3?.c6??null),_(`rowsData.${oe}.q3.c7`,T.q3?.c7??""),_(`rowsData.${oe}.q3.c7_seconds`,T.q3?.c7_seconds??null),_(`rowsData.${oe}.q2.c1`,T.q2?.c1??null),_(`rowsData.${oe}.q2.c2`,T.q2?.c2??null),_(`rowsData.${oe}.q2.c3`,T.q2?.c3??null),_(`rowsData.${oe}.q2.c6`,T.q2?.c6??null),_(`rowsData.${oe}.q2.c7`,T.q2?.c7??""),_(`rowsData.${oe}.q2.c7_seconds`,T.q2?.c7_seconds??null),_(`rowsData.${oe}.q1.c1`,T.q1?.c1??null),_(`rowsData.${oe}.q1.c2`,T.q1?.c2??null),_(`rowsData.${oe}.q1.c3`,T.q1?.c3??null),_(`rowsData.${oe}.q1.c6`,T.q1?.c6??null),_(`rowsData.${oe}.q1.c7`,T.q1?.c7??""),_(`rowsData.${oe}.q1.c7_seconds`,T.q1?.c7_seconds??null)})},[T,V,k,_,m]),b.useEffect(()=>{Q(L=>{const I=Math.max(k.length-1,0);return L>I?I:L})},[k.length]);const Ae=()=>{if(k.length>=50){if(_("rows",50),ne(0),!confirm("El maximo de filas es 50. Quieres fijar la lista en 50 filas?")){W.current&&(W.current.focus(),W.current.select());return}return}J(qe()),_("rows",k.length+1),ne(k.length)},Le=L=>{if(k.length<=1)return;const I=Math.max(0,Math.min(L,k.length-1));N(I),_("rows",Math.max(k.length-1,1)),ne(Math.max(0,I-(I===k.length-1?1:0)))},ee=()=>{k.length<=1||(N(k.length-1),_("rows",Math.max(k.length-1,1)),ne(Math.max(0,k.length-2)))},Qe=()=>{if(!confirm("Ests seguro de limpiar todos los datos de la bancada?"))return;const L=he();if(!L.length)return;const I=L.map(()=>qe());Ee(I,0),ne(0)},tt=()=>{let L=Number(O("rows"));if((!Number.isFinite(L)||L<1)&&(L=1),L>50){const Me=he();if(!confirm("El maximo de filas es 50. Quieres usar 50 filas?")){_("rows",Me.length),W.current&&(W.current.focus(),W.current.select());return}L=50}const I=he();if(L!==I.length&&!confirm(`La lista tendr ${L} filas. Quieres continuar?`)){_("rows",I.length),W.current&&(W.current.focus(),W.current.select());return}if(L===I.length){_("rows",L);return}if(L>I.length){const Me=Math.min(L,50)-I.length;if(Me>0){const nt=Array.from({length:Me},()=>qe()),dt=[...I,...nt];Ee(dt,R),ne(I.length)}else _("rows",I.length);return}const oe=I.slice(0,L);Ee(oe,Math.min(R,L-1))},Nt=L=>{L.key==="Enter"&&(L.preventDefault(),tt(),ne(0))},Ut=()=>{const L=O(),I=document.activeElement;if(W.current&&I===W.current)ve.current="rows",Te.current="rows";else if(I&&I instanceof HTMLElement){const oe=I.getAttribute("name");oe&&oe.startsWith("rowsData.")?(ve.current="grid",Te.current=oe):(ve.current="grid",Te.current=null)}else ve.current="grid",Te.current=null;d&&d(L),l()};b.useEffect(()=>{if(!t)return;const L=I=>{if(I.key==="Escape"){I.preventDefault(),Ut();return}if((I.key==="+"||I.key==="=")&&I.ctrlKey){I.preventDefault(),Ae();return}(I.key==="-"||I.key==="_")&&I.ctrlKey&&(I.preventDefault(),ee())};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[t,Ae,ee,Ut]),b.useEffect(()=>{const L=Fe();B(L),Ee(L.rowsData,0),E.current.clear(),requestAnimationFrame(()=>{if(P)ne(0);else if(Te.current){const I=document.querySelector(`[name="${Te.current}"]`);if(I){I.focus(),"select"in I&&I.select?.();return}ne(M.current||0)}else W.current&&(W.current.focus(),W.current.select())})},[r,B,D,ne,P]),b.useEffect(()=>{t&&requestAnimationFrame(()=>{if(P)ne(0);else if(Te.current){const L=document.querySelector(`[name="${Te.current}"]`);if(L){L.focus(),"select"in L&&L.select?.();return}ne(M.current||0)}else W.current&&(W.current.focus(),W.current.select())})},[t,ne,P]);const wn=U.some(L=>L&&Object.values(L).some(Boolean));return t?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"modal d-block",tabIndex:-1,role:"dialog",onClick:L=>{L.target===L.currentTarget&&Ut()},children:[c.jsx("style",{children:`        /* Ocultar flechas de inputs numricos para limpiar la vista */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        input[type=number] {
          -moz-appearance: textfield;
        }

        /* Ancho minimo para columnas compactas (Temp, P.Ent, etc.) */
        .vi-min-width {
          min-width: 70px;
        }

        /* Estilo spreadsheet tipo Excel (modo claro) */
        .vi-spreadsheet {
          background-color: #ffffff;
          color: #212529;
          font-size: 0.75rem;
          table-layout: auto;
          width: max-content;
        }

        .vi-spreadsheet th,
        .vi-spreadsheet td {
          white-space: nowrap;
        }

        .vi-spreadsheet thead th {
          background-color: #e6f3ff;
          color: #0c2b4d;
          vertical-align: middle;
          padding: 0.25rem 0.35rem;
        }

        .vi-spreadsheet thead th.vi-header-at,
        .vi-spreadsheet thead th.vi-header-quitar,
        .vi-spreadsheet td.vi-at-valor {
          color: #212529 !important;
        }

                .vi-spreadsheet td.vi-row-index,
        .vi-spreadsheet th.vi-row-index {
          color: #0c2b4d;
        }

        /* Columna ndice (#) fija al hacer scroll horizontal */
        .vi-spreadsheet th.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 3;
          background-color: #e6f3ff; /* mismo fondo que otros headers */
        }

        .vi-spreadsheet td.vi-row-index {
          position: sticky;
          left: 0;
          z-index: 2;
          background-color: inherit;
        }

        /* Columna # Medidor (G) fija, justo despus del ndice de fila */
        .vi-spreadsheet th.vi-sticky-medidor,
        .vi-spreadsheet td.vi-sticky-medidor {
          position: sticky;
          left: 30px; /* coincide con width:"30px" de la columna # */
        }

        .vi-spreadsheet thead th.vi-sticky-medidor {
          z-index: 3;
          background-color: #e6f3ff;
        }

        .vi-spreadsheet tbody td.vi-sticky-medidor {
          z-index: 2;
          background-color: inherit;
        }


        .vi-spreadsheet tr.vi-base-row td.vi-row-index {
          background-color: #d6e9ff !important;
          color: #0c2b4d !important;
          font-weight: 600;
        }

        .vi-spreadsheet td.vi-at-valor {
          transition: color 0.15s ease-in-out;
        }

        .vi-spreadsheet td.vi-at-valor:hover {
          color: #0a58ca !important;
        }

        .vi-spreadsheet tr.table-active td.vi-at-valor {
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tbody td {
          padding: 0.15rem 0.25rem;
        }

        .vi-spreadsheet tr.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet tr.table-active input.form-control {
          background-color: #ffffff;
          color: #0c2b4d;
          border-color: #b6d4fe;
        }

        .vi-spreadsheet tr.vi-base-row.table-active > td {
          background-color: #d9ecff !important;
          color: #0c2b4d !important;
        }

        .vi-spreadsheet.table-hover tbody tr:not(.table-active):hover > td {
          background-color: inherit;
          color: inherit;
        }

        .vi-spreadsheet input.form-control {
          background-color: #ffffff;
          border-color: #ced4da;
          color: #212529;
          font-size: 0.75rem;
          padding: 0.05rem 0.25rem;
          height: 1.7rem;
        }

        .vi-spreadsheet input.form-control:disabled,
        .vi-spreadsheet input.form-control[readonly] {
          background-color: #e9ecef;
          color: #6c757d;
          opacity: 1;
        }

        /* Resaltado de fila BASE solo en columna ndice */
        .vi-spreadsheet tr.vi-base-row > td {
          background-color: transparent;
        }

        /* PUNTO E - colores de la columna de conformidad */
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--fail {
          color: #b02a37 !important;
          background-color: #f8d7da;
        }
        .vi-spreadsheet td.vi-at-valor.vi-at-valor--ok {
          color: #0f9d58 !important;
        }

        /* Colores para celdas de Error % (E%) segn rangos */
        .vi-spreadsheet .vi-e-ok {
          color: #198754; /* verde: dentro de tolerancia */
        }
        .vi-spreadsheet .vi-e-warn {
          color: #fd7e14; /* naranja intenso: advertencia */
        }
        .vi-spreadsheet .vi-e-error {
          color: #b02a37; /* rojo oscuro: error fuerte */
        }

        /* Resaltado suave de la celda enfocada (no agresivo) */
        .vi-spreadsheet input.form-control:focus,
        .vi-spreadsheet select.form-select:focus,
        .vi-spreadsheet .table-active input.form-control:focus,
        .vi-spreadsheet .table-active select.form-select:focus {
          background-color: #d6e7ff !important; /* azul ms visible al enfocar */
          box-shadow: 0 0 0 0.18rem rgba(13, 110, 253, 0.3) !important;
        }

        /* FIX: mantener visible el resaltado rojo de celdas con error */
        .vi-spreadsheet input.vi-error-cell {
          border-color: #dc3545 !important;
          background-color: #f8d7da !important;
          box-shadow: 0 0 0 0.15rem rgba(220, 53, 69, 0.25) !important;
        }

        /* -----------------------------
           Tamao de fuente del grid (filas) y ancho adaptable
           ----------------------------- */

        /* Variables base de fuente y ancho maximo de celda */
        .vi-spreadsheet {
          --vi-grid-font-size: 0.75rem;          /* tamano base de filas */
          --vi-grid-cell-max-width: 110px;       /* aprox. ancho actual maximo por columna */
          font-size: var(--vi-grid-font-size);
          table-layout: auto;
        }

        /* Escalones de tamano de fuente para las FILAS (no afecta titulos ni botones) */
        .vi-spreadsheet.vi-grid-font-0 { --vi-grid-font-size: 0.75rem; }
        .vi-spreadsheet.vi-grid-font-1 { --vi-grid-font-size: 0.8rem; }
        .vi-spreadsheet.vi-grid-font-2 { --vi-grid-font-size: 0.85rem; }
        .vi-spreadsheet.vi-grid-font-3 { --vi-grid-font-size: 0.9rem; }
        .vi-spreadsheet.vi-grid-font-4 { --vi-grid-font-size: 0.95rem; }
        .vi-spreadsheet.vi-grid-font-5 { --vi-grid-font-size: 1.0rem; }

        /* Encabezados y celdas (excepto ndice y medidor fijo):
           minimo igual al ttulo, pero pueden crecer hasta el ancho maximo actual */
        .vi-spreadsheet th:not(.vi-row-index):not(.vi-sticky-medidor),
        .vi-spreadsheet td:not(.vi-row-index):not(.vi-sticky-medidor) {
          white-space: nowrap;
          min-width: 64px;
          max-width: var(--vi-grid-cell-max-width);
        }

        /* Inputs y selects del grid: usan la fuente variable y se adaptan en alto.
           El ancho lo gobierna la celda (th/td), as pueden crecer con el contenido
           hasta el maximo definido arriba. */
        .vi-spreadsheet input.form-control {
          font-size: var(--vi-grid-font-size);
          height: calc(var(--vi-grid-font-size) * 2.3);
          width: 100%;
        }

        .vi-spreadsheet select.form-select {
          font-size: var(--vi-grid-font-size);
          width: 100%;
        }

        /* Valores de Q y E% siempre +2px respecto al resto de la fila */
        .vi-spreadsheet .vi-qe-value {
          font-size: calc(1em + 2px);
        }
        `}),c.jsx("div",{className:"modal-dialog modal-fluid",style:{maxWidth:"98vw",margin:"1vw"},children:c.jsx("div",{className:"modal-content",children:c.jsxs("form",{onSubmit:w(j),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",children:a}),c.jsx("button",{type:"button",className:"btn-close",onClick:Ut,"aria-label":"Close"})]}),c.jsx("fieldset",{disabled:p,children:c.jsxs("div",{className:"modal-body p-2",children:[c.jsxs("div",{className:"row g-2 mb-2 align-items-end",children:[c.jsxs("div",{className:"col-auto",style:{maxWidth:"130px"},children:[c.jsx("label",{className:"form-label mb-1",children:"Filas"}),c.jsx("input",{type:"number",className:"form-control form-control-sm text-end",min:1,max:50,style:{maxWidth:"90px"},...A,ref:L=>{W.current=L,A.ref(L)},onBlur:tt,onKeyDown:Nt})]}),c.jsxs("div",{className:"col-md-4 d-flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:Ae,children:"+ Agregar Fila"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:ee,children:"- Quitar ltima fila"}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Qe,children:"Limpiar Todo"})]}),c.jsxs("div",{className:"col-md-4 d-flex justify-content-end gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:ye,children:"Aumentar tamao"}),c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:be,children:"Reducir tamao"})]}),c.jsxs("div",{className:"col-md-2 text-end text-muted small",children:["Fila activa: #",R+1,". Desplaza el cursor o enfoca la fila para seleccionarla (Fila 1 se replica al resto)."]})]}),c.jsx("div",{className:"table-responsive border rounded",style:{maxHeight:"70vh",overflowY:"auto",overflowX:"auto"},children:c.jsxs("table",{className:`table table-bordered table-sm mb-0 align-middle text-center vi-spreadsheet vi-grid-font-${fe}`,children:[c.jsxs("thead",{className:"table-light sticky-top z-1",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"vi-row-index",style:{width:"30px"},children:"#"}),c.jsx("th",{className:"vi-sticky-medidor",style:{width:"120px"},children:"# Medidor"}),c.jsx("th",{style:{width:"90px"},children:"Estado"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q3"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q2"}),c.jsx("th",{className:"table-primary border-start border-dark",colSpan:9,children:"Q1"}),c.jsx("th",{className:"bg-warning text-dark border-start border-dark vi-header-at",style:{width:"100px"},children:"Conformidad"}),c.jsx("th",{className:"bg-light text-dark vi-header-quitar",style:{width:"40px"},children:"Quitar"})]}),c.jsxs("tr",{style:{fontSize:"0.75rem"},children:[c.jsx("th",{className:"vi-row-index"}),c.jsx("th",{className:"vi-sticky-medidor"}),c.jsx("th",{}),c.jsx("th",{className:"vi-min-width",title:"J",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"K",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"L",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"M",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"N",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"O",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"P",children:"Tpo"}),c.jsx("th",{title:"T (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q3"}),c.jsx("th",{title:"U (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{className:"vi-min-width border-start border-dark",title:"V",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"W",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"X",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Y",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"Z",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"AA",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"AB",children:"Tpo"}),c.jsx("th",{title:"AF (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q2"}),c.jsx("th",{title:"AG (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{className:"vi-min-width border-start border-dark",title:"AH",children:"Temp"}),c.jsx("th",{className:"vi-min-width",title:"AI",children:"P.Ent"}),c.jsx("th",{className:"vi-min-width",title:"AJ",children:"P.Sal"}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AK",children:"L.I."}),c.jsx("th",{className:"vi-min-width text-primary fw-bold",title:"AL",children:"L.F."}),c.jsx("th",{className:"vi-min-width",title:"AM",children:"Vol"}),c.jsx("th",{className:"vi-min-width",title:"AN",children:"Tpo"}),c.jsx("th",{title:"AR (Caudal)",className:"bg-light border-start text-primary fw-bold vi-min-width",children:"Q1"}),c.jsx("th",{title:"AS (Error %)",className:"bg-light text-danger  fw-bold vi-min-width",children:"E%"}),c.jsx("th",{title:"AT (Conformidad)",className:"bg-warning text-dark vi-header-at",children:"Estado"}),c.jsx("th",{className:"vi-header-quitar"})]})]}),c.jsx("tbody",{onKeyDown:Re,children:k.map((L,I)=>{const oe=I===0,Me=V?.[I]||{},nt=U[I]||{},dt=Number(Me.estado??0),Ue=dt>=1&&dt<=4,Zt=Me.q3?.c6,St=Me.q3?.c7_seconds,_t=Me.q3?.c4,Kt=Me.q3?.c5,kt=df(Zt,St),Rt=ff(_t,Kt,Zt),qt=Me.q2?.c6,Bt=Me.q2?.c7_seconds,rn=Me.q2?.c4,un=Me.q2?.c5,dn=df(qt,Bt),Pt=ff(rn,un,qt),It=Me.q1?.c6,Nn=Me.q1?.c7_seconds,pn=Me.q1?.c4,Pn=Me.q1?.c5,_a=df(It,Nn),$n=ff(pn,Pn,It),Ft=$C(Me.estado,Rt,Pt,$n),fn=[oe?"vi-base-row":"",R===I?"table-active":""].filter(Boolean).join(" "),da=v(`rowsData.${I}.medidor`),Ja=(Ft||"").toUpperCase(),ml=Ja==="NO CONFORME"?"vi-at-valor--fail":Ja==="CONFORME"?"vi-at-valor--ok":"";return c.jsxs("tr",{className:fn,onMouseEnter:()=>Q(I),onClick:()=>Q(I),onFocusCapture:()=>Q(I),children:[c.jsx("td",{className:"small vi-row-index",children:I+1}),c.jsx("td",{className:"vi-sticky-medidor",children:c.jsx("input",{"data-row":I,"data-row-id":L.id,...da,size:1,style:{minWidth:"100%"},disabled:Ue,onInput:Ht,className:["form-control form-control-sm p-1 text-center vi-medidor-input",nt.medidor_dup||nt.medidor_format?"vi-error-cell":""].filter(Boolean).join(" "),title:nt.medidor_format||"",onChange:Wa=>{if(da.onChange(Wa),I===0)return;const Rs=Wa.currentTarget.value.trim();if(!Rs){E.current.delete(L.id);return}const wa=Uv(T?.medidor??"",I,m);wa&&wa===Rs?E.current.delete(L.id):E.current.set(L.id,!0)}})}),c.jsx("td",{children:c.jsxs("select",{className:"form-select form-select-sm p-0 px-1",style:{fontSize:"0.75rem",height:"24px"},...v(`rowsData.${I}.estado`,{valueAsNumber:!0}),children:[c.jsx("option",{value:0,children:"0"}),c.jsx("option",{value:1,children:"1"}),c.jsx("option",{value:2,children:"2"}),c.jsx("option",{value:3,children:"3"}),c.jsx("option",{value:4,children:"4"}),c.jsx("option",{value:5,children:"5"})]})}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q3.c1`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q3.c2`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q3.c3`,{setValueAs:hn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ue,onInput:Ht,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q3_li?" vi-error-cell":""),title:nt.q3_li||"",...v(`rowsData.${I}.q3.c4`,{setValueAs:hn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ue,onInput:Ht,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q3_lf?" vi-error-cell":""),title:nt.q3_lf||"",...v(`rowsData.${I}.q3.c5`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q3.c6`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q3.c7`),placeholder:"m,ss,ms"})}),c.jsx(Yr,{val:kt}),c.jsx(Yr,{val:Rt,isErr:!0,warnThreshold:2,failThreshold:5}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q2.c1`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q2.c2`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q2.c3`,{setValueAs:hn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ue,onInput:Ht,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q2_li?" vi-error-cell":""),title:nt.q2_li||"",...v(`rowsData.${I}.q2.c4`,{setValueAs:hn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ue,onInput:Ht,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q2_lf?" vi-error-cell":""),title:nt.q2_lf||"",...v(`rowsData.${I}.q2.c5`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q2.c6`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q2.c7`),placeholder:"m,ss,ms"})}),c.jsx(Yr,{val:dn}),c.jsx(Yr,{val:Pt,isErr:!0,warnThreshold:2,failThreshold:5}),c.jsx("td",{className:"border-start border-dark",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q1.c1`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q1.c2`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q1.c3`,{setValueAs:hn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",size:1,style:{minWidth:"100%"},disabled:Ue,onInput:Ht,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q1_li?" vi-error-cell":""),title:nt.q1_li||"",...v(`rowsData.${I}.q1.c4`,{setValueAs:hn})})}),c.jsx("td",{className:"bg-white",children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",size:1,style:{minWidth:"100%"},disabled:Ue,onInput:Ht,className:"form-control form-control-sm px-1 text-center fw-bold text-primary"+(nt.q1_lf?" vi-error-cell":""),title:nt.q1_lf||"",...v(`rowsData.${I}.q1.c5`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q1.c6`,{setValueAs:hn})})}),c.jsx("td",{children:c.jsx("input",{type:"text",className:"form-control form-control-sm px-1 text-center",size:1,style:{minWidth:"100%"},onInput:Ht,disabled:!oe||Ue,...v(`rowsData.${I}.q1.c7`),placeholder:"m,ss,ms"})}),c.jsx(Yr,{val:_a}),c.jsx(Yr,{val:$n,isErr:!0,warnThreshold:5,failThreshold:5}),c.jsx("td",{className:`bg-light border-start fw-bold small text-center vi-at-valor ${ml}`,children:Ft}),c.jsx("td",{className:"text-center align-middle bg-light",children:c.jsx("button",{type:"button",className:"btn btn-danger btn-sm p-0",style:{width:"20px",height:"20px",lineHeight:"1"},onClick:Wa=>{Wa.stopPropagation(),Le(I)},disabled:k.length<=1,title:"Eliminar esta fila",children:""})})]},L.id)})})]})})]})}),c.jsxs("div",{className:"modal-footer py-1",children:[c.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:Ut,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",ref:Ne,disabled:wn||p,children:"Guardar Bancada"})]})]})})})]}),c.jsx("div",{className:"modal-backdrop show vi-backdrop"})]}):null}function Ai({show:t,title:a="Contrasea para proteger Excel",confirmLabel:r="Generar Excel",helpText:l="Se usar para proteger estructura y escritura del libro. No habr contrasea de apertura.",onClose:o,onConfirm:d}){const[m,h]=b.useState(""),y=b.useRef(null),p=m.trim().length>0;if(b.useEffect(()=>{t&&(h(""),setTimeout(()=>y.current?.focus(),0))},[t]),b.useEffect(()=>{if(!t)return;const S=w=>{w.key==="Escape"&&o()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,o]),!t)return null;const v=S=>{S.preventDefault(),p&&d(m.trim())};return c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"pwdModalTitle",onClick:S=>{S.target===S.currentTarget&&o()},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:v,children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"pwdModalTitle",className:"modal-title",children:a}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:o})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"mb-3",children:[c.jsx(mi,{label:"Contrasea",inputId:"pwd",value:m,onChange:S=>h(S.target.value),inputRef:y,minLength:1,required:!0}),c.jsx("div",{className:"form-text",children:l})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:o,children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!p,children:r})]})]})})})}async function HC(t,a){try{const{data:r}=await Ge.put(`/oi/${t}`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la OI",o=new Error(l);throw o.status=r?.response?.status,o}}async function ZC(t,a){try{const{data:r}=await Ge.patch(`/oi/${t}/restore-updated-at`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo restaurar la fecha de la OI",o=new Error(l);throw o.status=r?.response?.status,o}}async function IC(t){try{const{data:a}=await Ge.post("/oi",t);return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo crear el OI";throw new Error(r)}}async function kv(t,a){try{const{data:r}=await Ge.post(`/oi/${t}/bancadas`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se puedo agregar la bancada";throw new Error(l)}}async function QC(t,a){try{const{data:r}=await Ge.put(`/oi/bancadas/${t}`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la bancada",o=new Error(l);throw o.status=r?.response?.status,o}}async function GC(t,a){try{const{data:r}=await Ge.patch(`/oi/bancadas/${t}/saved_at`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la fecha de la bancada",o=new Error(l);throw o.status=r?.response?.status,o}}async function YC(t,a){try{const{data:r}=await Ge.put(`/oi/bancadas/${t}/restore`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo restaurar la bancada",o=new Error(l);throw o.status=r?.response?.status,o}}async function qv(t){try{await Ge.delete(`/oi/bancadas/${t}`)}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo eliminar la bancada";throw new Error(r)}}async function q0(t,a){let r;try{r=await Ge.post(`/oi/${t}/excel`,{password:a},{responseType:"blob"})}catch(p){let v=p?.message??"No se pudo generar el Excel";const S=p?.response?.data;if(S instanceof Blob)try{const w=await S.text();try{const _=JSON.parse(w)?.detail;typeof _=="string"?v=_:Array.isArray(_)&&_.length>0?v=_.map(O=>String(O?.msg??"")).filter(Boolean).join(", "):w&&(v=w)}catch{w&&(v=w)}}catch{}else v=p?.response?.data?.detail??v;throw new Error(v)}const l=r.data,m=r.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??`OI-${t}.xlsx`,h=URL.createObjectURL(l),y=document.createElement("a");y.href=h,y.download=m,document.body.appendChild(y),y.click(),URL.revokeObjectURL(h),y.remove()}async function KC(t){await Ge.delete(`/oi/${t}`)}async function PC(t){try{const{data:a}=await Ge.post(`/oi/${t}/lock`);return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo bloquear la OI",l=new Error(r);throw l.status=a?.response?.status,l}}async function Yo(t,a){try{const r=a?{params:{reason:a}}:void 0,{data:l}=await Ge.delete(`/oi/${t}/lock`,r);return l}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo liberar la OI",o=new Error(l);throw o.status=r?.response?.status,o}}async function XC(t,a){try{const{data:r}=await Ge.patch(`/oi/${t}/saved_at`,a);return r}catch(r){const l=r?.response?.data?.detail??r?.message??"No se pudo actualizar la fecha de guardado",o=new Error(l);throw o.status=r?.response?.status,o}}async function mf(t){try{const{data:a}=await Ge.get(`/oi/${t}/full`);return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se puedo cargar el OI";throw new Error(r)}}async function JC(t){try{const{data:a}=await Ge.get("/oi",{params:{q:t.q||void 0,date_from:t.dateFrom||void 0,date_to:t.dateTo||void 0,limit:t.limit,offset:t.offset,responsable_tech_number:t.responsableTechNumber||void 0},headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo obtener el listado de OI";throw new Error(r)}}async function WC(t){let a;try{a=await Ge.get("/oi/export/csv",{params:{q:t.q||void 0,date_from:t.dateFrom||void 0,date_to:t.dateTo||void 0,responsable_tech_number:t.responsableTechNumber||void 0},responseType:"blob"})}catch(m){let h=m?.message??"No se pudo exportar el CSV";const y=m?.response?.data;if(y instanceof Blob)try{const v=await y.text();try{const w=JSON.parse(v)?.detail;typeof w=="string"?h=w:Array.isArray(w)&&w.length>0?h=w.map(B=>String(B?.msg??"")).filter(Boolean).join(", "):v&&(h=v)}catch{v&&(h=v)}}catch{}else h=m?.response?.data?.detail??h;const p=new Error(h);throw p.status=m?.response?.status,p}const r=a.data,d=a.headers["content-disposition"]?.match(/filename="(.+?)"/i)?.[1]??"oi_list.csv";return{blob:r,filename:d}}async function eR(){try{const{data:t}=await Ge.get("/oi/responsables");return t}catch(t){const a=t?.response?.data?.detail??t?.message??"No se pudo obtener responsables";throw new Error(a)}}async function hf(t){try{const{data:a}=await Ge.get(`/oi/${t}`);return a}catch(a){const r=a?.response?.data?.detail??a?.message??"No se pudo obtener el OI";throw new Error(r)}}const _m="vi.currentOI";function ci(t){sessionStorage.setItem(_m,JSON.stringify(t))}function Bv(){const t=sessionStorage.getItem(_m);if(!t)return null;try{return JSON.parse(t)}catch{return null}}function Hf(){sessionStorage.removeItem(_m)}const pf=t=>{if(t)return{c1:t.c1??null,c2:t.c2??null,c3:t.c3??null,c4:t.c4??null,c5:t.c5??null,c6:t.c6??null,c7:t.c7??"",c7_seconds:t.c7_seconds??null,caudal:t.caudal??null,error:t.error??null}},gf=t=>{if(t)return{c1:t.c1??null,c2:t.c2??null,c3:t.c3??null,c4:t.c4??null,c5:t.c5??null,c6:t.c6??null,c7:t.c7??null,c7_seconds:t.c7_seconds??null,caudal:t.caudal??null,error:t.error??null}},tR=t=>({medidor:t.medidor??"",estado:t.estado??0,q3:pf(t.q3),q2:pf(t.q2),q1:pf(t.q1)}),nR=t=>({medidor:t.medidor??"",estado:t.estado??0,q3:gf(t.q3),q2:gf(t.q2),q1:gf(t.q1)}),B0=t=>t.rows_data&&t.rows_data.length>0?t.rows_data:Array.from({length:t.rows}).map((a,r)=>({medidor:r===0?t.medidor??"":"",estado:t.estado,q3:r===0?t.q3??void 0:void 0,q2:r===0?t.q2??void 0:void 0,q1:r===0?t.q1??void 0:void 0})),aR=t=>t.reduce((a,r)=>a+(r.rows??0),0),sR=t=>JSON.parse(JSON.stringify(t)),Lv=t=>JSON.stringify({medidor:t.medidor??null,estado:t.estado??0,rows:t.rows??0,rows_data:t.rows_data??null,q1:t.q1??null,q2:t.q2??null,q3:t.q3??null}),Fv=t=>t.rows_data&&t.rows_data.length>0?t.rows_data:B0(t),rR=(t,a)=>t==="view"&&a?"view":"edit",$v=t=>{if(!t)return"";const r=/([zZ]|[+-]\d{2}:?\d{2})$/.test(t)?t:`${t}Z`,l=new Date(r);if(Number.isNaN(l.getTime()))return"";const o=d=>d.toString().padStart(2,"0");return`${l.getFullYear()}-${o(l.getMonth()+1)}-${o(l.getDate())}T${o(l.getHours())}:${o(l.getMinutes())}`},lR=t=>{if(!t)return"";const a=new Date(t);return Number.isNaN(a.getTime())?"":a.toISOString().replace("Z","")};function Vv(){const{toast:t}=or(),a=ol(),r=On(),{oiId:l}=L_(),[o,d]=cb(),{data:m}=ar({queryKey:["catalogs"],queryFn:hm}),{register:h,handleSubmit:y,watch:p,formState:{errors:v},reset:S,getValues:w}=gc({resolver:wO(kC),defaultValues:{oi:`OI-0001-${new Date().getFullYear()}`,numeration_type:"correlativo",pma:16,q3:2.5,alcance:80}}),B=b.useMemo(()=>Ln(),[]),_=B?.userId??null,O=Ra(B?.role,B?.username)!=="technician",A=Bv(),k=l?Number(l):null,D=Number.isFinite(k)?k:null,J=D!=null||(A?.id??null)!=null,N=(o.get("mode")||"").toLowerCase(),R=rR(N,J),Q=R==="view",M=R==="edit",[W,fe]=b.useState(!1),[De,je]=b.useState(!1),[me,ye]=b.useState(null),[be,Ne]=b.useState(null),[U,se]=b.useState(!1),P=De||Q,[ve,Te]=b.useState(!1),[E,Z]=b.useState(null),[ne,he]=b.useState(null),[Re,Ee]=b.useState(null),[qe,Ie]=b.useState(!1),[de,Fe]=b.useState(""),[He,_e]=b.useState(null),[Ye,Be]=b.useState("bancada"),[Pe,xe]=b.useState(!1),ae=b.useRef([]),we=b.useRef(null),[Y,j]=b.useState(null),[T,V]=b.useState(null),[pe,le]=b.useState([]),[ue,Ae]=b.useState(!1),[Le,ee]=b.useState(null),[Qe,tt]=b.useState(!1),[Nt,Ut]=b.useState(null),[wn,L]=b.useState(0),[I,oe]=b.useState({}),Me=r.state?.returnTo,nt=()=>typeof Me=="string"&&Me?Me:"/oi/list",dt=K=>{const ge=new URLSearchParams(o);ge.set("mode",K),d(ge,{replace:!0})},Ue="new",Zt=15,St=K=>K?`bancada-${K.id}`:Ue,_t=(K=Zt)=>Array.from({length:K}).map(()=>({medidor:"",estado:0,q3:{},q2:{},q1:{}})),Kt=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`draft-${Date.now()}`,kt=K=>({draftId:Kt(),draftCreatedAt:K??new Date().toISOString(),estado:0,rows:Zt,rowsData:_t(),version:null}),Rt=K=>K?`oi:${K}:new_bancada_draft`:null,qt=K=>{const ge=Rt(K);if(!ge)return null;try{const Se=sessionStorage.getItem(ge);if(!Se)return null;const Ce=JSON.parse(Se);return!Ce||!Array.isArray(Ce.rowsData)?null:Ce}catch{return null}},Bt=(K,ge)=>{const Se=Rt(K);if(Se)try{if(!ge){sessionStorage.removeItem(Se);return}sessionStorage.setItem(Se,JSON.stringify(ge))}catch{}};b.useEffect(()=>{m&&S(K=>({...K,q3:m.q3[0],alcance:m.alcance[0],pma:16}))},[m,S]),b.useEffect(()=>{const K=Bv(),ge=D??K?.id??null;if(!ge){j(null),le([]),ae.current=[],we.current=null,Ut(null),L(0),V(null),he(null),Ee(null),Te(!1),je(!1),ye(null),Ne(null),se(!1),Z(null);return}(async()=>{try{const Se=await mf(ge);j(Se.id),ci({id:Se.id,code:Se.code}),le(Se.bancadas??[]),ae.current=sR(Se.bancadas??[]),we.current=Se.updated_at??null,Ut(Se.medidores_usuario??null),L(Se.medidores_total_code??0),he(Se.saved_at??null),Ee(Se.created_at??null),V(Se.updated_at??Se.created_at);const Ce={oi:Se.code,q3:Se.q3,alcance:Se.alcance,pma:Se.pma,numeration_type:Se.numeration_type??"correlativo"};S(Ce),Te(!1),je(Se.read_only_for_current_user??!1),ye(Se.locked_by_full_name??null),Ne(Se.locked_by_user_id??null),se((Se.locked_by_user_id??null)===_),Z(Ce)}catch{Hf()}})()},[S,_,D]),b.useEffect(()=>{Y&&oe(K=>{if(K[Ue])return K;const ge=qt(Y);return ge?{...K,[Ue]:ge}:K})},[Y]),b.useEffect(()=>{if(!Y||!_||!M)return;let K=!1;return(async()=>{const ge=Se=>{je(Se?.read_only_for_current_user??!1),ye(Se?.locked_by_full_name??null),Ne(Se?.locked_by_user_id??null),se((Se?.locked_by_user_id??null)===_)};try{const Se=await PC(Y);if(K)return;ge(Se)}catch(Se){if(K)return;const Ce=Se?.status??Se?.response?.status;let at=null;try{const Et=await mf(Y);if(K)return;at=Et.locked_by_full_name??null,ge({read_only_for_current_user:!0,locked_by_full_name:at,locked_by_user_id:Et.locked_by_user_id??null})}catch{je(!0),se(!1)}const it=at?`La OI est? siendo editada por ${at}. Se abre en modo lectura.`:Se?.message??"La OI est? siendo editada por otro usuario. Int?ntelo m?s tarde.";t({kind:Ce===423||Ce===409?"warning":"error",title:Ce===423||Ce===409?"OI bloqueada":"Error",message:it}),je(!0),se(!1),N!=="view"&&dt("view")}})(),()=>{K=!0}},[Y,_,M]),b.useEffect(()=>()=>{Y&&U&&Yo(Y).catch(()=>{})},[Y,U]),b.useEffect(()=>{Y&&(!U||P||!M||hj(Y))},[U,Y,P,M]);const rn=p("pma"),un=b.useMemo(()=>BC(Number(rn)),[rn]),dn=p("numeration_type")??"correlativo",Pt=async K=>{try{fe(!0);const ge=Ln();if(!ge)throw new Error("Sesin no vlida");const Se=ge.bancoId;if(Se==null)throw new Error("Debe seleccionar un banco para crear una OI.");const Ce={code:K.oi,q3:Number(K.q3),alcance:Number(K.alcance),pma:Number(K.pma),banco_id:Se,tech_number:ge.techNumber,numeration_type:K.numeration_type??"correlativo"},at=await IC(Ce);return j(at.id),V(at.updated_at??at.created_at),Ut(at.medidores_usuario??0),L(at.medidores_total_code??0),he(at.saved_at??null),Ee(at.created_at??null),ci({id:at.id,code:at.code}),Z(K),t({kind:"success",title:"OI creada",message:`${at.code} (#${at.id})`}),!0}catch(ge){return t({kind:"error",title:"Error",message:ge?.message??"Error creando OI"}),!1}finally{fe(!1)}},It=async K=>{if(!Y)return!1;if(P)return t({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."}),!1;try{if(fe(!0),!Y)throw new Error("No hay OI seleccionada para actualizar.");if(!T)throw new Error("No se pudo determinar la versin actual de la OI. Recargue la pgina e intntelo de nuevo.");const ge=K.oi?.trim(),Se={q3:Number(K.q3),alcance:Number(K.alcance),pma:Number(K.pma),numeration_type:K.numeration_type??"correlativo",updated_at:T};O&&ge&&ge!==(E?.oi??"")&&(Se.code=ge);const Ce=await HC(Y,Se);return Z(K),V(Ce.updated_at??Ce.created_at),he(Ce.saved_at??null),Ee(Ce.created_at??null),Ce.code&&ci({id:Ce.id,code:Ce.code}),Ne(Ce.locked_by_user_id??null),ye(Ce.locked_by_full_name??null),je(Ce.read_only_for_current_user??!1),se((Ce.locked_by_user_id??null)===_),Te(!1),t({kind:"success",title:"OI actualizada",message:K.oi}),!0}catch(ge){const Se=ge?.status??ge?.response?.status;return t(Se===409?{kind:"error",title:"Conflicto",message:"La OI fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:ge?.message??"Error actualizando OI"}),!1}finally{fe(!1)}},Nn=!!Y&&ve&&!P,pn=()=>{if(P){t({kind:"warning",title:"Solo lectura",message:"No puede agregar bancadas mientras la OI est bloqueada."});return}Y&&(oe(K=>{if(K[Ue])return K;const Se=qt(Y)??kt();return Bt(Y,Se),{...K,[Ue]:Se}}),ee(null),Ae(!0))},Pn=K=>{if(P&&!Q){t({kind:"warning",title:"Solo lectura",message:"No puede editar bancadas mientras la OI est? bloqueada."});return}ee(K),Ae(!0)},_a=b.useMemo(()=>{const K=St(Le),ge=I[K];if(ge){const at=ge.version??Le?.updated_at??Le?.created_at??null;return{...ge,version:at}}if(!Le)return;const Ce=B0(Le).map(tR);return{estado:Le.estado,rows:Ce.length||Le.rows,rowsData:Ce,version:Le.updated_at??Le.created_at??null}},[Le,I]),$n=async K=>{if(Y){if(P){t({kind:"warning",title:"Solo lectura",message:"No puede guardar bancadas mientras la OI est bloqueada."});return}try{fe(!0);const ge=K.draftCreatedAt??I[Ue]?.draftCreatedAt,Se={estado:Number(K.estado??0),rows:Number(K.rowsData.length),rows_data:K.rowsData.map(nR)};if(Le){const Ce=K.version??Le.updated_at??Le.created_at??null;if(!Ce)throw new Error("No se pudo determinar la versin actual de la bancada. Recargue y vuelva a intentar.");const at={...Se,updated_at:Ce},it=await QC(Le.id,at);le(Et=>Et.map(ma=>ma.id===it.id?it:ma)),V(it.updated_at??it.created_at??T),Ut(null),oe(Et=>{const ma=`bancada-${Le.id}`,{[ma]:fr,...zs}=Et;return zs}),t({kind:"success",message:"Bancada actualizada"})}else{ge&&(Se.draft_created_at=ge);const Ce=await kv(Y,Se);le(at=>[...at,Ce]),V(Ce.updated_at??Ce.created_at??T),Ut(null),oe(at=>{const{new:it,...Et}=at;return Et}),Bt(Y,null),t({kind:"success",message:"Bancada agregada"})}try{const Ce=await hf(Y);Ut(Ce.medidores_usuario??null),L(Ce.medidores_total_code??wn),he(Ce.saved_at??null),Ee(Ce.created_at??null)}catch{}Ne(B?.userId??be),ye(B?.fullName??me),se(_!==null),je(!1),Ae(!1),ee(null)}catch(ge){const Se=ge?.status??ge?.response?.status;t(Se===409?{kind:"error",title:"Conflicto",message:"La bancada fue modificada por otro usuario. Recargue la pgina y vuelva a intentar."}:{kind:"error",title:"Error",message:ge?.message??"Error guardando bancada"})}finally{fe(!1)}}},Ft=async K=>{if(confirm(`Eliminar bancada #${K.item}?`)){if(P){t({kind:"warning",title:"Solo lectura",message:"No puede eliminar bancadas mientras la OI est bloqueada."});return}try{if(fe(!0),!Y)throw new Error("No hay OI cargada.");await qv(K.id),le(Se=>Se.filter(Ce=>Ce.id!==K.id)),Ut(null),oe(Se=>{const Ce=`bancada-${K.id}`,{[Ce]:at,...it}=Se;return it});const ge=await hf(Y);V(ge.updated_at??ge.created_at??null),he(ge.saved_at??null),Ee(ge.created_at??null),Ne(ge.locked_by_user_id??null),ye(ge.locked_by_full_name??null),je(ge.read_only_for_current_user??!1),se((ge.locked_by_user_id??null)===_),Ut(ge.medidores_usuario??null),L(ge.medidores_total_code??wn),t({kind:"success",message:`Bancada #${K.item} eliminada`})}catch(ge){t({kind:"error",title:"Error",message:ge?.message??"Error eliminando bancada"})}finally{fe(!1)}}},fn=()=>{if(!Y){t({kind:"warning",message:"Primero guarda el OI."});return}tt(!0)},da=async K=>{if(Y)try{fe(!0),await q0(Y,K),t({kind:"success",message:"Excel generado"})}catch(ge){t({kind:"error",title:"Error",message:ge?.message??"Error generando Excel"})}finally{fe(!1)}},Ja=()=>{if(!Y||!O)return;const K=ne??Re;Be("oi"),_e(null),Fe($v(K)),Ie(!0)},ml=K=>{if(!O)return;Be("bancada"),_e(K);const ge=K.saved_at??K.created_at??ne??Re;Fe($v(ge)),Ie(!0)},Wa=async()=>{if(!Y||!O)return;const K=lR(de);if(!K){t({kind:"warning",title:"Fecha",message:"Ingrese una fecha valida."});return}if(!(Ye==="bancada"&&!He))try{fe(!0),Ye==="oi"?await XC(Y,{saved_at:K,propagate_to_bancadas:!0}):He&&await GC(He.id,{saved_at:K});const ge=await mf(Y);if(le(ge.bancadas??[]),Ut(ge.medidores_usuario??null),L(ge.medidores_total_code??0),he(ge.saved_at??null),Ee(ge.created_at??null),V(ge.updated_at??ge.created_at),ye(ge.locked_by_full_name??null),Ne(ge.locked_by_user_id??null),je(ge.read_only_for_current_user??!1),se((ge.locked_by_user_id??null)===_),!ve){const Se={oi:ge.code,q3:ge.q3,alcance:ge.alcance,pma:ge.pma,numeration_type:ge.numeration_type??"correlativo"};S(Se),Z(Se)}Ie(!1),_e(null),Fe(""),Be("bancada"),t({kind:"success",message:"Fecha guardada actualizada"})}catch(ge){t({kind:"error",title:"Error",message:ge?.message??"Error actualizando fecha"})}finally{fe(!1)}},Rs=K=>{const ge=St(Le);let Se={...K};if(!Le){const Ce=I[Ue];Se.draftCreatedAt||(Se.draftCreatedAt=Ce?.draftCreatedAt??new Date().toISOString()),Se.draftId||(Se.draftId=Ce?.draftId??Kt())}oe(Ce=>({...Ce,[ge]:Se})),Le||Bt(Y,Se),Ae(!1)},wa=()=>{if(P){t({kind:"warning",title:"Solo lectura",message:"La OI est bloqueada por otro usuario."});return}const K=w();Z({...K,numeration_type:K.numeration_type??"correlativo"}),Te(!0)},hl=()=>{!Y||M||dt("edit")},es=()=>{E&&S(E),Te(!1)},fa=()=>{Y&&Bt(Y,null),Hf(),l0(),j(null),le([]),ae.current=[],oe({}),Te(!1),Z(null),V(null),he(null),Ee(null),je(!1),ye(null),Ne(null),se(!1),Ut(null),L(0),Ae(!1),ee(null),tt(!1),Ie(!1),xe(!1),Fe(""),_e(null),Be("bancada"),S({oi:`OI-0001-${new Date().getFullYear()}`,q3:m?.q3[0]??2.5,alcance:m?.alcance[0]??80,pma:16,numeration_type:"correlativo"})},Ts=()=>{fa(),a(nt())},ts=async()=>{if(!Y)return!0;const K=ae.current??[];if(K.length===0&&pe.length===0)return!0;const ge=new Map(K.map(Ce=>[Ce.id,Ce])),Se=new Map(pe.map(Ce=>[Ce.id,Ce]));try{for(const it of pe)ge.has(it.id)||await qv(it.id);for(const it of pe){const Et=ge.get(it.id);if(!Et||Lv(Et)===Lv(it))continue;const ma=Fv(Et),fr=ma.length||Et.rows||1,zs=it.updated_at??it.created_at??Et.updated_at??Et.created_at;if(!zs)throw new Error("No se pudo determinar la version de la bancada para revertir cambios.");await YC(it.id,{medidor:Et.medidor??null,estado:Et.estado??0,rows:fr,rows_data:ma,current_updated_at:zs,restore_updated_at:Et.updated_at??null,restore_saved_at:Et.saved_at??null})}for(const it of K)if(!Se.has(it.id)){const Et=Fv(it),ma=Et.length||it.rows||1;await kv(Y,{estado:it.estado??0,rows:ma,rows_data:Et})}const Ce=await hf(Y),at=Ce.updated_at??Ce.created_at;await ZC(Y,{current_updated_at:at,restore_updated_at:we.current})}catch(Ce){return t({kind:"error",title:"Error",message:Ce?.message??"No se pudo descartar los cambios en bancadas."}),!1}return!0},Xt=()=>{W||xe(!0)},Oi=async()=>{if(!W){xe(!1),fe(!0);try{if(!await ts())return;Y&&U&&await Yo(Y,"cancel")}catch{}finally{fe(!1)}fa(),t({kind:"info",message:"Edicion cancelada"}),a(nt())}},Ci=async()=>{if(W)return;xe(!1);let K=!0;if((ve||!Y)&&(K=!1,await y(async Se=>{K=Y?await It(Se):await Pt(Se)})()),!!K){fe(!0);try{Y&&U&&await Yo(Y)}catch{}finally{fe(!1)}fa(),t({kind:"info",message:"Cambios guardados"}),a(nt())}},Ta=async()=>{if(!W){fe(!0);try{Y&&U&&await Yo(Y)}catch{}finally{fe(!1)}fa(),t({kind:"info",message:"OI cerrada"}),a(nt())}},ns=b.useMemo(()=>aR(pe),[pe]),Dc=Nt??ns,dr=K=>{if(!K)return"-";const Se=/([zZ]|[+-]\d{2}:?\d{2})$/.test(K)?K:`${K}Z`,Ce=new Date(Se);return Number.isNaN(Ce.getTime())?K:new Intl.DateTimeFormat("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"America/Lima"}).format(Ce)};return c.jsxs("div",{className:"oi-page vi-oi-light",children:[c.jsx(fl,{show:W}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[c.jsx("h1",{className:"h3",children:"Formulario OI"}),c.jsxs("div",{className:"d-flex gap-2",children:[Y&&O&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:Ja,disabled:W,children:"Editar fecha guardado"}),Y&&Q&&c.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:hl,disabled:W,children:"Editar"})]})]}),P&&c.jsx("div",{className:"alert alert-warning mt-2",children:Q?"Modo lectura. Use Editar para modificar.":me?`Esta OI est? siendo editada por ${me}. Se abre en modo lectura.`:"Esta OI est? en modo lectura. No se pueden realizar cambios."}),c.jsxs("form",{onSubmit:y(Nn?It:Pt),className:`row g-3 mt-1 ${Nn?"vi-form-editing":"vi-form-readonly"}`,children:[c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"oi",className:"form-label",children:"OI (OI-####-YYYY)"}),c.jsx("input",{id:"oi",className:`form-control ${Y&&!(O&&ve&&!P)?"vi-locked":""}`,...h("oi"),disabled:Y?!(O&&ve&&!P):!1}),v.oi&&c.jsx("div",{className:"text-danger small",children:v.oi.message}),O?c.jsx("div",{className:"form-text",children:"Solo administradores pueden cambiar el cdigo de OI."}):null]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"q3",className:"form-label",children:"Q3 (m/h)"}),c.jsx("select",{id:"q3",className:"form-select",...h("q3",{valueAsNumber:!0}),disabled:!!Y&&!ve||P,children:m?.q3.map(K=>c.jsx("option",{value:K,children:K},K))})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"alcance",className:"form-label",children:"Alcance Q3/Q1"}),c.jsx("select",{id:"alcance",className:"form-select",...h("alcance",{valueAsNumber:!0}),disabled:!!Y&&!ve||P,children:m?.alcance.map(K=>c.jsx("option",{value:K,children:K},K))})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"pma",className:"form-label",children:"PMA (bar)"}),c.jsx("select",{id:"pma",className:"form-select",...h("pma",{valueAsNumber:!0}),disabled:!!Y&&!ve||P,children:m?.pma.map(K=>c.jsx("option",{value:K,children:K},K))}),c.jsx("div",{className:"form-text",children:"Solo en formulario; calcula Presin (bar)."})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"presion",className:"form-label",children:"Presin (bar)"}),c.jsx("input",{id:"presion",className:"form-control",value:isNaN(un)?"":un,disabled:!0})]}),c.jsxs("div",{className:"col-md-4",children:[c.jsx("label",{htmlFor:"numeration_type",className:"form-label",children:"Tipo de numeracin (# Medidor)"}),c.jsxs("select",{id:"numeration_type",className:"form-select",...h("numeration_type"),disabled:!!Y&&!ve||P,children:[c.jsx("option",{value:"correlativo",children:"Correlativo"}),c.jsx("option",{value:"no correlativo",children:"No Correlativo"})]}),c.jsx("div",{className:"form-text",children:"Define cmo se completa la columna # Medidor en el Grid."})]}),c.jsxs("div",{className:"col-12 d-flex align-items-center gap-2",children:[c.jsx("button",{className:"btn btn-primary",disabled:W||!!Y&&(!ve||P),children:Y?Nn?"Guardar cambios":"OI guardada":"Guardar OI"}),Y&&!ve&&M&&c.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:wa,disabled:W||P,children:"Editar OI"}),Y&&ve&&M&&c.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:es,disabled:W,children:"Cancelar edicion"}),Q&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Ts,disabled:W,children:"Volver al listado"}),c.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:fn,disabled:!Y||W||ve,children:"Generar Excel"}),M&&c.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:Ta,disabled:!Y||ve||W,children:"Cerrar OI"}),M&&c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Xt,disabled:W,children:"Cancelar"})]})]}),c.jsx("hr",{className:"my-4"}),c.jsxs("div",{className:"card vi-card-table mt-3",children:[c.jsxs("div",{className:"card-header d-flex align-items-center justify-content-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"h6 mb-0",children:"Bancadas"}),c.jsxs("small",{className:"text-muted",children:["Medidores (mi registro): ",Dc," | Total OI: ",wn]})]}),c.jsx("button",{className:"btn btn-primary",onClick:pn,disabled:!Y||W||ve||P,children:"Agregar Bancada"})]}),c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"vi-col-60",children:"Item"}),c.jsx("th",{children:"# Medidor"}),c.jsx("th",{children:"Medidores"}),c.jsx("th",{className:"vi-col-160",children:"Fecha creacin"}),c.jsx("th",{className:"vi-col-160",children:"Fecha guardado"}),c.jsx("th",{className:"vi-col-160",children:"ltima fecha mod."}),c.jsx("th",{className:"vi-col-160 text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[pe.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-muted text-center py-3",children:"Sin bancadas. Agrega la primera."})}),pe.map(K=>{const ge=K.rows_data?.[0]?.medidor||K.medidor||"",Se=K.rows_data?.[(K.rows_data?.length||0)-1]?.medidor||"",Ce=ge&&Se&&ge!==Se?`${ge} ... ${Se}`:ge;return c.jsxs("tr",{children:[c.jsx("td",{children:K.item}),c.jsx("td",{children:Ce}),c.jsx("td",{children:K.rows}),c.jsx("td",{children:dr(K.created_at)}),c.jsx("td",{children:dr(K.saved_at)}),c.jsx("td",{children:dr(K.updated_at??K.created_at)}),c.jsxs("td",{className:"text-end",children:[O?c.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>ml(K),disabled:W||ve||De,"aria-label":`Editar fecha guardado bancada #${K.item}`,title:"Editar fecha guardado",children:"Editar fecha guardado"}):null,c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>Pn(K),disabled:W||ve||!Q&&P,"aria-label":`${Q?"Ver":"Editar"} bancada #${K.item}`,title:Q?"Ver":"Editar",children:Q?"Ver":"Editar"}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ft(K),disabled:W||ve||P,"aria-label":`Eliminar bancada #${K.item}`,title:"Eliminar",children:""})]})]},K.id)})]})]})})})]}),ue&&c.jsx(VC,{show:ue,title:Le?`Editar bancada #${Le.item}`:"Nueva bancada",initial:_a,onClose:()=>Ae(!1),onSubmit:$n,onCancelWithDraft:Rs,numerationType:dn,readOnly:P}),Pe&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"cancelTitle",onClick:K=>{K.target===K.currentTarget&&xe(!1)},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"cancelTitle",className:"modal-title",children:"Confirmar cancelacion"}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>xe(!1)})]}),c.jsx("div",{className:"modal-body",children:c.jsx("p",{children:"Estas seguro de descartar cambios?"})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:Oi,disabled:W,children:"Descartar cambios"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:Ci,disabled:W,children:"Guardar cambios y volver al listado"})]})]})})}),qe&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"savedAtTitle",onClick:K=>{K.target===K.currentTarget&&(Ie(!1),_e(null),Be("bancada"))},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:K=>{K.preventDefault(),Wa()},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"savedAtTitle",className:"modal-title",children:"Editar fecha guardado"}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>{Ie(!1),_e(null),Be("bancada")}})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"savedAtInput",className:"form-label",children:"Fecha guardado"}),c.jsx("input",{id:"savedAtInput",type:"datetime-local",className:"form-control",value:de,onChange:K=>Fe(K.target.value),required:!0}),c.jsx("div",{className:"form-text",children:Ye==="oi"?"Se aplicar a todas las bancadas de la OI.":"Se aplica a la bancada seleccionada."})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{Ie(!1),_e(null),Be("bancada")},children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:W||!de,children:"Guardar"})]})]})})}),c.jsx(Ai,{show:Qe,title:"Contrasea para proteger Excel",onClose:()=>tt(!1),onConfirm:K=>{tt(!1),da(K)}})]})}function iR(t){return t==="/home"?null:t==="/oi"?"oi_formulario":t==="/oi/list"?"oi_listado":t==="/oi/tools/vima-to-lista"?"tools_vima_lista":t==="/oi/tools/actualizacion-base"?"tools_actualizacion_bases":t==="/oi/tools/consolidacion/correlativo"?"tools_consol_correlativo":t==="/oi/tools/consolidacion/no-correlativo"?"tools_consol_no_correlativo":t.startsWith("/oi/")?"oi_formulario":t==="/users"?"users_admin":t==="/admin/permisos"?"admin_permisos":null}function oR(){const t=Ln(),a=On(),r=t?.token??null,[l,o]=b.useState(()=>!!r);if(b.useEffect(()=>{if(!r){o(!1);return}let S=!1;return o(!0),Ge.get("/auth/me").then(()=>{S||o(!1)}).catch(async w=>{if(S)return;const B=w?.response?.status;if(B===401||B===403){await i0();return}o(!1)}),()=>{S=!0}},[r]),!r)return c.jsx(As,{to:"/login",replace:!0});if(l)return c.jsx(fl,{show:!0});const d=t,m=Ra(d.role,d.username),h=pm(d),y=ji(m),p=ic();if(y&&!(p&&p>0)&&a.pathname!=="/home")return c.jsx(As,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Banco",message:"Debe seleccionar un banco para continuar."}}});if(a.pathname==="/admin/permisos"&&!h)return c.jsx(As,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"Solo el superusuario puede acceder a este mdulo."}}});if(a.pathname==="/users"&&!(m==="admin"||m==="administrator"))return c.jsx(As,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Usuarios",message:"No tiene permiso para acceder a este mdulo."}}});if(!h){const S=iR(a.pathname),w=d.allowedModules;if(S&&Array.isArray(w)&&!w.includes(S))return c.jsx(As,{to:"/home",replace:!0,state:{toast:{kind:"warning",title:"Permisos",message:"No tiene permiso para acceder a este mdulo."}}})}return c.jsx(nb,{})}const cR=({isActive:t})=>"vi-sidebar-link d-flex align-items-center"+(t?" active":""),uR=.9;function wm(t,a){if(!(a||t<=0))return{paddingLeft:`calc(0.75rem + ${t*uR}rem)`}}function ya({to:t,icon:a,label:r,depth:l,collapsed:o}){return c.jsx("li",{className:"vi-sidebar-item",children:c.jsxs(ib,{to:t,end:!0,className:cR,style:wm(l,o),title:r,"aria-label":r,children:[c.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:r})]})})}function Hv({icon:t,label:a,depth:r,collapsed:l}){return c.jsx("li",{className:"vi-sidebar-item",children:c.jsxs("button",{type:"button",className:"vi-sidebar-link vi-sidebar-link--disabled d-flex align-items-center w-100 border-0 bg-transparent",style:wm(r,l),title:a,"aria-label":a,"aria-disabled":"true",disabled:!0,children:[c.jsx("i",{className:`ti ${t} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label",children:a})]})})}function Ks({groupKey:t,icon:a,label:r,depth:l,collapsed:o,open:d,active:m,onToggle:h,children:y}){const p=`sidebar-group-${t}`,v=d?"ti-angle-down":"ti-angle-right";return c.jsxs("li",{className:"vi-sidebar-item",children:[c.jsxs("button",{type:"button",className:"vi-sidebar-link d-flex align-items-center w-100 border-0 bg-transparent"+(m?" active":""),style:wm(l,o),onClick:()=>{o||h(t)},"aria-expanded":!o&&d,"aria-controls":p,title:r,children:[c.jsx("i",{className:`ti ${a} vi-sidebar-icon`}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-label flex-grow-1",children:r}),c.jsx("span",{className:"vi-sidebar-text vi-sidebar-caret ms-auto",children:c.jsx("i",{className:`ti ${v}`})})]}),!o&&d&&c.jsx("ul",{id:p,className:"list-unstyled mb-0",children:y})]})}function dR({collapsed:t,onToggleSidebar:a}){const r=On(),l=Ln(),o=!!l,d=Ra(l?.role,l?.username),m=pm(l),h=d==="admin"||d==="administrator",y=l?.allowedModules,p=Ne=>m||!Array.isArray(y)||y.includes(Ne),v=o&&p("tools_vima_lista"),S=o&&p("tools_actualizacion_bases"),w=o&&p("tools_consol_correlativo"),B=o&&p("tools_consol_no_correlativo"),_=o&&p("oi_formulario"),O=o&&p("oi_listado"),A=o&&h&&p("users_admin"),k=o&&p("future_ot"),D=o&&p("future_logistica"),J=o&&p("future_smart"),N=w||B,R=v||S,Q=_||O||k,M=R||Q||N,W=b.useMemo(()=>({oi:!0,oi_formato_ac:!0,oi_consolidacion:!0,oi_verificacion:!0,logistica:!0,usuarios:!1,administrar:!1}),[]),[fe,De]=b.useState(()=>{const Ne=localStorage.getItem("medileser.sidebar.openGroups")??localStorage.getItem("vi.sidebar.openGroups");if(!Ne)return W;try{const U=JSON.parse(Ne),se={...W};return Object.keys(se).forEach(P=>{typeof U[P]=="boolean"&&(se[P]=U[P])}),se}catch{return W}}),je=r.pathname;b.useEffect(()=>{localStorage.setItem("medileser.sidebar.openGroups",JSON.stringify(fe))},[fe]);const me=b.useMemo(()=>{const Ne=U=>!!di({path:U,end:!0},je);return{vimaToLista:Ne("/oi/tools/vima-to-lista"),actualizacionBases:Ne("/oi/tools/actualizacion-base"),consolidacionCorrelativo:Ne("/oi/tools/consolidacion/correlativo"),consolidacionNoCorrelativo:Ne("/oi/tools/consolidacion/no-correlativo"),registroOi:Ne("/oi"),listadoOi:Ne("/oi/list"),users:Ne("/users"),password:Ne("/password"),permisos:Ne("/admin/permisos"),log01Excel:Ne("/logistica/log01/excel")}},[je]),ye=b.useMemo(()=>({oi_consolidacion:me.consolidacionCorrelativo||me.consolidacionNoCorrelativo,oi_formato_ac:me.vimaToLista||me.actualizacionBases,oi_verificacion:me.registroOi||me.listadoOi,oi:me.vimaToLista||me.actualizacionBases||me.consolidacionCorrelativo||me.consolidacionNoCorrelativo||me.registroOi||me.listadoOi,usuarios:me.users||me.password,logistica:me.log01Excel,administrar:me.permisos}),[me]);function be(Ne){De(U=>({...U,[Ne]:!U[Ne]}))}return c.jsxs("aside",{className:`vi-sidebar ${t?"vi-sidebar--collapsed":""}`,children:[c.jsxs("div",{className:"vi-sidebar__header",children:[c.jsxs("div",{className:"vi-sidebar__brand",children:[c.jsx("img",{className:"vi-brand-logo",src:"/medileser/logo-vertical.jpg",alt:"Medileser",draggable:!1}),c.jsx("span",{className:"vi-brand-text",children:"MEDILESER APP"})]}),a&&c.jsx("button",{type:"button",className:"vi-sidebar-toggle","aria-label":t?"Expandir men":"Contraer men",onClick:a,children:c.jsx("i",{className:`ti ${t?"ti-angle-right":"ti-angle-left"}`})})]}),c.jsxs("ul",{className:"vi-sidebar-menu list-unstyled mb-0",children:[!o&&c.jsx(ya,{to:"/login",icon:"ti-login",label:"Login",depth:0,collapsed:t}),M&&c.jsxs(Ks,{groupKey:"oi",icon:"ti-panel",label:"OI",depth:0,collapsed:t,open:fe.oi,active:ye.oi,onToggle:be,children:[R&&c.jsxs(Ks,{groupKey:"oi_formato_ac",icon:"ti-folder",label:"FORMATO A-C",depth:1,collapsed:t,open:fe.oi_formato_ac,active:ye.oi_formato_ac,onToggle:be,children:[v&&c.jsx(ya,{to:"/oi/tools/vima-to-lista",icon:"ti-exchange-vertical",label:"VIMA  LISTA",depth:2,collapsed:t}),S&&c.jsx(ya,{to:"/oi/tools/actualizacion-base",icon:"ti-reload",label:"ACTUALIZACIN DE BASES",depth:2,collapsed:t})]}),N&&c.jsxs(Ks,{groupKey:"oi_consolidacion",icon:"ti-layers",label:"CONSOLIDACIN DE BASES ORIGINALES",depth:1,collapsed:t,open:fe.oi_consolidacion,active:ye.oi_consolidacion,onToggle:be,children:[w&&c.jsx(ya,{to:"/oi/tools/consolidacion/correlativo",icon:"ti-list",label:"CORRELATIVO",depth:3,collapsed:t}),B&&c.jsx(ya,{to:"/oi/tools/consolidacion/no-correlativo",icon:"ti-layout-list-thumb",label:"NO CORRELATIVO",depth:3,collapsed:t})]}),Q&&c.jsxs(Ks,{groupKey:"oi_verificacion",icon:"ti-clipboard",label:"VERIFICACIN INICIAL",depth:1,collapsed:t,open:fe.oi_verificacion,active:ye.oi_verificacion,onToggle:be,children:[k&&c.jsx(Hv,{icon:"ti-briefcase",label:"ORDEN DE TRABAJO (FUTURO)",depth:2,collapsed:t}),_&&c.jsx(ya,{to:"/oi",icon:"ti-layout-grid2",label:"REGISTRO OI",depth:2,collapsed:t}),O&&c.jsx(ya,{to:"/oi/list",icon:"ti-view-list-alt",label:"LISTADO OI",depth:2,collapsed:t})]})]}),D&&c.jsx(Ks,{groupKey:"logistica",icon:"ti-package",label:"LOGSTICA",depth:0,collapsed:t,open:fe.logistica,active:ye.logistica,onToggle:be,children:c.jsx(ya,{to:"/logistica/log01/excel",icon:"ti-files",label:"Consolidacin Excel",depth:1,collapsed:t})}),J&&c.jsx(Hv,{icon:"ti-bar-chart",label:"SMART (FUTURO)",depth:0,collapsed:t}),c.jsxs(Ks,{groupKey:"usuarios",icon:"ti-user",label:"USUARIOS",depth:0,collapsed:t,open:fe.usuarios,active:ye.usuarios,onToggle:be,children:[A&&c.jsx(ya,{to:"/users",icon:"ti-user",label:"GESTIN DE USUARIOS",depth:1,collapsed:t}),o&&c.jsx(ya,{to:"/password",icon:"ti-key",label:"CAMBIAR CONTRASEA",depth:1,collapsed:t})]}),m&&c.jsx(Ks,{groupKey:"administrar",icon:"ti-settings",label:"ADMINISTRAR",depth:0,collapsed:t,open:fe.administrar,active:ye.administrar,onToggle:be,children:c.jsx(ya,{to:"/admin/permisos",icon:"ti-lock",label:"PERMISOS",depth:1,collapsed:t})})]})]})}function fR({sidebarCollapsed:t,onToggleSidebar:a}){const r=Ln(),l=r?.username??r?.user??"",o=r?ji(r.role):!1,[d,m]=b.useState(()=>ic());b.useEffect(()=>vj(()=>m(ic())),[]);const h=d&&d>0?`Banco ${d}`:"Banco sin seleccionar",y=async()=>{try{await Sj()}finally{location.assign("/login")}};return c.jsxs("header",{className:"navbar navbar-expand bg-white border-bottom sticky-top vi-topbar px-3",children:[a&&c.jsx("button",{type:"button",className:"btn btn-link text-secondary me-2 vi-sidebar-toggle","aria-label":t?"Expandir men":"Contraer men",onClick:a,children:c.jsx("i",{className:`ti ${t?"ti-menu-alt":"ti-menu"}`})}),c.jsx("div",{className:"me-auto"}),c.jsxs("div",{className:"d-flex align-items-center gap-3",children:[r&&c.jsxs("span",{className:"text-muted small text-truncate",style:{maxWidth:"360px"},children:["Usuario: ",c.jsx("strong",{children:l||"?"}),o&&c.jsxs(c.Fragment,{children:["  ",h,r.techNumber?c.jsxs(c.Fragment,{children:["  ","Tcnico ",r.techNumber]}):null]})]}),r&&c.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:y,children:"Cerrar sesin"})]})]})}function mR(){const a=On().pathname==="/home",[r,l]=b.useState(()=>{try{return(localStorage.getItem("medileser.sidebar.collapsed")??localStorage.getItem("vi.sidebar.collapsed"))==="true"}catch{return!1}}),o=()=>l(d=>!d);return b.useEffect(()=>{try{localStorage.setItem("medileser.sidebar.collapsed",String(r))}catch{}},[r]),c.jsxs("div",{className:`vi-layout ${r?"vi-layout--collapsed":""}`,children:[c.jsx(dR,{collapsed:r,onToggleSidebar:o}),c.jsxs("div",{className:"vi-main",children:[c.jsx(fR,{sidebarCollapsed:r,onToggleSidebar:o}),c.jsx("main",{className:`vi-content${a?" vi-content--home":""}`,children:c.jsx(nb,{})})]})]})}function hR(){const{toast:t}=or(),a=ol(),r=On(),[,l]=cb(),[o,d]=b.useState(()=>new URLSearchParams(r.search).get("q")??""),[m,h]=b.useState(()=>(new URLSearchParams(r.search).get("q")??"").trim()),[y,p]=b.useState(()=>new URLSearchParams(r.search).get("dateFrom")??""),[v,S]=b.useState(()=>new URLSearchParams(r.search).get("dateTo")??""),[w,B]=b.useState(()=>{const ee=new URLSearchParams(r.search).get("pageSize"),Qe=ee?Number(ee):20;return Number.isFinite(Qe)&&Qe>0?Qe:20}),[_,O]=b.useState(()=>{const ee=new URLSearchParams(r.search).get("page"),Qe=ee?Number(ee):1;return Number.isFinite(Qe)&&Qe>0?Math.floor(Qe):1}),[A,k]=b.useState(()=>new URLSearchParams(r.search).get("responsableTech")??""),D=(_-1)*w,J=b.useRef(!1);b.useEffect(()=>{if(!J.current){J.current=!0;return}const ee=setTimeout(()=>{h(o.trim()),O(1)},300);return()=>clearTimeout(ee)},[o]),b.useEffect(()=>{const ee=new URLSearchParams,Qe=o.trim();Qe&&ee.set("q",Qe),y&&ee.set("dateFrom",y),v&&ee.set("dateTo",v),A&&ee.set("responsableTech",A),_!==1&&ee.set("page",String(_)),w!==20&&ee.set("pageSize",String(w));const tt=r.search.startsWith("?")?r.search.slice(1):r.search;ee.toString()!==tt&&l(ee,{replace:!0})},[y,v,r.search,_,w,A,o,l]);const{data:N,isLoading:R,isError:Q,error:M,refetch:W,isFetching:fe}=ar({queryKey:["oi","list",{search:m,dateFrom:y,dateTo:v,responsableTech:A,pageSize:w,offset:D}],queryFn:()=>JC({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0,limit:w,offset:D}),placeholderData:ee=>ee}),De=Ln(),je=Ra(De?.role,De?.username)!=="technician",{data:me=[],isFetching:ye,isError:be,error:Ne}=ar({queryKey:["oi","responsables"],queryFn:eR,enabled:je,staleTime:6e4,retry:!1}),U=be?Ne?.message??"No se pudo cargar responsables":"",se=ee=>{if(!ee)return"-";const Qe=ee.endsWith("Z")?ee:`${ee}Z`,tt=new Date(Qe),Nt=Ut=>Ut.toString().padStart(2,"0");return`${Nt(tt.getDate())}/${Nt(tt.getMonth()+1)}/${tt.getFullYear()} ${Nt(tt.getHours())}:${Nt(tt.getMinutes())}`},ve=N?.items??[],Te=N?.summary??{medidores_resultado:0,oi_unicas:0,medidores_total_oi_unicas:0},E=N?.total??0,Z=N?.limit??w,ne=Z>0?Math.ceil(E/Z):1,he=10;let Re=1,Ee=ne;if(ne>he){const ee=Math.floor(he/2);Re=Math.max(1,_-ee),Ee=Re+he-1,Ee>ne&&(Ee=ne,Re=Math.max(1,Ee-he+1))}const[qe,Ie]=b.useState(!1),[de,Fe]=b.useState(null),[He,_e]=b.useState(!1),[Ye,Be]=b.useState(!1),Pe=R||fe||He||Ye,xe=()=>`${r.pathname}${r.search}`,ae=(ee,Qe)=>{try{ci({id:ee,code:Qe}),t({kind:"success",message:`OI ${Qe} cargada`}),a(`/oi/${ee}?mode=view`,{state:{returnTo:xe()}})}catch(tt){t({kind:"error",title:"Error",message:tt?.message??"No se pudo abrir el OI"})}},we=(ee,Qe)=>{try{ci({id:ee,code:Qe}),t({kind:"success",message:`OI ${Qe} cargada`}),a(`/oi/${ee}?mode=edit`,{state:{returnTo:xe()}})}catch(tt){t({kind:"error",title:"Error",message:tt?.message??"No se pudo abrir el OI"})}},Y=async()=>{try{await mm()}finally{Hf(),a("/oi?mode=edit",{state:{returnTo:xe()}})}},j=async(ee,Qe)=>{if(confirm(`Ests seguro de ELIMINAR la ${Qe}?
Esta accin borrar todas sus bancadas y no se puede deshacer.`))try{await KC(ee),t({kind:"success",title:"Eliminado",message:`Se elimin ${Qe} correctamente.`}),W()}catch(tt){t({kind:"error",title:"Error",message:tt.message||"No se pudo eliminar la OI"})}},T=ee=>{Fe(ee),Ie(!0)},V=async ee=>{if(de)try{_e(!0),await q0(de,ee),t({kind:"success",message:"Excel generado"})}catch(Qe){t({kind:"error",title:"Error",message:Qe?.message??"No se pudo generar el Excel"})}finally{_e(!1)}},pe=async()=>{try{Be(!0);const{blob:ee,filename:Qe}=await WC({q:m||void 0,dateFrom:y||void 0,dateTo:v||void 0,responsableTechNumber:A?Number(A):void 0}),tt=URL.createObjectURL(ee),Nt=document.createElement("a");Nt.href=tt,Nt.download=Qe,document.body.appendChild(Nt),Nt.click(),URL.revokeObjectURL(tt),Nt.remove()}catch(ee){const Qe=ee?.status,tt=ee?.message??"No se pudo exportar el CSV";t(Qe===403?{kind:"error",title:"No autorizado",message:tt}:{kind:"error",title:"Error",message:tt})}finally{Be(!1)}},le=()=>{d(""),h(""),p(""),S(""),O(1),k("")},ue=E===0?0:D+1,Ae=E===0?0:Math.min(D+ve.length,E),Le=E===0?"0 registros":`Mostrando ${ue}-${Ae} de ${E} registros`;return c.jsxs("div",{children:[c.jsx(fl,{show:Pe}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[c.jsxs("div",{className:"d-flex align-items-center gap-2",children:[c.jsx("button",{className:"btn btn-primary",onClick:Y,disabled:Pe,title:"Nueva OI",children:"Nueva OI"}),c.jsx("h1",{className:"h3 mb-0",children:"Listado de OI"})]}),c.jsxs("div",{className:"d-flex gap-2",children:[je&&c.jsx("button",{className:"btn btn-outline-secondary",onClick:pe,disabled:Pe,children:Ye?"Exportando...":"Exportar CSV"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:le,disabled:Pe,children:"Limpiar filtros"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>W(),disabled:Pe,children:"Recargar"})]})]}),Q&&c.jsx("div",{className:"alert alert-danger",children:M?.message??"Error cargando listado"}),c.jsxs("div",{className:"card vi-card-table",children:[c.jsxs("div",{className:"card-header d-flex flex-wrap align-items-center justify-content-between gap-2",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"h6 mb-0",children:"Registros"}),c.jsxs("small",{className:"text-muted",children:["Medidores (resultados): ",Te.medidores_resultado," | OI unicas: ",Te.oi_unicas," | Medidores (Total OI): ",Te.medidores_total_oi_unicas]})]}),c.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[c.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar OI o medidor...",value:o,onChange:ee=>{d(ee.target.value),O(1)},"aria-label":"Buscar por codigo de OI o medidor"}),c.jsx("input",{type:"date",className:"form-control form-control-sm",value:y,onChange:ee=>{p(ee.target.value),O(1)},"aria-label":"Filtrar desde fecha"}),c.jsx("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:ee=>{S(ee.target.value),O(1)},"aria-label":"Filtrar hasta fecha"}),je&&c.jsxs("div",{className:"d-flex flex-column",children:[c.jsxs("select",{className:"form-select form-select-sm",value:A,onChange:ee=>{k(ee.target.value),O(1)},disabled:Pe||ye,"aria-label":"Filtrar por responsable",title:"Responsable",children:[c.jsx("option",{value:"",children:"Responsable: Todos"}),me.map(ee=>c.jsx("option",{value:String(ee.tech_number),children:ee.full_name},ee.tech_number))]}),U?c.jsx("small",{className:"text-danger",children:U}):null]}),c.jsxs("div",{className:"d-flex align-items-center",children:[c.jsx("span",{className:"me-1 small",children:"Mostrar"}),c.jsxs("select",{className:"form-select form-select-sm",value:w,onChange:ee=>{const Qe=Number(ee.target.value)||20;B(Qe),O(1)},"aria-label":"Registros por pgina",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]})]}),c.jsxs("div",{className:"card-body p-0",children:[c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover table-striped table-sm align-middle mb-0",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:"OI"}),c.jsx("th",{children:"Medidores"}),c.jsx("th",{children:"Q3"}),c.jsx("th",{children:"Alcance"}),c.jsx("th",{children:"PMA"}),c.jsx("th",{children:"Banco"}),c.jsx("th",{children:"Tcnico"}),c.jsx("th",{children:"Responsable"}),c.jsx("th",{children:"Creacin"}),c.jsx("th",{children:"Guardado"}),c.jsx("th",{children:"lt. mod."}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[!Pe&&ve.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:13,className:"text-center text-muted py-3",children:E>0?"No hay registros que coincidan con los filtros.":"Sin registros."})}),ve.map(ee=>c.jsxs("tr",{children:[c.jsx("td",{children:ee.id}),c.jsx("td",{children:ee.code}),c.jsx("td",{title:"Mi registro / Total OI",children:`${ee.medidores_usuario??0} / ${ee.medidores_total_code??0}`}),c.jsx("td",{children:ee.q3}),c.jsx("td",{children:ee.alcance}),c.jsx("td",{children:ee.pma}),c.jsx("td",{children:ee.banco_id}),c.jsx("td",{children:ee.tech_number}),c.jsx("td",{children:ee.creator_name}),c.jsx("td",{children:se(ee.created_at)}),c.jsx("td",{children:se(ee.saved_at)}),c.jsx("td",{children:se(ee.updated_at)}),c.jsxs("td",{className:"text-end",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>ae(ee.id,ee.code),disabled:Pe,title:"Ver OI","aria-label":`Ver OI ${ee.code}`,children:"Ver"}),c.jsx("button",{className:"btn btn-sm btn-outline-warning me-2",onClick:()=>we(ee.id,ee.code),disabled:Pe,title:"Editar OI","aria-label":`Editar OI ${ee.code}`,children:"Editar"}),c.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>T(ee.id),disabled:Pe,title:"Descargar Excel","aria-label":`Descargar Excel ${ee.code}`,children:"Excel"}),je&&c.jsx("button",{className:"btn btn-sm btn-outline-danger ms-2",onClick:()=>j(ee.id,ee.code),disabled:Pe,title:"Eliminar OI (Solo Admin)",children:""})]})]},ee.id))]})]})}),ne>1&&c.jsx("nav",{className:"px-3 py-2 d-flex justify-content-center",children:c.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[c.jsx("li",{className:`page-item ${_===1?"disabled":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>O(ee=>Math.max(1,ee-1)),disabled:_===1,children:""})}),Array.from({length:Ee-Re+1},(ee,Qe)=>{const tt=Re+Qe;return c.jsx("li",{className:`page-item ${tt===_?"active":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>O(tt),children:tt})},tt)}),c.jsx("li",{className:`page-item ${_===ne?"disabled":""}`,children:c.jsx("button",{className:"page-link",onClick:()=>O(ee=>Math.min(ne,ee+1)),disabled:_===ne,children:"Siguiente"})})]})})]})]}),c.jsx("div",{className:"px-3 py-2 d-flex justify-content-end",children:c.jsx("small",{className:"text-muted",children:Le})}),c.jsx(Ai,{show:qe,title:"Contrasea para proteger Excel",onClose:()=>{Ie(!1),Fe(null)},onConfirm:ee=>{Ie(!1),V(ee)}})]})}function pR(){const{toast:t}=or(),a=Ln(),r=Ra(a?.role,a?.username),l=r==="admin"||r==="administrator",o=pm(a),[d,m]=b.useState(!1),[h,y]=b.useState(!1),[p,v]=b.useState(null),{data:S,refetch:w,isLoading:B}=ar({queryKey:["users"],queryFn:async()=>(await Ge.get("/auth/users")).data,enabled:l}),{register:_,handleSubmit:O,reset:A}=gc(),k=async N=>{try{y(!0),await Ge.post("/auth/users",{...N,tech_number:Number(N.tech_number)}),t({kind:"success",message:"Usuario creado correctamente"}),m(!1),A(),w()}catch(R){t({kind:"error",title:"Error",message:R.response?.data?.detail||"Error al crear"})}finally{y(!1)}},D=async N=>{if(confirm(`Eliminar usuario ${N.username}?
Esto solo es posible si no tiene registros.`))try{y(!0),await Ge.delete(`/auth/users/${N.id}`),t({kind:"success",message:"Usuario eliminado"}),w()}catch(R){t({kind:"error",title:"No se puede eliminar",message:R.response?.data?.detail||R.message})}finally{y(!1)}},J=async N=>{if(p)try{y(!0),await Ge.put(`/auth/users/${p.id}/password`,{new_password:N}),t({kind:"success",message:`Contrasea de ${p.username} actualizada`}),v(null)}catch(R){t({kind:"error",message:R.response?.data?.detail||"Error actualizando clave"})}finally{y(!1)}};return l?c.jsxs("div",{className:"container-fluid p-4 vi-oi-light",children:[c.jsx(fl,{show:B||h}),c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[c.jsx("h2",{className:"h4 m-0",children:"Gestin de Usuarios"}),c.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:"+ Nuevo Usuario"})]}),c.jsx("div",{className:"card shadow-sm",children:c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-hover align-middle mb-0",children:[c.jsx("thead",{className:"table-light",children:c.jsxs("tr",{children:[c.jsx("th",{children:"Usuario"}),c.jsx("th",{children:"Nombre"}),c.jsx("th",{children:"Rol"}),c.jsx("th",{children:"N Tcnico"}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[S?.map(N=>c.jsxs("tr",{children:[c.jsx("td",{className:"fw-bold",children:N.username}),c.jsxs("td",{children:[N.first_name," ",N.last_name]}),c.jsx("td",{children:(()=>{const R=Ra(N.role,N.username),Q=N.username.toLowerCase()==="admin"?"Superusuario":R==="administrator"?"Administrador":R==="technician"?"Tcnico":"Estndar",M=N.username.toLowerCase()==="admin"?"bg-danger":R==="administrator"?"bg-warning text-dark":R==="technician"?"bg-info text-dark":"bg-secondary";return c.jsx("span",{className:`badge ${M}`,children:Q})})()}),c.jsx("td",{children:N.tech_number}),c.jsxs("td",{className:"text-end",children:[c.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",title:"Cambiar contrasea","aria-label":`Cambiar contrasea de ${N.username}`,disabled:N.username==="admin"||!o&&Ra(N.role,N.username)==="administrator",onClick:()=>v(N),children:c.jsx("i",{className:"ti ti-key"})}),c.jsx("button",{className:"btn btn-sm btn-outline-danger",title:"Eliminar usuario","aria-label":`Eliminar ${N.username}`,disabled:N.username==="admin"||!o&&Ra(N.role,N.username)==="administrator",onClick:()=>D(N),children:c.jsx("i",{className:"ti ti-trash"})})]})]},N.id)),S?.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay usuarios registrados"})})]})]})})}),d&&c.jsx("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("form",{className:"modal-content",onSubmit:O(k),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",children:"Nuevo Usuario"}),c.jsx("button",{type:"button",className:"btn-close",onClick:()=>m(!1)})]}),c.jsxs("div",{className:"modal-body row g-3",children:[c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Usuario"}),c.jsx("input",{className:"form-control",..._("username",{required:!0})})]}),c.jsx("div",{className:"col-6",children:c.jsx(mi,{label:"Contrasea",..._("password",{required:!0}),autoComplete:"new-password"})}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Nombre"}),c.jsx("input",{className:"form-control",..._("first_name",{required:!0})})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Apellido"}),c.jsx("input",{className:"form-control",..._("last_name",{required:!0})})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"Rol"}),c.jsxs("select",{className:"form-select",..._("role"),children:[c.jsx("option",{value:"technician",children:"Tcnico"}),c.jsx("option",{value:"standard",children:"Estndar"}),o?c.jsx("option",{value:"administrator",children:"Administrador"}):null]})]}),c.jsxs("div",{className:"col-6",children:[c.jsx("label",{className:"form-label",children:"N Tcnico"}),c.jsx("input",{type:"number",className:"form-control",..._("tech_number",{required:!0})}),c.jsx("div",{className:"form-text small",children:"Use 0 si no aplica (admin/estndar)"})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:"Cancelar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})})}),c.jsx(Ai,{show:!!p,title:`Cambiar contrasea de ${p?.username}`,onClose:()=>v(null),onConfirm:J,confirmLabel:"Cambiar contrasea",helpText:"Esta accin cambia la contrasea de inicio de sesin del usuario."})]}):c.jsx("div",{className:"p-4 text-danger",children:"Acceso no autorizado"})}function gR(){const{toast:t}=or(),[a,r]=b.useState(""),[l,o]=b.useState(""),[d,m]=b.useState(!1),h=a.trim().length>0&&l.trim().length>0,y=async p=>{if(p.preventDefault(),!!h)try{m(!0),await bj(a.trim(),l.trim()),t({kind:"success",message:"Contrasea actualizada"}),r(""),o("")}catch(v){t({kind:"error",title:"Error",message:v?.message??"No se pudo cambiar la contrasea"})}finally{m(!1)}};return c.jsx("div",{className:"container py-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"card shadow-sm",children:[c.jsx("div",{className:"card-header",children:c.jsx("h5",{className:"mb-0",children:"Cambiar mi contrasea"})}),c.jsxs("form",{onSubmit:y,children:[c.jsxs("div",{className:"card-body",children:[c.jsx("div",{className:"mb-3",children:c.jsx(mi,{label:"Contrasea actual",inputId:"oldPwd",value:a,onChange:p=>r(p.target.value),required:!0,autoComplete:"current-password"})}),c.jsx("div",{className:"mb-3",children:c.jsx(mi,{label:"Nueva contrasea",inputId:"newPwd",value:l,onChange:p=>o(p.target.value),required:!0,autoComplete:"new-password",helpText:"Usa una contrasea segura y que recuerdes."})})]}),c.jsxs("div",{className:"card-footer d-flex justify-content-end gap-2",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{r(""),o("")},disabled:d,children:"Limpiar"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!h||d,children:"Guardar"})]})]})]})})})})}async function yR(){const{data:t}=await Ge.get("/admin/permisos");return t}async function vR(t,a){const{data:r}=await Ge.put(`/admin/permisos/${t}`,{allowedModules:a});return r}const L0=[{id:"oi_formulario",label:"Registro OI",path:"/oi"},{id:"oi_listado",label:"Listado OI",path:"/oi/list"},{id:"tools_vima_lista",label:"VIMA  LISTA",path:"/oi/tools/vima-to-lista"},{id:"tools_actualizacion_bases",label:"Actualizacin de Bases",path:"/oi/tools/actualizacion-base"},{id:"tools_consol_correlativo",label:"Consolidacin (Correlativo)",path:"/oi/tools/consolidacion/correlativo"},{id:"tools_consol_no_correlativo",label:"Consolidacin (No Correlativo)",path:"/oi/tools/consolidacion/no-correlativo"},{id:"future_ot",label:"Orden de Trabajo (FUTURO)",path:"FUTURO"},{id:"future_logistica",label:"Logstica (FUTURO)",path:"FUTURO"},{id:"future_smart",label:"Smart (FUTURO)",path:"FUTURO"},{id:"users_admin",label:"Gestin de usuarios",path:"/users"},{id:"admin_permisos",label:"Permisos",path:"/admin/permisos"}];function Zv(t){const a=new Set(L0.map(o=>o.id)),r=new Set,l=[];for(const o of t)!a.has(o)||r.has(o)||(r.add(o),l.push(o));return l}function bR(){const t=nm(),{toast:a}=or(),{data:r,isLoading:l,error:o}=ar({queryKey:["admin","permisos"],queryFn:yR}),[d,m]=b.useState(null),[h,y]=b.useState([]),p=(d?.username??"").toLowerCase()==="admin",v=A=>{m(A),y(Zv(A.allowedModules??[]))},S=()=>{m(null),y([])},w=hN({mutationFn:async A=>vR(A.userId,A.allowedModules),onSuccess:async()=>{await t.invalidateQueries({queryKey:["admin","permisos"]}),a({kind:"success",title:"Permisos",message:"Permisos actualizados."}),S()},onError:A=>{const k=A?.response?.data?.detail??A?.message??"No se pudieron actualizar los permisos.";a({kind:"error",title:"Permisos",message:String(k)})}}),B=b.useMemo(()=>r??[],[r]),_=A=>{y(k=>{const D=new Set(k);return D.has(A)?D.delete(A):D.add(A),Array.from(D)})},O=()=>{d&&w.mutate({userId:d.id,allowedModules:Zv(h)})};return c.jsxs("div",{className:"container-fluid",children:[c.jsx(fl,{show:w.isPending,label:"Guardando permisos..."}),c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Administrar  Permisos"}),c.jsx("p",{className:"text-muted mB-20",children:"Define qu mdulos puede ver cada usuario (el acceso por URL tambin se bloquea)."}),l?c.jsx("div",{className:"text-muted",children:"Cargando usuarios..."}):o?c.jsx("div",{className:"alert alert-danger",role:"alert",children:"No se pudo cargar la lista de usuarios."}):c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm align-middle",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Usuario"}),c.jsx("th",{children:"Rol"}),c.jsx("th",{className:"text-end",children:"Acciones"})]})}),c.jsxs("tbody",{children:[B.map(A=>c.jsxs("tr",{children:[c.jsx("td",{children:A.username}),c.jsx("td",{children:A.role}),c.jsx("td",{className:"text-end",children:c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>v(A),disabled:(A.username??"").toLowerCase()==="admin",children:"Editar"})})]},A.id)),B.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"text-muted",children:"No hay usuarios."})}):null]})]})})]})})}),d&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"permsModalTitle",onClick:A=>{A.target===A.currentTarget&&S()},children:c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h5",{id:"permsModalTitle",className:"modal-title",children:["Permisos de ",d.username]}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:S})]}),c.jsxs("div",{className:"modal-body",children:[p?c.jsxs("div",{className:"alert alert-info",role:"alert",children:["El superusuario ",c.jsx("b",{children:"admin"})," siempre tiene acceso total y no se puede limitar por permisos."]}):null,c.jsx("div",{className:"row",children:L0.map(A=>c.jsx("div",{className:"col-md-6 mb-2",children:c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:`perm-${d.id}-${A.id}`,checked:h.includes(A.id),onChange:()=>_(A.id),disabled:w.isPending||p}),c.jsxs("label",{className:"form-check-label",htmlFor:`perm-${d.id}-${A.id}`,children:[A.label," ",c.jsxs("span",{className:"text-muted",children:["(",A.path,")"]})]})]})},A.id))}),c.jsx("div",{className:"form-text mt-2",children:"Nota: Cambiar contrasea y Home siempre estn disponibles para todos."})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:S,disabled:w.isPending,children:"Cancelar"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:O,disabled:w.isPending||p,children:"Guardar"})]})]})})})]})}function xR(t){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${t.startsWith("/")?"":"/"}${t}`}async function SR(t,a){return Ge.post("/integrations/vima-to-lista/dry-run-upload",t,{signal:a})}async function _R(t,a){return Ge.post("/integrations/vima-to-lista/upload",t,{responseType:"blob",signal:a})}async function Iv(t,a,r){const l=xR(`/integrations/vima-to-lista/progress/${t}`),o=Ln()?.token,d=await fetch(l,{method:"GET",headers:o?{Authorization:`Bearer ${o}`}:void 0,signal:r});if(!d.ok||!d.body)throw new Error(`No se pudo abrir el stream de progreso (${d.status})`);const m=d.body.getReader(),h=new TextDecoder("utf-8");let y="";for(;;){const{value:p,done:v}=await m.read();if(v)break;y+=h.decode(p,{stream:!0});let S;for(;(S=y.indexOf(`
`))>=0;){const w=y.slice(0,S).trim();if(y=y.slice(S+1),!!w)try{a(JSON.parse(w))}catch{}}}}function el(t){return`${t.name}::${t.size}::${t.lastModified}`}function wR(t){if(!t)return null;const a=t.split(",").map(r=>r.trim().toLowerCase()).filter(Boolean);return a.length===0?null:a}function Nm(t,a){const r=wR(a);if(!r)return t;const l=r.filter(o=>o.startsWith("."));return l.length===0?t:t.filter(o=>l.some(d=>o.name.toLowerCase().endsWith(d)))}function NR(t,a){if(a.length===0)return{merged:t,added:[],duplicates:[]};const r=[...t],l=[],o=[],d=new Set(t.map(el));for(const m of a){const h=el(m);if(d.has(h)){o.push(m);continue}d.add(h),r.push(m),l.push(m)}return{merged:r,added:l,duplicates:o}}function gi({label:t,accept:a,disabled:r=!1,file:l,onChange:o}){const d=b.useRef(null),m=b.useRef(0),[h,y]=b.useState(!1),p=()=>{r||d.current?.click()},v=()=>{r||(d.current&&(d.current.value=""),o(null))},S=A=>{o(A.target.files?.[0]??null),A.currentTarget.value=""},w=A=>{A.preventDefault(),A.stopPropagation(),!r&&(m.current+=1,y(!0))},B=A=>{A.preventDefault(),A.stopPropagation()},_=A=>{A.preventDefault(),A.stopPropagation(),!r&&(m.current=Math.max(0,m.current-1),m.current===0&&y(!1))},O=A=>{if(A.preventDefault(),A.stopPropagation(),m.current=0,y(!1),r)return;const k=A.dataTransfer?.files?Array.from(A.dataTransfer.files):[],J=Nm(k,a)[0]??null;J&&(d.current&&(d.current.value=""),o(J))};return c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:t}),c.jsx("input",{ref:d,className:"d-none",type:"file",accept:a,onChange:S,disabled:r}),c.jsx("div",{className:`vi-file-drop-target${h?" is-dragover":""}`,onDragEnter:w,onDragOver:B,onDragLeave:_,onDrop:O,"aria-disabled":r?"true":"false",children:c.jsxs("div",{className:"input-group",children:[c.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:p,disabled:r,children:"Examinar"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,disabled:r||!l,children:"Eliminar"}),c.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:l?l.name:"No se ha seleccionado ningn archivo."})]})})]})}const jR={status:"estado",progress:"progreso",complete:"completado",error:"error"},ER={received:"recibido",loading:"cargando",upload:"subida",analysis:"anlisis",init:"iniciando",processing:"procesamiento",opening:"abriendo",reading:"leyendo",writing:"escribiendo",saving:"guardando",cancelled:"cancelado",canceled:"cancelado",copied:"copiado",skipped:"omitido",skipped_incremental:"omitido (incremental)",stopped_blank:"detenido (en blanco)",complete:"completado",done:"finalizado",error:"error"},AR=[[/\bcomplete(d)?\b/gi,"completado"],[/\bstopped_blank\b/gi,"detenido (en blanco)"],[/\bskipped_incremental\b/gi,"omitido (incremental)"],[/\bskipped\b/gi,"omitido"],[/\bprocessing\b/gi,"procesando"],[/\bopening\b/gi,"abriendo"],[/\breading\b/gi,"leyendo"],[/\bwriting\b/gi,"escribiendo"],[/\bsaving\b/gi,"guardando"],[/\breceived\b/gi,"recibido"],[/\bloading\b/gi,"cargando"],[/\bupload(ing)?\b/gi,"subiendo"],[/\bdownload(ing)?\b/gi,"descargando"],[/\bmerge(s|d|ing)?\b/gi,"consolidando"]];function F0(t){return t&&t.charAt(0).toUpperCase()+t.slice(1)}function al(t){if(!t)return"";const a=t.toLowerCase();return F0(jR[a]??t)}function sl(t){if(!t)return"";const a=t.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),r=t.trim().replace(/[_-]+/g," ");return F0(ER[a]??ir(r))}function ir(t){if(!t)return"";let a=t;for(const[r,l]of AR)a=a.replace(r,l);return a}function OR(t){if(!t)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(t);return a?.[2]?decodeURIComponent(a[2]):null}function CR(t,a){const r=URL.createObjectURL(t),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}function RR(){const[t,a]=b.useState(null),[r,l]=b.useState(null),[o,d]=b.useState(""),[m,h]=b.useState(11),[y,p]=b.useState(11),[v,S]=b.useState(!0),[w,B]=b.useState(!0),[_,O]=b.useState(!0),[A,k]=b.useState(!0),[D,J]=b.useState(""),[N,R]=b.useState(null),[Q,M]=b.useState(null),[W,fe]=b.useState(null),[De,je]=b.useState([]),[me,ye]=b.useState(""),be=b.useRef(null),Ne=b.useRef(null),[U,se]=b.useState(!1),[P,ve]=b.useState(!1),[Te,E]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Z=b.useMemo(()=>!!t&&!!r&&!N,[t,r,N]);function ne(_e){je(Be=>[_e,...Be].slice(0,200));const Ye=typeof _e.percent=="number"?_e.percent:typeof _e.progress=="number"?_e.progress:null;Ye!=null&&Number.isFinite(Ye)&&fe(Math.max(0,Math.min(100,Ye)))}function he(){be.current?.abort(),be.current=null}function Re(){N&&he()}function Ee(_e,Ye){if(!t||!r)throw new Error("Faltan archivos");const Be=new FormData;Be.append("vima_file",t),Be.append("lista_file",r);const Pe=(Ye??o).trim();return Pe&&Be.append("vima_password",Pe),Be.append("vima_start_row",String(m)),Be.append("lista_start_row",String(y)),Be.append("require_all_g_to_n",v?"true":"false"),Be.append("incremental",w?"true":"false"),Be.append("strict_incremental",_?"true":"false"),Be.append("replicate_merges",A?"true":"false"),D.trim()&&Be.append("oi_pattern",D.trim()),Be.append("operation_id",_e),Be}function qe(){Ne.current=null,ve(!1)}function Ie(_e,Ye){Ne.current=_e,E(Ye),ve(!0)}function de(_e,Ye){if(!lt.isAxiosError(_e)){ye(String(_e));return}const Be=_e;if(Be.code==="ERR_CANCELED")return;const Pe=Be.response?.headers?.["x-code"],xe=Be.response?.data?.detail??Be.message;if(Pe==="PASSWORD_REQUIRED"){ye(""),Ie(Ye,"El archivo VIMA est protegido. Ingresa la contrasea de apertura para continuar.");return}if(Pe==="WRONG_PASSWORD"){ye(""),Ie(Ye,"Contrasea incorrecta. Intenta nuevamente.");return}ye(String(xe))}async function Fe(_e){ye(""),M(null),je([]),fe(0);const Ye=crypto.randomUUID();be.current=new AbortController,Iv(Ye,ne,be.current.signal).catch(()=>{}),R("dry");try{const Be=Ee(Ye,_e?.passwordOverride),Pe=await SR(Be,be.current.signal);M(Pe.data)}catch(Be){de(Be,"dry")}finally{he(),R(null)}}async function He(_e){ye(""),je([]),fe(0);const Ye=crypto.randomUUID();be.current=new AbortController,Iv(Ye,ne,be.current.signal).catch(()=>{}),R("upload");try{const Be=Ee(Ye,_e?.passwordOverride),Pe=await _R(Be,be.current.signal),xe=Pe.headers?.["content-disposition"],ae=OR(xe)??"LISTA_SALIDA.xlsx";CR(Pe.data,ae)}catch(Be){de(Be,"upload")}finally{he(),R(null)}}return c.jsxs("div",{className:"container-fluid",children:[c.jsxs("div",{className:"row gap-20",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-20",children:"Integracin VIMA  LISTA"}),c.jsx("div",{className:"mB-15",children:c.jsx(gi,{label:"Archivo VIMA (.xlsm)",accept:".xlsm,.xlsx",file:t,onChange:a,disabled:!!N})}),c.jsx("div",{className:"mB-15",children:c.jsx(gi,{label:"Archivo LISTA (.xlsx)",accept:".xlsx,.xlsm",file:r,onChange:l,disabled:!!N})}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"Contrasea VIMA (si aplica)"}),c.jsx("input",{className:"form-control",type:"password",value:o,onChange:_e=>d(_e.target.value),placeholder:"(opcional)"})]}),U?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio VIMA"}),c.jsx("input",{className:"form-control",type:"number",value:m,onChange:_e=>h(Number(_e.target.value))})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio LISTA"}),c.jsx("input",{className:"form-control",type:"number",value:y,onChange:_e=>p(Number(_e.target.value))})]})]}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"Patrn OI (regex, opcional)"}),c.jsx("input",{className:"form-control",value:D,onChange:_e=>J(_e.target.value),placeholder:"Ej: OI-(\\\\d{4})-(\\\\d+)"}),c.jsx("small",{className:"text-muted",children:"Nota: si pegas barras invertidas, el backend ya normaliza doble backslash."})]}),c.jsxs("div",{className:"row mT-10",children:[c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"requireAll",checked:v,onChange:_e=>S(_e.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"requireAll",children:"Requerir GN completos"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:A,onChange:_e=>k(_e.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"incremental",checked:w,onChange:_e=>B(_e.target.checked)}),c.jsx("label",{className:"form-check-label",htmlFor:"incremental",children:"Incremental"})]})}),c.jsx("div",{className:"col-md-6 mB-10",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"strictIncremental",checked:_,onChange:_e=>O(_e.target.checked),disabled:!w}),c.jsx("label",{className:"form-check-label",htmlFor:"strictIncremental",children:"Incremental estricto"})]})})]})]}):null,me&&c.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:me}),c.jsx("div",{className:"d-flex justify-content-end mT-10",children:c.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>se(_e=>!_e),disabled:!!N,children:U?"Menos Opciones":"Ms Opciones"})}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary",disabled:!Z,onClick:()=>void He(),children:N==="upload"?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger",disabled:!N,onClick:Re,children:"Cancelar"}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!Z,onClick:()=>void Fe(),children:N==="dry"?"Analizando...":"Analizar"})]}),Q&&c.jsxs("div",{className:"mT-20",children:[c.jsx("h5",{className:"c-grey-900",children:"Resumen"}),c.jsxs("ul",{className:"mB-0",children:[c.jsxs("li",{children:["Filas a copiar: ",c.jsx("b",{children:Q.would_copy})]}),c.jsxs("li",{children:["Fila inicio escritura (LISTA): ",c.jsx("b",{children:Q.start_write_row})]}),c.jsxs("li",{children:["ltimo OI en LISTA: ",c.jsx("b",{children:String(Q.last_oi_in_lista??"-")})]}),c.jsxs("li",{children:["Primer OI a copiar: ",c.jsx("b",{children:String(Q.first_oi_to_copy??"-")})]}),c.jsxs("li",{children:["ltimo OI a copiar: ",c.jsx("b",{children:String(Q.last_oi_to_copy??"-")})]})]})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),N?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${W??0}%`},"aria-valuenow":W??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:De.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:De.map((_e,Ye)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:al(_e.type)})," ",_e.stage?c.jsxs("span",{className:"text-muted",children:["[",sl(_e.stage),"]"]}):null,typeof _e.percent=="number"?c.jsxs("span",{className:"text-muted",children:["  ",_e.percent.toFixed(1),"%"]}):null]}),c.jsx("div",{className:"text-muted",children:ir(_e.message??_e.detail??"")}),_e.code?c.jsxs("div",{className:"text-muted",children:["Cdigo: ",_e.code]}):null]},Ye))})})]})})]}),c.jsx(Ai,{show:P,title:"Archivo protegido",confirmLabel:"Continuar",helpText:Te,onClose:qe,onConfirm:_e=>{d(_e),ve(!1);const Ye=Ne.current;Ne.current=null,Ye&&(Ye==="dry"?Fe({passwordOverride:_e}):He({passwordOverride:_e}))}})]})}const TR=(...t)=>{};function zc(t){const a=Ge.defaults.baseURL??window.location.origin;return`${String(a).replace(/\/$/,"")}${t.startsWith("/")?"":"/"}${t}`}async function $0(t,a){if(!t.body)return;const r=t.body.getReader(),l=new TextDecoder("utf-8");let o="";for(;;){const{value:d,done:m}=await r.read();if(m)break;o+=l.decode(d,{stream:!0});let h;for(;(h=o.indexOf(`
`))>=0;){const y=o.slice(0,h).trim();if(o=o.slice(h+1),!!y)try{a(JSON.parse(y))}catch{}}}}function tl(t,a,r){const l=new Error(t);return a!=null&&(l.status=a),r&&(l.code=r),l}async function jm(t,a,r){const l=zc(`/integrations/vima-to-lista/progress/${t}`),o=Ln()?.token,d=await fetch(l,{method:"GET",headers:{...o?{Authorization:`Bearer ${o}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:r});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw tl(`No se pudo abrir el stream (${d.status})`,d.status,m)}await $0(d,a)}async function zR(t,a,r){const l=zc(`/logistica/log01/progress/${t}`),o=Ln()?.token,d=await fetch(l,{method:"GET",headers:{...o?{Authorization:`Bearer ${o}`}:{},Accept:"application/x-ndjson","Cache-Control":"no-cache"},signal:r});if(!d.ok){const S=d.headers.get("X-Code")??void 0;throw tl(`No se pudo abrir el stream (${d.status})`,d.status,S)}if(!(d.headers.get("Content-Type")??"").includes("application/x-ndjson"))throw tl("Stream no es NDJSON",d.status);if(!d.body)throw tl("Stream sin body",d.status);const h=d.body.getReader(),y=new TextDecoder("utf-8");let p="",v=!1;for(;;){const{value:S,done:w}=await h.read();if(w)break;!v&&S&&S.length&&(v=!0),p+=y.decode(S,{stream:!0});let B;for(;(B=p.indexOf(`
`))>=0;){const _=p.slice(0,B).trim();if(p=p.slice(B+1),!!_)try{const O=JSON.parse(_);TR("[LOG01] progress event =",O),a(O)}catch{}}}}async function DR(t,a,r){const l=zc("/bases/actualizar/dry-run-upload"),o=Ln()?.token,d=await fetch(l,{method:"POST",headers:o?{Authorization:`Bearer ${o}`}:void 0,body:t,signal:r});if(!d.ok){const m=d.headers.get("X-Code")??void 0;let h=`Error (${d.status})`;try{const y=await d.json();y?.detail&&(h=String(y.detail))}catch{}throw tl(h,d.status,m)}await $0(d,a)}async function MR(t,a){return Ge.post("/bases/actualizar/upload",t,{responseType:"blob",signal:a})}async function UR(t,a){return Ge.post("/logistica/log01/start",t,{signal:a})}async function kR(t,a,r){const l=zc(`/logistica/log01/poll/${t}?cursor=${encodeURIComponent(a)}`),o=Ln()?.token,d=await fetch(l,{method:"GET",headers:o?{Authorization:`Bearer ${o}`}:void 0,signal:r});if(!d.ok){const m=d.headers.get("X-Code")??void 0;throw tl(`No se pudo hacer poll (${d.status})`,d.status,m)}return await d.json()}async function qR(t,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(t)}`,{responseType:"blob",signal:a,validateStatus:r=>r===200})}async function BR(t,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(t)}/no-conforme`,{responseType:"blob",signal:a,validateStatus:r=>r===200})}async function LR(t,a){return Ge.get(`/logistica/log01/result/${encodeURIComponent(t)}/manifest`,{responseType:"blob",signal:a,validateStatus:r=>r===200})}async function FR(t){await Ge.post(`/logistica/log01/cancel/${encodeURIComponent(t)}`)}async function V0(){const{data:t}=await Ge.get("/merge/config/upload-limits");return t}async function H0(t,a,r){return Ge.post(`/merge/?mode=${encodeURIComponent(a)}`,t,{responseType:"blob",signal:r})}async function Z0(t){await Ge.post(`/merge/cancel/${encodeURIComponent(t)}`)}async function $R(t){const{data:a}=await Ge.post("/tools/files/upload",t);return a}async function VR(t){const{data:a}=await Ge.post("/tools/excel/inspect",t);return a}async function HR(t){const{data:a}=await Ge.post("/tools/excel/update",t);return a}async function ZR(t){const{data:a}=await Ge.post("/tools/excel/change-password",t);return a}async function IR(t){const{data:a}=await Ge.post("/tools/excel/validate",t);return a}function QR({show:t,disabled:a=!1,title:r,accept:l,files:o,onClose:d,onAddFiles:m,onRemoveFile:h,onRemoveAll:y}){const p=b.useRef(null),v=b.useRef(0),[S,w]=b.useState(!1),[B,_]=b.useState("");if(b.useEffect(()=>{if(!t)return;const M=W=>{W.key==="Escape"&&d()};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[t,d]),b.useEffect(()=>{t||w(!1)},[t]),b.useEffect(()=>{t&&_("")},[t]),!t)return null;const O=M=>{const W=Nm(M,l);if(W.length===0)return;const fe=new Set(o.map(el)),De=new Set(fe),je=[],me=[];for(const ye of W){const be=el(ye);if(De.has(be)){me.push(ye);continue}De.add(be),je.push(ye)}if(me.length>0){const ye=Array.from(new Set(me.map(be=>be.name)));_(ye.length===1?`El archivo "${ye[0]}" ya se encuentra cargado.`:`Los archivos ya se encuentran cargados: ${ye.join(", ")}.`)}je.length>0&&m(je)},A=()=>{a||p.current?.click()},k=M=>{const W=M.target.files?Array.from(M.target.files):[];O(W),M.currentTarget.value=""},D=()=>{a||(p.current&&(p.current.value=""),y())},J=M=>{M.preventDefault(),M.stopPropagation(),!a&&(v.current+=1,w(!0))},N=M=>{M.preventDefault(),M.stopPropagation()},R=M=>{M.preventDefault(),M.stopPropagation(),!a&&(v.current=Math.max(0,v.current-1),v.current===0&&w(!1))},Q=M=>{if(M.preventDefault(),M.stopPropagation(),v.current=0,w(!1),a)return;const W=M.dataTransfer?.files?Array.from(M.dataTransfer.files):[];O(W)};return c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true","aria-labelledby":"filePickerModalTitle",onClick:M=>{M.target===M.currentTarget&&d()},children:c.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{id:"filePickerModalTitle",className:"modal-title",children:r}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:d})]}),c.jsxs("div",{className:"modal-body",children:[c.jsx("input",{ref:p,className:"d-none",type:"file",accept:l,multiple:!0,onChange:k,disabled:a}),B?c.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between",role:"alert",children:[c.jsx("div",{children:B}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>_("")})]}):null,c.jsxs("div",{className:`vi-dropzone${S?" is-dragover":""}`,onDragEnter:J,onDragOver:N,onDragLeave:R,onDrop:Q,"aria-disabled":a?"true":"false",children:[c.jsxs("div",{className:"text-muted",children:["Arrastra y suelta archivos aqu, o"," ",c.jsx("button",{type:"button",className:"btn btn-link p-0 align-baseline",onClick:A,disabled:a,children:"selecciona desde tu equipo"}),"."]}),l?c.jsxs("div",{className:"form-text",children:["Tipos permitidos: ",l]}):null]}),c.jsxs("div",{className:"d-flex align-items-center justify-content-between mT-15 mB-10",children:[c.jsx("div",{className:"text-muted",children:o.length===0?"No se han seleccionado archivos.":o.length===1?"1 archivo seleccionado":`${o.length} archivos seleccionados`}),c.jsxs("div",{className:"d-flex gap-10",children:[c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:A,disabled:a,children:"Agregar ms"}),c.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:D,disabled:a||o.length===0,children:"Eliminar todos"})]})]}),o.length===0?null:c.jsx("div",{style:{maxHeight:320,overflow:"auto"},children:c.jsx("ul",{className:"list-group",children:o.map(M=>{const W=el(M);return c.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between gap-10",children:[c.jsx("div",{className:"text-truncate",style:{minWidth:0},children:M.name}),c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(W),disabled:a,children:"Eliminar"})]},W)})})})]}),c.jsx("div",{className:"modal-footer",children:c.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:d,children:"Cerrar"})})]})})})}function GR(t){if(t.length===0)return"";const a=Array.from(new Set(t.map(r=>r.name)));return a.length===1?`El archivo "${a[0]}" ya se encuentra cargado.`:`Los archivos ya se encuentran cargados: ${a.join(", ")}.`}function yi({label:t,title:a,accept:r,disabled:l=!1,files:o,setFiles:d}){const[m,h]=b.useState(!1),[y,p]=b.useState(!1),[v,S]=b.useState(""),w=b.useRef(0),B=b.useMemo(()=>o.length===0?"No se han seleccionado archivos.":o.length===1?"1 archivo seleccionado":`${o.length} archivos seleccionados`,[o.length]),_=o.length===0?"Agregar archivos":"Modificar/agregar archivos",O=N=>{const R=Nm(N,r);R.length!==0&&d(Q=>{const{merged:M,duplicates:W}=NR(Q,R);return W.length>0&&S(GR(W)),M})},A=N=>{N.preventDefault(),N.stopPropagation(),!l&&(w.current+=1,p(!0))},k=N=>{N.preventDefault(),N.stopPropagation()},D=N=>{N.preventDefault(),N.stopPropagation(),!l&&(w.current=Math.max(0,w.current-1),w.current===0&&p(!1))},J=N=>{if(N.preventDefault(),N.stopPropagation(),w.current=0,p(!1),l)return;const R=N.dataTransfer?.files?Array.from(N.dataTransfer.files):[];O(R)};return c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:t}),c.jsx("div",{className:`vi-file-drop-target${y?" is-dragover":""}`,onDragEnter:A,onDragOver:k,onDragLeave:D,onDrop:J,"aria-disabled":l?"true":"false",children:c.jsxs("div",{className:"input-group",children:[c.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>h(!0),disabled:l,children:_}),c.jsx("input",{className:"form-control",type:"text",readOnly:!0,value:B})]})}),v?c.jsxs("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mT-10",role:"alert",children:[c.jsx("div",{children:v}),c.jsx("button",{type:"button",className:"btn-close","aria-label":"Cerrar",onClick:()=>S("")})]}):null,c.jsx(QR,{show:m,disabled:l,title:a,accept:r,files:o,onClose:()=>h(!1),onAddFiles:O,onRemoveFile:N=>d(R=>R.filter(Q=>el(Q)!==N)),onRemoveAll:()=>d([])})]})}function YR(t){if(!t)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(t);return a?.[2]?decodeURIComponent(a[2]):null}function KR(t,a){const r=URL.createObjectURL(t),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}async function PR(t){if(!lt.isAxiosError(t))return{detail:String(t)};const a=t,r=a.response?.headers?.["x-code"]??void 0,l=a.response?.data;if(l instanceof Blob)try{const d=await l.text(),m=JSON.parse(d);return{detail:String(m?.detail??d??a.message),code:r}}catch{return{detail:a.message,code:r}}const o=l?.detail??a.message;return{detail:String(o),code:r}}function XR(){const[t,a]=b.useState(null),[r,l]=b.useState([]),[o,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("^OI-(\\d+)-(\\d{4})$"),[v,S]=b.useState(9),[w,B]=b.useState("ERROR FINAL"),[_,O]=b.useState(!0),[A,k]=b.useState(!1),[D,J]=b.useState(!1),[N,R]=b.useState(null),[Q,M]=b.useState(null),[W,fe]=b.useState([]),[De,je]=b.useState(""),me=b.useRef(null),ye=b.useRef(null),[be,Ne]=b.useState(!1),[U,se]=b.useState(!1),[P,ve]=b.useState("Ingresa la contrasea de apertura del archivo y vuelve a intentar."),Te=b.useMemo(()=>!!t&&r.length>0&&!N,[t,r,N]);function E(de){fe(He=>[de,...He].slice(0,200));const Fe=typeof de.percent=="number"?de.percent:typeof de.progress=="number"?de.progress:null;Fe!=null&&Number.isFinite(Fe)&&M(Math.max(0,Math.min(100,Fe)))}function Z(){me.current?.abort(),me.current=null}function ne(){N&&Z()}function he(de,Fe){if(!t)throw new Error("Falta el archivo Base");if(r.length===0)throw new Error("Faltan archivos OI");const He=new FormData;He.append("base_file",t);for(const Ye of r)He.append("oi_files",Ye);const _e=(Fe??o).trim();return _e&&He.append("default_password",_e),m.trim()&&He.append("per_file_passwords_json",m.trim()),y.trim()&&He.append("oi_pattern",y.trim()),He.append("oi_start_row",String(v)),w.trim()&&He.append("base_sheet",w.trim()),de&&He.append("operation_id",de),He}function Re(){ye.current=null,se(!1)}function Ee(de,Fe){ye.current=de,ve(Fe),se(!0)}async function qe(de){je(""),fe([]),M(0),me.current=new AbortController,R("dry");try{const Fe=he(void 0,de?.passwordOverride);await DR(Fe,E,me.current.signal)}catch(Fe){if(Fe?.name==="AbortError")return;const He=Fe?.code,_e=String(Fe?.message??Fe);if(He==="PASSWORD_REQUIRED"){je(""),Ee("dry","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(He==="WRONG_PASSWORD"){je(""),Ee("dry","Contrasea incorrecta. Intenta nuevamente.");return}else je(_e)}finally{Z(),R(null)}}async function Ie(de){je(""),fe([]),M(0);const Fe=crypto.randomUUID();me.current=new AbortController,jm(Fe,E,me.current.signal).catch(()=>{}),R("upload");try{const He=he(Fe,de?.passwordOverride);He.append("replicate_merges",_?"true":"false"),He.append("replicate_row_heights",A?"true":"false"),He.append("replicate_col_widths",D?"true":"false");const _e=await MR(He,me.current.signal),Ye=_e.headers["content-disposition"],Be=_e.headers["x-file-name"],Pe=YR(Ye)??Be??"base_actualizada.xlsx";KR(_e.data,Pe)}catch(He){if(lt.isAxiosError(He)&&He.code==="ERR_CANCELED")return;const{detail:_e,code:Ye}=await PR(He);if(Ye==="PASSWORD_REQUIRED"){je(""),Ee("upload","Algn archivo est protegido. Ingresa la contrasea de apertura para continuar.");return}else if(Ye==="WRONG_PASSWORD"){je(""),Ee("upload","Contrasea incorrecta. Intenta nuevamente.");return}else je(_e)}finally{Z(),R(null)}}return c.jsxs("div",{className:"container-fluid",children:[c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Actualizacin de Bases"}),c.jsx("p",{className:"text-muted mB-20",children:"Integra mltiples OIs en una Base (hoja ERROR FINAL). Soporta dry-run (NDJSON) y ejecucin con descarga."}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(gi,{label:"Base (xlsx)",accept:".xlsx",file:t,onChange:a,disabled:!!N})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(yi,{label:"Archivos OI (xlsx/xlsm)",title:"Archivos OI",accept:".xlsx,.xlsm",files:r,setFiles:l,disabled:!!N})}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Contrasea por defecto (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:o,onChange:de=>d(de.target.value),disabled:!!N})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Hoja Base (opcional)"}),c.jsx("input",{className:"form-control",value:w,onChange:de=>B(de.target.value),disabled:!!N})]}),be?c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Regex OI (opcional)"}),c.jsx("input",{className:"form-control",value:y,onChange:de=>p(de.target.value),disabled:!!N})]}):null,c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Fila inicio OI"}),c.jsx("input",{className:"form-control",type:"number",min:1,value:v,onChange:de=>S(Number(de.target.value||9)),disabled:!!N})]}),c.jsxs("div",{className:"col-12 mB-15",children:[c.jsx("label",{className:"form-label",children:"Contraseas por archivo (opcional)"}),c.jsx("textarea",{className:"form-control",rows:4,value:m,onChange:de=>h(de.target.value),disabled:!!N,placeholder:`Ej:
OI-0001-2025.xlsx: clave1
OI-0002-2025.xlsx: clave2

O JSON:
{"OI-0001-2025.xlsx":"clave1"}`})]}),be?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateMerges",checked:_,onChange:de=>O(de.target.checked),disabled:!!N}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateMerges",children:"Replicar merges"})]})}),c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateRowHeights",checked:A,onChange:de=>k(de.target.checked),disabled:!!N}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateRowHeights",children:"Replicar alto filas"})]})}),c.jsx("div",{className:"col-md-4 mB-15",children:c.jsxs("div",{className:"form-check form-switch",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",id:"replicateColWidths",checked:D,onChange:de=>J(de.target.checked),disabled:!!N}),c.jsx("label",{className:"form-check-label",htmlFor:"replicateColWidths",children:"Replicar ancho cols"})]})})]}):null]}),De&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:De}),c.jsx("div",{className:"d-flex justify-content-end mT-10",children:c.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:()=>Ne(de=>!de),disabled:!!N,children:be?"Menos Opciones":"Ms Opciones"})}),c.jsxs("div",{className:"d-flex gap-10 mT-15",children:[c.jsx("button",{className:"btn btn-primary",disabled:!Te,onClick:()=>void Ie(),children:N==="upload"?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger",disabled:!N,onClick:ne,children:"Cancelar"}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!Te,onClick:()=>void qe(),children:N==="dry"?"Analizando...":"Analizar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),N?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Q??0}%`},"aria-valuenow":Q??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:W.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:W.map((de,Fe)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:al(de.type)})," ",de.stage?c.jsxs("span",{className:"text-muted",children:["[",sl(de.stage),"]"]}):null,typeof de.percent=="number"?c.jsxs("span",{className:"text-muted",children:["  ",de.percent.toFixed(1),"%"]}):null]}),c.jsx("div",{className:"text-muted",children:ir(de.message??de.detail??"")}),de.code?c.jsxs("div",{className:"text-muted",children:["Cdigo: ",de.code]}):null]},Fe))})})]})})]}),c.jsx(Ai,{show:U,title:"Archivo protegido",confirmLabel:"Continuar",helpText:P,onClose:Re,onConfirm:de=>{d(de),se(!1);const Fe=ye.current;ye.current=null,Fe&&(Fe==="dry"?qe({passwordOverride:de}):Ie({passwordOverride:de}))}})]})}function JR(){return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin de Bases Originales"}),c.jsx("p",{className:"text-muted mB-20",children:"Selecciona el modo de consolidacin. Cada modo genera un archivo consolidado para descarga."}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6 mB-15",children:c.jsx("div",{className:"card h-100",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h5",{className:"card-title",children:"Correlativo"}),c.jsx("p",{className:"card-text text-muted",children:"Ordena por la columna G (correlativo) al consolidar."}),c.jsx(ec,{className:"btn btn-primary",to:"/oi/tools/consolidacion/correlativo",children:"Abrir"})]})})}),c.jsx("div",{className:"col-md-6 mB-15",children:c.jsx("div",{className:"card h-100",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h5",{className:"card-title",children:"No correlativo"}),c.jsx("p",{className:"card-text text-muted",children:"Mantiene el orden original de los archivos al consolidar."}),c.jsx(ec,{className:"btn btn-primary",to:"/oi/tools/consolidacion/no-correlativo",children:"Abrir"})]})})})]})]})})}function WR(t){if(!t)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(t);return a?.[2]?decodeURIComponent(a[2]):null}function eT(t,a){const r=URL.createObjectURL(t),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}async function tT(t){if(!lt.isAxiosError(t))return String(t);const a=t,r=a.response?.data;if(r instanceof Blob)try{const l=await r.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(r?.detail??a.message)}function nT(){const[t,a]=b.useState(null),[r,l]=b.useState(null),[o,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,S]=b.useState(null),[w,B]=b.useState([]),_=b.useRef(null),O=b.useRef(null),A=b.useMemo(()=>!!r&&o.length>0&&!m,[r,o,m]);b.useEffect(()=>{V0().then(a).catch(()=>a(null))},[]);function k(R){B(M=>[R,...M].slice(0,200));const Q=typeof R.percent=="number"?R.percent:typeof R.progress=="number"?R.progress:null;Q!=null&&Number.isFinite(Q)&&S(Math.max(0,Math.min(100,Q)))}function D(){_.current?.abort(),_.current=null}function J(){if(!m)return;const R=O.current;R&&Z0(R).catch(()=>{}),k({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function N(){if(p(""),B([]),S(0),!r){p("Selecciona el archivo maestro.");return}if(o.length===0){p("Selecciona al menos un archivo de tcnico.");return}const R=new FormData;R.append("master",r);for(const M of o)R.append("technicians",M);const Q=crypto.randomUUID();O.current=Q,R.append("operation_id",Q),_.current=new AbortController,h(!0);try{const M=_.current?.signal;jm(Q,k,M).catch(()=>{});const W=await H0(R,"correlativo",M),fe=W.headers["content-disposition"],De=WR(fe)??"consolidado_correlativo.xlsx";eT(W.data,De)}catch(M){if(lt.isAxiosError(M)&&M.code==="ERR_CANCELED"||lt.isAxiosError(M)&&(M.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const W=await tT(M);k({type:"error",stage:"error",detail:W}),p(W)}finally{O.current=null,h(!1),D()}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  Correlativo"}),c.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado ordenando por correlativo (columna G)."}),t&&c.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",c.jsxs("b",{children:[t.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",c.jsx("b",{children:t.max_tech_files})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(gi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:r,onChange:l,disabled:m})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(yi,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:o,setFiles:d,disabled:m})})]}),y&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:N,children:m?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:J,children:"Cancelar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),m?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:w.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:w.map((R,Q)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:al(R.type)})," ",R.stage?c.jsxs("span",{className:"text-muted",children:["[",sl(R.stage),"]"]}):null]}),c.jsx("div",{className:"text-muted",children:ir(R.message??R.detail??"")})]},Q))})})]})})]})})}function aT(t){if(!t)return null;const a=/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/i.exec(t);return a?.[2]?decodeURIComponent(a[2]):null}function sT(t,a){const r=URL.createObjectURL(t),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}async function rT(t){if(!lt.isAxiosError(t))return String(t);const a=t,r=a.response?.data;if(r instanceof Blob)try{const l=await r.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(r?.detail??a.message)}function lT(){const[t,a]=b.useState(null),[r,l]=b.useState(null),[o,d]=b.useState([]),[m,h]=b.useState(!1),[y,p]=b.useState(""),[v,S]=b.useState(null),[w,B]=b.useState([]),_=b.useRef(null),O=b.useRef(null),A=b.useMemo(()=>!!r&&o.length>0&&!m,[r,o,m]);b.useEffect(()=>{V0().then(a).catch(()=>a(null))},[]);function k(R){B(M=>[R,...M].slice(0,200));const Q=typeof R.percent=="number"?R.percent:typeof R.progress=="number"?R.progress:null;Q!=null&&Number.isFinite(Q)&&S(Math.max(0,Math.min(100,Q)))}function D(){_.current?.abort(),_.current=null}function J(){if(!m)return;const R=O.current;R&&Z0(R).catch(()=>{}),k({type:"status",stage:"cancelled",message:"Cancelacin solicitada"}),D()}async function N(){if(p(""),B([]),S(0),!r){p("Selecciona el archivo maestro.");return}if(o.length===0){p("Selecciona al menos un archivo de tcnico.");return}const R=new FormData;R.append("master",r);for(const M of o)R.append("technicians",M);const Q=crypto.randomUUID();O.current=Q,R.append("operation_id",Q),_.current=new AbortController,h(!0);try{const M=_.current?.signal;jm(Q,k,M).catch(()=>{});const W=await H0(R,"no-correlativo",M),fe=W.headers["content-disposition"],De=aT(fe)??"consolidado_no_correlativo.xlsx";sT(W.data,De)}catch(M){if(lt.isAxiosError(M)&&M.code==="ERR_CANCELED"||lt.isAxiosError(M)&&(M.response?.headers?.["x-code"]??void 0)?.toUpperCase()==="CANCELLED")return;const W=await rT(M);k({type:"error",stage:"error",detail:W}),p(W)}finally{O.current=null,h(!1),D()}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin  No correlativo"}),c.jsx("p",{className:"text-muted mB-20",children:"Genera un consolidado sin ordenar por correlativo (respeta el orden original)."}),t&&c.jsxs("div",{className:"alert alert-info",role:"alert",children:["Lmite por archivo: ",c.jsxs("b",{children:[t.max_file_mb,"MB"]}),"  Mx. archivos tcnico:"," ",c.jsx("b",{children:t.max_tech_files})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(gi,{label:"Archivo maestro (xlsx)",accept:".xlsx",file:r,onChange:l,disabled:m})}),c.jsx("div",{className:"col-12 mB-15",children:c.jsx(yi,{label:"Archivos de tcnicos (xlsx)",title:"Archivos de tcnicos",accept:".xlsx",files:o,setFiles:d,disabled:m})})]}),y&&c.jsx("div",{className:"alert alert-danger mT-10",role:"alert",children:y}),c.jsxs("div",{className:"d-flex gap-10 mT-20",children:[c.jsx("button",{className:"btn btn-primary mT-10",disabled:!A,onClick:N,children:m?"Procesando...":"Procesar y Descargar"}),c.jsx("button",{className:"btn btn-outline-danger mT-10",disabled:!m,onClick:J,children:"Cancelar"})]})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),m?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${v??0}%`},"aria-valuenow":v??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:420,overflow:"auto"},children:w.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:w.map((R,Q)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:al(R.type)})," ",R.stage?c.jsxs("span",{className:"text-muted",children:["[",sl(R.stage),"]"]}):null]}),c.jsx("div",{className:"text-muted",children:ir(R.message??R.detail??"")})]},Q))})})]})})]})})}async function oi(t){if(!lt.isAxiosError(t))return String(t);const a=t,r=a.response?.data;if(r instanceof Blob)try{const l=await r.text(),o=JSON.parse(l);return String(o?.detail??l??a.message)}catch{return a.message}return String(r?.detail??a.message)}function iT(){const[t,a]=b.useState(null),[r,l]=b.useState(""),[o,d]=b.useState(""),[m,h]=b.useState(""),[y,p]=b.useState("ERROR FINAL"),[v,S]=b.useState(""),[w,B]=b.useState("same_password"),[_,O]=b.useState(""),[A,k]=b.useState([{cell:"A1",value:""}]),[D,J]=b.useState(""),[N,R]=b.useState("no_password"),[Q,M]=b.useState(""),[W,fe]=b.useState("ERROR FINAL"),[De,je]=b.useState(1),[me,ye]=b.useState(""),[be,Ne]=b.useState(""),[U,se]=b.useState(""),[P,ve]=b.useState(null),[Te,E]=b.useState(""),[Z,ne]=b.useState(null),[he,Re]=b.useState([]),[Ee,qe]=b.useState(null),Ie=b.useMemo(()=>o.trim().length>0,[o]);function de(xe){Re(ae=>[xe,...ae].slice(0,200))}function Fe(){E(""),Re([]),ne(0),qe(null)}async function He(){if(Fe(),!t){E("Selecciona un archivo para subir.");return}ve("upload");try{de({type:"status",stage:"upload",message:"Subiendo archivo..."}),ne(30);const xe=new FormData;xe.append("file",t),r.trim()&&xe.append("suggested_name",r.trim());const ae=await $R(xe);d(ae.relative_path),qe(ae),de({type:"complete",stage:"upload",message:"Archivo subido."}),ne(100)}catch(xe){const ae=await oi(xe);E(ae),de({type:"error",stage:"upload",detail:ae})}finally{ve(null)}}async function _e(){if(Fe(),!Ie){E("Ingresa o sube un archivo para obtener file_path.");return}ve("inspect");try{de({type:"status",stage:"inspect",message:"Inspeccionando..."}),ne(50);const xe=await VR({file_path:o.trim(),open_password:m.trim()||null});qe(xe),de({type:"complete",stage:"inspect",message:"Inspeccin completada."}),ne(100)}catch(xe){const ae=await oi(xe);E(ae),de({type:"error",stage:"inspect",detail:ae})}finally{ve(null)}}async function Ye(){if(Fe(),!Ie){E("Ingresa o sube un archivo para obtener file_path.");return}if(!y.trim()){E("Ingresa el nombre de la hoja.");return}const xe=A.map(ae=>({cell:ae.cell.trim(),value:ae.value})).filter(ae=>ae.cell);if(xe.length===0){E("Agrega al menos una edicin.");return}ve("update");try{de({type:"status",stage:"update",message:"Aplicando ediciones..."}),ne(50);const ae=await HR({file_path:o.trim(),edits:xe.map(we=>({sheet:y.trim(),cell:we.cell,value:we.value})),open_password:v.trim()||null,save_mode:w,new_password:w==="new_password"&&_.trim()||null});qe(ae),de({type:"complete",stage:"update",message:"Actualizacin completada."}),ne(100)}catch(ae){const we=await oi(ae);E(we),de({type:"error",stage:"update",detail:we})}finally{ve(null)}}async function Be(){if(Fe(),!Ie){E("Ingresa o sube un archivo para obtener file_path.");return}if(!D.trim()){E("Ingresa la contrasea de apertura (open_password).");return}if(N==="new_password"&&!Q.trim()){E("Ingresa la nueva contrasea.");return}ve("change-password");try{de({type:"status",stage:"change-password",message:"Cambiando contrasea..."}),ne(50);const xe=await ZR({file_path:o.trim(),open_password:D.trim(),mode:N,new_password:N==="new_password"?Q.trim():null});qe(xe),de({type:"complete",stage:"change-password",message:"Cambio de contrasea completado."}),ne(100)}catch(xe){const ae=await oi(xe);E(ae),de({type:"error",stage:"change-password",detail:ae})}finally{ve(null)}}async function Pe(){if(Fe(),!Ie){E("Ingresa o sube un archivo para obtener file_path.");return}let xe={};if(be.trim())try{xe=JSON.parse(be)}catch{E("type_rules debe ser JSON vlido.");return}const ae=me.split(",").map(we=>we.trim()).filter(Boolean);ve("validate");try{de({type:"status",stage:"validate",message:"Validando..."}),ne(50);const we=await IR({file_path:o.trim(),sheet:W.trim()||null,header_row:De,required_columns:ae,type_rules:xe,open_password:U.trim()||null});qe(we),de({type:"complete",stage:"validate",message:"Validacin completada."}),ne(100)}catch(we){const Y=await oi(we);E(Y),de({type:"error",stage:"validate",detail:Y})}finally{ve(null)}}return c.jsx("div",{className:"container-fluid",children:c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-7",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Herramientas Excel"}),c.jsx("p",{className:"text-muted mB-20",children:"Subir archivos, inspeccionar, editar celdas, cambiar contrasea y validar."}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"1) Subir archivo (recomendado)"}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-8 mB-10",children:c.jsx("input",{className:"form-control",type:"file",accept:".xlsx,.xlsm",disabled:!!P,onChange:xe=>a(xe.target.files?.[0]??null)})}),c.jsx("div",{className:"col-md-4 mB-10",children:c.jsx("input",{className:"form-control",placeholder:"Nombre sugerido (opcional)",value:r,disabled:!!P,onChange:xe=>l(xe.target.value)})})]}),c.jsx("button",{className:"btn btn-outline-primary",disabled:!!P||!t,onClick:He,children:P==="upload"?"Subiendo...":"Subir"})]})}),c.jsxs("div",{className:"mB-15",children:[c.jsx("label",{className:"form-label",children:"file_path"}),c.jsx("input",{className:"form-control",value:o,disabled:!!P,onChange:xe=>d(xe.target.value),placeholder:"Ruta del archivo en el servidor (o la devuelta por Upload)"}),c.jsx("div",{className:"form-text",children:"Si subes el archivo, se llenar automticamente. Tambin puedes pegar una ruta local/red accesible por el servidor."})]}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"2) Inspect"}),c.jsxs("div",{className:"row align-items-end",children:[c.jsxs("div",{className:"col-md-8 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:m,disabled:!!P,onChange:xe=>h(xe.target.value)})]}),c.jsx("div",{className:"col-md-4 mB-10",children:c.jsx("button",{className:"btn btn-primary w-100",disabled:!!P||!Ie,onClick:_e,children:P==="inspect"?"Inspeccionando...":"Inspect"})})]})]})}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"3) Update (editar celdas)"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"Hoja"}),c.jsx("input",{className:"form-control",value:y,disabled:!!P,onChange:xe=>p(xe.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:v,disabled:!!P,onChange:xe=>S(xe.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"save_mode"}),c.jsxs("select",{className:"form-select",value:w,disabled:!!P,onChange:xe=>B(xe.target.value),children:[c.jsx("option",{value:"same_password",children:"same_password"}),c.jsx("option",{value:"no_password",children:"no_password"}),c.jsx("option",{value:"new_password",children:"new_password"})]})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"new_password"}),c.jsx("input",{className:"form-control",type:"password",value:_,disabled:!!P||w!=="new_password",onChange:xe=>O(xe.target.value),placeholder:w==="new_password"?"Requerido":""})]})]}),c.jsxs("div",{className:"mT-10",children:[c.jsx("label",{className:"form-label",children:"Ediciones"}),A.map((xe,ae)=>c.jsxs("div",{className:"row g-2 mB-10",children:[c.jsx("div",{className:"col-md-3",children:c.jsx("input",{className:"form-control",value:xe.cell,disabled:!!P,onChange:we=>{const Y=A.slice();Y[ae]={...Y[ae],cell:we.target.value},k(Y)},placeholder:"Celda (A1)"})}),c.jsx("div",{className:"col-md-7",children:c.jsx("input",{className:"form-control",value:xe.value,disabled:!!P,onChange:we=>{const Y=A.slice();Y[ae]={...Y[ae],value:we.target.value},k(Y)},placeholder:"Valor"})}),c.jsxs("div",{className:"col-md-2 d-flex gap-10",children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary w-100",disabled:!!P,onClick:()=>k(we=>[...we,{cell:"A1",value:""}]),children:"+"}),c.jsx("button",{type:"button",className:"btn btn-outline-danger w-100",disabled:!!P||A.length===1,onClick:()=>k(we=>we.filter((Y,j)=>j!==ae)),children:""})]})]},ae))]}),c.jsx("button",{className:"btn btn-primary",disabled:!!P||!Ie,onClick:Ye,children:P==="update"?"Actualizando...":"Update"})]})}),c.jsx("div",{className:"card mB-15",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"4) Change password"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password"}),c.jsx("input",{className:"form-control",type:"password",value:D,disabled:!!P,onChange:xe=>J(xe.target.value)})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"mode"}),c.jsxs("select",{className:"form-select",value:N,disabled:!!P,onChange:xe=>R(xe.target.value),children:[c.jsx("option",{value:"no_password",children:"no_password"}),c.jsx("option",{value:"new_password",children:"new_password"})]})]}),c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"new_password"}),c.jsx("input",{className:"form-control",type:"password",value:Q,disabled:!!P||N!=="new_password",onChange:xe=>M(xe.target.value),placeholder:N==="new_password"?"Requerido":""})]}),c.jsx("div",{className:"col-md-6 mB-10 d-flex align-items-end",children:c.jsx("button",{className:"btn btn-primary w-100",disabled:!!P||!Ie,onClick:Be,children:P==="change-password"?"Procesando...":"Change password"})})]})]})}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:"5) Validate"}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6 mB-10",children:[c.jsx("label",{className:"form-label",children:"sheet (opcional)"}),c.jsx("input",{className:"form-control",value:W,disabled:!!P,onChange:xe=>fe(xe.target.value)})]}),c.jsxs("div",{className:"col-md-3 mB-10",children:[c.jsx("label",{className:"form-label",children:"header_row"}),c.jsx("input",{className:"form-control",type:"number",min:1,value:De,disabled:!!P,onChange:xe=>je(Number(xe.target.value||1))})]}),c.jsxs("div",{className:"col-md-3 mB-10",children:[c.jsx("label",{className:"form-label",children:"open_password (opcional)"}),c.jsx("input",{className:"form-control",type:"password",value:U,disabled:!!P,onChange:xe=>se(xe.target.value)})]}),c.jsxs("div",{className:"col-12 mB-10",children:[c.jsx("label",{className:"form-label",children:"required_columns (coma separada)"}),c.jsx("input",{className:"form-control",value:me,disabled:!!P,onChange:xe=>ye(xe.target.value),placeholder:"ColA, ColB, ColC"})]}),c.jsxs("div",{className:"col-12 mB-10",children:[c.jsx("label",{className:"form-label",children:"type_rules (JSON, opcional)"}),c.jsx("textarea",{className:"form-control",rows:3,value:be,disabled:!!P,onChange:xe=>Ne(xe.target.value),placeholder:'{"ColA":"int","ColB":"float"}'})]})]}),c.jsx("button",{className:"btn btn-primary",disabled:!!P||!Ie,onClick:Pe,children:P==="validate"?"Validando...":"Validate"})]})}),Te&&c.jsx("div",{className:"alert alert-danger mT-15",role:"alert",children:Te})]})}),c.jsx("div",{className:"col-md-5",children:c.jsxs("div",{className:"bgc-white p-20 bd",children:[c.jsxs("h5",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),P?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress mB-15",style:{height:12},children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Z??0}%`},"aria-valuenow":Z??0,"aria-valuemin":0,"aria-valuemax":100})}),c.jsx("div",{style:{maxHeight:220,overflow:"auto"},children:he.length===0?c.jsx("div",{className:"text-muted",children:"Sin eventos an."}):c.jsx("ul",{className:"list-unstyled mB-0",children:he.map((xe,ae)=>c.jsxs("li",{className:"mB-10",children:[c.jsxs("div",{children:[c.jsx("b",{children:xe.type})," ",xe.stage?c.jsxs("span",{className:"text-muted",children:["[",xe.stage,"]"]}):null]}),c.jsx("div",{className:"text-muted",children:xe.message??xe.detail??""})]},ae))})}),c.jsx("hr",{className:"mY-15"}),c.jsx("h6",{className:"c-grey-900 mB-10",children:"Resultado"}),Ee?c.jsx("pre",{className:"bg-light p-10",style:{maxHeight:360,overflow:"auto"},children:JSON.stringify(Ee,null,2)}):c.jsx("div",{className:"text-muted",children:"Sin resultado an."})]})})]})})}function oT(){const t=On(),a=ol(),{toast:r}=or(),l=Ln(),o=ji(l?.role),d=ic(),m=o&&!(d&&d>0),{data:h,isLoading:y,error:p}=ar({queryKey:["catalogs"],queryFn:hm,enabled:m}),v=h?.bancos??[],[S,w]=b.useState(()=>d&&d>0?d:0),[B,_]=b.useState(!1),O=b.useMemo(()=>v.find(J=>J.id===S)?.name??null,[v,S]);b.useEffect(()=>{const D=t.state;D?.toast&&(r({kind:D.toast.kind??"info",title:D.toast.title,message:D.toast.message}),a(t.pathname,{replace:!0,state:{}}))},[t.pathname,t.state,a,r]),b.useEffect(()=>{m&&(S>0||v.length>0&&w(v[0].id))},[S,v,m]);const A=S>0&&!B,k=async()=>{if(A)try{_(!0),await u0(S),r({kind:"success",title:"Banco",message:O?`Banco seleccionado: ${O}`:"Banco seleccionado."})}catch(D){const J=D?.response?.data?.detail??D?.message??"No se pudo guardar el banco.";r({kind:"error",title:"Banco",message:String(J)})}finally{_(!1)}};return c.jsxs("div",{className:"vi-home",children:[c.jsx("div",{className:"vi-home__banner",style:{backgroundImage:'url("/medileser/banner.jpg")'},role:"img","aria-label":"Medileser"}),m&&c.jsx("div",{className:"modal fade show",style:{display:"block"},role:"dialog","aria-modal":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",children:"Seleccionar banco"})}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{className:"text-muted mb-3",children:"Seleccione el banco de trabajo para continuar."}),c.jsx("label",{className:"form-label",htmlFor:"bankId",children:"Banco"}),c.jsx("select",{id:"bankId",className:"form-select",value:S||"",onChange:D=>w(Number(D.target.value)),disabled:y||B,children:v.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))}),p?c.jsx("div",{className:"alert alert-danger mt-3 mb-0",role:"alert",children:"No se pudieron cargar los bancos."}):null]}),c.jsx("div",{className:"modal-footer",children:c.jsx("button",{type:"button",className:"btn btn-primary",disabled:!A,onClick:k,children:B?"Guardando...":"Continuar"})})]})})})]})}const Ps=(...t)=>{};function yf(t){if(!t)return null;const a=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(t),r=a?.[1]??a?.[2];if(!r)return null;try{return decodeURIComponent(r)}catch{return r}}function vf(t,a){const r=window.URL.createObjectURL(t),l=document.createElement("a");l.href=r,l.download=a,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(r)}async function cT(t,a){let r=null,l=!1;const o=new Promise(d=>{r=window.setTimeout(()=>{l=!0,d()},a)});try{await Promise.race([t,o])}catch{return!1}finally{r!=null&&window.clearTimeout(r)}return!l}function uT(){const[t,a]=b.useState([]),[r,l]=b.useState([]),[o,d]=b.useState(""),[m,h]=b.useState([]),[y,p]=b.useState(0),[v,S]=b.useState("Listo para procesar"),[w,B]=b.useState(!1),[_,O]=b.useState(""),[A,k]=b.useState(!1),[D,J]=b.useState(null),[N,R]=b.useState(null),[Q,M]=b.useState(!1),W=b.useMemo(()=>(Array.isArray(N?.audit_by_oi)?N.audit_by_oi:[]).filter(we=>we?.status==="OK").slice().sort((we,Y)=>{const j=Number(we?.oi_num),T=Number(Y?.oi_num),V=Number.isFinite(j),pe=Number.isFinite(T);if(V&&pe)return j-T;if(V&&!pe)return-1;if(!V&&pe)return 1;const le=String(we?.oi_num??we?.oi??"").toUpperCase(),ue=String(Y?.oi_num??Y?.oi??"").toUpperCase();return le.localeCompare(ue)}),[N]),fe=b.useMemo(()=>(Array.isArray(N?.files_rejected)?N.files_rejected:[]).slice().sort((we,Y)=>{const j=String(we?.oi??we?.filename??"").toUpperCase(),T=String(Y?.oi??Y?.filename??"").toUpperCase();return j.localeCompare(T)}),[N]),De=b.useRef(null),je=b.useRef(null),me=b.useRef(null),ye=b.useRef(!1),be=b.useRef(null),Ne=b.useRef(null),U=b.useRef(null),se=b.useRef(!1),P=b.useRef(!1),ve=b.useRef(-1),Te=b.useRef(-1);function E(){return be.current||(be.current=crypto.randomUUID()),be.current}function Z(ae){const we=`${al(ae.type)}  ${sl(ae.stage)}  ${ir(ae.message??ae.detail??"")}`;if(S(we),h(Y=>[...Y,ae]),ae.type==="complete"){const Y=ae.result??null;R(Y)}typeof ae.progress=="number"&&p(Math.round(ae.progress)),typeof ae.percent=="number"&&p(Math.round(ae.percent)),!ye.current&&(ae.type==="complete"||ae.stage==="cancelled"||ae.stage==="failed")&&(ye.current=!0,ae.type==="complete"?(k(!0),J(be.current)):(k(!1),J(null),be.current=null),B(!1),Ee("terminal_event"),qe())}function ne(ae){return typeof ae.cursor!="number"?!1:ae.cursor<=Te.current?!0:(Te.current=ae.cursor,ae.cursor>ve.current&&(ve.current=ae.cursor),!1)}function he(ae){ne(ae)||Z(ae)}function Re(ae,we){const Y=new FormData;Y.append("operation_id",ae),Y.append("source","AUTO"),o.trim()&&Y.append("output_filename",o.trim());for(const j of we)Y.append("files",j);return Y}function Ee(ae){je.current&&(me.current=ae,je.current.abort(),je.current=null)}function qe(ae){P.current&&(P.current=!1,Ne.current!=null&&(window.clearTimeout(Ne.current),Ne.current=null),U.current?.abort(),U.current=null,se.current=!1)}function Ie(ae){P.current&&(Ne.current!=null&&window.clearTimeout(Ne.current),Ne.current=window.setTimeout(()=>{de()},ae))}async function de(){if(!P.current||se.current)return;const ae=be.current;if(!ae){qe();return}se.current=!0;try{const we=await kR(ae,ve.current,U.current?.signal);Ps("[LOG01] poll cursor =",ve.current,"->",we.cursor_next),ve.current=we.cursor_next;for(const Y of we.events)he(Y);if(we.done&&we.events.length===0){qe("done");return}}catch(we){we?.name}finally{se.current=!1,P.current&&Ie(350)}}function Fe(ae){P.current||(P.current=!0,U.current=new AbortController,Ie(0))}function He(){De.current?.abort(),De.current=null}async function _e(){if(!w)return;const ae=be.current;if(ae)try{await FR(ae)}catch(we){const Y=we;lt.isCancel(Y)||O(Y.response?.data?.detail||Y.message||"No se pudo cancelar la operacion")}He()}async function Ye(){O(""),h([]),R(null),p(0),S("Listo para procesar"),k(!1),J(null),me.current=null,ye.current=!1,ve.current=-1,Te.current=-1,qe();const ae=[...t,...r];if(!ae.length){O("Debes seleccionar al menos 1 Excel.");return}be.current=null;const we=E();let Y=null,j=null;const T=new Promise((le,ue)=>{Y=le,j=ue});je.current=new AbortController,De.current=new AbortController,zR(we,le=>{if(le.type==="hello"){Y&&(Y(),Y=null);return}he(le)},je.current.signal).then(()=>{ye.current||Fe()}).catch(le=>{le?.name==="AbortError"?Ps("[LOG01] progress stream aborted (reason) =",me.current):(j&&(j(le),j=null),Fe())}),B(!0);try{await cT(T,1800)?Ps("[LOG01] hello received"):Fe("hello_timeout");const ue=Re(we,ae);Ps("[LOG01] operation_id(start) =",we),await UR(ue,De.current.signal)}catch(le){const ue=le;if(lt.isCancel(ue))return;const Ae=ue.response?.data?.detail||ue.message||"Error inesperado";O(Ae),B(!1),He(),Ee("start_failed"),qe(),be.current=null}finally{He()}}async function Be(){const ae=D??be.current;if(!ae){O("No hay resultado disponible.");return}try{O(""),Ps("[LOG01] operation_id(result) =",ae);const we=await qR(ae),Y=we.headers["content-disposition"],j=we.headers["x-file-name"],T=yf(Y)??j??"BD_CONSOLIDADO.xlsx";vf(we.data,T)}catch(we){const Y=we;if(lt.isCancel(Y))return;const j=Y.response?.data?.detail||Y.message||"No se pudo descargar.";O(j)}}async function Pe(){const ae=D??be.current;if(!ae){O("No hay resultado disponible.");return}try{O(""),Ps("[LOG01] operation_id(manifest) =",ae);const we=await LR(ae),Y=we.headers["content-disposition"],j=we.headers["x-file-name"],T=yf(Y)??j??"MANIFIESTO.json";vf(we.data,T)}catch(we){const Y=we;if(lt.isCancel(Y))return;const j=Y.response?.data?.detail||Y.message||"No se pudo descargar.";O(j)}}async function xe(){const ae=D??be.current;if(!ae){O("No hay resultado disponible.");return}try{O(""),Ps("[LOG01] operation_id(no_conforme) =",ae);const we=await BR(ae),Y=we.headers["content-disposition"],j=we.headers["x-file-name"],T=yf(Y)??j??"NO_CONFORME_FINAL.json";vf(we.data,T)}catch(we){const Y=we;if(lt.isCancel(Y))return;const j=Y.response?.data?.detail||Y.message||"No se pudo descargar.";O(j)}}return c.jsx("div",{className:"container-fluid",children:c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-12",children:c.jsxs("div",{className:"bd bgc-white p-20 mB-20",children:[c.jsx("h4",{className:"c-grey-900 mB-10",children:"Consolidacin Excel"}),_&&c.jsx("div",{className:"alert alert-danger",role:"alert",children:_}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-12 mB-15",children:c.jsx(yi,{label:"Bases Comerciales (xlsx)",title:"Archivos Base Comercial",accept:".xlsx",files:t,setFiles:a,disabled:w})}),c.jsxs("div",{className:"col-12 mB-15",children:[c.jsx(yi,{label:"GASELAG (xlsx)",title:"Archivos GASELAG",accept:".xlsx",files:r,setFiles:l,disabled:w}),c.jsx("div",{className:"small text-muted mT-5",children:"Nota: El nombre del archivo no se valida (patrn variable). La validacin real se har por cabeceras/contenido al implementar backend GASELAG."})]}),c.jsxs("div",{className:"col-md-6 mB-15",children:[c.jsx("label",{className:"form-label",children:"Nombre de salida (opcional)"}),c.jsx("input",{className:"form-control",value:o,onChange:ae=>d(ae.target.value),placeholder:"BD_<SERIE_INI>_AL_<SERIE_FIN>.xlsx",disabled:w})]}),c.jsx("div",{className:"col-md-6 mB-15 d-flex align-items-end",children:c.jsxs("div",{className:"d-flex gap-10 w-100",children:[c.jsx("button",{className:"btn btn-primary w-100",onClick:Ye,disabled:w,children:w?"Procesando...":"Consolidar"}),w?c.jsx("button",{className:"btn btn-outline-danger",onClick:()=>void _e(),children:"Cancelar"}):null,!w&&A?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>void Pe(),children:"Manifiesto (JSON)"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>void xe(),children:"No conforme (JSON)"}),c.jsx("button",{className:"btn btn-outline-primary",onClick:()=>void Be(),children:"Descargar"})]}):null]})})]}),c.jsxs("div",{className:"mT-10",children:[c.jsxs("h6",{className:"c-grey-900 mB-10 d-flex align-items-center gap-2",children:[c.jsx("span",{children:"Progreso"}),w?c.jsx("img",{className:"vi-progress-spinner",src:"/medileser/Spinner-Logo-Medileser.gif",alt:"Procesando"}):null]}),c.jsx("div",{className:"progress",children:c.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:`${y}%`},"aria-valuenow":y,"aria-valuemin":0,"aria-valuemax":100,children:[y,"%"]})}),c.jsx("div",{className:"mT-10 text-muted",children:v})]}),!w&&N?c.jsxs("div",{className:"mT-20",children:[c.jsx("h6",{className:"c-grey-900",children:"Reporte de auditora"}),c.jsx("div",{className:"bd p-10",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("div",{className:"small text-muted",children:"Archivos"}),c.jsxs("div",{className:"small",children:["Total: ",c.jsx("strong",{children:N.files_total??"N/D"}),"  OK:"," ",c.jsx("strong",{children:N.files_ok??"N/D"}),"  Rechazados:"," ",c.jsx("strong",{children:N.files_error??"N/D"})]}),c.jsx("div",{className:"mT-10 small text-muted",children:"No conformes por OI (origen)"}),W.length>0?c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Ledos"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Conformes"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"No conformes"})]})}),c.jsx("tbody",{children:W.map((ae,we)=>c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:ae?.oi_num?`OI-${ae.oi_num}`:"N/D"}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:ae?.rows_read??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:ae?.conformes??0})}),c.jsx("td",{style:{whiteSpace:"nowrap"},children:c.jsx("strong",{children:ae?.no_conformes??0})})]},we))})]})}):c.jsx("div",{className:"small text-muted",children:"N/D"}),fe.length>0?c.jsxs("div",{className:"mT-15",children:[c.jsx("div",{className:"small text-muted",children:"Archivos rechazados"}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"table table-sm mB-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"small",children:[c.jsx("th",{style:{whiteSpace:"nowrap"},children:"OI / Archivo"}),c.jsx("th",{style:{whiteSpace:"nowrap"},children:"Motivo"})]})}),c.jsx("tbody",{children:fe.map((ae,we)=>{const Y=String(ae?.code??""),j=String(ae?.detail??"");let T="";Y&&j?T=`(${Y}) ${j}`:Y?T=`(${Y})`:T=j||"N/D";const V=ae?.oi??ae?.filename??"N/D";return c.jsxs("tr",{className:"small",children:[c.jsx("td",{style:{whiteSpace:"nowrap"},children:V}),c.jsx("td",{children:T})]},we)})})]})})]}):null,c.jsxs("div",{className:"col-12 mT-10 p-0",children:[c.jsx("div",{className:"small text-muted",children:"Totales (origen)"}),c.jsxs("div",{className:"small",children:["Registros ledos:"," ",c.jsx("strong",{children:N.totals_input?.rows_read??"N/D"}),"  Conformes:"," ",c.jsx("strong",{children:N.totals_input?.conformes??"N/D"}),"  No conformes:"," ",c.jsx("strong",{children:N.totals_input?.no_conformes??"N/D"})]})]})]}),c.jsxs("div",{className:"col-md-6 mT-10 mT-md-0",children:[c.jsx("div",{className:"small text-muted",children:"Resultado final (post-dedupe)"}),c.jsxs("div",{className:"small",children:["nicas (post-dedupe):"," ",c.jsx("strong",{children:N.series_total_dedup??"N/D"}),"  Conformes finales:"," ",c.jsx("strong",{children:N.series_conformes??"N/D"}),"  No conformes finales:"," ",c.jsx("strong",{children:N.series_no_conformes_final??"N/D"})]}),c.jsx("div",{className:"mT-10",children:c.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>M(ae=>!ae),children:Q?"Ocultar detalle tcnico":"Ver detalle tcnico"})}),Q?c.jsxs("div",{className:"mT-10",children:[c.jsx("div",{className:"small text-muted",children:"Detalle tcnico (soporte)"}),c.jsxs("div",{className:"small",children:["Registros ledos (total):"," ",c.jsx("strong",{children:N.technical?.rows_total_read??N.rows_total_read??"N/D"})," "," Duplicados eliminados:"," ",c.jsx("strong",{children:N.technical?.series_duplicates_eliminated??N.series_duplicates_eliminated??"N/D"})]})]}):null]})]})})]}):null,m.length>0&&c.jsxs("div",{className:"mT-20",children:[c.jsx("h6",{className:"c-grey-900",children:"Eventos"}),c.jsx("div",{className:"bd p-10",style:{maxHeight:240,overflow:"auto"},children:m.map((ae,we)=>{const Y=ae.message??"",j=ae.code??"",T=ae.detail??"",V=ir(Y||T||"");let pe="";return j?pe=`${j}${T?`  ${T}`:""}`:T&&Y&&(pe=T),c.jsxs("div",{className:"small",children:[al(ae.type),"  ",sl(ae.stage)," "," ",V,pe?c.jsxs("span",{className:"text-muted",children:[" (",pe,")"]}):null]},we)})})]})]})})})})}function dT(){const t=Ln();return c.jsx(c.Fragment,{children:c.jsxs(ew,{children:[c.jsx(nn,{path:"/login",element:t?.token?c.jsx(As,{to:"/home",replace:!0}):c.jsx(Nj,{})}),c.jsx(nn,{element:c.jsx(oR,{}),children:c.jsxs(nn,{element:c.jsx(mR,{}),children:[c.jsx(nn,{path:"/",element:c.jsx(As,{to:"/home",replace:!0})}),c.jsx(nn,{path:"/home",element:c.jsx(oT,{})}),c.jsx(nn,{path:"/oi",element:c.jsx(Vv,{})}),c.jsx(nn,{path:"/oi/:oiId",element:c.jsx(Vv,{})}),c.jsx(nn,{path:"/oi/list",element:c.jsx(hR,{})}),c.jsx(nn,{path:"/users",element:c.jsx(pR,{})}),c.jsx(nn,{path:"/password",element:c.jsx(gR,{})}),c.jsx(nn,{path:"/admin/permisos",element:c.jsx(bR,{})}),c.jsx(nn,{path:"/logistica/log01/excel",element:c.jsx(uT,{})}),c.jsx(nn,{path:"/oi/tools/vima-to-lista",element:c.jsx(RR,{})}),c.jsx(nn,{path:"/oi/tools/actualizacion-base",element:c.jsx(XR,{})}),c.jsx(nn,{path:"/oi/tools/consolidacion",element:c.jsx(JR,{})}),c.jsx(nn,{path:"/oi/tools/consolidacion/correlativo",element:c.jsx(nT,{})}),c.jsx(nn,{path:"/oi/tools/consolidacion/no-correlativo",element:c.jsx(lT,{})}),c.jsx(nn,{path:"/oi/tools/excel",element:c.jsx(iT,{})})]})}),c.jsx(nn,{path:"*",element:c.jsx(As,{to:t?.token?"/home":"/login",replace:!0})})]})})}const fT=new tN;i_.createRoot(document.getElementById("root")).render(c.jsx(et.StrictMode,{children:c.jsx(nN,{client:fT,children:c.jsx(Nw,{children:c.jsx(wj,{children:c.jsx(dT,{})})})})}));
